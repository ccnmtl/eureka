/******/ (function(modules) { // webpackBootstrap
/******/ 	// The module cache
/******/ 	var installedModules = {};
/******/
/******/ 	// The require function
/******/ 	function __webpack_require__(moduleId) {
/******/
/******/ 		// Check if module is in cache
/******/ 		if(installedModules[moduleId]) {
/******/ 			return installedModules[moduleId].exports;
/******/ 		}
/******/ 		// Create a new module (and put it into the cache)
/******/ 		var module = installedModules[moduleId] = {
/******/ 			i: moduleId,
/******/ 			l: false,
/******/ 			exports: {}
/******/ 		};
/******/
/******/ 		// Execute the module function
/******/ 		modules[moduleId].call(module.exports, module, module.exports, __webpack_require__);
/******/
/******/ 		// Flag the module as loaded
/******/ 		module.l = true;
/******/
/******/ 		// Return the exports of the module
/******/ 		return module.exports;
/******/ 	}
/******/
/******/
/******/ 	// expose the modules object (__webpack_modules__)
/******/ 	__webpack_require__.m = modules;
/******/
/******/ 	// expose the module cache
/******/ 	__webpack_require__.c = installedModules;
/******/
/******/ 	// define getter function for harmony exports
/******/ 	__webpack_require__.d = function(exports, name, getter) {
/******/ 		if(!__webpack_require__.o(exports, name)) {
/******/ 			Object.defineProperty(exports, name, { enumerable: true, get: getter });
/******/ 		}
/******/ 	};
/******/
/******/ 	// define __esModule on exports
/******/ 	__webpack_require__.r = function(exports) {
/******/ 		if(typeof Symbol !== 'undefined' && Symbol.toStringTag) {
/******/ 			Object.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });
/******/ 		}
/******/ 		Object.defineProperty(exports, '__esModule', { value: true });
/******/ 	};
/******/
/******/ 	// create a fake namespace object
/******/ 	// mode & 1: value is a module id, require it
/******/ 	// mode & 2: merge all properties of value into the ns
/******/ 	// mode & 4: return value when already ns object
/******/ 	// mode & 8|1: behave like require
/******/ 	__webpack_require__.t = function(value, mode) {
/******/ 		if(mode & 1) value = __webpack_require__(value);
/******/ 		if(mode & 8) return value;
/******/ 		if((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;
/******/ 		var ns = Object.create(null);
/******/ 		__webpack_require__.r(ns);
/******/ 		Object.defineProperty(ns, 'default', { enumerable: true, value: value });
/******/ 		if(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));
/******/ 		return ns;
/******/ 	};
/******/
/******/ 	// getDefaultExport function for compatibility with non-harmony modules
/******/ 	__webpack_require__.n = function(module) {
/******/ 		var getter = module && module.__esModule ?
/******/ 			function getDefault() { return module['default']; } :
/******/ 			function getModuleExports() { return module; };
/******/ 		__webpack_require__.d(getter, 'a', getter);
/******/ 		return getter;
/******/ 	};
/******/
/******/ 	// Object.prototype.hasOwnProperty.call
/******/ 	__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };
/******/
/******/ 	// __webpack_public_path__
/******/ 	__webpack_require__.p = "";
/******/
/******/
/******/ 	// Load entry module and return exports
/******/ 	return __webpack_require__(__webpack_require__.s = "./media/src/js/main.js");
/******/ })
/************************************************************************/
/******/ ({

/***/ "./media/src/js/main.js":
/*!******************************!*\
  !*** ./media/src/js/main.js ***!
  \******************************/
/*! no exports provided */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _scss_main_scss__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../scss/main.scss */ \"./media/src/scss/main.scss\");\n/* harmony import */ var _scss_main_scss__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_scss_main_scss__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var bootstrap__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! bootstrap */ \"./node_modules/bootstrap/dist/js/bootstrap.js\");\n/* harmony import */ var bootstrap__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(bootstrap__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _music_notation__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./music-notation */ \"./media/src/js/music-notation.js\");\nwindow.jQuery = window.$ = __webpack_require__(/*! jquery */ \"./node_modules/jquery/dist/jquery.js\");\n\n\n\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9tZWRpYS9zcmMvanMvbWFpbi5qcy5qcyIsInNvdXJjZXMiOlsid2VicGFjazovLy8uL21lZGlhL3NyYy9qcy9tYWluLmpzP2E1ZWYiXSwic291cmNlc0NvbnRlbnQiOlsid2luZG93LmpRdWVyeSA9IHdpbmRvdy4kID0gcmVxdWlyZSgnanF1ZXJ5Jyk7XG5cbmltcG9ydCAnLi4vc2Nzcy9tYWluLnNjc3MnO1xuaW1wb3J0ICdib290c3RyYXAnO1xuaW1wb3J0ICcuL211c2ljLW5vdGF0aW9uJztcbiJdLCJtYXBwaW5ncyI6IkFBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTsiLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./media/src/js/main.js\n");

/***/ }),

/***/ "./media/src/js/music-notation.js":
/*!****************************************!*\
  !*** ./media/src/js/music-notation.js ***!
  \****************************************/
/*! no exports provided */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var opensheetmusicdisplay__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! opensheetmusicdisplay */ \"./node_modules/opensheetmusicdisplay/build/opensheetmusicdisplay.min.js\");\n/* harmony import */ var opensheetmusicdisplay__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(opensheetmusicdisplay__WEBPACK_IMPORTED_MODULE_0__);\n\n\n// Render music notation examples\nlet mContainers = Array.from(\n    document.getElementsByClassName('music-container'));\n\nlet osmdOptions = {\n    drawingParameters: 'compacttight',\n    drawPartNames: false,\n    pageFormat: 'endless',\n    autoResize: false,\n};\n\nconst BOTTOM_MARGIN_ADJUSTMENT = 140;\nlet setOsmdHeight = (svg, height) => {\n    // Fix the height of the examples, temp fix until\n    // OpenSheetMusicDisplay fixes this issue:\n    // https://github.com/opensheetmusicdisplay/opensheetmusicdisplay/issues/788\n\n    // Adjust the height\n    svg.setAttribute('height', height);\n\n    // Adjust the viewBox\n    let viewBox = svg.getAttribute('viewBox').split(' ');\n    viewBox[3] = String(height);\n    svg.setAttribute('viewBox', viewBox.join(' '));\n};\n\nmContainers.map((el, idx) => {\n    el.id = 'music-container-' + idx;\n    let osmd = new opensheetmusicdisplay__WEBPACK_IMPORTED_MODULE_0__[\"OpenSheetMusicDisplay\"](el, osmdOptions);\n    osmd.load(el.dataset.musicxml)\n        .then(() => {\n            osmd.EngravingRules.PageBottomMargin = 0.0;\n            osmd.render();\n        })\n        .then(() => {\n            let svg = el.getElementsByTagName('svg')[0];\n            let height = (\n                Number(svg.getAttribute('height')) - BOTTOM_MARGIN_ADJUSTMENT);\n            setOsmdHeight(svg, height);\n        });\n});\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9tZWRpYS9zcmMvanMvbXVzaWMtbm90YXRpb24uanMuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9tZWRpYS9zcmMvanMvbXVzaWMtbm90YXRpb24uanM/ZTczYiJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBPcGVuU2hlZXRNdXNpY0Rpc3BsYXkgfSBmcm9tICdvcGVuc2hlZXRtdXNpY2Rpc3BsYXknO1xuXG4vLyBSZW5kZXIgbXVzaWMgbm90YXRpb24gZXhhbXBsZXNcbmxldCBtQ29udGFpbmVycyA9IEFycmF5LmZyb20oXG4gICAgZG9jdW1lbnQuZ2V0RWxlbWVudHNCeUNsYXNzTmFtZSgnbXVzaWMtY29udGFpbmVyJykpO1xuXG5sZXQgb3NtZE9wdGlvbnMgPSB7XG4gICAgZHJhd2luZ1BhcmFtZXRlcnM6ICdjb21wYWN0dGlnaHQnLFxuICAgIGRyYXdQYXJ0TmFtZXM6IGZhbHNlLFxuICAgIHBhZ2VGb3JtYXQ6ICdlbmRsZXNzJyxcbiAgICBhdXRvUmVzaXplOiBmYWxzZSxcbn07XG5cbmNvbnN0IEJPVFRPTV9NQVJHSU5fQURKVVNUTUVOVCA9IDE0MDtcbmxldCBzZXRPc21kSGVpZ2h0ID0gKHN2ZywgaGVpZ2h0KSA9PiB7XG4gICAgLy8gRml4IHRoZSBoZWlnaHQgb2YgdGhlIGV4YW1wbGVzLCB0ZW1wIGZpeCB1bnRpbFxuICAgIC8vIE9wZW5TaGVldE11c2ljRGlzcGxheSBmaXhlcyB0aGlzIGlzc3VlOlxuICAgIC8vIGh0dHBzOi8vZ2l0aHViLmNvbS9vcGVuc2hlZXRtdXNpY2Rpc3BsYXkvb3BlbnNoZWV0bXVzaWNkaXNwbGF5L2lzc3Vlcy83ODhcblxuICAgIC8vIEFkanVzdCB0aGUgaGVpZ2h0XG4gICAgc3ZnLnNldEF0dHJpYnV0ZSgnaGVpZ2h0JywgaGVpZ2h0KTtcblxuICAgIC8vIEFkanVzdCB0aGUgdmlld0JveFxuICAgIGxldCB2aWV3Qm94ID0gc3ZnLmdldEF0dHJpYnV0ZSgndmlld0JveCcpLnNwbGl0KCcgJyk7XG4gICAgdmlld0JveFszXSA9IFN0cmluZyhoZWlnaHQpO1xuICAgIHN2Zy5zZXRBdHRyaWJ1dGUoJ3ZpZXdCb3gnLCB2aWV3Qm94LmpvaW4oJyAnKSk7XG59O1xuXG5tQ29udGFpbmVycy5tYXAoKGVsLCBpZHgpID0+IHtcbiAgICBlbC5pZCA9ICdtdXNpYy1jb250YWluZXItJyArIGlkeDtcbiAgICBsZXQgb3NtZCA9IG5ldyBPcGVuU2hlZXRNdXNpY0Rpc3BsYXkoZWwsIG9zbWRPcHRpb25zKTtcbiAgICBvc21kLmxvYWQoZWwuZGF0YXNldC5tdXNpY3htbClcbiAgICAgICAgLnRoZW4oKCkgPT4ge1xuICAgICAgICAgICAgb3NtZC5FbmdyYXZpbmdSdWxlcy5QYWdlQm90dG9tTWFyZ2luID0gMC4wO1xuICAgICAgICAgICAgb3NtZC5yZW5kZXIoKTtcbiAgICAgICAgfSlcbiAgICAgICAgLnRoZW4oKCkgPT4ge1xuICAgICAgICAgICAgbGV0IHN2ZyA9IGVsLmdldEVsZW1lbnRzQnlUYWdOYW1lKCdzdmcnKVswXTtcbiAgICAgICAgICAgIGxldCBoZWlnaHQgPSAoXG4gICAgICAgICAgICAgICAgTnVtYmVyKHN2Zy5nZXRBdHRyaWJ1dGUoJ2hlaWdodCcpKSAtIEJPVFRPTV9NQVJHSU5fQURKVVNUTUVOVCk7XG4gICAgICAgICAgICBzZXRPc21kSGVpZ2h0KHN2ZywgaGVpZ2h0KTtcbiAgICAgICAgfSk7XG59KTtcblxuIl0sIm1hcHBpbmdzIjoiQUFBQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOyIsInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./media/src/js/music-notation.js\n");

/***/ }),

/***/ "./media/src/scss/main.scss":
/*!**********************************!*\
  !*** ./media/src/scss/main.scss ***!
  \**********************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

eval("// extracted by mini-css-extract-plugin//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9tZWRpYS9zcmMvc2Nzcy9tYWluLnNjc3MuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9tZWRpYS9zcmMvc2Nzcy9tYWluLnNjc3M/OTY1ZCJdLCJzb3VyY2VzQ29udGVudCI6WyIvLyBleHRyYWN0ZWQgYnkgbWluaS1jc3MtZXh0cmFjdC1wbHVnaW4iXSwibWFwcGluZ3MiOiJBQUFBIiwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./media/src/scss/main.scss\n");

/***/ }),

/***/ "./node_modules/bootstrap/dist/js/bootstrap.js":
/*!*****************************************************!*\
  !*** ./node_modules/bootstrap/dist/js/bootstrap.js ***!
  \*****************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

eval("/*!\n  * Bootstrap v4.5.0 (https://getbootstrap.com/)\n  * Copyright 2011-2020 The Bootstrap Authors (https://github.com/twbs/bootstrap/graphs/contributors)\n  * Licensed under MIT (https://github.com/twbs/bootstrap/blob/master/LICENSE)\n  */\n(function (global, factory) {\n   true ? factory(exports, __webpack_require__(/*! jquery */ \"./node_modules/jquery/dist/jquery.js\"), __webpack_require__(/*! popper.js */ \"./node_modules/popper.js/dist/esm/popper.js\")) :\n  undefined;\n}(this, (function (exports, $, Popper) { 'use strict';\n\n  $ = $ && Object.prototype.hasOwnProperty.call($, 'default') ? $['default'] : $;\n  Popper = Popper && Object.prototype.hasOwnProperty.call(Popper, 'default') ? Popper['default'] : Popper;\n\n  function _defineProperties(target, props) {\n    for (var i = 0; i < props.length; i++) {\n      var descriptor = props[i];\n      descriptor.enumerable = descriptor.enumerable || false;\n      descriptor.configurable = true;\n      if (\"value\" in descriptor) descriptor.writable = true;\n      Object.defineProperty(target, descriptor.key, descriptor);\n    }\n  }\n\n  function _createClass(Constructor, protoProps, staticProps) {\n    if (protoProps) _defineProperties(Constructor.prototype, protoProps);\n    if (staticProps) _defineProperties(Constructor, staticProps);\n    return Constructor;\n  }\n\n  function _defineProperty(obj, key, value) {\n    if (key in obj) {\n      Object.defineProperty(obj, key, {\n        value: value,\n        enumerable: true,\n        configurable: true,\n        writable: true\n      });\n    } else {\n      obj[key] = value;\n    }\n\n    return obj;\n  }\n\n  function ownKeys(object, enumerableOnly) {\n    var keys = Object.keys(object);\n\n    if (Object.getOwnPropertySymbols) {\n      var symbols = Object.getOwnPropertySymbols(object);\n      if (enumerableOnly) symbols = symbols.filter(function (sym) {\n        return Object.getOwnPropertyDescriptor(object, sym).enumerable;\n      });\n      keys.push.apply(keys, symbols);\n    }\n\n    return keys;\n  }\n\n  function _objectSpread2(target) {\n    for (var i = 1; i < arguments.length; i++) {\n      var source = arguments[i] != null ? arguments[i] : {};\n\n      if (i % 2) {\n        ownKeys(Object(source), true).forEach(function (key) {\n          _defineProperty(target, key, source[key]);\n        });\n      } else if (Object.getOwnPropertyDescriptors) {\n        Object.defineProperties(target, Object.getOwnPropertyDescriptors(source));\n      } else {\n        ownKeys(Object(source)).forEach(function (key) {\n          Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key));\n        });\n      }\n    }\n\n    return target;\n  }\n\n  function _inheritsLoose(subClass, superClass) {\n    subClass.prototype = Object.create(superClass.prototype);\n    subClass.prototype.constructor = subClass;\n    subClass.__proto__ = superClass;\n  }\n\n  /**\n   * --------------------------------------------------------------------------\n   * Bootstrap (v4.5.0): util.js\n   * Licensed under MIT (https://github.com/twbs/bootstrap/blob/master/LICENSE)\n   * --------------------------------------------------------------------------\n   */\n  /**\n   * ------------------------------------------------------------------------\n   * Private TransitionEnd Helpers\n   * ------------------------------------------------------------------------\n   */\n\n  var TRANSITION_END = 'transitionend';\n  var MAX_UID = 1000000;\n  var MILLISECONDS_MULTIPLIER = 1000; // Shoutout AngusCroll (https://goo.gl/pxwQGp)\n\n  function toType(obj) {\n    if (obj === null || typeof obj === 'undefined') {\n      return \"\" + obj;\n    }\n\n    return {}.toString.call(obj).match(/\\s([a-z]+)/i)[1].toLowerCase();\n  }\n\n  function getSpecialTransitionEndEvent() {\n    return {\n      bindType: TRANSITION_END,\n      delegateType: TRANSITION_END,\n      handle: function handle(event) {\n        if ($(event.target).is(this)) {\n          return event.handleObj.handler.apply(this, arguments); // eslint-disable-line prefer-rest-params\n        }\n\n        return undefined;\n      }\n    };\n  }\n\n  function transitionEndEmulator(duration) {\n    var _this = this;\n\n    var called = false;\n    $(this).one(Util.TRANSITION_END, function () {\n      called = true;\n    });\n    setTimeout(function () {\n      if (!called) {\n        Util.triggerTransitionEnd(_this);\n      }\n    }, duration);\n    return this;\n  }\n\n  function setTransitionEndSupport() {\n    $.fn.emulateTransitionEnd = transitionEndEmulator;\n    $.event.special[Util.TRANSITION_END] = getSpecialTransitionEndEvent();\n  }\n  /**\n   * --------------------------------------------------------------------------\n   * Public Util Api\n   * --------------------------------------------------------------------------\n   */\n\n\n  var Util = {\n    TRANSITION_END: 'bsTransitionEnd',\n    getUID: function getUID(prefix) {\n      do {\n        // eslint-disable-next-line no-bitwise\n        prefix += ~~(Math.random() * MAX_UID); // \"~~\" acts like a faster Math.floor() here\n      } while (document.getElementById(prefix));\n\n      return prefix;\n    },\n    getSelectorFromElement: function getSelectorFromElement(element) {\n      var selector = element.getAttribute('data-target');\n\n      if (!selector || selector === '#') {\n        var hrefAttr = element.getAttribute('href');\n        selector = hrefAttr && hrefAttr !== '#' ? hrefAttr.trim() : '';\n      }\n\n      try {\n        return document.querySelector(selector) ? selector : null;\n      } catch (err) {\n        return null;\n      }\n    },\n    getTransitionDurationFromElement: function getTransitionDurationFromElement(element) {\n      if (!element) {\n        return 0;\n      } // Get transition-duration of the element\n\n\n      var transitionDuration = $(element).css('transition-duration');\n      var transitionDelay = $(element).css('transition-delay');\n      var floatTransitionDuration = parseFloat(transitionDuration);\n      var floatTransitionDelay = parseFloat(transitionDelay); // Return 0 if element or transition duration is not found\n\n      if (!floatTransitionDuration && !floatTransitionDelay) {\n        return 0;\n      } // If multiple durations are defined, take the first\n\n\n      transitionDuration = transitionDuration.split(',')[0];\n      transitionDelay = transitionDelay.split(',')[0];\n      return (parseFloat(transitionDuration) + parseFloat(transitionDelay)) * MILLISECONDS_MULTIPLIER;\n    },\n    reflow: function reflow(element) {\n      return element.offsetHeight;\n    },\n    triggerTransitionEnd: function triggerTransitionEnd(element) {\n      $(element).trigger(TRANSITION_END);\n    },\n    // TODO: Remove in v5\n    supportsTransitionEnd: function supportsTransitionEnd() {\n      return Boolean(TRANSITION_END);\n    },\n    isElement: function isElement(obj) {\n      return (obj[0] || obj).nodeType;\n    },\n    typeCheckConfig: function typeCheckConfig(componentName, config, configTypes) {\n      for (var property in configTypes) {\n        if (Object.prototype.hasOwnProperty.call(configTypes, property)) {\n          var expectedTypes = configTypes[property];\n          var value = config[property];\n          var valueType = value && Util.isElement(value) ? 'element' : toType(value);\n\n          if (!new RegExp(expectedTypes).test(valueType)) {\n            throw new Error(componentName.toUpperCase() + \": \" + (\"Option \\\"\" + property + \"\\\" provided type \\\"\" + valueType + \"\\\" \") + (\"but expected type \\\"\" + expectedTypes + \"\\\".\"));\n          }\n        }\n      }\n    },\n    findShadowRoot: function findShadowRoot(element) {\n      if (!document.documentElement.attachShadow) {\n        return null;\n      } // Can find the shadow root otherwise it'll return the document\n\n\n      if (typeof element.getRootNode === 'function') {\n        var root = element.getRootNode();\n        return root instanceof ShadowRoot ? root : null;\n      }\n\n      if (element instanceof ShadowRoot) {\n        return element;\n      } // when we don't find a shadow root\n\n\n      if (!element.parentNode) {\n        return null;\n      }\n\n      return Util.findShadowRoot(element.parentNode);\n    },\n    jQueryDetection: function jQueryDetection() {\n      if (typeof $ === 'undefined') {\n        throw new TypeError('Bootstrap\\'s JavaScript requires jQuery. jQuery must be included before Bootstrap\\'s JavaScript.');\n      }\n\n      var version = $.fn.jquery.split(' ')[0].split('.');\n      var minMajor = 1;\n      var ltMajor = 2;\n      var minMinor = 9;\n      var minPatch = 1;\n      var maxMajor = 4;\n\n      if (version[0] < ltMajor && version[1] < minMinor || version[0] === minMajor && version[1] === minMinor && version[2] < minPatch || version[0] >= maxMajor) {\n        throw new Error('Bootstrap\\'s JavaScript requires at least jQuery v1.9.1 but less than v4.0.0');\n      }\n    }\n  };\n  Util.jQueryDetection();\n  setTransitionEndSupport();\n\n  /**\n   * ------------------------------------------------------------------------\n   * Constants\n   * ------------------------------------------------------------------------\n   */\n\n  var NAME = 'alert';\n  var VERSION = '4.5.0';\n  var DATA_KEY = 'bs.alert';\n  var EVENT_KEY = \".\" + DATA_KEY;\n  var DATA_API_KEY = '.data-api';\n  var JQUERY_NO_CONFLICT = $.fn[NAME];\n  var SELECTOR_DISMISS = '[data-dismiss=\"alert\"]';\n  var EVENT_CLOSE = \"close\" + EVENT_KEY;\n  var EVENT_CLOSED = \"closed\" + EVENT_KEY;\n  var EVENT_CLICK_DATA_API = \"click\" + EVENT_KEY + DATA_API_KEY;\n  var CLASS_NAME_ALERT = 'alert';\n  var CLASS_NAME_FADE = 'fade';\n  var CLASS_NAME_SHOW = 'show';\n  /**\n   * ------------------------------------------------------------------------\n   * Class Definition\n   * ------------------------------------------------------------------------\n   */\n\n  var Alert = /*#__PURE__*/function () {\n    function Alert(element) {\n      this._element = element;\n    } // Getters\n\n\n    var _proto = Alert.prototype;\n\n    // Public\n    _proto.close = function close(element) {\n      var rootElement = this._element;\n\n      if (element) {\n        rootElement = this._getRootElement(element);\n      }\n\n      var customEvent = this._triggerCloseEvent(rootElement);\n\n      if (customEvent.isDefaultPrevented()) {\n        return;\n      }\n\n      this._removeElement(rootElement);\n    };\n\n    _proto.dispose = function dispose() {\n      $.removeData(this._element, DATA_KEY);\n      this._element = null;\n    } // Private\n    ;\n\n    _proto._getRootElement = function _getRootElement(element) {\n      var selector = Util.getSelectorFromElement(element);\n      var parent = false;\n\n      if (selector) {\n        parent = document.querySelector(selector);\n      }\n\n      if (!parent) {\n        parent = $(element).closest(\".\" + CLASS_NAME_ALERT)[0];\n      }\n\n      return parent;\n    };\n\n    _proto._triggerCloseEvent = function _triggerCloseEvent(element) {\n      var closeEvent = $.Event(EVENT_CLOSE);\n      $(element).trigger(closeEvent);\n      return closeEvent;\n    };\n\n    _proto._removeElement = function _removeElement(element) {\n      var _this = this;\n\n      $(element).removeClass(CLASS_NAME_SHOW);\n\n      if (!$(element).hasClass(CLASS_NAME_FADE)) {\n        this._destroyElement(element);\n\n        return;\n      }\n\n      var transitionDuration = Util.getTransitionDurationFromElement(element);\n      $(element).one(Util.TRANSITION_END, function (event) {\n        return _this._destroyElement(element, event);\n      }).emulateTransitionEnd(transitionDuration);\n    };\n\n    _proto._destroyElement = function _destroyElement(element) {\n      $(element).detach().trigger(EVENT_CLOSED).remove();\n    } // Static\n    ;\n\n    Alert._jQueryInterface = function _jQueryInterface(config) {\n      return this.each(function () {\n        var $element = $(this);\n        var data = $element.data(DATA_KEY);\n\n        if (!data) {\n          data = new Alert(this);\n          $element.data(DATA_KEY, data);\n        }\n\n        if (config === 'close') {\n          data[config](this);\n        }\n      });\n    };\n\n    Alert._handleDismiss = function _handleDismiss(alertInstance) {\n      return function (event) {\n        if (event) {\n          event.preventDefault();\n        }\n\n        alertInstance.close(this);\n      };\n    };\n\n    _createClass(Alert, null, [{\n      key: \"VERSION\",\n      get: function get() {\n        return VERSION;\n      }\n    }]);\n\n    return Alert;\n  }();\n  /**\n   * ------------------------------------------------------------------------\n   * Data Api implementation\n   * ------------------------------------------------------------------------\n   */\n\n\n  $(document).on(EVENT_CLICK_DATA_API, SELECTOR_DISMISS, Alert._handleDismiss(new Alert()));\n  /**\n   * ------------------------------------------------------------------------\n   * jQuery\n   * ------------------------------------------------------------------------\n   */\n\n  $.fn[NAME] = Alert._jQueryInterface;\n  $.fn[NAME].Constructor = Alert;\n\n  $.fn[NAME].noConflict = function () {\n    $.fn[NAME] = JQUERY_NO_CONFLICT;\n    return Alert._jQueryInterface;\n  };\n\n  /**\n   * ------------------------------------------------------------------------\n   * Constants\n   * ------------------------------------------------------------------------\n   */\n\n  var NAME$1 = 'button';\n  var VERSION$1 = '4.5.0';\n  var DATA_KEY$1 = 'bs.button';\n  var EVENT_KEY$1 = \".\" + DATA_KEY$1;\n  var DATA_API_KEY$1 = '.data-api';\n  var JQUERY_NO_CONFLICT$1 = $.fn[NAME$1];\n  var CLASS_NAME_ACTIVE = 'active';\n  var CLASS_NAME_BUTTON = 'btn';\n  var CLASS_NAME_FOCUS = 'focus';\n  var SELECTOR_DATA_TOGGLE_CARROT = '[data-toggle^=\"button\"]';\n  var SELECTOR_DATA_TOGGLES = '[data-toggle=\"buttons\"]';\n  var SELECTOR_DATA_TOGGLE = '[data-toggle=\"button\"]';\n  var SELECTOR_DATA_TOGGLES_BUTTONS = '[data-toggle=\"buttons\"] .btn';\n  var SELECTOR_INPUT = 'input:not([type=\"hidden\"])';\n  var SELECTOR_ACTIVE = '.active';\n  var SELECTOR_BUTTON = '.btn';\n  var EVENT_CLICK_DATA_API$1 = \"click\" + EVENT_KEY$1 + DATA_API_KEY$1;\n  var EVENT_FOCUS_BLUR_DATA_API = \"focus\" + EVENT_KEY$1 + DATA_API_KEY$1 + \" \" + (\"blur\" + EVENT_KEY$1 + DATA_API_KEY$1);\n  var EVENT_LOAD_DATA_API = \"load\" + EVENT_KEY$1 + DATA_API_KEY$1;\n  /**\n   * ------------------------------------------------------------------------\n   * Class Definition\n   * ------------------------------------------------------------------------\n   */\n\n  var Button = /*#__PURE__*/function () {\n    function Button(element) {\n      this._element = element;\n    } // Getters\n\n\n    var _proto = Button.prototype;\n\n    // Public\n    _proto.toggle = function toggle() {\n      var triggerChangeEvent = true;\n      var addAriaPressed = true;\n      var rootElement = $(this._element).closest(SELECTOR_DATA_TOGGLES)[0];\n\n      if (rootElement) {\n        var input = this._element.querySelector(SELECTOR_INPUT);\n\n        if (input) {\n          if (input.type === 'radio') {\n            if (input.checked && this._element.classList.contains(CLASS_NAME_ACTIVE)) {\n              triggerChangeEvent = false;\n            } else {\n              var activeElement = rootElement.querySelector(SELECTOR_ACTIVE);\n\n              if (activeElement) {\n                $(activeElement).removeClass(CLASS_NAME_ACTIVE);\n              }\n            }\n          }\n\n          if (triggerChangeEvent) {\n            // if it's not a radio button or checkbox don't add a pointless/invalid checked property to the input\n            if (input.type === 'checkbox' || input.type === 'radio') {\n              input.checked = !this._element.classList.contains(CLASS_NAME_ACTIVE);\n            }\n\n            $(input).trigger('change');\n          }\n\n          input.focus();\n          addAriaPressed = false;\n        }\n      }\n\n      if (!(this._element.hasAttribute('disabled') || this._element.classList.contains('disabled'))) {\n        if (addAriaPressed) {\n          this._element.setAttribute('aria-pressed', !this._element.classList.contains(CLASS_NAME_ACTIVE));\n        }\n\n        if (triggerChangeEvent) {\n          $(this._element).toggleClass(CLASS_NAME_ACTIVE);\n        }\n      }\n    };\n\n    _proto.dispose = function dispose() {\n      $.removeData(this._element, DATA_KEY$1);\n      this._element = null;\n    } // Static\n    ;\n\n    Button._jQueryInterface = function _jQueryInterface(config) {\n      return this.each(function () {\n        var data = $(this).data(DATA_KEY$1);\n\n        if (!data) {\n          data = new Button(this);\n          $(this).data(DATA_KEY$1, data);\n        }\n\n        if (config === 'toggle') {\n          data[config]();\n        }\n      });\n    };\n\n    _createClass(Button, null, [{\n      key: \"VERSION\",\n      get: function get() {\n        return VERSION$1;\n      }\n    }]);\n\n    return Button;\n  }();\n  /**\n   * ------------------------------------------------------------------------\n   * Data Api implementation\n   * ------------------------------------------------------------------------\n   */\n\n\n  $(document).on(EVENT_CLICK_DATA_API$1, SELECTOR_DATA_TOGGLE_CARROT, function (event) {\n    var button = event.target;\n    var initialButton = button;\n\n    if (!$(button).hasClass(CLASS_NAME_BUTTON)) {\n      button = $(button).closest(SELECTOR_BUTTON)[0];\n    }\n\n    if (!button || button.hasAttribute('disabled') || button.classList.contains('disabled')) {\n      event.preventDefault(); // work around Firefox bug #1540995\n    } else {\n      var inputBtn = button.querySelector(SELECTOR_INPUT);\n\n      if (inputBtn && (inputBtn.hasAttribute('disabled') || inputBtn.classList.contains('disabled'))) {\n        event.preventDefault(); // work around Firefox bug #1540995\n\n        return;\n      }\n\n      if (initialButton.tagName === 'LABEL' && inputBtn && inputBtn.type === 'checkbox') {\n        event.preventDefault(); // work around event sent to label and input\n      }\n\n      Button._jQueryInterface.call($(button), 'toggle');\n    }\n  }).on(EVENT_FOCUS_BLUR_DATA_API, SELECTOR_DATA_TOGGLE_CARROT, function (event) {\n    var button = $(event.target).closest(SELECTOR_BUTTON)[0];\n    $(button).toggleClass(CLASS_NAME_FOCUS, /^focus(in)?$/.test(event.type));\n  });\n  $(window).on(EVENT_LOAD_DATA_API, function () {\n    // ensure correct active class is set to match the controls' actual values/states\n    // find all checkboxes/readio buttons inside data-toggle groups\n    var buttons = [].slice.call(document.querySelectorAll(SELECTOR_DATA_TOGGLES_BUTTONS));\n\n    for (var i = 0, len = buttons.length; i < len; i++) {\n      var button = buttons[i];\n      var input = button.querySelector(SELECTOR_INPUT);\n\n      if (input.checked || input.hasAttribute('checked')) {\n        button.classList.add(CLASS_NAME_ACTIVE);\n      } else {\n        button.classList.remove(CLASS_NAME_ACTIVE);\n      }\n    } // find all button toggles\n\n\n    buttons = [].slice.call(document.querySelectorAll(SELECTOR_DATA_TOGGLE));\n\n    for (var _i = 0, _len = buttons.length; _i < _len; _i++) {\n      var _button = buttons[_i];\n\n      if (_button.getAttribute('aria-pressed') === 'true') {\n        _button.classList.add(CLASS_NAME_ACTIVE);\n      } else {\n        _button.classList.remove(CLASS_NAME_ACTIVE);\n      }\n    }\n  });\n  /**\n   * ------------------------------------------------------------------------\n   * jQuery\n   * ------------------------------------------------------------------------\n   */\n\n  $.fn[NAME$1] = Button._jQueryInterface;\n  $.fn[NAME$1].Constructor = Button;\n\n  $.fn[NAME$1].noConflict = function () {\n    $.fn[NAME$1] = JQUERY_NO_CONFLICT$1;\n    return Button._jQueryInterface;\n  };\n\n  /**\n   * ------------------------------------------------------------------------\n   * Constants\n   * ------------------------------------------------------------------------\n   */\n\n  var NAME$2 = 'carousel';\n  var VERSION$2 = '4.5.0';\n  var DATA_KEY$2 = 'bs.carousel';\n  var EVENT_KEY$2 = \".\" + DATA_KEY$2;\n  var DATA_API_KEY$2 = '.data-api';\n  var JQUERY_NO_CONFLICT$2 = $.fn[NAME$2];\n  var ARROW_LEFT_KEYCODE = 37; // KeyboardEvent.which value for left arrow key\n\n  var ARROW_RIGHT_KEYCODE = 39; // KeyboardEvent.which value for right arrow key\n\n  var TOUCHEVENT_COMPAT_WAIT = 500; // Time for mouse compat events to fire after touch\n\n  var SWIPE_THRESHOLD = 40;\n  var Default = {\n    interval: 5000,\n    keyboard: true,\n    slide: false,\n    pause: 'hover',\n    wrap: true,\n    touch: true\n  };\n  var DefaultType = {\n    interval: '(number|boolean)',\n    keyboard: 'boolean',\n    slide: '(boolean|string)',\n    pause: '(string|boolean)',\n    wrap: 'boolean',\n    touch: 'boolean'\n  };\n  var DIRECTION_NEXT = 'next';\n  var DIRECTION_PREV = 'prev';\n  var DIRECTION_LEFT = 'left';\n  var DIRECTION_RIGHT = 'right';\n  var EVENT_SLIDE = \"slide\" + EVENT_KEY$2;\n  var EVENT_SLID = \"slid\" + EVENT_KEY$2;\n  var EVENT_KEYDOWN = \"keydown\" + EVENT_KEY$2;\n  var EVENT_MOUSEENTER = \"mouseenter\" + EVENT_KEY$2;\n  var EVENT_MOUSELEAVE = \"mouseleave\" + EVENT_KEY$2;\n  var EVENT_TOUCHSTART = \"touchstart\" + EVENT_KEY$2;\n  var EVENT_TOUCHMOVE = \"touchmove\" + EVENT_KEY$2;\n  var EVENT_TOUCHEND = \"touchend\" + EVENT_KEY$2;\n  var EVENT_POINTERDOWN = \"pointerdown\" + EVENT_KEY$2;\n  var EVENT_POINTERUP = \"pointerup\" + EVENT_KEY$2;\n  var EVENT_DRAG_START = \"dragstart\" + EVENT_KEY$2;\n  var EVENT_LOAD_DATA_API$1 = \"load\" + EVENT_KEY$2 + DATA_API_KEY$2;\n  var EVENT_CLICK_DATA_API$2 = \"click\" + EVENT_KEY$2 + DATA_API_KEY$2;\n  var CLASS_NAME_CAROUSEL = 'carousel';\n  var CLASS_NAME_ACTIVE$1 = 'active';\n  var CLASS_NAME_SLIDE = 'slide';\n  var CLASS_NAME_RIGHT = 'carousel-item-right';\n  var CLASS_NAME_LEFT = 'carousel-item-left';\n  var CLASS_NAME_NEXT = 'carousel-item-next';\n  var CLASS_NAME_PREV = 'carousel-item-prev';\n  var CLASS_NAME_POINTER_EVENT = 'pointer-event';\n  var SELECTOR_ACTIVE$1 = '.active';\n  var SELECTOR_ACTIVE_ITEM = '.active.carousel-item';\n  var SELECTOR_ITEM = '.carousel-item';\n  var SELECTOR_ITEM_IMG = '.carousel-item img';\n  var SELECTOR_NEXT_PREV = '.carousel-item-next, .carousel-item-prev';\n  var SELECTOR_INDICATORS = '.carousel-indicators';\n  var SELECTOR_DATA_SLIDE = '[data-slide], [data-slide-to]';\n  var SELECTOR_DATA_RIDE = '[data-ride=\"carousel\"]';\n  var PointerType = {\n    TOUCH: 'touch',\n    PEN: 'pen'\n  };\n  /**\n   * ------------------------------------------------------------------------\n   * Class Definition\n   * ------------------------------------------------------------------------\n   */\n\n  var Carousel = /*#__PURE__*/function () {\n    function Carousel(element, config) {\n      this._items = null;\n      this._interval = null;\n      this._activeElement = null;\n      this._isPaused = false;\n      this._isSliding = false;\n      this.touchTimeout = null;\n      this.touchStartX = 0;\n      this.touchDeltaX = 0;\n      this._config = this._getConfig(config);\n      this._element = element;\n      this._indicatorsElement = this._element.querySelector(SELECTOR_INDICATORS);\n      this._touchSupported = 'ontouchstart' in document.documentElement || navigator.maxTouchPoints > 0;\n      this._pointerEvent = Boolean(window.PointerEvent || window.MSPointerEvent);\n\n      this._addEventListeners();\n    } // Getters\n\n\n    var _proto = Carousel.prototype;\n\n    // Public\n    _proto.next = function next() {\n      if (!this._isSliding) {\n        this._slide(DIRECTION_NEXT);\n      }\n    };\n\n    _proto.nextWhenVisible = function nextWhenVisible() {\n      // Don't call next when the page isn't visible\n      // or the carousel or its parent isn't visible\n      if (!document.hidden && $(this._element).is(':visible') && $(this._element).css('visibility') !== 'hidden') {\n        this.next();\n      }\n    };\n\n    _proto.prev = function prev() {\n      if (!this._isSliding) {\n        this._slide(DIRECTION_PREV);\n      }\n    };\n\n    _proto.pause = function pause(event) {\n      if (!event) {\n        this._isPaused = true;\n      }\n\n      if (this._element.querySelector(SELECTOR_NEXT_PREV)) {\n        Util.triggerTransitionEnd(this._element);\n        this.cycle(true);\n      }\n\n      clearInterval(this._interval);\n      this._interval = null;\n    };\n\n    _proto.cycle = function cycle(event) {\n      if (!event) {\n        this._isPaused = false;\n      }\n\n      if (this._interval) {\n        clearInterval(this._interval);\n        this._interval = null;\n      }\n\n      if (this._config.interval && !this._isPaused) {\n        this._interval = setInterval((document.visibilityState ? this.nextWhenVisible : this.next).bind(this), this._config.interval);\n      }\n    };\n\n    _proto.to = function to(index) {\n      var _this = this;\n\n      this._activeElement = this._element.querySelector(SELECTOR_ACTIVE_ITEM);\n\n      var activeIndex = this._getItemIndex(this._activeElement);\n\n      if (index > this._items.length - 1 || index < 0) {\n        return;\n      }\n\n      if (this._isSliding) {\n        $(this._element).one(EVENT_SLID, function () {\n          return _this.to(index);\n        });\n        return;\n      }\n\n      if (activeIndex === index) {\n        this.pause();\n        this.cycle();\n        return;\n      }\n\n      var direction = index > activeIndex ? DIRECTION_NEXT : DIRECTION_PREV;\n\n      this._slide(direction, this._items[index]);\n    };\n\n    _proto.dispose = function dispose() {\n      $(this._element).off(EVENT_KEY$2);\n      $.removeData(this._element, DATA_KEY$2);\n      this._items = null;\n      this._config = null;\n      this._element = null;\n      this._interval = null;\n      this._isPaused = null;\n      this._isSliding = null;\n      this._activeElement = null;\n      this._indicatorsElement = null;\n    } // Private\n    ;\n\n    _proto._getConfig = function _getConfig(config) {\n      config = _objectSpread2(_objectSpread2({}, Default), config);\n      Util.typeCheckConfig(NAME$2, config, DefaultType);\n      return config;\n    };\n\n    _proto._handleSwipe = function _handleSwipe() {\n      var absDeltax = Math.abs(this.touchDeltaX);\n\n      if (absDeltax <= SWIPE_THRESHOLD) {\n        return;\n      }\n\n      var direction = absDeltax / this.touchDeltaX;\n      this.touchDeltaX = 0; // swipe left\n\n      if (direction > 0) {\n        this.prev();\n      } // swipe right\n\n\n      if (direction < 0) {\n        this.next();\n      }\n    };\n\n    _proto._addEventListeners = function _addEventListeners() {\n      var _this2 = this;\n\n      if (this._config.keyboard) {\n        $(this._element).on(EVENT_KEYDOWN, function (event) {\n          return _this2._keydown(event);\n        });\n      }\n\n      if (this._config.pause === 'hover') {\n        $(this._element).on(EVENT_MOUSEENTER, function (event) {\n          return _this2.pause(event);\n        }).on(EVENT_MOUSELEAVE, function (event) {\n          return _this2.cycle(event);\n        });\n      }\n\n      if (this._config.touch) {\n        this._addTouchEventListeners();\n      }\n    };\n\n    _proto._addTouchEventListeners = function _addTouchEventListeners() {\n      var _this3 = this;\n\n      if (!this._touchSupported) {\n        return;\n      }\n\n      var start = function start(event) {\n        if (_this3._pointerEvent && PointerType[event.originalEvent.pointerType.toUpperCase()]) {\n          _this3.touchStartX = event.originalEvent.clientX;\n        } else if (!_this3._pointerEvent) {\n          _this3.touchStartX = event.originalEvent.touches[0].clientX;\n        }\n      };\n\n      var move = function move(event) {\n        // ensure swiping with one touch and not pinching\n        if (event.originalEvent.touches && event.originalEvent.touches.length > 1) {\n          _this3.touchDeltaX = 0;\n        } else {\n          _this3.touchDeltaX = event.originalEvent.touches[0].clientX - _this3.touchStartX;\n        }\n      };\n\n      var end = function end(event) {\n        if (_this3._pointerEvent && PointerType[event.originalEvent.pointerType.toUpperCase()]) {\n          _this3.touchDeltaX = event.originalEvent.clientX - _this3.touchStartX;\n        }\n\n        _this3._handleSwipe();\n\n        if (_this3._config.pause === 'hover') {\n          // If it's a touch-enabled device, mouseenter/leave are fired as\n          // part of the mouse compatibility events on first tap - the carousel\n          // would stop cycling until user tapped out of it;\n          // here, we listen for touchend, explicitly pause the carousel\n          // (as if it's the second time we tap on it, mouseenter compat event\n          // is NOT fired) and after a timeout (to allow for mouse compatibility\n          // events to fire) we explicitly restart cycling\n          _this3.pause();\n\n          if (_this3.touchTimeout) {\n            clearTimeout(_this3.touchTimeout);\n          }\n\n          _this3.touchTimeout = setTimeout(function (event) {\n            return _this3.cycle(event);\n          }, TOUCHEVENT_COMPAT_WAIT + _this3._config.interval);\n        }\n      };\n\n      $(this._element.querySelectorAll(SELECTOR_ITEM_IMG)).on(EVENT_DRAG_START, function (e) {\n        return e.preventDefault();\n      });\n\n      if (this._pointerEvent) {\n        $(this._element).on(EVENT_POINTERDOWN, function (event) {\n          return start(event);\n        });\n        $(this._element).on(EVENT_POINTERUP, function (event) {\n          return end(event);\n        });\n\n        this._element.classList.add(CLASS_NAME_POINTER_EVENT);\n      } else {\n        $(this._element).on(EVENT_TOUCHSTART, function (event) {\n          return start(event);\n        });\n        $(this._element).on(EVENT_TOUCHMOVE, function (event) {\n          return move(event);\n        });\n        $(this._element).on(EVENT_TOUCHEND, function (event) {\n          return end(event);\n        });\n      }\n    };\n\n    _proto._keydown = function _keydown(event) {\n      if (/input|textarea/i.test(event.target.tagName)) {\n        return;\n      }\n\n      switch (event.which) {\n        case ARROW_LEFT_KEYCODE:\n          event.preventDefault();\n          this.prev();\n          break;\n\n        case ARROW_RIGHT_KEYCODE:\n          event.preventDefault();\n          this.next();\n          break;\n      }\n    };\n\n    _proto._getItemIndex = function _getItemIndex(element) {\n      this._items = element && element.parentNode ? [].slice.call(element.parentNode.querySelectorAll(SELECTOR_ITEM)) : [];\n      return this._items.indexOf(element);\n    };\n\n    _proto._getItemByDirection = function _getItemByDirection(direction, activeElement) {\n      var isNextDirection = direction === DIRECTION_NEXT;\n      var isPrevDirection = direction === DIRECTION_PREV;\n\n      var activeIndex = this._getItemIndex(activeElement);\n\n      var lastItemIndex = this._items.length - 1;\n      var isGoingToWrap = isPrevDirection && activeIndex === 0 || isNextDirection && activeIndex === lastItemIndex;\n\n      if (isGoingToWrap && !this._config.wrap) {\n        return activeElement;\n      }\n\n      var delta = direction === DIRECTION_PREV ? -1 : 1;\n      var itemIndex = (activeIndex + delta) % this._items.length;\n      return itemIndex === -1 ? this._items[this._items.length - 1] : this._items[itemIndex];\n    };\n\n    _proto._triggerSlideEvent = function _triggerSlideEvent(relatedTarget, eventDirectionName) {\n      var targetIndex = this._getItemIndex(relatedTarget);\n\n      var fromIndex = this._getItemIndex(this._element.querySelector(SELECTOR_ACTIVE_ITEM));\n\n      var slideEvent = $.Event(EVENT_SLIDE, {\n        relatedTarget: relatedTarget,\n        direction: eventDirectionName,\n        from: fromIndex,\n        to: targetIndex\n      });\n      $(this._element).trigger(slideEvent);\n      return slideEvent;\n    };\n\n    _proto._setActiveIndicatorElement = function _setActiveIndicatorElement(element) {\n      if (this._indicatorsElement) {\n        var indicators = [].slice.call(this._indicatorsElement.querySelectorAll(SELECTOR_ACTIVE$1));\n        $(indicators).removeClass(CLASS_NAME_ACTIVE$1);\n\n        var nextIndicator = this._indicatorsElement.children[this._getItemIndex(element)];\n\n        if (nextIndicator) {\n          $(nextIndicator).addClass(CLASS_NAME_ACTIVE$1);\n        }\n      }\n    };\n\n    _proto._slide = function _slide(direction, element) {\n      var _this4 = this;\n\n      var activeElement = this._element.querySelector(SELECTOR_ACTIVE_ITEM);\n\n      var activeElementIndex = this._getItemIndex(activeElement);\n\n      var nextElement = element || activeElement && this._getItemByDirection(direction, activeElement);\n\n      var nextElementIndex = this._getItemIndex(nextElement);\n\n      var isCycling = Boolean(this._interval);\n      var directionalClassName;\n      var orderClassName;\n      var eventDirectionName;\n\n      if (direction === DIRECTION_NEXT) {\n        directionalClassName = CLASS_NAME_LEFT;\n        orderClassName = CLASS_NAME_NEXT;\n        eventDirectionName = DIRECTION_LEFT;\n      } else {\n        directionalClassName = CLASS_NAME_RIGHT;\n        orderClassName = CLASS_NAME_PREV;\n        eventDirectionName = DIRECTION_RIGHT;\n      }\n\n      if (nextElement && $(nextElement).hasClass(CLASS_NAME_ACTIVE$1)) {\n        this._isSliding = false;\n        return;\n      }\n\n      var slideEvent = this._triggerSlideEvent(nextElement, eventDirectionName);\n\n      if (slideEvent.isDefaultPrevented()) {\n        return;\n      }\n\n      if (!activeElement || !nextElement) {\n        // Some weirdness is happening, so we bail\n        return;\n      }\n\n      this._isSliding = true;\n\n      if (isCycling) {\n        this.pause();\n      }\n\n      this._setActiveIndicatorElement(nextElement);\n\n      var slidEvent = $.Event(EVENT_SLID, {\n        relatedTarget: nextElement,\n        direction: eventDirectionName,\n        from: activeElementIndex,\n        to: nextElementIndex\n      });\n\n      if ($(this._element).hasClass(CLASS_NAME_SLIDE)) {\n        $(nextElement).addClass(orderClassName);\n        Util.reflow(nextElement);\n        $(activeElement).addClass(directionalClassName);\n        $(nextElement).addClass(directionalClassName);\n        var nextElementInterval = parseInt(nextElement.getAttribute('data-interval'), 10);\n\n        if (nextElementInterval) {\n          this._config.defaultInterval = this._config.defaultInterval || this._config.interval;\n          this._config.interval = nextElementInterval;\n        } else {\n          this._config.interval = this._config.defaultInterval || this._config.interval;\n        }\n\n        var transitionDuration = Util.getTransitionDurationFromElement(activeElement);\n        $(activeElement).one(Util.TRANSITION_END, function () {\n          $(nextElement).removeClass(directionalClassName + \" \" + orderClassName).addClass(CLASS_NAME_ACTIVE$1);\n          $(activeElement).removeClass(CLASS_NAME_ACTIVE$1 + \" \" + orderClassName + \" \" + directionalClassName);\n          _this4._isSliding = false;\n          setTimeout(function () {\n            return $(_this4._element).trigger(slidEvent);\n          }, 0);\n        }).emulateTransitionEnd(transitionDuration);\n      } else {\n        $(activeElement).removeClass(CLASS_NAME_ACTIVE$1);\n        $(nextElement).addClass(CLASS_NAME_ACTIVE$1);\n        this._isSliding = false;\n        $(this._element).trigger(slidEvent);\n      }\n\n      if (isCycling) {\n        this.cycle();\n      }\n    } // Static\n    ;\n\n    Carousel._jQueryInterface = function _jQueryInterface(config) {\n      return this.each(function () {\n        var data = $(this).data(DATA_KEY$2);\n\n        var _config = _objectSpread2(_objectSpread2({}, Default), $(this).data());\n\n        if (typeof config === 'object') {\n          _config = _objectSpread2(_objectSpread2({}, _config), config);\n        }\n\n        var action = typeof config === 'string' ? config : _config.slide;\n\n        if (!data) {\n          data = new Carousel(this, _config);\n          $(this).data(DATA_KEY$2, data);\n        }\n\n        if (typeof config === 'number') {\n          data.to(config);\n        } else if (typeof action === 'string') {\n          if (typeof data[action] === 'undefined') {\n            throw new TypeError(\"No method named \\\"\" + action + \"\\\"\");\n          }\n\n          data[action]();\n        } else if (_config.interval && _config.ride) {\n          data.pause();\n          data.cycle();\n        }\n      });\n    };\n\n    Carousel._dataApiClickHandler = function _dataApiClickHandler(event) {\n      var selector = Util.getSelectorFromElement(this);\n\n      if (!selector) {\n        return;\n      }\n\n      var target = $(selector)[0];\n\n      if (!target || !$(target).hasClass(CLASS_NAME_CAROUSEL)) {\n        return;\n      }\n\n      var config = _objectSpread2(_objectSpread2({}, $(target).data()), $(this).data());\n\n      var slideIndex = this.getAttribute('data-slide-to');\n\n      if (slideIndex) {\n        config.interval = false;\n      }\n\n      Carousel._jQueryInterface.call($(target), config);\n\n      if (slideIndex) {\n        $(target).data(DATA_KEY$2).to(slideIndex);\n      }\n\n      event.preventDefault();\n    };\n\n    _createClass(Carousel, null, [{\n      key: \"VERSION\",\n      get: function get() {\n        return VERSION$2;\n      }\n    }, {\n      key: \"Default\",\n      get: function get() {\n        return Default;\n      }\n    }]);\n\n    return Carousel;\n  }();\n  /**\n   * ------------------------------------------------------------------------\n   * Data Api implementation\n   * ------------------------------------------------------------------------\n   */\n\n\n  $(document).on(EVENT_CLICK_DATA_API$2, SELECTOR_DATA_SLIDE, Carousel._dataApiClickHandler);\n  $(window).on(EVENT_LOAD_DATA_API$1, function () {\n    var carousels = [].slice.call(document.querySelectorAll(SELECTOR_DATA_RIDE));\n\n    for (var i = 0, len = carousels.length; i < len; i++) {\n      var $carousel = $(carousels[i]);\n\n      Carousel._jQueryInterface.call($carousel, $carousel.data());\n    }\n  });\n  /**\n   * ------------------------------------------------------------------------\n   * jQuery\n   * ------------------------------------------------------------------------\n   */\n\n  $.fn[NAME$2] = Carousel._jQueryInterface;\n  $.fn[NAME$2].Constructor = Carousel;\n\n  $.fn[NAME$2].noConflict = function () {\n    $.fn[NAME$2] = JQUERY_NO_CONFLICT$2;\n    return Carousel._jQueryInterface;\n  };\n\n  /**\n   * ------------------------------------------------------------------------\n   * Constants\n   * ------------------------------------------------------------------------\n   */\n\n  var NAME$3 = 'collapse';\n  var VERSION$3 = '4.5.0';\n  var DATA_KEY$3 = 'bs.collapse';\n  var EVENT_KEY$3 = \".\" + DATA_KEY$3;\n  var DATA_API_KEY$3 = '.data-api';\n  var JQUERY_NO_CONFLICT$3 = $.fn[NAME$3];\n  var Default$1 = {\n    toggle: true,\n    parent: ''\n  };\n  var DefaultType$1 = {\n    toggle: 'boolean',\n    parent: '(string|element)'\n  };\n  var EVENT_SHOW = \"show\" + EVENT_KEY$3;\n  var EVENT_SHOWN = \"shown\" + EVENT_KEY$3;\n  var EVENT_HIDE = \"hide\" + EVENT_KEY$3;\n  var EVENT_HIDDEN = \"hidden\" + EVENT_KEY$3;\n  var EVENT_CLICK_DATA_API$3 = \"click\" + EVENT_KEY$3 + DATA_API_KEY$3;\n  var CLASS_NAME_SHOW$1 = 'show';\n  var CLASS_NAME_COLLAPSE = 'collapse';\n  var CLASS_NAME_COLLAPSING = 'collapsing';\n  var CLASS_NAME_COLLAPSED = 'collapsed';\n  var DIMENSION_WIDTH = 'width';\n  var DIMENSION_HEIGHT = 'height';\n  var SELECTOR_ACTIVES = '.show, .collapsing';\n  var SELECTOR_DATA_TOGGLE$1 = '[data-toggle=\"collapse\"]';\n  /**\n   * ------------------------------------------------------------------------\n   * Class Definition\n   * ------------------------------------------------------------------------\n   */\n\n  var Collapse = /*#__PURE__*/function () {\n    function Collapse(element, config) {\n      this._isTransitioning = false;\n      this._element = element;\n      this._config = this._getConfig(config);\n      this._triggerArray = [].slice.call(document.querySelectorAll(\"[data-toggle=\\\"collapse\\\"][href=\\\"#\" + element.id + \"\\\"],\" + (\"[data-toggle=\\\"collapse\\\"][data-target=\\\"#\" + element.id + \"\\\"]\")));\n      var toggleList = [].slice.call(document.querySelectorAll(SELECTOR_DATA_TOGGLE$1));\n\n      for (var i = 0, len = toggleList.length; i < len; i++) {\n        var elem = toggleList[i];\n        var selector = Util.getSelectorFromElement(elem);\n        var filterElement = [].slice.call(document.querySelectorAll(selector)).filter(function (foundElem) {\n          return foundElem === element;\n        });\n\n        if (selector !== null && filterElement.length > 0) {\n          this._selector = selector;\n\n          this._triggerArray.push(elem);\n        }\n      }\n\n      this._parent = this._config.parent ? this._getParent() : null;\n\n      if (!this._config.parent) {\n        this._addAriaAndCollapsedClass(this._element, this._triggerArray);\n      }\n\n      if (this._config.toggle) {\n        this.toggle();\n      }\n    } // Getters\n\n\n    var _proto = Collapse.prototype;\n\n    // Public\n    _proto.toggle = function toggle() {\n      if ($(this._element).hasClass(CLASS_NAME_SHOW$1)) {\n        this.hide();\n      } else {\n        this.show();\n      }\n    };\n\n    _proto.show = function show() {\n      var _this = this;\n\n      if (this._isTransitioning || $(this._element).hasClass(CLASS_NAME_SHOW$1)) {\n        return;\n      }\n\n      var actives;\n      var activesData;\n\n      if (this._parent) {\n        actives = [].slice.call(this._parent.querySelectorAll(SELECTOR_ACTIVES)).filter(function (elem) {\n          if (typeof _this._config.parent === 'string') {\n            return elem.getAttribute('data-parent') === _this._config.parent;\n          }\n\n          return elem.classList.contains(CLASS_NAME_COLLAPSE);\n        });\n\n        if (actives.length === 0) {\n          actives = null;\n        }\n      }\n\n      if (actives) {\n        activesData = $(actives).not(this._selector).data(DATA_KEY$3);\n\n        if (activesData && activesData._isTransitioning) {\n          return;\n        }\n      }\n\n      var startEvent = $.Event(EVENT_SHOW);\n      $(this._element).trigger(startEvent);\n\n      if (startEvent.isDefaultPrevented()) {\n        return;\n      }\n\n      if (actives) {\n        Collapse._jQueryInterface.call($(actives).not(this._selector), 'hide');\n\n        if (!activesData) {\n          $(actives).data(DATA_KEY$3, null);\n        }\n      }\n\n      var dimension = this._getDimension();\n\n      $(this._element).removeClass(CLASS_NAME_COLLAPSE).addClass(CLASS_NAME_COLLAPSING);\n      this._element.style[dimension] = 0;\n\n      if (this._triggerArray.length) {\n        $(this._triggerArray).removeClass(CLASS_NAME_COLLAPSED).attr('aria-expanded', true);\n      }\n\n      this.setTransitioning(true);\n\n      var complete = function complete() {\n        $(_this._element).removeClass(CLASS_NAME_COLLAPSING).addClass(CLASS_NAME_COLLAPSE + \" \" + CLASS_NAME_SHOW$1);\n        _this._element.style[dimension] = '';\n\n        _this.setTransitioning(false);\n\n        $(_this._element).trigger(EVENT_SHOWN);\n      };\n\n      var capitalizedDimension = dimension[0].toUpperCase() + dimension.slice(1);\n      var scrollSize = \"scroll\" + capitalizedDimension;\n      var transitionDuration = Util.getTransitionDurationFromElement(this._element);\n      $(this._element).one(Util.TRANSITION_END, complete).emulateTransitionEnd(transitionDuration);\n      this._element.style[dimension] = this._element[scrollSize] + \"px\";\n    };\n\n    _proto.hide = function hide() {\n      var _this2 = this;\n\n      if (this._isTransitioning || !$(this._element).hasClass(CLASS_NAME_SHOW$1)) {\n        return;\n      }\n\n      var startEvent = $.Event(EVENT_HIDE);\n      $(this._element).trigger(startEvent);\n\n      if (startEvent.isDefaultPrevented()) {\n        return;\n      }\n\n      var dimension = this._getDimension();\n\n      this._element.style[dimension] = this._element.getBoundingClientRect()[dimension] + \"px\";\n      Util.reflow(this._element);\n      $(this._element).addClass(CLASS_NAME_COLLAPSING).removeClass(CLASS_NAME_COLLAPSE + \" \" + CLASS_NAME_SHOW$1);\n      var triggerArrayLength = this._triggerArray.length;\n\n      if (triggerArrayLength > 0) {\n        for (var i = 0; i < triggerArrayLength; i++) {\n          var trigger = this._triggerArray[i];\n          var selector = Util.getSelectorFromElement(trigger);\n\n          if (selector !== null) {\n            var $elem = $([].slice.call(document.querySelectorAll(selector)));\n\n            if (!$elem.hasClass(CLASS_NAME_SHOW$1)) {\n              $(trigger).addClass(CLASS_NAME_COLLAPSED).attr('aria-expanded', false);\n            }\n          }\n        }\n      }\n\n      this.setTransitioning(true);\n\n      var complete = function complete() {\n        _this2.setTransitioning(false);\n\n        $(_this2._element).removeClass(CLASS_NAME_COLLAPSING).addClass(CLASS_NAME_COLLAPSE).trigger(EVENT_HIDDEN);\n      };\n\n      this._element.style[dimension] = '';\n      var transitionDuration = Util.getTransitionDurationFromElement(this._element);\n      $(this._element).one(Util.TRANSITION_END, complete).emulateTransitionEnd(transitionDuration);\n    };\n\n    _proto.setTransitioning = function setTransitioning(isTransitioning) {\n      this._isTransitioning = isTransitioning;\n    };\n\n    _proto.dispose = function dispose() {\n      $.removeData(this._element, DATA_KEY$3);\n      this._config = null;\n      this._parent = null;\n      this._element = null;\n      this._triggerArray = null;\n      this._isTransitioning = null;\n    } // Private\n    ;\n\n    _proto._getConfig = function _getConfig(config) {\n      config = _objectSpread2(_objectSpread2({}, Default$1), config);\n      config.toggle = Boolean(config.toggle); // Coerce string values\n\n      Util.typeCheckConfig(NAME$3, config, DefaultType$1);\n      return config;\n    };\n\n    _proto._getDimension = function _getDimension() {\n      var hasWidth = $(this._element).hasClass(DIMENSION_WIDTH);\n      return hasWidth ? DIMENSION_WIDTH : DIMENSION_HEIGHT;\n    };\n\n    _proto._getParent = function _getParent() {\n      var _this3 = this;\n\n      var parent;\n\n      if (Util.isElement(this._config.parent)) {\n        parent = this._config.parent; // It's a jQuery object\n\n        if (typeof this._config.parent.jquery !== 'undefined') {\n          parent = this._config.parent[0];\n        }\n      } else {\n        parent = document.querySelector(this._config.parent);\n      }\n\n      var selector = \"[data-toggle=\\\"collapse\\\"][data-parent=\\\"\" + this._config.parent + \"\\\"]\";\n      var children = [].slice.call(parent.querySelectorAll(selector));\n      $(children).each(function (i, element) {\n        _this3._addAriaAndCollapsedClass(Collapse._getTargetFromElement(element), [element]);\n      });\n      return parent;\n    };\n\n    _proto._addAriaAndCollapsedClass = function _addAriaAndCollapsedClass(element, triggerArray) {\n      var isOpen = $(element).hasClass(CLASS_NAME_SHOW$1);\n\n      if (triggerArray.length) {\n        $(triggerArray).toggleClass(CLASS_NAME_COLLAPSED, !isOpen).attr('aria-expanded', isOpen);\n      }\n    } // Static\n    ;\n\n    Collapse._getTargetFromElement = function _getTargetFromElement(element) {\n      var selector = Util.getSelectorFromElement(element);\n      return selector ? document.querySelector(selector) : null;\n    };\n\n    Collapse._jQueryInterface = function _jQueryInterface(config) {\n      return this.each(function () {\n        var $this = $(this);\n        var data = $this.data(DATA_KEY$3);\n\n        var _config = _objectSpread2(_objectSpread2(_objectSpread2({}, Default$1), $this.data()), typeof config === 'object' && config ? config : {});\n\n        if (!data && _config.toggle && typeof config === 'string' && /show|hide/.test(config)) {\n          _config.toggle = false;\n        }\n\n        if (!data) {\n          data = new Collapse(this, _config);\n          $this.data(DATA_KEY$3, data);\n        }\n\n        if (typeof config === 'string') {\n          if (typeof data[config] === 'undefined') {\n            throw new TypeError(\"No method named \\\"\" + config + \"\\\"\");\n          }\n\n          data[config]();\n        }\n      });\n    };\n\n    _createClass(Collapse, null, [{\n      key: \"VERSION\",\n      get: function get() {\n        return VERSION$3;\n      }\n    }, {\n      key: \"Default\",\n      get: function get() {\n        return Default$1;\n      }\n    }]);\n\n    return Collapse;\n  }();\n  /**\n   * ------------------------------------------------------------------------\n   * Data Api implementation\n   * ------------------------------------------------------------------------\n   */\n\n\n  $(document).on(EVENT_CLICK_DATA_API$3, SELECTOR_DATA_TOGGLE$1, function (event) {\n    // preventDefault only for <a> elements (which change the URL) not inside the collapsible element\n    if (event.currentTarget.tagName === 'A') {\n      event.preventDefault();\n    }\n\n    var $trigger = $(this);\n    var selector = Util.getSelectorFromElement(this);\n    var selectors = [].slice.call(document.querySelectorAll(selector));\n    $(selectors).each(function () {\n      var $target = $(this);\n      var data = $target.data(DATA_KEY$3);\n      var config = data ? 'toggle' : $trigger.data();\n\n      Collapse._jQueryInterface.call($target, config);\n    });\n  });\n  /**\n   * ------------------------------------------------------------------------\n   * jQuery\n   * ------------------------------------------------------------------------\n   */\n\n  $.fn[NAME$3] = Collapse._jQueryInterface;\n  $.fn[NAME$3].Constructor = Collapse;\n\n  $.fn[NAME$3].noConflict = function () {\n    $.fn[NAME$3] = JQUERY_NO_CONFLICT$3;\n    return Collapse._jQueryInterface;\n  };\n\n  /**\n   * ------------------------------------------------------------------------\n   * Constants\n   * ------------------------------------------------------------------------\n   */\n\n  var NAME$4 = 'dropdown';\n  var VERSION$4 = '4.5.0';\n  var DATA_KEY$4 = 'bs.dropdown';\n  var EVENT_KEY$4 = \".\" + DATA_KEY$4;\n  var DATA_API_KEY$4 = '.data-api';\n  var JQUERY_NO_CONFLICT$4 = $.fn[NAME$4];\n  var ESCAPE_KEYCODE = 27; // KeyboardEvent.which value for Escape (Esc) key\n\n  var SPACE_KEYCODE = 32; // KeyboardEvent.which value for space key\n\n  var TAB_KEYCODE = 9; // KeyboardEvent.which value for tab key\n\n  var ARROW_UP_KEYCODE = 38; // KeyboardEvent.which value for up arrow key\n\n  var ARROW_DOWN_KEYCODE = 40; // KeyboardEvent.which value for down arrow key\n\n  var RIGHT_MOUSE_BUTTON_WHICH = 3; // MouseEvent.which value for the right button (assuming a right-handed mouse)\n\n  var REGEXP_KEYDOWN = new RegExp(ARROW_UP_KEYCODE + \"|\" + ARROW_DOWN_KEYCODE + \"|\" + ESCAPE_KEYCODE);\n  var EVENT_HIDE$1 = \"hide\" + EVENT_KEY$4;\n  var EVENT_HIDDEN$1 = \"hidden\" + EVENT_KEY$4;\n  var EVENT_SHOW$1 = \"show\" + EVENT_KEY$4;\n  var EVENT_SHOWN$1 = \"shown\" + EVENT_KEY$4;\n  var EVENT_CLICK = \"click\" + EVENT_KEY$4;\n  var EVENT_CLICK_DATA_API$4 = \"click\" + EVENT_KEY$4 + DATA_API_KEY$4;\n  var EVENT_KEYDOWN_DATA_API = \"keydown\" + EVENT_KEY$4 + DATA_API_KEY$4;\n  var EVENT_KEYUP_DATA_API = \"keyup\" + EVENT_KEY$4 + DATA_API_KEY$4;\n  var CLASS_NAME_DISABLED = 'disabled';\n  var CLASS_NAME_SHOW$2 = 'show';\n  var CLASS_NAME_DROPUP = 'dropup';\n  var CLASS_NAME_DROPRIGHT = 'dropright';\n  var CLASS_NAME_DROPLEFT = 'dropleft';\n  var CLASS_NAME_MENURIGHT = 'dropdown-menu-right';\n  var CLASS_NAME_POSITION_STATIC = 'position-static';\n  var SELECTOR_DATA_TOGGLE$2 = '[data-toggle=\"dropdown\"]';\n  var SELECTOR_FORM_CHILD = '.dropdown form';\n  var SELECTOR_MENU = '.dropdown-menu';\n  var SELECTOR_NAVBAR_NAV = '.navbar-nav';\n  var SELECTOR_VISIBLE_ITEMS = '.dropdown-menu .dropdown-item:not(.disabled):not(:disabled)';\n  var PLACEMENT_TOP = 'top-start';\n  var PLACEMENT_TOPEND = 'top-end';\n  var PLACEMENT_BOTTOM = 'bottom-start';\n  var PLACEMENT_BOTTOMEND = 'bottom-end';\n  var PLACEMENT_RIGHT = 'right-start';\n  var PLACEMENT_LEFT = 'left-start';\n  var Default$2 = {\n    offset: 0,\n    flip: true,\n    boundary: 'scrollParent',\n    reference: 'toggle',\n    display: 'dynamic',\n    popperConfig: null\n  };\n  var DefaultType$2 = {\n    offset: '(number|string|function)',\n    flip: 'boolean',\n    boundary: '(string|element)',\n    reference: '(string|element)',\n    display: 'string',\n    popperConfig: '(null|object)'\n  };\n  /**\n   * ------------------------------------------------------------------------\n   * Class Definition\n   * ------------------------------------------------------------------------\n   */\n\n  var Dropdown = /*#__PURE__*/function () {\n    function Dropdown(element, config) {\n      this._element = element;\n      this._popper = null;\n      this._config = this._getConfig(config);\n      this._menu = this._getMenuElement();\n      this._inNavbar = this._detectNavbar();\n\n      this._addEventListeners();\n    } // Getters\n\n\n    var _proto = Dropdown.prototype;\n\n    // Public\n    _proto.toggle = function toggle() {\n      if (this._element.disabled || $(this._element).hasClass(CLASS_NAME_DISABLED)) {\n        return;\n      }\n\n      var isActive = $(this._menu).hasClass(CLASS_NAME_SHOW$2);\n\n      Dropdown._clearMenus();\n\n      if (isActive) {\n        return;\n      }\n\n      this.show(true);\n    };\n\n    _proto.show = function show(usePopper) {\n      if (usePopper === void 0) {\n        usePopper = false;\n      }\n\n      if (this._element.disabled || $(this._element).hasClass(CLASS_NAME_DISABLED) || $(this._menu).hasClass(CLASS_NAME_SHOW$2)) {\n        return;\n      }\n\n      var relatedTarget = {\n        relatedTarget: this._element\n      };\n      var showEvent = $.Event(EVENT_SHOW$1, relatedTarget);\n\n      var parent = Dropdown._getParentFromElement(this._element);\n\n      $(parent).trigger(showEvent);\n\n      if (showEvent.isDefaultPrevented()) {\n        return;\n      } // Disable totally Popper.js for Dropdown in Navbar\n\n\n      if (!this._inNavbar && usePopper) {\n        /**\n         * Check for Popper dependency\n         * Popper - https://popper.js.org\n         */\n        if (typeof Popper === 'undefined') {\n          throw new TypeError('Bootstrap\\'s dropdowns require Popper.js (https://popper.js.org/)');\n        }\n\n        var referenceElement = this._element;\n\n        if (this._config.reference === 'parent') {\n          referenceElement = parent;\n        } else if (Util.isElement(this._config.reference)) {\n          referenceElement = this._config.reference; // Check if it's jQuery element\n\n          if (typeof this._config.reference.jquery !== 'undefined') {\n            referenceElement = this._config.reference[0];\n          }\n        } // If boundary is not `scrollParent`, then set position to `static`\n        // to allow the menu to \"escape\" the scroll parent's boundaries\n        // https://github.com/twbs/bootstrap/issues/24251\n\n\n        if (this._config.boundary !== 'scrollParent') {\n          $(parent).addClass(CLASS_NAME_POSITION_STATIC);\n        }\n\n        this._popper = new Popper(referenceElement, this._menu, this._getPopperConfig());\n      } // If this is a touch-enabled device we add extra\n      // empty mouseover listeners to the body's immediate children;\n      // only needed because of broken event delegation on iOS\n      // https://www.quirksmode.org/blog/archives/2014/02/mouse_event_bub.html\n\n\n      if ('ontouchstart' in document.documentElement && $(parent).closest(SELECTOR_NAVBAR_NAV).length === 0) {\n        $(document.body).children().on('mouseover', null, $.noop);\n      }\n\n      this._element.focus();\n\n      this._element.setAttribute('aria-expanded', true);\n\n      $(this._menu).toggleClass(CLASS_NAME_SHOW$2);\n      $(parent).toggleClass(CLASS_NAME_SHOW$2).trigger($.Event(EVENT_SHOWN$1, relatedTarget));\n    };\n\n    _proto.hide = function hide() {\n      if (this._element.disabled || $(this._element).hasClass(CLASS_NAME_DISABLED) || !$(this._menu).hasClass(CLASS_NAME_SHOW$2)) {\n        return;\n      }\n\n      var relatedTarget = {\n        relatedTarget: this._element\n      };\n      var hideEvent = $.Event(EVENT_HIDE$1, relatedTarget);\n\n      var parent = Dropdown._getParentFromElement(this._element);\n\n      $(parent).trigger(hideEvent);\n\n      if (hideEvent.isDefaultPrevented()) {\n        return;\n      }\n\n      if (this._popper) {\n        this._popper.destroy();\n      }\n\n      $(this._menu).toggleClass(CLASS_NAME_SHOW$2);\n      $(parent).toggleClass(CLASS_NAME_SHOW$2).trigger($.Event(EVENT_HIDDEN$1, relatedTarget));\n    };\n\n    _proto.dispose = function dispose() {\n      $.removeData(this._element, DATA_KEY$4);\n      $(this._element).off(EVENT_KEY$4);\n      this._element = null;\n      this._menu = null;\n\n      if (this._popper !== null) {\n        this._popper.destroy();\n\n        this._popper = null;\n      }\n    };\n\n    _proto.update = function update() {\n      this._inNavbar = this._detectNavbar();\n\n      if (this._popper !== null) {\n        this._popper.scheduleUpdate();\n      }\n    } // Private\n    ;\n\n    _proto._addEventListeners = function _addEventListeners() {\n      var _this = this;\n\n      $(this._element).on(EVENT_CLICK, function (event) {\n        event.preventDefault();\n        event.stopPropagation();\n\n        _this.toggle();\n      });\n    };\n\n    _proto._getConfig = function _getConfig(config) {\n      config = _objectSpread2(_objectSpread2(_objectSpread2({}, this.constructor.Default), $(this._element).data()), config);\n      Util.typeCheckConfig(NAME$4, config, this.constructor.DefaultType);\n      return config;\n    };\n\n    _proto._getMenuElement = function _getMenuElement() {\n      if (!this._menu) {\n        var parent = Dropdown._getParentFromElement(this._element);\n\n        if (parent) {\n          this._menu = parent.querySelector(SELECTOR_MENU);\n        }\n      }\n\n      return this._menu;\n    };\n\n    _proto._getPlacement = function _getPlacement() {\n      var $parentDropdown = $(this._element.parentNode);\n      var placement = PLACEMENT_BOTTOM; // Handle dropup\n\n      if ($parentDropdown.hasClass(CLASS_NAME_DROPUP)) {\n        placement = $(this._menu).hasClass(CLASS_NAME_MENURIGHT) ? PLACEMENT_TOPEND : PLACEMENT_TOP;\n      } else if ($parentDropdown.hasClass(CLASS_NAME_DROPRIGHT)) {\n        placement = PLACEMENT_RIGHT;\n      } else if ($parentDropdown.hasClass(CLASS_NAME_DROPLEFT)) {\n        placement = PLACEMENT_LEFT;\n      } else if ($(this._menu).hasClass(CLASS_NAME_MENURIGHT)) {\n        placement = PLACEMENT_BOTTOMEND;\n      }\n\n      return placement;\n    };\n\n    _proto._detectNavbar = function _detectNavbar() {\n      return $(this._element).closest('.navbar').length > 0;\n    };\n\n    _proto._getOffset = function _getOffset() {\n      var _this2 = this;\n\n      var offset = {};\n\n      if (typeof this._config.offset === 'function') {\n        offset.fn = function (data) {\n          data.offsets = _objectSpread2(_objectSpread2({}, data.offsets), _this2._config.offset(data.offsets, _this2._element) || {});\n          return data;\n        };\n      } else {\n        offset.offset = this._config.offset;\n      }\n\n      return offset;\n    };\n\n    _proto._getPopperConfig = function _getPopperConfig() {\n      var popperConfig = {\n        placement: this._getPlacement(),\n        modifiers: {\n          offset: this._getOffset(),\n          flip: {\n            enabled: this._config.flip\n          },\n          preventOverflow: {\n            boundariesElement: this._config.boundary\n          }\n        }\n      }; // Disable Popper.js if we have a static display\n\n      if (this._config.display === 'static') {\n        popperConfig.modifiers.applyStyle = {\n          enabled: false\n        };\n      }\n\n      return _objectSpread2(_objectSpread2({}, popperConfig), this._config.popperConfig);\n    } // Static\n    ;\n\n    Dropdown._jQueryInterface = function _jQueryInterface(config) {\n      return this.each(function () {\n        var data = $(this).data(DATA_KEY$4);\n\n        var _config = typeof config === 'object' ? config : null;\n\n        if (!data) {\n          data = new Dropdown(this, _config);\n          $(this).data(DATA_KEY$4, data);\n        }\n\n        if (typeof config === 'string') {\n          if (typeof data[config] === 'undefined') {\n            throw new TypeError(\"No method named \\\"\" + config + \"\\\"\");\n          }\n\n          data[config]();\n        }\n      });\n    };\n\n    Dropdown._clearMenus = function _clearMenus(event) {\n      if (event && (event.which === RIGHT_MOUSE_BUTTON_WHICH || event.type === 'keyup' && event.which !== TAB_KEYCODE)) {\n        return;\n      }\n\n      var toggles = [].slice.call(document.querySelectorAll(SELECTOR_DATA_TOGGLE$2));\n\n      for (var i = 0, len = toggles.length; i < len; i++) {\n        var parent = Dropdown._getParentFromElement(toggles[i]);\n\n        var context = $(toggles[i]).data(DATA_KEY$4);\n        var relatedTarget = {\n          relatedTarget: toggles[i]\n        };\n\n        if (event && event.type === 'click') {\n          relatedTarget.clickEvent = event;\n        }\n\n        if (!context) {\n          continue;\n        }\n\n        var dropdownMenu = context._menu;\n\n        if (!$(parent).hasClass(CLASS_NAME_SHOW$2)) {\n          continue;\n        }\n\n        if (event && (event.type === 'click' && /input|textarea/i.test(event.target.tagName) || event.type === 'keyup' && event.which === TAB_KEYCODE) && $.contains(parent, event.target)) {\n          continue;\n        }\n\n        var hideEvent = $.Event(EVENT_HIDE$1, relatedTarget);\n        $(parent).trigger(hideEvent);\n\n        if (hideEvent.isDefaultPrevented()) {\n          continue;\n        } // If this is a touch-enabled device we remove the extra\n        // empty mouseover listeners we added for iOS support\n\n\n        if ('ontouchstart' in document.documentElement) {\n          $(document.body).children().off('mouseover', null, $.noop);\n        }\n\n        toggles[i].setAttribute('aria-expanded', 'false');\n\n        if (context._popper) {\n          context._popper.destroy();\n        }\n\n        $(dropdownMenu).removeClass(CLASS_NAME_SHOW$2);\n        $(parent).removeClass(CLASS_NAME_SHOW$2).trigger($.Event(EVENT_HIDDEN$1, relatedTarget));\n      }\n    };\n\n    Dropdown._getParentFromElement = function _getParentFromElement(element) {\n      var parent;\n      var selector = Util.getSelectorFromElement(element);\n\n      if (selector) {\n        parent = document.querySelector(selector);\n      }\n\n      return parent || element.parentNode;\n    } // eslint-disable-next-line complexity\n    ;\n\n    Dropdown._dataApiKeydownHandler = function _dataApiKeydownHandler(event) {\n      // If not input/textarea:\n      //  - And not a key in REGEXP_KEYDOWN => not a dropdown command\n      // If input/textarea:\n      //  - If space key => not a dropdown command\n      //  - If key is other than escape\n      //    - If key is not up or down => not a dropdown command\n      //    - If trigger inside the menu => not a dropdown command\n      if (/input|textarea/i.test(event.target.tagName) ? event.which === SPACE_KEYCODE || event.which !== ESCAPE_KEYCODE && (event.which !== ARROW_DOWN_KEYCODE && event.which !== ARROW_UP_KEYCODE || $(event.target).closest(SELECTOR_MENU).length) : !REGEXP_KEYDOWN.test(event.which)) {\n        return;\n      }\n\n      if (this.disabled || $(this).hasClass(CLASS_NAME_DISABLED)) {\n        return;\n      }\n\n      var parent = Dropdown._getParentFromElement(this);\n\n      var isActive = $(parent).hasClass(CLASS_NAME_SHOW$2);\n\n      if (!isActive && event.which === ESCAPE_KEYCODE) {\n        return;\n      }\n\n      event.preventDefault();\n      event.stopPropagation();\n\n      if (!isActive || isActive && (event.which === ESCAPE_KEYCODE || event.which === SPACE_KEYCODE)) {\n        if (event.which === ESCAPE_KEYCODE) {\n          $(parent.querySelector(SELECTOR_DATA_TOGGLE$2)).trigger('focus');\n        }\n\n        $(this).trigger('click');\n        return;\n      }\n\n      var items = [].slice.call(parent.querySelectorAll(SELECTOR_VISIBLE_ITEMS)).filter(function (item) {\n        return $(item).is(':visible');\n      });\n\n      if (items.length === 0) {\n        return;\n      }\n\n      var index = items.indexOf(event.target);\n\n      if (event.which === ARROW_UP_KEYCODE && index > 0) {\n        // Up\n        index--;\n      }\n\n      if (event.which === ARROW_DOWN_KEYCODE && index < items.length - 1) {\n        // Down\n        index++;\n      }\n\n      if (index < 0) {\n        index = 0;\n      }\n\n      items[index].focus();\n    };\n\n    _createClass(Dropdown, null, [{\n      key: \"VERSION\",\n      get: function get() {\n        return VERSION$4;\n      }\n    }, {\n      key: \"Default\",\n      get: function get() {\n        return Default$2;\n      }\n    }, {\n      key: \"DefaultType\",\n      get: function get() {\n        return DefaultType$2;\n      }\n    }]);\n\n    return Dropdown;\n  }();\n  /**\n   * ------------------------------------------------------------------------\n   * Data Api implementation\n   * ------------------------------------------------------------------------\n   */\n\n\n  $(document).on(EVENT_KEYDOWN_DATA_API, SELECTOR_DATA_TOGGLE$2, Dropdown._dataApiKeydownHandler).on(EVENT_KEYDOWN_DATA_API, SELECTOR_MENU, Dropdown._dataApiKeydownHandler).on(EVENT_CLICK_DATA_API$4 + \" \" + EVENT_KEYUP_DATA_API, Dropdown._clearMenus).on(EVENT_CLICK_DATA_API$4, SELECTOR_DATA_TOGGLE$2, function (event) {\n    event.preventDefault();\n    event.stopPropagation();\n\n    Dropdown._jQueryInterface.call($(this), 'toggle');\n  }).on(EVENT_CLICK_DATA_API$4, SELECTOR_FORM_CHILD, function (e) {\n    e.stopPropagation();\n  });\n  /**\n   * ------------------------------------------------------------------------\n   * jQuery\n   * ------------------------------------------------------------------------\n   */\n\n  $.fn[NAME$4] = Dropdown._jQueryInterface;\n  $.fn[NAME$4].Constructor = Dropdown;\n\n  $.fn[NAME$4].noConflict = function () {\n    $.fn[NAME$4] = JQUERY_NO_CONFLICT$4;\n    return Dropdown._jQueryInterface;\n  };\n\n  /**\n   * ------------------------------------------------------------------------\n   * Constants\n   * ------------------------------------------------------------------------\n   */\n\n  var NAME$5 = 'modal';\n  var VERSION$5 = '4.5.0';\n  var DATA_KEY$5 = 'bs.modal';\n  var EVENT_KEY$5 = \".\" + DATA_KEY$5;\n  var DATA_API_KEY$5 = '.data-api';\n  var JQUERY_NO_CONFLICT$5 = $.fn[NAME$5];\n  var ESCAPE_KEYCODE$1 = 27; // KeyboardEvent.which value for Escape (Esc) key\n\n  var Default$3 = {\n    backdrop: true,\n    keyboard: true,\n    focus: true,\n    show: true\n  };\n  var DefaultType$3 = {\n    backdrop: '(boolean|string)',\n    keyboard: 'boolean',\n    focus: 'boolean',\n    show: 'boolean'\n  };\n  var EVENT_HIDE$2 = \"hide\" + EVENT_KEY$5;\n  var EVENT_HIDE_PREVENTED = \"hidePrevented\" + EVENT_KEY$5;\n  var EVENT_HIDDEN$2 = \"hidden\" + EVENT_KEY$5;\n  var EVENT_SHOW$2 = \"show\" + EVENT_KEY$5;\n  var EVENT_SHOWN$2 = \"shown\" + EVENT_KEY$5;\n  var EVENT_FOCUSIN = \"focusin\" + EVENT_KEY$5;\n  var EVENT_RESIZE = \"resize\" + EVENT_KEY$5;\n  var EVENT_CLICK_DISMISS = \"click.dismiss\" + EVENT_KEY$5;\n  var EVENT_KEYDOWN_DISMISS = \"keydown.dismiss\" + EVENT_KEY$5;\n  var EVENT_MOUSEUP_DISMISS = \"mouseup.dismiss\" + EVENT_KEY$5;\n  var EVENT_MOUSEDOWN_DISMISS = \"mousedown.dismiss\" + EVENT_KEY$5;\n  var EVENT_CLICK_DATA_API$5 = \"click\" + EVENT_KEY$5 + DATA_API_KEY$5;\n  var CLASS_NAME_SCROLLABLE = 'modal-dialog-scrollable';\n  var CLASS_NAME_SCROLLBAR_MEASURER = 'modal-scrollbar-measure';\n  var CLASS_NAME_BACKDROP = 'modal-backdrop';\n  var CLASS_NAME_OPEN = 'modal-open';\n  var CLASS_NAME_FADE$1 = 'fade';\n  var CLASS_NAME_SHOW$3 = 'show';\n  var CLASS_NAME_STATIC = 'modal-static';\n  var SELECTOR_DIALOG = '.modal-dialog';\n  var SELECTOR_MODAL_BODY = '.modal-body';\n  var SELECTOR_DATA_TOGGLE$3 = '[data-toggle=\"modal\"]';\n  var SELECTOR_DATA_DISMISS = '[data-dismiss=\"modal\"]';\n  var SELECTOR_FIXED_CONTENT = '.fixed-top, .fixed-bottom, .is-fixed, .sticky-top';\n  var SELECTOR_STICKY_CONTENT = '.sticky-top';\n  /**\n   * ------------------------------------------------------------------------\n   * Class Definition\n   * ------------------------------------------------------------------------\n   */\n\n  var Modal = /*#__PURE__*/function () {\n    function Modal(element, config) {\n      this._config = this._getConfig(config);\n      this._element = element;\n      this._dialog = element.querySelector(SELECTOR_DIALOG);\n      this._backdrop = null;\n      this._isShown = false;\n      this._isBodyOverflowing = false;\n      this._ignoreBackdropClick = false;\n      this._isTransitioning = false;\n      this._scrollbarWidth = 0;\n    } // Getters\n\n\n    var _proto = Modal.prototype;\n\n    // Public\n    _proto.toggle = function toggle(relatedTarget) {\n      return this._isShown ? this.hide() : this.show(relatedTarget);\n    };\n\n    _proto.show = function show(relatedTarget) {\n      var _this = this;\n\n      if (this._isShown || this._isTransitioning) {\n        return;\n      }\n\n      if ($(this._element).hasClass(CLASS_NAME_FADE$1)) {\n        this._isTransitioning = true;\n      }\n\n      var showEvent = $.Event(EVENT_SHOW$2, {\n        relatedTarget: relatedTarget\n      });\n      $(this._element).trigger(showEvent);\n\n      if (this._isShown || showEvent.isDefaultPrevented()) {\n        return;\n      }\n\n      this._isShown = true;\n\n      this._checkScrollbar();\n\n      this._setScrollbar();\n\n      this._adjustDialog();\n\n      this._setEscapeEvent();\n\n      this._setResizeEvent();\n\n      $(this._element).on(EVENT_CLICK_DISMISS, SELECTOR_DATA_DISMISS, function (event) {\n        return _this.hide(event);\n      });\n      $(this._dialog).on(EVENT_MOUSEDOWN_DISMISS, function () {\n        $(_this._element).one(EVENT_MOUSEUP_DISMISS, function (event) {\n          if ($(event.target).is(_this._element)) {\n            _this._ignoreBackdropClick = true;\n          }\n        });\n      });\n\n      this._showBackdrop(function () {\n        return _this._showElement(relatedTarget);\n      });\n    };\n\n    _proto.hide = function hide(event) {\n      var _this2 = this;\n\n      if (event) {\n        event.preventDefault();\n      }\n\n      if (!this._isShown || this._isTransitioning) {\n        return;\n      }\n\n      var hideEvent = $.Event(EVENT_HIDE$2);\n      $(this._element).trigger(hideEvent);\n\n      if (!this._isShown || hideEvent.isDefaultPrevented()) {\n        return;\n      }\n\n      this._isShown = false;\n      var transition = $(this._element).hasClass(CLASS_NAME_FADE$1);\n\n      if (transition) {\n        this._isTransitioning = true;\n      }\n\n      this._setEscapeEvent();\n\n      this._setResizeEvent();\n\n      $(document).off(EVENT_FOCUSIN);\n      $(this._element).removeClass(CLASS_NAME_SHOW$3);\n      $(this._element).off(EVENT_CLICK_DISMISS);\n      $(this._dialog).off(EVENT_MOUSEDOWN_DISMISS);\n\n      if (transition) {\n        var transitionDuration = Util.getTransitionDurationFromElement(this._element);\n        $(this._element).one(Util.TRANSITION_END, function (event) {\n          return _this2._hideModal(event);\n        }).emulateTransitionEnd(transitionDuration);\n      } else {\n        this._hideModal();\n      }\n    };\n\n    _proto.dispose = function dispose() {\n      [window, this._element, this._dialog].forEach(function (htmlElement) {\n        return $(htmlElement).off(EVENT_KEY$5);\n      });\n      /**\n       * `document` has 2 events `EVENT_FOCUSIN` and `EVENT_CLICK_DATA_API`\n       * Do not move `document` in `htmlElements` array\n       * It will remove `EVENT_CLICK_DATA_API` event that should remain\n       */\n\n      $(document).off(EVENT_FOCUSIN);\n      $.removeData(this._element, DATA_KEY$5);\n      this._config = null;\n      this._element = null;\n      this._dialog = null;\n      this._backdrop = null;\n      this._isShown = null;\n      this._isBodyOverflowing = null;\n      this._ignoreBackdropClick = null;\n      this._isTransitioning = null;\n      this._scrollbarWidth = null;\n    };\n\n    _proto.handleUpdate = function handleUpdate() {\n      this._adjustDialog();\n    } // Private\n    ;\n\n    _proto._getConfig = function _getConfig(config) {\n      config = _objectSpread2(_objectSpread2({}, Default$3), config);\n      Util.typeCheckConfig(NAME$5, config, DefaultType$3);\n      return config;\n    };\n\n    _proto._triggerBackdropTransition = function _triggerBackdropTransition() {\n      var _this3 = this;\n\n      if (this._config.backdrop === 'static') {\n        var hideEventPrevented = $.Event(EVENT_HIDE_PREVENTED);\n        $(this._element).trigger(hideEventPrevented);\n\n        if (hideEventPrevented.defaultPrevented) {\n          return;\n        }\n\n        this._element.classList.add(CLASS_NAME_STATIC);\n\n        var modalTransitionDuration = Util.getTransitionDurationFromElement(this._element);\n        $(this._element).one(Util.TRANSITION_END, function () {\n          _this3._element.classList.remove(CLASS_NAME_STATIC);\n        }).emulateTransitionEnd(modalTransitionDuration);\n\n        this._element.focus();\n      } else {\n        this.hide();\n      }\n    };\n\n    _proto._showElement = function _showElement(relatedTarget) {\n      var _this4 = this;\n\n      var transition = $(this._element).hasClass(CLASS_NAME_FADE$1);\n      var modalBody = this._dialog ? this._dialog.querySelector(SELECTOR_MODAL_BODY) : null;\n\n      if (!this._element.parentNode || this._element.parentNode.nodeType !== Node.ELEMENT_NODE) {\n        // Don't move modal's DOM position\n        document.body.appendChild(this._element);\n      }\n\n      this._element.style.display = 'block';\n\n      this._element.removeAttribute('aria-hidden');\n\n      this._element.setAttribute('aria-modal', true);\n\n      if ($(this._dialog).hasClass(CLASS_NAME_SCROLLABLE) && modalBody) {\n        modalBody.scrollTop = 0;\n      } else {\n        this._element.scrollTop = 0;\n      }\n\n      if (transition) {\n        Util.reflow(this._element);\n      }\n\n      $(this._element).addClass(CLASS_NAME_SHOW$3);\n\n      if (this._config.focus) {\n        this._enforceFocus();\n      }\n\n      var shownEvent = $.Event(EVENT_SHOWN$2, {\n        relatedTarget: relatedTarget\n      });\n\n      var transitionComplete = function transitionComplete() {\n        if (_this4._config.focus) {\n          _this4._element.focus();\n        }\n\n        _this4._isTransitioning = false;\n        $(_this4._element).trigger(shownEvent);\n      };\n\n      if (transition) {\n        var transitionDuration = Util.getTransitionDurationFromElement(this._dialog);\n        $(this._dialog).one(Util.TRANSITION_END, transitionComplete).emulateTransitionEnd(transitionDuration);\n      } else {\n        transitionComplete();\n      }\n    };\n\n    _proto._enforceFocus = function _enforceFocus() {\n      var _this5 = this;\n\n      $(document).off(EVENT_FOCUSIN) // Guard against infinite focus loop\n      .on(EVENT_FOCUSIN, function (event) {\n        if (document !== event.target && _this5._element !== event.target && $(_this5._element).has(event.target).length === 0) {\n          _this5._element.focus();\n        }\n      });\n    };\n\n    _proto._setEscapeEvent = function _setEscapeEvent() {\n      var _this6 = this;\n\n      if (this._isShown) {\n        $(this._element).on(EVENT_KEYDOWN_DISMISS, function (event) {\n          if (_this6._config.keyboard && event.which === ESCAPE_KEYCODE$1) {\n            event.preventDefault();\n\n            _this6.hide();\n          } else if (!_this6._config.keyboard && event.which === ESCAPE_KEYCODE$1) {\n            _this6._triggerBackdropTransition();\n          }\n        });\n      } else if (!this._isShown) {\n        $(this._element).off(EVENT_KEYDOWN_DISMISS);\n      }\n    };\n\n    _proto._setResizeEvent = function _setResizeEvent() {\n      var _this7 = this;\n\n      if (this._isShown) {\n        $(window).on(EVENT_RESIZE, function (event) {\n          return _this7.handleUpdate(event);\n        });\n      } else {\n        $(window).off(EVENT_RESIZE);\n      }\n    };\n\n    _proto._hideModal = function _hideModal() {\n      var _this8 = this;\n\n      this._element.style.display = 'none';\n\n      this._element.setAttribute('aria-hidden', true);\n\n      this._element.removeAttribute('aria-modal');\n\n      this._isTransitioning = false;\n\n      this._showBackdrop(function () {\n        $(document.body).removeClass(CLASS_NAME_OPEN);\n\n        _this8._resetAdjustments();\n\n        _this8._resetScrollbar();\n\n        $(_this8._element).trigger(EVENT_HIDDEN$2);\n      });\n    };\n\n    _proto._removeBackdrop = function _removeBackdrop() {\n      if (this._backdrop) {\n        $(this._backdrop).remove();\n        this._backdrop = null;\n      }\n    };\n\n    _proto._showBackdrop = function _showBackdrop(callback) {\n      var _this9 = this;\n\n      var animate = $(this._element).hasClass(CLASS_NAME_FADE$1) ? CLASS_NAME_FADE$1 : '';\n\n      if (this._isShown && this._config.backdrop) {\n        this._backdrop = document.createElement('div');\n        this._backdrop.className = CLASS_NAME_BACKDROP;\n\n        if (animate) {\n          this._backdrop.classList.add(animate);\n        }\n\n        $(this._backdrop).appendTo(document.body);\n        $(this._element).on(EVENT_CLICK_DISMISS, function (event) {\n          if (_this9._ignoreBackdropClick) {\n            _this9._ignoreBackdropClick = false;\n            return;\n          }\n\n          if (event.target !== event.currentTarget) {\n            return;\n          }\n\n          _this9._triggerBackdropTransition();\n        });\n\n        if (animate) {\n          Util.reflow(this._backdrop);\n        }\n\n        $(this._backdrop).addClass(CLASS_NAME_SHOW$3);\n\n        if (!callback) {\n          return;\n        }\n\n        if (!animate) {\n          callback();\n          return;\n        }\n\n        var backdropTransitionDuration = Util.getTransitionDurationFromElement(this._backdrop);\n        $(this._backdrop).one(Util.TRANSITION_END, callback).emulateTransitionEnd(backdropTransitionDuration);\n      } else if (!this._isShown && this._backdrop) {\n        $(this._backdrop).removeClass(CLASS_NAME_SHOW$3);\n\n        var callbackRemove = function callbackRemove() {\n          _this9._removeBackdrop();\n\n          if (callback) {\n            callback();\n          }\n        };\n\n        if ($(this._element).hasClass(CLASS_NAME_FADE$1)) {\n          var _backdropTransitionDuration = Util.getTransitionDurationFromElement(this._backdrop);\n\n          $(this._backdrop).one(Util.TRANSITION_END, callbackRemove).emulateTransitionEnd(_backdropTransitionDuration);\n        } else {\n          callbackRemove();\n        }\n      } else if (callback) {\n        callback();\n      }\n    } // ----------------------------------------------------------------------\n    // the following methods are used to handle overflowing modals\n    // todo (fat): these should probably be refactored out of modal.js\n    // ----------------------------------------------------------------------\n    ;\n\n    _proto._adjustDialog = function _adjustDialog() {\n      var isModalOverflowing = this._element.scrollHeight > document.documentElement.clientHeight;\n\n      if (!this._isBodyOverflowing && isModalOverflowing) {\n        this._element.style.paddingLeft = this._scrollbarWidth + \"px\";\n      }\n\n      if (this._isBodyOverflowing && !isModalOverflowing) {\n        this._element.style.paddingRight = this._scrollbarWidth + \"px\";\n      }\n    };\n\n    _proto._resetAdjustments = function _resetAdjustments() {\n      this._element.style.paddingLeft = '';\n      this._element.style.paddingRight = '';\n    };\n\n    _proto._checkScrollbar = function _checkScrollbar() {\n      var rect = document.body.getBoundingClientRect();\n      this._isBodyOverflowing = Math.round(rect.left + rect.right) < window.innerWidth;\n      this._scrollbarWidth = this._getScrollbarWidth();\n    };\n\n    _proto._setScrollbar = function _setScrollbar() {\n      var _this10 = this;\n\n      if (this._isBodyOverflowing) {\n        // Note: DOMNode.style.paddingRight returns the actual value or '' if not set\n        //   while $(DOMNode).css('padding-right') returns the calculated value or 0 if not set\n        var fixedContent = [].slice.call(document.querySelectorAll(SELECTOR_FIXED_CONTENT));\n        var stickyContent = [].slice.call(document.querySelectorAll(SELECTOR_STICKY_CONTENT)); // Adjust fixed content padding\n\n        $(fixedContent).each(function (index, element) {\n          var actualPadding = element.style.paddingRight;\n          var calculatedPadding = $(element).css('padding-right');\n          $(element).data('padding-right', actualPadding).css('padding-right', parseFloat(calculatedPadding) + _this10._scrollbarWidth + \"px\");\n        }); // Adjust sticky content margin\n\n        $(stickyContent).each(function (index, element) {\n          var actualMargin = element.style.marginRight;\n          var calculatedMargin = $(element).css('margin-right');\n          $(element).data('margin-right', actualMargin).css('margin-right', parseFloat(calculatedMargin) - _this10._scrollbarWidth + \"px\");\n        }); // Adjust body padding\n\n        var actualPadding = document.body.style.paddingRight;\n        var calculatedPadding = $(document.body).css('padding-right');\n        $(document.body).data('padding-right', actualPadding).css('padding-right', parseFloat(calculatedPadding) + this._scrollbarWidth + \"px\");\n      }\n\n      $(document.body).addClass(CLASS_NAME_OPEN);\n    };\n\n    _proto._resetScrollbar = function _resetScrollbar() {\n      // Restore fixed content padding\n      var fixedContent = [].slice.call(document.querySelectorAll(SELECTOR_FIXED_CONTENT));\n      $(fixedContent).each(function (index, element) {\n        var padding = $(element).data('padding-right');\n        $(element).removeData('padding-right');\n        element.style.paddingRight = padding ? padding : '';\n      }); // Restore sticky content\n\n      var elements = [].slice.call(document.querySelectorAll(\"\" + SELECTOR_STICKY_CONTENT));\n      $(elements).each(function (index, element) {\n        var margin = $(element).data('margin-right');\n\n        if (typeof margin !== 'undefined') {\n          $(element).css('margin-right', margin).removeData('margin-right');\n        }\n      }); // Restore body padding\n\n      var padding = $(document.body).data('padding-right');\n      $(document.body).removeData('padding-right');\n      document.body.style.paddingRight = padding ? padding : '';\n    };\n\n    _proto._getScrollbarWidth = function _getScrollbarWidth() {\n      // thx d.walsh\n      var scrollDiv = document.createElement('div');\n      scrollDiv.className = CLASS_NAME_SCROLLBAR_MEASURER;\n      document.body.appendChild(scrollDiv);\n      var scrollbarWidth = scrollDiv.getBoundingClientRect().width - scrollDiv.clientWidth;\n      document.body.removeChild(scrollDiv);\n      return scrollbarWidth;\n    } // Static\n    ;\n\n    Modal._jQueryInterface = function _jQueryInterface(config, relatedTarget) {\n      return this.each(function () {\n        var data = $(this).data(DATA_KEY$5);\n\n        var _config = _objectSpread2(_objectSpread2(_objectSpread2({}, Default$3), $(this).data()), typeof config === 'object' && config ? config : {});\n\n        if (!data) {\n          data = new Modal(this, _config);\n          $(this).data(DATA_KEY$5, data);\n        }\n\n        if (typeof config === 'string') {\n          if (typeof data[config] === 'undefined') {\n            throw new TypeError(\"No method named \\\"\" + config + \"\\\"\");\n          }\n\n          data[config](relatedTarget);\n        } else if (_config.show) {\n          data.show(relatedTarget);\n        }\n      });\n    };\n\n    _createClass(Modal, null, [{\n      key: \"VERSION\",\n      get: function get() {\n        return VERSION$5;\n      }\n    }, {\n      key: \"Default\",\n      get: function get() {\n        return Default$3;\n      }\n    }]);\n\n    return Modal;\n  }();\n  /**\n   * ------------------------------------------------------------------------\n   * Data Api implementation\n   * ------------------------------------------------------------------------\n   */\n\n\n  $(document).on(EVENT_CLICK_DATA_API$5, SELECTOR_DATA_TOGGLE$3, function (event) {\n    var _this11 = this;\n\n    var target;\n    var selector = Util.getSelectorFromElement(this);\n\n    if (selector) {\n      target = document.querySelector(selector);\n    }\n\n    var config = $(target).data(DATA_KEY$5) ? 'toggle' : _objectSpread2(_objectSpread2({}, $(target).data()), $(this).data());\n\n    if (this.tagName === 'A' || this.tagName === 'AREA') {\n      event.preventDefault();\n    }\n\n    var $target = $(target).one(EVENT_SHOW$2, function (showEvent) {\n      if (showEvent.isDefaultPrevented()) {\n        // Only register focus restorer if modal will actually get shown\n        return;\n      }\n\n      $target.one(EVENT_HIDDEN$2, function () {\n        if ($(_this11).is(':visible')) {\n          _this11.focus();\n        }\n      });\n    });\n\n    Modal._jQueryInterface.call($(target), config, this);\n  });\n  /**\n   * ------------------------------------------------------------------------\n   * jQuery\n   * ------------------------------------------------------------------------\n   */\n\n  $.fn[NAME$5] = Modal._jQueryInterface;\n  $.fn[NAME$5].Constructor = Modal;\n\n  $.fn[NAME$5].noConflict = function () {\n    $.fn[NAME$5] = JQUERY_NO_CONFLICT$5;\n    return Modal._jQueryInterface;\n  };\n\n  /**\n   * --------------------------------------------------------------------------\n   * Bootstrap (v4.5.0): tools/sanitizer.js\n   * Licensed under MIT (https://github.com/twbs/bootstrap/blob/master/LICENSE)\n   * --------------------------------------------------------------------------\n   */\n  var uriAttrs = ['background', 'cite', 'href', 'itemtype', 'longdesc', 'poster', 'src', 'xlink:href'];\n  var ARIA_ATTRIBUTE_PATTERN = /^aria-[\\w-]*$/i;\n  var DefaultWhitelist = {\n    // Global attributes allowed on any supplied element below.\n    '*': ['class', 'dir', 'id', 'lang', 'role', ARIA_ATTRIBUTE_PATTERN],\n    a: ['target', 'href', 'title', 'rel'],\n    area: [],\n    b: [],\n    br: [],\n    col: [],\n    code: [],\n    div: [],\n    em: [],\n    hr: [],\n    h1: [],\n    h2: [],\n    h3: [],\n    h4: [],\n    h5: [],\n    h6: [],\n    i: [],\n    img: ['src', 'srcset', 'alt', 'title', 'width', 'height'],\n    li: [],\n    ol: [],\n    p: [],\n    pre: [],\n    s: [],\n    small: [],\n    span: [],\n    sub: [],\n    sup: [],\n    strong: [],\n    u: [],\n    ul: []\n  };\n  /**\n   * A pattern that recognizes a commonly useful subset of URLs that are safe.\n   *\n   * Shoutout to Angular 7 https://github.com/angular/angular/blob/7.2.4/packages/core/src/sanitization/url_sanitizer.ts\n   */\n\n  var SAFE_URL_PATTERN = /^(?:(?:https?|mailto|ftp|tel|file):|[^#&/:?]*(?:[#/?]|$))/gi;\n  /**\n   * A pattern that matches safe data URLs. Only matches image, video and audio types.\n   *\n   * Shoutout to Angular 7 https://github.com/angular/angular/blob/7.2.4/packages/core/src/sanitization/url_sanitizer.ts\n   */\n\n  var DATA_URL_PATTERN = /^data:(?:image\\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\\/(?:mpeg|mp4|ogg|webm)|audio\\/(?:mp3|oga|ogg|opus));base64,[\\d+/a-z]+=*$/i;\n\n  function allowedAttribute(attr, allowedAttributeList) {\n    var attrName = attr.nodeName.toLowerCase();\n\n    if (allowedAttributeList.indexOf(attrName) !== -1) {\n      if (uriAttrs.indexOf(attrName) !== -1) {\n        return Boolean(attr.nodeValue.match(SAFE_URL_PATTERN) || attr.nodeValue.match(DATA_URL_PATTERN));\n      }\n\n      return true;\n    }\n\n    var regExp = allowedAttributeList.filter(function (attrRegex) {\n      return attrRegex instanceof RegExp;\n    }); // Check if a regular expression validates the attribute.\n\n    for (var i = 0, len = regExp.length; i < len; i++) {\n      if (attrName.match(regExp[i])) {\n        return true;\n      }\n    }\n\n    return false;\n  }\n\n  function sanitizeHtml(unsafeHtml, whiteList, sanitizeFn) {\n    if (unsafeHtml.length === 0) {\n      return unsafeHtml;\n    }\n\n    if (sanitizeFn && typeof sanitizeFn === 'function') {\n      return sanitizeFn(unsafeHtml);\n    }\n\n    var domParser = new window.DOMParser();\n    var createdDocument = domParser.parseFromString(unsafeHtml, 'text/html');\n    var whitelistKeys = Object.keys(whiteList);\n    var elements = [].slice.call(createdDocument.body.querySelectorAll('*'));\n\n    var _loop = function _loop(i, len) {\n      var el = elements[i];\n      var elName = el.nodeName.toLowerCase();\n\n      if (whitelistKeys.indexOf(el.nodeName.toLowerCase()) === -1) {\n        el.parentNode.removeChild(el);\n        return \"continue\";\n      }\n\n      var attributeList = [].slice.call(el.attributes);\n      var whitelistedAttributes = [].concat(whiteList['*'] || [], whiteList[elName] || []);\n      attributeList.forEach(function (attr) {\n        if (!allowedAttribute(attr, whitelistedAttributes)) {\n          el.removeAttribute(attr.nodeName);\n        }\n      });\n    };\n\n    for (var i = 0, len = elements.length; i < len; i++) {\n      var _ret = _loop(i);\n\n      if (_ret === \"continue\") continue;\n    }\n\n    return createdDocument.body.innerHTML;\n  }\n\n  /**\n   * ------------------------------------------------------------------------\n   * Constants\n   * ------------------------------------------------------------------------\n   */\n\n  var NAME$6 = 'tooltip';\n  var VERSION$6 = '4.5.0';\n  var DATA_KEY$6 = 'bs.tooltip';\n  var EVENT_KEY$6 = \".\" + DATA_KEY$6;\n  var JQUERY_NO_CONFLICT$6 = $.fn[NAME$6];\n  var CLASS_PREFIX = 'bs-tooltip';\n  var BSCLS_PREFIX_REGEX = new RegExp(\"(^|\\\\s)\" + CLASS_PREFIX + \"\\\\S+\", 'g');\n  var DISALLOWED_ATTRIBUTES = ['sanitize', 'whiteList', 'sanitizeFn'];\n  var DefaultType$4 = {\n    animation: 'boolean',\n    template: 'string',\n    title: '(string|element|function)',\n    trigger: 'string',\n    delay: '(number|object)',\n    html: 'boolean',\n    selector: '(string|boolean)',\n    placement: '(string|function)',\n    offset: '(number|string|function)',\n    container: '(string|element|boolean)',\n    fallbackPlacement: '(string|array)',\n    boundary: '(string|element)',\n    sanitize: 'boolean',\n    sanitizeFn: '(null|function)',\n    whiteList: 'object',\n    popperConfig: '(null|object)'\n  };\n  var AttachmentMap = {\n    AUTO: 'auto',\n    TOP: 'top',\n    RIGHT: 'right',\n    BOTTOM: 'bottom',\n    LEFT: 'left'\n  };\n  var Default$4 = {\n    animation: true,\n    template: '<div class=\"tooltip\" role=\"tooltip\">' + '<div class=\"arrow\"></div>' + '<div class=\"tooltip-inner\"></div></div>',\n    trigger: 'hover focus',\n    title: '',\n    delay: 0,\n    html: false,\n    selector: false,\n    placement: 'top',\n    offset: 0,\n    container: false,\n    fallbackPlacement: 'flip',\n    boundary: 'scrollParent',\n    sanitize: true,\n    sanitizeFn: null,\n    whiteList: DefaultWhitelist,\n    popperConfig: null\n  };\n  var HOVER_STATE_SHOW = 'show';\n  var HOVER_STATE_OUT = 'out';\n  var Event = {\n    HIDE: \"hide\" + EVENT_KEY$6,\n    HIDDEN: \"hidden\" + EVENT_KEY$6,\n    SHOW: \"show\" + EVENT_KEY$6,\n    SHOWN: \"shown\" + EVENT_KEY$6,\n    INSERTED: \"inserted\" + EVENT_KEY$6,\n    CLICK: \"click\" + EVENT_KEY$6,\n    FOCUSIN: \"focusin\" + EVENT_KEY$6,\n    FOCUSOUT: \"focusout\" + EVENT_KEY$6,\n    MOUSEENTER: \"mouseenter\" + EVENT_KEY$6,\n    MOUSELEAVE: \"mouseleave\" + EVENT_KEY$6\n  };\n  var CLASS_NAME_FADE$2 = 'fade';\n  var CLASS_NAME_SHOW$4 = 'show';\n  var SELECTOR_TOOLTIP_INNER = '.tooltip-inner';\n  var SELECTOR_ARROW = '.arrow';\n  var TRIGGER_HOVER = 'hover';\n  var TRIGGER_FOCUS = 'focus';\n  var TRIGGER_CLICK = 'click';\n  var TRIGGER_MANUAL = 'manual';\n  /**\n   * ------------------------------------------------------------------------\n   * Class Definition\n   * ------------------------------------------------------------------------\n   */\n\n  var Tooltip = /*#__PURE__*/function () {\n    function Tooltip(element, config) {\n      if (typeof Popper === 'undefined') {\n        throw new TypeError('Bootstrap\\'s tooltips require Popper.js (https://popper.js.org/)');\n      } // private\n\n\n      this._isEnabled = true;\n      this._timeout = 0;\n      this._hoverState = '';\n      this._activeTrigger = {};\n      this._popper = null; // Protected\n\n      this.element = element;\n      this.config = this._getConfig(config);\n      this.tip = null;\n\n      this._setListeners();\n    } // Getters\n\n\n    var _proto = Tooltip.prototype;\n\n    // Public\n    _proto.enable = function enable() {\n      this._isEnabled = true;\n    };\n\n    _proto.disable = function disable() {\n      this._isEnabled = false;\n    };\n\n    _proto.toggleEnabled = function toggleEnabled() {\n      this._isEnabled = !this._isEnabled;\n    };\n\n    _proto.toggle = function toggle(event) {\n      if (!this._isEnabled) {\n        return;\n      }\n\n      if (event) {\n        var dataKey = this.constructor.DATA_KEY;\n        var context = $(event.currentTarget).data(dataKey);\n\n        if (!context) {\n          context = new this.constructor(event.currentTarget, this._getDelegateConfig());\n          $(event.currentTarget).data(dataKey, context);\n        }\n\n        context._activeTrigger.click = !context._activeTrigger.click;\n\n        if (context._isWithActiveTrigger()) {\n          context._enter(null, context);\n        } else {\n          context._leave(null, context);\n        }\n      } else {\n        if ($(this.getTipElement()).hasClass(CLASS_NAME_SHOW$4)) {\n          this._leave(null, this);\n\n          return;\n        }\n\n        this._enter(null, this);\n      }\n    };\n\n    _proto.dispose = function dispose() {\n      clearTimeout(this._timeout);\n      $.removeData(this.element, this.constructor.DATA_KEY);\n      $(this.element).off(this.constructor.EVENT_KEY);\n      $(this.element).closest('.modal').off('hide.bs.modal', this._hideModalHandler);\n\n      if (this.tip) {\n        $(this.tip).remove();\n      }\n\n      this._isEnabled = null;\n      this._timeout = null;\n      this._hoverState = null;\n      this._activeTrigger = null;\n\n      if (this._popper) {\n        this._popper.destroy();\n      }\n\n      this._popper = null;\n      this.element = null;\n      this.config = null;\n      this.tip = null;\n    };\n\n    _proto.show = function show() {\n      var _this = this;\n\n      if ($(this.element).css('display') === 'none') {\n        throw new Error('Please use show on visible elements');\n      }\n\n      var showEvent = $.Event(this.constructor.Event.SHOW);\n\n      if (this.isWithContent() && this._isEnabled) {\n        $(this.element).trigger(showEvent);\n        var shadowRoot = Util.findShadowRoot(this.element);\n        var isInTheDom = $.contains(shadowRoot !== null ? shadowRoot : this.element.ownerDocument.documentElement, this.element);\n\n        if (showEvent.isDefaultPrevented() || !isInTheDom) {\n          return;\n        }\n\n        var tip = this.getTipElement();\n        var tipId = Util.getUID(this.constructor.NAME);\n        tip.setAttribute('id', tipId);\n        this.element.setAttribute('aria-describedby', tipId);\n        this.setContent();\n\n        if (this.config.animation) {\n          $(tip).addClass(CLASS_NAME_FADE$2);\n        }\n\n        var placement = typeof this.config.placement === 'function' ? this.config.placement.call(this, tip, this.element) : this.config.placement;\n\n        var attachment = this._getAttachment(placement);\n\n        this.addAttachmentClass(attachment);\n\n        var container = this._getContainer();\n\n        $(tip).data(this.constructor.DATA_KEY, this);\n\n        if (!$.contains(this.element.ownerDocument.documentElement, this.tip)) {\n          $(tip).appendTo(container);\n        }\n\n        $(this.element).trigger(this.constructor.Event.INSERTED);\n        this._popper = new Popper(this.element, tip, this._getPopperConfig(attachment));\n        $(tip).addClass(CLASS_NAME_SHOW$4); // If this is a touch-enabled device we add extra\n        // empty mouseover listeners to the body's immediate children;\n        // only needed because of broken event delegation on iOS\n        // https://www.quirksmode.org/blog/archives/2014/02/mouse_event_bub.html\n\n        if ('ontouchstart' in document.documentElement) {\n          $(document.body).children().on('mouseover', null, $.noop);\n        }\n\n        var complete = function complete() {\n          if (_this.config.animation) {\n            _this._fixTransition();\n          }\n\n          var prevHoverState = _this._hoverState;\n          _this._hoverState = null;\n          $(_this.element).trigger(_this.constructor.Event.SHOWN);\n\n          if (prevHoverState === HOVER_STATE_OUT) {\n            _this._leave(null, _this);\n          }\n        };\n\n        if ($(this.tip).hasClass(CLASS_NAME_FADE$2)) {\n          var transitionDuration = Util.getTransitionDurationFromElement(this.tip);\n          $(this.tip).one(Util.TRANSITION_END, complete).emulateTransitionEnd(transitionDuration);\n        } else {\n          complete();\n        }\n      }\n    };\n\n    _proto.hide = function hide(callback) {\n      var _this2 = this;\n\n      var tip = this.getTipElement();\n      var hideEvent = $.Event(this.constructor.Event.HIDE);\n\n      var complete = function complete() {\n        if (_this2._hoverState !== HOVER_STATE_SHOW && tip.parentNode) {\n          tip.parentNode.removeChild(tip);\n        }\n\n        _this2._cleanTipClass();\n\n        _this2.element.removeAttribute('aria-describedby');\n\n        $(_this2.element).trigger(_this2.constructor.Event.HIDDEN);\n\n        if (_this2._popper !== null) {\n          _this2._popper.destroy();\n        }\n\n        if (callback) {\n          callback();\n        }\n      };\n\n      $(this.element).trigger(hideEvent);\n\n      if (hideEvent.isDefaultPrevented()) {\n        return;\n      }\n\n      $(tip).removeClass(CLASS_NAME_SHOW$4); // If this is a touch-enabled device we remove the extra\n      // empty mouseover listeners we added for iOS support\n\n      if ('ontouchstart' in document.documentElement) {\n        $(document.body).children().off('mouseover', null, $.noop);\n      }\n\n      this._activeTrigger[TRIGGER_CLICK] = false;\n      this._activeTrigger[TRIGGER_FOCUS] = false;\n      this._activeTrigger[TRIGGER_HOVER] = false;\n\n      if ($(this.tip).hasClass(CLASS_NAME_FADE$2)) {\n        var transitionDuration = Util.getTransitionDurationFromElement(tip);\n        $(tip).one(Util.TRANSITION_END, complete).emulateTransitionEnd(transitionDuration);\n      } else {\n        complete();\n      }\n\n      this._hoverState = '';\n    };\n\n    _proto.update = function update() {\n      if (this._popper !== null) {\n        this._popper.scheduleUpdate();\n      }\n    } // Protected\n    ;\n\n    _proto.isWithContent = function isWithContent() {\n      return Boolean(this.getTitle());\n    };\n\n    _proto.addAttachmentClass = function addAttachmentClass(attachment) {\n      $(this.getTipElement()).addClass(CLASS_PREFIX + \"-\" + attachment);\n    };\n\n    _proto.getTipElement = function getTipElement() {\n      this.tip = this.tip || $(this.config.template)[0];\n      return this.tip;\n    };\n\n    _proto.setContent = function setContent() {\n      var tip = this.getTipElement();\n      this.setElementContent($(tip.querySelectorAll(SELECTOR_TOOLTIP_INNER)), this.getTitle());\n      $(tip).removeClass(CLASS_NAME_FADE$2 + \" \" + CLASS_NAME_SHOW$4);\n    };\n\n    _proto.setElementContent = function setElementContent($element, content) {\n      if (typeof content === 'object' && (content.nodeType || content.jquery)) {\n        // Content is a DOM node or a jQuery\n        if (this.config.html) {\n          if (!$(content).parent().is($element)) {\n            $element.empty().append(content);\n          }\n        } else {\n          $element.text($(content).text());\n        }\n\n        return;\n      }\n\n      if (this.config.html) {\n        if (this.config.sanitize) {\n          content = sanitizeHtml(content, this.config.whiteList, this.config.sanitizeFn);\n        }\n\n        $element.html(content);\n      } else {\n        $element.text(content);\n      }\n    };\n\n    _proto.getTitle = function getTitle() {\n      var title = this.element.getAttribute('data-original-title');\n\n      if (!title) {\n        title = typeof this.config.title === 'function' ? this.config.title.call(this.element) : this.config.title;\n      }\n\n      return title;\n    } // Private\n    ;\n\n    _proto._getPopperConfig = function _getPopperConfig(attachment) {\n      var _this3 = this;\n\n      var defaultBsConfig = {\n        placement: attachment,\n        modifiers: {\n          offset: this._getOffset(),\n          flip: {\n            behavior: this.config.fallbackPlacement\n          },\n          arrow: {\n            element: SELECTOR_ARROW\n          },\n          preventOverflow: {\n            boundariesElement: this.config.boundary\n          }\n        },\n        onCreate: function onCreate(data) {\n          if (data.originalPlacement !== data.placement) {\n            _this3._handlePopperPlacementChange(data);\n          }\n        },\n        onUpdate: function onUpdate(data) {\n          return _this3._handlePopperPlacementChange(data);\n        }\n      };\n      return _objectSpread2(_objectSpread2({}, defaultBsConfig), this.config.popperConfig);\n    };\n\n    _proto._getOffset = function _getOffset() {\n      var _this4 = this;\n\n      var offset = {};\n\n      if (typeof this.config.offset === 'function') {\n        offset.fn = function (data) {\n          data.offsets = _objectSpread2(_objectSpread2({}, data.offsets), _this4.config.offset(data.offsets, _this4.element) || {});\n          return data;\n        };\n      } else {\n        offset.offset = this.config.offset;\n      }\n\n      return offset;\n    };\n\n    _proto._getContainer = function _getContainer() {\n      if (this.config.container === false) {\n        return document.body;\n      }\n\n      if (Util.isElement(this.config.container)) {\n        return $(this.config.container);\n      }\n\n      return $(document).find(this.config.container);\n    };\n\n    _proto._getAttachment = function _getAttachment(placement) {\n      return AttachmentMap[placement.toUpperCase()];\n    };\n\n    _proto._setListeners = function _setListeners() {\n      var _this5 = this;\n\n      var triggers = this.config.trigger.split(' ');\n      triggers.forEach(function (trigger) {\n        if (trigger === 'click') {\n          $(_this5.element).on(_this5.constructor.Event.CLICK, _this5.config.selector, function (event) {\n            return _this5.toggle(event);\n          });\n        } else if (trigger !== TRIGGER_MANUAL) {\n          var eventIn = trigger === TRIGGER_HOVER ? _this5.constructor.Event.MOUSEENTER : _this5.constructor.Event.FOCUSIN;\n          var eventOut = trigger === TRIGGER_HOVER ? _this5.constructor.Event.MOUSELEAVE : _this5.constructor.Event.FOCUSOUT;\n          $(_this5.element).on(eventIn, _this5.config.selector, function (event) {\n            return _this5._enter(event);\n          }).on(eventOut, _this5.config.selector, function (event) {\n            return _this5._leave(event);\n          });\n        }\n      });\n\n      this._hideModalHandler = function () {\n        if (_this5.element) {\n          _this5.hide();\n        }\n      };\n\n      $(this.element).closest('.modal').on('hide.bs.modal', this._hideModalHandler);\n\n      if (this.config.selector) {\n        this.config = _objectSpread2(_objectSpread2({}, this.config), {}, {\n          trigger: 'manual',\n          selector: ''\n        });\n      } else {\n        this._fixTitle();\n      }\n    };\n\n    _proto._fixTitle = function _fixTitle() {\n      var titleType = typeof this.element.getAttribute('data-original-title');\n\n      if (this.element.getAttribute('title') || titleType !== 'string') {\n        this.element.setAttribute('data-original-title', this.element.getAttribute('title') || '');\n        this.element.setAttribute('title', '');\n      }\n    };\n\n    _proto._enter = function _enter(event, context) {\n      var dataKey = this.constructor.DATA_KEY;\n      context = context || $(event.currentTarget).data(dataKey);\n\n      if (!context) {\n        context = new this.constructor(event.currentTarget, this._getDelegateConfig());\n        $(event.currentTarget).data(dataKey, context);\n      }\n\n      if (event) {\n        context._activeTrigger[event.type === 'focusin' ? TRIGGER_FOCUS : TRIGGER_HOVER] = true;\n      }\n\n      if ($(context.getTipElement()).hasClass(CLASS_NAME_SHOW$4) || context._hoverState === HOVER_STATE_SHOW) {\n        context._hoverState = HOVER_STATE_SHOW;\n        return;\n      }\n\n      clearTimeout(context._timeout);\n      context._hoverState = HOVER_STATE_SHOW;\n\n      if (!context.config.delay || !context.config.delay.show) {\n        context.show();\n        return;\n      }\n\n      context._timeout = setTimeout(function () {\n        if (context._hoverState === HOVER_STATE_SHOW) {\n          context.show();\n        }\n      }, context.config.delay.show);\n    };\n\n    _proto._leave = function _leave(event, context) {\n      var dataKey = this.constructor.DATA_KEY;\n      context = context || $(event.currentTarget).data(dataKey);\n\n      if (!context) {\n        context = new this.constructor(event.currentTarget, this._getDelegateConfig());\n        $(event.currentTarget).data(dataKey, context);\n      }\n\n      if (event) {\n        context._activeTrigger[event.type === 'focusout' ? TRIGGER_FOCUS : TRIGGER_HOVER] = false;\n      }\n\n      if (context._isWithActiveTrigger()) {\n        return;\n      }\n\n      clearTimeout(context._timeout);\n      context._hoverState = HOVER_STATE_OUT;\n\n      if (!context.config.delay || !context.config.delay.hide) {\n        context.hide();\n        return;\n      }\n\n      context._timeout = setTimeout(function () {\n        if (context._hoverState === HOVER_STATE_OUT) {\n          context.hide();\n        }\n      }, context.config.delay.hide);\n    };\n\n    _proto._isWithActiveTrigger = function _isWithActiveTrigger() {\n      for (var trigger in this._activeTrigger) {\n        if (this._activeTrigger[trigger]) {\n          return true;\n        }\n      }\n\n      return false;\n    };\n\n    _proto._getConfig = function _getConfig(config) {\n      var dataAttributes = $(this.element).data();\n      Object.keys(dataAttributes).forEach(function (dataAttr) {\n        if (DISALLOWED_ATTRIBUTES.indexOf(dataAttr) !== -1) {\n          delete dataAttributes[dataAttr];\n        }\n      });\n      config = _objectSpread2(_objectSpread2(_objectSpread2({}, this.constructor.Default), dataAttributes), typeof config === 'object' && config ? config : {});\n\n      if (typeof config.delay === 'number') {\n        config.delay = {\n          show: config.delay,\n          hide: config.delay\n        };\n      }\n\n      if (typeof config.title === 'number') {\n        config.title = config.title.toString();\n      }\n\n      if (typeof config.content === 'number') {\n        config.content = config.content.toString();\n      }\n\n      Util.typeCheckConfig(NAME$6, config, this.constructor.DefaultType);\n\n      if (config.sanitize) {\n        config.template = sanitizeHtml(config.template, config.whiteList, config.sanitizeFn);\n      }\n\n      return config;\n    };\n\n    _proto._getDelegateConfig = function _getDelegateConfig() {\n      var config = {};\n\n      if (this.config) {\n        for (var key in this.config) {\n          if (this.constructor.Default[key] !== this.config[key]) {\n            config[key] = this.config[key];\n          }\n        }\n      }\n\n      return config;\n    };\n\n    _proto._cleanTipClass = function _cleanTipClass() {\n      var $tip = $(this.getTipElement());\n      var tabClass = $tip.attr('class').match(BSCLS_PREFIX_REGEX);\n\n      if (tabClass !== null && tabClass.length) {\n        $tip.removeClass(tabClass.join(''));\n      }\n    };\n\n    _proto._handlePopperPlacementChange = function _handlePopperPlacementChange(popperData) {\n      this.tip = popperData.instance.popper;\n\n      this._cleanTipClass();\n\n      this.addAttachmentClass(this._getAttachment(popperData.placement));\n    };\n\n    _proto._fixTransition = function _fixTransition() {\n      var tip = this.getTipElement();\n      var initConfigAnimation = this.config.animation;\n\n      if (tip.getAttribute('x-placement') !== null) {\n        return;\n      }\n\n      $(tip).removeClass(CLASS_NAME_FADE$2);\n      this.config.animation = false;\n      this.hide();\n      this.show();\n      this.config.animation = initConfigAnimation;\n    } // Static\n    ;\n\n    Tooltip._jQueryInterface = function _jQueryInterface(config) {\n      return this.each(function () {\n        var data = $(this).data(DATA_KEY$6);\n\n        var _config = typeof config === 'object' && config;\n\n        if (!data && /dispose|hide/.test(config)) {\n          return;\n        }\n\n        if (!data) {\n          data = new Tooltip(this, _config);\n          $(this).data(DATA_KEY$6, data);\n        }\n\n        if (typeof config === 'string') {\n          if (typeof data[config] === 'undefined') {\n            throw new TypeError(\"No method named \\\"\" + config + \"\\\"\");\n          }\n\n          data[config]();\n        }\n      });\n    };\n\n    _createClass(Tooltip, null, [{\n      key: \"VERSION\",\n      get: function get() {\n        return VERSION$6;\n      }\n    }, {\n      key: \"Default\",\n      get: function get() {\n        return Default$4;\n      }\n    }, {\n      key: \"NAME\",\n      get: function get() {\n        return NAME$6;\n      }\n    }, {\n      key: \"DATA_KEY\",\n      get: function get() {\n        return DATA_KEY$6;\n      }\n    }, {\n      key: \"Event\",\n      get: function get() {\n        return Event;\n      }\n    }, {\n      key: \"EVENT_KEY\",\n      get: function get() {\n        return EVENT_KEY$6;\n      }\n    }, {\n      key: \"DefaultType\",\n      get: function get() {\n        return DefaultType$4;\n      }\n    }]);\n\n    return Tooltip;\n  }();\n  /**\n   * ------------------------------------------------------------------------\n   * jQuery\n   * ------------------------------------------------------------------------\n   */\n\n\n  $.fn[NAME$6] = Tooltip._jQueryInterface;\n  $.fn[NAME$6].Constructor = Tooltip;\n\n  $.fn[NAME$6].noConflict = function () {\n    $.fn[NAME$6] = JQUERY_NO_CONFLICT$6;\n    return Tooltip._jQueryInterface;\n  };\n\n  /**\n   * ------------------------------------------------------------------------\n   * Constants\n   * ------------------------------------------------------------------------\n   */\n\n  var NAME$7 = 'popover';\n  var VERSION$7 = '4.5.0';\n  var DATA_KEY$7 = 'bs.popover';\n  var EVENT_KEY$7 = \".\" + DATA_KEY$7;\n  var JQUERY_NO_CONFLICT$7 = $.fn[NAME$7];\n  var CLASS_PREFIX$1 = 'bs-popover';\n  var BSCLS_PREFIX_REGEX$1 = new RegExp(\"(^|\\\\s)\" + CLASS_PREFIX$1 + \"\\\\S+\", 'g');\n\n  var Default$5 = _objectSpread2(_objectSpread2({}, Tooltip.Default), {}, {\n    placement: 'right',\n    trigger: 'click',\n    content: '',\n    template: '<div class=\"popover\" role=\"tooltip\">' + '<div class=\"arrow\"></div>' + '<h3 class=\"popover-header\"></h3>' + '<div class=\"popover-body\"></div></div>'\n  });\n\n  var DefaultType$5 = _objectSpread2(_objectSpread2({}, Tooltip.DefaultType), {}, {\n    content: '(string|element|function)'\n  });\n\n  var CLASS_NAME_FADE$3 = 'fade';\n  var CLASS_NAME_SHOW$5 = 'show';\n  var SELECTOR_TITLE = '.popover-header';\n  var SELECTOR_CONTENT = '.popover-body';\n  var Event$1 = {\n    HIDE: \"hide\" + EVENT_KEY$7,\n    HIDDEN: \"hidden\" + EVENT_KEY$7,\n    SHOW: \"show\" + EVENT_KEY$7,\n    SHOWN: \"shown\" + EVENT_KEY$7,\n    INSERTED: \"inserted\" + EVENT_KEY$7,\n    CLICK: \"click\" + EVENT_KEY$7,\n    FOCUSIN: \"focusin\" + EVENT_KEY$7,\n    FOCUSOUT: \"focusout\" + EVENT_KEY$7,\n    MOUSEENTER: \"mouseenter\" + EVENT_KEY$7,\n    MOUSELEAVE: \"mouseleave\" + EVENT_KEY$7\n  };\n  /**\n   * ------------------------------------------------------------------------\n   * Class Definition\n   * ------------------------------------------------------------------------\n   */\n\n  var Popover = /*#__PURE__*/function (_Tooltip) {\n    _inheritsLoose(Popover, _Tooltip);\n\n    function Popover() {\n      return _Tooltip.apply(this, arguments) || this;\n    }\n\n    var _proto = Popover.prototype;\n\n    // Overrides\n    _proto.isWithContent = function isWithContent() {\n      return this.getTitle() || this._getContent();\n    };\n\n    _proto.addAttachmentClass = function addAttachmentClass(attachment) {\n      $(this.getTipElement()).addClass(CLASS_PREFIX$1 + \"-\" + attachment);\n    };\n\n    _proto.getTipElement = function getTipElement() {\n      this.tip = this.tip || $(this.config.template)[0];\n      return this.tip;\n    };\n\n    _proto.setContent = function setContent() {\n      var $tip = $(this.getTipElement()); // We use append for html objects to maintain js events\n\n      this.setElementContent($tip.find(SELECTOR_TITLE), this.getTitle());\n\n      var content = this._getContent();\n\n      if (typeof content === 'function') {\n        content = content.call(this.element);\n      }\n\n      this.setElementContent($tip.find(SELECTOR_CONTENT), content);\n      $tip.removeClass(CLASS_NAME_FADE$3 + \" \" + CLASS_NAME_SHOW$5);\n    } // Private\n    ;\n\n    _proto._getContent = function _getContent() {\n      return this.element.getAttribute('data-content') || this.config.content;\n    };\n\n    _proto._cleanTipClass = function _cleanTipClass() {\n      var $tip = $(this.getTipElement());\n      var tabClass = $tip.attr('class').match(BSCLS_PREFIX_REGEX$1);\n\n      if (tabClass !== null && tabClass.length > 0) {\n        $tip.removeClass(tabClass.join(''));\n      }\n    } // Static\n    ;\n\n    Popover._jQueryInterface = function _jQueryInterface(config) {\n      return this.each(function () {\n        var data = $(this).data(DATA_KEY$7);\n\n        var _config = typeof config === 'object' ? config : null;\n\n        if (!data && /dispose|hide/.test(config)) {\n          return;\n        }\n\n        if (!data) {\n          data = new Popover(this, _config);\n          $(this).data(DATA_KEY$7, data);\n        }\n\n        if (typeof config === 'string') {\n          if (typeof data[config] === 'undefined') {\n            throw new TypeError(\"No method named \\\"\" + config + \"\\\"\");\n          }\n\n          data[config]();\n        }\n      });\n    };\n\n    _createClass(Popover, null, [{\n      key: \"VERSION\",\n      // Getters\n      get: function get() {\n        return VERSION$7;\n      }\n    }, {\n      key: \"Default\",\n      get: function get() {\n        return Default$5;\n      }\n    }, {\n      key: \"NAME\",\n      get: function get() {\n        return NAME$7;\n      }\n    }, {\n      key: \"DATA_KEY\",\n      get: function get() {\n        return DATA_KEY$7;\n      }\n    }, {\n      key: \"Event\",\n      get: function get() {\n        return Event$1;\n      }\n    }, {\n      key: \"EVENT_KEY\",\n      get: function get() {\n        return EVENT_KEY$7;\n      }\n    }, {\n      key: \"DefaultType\",\n      get: function get() {\n        return DefaultType$5;\n      }\n    }]);\n\n    return Popover;\n  }(Tooltip);\n  /**\n   * ------------------------------------------------------------------------\n   * jQuery\n   * ------------------------------------------------------------------------\n   */\n\n\n  $.fn[NAME$7] = Popover._jQueryInterface;\n  $.fn[NAME$7].Constructor = Popover;\n\n  $.fn[NAME$7].noConflict = function () {\n    $.fn[NAME$7] = JQUERY_NO_CONFLICT$7;\n    return Popover._jQueryInterface;\n  };\n\n  /**\n   * ------------------------------------------------------------------------\n   * Constants\n   * ------------------------------------------------------------------------\n   */\n\n  var NAME$8 = 'scrollspy';\n  var VERSION$8 = '4.5.0';\n  var DATA_KEY$8 = 'bs.scrollspy';\n  var EVENT_KEY$8 = \".\" + DATA_KEY$8;\n  var DATA_API_KEY$6 = '.data-api';\n  var JQUERY_NO_CONFLICT$8 = $.fn[NAME$8];\n  var Default$6 = {\n    offset: 10,\n    method: 'auto',\n    target: ''\n  };\n  var DefaultType$6 = {\n    offset: 'number',\n    method: 'string',\n    target: '(string|element)'\n  };\n  var EVENT_ACTIVATE = \"activate\" + EVENT_KEY$8;\n  var EVENT_SCROLL = \"scroll\" + EVENT_KEY$8;\n  var EVENT_LOAD_DATA_API$2 = \"load\" + EVENT_KEY$8 + DATA_API_KEY$6;\n  var CLASS_NAME_DROPDOWN_ITEM = 'dropdown-item';\n  var CLASS_NAME_ACTIVE$2 = 'active';\n  var SELECTOR_DATA_SPY = '[data-spy=\"scroll\"]';\n  var SELECTOR_NAV_LIST_GROUP = '.nav, .list-group';\n  var SELECTOR_NAV_LINKS = '.nav-link';\n  var SELECTOR_NAV_ITEMS = '.nav-item';\n  var SELECTOR_LIST_ITEMS = '.list-group-item';\n  var SELECTOR_DROPDOWN = '.dropdown';\n  var SELECTOR_DROPDOWN_ITEMS = '.dropdown-item';\n  var SELECTOR_DROPDOWN_TOGGLE = '.dropdown-toggle';\n  var METHOD_OFFSET = 'offset';\n  var METHOD_POSITION = 'position';\n  /**\n   * ------------------------------------------------------------------------\n   * Class Definition\n   * ------------------------------------------------------------------------\n   */\n\n  var ScrollSpy = /*#__PURE__*/function () {\n    function ScrollSpy(element, config) {\n      var _this = this;\n\n      this._element = element;\n      this._scrollElement = element.tagName === 'BODY' ? window : element;\n      this._config = this._getConfig(config);\n      this._selector = this._config.target + \" \" + SELECTOR_NAV_LINKS + \",\" + (this._config.target + \" \" + SELECTOR_LIST_ITEMS + \",\") + (this._config.target + \" \" + SELECTOR_DROPDOWN_ITEMS);\n      this._offsets = [];\n      this._targets = [];\n      this._activeTarget = null;\n      this._scrollHeight = 0;\n      $(this._scrollElement).on(EVENT_SCROLL, function (event) {\n        return _this._process(event);\n      });\n      this.refresh();\n\n      this._process();\n    } // Getters\n\n\n    var _proto = ScrollSpy.prototype;\n\n    // Public\n    _proto.refresh = function refresh() {\n      var _this2 = this;\n\n      var autoMethod = this._scrollElement === this._scrollElement.window ? METHOD_OFFSET : METHOD_POSITION;\n      var offsetMethod = this._config.method === 'auto' ? autoMethod : this._config.method;\n      var offsetBase = offsetMethod === METHOD_POSITION ? this._getScrollTop() : 0;\n      this._offsets = [];\n      this._targets = [];\n      this._scrollHeight = this._getScrollHeight();\n      var targets = [].slice.call(document.querySelectorAll(this._selector));\n      targets.map(function (element) {\n        var target;\n        var targetSelector = Util.getSelectorFromElement(element);\n\n        if (targetSelector) {\n          target = document.querySelector(targetSelector);\n        }\n\n        if (target) {\n          var targetBCR = target.getBoundingClientRect();\n\n          if (targetBCR.width || targetBCR.height) {\n            // TODO (fat): remove sketch reliance on jQuery position/offset\n            return [$(target)[offsetMethod]().top + offsetBase, targetSelector];\n          }\n        }\n\n        return null;\n      }).filter(function (item) {\n        return item;\n      }).sort(function (a, b) {\n        return a[0] - b[0];\n      }).forEach(function (item) {\n        _this2._offsets.push(item[0]);\n\n        _this2._targets.push(item[1]);\n      });\n    };\n\n    _proto.dispose = function dispose() {\n      $.removeData(this._element, DATA_KEY$8);\n      $(this._scrollElement).off(EVENT_KEY$8);\n      this._element = null;\n      this._scrollElement = null;\n      this._config = null;\n      this._selector = null;\n      this._offsets = null;\n      this._targets = null;\n      this._activeTarget = null;\n      this._scrollHeight = null;\n    } // Private\n    ;\n\n    _proto._getConfig = function _getConfig(config) {\n      config = _objectSpread2(_objectSpread2({}, Default$6), typeof config === 'object' && config ? config : {});\n\n      if (typeof config.target !== 'string' && Util.isElement(config.target)) {\n        var id = $(config.target).attr('id');\n\n        if (!id) {\n          id = Util.getUID(NAME$8);\n          $(config.target).attr('id', id);\n        }\n\n        config.target = \"#\" + id;\n      }\n\n      Util.typeCheckConfig(NAME$8, config, DefaultType$6);\n      return config;\n    };\n\n    _proto._getScrollTop = function _getScrollTop() {\n      return this._scrollElement === window ? this._scrollElement.pageYOffset : this._scrollElement.scrollTop;\n    };\n\n    _proto._getScrollHeight = function _getScrollHeight() {\n      return this._scrollElement.scrollHeight || Math.max(document.body.scrollHeight, document.documentElement.scrollHeight);\n    };\n\n    _proto._getOffsetHeight = function _getOffsetHeight() {\n      return this._scrollElement === window ? window.innerHeight : this._scrollElement.getBoundingClientRect().height;\n    };\n\n    _proto._process = function _process() {\n      var scrollTop = this._getScrollTop() + this._config.offset;\n\n      var scrollHeight = this._getScrollHeight();\n\n      var maxScroll = this._config.offset + scrollHeight - this._getOffsetHeight();\n\n      if (this._scrollHeight !== scrollHeight) {\n        this.refresh();\n      }\n\n      if (scrollTop >= maxScroll) {\n        var target = this._targets[this._targets.length - 1];\n\n        if (this._activeTarget !== target) {\n          this._activate(target);\n        }\n\n        return;\n      }\n\n      if (this._activeTarget && scrollTop < this._offsets[0] && this._offsets[0] > 0) {\n        this._activeTarget = null;\n\n        this._clear();\n\n        return;\n      }\n\n      for (var i = this._offsets.length; i--;) {\n        var isActiveTarget = this._activeTarget !== this._targets[i] && scrollTop >= this._offsets[i] && (typeof this._offsets[i + 1] === 'undefined' || scrollTop < this._offsets[i + 1]);\n\n        if (isActiveTarget) {\n          this._activate(this._targets[i]);\n        }\n      }\n    };\n\n    _proto._activate = function _activate(target) {\n      this._activeTarget = target;\n\n      this._clear();\n\n      var queries = this._selector.split(',').map(function (selector) {\n        return selector + \"[data-target=\\\"\" + target + \"\\\"],\" + selector + \"[href=\\\"\" + target + \"\\\"]\";\n      });\n\n      var $link = $([].slice.call(document.querySelectorAll(queries.join(','))));\n\n      if ($link.hasClass(CLASS_NAME_DROPDOWN_ITEM)) {\n        $link.closest(SELECTOR_DROPDOWN).find(SELECTOR_DROPDOWN_TOGGLE).addClass(CLASS_NAME_ACTIVE$2);\n        $link.addClass(CLASS_NAME_ACTIVE$2);\n      } else {\n        // Set triggered link as active\n        $link.addClass(CLASS_NAME_ACTIVE$2); // Set triggered links parents as active\n        // With both <ul> and <nav> markup a parent is the previous sibling of any nav ancestor\n\n        $link.parents(SELECTOR_NAV_LIST_GROUP).prev(SELECTOR_NAV_LINKS + \", \" + SELECTOR_LIST_ITEMS).addClass(CLASS_NAME_ACTIVE$2); // Handle special case when .nav-link is inside .nav-item\n\n        $link.parents(SELECTOR_NAV_LIST_GROUP).prev(SELECTOR_NAV_ITEMS).children(SELECTOR_NAV_LINKS).addClass(CLASS_NAME_ACTIVE$2);\n      }\n\n      $(this._scrollElement).trigger(EVENT_ACTIVATE, {\n        relatedTarget: target\n      });\n    };\n\n    _proto._clear = function _clear() {\n      [].slice.call(document.querySelectorAll(this._selector)).filter(function (node) {\n        return node.classList.contains(CLASS_NAME_ACTIVE$2);\n      }).forEach(function (node) {\n        return node.classList.remove(CLASS_NAME_ACTIVE$2);\n      });\n    } // Static\n    ;\n\n    ScrollSpy._jQueryInterface = function _jQueryInterface(config) {\n      return this.each(function () {\n        var data = $(this).data(DATA_KEY$8);\n\n        var _config = typeof config === 'object' && config;\n\n        if (!data) {\n          data = new ScrollSpy(this, _config);\n          $(this).data(DATA_KEY$8, data);\n        }\n\n        if (typeof config === 'string') {\n          if (typeof data[config] === 'undefined') {\n            throw new TypeError(\"No method named \\\"\" + config + \"\\\"\");\n          }\n\n          data[config]();\n        }\n      });\n    };\n\n    _createClass(ScrollSpy, null, [{\n      key: \"VERSION\",\n      get: function get() {\n        return VERSION$8;\n      }\n    }, {\n      key: \"Default\",\n      get: function get() {\n        return Default$6;\n      }\n    }]);\n\n    return ScrollSpy;\n  }();\n  /**\n   * ------------------------------------------------------------------------\n   * Data Api implementation\n   * ------------------------------------------------------------------------\n   */\n\n\n  $(window).on(EVENT_LOAD_DATA_API$2, function () {\n    var scrollSpys = [].slice.call(document.querySelectorAll(SELECTOR_DATA_SPY));\n    var scrollSpysLength = scrollSpys.length;\n\n    for (var i = scrollSpysLength; i--;) {\n      var $spy = $(scrollSpys[i]);\n\n      ScrollSpy._jQueryInterface.call($spy, $spy.data());\n    }\n  });\n  /**\n   * ------------------------------------------------------------------------\n   * jQuery\n   * ------------------------------------------------------------------------\n   */\n\n  $.fn[NAME$8] = ScrollSpy._jQueryInterface;\n  $.fn[NAME$8].Constructor = ScrollSpy;\n\n  $.fn[NAME$8].noConflict = function () {\n    $.fn[NAME$8] = JQUERY_NO_CONFLICT$8;\n    return ScrollSpy._jQueryInterface;\n  };\n\n  /**\n   * ------------------------------------------------------------------------\n   * Constants\n   * ------------------------------------------------------------------------\n   */\n\n  var NAME$9 = 'tab';\n  var VERSION$9 = '4.5.0';\n  var DATA_KEY$9 = 'bs.tab';\n  var EVENT_KEY$9 = \".\" + DATA_KEY$9;\n  var DATA_API_KEY$7 = '.data-api';\n  var JQUERY_NO_CONFLICT$9 = $.fn[NAME$9];\n  var EVENT_HIDE$3 = \"hide\" + EVENT_KEY$9;\n  var EVENT_HIDDEN$3 = \"hidden\" + EVENT_KEY$9;\n  var EVENT_SHOW$3 = \"show\" + EVENT_KEY$9;\n  var EVENT_SHOWN$3 = \"shown\" + EVENT_KEY$9;\n  var EVENT_CLICK_DATA_API$6 = \"click\" + EVENT_KEY$9 + DATA_API_KEY$7;\n  var CLASS_NAME_DROPDOWN_MENU = 'dropdown-menu';\n  var CLASS_NAME_ACTIVE$3 = 'active';\n  var CLASS_NAME_DISABLED$1 = 'disabled';\n  var CLASS_NAME_FADE$4 = 'fade';\n  var CLASS_NAME_SHOW$6 = 'show';\n  var SELECTOR_DROPDOWN$1 = '.dropdown';\n  var SELECTOR_NAV_LIST_GROUP$1 = '.nav, .list-group';\n  var SELECTOR_ACTIVE$2 = '.active';\n  var SELECTOR_ACTIVE_UL = '> li > .active';\n  var SELECTOR_DATA_TOGGLE$4 = '[data-toggle=\"tab\"], [data-toggle=\"pill\"], [data-toggle=\"list\"]';\n  var SELECTOR_DROPDOWN_TOGGLE$1 = '.dropdown-toggle';\n  var SELECTOR_DROPDOWN_ACTIVE_CHILD = '> .dropdown-menu .active';\n  /**\n   * ------------------------------------------------------------------------\n   * Class Definition\n   * ------------------------------------------------------------------------\n   */\n\n  var Tab = /*#__PURE__*/function () {\n    function Tab(element) {\n      this._element = element;\n    } // Getters\n\n\n    var _proto = Tab.prototype;\n\n    // Public\n    _proto.show = function show() {\n      var _this = this;\n\n      if (this._element.parentNode && this._element.parentNode.nodeType === Node.ELEMENT_NODE && $(this._element).hasClass(CLASS_NAME_ACTIVE$3) || $(this._element).hasClass(CLASS_NAME_DISABLED$1)) {\n        return;\n      }\n\n      var target;\n      var previous;\n      var listElement = $(this._element).closest(SELECTOR_NAV_LIST_GROUP$1)[0];\n      var selector = Util.getSelectorFromElement(this._element);\n\n      if (listElement) {\n        var itemSelector = listElement.nodeName === 'UL' || listElement.nodeName === 'OL' ? SELECTOR_ACTIVE_UL : SELECTOR_ACTIVE$2;\n        previous = $.makeArray($(listElement).find(itemSelector));\n        previous = previous[previous.length - 1];\n      }\n\n      var hideEvent = $.Event(EVENT_HIDE$3, {\n        relatedTarget: this._element\n      });\n      var showEvent = $.Event(EVENT_SHOW$3, {\n        relatedTarget: previous\n      });\n\n      if (previous) {\n        $(previous).trigger(hideEvent);\n      }\n\n      $(this._element).trigger(showEvent);\n\n      if (showEvent.isDefaultPrevented() || hideEvent.isDefaultPrevented()) {\n        return;\n      }\n\n      if (selector) {\n        target = document.querySelector(selector);\n      }\n\n      this._activate(this._element, listElement);\n\n      var complete = function complete() {\n        var hiddenEvent = $.Event(EVENT_HIDDEN$3, {\n          relatedTarget: _this._element\n        });\n        var shownEvent = $.Event(EVENT_SHOWN$3, {\n          relatedTarget: previous\n        });\n        $(previous).trigger(hiddenEvent);\n        $(_this._element).trigger(shownEvent);\n      };\n\n      if (target) {\n        this._activate(target, target.parentNode, complete);\n      } else {\n        complete();\n      }\n    };\n\n    _proto.dispose = function dispose() {\n      $.removeData(this._element, DATA_KEY$9);\n      this._element = null;\n    } // Private\n    ;\n\n    _proto._activate = function _activate(element, container, callback) {\n      var _this2 = this;\n\n      var activeElements = container && (container.nodeName === 'UL' || container.nodeName === 'OL') ? $(container).find(SELECTOR_ACTIVE_UL) : $(container).children(SELECTOR_ACTIVE$2);\n      var active = activeElements[0];\n      var isTransitioning = callback && active && $(active).hasClass(CLASS_NAME_FADE$4);\n\n      var complete = function complete() {\n        return _this2._transitionComplete(element, active, callback);\n      };\n\n      if (active && isTransitioning) {\n        var transitionDuration = Util.getTransitionDurationFromElement(active);\n        $(active).removeClass(CLASS_NAME_SHOW$6).one(Util.TRANSITION_END, complete).emulateTransitionEnd(transitionDuration);\n      } else {\n        complete();\n      }\n    };\n\n    _proto._transitionComplete = function _transitionComplete(element, active, callback) {\n      if (active) {\n        $(active).removeClass(CLASS_NAME_ACTIVE$3);\n        var dropdownChild = $(active.parentNode).find(SELECTOR_DROPDOWN_ACTIVE_CHILD)[0];\n\n        if (dropdownChild) {\n          $(dropdownChild).removeClass(CLASS_NAME_ACTIVE$3);\n        }\n\n        if (active.getAttribute('role') === 'tab') {\n          active.setAttribute('aria-selected', false);\n        }\n      }\n\n      $(element).addClass(CLASS_NAME_ACTIVE$3);\n\n      if (element.getAttribute('role') === 'tab') {\n        element.setAttribute('aria-selected', true);\n      }\n\n      Util.reflow(element);\n\n      if (element.classList.contains(CLASS_NAME_FADE$4)) {\n        element.classList.add(CLASS_NAME_SHOW$6);\n      }\n\n      if (element.parentNode && $(element.parentNode).hasClass(CLASS_NAME_DROPDOWN_MENU)) {\n        var dropdownElement = $(element).closest(SELECTOR_DROPDOWN$1)[0];\n\n        if (dropdownElement) {\n          var dropdownToggleList = [].slice.call(dropdownElement.querySelectorAll(SELECTOR_DROPDOWN_TOGGLE$1));\n          $(dropdownToggleList).addClass(CLASS_NAME_ACTIVE$3);\n        }\n\n        element.setAttribute('aria-expanded', true);\n      }\n\n      if (callback) {\n        callback();\n      }\n    } // Static\n    ;\n\n    Tab._jQueryInterface = function _jQueryInterface(config) {\n      return this.each(function () {\n        var $this = $(this);\n        var data = $this.data(DATA_KEY$9);\n\n        if (!data) {\n          data = new Tab(this);\n          $this.data(DATA_KEY$9, data);\n        }\n\n        if (typeof config === 'string') {\n          if (typeof data[config] === 'undefined') {\n            throw new TypeError(\"No method named \\\"\" + config + \"\\\"\");\n          }\n\n          data[config]();\n        }\n      });\n    };\n\n    _createClass(Tab, null, [{\n      key: \"VERSION\",\n      get: function get() {\n        return VERSION$9;\n      }\n    }]);\n\n    return Tab;\n  }();\n  /**\n   * ------------------------------------------------------------------------\n   * Data Api implementation\n   * ------------------------------------------------------------------------\n   */\n\n\n  $(document).on(EVENT_CLICK_DATA_API$6, SELECTOR_DATA_TOGGLE$4, function (event) {\n    event.preventDefault();\n\n    Tab._jQueryInterface.call($(this), 'show');\n  });\n  /**\n   * ------------------------------------------------------------------------\n   * jQuery\n   * ------------------------------------------------------------------------\n   */\n\n  $.fn[NAME$9] = Tab._jQueryInterface;\n  $.fn[NAME$9].Constructor = Tab;\n\n  $.fn[NAME$9].noConflict = function () {\n    $.fn[NAME$9] = JQUERY_NO_CONFLICT$9;\n    return Tab._jQueryInterface;\n  };\n\n  /**\n   * ------------------------------------------------------------------------\n   * Constants\n   * ------------------------------------------------------------------------\n   */\n\n  var NAME$a = 'toast';\n  var VERSION$a = '4.5.0';\n  var DATA_KEY$a = 'bs.toast';\n  var EVENT_KEY$a = \".\" + DATA_KEY$a;\n  var JQUERY_NO_CONFLICT$a = $.fn[NAME$a];\n  var EVENT_CLICK_DISMISS$1 = \"click.dismiss\" + EVENT_KEY$a;\n  var EVENT_HIDE$4 = \"hide\" + EVENT_KEY$a;\n  var EVENT_HIDDEN$4 = \"hidden\" + EVENT_KEY$a;\n  var EVENT_SHOW$4 = \"show\" + EVENT_KEY$a;\n  var EVENT_SHOWN$4 = \"shown\" + EVENT_KEY$a;\n  var CLASS_NAME_FADE$5 = 'fade';\n  var CLASS_NAME_HIDE = 'hide';\n  var CLASS_NAME_SHOW$7 = 'show';\n  var CLASS_NAME_SHOWING = 'showing';\n  var DefaultType$7 = {\n    animation: 'boolean',\n    autohide: 'boolean',\n    delay: 'number'\n  };\n  var Default$7 = {\n    animation: true,\n    autohide: true,\n    delay: 500\n  };\n  var SELECTOR_DATA_DISMISS$1 = '[data-dismiss=\"toast\"]';\n  /**\n   * ------------------------------------------------------------------------\n   * Class Definition\n   * ------------------------------------------------------------------------\n   */\n\n  var Toast = /*#__PURE__*/function () {\n    function Toast(element, config) {\n      this._element = element;\n      this._config = this._getConfig(config);\n      this._timeout = null;\n\n      this._setListeners();\n    } // Getters\n\n\n    var _proto = Toast.prototype;\n\n    // Public\n    _proto.show = function show() {\n      var _this = this;\n\n      var showEvent = $.Event(EVENT_SHOW$4);\n      $(this._element).trigger(showEvent);\n\n      if (showEvent.isDefaultPrevented()) {\n        return;\n      }\n\n      if (this._config.animation) {\n        this._element.classList.add(CLASS_NAME_FADE$5);\n      }\n\n      var complete = function complete() {\n        _this._element.classList.remove(CLASS_NAME_SHOWING);\n\n        _this._element.classList.add(CLASS_NAME_SHOW$7);\n\n        $(_this._element).trigger(EVENT_SHOWN$4);\n\n        if (_this._config.autohide) {\n          _this._timeout = setTimeout(function () {\n            _this.hide();\n          }, _this._config.delay);\n        }\n      };\n\n      this._element.classList.remove(CLASS_NAME_HIDE);\n\n      Util.reflow(this._element);\n\n      this._element.classList.add(CLASS_NAME_SHOWING);\n\n      if (this._config.animation) {\n        var transitionDuration = Util.getTransitionDurationFromElement(this._element);\n        $(this._element).one(Util.TRANSITION_END, complete).emulateTransitionEnd(transitionDuration);\n      } else {\n        complete();\n      }\n    };\n\n    _proto.hide = function hide() {\n      if (!this._element.classList.contains(CLASS_NAME_SHOW$7)) {\n        return;\n      }\n\n      var hideEvent = $.Event(EVENT_HIDE$4);\n      $(this._element).trigger(hideEvent);\n\n      if (hideEvent.isDefaultPrevented()) {\n        return;\n      }\n\n      this._close();\n    };\n\n    _proto.dispose = function dispose() {\n      clearTimeout(this._timeout);\n      this._timeout = null;\n\n      if (this._element.classList.contains(CLASS_NAME_SHOW$7)) {\n        this._element.classList.remove(CLASS_NAME_SHOW$7);\n      }\n\n      $(this._element).off(EVENT_CLICK_DISMISS$1);\n      $.removeData(this._element, DATA_KEY$a);\n      this._element = null;\n      this._config = null;\n    } // Private\n    ;\n\n    _proto._getConfig = function _getConfig(config) {\n      config = _objectSpread2(_objectSpread2(_objectSpread2({}, Default$7), $(this._element).data()), typeof config === 'object' && config ? config : {});\n      Util.typeCheckConfig(NAME$a, config, this.constructor.DefaultType);\n      return config;\n    };\n\n    _proto._setListeners = function _setListeners() {\n      var _this2 = this;\n\n      $(this._element).on(EVENT_CLICK_DISMISS$1, SELECTOR_DATA_DISMISS$1, function () {\n        return _this2.hide();\n      });\n    };\n\n    _proto._close = function _close() {\n      var _this3 = this;\n\n      var complete = function complete() {\n        _this3._element.classList.add(CLASS_NAME_HIDE);\n\n        $(_this3._element).trigger(EVENT_HIDDEN$4);\n      };\n\n      this._element.classList.remove(CLASS_NAME_SHOW$7);\n\n      if (this._config.animation) {\n        var transitionDuration = Util.getTransitionDurationFromElement(this._element);\n        $(this._element).one(Util.TRANSITION_END, complete).emulateTransitionEnd(transitionDuration);\n      } else {\n        complete();\n      }\n    } // Static\n    ;\n\n    Toast._jQueryInterface = function _jQueryInterface(config) {\n      return this.each(function () {\n        var $element = $(this);\n        var data = $element.data(DATA_KEY$a);\n\n        var _config = typeof config === 'object' && config;\n\n        if (!data) {\n          data = new Toast(this, _config);\n          $element.data(DATA_KEY$a, data);\n        }\n\n        if (typeof config === 'string') {\n          if (typeof data[config] === 'undefined') {\n            throw new TypeError(\"No method named \\\"\" + config + \"\\\"\");\n          }\n\n          data[config](this);\n        }\n      });\n    };\n\n    _createClass(Toast, null, [{\n      key: \"VERSION\",\n      get: function get() {\n        return VERSION$a;\n      }\n    }, {\n      key: \"DefaultType\",\n      get: function get() {\n        return DefaultType$7;\n      }\n    }, {\n      key: \"Default\",\n      get: function get() {\n        return Default$7;\n      }\n    }]);\n\n    return Toast;\n  }();\n  /**\n   * ------------------------------------------------------------------------\n   * jQuery\n   * ------------------------------------------------------------------------\n   */\n\n\n  $.fn[NAME$a] = Toast._jQueryInterface;\n  $.fn[NAME$a].Constructor = Toast;\n\n  $.fn[NAME$a].noConflict = function () {\n    $.fn[NAME$a] = JQUERY_NO_CONFLICT$a;\n    return Toast._jQueryInterface;\n  };\n\n  exports.Alert = Alert;\n  exports.Button = Button;\n  exports.Carousel = Carousel;\n  exports.Collapse = Collapse;\n  exports.Dropdown = Dropdown;\n  exports.Modal = Modal;\n  exports.Popover = Popover;\n  exports.Scrollspy = ScrollSpy;\n  exports.Tab = Tab;\n  exports.Toast = Toast;\n  exports.Tooltip = Tooltip;\n  exports.Util = Util;\n\n  Object.defineProperty(exports, '__esModule', { value: true });\n\n})));\n//# sourceMappingURL=bootstrap.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvYm9vdHN0cmFwL2Rpc3QvanMvYm9vdHN0cmFwLmpzLmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2Jvb3RzdHJhcC9kaXN0L2pzL2Jvb3RzdHJhcC5qcz80OTg5Il0sInNvdXJjZXNDb250ZW50IjpbIi8qIVxuICAqIEJvb3RzdHJhcCB2NC41LjAgKGh0dHBzOi8vZ2V0Ym9vdHN0cmFwLmNvbS8pXG4gICogQ29weXJpZ2h0IDIwMTEtMjAyMCBUaGUgQm9vdHN0cmFwIEF1dGhvcnMgKGh0dHBzOi8vZ2l0aHViLmNvbS90d2JzL2Jvb3RzdHJhcC9ncmFwaHMvY29udHJpYnV0b3JzKVxuICAqIExpY2Vuc2VkIHVuZGVyIE1JVCAoaHR0cHM6Ly9naXRodWIuY29tL3R3YnMvYm9vdHN0cmFwL2Jsb2IvbWFzdGVyL0xJQ0VOU0UpXG4gICovXG4oZnVuY3Rpb24gKGdsb2JhbCwgZmFjdG9yeSkge1xuICB0eXBlb2YgZXhwb3J0cyA9PT0gJ29iamVjdCcgJiYgdHlwZW9mIG1vZHVsZSAhPT0gJ3VuZGVmaW5lZCcgPyBmYWN0b3J5KGV4cG9ydHMsIHJlcXVpcmUoJ2pxdWVyeScpLCByZXF1aXJlKCdwb3BwZXIuanMnKSkgOlxuICB0eXBlb2YgZGVmaW5lID09PSAnZnVuY3Rpb24nICYmIGRlZmluZS5hbWQgPyBkZWZpbmUoWydleHBvcnRzJywgJ2pxdWVyeScsICdwb3BwZXIuanMnXSwgZmFjdG9yeSkgOlxuICAoZ2xvYmFsID0gZ2xvYmFsIHx8IHNlbGYsIGZhY3RvcnkoZ2xvYmFsLmJvb3RzdHJhcCA9IHt9LCBnbG9iYWwualF1ZXJ5LCBnbG9iYWwuUG9wcGVyKSk7XG59KHRoaXMsIChmdW5jdGlvbiAoZXhwb3J0cywgJCwgUG9wcGVyKSB7ICd1c2Ugc3RyaWN0JztcblxuICAkID0gJCAmJiBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoJCwgJ2RlZmF1bHQnKSA/ICRbJ2RlZmF1bHQnXSA6ICQ7XG4gIFBvcHBlciA9IFBvcHBlciAmJiBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoUG9wcGVyLCAnZGVmYXVsdCcpID8gUG9wcGVyWydkZWZhdWx0J10gOiBQb3BwZXI7XG5cbiAgZnVuY3Rpb24gX2RlZmluZVByb3BlcnRpZXModGFyZ2V0LCBwcm9wcykge1xuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgcHJvcHMubGVuZ3RoOyBpKyspIHtcbiAgICAgIHZhciBkZXNjcmlwdG9yID0gcHJvcHNbaV07XG4gICAgICBkZXNjcmlwdG9yLmVudW1lcmFibGUgPSBkZXNjcmlwdG9yLmVudW1lcmFibGUgfHwgZmFsc2U7XG4gICAgICBkZXNjcmlwdG9yLmNvbmZpZ3VyYWJsZSA9IHRydWU7XG4gICAgICBpZiAoXCJ2YWx1ZVwiIGluIGRlc2NyaXB0b3IpIGRlc2NyaXB0b3Iud3JpdGFibGUgPSB0cnVlO1xuICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRhcmdldCwgZGVzY3JpcHRvci5rZXksIGRlc2NyaXB0b3IpO1xuICAgIH1cbiAgfVxuXG4gIGZ1bmN0aW9uIF9jcmVhdGVDbGFzcyhDb25zdHJ1Y3RvciwgcHJvdG9Qcm9wcywgc3RhdGljUHJvcHMpIHtcbiAgICBpZiAocHJvdG9Qcm9wcykgX2RlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IucHJvdG90eXBlLCBwcm90b1Byb3BzKTtcbiAgICBpZiAoc3RhdGljUHJvcHMpIF9kZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLCBzdGF0aWNQcm9wcyk7XG4gICAgcmV0dXJuIENvbnN0cnVjdG9yO1xuICB9XG5cbiAgZnVuY3Rpb24gX2RlZmluZVByb3BlcnR5KG9iaiwga2V5LCB2YWx1ZSkge1xuICAgIGlmIChrZXkgaW4gb2JqKSB7XG4gICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkob2JqLCBrZXksIHtcbiAgICAgICAgdmFsdWU6IHZhbHVlLFxuICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgICAgICBjb25maWd1cmFibGU6IHRydWUsXG4gICAgICAgIHdyaXRhYmxlOiB0cnVlXG4gICAgICB9KTtcbiAgICB9IGVsc2Uge1xuICAgICAgb2JqW2tleV0gPSB2YWx1ZTtcbiAgICB9XG5cbiAgICByZXR1cm4gb2JqO1xuICB9XG5cbiAgZnVuY3Rpb24gb3duS2V5cyhvYmplY3QsIGVudW1lcmFibGVPbmx5KSB7XG4gICAgdmFyIGtleXMgPSBPYmplY3Qua2V5cyhvYmplY3QpO1xuXG4gICAgaWYgKE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMpIHtcbiAgICAgIHZhciBzeW1ib2xzID0gT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scyhvYmplY3QpO1xuICAgICAgaWYgKGVudW1lcmFibGVPbmx5KSBzeW1ib2xzID0gc3ltYm9scy5maWx0ZXIoZnVuY3Rpb24gKHN5bSkge1xuICAgICAgICByZXR1cm4gT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihvYmplY3QsIHN5bSkuZW51bWVyYWJsZTtcbiAgICAgIH0pO1xuICAgICAga2V5cy5wdXNoLmFwcGx5KGtleXMsIHN5bWJvbHMpO1xuICAgIH1cblxuICAgIHJldHVybiBrZXlzO1xuICB9XG5cbiAgZnVuY3Rpb24gX29iamVjdFNwcmVhZDIodGFyZ2V0KSB7XG4gICAgZm9yICh2YXIgaSA9IDE7IGkgPCBhcmd1bWVudHMubGVuZ3RoOyBpKyspIHtcbiAgICAgIHZhciBzb3VyY2UgPSBhcmd1bWVudHNbaV0gIT0gbnVsbCA/IGFyZ3VtZW50c1tpXSA6IHt9O1xuXG4gICAgICBpZiAoaSAlIDIpIHtcbiAgICAgICAgb3duS2V5cyhPYmplY3Qoc291cmNlKSwgdHJ1ZSkuZm9yRWFjaChmdW5jdGlvbiAoa2V5KSB7XG4gICAgICAgICAgX2RlZmluZVByb3BlcnR5KHRhcmdldCwga2V5LCBzb3VyY2Vba2V5XSk7XG4gICAgICAgIH0pO1xuICAgICAgfSBlbHNlIGlmIChPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9ycykge1xuICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydGllcyh0YXJnZXQsIE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3JzKHNvdXJjZSkpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgb3duS2V5cyhPYmplY3Qoc291cmNlKSkuZm9yRWFjaChmdW5jdGlvbiAoa2V5KSB7XG4gICAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRhcmdldCwga2V5LCBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKHNvdXJjZSwga2V5KSk7XG4gICAgICAgIH0pO1xuICAgICAgfVxuICAgIH1cblxuICAgIHJldHVybiB0YXJnZXQ7XG4gIH1cblxuICBmdW5jdGlvbiBfaW5oZXJpdHNMb29zZShzdWJDbGFzcywgc3VwZXJDbGFzcykge1xuICAgIHN1YkNsYXNzLnByb3RvdHlwZSA9IE9iamVjdC5jcmVhdGUoc3VwZXJDbGFzcy5wcm90b3R5cGUpO1xuICAgIHN1YkNsYXNzLnByb3RvdHlwZS5jb25zdHJ1Y3RvciA9IHN1YkNsYXNzO1xuICAgIHN1YkNsYXNzLl9fcHJvdG9fXyA9IHN1cGVyQ2xhc3M7XG4gIH1cblxuICAvKipcbiAgICogLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAgICogQm9vdHN0cmFwICh2NC41LjApOiB1dGlsLmpzXG4gICAqIExpY2Vuc2VkIHVuZGVyIE1JVCAoaHR0cHM6Ly9naXRodWIuY29tL3R3YnMvYm9vdHN0cmFwL2Jsb2IvbWFzdGVyL0xJQ0VOU0UpXG4gICAqIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gICAqL1xuICAvKipcbiAgICogLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gICAqIFByaXZhdGUgVHJhbnNpdGlvbkVuZCBIZWxwZXJzXG4gICAqIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICAgKi9cblxuICB2YXIgVFJBTlNJVElPTl9FTkQgPSAndHJhbnNpdGlvbmVuZCc7XG4gIHZhciBNQVhfVUlEID0gMTAwMDAwMDtcbiAgdmFyIE1JTExJU0VDT05EU19NVUxUSVBMSUVSID0gMTAwMDsgLy8gU2hvdXRvdXQgQW5ndXNDcm9sbCAoaHR0cHM6Ly9nb28uZ2wvcHh3UUdwKVxuXG4gIGZ1bmN0aW9uIHRvVHlwZShvYmopIHtcbiAgICBpZiAob2JqID09PSBudWxsIHx8IHR5cGVvZiBvYmogPT09ICd1bmRlZmluZWQnKSB7XG4gICAgICByZXR1cm4gXCJcIiArIG9iajtcbiAgICB9XG5cbiAgICByZXR1cm4ge30udG9TdHJpbmcuY2FsbChvYmopLm1hdGNoKC9cXHMoW2Etel0rKS9pKVsxXS50b0xvd2VyQ2FzZSgpO1xuICB9XG5cbiAgZnVuY3Rpb24gZ2V0U3BlY2lhbFRyYW5zaXRpb25FbmRFdmVudCgpIHtcbiAgICByZXR1cm4ge1xuICAgICAgYmluZFR5cGU6IFRSQU5TSVRJT05fRU5ELFxuICAgICAgZGVsZWdhdGVUeXBlOiBUUkFOU0lUSU9OX0VORCxcbiAgICAgIGhhbmRsZTogZnVuY3Rpb24gaGFuZGxlKGV2ZW50KSB7XG4gICAgICAgIGlmICgkKGV2ZW50LnRhcmdldCkuaXModGhpcykpIHtcbiAgICAgICAgICByZXR1cm4gZXZlbnQuaGFuZGxlT2JqLmhhbmRsZXIuYXBwbHkodGhpcywgYXJndW1lbnRzKTsgLy8gZXNsaW50LWRpc2FibGUtbGluZSBwcmVmZXItcmVzdC1wYXJhbXNcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiB1bmRlZmluZWQ7XG4gICAgICB9XG4gICAgfTtcbiAgfVxuXG4gIGZ1bmN0aW9uIHRyYW5zaXRpb25FbmRFbXVsYXRvcihkdXJhdGlvbikge1xuICAgIHZhciBfdGhpcyA9IHRoaXM7XG5cbiAgICB2YXIgY2FsbGVkID0gZmFsc2U7XG4gICAgJCh0aGlzKS5vbmUoVXRpbC5UUkFOU0lUSU9OX0VORCwgZnVuY3Rpb24gKCkge1xuICAgICAgY2FsbGVkID0gdHJ1ZTtcbiAgICB9KTtcbiAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHtcbiAgICAgIGlmICghY2FsbGVkKSB7XG4gICAgICAgIFV0aWwudHJpZ2dlclRyYW5zaXRpb25FbmQoX3RoaXMpO1xuICAgICAgfVxuICAgIH0sIGR1cmF0aW9uKTtcbiAgICByZXR1cm4gdGhpcztcbiAgfVxuXG4gIGZ1bmN0aW9uIHNldFRyYW5zaXRpb25FbmRTdXBwb3J0KCkge1xuICAgICQuZm4uZW11bGF0ZVRyYW5zaXRpb25FbmQgPSB0cmFuc2l0aW9uRW5kRW11bGF0b3I7XG4gICAgJC5ldmVudC5zcGVjaWFsW1V0aWwuVFJBTlNJVElPTl9FTkRdID0gZ2V0U3BlY2lhbFRyYW5zaXRpb25FbmRFdmVudCgpO1xuICB9XG4gIC8qKlxuICAgKiAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICAgKiBQdWJsaWMgVXRpbCBBcGlcbiAgICogLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAgICovXG5cblxuICB2YXIgVXRpbCA9IHtcbiAgICBUUkFOU0lUSU9OX0VORDogJ2JzVHJhbnNpdGlvbkVuZCcsXG4gICAgZ2V0VUlEOiBmdW5jdGlvbiBnZXRVSUQocHJlZml4KSB7XG4gICAgICBkbyB7XG4gICAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby1iaXR3aXNlXG4gICAgICAgIHByZWZpeCArPSB+fihNYXRoLnJhbmRvbSgpICogTUFYX1VJRCk7IC8vIFwifn5cIiBhY3RzIGxpa2UgYSBmYXN0ZXIgTWF0aC5mbG9vcigpIGhlcmVcbiAgICAgIH0gd2hpbGUgKGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKHByZWZpeCkpO1xuXG4gICAgICByZXR1cm4gcHJlZml4O1xuICAgIH0sXG4gICAgZ2V0U2VsZWN0b3JGcm9tRWxlbWVudDogZnVuY3Rpb24gZ2V0U2VsZWN0b3JGcm9tRWxlbWVudChlbGVtZW50KSB7XG4gICAgICB2YXIgc2VsZWN0b3IgPSBlbGVtZW50LmdldEF0dHJpYnV0ZSgnZGF0YS10YXJnZXQnKTtcblxuICAgICAgaWYgKCFzZWxlY3RvciB8fCBzZWxlY3RvciA9PT0gJyMnKSB7XG4gICAgICAgIHZhciBocmVmQXR0ciA9IGVsZW1lbnQuZ2V0QXR0cmlidXRlKCdocmVmJyk7XG4gICAgICAgIHNlbGVjdG9yID0gaHJlZkF0dHIgJiYgaHJlZkF0dHIgIT09ICcjJyA/IGhyZWZBdHRyLnRyaW0oKSA6ICcnO1xuICAgICAgfVxuXG4gICAgICB0cnkge1xuICAgICAgICByZXR1cm4gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihzZWxlY3RvcikgPyBzZWxlY3RvciA6IG51bGw7XG4gICAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICB9XG4gICAgfSxcbiAgICBnZXRUcmFuc2l0aW9uRHVyYXRpb25Gcm9tRWxlbWVudDogZnVuY3Rpb24gZ2V0VHJhbnNpdGlvbkR1cmF0aW9uRnJvbUVsZW1lbnQoZWxlbWVudCkge1xuICAgICAgaWYgKCFlbGVtZW50KSB7XG4gICAgICAgIHJldHVybiAwO1xuICAgICAgfSAvLyBHZXQgdHJhbnNpdGlvbi1kdXJhdGlvbiBvZiB0aGUgZWxlbWVudFxuXG5cbiAgICAgIHZhciB0cmFuc2l0aW9uRHVyYXRpb24gPSAkKGVsZW1lbnQpLmNzcygndHJhbnNpdGlvbi1kdXJhdGlvbicpO1xuICAgICAgdmFyIHRyYW5zaXRpb25EZWxheSA9ICQoZWxlbWVudCkuY3NzKCd0cmFuc2l0aW9uLWRlbGF5Jyk7XG4gICAgICB2YXIgZmxvYXRUcmFuc2l0aW9uRHVyYXRpb24gPSBwYXJzZUZsb2F0KHRyYW5zaXRpb25EdXJhdGlvbik7XG4gICAgICB2YXIgZmxvYXRUcmFuc2l0aW9uRGVsYXkgPSBwYXJzZUZsb2F0KHRyYW5zaXRpb25EZWxheSk7IC8vIFJldHVybiAwIGlmIGVsZW1lbnQgb3IgdHJhbnNpdGlvbiBkdXJhdGlvbiBpcyBub3QgZm91bmRcblxuICAgICAgaWYgKCFmbG9hdFRyYW5zaXRpb25EdXJhdGlvbiAmJiAhZmxvYXRUcmFuc2l0aW9uRGVsYXkpIHtcbiAgICAgICAgcmV0dXJuIDA7XG4gICAgICB9IC8vIElmIG11bHRpcGxlIGR1cmF0aW9ucyBhcmUgZGVmaW5lZCwgdGFrZSB0aGUgZmlyc3RcblxuXG4gICAgICB0cmFuc2l0aW9uRHVyYXRpb24gPSB0cmFuc2l0aW9uRHVyYXRpb24uc3BsaXQoJywnKVswXTtcbiAgICAgIHRyYW5zaXRpb25EZWxheSA9IHRyYW5zaXRpb25EZWxheS5zcGxpdCgnLCcpWzBdO1xuICAgICAgcmV0dXJuIChwYXJzZUZsb2F0KHRyYW5zaXRpb25EdXJhdGlvbikgKyBwYXJzZUZsb2F0KHRyYW5zaXRpb25EZWxheSkpICogTUlMTElTRUNPTkRTX01VTFRJUExJRVI7XG4gICAgfSxcbiAgICByZWZsb3c6IGZ1bmN0aW9uIHJlZmxvdyhlbGVtZW50KSB7XG4gICAgICByZXR1cm4gZWxlbWVudC5vZmZzZXRIZWlnaHQ7XG4gICAgfSxcbiAgICB0cmlnZ2VyVHJhbnNpdGlvbkVuZDogZnVuY3Rpb24gdHJpZ2dlclRyYW5zaXRpb25FbmQoZWxlbWVudCkge1xuICAgICAgJChlbGVtZW50KS50cmlnZ2VyKFRSQU5TSVRJT05fRU5EKTtcbiAgICB9LFxuICAgIC8vIFRPRE86IFJlbW92ZSBpbiB2NVxuICAgIHN1cHBvcnRzVHJhbnNpdGlvbkVuZDogZnVuY3Rpb24gc3VwcG9ydHNUcmFuc2l0aW9uRW5kKCkge1xuICAgICAgcmV0dXJuIEJvb2xlYW4oVFJBTlNJVElPTl9FTkQpO1xuICAgIH0sXG4gICAgaXNFbGVtZW50OiBmdW5jdGlvbiBpc0VsZW1lbnQob2JqKSB7XG4gICAgICByZXR1cm4gKG9ialswXSB8fCBvYmopLm5vZGVUeXBlO1xuICAgIH0sXG4gICAgdHlwZUNoZWNrQ29uZmlnOiBmdW5jdGlvbiB0eXBlQ2hlY2tDb25maWcoY29tcG9uZW50TmFtZSwgY29uZmlnLCBjb25maWdUeXBlcykge1xuICAgICAgZm9yICh2YXIgcHJvcGVydHkgaW4gY29uZmlnVHlwZXMpIHtcbiAgICAgICAgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChjb25maWdUeXBlcywgcHJvcGVydHkpKSB7XG4gICAgICAgICAgdmFyIGV4cGVjdGVkVHlwZXMgPSBjb25maWdUeXBlc1twcm9wZXJ0eV07XG4gICAgICAgICAgdmFyIHZhbHVlID0gY29uZmlnW3Byb3BlcnR5XTtcbiAgICAgICAgICB2YXIgdmFsdWVUeXBlID0gdmFsdWUgJiYgVXRpbC5pc0VsZW1lbnQodmFsdWUpID8gJ2VsZW1lbnQnIDogdG9UeXBlKHZhbHVlKTtcblxuICAgICAgICAgIGlmICghbmV3IFJlZ0V4cChleHBlY3RlZFR5cGVzKS50ZXN0KHZhbHVlVHlwZSkpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihjb21wb25lbnROYW1lLnRvVXBwZXJDYXNlKCkgKyBcIjogXCIgKyAoXCJPcHRpb24gXFxcIlwiICsgcHJvcGVydHkgKyBcIlxcXCIgcHJvdmlkZWQgdHlwZSBcXFwiXCIgKyB2YWx1ZVR5cGUgKyBcIlxcXCIgXCIpICsgKFwiYnV0IGV4cGVjdGVkIHR5cGUgXFxcIlwiICsgZXhwZWN0ZWRUeXBlcyArIFwiXFxcIi5cIikpO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0sXG4gICAgZmluZFNoYWRvd1Jvb3Q6IGZ1bmN0aW9uIGZpbmRTaGFkb3dSb290KGVsZW1lbnQpIHtcbiAgICAgIGlmICghZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LmF0dGFjaFNoYWRvdykge1xuICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgIH0gLy8gQ2FuIGZpbmQgdGhlIHNoYWRvdyByb290IG90aGVyd2lzZSBpdCdsbCByZXR1cm4gdGhlIGRvY3VtZW50XG5cblxuICAgICAgaWYgKHR5cGVvZiBlbGVtZW50LmdldFJvb3ROb2RlID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgIHZhciByb290ID0gZWxlbWVudC5nZXRSb290Tm9kZSgpO1xuICAgICAgICByZXR1cm4gcm9vdCBpbnN0YW5jZW9mIFNoYWRvd1Jvb3QgPyByb290IDogbnVsbDtcbiAgICAgIH1cblxuICAgICAgaWYgKGVsZW1lbnQgaW5zdGFuY2VvZiBTaGFkb3dSb290KSB7XG4gICAgICAgIHJldHVybiBlbGVtZW50O1xuICAgICAgfSAvLyB3aGVuIHdlIGRvbid0IGZpbmQgYSBzaGFkb3cgcm9vdFxuXG5cbiAgICAgIGlmICghZWxlbWVudC5wYXJlbnROb2RlKSB7XG4gICAgICAgIHJldHVybiBudWxsO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gVXRpbC5maW5kU2hhZG93Um9vdChlbGVtZW50LnBhcmVudE5vZGUpO1xuICAgIH0sXG4gICAgalF1ZXJ5RGV0ZWN0aW9uOiBmdW5jdGlvbiBqUXVlcnlEZXRlY3Rpb24oKSB7XG4gICAgICBpZiAodHlwZW9mICQgPT09ICd1bmRlZmluZWQnKSB7XG4gICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ0Jvb3RzdHJhcFxcJ3MgSmF2YVNjcmlwdCByZXF1aXJlcyBqUXVlcnkuIGpRdWVyeSBtdXN0IGJlIGluY2x1ZGVkIGJlZm9yZSBCb290c3RyYXBcXCdzIEphdmFTY3JpcHQuJyk7XG4gICAgICB9XG5cbiAgICAgIHZhciB2ZXJzaW9uID0gJC5mbi5qcXVlcnkuc3BsaXQoJyAnKVswXS5zcGxpdCgnLicpO1xuICAgICAgdmFyIG1pbk1ham9yID0gMTtcbiAgICAgIHZhciBsdE1ham9yID0gMjtcbiAgICAgIHZhciBtaW5NaW5vciA9IDk7XG4gICAgICB2YXIgbWluUGF0Y2ggPSAxO1xuICAgICAgdmFyIG1heE1ham9yID0gNDtcblxuICAgICAgaWYgKHZlcnNpb25bMF0gPCBsdE1ham9yICYmIHZlcnNpb25bMV0gPCBtaW5NaW5vciB8fCB2ZXJzaW9uWzBdID09PSBtaW5NYWpvciAmJiB2ZXJzaW9uWzFdID09PSBtaW5NaW5vciAmJiB2ZXJzaW9uWzJdIDwgbWluUGF0Y2ggfHwgdmVyc2lvblswXSA+PSBtYXhNYWpvcikge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ0Jvb3RzdHJhcFxcJ3MgSmF2YVNjcmlwdCByZXF1aXJlcyBhdCBsZWFzdCBqUXVlcnkgdjEuOS4xIGJ1dCBsZXNzIHRoYW4gdjQuMC4wJyk7XG4gICAgICB9XG4gICAgfVxuICB9O1xuICBVdGlsLmpRdWVyeURldGVjdGlvbigpO1xuICBzZXRUcmFuc2l0aW9uRW5kU3VwcG9ydCgpO1xuXG4gIC8qKlxuICAgKiAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAgICogQ29uc3RhbnRzXG4gICAqIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICAgKi9cblxuICB2YXIgTkFNRSA9ICdhbGVydCc7XG4gIHZhciBWRVJTSU9OID0gJzQuNS4wJztcbiAgdmFyIERBVEFfS0VZID0gJ2JzLmFsZXJ0JztcbiAgdmFyIEVWRU5UX0tFWSA9IFwiLlwiICsgREFUQV9LRVk7XG4gIHZhciBEQVRBX0FQSV9LRVkgPSAnLmRhdGEtYXBpJztcbiAgdmFyIEpRVUVSWV9OT19DT05GTElDVCA9ICQuZm5bTkFNRV07XG4gIHZhciBTRUxFQ1RPUl9ESVNNSVNTID0gJ1tkYXRhLWRpc21pc3M9XCJhbGVydFwiXSc7XG4gIHZhciBFVkVOVF9DTE9TRSA9IFwiY2xvc2VcIiArIEVWRU5UX0tFWTtcbiAgdmFyIEVWRU5UX0NMT1NFRCA9IFwiY2xvc2VkXCIgKyBFVkVOVF9LRVk7XG4gIHZhciBFVkVOVF9DTElDS19EQVRBX0FQSSA9IFwiY2xpY2tcIiArIEVWRU5UX0tFWSArIERBVEFfQVBJX0tFWTtcbiAgdmFyIENMQVNTX05BTUVfQUxFUlQgPSAnYWxlcnQnO1xuICB2YXIgQ0xBU1NfTkFNRV9GQURFID0gJ2ZhZGUnO1xuICB2YXIgQ0xBU1NfTkFNRV9TSE9XID0gJ3Nob3cnO1xuICAvKipcbiAgICogLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gICAqIENsYXNzIERlZmluaXRpb25cbiAgICogLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gICAqL1xuXG4gIHZhciBBbGVydCA9IC8qI19fUFVSRV9fKi9mdW5jdGlvbiAoKSB7XG4gICAgZnVuY3Rpb24gQWxlcnQoZWxlbWVudCkge1xuICAgICAgdGhpcy5fZWxlbWVudCA9IGVsZW1lbnQ7XG4gICAgfSAvLyBHZXR0ZXJzXG5cblxuICAgIHZhciBfcHJvdG8gPSBBbGVydC5wcm90b3R5cGU7XG5cbiAgICAvLyBQdWJsaWNcbiAgICBfcHJvdG8uY2xvc2UgPSBmdW5jdGlvbiBjbG9zZShlbGVtZW50KSB7XG4gICAgICB2YXIgcm9vdEVsZW1lbnQgPSB0aGlzLl9lbGVtZW50O1xuXG4gICAgICBpZiAoZWxlbWVudCkge1xuICAgICAgICByb290RWxlbWVudCA9IHRoaXMuX2dldFJvb3RFbGVtZW50KGVsZW1lbnQpO1xuICAgICAgfVxuXG4gICAgICB2YXIgY3VzdG9tRXZlbnQgPSB0aGlzLl90cmlnZ2VyQ2xvc2VFdmVudChyb290RWxlbWVudCk7XG5cbiAgICAgIGlmIChjdXN0b21FdmVudC5pc0RlZmF1bHRQcmV2ZW50ZWQoKSkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG5cbiAgICAgIHRoaXMuX3JlbW92ZUVsZW1lbnQocm9vdEVsZW1lbnQpO1xuICAgIH07XG5cbiAgICBfcHJvdG8uZGlzcG9zZSA9IGZ1bmN0aW9uIGRpc3Bvc2UoKSB7XG4gICAgICAkLnJlbW92ZURhdGEodGhpcy5fZWxlbWVudCwgREFUQV9LRVkpO1xuICAgICAgdGhpcy5fZWxlbWVudCA9IG51bGw7XG4gICAgfSAvLyBQcml2YXRlXG4gICAgO1xuXG4gICAgX3Byb3RvLl9nZXRSb290RWxlbWVudCA9IGZ1bmN0aW9uIF9nZXRSb290RWxlbWVudChlbGVtZW50KSB7XG4gICAgICB2YXIgc2VsZWN0b3IgPSBVdGlsLmdldFNlbGVjdG9yRnJvbUVsZW1lbnQoZWxlbWVudCk7XG4gICAgICB2YXIgcGFyZW50ID0gZmFsc2U7XG5cbiAgICAgIGlmIChzZWxlY3Rvcikge1xuICAgICAgICBwYXJlbnQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKHNlbGVjdG9yKTtcbiAgICAgIH1cblxuICAgICAgaWYgKCFwYXJlbnQpIHtcbiAgICAgICAgcGFyZW50ID0gJChlbGVtZW50KS5jbG9zZXN0KFwiLlwiICsgQ0xBU1NfTkFNRV9BTEVSVClbMF07XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBwYXJlbnQ7XG4gICAgfTtcblxuICAgIF9wcm90by5fdHJpZ2dlckNsb3NlRXZlbnQgPSBmdW5jdGlvbiBfdHJpZ2dlckNsb3NlRXZlbnQoZWxlbWVudCkge1xuICAgICAgdmFyIGNsb3NlRXZlbnQgPSAkLkV2ZW50KEVWRU5UX0NMT1NFKTtcbiAgICAgICQoZWxlbWVudCkudHJpZ2dlcihjbG9zZUV2ZW50KTtcbiAgICAgIHJldHVybiBjbG9zZUV2ZW50O1xuICAgIH07XG5cbiAgICBfcHJvdG8uX3JlbW92ZUVsZW1lbnQgPSBmdW5jdGlvbiBfcmVtb3ZlRWxlbWVudChlbGVtZW50KSB7XG4gICAgICB2YXIgX3RoaXMgPSB0aGlzO1xuXG4gICAgICAkKGVsZW1lbnQpLnJlbW92ZUNsYXNzKENMQVNTX05BTUVfU0hPVyk7XG5cbiAgICAgIGlmICghJChlbGVtZW50KS5oYXNDbGFzcyhDTEFTU19OQU1FX0ZBREUpKSB7XG4gICAgICAgIHRoaXMuX2Rlc3Ryb3lFbGVtZW50KGVsZW1lbnQpO1xuXG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cblxuICAgICAgdmFyIHRyYW5zaXRpb25EdXJhdGlvbiA9IFV0aWwuZ2V0VHJhbnNpdGlvbkR1cmF0aW9uRnJvbUVsZW1lbnQoZWxlbWVudCk7XG4gICAgICAkKGVsZW1lbnQpLm9uZShVdGlsLlRSQU5TSVRJT05fRU5ELCBmdW5jdGlvbiAoZXZlbnQpIHtcbiAgICAgICAgcmV0dXJuIF90aGlzLl9kZXN0cm95RWxlbWVudChlbGVtZW50LCBldmVudCk7XG4gICAgICB9KS5lbXVsYXRlVHJhbnNpdGlvbkVuZCh0cmFuc2l0aW9uRHVyYXRpb24pO1xuICAgIH07XG5cbiAgICBfcHJvdG8uX2Rlc3Ryb3lFbGVtZW50ID0gZnVuY3Rpb24gX2Rlc3Ryb3lFbGVtZW50KGVsZW1lbnQpIHtcbiAgICAgICQoZWxlbWVudCkuZGV0YWNoKCkudHJpZ2dlcihFVkVOVF9DTE9TRUQpLnJlbW92ZSgpO1xuICAgIH0gLy8gU3RhdGljXG4gICAgO1xuXG4gICAgQWxlcnQuX2pRdWVyeUludGVyZmFjZSA9IGZ1bmN0aW9uIF9qUXVlcnlJbnRlcmZhY2UoY29uZmlnKSB7XG4gICAgICByZXR1cm4gdGhpcy5lYWNoKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyICRlbGVtZW50ID0gJCh0aGlzKTtcbiAgICAgICAgdmFyIGRhdGEgPSAkZWxlbWVudC5kYXRhKERBVEFfS0VZKTtcblxuICAgICAgICBpZiAoIWRhdGEpIHtcbiAgICAgICAgICBkYXRhID0gbmV3IEFsZXJ0KHRoaXMpO1xuICAgICAgICAgICRlbGVtZW50LmRhdGEoREFUQV9LRVksIGRhdGEpO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKGNvbmZpZyA9PT0gJ2Nsb3NlJykge1xuICAgICAgICAgIGRhdGFbY29uZmlnXSh0aGlzKTtcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgfTtcblxuICAgIEFsZXJ0Ll9oYW5kbGVEaXNtaXNzID0gZnVuY3Rpb24gX2hhbmRsZURpc21pc3MoYWxlcnRJbnN0YW5jZSkge1xuICAgICAgcmV0dXJuIGZ1bmN0aW9uIChldmVudCkge1xuICAgICAgICBpZiAoZXZlbnQpIHtcbiAgICAgICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICB9XG5cbiAgICAgICAgYWxlcnRJbnN0YW5jZS5jbG9zZSh0aGlzKTtcbiAgICAgIH07XG4gICAgfTtcblxuICAgIF9jcmVhdGVDbGFzcyhBbGVydCwgbnVsbCwgW3tcbiAgICAgIGtleTogXCJWRVJTSU9OXCIsXG4gICAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICAgICAgcmV0dXJuIFZFUlNJT047XG4gICAgICB9XG4gICAgfV0pO1xuXG4gICAgcmV0dXJuIEFsZXJ0O1xuICB9KCk7XG4gIC8qKlxuICAgKiAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAgICogRGF0YSBBcGkgaW1wbGVtZW50YXRpb25cbiAgICogLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gICAqL1xuXG5cbiAgJChkb2N1bWVudCkub24oRVZFTlRfQ0xJQ0tfREFUQV9BUEksIFNFTEVDVE9SX0RJU01JU1MsIEFsZXJ0Ll9oYW5kbGVEaXNtaXNzKG5ldyBBbGVydCgpKSk7XG4gIC8qKlxuICAgKiAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAgICogalF1ZXJ5XG4gICAqIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICAgKi9cblxuICAkLmZuW05BTUVdID0gQWxlcnQuX2pRdWVyeUludGVyZmFjZTtcbiAgJC5mbltOQU1FXS5Db25zdHJ1Y3RvciA9IEFsZXJ0O1xuXG4gICQuZm5bTkFNRV0ubm9Db25mbGljdCA9IGZ1bmN0aW9uICgpIHtcbiAgICAkLmZuW05BTUVdID0gSlFVRVJZX05PX0NPTkZMSUNUO1xuICAgIHJldHVybiBBbGVydC5falF1ZXJ5SW50ZXJmYWNlO1xuICB9O1xuXG4gIC8qKlxuICAgKiAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAgICogQ29uc3RhbnRzXG4gICAqIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICAgKi9cblxuICB2YXIgTkFNRSQxID0gJ2J1dHRvbic7XG4gIHZhciBWRVJTSU9OJDEgPSAnNC41LjAnO1xuICB2YXIgREFUQV9LRVkkMSA9ICdicy5idXR0b24nO1xuICB2YXIgRVZFTlRfS0VZJDEgPSBcIi5cIiArIERBVEFfS0VZJDE7XG4gIHZhciBEQVRBX0FQSV9LRVkkMSA9ICcuZGF0YS1hcGknO1xuICB2YXIgSlFVRVJZX05PX0NPTkZMSUNUJDEgPSAkLmZuW05BTUUkMV07XG4gIHZhciBDTEFTU19OQU1FX0FDVElWRSA9ICdhY3RpdmUnO1xuICB2YXIgQ0xBU1NfTkFNRV9CVVRUT04gPSAnYnRuJztcbiAgdmFyIENMQVNTX05BTUVfRk9DVVMgPSAnZm9jdXMnO1xuICB2YXIgU0VMRUNUT1JfREFUQV9UT0dHTEVfQ0FSUk9UID0gJ1tkYXRhLXRvZ2dsZV49XCJidXR0b25cIl0nO1xuICB2YXIgU0VMRUNUT1JfREFUQV9UT0dHTEVTID0gJ1tkYXRhLXRvZ2dsZT1cImJ1dHRvbnNcIl0nO1xuICB2YXIgU0VMRUNUT1JfREFUQV9UT0dHTEUgPSAnW2RhdGEtdG9nZ2xlPVwiYnV0dG9uXCJdJztcbiAgdmFyIFNFTEVDVE9SX0RBVEFfVE9HR0xFU19CVVRUT05TID0gJ1tkYXRhLXRvZ2dsZT1cImJ1dHRvbnNcIl0gLmJ0bic7XG4gIHZhciBTRUxFQ1RPUl9JTlBVVCA9ICdpbnB1dDpub3QoW3R5cGU9XCJoaWRkZW5cIl0pJztcbiAgdmFyIFNFTEVDVE9SX0FDVElWRSA9ICcuYWN0aXZlJztcbiAgdmFyIFNFTEVDVE9SX0JVVFRPTiA9ICcuYnRuJztcbiAgdmFyIEVWRU5UX0NMSUNLX0RBVEFfQVBJJDEgPSBcImNsaWNrXCIgKyBFVkVOVF9LRVkkMSArIERBVEFfQVBJX0tFWSQxO1xuICB2YXIgRVZFTlRfRk9DVVNfQkxVUl9EQVRBX0FQSSA9IFwiZm9jdXNcIiArIEVWRU5UX0tFWSQxICsgREFUQV9BUElfS0VZJDEgKyBcIiBcIiArIChcImJsdXJcIiArIEVWRU5UX0tFWSQxICsgREFUQV9BUElfS0VZJDEpO1xuICB2YXIgRVZFTlRfTE9BRF9EQVRBX0FQSSA9IFwibG9hZFwiICsgRVZFTlRfS0VZJDEgKyBEQVRBX0FQSV9LRVkkMTtcbiAgLyoqXG4gICAqIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICAgKiBDbGFzcyBEZWZpbml0aW9uXG4gICAqIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICAgKi9cblxuICB2YXIgQnV0dG9uID0gLyojX19QVVJFX18qL2Z1bmN0aW9uICgpIHtcbiAgICBmdW5jdGlvbiBCdXR0b24oZWxlbWVudCkge1xuICAgICAgdGhpcy5fZWxlbWVudCA9IGVsZW1lbnQ7XG4gICAgfSAvLyBHZXR0ZXJzXG5cblxuICAgIHZhciBfcHJvdG8gPSBCdXR0b24ucHJvdG90eXBlO1xuXG4gICAgLy8gUHVibGljXG4gICAgX3Byb3RvLnRvZ2dsZSA9IGZ1bmN0aW9uIHRvZ2dsZSgpIHtcbiAgICAgIHZhciB0cmlnZ2VyQ2hhbmdlRXZlbnQgPSB0cnVlO1xuICAgICAgdmFyIGFkZEFyaWFQcmVzc2VkID0gdHJ1ZTtcbiAgICAgIHZhciByb290RWxlbWVudCA9ICQodGhpcy5fZWxlbWVudCkuY2xvc2VzdChTRUxFQ1RPUl9EQVRBX1RPR0dMRVMpWzBdO1xuXG4gICAgICBpZiAocm9vdEVsZW1lbnQpIHtcbiAgICAgICAgdmFyIGlucHV0ID0gdGhpcy5fZWxlbWVudC5xdWVyeVNlbGVjdG9yKFNFTEVDVE9SX0lOUFVUKTtcblxuICAgICAgICBpZiAoaW5wdXQpIHtcbiAgICAgICAgICBpZiAoaW5wdXQudHlwZSA9PT0gJ3JhZGlvJykge1xuICAgICAgICAgICAgaWYgKGlucHV0LmNoZWNrZWQgJiYgdGhpcy5fZWxlbWVudC5jbGFzc0xpc3QuY29udGFpbnMoQ0xBU1NfTkFNRV9BQ1RJVkUpKSB7XG4gICAgICAgICAgICAgIHRyaWdnZXJDaGFuZ2VFdmVudCA9IGZhbHNlO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgdmFyIGFjdGl2ZUVsZW1lbnQgPSByb290RWxlbWVudC5xdWVyeVNlbGVjdG9yKFNFTEVDVE9SX0FDVElWRSk7XG5cbiAgICAgICAgICAgICAgaWYgKGFjdGl2ZUVsZW1lbnQpIHtcbiAgICAgICAgICAgICAgICAkKGFjdGl2ZUVsZW1lbnQpLnJlbW92ZUNsYXNzKENMQVNTX05BTUVfQUNUSVZFKTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cblxuICAgICAgICAgIGlmICh0cmlnZ2VyQ2hhbmdlRXZlbnQpIHtcbiAgICAgICAgICAgIC8vIGlmIGl0J3Mgbm90IGEgcmFkaW8gYnV0dG9uIG9yIGNoZWNrYm94IGRvbid0IGFkZCBhIHBvaW50bGVzcy9pbnZhbGlkIGNoZWNrZWQgcHJvcGVydHkgdG8gdGhlIGlucHV0XG4gICAgICAgICAgICBpZiAoaW5wdXQudHlwZSA9PT0gJ2NoZWNrYm94JyB8fCBpbnB1dC50eXBlID09PSAncmFkaW8nKSB7XG4gICAgICAgICAgICAgIGlucHV0LmNoZWNrZWQgPSAhdGhpcy5fZWxlbWVudC5jbGFzc0xpc3QuY29udGFpbnMoQ0xBU1NfTkFNRV9BQ1RJVkUpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAkKGlucHV0KS50cmlnZ2VyKCdjaGFuZ2UnKTtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICBpbnB1dC5mb2N1cygpO1xuICAgICAgICAgIGFkZEFyaWFQcmVzc2VkID0gZmFsc2U7XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgaWYgKCEodGhpcy5fZWxlbWVudC5oYXNBdHRyaWJ1dGUoJ2Rpc2FibGVkJykgfHwgdGhpcy5fZWxlbWVudC5jbGFzc0xpc3QuY29udGFpbnMoJ2Rpc2FibGVkJykpKSB7XG4gICAgICAgIGlmIChhZGRBcmlhUHJlc3NlZCkge1xuICAgICAgICAgIHRoaXMuX2VsZW1lbnQuc2V0QXR0cmlidXRlKCdhcmlhLXByZXNzZWQnLCAhdGhpcy5fZWxlbWVudC5jbGFzc0xpc3QuY29udGFpbnMoQ0xBU1NfTkFNRV9BQ1RJVkUpKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmICh0cmlnZ2VyQ2hhbmdlRXZlbnQpIHtcbiAgICAgICAgICAkKHRoaXMuX2VsZW1lbnQpLnRvZ2dsZUNsYXNzKENMQVNTX05BTUVfQUNUSVZFKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH07XG5cbiAgICBfcHJvdG8uZGlzcG9zZSA9IGZ1bmN0aW9uIGRpc3Bvc2UoKSB7XG4gICAgICAkLnJlbW92ZURhdGEodGhpcy5fZWxlbWVudCwgREFUQV9LRVkkMSk7XG4gICAgICB0aGlzLl9lbGVtZW50ID0gbnVsbDtcbiAgICB9IC8vIFN0YXRpY1xuICAgIDtcblxuICAgIEJ1dHRvbi5falF1ZXJ5SW50ZXJmYWNlID0gZnVuY3Rpb24gX2pRdWVyeUludGVyZmFjZShjb25maWcpIHtcbiAgICAgIHJldHVybiB0aGlzLmVhY2goZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgZGF0YSA9ICQodGhpcykuZGF0YShEQVRBX0tFWSQxKTtcblxuICAgICAgICBpZiAoIWRhdGEpIHtcbiAgICAgICAgICBkYXRhID0gbmV3IEJ1dHRvbih0aGlzKTtcbiAgICAgICAgICAkKHRoaXMpLmRhdGEoREFUQV9LRVkkMSwgZGF0YSk7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoY29uZmlnID09PSAndG9nZ2xlJykge1xuICAgICAgICAgIGRhdGFbY29uZmlnXSgpO1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgICB9O1xuXG4gICAgX2NyZWF0ZUNsYXNzKEJ1dHRvbiwgbnVsbCwgW3tcbiAgICAgIGtleTogXCJWRVJTSU9OXCIsXG4gICAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICAgICAgcmV0dXJuIFZFUlNJT04kMTtcbiAgICAgIH1cbiAgICB9XSk7XG5cbiAgICByZXR1cm4gQnV0dG9uO1xuICB9KCk7XG4gIC8qKlxuICAgKiAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAgICogRGF0YSBBcGkgaW1wbGVtZW50YXRpb25cbiAgICogLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gICAqL1xuXG5cbiAgJChkb2N1bWVudCkub24oRVZFTlRfQ0xJQ0tfREFUQV9BUEkkMSwgU0VMRUNUT1JfREFUQV9UT0dHTEVfQ0FSUk9ULCBmdW5jdGlvbiAoZXZlbnQpIHtcbiAgICB2YXIgYnV0dG9uID0gZXZlbnQudGFyZ2V0O1xuICAgIHZhciBpbml0aWFsQnV0dG9uID0gYnV0dG9uO1xuXG4gICAgaWYgKCEkKGJ1dHRvbikuaGFzQ2xhc3MoQ0xBU1NfTkFNRV9CVVRUT04pKSB7XG4gICAgICBidXR0b24gPSAkKGJ1dHRvbikuY2xvc2VzdChTRUxFQ1RPUl9CVVRUT04pWzBdO1xuICAgIH1cblxuICAgIGlmICghYnV0dG9uIHx8IGJ1dHRvbi5oYXNBdHRyaWJ1dGUoJ2Rpc2FibGVkJykgfHwgYnV0dG9uLmNsYXNzTGlzdC5jb250YWlucygnZGlzYWJsZWQnKSkge1xuICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTsgLy8gd29yayBhcm91bmQgRmlyZWZveCBidWcgIzE1NDA5OTVcbiAgICB9IGVsc2Uge1xuICAgICAgdmFyIGlucHV0QnRuID0gYnV0dG9uLnF1ZXJ5U2VsZWN0b3IoU0VMRUNUT1JfSU5QVVQpO1xuXG4gICAgICBpZiAoaW5wdXRCdG4gJiYgKGlucHV0QnRuLmhhc0F0dHJpYnV0ZSgnZGlzYWJsZWQnKSB8fCBpbnB1dEJ0bi5jbGFzc0xpc3QuY29udGFpbnMoJ2Rpc2FibGVkJykpKSB7XG4gICAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7IC8vIHdvcmsgYXJvdW5kIEZpcmVmb3ggYnVnICMxNTQwOTk1XG5cbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuXG4gICAgICBpZiAoaW5pdGlhbEJ1dHRvbi50YWdOYW1lID09PSAnTEFCRUwnICYmIGlucHV0QnRuICYmIGlucHV0QnRuLnR5cGUgPT09ICdjaGVja2JveCcpIHtcbiAgICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTsgLy8gd29yayBhcm91bmQgZXZlbnQgc2VudCB0byBsYWJlbCBhbmQgaW5wdXRcbiAgICAgIH1cblxuICAgICAgQnV0dG9uLl9qUXVlcnlJbnRlcmZhY2UuY2FsbCgkKGJ1dHRvbiksICd0b2dnbGUnKTtcbiAgICB9XG4gIH0pLm9uKEVWRU5UX0ZPQ1VTX0JMVVJfREFUQV9BUEksIFNFTEVDVE9SX0RBVEFfVE9HR0xFX0NBUlJPVCwgZnVuY3Rpb24gKGV2ZW50KSB7XG4gICAgdmFyIGJ1dHRvbiA9ICQoZXZlbnQudGFyZ2V0KS5jbG9zZXN0KFNFTEVDVE9SX0JVVFRPTilbMF07XG4gICAgJChidXR0b24pLnRvZ2dsZUNsYXNzKENMQVNTX05BTUVfRk9DVVMsIC9eZm9jdXMoaW4pPyQvLnRlc3QoZXZlbnQudHlwZSkpO1xuICB9KTtcbiAgJCh3aW5kb3cpLm9uKEVWRU5UX0xPQURfREFUQV9BUEksIGZ1bmN0aW9uICgpIHtcbiAgICAvLyBlbnN1cmUgY29ycmVjdCBhY3RpdmUgY2xhc3MgaXMgc2V0IHRvIG1hdGNoIHRoZSBjb250cm9scycgYWN0dWFsIHZhbHVlcy9zdGF0ZXNcbiAgICAvLyBmaW5kIGFsbCBjaGVja2JveGVzL3JlYWRpbyBidXR0b25zIGluc2lkZSBkYXRhLXRvZ2dsZSBncm91cHNcbiAgICB2YXIgYnV0dG9ucyA9IFtdLnNsaWNlLmNhbGwoZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbChTRUxFQ1RPUl9EQVRBX1RPR0dMRVNfQlVUVE9OUykpO1xuXG4gICAgZm9yICh2YXIgaSA9IDAsIGxlbiA9IGJ1dHRvbnMubGVuZ3RoOyBpIDwgbGVuOyBpKyspIHtcbiAgICAgIHZhciBidXR0b24gPSBidXR0b25zW2ldO1xuICAgICAgdmFyIGlucHV0ID0gYnV0dG9uLnF1ZXJ5U2VsZWN0b3IoU0VMRUNUT1JfSU5QVVQpO1xuXG4gICAgICBpZiAoaW5wdXQuY2hlY2tlZCB8fCBpbnB1dC5oYXNBdHRyaWJ1dGUoJ2NoZWNrZWQnKSkge1xuICAgICAgICBidXR0b24uY2xhc3NMaXN0LmFkZChDTEFTU19OQU1FX0FDVElWRSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBidXR0b24uY2xhc3NMaXN0LnJlbW92ZShDTEFTU19OQU1FX0FDVElWRSk7XG4gICAgICB9XG4gICAgfSAvLyBmaW5kIGFsbCBidXR0b24gdG9nZ2xlc1xuXG5cbiAgICBidXR0b25zID0gW10uc2xpY2UuY2FsbChkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKFNFTEVDVE9SX0RBVEFfVE9HR0xFKSk7XG5cbiAgICBmb3IgKHZhciBfaSA9IDAsIF9sZW4gPSBidXR0b25zLmxlbmd0aDsgX2kgPCBfbGVuOyBfaSsrKSB7XG4gICAgICB2YXIgX2J1dHRvbiA9IGJ1dHRvbnNbX2ldO1xuXG4gICAgICBpZiAoX2J1dHRvbi5nZXRBdHRyaWJ1dGUoJ2FyaWEtcHJlc3NlZCcpID09PSAndHJ1ZScpIHtcbiAgICAgICAgX2J1dHRvbi5jbGFzc0xpc3QuYWRkKENMQVNTX05BTUVfQUNUSVZFKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIF9idXR0b24uY2xhc3NMaXN0LnJlbW92ZShDTEFTU19OQU1FX0FDVElWRSk7XG4gICAgICB9XG4gICAgfVxuICB9KTtcbiAgLyoqXG4gICAqIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICAgKiBqUXVlcnlcbiAgICogLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gICAqL1xuXG4gICQuZm5bTkFNRSQxXSA9IEJ1dHRvbi5falF1ZXJ5SW50ZXJmYWNlO1xuICAkLmZuW05BTUUkMV0uQ29uc3RydWN0b3IgPSBCdXR0b247XG5cbiAgJC5mbltOQU1FJDFdLm5vQ29uZmxpY3QgPSBmdW5jdGlvbiAoKSB7XG4gICAgJC5mbltOQU1FJDFdID0gSlFVRVJZX05PX0NPTkZMSUNUJDE7XG4gICAgcmV0dXJuIEJ1dHRvbi5falF1ZXJ5SW50ZXJmYWNlO1xuICB9O1xuXG4gIC8qKlxuICAgKiAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAgICogQ29uc3RhbnRzXG4gICAqIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICAgKi9cblxuICB2YXIgTkFNRSQyID0gJ2Nhcm91c2VsJztcbiAgdmFyIFZFUlNJT04kMiA9ICc0LjUuMCc7XG4gIHZhciBEQVRBX0tFWSQyID0gJ2JzLmNhcm91c2VsJztcbiAgdmFyIEVWRU5UX0tFWSQyID0gXCIuXCIgKyBEQVRBX0tFWSQyO1xuICB2YXIgREFUQV9BUElfS0VZJDIgPSAnLmRhdGEtYXBpJztcbiAgdmFyIEpRVUVSWV9OT19DT05GTElDVCQyID0gJC5mbltOQU1FJDJdO1xuICB2YXIgQVJST1dfTEVGVF9LRVlDT0RFID0gMzc7IC8vIEtleWJvYXJkRXZlbnQud2hpY2ggdmFsdWUgZm9yIGxlZnQgYXJyb3cga2V5XG5cbiAgdmFyIEFSUk9XX1JJR0hUX0tFWUNPREUgPSAzOTsgLy8gS2V5Ym9hcmRFdmVudC53aGljaCB2YWx1ZSBmb3IgcmlnaHQgYXJyb3cga2V5XG5cbiAgdmFyIFRPVUNIRVZFTlRfQ09NUEFUX1dBSVQgPSA1MDA7IC8vIFRpbWUgZm9yIG1vdXNlIGNvbXBhdCBldmVudHMgdG8gZmlyZSBhZnRlciB0b3VjaFxuXG4gIHZhciBTV0lQRV9USFJFU0hPTEQgPSA0MDtcbiAgdmFyIERlZmF1bHQgPSB7XG4gICAgaW50ZXJ2YWw6IDUwMDAsXG4gICAga2V5Ym9hcmQ6IHRydWUsXG4gICAgc2xpZGU6IGZhbHNlLFxuICAgIHBhdXNlOiAnaG92ZXInLFxuICAgIHdyYXA6IHRydWUsXG4gICAgdG91Y2g6IHRydWVcbiAgfTtcbiAgdmFyIERlZmF1bHRUeXBlID0ge1xuICAgIGludGVydmFsOiAnKG51bWJlcnxib29sZWFuKScsXG4gICAga2V5Ym9hcmQ6ICdib29sZWFuJyxcbiAgICBzbGlkZTogJyhib29sZWFufHN0cmluZyknLFxuICAgIHBhdXNlOiAnKHN0cmluZ3xib29sZWFuKScsXG4gICAgd3JhcDogJ2Jvb2xlYW4nLFxuICAgIHRvdWNoOiAnYm9vbGVhbidcbiAgfTtcbiAgdmFyIERJUkVDVElPTl9ORVhUID0gJ25leHQnO1xuICB2YXIgRElSRUNUSU9OX1BSRVYgPSAncHJldic7XG4gIHZhciBESVJFQ1RJT05fTEVGVCA9ICdsZWZ0JztcbiAgdmFyIERJUkVDVElPTl9SSUdIVCA9ICdyaWdodCc7XG4gIHZhciBFVkVOVF9TTElERSA9IFwic2xpZGVcIiArIEVWRU5UX0tFWSQyO1xuICB2YXIgRVZFTlRfU0xJRCA9IFwic2xpZFwiICsgRVZFTlRfS0VZJDI7XG4gIHZhciBFVkVOVF9LRVlET1dOID0gXCJrZXlkb3duXCIgKyBFVkVOVF9LRVkkMjtcbiAgdmFyIEVWRU5UX01PVVNFRU5URVIgPSBcIm1vdXNlZW50ZXJcIiArIEVWRU5UX0tFWSQyO1xuICB2YXIgRVZFTlRfTU9VU0VMRUFWRSA9IFwibW91c2VsZWF2ZVwiICsgRVZFTlRfS0VZJDI7XG4gIHZhciBFVkVOVF9UT1VDSFNUQVJUID0gXCJ0b3VjaHN0YXJ0XCIgKyBFVkVOVF9LRVkkMjtcbiAgdmFyIEVWRU5UX1RPVUNITU9WRSA9IFwidG91Y2htb3ZlXCIgKyBFVkVOVF9LRVkkMjtcbiAgdmFyIEVWRU5UX1RPVUNIRU5EID0gXCJ0b3VjaGVuZFwiICsgRVZFTlRfS0VZJDI7XG4gIHZhciBFVkVOVF9QT0lOVEVSRE9XTiA9IFwicG9pbnRlcmRvd25cIiArIEVWRU5UX0tFWSQyO1xuICB2YXIgRVZFTlRfUE9JTlRFUlVQID0gXCJwb2ludGVydXBcIiArIEVWRU5UX0tFWSQyO1xuICB2YXIgRVZFTlRfRFJBR19TVEFSVCA9IFwiZHJhZ3N0YXJ0XCIgKyBFVkVOVF9LRVkkMjtcbiAgdmFyIEVWRU5UX0xPQURfREFUQV9BUEkkMSA9IFwibG9hZFwiICsgRVZFTlRfS0VZJDIgKyBEQVRBX0FQSV9LRVkkMjtcbiAgdmFyIEVWRU5UX0NMSUNLX0RBVEFfQVBJJDIgPSBcImNsaWNrXCIgKyBFVkVOVF9LRVkkMiArIERBVEFfQVBJX0tFWSQyO1xuICB2YXIgQ0xBU1NfTkFNRV9DQVJPVVNFTCA9ICdjYXJvdXNlbCc7XG4gIHZhciBDTEFTU19OQU1FX0FDVElWRSQxID0gJ2FjdGl2ZSc7XG4gIHZhciBDTEFTU19OQU1FX1NMSURFID0gJ3NsaWRlJztcbiAgdmFyIENMQVNTX05BTUVfUklHSFQgPSAnY2Fyb3VzZWwtaXRlbS1yaWdodCc7XG4gIHZhciBDTEFTU19OQU1FX0xFRlQgPSAnY2Fyb3VzZWwtaXRlbS1sZWZ0JztcbiAgdmFyIENMQVNTX05BTUVfTkVYVCA9ICdjYXJvdXNlbC1pdGVtLW5leHQnO1xuICB2YXIgQ0xBU1NfTkFNRV9QUkVWID0gJ2Nhcm91c2VsLWl0ZW0tcHJldic7XG4gIHZhciBDTEFTU19OQU1FX1BPSU5URVJfRVZFTlQgPSAncG9pbnRlci1ldmVudCc7XG4gIHZhciBTRUxFQ1RPUl9BQ1RJVkUkMSA9ICcuYWN0aXZlJztcbiAgdmFyIFNFTEVDVE9SX0FDVElWRV9JVEVNID0gJy5hY3RpdmUuY2Fyb3VzZWwtaXRlbSc7XG4gIHZhciBTRUxFQ1RPUl9JVEVNID0gJy5jYXJvdXNlbC1pdGVtJztcbiAgdmFyIFNFTEVDVE9SX0lURU1fSU1HID0gJy5jYXJvdXNlbC1pdGVtIGltZyc7XG4gIHZhciBTRUxFQ1RPUl9ORVhUX1BSRVYgPSAnLmNhcm91c2VsLWl0ZW0tbmV4dCwgLmNhcm91c2VsLWl0ZW0tcHJldic7XG4gIHZhciBTRUxFQ1RPUl9JTkRJQ0FUT1JTID0gJy5jYXJvdXNlbC1pbmRpY2F0b3JzJztcbiAgdmFyIFNFTEVDVE9SX0RBVEFfU0xJREUgPSAnW2RhdGEtc2xpZGVdLCBbZGF0YS1zbGlkZS10b10nO1xuICB2YXIgU0VMRUNUT1JfREFUQV9SSURFID0gJ1tkYXRhLXJpZGU9XCJjYXJvdXNlbFwiXSc7XG4gIHZhciBQb2ludGVyVHlwZSA9IHtcbiAgICBUT1VDSDogJ3RvdWNoJyxcbiAgICBQRU46ICdwZW4nXG4gIH07XG4gIC8qKlxuICAgKiAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAgICogQ2xhc3MgRGVmaW5pdGlvblxuICAgKiAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAgICovXG5cbiAgdmFyIENhcm91c2VsID0gLyojX19QVVJFX18qL2Z1bmN0aW9uICgpIHtcbiAgICBmdW5jdGlvbiBDYXJvdXNlbChlbGVtZW50LCBjb25maWcpIHtcbiAgICAgIHRoaXMuX2l0ZW1zID0gbnVsbDtcbiAgICAgIHRoaXMuX2ludGVydmFsID0gbnVsbDtcbiAgICAgIHRoaXMuX2FjdGl2ZUVsZW1lbnQgPSBudWxsO1xuICAgICAgdGhpcy5faXNQYXVzZWQgPSBmYWxzZTtcbiAgICAgIHRoaXMuX2lzU2xpZGluZyA9IGZhbHNlO1xuICAgICAgdGhpcy50b3VjaFRpbWVvdXQgPSBudWxsO1xuICAgICAgdGhpcy50b3VjaFN0YXJ0WCA9IDA7XG4gICAgICB0aGlzLnRvdWNoRGVsdGFYID0gMDtcbiAgICAgIHRoaXMuX2NvbmZpZyA9IHRoaXMuX2dldENvbmZpZyhjb25maWcpO1xuICAgICAgdGhpcy5fZWxlbWVudCA9IGVsZW1lbnQ7XG4gICAgICB0aGlzLl9pbmRpY2F0b3JzRWxlbWVudCA9IHRoaXMuX2VsZW1lbnQucXVlcnlTZWxlY3RvcihTRUxFQ1RPUl9JTkRJQ0FUT1JTKTtcbiAgICAgIHRoaXMuX3RvdWNoU3VwcG9ydGVkID0gJ29udG91Y2hzdGFydCcgaW4gZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50IHx8IG5hdmlnYXRvci5tYXhUb3VjaFBvaW50cyA+IDA7XG4gICAgICB0aGlzLl9wb2ludGVyRXZlbnQgPSBCb29sZWFuKHdpbmRvdy5Qb2ludGVyRXZlbnQgfHwgd2luZG93Lk1TUG9pbnRlckV2ZW50KTtcblxuICAgICAgdGhpcy5fYWRkRXZlbnRMaXN0ZW5lcnMoKTtcbiAgICB9IC8vIEdldHRlcnNcblxuXG4gICAgdmFyIF9wcm90byA9IENhcm91c2VsLnByb3RvdHlwZTtcblxuICAgIC8vIFB1YmxpY1xuICAgIF9wcm90by5uZXh0ID0gZnVuY3Rpb24gbmV4dCgpIHtcbiAgICAgIGlmICghdGhpcy5faXNTbGlkaW5nKSB7XG4gICAgICAgIHRoaXMuX3NsaWRlKERJUkVDVElPTl9ORVhUKTtcbiAgICAgIH1cbiAgICB9O1xuXG4gICAgX3Byb3RvLm5leHRXaGVuVmlzaWJsZSA9IGZ1bmN0aW9uIG5leHRXaGVuVmlzaWJsZSgpIHtcbiAgICAgIC8vIERvbid0IGNhbGwgbmV4dCB3aGVuIHRoZSBwYWdlIGlzbid0IHZpc2libGVcbiAgICAgIC8vIG9yIHRoZSBjYXJvdXNlbCBvciBpdHMgcGFyZW50IGlzbid0IHZpc2libGVcbiAgICAgIGlmICghZG9jdW1lbnQuaGlkZGVuICYmICQodGhpcy5fZWxlbWVudCkuaXMoJzp2aXNpYmxlJykgJiYgJCh0aGlzLl9lbGVtZW50KS5jc3MoJ3Zpc2liaWxpdHknKSAhPT0gJ2hpZGRlbicpIHtcbiAgICAgICAgdGhpcy5uZXh0KCk7XG4gICAgICB9XG4gICAgfTtcblxuICAgIF9wcm90by5wcmV2ID0gZnVuY3Rpb24gcHJldigpIHtcbiAgICAgIGlmICghdGhpcy5faXNTbGlkaW5nKSB7XG4gICAgICAgIHRoaXMuX3NsaWRlKERJUkVDVElPTl9QUkVWKTtcbiAgICAgIH1cbiAgICB9O1xuXG4gICAgX3Byb3RvLnBhdXNlID0gZnVuY3Rpb24gcGF1c2UoZXZlbnQpIHtcbiAgICAgIGlmICghZXZlbnQpIHtcbiAgICAgICAgdGhpcy5faXNQYXVzZWQgPSB0cnVlO1xuICAgICAgfVxuXG4gICAgICBpZiAodGhpcy5fZWxlbWVudC5xdWVyeVNlbGVjdG9yKFNFTEVDVE9SX05FWFRfUFJFVikpIHtcbiAgICAgICAgVXRpbC50cmlnZ2VyVHJhbnNpdGlvbkVuZCh0aGlzLl9lbGVtZW50KTtcbiAgICAgICAgdGhpcy5jeWNsZSh0cnVlKTtcbiAgICAgIH1cblxuICAgICAgY2xlYXJJbnRlcnZhbCh0aGlzLl9pbnRlcnZhbCk7XG4gICAgICB0aGlzLl9pbnRlcnZhbCA9IG51bGw7XG4gICAgfTtcblxuICAgIF9wcm90by5jeWNsZSA9IGZ1bmN0aW9uIGN5Y2xlKGV2ZW50KSB7XG4gICAgICBpZiAoIWV2ZW50KSB7XG4gICAgICAgIHRoaXMuX2lzUGF1c2VkID0gZmFsc2U7XG4gICAgICB9XG5cbiAgICAgIGlmICh0aGlzLl9pbnRlcnZhbCkge1xuICAgICAgICBjbGVhckludGVydmFsKHRoaXMuX2ludGVydmFsKTtcbiAgICAgICAgdGhpcy5faW50ZXJ2YWwgPSBudWxsO1xuICAgICAgfVxuXG4gICAgICBpZiAodGhpcy5fY29uZmlnLmludGVydmFsICYmICF0aGlzLl9pc1BhdXNlZCkge1xuICAgICAgICB0aGlzLl9pbnRlcnZhbCA9IHNldEludGVydmFsKChkb2N1bWVudC52aXNpYmlsaXR5U3RhdGUgPyB0aGlzLm5leHRXaGVuVmlzaWJsZSA6IHRoaXMubmV4dCkuYmluZCh0aGlzKSwgdGhpcy5fY29uZmlnLmludGVydmFsKTtcbiAgICAgIH1cbiAgICB9O1xuXG4gICAgX3Byb3RvLnRvID0gZnVuY3Rpb24gdG8oaW5kZXgpIHtcbiAgICAgIHZhciBfdGhpcyA9IHRoaXM7XG5cbiAgICAgIHRoaXMuX2FjdGl2ZUVsZW1lbnQgPSB0aGlzLl9lbGVtZW50LnF1ZXJ5U2VsZWN0b3IoU0VMRUNUT1JfQUNUSVZFX0lURU0pO1xuXG4gICAgICB2YXIgYWN0aXZlSW5kZXggPSB0aGlzLl9nZXRJdGVtSW5kZXgodGhpcy5fYWN0aXZlRWxlbWVudCk7XG5cbiAgICAgIGlmIChpbmRleCA+IHRoaXMuX2l0ZW1zLmxlbmd0aCAtIDEgfHwgaW5kZXggPCAwKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cblxuICAgICAgaWYgKHRoaXMuX2lzU2xpZGluZykge1xuICAgICAgICAkKHRoaXMuX2VsZW1lbnQpLm9uZShFVkVOVF9TTElELCBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgcmV0dXJuIF90aGlzLnRvKGluZGV4KTtcbiAgICAgICAgfSk7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cblxuICAgICAgaWYgKGFjdGl2ZUluZGV4ID09PSBpbmRleCkge1xuICAgICAgICB0aGlzLnBhdXNlKCk7XG4gICAgICAgIHRoaXMuY3ljbGUoKTtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuXG4gICAgICB2YXIgZGlyZWN0aW9uID0gaW5kZXggPiBhY3RpdmVJbmRleCA/IERJUkVDVElPTl9ORVhUIDogRElSRUNUSU9OX1BSRVY7XG5cbiAgICAgIHRoaXMuX3NsaWRlKGRpcmVjdGlvbiwgdGhpcy5faXRlbXNbaW5kZXhdKTtcbiAgICB9O1xuXG4gICAgX3Byb3RvLmRpc3Bvc2UgPSBmdW5jdGlvbiBkaXNwb3NlKCkge1xuICAgICAgJCh0aGlzLl9lbGVtZW50KS5vZmYoRVZFTlRfS0VZJDIpO1xuICAgICAgJC5yZW1vdmVEYXRhKHRoaXMuX2VsZW1lbnQsIERBVEFfS0VZJDIpO1xuICAgICAgdGhpcy5faXRlbXMgPSBudWxsO1xuICAgICAgdGhpcy5fY29uZmlnID0gbnVsbDtcbiAgICAgIHRoaXMuX2VsZW1lbnQgPSBudWxsO1xuICAgICAgdGhpcy5faW50ZXJ2YWwgPSBudWxsO1xuICAgICAgdGhpcy5faXNQYXVzZWQgPSBudWxsO1xuICAgICAgdGhpcy5faXNTbGlkaW5nID0gbnVsbDtcbiAgICAgIHRoaXMuX2FjdGl2ZUVsZW1lbnQgPSBudWxsO1xuICAgICAgdGhpcy5faW5kaWNhdG9yc0VsZW1lbnQgPSBudWxsO1xuICAgIH0gLy8gUHJpdmF0ZVxuICAgIDtcblxuICAgIF9wcm90by5fZ2V0Q29uZmlnID0gZnVuY3Rpb24gX2dldENvbmZpZyhjb25maWcpIHtcbiAgICAgIGNvbmZpZyA9IF9vYmplY3RTcHJlYWQyKF9vYmplY3RTcHJlYWQyKHt9LCBEZWZhdWx0KSwgY29uZmlnKTtcbiAgICAgIFV0aWwudHlwZUNoZWNrQ29uZmlnKE5BTUUkMiwgY29uZmlnLCBEZWZhdWx0VHlwZSk7XG4gICAgICByZXR1cm4gY29uZmlnO1xuICAgIH07XG5cbiAgICBfcHJvdG8uX2hhbmRsZVN3aXBlID0gZnVuY3Rpb24gX2hhbmRsZVN3aXBlKCkge1xuICAgICAgdmFyIGFic0RlbHRheCA9IE1hdGguYWJzKHRoaXMudG91Y2hEZWx0YVgpO1xuXG4gICAgICBpZiAoYWJzRGVsdGF4IDw9IFNXSVBFX1RIUkVTSE9MRCkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG5cbiAgICAgIHZhciBkaXJlY3Rpb24gPSBhYnNEZWx0YXggLyB0aGlzLnRvdWNoRGVsdGFYO1xuICAgICAgdGhpcy50b3VjaERlbHRhWCA9IDA7IC8vIHN3aXBlIGxlZnRcblxuICAgICAgaWYgKGRpcmVjdGlvbiA+IDApIHtcbiAgICAgICAgdGhpcy5wcmV2KCk7XG4gICAgICB9IC8vIHN3aXBlIHJpZ2h0XG5cblxuICAgICAgaWYgKGRpcmVjdGlvbiA8IDApIHtcbiAgICAgICAgdGhpcy5uZXh0KCk7XG4gICAgICB9XG4gICAgfTtcblxuICAgIF9wcm90by5fYWRkRXZlbnRMaXN0ZW5lcnMgPSBmdW5jdGlvbiBfYWRkRXZlbnRMaXN0ZW5lcnMoKSB7XG4gICAgICB2YXIgX3RoaXMyID0gdGhpcztcblxuICAgICAgaWYgKHRoaXMuX2NvbmZpZy5rZXlib2FyZCkge1xuICAgICAgICAkKHRoaXMuX2VsZW1lbnQpLm9uKEVWRU5UX0tFWURPV04sIGZ1bmN0aW9uIChldmVudCkge1xuICAgICAgICAgIHJldHVybiBfdGhpczIuX2tleWRvd24oZXZlbnQpO1xuICAgICAgICB9KTtcbiAgICAgIH1cblxuICAgICAgaWYgKHRoaXMuX2NvbmZpZy5wYXVzZSA9PT0gJ2hvdmVyJykge1xuICAgICAgICAkKHRoaXMuX2VsZW1lbnQpLm9uKEVWRU5UX01PVVNFRU5URVIsIGZ1bmN0aW9uIChldmVudCkge1xuICAgICAgICAgIHJldHVybiBfdGhpczIucGF1c2UoZXZlbnQpO1xuICAgICAgICB9KS5vbihFVkVOVF9NT1VTRUxFQVZFLCBmdW5jdGlvbiAoZXZlbnQpIHtcbiAgICAgICAgICByZXR1cm4gX3RoaXMyLmN5Y2xlKGV2ZW50KTtcbiAgICAgICAgfSk7XG4gICAgICB9XG5cbiAgICAgIGlmICh0aGlzLl9jb25maWcudG91Y2gpIHtcbiAgICAgICAgdGhpcy5fYWRkVG91Y2hFdmVudExpc3RlbmVycygpO1xuICAgICAgfVxuICAgIH07XG5cbiAgICBfcHJvdG8uX2FkZFRvdWNoRXZlbnRMaXN0ZW5lcnMgPSBmdW5jdGlvbiBfYWRkVG91Y2hFdmVudExpc3RlbmVycygpIHtcbiAgICAgIHZhciBfdGhpczMgPSB0aGlzO1xuXG4gICAgICBpZiAoIXRoaXMuX3RvdWNoU3VwcG9ydGVkKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cblxuICAgICAgdmFyIHN0YXJ0ID0gZnVuY3Rpb24gc3RhcnQoZXZlbnQpIHtcbiAgICAgICAgaWYgKF90aGlzMy5fcG9pbnRlckV2ZW50ICYmIFBvaW50ZXJUeXBlW2V2ZW50Lm9yaWdpbmFsRXZlbnQucG9pbnRlclR5cGUudG9VcHBlckNhc2UoKV0pIHtcbiAgICAgICAgICBfdGhpczMudG91Y2hTdGFydFggPSBldmVudC5vcmlnaW5hbEV2ZW50LmNsaWVudFg7XG4gICAgICAgIH0gZWxzZSBpZiAoIV90aGlzMy5fcG9pbnRlckV2ZW50KSB7XG4gICAgICAgICAgX3RoaXMzLnRvdWNoU3RhcnRYID0gZXZlbnQub3JpZ2luYWxFdmVudC50b3VjaGVzWzBdLmNsaWVudFg7XG4gICAgICAgIH1cbiAgICAgIH07XG5cbiAgICAgIHZhciBtb3ZlID0gZnVuY3Rpb24gbW92ZShldmVudCkge1xuICAgICAgICAvLyBlbnN1cmUgc3dpcGluZyB3aXRoIG9uZSB0b3VjaCBhbmQgbm90IHBpbmNoaW5nXG4gICAgICAgIGlmIChldmVudC5vcmlnaW5hbEV2ZW50LnRvdWNoZXMgJiYgZXZlbnQub3JpZ2luYWxFdmVudC50b3VjaGVzLmxlbmd0aCA+IDEpIHtcbiAgICAgICAgICBfdGhpczMudG91Y2hEZWx0YVggPSAwO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIF90aGlzMy50b3VjaERlbHRhWCA9IGV2ZW50Lm9yaWdpbmFsRXZlbnQudG91Y2hlc1swXS5jbGllbnRYIC0gX3RoaXMzLnRvdWNoU3RhcnRYO1xuICAgICAgICB9XG4gICAgICB9O1xuXG4gICAgICB2YXIgZW5kID0gZnVuY3Rpb24gZW5kKGV2ZW50KSB7XG4gICAgICAgIGlmIChfdGhpczMuX3BvaW50ZXJFdmVudCAmJiBQb2ludGVyVHlwZVtldmVudC5vcmlnaW5hbEV2ZW50LnBvaW50ZXJUeXBlLnRvVXBwZXJDYXNlKCldKSB7XG4gICAgICAgICAgX3RoaXMzLnRvdWNoRGVsdGFYID0gZXZlbnQub3JpZ2luYWxFdmVudC5jbGllbnRYIC0gX3RoaXMzLnRvdWNoU3RhcnRYO1xuICAgICAgICB9XG5cbiAgICAgICAgX3RoaXMzLl9oYW5kbGVTd2lwZSgpO1xuXG4gICAgICAgIGlmIChfdGhpczMuX2NvbmZpZy5wYXVzZSA9PT0gJ2hvdmVyJykge1xuICAgICAgICAgIC8vIElmIGl0J3MgYSB0b3VjaC1lbmFibGVkIGRldmljZSwgbW91c2VlbnRlci9sZWF2ZSBhcmUgZmlyZWQgYXNcbiAgICAgICAgICAvLyBwYXJ0IG9mIHRoZSBtb3VzZSBjb21wYXRpYmlsaXR5IGV2ZW50cyBvbiBmaXJzdCB0YXAgLSB0aGUgY2Fyb3VzZWxcbiAgICAgICAgICAvLyB3b3VsZCBzdG9wIGN5Y2xpbmcgdW50aWwgdXNlciB0YXBwZWQgb3V0IG9mIGl0O1xuICAgICAgICAgIC8vIGhlcmUsIHdlIGxpc3RlbiBmb3IgdG91Y2hlbmQsIGV4cGxpY2l0bHkgcGF1c2UgdGhlIGNhcm91c2VsXG4gICAgICAgICAgLy8gKGFzIGlmIGl0J3MgdGhlIHNlY29uZCB0aW1lIHdlIHRhcCBvbiBpdCwgbW91c2VlbnRlciBjb21wYXQgZXZlbnRcbiAgICAgICAgICAvLyBpcyBOT1QgZmlyZWQpIGFuZCBhZnRlciBhIHRpbWVvdXQgKHRvIGFsbG93IGZvciBtb3VzZSBjb21wYXRpYmlsaXR5XG4gICAgICAgICAgLy8gZXZlbnRzIHRvIGZpcmUpIHdlIGV4cGxpY2l0bHkgcmVzdGFydCBjeWNsaW5nXG4gICAgICAgICAgX3RoaXMzLnBhdXNlKCk7XG5cbiAgICAgICAgICBpZiAoX3RoaXMzLnRvdWNoVGltZW91dCkge1xuICAgICAgICAgICAgY2xlYXJUaW1lb3V0KF90aGlzMy50b3VjaFRpbWVvdXQpO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIF90aGlzMy50b3VjaFRpbWVvdXQgPSBzZXRUaW1lb3V0KGZ1bmN0aW9uIChldmVudCkge1xuICAgICAgICAgICAgcmV0dXJuIF90aGlzMy5jeWNsZShldmVudCk7XG4gICAgICAgICAgfSwgVE9VQ0hFVkVOVF9DT01QQVRfV0FJVCArIF90aGlzMy5fY29uZmlnLmludGVydmFsKTtcbiAgICAgICAgfVxuICAgICAgfTtcblxuICAgICAgJCh0aGlzLl9lbGVtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoU0VMRUNUT1JfSVRFTV9JTUcpKS5vbihFVkVOVF9EUkFHX1NUQVJULCBmdW5jdGlvbiAoZSkge1xuICAgICAgICByZXR1cm4gZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgfSk7XG5cbiAgICAgIGlmICh0aGlzLl9wb2ludGVyRXZlbnQpIHtcbiAgICAgICAgJCh0aGlzLl9lbGVtZW50KS5vbihFVkVOVF9QT0lOVEVSRE9XTiwgZnVuY3Rpb24gKGV2ZW50KSB7XG4gICAgICAgICAgcmV0dXJuIHN0YXJ0KGV2ZW50KTtcbiAgICAgICAgfSk7XG4gICAgICAgICQodGhpcy5fZWxlbWVudCkub24oRVZFTlRfUE9JTlRFUlVQLCBmdW5jdGlvbiAoZXZlbnQpIHtcbiAgICAgICAgICByZXR1cm4gZW5kKGV2ZW50KTtcbiAgICAgICAgfSk7XG5cbiAgICAgICAgdGhpcy5fZWxlbWVudC5jbGFzc0xpc3QuYWRkKENMQVNTX05BTUVfUE9JTlRFUl9FVkVOVCk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICAkKHRoaXMuX2VsZW1lbnQpLm9uKEVWRU5UX1RPVUNIU1RBUlQsIGZ1bmN0aW9uIChldmVudCkge1xuICAgICAgICAgIHJldHVybiBzdGFydChldmVudCk7XG4gICAgICAgIH0pO1xuICAgICAgICAkKHRoaXMuX2VsZW1lbnQpLm9uKEVWRU5UX1RPVUNITU9WRSwgZnVuY3Rpb24gKGV2ZW50KSB7XG4gICAgICAgICAgcmV0dXJuIG1vdmUoZXZlbnQpO1xuICAgICAgICB9KTtcbiAgICAgICAgJCh0aGlzLl9lbGVtZW50KS5vbihFVkVOVF9UT1VDSEVORCwgZnVuY3Rpb24gKGV2ZW50KSB7XG4gICAgICAgICAgcmV0dXJuIGVuZChldmVudCk7XG4gICAgICAgIH0pO1xuICAgICAgfVxuICAgIH07XG5cbiAgICBfcHJvdG8uX2tleWRvd24gPSBmdW5jdGlvbiBfa2V5ZG93bihldmVudCkge1xuICAgICAgaWYgKC9pbnB1dHx0ZXh0YXJlYS9pLnRlc3QoZXZlbnQudGFyZ2V0LnRhZ05hbWUpKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cblxuICAgICAgc3dpdGNoIChldmVudC53aGljaCkge1xuICAgICAgICBjYXNlIEFSUk9XX0xFRlRfS0VZQ09ERTpcbiAgICAgICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICAgIHRoaXMucHJldigpO1xuICAgICAgICAgIGJyZWFrO1xuXG4gICAgICAgIGNhc2UgQVJST1dfUklHSFRfS0VZQ09ERTpcbiAgICAgICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICAgIHRoaXMubmV4dCgpO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgfVxuICAgIH07XG5cbiAgICBfcHJvdG8uX2dldEl0ZW1JbmRleCA9IGZ1bmN0aW9uIF9nZXRJdGVtSW5kZXgoZWxlbWVudCkge1xuICAgICAgdGhpcy5faXRlbXMgPSBlbGVtZW50ICYmIGVsZW1lbnQucGFyZW50Tm9kZSA/IFtdLnNsaWNlLmNhbGwoZWxlbWVudC5wYXJlbnROb2RlLnF1ZXJ5U2VsZWN0b3JBbGwoU0VMRUNUT1JfSVRFTSkpIDogW107XG4gICAgICByZXR1cm4gdGhpcy5faXRlbXMuaW5kZXhPZihlbGVtZW50KTtcbiAgICB9O1xuXG4gICAgX3Byb3RvLl9nZXRJdGVtQnlEaXJlY3Rpb24gPSBmdW5jdGlvbiBfZ2V0SXRlbUJ5RGlyZWN0aW9uKGRpcmVjdGlvbiwgYWN0aXZlRWxlbWVudCkge1xuICAgICAgdmFyIGlzTmV4dERpcmVjdGlvbiA9IGRpcmVjdGlvbiA9PT0gRElSRUNUSU9OX05FWFQ7XG4gICAgICB2YXIgaXNQcmV2RGlyZWN0aW9uID0gZGlyZWN0aW9uID09PSBESVJFQ1RJT05fUFJFVjtcblxuICAgICAgdmFyIGFjdGl2ZUluZGV4ID0gdGhpcy5fZ2V0SXRlbUluZGV4KGFjdGl2ZUVsZW1lbnQpO1xuXG4gICAgICB2YXIgbGFzdEl0ZW1JbmRleCA9IHRoaXMuX2l0ZW1zLmxlbmd0aCAtIDE7XG4gICAgICB2YXIgaXNHb2luZ1RvV3JhcCA9IGlzUHJldkRpcmVjdGlvbiAmJiBhY3RpdmVJbmRleCA9PT0gMCB8fCBpc05leHREaXJlY3Rpb24gJiYgYWN0aXZlSW5kZXggPT09IGxhc3RJdGVtSW5kZXg7XG5cbiAgICAgIGlmIChpc0dvaW5nVG9XcmFwICYmICF0aGlzLl9jb25maWcud3JhcCkge1xuICAgICAgICByZXR1cm4gYWN0aXZlRWxlbWVudDtcbiAgICAgIH1cblxuICAgICAgdmFyIGRlbHRhID0gZGlyZWN0aW9uID09PSBESVJFQ1RJT05fUFJFViA/IC0xIDogMTtcbiAgICAgIHZhciBpdGVtSW5kZXggPSAoYWN0aXZlSW5kZXggKyBkZWx0YSkgJSB0aGlzLl9pdGVtcy5sZW5ndGg7XG4gICAgICByZXR1cm4gaXRlbUluZGV4ID09PSAtMSA/IHRoaXMuX2l0ZW1zW3RoaXMuX2l0ZW1zLmxlbmd0aCAtIDFdIDogdGhpcy5faXRlbXNbaXRlbUluZGV4XTtcbiAgICB9O1xuXG4gICAgX3Byb3RvLl90cmlnZ2VyU2xpZGVFdmVudCA9IGZ1bmN0aW9uIF90cmlnZ2VyU2xpZGVFdmVudChyZWxhdGVkVGFyZ2V0LCBldmVudERpcmVjdGlvbk5hbWUpIHtcbiAgICAgIHZhciB0YXJnZXRJbmRleCA9IHRoaXMuX2dldEl0ZW1JbmRleChyZWxhdGVkVGFyZ2V0KTtcblxuICAgICAgdmFyIGZyb21JbmRleCA9IHRoaXMuX2dldEl0ZW1JbmRleCh0aGlzLl9lbGVtZW50LnF1ZXJ5U2VsZWN0b3IoU0VMRUNUT1JfQUNUSVZFX0lURU0pKTtcblxuICAgICAgdmFyIHNsaWRlRXZlbnQgPSAkLkV2ZW50KEVWRU5UX1NMSURFLCB7XG4gICAgICAgIHJlbGF0ZWRUYXJnZXQ6IHJlbGF0ZWRUYXJnZXQsXG4gICAgICAgIGRpcmVjdGlvbjogZXZlbnREaXJlY3Rpb25OYW1lLFxuICAgICAgICBmcm9tOiBmcm9tSW5kZXgsXG4gICAgICAgIHRvOiB0YXJnZXRJbmRleFxuICAgICAgfSk7XG4gICAgICAkKHRoaXMuX2VsZW1lbnQpLnRyaWdnZXIoc2xpZGVFdmVudCk7XG4gICAgICByZXR1cm4gc2xpZGVFdmVudDtcbiAgICB9O1xuXG4gICAgX3Byb3RvLl9zZXRBY3RpdmVJbmRpY2F0b3JFbGVtZW50ID0gZnVuY3Rpb24gX3NldEFjdGl2ZUluZGljYXRvckVsZW1lbnQoZWxlbWVudCkge1xuICAgICAgaWYgKHRoaXMuX2luZGljYXRvcnNFbGVtZW50KSB7XG4gICAgICAgIHZhciBpbmRpY2F0b3JzID0gW10uc2xpY2UuY2FsbCh0aGlzLl9pbmRpY2F0b3JzRWxlbWVudC5xdWVyeVNlbGVjdG9yQWxsKFNFTEVDVE9SX0FDVElWRSQxKSk7XG4gICAgICAgICQoaW5kaWNhdG9ycykucmVtb3ZlQ2xhc3MoQ0xBU1NfTkFNRV9BQ1RJVkUkMSk7XG5cbiAgICAgICAgdmFyIG5leHRJbmRpY2F0b3IgPSB0aGlzLl9pbmRpY2F0b3JzRWxlbWVudC5jaGlsZHJlblt0aGlzLl9nZXRJdGVtSW5kZXgoZWxlbWVudCldO1xuXG4gICAgICAgIGlmIChuZXh0SW5kaWNhdG9yKSB7XG4gICAgICAgICAgJChuZXh0SW5kaWNhdG9yKS5hZGRDbGFzcyhDTEFTU19OQU1FX0FDVElWRSQxKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH07XG5cbiAgICBfcHJvdG8uX3NsaWRlID0gZnVuY3Rpb24gX3NsaWRlKGRpcmVjdGlvbiwgZWxlbWVudCkge1xuICAgICAgdmFyIF90aGlzNCA9IHRoaXM7XG5cbiAgICAgIHZhciBhY3RpdmVFbGVtZW50ID0gdGhpcy5fZWxlbWVudC5xdWVyeVNlbGVjdG9yKFNFTEVDVE9SX0FDVElWRV9JVEVNKTtcblxuICAgICAgdmFyIGFjdGl2ZUVsZW1lbnRJbmRleCA9IHRoaXMuX2dldEl0ZW1JbmRleChhY3RpdmVFbGVtZW50KTtcblxuICAgICAgdmFyIG5leHRFbGVtZW50ID0gZWxlbWVudCB8fCBhY3RpdmVFbGVtZW50ICYmIHRoaXMuX2dldEl0ZW1CeURpcmVjdGlvbihkaXJlY3Rpb24sIGFjdGl2ZUVsZW1lbnQpO1xuXG4gICAgICB2YXIgbmV4dEVsZW1lbnRJbmRleCA9IHRoaXMuX2dldEl0ZW1JbmRleChuZXh0RWxlbWVudCk7XG5cbiAgICAgIHZhciBpc0N5Y2xpbmcgPSBCb29sZWFuKHRoaXMuX2ludGVydmFsKTtcbiAgICAgIHZhciBkaXJlY3Rpb25hbENsYXNzTmFtZTtcbiAgICAgIHZhciBvcmRlckNsYXNzTmFtZTtcbiAgICAgIHZhciBldmVudERpcmVjdGlvbk5hbWU7XG5cbiAgICAgIGlmIChkaXJlY3Rpb24gPT09IERJUkVDVElPTl9ORVhUKSB7XG4gICAgICAgIGRpcmVjdGlvbmFsQ2xhc3NOYW1lID0gQ0xBU1NfTkFNRV9MRUZUO1xuICAgICAgICBvcmRlckNsYXNzTmFtZSA9IENMQVNTX05BTUVfTkVYVDtcbiAgICAgICAgZXZlbnREaXJlY3Rpb25OYW1lID0gRElSRUNUSU9OX0xFRlQ7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBkaXJlY3Rpb25hbENsYXNzTmFtZSA9IENMQVNTX05BTUVfUklHSFQ7XG4gICAgICAgIG9yZGVyQ2xhc3NOYW1lID0gQ0xBU1NfTkFNRV9QUkVWO1xuICAgICAgICBldmVudERpcmVjdGlvbk5hbWUgPSBESVJFQ1RJT05fUklHSFQ7XG4gICAgICB9XG5cbiAgICAgIGlmIChuZXh0RWxlbWVudCAmJiAkKG5leHRFbGVtZW50KS5oYXNDbGFzcyhDTEFTU19OQU1FX0FDVElWRSQxKSkge1xuICAgICAgICB0aGlzLl9pc1NsaWRpbmcgPSBmYWxzZTtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuXG4gICAgICB2YXIgc2xpZGVFdmVudCA9IHRoaXMuX3RyaWdnZXJTbGlkZUV2ZW50KG5leHRFbGVtZW50LCBldmVudERpcmVjdGlvbk5hbWUpO1xuXG4gICAgICBpZiAoc2xpZGVFdmVudC5pc0RlZmF1bHRQcmV2ZW50ZWQoKSkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG5cbiAgICAgIGlmICghYWN0aXZlRWxlbWVudCB8fCAhbmV4dEVsZW1lbnQpIHtcbiAgICAgICAgLy8gU29tZSB3ZWlyZG5lc3MgaXMgaGFwcGVuaW5nLCBzbyB3ZSBiYWlsXG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cblxuICAgICAgdGhpcy5faXNTbGlkaW5nID0gdHJ1ZTtcblxuICAgICAgaWYgKGlzQ3ljbGluZykge1xuICAgICAgICB0aGlzLnBhdXNlKCk7XG4gICAgICB9XG5cbiAgICAgIHRoaXMuX3NldEFjdGl2ZUluZGljYXRvckVsZW1lbnQobmV4dEVsZW1lbnQpO1xuXG4gICAgICB2YXIgc2xpZEV2ZW50ID0gJC5FdmVudChFVkVOVF9TTElELCB7XG4gICAgICAgIHJlbGF0ZWRUYXJnZXQ6IG5leHRFbGVtZW50LFxuICAgICAgICBkaXJlY3Rpb246IGV2ZW50RGlyZWN0aW9uTmFtZSxcbiAgICAgICAgZnJvbTogYWN0aXZlRWxlbWVudEluZGV4LFxuICAgICAgICB0bzogbmV4dEVsZW1lbnRJbmRleFxuICAgICAgfSk7XG5cbiAgICAgIGlmICgkKHRoaXMuX2VsZW1lbnQpLmhhc0NsYXNzKENMQVNTX05BTUVfU0xJREUpKSB7XG4gICAgICAgICQobmV4dEVsZW1lbnQpLmFkZENsYXNzKG9yZGVyQ2xhc3NOYW1lKTtcbiAgICAgICAgVXRpbC5yZWZsb3cobmV4dEVsZW1lbnQpO1xuICAgICAgICAkKGFjdGl2ZUVsZW1lbnQpLmFkZENsYXNzKGRpcmVjdGlvbmFsQ2xhc3NOYW1lKTtcbiAgICAgICAgJChuZXh0RWxlbWVudCkuYWRkQ2xhc3MoZGlyZWN0aW9uYWxDbGFzc05hbWUpO1xuICAgICAgICB2YXIgbmV4dEVsZW1lbnRJbnRlcnZhbCA9IHBhcnNlSW50KG5leHRFbGVtZW50LmdldEF0dHJpYnV0ZSgnZGF0YS1pbnRlcnZhbCcpLCAxMCk7XG5cbiAgICAgICAgaWYgKG5leHRFbGVtZW50SW50ZXJ2YWwpIHtcbiAgICAgICAgICB0aGlzLl9jb25maWcuZGVmYXVsdEludGVydmFsID0gdGhpcy5fY29uZmlnLmRlZmF1bHRJbnRlcnZhbCB8fCB0aGlzLl9jb25maWcuaW50ZXJ2YWw7XG4gICAgICAgICAgdGhpcy5fY29uZmlnLmludGVydmFsID0gbmV4dEVsZW1lbnRJbnRlcnZhbDtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICB0aGlzLl9jb25maWcuaW50ZXJ2YWwgPSB0aGlzLl9jb25maWcuZGVmYXVsdEludGVydmFsIHx8IHRoaXMuX2NvbmZpZy5pbnRlcnZhbDtcbiAgICAgICAgfVxuXG4gICAgICAgIHZhciB0cmFuc2l0aW9uRHVyYXRpb24gPSBVdGlsLmdldFRyYW5zaXRpb25EdXJhdGlvbkZyb21FbGVtZW50KGFjdGl2ZUVsZW1lbnQpO1xuICAgICAgICAkKGFjdGl2ZUVsZW1lbnQpLm9uZShVdGlsLlRSQU5TSVRJT05fRU5ELCBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgJChuZXh0RWxlbWVudCkucmVtb3ZlQ2xhc3MoZGlyZWN0aW9uYWxDbGFzc05hbWUgKyBcIiBcIiArIG9yZGVyQ2xhc3NOYW1lKS5hZGRDbGFzcyhDTEFTU19OQU1FX0FDVElWRSQxKTtcbiAgICAgICAgICAkKGFjdGl2ZUVsZW1lbnQpLnJlbW92ZUNsYXNzKENMQVNTX05BTUVfQUNUSVZFJDEgKyBcIiBcIiArIG9yZGVyQ2xhc3NOYW1lICsgXCIgXCIgKyBkaXJlY3Rpb25hbENsYXNzTmFtZSk7XG4gICAgICAgICAgX3RoaXM0Ll9pc1NsaWRpbmcgPSBmYWxzZTtcbiAgICAgICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHJldHVybiAkKF90aGlzNC5fZWxlbWVudCkudHJpZ2dlcihzbGlkRXZlbnQpO1xuICAgICAgICAgIH0sIDApO1xuICAgICAgICB9KS5lbXVsYXRlVHJhbnNpdGlvbkVuZCh0cmFuc2l0aW9uRHVyYXRpb24pO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgJChhY3RpdmVFbGVtZW50KS5yZW1vdmVDbGFzcyhDTEFTU19OQU1FX0FDVElWRSQxKTtcbiAgICAgICAgJChuZXh0RWxlbWVudCkuYWRkQ2xhc3MoQ0xBU1NfTkFNRV9BQ1RJVkUkMSk7XG4gICAgICAgIHRoaXMuX2lzU2xpZGluZyA9IGZhbHNlO1xuICAgICAgICAkKHRoaXMuX2VsZW1lbnQpLnRyaWdnZXIoc2xpZEV2ZW50KTtcbiAgICAgIH1cblxuICAgICAgaWYgKGlzQ3ljbGluZykge1xuICAgICAgICB0aGlzLmN5Y2xlKCk7XG4gICAgICB9XG4gICAgfSAvLyBTdGF0aWNcbiAgICA7XG5cbiAgICBDYXJvdXNlbC5falF1ZXJ5SW50ZXJmYWNlID0gZnVuY3Rpb24gX2pRdWVyeUludGVyZmFjZShjb25maWcpIHtcbiAgICAgIHJldHVybiB0aGlzLmVhY2goZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgZGF0YSA9ICQodGhpcykuZGF0YShEQVRBX0tFWSQyKTtcblxuICAgICAgICB2YXIgX2NvbmZpZyA9IF9vYmplY3RTcHJlYWQyKF9vYmplY3RTcHJlYWQyKHt9LCBEZWZhdWx0KSwgJCh0aGlzKS5kYXRhKCkpO1xuXG4gICAgICAgIGlmICh0eXBlb2YgY29uZmlnID09PSAnb2JqZWN0Jykge1xuICAgICAgICAgIF9jb25maWcgPSBfb2JqZWN0U3ByZWFkMihfb2JqZWN0U3ByZWFkMih7fSwgX2NvbmZpZyksIGNvbmZpZyk7XG4gICAgICAgIH1cblxuICAgICAgICB2YXIgYWN0aW9uID0gdHlwZW9mIGNvbmZpZyA9PT0gJ3N0cmluZycgPyBjb25maWcgOiBfY29uZmlnLnNsaWRlO1xuXG4gICAgICAgIGlmICghZGF0YSkge1xuICAgICAgICAgIGRhdGEgPSBuZXcgQ2Fyb3VzZWwodGhpcywgX2NvbmZpZyk7XG4gICAgICAgICAgJCh0aGlzKS5kYXRhKERBVEFfS0VZJDIsIGRhdGEpO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHR5cGVvZiBjb25maWcgPT09ICdudW1iZXInKSB7XG4gICAgICAgICAgZGF0YS50byhjb25maWcpO1xuICAgICAgICB9IGVsc2UgaWYgKHR5cGVvZiBhY3Rpb24gPT09ICdzdHJpbmcnKSB7XG4gICAgICAgICAgaWYgKHR5cGVvZiBkYXRhW2FjdGlvbl0gPT09ICd1bmRlZmluZWQnKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKFwiTm8gbWV0aG9kIG5hbWVkIFxcXCJcIiArIGFjdGlvbiArIFwiXFxcIlwiKTtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICBkYXRhW2FjdGlvbl0oKTtcbiAgICAgICAgfSBlbHNlIGlmIChfY29uZmlnLmludGVydmFsICYmIF9jb25maWcucmlkZSkge1xuICAgICAgICAgIGRhdGEucGF1c2UoKTtcbiAgICAgICAgICBkYXRhLmN5Y2xlKCk7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgIH07XG5cbiAgICBDYXJvdXNlbC5fZGF0YUFwaUNsaWNrSGFuZGxlciA9IGZ1bmN0aW9uIF9kYXRhQXBpQ2xpY2tIYW5kbGVyKGV2ZW50KSB7XG4gICAgICB2YXIgc2VsZWN0b3IgPSBVdGlsLmdldFNlbGVjdG9yRnJvbUVsZW1lbnQodGhpcyk7XG5cbiAgICAgIGlmICghc2VsZWN0b3IpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuXG4gICAgICB2YXIgdGFyZ2V0ID0gJChzZWxlY3RvcilbMF07XG5cbiAgICAgIGlmICghdGFyZ2V0IHx8ICEkKHRhcmdldCkuaGFzQ2xhc3MoQ0xBU1NfTkFNRV9DQVJPVVNFTCkpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuXG4gICAgICB2YXIgY29uZmlnID0gX29iamVjdFNwcmVhZDIoX29iamVjdFNwcmVhZDIoe30sICQodGFyZ2V0KS5kYXRhKCkpLCAkKHRoaXMpLmRhdGEoKSk7XG5cbiAgICAgIHZhciBzbGlkZUluZGV4ID0gdGhpcy5nZXRBdHRyaWJ1dGUoJ2RhdGEtc2xpZGUtdG8nKTtcblxuICAgICAgaWYgKHNsaWRlSW5kZXgpIHtcbiAgICAgICAgY29uZmlnLmludGVydmFsID0gZmFsc2U7XG4gICAgICB9XG5cbiAgICAgIENhcm91c2VsLl9qUXVlcnlJbnRlcmZhY2UuY2FsbCgkKHRhcmdldCksIGNvbmZpZyk7XG5cbiAgICAgIGlmIChzbGlkZUluZGV4KSB7XG4gICAgICAgICQodGFyZ2V0KS5kYXRhKERBVEFfS0VZJDIpLnRvKHNsaWRlSW5kZXgpO1xuICAgICAgfVxuXG4gICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgIH07XG5cbiAgICBfY3JlYXRlQ2xhc3MoQ2Fyb3VzZWwsIG51bGwsIFt7XG4gICAgICBrZXk6IFwiVkVSU0lPTlwiLFxuICAgICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgICAgIHJldHVybiBWRVJTSU9OJDI7XG4gICAgICB9XG4gICAgfSwge1xuICAgICAga2V5OiBcIkRlZmF1bHRcIixcbiAgICAgIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgICAgICByZXR1cm4gRGVmYXVsdDtcbiAgICAgIH1cbiAgICB9XSk7XG5cbiAgICByZXR1cm4gQ2Fyb3VzZWw7XG4gIH0oKTtcbiAgLyoqXG4gICAqIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICAgKiBEYXRhIEFwaSBpbXBsZW1lbnRhdGlvblxuICAgKiAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAgICovXG5cblxuICAkKGRvY3VtZW50KS5vbihFVkVOVF9DTElDS19EQVRBX0FQSSQyLCBTRUxFQ1RPUl9EQVRBX1NMSURFLCBDYXJvdXNlbC5fZGF0YUFwaUNsaWNrSGFuZGxlcik7XG4gICQod2luZG93KS5vbihFVkVOVF9MT0FEX0RBVEFfQVBJJDEsIGZ1bmN0aW9uICgpIHtcbiAgICB2YXIgY2Fyb3VzZWxzID0gW10uc2xpY2UuY2FsbChkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKFNFTEVDVE9SX0RBVEFfUklERSkpO1xuXG4gICAgZm9yICh2YXIgaSA9IDAsIGxlbiA9IGNhcm91c2Vscy5sZW5ndGg7IGkgPCBsZW47IGkrKykge1xuICAgICAgdmFyICRjYXJvdXNlbCA9ICQoY2Fyb3VzZWxzW2ldKTtcblxuICAgICAgQ2Fyb3VzZWwuX2pRdWVyeUludGVyZmFjZS5jYWxsKCRjYXJvdXNlbCwgJGNhcm91c2VsLmRhdGEoKSk7XG4gICAgfVxuICB9KTtcbiAgLyoqXG4gICAqIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICAgKiBqUXVlcnlcbiAgICogLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gICAqL1xuXG4gICQuZm5bTkFNRSQyXSA9IENhcm91c2VsLl9qUXVlcnlJbnRlcmZhY2U7XG4gICQuZm5bTkFNRSQyXS5Db25zdHJ1Y3RvciA9IENhcm91c2VsO1xuXG4gICQuZm5bTkFNRSQyXS5ub0NvbmZsaWN0ID0gZnVuY3Rpb24gKCkge1xuICAgICQuZm5bTkFNRSQyXSA9IEpRVUVSWV9OT19DT05GTElDVCQyO1xuICAgIHJldHVybiBDYXJvdXNlbC5falF1ZXJ5SW50ZXJmYWNlO1xuICB9O1xuXG4gIC8qKlxuICAgKiAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAgICogQ29uc3RhbnRzXG4gICAqIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICAgKi9cblxuICB2YXIgTkFNRSQzID0gJ2NvbGxhcHNlJztcbiAgdmFyIFZFUlNJT04kMyA9ICc0LjUuMCc7XG4gIHZhciBEQVRBX0tFWSQzID0gJ2JzLmNvbGxhcHNlJztcbiAgdmFyIEVWRU5UX0tFWSQzID0gXCIuXCIgKyBEQVRBX0tFWSQzO1xuICB2YXIgREFUQV9BUElfS0VZJDMgPSAnLmRhdGEtYXBpJztcbiAgdmFyIEpRVUVSWV9OT19DT05GTElDVCQzID0gJC5mbltOQU1FJDNdO1xuICB2YXIgRGVmYXVsdCQxID0ge1xuICAgIHRvZ2dsZTogdHJ1ZSxcbiAgICBwYXJlbnQ6ICcnXG4gIH07XG4gIHZhciBEZWZhdWx0VHlwZSQxID0ge1xuICAgIHRvZ2dsZTogJ2Jvb2xlYW4nLFxuICAgIHBhcmVudDogJyhzdHJpbmd8ZWxlbWVudCknXG4gIH07XG4gIHZhciBFVkVOVF9TSE9XID0gXCJzaG93XCIgKyBFVkVOVF9LRVkkMztcbiAgdmFyIEVWRU5UX1NIT1dOID0gXCJzaG93blwiICsgRVZFTlRfS0VZJDM7XG4gIHZhciBFVkVOVF9ISURFID0gXCJoaWRlXCIgKyBFVkVOVF9LRVkkMztcbiAgdmFyIEVWRU5UX0hJRERFTiA9IFwiaGlkZGVuXCIgKyBFVkVOVF9LRVkkMztcbiAgdmFyIEVWRU5UX0NMSUNLX0RBVEFfQVBJJDMgPSBcImNsaWNrXCIgKyBFVkVOVF9LRVkkMyArIERBVEFfQVBJX0tFWSQzO1xuICB2YXIgQ0xBU1NfTkFNRV9TSE9XJDEgPSAnc2hvdyc7XG4gIHZhciBDTEFTU19OQU1FX0NPTExBUFNFID0gJ2NvbGxhcHNlJztcbiAgdmFyIENMQVNTX05BTUVfQ09MTEFQU0lORyA9ICdjb2xsYXBzaW5nJztcbiAgdmFyIENMQVNTX05BTUVfQ09MTEFQU0VEID0gJ2NvbGxhcHNlZCc7XG4gIHZhciBESU1FTlNJT05fV0lEVEggPSAnd2lkdGgnO1xuICB2YXIgRElNRU5TSU9OX0hFSUdIVCA9ICdoZWlnaHQnO1xuICB2YXIgU0VMRUNUT1JfQUNUSVZFUyA9ICcuc2hvdywgLmNvbGxhcHNpbmcnO1xuICB2YXIgU0VMRUNUT1JfREFUQV9UT0dHTEUkMSA9ICdbZGF0YS10b2dnbGU9XCJjb2xsYXBzZVwiXSc7XG4gIC8qKlxuICAgKiAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAgICogQ2xhc3MgRGVmaW5pdGlvblxuICAgKiAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAgICovXG5cbiAgdmFyIENvbGxhcHNlID0gLyojX19QVVJFX18qL2Z1bmN0aW9uICgpIHtcbiAgICBmdW5jdGlvbiBDb2xsYXBzZShlbGVtZW50LCBjb25maWcpIHtcbiAgICAgIHRoaXMuX2lzVHJhbnNpdGlvbmluZyA9IGZhbHNlO1xuICAgICAgdGhpcy5fZWxlbWVudCA9IGVsZW1lbnQ7XG4gICAgICB0aGlzLl9jb25maWcgPSB0aGlzLl9nZXRDb25maWcoY29uZmlnKTtcbiAgICAgIHRoaXMuX3RyaWdnZXJBcnJheSA9IFtdLnNsaWNlLmNhbGwoZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbChcIltkYXRhLXRvZ2dsZT1cXFwiY29sbGFwc2VcXFwiXVtocmVmPVxcXCIjXCIgKyBlbGVtZW50LmlkICsgXCJcXFwiXSxcIiArIChcIltkYXRhLXRvZ2dsZT1cXFwiY29sbGFwc2VcXFwiXVtkYXRhLXRhcmdldD1cXFwiI1wiICsgZWxlbWVudC5pZCArIFwiXFxcIl1cIikpKTtcbiAgICAgIHZhciB0b2dnbGVMaXN0ID0gW10uc2xpY2UuY2FsbChkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKFNFTEVDVE9SX0RBVEFfVE9HR0xFJDEpKTtcblxuICAgICAgZm9yICh2YXIgaSA9IDAsIGxlbiA9IHRvZ2dsZUxpc3QubGVuZ3RoOyBpIDwgbGVuOyBpKyspIHtcbiAgICAgICAgdmFyIGVsZW0gPSB0b2dnbGVMaXN0W2ldO1xuICAgICAgICB2YXIgc2VsZWN0b3IgPSBVdGlsLmdldFNlbGVjdG9yRnJvbUVsZW1lbnQoZWxlbSk7XG4gICAgICAgIHZhciBmaWx0ZXJFbGVtZW50ID0gW10uc2xpY2UuY2FsbChkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKHNlbGVjdG9yKSkuZmlsdGVyKGZ1bmN0aW9uIChmb3VuZEVsZW0pIHtcbiAgICAgICAgICByZXR1cm4gZm91bmRFbGVtID09PSBlbGVtZW50O1xuICAgICAgICB9KTtcblxuICAgICAgICBpZiAoc2VsZWN0b3IgIT09IG51bGwgJiYgZmlsdGVyRWxlbWVudC5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgdGhpcy5fc2VsZWN0b3IgPSBzZWxlY3RvcjtcblxuICAgICAgICAgIHRoaXMuX3RyaWdnZXJBcnJheS5wdXNoKGVsZW0pO1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIHRoaXMuX3BhcmVudCA9IHRoaXMuX2NvbmZpZy5wYXJlbnQgPyB0aGlzLl9nZXRQYXJlbnQoKSA6IG51bGw7XG5cbiAgICAgIGlmICghdGhpcy5fY29uZmlnLnBhcmVudCkge1xuICAgICAgICB0aGlzLl9hZGRBcmlhQW5kQ29sbGFwc2VkQ2xhc3ModGhpcy5fZWxlbWVudCwgdGhpcy5fdHJpZ2dlckFycmF5KTtcbiAgICAgIH1cblxuICAgICAgaWYgKHRoaXMuX2NvbmZpZy50b2dnbGUpIHtcbiAgICAgICAgdGhpcy50b2dnbGUoKTtcbiAgICAgIH1cbiAgICB9IC8vIEdldHRlcnNcblxuXG4gICAgdmFyIF9wcm90byA9IENvbGxhcHNlLnByb3RvdHlwZTtcblxuICAgIC8vIFB1YmxpY1xuICAgIF9wcm90by50b2dnbGUgPSBmdW5jdGlvbiB0b2dnbGUoKSB7XG4gICAgICBpZiAoJCh0aGlzLl9lbGVtZW50KS5oYXNDbGFzcyhDTEFTU19OQU1FX1NIT1ckMSkpIHtcbiAgICAgICAgdGhpcy5oaWRlKCk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB0aGlzLnNob3coKTtcbiAgICAgIH1cbiAgICB9O1xuXG4gICAgX3Byb3RvLnNob3cgPSBmdW5jdGlvbiBzaG93KCkge1xuICAgICAgdmFyIF90aGlzID0gdGhpcztcblxuICAgICAgaWYgKHRoaXMuX2lzVHJhbnNpdGlvbmluZyB8fCAkKHRoaXMuX2VsZW1lbnQpLmhhc0NsYXNzKENMQVNTX05BTUVfU0hPVyQxKSkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG5cbiAgICAgIHZhciBhY3RpdmVzO1xuICAgICAgdmFyIGFjdGl2ZXNEYXRhO1xuXG4gICAgICBpZiAodGhpcy5fcGFyZW50KSB7XG4gICAgICAgIGFjdGl2ZXMgPSBbXS5zbGljZS5jYWxsKHRoaXMuX3BhcmVudC5xdWVyeVNlbGVjdG9yQWxsKFNFTEVDVE9SX0FDVElWRVMpKS5maWx0ZXIoZnVuY3Rpb24gKGVsZW0pIHtcbiAgICAgICAgICBpZiAodHlwZW9mIF90aGlzLl9jb25maWcucGFyZW50ID09PSAnc3RyaW5nJykge1xuICAgICAgICAgICAgcmV0dXJuIGVsZW0uZ2V0QXR0cmlidXRlKCdkYXRhLXBhcmVudCcpID09PSBfdGhpcy5fY29uZmlnLnBhcmVudDtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICByZXR1cm4gZWxlbS5jbGFzc0xpc3QuY29udGFpbnMoQ0xBU1NfTkFNRV9DT0xMQVBTRSk7XG4gICAgICAgIH0pO1xuXG4gICAgICAgIGlmIChhY3RpdmVzLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICAgIGFjdGl2ZXMgPSBudWxsO1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIGlmIChhY3RpdmVzKSB7XG4gICAgICAgIGFjdGl2ZXNEYXRhID0gJChhY3RpdmVzKS5ub3QodGhpcy5fc2VsZWN0b3IpLmRhdGEoREFUQV9LRVkkMyk7XG5cbiAgICAgICAgaWYgKGFjdGl2ZXNEYXRhICYmIGFjdGl2ZXNEYXRhLl9pc1RyYW5zaXRpb25pbmcpIHtcbiAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgdmFyIHN0YXJ0RXZlbnQgPSAkLkV2ZW50KEVWRU5UX1NIT1cpO1xuICAgICAgJCh0aGlzLl9lbGVtZW50KS50cmlnZ2VyKHN0YXJ0RXZlbnQpO1xuXG4gICAgICBpZiAoc3RhcnRFdmVudC5pc0RlZmF1bHRQcmV2ZW50ZWQoKSkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG5cbiAgICAgIGlmIChhY3RpdmVzKSB7XG4gICAgICAgIENvbGxhcHNlLl9qUXVlcnlJbnRlcmZhY2UuY2FsbCgkKGFjdGl2ZXMpLm5vdCh0aGlzLl9zZWxlY3RvciksICdoaWRlJyk7XG5cbiAgICAgICAgaWYgKCFhY3RpdmVzRGF0YSkge1xuICAgICAgICAgICQoYWN0aXZlcykuZGF0YShEQVRBX0tFWSQzLCBudWxsKTtcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICB2YXIgZGltZW5zaW9uID0gdGhpcy5fZ2V0RGltZW5zaW9uKCk7XG5cbiAgICAgICQodGhpcy5fZWxlbWVudCkucmVtb3ZlQ2xhc3MoQ0xBU1NfTkFNRV9DT0xMQVBTRSkuYWRkQ2xhc3MoQ0xBU1NfTkFNRV9DT0xMQVBTSU5HKTtcbiAgICAgIHRoaXMuX2VsZW1lbnQuc3R5bGVbZGltZW5zaW9uXSA9IDA7XG5cbiAgICAgIGlmICh0aGlzLl90cmlnZ2VyQXJyYXkubGVuZ3RoKSB7XG4gICAgICAgICQodGhpcy5fdHJpZ2dlckFycmF5KS5yZW1vdmVDbGFzcyhDTEFTU19OQU1FX0NPTExBUFNFRCkuYXR0cignYXJpYS1leHBhbmRlZCcsIHRydWUpO1xuICAgICAgfVxuXG4gICAgICB0aGlzLnNldFRyYW5zaXRpb25pbmcodHJ1ZSk7XG5cbiAgICAgIHZhciBjb21wbGV0ZSA9IGZ1bmN0aW9uIGNvbXBsZXRlKCkge1xuICAgICAgICAkKF90aGlzLl9lbGVtZW50KS5yZW1vdmVDbGFzcyhDTEFTU19OQU1FX0NPTExBUFNJTkcpLmFkZENsYXNzKENMQVNTX05BTUVfQ09MTEFQU0UgKyBcIiBcIiArIENMQVNTX05BTUVfU0hPVyQxKTtcbiAgICAgICAgX3RoaXMuX2VsZW1lbnQuc3R5bGVbZGltZW5zaW9uXSA9ICcnO1xuXG4gICAgICAgIF90aGlzLnNldFRyYW5zaXRpb25pbmcoZmFsc2UpO1xuXG4gICAgICAgICQoX3RoaXMuX2VsZW1lbnQpLnRyaWdnZXIoRVZFTlRfU0hPV04pO1xuICAgICAgfTtcblxuICAgICAgdmFyIGNhcGl0YWxpemVkRGltZW5zaW9uID0gZGltZW5zaW9uWzBdLnRvVXBwZXJDYXNlKCkgKyBkaW1lbnNpb24uc2xpY2UoMSk7XG4gICAgICB2YXIgc2Nyb2xsU2l6ZSA9IFwic2Nyb2xsXCIgKyBjYXBpdGFsaXplZERpbWVuc2lvbjtcbiAgICAgIHZhciB0cmFuc2l0aW9uRHVyYXRpb24gPSBVdGlsLmdldFRyYW5zaXRpb25EdXJhdGlvbkZyb21FbGVtZW50KHRoaXMuX2VsZW1lbnQpO1xuICAgICAgJCh0aGlzLl9lbGVtZW50KS5vbmUoVXRpbC5UUkFOU0lUSU9OX0VORCwgY29tcGxldGUpLmVtdWxhdGVUcmFuc2l0aW9uRW5kKHRyYW5zaXRpb25EdXJhdGlvbik7XG4gICAgICB0aGlzLl9lbGVtZW50LnN0eWxlW2RpbWVuc2lvbl0gPSB0aGlzLl9lbGVtZW50W3Njcm9sbFNpemVdICsgXCJweFwiO1xuICAgIH07XG5cbiAgICBfcHJvdG8uaGlkZSA9IGZ1bmN0aW9uIGhpZGUoKSB7XG4gICAgICB2YXIgX3RoaXMyID0gdGhpcztcblxuICAgICAgaWYgKHRoaXMuX2lzVHJhbnNpdGlvbmluZyB8fCAhJCh0aGlzLl9lbGVtZW50KS5oYXNDbGFzcyhDTEFTU19OQU1FX1NIT1ckMSkpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuXG4gICAgICB2YXIgc3RhcnRFdmVudCA9ICQuRXZlbnQoRVZFTlRfSElERSk7XG4gICAgICAkKHRoaXMuX2VsZW1lbnQpLnRyaWdnZXIoc3RhcnRFdmVudCk7XG5cbiAgICAgIGlmIChzdGFydEV2ZW50LmlzRGVmYXVsdFByZXZlbnRlZCgpKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cblxuICAgICAgdmFyIGRpbWVuc2lvbiA9IHRoaXMuX2dldERpbWVuc2lvbigpO1xuXG4gICAgICB0aGlzLl9lbGVtZW50LnN0eWxlW2RpbWVuc2lvbl0gPSB0aGlzLl9lbGVtZW50LmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpW2RpbWVuc2lvbl0gKyBcInB4XCI7XG4gICAgICBVdGlsLnJlZmxvdyh0aGlzLl9lbGVtZW50KTtcbiAgICAgICQodGhpcy5fZWxlbWVudCkuYWRkQ2xhc3MoQ0xBU1NfTkFNRV9DT0xMQVBTSU5HKS5yZW1vdmVDbGFzcyhDTEFTU19OQU1FX0NPTExBUFNFICsgXCIgXCIgKyBDTEFTU19OQU1FX1NIT1ckMSk7XG4gICAgICB2YXIgdHJpZ2dlckFycmF5TGVuZ3RoID0gdGhpcy5fdHJpZ2dlckFycmF5Lmxlbmd0aDtcblxuICAgICAgaWYgKHRyaWdnZXJBcnJheUxlbmd0aCA+IDApIHtcbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCB0cmlnZ2VyQXJyYXlMZW5ndGg7IGkrKykge1xuICAgICAgICAgIHZhciB0cmlnZ2VyID0gdGhpcy5fdHJpZ2dlckFycmF5W2ldO1xuICAgICAgICAgIHZhciBzZWxlY3RvciA9IFV0aWwuZ2V0U2VsZWN0b3JGcm9tRWxlbWVudCh0cmlnZ2VyKTtcblxuICAgICAgICAgIGlmIChzZWxlY3RvciAhPT0gbnVsbCkge1xuICAgICAgICAgICAgdmFyICRlbGVtID0gJChbXS5zbGljZS5jYWxsKGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoc2VsZWN0b3IpKSk7XG5cbiAgICAgICAgICAgIGlmICghJGVsZW0uaGFzQ2xhc3MoQ0xBU1NfTkFNRV9TSE9XJDEpKSB7XG4gICAgICAgICAgICAgICQodHJpZ2dlcikuYWRkQ2xhc3MoQ0xBU1NfTkFNRV9DT0xMQVBTRUQpLmF0dHIoJ2FyaWEtZXhwYW5kZWQnLCBmYWxzZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIHRoaXMuc2V0VHJhbnNpdGlvbmluZyh0cnVlKTtcblxuICAgICAgdmFyIGNvbXBsZXRlID0gZnVuY3Rpb24gY29tcGxldGUoKSB7XG4gICAgICAgIF90aGlzMi5zZXRUcmFuc2l0aW9uaW5nKGZhbHNlKTtcblxuICAgICAgICAkKF90aGlzMi5fZWxlbWVudCkucmVtb3ZlQ2xhc3MoQ0xBU1NfTkFNRV9DT0xMQVBTSU5HKS5hZGRDbGFzcyhDTEFTU19OQU1FX0NPTExBUFNFKS50cmlnZ2VyKEVWRU5UX0hJRERFTik7XG4gICAgICB9O1xuXG4gICAgICB0aGlzLl9lbGVtZW50LnN0eWxlW2RpbWVuc2lvbl0gPSAnJztcbiAgICAgIHZhciB0cmFuc2l0aW9uRHVyYXRpb24gPSBVdGlsLmdldFRyYW5zaXRpb25EdXJhdGlvbkZyb21FbGVtZW50KHRoaXMuX2VsZW1lbnQpO1xuICAgICAgJCh0aGlzLl9lbGVtZW50KS5vbmUoVXRpbC5UUkFOU0lUSU9OX0VORCwgY29tcGxldGUpLmVtdWxhdGVUcmFuc2l0aW9uRW5kKHRyYW5zaXRpb25EdXJhdGlvbik7XG4gICAgfTtcblxuICAgIF9wcm90by5zZXRUcmFuc2l0aW9uaW5nID0gZnVuY3Rpb24gc2V0VHJhbnNpdGlvbmluZyhpc1RyYW5zaXRpb25pbmcpIHtcbiAgICAgIHRoaXMuX2lzVHJhbnNpdGlvbmluZyA9IGlzVHJhbnNpdGlvbmluZztcbiAgICB9O1xuXG4gICAgX3Byb3RvLmRpc3Bvc2UgPSBmdW5jdGlvbiBkaXNwb3NlKCkge1xuICAgICAgJC5yZW1vdmVEYXRhKHRoaXMuX2VsZW1lbnQsIERBVEFfS0VZJDMpO1xuICAgICAgdGhpcy5fY29uZmlnID0gbnVsbDtcbiAgICAgIHRoaXMuX3BhcmVudCA9IG51bGw7XG4gICAgICB0aGlzLl9lbGVtZW50ID0gbnVsbDtcbiAgICAgIHRoaXMuX3RyaWdnZXJBcnJheSA9IG51bGw7XG4gICAgICB0aGlzLl9pc1RyYW5zaXRpb25pbmcgPSBudWxsO1xuICAgIH0gLy8gUHJpdmF0ZVxuICAgIDtcblxuICAgIF9wcm90by5fZ2V0Q29uZmlnID0gZnVuY3Rpb24gX2dldENvbmZpZyhjb25maWcpIHtcbiAgICAgIGNvbmZpZyA9IF9vYmplY3RTcHJlYWQyKF9vYmplY3RTcHJlYWQyKHt9LCBEZWZhdWx0JDEpLCBjb25maWcpO1xuICAgICAgY29uZmlnLnRvZ2dsZSA9IEJvb2xlYW4oY29uZmlnLnRvZ2dsZSk7IC8vIENvZXJjZSBzdHJpbmcgdmFsdWVzXG5cbiAgICAgIFV0aWwudHlwZUNoZWNrQ29uZmlnKE5BTUUkMywgY29uZmlnLCBEZWZhdWx0VHlwZSQxKTtcbiAgICAgIHJldHVybiBjb25maWc7XG4gICAgfTtcblxuICAgIF9wcm90by5fZ2V0RGltZW5zaW9uID0gZnVuY3Rpb24gX2dldERpbWVuc2lvbigpIHtcbiAgICAgIHZhciBoYXNXaWR0aCA9ICQodGhpcy5fZWxlbWVudCkuaGFzQ2xhc3MoRElNRU5TSU9OX1dJRFRIKTtcbiAgICAgIHJldHVybiBoYXNXaWR0aCA/IERJTUVOU0lPTl9XSURUSCA6IERJTUVOU0lPTl9IRUlHSFQ7XG4gICAgfTtcblxuICAgIF9wcm90by5fZ2V0UGFyZW50ID0gZnVuY3Rpb24gX2dldFBhcmVudCgpIHtcbiAgICAgIHZhciBfdGhpczMgPSB0aGlzO1xuXG4gICAgICB2YXIgcGFyZW50O1xuXG4gICAgICBpZiAoVXRpbC5pc0VsZW1lbnQodGhpcy5fY29uZmlnLnBhcmVudCkpIHtcbiAgICAgICAgcGFyZW50ID0gdGhpcy5fY29uZmlnLnBhcmVudDsgLy8gSXQncyBhIGpRdWVyeSBvYmplY3RcblxuICAgICAgICBpZiAodHlwZW9mIHRoaXMuX2NvbmZpZy5wYXJlbnQuanF1ZXJ5ICE9PSAndW5kZWZpbmVkJykge1xuICAgICAgICAgIHBhcmVudCA9IHRoaXMuX2NvbmZpZy5wYXJlbnRbMF07XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHBhcmVudCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IodGhpcy5fY29uZmlnLnBhcmVudCk7XG4gICAgICB9XG5cbiAgICAgIHZhciBzZWxlY3RvciA9IFwiW2RhdGEtdG9nZ2xlPVxcXCJjb2xsYXBzZVxcXCJdW2RhdGEtcGFyZW50PVxcXCJcIiArIHRoaXMuX2NvbmZpZy5wYXJlbnQgKyBcIlxcXCJdXCI7XG4gICAgICB2YXIgY2hpbGRyZW4gPSBbXS5zbGljZS5jYWxsKHBhcmVudC5xdWVyeVNlbGVjdG9yQWxsKHNlbGVjdG9yKSk7XG4gICAgICAkKGNoaWxkcmVuKS5lYWNoKGZ1bmN0aW9uIChpLCBlbGVtZW50KSB7XG4gICAgICAgIF90aGlzMy5fYWRkQXJpYUFuZENvbGxhcHNlZENsYXNzKENvbGxhcHNlLl9nZXRUYXJnZXRGcm9tRWxlbWVudChlbGVtZW50KSwgW2VsZW1lbnRdKTtcbiAgICAgIH0pO1xuICAgICAgcmV0dXJuIHBhcmVudDtcbiAgICB9O1xuXG4gICAgX3Byb3RvLl9hZGRBcmlhQW5kQ29sbGFwc2VkQ2xhc3MgPSBmdW5jdGlvbiBfYWRkQXJpYUFuZENvbGxhcHNlZENsYXNzKGVsZW1lbnQsIHRyaWdnZXJBcnJheSkge1xuICAgICAgdmFyIGlzT3BlbiA9ICQoZWxlbWVudCkuaGFzQ2xhc3MoQ0xBU1NfTkFNRV9TSE9XJDEpO1xuXG4gICAgICBpZiAodHJpZ2dlckFycmF5Lmxlbmd0aCkge1xuICAgICAgICAkKHRyaWdnZXJBcnJheSkudG9nZ2xlQ2xhc3MoQ0xBU1NfTkFNRV9DT0xMQVBTRUQsICFpc09wZW4pLmF0dHIoJ2FyaWEtZXhwYW5kZWQnLCBpc09wZW4pO1xuICAgICAgfVxuICAgIH0gLy8gU3RhdGljXG4gICAgO1xuXG4gICAgQ29sbGFwc2UuX2dldFRhcmdldEZyb21FbGVtZW50ID0gZnVuY3Rpb24gX2dldFRhcmdldEZyb21FbGVtZW50KGVsZW1lbnQpIHtcbiAgICAgIHZhciBzZWxlY3RvciA9IFV0aWwuZ2V0U2VsZWN0b3JGcm9tRWxlbWVudChlbGVtZW50KTtcbiAgICAgIHJldHVybiBzZWxlY3RvciA/IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3Ioc2VsZWN0b3IpIDogbnVsbDtcbiAgICB9O1xuXG4gICAgQ29sbGFwc2UuX2pRdWVyeUludGVyZmFjZSA9IGZ1bmN0aW9uIF9qUXVlcnlJbnRlcmZhY2UoY29uZmlnKSB7XG4gICAgICByZXR1cm4gdGhpcy5lYWNoKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyICR0aGlzID0gJCh0aGlzKTtcbiAgICAgICAgdmFyIGRhdGEgPSAkdGhpcy5kYXRhKERBVEFfS0VZJDMpO1xuXG4gICAgICAgIHZhciBfY29uZmlnID0gX29iamVjdFNwcmVhZDIoX29iamVjdFNwcmVhZDIoX29iamVjdFNwcmVhZDIoe30sIERlZmF1bHQkMSksICR0aGlzLmRhdGEoKSksIHR5cGVvZiBjb25maWcgPT09ICdvYmplY3QnICYmIGNvbmZpZyA/IGNvbmZpZyA6IHt9KTtcblxuICAgICAgICBpZiAoIWRhdGEgJiYgX2NvbmZpZy50b2dnbGUgJiYgdHlwZW9mIGNvbmZpZyA9PT0gJ3N0cmluZycgJiYgL3Nob3d8aGlkZS8udGVzdChjb25maWcpKSB7XG4gICAgICAgICAgX2NvbmZpZy50b2dnbGUgPSBmYWxzZTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmICghZGF0YSkge1xuICAgICAgICAgIGRhdGEgPSBuZXcgQ29sbGFwc2UodGhpcywgX2NvbmZpZyk7XG4gICAgICAgICAgJHRoaXMuZGF0YShEQVRBX0tFWSQzLCBkYXRhKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmICh0eXBlb2YgY29uZmlnID09PSAnc3RyaW5nJykge1xuICAgICAgICAgIGlmICh0eXBlb2YgZGF0YVtjb25maWddID09PSAndW5kZWZpbmVkJykge1xuICAgICAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcihcIk5vIG1ldGhvZCBuYW1lZCBcXFwiXCIgKyBjb25maWcgKyBcIlxcXCJcIik7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgZGF0YVtjb25maWddKCk7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgIH07XG5cbiAgICBfY3JlYXRlQ2xhc3MoQ29sbGFwc2UsIG51bGwsIFt7XG4gICAgICBrZXk6IFwiVkVSU0lPTlwiLFxuICAgICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgICAgIHJldHVybiBWRVJTSU9OJDM7XG4gICAgICB9XG4gICAgfSwge1xuICAgICAga2V5OiBcIkRlZmF1bHRcIixcbiAgICAgIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgICAgICByZXR1cm4gRGVmYXVsdCQxO1xuICAgICAgfVxuICAgIH1dKTtcblxuICAgIHJldHVybiBDb2xsYXBzZTtcbiAgfSgpO1xuICAvKipcbiAgICogLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gICAqIERhdGEgQXBpIGltcGxlbWVudGF0aW9uXG4gICAqIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICAgKi9cblxuXG4gICQoZG9jdW1lbnQpLm9uKEVWRU5UX0NMSUNLX0RBVEFfQVBJJDMsIFNFTEVDVE9SX0RBVEFfVE9HR0xFJDEsIGZ1bmN0aW9uIChldmVudCkge1xuICAgIC8vIHByZXZlbnREZWZhdWx0IG9ubHkgZm9yIDxhPiBlbGVtZW50cyAod2hpY2ggY2hhbmdlIHRoZSBVUkwpIG5vdCBpbnNpZGUgdGhlIGNvbGxhcHNpYmxlIGVsZW1lbnRcbiAgICBpZiAoZXZlbnQuY3VycmVudFRhcmdldC50YWdOYW1lID09PSAnQScpIHtcbiAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG4gICAgfVxuXG4gICAgdmFyICR0cmlnZ2VyID0gJCh0aGlzKTtcbiAgICB2YXIgc2VsZWN0b3IgPSBVdGlsLmdldFNlbGVjdG9yRnJvbUVsZW1lbnQodGhpcyk7XG4gICAgdmFyIHNlbGVjdG9ycyA9IFtdLnNsaWNlLmNhbGwoZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbChzZWxlY3RvcikpO1xuICAgICQoc2VsZWN0b3JzKS5lYWNoKGZ1bmN0aW9uICgpIHtcbiAgICAgIHZhciAkdGFyZ2V0ID0gJCh0aGlzKTtcbiAgICAgIHZhciBkYXRhID0gJHRhcmdldC5kYXRhKERBVEFfS0VZJDMpO1xuICAgICAgdmFyIGNvbmZpZyA9IGRhdGEgPyAndG9nZ2xlJyA6ICR0cmlnZ2VyLmRhdGEoKTtcblxuICAgICAgQ29sbGFwc2UuX2pRdWVyeUludGVyZmFjZS5jYWxsKCR0YXJnZXQsIGNvbmZpZyk7XG4gICAgfSk7XG4gIH0pO1xuICAvKipcbiAgICogLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gICAqIGpRdWVyeVxuICAgKiAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAgICovXG5cbiAgJC5mbltOQU1FJDNdID0gQ29sbGFwc2UuX2pRdWVyeUludGVyZmFjZTtcbiAgJC5mbltOQU1FJDNdLkNvbnN0cnVjdG9yID0gQ29sbGFwc2U7XG5cbiAgJC5mbltOQU1FJDNdLm5vQ29uZmxpY3QgPSBmdW5jdGlvbiAoKSB7XG4gICAgJC5mbltOQU1FJDNdID0gSlFVRVJZX05PX0NPTkZMSUNUJDM7XG4gICAgcmV0dXJuIENvbGxhcHNlLl9qUXVlcnlJbnRlcmZhY2U7XG4gIH07XG5cbiAgLyoqXG4gICAqIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICAgKiBDb25zdGFudHNcbiAgICogLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gICAqL1xuXG4gIHZhciBOQU1FJDQgPSAnZHJvcGRvd24nO1xuICB2YXIgVkVSU0lPTiQ0ID0gJzQuNS4wJztcbiAgdmFyIERBVEFfS0VZJDQgPSAnYnMuZHJvcGRvd24nO1xuICB2YXIgRVZFTlRfS0VZJDQgPSBcIi5cIiArIERBVEFfS0VZJDQ7XG4gIHZhciBEQVRBX0FQSV9LRVkkNCA9ICcuZGF0YS1hcGknO1xuICB2YXIgSlFVRVJZX05PX0NPTkZMSUNUJDQgPSAkLmZuW05BTUUkNF07XG4gIHZhciBFU0NBUEVfS0VZQ09ERSA9IDI3OyAvLyBLZXlib2FyZEV2ZW50LndoaWNoIHZhbHVlIGZvciBFc2NhcGUgKEVzYykga2V5XG5cbiAgdmFyIFNQQUNFX0tFWUNPREUgPSAzMjsgLy8gS2V5Ym9hcmRFdmVudC53aGljaCB2YWx1ZSBmb3Igc3BhY2Uga2V5XG5cbiAgdmFyIFRBQl9LRVlDT0RFID0gOTsgLy8gS2V5Ym9hcmRFdmVudC53aGljaCB2YWx1ZSBmb3IgdGFiIGtleVxuXG4gIHZhciBBUlJPV19VUF9LRVlDT0RFID0gMzg7IC8vIEtleWJvYXJkRXZlbnQud2hpY2ggdmFsdWUgZm9yIHVwIGFycm93IGtleVxuXG4gIHZhciBBUlJPV19ET1dOX0tFWUNPREUgPSA0MDsgLy8gS2V5Ym9hcmRFdmVudC53aGljaCB2YWx1ZSBmb3IgZG93biBhcnJvdyBrZXlcblxuICB2YXIgUklHSFRfTU9VU0VfQlVUVE9OX1dISUNIID0gMzsgLy8gTW91c2VFdmVudC53aGljaCB2YWx1ZSBmb3IgdGhlIHJpZ2h0IGJ1dHRvbiAoYXNzdW1pbmcgYSByaWdodC1oYW5kZWQgbW91c2UpXG5cbiAgdmFyIFJFR0VYUF9LRVlET1dOID0gbmV3IFJlZ0V4cChBUlJPV19VUF9LRVlDT0RFICsgXCJ8XCIgKyBBUlJPV19ET1dOX0tFWUNPREUgKyBcInxcIiArIEVTQ0FQRV9LRVlDT0RFKTtcbiAgdmFyIEVWRU5UX0hJREUkMSA9IFwiaGlkZVwiICsgRVZFTlRfS0VZJDQ7XG4gIHZhciBFVkVOVF9ISURERU4kMSA9IFwiaGlkZGVuXCIgKyBFVkVOVF9LRVkkNDtcbiAgdmFyIEVWRU5UX1NIT1ckMSA9IFwic2hvd1wiICsgRVZFTlRfS0VZJDQ7XG4gIHZhciBFVkVOVF9TSE9XTiQxID0gXCJzaG93blwiICsgRVZFTlRfS0VZJDQ7XG4gIHZhciBFVkVOVF9DTElDSyA9IFwiY2xpY2tcIiArIEVWRU5UX0tFWSQ0O1xuICB2YXIgRVZFTlRfQ0xJQ0tfREFUQV9BUEkkNCA9IFwiY2xpY2tcIiArIEVWRU5UX0tFWSQ0ICsgREFUQV9BUElfS0VZJDQ7XG4gIHZhciBFVkVOVF9LRVlET1dOX0RBVEFfQVBJID0gXCJrZXlkb3duXCIgKyBFVkVOVF9LRVkkNCArIERBVEFfQVBJX0tFWSQ0O1xuICB2YXIgRVZFTlRfS0VZVVBfREFUQV9BUEkgPSBcImtleXVwXCIgKyBFVkVOVF9LRVkkNCArIERBVEFfQVBJX0tFWSQ0O1xuICB2YXIgQ0xBU1NfTkFNRV9ESVNBQkxFRCA9ICdkaXNhYmxlZCc7XG4gIHZhciBDTEFTU19OQU1FX1NIT1ckMiA9ICdzaG93JztcbiAgdmFyIENMQVNTX05BTUVfRFJPUFVQID0gJ2Ryb3B1cCc7XG4gIHZhciBDTEFTU19OQU1FX0RST1BSSUdIVCA9ICdkcm9wcmlnaHQnO1xuICB2YXIgQ0xBU1NfTkFNRV9EUk9QTEVGVCA9ICdkcm9wbGVmdCc7XG4gIHZhciBDTEFTU19OQU1FX01FTlVSSUdIVCA9ICdkcm9wZG93bi1tZW51LXJpZ2h0JztcbiAgdmFyIENMQVNTX05BTUVfUE9TSVRJT05fU1RBVElDID0gJ3Bvc2l0aW9uLXN0YXRpYyc7XG4gIHZhciBTRUxFQ1RPUl9EQVRBX1RPR0dMRSQyID0gJ1tkYXRhLXRvZ2dsZT1cImRyb3Bkb3duXCJdJztcbiAgdmFyIFNFTEVDVE9SX0ZPUk1fQ0hJTEQgPSAnLmRyb3Bkb3duIGZvcm0nO1xuICB2YXIgU0VMRUNUT1JfTUVOVSA9ICcuZHJvcGRvd24tbWVudSc7XG4gIHZhciBTRUxFQ1RPUl9OQVZCQVJfTkFWID0gJy5uYXZiYXItbmF2JztcbiAgdmFyIFNFTEVDVE9SX1ZJU0lCTEVfSVRFTVMgPSAnLmRyb3Bkb3duLW1lbnUgLmRyb3Bkb3duLWl0ZW06bm90KC5kaXNhYmxlZCk6bm90KDpkaXNhYmxlZCknO1xuICB2YXIgUExBQ0VNRU5UX1RPUCA9ICd0b3Atc3RhcnQnO1xuICB2YXIgUExBQ0VNRU5UX1RPUEVORCA9ICd0b3AtZW5kJztcbiAgdmFyIFBMQUNFTUVOVF9CT1RUT00gPSAnYm90dG9tLXN0YXJ0JztcbiAgdmFyIFBMQUNFTUVOVF9CT1RUT01FTkQgPSAnYm90dG9tLWVuZCc7XG4gIHZhciBQTEFDRU1FTlRfUklHSFQgPSAncmlnaHQtc3RhcnQnO1xuICB2YXIgUExBQ0VNRU5UX0xFRlQgPSAnbGVmdC1zdGFydCc7XG4gIHZhciBEZWZhdWx0JDIgPSB7XG4gICAgb2Zmc2V0OiAwLFxuICAgIGZsaXA6IHRydWUsXG4gICAgYm91bmRhcnk6ICdzY3JvbGxQYXJlbnQnLFxuICAgIHJlZmVyZW5jZTogJ3RvZ2dsZScsXG4gICAgZGlzcGxheTogJ2R5bmFtaWMnLFxuICAgIHBvcHBlckNvbmZpZzogbnVsbFxuICB9O1xuICB2YXIgRGVmYXVsdFR5cGUkMiA9IHtcbiAgICBvZmZzZXQ6ICcobnVtYmVyfHN0cmluZ3xmdW5jdGlvbiknLFxuICAgIGZsaXA6ICdib29sZWFuJyxcbiAgICBib3VuZGFyeTogJyhzdHJpbmd8ZWxlbWVudCknLFxuICAgIHJlZmVyZW5jZTogJyhzdHJpbmd8ZWxlbWVudCknLFxuICAgIGRpc3BsYXk6ICdzdHJpbmcnLFxuICAgIHBvcHBlckNvbmZpZzogJyhudWxsfG9iamVjdCknXG4gIH07XG4gIC8qKlxuICAgKiAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAgICogQ2xhc3MgRGVmaW5pdGlvblxuICAgKiAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAgICovXG5cbiAgdmFyIERyb3Bkb3duID0gLyojX19QVVJFX18qL2Z1bmN0aW9uICgpIHtcbiAgICBmdW5jdGlvbiBEcm9wZG93bihlbGVtZW50LCBjb25maWcpIHtcbiAgICAgIHRoaXMuX2VsZW1lbnQgPSBlbGVtZW50O1xuICAgICAgdGhpcy5fcG9wcGVyID0gbnVsbDtcbiAgICAgIHRoaXMuX2NvbmZpZyA9IHRoaXMuX2dldENvbmZpZyhjb25maWcpO1xuICAgICAgdGhpcy5fbWVudSA9IHRoaXMuX2dldE1lbnVFbGVtZW50KCk7XG4gICAgICB0aGlzLl9pbk5hdmJhciA9IHRoaXMuX2RldGVjdE5hdmJhcigpO1xuXG4gICAgICB0aGlzLl9hZGRFdmVudExpc3RlbmVycygpO1xuICAgIH0gLy8gR2V0dGVyc1xuXG5cbiAgICB2YXIgX3Byb3RvID0gRHJvcGRvd24ucHJvdG90eXBlO1xuXG4gICAgLy8gUHVibGljXG4gICAgX3Byb3RvLnRvZ2dsZSA9IGZ1bmN0aW9uIHRvZ2dsZSgpIHtcbiAgICAgIGlmICh0aGlzLl9lbGVtZW50LmRpc2FibGVkIHx8ICQodGhpcy5fZWxlbWVudCkuaGFzQ2xhc3MoQ0xBU1NfTkFNRV9ESVNBQkxFRCkpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuXG4gICAgICB2YXIgaXNBY3RpdmUgPSAkKHRoaXMuX21lbnUpLmhhc0NsYXNzKENMQVNTX05BTUVfU0hPVyQyKTtcblxuICAgICAgRHJvcGRvd24uX2NsZWFyTWVudXMoKTtcblxuICAgICAgaWYgKGlzQWN0aXZlKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cblxuICAgICAgdGhpcy5zaG93KHRydWUpO1xuICAgIH07XG5cbiAgICBfcHJvdG8uc2hvdyA9IGZ1bmN0aW9uIHNob3codXNlUG9wcGVyKSB7XG4gICAgICBpZiAodXNlUG9wcGVyID09PSB2b2lkIDApIHtcbiAgICAgICAgdXNlUG9wcGVyID0gZmFsc2U7XG4gICAgICB9XG5cbiAgICAgIGlmICh0aGlzLl9lbGVtZW50LmRpc2FibGVkIHx8ICQodGhpcy5fZWxlbWVudCkuaGFzQ2xhc3MoQ0xBU1NfTkFNRV9ESVNBQkxFRCkgfHwgJCh0aGlzLl9tZW51KS5oYXNDbGFzcyhDTEFTU19OQU1FX1NIT1ckMikpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuXG4gICAgICB2YXIgcmVsYXRlZFRhcmdldCA9IHtcbiAgICAgICAgcmVsYXRlZFRhcmdldDogdGhpcy5fZWxlbWVudFxuICAgICAgfTtcbiAgICAgIHZhciBzaG93RXZlbnQgPSAkLkV2ZW50KEVWRU5UX1NIT1ckMSwgcmVsYXRlZFRhcmdldCk7XG5cbiAgICAgIHZhciBwYXJlbnQgPSBEcm9wZG93bi5fZ2V0UGFyZW50RnJvbUVsZW1lbnQodGhpcy5fZWxlbWVudCk7XG5cbiAgICAgICQocGFyZW50KS50cmlnZ2VyKHNob3dFdmVudCk7XG5cbiAgICAgIGlmIChzaG93RXZlbnQuaXNEZWZhdWx0UHJldmVudGVkKCkpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfSAvLyBEaXNhYmxlIHRvdGFsbHkgUG9wcGVyLmpzIGZvciBEcm9wZG93biBpbiBOYXZiYXJcblxuXG4gICAgICBpZiAoIXRoaXMuX2luTmF2YmFyICYmIHVzZVBvcHBlcikge1xuICAgICAgICAvKipcbiAgICAgICAgICogQ2hlY2sgZm9yIFBvcHBlciBkZXBlbmRlbmN5XG4gICAgICAgICAqIFBvcHBlciAtIGh0dHBzOi8vcG9wcGVyLmpzLm9yZ1xuICAgICAgICAgKi9cbiAgICAgICAgaWYgKHR5cGVvZiBQb3BwZXIgPT09ICd1bmRlZmluZWQnKSB7XG4gICAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcignQm9vdHN0cmFwXFwncyBkcm9wZG93bnMgcmVxdWlyZSBQb3BwZXIuanMgKGh0dHBzOi8vcG9wcGVyLmpzLm9yZy8pJyk7XG4gICAgICAgIH1cblxuICAgICAgICB2YXIgcmVmZXJlbmNlRWxlbWVudCA9IHRoaXMuX2VsZW1lbnQ7XG5cbiAgICAgICAgaWYgKHRoaXMuX2NvbmZpZy5yZWZlcmVuY2UgPT09ICdwYXJlbnQnKSB7XG4gICAgICAgICAgcmVmZXJlbmNlRWxlbWVudCA9IHBhcmVudDtcbiAgICAgICAgfSBlbHNlIGlmIChVdGlsLmlzRWxlbWVudCh0aGlzLl9jb25maWcucmVmZXJlbmNlKSkge1xuICAgICAgICAgIHJlZmVyZW5jZUVsZW1lbnQgPSB0aGlzLl9jb25maWcucmVmZXJlbmNlOyAvLyBDaGVjayBpZiBpdCdzIGpRdWVyeSBlbGVtZW50XG5cbiAgICAgICAgICBpZiAodHlwZW9mIHRoaXMuX2NvbmZpZy5yZWZlcmVuY2UuanF1ZXJ5ICE9PSAndW5kZWZpbmVkJykge1xuICAgICAgICAgICAgcmVmZXJlbmNlRWxlbWVudCA9IHRoaXMuX2NvbmZpZy5yZWZlcmVuY2VbMF07XG4gICAgICAgICAgfVxuICAgICAgICB9IC8vIElmIGJvdW5kYXJ5IGlzIG5vdCBgc2Nyb2xsUGFyZW50YCwgdGhlbiBzZXQgcG9zaXRpb24gdG8gYHN0YXRpY2BcbiAgICAgICAgLy8gdG8gYWxsb3cgdGhlIG1lbnUgdG8gXCJlc2NhcGVcIiB0aGUgc2Nyb2xsIHBhcmVudCdzIGJvdW5kYXJpZXNcbiAgICAgICAgLy8gaHR0cHM6Ly9naXRodWIuY29tL3R3YnMvYm9vdHN0cmFwL2lzc3Vlcy8yNDI1MVxuXG5cbiAgICAgICAgaWYgKHRoaXMuX2NvbmZpZy5ib3VuZGFyeSAhPT0gJ3Njcm9sbFBhcmVudCcpIHtcbiAgICAgICAgICAkKHBhcmVudCkuYWRkQ2xhc3MoQ0xBU1NfTkFNRV9QT1NJVElPTl9TVEFUSUMpO1xuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5fcG9wcGVyID0gbmV3IFBvcHBlcihyZWZlcmVuY2VFbGVtZW50LCB0aGlzLl9tZW51LCB0aGlzLl9nZXRQb3BwZXJDb25maWcoKSk7XG4gICAgICB9IC8vIElmIHRoaXMgaXMgYSB0b3VjaC1lbmFibGVkIGRldmljZSB3ZSBhZGQgZXh0cmFcbiAgICAgIC8vIGVtcHR5IG1vdXNlb3ZlciBsaXN0ZW5lcnMgdG8gdGhlIGJvZHkncyBpbW1lZGlhdGUgY2hpbGRyZW47XG4gICAgICAvLyBvbmx5IG5lZWRlZCBiZWNhdXNlIG9mIGJyb2tlbiBldmVudCBkZWxlZ2F0aW9uIG9uIGlPU1xuICAgICAgLy8gaHR0cHM6Ly93d3cucXVpcmtzbW9kZS5vcmcvYmxvZy9hcmNoaXZlcy8yMDE0LzAyL21vdXNlX2V2ZW50X2J1Yi5odG1sXG5cblxuICAgICAgaWYgKCdvbnRvdWNoc3RhcnQnIGluIGRvY3VtZW50LmRvY3VtZW50RWxlbWVudCAmJiAkKHBhcmVudCkuY2xvc2VzdChTRUxFQ1RPUl9OQVZCQVJfTkFWKS5sZW5ndGggPT09IDApIHtcbiAgICAgICAgJChkb2N1bWVudC5ib2R5KS5jaGlsZHJlbigpLm9uKCdtb3VzZW92ZXInLCBudWxsLCAkLm5vb3ApO1xuICAgICAgfVxuXG4gICAgICB0aGlzLl9lbGVtZW50LmZvY3VzKCk7XG5cbiAgICAgIHRoaXMuX2VsZW1lbnQuc2V0QXR0cmlidXRlKCdhcmlhLWV4cGFuZGVkJywgdHJ1ZSk7XG5cbiAgICAgICQodGhpcy5fbWVudSkudG9nZ2xlQ2xhc3MoQ0xBU1NfTkFNRV9TSE9XJDIpO1xuICAgICAgJChwYXJlbnQpLnRvZ2dsZUNsYXNzKENMQVNTX05BTUVfU0hPVyQyKS50cmlnZ2VyKCQuRXZlbnQoRVZFTlRfU0hPV04kMSwgcmVsYXRlZFRhcmdldCkpO1xuICAgIH07XG5cbiAgICBfcHJvdG8uaGlkZSA9IGZ1bmN0aW9uIGhpZGUoKSB7XG4gICAgICBpZiAodGhpcy5fZWxlbWVudC5kaXNhYmxlZCB8fCAkKHRoaXMuX2VsZW1lbnQpLmhhc0NsYXNzKENMQVNTX05BTUVfRElTQUJMRUQpIHx8ICEkKHRoaXMuX21lbnUpLmhhc0NsYXNzKENMQVNTX05BTUVfU0hPVyQyKSkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG5cbiAgICAgIHZhciByZWxhdGVkVGFyZ2V0ID0ge1xuICAgICAgICByZWxhdGVkVGFyZ2V0OiB0aGlzLl9lbGVtZW50XG4gICAgICB9O1xuICAgICAgdmFyIGhpZGVFdmVudCA9ICQuRXZlbnQoRVZFTlRfSElERSQxLCByZWxhdGVkVGFyZ2V0KTtcblxuICAgICAgdmFyIHBhcmVudCA9IERyb3Bkb3duLl9nZXRQYXJlbnRGcm9tRWxlbWVudCh0aGlzLl9lbGVtZW50KTtcblxuICAgICAgJChwYXJlbnQpLnRyaWdnZXIoaGlkZUV2ZW50KTtcblxuICAgICAgaWYgKGhpZGVFdmVudC5pc0RlZmF1bHRQcmV2ZW50ZWQoKSkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG5cbiAgICAgIGlmICh0aGlzLl9wb3BwZXIpIHtcbiAgICAgICAgdGhpcy5fcG9wcGVyLmRlc3Ryb3koKTtcbiAgICAgIH1cblxuICAgICAgJCh0aGlzLl9tZW51KS50b2dnbGVDbGFzcyhDTEFTU19OQU1FX1NIT1ckMik7XG4gICAgICAkKHBhcmVudCkudG9nZ2xlQ2xhc3MoQ0xBU1NfTkFNRV9TSE9XJDIpLnRyaWdnZXIoJC5FdmVudChFVkVOVF9ISURERU4kMSwgcmVsYXRlZFRhcmdldCkpO1xuICAgIH07XG5cbiAgICBfcHJvdG8uZGlzcG9zZSA9IGZ1bmN0aW9uIGRpc3Bvc2UoKSB7XG4gICAgICAkLnJlbW92ZURhdGEodGhpcy5fZWxlbWVudCwgREFUQV9LRVkkNCk7XG4gICAgICAkKHRoaXMuX2VsZW1lbnQpLm9mZihFVkVOVF9LRVkkNCk7XG4gICAgICB0aGlzLl9lbGVtZW50ID0gbnVsbDtcbiAgICAgIHRoaXMuX21lbnUgPSBudWxsO1xuXG4gICAgICBpZiAodGhpcy5fcG9wcGVyICE9PSBudWxsKSB7XG4gICAgICAgIHRoaXMuX3BvcHBlci5kZXN0cm95KCk7XG5cbiAgICAgICAgdGhpcy5fcG9wcGVyID0gbnVsbDtcbiAgICAgIH1cbiAgICB9O1xuXG4gICAgX3Byb3RvLnVwZGF0ZSA9IGZ1bmN0aW9uIHVwZGF0ZSgpIHtcbiAgICAgIHRoaXMuX2luTmF2YmFyID0gdGhpcy5fZGV0ZWN0TmF2YmFyKCk7XG5cbiAgICAgIGlmICh0aGlzLl9wb3BwZXIgIT09IG51bGwpIHtcbiAgICAgICAgdGhpcy5fcG9wcGVyLnNjaGVkdWxlVXBkYXRlKCk7XG4gICAgICB9XG4gICAgfSAvLyBQcml2YXRlXG4gICAgO1xuXG4gICAgX3Byb3RvLl9hZGRFdmVudExpc3RlbmVycyA9IGZ1bmN0aW9uIF9hZGRFdmVudExpc3RlbmVycygpIHtcbiAgICAgIHZhciBfdGhpcyA9IHRoaXM7XG5cbiAgICAgICQodGhpcy5fZWxlbWVudCkub24oRVZFTlRfQ0xJQ0ssIGZ1bmN0aW9uIChldmVudCkge1xuICAgICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICBldmVudC5zdG9wUHJvcGFnYXRpb24oKTtcblxuICAgICAgICBfdGhpcy50b2dnbGUoKTtcbiAgICAgIH0pO1xuICAgIH07XG5cbiAgICBfcHJvdG8uX2dldENvbmZpZyA9IGZ1bmN0aW9uIF9nZXRDb25maWcoY29uZmlnKSB7XG4gICAgICBjb25maWcgPSBfb2JqZWN0U3ByZWFkMihfb2JqZWN0U3ByZWFkMihfb2JqZWN0U3ByZWFkMih7fSwgdGhpcy5jb25zdHJ1Y3Rvci5EZWZhdWx0KSwgJCh0aGlzLl9lbGVtZW50KS5kYXRhKCkpLCBjb25maWcpO1xuICAgICAgVXRpbC50eXBlQ2hlY2tDb25maWcoTkFNRSQ0LCBjb25maWcsIHRoaXMuY29uc3RydWN0b3IuRGVmYXVsdFR5cGUpO1xuICAgICAgcmV0dXJuIGNvbmZpZztcbiAgICB9O1xuXG4gICAgX3Byb3RvLl9nZXRNZW51RWxlbWVudCA9IGZ1bmN0aW9uIF9nZXRNZW51RWxlbWVudCgpIHtcbiAgICAgIGlmICghdGhpcy5fbWVudSkge1xuICAgICAgICB2YXIgcGFyZW50ID0gRHJvcGRvd24uX2dldFBhcmVudEZyb21FbGVtZW50KHRoaXMuX2VsZW1lbnQpO1xuXG4gICAgICAgIGlmIChwYXJlbnQpIHtcbiAgICAgICAgICB0aGlzLl9tZW51ID0gcGFyZW50LnF1ZXJ5U2VsZWN0b3IoU0VMRUNUT1JfTUVOVSk7XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgcmV0dXJuIHRoaXMuX21lbnU7XG4gICAgfTtcblxuICAgIF9wcm90by5fZ2V0UGxhY2VtZW50ID0gZnVuY3Rpb24gX2dldFBsYWNlbWVudCgpIHtcbiAgICAgIHZhciAkcGFyZW50RHJvcGRvd24gPSAkKHRoaXMuX2VsZW1lbnQucGFyZW50Tm9kZSk7XG4gICAgICB2YXIgcGxhY2VtZW50ID0gUExBQ0VNRU5UX0JPVFRPTTsgLy8gSGFuZGxlIGRyb3B1cFxuXG4gICAgICBpZiAoJHBhcmVudERyb3Bkb3duLmhhc0NsYXNzKENMQVNTX05BTUVfRFJPUFVQKSkge1xuICAgICAgICBwbGFjZW1lbnQgPSAkKHRoaXMuX21lbnUpLmhhc0NsYXNzKENMQVNTX05BTUVfTUVOVVJJR0hUKSA/IFBMQUNFTUVOVF9UT1BFTkQgOiBQTEFDRU1FTlRfVE9QO1xuICAgICAgfSBlbHNlIGlmICgkcGFyZW50RHJvcGRvd24uaGFzQ2xhc3MoQ0xBU1NfTkFNRV9EUk9QUklHSFQpKSB7XG4gICAgICAgIHBsYWNlbWVudCA9IFBMQUNFTUVOVF9SSUdIVDtcbiAgICAgIH0gZWxzZSBpZiAoJHBhcmVudERyb3Bkb3duLmhhc0NsYXNzKENMQVNTX05BTUVfRFJPUExFRlQpKSB7XG4gICAgICAgIHBsYWNlbWVudCA9IFBMQUNFTUVOVF9MRUZUO1xuICAgICAgfSBlbHNlIGlmICgkKHRoaXMuX21lbnUpLmhhc0NsYXNzKENMQVNTX05BTUVfTUVOVVJJR0hUKSkge1xuICAgICAgICBwbGFjZW1lbnQgPSBQTEFDRU1FTlRfQk9UVE9NRU5EO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gcGxhY2VtZW50O1xuICAgIH07XG5cbiAgICBfcHJvdG8uX2RldGVjdE5hdmJhciA9IGZ1bmN0aW9uIF9kZXRlY3ROYXZiYXIoKSB7XG4gICAgICByZXR1cm4gJCh0aGlzLl9lbGVtZW50KS5jbG9zZXN0KCcubmF2YmFyJykubGVuZ3RoID4gMDtcbiAgICB9O1xuXG4gICAgX3Byb3RvLl9nZXRPZmZzZXQgPSBmdW5jdGlvbiBfZ2V0T2Zmc2V0KCkge1xuICAgICAgdmFyIF90aGlzMiA9IHRoaXM7XG5cbiAgICAgIHZhciBvZmZzZXQgPSB7fTtcblxuICAgICAgaWYgKHR5cGVvZiB0aGlzLl9jb25maWcub2Zmc2V0ID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgIG9mZnNldC5mbiA9IGZ1bmN0aW9uIChkYXRhKSB7XG4gICAgICAgICAgZGF0YS5vZmZzZXRzID0gX29iamVjdFNwcmVhZDIoX29iamVjdFNwcmVhZDIoe30sIGRhdGEub2Zmc2V0cyksIF90aGlzMi5fY29uZmlnLm9mZnNldChkYXRhLm9mZnNldHMsIF90aGlzMi5fZWxlbWVudCkgfHwge30pO1xuICAgICAgICAgIHJldHVybiBkYXRhO1xuICAgICAgICB9O1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgb2Zmc2V0Lm9mZnNldCA9IHRoaXMuX2NvbmZpZy5vZmZzZXQ7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBvZmZzZXQ7XG4gICAgfTtcblxuICAgIF9wcm90by5fZ2V0UG9wcGVyQ29uZmlnID0gZnVuY3Rpb24gX2dldFBvcHBlckNvbmZpZygpIHtcbiAgICAgIHZhciBwb3BwZXJDb25maWcgPSB7XG4gICAgICAgIHBsYWNlbWVudDogdGhpcy5fZ2V0UGxhY2VtZW50KCksXG4gICAgICAgIG1vZGlmaWVyczoge1xuICAgICAgICAgIG9mZnNldDogdGhpcy5fZ2V0T2Zmc2V0KCksXG4gICAgICAgICAgZmxpcDoge1xuICAgICAgICAgICAgZW5hYmxlZDogdGhpcy5fY29uZmlnLmZsaXBcbiAgICAgICAgICB9LFxuICAgICAgICAgIHByZXZlbnRPdmVyZmxvdzoge1xuICAgICAgICAgICAgYm91bmRhcmllc0VsZW1lbnQ6IHRoaXMuX2NvbmZpZy5ib3VuZGFyeVxuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfTsgLy8gRGlzYWJsZSBQb3BwZXIuanMgaWYgd2UgaGF2ZSBhIHN0YXRpYyBkaXNwbGF5XG5cbiAgICAgIGlmICh0aGlzLl9jb25maWcuZGlzcGxheSA9PT0gJ3N0YXRpYycpIHtcbiAgICAgICAgcG9wcGVyQ29uZmlnLm1vZGlmaWVycy5hcHBseVN0eWxlID0ge1xuICAgICAgICAgIGVuYWJsZWQ6IGZhbHNlXG4gICAgICAgIH07XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBfb2JqZWN0U3ByZWFkMihfb2JqZWN0U3ByZWFkMih7fSwgcG9wcGVyQ29uZmlnKSwgdGhpcy5fY29uZmlnLnBvcHBlckNvbmZpZyk7XG4gICAgfSAvLyBTdGF0aWNcbiAgICA7XG5cbiAgICBEcm9wZG93bi5falF1ZXJ5SW50ZXJmYWNlID0gZnVuY3Rpb24gX2pRdWVyeUludGVyZmFjZShjb25maWcpIHtcbiAgICAgIHJldHVybiB0aGlzLmVhY2goZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgZGF0YSA9ICQodGhpcykuZGF0YShEQVRBX0tFWSQ0KTtcblxuICAgICAgICB2YXIgX2NvbmZpZyA9IHR5cGVvZiBjb25maWcgPT09ICdvYmplY3QnID8gY29uZmlnIDogbnVsbDtcblxuICAgICAgICBpZiAoIWRhdGEpIHtcbiAgICAgICAgICBkYXRhID0gbmV3IERyb3Bkb3duKHRoaXMsIF9jb25maWcpO1xuICAgICAgICAgICQodGhpcykuZGF0YShEQVRBX0tFWSQ0LCBkYXRhKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmICh0eXBlb2YgY29uZmlnID09PSAnc3RyaW5nJykge1xuICAgICAgICAgIGlmICh0eXBlb2YgZGF0YVtjb25maWddID09PSAndW5kZWZpbmVkJykge1xuICAgICAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcihcIk5vIG1ldGhvZCBuYW1lZCBcXFwiXCIgKyBjb25maWcgKyBcIlxcXCJcIik7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgZGF0YVtjb25maWddKCk7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgIH07XG5cbiAgICBEcm9wZG93bi5fY2xlYXJNZW51cyA9IGZ1bmN0aW9uIF9jbGVhck1lbnVzKGV2ZW50KSB7XG4gICAgICBpZiAoZXZlbnQgJiYgKGV2ZW50LndoaWNoID09PSBSSUdIVF9NT1VTRV9CVVRUT05fV0hJQ0ggfHwgZXZlbnQudHlwZSA9PT0gJ2tleXVwJyAmJiBldmVudC53aGljaCAhPT0gVEFCX0tFWUNPREUpKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cblxuICAgICAgdmFyIHRvZ2dsZXMgPSBbXS5zbGljZS5jYWxsKGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoU0VMRUNUT1JfREFUQV9UT0dHTEUkMikpO1xuXG4gICAgICBmb3IgKHZhciBpID0gMCwgbGVuID0gdG9nZ2xlcy5sZW5ndGg7IGkgPCBsZW47IGkrKykge1xuICAgICAgICB2YXIgcGFyZW50ID0gRHJvcGRvd24uX2dldFBhcmVudEZyb21FbGVtZW50KHRvZ2dsZXNbaV0pO1xuXG4gICAgICAgIHZhciBjb250ZXh0ID0gJCh0b2dnbGVzW2ldKS5kYXRhKERBVEFfS0VZJDQpO1xuICAgICAgICB2YXIgcmVsYXRlZFRhcmdldCA9IHtcbiAgICAgICAgICByZWxhdGVkVGFyZ2V0OiB0b2dnbGVzW2ldXG4gICAgICAgIH07XG5cbiAgICAgICAgaWYgKGV2ZW50ICYmIGV2ZW50LnR5cGUgPT09ICdjbGljaycpIHtcbiAgICAgICAgICByZWxhdGVkVGFyZ2V0LmNsaWNrRXZlbnQgPSBldmVudDtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmICghY29udGV4dCkge1xuICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICB9XG5cbiAgICAgICAgdmFyIGRyb3Bkb3duTWVudSA9IGNvbnRleHQuX21lbnU7XG5cbiAgICAgICAgaWYgKCEkKHBhcmVudCkuaGFzQ2xhc3MoQ0xBU1NfTkFNRV9TSE9XJDIpKSB7XG4gICAgICAgICAgY29udGludWU7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoZXZlbnQgJiYgKGV2ZW50LnR5cGUgPT09ICdjbGljaycgJiYgL2lucHV0fHRleHRhcmVhL2kudGVzdChldmVudC50YXJnZXQudGFnTmFtZSkgfHwgZXZlbnQudHlwZSA9PT0gJ2tleXVwJyAmJiBldmVudC53aGljaCA9PT0gVEFCX0tFWUNPREUpICYmICQuY29udGFpbnMocGFyZW50LCBldmVudC50YXJnZXQpKSB7XG4gICAgICAgICAgY29udGludWU7XG4gICAgICAgIH1cblxuICAgICAgICB2YXIgaGlkZUV2ZW50ID0gJC5FdmVudChFVkVOVF9ISURFJDEsIHJlbGF0ZWRUYXJnZXQpO1xuICAgICAgICAkKHBhcmVudCkudHJpZ2dlcihoaWRlRXZlbnQpO1xuXG4gICAgICAgIGlmIChoaWRlRXZlbnQuaXNEZWZhdWx0UHJldmVudGVkKCkpIHtcbiAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgfSAvLyBJZiB0aGlzIGlzIGEgdG91Y2gtZW5hYmxlZCBkZXZpY2Ugd2UgcmVtb3ZlIHRoZSBleHRyYVxuICAgICAgICAvLyBlbXB0eSBtb3VzZW92ZXIgbGlzdGVuZXJzIHdlIGFkZGVkIGZvciBpT1Mgc3VwcG9ydFxuXG5cbiAgICAgICAgaWYgKCdvbnRvdWNoc3RhcnQnIGluIGRvY3VtZW50LmRvY3VtZW50RWxlbWVudCkge1xuICAgICAgICAgICQoZG9jdW1lbnQuYm9keSkuY2hpbGRyZW4oKS5vZmYoJ21vdXNlb3ZlcicsIG51bGwsICQubm9vcCk7XG4gICAgICAgIH1cblxuICAgICAgICB0b2dnbGVzW2ldLnNldEF0dHJpYnV0ZSgnYXJpYS1leHBhbmRlZCcsICdmYWxzZScpO1xuXG4gICAgICAgIGlmIChjb250ZXh0Ll9wb3BwZXIpIHtcbiAgICAgICAgICBjb250ZXh0Ll9wb3BwZXIuZGVzdHJveSgpO1xuICAgICAgICB9XG5cbiAgICAgICAgJChkcm9wZG93bk1lbnUpLnJlbW92ZUNsYXNzKENMQVNTX05BTUVfU0hPVyQyKTtcbiAgICAgICAgJChwYXJlbnQpLnJlbW92ZUNsYXNzKENMQVNTX05BTUVfU0hPVyQyKS50cmlnZ2VyKCQuRXZlbnQoRVZFTlRfSElEREVOJDEsIHJlbGF0ZWRUYXJnZXQpKTtcbiAgICAgIH1cbiAgICB9O1xuXG4gICAgRHJvcGRvd24uX2dldFBhcmVudEZyb21FbGVtZW50ID0gZnVuY3Rpb24gX2dldFBhcmVudEZyb21FbGVtZW50KGVsZW1lbnQpIHtcbiAgICAgIHZhciBwYXJlbnQ7XG4gICAgICB2YXIgc2VsZWN0b3IgPSBVdGlsLmdldFNlbGVjdG9yRnJvbUVsZW1lbnQoZWxlbWVudCk7XG5cbiAgICAgIGlmIChzZWxlY3Rvcikge1xuICAgICAgICBwYXJlbnQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKHNlbGVjdG9yKTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIHBhcmVudCB8fCBlbGVtZW50LnBhcmVudE5vZGU7XG4gICAgfSAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgY29tcGxleGl0eVxuICAgIDtcblxuICAgIERyb3Bkb3duLl9kYXRhQXBpS2V5ZG93bkhhbmRsZXIgPSBmdW5jdGlvbiBfZGF0YUFwaUtleWRvd25IYW5kbGVyKGV2ZW50KSB7XG4gICAgICAvLyBJZiBub3QgaW5wdXQvdGV4dGFyZWE6XG4gICAgICAvLyAgLSBBbmQgbm90IGEga2V5IGluIFJFR0VYUF9LRVlET1dOID0+IG5vdCBhIGRyb3Bkb3duIGNvbW1hbmRcbiAgICAgIC8vIElmIGlucHV0L3RleHRhcmVhOlxuICAgICAgLy8gIC0gSWYgc3BhY2Uga2V5ID0+IG5vdCBhIGRyb3Bkb3duIGNvbW1hbmRcbiAgICAgIC8vICAtIElmIGtleSBpcyBvdGhlciB0aGFuIGVzY2FwZVxuICAgICAgLy8gICAgLSBJZiBrZXkgaXMgbm90IHVwIG9yIGRvd24gPT4gbm90IGEgZHJvcGRvd24gY29tbWFuZFxuICAgICAgLy8gICAgLSBJZiB0cmlnZ2VyIGluc2lkZSB0aGUgbWVudSA9PiBub3QgYSBkcm9wZG93biBjb21tYW5kXG4gICAgICBpZiAoL2lucHV0fHRleHRhcmVhL2kudGVzdChldmVudC50YXJnZXQudGFnTmFtZSkgPyBldmVudC53aGljaCA9PT0gU1BBQ0VfS0VZQ09ERSB8fCBldmVudC53aGljaCAhPT0gRVNDQVBFX0tFWUNPREUgJiYgKGV2ZW50LndoaWNoICE9PSBBUlJPV19ET1dOX0tFWUNPREUgJiYgZXZlbnQud2hpY2ggIT09IEFSUk9XX1VQX0tFWUNPREUgfHwgJChldmVudC50YXJnZXQpLmNsb3Nlc3QoU0VMRUNUT1JfTUVOVSkubGVuZ3RoKSA6ICFSRUdFWFBfS0VZRE9XTi50ZXN0KGV2ZW50LndoaWNoKSkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG5cbiAgICAgIGlmICh0aGlzLmRpc2FibGVkIHx8ICQodGhpcykuaGFzQ2xhc3MoQ0xBU1NfTkFNRV9ESVNBQkxFRCkpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuXG4gICAgICB2YXIgcGFyZW50ID0gRHJvcGRvd24uX2dldFBhcmVudEZyb21FbGVtZW50KHRoaXMpO1xuXG4gICAgICB2YXIgaXNBY3RpdmUgPSAkKHBhcmVudCkuaGFzQ2xhc3MoQ0xBU1NfTkFNRV9TSE9XJDIpO1xuXG4gICAgICBpZiAoIWlzQWN0aXZlICYmIGV2ZW50LndoaWNoID09PSBFU0NBUEVfS0VZQ09ERSkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG5cbiAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG4gICAgICBldmVudC5zdG9wUHJvcGFnYXRpb24oKTtcblxuICAgICAgaWYgKCFpc0FjdGl2ZSB8fCBpc0FjdGl2ZSAmJiAoZXZlbnQud2hpY2ggPT09IEVTQ0FQRV9LRVlDT0RFIHx8IGV2ZW50LndoaWNoID09PSBTUEFDRV9LRVlDT0RFKSkge1xuICAgICAgICBpZiAoZXZlbnQud2hpY2ggPT09IEVTQ0FQRV9LRVlDT0RFKSB7XG4gICAgICAgICAgJChwYXJlbnQucXVlcnlTZWxlY3RvcihTRUxFQ1RPUl9EQVRBX1RPR0dMRSQyKSkudHJpZ2dlcignZm9jdXMnKTtcbiAgICAgICAgfVxuXG4gICAgICAgICQodGhpcykudHJpZ2dlcignY2xpY2snKTtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuXG4gICAgICB2YXIgaXRlbXMgPSBbXS5zbGljZS5jYWxsKHBhcmVudC5xdWVyeVNlbGVjdG9yQWxsKFNFTEVDVE9SX1ZJU0lCTEVfSVRFTVMpKS5maWx0ZXIoZnVuY3Rpb24gKGl0ZW0pIHtcbiAgICAgICAgcmV0dXJuICQoaXRlbSkuaXMoJzp2aXNpYmxlJyk7XG4gICAgICB9KTtcblxuICAgICAgaWYgKGl0ZW1zLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG5cbiAgICAgIHZhciBpbmRleCA9IGl0ZW1zLmluZGV4T2YoZXZlbnQudGFyZ2V0KTtcblxuICAgICAgaWYgKGV2ZW50LndoaWNoID09PSBBUlJPV19VUF9LRVlDT0RFICYmIGluZGV4ID4gMCkge1xuICAgICAgICAvLyBVcFxuICAgICAgICBpbmRleC0tO1xuICAgICAgfVxuXG4gICAgICBpZiAoZXZlbnQud2hpY2ggPT09IEFSUk9XX0RPV05fS0VZQ09ERSAmJiBpbmRleCA8IGl0ZW1zLmxlbmd0aCAtIDEpIHtcbiAgICAgICAgLy8gRG93blxuICAgICAgICBpbmRleCsrO1xuICAgICAgfVxuXG4gICAgICBpZiAoaW5kZXggPCAwKSB7XG4gICAgICAgIGluZGV4ID0gMDtcbiAgICAgIH1cblxuICAgICAgaXRlbXNbaW5kZXhdLmZvY3VzKCk7XG4gICAgfTtcblxuICAgIF9jcmVhdGVDbGFzcyhEcm9wZG93biwgbnVsbCwgW3tcbiAgICAgIGtleTogXCJWRVJTSU9OXCIsXG4gICAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICAgICAgcmV0dXJuIFZFUlNJT04kNDtcbiAgICAgIH1cbiAgICB9LCB7XG4gICAgICBrZXk6IFwiRGVmYXVsdFwiLFxuICAgICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgICAgIHJldHVybiBEZWZhdWx0JDI7XG4gICAgICB9XG4gICAgfSwge1xuICAgICAga2V5OiBcIkRlZmF1bHRUeXBlXCIsXG4gICAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICAgICAgcmV0dXJuIERlZmF1bHRUeXBlJDI7XG4gICAgICB9XG4gICAgfV0pO1xuXG4gICAgcmV0dXJuIERyb3Bkb3duO1xuICB9KCk7XG4gIC8qKlxuICAgKiAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAgICogRGF0YSBBcGkgaW1wbGVtZW50YXRpb25cbiAgICogLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gICAqL1xuXG5cbiAgJChkb2N1bWVudCkub24oRVZFTlRfS0VZRE9XTl9EQVRBX0FQSSwgU0VMRUNUT1JfREFUQV9UT0dHTEUkMiwgRHJvcGRvd24uX2RhdGFBcGlLZXlkb3duSGFuZGxlcikub24oRVZFTlRfS0VZRE9XTl9EQVRBX0FQSSwgU0VMRUNUT1JfTUVOVSwgRHJvcGRvd24uX2RhdGFBcGlLZXlkb3duSGFuZGxlcikub24oRVZFTlRfQ0xJQ0tfREFUQV9BUEkkNCArIFwiIFwiICsgRVZFTlRfS0VZVVBfREFUQV9BUEksIERyb3Bkb3duLl9jbGVhck1lbnVzKS5vbihFVkVOVF9DTElDS19EQVRBX0FQSSQ0LCBTRUxFQ1RPUl9EQVRBX1RPR0dMRSQyLCBmdW5jdGlvbiAoZXZlbnQpIHtcbiAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgIGV2ZW50LnN0b3BQcm9wYWdhdGlvbigpO1xuXG4gICAgRHJvcGRvd24uX2pRdWVyeUludGVyZmFjZS5jYWxsKCQodGhpcyksICd0b2dnbGUnKTtcbiAgfSkub24oRVZFTlRfQ0xJQ0tfREFUQV9BUEkkNCwgU0VMRUNUT1JfRk9STV9DSElMRCwgZnVuY3Rpb24gKGUpIHtcbiAgICBlLnN0b3BQcm9wYWdhdGlvbigpO1xuICB9KTtcbiAgLyoqXG4gICAqIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICAgKiBqUXVlcnlcbiAgICogLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gICAqL1xuXG4gICQuZm5bTkFNRSQ0XSA9IERyb3Bkb3duLl9qUXVlcnlJbnRlcmZhY2U7XG4gICQuZm5bTkFNRSQ0XS5Db25zdHJ1Y3RvciA9IERyb3Bkb3duO1xuXG4gICQuZm5bTkFNRSQ0XS5ub0NvbmZsaWN0ID0gZnVuY3Rpb24gKCkge1xuICAgICQuZm5bTkFNRSQ0XSA9IEpRVUVSWV9OT19DT05GTElDVCQ0O1xuICAgIHJldHVybiBEcm9wZG93bi5falF1ZXJ5SW50ZXJmYWNlO1xuICB9O1xuXG4gIC8qKlxuICAgKiAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAgICogQ29uc3RhbnRzXG4gICAqIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICAgKi9cblxuICB2YXIgTkFNRSQ1ID0gJ21vZGFsJztcbiAgdmFyIFZFUlNJT04kNSA9ICc0LjUuMCc7XG4gIHZhciBEQVRBX0tFWSQ1ID0gJ2JzLm1vZGFsJztcbiAgdmFyIEVWRU5UX0tFWSQ1ID0gXCIuXCIgKyBEQVRBX0tFWSQ1O1xuICB2YXIgREFUQV9BUElfS0VZJDUgPSAnLmRhdGEtYXBpJztcbiAgdmFyIEpRVUVSWV9OT19DT05GTElDVCQ1ID0gJC5mbltOQU1FJDVdO1xuICB2YXIgRVNDQVBFX0tFWUNPREUkMSA9IDI3OyAvLyBLZXlib2FyZEV2ZW50LndoaWNoIHZhbHVlIGZvciBFc2NhcGUgKEVzYykga2V5XG5cbiAgdmFyIERlZmF1bHQkMyA9IHtcbiAgICBiYWNrZHJvcDogdHJ1ZSxcbiAgICBrZXlib2FyZDogdHJ1ZSxcbiAgICBmb2N1czogdHJ1ZSxcbiAgICBzaG93OiB0cnVlXG4gIH07XG4gIHZhciBEZWZhdWx0VHlwZSQzID0ge1xuICAgIGJhY2tkcm9wOiAnKGJvb2xlYW58c3RyaW5nKScsXG4gICAga2V5Ym9hcmQ6ICdib29sZWFuJyxcbiAgICBmb2N1czogJ2Jvb2xlYW4nLFxuICAgIHNob3c6ICdib29sZWFuJ1xuICB9O1xuICB2YXIgRVZFTlRfSElERSQyID0gXCJoaWRlXCIgKyBFVkVOVF9LRVkkNTtcbiAgdmFyIEVWRU5UX0hJREVfUFJFVkVOVEVEID0gXCJoaWRlUHJldmVudGVkXCIgKyBFVkVOVF9LRVkkNTtcbiAgdmFyIEVWRU5UX0hJRERFTiQyID0gXCJoaWRkZW5cIiArIEVWRU5UX0tFWSQ1O1xuICB2YXIgRVZFTlRfU0hPVyQyID0gXCJzaG93XCIgKyBFVkVOVF9LRVkkNTtcbiAgdmFyIEVWRU5UX1NIT1dOJDIgPSBcInNob3duXCIgKyBFVkVOVF9LRVkkNTtcbiAgdmFyIEVWRU5UX0ZPQ1VTSU4gPSBcImZvY3VzaW5cIiArIEVWRU5UX0tFWSQ1O1xuICB2YXIgRVZFTlRfUkVTSVpFID0gXCJyZXNpemVcIiArIEVWRU5UX0tFWSQ1O1xuICB2YXIgRVZFTlRfQ0xJQ0tfRElTTUlTUyA9IFwiY2xpY2suZGlzbWlzc1wiICsgRVZFTlRfS0VZJDU7XG4gIHZhciBFVkVOVF9LRVlET1dOX0RJU01JU1MgPSBcImtleWRvd24uZGlzbWlzc1wiICsgRVZFTlRfS0VZJDU7XG4gIHZhciBFVkVOVF9NT1VTRVVQX0RJU01JU1MgPSBcIm1vdXNldXAuZGlzbWlzc1wiICsgRVZFTlRfS0VZJDU7XG4gIHZhciBFVkVOVF9NT1VTRURPV05fRElTTUlTUyA9IFwibW91c2Vkb3duLmRpc21pc3NcIiArIEVWRU5UX0tFWSQ1O1xuICB2YXIgRVZFTlRfQ0xJQ0tfREFUQV9BUEkkNSA9IFwiY2xpY2tcIiArIEVWRU5UX0tFWSQ1ICsgREFUQV9BUElfS0VZJDU7XG4gIHZhciBDTEFTU19OQU1FX1NDUk9MTEFCTEUgPSAnbW9kYWwtZGlhbG9nLXNjcm9sbGFibGUnO1xuICB2YXIgQ0xBU1NfTkFNRV9TQ1JPTExCQVJfTUVBU1VSRVIgPSAnbW9kYWwtc2Nyb2xsYmFyLW1lYXN1cmUnO1xuICB2YXIgQ0xBU1NfTkFNRV9CQUNLRFJPUCA9ICdtb2RhbC1iYWNrZHJvcCc7XG4gIHZhciBDTEFTU19OQU1FX09QRU4gPSAnbW9kYWwtb3Blbic7XG4gIHZhciBDTEFTU19OQU1FX0ZBREUkMSA9ICdmYWRlJztcbiAgdmFyIENMQVNTX05BTUVfU0hPVyQzID0gJ3Nob3cnO1xuICB2YXIgQ0xBU1NfTkFNRV9TVEFUSUMgPSAnbW9kYWwtc3RhdGljJztcbiAgdmFyIFNFTEVDVE9SX0RJQUxPRyA9ICcubW9kYWwtZGlhbG9nJztcbiAgdmFyIFNFTEVDVE9SX01PREFMX0JPRFkgPSAnLm1vZGFsLWJvZHknO1xuICB2YXIgU0VMRUNUT1JfREFUQV9UT0dHTEUkMyA9ICdbZGF0YS10b2dnbGU9XCJtb2RhbFwiXSc7XG4gIHZhciBTRUxFQ1RPUl9EQVRBX0RJU01JU1MgPSAnW2RhdGEtZGlzbWlzcz1cIm1vZGFsXCJdJztcbiAgdmFyIFNFTEVDVE9SX0ZJWEVEX0NPTlRFTlQgPSAnLmZpeGVkLXRvcCwgLmZpeGVkLWJvdHRvbSwgLmlzLWZpeGVkLCAuc3RpY2t5LXRvcCc7XG4gIHZhciBTRUxFQ1RPUl9TVElDS1lfQ09OVEVOVCA9ICcuc3RpY2t5LXRvcCc7XG4gIC8qKlxuICAgKiAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAgICogQ2xhc3MgRGVmaW5pdGlvblxuICAgKiAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAgICovXG5cbiAgdmFyIE1vZGFsID0gLyojX19QVVJFX18qL2Z1bmN0aW9uICgpIHtcbiAgICBmdW5jdGlvbiBNb2RhbChlbGVtZW50LCBjb25maWcpIHtcbiAgICAgIHRoaXMuX2NvbmZpZyA9IHRoaXMuX2dldENvbmZpZyhjb25maWcpO1xuICAgICAgdGhpcy5fZWxlbWVudCA9IGVsZW1lbnQ7XG4gICAgICB0aGlzLl9kaWFsb2cgPSBlbGVtZW50LnF1ZXJ5U2VsZWN0b3IoU0VMRUNUT1JfRElBTE9HKTtcbiAgICAgIHRoaXMuX2JhY2tkcm9wID0gbnVsbDtcbiAgICAgIHRoaXMuX2lzU2hvd24gPSBmYWxzZTtcbiAgICAgIHRoaXMuX2lzQm9keU92ZXJmbG93aW5nID0gZmFsc2U7XG4gICAgICB0aGlzLl9pZ25vcmVCYWNrZHJvcENsaWNrID0gZmFsc2U7XG4gICAgICB0aGlzLl9pc1RyYW5zaXRpb25pbmcgPSBmYWxzZTtcbiAgICAgIHRoaXMuX3Njcm9sbGJhcldpZHRoID0gMDtcbiAgICB9IC8vIEdldHRlcnNcblxuXG4gICAgdmFyIF9wcm90byA9IE1vZGFsLnByb3RvdHlwZTtcblxuICAgIC8vIFB1YmxpY1xuICAgIF9wcm90by50b2dnbGUgPSBmdW5jdGlvbiB0b2dnbGUocmVsYXRlZFRhcmdldCkge1xuICAgICAgcmV0dXJuIHRoaXMuX2lzU2hvd24gPyB0aGlzLmhpZGUoKSA6IHRoaXMuc2hvdyhyZWxhdGVkVGFyZ2V0KTtcbiAgICB9O1xuXG4gICAgX3Byb3RvLnNob3cgPSBmdW5jdGlvbiBzaG93KHJlbGF0ZWRUYXJnZXQpIHtcbiAgICAgIHZhciBfdGhpcyA9IHRoaXM7XG5cbiAgICAgIGlmICh0aGlzLl9pc1Nob3duIHx8IHRoaXMuX2lzVHJhbnNpdGlvbmluZykge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG5cbiAgICAgIGlmICgkKHRoaXMuX2VsZW1lbnQpLmhhc0NsYXNzKENMQVNTX05BTUVfRkFERSQxKSkge1xuICAgICAgICB0aGlzLl9pc1RyYW5zaXRpb25pbmcgPSB0cnVlO1xuICAgICAgfVxuXG4gICAgICB2YXIgc2hvd0V2ZW50ID0gJC5FdmVudChFVkVOVF9TSE9XJDIsIHtcbiAgICAgICAgcmVsYXRlZFRhcmdldDogcmVsYXRlZFRhcmdldFxuICAgICAgfSk7XG4gICAgICAkKHRoaXMuX2VsZW1lbnQpLnRyaWdnZXIoc2hvd0V2ZW50KTtcblxuICAgICAgaWYgKHRoaXMuX2lzU2hvd24gfHwgc2hvd0V2ZW50LmlzRGVmYXVsdFByZXZlbnRlZCgpKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cblxuICAgICAgdGhpcy5faXNTaG93biA9IHRydWU7XG5cbiAgICAgIHRoaXMuX2NoZWNrU2Nyb2xsYmFyKCk7XG5cbiAgICAgIHRoaXMuX3NldFNjcm9sbGJhcigpO1xuXG4gICAgICB0aGlzLl9hZGp1c3REaWFsb2coKTtcblxuICAgICAgdGhpcy5fc2V0RXNjYXBlRXZlbnQoKTtcblxuICAgICAgdGhpcy5fc2V0UmVzaXplRXZlbnQoKTtcblxuICAgICAgJCh0aGlzLl9lbGVtZW50KS5vbihFVkVOVF9DTElDS19ESVNNSVNTLCBTRUxFQ1RPUl9EQVRBX0RJU01JU1MsIGZ1bmN0aW9uIChldmVudCkge1xuICAgICAgICByZXR1cm4gX3RoaXMuaGlkZShldmVudCk7XG4gICAgICB9KTtcbiAgICAgICQodGhpcy5fZGlhbG9nKS5vbihFVkVOVF9NT1VTRURPV05fRElTTUlTUywgZnVuY3Rpb24gKCkge1xuICAgICAgICAkKF90aGlzLl9lbGVtZW50KS5vbmUoRVZFTlRfTU9VU0VVUF9ESVNNSVNTLCBmdW5jdGlvbiAoZXZlbnQpIHtcbiAgICAgICAgICBpZiAoJChldmVudC50YXJnZXQpLmlzKF90aGlzLl9lbGVtZW50KSkge1xuICAgICAgICAgICAgX3RoaXMuX2lnbm9yZUJhY2tkcm9wQ2xpY2sgPSB0cnVlO1xuICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICB9KTtcblxuICAgICAgdGhpcy5fc2hvd0JhY2tkcm9wKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIF90aGlzLl9zaG93RWxlbWVudChyZWxhdGVkVGFyZ2V0KTtcbiAgICAgIH0pO1xuICAgIH07XG5cbiAgICBfcHJvdG8uaGlkZSA9IGZ1bmN0aW9uIGhpZGUoZXZlbnQpIHtcbiAgICAgIHZhciBfdGhpczIgPSB0aGlzO1xuXG4gICAgICBpZiAoZXZlbnQpIHtcbiAgICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcbiAgICAgIH1cblxuICAgICAgaWYgKCF0aGlzLl9pc1Nob3duIHx8IHRoaXMuX2lzVHJhbnNpdGlvbmluZykge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG5cbiAgICAgIHZhciBoaWRlRXZlbnQgPSAkLkV2ZW50KEVWRU5UX0hJREUkMik7XG4gICAgICAkKHRoaXMuX2VsZW1lbnQpLnRyaWdnZXIoaGlkZUV2ZW50KTtcblxuICAgICAgaWYgKCF0aGlzLl9pc1Nob3duIHx8IGhpZGVFdmVudC5pc0RlZmF1bHRQcmV2ZW50ZWQoKSkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG5cbiAgICAgIHRoaXMuX2lzU2hvd24gPSBmYWxzZTtcbiAgICAgIHZhciB0cmFuc2l0aW9uID0gJCh0aGlzLl9lbGVtZW50KS5oYXNDbGFzcyhDTEFTU19OQU1FX0ZBREUkMSk7XG5cbiAgICAgIGlmICh0cmFuc2l0aW9uKSB7XG4gICAgICAgIHRoaXMuX2lzVHJhbnNpdGlvbmluZyA9IHRydWU7XG4gICAgICB9XG5cbiAgICAgIHRoaXMuX3NldEVzY2FwZUV2ZW50KCk7XG5cbiAgICAgIHRoaXMuX3NldFJlc2l6ZUV2ZW50KCk7XG5cbiAgICAgICQoZG9jdW1lbnQpLm9mZihFVkVOVF9GT0NVU0lOKTtcbiAgICAgICQodGhpcy5fZWxlbWVudCkucmVtb3ZlQ2xhc3MoQ0xBU1NfTkFNRV9TSE9XJDMpO1xuICAgICAgJCh0aGlzLl9lbGVtZW50KS5vZmYoRVZFTlRfQ0xJQ0tfRElTTUlTUyk7XG4gICAgICAkKHRoaXMuX2RpYWxvZykub2ZmKEVWRU5UX01PVVNFRE9XTl9ESVNNSVNTKTtcblxuICAgICAgaWYgKHRyYW5zaXRpb24pIHtcbiAgICAgICAgdmFyIHRyYW5zaXRpb25EdXJhdGlvbiA9IFV0aWwuZ2V0VHJhbnNpdGlvbkR1cmF0aW9uRnJvbUVsZW1lbnQodGhpcy5fZWxlbWVudCk7XG4gICAgICAgICQodGhpcy5fZWxlbWVudCkub25lKFV0aWwuVFJBTlNJVElPTl9FTkQsIGZ1bmN0aW9uIChldmVudCkge1xuICAgICAgICAgIHJldHVybiBfdGhpczIuX2hpZGVNb2RhbChldmVudCk7XG4gICAgICAgIH0pLmVtdWxhdGVUcmFuc2l0aW9uRW5kKHRyYW5zaXRpb25EdXJhdGlvbik7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB0aGlzLl9oaWRlTW9kYWwoKTtcbiAgICAgIH1cbiAgICB9O1xuXG4gICAgX3Byb3RvLmRpc3Bvc2UgPSBmdW5jdGlvbiBkaXNwb3NlKCkge1xuICAgICAgW3dpbmRvdywgdGhpcy5fZWxlbWVudCwgdGhpcy5fZGlhbG9nXS5mb3JFYWNoKGZ1bmN0aW9uIChodG1sRWxlbWVudCkge1xuICAgICAgICByZXR1cm4gJChodG1sRWxlbWVudCkub2ZmKEVWRU5UX0tFWSQ1KTtcbiAgICAgIH0pO1xuICAgICAgLyoqXG4gICAgICAgKiBgZG9jdW1lbnRgIGhhcyAyIGV2ZW50cyBgRVZFTlRfRk9DVVNJTmAgYW5kIGBFVkVOVF9DTElDS19EQVRBX0FQSWBcbiAgICAgICAqIERvIG5vdCBtb3ZlIGBkb2N1bWVudGAgaW4gYGh0bWxFbGVtZW50c2AgYXJyYXlcbiAgICAgICAqIEl0IHdpbGwgcmVtb3ZlIGBFVkVOVF9DTElDS19EQVRBX0FQSWAgZXZlbnQgdGhhdCBzaG91bGQgcmVtYWluXG4gICAgICAgKi9cblxuICAgICAgJChkb2N1bWVudCkub2ZmKEVWRU5UX0ZPQ1VTSU4pO1xuICAgICAgJC5yZW1vdmVEYXRhKHRoaXMuX2VsZW1lbnQsIERBVEFfS0VZJDUpO1xuICAgICAgdGhpcy5fY29uZmlnID0gbnVsbDtcbiAgICAgIHRoaXMuX2VsZW1lbnQgPSBudWxsO1xuICAgICAgdGhpcy5fZGlhbG9nID0gbnVsbDtcbiAgICAgIHRoaXMuX2JhY2tkcm9wID0gbnVsbDtcbiAgICAgIHRoaXMuX2lzU2hvd24gPSBudWxsO1xuICAgICAgdGhpcy5faXNCb2R5T3ZlcmZsb3dpbmcgPSBudWxsO1xuICAgICAgdGhpcy5faWdub3JlQmFja2Ryb3BDbGljayA9IG51bGw7XG4gICAgICB0aGlzLl9pc1RyYW5zaXRpb25pbmcgPSBudWxsO1xuICAgICAgdGhpcy5fc2Nyb2xsYmFyV2lkdGggPSBudWxsO1xuICAgIH07XG5cbiAgICBfcHJvdG8uaGFuZGxlVXBkYXRlID0gZnVuY3Rpb24gaGFuZGxlVXBkYXRlKCkge1xuICAgICAgdGhpcy5fYWRqdXN0RGlhbG9nKCk7XG4gICAgfSAvLyBQcml2YXRlXG4gICAgO1xuXG4gICAgX3Byb3RvLl9nZXRDb25maWcgPSBmdW5jdGlvbiBfZ2V0Q29uZmlnKGNvbmZpZykge1xuICAgICAgY29uZmlnID0gX29iamVjdFNwcmVhZDIoX29iamVjdFNwcmVhZDIoe30sIERlZmF1bHQkMyksIGNvbmZpZyk7XG4gICAgICBVdGlsLnR5cGVDaGVja0NvbmZpZyhOQU1FJDUsIGNvbmZpZywgRGVmYXVsdFR5cGUkMyk7XG4gICAgICByZXR1cm4gY29uZmlnO1xuICAgIH07XG5cbiAgICBfcHJvdG8uX3RyaWdnZXJCYWNrZHJvcFRyYW5zaXRpb24gPSBmdW5jdGlvbiBfdHJpZ2dlckJhY2tkcm9wVHJhbnNpdGlvbigpIHtcbiAgICAgIHZhciBfdGhpczMgPSB0aGlzO1xuXG4gICAgICBpZiAodGhpcy5fY29uZmlnLmJhY2tkcm9wID09PSAnc3RhdGljJykge1xuICAgICAgICB2YXIgaGlkZUV2ZW50UHJldmVudGVkID0gJC5FdmVudChFVkVOVF9ISURFX1BSRVZFTlRFRCk7XG4gICAgICAgICQodGhpcy5fZWxlbWVudCkudHJpZ2dlcihoaWRlRXZlbnRQcmV2ZW50ZWQpO1xuXG4gICAgICAgIGlmIChoaWRlRXZlbnRQcmV2ZW50ZWQuZGVmYXVsdFByZXZlbnRlZCkge1xuICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMuX2VsZW1lbnQuY2xhc3NMaXN0LmFkZChDTEFTU19OQU1FX1NUQVRJQyk7XG5cbiAgICAgICAgdmFyIG1vZGFsVHJhbnNpdGlvbkR1cmF0aW9uID0gVXRpbC5nZXRUcmFuc2l0aW9uRHVyYXRpb25Gcm9tRWxlbWVudCh0aGlzLl9lbGVtZW50KTtcbiAgICAgICAgJCh0aGlzLl9lbGVtZW50KS5vbmUoVXRpbC5UUkFOU0lUSU9OX0VORCwgZnVuY3Rpb24gKCkge1xuICAgICAgICAgIF90aGlzMy5fZWxlbWVudC5jbGFzc0xpc3QucmVtb3ZlKENMQVNTX05BTUVfU1RBVElDKTtcbiAgICAgICAgfSkuZW11bGF0ZVRyYW5zaXRpb25FbmQobW9kYWxUcmFuc2l0aW9uRHVyYXRpb24pO1xuXG4gICAgICAgIHRoaXMuX2VsZW1lbnQuZm9jdXMoKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHRoaXMuaGlkZSgpO1xuICAgICAgfVxuICAgIH07XG5cbiAgICBfcHJvdG8uX3Nob3dFbGVtZW50ID0gZnVuY3Rpb24gX3Nob3dFbGVtZW50KHJlbGF0ZWRUYXJnZXQpIHtcbiAgICAgIHZhciBfdGhpczQgPSB0aGlzO1xuXG4gICAgICB2YXIgdHJhbnNpdGlvbiA9ICQodGhpcy5fZWxlbWVudCkuaGFzQ2xhc3MoQ0xBU1NfTkFNRV9GQURFJDEpO1xuICAgICAgdmFyIG1vZGFsQm9keSA9IHRoaXMuX2RpYWxvZyA/IHRoaXMuX2RpYWxvZy5xdWVyeVNlbGVjdG9yKFNFTEVDVE9SX01PREFMX0JPRFkpIDogbnVsbDtcblxuICAgICAgaWYgKCF0aGlzLl9lbGVtZW50LnBhcmVudE5vZGUgfHwgdGhpcy5fZWxlbWVudC5wYXJlbnROb2RlLm5vZGVUeXBlICE9PSBOb2RlLkVMRU1FTlRfTk9ERSkge1xuICAgICAgICAvLyBEb24ndCBtb3ZlIG1vZGFsJ3MgRE9NIHBvc2l0aW9uXG4gICAgICAgIGRvY3VtZW50LmJvZHkuYXBwZW5kQ2hpbGQodGhpcy5fZWxlbWVudCk7XG4gICAgICB9XG5cbiAgICAgIHRoaXMuX2VsZW1lbnQuc3R5bGUuZGlzcGxheSA9ICdibG9jayc7XG5cbiAgICAgIHRoaXMuX2VsZW1lbnQucmVtb3ZlQXR0cmlidXRlKCdhcmlhLWhpZGRlbicpO1xuXG4gICAgICB0aGlzLl9lbGVtZW50LnNldEF0dHJpYnV0ZSgnYXJpYS1tb2RhbCcsIHRydWUpO1xuXG4gICAgICBpZiAoJCh0aGlzLl9kaWFsb2cpLmhhc0NsYXNzKENMQVNTX05BTUVfU0NST0xMQUJMRSkgJiYgbW9kYWxCb2R5KSB7XG4gICAgICAgIG1vZGFsQm9keS5zY3JvbGxUb3AgPSAwO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdGhpcy5fZWxlbWVudC5zY3JvbGxUb3AgPSAwO1xuICAgICAgfVxuXG4gICAgICBpZiAodHJhbnNpdGlvbikge1xuICAgICAgICBVdGlsLnJlZmxvdyh0aGlzLl9lbGVtZW50KTtcbiAgICAgIH1cblxuICAgICAgJCh0aGlzLl9lbGVtZW50KS5hZGRDbGFzcyhDTEFTU19OQU1FX1NIT1ckMyk7XG5cbiAgICAgIGlmICh0aGlzLl9jb25maWcuZm9jdXMpIHtcbiAgICAgICAgdGhpcy5fZW5mb3JjZUZvY3VzKCk7XG4gICAgICB9XG5cbiAgICAgIHZhciBzaG93bkV2ZW50ID0gJC5FdmVudChFVkVOVF9TSE9XTiQyLCB7XG4gICAgICAgIHJlbGF0ZWRUYXJnZXQ6IHJlbGF0ZWRUYXJnZXRcbiAgICAgIH0pO1xuXG4gICAgICB2YXIgdHJhbnNpdGlvbkNvbXBsZXRlID0gZnVuY3Rpb24gdHJhbnNpdGlvbkNvbXBsZXRlKCkge1xuICAgICAgICBpZiAoX3RoaXM0Ll9jb25maWcuZm9jdXMpIHtcbiAgICAgICAgICBfdGhpczQuX2VsZW1lbnQuZm9jdXMoKTtcbiAgICAgICAgfVxuXG4gICAgICAgIF90aGlzNC5faXNUcmFuc2l0aW9uaW5nID0gZmFsc2U7XG4gICAgICAgICQoX3RoaXM0Ll9lbGVtZW50KS50cmlnZ2VyKHNob3duRXZlbnQpO1xuICAgICAgfTtcblxuICAgICAgaWYgKHRyYW5zaXRpb24pIHtcbiAgICAgICAgdmFyIHRyYW5zaXRpb25EdXJhdGlvbiA9IFV0aWwuZ2V0VHJhbnNpdGlvbkR1cmF0aW9uRnJvbUVsZW1lbnQodGhpcy5fZGlhbG9nKTtcbiAgICAgICAgJCh0aGlzLl9kaWFsb2cpLm9uZShVdGlsLlRSQU5TSVRJT05fRU5ELCB0cmFuc2l0aW9uQ29tcGxldGUpLmVtdWxhdGVUcmFuc2l0aW9uRW5kKHRyYW5zaXRpb25EdXJhdGlvbik7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB0cmFuc2l0aW9uQ29tcGxldGUoKTtcbiAgICAgIH1cbiAgICB9O1xuXG4gICAgX3Byb3RvLl9lbmZvcmNlRm9jdXMgPSBmdW5jdGlvbiBfZW5mb3JjZUZvY3VzKCkge1xuICAgICAgdmFyIF90aGlzNSA9IHRoaXM7XG5cbiAgICAgICQoZG9jdW1lbnQpLm9mZihFVkVOVF9GT0NVU0lOKSAvLyBHdWFyZCBhZ2FpbnN0IGluZmluaXRlIGZvY3VzIGxvb3BcbiAgICAgIC5vbihFVkVOVF9GT0NVU0lOLCBmdW5jdGlvbiAoZXZlbnQpIHtcbiAgICAgICAgaWYgKGRvY3VtZW50ICE9PSBldmVudC50YXJnZXQgJiYgX3RoaXM1Ll9lbGVtZW50ICE9PSBldmVudC50YXJnZXQgJiYgJChfdGhpczUuX2VsZW1lbnQpLmhhcyhldmVudC50YXJnZXQpLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICAgIF90aGlzNS5fZWxlbWVudC5mb2N1cygpO1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgICB9O1xuXG4gICAgX3Byb3RvLl9zZXRFc2NhcGVFdmVudCA9IGZ1bmN0aW9uIF9zZXRFc2NhcGVFdmVudCgpIHtcbiAgICAgIHZhciBfdGhpczYgPSB0aGlzO1xuXG4gICAgICBpZiAodGhpcy5faXNTaG93bikge1xuICAgICAgICAkKHRoaXMuX2VsZW1lbnQpLm9uKEVWRU5UX0tFWURPV05fRElTTUlTUywgZnVuY3Rpb24gKGV2ZW50KSB7XG4gICAgICAgICAgaWYgKF90aGlzNi5fY29uZmlnLmtleWJvYXJkICYmIGV2ZW50LndoaWNoID09PSBFU0NBUEVfS0VZQ09ERSQxKSB7XG4gICAgICAgICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuXG4gICAgICAgICAgICBfdGhpczYuaGlkZSgpO1xuICAgICAgICAgIH0gZWxzZSBpZiAoIV90aGlzNi5fY29uZmlnLmtleWJvYXJkICYmIGV2ZW50LndoaWNoID09PSBFU0NBUEVfS0VZQ09ERSQxKSB7XG4gICAgICAgICAgICBfdGhpczYuX3RyaWdnZXJCYWNrZHJvcFRyYW5zaXRpb24oKTtcbiAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgfSBlbHNlIGlmICghdGhpcy5faXNTaG93bikge1xuICAgICAgICAkKHRoaXMuX2VsZW1lbnQpLm9mZihFVkVOVF9LRVlET1dOX0RJU01JU1MpO1xuICAgICAgfVxuICAgIH07XG5cbiAgICBfcHJvdG8uX3NldFJlc2l6ZUV2ZW50ID0gZnVuY3Rpb24gX3NldFJlc2l6ZUV2ZW50KCkge1xuICAgICAgdmFyIF90aGlzNyA9IHRoaXM7XG5cbiAgICAgIGlmICh0aGlzLl9pc1Nob3duKSB7XG4gICAgICAgICQod2luZG93KS5vbihFVkVOVF9SRVNJWkUsIGZ1bmN0aW9uIChldmVudCkge1xuICAgICAgICAgIHJldHVybiBfdGhpczcuaGFuZGxlVXBkYXRlKGV2ZW50KTtcbiAgICAgICAgfSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICAkKHdpbmRvdykub2ZmKEVWRU5UX1JFU0laRSk7XG4gICAgICB9XG4gICAgfTtcblxuICAgIF9wcm90by5faGlkZU1vZGFsID0gZnVuY3Rpb24gX2hpZGVNb2RhbCgpIHtcbiAgICAgIHZhciBfdGhpczggPSB0aGlzO1xuXG4gICAgICB0aGlzLl9lbGVtZW50LnN0eWxlLmRpc3BsYXkgPSAnbm9uZSc7XG5cbiAgICAgIHRoaXMuX2VsZW1lbnQuc2V0QXR0cmlidXRlKCdhcmlhLWhpZGRlbicsIHRydWUpO1xuXG4gICAgICB0aGlzLl9lbGVtZW50LnJlbW92ZUF0dHJpYnV0ZSgnYXJpYS1tb2RhbCcpO1xuXG4gICAgICB0aGlzLl9pc1RyYW5zaXRpb25pbmcgPSBmYWxzZTtcblxuICAgICAgdGhpcy5fc2hvd0JhY2tkcm9wKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgJChkb2N1bWVudC5ib2R5KS5yZW1vdmVDbGFzcyhDTEFTU19OQU1FX09QRU4pO1xuXG4gICAgICAgIF90aGlzOC5fcmVzZXRBZGp1c3RtZW50cygpO1xuXG4gICAgICAgIF90aGlzOC5fcmVzZXRTY3JvbGxiYXIoKTtcblxuICAgICAgICAkKF90aGlzOC5fZWxlbWVudCkudHJpZ2dlcihFVkVOVF9ISURERU4kMik7XG4gICAgICB9KTtcbiAgICB9O1xuXG4gICAgX3Byb3RvLl9yZW1vdmVCYWNrZHJvcCA9IGZ1bmN0aW9uIF9yZW1vdmVCYWNrZHJvcCgpIHtcbiAgICAgIGlmICh0aGlzLl9iYWNrZHJvcCkge1xuICAgICAgICAkKHRoaXMuX2JhY2tkcm9wKS5yZW1vdmUoKTtcbiAgICAgICAgdGhpcy5fYmFja2Ryb3AgPSBudWxsO1xuICAgICAgfVxuICAgIH07XG5cbiAgICBfcHJvdG8uX3Nob3dCYWNrZHJvcCA9IGZ1bmN0aW9uIF9zaG93QmFja2Ryb3AoY2FsbGJhY2spIHtcbiAgICAgIHZhciBfdGhpczkgPSB0aGlzO1xuXG4gICAgICB2YXIgYW5pbWF0ZSA9ICQodGhpcy5fZWxlbWVudCkuaGFzQ2xhc3MoQ0xBU1NfTkFNRV9GQURFJDEpID8gQ0xBU1NfTkFNRV9GQURFJDEgOiAnJztcblxuICAgICAgaWYgKHRoaXMuX2lzU2hvd24gJiYgdGhpcy5fY29uZmlnLmJhY2tkcm9wKSB7XG4gICAgICAgIHRoaXMuX2JhY2tkcm9wID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gICAgICAgIHRoaXMuX2JhY2tkcm9wLmNsYXNzTmFtZSA9IENMQVNTX05BTUVfQkFDS0RST1A7XG5cbiAgICAgICAgaWYgKGFuaW1hdGUpIHtcbiAgICAgICAgICB0aGlzLl9iYWNrZHJvcC5jbGFzc0xpc3QuYWRkKGFuaW1hdGUpO1xuICAgICAgICB9XG5cbiAgICAgICAgJCh0aGlzLl9iYWNrZHJvcCkuYXBwZW5kVG8oZG9jdW1lbnQuYm9keSk7XG4gICAgICAgICQodGhpcy5fZWxlbWVudCkub24oRVZFTlRfQ0xJQ0tfRElTTUlTUywgZnVuY3Rpb24gKGV2ZW50KSB7XG4gICAgICAgICAgaWYgKF90aGlzOS5faWdub3JlQmFja2Ryb3BDbGljaykge1xuICAgICAgICAgICAgX3RoaXM5Ll9pZ25vcmVCYWNrZHJvcENsaWNrID0gZmFsc2U7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgaWYgKGV2ZW50LnRhcmdldCAhPT0gZXZlbnQuY3VycmVudFRhcmdldCkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIF90aGlzOS5fdHJpZ2dlckJhY2tkcm9wVHJhbnNpdGlvbigpO1xuICAgICAgICB9KTtcblxuICAgICAgICBpZiAoYW5pbWF0ZSkge1xuICAgICAgICAgIFV0aWwucmVmbG93KHRoaXMuX2JhY2tkcm9wKTtcbiAgICAgICAgfVxuXG4gICAgICAgICQodGhpcy5fYmFja2Ryb3ApLmFkZENsYXNzKENMQVNTX05BTUVfU0hPVyQzKTtcblxuICAgICAgICBpZiAoIWNhbGxiYWNrKSB7XG4gICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKCFhbmltYXRlKSB7XG4gICAgICAgICAgY2FsbGJhY2soKTtcbiAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICB2YXIgYmFja2Ryb3BUcmFuc2l0aW9uRHVyYXRpb24gPSBVdGlsLmdldFRyYW5zaXRpb25EdXJhdGlvbkZyb21FbGVtZW50KHRoaXMuX2JhY2tkcm9wKTtcbiAgICAgICAgJCh0aGlzLl9iYWNrZHJvcCkub25lKFV0aWwuVFJBTlNJVElPTl9FTkQsIGNhbGxiYWNrKS5lbXVsYXRlVHJhbnNpdGlvbkVuZChiYWNrZHJvcFRyYW5zaXRpb25EdXJhdGlvbik7XG4gICAgICB9IGVsc2UgaWYgKCF0aGlzLl9pc1Nob3duICYmIHRoaXMuX2JhY2tkcm9wKSB7XG4gICAgICAgICQodGhpcy5fYmFja2Ryb3ApLnJlbW92ZUNsYXNzKENMQVNTX05BTUVfU0hPVyQzKTtcblxuICAgICAgICB2YXIgY2FsbGJhY2tSZW1vdmUgPSBmdW5jdGlvbiBjYWxsYmFja1JlbW92ZSgpIHtcbiAgICAgICAgICBfdGhpczkuX3JlbW92ZUJhY2tkcm9wKCk7XG5cbiAgICAgICAgICBpZiAoY2FsbGJhY2spIHtcbiAgICAgICAgICAgIGNhbGxiYWNrKCk7XG4gICAgICAgICAgfVxuICAgICAgICB9O1xuXG4gICAgICAgIGlmICgkKHRoaXMuX2VsZW1lbnQpLmhhc0NsYXNzKENMQVNTX05BTUVfRkFERSQxKSkge1xuICAgICAgICAgIHZhciBfYmFja2Ryb3BUcmFuc2l0aW9uRHVyYXRpb24gPSBVdGlsLmdldFRyYW5zaXRpb25EdXJhdGlvbkZyb21FbGVtZW50KHRoaXMuX2JhY2tkcm9wKTtcblxuICAgICAgICAgICQodGhpcy5fYmFja2Ryb3ApLm9uZShVdGlsLlRSQU5TSVRJT05fRU5ELCBjYWxsYmFja1JlbW92ZSkuZW11bGF0ZVRyYW5zaXRpb25FbmQoX2JhY2tkcm9wVHJhbnNpdGlvbkR1cmF0aW9uKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBjYWxsYmFja1JlbW92ZSgpO1xuICAgICAgICB9XG4gICAgICB9IGVsc2UgaWYgKGNhbGxiYWNrKSB7XG4gICAgICAgIGNhbGxiYWNrKCk7XG4gICAgICB9XG4gICAgfSAvLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gICAgLy8gdGhlIGZvbGxvd2luZyBtZXRob2RzIGFyZSB1c2VkIHRvIGhhbmRsZSBvdmVyZmxvd2luZyBtb2RhbHNcbiAgICAvLyB0b2RvIChmYXQpOiB0aGVzZSBzaG91bGQgcHJvYmFibHkgYmUgcmVmYWN0b3JlZCBvdXQgb2YgbW9kYWwuanNcbiAgICAvLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gICAgO1xuXG4gICAgX3Byb3RvLl9hZGp1c3REaWFsb2cgPSBmdW5jdGlvbiBfYWRqdXN0RGlhbG9nKCkge1xuICAgICAgdmFyIGlzTW9kYWxPdmVyZmxvd2luZyA9IHRoaXMuX2VsZW1lbnQuc2Nyb2xsSGVpZ2h0ID4gZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LmNsaWVudEhlaWdodDtcblxuICAgICAgaWYgKCF0aGlzLl9pc0JvZHlPdmVyZmxvd2luZyAmJiBpc01vZGFsT3ZlcmZsb3dpbmcpIHtcbiAgICAgICAgdGhpcy5fZWxlbWVudC5zdHlsZS5wYWRkaW5nTGVmdCA9IHRoaXMuX3Njcm9sbGJhcldpZHRoICsgXCJweFwiO1xuICAgICAgfVxuXG4gICAgICBpZiAodGhpcy5faXNCb2R5T3ZlcmZsb3dpbmcgJiYgIWlzTW9kYWxPdmVyZmxvd2luZykge1xuICAgICAgICB0aGlzLl9lbGVtZW50LnN0eWxlLnBhZGRpbmdSaWdodCA9IHRoaXMuX3Njcm9sbGJhcldpZHRoICsgXCJweFwiO1xuICAgICAgfVxuICAgIH07XG5cbiAgICBfcHJvdG8uX3Jlc2V0QWRqdXN0bWVudHMgPSBmdW5jdGlvbiBfcmVzZXRBZGp1c3RtZW50cygpIHtcbiAgICAgIHRoaXMuX2VsZW1lbnQuc3R5bGUucGFkZGluZ0xlZnQgPSAnJztcbiAgICAgIHRoaXMuX2VsZW1lbnQuc3R5bGUucGFkZGluZ1JpZ2h0ID0gJyc7XG4gICAgfTtcblxuICAgIF9wcm90by5fY2hlY2tTY3JvbGxiYXIgPSBmdW5jdGlvbiBfY2hlY2tTY3JvbGxiYXIoKSB7XG4gICAgICB2YXIgcmVjdCA9IGRvY3VtZW50LmJvZHkuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7XG4gICAgICB0aGlzLl9pc0JvZHlPdmVyZmxvd2luZyA9IE1hdGgucm91bmQocmVjdC5sZWZ0ICsgcmVjdC5yaWdodCkgPCB3aW5kb3cuaW5uZXJXaWR0aDtcbiAgICAgIHRoaXMuX3Njcm9sbGJhcldpZHRoID0gdGhpcy5fZ2V0U2Nyb2xsYmFyV2lkdGgoKTtcbiAgICB9O1xuXG4gICAgX3Byb3RvLl9zZXRTY3JvbGxiYXIgPSBmdW5jdGlvbiBfc2V0U2Nyb2xsYmFyKCkge1xuICAgICAgdmFyIF90aGlzMTAgPSB0aGlzO1xuXG4gICAgICBpZiAodGhpcy5faXNCb2R5T3ZlcmZsb3dpbmcpIHtcbiAgICAgICAgLy8gTm90ZTogRE9NTm9kZS5zdHlsZS5wYWRkaW5nUmlnaHQgcmV0dXJucyB0aGUgYWN0dWFsIHZhbHVlIG9yICcnIGlmIG5vdCBzZXRcbiAgICAgICAgLy8gICB3aGlsZSAkKERPTU5vZGUpLmNzcygncGFkZGluZy1yaWdodCcpIHJldHVybnMgdGhlIGNhbGN1bGF0ZWQgdmFsdWUgb3IgMCBpZiBub3Qgc2V0XG4gICAgICAgIHZhciBmaXhlZENvbnRlbnQgPSBbXS5zbGljZS5jYWxsKGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoU0VMRUNUT1JfRklYRURfQ09OVEVOVCkpO1xuICAgICAgICB2YXIgc3RpY2t5Q29udGVudCA9IFtdLnNsaWNlLmNhbGwoZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbChTRUxFQ1RPUl9TVElDS1lfQ09OVEVOVCkpOyAvLyBBZGp1c3QgZml4ZWQgY29udGVudCBwYWRkaW5nXG5cbiAgICAgICAgJChmaXhlZENvbnRlbnQpLmVhY2goZnVuY3Rpb24gKGluZGV4LCBlbGVtZW50KSB7XG4gICAgICAgICAgdmFyIGFjdHVhbFBhZGRpbmcgPSBlbGVtZW50LnN0eWxlLnBhZGRpbmdSaWdodDtcbiAgICAgICAgICB2YXIgY2FsY3VsYXRlZFBhZGRpbmcgPSAkKGVsZW1lbnQpLmNzcygncGFkZGluZy1yaWdodCcpO1xuICAgICAgICAgICQoZWxlbWVudCkuZGF0YSgncGFkZGluZy1yaWdodCcsIGFjdHVhbFBhZGRpbmcpLmNzcygncGFkZGluZy1yaWdodCcsIHBhcnNlRmxvYXQoY2FsY3VsYXRlZFBhZGRpbmcpICsgX3RoaXMxMC5fc2Nyb2xsYmFyV2lkdGggKyBcInB4XCIpO1xuICAgICAgICB9KTsgLy8gQWRqdXN0IHN0aWNreSBjb250ZW50IG1hcmdpblxuXG4gICAgICAgICQoc3RpY2t5Q29udGVudCkuZWFjaChmdW5jdGlvbiAoaW5kZXgsIGVsZW1lbnQpIHtcbiAgICAgICAgICB2YXIgYWN0dWFsTWFyZ2luID0gZWxlbWVudC5zdHlsZS5tYXJnaW5SaWdodDtcbiAgICAgICAgICB2YXIgY2FsY3VsYXRlZE1hcmdpbiA9ICQoZWxlbWVudCkuY3NzKCdtYXJnaW4tcmlnaHQnKTtcbiAgICAgICAgICAkKGVsZW1lbnQpLmRhdGEoJ21hcmdpbi1yaWdodCcsIGFjdHVhbE1hcmdpbikuY3NzKCdtYXJnaW4tcmlnaHQnLCBwYXJzZUZsb2F0KGNhbGN1bGF0ZWRNYXJnaW4pIC0gX3RoaXMxMC5fc2Nyb2xsYmFyV2lkdGggKyBcInB4XCIpO1xuICAgICAgICB9KTsgLy8gQWRqdXN0IGJvZHkgcGFkZGluZ1xuXG4gICAgICAgIHZhciBhY3R1YWxQYWRkaW5nID0gZG9jdW1lbnQuYm9keS5zdHlsZS5wYWRkaW5nUmlnaHQ7XG4gICAgICAgIHZhciBjYWxjdWxhdGVkUGFkZGluZyA9ICQoZG9jdW1lbnQuYm9keSkuY3NzKCdwYWRkaW5nLXJpZ2h0Jyk7XG4gICAgICAgICQoZG9jdW1lbnQuYm9keSkuZGF0YSgncGFkZGluZy1yaWdodCcsIGFjdHVhbFBhZGRpbmcpLmNzcygncGFkZGluZy1yaWdodCcsIHBhcnNlRmxvYXQoY2FsY3VsYXRlZFBhZGRpbmcpICsgdGhpcy5fc2Nyb2xsYmFyV2lkdGggKyBcInB4XCIpO1xuICAgICAgfVxuXG4gICAgICAkKGRvY3VtZW50LmJvZHkpLmFkZENsYXNzKENMQVNTX05BTUVfT1BFTik7XG4gICAgfTtcblxuICAgIF9wcm90by5fcmVzZXRTY3JvbGxiYXIgPSBmdW5jdGlvbiBfcmVzZXRTY3JvbGxiYXIoKSB7XG4gICAgICAvLyBSZXN0b3JlIGZpeGVkIGNvbnRlbnQgcGFkZGluZ1xuICAgICAgdmFyIGZpeGVkQ29udGVudCA9IFtdLnNsaWNlLmNhbGwoZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbChTRUxFQ1RPUl9GSVhFRF9DT05URU5UKSk7XG4gICAgICAkKGZpeGVkQ29udGVudCkuZWFjaChmdW5jdGlvbiAoaW5kZXgsIGVsZW1lbnQpIHtcbiAgICAgICAgdmFyIHBhZGRpbmcgPSAkKGVsZW1lbnQpLmRhdGEoJ3BhZGRpbmctcmlnaHQnKTtcbiAgICAgICAgJChlbGVtZW50KS5yZW1vdmVEYXRhKCdwYWRkaW5nLXJpZ2h0Jyk7XG4gICAgICAgIGVsZW1lbnQuc3R5bGUucGFkZGluZ1JpZ2h0ID0gcGFkZGluZyA/IHBhZGRpbmcgOiAnJztcbiAgICAgIH0pOyAvLyBSZXN0b3JlIHN0aWNreSBjb250ZW50XG5cbiAgICAgIHZhciBlbGVtZW50cyA9IFtdLnNsaWNlLmNhbGwoZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbChcIlwiICsgU0VMRUNUT1JfU1RJQ0tZX0NPTlRFTlQpKTtcbiAgICAgICQoZWxlbWVudHMpLmVhY2goZnVuY3Rpb24gKGluZGV4LCBlbGVtZW50KSB7XG4gICAgICAgIHZhciBtYXJnaW4gPSAkKGVsZW1lbnQpLmRhdGEoJ21hcmdpbi1yaWdodCcpO1xuXG4gICAgICAgIGlmICh0eXBlb2YgbWFyZ2luICE9PSAndW5kZWZpbmVkJykge1xuICAgICAgICAgICQoZWxlbWVudCkuY3NzKCdtYXJnaW4tcmlnaHQnLCBtYXJnaW4pLnJlbW92ZURhdGEoJ21hcmdpbi1yaWdodCcpO1xuICAgICAgICB9XG4gICAgICB9KTsgLy8gUmVzdG9yZSBib2R5IHBhZGRpbmdcblxuICAgICAgdmFyIHBhZGRpbmcgPSAkKGRvY3VtZW50LmJvZHkpLmRhdGEoJ3BhZGRpbmctcmlnaHQnKTtcbiAgICAgICQoZG9jdW1lbnQuYm9keSkucmVtb3ZlRGF0YSgncGFkZGluZy1yaWdodCcpO1xuICAgICAgZG9jdW1lbnQuYm9keS5zdHlsZS5wYWRkaW5nUmlnaHQgPSBwYWRkaW5nID8gcGFkZGluZyA6ICcnO1xuICAgIH07XG5cbiAgICBfcHJvdG8uX2dldFNjcm9sbGJhcldpZHRoID0gZnVuY3Rpb24gX2dldFNjcm9sbGJhcldpZHRoKCkge1xuICAgICAgLy8gdGh4IGQud2Fsc2hcbiAgICAgIHZhciBzY3JvbGxEaXYgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgICAgIHNjcm9sbERpdi5jbGFzc05hbWUgPSBDTEFTU19OQU1FX1NDUk9MTEJBUl9NRUFTVVJFUjtcbiAgICAgIGRvY3VtZW50LmJvZHkuYXBwZW5kQ2hpbGQoc2Nyb2xsRGl2KTtcbiAgICAgIHZhciBzY3JvbGxiYXJXaWR0aCA9IHNjcm9sbERpdi5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKS53aWR0aCAtIHNjcm9sbERpdi5jbGllbnRXaWR0aDtcbiAgICAgIGRvY3VtZW50LmJvZHkucmVtb3ZlQ2hpbGQoc2Nyb2xsRGl2KTtcbiAgICAgIHJldHVybiBzY3JvbGxiYXJXaWR0aDtcbiAgICB9IC8vIFN0YXRpY1xuICAgIDtcblxuICAgIE1vZGFsLl9qUXVlcnlJbnRlcmZhY2UgPSBmdW5jdGlvbiBfalF1ZXJ5SW50ZXJmYWNlKGNvbmZpZywgcmVsYXRlZFRhcmdldCkge1xuICAgICAgcmV0dXJuIHRoaXMuZWFjaChmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciBkYXRhID0gJCh0aGlzKS5kYXRhKERBVEFfS0VZJDUpO1xuXG4gICAgICAgIHZhciBfY29uZmlnID0gX29iamVjdFNwcmVhZDIoX29iamVjdFNwcmVhZDIoX29iamVjdFNwcmVhZDIoe30sIERlZmF1bHQkMyksICQodGhpcykuZGF0YSgpKSwgdHlwZW9mIGNvbmZpZyA9PT0gJ29iamVjdCcgJiYgY29uZmlnID8gY29uZmlnIDoge30pO1xuXG4gICAgICAgIGlmICghZGF0YSkge1xuICAgICAgICAgIGRhdGEgPSBuZXcgTW9kYWwodGhpcywgX2NvbmZpZyk7XG4gICAgICAgICAgJCh0aGlzKS5kYXRhKERBVEFfS0VZJDUsIGRhdGEpO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHR5cGVvZiBjb25maWcgPT09ICdzdHJpbmcnKSB7XG4gICAgICAgICAgaWYgKHR5cGVvZiBkYXRhW2NvbmZpZ10gPT09ICd1bmRlZmluZWQnKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKFwiTm8gbWV0aG9kIG5hbWVkIFxcXCJcIiArIGNvbmZpZyArIFwiXFxcIlwiKTtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICBkYXRhW2NvbmZpZ10ocmVsYXRlZFRhcmdldCk7XG4gICAgICAgIH0gZWxzZSBpZiAoX2NvbmZpZy5zaG93KSB7XG4gICAgICAgICAgZGF0YS5zaG93KHJlbGF0ZWRUYXJnZXQpO1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgICB9O1xuXG4gICAgX2NyZWF0ZUNsYXNzKE1vZGFsLCBudWxsLCBbe1xuICAgICAga2V5OiBcIlZFUlNJT05cIixcbiAgICAgIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgICAgICByZXR1cm4gVkVSU0lPTiQ1O1xuICAgICAgfVxuICAgIH0sIHtcbiAgICAgIGtleTogXCJEZWZhdWx0XCIsXG4gICAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICAgICAgcmV0dXJuIERlZmF1bHQkMztcbiAgICAgIH1cbiAgICB9XSk7XG5cbiAgICByZXR1cm4gTW9kYWw7XG4gIH0oKTtcbiAgLyoqXG4gICAqIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICAgKiBEYXRhIEFwaSBpbXBsZW1lbnRhdGlvblxuICAgKiAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAgICovXG5cblxuICAkKGRvY3VtZW50KS5vbihFVkVOVF9DTElDS19EQVRBX0FQSSQ1LCBTRUxFQ1RPUl9EQVRBX1RPR0dMRSQzLCBmdW5jdGlvbiAoZXZlbnQpIHtcbiAgICB2YXIgX3RoaXMxMSA9IHRoaXM7XG5cbiAgICB2YXIgdGFyZ2V0O1xuICAgIHZhciBzZWxlY3RvciA9IFV0aWwuZ2V0U2VsZWN0b3JGcm9tRWxlbWVudCh0aGlzKTtcblxuICAgIGlmIChzZWxlY3Rvcikge1xuICAgICAgdGFyZ2V0ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihzZWxlY3Rvcik7XG4gICAgfVxuXG4gICAgdmFyIGNvbmZpZyA9ICQodGFyZ2V0KS5kYXRhKERBVEFfS0VZJDUpID8gJ3RvZ2dsZScgOiBfb2JqZWN0U3ByZWFkMihfb2JqZWN0U3ByZWFkMih7fSwgJCh0YXJnZXQpLmRhdGEoKSksICQodGhpcykuZGF0YSgpKTtcblxuICAgIGlmICh0aGlzLnRhZ05hbWUgPT09ICdBJyB8fCB0aGlzLnRhZ05hbWUgPT09ICdBUkVBJykge1xuICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcbiAgICB9XG5cbiAgICB2YXIgJHRhcmdldCA9ICQodGFyZ2V0KS5vbmUoRVZFTlRfU0hPVyQyLCBmdW5jdGlvbiAoc2hvd0V2ZW50KSB7XG4gICAgICBpZiAoc2hvd0V2ZW50LmlzRGVmYXVsdFByZXZlbnRlZCgpKSB7XG4gICAgICAgIC8vIE9ubHkgcmVnaXN0ZXIgZm9jdXMgcmVzdG9yZXIgaWYgbW9kYWwgd2lsbCBhY3R1YWxseSBnZXQgc2hvd25cbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuXG4gICAgICAkdGFyZ2V0Lm9uZShFVkVOVF9ISURERU4kMiwgZnVuY3Rpb24gKCkge1xuICAgICAgICBpZiAoJChfdGhpczExKS5pcygnOnZpc2libGUnKSkge1xuICAgICAgICAgIF90aGlzMTEuZm9jdXMoKTtcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgfSk7XG5cbiAgICBNb2RhbC5falF1ZXJ5SW50ZXJmYWNlLmNhbGwoJCh0YXJnZXQpLCBjb25maWcsIHRoaXMpO1xuICB9KTtcbiAgLyoqXG4gICAqIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICAgKiBqUXVlcnlcbiAgICogLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gICAqL1xuXG4gICQuZm5bTkFNRSQ1XSA9IE1vZGFsLl9qUXVlcnlJbnRlcmZhY2U7XG4gICQuZm5bTkFNRSQ1XS5Db25zdHJ1Y3RvciA9IE1vZGFsO1xuXG4gICQuZm5bTkFNRSQ1XS5ub0NvbmZsaWN0ID0gZnVuY3Rpb24gKCkge1xuICAgICQuZm5bTkFNRSQ1XSA9IEpRVUVSWV9OT19DT05GTElDVCQ1O1xuICAgIHJldHVybiBNb2RhbC5falF1ZXJ5SW50ZXJmYWNlO1xuICB9O1xuXG4gIC8qKlxuICAgKiAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICAgKiBCb290c3RyYXAgKHY0LjUuMCk6IHRvb2xzL3Nhbml0aXplci5qc1xuICAgKiBMaWNlbnNlZCB1bmRlciBNSVQgKGh0dHBzOi8vZ2l0aHViLmNvbS90d2JzL2Jvb3RzdHJhcC9ibG9iL21hc3Rlci9MSUNFTlNFKVxuICAgKiAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICAgKi9cbiAgdmFyIHVyaUF0dHJzID0gWydiYWNrZ3JvdW5kJywgJ2NpdGUnLCAnaHJlZicsICdpdGVtdHlwZScsICdsb25nZGVzYycsICdwb3N0ZXInLCAnc3JjJywgJ3hsaW5rOmhyZWYnXTtcbiAgdmFyIEFSSUFfQVRUUklCVVRFX1BBVFRFUk4gPSAvXmFyaWEtW1xcdy1dKiQvaTtcbiAgdmFyIERlZmF1bHRXaGl0ZWxpc3QgPSB7XG4gICAgLy8gR2xvYmFsIGF0dHJpYnV0ZXMgYWxsb3dlZCBvbiBhbnkgc3VwcGxpZWQgZWxlbWVudCBiZWxvdy5cbiAgICAnKic6IFsnY2xhc3MnLCAnZGlyJywgJ2lkJywgJ2xhbmcnLCAncm9sZScsIEFSSUFfQVRUUklCVVRFX1BBVFRFUk5dLFxuICAgIGE6IFsndGFyZ2V0JywgJ2hyZWYnLCAndGl0bGUnLCAncmVsJ10sXG4gICAgYXJlYTogW10sXG4gICAgYjogW10sXG4gICAgYnI6IFtdLFxuICAgIGNvbDogW10sXG4gICAgY29kZTogW10sXG4gICAgZGl2OiBbXSxcbiAgICBlbTogW10sXG4gICAgaHI6IFtdLFxuICAgIGgxOiBbXSxcbiAgICBoMjogW10sXG4gICAgaDM6IFtdLFxuICAgIGg0OiBbXSxcbiAgICBoNTogW10sXG4gICAgaDY6IFtdLFxuICAgIGk6IFtdLFxuICAgIGltZzogWydzcmMnLCAnc3Jjc2V0JywgJ2FsdCcsICd0aXRsZScsICd3aWR0aCcsICdoZWlnaHQnXSxcbiAgICBsaTogW10sXG4gICAgb2w6IFtdLFxuICAgIHA6IFtdLFxuICAgIHByZTogW10sXG4gICAgczogW10sXG4gICAgc21hbGw6IFtdLFxuICAgIHNwYW46IFtdLFxuICAgIHN1YjogW10sXG4gICAgc3VwOiBbXSxcbiAgICBzdHJvbmc6IFtdLFxuICAgIHU6IFtdLFxuICAgIHVsOiBbXVxuICB9O1xuICAvKipcbiAgICogQSBwYXR0ZXJuIHRoYXQgcmVjb2duaXplcyBhIGNvbW1vbmx5IHVzZWZ1bCBzdWJzZXQgb2YgVVJMcyB0aGF0IGFyZSBzYWZlLlxuICAgKlxuICAgKiBTaG91dG91dCB0byBBbmd1bGFyIDcgaHR0cHM6Ly9naXRodWIuY29tL2FuZ3VsYXIvYW5ndWxhci9ibG9iLzcuMi40L3BhY2thZ2VzL2NvcmUvc3JjL3Nhbml0aXphdGlvbi91cmxfc2FuaXRpemVyLnRzXG4gICAqL1xuXG4gIHZhciBTQUZFX1VSTF9QQVRURVJOID0gL14oPzooPzpodHRwcz98bWFpbHRvfGZ0cHx0ZWx8ZmlsZSk6fFteIyYvOj9dKig/OlsjLz9dfCQpKS9naTtcbiAgLyoqXG4gICAqIEEgcGF0dGVybiB0aGF0IG1hdGNoZXMgc2FmZSBkYXRhIFVSTHMuIE9ubHkgbWF0Y2hlcyBpbWFnZSwgdmlkZW8gYW5kIGF1ZGlvIHR5cGVzLlxuICAgKlxuICAgKiBTaG91dG91dCB0byBBbmd1bGFyIDcgaHR0cHM6Ly9naXRodWIuY29tL2FuZ3VsYXIvYW5ndWxhci9ibG9iLzcuMi40L3BhY2thZ2VzL2NvcmUvc3JjL3Nhbml0aXphdGlvbi91cmxfc2FuaXRpemVyLnRzXG4gICAqL1xuXG4gIHZhciBEQVRBX1VSTF9QQVRURVJOID0gL15kYXRhOig/OmltYWdlXFwvKD86Ym1wfGdpZnxqcGVnfGpwZ3xwbmd8dGlmZnx3ZWJwKXx2aWRlb1xcLyg/Om1wZWd8bXA0fG9nZ3x3ZWJtKXxhdWRpb1xcLyg/Om1wM3xvZ2F8b2dnfG9wdXMpKTtiYXNlNjQsW1xcZCsvYS16XSs9KiQvaTtcblxuICBmdW5jdGlvbiBhbGxvd2VkQXR0cmlidXRlKGF0dHIsIGFsbG93ZWRBdHRyaWJ1dGVMaXN0KSB7XG4gICAgdmFyIGF0dHJOYW1lID0gYXR0ci5ub2RlTmFtZS50b0xvd2VyQ2FzZSgpO1xuXG4gICAgaWYgKGFsbG93ZWRBdHRyaWJ1dGVMaXN0LmluZGV4T2YoYXR0ck5hbWUpICE9PSAtMSkge1xuICAgICAgaWYgKHVyaUF0dHJzLmluZGV4T2YoYXR0ck5hbWUpICE9PSAtMSkge1xuICAgICAgICByZXR1cm4gQm9vbGVhbihhdHRyLm5vZGVWYWx1ZS5tYXRjaChTQUZFX1VSTF9QQVRURVJOKSB8fCBhdHRyLm5vZGVWYWx1ZS5tYXRjaChEQVRBX1VSTF9QQVRURVJOKSk7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cblxuICAgIHZhciByZWdFeHAgPSBhbGxvd2VkQXR0cmlidXRlTGlzdC5maWx0ZXIoZnVuY3Rpb24gKGF0dHJSZWdleCkge1xuICAgICAgcmV0dXJuIGF0dHJSZWdleCBpbnN0YW5jZW9mIFJlZ0V4cDtcbiAgICB9KTsgLy8gQ2hlY2sgaWYgYSByZWd1bGFyIGV4cHJlc3Npb24gdmFsaWRhdGVzIHRoZSBhdHRyaWJ1dGUuXG5cbiAgICBmb3IgKHZhciBpID0gMCwgbGVuID0gcmVnRXhwLmxlbmd0aDsgaSA8IGxlbjsgaSsrKSB7XG4gICAgICBpZiAoYXR0ck5hbWUubWF0Y2gocmVnRXhwW2ldKSkge1xuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cblxuICBmdW5jdGlvbiBzYW5pdGl6ZUh0bWwodW5zYWZlSHRtbCwgd2hpdGVMaXN0LCBzYW5pdGl6ZUZuKSB7XG4gICAgaWYgKHVuc2FmZUh0bWwubGVuZ3RoID09PSAwKSB7XG4gICAgICByZXR1cm4gdW5zYWZlSHRtbDtcbiAgICB9XG5cbiAgICBpZiAoc2FuaXRpemVGbiAmJiB0eXBlb2Ygc2FuaXRpemVGbiA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgcmV0dXJuIHNhbml0aXplRm4odW5zYWZlSHRtbCk7XG4gICAgfVxuXG4gICAgdmFyIGRvbVBhcnNlciA9IG5ldyB3aW5kb3cuRE9NUGFyc2VyKCk7XG4gICAgdmFyIGNyZWF0ZWREb2N1bWVudCA9IGRvbVBhcnNlci5wYXJzZUZyb21TdHJpbmcodW5zYWZlSHRtbCwgJ3RleHQvaHRtbCcpO1xuICAgIHZhciB3aGl0ZWxpc3RLZXlzID0gT2JqZWN0LmtleXMod2hpdGVMaXN0KTtcbiAgICB2YXIgZWxlbWVudHMgPSBbXS5zbGljZS5jYWxsKGNyZWF0ZWREb2N1bWVudC5ib2R5LnF1ZXJ5U2VsZWN0b3JBbGwoJyonKSk7XG5cbiAgICB2YXIgX2xvb3AgPSBmdW5jdGlvbiBfbG9vcChpLCBsZW4pIHtcbiAgICAgIHZhciBlbCA9IGVsZW1lbnRzW2ldO1xuICAgICAgdmFyIGVsTmFtZSA9IGVsLm5vZGVOYW1lLnRvTG93ZXJDYXNlKCk7XG5cbiAgICAgIGlmICh3aGl0ZWxpc3RLZXlzLmluZGV4T2YoZWwubm9kZU5hbWUudG9Mb3dlckNhc2UoKSkgPT09IC0xKSB7XG4gICAgICAgIGVsLnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQoZWwpO1xuICAgICAgICByZXR1cm4gXCJjb250aW51ZVwiO1xuICAgICAgfVxuXG4gICAgICB2YXIgYXR0cmlidXRlTGlzdCA9IFtdLnNsaWNlLmNhbGwoZWwuYXR0cmlidXRlcyk7XG4gICAgICB2YXIgd2hpdGVsaXN0ZWRBdHRyaWJ1dGVzID0gW10uY29uY2F0KHdoaXRlTGlzdFsnKiddIHx8IFtdLCB3aGl0ZUxpc3RbZWxOYW1lXSB8fCBbXSk7XG4gICAgICBhdHRyaWJ1dGVMaXN0LmZvckVhY2goZnVuY3Rpb24gKGF0dHIpIHtcbiAgICAgICAgaWYgKCFhbGxvd2VkQXR0cmlidXRlKGF0dHIsIHdoaXRlbGlzdGVkQXR0cmlidXRlcykpIHtcbiAgICAgICAgICBlbC5yZW1vdmVBdHRyaWJ1dGUoYXR0ci5ub2RlTmFtZSk7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgIH07XG5cbiAgICBmb3IgKHZhciBpID0gMCwgbGVuID0gZWxlbWVudHMubGVuZ3RoOyBpIDwgbGVuOyBpKyspIHtcbiAgICAgIHZhciBfcmV0ID0gX2xvb3AoaSk7XG5cbiAgICAgIGlmIChfcmV0ID09PSBcImNvbnRpbnVlXCIpIGNvbnRpbnVlO1xuICAgIH1cblxuICAgIHJldHVybiBjcmVhdGVkRG9jdW1lbnQuYm9keS5pbm5lckhUTUw7XG4gIH1cblxuICAvKipcbiAgICogLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gICAqIENvbnN0YW50c1xuICAgKiAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAgICovXG5cbiAgdmFyIE5BTUUkNiA9ICd0b29sdGlwJztcbiAgdmFyIFZFUlNJT04kNiA9ICc0LjUuMCc7XG4gIHZhciBEQVRBX0tFWSQ2ID0gJ2JzLnRvb2x0aXAnO1xuICB2YXIgRVZFTlRfS0VZJDYgPSBcIi5cIiArIERBVEFfS0VZJDY7XG4gIHZhciBKUVVFUllfTk9fQ09ORkxJQ1QkNiA9ICQuZm5bTkFNRSQ2XTtcbiAgdmFyIENMQVNTX1BSRUZJWCA9ICdicy10b29sdGlwJztcbiAgdmFyIEJTQ0xTX1BSRUZJWF9SRUdFWCA9IG5ldyBSZWdFeHAoXCIoXnxcXFxccylcIiArIENMQVNTX1BSRUZJWCArIFwiXFxcXFMrXCIsICdnJyk7XG4gIHZhciBESVNBTExPV0VEX0FUVFJJQlVURVMgPSBbJ3Nhbml0aXplJywgJ3doaXRlTGlzdCcsICdzYW5pdGl6ZUZuJ107XG4gIHZhciBEZWZhdWx0VHlwZSQ0ID0ge1xuICAgIGFuaW1hdGlvbjogJ2Jvb2xlYW4nLFxuICAgIHRlbXBsYXRlOiAnc3RyaW5nJyxcbiAgICB0aXRsZTogJyhzdHJpbmd8ZWxlbWVudHxmdW5jdGlvbiknLFxuICAgIHRyaWdnZXI6ICdzdHJpbmcnLFxuICAgIGRlbGF5OiAnKG51bWJlcnxvYmplY3QpJyxcbiAgICBodG1sOiAnYm9vbGVhbicsXG4gICAgc2VsZWN0b3I6ICcoc3RyaW5nfGJvb2xlYW4pJyxcbiAgICBwbGFjZW1lbnQ6ICcoc3RyaW5nfGZ1bmN0aW9uKScsXG4gICAgb2Zmc2V0OiAnKG51bWJlcnxzdHJpbmd8ZnVuY3Rpb24pJyxcbiAgICBjb250YWluZXI6ICcoc3RyaW5nfGVsZW1lbnR8Ym9vbGVhbiknLFxuICAgIGZhbGxiYWNrUGxhY2VtZW50OiAnKHN0cmluZ3xhcnJheSknLFxuICAgIGJvdW5kYXJ5OiAnKHN0cmluZ3xlbGVtZW50KScsXG4gICAgc2FuaXRpemU6ICdib29sZWFuJyxcbiAgICBzYW5pdGl6ZUZuOiAnKG51bGx8ZnVuY3Rpb24pJyxcbiAgICB3aGl0ZUxpc3Q6ICdvYmplY3QnLFxuICAgIHBvcHBlckNvbmZpZzogJyhudWxsfG9iamVjdCknXG4gIH07XG4gIHZhciBBdHRhY2htZW50TWFwID0ge1xuICAgIEFVVE86ICdhdXRvJyxcbiAgICBUT1A6ICd0b3AnLFxuICAgIFJJR0hUOiAncmlnaHQnLFxuICAgIEJPVFRPTTogJ2JvdHRvbScsXG4gICAgTEVGVDogJ2xlZnQnXG4gIH07XG4gIHZhciBEZWZhdWx0JDQgPSB7XG4gICAgYW5pbWF0aW9uOiB0cnVlLFxuICAgIHRlbXBsYXRlOiAnPGRpdiBjbGFzcz1cInRvb2x0aXBcIiByb2xlPVwidG9vbHRpcFwiPicgKyAnPGRpdiBjbGFzcz1cImFycm93XCI+PC9kaXY+JyArICc8ZGl2IGNsYXNzPVwidG9vbHRpcC1pbm5lclwiPjwvZGl2PjwvZGl2PicsXG4gICAgdHJpZ2dlcjogJ2hvdmVyIGZvY3VzJyxcbiAgICB0aXRsZTogJycsXG4gICAgZGVsYXk6IDAsXG4gICAgaHRtbDogZmFsc2UsXG4gICAgc2VsZWN0b3I6IGZhbHNlLFxuICAgIHBsYWNlbWVudDogJ3RvcCcsXG4gICAgb2Zmc2V0OiAwLFxuICAgIGNvbnRhaW5lcjogZmFsc2UsXG4gICAgZmFsbGJhY2tQbGFjZW1lbnQ6ICdmbGlwJyxcbiAgICBib3VuZGFyeTogJ3Njcm9sbFBhcmVudCcsXG4gICAgc2FuaXRpemU6IHRydWUsXG4gICAgc2FuaXRpemVGbjogbnVsbCxcbiAgICB3aGl0ZUxpc3Q6IERlZmF1bHRXaGl0ZWxpc3QsXG4gICAgcG9wcGVyQ29uZmlnOiBudWxsXG4gIH07XG4gIHZhciBIT1ZFUl9TVEFURV9TSE9XID0gJ3Nob3cnO1xuICB2YXIgSE9WRVJfU1RBVEVfT1VUID0gJ291dCc7XG4gIHZhciBFdmVudCA9IHtcbiAgICBISURFOiBcImhpZGVcIiArIEVWRU5UX0tFWSQ2LFxuICAgIEhJRERFTjogXCJoaWRkZW5cIiArIEVWRU5UX0tFWSQ2LFxuICAgIFNIT1c6IFwic2hvd1wiICsgRVZFTlRfS0VZJDYsXG4gICAgU0hPV046IFwic2hvd25cIiArIEVWRU5UX0tFWSQ2LFxuICAgIElOU0VSVEVEOiBcImluc2VydGVkXCIgKyBFVkVOVF9LRVkkNixcbiAgICBDTElDSzogXCJjbGlja1wiICsgRVZFTlRfS0VZJDYsXG4gICAgRk9DVVNJTjogXCJmb2N1c2luXCIgKyBFVkVOVF9LRVkkNixcbiAgICBGT0NVU09VVDogXCJmb2N1c291dFwiICsgRVZFTlRfS0VZJDYsXG4gICAgTU9VU0VFTlRFUjogXCJtb3VzZWVudGVyXCIgKyBFVkVOVF9LRVkkNixcbiAgICBNT1VTRUxFQVZFOiBcIm1vdXNlbGVhdmVcIiArIEVWRU5UX0tFWSQ2XG4gIH07XG4gIHZhciBDTEFTU19OQU1FX0ZBREUkMiA9ICdmYWRlJztcbiAgdmFyIENMQVNTX05BTUVfU0hPVyQ0ID0gJ3Nob3cnO1xuICB2YXIgU0VMRUNUT1JfVE9PTFRJUF9JTk5FUiA9ICcudG9vbHRpcC1pbm5lcic7XG4gIHZhciBTRUxFQ1RPUl9BUlJPVyA9ICcuYXJyb3cnO1xuICB2YXIgVFJJR0dFUl9IT1ZFUiA9ICdob3Zlcic7XG4gIHZhciBUUklHR0VSX0ZPQ1VTID0gJ2ZvY3VzJztcbiAgdmFyIFRSSUdHRVJfQ0xJQ0sgPSAnY2xpY2snO1xuICB2YXIgVFJJR0dFUl9NQU5VQUwgPSAnbWFudWFsJztcbiAgLyoqXG4gICAqIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICAgKiBDbGFzcyBEZWZpbml0aW9uXG4gICAqIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICAgKi9cblxuICB2YXIgVG9vbHRpcCA9IC8qI19fUFVSRV9fKi9mdW5jdGlvbiAoKSB7XG4gICAgZnVuY3Rpb24gVG9vbHRpcChlbGVtZW50LCBjb25maWcpIHtcbiAgICAgIGlmICh0eXBlb2YgUG9wcGVyID09PSAndW5kZWZpbmVkJykge1xuICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdCb290c3RyYXBcXCdzIHRvb2x0aXBzIHJlcXVpcmUgUG9wcGVyLmpzIChodHRwczovL3BvcHBlci5qcy5vcmcvKScpO1xuICAgICAgfSAvLyBwcml2YXRlXG5cblxuICAgICAgdGhpcy5faXNFbmFibGVkID0gdHJ1ZTtcbiAgICAgIHRoaXMuX3RpbWVvdXQgPSAwO1xuICAgICAgdGhpcy5faG92ZXJTdGF0ZSA9ICcnO1xuICAgICAgdGhpcy5fYWN0aXZlVHJpZ2dlciA9IHt9O1xuICAgICAgdGhpcy5fcG9wcGVyID0gbnVsbDsgLy8gUHJvdGVjdGVkXG5cbiAgICAgIHRoaXMuZWxlbWVudCA9IGVsZW1lbnQ7XG4gICAgICB0aGlzLmNvbmZpZyA9IHRoaXMuX2dldENvbmZpZyhjb25maWcpO1xuICAgICAgdGhpcy50aXAgPSBudWxsO1xuXG4gICAgICB0aGlzLl9zZXRMaXN0ZW5lcnMoKTtcbiAgICB9IC8vIEdldHRlcnNcblxuXG4gICAgdmFyIF9wcm90byA9IFRvb2x0aXAucHJvdG90eXBlO1xuXG4gICAgLy8gUHVibGljXG4gICAgX3Byb3RvLmVuYWJsZSA9IGZ1bmN0aW9uIGVuYWJsZSgpIHtcbiAgICAgIHRoaXMuX2lzRW5hYmxlZCA9IHRydWU7XG4gICAgfTtcblxuICAgIF9wcm90by5kaXNhYmxlID0gZnVuY3Rpb24gZGlzYWJsZSgpIHtcbiAgICAgIHRoaXMuX2lzRW5hYmxlZCA9IGZhbHNlO1xuICAgIH07XG5cbiAgICBfcHJvdG8udG9nZ2xlRW5hYmxlZCA9IGZ1bmN0aW9uIHRvZ2dsZUVuYWJsZWQoKSB7XG4gICAgICB0aGlzLl9pc0VuYWJsZWQgPSAhdGhpcy5faXNFbmFibGVkO1xuICAgIH07XG5cbiAgICBfcHJvdG8udG9nZ2xlID0gZnVuY3Rpb24gdG9nZ2xlKGV2ZW50KSB7XG4gICAgICBpZiAoIXRoaXMuX2lzRW5hYmxlZCkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG5cbiAgICAgIGlmIChldmVudCkge1xuICAgICAgICB2YXIgZGF0YUtleSA9IHRoaXMuY29uc3RydWN0b3IuREFUQV9LRVk7XG4gICAgICAgIHZhciBjb250ZXh0ID0gJChldmVudC5jdXJyZW50VGFyZ2V0KS5kYXRhKGRhdGFLZXkpO1xuXG4gICAgICAgIGlmICghY29udGV4dCkge1xuICAgICAgICAgIGNvbnRleHQgPSBuZXcgdGhpcy5jb25zdHJ1Y3RvcihldmVudC5jdXJyZW50VGFyZ2V0LCB0aGlzLl9nZXREZWxlZ2F0ZUNvbmZpZygpKTtcbiAgICAgICAgICAkKGV2ZW50LmN1cnJlbnRUYXJnZXQpLmRhdGEoZGF0YUtleSwgY29udGV4dCk7XG4gICAgICAgIH1cblxuICAgICAgICBjb250ZXh0Ll9hY3RpdmVUcmlnZ2VyLmNsaWNrID0gIWNvbnRleHQuX2FjdGl2ZVRyaWdnZXIuY2xpY2s7XG5cbiAgICAgICAgaWYgKGNvbnRleHQuX2lzV2l0aEFjdGl2ZVRyaWdnZXIoKSkge1xuICAgICAgICAgIGNvbnRleHQuX2VudGVyKG51bGwsIGNvbnRleHQpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGNvbnRleHQuX2xlYXZlKG51bGwsIGNvbnRleHQpO1xuICAgICAgICB9XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBpZiAoJCh0aGlzLmdldFRpcEVsZW1lbnQoKSkuaGFzQ2xhc3MoQ0xBU1NfTkFNRV9TSE9XJDQpKSB7XG4gICAgICAgICAgdGhpcy5fbGVhdmUobnVsbCwgdGhpcyk7XG5cbiAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLl9lbnRlcihudWxsLCB0aGlzKTtcbiAgICAgIH1cbiAgICB9O1xuXG4gICAgX3Byb3RvLmRpc3Bvc2UgPSBmdW5jdGlvbiBkaXNwb3NlKCkge1xuICAgICAgY2xlYXJUaW1lb3V0KHRoaXMuX3RpbWVvdXQpO1xuICAgICAgJC5yZW1vdmVEYXRhKHRoaXMuZWxlbWVudCwgdGhpcy5jb25zdHJ1Y3Rvci5EQVRBX0tFWSk7XG4gICAgICAkKHRoaXMuZWxlbWVudCkub2ZmKHRoaXMuY29uc3RydWN0b3IuRVZFTlRfS0VZKTtcbiAgICAgICQodGhpcy5lbGVtZW50KS5jbG9zZXN0KCcubW9kYWwnKS5vZmYoJ2hpZGUuYnMubW9kYWwnLCB0aGlzLl9oaWRlTW9kYWxIYW5kbGVyKTtcblxuICAgICAgaWYgKHRoaXMudGlwKSB7XG4gICAgICAgICQodGhpcy50aXApLnJlbW92ZSgpO1xuICAgICAgfVxuXG4gICAgICB0aGlzLl9pc0VuYWJsZWQgPSBudWxsO1xuICAgICAgdGhpcy5fdGltZW91dCA9IG51bGw7XG4gICAgICB0aGlzLl9ob3ZlclN0YXRlID0gbnVsbDtcbiAgICAgIHRoaXMuX2FjdGl2ZVRyaWdnZXIgPSBudWxsO1xuXG4gICAgICBpZiAodGhpcy5fcG9wcGVyKSB7XG4gICAgICAgIHRoaXMuX3BvcHBlci5kZXN0cm95KCk7XG4gICAgICB9XG5cbiAgICAgIHRoaXMuX3BvcHBlciA9IG51bGw7XG4gICAgICB0aGlzLmVsZW1lbnQgPSBudWxsO1xuICAgICAgdGhpcy5jb25maWcgPSBudWxsO1xuICAgICAgdGhpcy50aXAgPSBudWxsO1xuICAgIH07XG5cbiAgICBfcHJvdG8uc2hvdyA9IGZ1bmN0aW9uIHNob3coKSB7XG4gICAgICB2YXIgX3RoaXMgPSB0aGlzO1xuXG4gICAgICBpZiAoJCh0aGlzLmVsZW1lbnQpLmNzcygnZGlzcGxheScpID09PSAnbm9uZScpIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdQbGVhc2UgdXNlIHNob3cgb24gdmlzaWJsZSBlbGVtZW50cycpO1xuICAgICAgfVxuXG4gICAgICB2YXIgc2hvd0V2ZW50ID0gJC5FdmVudCh0aGlzLmNvbnN0cnVjdG9yLkV2ZW50LlNIT1cpO1xuXG4gICAgICBpZiAodGhpcy5pc1dpdGhDb250ZW50KCkgJiYgdGhpcy5faXNFbmFibGVkKSB7XG4gICAgICAgICQodGhpcy5lbGVtZW50KS50cmlnZ2VyKHNob3dFdmVudCk7XG4gICAgICAgIHZhciBzaGFkb3dSb290ID0gVXRpbC5maW5kU2hhZG93Um9vdCh0aGlzLmVsZW1lbnQpO1xuICAgICAgICB2YXIgaXNJblRoZURvbSA9ICQuY29udGFpbnMoc2hhZG93Um9vdCAhPT0gbnVsbCA/IHNoYWRvd1Jvb3QgOiB0aGlzLmVsZW1lbnQub3duZXJEb2N1bWVudC5kb2N1bWVudEVsZW1lbnQsIHRoaXMuZWxlbWVudCk7XG5cbiAgICAgICAgaWYgKHNob3dFdmVudC5pc0RlZmF1bHRQcmV2ZW50ZWQoKSB8fCAhaXNJblRoZURvbSkge1xuICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIHZhciB0aXAgPSB0aGlzLmdldFRpcEVsZW1lbnQoKTtcbiAgICAgICAgdmFyIHRpcElkID0gVXRpbC5nZXRVSUQodGhpcy5jb25zdHJ1Y3Rvci5OQU1FKTtcbiAgICAgICAgdGlwLnNldEF0dHJpYnV0ZSgnaWQnLCB0aXBJZCk7XG4gICAgICAgIHRoaXMuZWxlbWVudC5zZXRBdHRyaWJ1dGUoJ2FyaWEtZGVzY3JpYmVkYnknLCB0aXBJZCk7XG4gICAgICAgIHRoaXMuc2V0Q29udGVudCgpO1xuXG4gICAgICAgIGlmICh0aGlzLmNvbmZpZy5hbmltYXRpb24pIHtcbiAgICAgICAgICAkKHRpcCkuYWRkQ2xhc3MoQ0xBU1NfTkFNRV9GQURFJDIpO1xuICAgICAgICB9XG5cbiAgICAgICAgdmFyIHBsYWNlbWVudCA9IHR5cGVvZiB0aGlzLmNvbmZpZy5wbGFjZW1lbnQgPT09ICdmdW5jdGlvbicgPyB0aGlzLmNvbmZpZy5wbGFjZW1lbnQuY2FsbCh0aGlzLCB0aXAsIHRoaXMuZWxlbWVudCkgOiB0aGlzLmNvbmZpZy5wbGFjZW1lbnQ7XG5cbiAgICAgICAgdmFyIGF0dGFjaG1lbnQgPSB0aGlzLl9nZXRBdHRhY2htZW50KHBsYWNlbWVudCk7XG5cbiAgICAgICAgdGhpcy5hZGRBdHRhY2htZW50Q2xhc3MoYXR0YWNobWVudCk7XG5cbiAgICAgICAgdmFyIGNvbnRhaW5lciA9IHRoaXMuX2dldENvbnRhaW5lcigpO1xuXG4gICAgICAgICQodGlwKS5kYXRhKHRoaXMuY29uc3RydWN0b3IuREFUQV9LRVksIHRoaXMpO1xuXG4gICAgICAgIGlmICghJC5jb250YWlucyh0aGlzLmVsZW1lbnQub3duZXJEb2N1bWVudC5kb2N1bWVudEVsZW1lbnQsIHRoaXMudGlwKSkge1xuICAgICAgICAgICQodGlwKS5hcHBlbmRUbyhjb250YWluZXIpO1xuICAgICAgICB9XG5cbiAgICAgICAgJCh0aGlzLmVsZW1lbnQpLnRyaWdnZXIodGhpcy5jb25zdHJ1Y3Rvci5FdmVudC5JTlNFUlRFRCk7XG4gICAgICAgIHRoaXMuX3BvcHBlciA9IG5ldyBQb3BwZXIodGhpcy5lbGVtZW50LCB0aXAsIHRoaXMuX2dldFBvcHBlckNvbmZpZyhhdHRhY2htZW50KSk7XG4gICAgICAgICQodGlwKS5hZGRDbGFzcyhDTEFTU19OQU1FX1NIT1ckNCk7IC8vIElmIHRoaXMgaXMgYSB0b3VjaC1lbmFibGVkIGRldmljZSB3ZSBhZGQgZXh0cmFcbiAgICAgICAgLy8gZW1wdHkgbW91c2VvdmVyIGxpc3RlbmVycyB0byB0aGUgYm9keSdzIGltbWVkaWF0ZSBjaGlsZHJlbjtcbiAgICAgICAgLy8gb25seSBuZWVkZWQgYmVjYXVzZSBvZiBicm9rZW4gZXZlbnQgZGVsZWdhdGlvbiBvbiBpT1NcbiAgICAgICAgLy8gaHR0cHM6Ly93d3cucXVpcmtzbW9kZS5vcmcvYmxvZy9hcmNoaXZlcy8yMDE0LzAyL21vdXNlX2V2ZW50X2J1Yi5odG1sXG5cbiAgICAgICAgaWYgKCdvbnRvdWNoc3RhcnQnIGluIGRvY3VtZW50LmRvY3VtZW50RWxlbWVudCkge1xuICAgICAgICAgICQoZG9jdW1lbnQuYm9keSkuY2hpbGRyZW4oKS5vbignbW91c2VvdmVyJywgbnVsbCwgJC5ub29wKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHZhciBjb21wbGV0ZSA9IGZ1bmN0aW9uIGNvbXBsZXRlKCkge1xuICAgICAgICAgIGlmIChfdGhpcy5jb25maWcuYW5pbWF0aW9uKSB7XG4gICAgICAgICAgICBfdGhpcy5fZml4VHJhbnNpdGlvbigpO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIHZhciBwcmV2SG92ZXJTdGF0ZSA9IF90aGlzLl9ob3ZlclN0YXRlO1xuICAgICAgICAgIF90aGlzLl9ob3ZlclN0YXRlID0gbnVsbDtcbiAgICAgICAgICAkKF90aGlzLmVsZW1lbnQpLnRyaWdnZXIoX3RoaXMuY29uc3RydWN0b3IuRXZlbnQuU0hPV04pO1xuXG4gICAgICAgICAgaWYgKHByZXZIb3ZlclN0YXRlID09PSBIT1ZFUl9TVEFURV9PVVQpIHtcbiAgICAgICAgICAgIF90aGlzLl9sZWF2ZShudWxsLCBfdGhpcyk7XG4gICAgICAgICAgfVxuICAgICAgICB9O1xuXG4gICAgICAgIGlmICgkKHRoaXMudGlwKS5oYXNDbGFzcyhDTEFTU19OQU1FX0ZBREUkMikpIHtcbiAgICAgICAgICB2YXIgdHJhbnNpdGlvbkR1cmF0aW9uID0gVXRpbC5nZXRUcmFuc2l0aW9uRHVyYXRpb25Gcm9tRWxlbWVudCh0aGlzLnRpcCk7XG4gICAgICAgICAgJCh0aGlzLnRpcCkub25lKFV0aWwuVFJBTlNJVElPTl9FTkQsIGNvbXBsZXRlKS5lbXVsYXRlVHJhbnNpdGlvbkVuZCh0cmFuc2l0aW9uRHVyYXRpb24pO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGNvbXBsZXRlKCk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9O1xuXG4gICAgX3Byb3RvLmhpZGUgPSBmdW5jdGlvbiBoaWRlKGNhbGxiYWNrKSB7XG4gICAgICB2YXIgX3RoaXMyID0gdGhpcztcblxuICAgICAgdmFyIHRpcCA9IHRoaXMuZ2V0VGlwRWxlbWVudCgpO1xuICAgICAgdmFyIGhpZGVFdmVudCA9ICQuRXZlbnQodGhpcy5jb25zdHJ1Y3Rvci5FdmVudC5ISURFKTtcblxuICAgICAgdmFyIGNvbXBsZXRlID0gZnVuY3Rpb24gY29tcGxldGUoKSB7XG4gICAgICAgIGlmIChfdGhpczIuX2hvdmVyU3RhdGUgIT09IEhPVkVSX1NUQVRFX1NIT1cgJiYgdGlwLnBhcmVudE5vZGUpIHtcbiAgICAgICAgICB0aXAucGFyZW50Tm9kZS5yZW1vdmVDaGlsZCh0aXApO1xuICAgICAgICB9XG5cbiAgICAgICAgX3RoaXMyLl9jbGVhblRpcENsYXNzKCk7XG5cbiAgICAgICAgX3RoaXMyLmVsZW1lbnQucmVtb3ZlQXR0cmlidXRlKCdhcmlhLWRlc2NyaWJlZGJ5Jyk7XG5cbiAgICAgICAgJChfdGhpczIuZWxlbWVudCkudHJpZ2dlcihfdGhpczIuY29uc3RydWN0b3IuRXZlbnQuSElEREVOKTtcblxuICAgICAgICBpZiAoX3RoaXMyLl9wb3BwZXIgIT09IG51bGwpIHtcbiAgICAgICAgICBfdGhpczIuX3BvcHBlci5kZXN0cm95KCk7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoY2FsbGJhY2spIHtcbiAgICAgICAgICBjYWxsYmFjaygpO1xuICAgICAgICB9XG4gICAgICB9O1xuXG4gICAgICAkKHRoaXMuZWxlbWVudCkudHJpZ2dlcihoaWRlRXZlbnQpO1xuXG4gICAgICBpZiAoaGlkZUV2ZW50LmlzRGVmYXVsdFByZXZlbnRlZCgpKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cblxuICAgICAgJCh0aXApLnJlbW92ZUNsYXNzKENMQVNTX05BTUVfU0hPVyQ0KTsgLy8gSWYgdGhpcyBpcyBhIHRvdWNoLWVuYWJsZWQgZGV2aWNlIHdlIHJlbW92ZSB0aGUgZXh0cmFcbiAgICAgIC8vIGVtcHR5IG1vdXNlb3ZlciBsaXN0ZW5lcnMgd2UgYWRkZWQgZm9yIGlPUyBzdXBwb3J0XG5cbiAgICAgIGlmICgnb250b3VjaHN0YXJ0JyBpbiBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQpIHtcbiAgICAgICAgJChkb2N1bWVudC5ib2R5KS5jaGlsZHJlbigpLm9mZignbW91c2VvdmVyJywgbnVsbCwgJC5ub29wKTtcbiAgICAgIH1cblxuICAgICAgdGhpcy5fYWN0aXZlVHJpZ2dlcltUUklHR0VSX0NMSUNLXSA9IGZhbHNlO1xuICAgICAgdGhpcy5fYWN0aXZlVHJpZ2dlcltUUklHR0VSX0ZPQ1VTXSA9IGZhbHNlO1xuICAgICAgdGhpcy5fYWN0aXZlVHJpZ2dlcltUUklHR0VSX0hPVkVSXSA9IGZhbHNlO1xuXG4gICAgICBpZiAoJCh0aGlzLnRpcCkuaGFzQ2xhc3MoQ0xBU1NfTkFNRV9GQURFJDIpKSB7XG4gICAgICAgIHZhciB0cmFuc2l0aW9uRHVyYXRpb24gPSBVdGlsLmdldFRyYW5zaXRpb25EdXJhdGlvbkZyb21FbGVtZW50KHRpcCk7XG4gICAgICAgICQodGlwKS5vbmUoVXRpbC5UUkFOU0lUSU9OX0VORCwgY29tcGxldGUpLmVtdWxhdGVUcmFuc2l0aW9uRW5kKHRyYW5zaXRpb25EdXJhdGlvbik7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBjb21wbGV0ZSgpO1xuICAgICAgfVxuXG4gICAgICB0aGlzLl9ob3ZlclN0YXRlID0gJyc7XG4gICAgfTtcblxuICAgIF9wcm90by51cGRhdGUgPSBmdW5jdGlvbiB1cGRhdGUoKSB7XG4gICAgICBpZiAodGhpcy5fcG9wcGVyICE9PSBudWxsKSB7XG4gICAgICAgIHRoaXMuX3BvcHBlci5zY2hlZHVsZVVwZGF0ZSgpO1xuICAgICAgfVxuICAgIH0gLy8gUHJvdGVjdGVkXG4gICAgO1xuXG4gICAgX3Byb3RvLmlzV2l0aENvbnRlbnQgPSBmdW5jdGlvbiBpc1dpdGhDb250ZW50KCkge1xuICAgICAgcmV0dXJuIEJvb2xlYW4odGhpcy5nZXRUaXRsZSgpKTtcbiAgICB9O1xuXG4gICAgX3Byb3RvLmFkZEF0dGFjaG1lbnRDbGFzcyA9IGZ1bmN0aW9uIGFkZEF0dGFjaG1lbnRDbGFzcyhhdHRhY2htZW50KSB7XG4gICAgICAkKHRoaXMuZ2V0VGlwRWxlbWVudCgpKS5hZGRDbGFzcyhDTEFTU19QUkVGSVggKyBcIi1cIiArIGF0dGFjaG1lbnQpO1xuICAgIH07XG5cbiAgICBfcHJvdG8uZ2V0VGlwRWxlbWVudCA9IGZ1bmN0aW9uIGdldFRpcEVsZW1lbnQoKSB7XG4gICAgICB0aGlzLnRpcCA9IHRoaXMudGlwIHx8ICQodGhpcy5jb25maWcudGVtcGxhdGUpWzBdO1xuICAgICAgcmV0dXJuIHRoaXMudGlwO1xuICAgIH07XG5cbiAgICBfcHJvdG8uc2V0Q29udGVudCA9IGZ1bmN0aW9uIHNldENvbnRlbnQoKSB7XG4gICAgICB2YXIgdGlwID0gdGhpcy5nZXRUaXBFbGVtZW50KCk7XG4gICAgICB0aGlzLnNldEVsZW1lbnRDb250ZW50KCQodGlwLnF1ZXJ5U2VsZWN0b3JBbGwoU0VMRUNUT1JfVE9PTFRJUF9JTk5FUikpLCB0aGlzLmdldFRpdGxlKCkpO1xuICAgICAgJCh0aXApLnJlbW92ZUNsYXNzKENMQVNTX05BTUVfRkFERSQyICsgXCIgXCIgKyBDTEFTU19OQU1FX1NIT1ckNCk7XG4gICAgfTtcblxuICAgIF9wcm90by5zZXRFbGVtZW50Q29udGVudCA9IGZ1bmN0aW9uIHNldEVsZW1lbnRDb250ZW50KCRlbGVtZW50LCBjb250ZW50KSB7XG4gICAgICBpZiAodHlwZW9mIGNvbnRlbnQgPT09ICdvYmplY3QnICYmIChjb250ZW50Lm5vZGVUeXBlIHx8IGNvbnRlbnQuanF1ZXJ5KSkge1xuICAgICAgICAvLyBDb250ZW50IGlzIGEgRE9NIG5vZGUgb3IgYSBqUXVlcnlcbiAgICAgICAgaWYgKHRoaXMuY29uZmlnLmh0bWwpIHtcbiAgICAgICAgICBpZiAoISQoY29udGVudCkucGFyZW50KCkuaXMoJGVsZW1lbnQpKSB7XG4gICAgICAgICAgICAkZWxlbWVudC5lbXB0eSgpLmFwcGVuZChjb250ZW50KTtcbiAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgJGVsZW1lbnQudGV4dCgkKGNvbnRlbnQpLnRleHQoKSk7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm47XG4gICAgICB9XG5cbiAgICAgIGlmICh0aGlzLmNvbmZpZy5odG1sKSB7XG4gICAgICAgIGlmICh0aGlzLmNvbmZpZy5zYW5pdGl6ZSkge1xuICAgICAgICAgIGNvbnRlbnQgPSBzYW5pdGl6ZUh0bWwoY29udGVudCwgdGhpcy5jb25maWcud2hpdGVMaXN0LCB0aGlzLmNvbmZpZy5zYW5pdGl6ZUZuKTtcbiAgICAgICAgfVxuXG4gICAgICAgICRlbGVtZW50Lmh0bWwoY29udGVudCk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICAkZWxlbWVudC50ZXh0KGNvbnRlbnQpO1xuICAgICAgfVxuICAgIH07XG5cbiAgICBfcHJvdG8uZ2V0VGl0bGUgPSBmdW5jdGlvbiBnZXRUaXRsZSgpIHtcbiAgICAgIHZhciB0aXRsZSA9IHRoaXMuZWxlbWVudC5nZXRBdHRyaWJ1dGUoJ2RhdGEtb3JpZ2luYWwtdGl0bGUnKTtcblxuICAgICAgaWYgKCF0aXRsZSkge1xuICAgICAgICB0aXRsZSA9IHR5cGVvZiB0aGlzLmNvbmZpZy50aXRsZSA9PT0gJ2Z1bmN0aW9uJyA/IHRoaXMuY29uZmlnLnRpdGxlLmNhbGwodGhpcy5lbGVtZW50KSA6IHRoaXMuY29uZmlnLnRpdGxlO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gdGl0bGU7XG4gICAgfSAvLyBQcml2YXRlXG4gICAgO1xuXG4gICAgX3Byb3RvLl9nZXRQb3BwZXJDb25maWcgPSBmdW5jdGlvbiBfZ2V0UG9wcGVyQ29uZmlnKGF0dGFjaG1lbnQpIHtcbiAgICAgIHZhciBfdGhpczMgPSB0aGlzO1xuXG4gICAgICB2YXIgZGVmYXVsdEJzQ29uZmlnID0ge1xuICAgICAgICBwbGFjZW1lbnQ6IGF0dGFjaG1lbnQsXG4gICAgICAgIG1vZGlmaWVyczoge1xuICAgICAgICAgIG9mZnNldDogdGhpcy5fZ2V0T2Zmc2V0KCksXG4gICAgICAgICAgZmxpcDoge1xuICAgICAgICAgICAgYmVoYXZpb3I6IHRoaXMuY29uZmlnLmZhbGxiYWNrUGxhY2VtZW50XG4gICAgICAgICAgfSxcbiAgICAgICAgICBhcnJvdzoge1xuICAgICAgICAgICAgZWxlbWVudDogU0VMRUNUT1JfQVJST1dcbiAgICAgICAgICB9LFxuICAgICAgICAgIHByZXZlbnRPdmVyZmxvdzoge1xuICAgICAgICAgICAgYm91bmRhcmllc0VsZW1lbnQ6IHRoaXMuY29uZmlnLmJvdW5kYXJ5XG4gICAgICAgICAgfVxuICAgICAgICB9LFxuICAgICAgICBvbkNyZWF0ZTogZnVuY3Rpb24gb25DcmVhdGUoZGF0YSkge1xuICAgICAgICAgIGlmIChkYXRhLm9yaWdpbmFsUGxhY2VtZW50ICE9PSBkYXRhLnBsYWNlbWVudCkge1xuICAgICAgICAgICAgX3RoaXMzLl9oYW5kbGVQb3BwZXJQbGFjZW1lbnRDaGFuZ2UoZGF0YSk7XG4gICAgICAgICAgfVxuICAgICAgICB9LFxuICAgICAgICBvblVwZGF0ZTogZnVuY3Rpb24gb25VcGRhdGUoZGF0YSkge1xuICAgICAgICAgIHJldHVybiBfdGhpczMuX2hhbmRsZVBvcHBlclBsYWNlbWVudENoYW5nZShkYXRhKTtcbiAgICAgICAgfVxuICAgICAgfTtcbiAgICAgIHJldHVybiBfb2JqZWN0U3ByZWFkMihfb2JqZWN0U3ByZWFkMih7fSwgZGVmYXVsdEJzQ29uZmlnKSwgdGhpcy5jb25maWcucG9wcGVyQ29uZmlnKTtcbiAgICB9O1xuXG4gICAgX3Byb3RvLl9nZXRPZmZzZXQgPSBmdW5jdGlvbiBfZ2V0T2Zmc2V0KCkge1xuICAgICAgdmFyIF90aGlzNCA9IHRoaXM7XG5cbiAgICAgIHZhciBvZmZzZXQgPSB7fTtcblxuICAgICAgaWYgKHR5cGVvZiB0aGlzLmNvbmZpZy5vZmZzZXQgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgb2Zmc2V0LmZuID0gZnVuY3Rpb24gKGRhdGEpIHtcbiAgICAgICAgICBkYXRhLm9mZnNldHMgPSBfb2JqZWN0U3ByZWFkMihfb2JqZWN0U3ByZWFkMih7fSwgZGF0YS5vZmZzZXRzKSwgX3RoaXM0LmNvbmZpZy5vZmZzZXQoZGF0YS5vZmZzZXRzLCBfdGhpczQuZWxlbWVudCkgfHwge30pO1xuICAgICAgICAgIHJldHVybiBkYXRhO1xuICAgICAgICB9O1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgb2Zmc2V0Lm9mZnNldCA9IHRoaXMuY29uZmlnLm9mZnNldDtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIG9mZnNldDtcbiAgICB9O1xuXG4gICAgX3Byb3RvLl9nZXRDb250YWluZXIgPSBmdW5jdGlvbiBfZ2V0Q29udGFpbmVyKCkge1xuICAgICAgaWYgKHRoaXMuY29uZmlnLmNvbnRhaW5lciA9PT0gZmFsc2UpIHtcbiAgICAgICAgcmV0dXJuIGRvY3VtZW50LmJvZHk7XG4gICAgICB9XG5cbiAgICAgIGlmIChVdGlsLmlzRWxlbWVudCh0aGlzLmNvbmZpZy5jb250YWluZXIpKSB7XG4gICAgICAgIHJldHVybiAkKHRoaXMuY29uZmlnLmNvbnRhaW5lcik7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiAkKGRvY3VtZW50KS5maW5kKHRoaXMuY29uZmlnLmNvbnRhaW5lcik7XG4gICAgfTtcblxuICAgIF9wcm90by5fZ2V0QXR0YWNobWVudCA9IGZ1bmN0aW9uIF9nZXRBdHRhY2htZW50KHBsYWNlbWVudCkge1xuICAgICAgcmV0dXJuIEF0dGFjaG1lbnRNYXBbcGxhY2VtZW50LnRvVXBwZXJDYXNlKCldO1xuICAgIH07XG5cbiAgICBfcHJvdG8uX3NldExpc3RlbmVycyA9IGZ1bmN0aW9uIF9zZXRMaXN0ZW5lcnMoKSB7XG4gICAgICB2YXIgX3RoaXM1ID0gdGhpcztcblxuICAgICAgdmFyIHRyaWdnZXJzID0gdGhpcy5jb25maWcudHJpZ2dlci5zcGxpdCgnICcpO1xuICAgICAgdHJpZ2dlcnMuZm9yRWFjaChmdW5jdGlvbiAodHJpZ2dlcikge1xuICAgICAgICBpZiAodHJpZ2dlciA9PT0gJ2NsaWNrJykge1xuICAgICAgICAgICQoX3RoaXM1LmVsZW1lbnQpLm9uKF90aGlzNS5jb25zdHJ1Y3Rvci5FdmVudC5DTElDSywgX3RoaXM1LmNvbmZpZy5zZWxlY3RvciwgZnVuY3Rpb24gKGV2ZW50KSB7XG4gICAgICAgICAgICByZXR1cm4gX3RoaXM1LnRvZ2dsZShldmVudCk7XG4gICAgICAgICAgfSk7XG4gICAgICAgIH0gZWxzZSBpZiAodHJpZ2dlciAhPT0gVFJJR0dFUl9NQU5VQUwpIHtcbiAgICAgICAgICB2YXIgZXZlbnRJbiA9IHRyaWdnZXIgPT09IFRSSUdHRVJfSE9WRVIgPyBfdGhpczUuY29uc3RydWN0b3IuRXZlbnQuTU9VU0VFTlRFUiA6IF90aGlzNS5jb25zdHJ1Y3Rvci5FdmVudC5GT0NVU0lOO1xuICAgICAgICAgIHZhciBldmVudE91dCA9IHRyaWdnZXIgPT09IFRSSUdHRVJfSE9WRVIgPyBfdGhpczUuY29uc3RydWN0b3IuRXZlbnQuTU9VU0VMRUFWRSA6IF90aGlzNS5jb25zdHJ1Y3Rvci5FdmVudC5GT0NVU09VVDtcbiAgICAgICAgICAkKF90aGlzNS5lbGVtZW50KS5vbihldmVudEluLCBfdGhpczUuY29uZmlnLnNlbGVjdG9yLCBmdW5jdGlvbiAoZXZlbnQpIHtcbiAgICAgICAgICAgIHJldHVybiBfdGhpczUuX2VudGVyKGV2ZW50KTtcbiAgICAgICAgICB9KS5vbihldmVudE91dCwgX3RoaXM1LmNvbmZpZy5zZWxlY3RvciwgZnVuY3Rpb24gKGV2ZW50KSB7XG4gICAgICAgICAgICByZXR1cm4gX3RoaXM1Ll9sZWF2ZShldmVudCk7XG4gICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuXG4gICAgICB0aGlzLl9oaWRlTW9kYWxIYW5kbGVyID0gZnVuY3Rpb24gKCkge1xuICAgICAgICBpZiAoX3RoaXM1LmVsZW1lbnQpIHtcbiAgICAgICAgICBfdGhpczUuaGlkZSgpO1xuICAgICAgICB9XG4gICAgICB9O1xuXG4gICAgICAkKHRoaXMuZWxlbWVudCkuY2xvc2VzdCgnLm1vZGFsJykub24oJ2hpZGUuYnMubW9kYWwnLCB0aGlzLl9oaWRlTW9kYWxIYW5kbGVyKTtcblxuICAgICAgaWYgKHRoaXMuY29uZmlnLnNlbGVjdG9yKSB7XG4gICAgICAgIHRoaXMuY29uZmlnID0gX29iamVjdFNwcmVhZDIoX29iamVjdFNwcmVhZDIoe30sIHRoaXMuY29uZmlnKSwge30sIHtcbiAgICAgICAgICB0cmlnZ2VyOiAnbWFudWFsJyxcbiAgICAgICAgICBzZWxlY3RvcjogJydcbiAgICAgICAgfSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB0aGlzLl9maXhUaXRsZSgpO1xuICAgICAgfVxuICAgIH07XG5cbiAgICBfcHJvdG8uX2ZpeFRpdGxlID0gZnVuY3Rpb24gX2ZpeFRpdGxlKCkge1xuICAgICAgdmFyIHRpdGxlVHlwZSA9IHR5cGVvZiB0aGlzLmVsZW1lbnQuZ2V0QXR0cmlidXRlKCdkYXRhLW9yaWdpbmFsLXRpdGxlJyk7XG5cbiAgICAgIGlmICh0aGlzLmVsZW1lbnQuZ2V0QXR0cmlidXRlKCd0aXRsZScpIHx8IHRpdGxlVHlwZSAhPT0gJ3N0cmluZycpIHtcbiAgICAgICAgdGhpcy5lbGVtZW50LnNldEF0dHJpYnV0ZSgnZGF0YS1vcmlnaW5hbC10aXRsZScsIHRoaXMuZWxlbWVudC5nZXRBdHRyaWJ1dGUoJ3RpdGxlJykgfHwgJycpO1xuICAgICAgICB0aGlzLmVsZW1lbnQuc2V0QXR0cmlidXRlKCd0aXRsZScsICcnKTtcbiAgICAgIH1cbiAgICB9O1xuXG4gICAgX3Byb3RvLl9lbnRlciA9IGZ1bmN0aW9uIF9lbnRlcihldmVudCwgY29udGV4dCkge1xuICAgICAgdmFyIGRhdGFLZXkgPSB0aGlzLmNvbnN0cnVjdG9yLkRBVEFfS0VZO1xuICAgICAgY29udGV4dCA9IGNvbnRleHQgfHwgJChldmVudC5jdXJyZW50VGFyZ2V0KS5kYXRhKGRhdGFLZXkpO1xuXG4gICAgICBpZiAoIWNvbnRleHQpIHtcbiAgICAgICAgY29udGV4dCA9IG5ldyB0aGlzLmNvbnN0cnVjdG9yKGV2ZW50LmN1cnJlbnRUYXJnZXQsIHRoaXMuX2dldERlbGVnYXRlQ29uZmlnKCkpO1xuICAgICAgICAkKGV2ZW50LmN1cnJlbnRUYXJnZXQpLmRhdGEoZGF0YUtleSwgY29udGV4dCk7XG4gICAgICB9XG5cbiAgICAgIGlmIChldmVudCkge1xuICAgICAgICBjb250ZXh0Ll9hY3RpdmVUcmlnZ2VyW2V2ZW50LnR5cGUgPT09ICdmb2N1c2luJyA/IFRSSUdHRVJfRk9DVVMgOiBUUklHR0VSX0hPVkVSXSA9IHRydWU7XG4gICAgICB9XG5cbiAgICAgIGlmICgkKGNvbnRleHQuZ2V0VGlwRWxlbWVudCgpKS5oYXNDbGFzcyhDTEFTU19OQU1FX1NIT1ckNCkgfHwgY29udGV4dC5faG92ZXJTdGF0ZSA9PT0gSE9WRVJfU1RBVEVfU0hPVykge1xuICAgICAgICBjb250ZXh0Ll9ob3ZlclN0YXRlID0gSE9WRVJfU1RBVEVfU0hPVztcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuXG4gICAgICBjbGVhclRpbWVvdXQoY29udGV4dC5fdGltZW91dCk7XG4gICAgICBjb250ZXh0Ll9ob3ZlclN0YXRlID0gSE9WRVJfU1RBVEVfU0hPVztcblxuICAgICAgaWYgKCFjb250ZXh0LmNvbmZpZy5kZWxheSB8fCAhY29udGV4dC5jb25maWcuZGVsYXkuc2hvdykge1xuICAgICAgICBjb250ZXh0LnNob3coKTtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuXG4gICAgICBjb250ZXh0Ll90aW1lb3V0ID0gc2V0VGltZW91dChmdW5jdGlvbiAoKSB7XG4gICAgICAgIGlmIChjb250ZXh0Ll9ob3ZlclN0YXRlID09PSBIT1ZFUl9TVEFURV9TSE9XKSB7XG4gICAgICAgICAgY29udGV4dC5zaG93KCk7XG4gICAgICAgIH1cbiAgICAgIH0sIGNvbnRleHQuY29uZmlnLmRlbGF5LnNob3cpO1xuICAgIH07XG5cbiAgICBfcHJvdG8uX2xlYXZlID0gZnVuY3Rpb24gX2xlYXZlKGV2ZW50LCBjb250ZXh0KSB7XG4gICAgICB2YXIgZGF0YUtleSA9IHRoaXMuY29uc3RydWN0b3IuREFUQV9LRVk7XG4gICAgICBjb250ZXh0ID0gY29udGV4dCB8fCAkKGV2ZW50LmN1cnJlbnRUYXJnZXQpLmRhdGEoZGF0YUtleSk7XG5cbiAgICAgIGlmICghY29udGV4dCkge1xuICAgICAgICBjb250ZXh0ID0gbmV3IHRoaXMuY29uc3RydWN0b3IoZXZlbnQuY3VycmVudFRhcmdldCwgdGhpcy5fZ2V0RGVsZWdhdGVDb25maWcoKSk7XG4gICAgICAgICQoZXZlbnQuY3VycmVudFRhcmdldCkuZGF0YShkYXRhS2V5LCBjb250ZXh0KTtcbiAgICAgIH1cblxuICAgICAgaWYgKGV2ZW50KSB7XG4gICAgICAgIGNvbnRleHQuX2FjdGl2ZVRyaWdnZXJbZXZlbnQudHlwZSA9PT0gJ2ZvY3Vzb3V0JyA/IFRSSUdHRVJfRk9DVVMgOiBUUklHR0VSX0hPVkVSXSA9IGZhbHNlO1xuICAgICAgfVxuXG4gICAgICBpZiAoY29udGV4dC5faXNXaXRoQWN0aXZlVHJpZ2dlcigpKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cblxuICAgICAgY2xlYXJUaW1lb3V0KGNvbnRleHQuX3RpbWVvdXQpO1xuICAgICAgY29udGV4dC5faG92ZXJTdGF0ZSA9IEhPVkVSX1NUQVRFX09VVDtcblxuICAgICAgaWYgKCFjb250ZXh0LmNvbmZpZy5kZWxheSB8fCAhY29udGV4dC5jb25maWcuZGVsYXkuaGlkZSkge1xuICAgICAgICBjb250ZXh0LmhpZGUoKTtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuXG4gICAgICBjb250ZXh0Ll90aW1lb3V0ID0gc2V0VGltZW91dChmdW5jdGlvbiAoKSB7XG4gICAgICAgIGlmIChjb250ZXh0Ll9ob3ZlclN0YXRlID09PSBIT1ZFUl9TVEFURV9PVVQpIHtcbiAgICAgICAgICBjb250ZXh0LmhpZGUoKTtcbiAgICAgICAgfVxuICAgICAgfSwgY29udGV4dC5jb25maWcuZGVsYXkuaGlkZSk7XG4gICAgfTtcblxuICAgIF9wcm90by5faXNXaXRoQWN0aXZlVHJpZ2dlciA9IGZ1bmN0aW9uIF9pc1dpdGhBY3RpdmVUcmlnZ2VyKCkge1xuICAgICAgZm9yICh2YXIgdHJpZ2dlciBpbiB0aGlzLl9hY3RpdmVUcmlnZ2VyKSB7XG4gICAgICAgIGlmICh0aGlzLl9hY3RpdmVUcmlnZ2VyW3RyaWdnZXJdKSB7XG4gICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH07XG5cbiAgICBfcHJvdG8uX2dldENvbmZpZyA9IGZ1bmN0aW9uIF9nZXRDb25maWcoY29uZmlnKSB7XG4gICAgICB2YXIgZGF0YUF0dHJpYnV0ZXMgPSAkKHRoaXMuZWxlbWVudCkuZGF0YSgpO1xuICAgICAgT2JqZWN0LmtleXMoZGF0YUF0dHJpYnV0ZXMpLmZvckVhY2goZnVuY3Rpb24gKGRhdGFBdHRyKSB7XG4gICAgICAgIGlmIChESVNBTExPV0VEX0FUVFJJQlVURVMuaW5kZXhPZihkYXRhQXR0cikgIT09IC0xKSB7XG4gICAgICAgICAgZGVsZXRlIGRhdGFBdHRyaWJ1dGVzW2RhdGFBdHRyXTtcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgICBjb25maWcgPSBfb2JqZWN0U3ByZWFkMihfb2JqZWN0U3ByZWFkMihfb2JqZWN0U3ByZWFkMih7fSwgdGhpcy5jb25zdHJ1Y3Rvci5EZWZhdWx0KSwgZGF0YUF0dHJpYnV0ZXMpLCB0eXBlb2YgY29uZmlnID09PSAnb2JqZWN0JyAmJiBjb25maWcgPyBjb25maWcgOiB7fSk7XG5cbiAgICAgIGlmICh0eXBlb2YgY29uZmlnLmRlbGF5ID09PSAnbnVtYmVyJykge1xuICAgICAgICBjb25maWcuZGVsYXkgPSB7XG4gICAgICAgICAgc2hvdzogY29uZmlnLmRlbGF5LFxuICAgICAgICAgIGhpZGU6IGNvbmZpZy5kZWxheVxuICAgICAgICB9O1xuICAgICAgfVxuXG4gICAgICBpZiAodHlwZW9mIGNvbmZpZy50aXRsZSA9PT0gJ251bWJlcicpIHtcbiAgICAgICAgY29uZmlnLnRpdGxlID0gY29uZmlnLnRpdGxlLnRvU3RyaW5nKCk7XG4gICAgICB9XG5cbiAgICAgIGlmICh0eXBlb2YgY29uZmlnLmNvbnRlbnQgPT09ICdudW1iZXInKSB7XG4gICAgICAgIGNvbmZpZy5jb250ZW50ID0gY29uZmlnLmNvbnRlbnQudG9TdHJpbmcoKTtcbiAgICAgIH1cblxuICAgICAgVXRpbC50eXBlQ2hlY2tDb25maWcoTkFNRSQ2LCBjb25maWcsIHRoaXMuY29uc3RydWN0b3IuRGVmYXVsdFR5cGUpO1xuXG4gICAgICBpZiAoY29uZmlnLnNhbml0aXplKSB7XG4gICAgICAgIGNvbmZpZy50ZW1wbGF0ZSA9IHNhbml0aXplSHRtbChjb25maWcudGVtcGxhdGUsIGNvbmZpZy53aGl0ZUxpc3QsIGNvbmZpZy5zYW5pdGl6ZUZuKTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIGNvbmZpZztcbiAgICB9O1xuXG4gICAgX3Byb3RvLl9nZXREZWxlZ2F0ZUNvbmZpZyA9IGZ1bmN0aW9uIF9nZXREZWxlZ2F0ZUNvbmZpZygpIHtcbiAgICAgIHZhciBjb25maWcgPSB7fTtcblxuICAgICAgaWYgKHRoaXMuY29uZmlnKSB7XG4gICAgICAgIGZvciAodmFyIGtleSBpbiB0aGlzLmNvbmZpZykge1xuICAgICAgICAgIGlmICh0aGlzLmNvbnN0cnVjdG9yLkRlZmF1bHRba2V5XSAhPT0gdGhpcy5jb25maWdba2V5XSkge1xuICAgICAgICAgICAgY29uZmlnW2tleV0gPSB0aGlzLmNvbmZpZ1trZXldO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICByZXR1cm4gY29uZmlnO1xuICAgIH07XG5cbiAgICBfcHJvdG8uX2NsZWFuVGlwQ2xhc3MgPSBmdW5jdGlvbiBfY2xlYW5UaXBDbGFzcygpIHtcbiAgICAgIHZhciAkdGlwID0gJCh0aGlzLmdldFRpcEVsZW1lbnQoKSk7XG4gICAgICB2YXIgdGFiQ2xhc3MgPSAkdGlwLmF0dHIoJ2NsYXNzJykubWF0Y2goQlNDTFNfUFJFRklYX1JFR0VYKTtcblxuICAgICAgaWYgKHRhYkNsYXNzICE9PSBudWxsICYmIHRhYkNsYXNzLmxlbmd0aCkge1xuICAgICAgICAkdGlwLnJlbW92ZUNsYXNzKHRhYkNsYXNzLmpvaW4oJycpKTtcbiAgICAgIH1cbiAgICB9O1xuXG4gICAgX3Byb3RvLl9oYW5kbGVQb3BwZXJQbGFjZW1lbnRDaGFuZ2UgPSBmdW5jdGlvbiBfaGFuZGxlUG9wcGVyUGxhY2VtZW50Q2hhbmdlKHBvcHBlckRhdGEpIHtcbiAgICAgIHRoaXMudGlwID0gcG9wcGVyRGF0YS5pbnN0YW5jZS5wb3BwZXI7XG5cbiAgICAgIHRoaXMuX2NsZWFuVGlwQ2xhc3MoKTtcblxuICAgICAgdGhpcy5hZGRBdHRhY2htZW50Q2xhc3ModGhpcy5fZ2V0QXR0YWNobWVudChwb3BwZXJEYXRhLnBsYWNlbWVudCkpO1xuICAgIH07XG5cbiAgICBfcHJvdG8uX2ZpeFRyYW5zaXRpb24gPSBmdW5jdGlvbiBfZml4VHJhbnNpdGlvbigpIHtcbiAgICAgIHZhciB0aXAgPSB0aGlzLmdldFRpcEVsZW1lbnQoKTtcbiAgICAgIHZhciBpbml0Q29uZmlnQW5pbWF0aW9uID0gdGhpcy5jb25maWcuYW5pbWF0aW9uO1xuXG4gICAgICBpZiAodGlwLmdldEF0dHJpYnV0ZSgneC1wbGFjZW1lbnQnKSAhPT0gbnVsbCkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG5cbiAgICAgICQodGlwKS5yZW1vdmVDbGFzcyhDTEFTU19OQU1FX0ZBREUkMik7XG4gICAgICB0aGlzLmNvbmZpZy5hbmltYXRpb24gPSBmYWxzZTtcbiAgICAgIHRoaXMuaGlkZSgpO1xuICAgICAgdGhpcy5zaG93KCk7XG4gICAgICB0aGlzLmNvbmZpZy5hbmltYXRpb24gPSBpbml0Q29uZmlnQW5pbWF0aW9uO1xuICAgIH0gLy8gU3RhdGljXG4gICAgO1xuXG4gICAgVG9vbHRpcC5falF1ZXJ5SW50ZXJmYWNlID0gZnVuY3Rpb24gX2pRdWVyeUludGVyZmFjZShjb25maWcpIHtcbiAgICAgIHJldHVybiB0aGlzLmVhY2goZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgZGF0YSA9ICQodGhpcykuZGF0YShEQVRBX0tFWSQ2KTtcblxuICAgICAgICB2YXIgX2NvbmZpZyA9IHR5cGVvZiBjb25maWcgPT09ICdvYmplY3QnICYmIGNvbmZpZztcblxuICAgICAgICBpZiAoIWRhdGEgJiYgL2Rpc3Bvc2V8aGlkZS8udGVzdChjb25maWcpKSB7XG4gICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKCFkYXRhKSB7XG4gICAgICAgICAgZGF0YSA9IG5ldyBUb29sdGlwKHRoaXMsIF9jb25maWcpO1xuICAgICAgICAgICQodGhpcykuZGF0YShEQVRBX0tFWSQ2LCBkYXRhKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmICh0eXBlb2YgY29uZmlnID09PSAnc3RyaW5nJykge1xuICAgICAgICAgIGlmICh0eXBlb2YgZGF0YVtjb25maWddID09PSAndW5kZWZpbmVkJykge1xuICAgICAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcihcIk5vIG1ldGhvZCBuYW1lZCBcXFwiXCIgKyBjb25maWcgKyBcIlxcXCJcIik7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgZGF0YVtjb25maWddKCk7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgIH07XG5cbiAgICBfY3JlYXRlQ2xhc3MoVG9vbHRpcCwgbnVsbCwgW3tcbiAgICAgIGtleTogXCJWRVJTSU9OXCIsXG4gICAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICAgICAgcmV0dXJuIFZFUlNJT04kNjtcbiAgICAgIH1cbiAgICB9LCB7XG4gICAgICBrZXk6IFwiRGVmYXVsdFwiLFxuICAgICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgICAgIHJldHVybiBEZWZhdWx0JDQ7XG4gICAgICB9XG4gICAgfSwge1xuICAgICAga2V5OiBcIk5BTUVcIixcbiAgICAgIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgICAgICByZXR1cm4gTkFNRSQ2O1xuICAgICAgfVxuICAgIH0sIHtcbiAgICAgIGtleTogXCJEQVRBX0tFWVwiLFxuICAgICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgICAgIHJldHVybiBEQVRBX0tFWSQ2O1xuICAgICAgfVxuICAgIH0sIHtcbiAgICAgIGtleTogXCJFdmVudFwiLFxuICAgICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgICAgIHJldHVybiBFdmVudDtcbiAgICAgIH1cbiAgICB9LCB7XG4gICAgICBrZXk6IFwiRVZFTlRfS0VZXCIsXG4gICAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICAgICAgcmV0dXJuIEVWRU5UX0tFWSQ2O1xuICAgICAgfVxuICAgIH0sIHtcbiAgICAgIGtleTogXCJEZWZhdWx0VHlwZVwiLFxuICAgICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgICAgIHJldHVybiBEZWZhdWx0VHlwZSQ0O1xuICAgICAgfVxuICAgIH1dKTtcblxuICAgIHJldHVybiBUb29sdGlwO1xuICB9KCk7XG4gIC8qKlxuICAgKiAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAgICogalF1ZXJ5XG4gICAqIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICAgKi9cblxuXG4gICQuZm5bTkFNRSQ2XSA9IFRvb2x0aXAuX2pRdWVyeUludGVyZmFjZTtcbiAgJC5mbltOQU1FJDZdLkNvbnN0cnVjdG9yID0gVG9vbHRpcDtcblxuICAkLmZuW05BTUUkNl0ubm9Db25mbGljdCA9IGZ1bmN0aW9uICgpIHtcbiAgICAkLmZuW05BTUUkNl0gPSBKUVVFUllfTk9fQ09ORkxJQ1QkNjtcbiAgICByZXR1cm4gVG9vbHRpcC5falF1ZXJ5SW50ZXJmYWNlO1xuICB9O1xuXG4gIC8qKlxuICAgKiAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAgICogQ29uc3RhbnRzXG4gICAqIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICAgKi9cblxuICB2YXIgTkFNRSQ3ID0gJ3BvcG92ZXInO1xuICB2YXIgVkVSU0lPTiQ3ID0gJzQuNS4wJztcbiAgdmFyIERBVEFfS0VZJDcgPSAnYnMucG9wb3Zlcic7XG4gIHZhciBFVkVOVF9LRVkkNyA9IFwiLlwiICsgREFUQV9LRVkkNztcbiAgdmFyIEpRVUVSWV9OT19DT05GTElDVCQ3ID0gJC5mbltOQU1FJDddO1xuICB2YXIgQ0xBU1NfUFJFRklYJDEgPSAnYnMtcG9wb3Zlcic7XG4gIHZhciBCU0NMU19QUkVGSVhfUkVHRVgkMSA9IG5ldyBSZWdFeHAoXCIoXnxcXFxccylcIiArIENMQVNTX1BSRUZJWCQxICsgXCJcXFxcUytcIiwgJ2cnKTtcblxuICB2YXIgRGVmYXVsdCQ1ID0gX29iamVjdFNwcmVhZDIoX29iamVjdFNwcmVhZDIoe30sIFRvb2x0aXAuRGVmYXVsdCksIHt9LCB7XG4gICAgcGxhY2VtZW50OiAncmlnaHQnLFxuICAgIHRyaWdnZXI6ICdjbGljaycsXG4gICAgY29udGVudDogJycsXG4gICAgdGVtcGxhdGU6ICc8ZGl2IGNsYXNzPVwicG9wb3ZlclwiIHJvbGU9XCJ0b29sdGlwXCI+JyArICc8ZGl2IGNsYXNzPVwiYXJyb3dcIj48L2Rpdj4nICsgJzxoMyBjbGFzcz1cInBvcG92ZXItaGVhZGVyXCI+PC9oMz4nICsgJzxkaXYgY2xhc3M9XCJwb3BvdmVyLWJvZHlcIj48L2Rpdj48L2Rpdj4nXG4gIH0pO1xuXG4gIHZhciBEZWZhdWx0VHlwZSQ1ID0gX29iamVjdFNwcmVhZDIoX29iamVjdFNwcmVhZDIoe30sIFRvb2x0aXAuRGVmYXVsdFR5cGUpLCB7fSwge1xuICAgIGNvbnRlbnQ6ICcoc3RyaW5nfGVsZW1lbnR8ZnVuY3Rpb24pJ1xuICB9KTtcblxuICB2YXIgQ0xBU1NfTkFNRV9GQURFJDMgPSAnZmFkZSc7XG4gIHZhciBDTEFTU19OQU1FX1NIT1ckNSA9ICdzaG93JztcbiAgdmFyIFNFTEVDVE9SX1RJVExFID0gJy5wb3BvdmVyLWhlYWRlcic7XG4gIHZhciBTRUxFQ1RPUl9DT05URU5UID0gJy5wb3BvdmVyLWJvZHknO1xuICB2YXIgRXZlbnQkMSA9IHtcbiAgICBISURFOiBcImhpZGVcIiArIEVWRU5UX0tFWSQ3LFxuICAgIEhJRERFTjogXCJoaWRkZW5cIiArIEVWRU5UX0tFWSQ3LFxuICAgIFNIT1c6IFwic2hvd1wiICsgRVZFTlRfS0VZJDcsXG4gICAgU0hPV046IFwic2hvd25cIiArIEVWRU5UX0tFWSQ3LFxuICAgIElOU0VSVEVEOiBcImluc2VydGVkXCIgKyBFVkVOVF9LRVkkNyxcbiAgICBDTElDSzogXCJjbGlja1wiICsgRVZFTlRfS0VZJDcsXG4gICAgRk9DVVNJTjogXCJmb2N1c2luXCIgKyBFVkVOVF9LRVkkNyxcbiAgICBGT0NVU09VVDogXCJmb2N1c291dFwiICsgRVZFTlRfS0VZJDcsXG4gICAgTU9VU0VFTlRFUjogXCJtb3VzZWVudGVyXCIgKyBFVkVOVF9LRVkkNyxcbiAgICBNT1VTRUxFQVZFOiBcIm1vdXNlbGVhdmVcIiArIEVWRU5UX0tFWSQ3XG4gIH07XG4gIC8qKlxuICAgKiAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAgICogQ2xhc3MgRGVmaW5pdGlvblxuICAgKiAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAgICovXG5cbiAgdmFyIFBvcG92ZXIgPSAvKiNfX1BVUkVfXyovZnVuY3Rpb24gKF9Ub29sdGlwKSB7XG4gICAgX2luaGVyaXRzTG9vc2UoUG9wb3ZlciwgX1Rvb2x0aXApO1xuXG4gICAgZnVuY3Rpb24gUG9wb3ZlcigpIHtcbiAgICAgIHJldHVybiBfVG9vbHRpcC5hcHBseSh0aGlzLCBhcmd1bWVudHMpIHx8IHRoaXM7XG4gICAgfVxuXG4gICAgdmFyIF9wcm90byA9IFBvcG92ZXIucHJvdG90eXBlO1xuXG4gICAgLy8gT3ZlcnJpZGVzXG4gICAgX3Byb3RvLmlzV2l0aENvbnRlbnQgPSBmdW5jdGlvbiBpc1dpdGhDb250ZW50KCkge1xuICAgICAgcmV0dXJuIHRoaXMuZ2V0VGl0bGUoKSB8fCB0aGlzLl9nZXRDb250ZW50KCk7XG4gICAgfTtcblxuICAgIF9wcm90by5hZGRBdHRhY2htZW50Q2xhc3MgPSBmdW5jdGlvbiBhZGRBdHRhY2htZW50Q2xhc3MoYXR0YWNobWVudCkge1xuICAgICAgJCh0aGlzLmdldFRpcEVsZW1lbnQoKSkuYWRkQ2xhc3MoQ0xBU1NfUFJFRklYJDEgKyBcIi1cIiArIGF0dGFjaG1lbnQpO1xuICAgIH07XG5cbiAgICBfcHJvdG8uZ2V0VGlwRWxlbWVudCA9IGZ1bmN0aW9uIGdldFRpcEVsZW1lbnQoKSB7XG4gICAgICB0aGlzLnRpcCA9IHRoaXMudGlwIHx8ICQodGhpcy5jb25maWcudGVtcGxhdGUpWzBdO1xuICAgICAgcmV0dXJuIHRoaXMudGlwO1xuICAgIH07XG5cbiAgICBfcHJvdG8uc2V0Q29udGVudCA9IGZ1bmN0aW9uIHNldENvbnRlbnQoKSB7XG4gICAgICB2YXIgJHRpcCA9ICQodGhpcy5nZXRUaXBFbGVtZW50KCkpOyAvLyBXZSB1c2UgYXBwZW5kIGZvciBodG1sIG9iamVjdHMgdG8gbWFpbnRhaW4ganMgZXZlbnRzXG5cbiAgICAgIHRoaXMuc2V0RWxlbWVudENvbnRlbnQoJHRpcC5maW5kKFNFTEVDVE9SX1RJVExFKSwgdGhpcy5nZXRUaXRsZSgpKTtcblxuICAgICAgdmFyIGNvbnRlbnQgPSB0aGlzLl9nZXRDb250ZW50KCk7XG5cbiAgICAgIGlmICh0eXBlb2YgY29udGVudCA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICBjb250ZW50ID0gY29udGVudC5jYWxsKHRoaXMuZWxlbWVudCk7XG4gICAgICB9XG5cbiAgICAgIHRoaXMuc2V0RWxlbWVudENvbnRlbnQoJHRpcC5maW5kKFNFTEVDVE9SX0NPTlRFTlQpLCBjb250ZW50KTtcbiAgICAgICR0aXAucmVtb3ZlQ2xhc3MoQ0xBU1NfTkFNRV9GQURFJDMgKyBcIiBcIiArIENMQVNTX05BTUVfU0hPVyQ1KTtcbiAgICB9IC8vIFByaXZhdGVcbiAgICA7XG5cbiAgICBfcHJvdG8uX2dldENvbnRlbnQgPSBmdW5jdGlvbiBfZ2V0Q29udGVudCgpIHtcbiAgICAgIHJldHVybiB0aGlzLmVsZW1lbnQuZ2V0QXR0cmlidXRlKCdkYXRhLWNvbnRlbnQnKSB8fCB0aGlzLmNvbmZpZy5jb250ZW50O1xuICAgIH07XG5cbiAgICBfcHJvdG8uX2NsZWFuVGlwQ2xhc3MgPSBmdW5jdGlvbiBfY2xlYW5UaXBDbGFzcygpIHtcbiAgICAgIHZhciAkdGlwID0gJCh0aGlzLmdldFRpcEVsZW1lbnQoKSk7XG4gICAgICB2YXIgdGFiQ2xhc3MgPSAkdGlwLmF0dHIoJ2NsYXNzJykubWF0Y2goQlNDTFNfUFJFRklYX1JFR0VYJDEpO1xuXG4gICAgICBpZiAodGFiQ2xhc3MgIT09IG51bGwgJiYgdGFiQ2xhc3MubGVuZ3RoID4gMCkge1xuICAgICAgICAkdGlwLnJlbW92ZUNsYXNzKHRhYkNsYXNzLmpvaW4oJycpKTtcbiAgICAgIH1cbiAgICB9IC8vIFN0YXRpY1xuICAgIDtcblxuICAgIFBvcG92ZXIuX2pRdWVyeUludGVyZmFjZSA9IGZ1bmN0aW9uIF9qUXVlcnlJbnRlcmZhY2UoY29uZmlnKSB7XG4gICAgICByZXR1cm4gdGhpcy5lYWNoKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIGRhdGEgPSAkKHRoaXMpLmRhdGEoREFUQV9LRVkkNyk7XG5cbiAgICAgICAgdmFyIF9jb25maWcgPSB0eXBlb2YgY29uZmlnID09PSAnb2JqZWN0JyA/IGNvbmZpZyA6IG51bGw7XG5cbiAgICAgICAgaWYgKCFkYXRhICYmIC9kaXNwb3NlfGhpZGUvLnRlc3QoY29uZmlnKSkge1xuICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmICghZGF0YSkge1xuICAgICAgICAgIGRhdGEgPSBuZXcgUG9wb3Zlcih0aGlzLCBfY29uZmlnKTtcbiAgICAgICAgICAkKHRoaXMpLmRhdGEoREFUQV9LRVkkNywgZGF0YSk7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAodHlwZW9mIGNvbmZpZyA9PT0gJ3N0cmluZycpIHtcbiAgICAgICAgICBpZiAodHlwZW9mIGRhdGFbY29uZmlnXSA9PT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoXCJObyBtZXRob2QgbmFtZWQgXFxcIlwiICsgY29uZmlnICsgXCJcXFwiXCIpO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIGRhdGFbY29uZmlnXSgpO1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgICB9O1xuXG4gICAgX2NyZWF0ZUNsYXNzKFBvcG92ZXIsIG51bGwsIFt7XG4gICAgICBrZXk6IFwiVkVSU0lPTlwiLFxuICAgICAgLy8gR2V0dGVyc1xuICAgICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgICAgIHJldHVybiBWRVJTSU9OJDc7XG4gICAgICB9XG4gICAgfSwge1xuICAgICAga2V5OiBcIkRlZmF1bHRcIixcbiAgICAgIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgICAgICByZXR1cm4gRGVmYXVsdCQ1O1xuICAgICAgfVxuICAgIH0sIHtcbiAgICAgIGtleTogXCJOQU1FXCIsXG4gICAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICAgICAgcmV0dXJuIE5BTUUkNztcbiAgICAgIH1cbiAgICB9LCB7XG4gICAgICBrZXk6IFwiREFUQV9LRVlcIixcbiAgICAgIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgICAgICByZXR1cm4gREFUQV9LRVkkNztcbiAgICAgIH1cbiAgICB9LCB7XG4gICAgICBrZXk6IFwiRXZlbnRcIixcbiAgICAgIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgICAgICByZXR1cm4gRXZlbnQkMTtcbiAgICAgIH1cbiAgICB9LCB7XG4gICAgICBrZXk6IFwiRVZFTlRfS0VZXCIsXG4gICAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICAgICAgcmV0dXJuIEVWRU5UX0tFWSQ3O1xuICAgICAgfVxuICAgIH0sIHtcbiAgICAgIGtleTogXCJEZWZhdWx0VHlwZVwiLFxuICAgICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgICAgIHJldHVybiBEZWZhdWx0VHlwZSQ1O1xuICAgICAgfVxuICAgIH1dKTtcblxuICAgIHJldHVybiBQb3BvdmVyO1xuICB9KFRvb2x0aXApO1xuICAvKipcbiAgICogLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gICAqIGpRdWVyeVxuICAgKiAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAgICovXG5cblxuICAkLmZuW05BTUUkN10gPSBQb3BvdmVyLl9qUXVlcnlJbnRlcmZhY2U7XG4gICQuZm5bTkFNRSQ3XS5Db25zdHJ1Y3RvciA9IFBvcG92ZXI7XG5cbiAgJC5mbltOQU1FJDddLm5vQ29uZmxpY3QgPSBmdW5jdGlvbiAoKSB7XG4gICAgJC5mbltOQU1FJDddID0gSlFVRVJZX05PX0NPTkZMSUNUJDc7XG4gICAgcmV0dXJuIFBvcG92ZXIuX2pRdWVyeUludGVyZmFjZTtcbiAgfTtcblxuICAvKipcbiAgICogLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gICAqIENvbnN0YW50c1xuICAgKiAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAgICovXG5cbiAgdmFyIE5BTUUkOCA9ICdzY3JvbGxzcHknO1xuICB2YXIgVkVSU0lPTiQ4ID0gJzQuNS4wJztcbiAgdmFyIERBVEFfS0VZJDggPSAnYnMuc2Nyb2xsc3B5JztcbiAgdmFyIEVWRU5UX0tFWSQ4ID0gXCIuXCIgKyBEQVRBX0tFWSQ4O1xuICB2YXIgREFUQV9BUElfS0VZJDYgPSAnLmRhdGEtYXBpJztcbiAgdmFyIEpRVUVSWV9OT19DT05GTElDVCQ4ID0gJC5mbltOQU1FJDhdO1xuICB2YXIgRGVmYXVsdCQ2ID0ge1xuICAgIG9mZnNldDogMTAsXG4gICAgbWV0aG9kOiAnYXV0bycsXG4gICAgdGFyZ2V0OiAnJ1xuICB9O1xuICB2YXIgRGVmYXVsdFR5cGUkNiA9IHtcbiAgICBvZmZzZXQ6ICdudW1iZXInLFxuICAgIG1ldGhvZDogJ3N0cmluZycsXG4gICAgdGFyZ2V0OiAnKHN0cmluZ3xlbGVtZW50KSdcbiAgfTtcbiAgdmFyIEVWRU5UX0FDVElWQVRFID0gXCJhY3RpdmF0ZVwiICsgRVZFTlRfS0VZJDg7XG4gIHZhciBFVkVOVF9TQ1JPTEwgPSBcInNjcm9sbFwiICsgRVZFTlRfS0VZJDg7XG4gIHZhciBFVkVOVF9MT0FEX0RBVEFfQVBJJDIgPSBcImxvYWRcIiArIEVWRU5UX0tFWSQ4ICsgREFUQV9BUElfS0VZJDY7XG4gIHZhciBDTEFTU19OQU1FX0RST1BET1dOX0lURU0gPSAnZHJvcGRvd24taXRlbSc7XG4gIHZhciBDTEFTU19OQU1FX0FDVElWRSQyID0gJ2FjdGl2ZSc7XG4gIHZhciBTRUxFQ1RPUl9EQVRBX1NQWSA9ICdbZGF0YS1zcHk9XCJzY3JvbGxcIl0nO1xuICB2YXIgU0VMRUNUT1JfTkFWX0xJU1RfR1JPVVAgPSAnLm5hdiwgLmxpc3QtZ3JvdXAnO1xuICB2YXIgU0VMRUNUT1JfTkFWX0xJTktTID0gJy5uYXYtbGluayc7XG4gIHZhciBTRUxFQ1RPUl9OQVZfSVRFTVMgPSAnLm5hdi1pdGVtJztcbiAgdmFyIFNFTEVDVE9SX0xJU1RfSVRFTVMgPSAnLmxpc3QtZ3JvdXAtaXRlbSc7XG4gIHZhciBTRUxFQ1RPUl9EUk9QRE9XTiA9ICcuZHJvcGRvd24nO1xuICB2YXIgU0VMRUNUT1JfRFJPUERPV05fSVRFTVMgPSAnLmRyb3Bkb3duLWl0ZW0nO1xuICB2YXIgU0VMRUNUT1JfRFJPUERPV05fVE9HR0xFID0gJy5kcm9wZG93bi10b2dnbGUnO1xuICB2YXIgTUVUSE9EX09GRlNFVCA9ICdvZmZzZXQnO1xuICB2YXIgTUVUSE9EX1BPU0lUSU9OID0gJ3Bvc2l0aW9uJztcbiAgLyoqXG4gICAqIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICAgKiBDbGFzcyBEZWZpbml0aW9uXG4gICAqIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICAgKi9cblxuICB2YXIgU2Nyb2xsU3B5ID0gLyojX19QVVJFX18qL2Z1bmN0aW9uICgpIHtcbiAgICBmdW5jdGlvbiBTY3JvbGxTcHkoZWxlbWVudCwgY29uZmlnKSB7XG4gICAgICB2YXIgX3RoaXMgPSB0aGlzO1xuXG4gICAgICB0aGlzLl9lbGVtZW50ID0gZWxlbWVudDtcbiAgICAgIHRoaXMuX3Njcm9sbEVsZW1lbnQgPSBlbGVtZW50LnRhZ05hbWUgPT09ICdCT0RZJyA/IHdpbmRvdyA6IGVsZW1lbnQ7XG4gICAgICB0aGlzLl9jb25maWcgPSB0aGlzLl9nZXRDb25maWcoY29uZmlnKTtcbiAgICAgIHRoaXMuX3NlbGVjdG9yID0gdGhpcy5fY29uZmlnLnRhcmdldCArIFwiIFwiICsgU0VMRUNUT1JfTkFWX0xJTktTICsgXCIsXCIgKyAodGhpcy5fY29uZmlnLnRhcmdldCArIFwiIFwiICsgU0VMRUNUT1JfTElTVF9JVEVNUyArIFwiLFwiKSArICh0aGlzLl9jb25maWcudGFyZ2V0ICsgXCIgXCIgKyBTRUxFQ1RPUl9EUk9QRE9XTl9JVEVNUyk7XG4gICAgICB0aGlzLl9vZmZzZXRzID0gW107XG4gICAgICB0aGlzLl90YXJnZXRzID0gW107XG4gICAgICB0aGlzLl9hY3RpdmVUYXJnZXQgPSBudWxsO1xuICAgICAgdGhpcy5fc2Nyb2xsSGVpZ2h0ID0gMDtcbiAgICAgICQodGhpcy5fc2Nyb2xsRWxlbWVudCkub24oRVZFTlRfU0NST0xMLCBmdW5jdGlvbiAoZXZlbnQpIHtcbiAgICAgICAgcmV0dXJuIF90aGlzLl9wcm9jZXNzKGV2ZW50KTtcbiAgICAgIH0pO1xuICAgICAgdGhpcy5yZWZyZXNoKCk7XG5cbiAgICAgIHRoaXMuX3Byb2Nlc3MoKTtcbiAgICB9IC8vIEdldHRlcnNcblxuXG4gICAgdmFyIF9wcm90byA9IFNjcm9sbFNweS5wcm90b3R5cGU7XG5cbiAgICAvLyBQdWJsaWNcbiAgICBfcHJvdG8ucmVmcmVzaCA9IGZ1bmN0aW9uIHJlZnJlc2goKSB7XG4gICAgICB2YXIgX3RoaXMyID0gdGhpcztcblxuICAgICAgdmFyIGF1dG9NZXRob2QgPSB0aGlzLl9zY3JvbGxFbGVtZW50ID09PSB0aGlzLl9zY3JvbGxFbGVtZW50LndpbmRvdyA/IE1FVEhPRF9PRkZTRVQgOiBNRVRIT0RfUE9TSVRJT047XG4gICAgICB2YXIgb2Zmc2V0TWV0aG9kID0gdGhpcy5fY29uZmlnLm1ldGhvZCA9PT0gJ2F1dG8nID8gYXV0b01ldGhvZCA6IHRoaXMuX2NvbmZpZy5tZXRob2Q7XG4gICAgICB2YXIgb2Zmc2V0QmFzZSA9IG9mZnNldE1ldGhvZCA9PT0gTUVUSE9EX1BPU0lUSU9OID8gdGhpcy5fZ2V0U2Nyb2xsVG9wKCkgOiAwO1xuICAgICAgdGhpcy5fb2Zmc2V0cyA9IFtdO1xuICAgICAgdGhpcy5fdGFyZ2V0cyA9IFtdO1xuICAgICAgdGhpcy5fc2Nyb2xsSGVpZ2h0ID0gdGhpcy5fZ2V0U2Nyb2xsSGVpZ2h0KCk7XG4gICAgICB2YXIgdGFyZ2V0cyA9IFtdLnNsaWNlLmNhbGwoZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCh0aGlzLl9zZWxlY3RvcikpO1xuICAgICAgdGFyZ2V0cy5tYXAoZnVuY3Rpb24gKGVsZW1lbnQpIHtcbiAgICAgICAgdmFyIHRhcmdldDtcbiAgICAgICAgdmFyIHRhcmdldFNlbGVjdG9yID0gVXRpbC5nZXRTZWxlY3RvckZyb21FbGVtZW50KGVsZW1lbnQpO1xuXG4gICAgICAgIGlmICh0YXJnZXRTZWxlY3Rvcikge1xuICAgICAgICAgIHRhcmdldCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IodGFyZ2V0U2VsZWN0b3IpO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHRhcmdldCkge1xuICAgICAgICAgIHZhciB0YXJnZXRCQ1IgPSB0YXJnZXQuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7XG5cbiAgICAgICAgICBpZiAodGFyZ2V0QkNSLndpZHRoIHx8IHRhcmdldEJDUi5oZWlnaHQpIHtcbiAgICAgICAgICAgIC8vIFRPRE8gKGZhdCk6IHJlbW92ZSBza2V0Y2ggcmVsaWFuY2Ugb24galF1ZXJ5IHBvc2l0aW9uL29mZnNldFxuICAgICAgICAgICAgcmV0dXJuIFskKHRhcmdldClbb2Zmc2V0TWV0aG9kXSgpLnRvcCArIG9mZnNldEJhc2UsIHRhcmdldFNlbGVjdG9yXTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgIH0pLmZpbHRlcihmdW5jdGlvbiAoaXRlbSkge1xuICAgICAgICByZXR1cm4gaXRlbTtcbiAgICAgIH0pLnNvcnQoZnVuY3Rpb24gKGEsIGIpIHtcbiAgICAgICAgcmV0dXJuIGFbMF0gLSBiWzBdO1xuICAgICAgfSkuZm9yRWFjaChmdW5jdGlvbiAoaXRlbSkge1xuICAgICAgICBfdGhpczIuX29mZnNldHMucHVzaChpdGVtWzBdKTtcblxuICAgICAgICBfdGhpczIuX3RhcmdldHMucHVzaChpdGVtWzFdKTtcbiAgICAgIH0pO1xuICAgIH07XG5cbiAgICBfcHJvdG8uZGlzcG9zZSA9IGZ1bmN0aW9uIGRpc3Bvc2UoKSB7XG4gICAgICAkLnJlbW92ZURhdGEodGhpcy5fZWxlbWVudCwgREFUQV9LRVkkOCk7XG4gICAgICAkKHRoaXMuX3Njcm9sbEVsZW1lbnQpLm9mZihFVkVOVF9LRVkkOCk7XG4gICAgICB0aGlzLl9lbGVtZW50ID0gbnVsbDtcbiAgICAgIHRoaXMuX3Njcm9sbEVsZW1lbnQgPSBudWxsO1xuICAgICAgdGhpcy5fY29uZmlnID0gbnVsbDtcbiAgICAgIHRoaXMuX3NlbGVjdG9yID0gbnVsbDtcbiAgICAgIHRoaXMuX29mZnNldHMgPSBudWxsO1xuICAgICAgdGhpcy5fdGFyZ2V0cyA9IG51bGw7XG4gICAgICB0aGlzLl9hY3RpdmVUYXJnZXQgPSBudWxsO1xuICAgICAgdGhpcy5fc2Nyb2xsSGVpZ2h0ID0gbnVsbDtcbiAgICB9IC8vIFByaXZhdGVcbiAgICA7XG5cbiAgICBfcHJvdG8uX2dldENvbmZpZyA9IGZ1bmN0aW9uIF9nZXRDb25maWcoY29uZmlnKSB7XG4gICAgICBjb25maWcgPSBfb2JqZWN0U3ByZWFkMihfb2JqZWN0U3ByZWFkMih7fSwgRGVmYXVsdCQ2KSwgdHlwZW9mIGNvbmZpZyA9PT0gJ29iamVjdCcgJiYgY29uZmlnID8gY29uZmlnIDoge30pO1xuXG4gICAgICBpZiAodHlwZW9mIGNvbmZpZy50YXJnZXQgIT09ICdzdHJpbmcnICYmIFV0aWwuaXNFbGVtZW50KGNvbmZpZy50YXJnZXQpKSB7XG4gICAgICAgIHZhciBpZCA9ICQoY29uZmlnLnRhcmdldCkuYXR0cignaWQnKTtcblxuICAgICAgICBpZiAoIWlkKSB7XG4gICAgICAgICAgaWQgPSBVdGlsLmdldFVJRChOQU1FJDgpO1xuICAgICAgICAgICQoY29uZmlnLnRhcmdldCkuYXR0cignaWQnLCBpZCk7XG4gICAgICAgIH1cblxuICAgICAgICBjb25maWcudGFyZ2V0ID0gXCIjXCIgKyBpZDtcbiAgICAgIH1cblxuICAgICAgVXRpbC50eXBlQ2hlY2tDb25maWcoTkFNRSQ4LCBjb25maWcsIERlZmF1bHRUeXBlJDYpO1xuICAgICAgcmV0dXJuIGNvbmZpZztcbiAgICB9O1xuXG4gICAgX3Byb3RvLl9nZXRTY3JvbGxUb3AgPSBmdW5jdGlvbiBfZ2V0U2Nyb2xsVG9wKCkge1xuICAgICAgcmV0dXJuIHRoaXMuX3Njcm9sbEVsZW1lbnQgPT09IHdpbmRvdyA/IHRoaXMuX3Njcm9sbEVsZW1lbnQucGFnZVlPZmZzZXQgOiB0aGlzLl9zY3JvbGxFbGVtZW50LnNjcm9sbFRvcDtcbiAgICB9O1xuXG4gICAgX3Byb3RvLl9nZXRTY3JvbGxIZWlnaHQgPSBmdW5jdGlvbiBfZ2V0U2Nyb2xsSGVpZ2h0KCkge1xuICAgICAgcmV0dXJuIHRoaXMuX3Njcm9sbEVsZW1lbnQuc2Nyb2xsSGVpZ2h0IHx8IE1hdGgubWF4KGRvY3VtZW50LmJvZHkuc2Nyb2xsSGVpZ2h0LCBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuc2Nyb2xsSGVpZ2h0KTtcbiAgICB9O1xuXG4gICAgX3Byb3RvLl9nZXRPZmZzZXRIZWlnaHQgPSBmdW5jdGlvbiBfZ2V0T2Zmc2V0SGVpZ2h0KCkge1xuICAgICAgcmV0dXJuIHRoaXMuX3Njcm9sbEVsZW1lbnQgPT09IHdpbmRvdyA/IHdpbmRvdy5pbm5lckhlaWdodCA6IHRoaXMuX3Njcm9sbEVsZW1lbnQuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCkuaGVpZ2h0O1xuICAgIH07XG5cbiAgICBfcHJvdG8uX3Byb2Nlc3MgPSBmdW5jdGlvbiBfcHJvY2VzcygpIHtcbiAgICAgIHZhciBzY3JvbGxUb3AgPSB0aGlzLl9nZXRTY3JvbGxUb3AoKSArIHRoaXMuX2NvbmZpZy5vZmZzZXQ7XG5cbiAgICAgIHZhciBzY3JvbGxIZWlnaHQgPSB0aGlzLl9nZXRTY3JvbGxIZWlnaHQoKTtcblxuICAgICAgdmFyIG1heFNjcm9sbCA9IHRoaXMuX2NvbmZpZy5vZmZzZXQgKyBzY3JvbGxIZWlnaHQgLSB0aGlzLl9nZXRPZmZzZXRIZWlnaHQoKTtcblxuICAgICAgaWYgKHRoaXMuX3Njcm9sbEhlaWdodCAhPT0gc2Nyb2xsSGVpZ2h0KSB7XG4gICAgICAgIHRoaXMucmVmcmVzaCgpO1xuICAgICAgfVxuXG4gICAgICBpZiAoc2Nyb2xsVG9wID49IG1heFNjcm9sbCkge1xuICAgICAgICB2YXIgdGFyZ2V0ID0gdGhpcy5fdGFyZ2V0c1t0aGlzLl90YXJnZXRzLmxlbmd0aCAtIDFdO1xuXG4gICAgICAgIGlmICh0aGlzLl9hY3RpdmVUYXJnZXQgIT09IHRhcmdldCkge1xuICAgICAgICAgIHRoaXMuX2FjdGl2YXRlKHRhcmdldCk7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm47XG4gICAgICB9XG5cbiAgICAgIGlmICh0aGlzLl9hY3RpdmVUYXJnZXQgJiYgc2Nyb2xsVG9wIDwgdGhpcy5fb2Zmc2V0c1swXSAmJiB0aGlzLl9vZmZzZXRzWzBdID4gMCkge1xuICAgICAgICB0aGlzLl9hY3RpdmVUYXJnZXQgPSBudWxsO1xuXG4gICAgICAgIHRoaXMuX2NsZWFyKCk7XG5cbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuXG4gICAgICBmb3IgKHZhciBpID0gdGhpcy5fb2Zmc2V0cy5sZW5ndGg7IGktLTspIHtcbiAgICAgICAgdmFyIGlzQWN0aXZlVGFyZ2V0ID0gdGhpcy5fYWN0aXZlVGFyZ2V0ICE9PSB0aGlzLl90YXJnZXRzW2ldICYmIHNjcm9sbFRvcCA+PSB0aGlzLl9vZmZzZXRzW2ldICYmICh0eXBlb2YgdGhpcy5fb2Zmc2V0c1tpICsgMV0gPT09ICd1bmRlZmluZWQnIHx8IHNjcm9sbFRvcCA8IHRoaXMuX29mZnNldHNbaSArIDFdKTtcblxuICAgICAgICBpZiAoaXNBY3RpdmVUYXJnZXQpIHtcbiAgICAgICAgICB0aGlzLl9hY3RpdmF0ZSh0aGlzLl90YXJnZXRzW2ldKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH07XG5cbiAgICBfcHJvdG8uX2FjdGl2YXRlID0gZnVuY3Rpb24gX2FjdGl2YXRlKHRhcmdldCkge1xuICAgICAgdGhpcy5fYWN0aXZlVGFyZ2V0ID0gdGFyZ2V0O1xuXG4gICAgICB0aGlzLl9jbGVhcigpO1xuXG4gICAgICB2YXIgcXVlcmllcyA9IHRoaXMuX3NlbGVjdG9yLnNwbGl0KCcsJykubWFwKGZ1bmN0aW9uIChzZWxlY3Rvcikge1xuICAgICAgICByZXR1cm4gc2VsZWN0b3IgKyBcIltkYXRhLXRhcmdldD1cXFwiXCIgKyB0YXJnZXQgKyBcIlxcXCJdLFwiICsgc2VsZWN0b3IgKyBcIltocmVmPVxcXCJcIiArIHRhcmdldCArIFwiXFxcIl1cIjtcbiAgICAgIH0pO1xuXG4gICAgICB2YXIgJGxpbmsgPSAkKFtdLnNsaWNlLmNhbGwoZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbChxdWVyaWVzLmpvaW4oJywnKSkpKTtcblxuICAgICAgaWYgKCRsaW5rLmhhc0NsYXNzKENMQVNTX05BTUVfRFJPUERPV05fSVRFTSkpIHtcbiAgICAgICAgJGxpbmsuY2xvc2VzdChTRUxFQ1RPUl9EUk9QRE9XTikuZmluZChTRUxFQ1RPUl9EUk9QRE9XTl9UT0dHTEUpLmFkZENsYXNzKENMQVNTX05BTUVfQUNUSVZFJDIpO1xuICAgICAgICAkbGluay5hZGRDbGFzcyhDTEFTU19OQU1FX0FDVElWRSQyKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIC8vIFNldCB0cmlnZ2VyZWQgbGluayBhcyBhY3RpdmVcbiAgICAgICAgJGxpbmsuYWRkQ2xhc3MoQ0xBU1NfTkFNRV9BQ1RJVkUkMik7IC8vIFNldCB0cmlnZ2VyZWQgbGlua3MgcGFyZW50cyBhcyBhY3RpdmVcbiAgICAgICAgLy8gV2l0aCBib3RoIDx1bD4gYW5kIDxuYXY+IG1hcmt1cCBhIHBhcmVudCBpcyB0aGUgcHJldmlvdXMgc2libGluZyBvZiBhbnkgbmF2IGFuY2VzdG9yXG5cbiAgICAgICAgJGxpbmsucGFyZW50cyhTRUxFQ1RPUl9OQVZfTElTVF9HUk9VUCkucHJldihTRUxFQ1RPUl9OQVZfTElOS1MgKyBcIiwgXCIgKyBTRUxFQ1RPUl9MSVNUX0lURU1TKS5hZGRDbGFzcyhDTEFTU19OQU1FX0FDVElWRSQyKTsgLy8gSGFuZGxlIHNwZWNpYWwgY2FzZSB3aGVuIC5uYXYtbGluayBpcyBpbnNpZGUgLm5hdi1pdGVtXG5cbiAgICAgICAgJGxpbmsucGFyZW50cyhTRUxFQ1RPUl9OQVZfTElTVF9HUk9VUCkucHJldihTRUxFQ1RPUl9OQVZfSVRFTVMpLmNoaWxkcmVuKFNFTEVDVE9SX05BVl9MSU5LUykuYWRkQ2xhc3MoQ0xBU1NfTkFNRV9BQ1RJVkUkMik7XG4gICAgICB9XG5cbiAgICAgICQodGhpcy5fc2Nyb2xsRWxlbWVudCkudHJpZ2dlcihFVkVOVF9BQ1RJVkFURSwge1xuICAgICAgICByZWxhdGVkVGFyZ2V0OiB0YXJnZXRcbiAgICAgIH0pO1xuICAgIH07XG5cbiAgICBfcHJvdG8uX2NsZWFyID0gZnVuY3Rpb24gX2NsZWFyKCkge1xuICAgICAgW10uc2xpY2UuY2FsbChkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKHRoaXMuX3NlbGVjdG9yKSkuZmlsdGVyKGZ1bmN0aW9uIChub2RlKSB7XG4gICAgICAgIHJldHVybiBub2RlLmNsYXNzTGlzdC5jb250YWlucyhDTEFTU19OQU1FX0FDVElWRSQyKTtcbiAgICAgIH0pLmZvckVhY2goZnVuY3Rpb24gKG5vZGUpIHtcbiAgICAgICAgcmV0dXJuIG5vZGUuY2xhc3NMaXN0LnJlbW92ZShDTEFTU19OQU1FX0FDVElWRSQyKTtcbiAgICAgIH0pO1xuICAgIH0gLy8gU3RhdGljXG4gICAgO1xuXG4gICAgU2Nyb2xsU3B5Ll9qUXVlcnlJbnRlcmZhY2UgPSBmdW5jdGlvbiBfalF1ZXJ5SW50ZXJmYWNlKGNvbmZpZykge1xuICAgICAgcmV0dXJuIHRoaXMuZWFjaChmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciBkYXRhID0gJCh0aGlzKS5kYXRhKERBVEFfS0VZJDgpO1xuXG4gICAgICAgIHZhciBfY29uZmlnID0gdHlwZW9mIGNvbmZpZyA9PT0gJ29iamVjdCcgJiYgY29uZmlnO1xuXG4gICAgICAgIGlmICghZGF0YSkge1xuICAgICAgICAgIGRhdGEgPSBuZXcgU2Nyb2xsU3B5KHRoaXMsIF9jb25maWcpO1xuICAgICAgICAgICQodGhpcykuZGF0YShEQVRBX0tFWSQ4LCBkYXRhKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmICh0eXBlb2YgY29uZmlnID09PSAnc3RyaW5nJykge1xuICAgICAgICAgIGlmICh0eXBlb2YgZGF0YVtjb25maWddID09PSAndW5kZWZpbmVkJykge1xuICAgICAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcihcIk5vIG1ldGhvZCBuYW1lZCBcXFwiXCIgKyBjb25maWcgKyBcIlxcXCJcIik7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgZGF0YVtjb25maWddKCk7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgIH07XG5cbiAgICBfY3JlYXRlQ2xhc3MoU2Nyb2xsU3B5LCBudWxsLCBbe1xuICAgICAga2V5OiBcIlZFUlNJT05cIixcbiAgICAgIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgICAgICByZXR1cm4gVkVSU0lPTiQ4O1xuICAgICAgfVxuICAgIH0sIHtcbiAgICAgIGtleTogXCJEZWZhdWx0XCIsXG4gICAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICAgICAgcmV0dXJuIERlZmF1bHQkNjtcbiAgICAgIH1cbiAgICB9XSk7XG5cbiAgICByZXR1cm4gU2Nyb2xsU3B5O1xuICB9KCk7XG4gIC8qKlxuICAgKiAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAgICogRGF0YSBBcGkgaW1wbGVtZW50YXRpb25cbiAgICogLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gICAqL1xuXG5cbiAgJCh3aW5kb3cpLm9uKEVWRU5UX0xPQURfREFUQV9BUEkkMiwgZnVuY3Rpb24gKCkge1xuICAgIHZhciBzY3JvbGxTcHlzID0gW10uc2xpY2UuY2FsbChkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKFNFTEVDVE9SX0RBVEFfU1BZKSk7XG4gICAgdmFyIHNjcm9sbFNweXNMZW5ndGggPSBzY3JvbGxTcHlzLmxlbmd0aDtcblxuICAgIGZvciAodmFyIGkgPSBzY3JvbGxTcHlzTGVuZ3RoOyBpLS07KSB7XG4gICAgICB2YXIgJHNweSA9ICQoc2Nyb2xsU3B5c1tpXSk7XG5cbiAgICAgIFNjcm9sbFNweS5falF1ZXJ5SW50ZXJmYWNlLmNhbGwoJHNweSwgJHNweS5kYXRhKCkpO1xuICAgIH1cbiAgfSk7XG4gIC8qKlxuICAgKiAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAgICogalF1ZXJ5XG4gICAqIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICAgKi9cblxuICAkLmZuW05BTUUkOF0gPSBTY3JvbGxTcHkuX2pRdWVyeUludGVyZmFjZTtcbiAgJC5mbltOQU1FJDhdLkNvbnN0cnVjdG9yID0gU2Nyb2xsU3B5O1xuXG4gICQuZm5bTkFNRSQ4XS5ub0NvbmZsaWN0ID0gZnVuY3Rpb24gKCkge1xuICAgICQuZm5bTkFNRSQ4XSA9IEpRVUVSWV9OT19DT05GTElDVCQ4O1xuICAgIHJldHVybiBTY3JvbGxTcHkuX2pRdWVyeUludGVyZmFjZTtcbiAgfTtcblxuICAvKipcbiAgICogLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gICAqIENvbnN0YW50c1xuICAgKiAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAgICovXG5cbiAgdmFyIE5BTUUkOSA9ICd0YWInO1xuICB2YXIgVkVSU0lPTiQ5ID0gJzQuNS4wJztcbiAgdmFyIERBVEFfS0VZJDkgPSAnYnMudGFiJztcbiAgdmFyIEVWRU5UX0tFWSQ5ID0gXCIuXCIgKyBEQVRBX0tFWSQ5O1xuICB2YXIgREFUQV9BUElfS0VZJDcgPSAnLmRhdGEtYXBpJztcbiAgdmFyIEpRVUVSWV9OT19DT05GTElDVCQ5ID0gJC5mbltOQU1FJDldO1xuICB2YXIgRVZFTlRfSElERSQzID0gXCJoaWRlXCIgKyBFVkVOVF9LRVkkOTtcbiAgdmFyIEVWRU5UX0hJRERFTiQzID0gXCJoaWRkZW5cIiArIEVWRU5UX0tFWSQ5O1xuICB2YXIgRVZFTlRfU0hPVyQzID0gXCJzaG93XCIgKyBFVkVOVF9LRVkkOTtcbiAgdmFyIEVWRU5UX1NIT1dOJDMgPSBcInNob3duXCIgKyBFVkVOVF9LRVkkOTtcbiAgdmFyIEVWRU5UX0NMSUNLX0RBVEFfQVBJJDYgPSBcImNsaWNrXCIgKyBFVkVOVF9LRVkkOSArIERBVEFfQVBJX0tFWSQ3O1xuICB2YXIgQ0xBU1NfTkFNRV9EUk9QRE9XTl9NRU5VID0gJ2Ryb3Bkb3duLW1lbnUnO1xuICB2YXIgQ0xBU1NfTkFNRV9BQ1RJVkUkMyA9ICdhY3RpdmUnO1xuICB2YXIgQ0xBU1NfTkFNRV9ESVNBQkxFRCQxID0gJ2Rpc2FibGVkJztcbiAgdmFyIENMQVNTX05BTUVfRkFERSQ0ID0gJ2ZhZGUnO1xuICB2YXIgQ0xBU1NfTkFNRV9TSE9XJDYgPSAnc2hvdyc7XG4gIHZhciBTRUxFQ1RPUl9EUk9QRE9XTiQxID0gJy5kcm9wZG93bic7XG4gIHZhciBTRUxFQ1RPUl9OQVZfTElTVF9HUk9VUCQxID0gJy5uYXYsIC5saXN0LWdyb3VwJztcbiAgdmFyIFNFTEVDVE9SX0FDVElWRSQyID0gJy5hY3RpdmUnO1xuICB2YXIgU0VMRUNUT1JfQUNUSVZFX1VMID0gJz4gbGkgPiAuYWN0aXZlJztcbiAgdmFyIFNFTEVDVE9SX0RBVEFfVE9HR0xFJDQgPSAnW2RhdGEtdG9nZ2xlPVwidGFiXCJdLCBbZGF0YS10b2dnbGU9XCJwaWxsXCJdLCBbZGF0YS10b2dnbGU9XCJsaXN0XCJdJztcbiAgdmFyIFNFTEVDVE9SX0RST1BET1dOX1RPR0dMRSQxID0gJy5kcm9wZG93bi10b2dnbGUnO1xuICB2YXIgU0VMRUNUT1JfRFJPUERPV05fQUNUSVZFX0NISUxEID0gJz4gLmRyb3Bkb3duLW1lbnUgLmFjdGl2ZSc7XG4gIC8qKlxuICAgKiAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAgICogQ2xhc3MgRGVmaW5pdGlvblxuICAgKiAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAgICovXG5cbiAgdmFyIFRhYiA9IC8qI19fUFVSRV9fKi9mdW5jdGlvbiAoKSB7XG4gICAgZnVuY3Rpb24gVGFiKGVsZW1lbnQpIHtcbiAgICAgIHRoaXMuX2VsZW1lbnQgPSBlbGVtZW50O1xuICAgIH0gLy8gR2V0dGVyc1xuXG5cbiAgICB2YXIgX3Byb3RvID0gVGFiLnByb3RvdHlwZTtcblxuICAgIC8vIFB1YmxpY1xuICAgIF9wcm90by5zaG93ID0gZnVuY3Rpb24gc2hvdygpIHtcbiAgICAgIHZhciBfdGhpcyA9IHRoaXM7XG5cbiAgICAgIGlmICh0aGlzLl9lbGVtZW50LnBhcmVudE5vZGUgJiYgdGhpcy5fZWxlbWVudC5wYXJlbnROb2RlLm5vZGVUeXBlID09PSBOb2RlLkVMRU1FTlRfTk9ERSAmJiAkKHRoaXMuX2VsZW1lbnQpLmhhc0NsYXNzKENMQVNTX05BTUVfQUNUSVZFJDMpIHx8ICQodGhpcy5fZWxlbWVudCkuaGFzQ2xhc3MoQ0xBU1NfTkFNRV9ESVNBQkxFRCQxKSkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG5cbiAgICAgIHZhciB0YXJnZXQ7XG4gICAgICB2YXIgcHJldmlvdXM7XG4gICAgICB2YXIgbGlzdEVsZW1lbnQgPSAkKHRoaXMuX2VsZW1lbnQpLmNsb3Nlc3QoU0VMRUNUT1JfTkFWX0xJU1RfR1JPVVAkMSlbMF07XG4gICAgICB2YXIgc2VsZWN0b3IgPSBVdGlsLmdldFNlbGVjdG9yRnJvbUVsZW1lbnQodGhpcy5fZWxlbWVudCk7XG5cbiAgICAgIGlmIChsaXN0RWxlbWVudCkge1xuICAgICAgICB2YXIgaXRlbVNlbGVjdG9yID0gbGlzdEVsZW1lbnQubm9kZU5hbWUgPT09ICdVTCcgfHwgbGlzdEVsZW1lbnQubm9kZU5hbWUgPT09ICdPTCcgPyBTRUxFQ1RPUl9BQ1RJVkVfVUwgOiBTRUxFQ1RPUl9BQ1RJVkUkMjtcbiAgICAgICAgcHJldmlvdXMgPSAkLm1ha2VBcnJheSgkKGxpc3RFbGVtZW50KS5maW5kKGl0ZW1TZWxlY3RvcikpO1xuICAgICAgICBwcmV2aW91cyA9IHByZXZpb3VzW3ByZXZpb3VzLmxlbmd0aCAtIDFdO1xuICAgICAgfVxuXG4gICAgICB2YXIgaGlkZUV2ZW50ID0gJC5FdmVudChFVkVOVF9ISURFJDMsIHtcbiAgICAgICAgcmVsYXRlZFRhcmdldDogdGhpcy5fZWxlbWVudFxuICAgICAgfSk7XG4gICAgICB2YXIgc2hvd0V2ZW50ID0gJC5FdmVudChFVkVOVF9TSE9XJDMsIHtcbiAgICAgICAgcmVsYXRlZFRhcmdldDogcHJldmlvdXNcbiAgICAgIH0pO1xuXG4gICAgICBpZiAocHJldmlvdXMpIHtcbiAgICAgICAgJChwcmV2aW91cykudHJpZ2dlcihoaWRlRXZlbnQpO1xuICAgICAgfVxuXG4gICAgICAkKHRoaXMuX2VsZW1lbnQpLnRyaWdnZXIoc2hvd0V2ZW50KTtcblxuICAgICAgaWYgKHNob3dFdmVudC5pc0RlZmF1bHRQcmV2ZW50ZWQoKSB8fCBoaWRlRXZlbnQuaXNEZWZhdWx0UHJldmVudGVkKCkpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuXG4gICAgICBpZiAoc2VsZWN0b3IpIHtcbiAgICAgICAgdGFyZ2V0ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihzZWxlY3Rvcik7XG4gICAgICB9XG5cbiAgICAgIHRoaXMuX2FjdGl2YXRlKHRoaXMuX2VsZW1lbnQsIGxpc3RFbGVtZW50KTtcblxuICAgICAgdmFyIGNvbXBsZXRlID0gZnVuY3Rpb24gY29tcGxldGUoKSB7XG4gICAgICAgIHZhciBoaWRkZW5FdmVudCA9ICQuRXZlbnQoRVZFTlRfSElEREVOJDMsIHtcbiAgICAgICAgICByZWxhdGVkVGFyZ2V0OiBfdGhpcy5fZWxlbWVudFxuICAgICAgICB9KTtcbiAgICAgICAgdmFyIHNob3duRXZlbnQgPSAkLkV2ZW50KEVWRU5UX1NIT1dOJDMsIHtcbiAgICAgICAgICByZWxhdGVkVGFyZ2V0OiBwcmV2aW91c1xuICAgICAgICB9KTtcbiAgICAgICAgJChwcmV2aW91cykudHJpZ2dlcihoaWRkZW5FdmVudCk7XG4gICAgICAgICQoX3RoaXMuX2VsZW1lbnQpLnRyaWdnZXIoc2hvd25FdmVudCk7XG4gICAgICB9O1xuXG4gICAgICBpZiAodGFyZ2V0KSB7XG4gICAgICAgIHRoaXMuX2FjdGl2YXRlKHRhcmdldCwgdGFyZ2V0LnBhcmVudE5vZGUsIGNvbXBsZXRlKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGNvbXBsZXRlKCk7XG4gICAgICB9XG4gICAgfTtcblxuICAgIF9wcm90by5kaXNwb3NlID0gZnVuY3Rpb24gZGlzcG9zZSgpIHtcbiAgICAgICQucmVtb3ZlRGF0YSh0aGlzLl9lbGVtZW50LCBEQVRBX0tFWSQ5KTtcbiAgICAgIHRoaXMuX2VsZW1lbnQgPSBudWxsO1xuICAgIH0gLy8gUHJpdmF0ZVxuICAgIDtcblxuICAgIF9wcm90by5fYWN0aXZhdGUgPSBmdW5jdGlvbiBfYWN0aXZhdGUoZWxlbWVudCwgY29udGFpbmVyLCBjYWxsYmFjaykge1xuICAgICAgdmFyIF90aGlzMiA9IHRoaXM7XG5cbiAgICAgIHZhciBhY3RpdmVFbGVtZW50cyA9IGNvbnRhaW5lciAmJiAoY29udGFpbmVyLm5vZGVOYW1lID09PSAnVUwnIHx8IGNvbnRhaW5lci5ub2RlTmFtZSA9PT0gJ09MJykgPyAkKGNvbnRhaW5lcikuZmluZChTRUxFQ1RPUl9BQ1RJVkVfVUwpIDogJChjb250YWluZXIpLmNoaWxkcmVuKFNFTEVDVE9SX0FDVElWRSQyKTtcbiAgICAgIHZhciBhY3RpdmUgPSBhY3RpdmVFbGVtZW50c1swXTtcbiAgICAgIHZhciBpc1RyYW5zaXRpb25pbmcgPSBjYWxsYmFjayAmJiBhY3RpdmUgJiYgJChhY3RpdmUpLmhhc0NsYXNzKENMQVNTX05BTUVfRkFERSQ0KTtcblxuICAgICAgdmFyIGNvbXBsZXRlID0gZnVuY3Rpb24gY29tcGxldGUoKSB7XG4gICAgICAgIHJldHVybiBfdGhpczIuX3RyYW5zaXRpb25Db21wbGV0ZShlbGVtZW50LCBhY3RpdmUsIGNhbGxiYWNrKTtcbiAgICAgIH07XG5cbiAgICAgIGlmIChhY3RpdmUgJiYgaXNUcmFuc2l0aW9uaW5nKSB7XG4gICAgICAgIHZhciB0cmFuc2l0aW9uRHVyYXRpb24gPSBVdGlsLmdldFRyYW5zaXRpb25EdXJhdGlvbkZyb21FbGVtZW50KGFjdGl2ZSk7XG4gICAgICAgICQoYWN0aXZlKS5yZW1vdmVDbGFzcyhDTEFTU19OQU1FX1NIT1ckNikub25lKFV0aWwuVFJBTlNJVElPTl9FTkQsIGNvbXBsZXRlKS5lbXVsYXRlVHJhbnNpdGlvbkVuZCh0cmFuc2l0aW9uRHVyYXRpb24pO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgY29tcGxldGUoKTtcbiAgICAgIH1cbiAgICB9O1xuXG4gICAgX3Byb3RvLl90cmFuc2l0aW9uQ29tcGxldGUgPSBmdW5jdGlvbiBfdHJhbnNpdGlvbkNvbXBsZXRlKGVsZW1lbnQsIGFjdGl2ZSwgY2FsbGJhY2spIHtcbiAgICAgIGlmIChhY3RpdmUpIHtcbiAgICAgICAgJChhY3RpdmUpLnJlbW92ZUNsYXNzKENMQVNTX05BTUVfQUNUSVZFJDMpO1xuICAgICAgICB2YXIgZHJvcGRvd25DaGlsZCA9ICQoYWN0aXZlLnBhcmVudE5vZGUpLmZpbmQoU0VMRUNUT1JfRFJPUERPV05fQUNUSVZFX0NISUxEKVswXTtcblxuICAgICAgICBpZiAoZHJvcGRvd25DaGlsZCkge1xuICAgICAgICAgICQoZHJvcGRvd25DaGlsZCkucmVtb3ZlQ2xhc3MoQ0xBU1NfTkFNRV9BQ1RJVkUkMyk7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoYWN0aXZlLmdldEF0dHJpYnV0ZSgncm9sZScpID09PSAndGFiJykge1xuICAgICAgICAgIGFjdGl2ZS5zZXRBdHRyaWJ1dGUoJ2FyaWEtc2VsZWN0ZWQnLCBmYWxzZSk7XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgJChlbGVtZW50KS5hZGRDbGFzcyhDTEFTU19OQU1FX0FDVElWRSQzKTtcblxuICAgICAgaWYgKGVsZW1lbnQuZ2V0QXR0cmlidXRlKCdyb2xlJykgPT09ICd0YWInKSB7XG4gICAgICAgIGVsZW1lbnQuc2V0QXR0cmlidXRlKCdhcmlhLXNlbGVjdGVkJywgdHJ1ZSk7XG4gICAgICB9XG5cbiAgICAgIFV0aWwucmVmbG93KGVsZW1lbnQpO1xuXG4gICAgICBpZiAoZWxlbWVudC5jbGFzc0xpc3QuY29udGFpbnMoQ0xBU1NfTkFNRV9GQURFJDQpKSB7XG4gICAgICAgIGVsZW1lbnQuY2xhc3NMaXN0LmFkZChDTEFTU19OQU1FX1NIT1ckNik7XG4gICAgICB9XG5cbiAgICAgIGlmIChlbGVtZW50LnBhcmVudE5vZGUgJiYgJChlbGVtZW50LnBhcmVudE5vZGUpLmhhc0NsYXNzKENMQVNTX05BTUVfRFJPUERPV05fTUVOVSkpIHtcbiAgICAgICAgdmFyIGRyb3Bkb3duRWxlbWVudCA9ICQoZWxlbWVudCkuY2xvc2VzdChTRUxFQ1RPUl9EUk9QRE9XTiQxKVswXTtcblxuICAgICAgICBpZiAoZHJvcGRvd25FbGVtZW50KSB7XG4gICAgICAgICAgdmFyIGRyb3Bkb3duVG9nZ2xlTGlzdCA9IFtdLnNsaWNlLmNhbGwoZHJvcGRvd25FbGVtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoU0VMRUNUT1JfRFJPUERPV05fVE9HR0xFJDEpKTtcbiAgICAgICAgICAkKGRyb3Bkb3duVG9nZ2xlTGlzdCkuYWRkQ2xhc3MoQ0xBU1NfTkFNRV9BQ1RJVkUkMyk7XG4gICAgICAgIH1cblxuICAgICAgICBlbGVtZW50LnNldEF0dHJpYnV0ZSgnYXJpYS1leHBhbmRlZCcsIHRydWUpO1xuICAgICAgfVxuXG4gICAgICBpZiAoY2FsbGJhY2spIHtcbiAgICAgICAgY2FsbGJhY2soKTtcbiAgICAgIH1cbiAgICB9IC8vIFN0YXRpY1xuICAgIDtcblxuICAgIFRhYi5falF1ZXJ5SW50ZXJmYWNlID0gZnVuY3Rpb24gX2pRdWVyeUludGVyZmFjZShjb25maWcpIHtcbiAgICAgIHJldHVybiB0aGlzLmVhY2goZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgJHRoaXMgPSAkKHRoaXMpO1xuICAgICAgICB2YXIgZGF0YSA9ICR0aGlzLmRhdGEoREFUQV9LRVkkOSk7XG5cbiAgICAgICAgaWYgKCFkYXRhKSB7XG4gICAgICAgICAgZGF0YSA9IG5ldyBUYWIodGhpcyk7XG4gICAgICAgICAgJHRoaXMuZGF0YShEQVRBX0tFWSQ5LCBkYXRhKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmICh0eXBlb2YgY29uZmlnID09PSAnc3RyaW5nJykge1xuICAgICAgICAgIGlmICh0eXBlb2YgZGF0YVtjb25maWddID09PSAndW5kZWZpbmVkJykge1xuICAgICAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcihcIk5vIG1ldGhvZCBuYW1lZCBcXFwiXCIgKyBjb25maWcgKyBcIlxcXCJcIik7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgZGF0YVtjb25maWddKCk7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgIH07XG5cbiAgICBfY3JlYXRlQ2xhc3MoVGFiLCBudWxsLCBbe1xuICAgICAga2V5OiBcIlZFUlNJT05cIixcbiAgICAgIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgICAgICByZXR1cm4gVkVSU0lPTiQ5O1xuICAgICAgfVxuICAgIH1dKTtcblxuICAgIHJldHVybiBUYWI7XG4gIH0oKTtcbiAgLyoqXG4gICAqIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICAgKiBEYXRhIEFwaSBpbXBsZW1lbnRhdGlvblxuICAgKiAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAgICovXG5cblxuICAkKGRvY3VtZW50KS5vbihFVkVOVF9DTElDS19EQVRBX0FQSSQ2LCBTRUxFQ1RPUl9EQVRBX1RPR0dMRSQ0LCBmdW5jdGlvbiAoZXZlbnQpIHtcbiAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuXG4gICAgVGFiLl9qUXVlcnlJbnRlcmZhY2UuY2FsbCgkKHRoaXMpLCAnc2hvdycpO1xuICB9KTtcbiAgLyoqXG4gICAqIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICAgKiBqUXVlcnlcbiAgICogLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gICAqL1xuXG4gICQuZm5bTkFNRSQ5XSA9IFRhYi5falF1ZXJ5SW50ZXJmYWNlO1xuICAkLmZuW05BTUUkOV0uQ29uc3RydWN0b3IgPSBUYWI7XG5cbiAgJC5mbltOQU1FJDldLm5vQ29uZmxpY3QgPSBmdW5jdGlvbiAoKSB7XG4gICAgJC5mbltOQU1FJDldID0gSlFVRVJZX05PX0NPTkZMSUNUJDk7XG4gICAgcmV0dXJuIFRhYi5falF1ZXJ5SW50ZXJmYWNlO1xuICB9O1xuXG4gIC8qKlxuICAgKiAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAgICogQ29uc3RhbnRzXG4gICAqIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICAgKi9cblxuICB2YXIgTkFNRSRhID0gJ3RvYXN0JztcbiAgdmFyIFZFUlNJT04kYSA9ICc0LjUuMCc7XG4gIHZhciBEQVRBX0tFWSRhID0gJ2JzLnRvYXN0JztcbiAgdmFyIEVWRU5UX0tFWSRhID0gXCIuXCIgKyBEQVRBX0tFWSRhO1xuICB2YXIgSlFVRVJZX05PX0NPTkZMSUNUJGEgPSAkLmZuW05BTUUkYV07XG4gIHZhciBFVkVOVF9DTElDS19ESVNNSVNTJDEgPSBcImNsaWNrLmRpc21pc3NcIiArIEVWRU5UX0tFWSRhO1xuICB2YXIgRVZFTlRfSElERSQ0ID0gXCJoaWRlXCIgKyBFVkVOVF9LRVkkYTtcbiAgdmFyIEVWRU5UX0hJRERFTiQ0ID0gXCJoaWRkZW5cIiArIEVWRU5UX0tFWSRhO1xuICB2YXIgRVZFTlRfU0hPVyQ0ID0gXCJzaG93XCIgKyBFVkVOVF9LRVkkYTtcbiAgdmFyIEVWRU5UX1NIT1dOJDQgPSBcInNob3duXCIgKyBFVkVOVF9LRVkkYTtcbiAgdmFyIENMQVNTX05BTUVfRkFERSQ1ID0gJ2ZhZGUnO1xuICB2YXIgQ0xBU1NfTkFNRV9ISURFID0gJ2hpZGUnO1xuICB2YXIgQ0xBU1NfTkFNRV9TSE9XJDcgPSAnc2hvdyc7XG4gIHZhciBDTEFTU19OQU1FX1NIT1dJTkcgPSAnc2hvd2luZyc7XG4gIHZhciBEZWZhdWx0VHlwZSQ3ID0ge1xuICAgIGFuaW1hdGlvbjogJ2Jvb2xlYW4nLFxuICAgIGF1dG9oaWRlOiAnYm9vbGVhbicsXG4gICAgZGVsYXk6ICdudW1iZXInXG4gIH07XG4gIHZhciBEZWZhdWx0JDcgPSB7XG4gICAgYW5pbWF0aW9uOiB0cnVlLFxuICAgIGF1dG9oaWRlOiB0cnVlLFxuICAgIGRlbGF5OiA1MDBcbiAgfTtcbiAgdmFyIFNFTEVDVE9SX0RBVEFfRElTTUlTUyQxID0gJ1tkYXRhLWRpc21pc3M9XCJ0b2FzdFwiXSc7XG4gIC8qKlxuICAgKiAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAgICogQ2xhc3MgRGVmaW5pdGlvblxuICAgKiAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAgICovXG5cbiAgdmFyIFRvYXN0ID0gLyojX19QVVJFX18qL2Z1bmN0aW9uICgpIHtcbiAgICBmdW5jdGlvbiBUb2FzdChlbGVtZW50LCBjb25maWcpIHtcbiAgICAgIHRoaXMuX2VsZW1lbnQgPSBlbGVtZW50O1xuICAgICAgdGhpcy5fY29uZmlnID0gdGhpcy5fZ2V0Q29uZmlnKGNvbmZpZyk7XG4gICAgICB0aGlzLl90aW1lb3V0ID0gbnVsbDtcblxuICAgICAgdGhpcy5fc2V0TGlzdGVuZXJzKCk7XG4gICAgfSAvLyBHZXR0ZXJzXG5cblxuICAgIHZhciBfcHJvdG8gPSBUb2FzdC5wcm90b3R5cGU7XG5cbiAgICAvLyBQdWJsaWNcbiAgICBfcHJvdG8uc2hvdyA9IGZ1bmN0aW9uIHNob3coKSB7XG4gICAgICB2YXIgX3RoaXMgPSB0aGlzO1xuXG4gICAgICB2YXIgc2hvd0V2ZW50ID0gJC5FdmVudChFVkVOVF9TSE9XJDQpO1xuICAgICAgJCh0aGlzLl9lbGVtZW50KS50cmlnZ2VyKHNob3dFdmVudCk7XG5cbiAgICAgIGlmIChzaG93RXZlbnQuaXNEZWZhdWx0UHJldmVudGVkKCkpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuXG4gICAgICBpZiAodGhpcy5fY29uZmlnLmFuaW1hdGlvbikge1xuICAgICAgICB0aGlzLl9lbGVtZW50LmNsYXNzTGlzdC5hZGQoQ0xBU1NfTkFNRV9GQURFJDUpO1xuICAgICAgfVxuXG4gICAgICB2YXIgY29tcGxldGUgPSBmdW5jdGlvbiBjb21wbGV0ZSgpIHtcbiAgICAgICAgX3RoaXMuX2VsZW1lbnQuY2xhc3NMaXN0LnJlbW92ZShDTEFTU19OQU1FX1NIT1dJTkcpO1xuXG4gICAgICAgIF90aGlzLl9lbGVtZW50LmNsYXNzTGlzdC5hZGQoQ0xBU1NfTkFNRV9TSE9XJDcpO1xuXG4gICAgICAgICQoX3RoaXMuX2VsZW1lbnQpLnRyaWdnZXIoRVZFTlRfU0hPV04kNCk7XG5cbiAgICAgICAgaWYgKF90aGlzLl9jb25maWcuYXV0b2hpZGUpIHtcbiAgICAgICAgICBfdGhpcy5fdGltZW91dCA9IHNldFRpbWVvdXQoZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgX3RoaXMuaGlkZSgpO1xuICAgICAgICAgIH0sIF90aGlzLl9jb25maWcuZGVsYXkpO1xuICAgICAgICB9XG4gICAgICB9O1xuXG4gICAgICB0aGlzLl9lbGVtZW50LmNsYXNzTGlzdC5yZW1vdmUoQ0xBU1NfTkFNRV9ISURFKTtcblxuICAgICAgVXRpbC5yZWZsb3codGhpcy5fZWxlbWVudCk7XG5cbiAgICAgIHRoaXMuX2VsZW1lbnQuY2xhc3NMaXN0LmFkZChDTEFTU19OQU1FX1NIT1dJTkcpO1xuXG4gICAgICBpZiAodGhpcy5fY29uZmlnLmFuaW1hdGlvbikge1xuICAgICAgICB2YXIgdHJhbnNpdGlvbkR1cmF0aW9uID0gVXRpbC5nZXRUcmFuc2l0aW9uRHVyYXRpb25Gcm9tRWxlbWVudCh0aGlzLl9lbGVtZW50KTtcbiAgICAgICAgJCh0aGlzLl9lbGVtZW50KS5vbmUoVXRpbC5UUkFOU0lUSU9OX0VORCwgY29tcGxldGUpLmVtdWxhdGVUcmFuc2l0aW9uRW5kKHRyYW5zaXRpb25EdXJhdGlvbik7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBjb21wbGV0ZSgpO1xuICAgICAgfVxuICAgIH07XG5cbiAgICBfcHJvdG8uaGlkZSA9IGZ1bmN0aW9uIGhpZGUoKSB7XG4gICAgICBpZiAoIXRoaXMuX2VsZW1lbnQuY2xhc3NMaXN0LmNvbnRhaW5zKENMQVNTX05BTUVfU0hPVyQ3KSkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG5cbiAgICAgIHZhciBoaWRlRXZlbnQgPSAkLkV2ZW50KEVWRU5UX0hJREUkNCk7XG4gICAgICAkKHRoaXMuX2VsZW1lbnQpLnRyaWdnZXIoaGlkZUV2ZW50KTtcblxuICAgICAgaWYgKGhpZGVFdmVudC5pc0RlZmF1bHRQcmV2ZW50ZWQoKSkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG5cbiAgICAgIHRoaXMuX2Nsb3NlKCk7XG4gICAgfTtcblxuICAgIF9wcm90by5kaXNwb3NlID0gZnVuY3Rpb24gZGlzcG9zZSgpIHtcbiAgICAgIGNsZWFyVGltZW91dCh0aGlzLl90aW1lb3V0KTtcbiAgICAgIHRoaXMuX3RpbWVvdXQgPSBudWxsO1xuXG4gICAgICBpZiAodGhpcy5fZWxlbWVudC5jbGFzc0xpc3QuY29udGFpbnMoQ0xBU1NfTkFNRV9TSE9XJDcpKSB7XG4gICAgICAgIHRoaXMuX2VsZW1lbnQuY2xhc3NMaXN0LnJlbW92ZShDTEFTU19OQU1FX1NIT1ckNyk7XG4gICAgICB9XG5cbiAgICAgICQodGhpcy5fZWxlbWVudCkub2ZmKEVWRU5UX0NMSUNLX0RJU01JU1MkMSk7XG4gICAgICAkLnJlbW92ZURhdGEodGhpcy5fZWxlbWVudCwgREFUQV9LRVkkYSk7XG4gICAgICB0aGlzLl9lbGVtZW50ID0gbnVsbDtcbiAgICAgIHRoaXMuX2NvbmZpZyA9IG51bGw7XG4gICAgfSAvLyBQcml2YXRlXG4gICAgO1xuXG4gICAgX3Byb3RvLl9nZXRDb25maWcgPSBmdW5jdGlvbiBfZ2V0Q29uZmlnKGNvbmZpZykge1xuICAgICAgY29uZmlnID0gX29iamVjdFNwcmVhZDIoX29iamVjdFNwcmVhZDIoX29iamVjdFNwcmVhZDIoe30sIERlZmF1bHQkNyksICQodGhpcy5fZWxlbWVudCkuZGF0YSgpKSwgdHlwZW9mIGNvbmZpZyA9PT0gJ29iamVjdCcgJiYgY29uZmlnID8gY29uZmlnIDoge30pO1xuICAgICAgVXRpbC50eXBlQ2hlY2tDb25maWcoTkFNRSRhLCBjb25maWcsIHRoaXMuY29uc3RydWN0b3IuRGVmYXVsdFR5cGUpO1xuICAgICAgcmV0dXJuIGNvbmZpZztcbiAgICB9O1xuXG4gICAgX3Byb3RvLl9zZXRMaXN0ZW5lcnMgPSBmdW5jdGlvbiBfc2V0TGlzdGVuZXJzKCkge1xuICAgICAgdmFyIF90aGlzMiA9IHRoaXM7XG5cbiAgICAgICQodGhpcy5fZWxlbWVudCkub24oRVZFTlRfQ0xJQ0tfRElTTUlTUyQxLCBTRUxFQ1RPUl9EQVRBX0RJU01JU1MkMSwgZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gX3RoaXMyLmhpZGUoKTtcbiAgICAgIH0pO1xuICAgIH07XG5cbiAgICBfcHJvdG8uX2Nsb3NlID0gZnVuY3Rpb24gX2Nsb3NlKCkge1xuICAgICAgdmFyIF90aGlzMyA9IHRoaXM7XG5cbiAgICAgIHZhciBjb21wbGV0ZSA9IGZ1bmN0aW9uIGNvbXBsZXRlKCkge1xuICAgICAgICBfdGhpczMuX2VsZW1lbnQuY2xhc3NMaXN0LmFkZChDTEFTU19OQU1FX0hJREUpO1xuXG4gICAgICAgICQoX3RoaXMzLl9lbGVtZW50KS50cmlnZ2VyKEVWRU5UX0hJRERFTiQ0KTtcbiAgICAgIH07XG5cbiAgICAgIHRoaXMuX2VsZW1lbnQuY2xhc3NMaXN0LnJlbW92ZShDTEFTU19OQU1FX1NIT1ckNyk7XG5cbiAgICAgIGlmICh0aGlzLl9jb25maWcuYW5pbWF0aW9uKSB7XG4gICAgICAgIHZhciB0cmFuc2l0aW9uRHVyYXRpb24gPSBVdGlsLmdldFRyYW5zaXRpb25EdXJhdGlvbkZyb21FbGVtZW50KHRoaXMuX2VsZW1lbnQpO1xuICAgICAgICAkKHRoaXMuX2VsZW1lbnQpLm9uZShVdGlsLlRSQU5TSVRJT05fRU5ELCBjb21wbGV0ZSkuZW11bGF0ZVRyYW5zaXRpb25FbmQodHJhbnNpdGlvbkR1cmF0aW9uKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGNvbXBsZXRlKCk7XG4gICAgICB9XG4gICAgfSAvLyBTdGF0aWNcbiAgICA7XG5cbiAgICBUb2FzdC5falF1ZXJ5SW50ZXJmYWNlID0gZnVuY3Rpb24gX2pRdWVyeUludGVyZmFjZShjb25maWcpIHtcbiAgICAgIHJldHVybiB0aGlzLmVhY2goZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgJGVsZW1lbnQgPSAkKHRoaXMpO1xuICAgICAgICB2YXIgZGF0YSA9ICRlbGVtZW50LmRhdGEoREFUQV9LRVkkYSk7XG5cbiAgICAgICAgdmFyIF9jb25maWcgPSB0eXBlb2YgY29uZmlnID09PSAnb2JqZWN0JyAmJiBjb25maWc7XG5cbiAgICAgICAgaWYgKCFkYXRhKSB7XG4gICAgICAgICAgZGF0YSA9IG5ldyBUb2FzdCh0aGlzLCBfY29uZmlnKTtcbiAgICAgICAgICAkZWxlbWVudC5kYXRhKERBVEFfS0VZJGEsIGRhdGEpO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHR5cGVvZiBjb25maWcgPT09ICdzdHJpbmcnKSB7XG4gICAgICAgICAgaWYgKHR5cGVvZiBkYXRhW2NvbmZpZ10gPT09ICd1bmRlZmluZWQnKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKFwiTm8gbWV0aG9kIG5hbWVkIFxcXCJcIiArIGNvbmZpZyArIFwiXFxcIlwiKTtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICBkYXRhW2NvbmZpZ10odGhpcyk7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgIH07XG5cbiAgICBfY3JlYXRlQ2xhc3MoVG9hc3QsIG51bGwsIFt7XG4gICAgICBrZXk6IFwiVkVSU0lPTlwiLFxuICAgICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgICAgIHJldHVybiBWRVJTSU9OJGE7XG4gICAgICB9XG4gICAgfSwge1xuICAgICAga2V5OiBcIkRlZmF1bHRUeXBlXCIsXG4gICAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICAgICAgcmV0dXJuIERlZmF1bHRUeXBlJDc7XG4gICAgICB9XG4gICAgfSwge1xuICAgICAga2V5OiBcIkRlZmF1bHRcIixcbiAgICAgIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgICAgICByZXR1cm4gRGVmYXVsdCQ3O1xuICAgICAgfVxuICAgIH1dKTtcblxuICAgIHJldHVybiBUb2FzdDtcbiAgfSgpO1xuICAvKipcbiAgICogLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gICAqIGpRdWVyeVxuICAgKiAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAgICovXG5cblxuICAkLmZuW05BTUUkYV0gPSBUb2FzdC5falF1ZXJ5SW50ZXJmYWNlO1xuICAkLmZuW05BTUUkYV0uQ29uc3RydWN0b3IgPSBUb2FzdDtcblxuICAkLmZuW05BTUUkYV0ubm9Db25mbGljdCA9IGZ1bmN0aW9uICgpIHtcbiAgICAkLmZuW05BTUUkYV0gPSBKUVVFUllfTk9fQ09ORkxJQ1QkYTtcbiAgICByZXR1cm4gVG9hc3QuX2pRdWVyeUludGVyZmFjZTtcbiAgfTtcblxuICBleHBvcnRzLkFsZXJ0ID0gQWxlcnQ7XG4gIGV4cG9ydHMuQnV0dG9uID0gQnV0dG9uO1xuICBleHBvcnRzLkNhcm91c2VsID0gQ2Fyb3VzZWw7XG4gIGV4cG9ydHMuQ29sbGFwc2UgPSBDb2xsYXBzZTtcbiAgZXhwb3J0cy5Ecm9wZG93biA9IERyb3Bkb3duO1xuICBleHBvcnRzLk1vZGFsID0gTW9kYWw7XG4gIGV4cG9ydHMuUG9wb3ZlciA9IFBvcG92ZXI7XG4gIGV4cG9ydHMuU2Nyb2xsc3B5ID0gU2Nyb2xsU3B5O1xuICBleHBvcnRzLlRhYiA9IFRhYjtcbiAgZXhwb3J0cy5Ub2FzdCA9IFRvYXN0O1xuICBleHBvcnRzLlRvb2x0aXAgPSBUb29sdGlwO1xuICBleHBvcnRzLlV0aWwgPSBVdGlsO1xuXG4gIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCAnX19lc01vZHVsZScsIHsgdmFsdWU6IHRydWUgfSk7XG5cbn0pKSk7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1ib290c3RyYXAuanMubWFwXG4iXSwibWFwcGluZ3MiOiJBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsV0FDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOyIsInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./node_modules/bootstrap/dist/js/bootstrap.js\n");

/***/ }),

/***/ "./node_modules/jquery/dist/jquery.js":
/*!********************************************!*\
  !*** ./node_modules/jquery/dist/jquery.js ***!
  \********************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

eval("var __WEBPACK_AMD_DEFINE_ARRAY__, __WEBPACK_AMD_DEFINE_RESULT__;/*!\n * jQuery JavaScript Library v3.5.1\n * https://jquery.com/\n *\n * Includes Sizzle.js\n * https://sizzlejs.com/\n *\n * Copyright JS Foundation and other contributors\n * Released under the MIT license\n * https://jquery.org/license\n *\n * Date: 2020-05-04T22:49Z\n */\n( function( global, factory ) {\n\n\t\"use strict\";\n\n\tif (  true && typeof module.exports === \"object\" ) {\n\n\t\t// For CommonJS and CommonJS-like environments where a proper `window`\n\t\t// is present, execute the factory and get jQuery.\n\t\t// For environments that do not have a `window` with a `document`\n\t\t// (such as Node.js), expose a factory as module.exports.\n\t\t// This accentuates the need for the creation of a real `window`.\n\t\t// e.g. var jQuery = require(\"jquery\")(window);\n\t\t// See ticket #14549 for more info.\n\t\tmodule.exports = global.document ?\n\t\t\tfactory( global, true ) :\n\t\t\tfunction( w ) {\n\t\t\t\tif ( !w.document ) {\n\t\t\t\t\tthrow new Error( \"jQuery requires a window with a document\" );\n\t\t\t\t}\n\t\t\t\treturn factory( w );\n\t\t\t};\n\t} else {\n\t\tfactory( global );\n\t}\n\n// Pass this if window is not defined yet\n} )( typeof window !== \"undefined\" ? window : this, function( window, noGlobal ) {\n\n// Edge <= 12 - 13+, Firefox <=18 - 45+, IE 10 - 11, Safari 5.1 - 9+, iOS 6 - 9.1\n// throw exceptions when non-strict code (e.g., ASP.NET 4.5) accesses strict mode\n// arguments.callee.caller (trac-13335). But as of jQuery 3.0 (2016), strict mode should be common\n// enough that all such attempts are guarded in a try block.\n\"use strict\";\n\nvar arr = [];\n\nvar getProto = Object.getPrototypeOf;\n\nvar slice = arr.slice;\n\nvar flat = arr.flat ? function( array ) {\n\treturn arr.flat.call( array );\n} : function( array ) {\n\treturn arr.concat.apply( [], array );\n};\n\n\nvar push = arr.push;\n\nvar indexOf = arr.indexOf;\n\nvar class2type = {};\n\nvar toString = class2type.toString;\n\nvar hasOwn = class2type.hasOwnProperty;\n\nvar fnToString = hasOwn.toString;\n\nvar ObjectFunctionString = fnToString.call( Object );\n\nvar support = {};\n\nvar isFunction = function isFunction( obj ) {\n\n      // Support: Chrome <=57, Firefox <=52\n      // In some browsers, typeof returns \"function\" for HTML <object> elements\n      // (i.e., `typeof document.createElement( \"object\" ) === \"function\"`).\n      // We don't want to classify *any* DOM node as a function.\n      return typeof obj === \"function\" && typeof obj.nodeType !== \"number\";\n  };\n\n\nvar isWindow = function isWindow( obj ) {\n\t\treturn obj != null && obj === obj.window;\n\t};\n\n\nvar document = window.document;\n\n\n\n\tvar preservedScriptAttributes = {\n\t\ttype: true,\n\t\tsrc: true,\n\t\tnonce: true,\n\t\tnoModule: true\n\t};\n\n\tfunction DOMEval( code, node, doc ) {\n\t\tdoc = doc || document;\n\n\t\tvar i, val,\n\t\t\tscript = doc.createElement( \"script\" );\n\n\t\tscript.text = code;\n\t\tif ( node ) {\n\t\t\tfor ( i in preservedScriptAttributes ) {\n\n\t\t\t\t// Support: Firefox 64+, Edge 18+\n\t\t\t\t// Some browsers don't support the \"nonce\" property on scripts.\n\t\t\t\t// On the other hand, just using `getAttribute` is not enough as\n\t\t\t\t// the `nonce` attribute is reset to an empty string whenever it\n\t\t\t\t// becomes browsing-context connected.\n\t\t\t\t// See https://github.com/whatwg/html/issues/2369\n\t\t\t\t// See https://html.spec.whatwg.org/#nonce-attributes\n\t\t\t\t// The `node.getAttribute` check was added for the sake of\n\t\t\t\t// `jQuery.globalEval` so that it can fake a nonce-containing node\n\t\t\t\t// via an object.\n\t\t\t\tval = node[ i ] || node.getAttribute && node.getAttribute( i );\n\t\t\t\tif ( val ) {\n\t\t\t\t\tscript.setAttribute( i, val );\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\tdoc.head.appendChild( script ).parentNode.removeChild( script );\n\t}\n\n\nfunction toType( obj ) {\n\tif ( obj == null ) {\n\t\treturn obj + \"\";\n\t}\n\n\t// Support: Android <=2.3 only (functionish RegExp)\n\treturn typeof obj === \"object\" || typeof obj === \"function\" ?\n\t\tclass2type[ toString.call( obj ) ] || \"object\" :\n\t\ttypeof obj;\n}\n/* global Symbol */\n// Defining this global in .eslintrc.json would create a danger of using the global\n// unguarded in another place, it seems safer to define global only for this module\n\n\n\nvar\n\tversion = \"3.5.1\",\n\n\t// Define a local copy of jQuery\n\tjQuery = function( selector, context ) {\n\n\t\t// The jQuery object is actually just the init constructor 'enhanced'\n\t\t// Need init if jQuery is called (just allow error to be thrown if not included)\n\t\treturn new jQuery.fn.init( selector, context );\n\t};\n\njQuery.fn = jQuery.prototype = {\n\n\t// The current version of jQuery being used\n\tjquery: version,\n\n\tconstructor: jQuery,\n\n\t// The default length of a jQuery object is 0\n\tlength: 0,\n\n\ttoArray: function() {\n\t\treturn slice.call( this );\n\t},\n\n\t// Get the Nth element in the matched element set OR\n\t// Get the whole matched element set as a clean array\n\tget: function( num ) {\n\n\t\t// Return all the elements in a clean array\n\t\tif ( num == null ) {\n\t\t\treturn slice.call( this );\n\t\t}\n\n\t\t// Return just the one element from the set\n\t\treturn num < 0 ? this[ num + this.length ] : this[ num ];\n\t},\n\n\t// Take an array of elements and push it onto the stack\n\t// (returning the new matched element set)\n\tpushStack: function( elems ) {\n\n\t\t// Build a new jQuery matched element set\n\t\tvar ret = jQuery.merge( this.constructor(), elems );\n\n\t\t// Add the old object onto the stack (as a reference)\n\t\tret.prevObject = this;\n\n\t\t// Return the newly-formed element set\n\t\treturn ret;\n\t},\n\n\t// Execute a callback for every element in the matched set.\n\teach: function( callback ) {\n\t\treturn jQuery.each( this, callback );\n\t},\n\n\tmap: function( callback ) {\n\t\treturn this.pushStack( jQuery.map( this, function( elem, i ) {\n\t\t\treturn callback.call( elem, i, elem );\n\t\t} ) );\n\t},\n\n\tslice: function() {\n\t\treturn this.pushStack( slice.apply( this, arguments ) );\n\t},\n\n\tfirst: function() {\n\t\treturn this.eq( 0 );\n\t},\n\n\tlast: function() {\n\t\treturn this.eq( -1 );\n\t},\n\n\teven: function() {\n\t\treturn this.pushStack( jQuery.grep( this, function( _elem, i ) {\n\t\t\treturn ( i + 1 ) % 2;\n\t\t} ) );\n\t},\n\n\todd: function() {\n\t\treturn this.pushStack( jQuery.grep( this, function( _elem, i ) {\n\t\t\treturn i % 2;\n\t\t} ) );\n\t},\n\n\teq: function( i ) {\n\t\tvar len = this.length,\n\t\t\tj = +i + ( i < 0 ? len : 0 );\n\t\treturn this.pushStack( j >= 0 && j < len ? [ this[ j ] ] : [] );\n\t},\n\n\tend: function() {\n\t\treturn this.prevObject || this.constructor();\n\t},\n\n\t// For internal use only.\n\t// Behaves like an Array's method, not like a jQuery method.\n\tpush: push,\n\tsort: arr.sort,\n\tsplice: arr.splice\n};\n\njQuery.extend = jQuery.fn.extend = function() {\n\tvar options, name, src, copy, copyIsArray, clone,\n\t\ttarget = arguments[ 0 ] || {},\n\t\ti = 1,\n\t\tlength = arguments.length,\n\t\tdeep = false;\n\n\t// Handle a deep copy situation\n\tif ( typeof target === \"boolean\" ) {\n\t\tdeep = target;\n\n\t\t// Skip the boolean and the target\n\t\ttarget = arguments[ i ] || {};\n\t\ti++;\n\t}\n\n\t// Handle case when target is a string or something (possible in deep copy)\n\tif ( typeof target !== \"object\" && !isFunction( target ) ) {\n\t\ttarget = {};\n\t}\n\n\t// Extend jQuery itself if only one argument is passed\n\tif ( i === length ) {\n\t\ttarget = this;\n\t\ti--;\n\t}\n\n\tfor ( ; i < length; i++ ) {\n\n\t\t// Only deal with non-null/undefined values\n\t\tif ( ( options = arguments[ i ] ) != null ) {\n\n\t\t\t// Extend the base object\n\t\t\tfor ( name in options ) {\n\t\t\t\tcopy = options[ name ];\n\n\t\t\t\t// Prevent Object.prototype pollution\n\t\t\t\t// Prevent never-ending loop\n\t\t\t\tif ( name === \"__proto__\" || target === copy ) {\n\t\t\t\t\tcontinue;\n\t\t\t\t}\n\n\t\t\t\t// Recurse if we're merging plain objects or arrays\n\t\t\t\tif ( deep && copy && ( jQuery.isPlainObject( copy ) ||\n\t\t\t\t\t( copyIsArray = Array.isArray( copy ) ) ) ) {\n\t\t\t\t\tsrc = target[ name ];\n\n\t\t\t\t\t// Ensure proper type for the source value\n\t\t\t\t\tif ( copyIsArray && !Array.isArray( src ) ) {\n\t\t\t\t\t\tclone = [];\n\t\t\t\t\t} else if ( !copyIsArray && !jQuery.isPlainObject( src ) ) {\n\t\t\t\t\t\tclone = {};\n\t\t\t\t\t} else {\n\t\t\t\t\t\tclone = src;\n\t\t\t\t\t}\n\t\t\t\t\tcopyIsArray = false;\n\n\t\t\t\t\t// Never move original objects, clone them\n\t\t\t\t\ttarget[ name ] = jQuery.extend( deep, clone, copy );\n\n\t\t\t\t// Don't bring in undefined values\n\t\t\t\t} else if ( copy !== undefined ) {\n\t\t\t\t\ttarget[ name ] = copy;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\n\t// Return the modified object\n\treturn target;\n};\n\njQuery.extend( {\n\n\t// Unique for each copy of jQuery on the page\n\texpando: \"jQuery\" + ( version + Math.random() ).replace( /\\D/g, \"\" ),\n\n\t// Assume jQuery is ready without the ready module\n\tisReady: true,\n\n\terror: function( msg ) {\n\t\tthrow new Error( msg );\n\t},\n\n\tnoop: function() {},\n\n\tisPlainObject: function( obj ) {\n\t\tvar proto, Ctor;\n\n\t\t// Detect obvious negatives\n\t\t// Use toString instead of jQuery.type to catch host objects\n\t\tif ( !obj || toString.call( obj ) !== \"[object Object]\" ) {\n\t\t\treturn false;\n\t\t}\n\n\t\tproto = getProto( obj );\n\n\t\t// Objects with no prototype (e.g., `Object.create( null )`) are plain\n\t\tif ( !proto ) {\n\t\t\treturn true;\n\t\t}\n\n\t\t// Objects with prototype are plain iff they were constructed by a global Object function\n\t\tCtor = hasOwn.call( proto, \"constructor\" ) && proto.constructor;\n\t\treturn typeof Ctor === \"function\" && fnToString.call( Ctor ) === ObjectFunctionString;\n\t},\n\n\tisEmptyObject: function( obj ) {\n\t\tvar name;\n\n\t\tfor ( name in obj ) {\n\t\t\treturn false;\n\t\t}\n\t\treturn true;\n\t},\n\n\t// Evaluates a script in a provided context; falls back to the global one\n\t// if not specified.\n\tglobalEval: function( code, options, doc ) {\n\t\tDOMEval( code, { nonce: options && options.nonce }, doc );\n\t},\n\n\teach: function( obj, callback ) {\n\t\tvar length, i = 0;\n\n\t\tif ( isArrayLike( obj ) ) {\n\t\t\tlength = obj.length;\n\t\t\tfor ( ; i < length; i++ ) {\n\t\t\t\tif ( callback.call( obj[ i ], i, obj[ i ] ) === false ) {\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t}\n\t\t} else {\n\t\t\tfor ( i in obj ) {\n\t\t\t\tif ( callback.call( obj[ i ], i, obj[ i ] ) === false ) {\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\treturn obj;\n\t},\n\n\t// results is for internal usage only\n\tmakeArray: function( arr, results ) {\n\t\tvar ret = results || [];\n\n\t\tif ( arr != null ) {\n\t\t\tif ( isArrayLike( Object( arr ) ) ) {\n\t\t\t\tjQuery.merge( ret,\n\t\t\t\t\ttypeof arr === \"string\" ?\n\t\t\t\t\t[ arr ] : arr\n\t\t\t\t);\n\t\t\t} else {\n\t\t\t\tpush.call( ret, arr );\n\t\t\t}\n\t\t}\n\n\t\treturn ret;\n\t},\n\n\tinArray: function( elem, arr, i ) {\n\t\treturn arr == null ? -1 : indexOf.call( arr, elem, i );\n\t},\n\n\t// Support: Android <=4.0 only, PhantomJS 1 only\n\t// push.apply(_, arraylike) throws on ancient WebKit\n\tmerge: function( first, second ) {\n\t\tvar len = +second.length,\n\t\t\tj = 0,\n\t\t\ti = first.length;\n\n\t\tfor ( ; j < len; j++ ) {\n\t\t\tfirst[ i++ ] = second[ j ];\n\t\t}\n\n\t\tfirst.length = i;\n\n\t\treturn first;\n\t},\n\n\tgrep: function( elems, callback, invert ) {\n\t\tvar callbackInverse,\n\t\t\tmatches = [],\n\t\t\ti = 0,\n\t\t\tlength = elems.length,\n\t\t\tcallbackExpect = !invert;\n\n\t\t// Go through the array, only saving the items\n\t\t// that pass the validator function\n\t\tfor ( ; i < length; i++ ) {\n\t\t\tcallbackInverse = !callback( elems[ i ], i );\n\t\t\tif ( callbackInverse !== callbackExpect ) {\n\t\t\t\tmatches.push( elems[ i ] );\n\t\t\t}\n\t\t}\n\n\t\treturn matches;\n\t},\n\n\t// arg is for internal usage only\n\tmap: function( elems, callback, arg ) {\n\t\tvar length, value,\n\t\t\ti = 0,\n\t\t\tret = [];\n\n\t\t// Go through the array, translating each of the items to their new values\n\t\tif ( isArrayLike( elems ) ) {\n\t\t\tlength = elems.length;\n\t\t\tfor ( ; i < length; i++ ) {\n\t\t\t\tvalue = callback( elems[ i ], i, arg );\n\n\t\t\t\tif ( value != null ) {\n\t\t\t\t\tret.push( value );\n\t\t\t\t}\n\t\t\t}\n\n\t\t// Go through every key on the object,\n\t\t} else {\n\t\t\tfor ( i in elems ) {\n\t\t\t\tvalue = callback( elems[ i ], i, arg );\n\n\t\t\t\tif ( value != null ) {\n\t\t\t\t\tret.push( value );\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\t// Flatten any nested arrays\n\t\treturn flat( ret );\n\t},\n\n\t// A global GUID counter for objects\n\tguid: 1,\n\n\t// jQuery.support is not used in Core but other projects attach their\n\t// properties to it so it needs to exist.\n\tsupport: support\n} );\n\nif ( typeof Symbol === \"function\" ) {\n\tjQuery.fn[ Symbol.iterator ] = arr[ Symbol.iterator ];\n}\n\n// Populate the class2type map\njQuery.each( \"Boolean Number String Function Array Date RegExp Object Error Symbol\".split( \" \" ),\nfunction( _i, name ) {\n\tclass2type[ \"[object \" + name + \"]\" ] = name.toLowerCase();\n} );\n\nfunction isArrayLike( obj ) {\n\n\t// Support: real iOS 8.2 only (not reproducible in simulator)\n\t// `in` check used to prevent JIT error (gh-2145)\n\t// hasOwn isn't used here due to false negatives\n\t// regarding Nodelist length in IE\n\tvar length = !!obj && \"length\" in obj && obj.length,\n\t\ttype = toType( obj );\n\n\tif ( isFunction( obj ) || isWindow( obj ) ) {\n\t\treturn false;\n\t}\n\n\treturn type === \"array\" || length === 0 ||\n\t\ttypeof length === \"number\" && length > 0 && ( length - 1 ) in obj;\n}\nvar Sizzle =\n/*!\n * Sizzle CSS Selector Engine v2.3.5\n * https://sizzlejs.com/\n *\n * Copyright JS Foundation and other contributors\n * Released under the MIT license\n * https://js.foundation/\n *\n * Date: 2020-03-14\n */\n( function( window ) {\nvar i,\n\tsupport,\n\tExpr,\n\tgetText,\n\tisXML,\n\ttokenize,\n\tcompile,\n\tselect,\n\toutermostContext,\n\tsortInput,\n\thasDuplicate,\n\n\t// Local document vars\n\tsetDocument,\n\tdocument,\n\tdocElem,\n\tdocumentIsHTML,\n\trbuggyQSA,\n\trbuggyMatches,\n\tmatches,\n\tcontains,\n\n\t// Instance-specific data\n\texpando = \"sizzle\" + 1 * new Date(),\n\tpreferredDoc = window.document,\n\tdirruns = 0,\n\tdone = 0,\n\tclassCache = createCache(),\n\ttokenCache = createCache(),\n\tcompilerCache = createCache(),\n\tnonnativeSelectorCache = createCache(),\n\tsortOrder = function( a, b ) {\n\t\tif ( a === b ) {\n\t\t\thasDuplicate = true;\n\t\t}\n\t\treturn 0;\n\t},\n\n\t// Instance methods\n\thasOwn = ( {} ).hasOwnProperty,\n\tarr = [],\n\tpop = arr.pop,\n\tpushNative = arr.push,\n\tpush = arr.push,\n\tslice = arr.slice,\n\n\t// Use a stripped-down indexOf as it's faster than native\n\t// https://jsperf.com/thor-indexof-vs-for/5\n\tindexOf = function( list, elem ) {\n\t\tvar i = 0,\n\t\t\tlen = list.length;\n\t\tfor ( ; i < len; i++ ) {\n\t\t\tif ( list[ i ] === elem ) {\n\t\t\t\treturn i;\n\t\t\t}\n\t\t}\n\t\treturn -1;\n\t},\n\n\tbooleans = \"checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|\" +\n\t\t\"ismap|loop|multiple|open|readonly|required|scoped\",\n\n\t// Regular expressions\n\n\t// http://www.w3.org/TR/css3-selectors/#whitespace\n\twhitespace = \"[\\\\x20\\\\t\\\\r\\\\n\\\\f]\",\n\n\t// https://www.w3.org/TR/css-syntax-3/#ident-token-diagram\n\tidentifier = \"(?:\\\\\\\\[\\\\da-fA-F]{1,6}\" + whitespace +\n\t\t\"?|\\\\\\\\[^\\\\r\\\\n\\\\f]|[\\\\w-]|[^\\0-\\\\x7f])+\",\n\n\t// Attribute selectors: http://www.w3.org/TR/selectors/#attribute-selectors\n\tattributes = \"\\\\[\" + whitespace + \"*(\" + identifier + \")(?:\" + whitespace +\n\n\t\t// Operator (capture 2)\n\t\t\"*([*^$|!~]?=)\" + whitespace +\n\n\t\t// \"Attribute values must be CSS identifiers [capture 5]\n\t\t// or strings [capture 3 or capture 4]\"\n\t\t\"*(?:'((?:\\\\\\\\.|[^\\\\\\\\'])*)'|\\\"((?:\\\\\\\\.|[^\\\\\\\\\\\"])*)\\\"|(\" + identifier + \"))|)\" +\n\t\twhitespace + \"*\\\\]\",\n\n\tpseudos = \":(\" + identifier + \")(?:\\\\((\" +\n\n\t\t// To reduce the number of selectors needing tokenize in the preFilter, prefer arguments:\n\t\t// 1. quoted (capture 3; capture 4 or capture 5)\n\t\t\"('((?:\\\\\\\\.|[^\\\\\\\\'])*)'|\\\"((?:\\\\\\\\.|[^\\\\\\\\\\\"])*)\\\")|\" +\n\n\t\t// 2. simple (capture 6)\n\t\t\"((?:\\\\\\\\.|[^\\\\\\\\()[\\\\]]|\" + attributes + \")*)|\" +\n\n\t\t// 3. anything else (capture 2)\n\t\t\".*\" +\n\t\t\")\\\\)|)\",\n\n\t// Leading and non-escaped trailing whitespace, capturing some non-whitespace characters preceding the latter\n\trwhitespace = new RegExp( whitespace + \"+\", \"g\" ),\n\trtrim = new RegExp( \"^\" + whitespace + \"+|((?:^|[^\\\\\\\\])(?:\\\\\\\\.)*)\" +\n\t\twhitespace + \"+$\", \"g\" ),\n\n\trcomma = new RegExp( \"^\" + whitespace + \"*,\" + whitespace + \"*\" ),\n\trcombinators = new RegExp( \"^\" + whitespace + \"*([>+~]|\" + whitespace + \")\" + whitespace +\n\t\t\"*\" ),\n\trdescend = new RegExp( whitespace + \"|>\" ),\n\n\trpseudo = new RegExp( pseudos ),\n\tridentifier = new RegExp( \"^\" + identifier + \"$\" ),\n\n\tmatchExpr = {\n\t\t\"ID\": new RegExp( \"^#(\" + identifier + \")\" ),\n\t\t\"CLASS\": new RegExp( \"^\\\\.(\" + identifier + \")\" ),\n\t\t\"TAG\": new RegExp( \"^(\" + identifier + \"|[*])\" ),\n\t\t\"ATTR\": new RegExp( \"^\" + attributes ),\n\t\t\"PSEUDO\": new RegExp( \"^\" + pseudos ),\n\t\t\"CHILD\": new RegExp( \"^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\\\(\" +\n\t\t\twhitespace + \"*(even|odd|(([+-]|)(\\\\d*)n|)\" + whitespace + \"*(?:([+-]|)\" +\n\t\t\twhitespace + \"*(\\\\d+)|))\" + whitespace + \"*\\\\)|)\", \"i\" ),\n\t\t\"bool\": new RegExp( \"^(?:\" + booleans + \")$\", \"i\" ),\n\n\t\t// For use in libraries implementing .is()\n\t\t// We use this for POS matching in `select`\n\t\t\"needsContext\": new RegExp( \"^\" + whitespace +\n\t\t\t\"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\\\(\" + whitespace +\n\t\t\t\"*((?:-\\\\d)?\\\\d*)\" + whitespace + \"*\\\\)|)(?=[^-]|$)\", \"i\" )\n\t},\n\n\trhtml = /HTML$/i,\n\trinputs = /^(?:input|select|textarea|button)$/i,\n\trheader = /^h\\d$/i,\n\n\trnative = /^[^{]+\\{\\s*\\[native \\w/,\n\n\t// Easily-parseable/retrievable ID or TAG or CLASS selectors\n\trquickExpr = /^(?:#([\\w-]+)|(\\w+)|\\.([\\w-]+))$/,\n\n\trsibling = /[+~]/,\n\n\t// CSS escapes\n\t// http://www.w3.org/TR/CSS21/syndata.html#escaped-characters\n\trunescape = new RegExp( \"\\\\\\\\[\\\\da-fA-F]{1,6}\" + whitespace + \"?|\\\\\\\\([^\\\\r\\\\n\\\\f])\", \"g\" ),\n\tfunescape = function( escape, nonHex ) {\n\t\tvar high = \"0x\" + escape.slice( 1 ) - 0x10000;\n\n\t\treturn nonHex ?\n\n\t\t\t// Strip the backslash prefix from a non-hex escape sequence\n\t\t\tnonHex :\n\n\t\t\t// Replace a hexadecimal escape sequence with the encoded Unicode code point\n\t\t\t// Support: IE <=11+\n\t\t\t// For values outside the Basic Multilingual Plane (BMP), manually construct a\n\t\t\t// surrogate pair\n\t\t\thigh < 0 ?\n\t\t\t\tString.fromCharCode( high + 0x10000 ) :\n\t\t\t\tString.fromCharCode( high >> 10 | 0xD800, high & 0x3FF | 0xDC00 );\n\t},\n\n\t// CSS string/identifier serialization\n\t// https://drafts.csswg.org/cssom/#common-serializing-idioms\n\trcssescape = /([\\0-\\x1f\\x7f]|^-?\\d)|^-$|[^\\0-\\x1f\\x7f-\\uFFFF\\w-]/g,\n\tfcssescape = function( ch, asCodePoint ) {\n\t\tif ( asCodePoint ) {\n\n\t\t\t// U+0000 NULL becomes U+FFFD REPLACEMENT CHARACTER\n\t\t\tif ( ch === \"\\0\" ) {\n\t\t\t\treturn \"\\uFFFD\";\n\t\t\t}\n\n\t\t\t// Control characters and (dependent upon position) numbers get escaped as code points\n\t\t\treturn ch.slice( 0, -1 ) + \"\\\\\" +\n\t\t\t\tch.charCodeAt( ch.length - 1 ).toString( 16 ) + \" \";\n\t\t}\n\n\t\t// Other potentially-special ASCII characters get backslash-escaped\n\t\treturn \"\\\\\" + ch;\n\t},\n\n\t// Used for iframes\n\t// See setDocument()\n\t// Removing the function wrapper causes a \"Permission Denied\"\n\t// error in IE\n\tunloadHandler = function() {\n\t\tsetDocument();\n\t},\n\n\tinDisabledFieldset = addCombinator(\n\t\tfunction( elem ) {\n\t\t\treturn elem.disabled === true && elem.nodeName.toLowerCase() === \"fieldset\";\n\t\t},\n\t\t{ dir: \"parentNode\", next: \"legend\" }\n\t);\n\n// Optimize for push.apply( _, NodeList )\ntry {\n\tpush.apply(\n\t\t( arr = slice.call( preferredDoc.childNodes ) ),\n\t\tpreferredDoc.childNodes\n\t);\n\n\t// Support: Android<4.0\n\t// Detect silently failing push.apply\n\t// eslint-disable-next-line no-unused-expressions\n\tarr[ preferredDoc.childNodes.length ].nodeType;\n} catch ( e ) {\n\tpush = { apply: arr.length ?\n\n\t\t// Leverage slice if possible\n\t\tfunction( target, els ) {\n\t\t\tpushNative.apply( target, slice.call( els ) );\n\t\t} :\n\n\t\t// Support: IE<9\n\t\t// Otherwise append directly\n\t\tfunction( target, els ) {\n\t\t\tvar j = target.length,\n\t\t\t\ti = 0;\n\n\t\t\t// Can't trust NodeList.length\n\t\t\twhile ( ( target[ j++ ] = els[ i++ ] ) ) {}\n\t\t\ttarget.length = j - 1;\n\t\t}\n\t};\n}\n\nfunction Sizzle( selector, context, results, seed ) {\n\tvar m, i, elem, nid, match, groups, newSelector,\n\t\tnewContext = context && context.ownerDocument,\n\n\t\t// nodeType defaults to 9, since context defaults to document\n\t\tnodeType = context ? context.nodeType : 9;\n\n\tresults = results || [];\n\n\t// Return early from calls with invalid selector or context\n\tif ( typeof selector !== \"string\" || !selector ||\n\t\tnodeType !== 1 && nodeType !== 9 && nodeType !== 11 ) {\n\n\t\treturn results;\n\t}\n\n\t// Try to shortcut find operations (as opposed to filters) in HTML documents\n\tif ( !seed ) {\n\t\tsetDocument( context );\n\t\tcontext = context || document;\n\n\t\tif ( documentIsHTML ) {\n\n\t\t\t// If the selector is sufficiently simple, try using a \"get*By*\" DOM method\n\t\t\t// (excepting DocumentFragment context, where the methods don't exist)\n\t\t\tif ( nodeType !== 11 && ( match = rquickExpr.exec( selector ) ) ) {\n\n\t\t\t\t// ID selector\n\t\t\t\tif ( ( m = match[ 1 ] ) ) {\n\n\t\t\t\t\t// Document context\n\t\t\t\t\tif ( nodeType === 9 ) {\n\t\t\t\t\t\tif ( ( elem = context.getElementById( m ) ) ) {\n\n\t\t\t\t\t\t\t// Support: IE, Opera, Webkit\n\t\t\t\t\t\t\t// TODO: identify versions\n\t\t\t\t\t\t\t// getElementById can match elements by name instead of ID\n\t\t\t\t\t\t\tif ( elem.id === m ) {\n\t\t\t\t\t\t\t\tresults.push( elem );\n\t\t\t\t\t\t\t\treturn results;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\treturn results;\n\t\t\t\t\t\t}\n\n\t\t\t\t\t// Element context\n\t\t\t\t\t} else {\n\n\t\t\t\t\t\t// Support: IE, Opera, Webkit\n\t\t\t\t\t\t// TODO: identify versions\n\t\t\t\t\t\t// getElementById can match elements by name instead of ID\n\t\t\t\t\t\tif ( newContext && ( elem = newContext.getElementById( m ) ) &&\n\t\t\t\t\t\t\tcontains( context, elem ) &&\n\t\t\t\t\t\t\telem.id === m ) {\n\n\t\t\t\t\t\t\tresults.push( elem );\n\t\t\t\t\t\t\treturn results;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\n\t\t\t\t// Type selector\n\t\t\t\t} else if ( match[ 2 ] ) {\n\t\t\t\t\tpush.apply( results, context.getElementsByTagName( selector ) );\n\t\t\t\t\treturn results;\n\n\t\t\t\t// Class selector\n\t\t\t\t} else if ( ( m = match[ 3 ] ) && support.getElementsByClassName &&\n\t\t\t\t\tcontext.getElementsByClassName ) {\n\n\t\t\t\t\tpush.apply( results, context.getElementsByClassName( m ) );\n\t\t\t\t\treturn results;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t// Take advantage of querySelectorAll\n\t\t\tif ( support.qsa &&\n\t\t\t\t!nonnativeSelectorCache[ selector + \" \" ] &&\n\t\t\t\t( !rbuggyQSA || !rbuggyQSA.test( selector ) ) &&\n\n\t\t\t\t// Support: IE 8 only\n\t\t\t\t// Exclude object elements\n\t\t\t\t( nodeType !== 1 || context.nodeName.toLowerCase() !== \"object\" ) ) {\n\n\t\t\t\tnewSelector = selector;\n\t\t\t\tnewContext = context;\n\n\t\t\t\t// qSA considers elements outside a scoping root when evaluating child or\n\t\t\t\t// descendant combinators, which is not what we want.\n\t\t\t\t// In such cases, we work around the behavior by prefixing every selector in the\n\t\t\t\t// list with an ID selector referencing the scope context.\n\t\t\t\t// The technique has to be used as well when a leading combinator is used\n\t\t\t\t// as such selectors are not recognized by querySelectorAll.\n\t\t\t\t// Thanks to Andrew Dupont for this technique.\n\t\t\t\tif ( nodeType === 1 &&\n\t\t\t\t\t( rdescend.test( selector ) || rcombinators.test( selector ) ) ) {\n\n\t\t\t\t\t// Expand context for sibling selectors\n\t\t\t\t\tnewContext = rsibling.test( selector ) && testContext( context.parentNode ) ||\n\t\t\t\t\t\tcontext;\n\n\t\t\t\t\t// We can use :scope instead of the ID hack if the browser\n\t\t\t\t\t// supports it & if we're not changing the context.\n\t\t\t\t\tif ( newContext !== context || !support.scope ) {\n\n\t\t\t\t\t\t// Capture the context ID, setting it first if necessary\n\t\t\t\t\t\tif ( ( nid = context.getAttribute( \"id\" ) ) ) {\n\t\t\t\t\t\t\tnid = nid.replace( rcssescape, fcssescape );\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tcontext.setAttribute( \"id\", ( nid = expando ) );\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\n\t\t\t\t\t// Prefix every selector in the list\n\t\t\t\t\tgroups = tokenize( selector );\n\t\t\t\t\ti = groups.length;\n\t\t\t\t\twhile ( i-- ) {\n\t\t\t\t\t\tgroups[ i ] = ( nid ? \"#\" + nid : \":scope\" ) + \" \" +\n\t\t\t\t\t\t\ttoSelector( groups[ i ] );\n\t\t\t\t\t}\n\t\t\t\t\tnewSelector = groups.join( \",\" );\n\t\t\t\t}\n\n\t\t\t\ttry {\n\t\t\t\t\tpush.apply( results,\n\t\t\t\t\t\tnewContext.querySelectorAll( newSelector )\n\t\t\t\t\t);\n\t\t\t\t\treturn results;\n\t\t\t\t} catch ( qsaError ) {\n\t\t\t\t\tnonnativeSelectorCache( selector, true );\n\t\t\t\t} finally {\n\t\t\t\t\tif ( nid === expando ) {\n\t\t\t\t\t\tcontext.removeAttribute( \"id\" );\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\n\t// All others\n\treturn select( selector.replace( rtrim, \"$1\" ), context, results, seed );\n}\n\n/**\n * Create key-value caches of limited size\n * @returns {function(string, object)} Returns the Object data after storing it on itself with\n *\tproperty name the (space-suffixed) string and (if the cache is larger than Expr.cacheLength)\n *\tdeleting the oldest entry\n */\nfunction createCache() {\n\tvar keys = [];\n\n\tfunction cache( key, value ) {\n\n\t\t// Use (key + \" \") to avoid collision with native prototype properties (see Issue #157)\n\t\tif ( keys.push( key + \" \" ) > Expr.cacheLength ) {\n\n\t\t\t// Only keep the most recent entries\n\t\t\tdelete cache[ keys.shift() ];\n\t\t}\n\t\treturn ( cache[ key + \" \" ] = value );\n\t}\n\treturn cache;\n}\n\n/**\n * Mark a function for special use by Sizzle\n * @param {Function} fn The function to mark\n */\nfunction markFunction( fn ) {\n\tfn[ expando ] = true;\n\treturn fn;\n}\n\n/**\n * Support testing using an element\n * @param {Function} fn Passed the created element and returns a boolean result\n */\nfunction assert( fn ) {\n\tvar el = document.createElement( \"fieldset\" );\n\n\ttry {\n\t\treturn !!fn( el );\n\t} catch ( e ) {\n\t\treturn false;\n\t} finally {\n\n\t\t// Remove from its parent by default\n\t\tif ( el.parentNode ) {\n\t\t\tel.parentNode.removeChild( el );\n\t\t}\n\n\t\t// release memory in IE\n\t\tel = null;\n\t}\n}\n\n/**\n * Adds the same handler for all of the specified attrs\n * @param {String} attrs Pipe-separated list of attributes\n * @param {Function} handler The method that will be applied\n */\nfunction addHandle( attrs, handler ) {\n\tvar arr = attrs.split( \"|\" ),\n\t\ti = arr.length;\n\n\twhile ( i-- ) {\n\t\tExpr.attrHandle[ arr[ i ] ] = handler;\n\t}\n}\n\n/**\n * Checks document order of two siblings\n * @param {Element} a\n * @param {Element} b\n * @returns {Number} Returns less than 0 if a precedes b, greater than 0 if a follows b\n */\nfunction siblingCheck( a, b ) {\n\tvar cur = b && a,\n\t\tdiff = cur && a.nodeType === 1 && b.nodeType === 1 &&\n\t\t\ta.sourceIndex - b.sourceIndex;\n\n\t// Use IE sourceIndex if available on both nodes\n\tif ( diff ) {\n\t\treturn diff;\n\t}\n\n\t// Check if b follows a\n\tif ( cur ) {\n\t\twhile ( ( cur = cur.nextSibling ) ) {\n\t\t\tif ( cur === b ) {\n\t\t\t\treturn -1;\n\t\t\t}\n\t\t}\n\t}\n\n\treturn a ? 1 : -1;\n}\n\n/**\n * Returns a function to use in pseudos for input types\n * @param {String} type\n */\nfunction createInputPseudo( type ) {\n\treturn function( elem ) {\n\t\tvar name = elem.nodeName.toLowerCase();\n\t\treturn name === \"input\" && elem.type === type;\n\t};\n}\n\n/**\n * Returns a function to use in pseudos for buttons\n * @param {String} type\n */\nfunction createButtonPseudo( type ) {\n\treturn function( elem ) {\n\t\tvar name = elem.nodeName.toLowerCase();\n\t\treturn ( name === \"input\" || name === \"button\" ) && elem.type === type;\n\t};\n}\n\n/**\n * Returns a function to use in pseudos for :enabled/:disabled\n * @param {Boolean} disabled true for :disabled; false for :enabled\n */\nfunction createDisabledPseudo( disabled ) {\n\n\t// Known :disabled false positives: fieldset[disabled] > legend:nth-of-type(n+2) :can-disable\n\treturn function( elem ) {\n\n\t\t// Only certain elements can match :enabled or :disabled\n\t\t// https://html.spec.whatwg.org/multipage/scripting.html#selector-enabled\n\t\t// https://html.spec.whatwg.org/multipage/scripting.html#selector-disabled\n\t\tif ( \"form\" in elem ) {\n\n\t\t\t// Check for inherited disabledness on relevant non-disabled elements:\n\t\t\t// * listed form-associated elements in a disabled fieldset\n\t\t\t//   https://html.spec.whatwg.org/multipage/forms.html#category-listed\n\t\t\t//   https://html.spec.whatwg.org/multipage/forms.html#concept-fe-disabled\n\t\t\t// * option elements in a disabled optgroup\n\t\t\t//   https://html.spec.whatwg.org/multipage/forms.html#concept-option-disabled\n\t\t\t// All such elements have a \"form\" property.\n\t\t\tif ( elem.parentNode && elem.disabled === false ) {\n\n\t\t\t\t// Option elements defer to a parent optgroup if present\n\t\t\t\tif ( \"label\" in elem ) {\n\t\t\t\t\tif ( \"label\" in elem.parentNode ) {\n\t\t\t\t\t\treturn elem.parentNode.disabled === disabled;\n\t\t\t\t\t} else {\n\t\t\t\t\t\treturn elem.disabled === disabled;\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\t// Support: IE 6 - 11\n\t\t\t\t// Use the isDisabled shortcut property to check for disabled fieldset ancestors\n\t\t\t\treturn elem.isDisabled === disabled ||\n\n\t\t\t\t\t// Where there is no isDisabled, check manually\n\t\t\t\t\t/* jshint -W018 */\n\t\t\t\t\telem.isDisabled !== !disabled &&\n\t\t\t\t\tinDisabledFieldset( elem ) === disabled;\n\t\t\t}\n\n\t\t\treturn elem.disabled === disabled;\n\n\t\t// Try to winnow out elements that can't be disabled before trusting the disabled property.\n\t\t// Some victims get caught in our net (label, legend, menu, track), but it shouldn't\n\t\t// even exist on them, let alone have a boolean value.\n\t\t} else if ( \"label\" in elem ) {\n\t\t\treturn elem.disabled === disabled;\n\t\t}\n\n\t\t// Remaining elements are neither :enabled nor :disabled\n\t\treturn false;\n\t};\n}\n\n/**\n * Returns a function to use in pseudos for positionals\n * @param {Function} fn\n */\nfunction createPositionalPseudo( fn ) {\n\treturn markFunction( function( argument ) {\n\t\targument = +argument;\n\t\treturn markFunction( function( seed, matches ) {\n\t\t\tvar j,\n\t\t\t\tmatchIndexes = fn( [], seed.length, argument ),\n\t\t\t\ti = matchIndexes.length;\n\n\t\t\t// Match elements found at the specified indexes\n\t\t\twhile ( i-- ) {\n\t\t\t\tif ( seed[ ( j = matchIndexes[ i ] ) ] ) {\n\t\t\t\t\tseed[ j ] = !( matches[ j ] = seed[ j ] );\n\t\t\t\t}\n\t\t\t}\n\t\t} );\n\t} );\n}\n\n/**\n * Checks a node for validity as a Sizzle context\n * @param {Element|Object=} context\n * @returns {Element|Object|Boolean} The input node if acceptable, otherwise a falsy value\n */\nfunction testContext( context ) {\n\treturn context && typeof context.getElementsByTagName !== \"undefined\" && context;\n}\n\n// Expose support vars for convenience\nsupport = Sizzle.support = {};\n\n/**\n * Detects XML nodes\n * @param {Element|Object} elem An element or a document\n * @returns {Boolean} True iff elem is a non-HTML XML node\n */\nisXML = Sizzle.isXML = function( elem ) {\n\tvar namespace = elem.namespaceURI,\n\t\tdocElem = ( elem.ownerDocument || elem ).documentElement;\n\n\t// Support: IE <=8\n\t// Assume HTML when documentElement doesn't yet exist, such as inside loading iframes\n\t// https://bugs.jquery.com/ticket/4833\n\treturn !rhtml.test( namespace || docElem && docElem.nodeName || \"HTML\" );\n};\n\n/**\n * Sets document-related variables once based on the current document\n * @param {Element|Object} [doc] An element or document object to use to set the document\n * @returns {Object} Returns the current document\n */\nsetDocument = Sizzle.setDocument = function( node ) {\n\tvar hasCompare, subWindow,\n\t\tdoc = node ? node.ownerDocument || node : preferredDoc;\n\n\t// Return early if doc is invalid or already selected\n\t// Support: IE 11+, Edge 17 - 18+\n\t// IE/Edge sometimes throw a \"Permission denied\" error when strict-comparing\n\t// two documents; shallow comparisons work.\n\t// eslint-disable-next-line eqeqeq\n\tif ( doc == document || doc.nodeType !== 9 || !doc.documentElement ) {\n\t\treturn document;\n\t}\n\n\t// Update global variables\n\tdocument = doc;\n\tdocElem = document.documentElement;\n\tdocumentIsHTML = !isXML( document );\n\n\t// Support: IE 9 - 11+, Edge 12 - 18+\n\t// Accessing iframe documents after unload throws \"permission denied\" errors (jQuery #13936)\n\t// Support: IE 11+, Edge 17 - 18+\n\t// IE/Edge sometimes throw a \"Permission denied\" error when strict-comparing\n\t// two documents; shallow comparisons work.\n\t// eslint-disable-next-line eqeqeq\n\tif ( preferredDoc != document &&\n\t\t( subWindow = document.defaultView ) && subWindow.top !== subWindow ) {\n\n\t\t// Support: IE 11, Edge\n\t\tif ( subWindow.addEventListener ) {\n\t\t\tsubWindow.addEventListener( \"unload\", unloadHandler, false );\n\n\t\t// Support: IE 9 - 10 only\n\t\t} else if ( subWindow.attachEvent ) {\n\t\t\tsubWindow.attachEvent( \"onunload\", unloadHandler );\n\t\t}\n\t}\n\n\t// Support: IE 8 - 11+, Edge 12 - 18+, Chrome <=16 - 25 only, Firefox <=3.6 - 31 only,\n\t// Safari 4 - 5 only, Opera <=11.6 - 12.x only\n\t// IE/Edge & older browsers don't support the :scope pseudo-class.\n\t// Support: Safari 6.0 only\n\t// Safari 6.0 supports :scope but it's an alias of :root there.\n\tsupport.scope = assert( function( el ) {\n\t\tdocElem.appendChild( el ).appendChild( document.createElement( \"div\" ) );\n\t\treturn typeof el.querySelectorAll !== \"undefined\" &&\n\t\t\t!el.querySelectorAll( \":scope fieldset div\" ).length;\n\t} );\n\n\t/* Attributes\n\t---------------------------------------------------------------------- */\n\n\t// Support: IE<8\n\t// Verify that getAttribute really returns attributes and not properties\n\t// (excepting IE8 booleans)\n\tsupport.attributes = assert( function( el ) {\n\t\tel.className = \"i\";\n\t\treturn !el.getAttribute( \"className\" );\n\t} );\n\n\t/* getElement(s)By*\n\t---------------------------------------------------------------------- */\n\n\t// Check if getElementsByTagName(\"*\") returns only elements\n\tsupport.getElementsByTagName = assert( function( el ) {\n\t\tel.appendChild( document.createComment( \"\" ) );\n\t\treturn !el.getElementsByTagName( \"*\" ).length;\n\t} );\n\n\t// Support: IE<9\n\tsupport.getElementsByClassName = rnative.test( document.getElementsByClassName );\n\n\t// Support: IE<10\n\t// Check if getElementById returns elements by name\n\t// The broken getElementById methods don't pick up programmatically-set names,\n\t// so use a roundabout getElementsByName test\n\tsupport.getById = assert( function( el ) {\n\t\tdocElem.appendChild( el ).id = expando;\n\t\treturn !document.getElementsByName || !document.getElementsByName( expando ).length;\n\t} );\n\n\t// ID filter and find\n\tif ( support.getById ) {\n\t\tExpr.filter[ \"ID\" ] = function( id ) {\n\t\t\tvar attrId = id.replace( runescape, funescape );\n\t\t\treturn function( elem ) {\n\t\t\t\treturn elem.getAttribute( \"id\" ) === attrId;\n\t\t\t};\n\t\t};\n\t\tExpr.find[ \"ID\" ] = function( id, context ) {\n\t\t\tif ( typeof context.getElementById !== \"undefined\" && documentIsHTML ) {\n\t\t\t\tvar elem = context.getElementById( id );\n\t\t\t\treturn elem ? [ elem ] : [];\n\t\t\t}\n\t\t};\n\t} else {\n\t\tExpr.filter[ \"ID\" ] =  function( id ) {\n\t\t\tvar attrId = id.replace( runescape, funescape );\n\t\t\treturn function( elem ) {\n\t\t\t\tvar node = typeof elem.getAttributeNode !== \"undefined\" &&\n\t\t\t\t\telem.getAttributeNode( \"id\" );\n\t\t\t\treturn node && node.value === attrId;\n\t\t\t};\n\t\t};\n\n\t\t// Support: IE 6 - 7 only\n\t\t// getElementById is not reliable as a find shortcut\n\t\tExpr.find[ \"ID\" ] = function( id, context ) {\n\t\t\tif ( typeof context.getElementById !== \"undefined\" && documentIsHTML ) {\n\t\t\t\tvar node, i, elems,\n\t\t\t\t\telem = context.getElementById( id );\n\n\t\t\t\tif ( elem ) {\n\n\t\t\t\t\t// Verify the id attribute\n\t\t\t\t\tnode = elem.getAttributeNode( \"id\" );\n\t\t\t\t\tif ( node && node.value === id ) {\n\t\t\t\t\t\treturn [ elem ];\n\t\t\t\t\t}\n\n\t\t\t\t\t// Fall back on getElementsByName\n\t\t\t\t\telems = context.getElementsByName( id );\n\t\t\t\t\ti = 0;\n\t\t\t\t\twhile ( ( elem = elems[ i++ ] ) ) {\n\t\t\t\t\t\tnode = elem.getAttributeNode( \"id\" );\n\t\t\t\t\t\tif ( node && node.value === id ) {\n\t\t\t\t\t\t\treturn [ elem ];\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\treturn [];\n\t\t\t}\n\t\t};\n\t}\n\n\t// Tag\n\tExpr.find[ \"TAG\" ] = support.getElementsByTagName ?\n\t\tfunction( tag, context ) {\n\t\t\tif ( typeof context.getElementsByTagName !== \"undefined\" ) {\n\t\t\t\treturn context.getElementsByTagName( tag );\n\n\t\t\t// DocumentFragment nodes don't have gEBTN\n\t\t\t} else if ( support.qsa ) {\n\t\t\t\treturn context.querySelectorAll( tag );\n\t\t\t}\n\t\t} :\n\n\t\tfunction( tag, context ) {\n\t\t\tvar elem,\n\t\t\t\ttmp = [],\n\t\t\t\ti = 0,\n\n\t\t\t\t// By happy coincidence, a (broken) gEBTN appears on DocumentFragment nodes too\n\t\t\t\tresults = context.getElementsByTagName( tag );\n\n\t\t\t// Filter out possible comments\n\t\t\tif ( tag === \"*\" ) {\n\t\t\t\twhile ( ( elem = results[ i++ ] ) ) {\n\t\t\t\t\tif ( elem.nodeType === 1 ) {\n\t\t\t\t\t\ttmp.push( elem );\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\treturn tmp;\n\t\t\t}\n\t\t\treturn results;\n\t\t};\n\n\t// Class\n\tExpr.find[ \"CLASS\" ] = support.getElementsByClassName && function( className, context ) {\n\t\tif ( typeof context.getElementsByClassName !== \"undefined\" && documentIsHTML ) {\n\t\t\treturn context.getElementsByClassName( className );\n\t\t}\n\t};\n\n\t/* QSA/matchesSelector\n\t---------------------------------------------------------------------- */\n\n\t// QSA and matchesSelector support\n\n\t// matchesSelector(:active) reports false when true (IE9/Opera 11.5)\n\trbuggyMatches = [];\n\n\t// qSa(:focus) reports false when true (Chrome 21)\n\t// We allow this because of a bug in IE8/9 that throws an error\n\t// whenever `document.activeElement` is accessed on an iframe\n\t// So, we allow :focus to pass through QSA all the time to avoid the IE error\n\t// See https://bugs.jquery.com/ticket/13378\n\trbuggyQSA = [];\n\n\tif ( ( support.qsa = rnative.test( document.querySelectorAll ) ) ) {\n\n\t\t// Build QSA regex\n\t\t// Regex strategy adopted from Diego Perini\n\t\tassert( function( el ) {\n\n\t\t\tvar input;\n\n\t\t\t// Select is set to empty string on purpose\n\t\t\t// This is to test IE's treatment of not explicitly\n\t\t\t// setting a boolean content attribute,\n\t\t\t// since its presence should be enough\n\t\t\t// https://bugs.jquery.com/ticket/12359\n\t\t\tdocElem.appendChild( el ).innerHTML = \"<a id='\" + expando + \"'></a>\" +\n\t\t\t\t\"<select id='\" + expando + \"-\\r\\\\' msallowcapture=''>\" +\n\t\t\t\t\"<option selected=''></option></select>\";\n\n\t\t\t// Support: IE8, Opera 11-12.16\n\t\t\t// Nothing should be selected when empty strings follow ^= or $= or *=\n\t\t\t// The test attribute must be unknown in Opera but \"safe\" for WinRT\n\t\t\t// https://msdn.microsoft.com/en-us/library/ie/hh465388.aspx#attribute_section\n\t\t\tif ( el.querySelectorAll( \"[msallowcapture^='']\" ).length ) {\n\t\t\t\trbuggyQSA.push( \"[*^$]=\" + whitespace + \"*(?:''|\\\"\\\")\" );\n\t\t\t}\n\n\t\t\t// Support: IE8\n\t\t\t// Boolean attributes and \"value\" are not treated correctly\n\t\t\tif ( !el.querySelectorAll( \"[selected]\" ).length ) {\n\t\t\t\trbuggyQSA.push( \"\\\\[\" + whitespace + \"*(?:value|\" + booleans + \")\" );\n\t\t\t}\n\n\t\t\t// Support: Chrome<29, Android<4.4, Safari<7.0+, iOS<7.0+, PhantomJS<1.9.8+\n\t\t\tif ( !el.querySelectorAll( \"[id~=\" + expando + \"-]\" ).length ) {\n\t\t\t\trbuggyQSA.push( \"~=\" );\n\t\t\t}\n\n\t\t\t// Support: IE 11+, Edge 15 - 18+\n\t\t\t// IE 11/Edge don't find elements on a `[name='']` query in some cases.\n\t\t\t// Adding a temporary attribute to the document before the selection works\n\t\t\t// around the issue.\n\t\t\t// Interestingly, IE 10 & older don't seem to have the issue.\n\t\t\tinput = document.createElement( \"input\" );\n\t\t\tinput.setAttribute( \"name\", \"\" );\n\t\t\tel.appendChild( input );\n\t\t\tif ( !el.querySelectorAll( \"[name='']\" ).length ) {\n\t\t\t\trbuggyQSA.push( \"\\\\[\" + whitespace + \"*name\" + whitespace + \"*=\" +\n\t\t\t\t\twhitespace + \"*(?:''|\\\"\\\")\" );\n\t\t\t}\n\n\t\t\t// Webkit/Opera - :checked should return selected option elements\n\t\t\t// http://www.w3.org/TR/2011/REC-css3-selectors-20110929/#checked\n\t\t\t// IE8 throws error here and will not see later tests\n\t\t\tif ( !el.querySelectorAll( \":checked\" ).length ) {\n\t\t\t\trbuggyQSA.push( \":checked\" );\n\t\t\t}\n\n\t\t\t// Support: Safari 8+, iOS 8+\n\t\t\t// https://bugs.webkit.org/show_bug.cgi?id=136851\n\t\t\t// In-page `selector#id sibling-combinator selector` fails\n\t\t\tif ( !el.querySelectorAll( \"a#\" + expando + \"+*\" ).length ) {\n\t\t\t\trbuggyQSA.push( \".#.+[+~]\" );\n\t\t\t}\n\n\t\t\t// Support: Firefox <=3.6 - 5 only\n\t\t\t// Old Firefox doesn't throw on a badly-escaped identifier.\n\t\t\tel.querySelectorAll( \"\\\\\\f\" );\n\t\t\trbuggyQSA.push( \"[\\\\r\\\\n\\\\f]\" );\n\t\t} );\n\n\t\tassert( function( el ) {\n\t\t\tel.innerHTML = \"<a href='' disabled='disabled'></a>\" +\n\t\t\t\t\"<select disabled='disabled'><option/></select>\";\n\n\t\t\t// Support: Windows 8 Native Apps\n\t\t\t// The type and name attributes are restricted during .innerHTML assignment\n\t\t\tvar input = document.createElement( \"input\" );\n\t\t\tinput.setAttribute( \"type\", \"hidden\" );\n\t\t\tel.appendChild( input ).setAttribute( \"name\", \"D\" );\n\n\t\t\t// Support: IE8\n\t\t\t// Enforce case-sensitivity of name attribute\n\t\t\tif ( el.querySelectorAll( \"[name=d]\" ).length ) {\n\t\t\t\trbuggyQSA.push( \"name\" + whitespace + \"*[*^$|!~]?=\" );\n\t\t\t}\n\n\t\t\t// FF 3.5 - :enabled/:disabled and hidden elements (hidden elements are still enabled)\n\t\t\t// IE8 throws error here and will not see later tests\n\t\t\tif ( el.querySelectorAll( \":enabled\" ).length !== 2 ) {\n\t\t\t\trbuggyQSA.push( \":enabled\", \":disabled\" );\n\t\t\t}\n\n\t\t\t// Support: IE9-11+\n\t\t\t// IE's :disabled selector does not pick up the children of disabled fieldsets\n\t\t\tdocElem.appendChild( el ).disabled = true;\n\t\t\tif ( el.querySelectorAll( \":disabled\" ).length !== 2 ) {\n\t\t\t\trbuggyQSA.push( \":enabled\", \":disabled\" );\n\t\t\t}\n\n\t\t\t// Support: Opera 10 - 11 only\n\t\t\t// Opera 10-11 does not throw on post-comma invalid pseudos\n\t\t\tel.querySelectorAll( \"*,:x\" );\n\t\t\trbuggyQSA.push( \",.*:\" );\n\t\t} );\n\t}\n\n\tif ( ( support.matchesSelector = rnative.test( ( matches = docElem.matches ||\n\t\tdocElem.webkitMatchesSelector ||\n\t\tdocElem.mozMatchesSelector ||\n\t\tdocElem.oMatchesSelector ||\n\t\tdocElem.msMatchesSelector ) ) ) ) {\n\n\t\tassert( function( el ) {\n\n\t\t\t// Check to see if it's possible to do matchesSelector\n\t\t\t// on a disconnected node (IE 9)\n\t\t\tsupport.disconnectedMatch = matches.call( el, \"*\" );\n\n\t\t\t// This should fail with an exception\n\t\t\t// Gecko does not error, returns false instead\n\t\t\tmatches.call( el, \"[s!='']:x\" );\n\t\t\trbuggyMatches.push( \"!=\", pseudos );\n\t\t} );\n\t}\n\n\trbuggyQSA = rbuggyQSA.length && new RegExp( rbuggyQSA.join( \"|\" ) );\n\trbuggyMatches = rbuggyMatches.length && new RegExp( rbuggyMatches.join( \"|\" ) );\n\n\t/* Contains\n\t---------------------------------------------------------------------- */\n\thasCompare = rnative.test( docElem.compareDocumentPosition );\n\n\t// Element contains another\n\t// Purposefully self-exclusive\n\t// As in, an element does not contain itself\n\tcontains = hasCompare || rnative.test( docElem.contains ) ?\n\t\tfunction( a, b ) {\n\t\t\tvar adown = a.nodeType === 9 ? a.documentElement : a,\n\t\t\t\tbup = b && b.parentNode;\n\t\t\treturn a === bup || !!( bup && bup.nodeType === 1 && (\n\t\t\t\tadown.contains ?\n\t\t\t\t\tadown.contains( bup ) :\n\t\t\t\t\ta.compareDocumentPosition && a.compareDocumentPosition( bup ) & 16\n\t\t\t) );\n\t\t} :\n\t\tfunction( a, b ) {\n\t\t\tif ( b ) {\n\t\t\t\twhile ( ( b = b.parentNode ) ) {\n\t\t\t\t\tif ( b === a ) {\n\t\t\t\t\t\treturn true;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn false;\n\t\t};\n\n\t/* Sorting\n\t---------------------------------------------------------------------- */\n\n\t// Document order sorting\n\tsortOrder = hasCompare ?\n\tfunction( a, b ) {\n\n\t\t// Flag for duplicate removal\n\t\tif ( a === b ) {\n\t\t\thasDuplicate = true;\n\t\t\treturn 0;\n\t\t}\n\n\t\t// Sort on method existence if only one input has compareDocumentPosition\n\t\tvar compare = !a.compareDocumentPosition - !b.compareDocumentPosition;\n\t\tif ( compare ) {\n\t\t\treturn compare;\n\t\t}\n\n\t\t// Calculate position if both inputs belong to the same document\n\t\t// Support: IE 11+, Edge 17 - 18+\n\t\t// IE/Edge sometimes throw a \"Permission denied\" error when strict-comparing\n\t\t// two documents; shallow comparisons work.\n\t\t// eslint-disable-next-line eqeqeq\n\t\tcompare = ( a.ownerDocument || a ) == ( b.ownerDocument || b ) ?\n\t\t\ta.compareDocumentPosition( b ) :\n\n\t\t\t// Otherwise we know they are disconnected\n\t\t\t1;\n\n\t\t// Disconnected nodes\n\t\tif ( compare & 1 ||\n\t\t\t( !support.sortDetached && b.compareDocumentPosition( a ) === compare ) ) {\n\n\t\t\t// Choose the first element that is related to our preferred document\n\t\t\t// Support: IE 11+, Edge 17 - 18+\n\t\t\t// IE/Edge sometimes throw a \"Permission denied\" error when strict-comparing\n\t\t\t// two documents; shallow comparisons work.\n\t\t\t// eslint-disable-next-line eqeqeq\n\t\t\tif ( a == document || a.ownerDocument == preferredDoc &&\n\t\t\t\tcontains( preferredDoc, a ) ) {\n\t\t\t\treturn -1;\n\t\t\t}\n\n\t\t\t// Support: IE 11+, Edge 17 - 18+\n\t\t\t// IE/Edge sometimes throw a \"Permission denied\" error when strict-comparing\n\t\t\t// two documents; shallow comparisons work.\n\t\t\t// eslint-disable-next-line eqeqeq\n\t\t\tif ( b == document || b.ownerDocument == preferredDoc &&\n\t\t\t\tcontains( preferredDoc, b ) ) {\n\t\t\t\treturn 1;\n\t\t\t}\n\n\t\t\t// Maintain original order\n\t\t\treturn sortInput ?\n\t\t\t\t( indexOf( sortInput, a ) - indexOf( sortInput, b ) ) :\n\t\t\t\t0;\n\t\t}\n\n\t\treturn compare & 4 ? -1 : 1;\n\t} :\n\tfunction( a, b ) {\n\n\t\t// Exit early if the nodes are identical\n\t\tif ( a === b ) {\n\t\t\thasDuplicate = true;\n\t\t\treturn 0;\n\t\t}\n\n\t\tvar cur,\n\t\t\ti = 0,\n\t\t\taup = a.parentNode,\n\t\t\tbup = b.parentNode,\n\t\t\tap = [ a ],\n\t\t\tbp = [ b ];\n\n\t\t// Parentless nodes are either documents or disconnected\n\t\tif ( !aup || !bup ) {\n\n\t\t\t// Support: IE 11+, Edge 17 - 18+\n\t\t\t// IE/Edge sometimes throw a \"Permission denied\" error when strict-comparing\n\t\t\t// two documents; shallow comparisons work.\n\t\t\t/* eslint-disable eqeqeq */\n\t\t\treturn a == document ? -1 :\n\t\t\t\tb == document ? 1 :\n\t\t\t\t/* eslint-enable eqeqeq */\n\t\t\t\taup ? -1 :\n\t\t\t\tbup ? 1 :\n\t\t\t\tsortInput ?\n\t\t\t\t( indexOf( sortInput, a ) - indexOf( sortInput, b ) ) :\n\t\t\t\t0;\n\n\t\t// If the nodes are siblings, we can do a quick check\n\t\t} else if ( aup === bup ) {\n\t\t\treturn siblingCheck( a, b );\n\t\t}\n\n\t\t// Otherwise we need full lists of their ancestors for comparison\n\t\tcur = a;\n\t\twhile ( ( cur = cur.parentNode ) ) {\n\t\t\tap.unshift( cur );\n\t\t}\n\t\tcur = b;\n\t\twhile ( ( cur = cur.parentNode ) ) {\n\t\t\tbp.unshift( cur );\n\t\t}\n\n\t\t// Walk down the tree looking for a discrepancy\n\t\twhile ( ap[ i ] === bp[ i ] ) {\n\t\t\ti++;\n\t\t}\n\n\t\treturn i ?\n\n\t\t\t// Do a sibling check if the nodes have a common ancestor\n\t\t\tsiblingCheck( ap[ i ], bp[ i ] ) :\n\n\t\t\t// Otherwise nodes in our document sort first\n\t\t\t// Support: IE 11+, Edge 17 - 18+\n\t\t\t// IE/Edge sometimes throw a \"Permission denied\" error when strict-comparing\n\t\t\t// two documents; shallow comparisons work.\n\t\t\t/* eslint-disable eqeqeq */\n\t\t\tap[ i ] == preferredDoc ? -1 :\n\t\t\tbp[ i ] == preferredDoc ? 1 :\n\t\t\t/* eslint-enable eqeqeq */\n\t\t\t0;\n\t};\n\n\treturn document;\n};\n\nSizzle.matches = function( expr, elements ) {\n\treturn Sizzle( expr, null, null, elements );\n};\n\nSizzle.matchesSelector = function( elem, expr ) {\n\tsetDocument( elem );\n\n\tif ( support.matchesSelector && documentIsHTML &&\n\t\t!nonnativeSelectorCache[ expr + \" \" ] &&\n\t\t( !rbuggyMatches || !rbuggyMatches.test( expr ) ) &&\n\t\t( !rbuggyQSA     || !rbuggyQSA.test( expr ) ) ) {\n\n\t\ttry {\n\t\t\tvar ret = matches.call( elem, expr );\n\n\t\t\t// IE 9's matchesSelector returns false on disconnected nodes\n\t\t\tif ( ret || support.disconnectedMatch ||\n\n\t\t\t\t// As well, disconnected nodes are said to be in a document\n\t\t\t\t// fragment in IE 9\n\t\t\t\telem.document && elem.document.nodeType !== 11 ) {\n\t\t\t\treturn ret;\n\t\t\t}\n\t\t} catch ( e ) {\n\t\t\tnonnativeSelectorCache( expr, true );\n\t\t}\n\t}\n\n\treturn Sizzle( expr, document, null, [ elem ] ).length > 0;\n};\n\nSizzle.contains = function( context, elem ) {\n\n\t// Set document vars if needed\n\t// Support: IE 11+, Edge 17 - 18+\n\t// IE/Edge sometimes throw a \"Permission denied\" error when strict-comparing\n\t// two documents; shallow comparisons work.\n\t// eslint-disable-next-line eqeqeq\n\tif ( ( context.ownerDocument || context ) != document ) {\n\t\tsetDocument( context );\n\t}\n\treturn contains( context, elem );\n};\n\nSizzle.attr = function( elem, name ) {\n\n\t// Set document vars if needed\n\t// Support: IE 11+, Edge 17 - 18+\n\t// IE/Edge sometimes throw a \"Permission denied\" error when strict-comparing\n\t// two documents; shallow comparisons work.\n\t// eslint-disable-next-line eqeqeq\n\tif ( ( elem.ownerDocument || elem ) != document ) {\n\t\tsetDocument( elem );\n\t}\n\n\tvar fn = Expr.attrHandle[ name.toLowerCase() ],\n\n\t\t// Don't get fooled by Object.prototype properties (jQuery #13807)\n\t\tval = fn && hasOwn.call( Expr.attrHandle, name.toLowerCase() ) ?\n\t\t\tfn( elem, name, !documentIsHTML ) :\n\t\t\tundefined;\n\n\treturn val !== undefined ?\n\t\tval :\n\t\tsupport.attributes || !documentIsHTML ?\n\t\t\telem.getAttribute( name ) :\n\t\t\t( val = elem.getAttributeNode( name ) ) && val.specified ?\n\t\t\t\tval.value :\n\t\t\t\tnull;\n};\n\nSizzle.escape = function( sel ) {\n\treturn ( sel + \"\" ).replace( rcssescape, fcssescape );\n};\n\nSizzle.error = function( msg ) {\n\tthrow new Error( \"Syntax error, unrecognized expression: \" + msg );\n};\n\n/**\n * Document sorting and removing duplicates\n * @param {ArrayLike} results\n */\nSizzle.uniqueSort = function( results ) {\n\tvar elem,\n\t\tduplicates = [],\n\t\tj = 0,\n\t\ti = 0;\n\n\t// Unless we *know* we can detect duplicates, assume their presence\n\thasDuplicate = !support.detectDuplicates;\n\tsortInput = !support.sortStable && results.slice( 0 );\n\tresults.sort( sortOrder );\n\n\tif ( hasDuplicate ) {\n\t\twhile ( ( elem = results[ i++ ] ) ) {\n\t\t\tif ( elem === results[ i ] ) {\n\t\t\t\tj = duplicates.push( i );\n\t\t\t}\n\t\t}\n\t\twhile ( j-- ) {\n\t\t\tresults.splice( duplicates[ j ], 1 );\n\t\t}\n\t}\n\n\t// Clear input after sorting to release objects\n\t// See https://github.com/jquery/sizzle/pull/225\n\tsortInput = null;\n\n\treturn results;\n};\n\n/**\n * Utility function for retrieving the text value of an array of DOM nodes\n * @param {Array|Element} elem\n */\ngetText = Sizzle.getText = function( elem ) {\n\tvar node,\n\t\tret = \"\",\n\t\ti = 0,\n\t\tnodeType = elem.nodeType;\n\n\tif ( !nodeType ) {\n\n\t\t// If no nodeType, this is expected to be an array\n\t\twhile ( ( node = elem[ i++ ] ) ) {\n\n\t\t\t// Do not traverse comment nodes\n\t\t\tret += getText( node );\n\t\t}\n\t} else if ( nodeType === 1 || nodeType === 9 || nodeType === 11 ) {\n\n\t\t// Use textContent for elements\n\t\t// innerText usage removed for consistency of new lines (jQuery #11153)\n\t\tif ( typeof elem.textContent === \"string\" ) {\n\t\t\treturn elem.textContent;\n\t\t} else {\n\n\t\t\t// Traverse its children\n\t\t\tfor ( elem = elem.firstChild; elem; elem = elem.nextSibling ) {\n\t\t\t\tret += getText( elem );\n\t\t\t}\n\t\t}\n\t} else if ( nodeType === 3 || nodeType === 4 ) {\n\t\treturn elem.nodeValue;\n\t}\n\n\t// Do not include comment or processing instruction nodes\n\n\treturn ret;\n};\n\nExpr = Sizzle.selectors = {\n\n\t// Can be adjusted by the user\n\tcacheLength: 50,\n\n\tcreatePseudo: markFunction,\n\n\tmatch: matchExpr,\n\n\tattrHandle: {},\n\n\tfind: {},\n\n\trelative: {\n\t\t\">\": { dir: \"parentNode\", first: true },\n\t\t\" \": { dir: \"parentNode\" },\n\t\t\"+\": { dir: \"previousSibling\", first: true },\n\t\t\"~\": { dir: \"previousSibling\" }\n\t},\n\n\tpreFilter: {\n\t\t\"ATTR\": function( match ) {\n\t\t\tmatch[ 1 ] = match[ 1 ].replace( runescape, funescape );\n\n\t\t\t// Move the given value to match[3] whether quoted or unquoted\n\t\t\tmatch[ 3 ] = ( match[ 3 ] || match[ 4 ] ||\n\t\t\t\tmatch[ 5 ] || \"\" ).replace( runescape, funescape );\n\n\t\t\tif ( match[ 2 ] === \"~=\" ) {\n\t\t\t\tmatch[ 3 ] = \" \" + match[ 3 ] + \" \";\n\t\t\t}\n\n\t\t\treturn match.slice( 0, 4 );\n\t\t},\n\n\t\t\"CHILD\": function( match ) {\n\n\t\t\t/* matches from matchExpr[\"CHILD\"]\n\t\t\t\t1 type (only|nth|...)\n\t\t\t\t2 what (child|of-type)\n\t\t\t\t3 argument (even|odd|\\d*|\\d*n([+-]\\d+)?|...)\n\t\t\t\t4 xn-component of xn+y argument ([+-]?\\d*n|)\n\t\t\t\t5 sign of xn-component\n\t\t\t\t6 x of xn-component\n\t\t\t\t7 sign of y-component\n\t\t\t\t8 y of y-component\n\t\t\t*/\n\t\t\tmatch[ 1 ] = match[ 1 ].toLowerCase();\n\n\t\t\tif ( match[ 1 ].slice( 0, 3 ) === \"nth\" ) {\n\n\t\t\t\t// nth-* requires argument\n\t\t\t\tif ( !match[ 3 ] ) {\n\t\t\t\t\tSizzle.error( match[ 0 ] );\n\t\t\t\t}\n\n\t\t\t\t// numeric x and y parameters for Expr.filter.CHILD\n\t\t\t\t// remember that false/true cast respectively to 0/1\n\t\t\t\tmatch[ 4 ] = +( match[ 4 ] ?\n\t\t\t\t\tmatch[ 5 ] + ( match[ 6 ] || 1 ) :\n\t\t\t\t\t2 * ( match[ 3 ] === \"even\" || match[ 3 ] === \"odd\" ) );\n\t\t\t\tmatch[ 5 ] = +( ( match[ 7 ] + match[ 8 ] ) || match[ 3 ] === \"odd\" );\n\n\t\t\t\t// other types prohibit arguments\n\t\t\t} else if ( match[ 3 ] ) {\n\t\t\t\tSizzle.error( match[ 0 ] );\n\t\t\t}\n\n\t\t\treturn match;\n\t\t},\n\n\t\t\"PSEUDO\": function( match ) {\n\t\t\tvar excess,\n\t\t\t\tunquoted = !match[ 6 ] && match[ 2 ];\n\n\t\t\tif ( matchExpr[ \"CHILD\" ].test( match[ 0 ] ) ) {\n\t\t\t\treturn null;\n\t\t\t}\n\n\t\t\t// Accept quoted arguments as-is\n\t\t\tif ( match[ 3 ] ) {\n\t\t\t\tmatch[ 2 ] = match[ 4 ] || match[ 5 ] || \"\";\n\n\t\t\t// Strip excess characters from unquoted arguments\n\t\t\t} else if ( unquoted && rpseudo.test( unquoted ) &&\n\n\t\t\t\t// Get excess from tokenize (recursively)\n\t\t\t\t( excess = tokenize( unquoted, true ) ) &&\n\n\t\t\t\t// advance to the next closing parenthesis\n\t\t\t\t( excess = unquoted.indexOf( \")\", unquoted.length - excess ) - unquoted.length ) ) {\n\n\t\t\t\t// excess is a negative index\n\t\t\t\tmatch[ 0 ] = match[ 0 ].slice( 0, excess );\n\t\t\t\tmatch[ 2 ] = unquoted.slice( 0, excess );\n\t\t\t}\n\n\t\t\t// Return only captures needed by the pseudo filter method (type and argument)\n\t\t\treturn match.slice( 0, 3 );\n\t\t}\n\t},\n\n\tfilter: {\n\n\t\t\"TAG\": function( nodeNameSelector ) {\n\t\t\tvar nodeName = nodeNameSelector.replace( runescape, funescape ).toLowerCase();\n\t\t\treturn nodeNameSelector === \"*\" ?\n\t\t\t\tfunction() {\n\t\t\t\t\treturn true;\n\t\t\t\t} :\n\t\t\t\tfunction( elem ) {\n\t\t\t\t\treturn elem.nodeName && elem.nodeName.toLowerCase() === nodeName;\n\t\t\t\t};\n\t\t},\n\n\t\t\"CLASS\": function( className ) {\n\t\t\tvar pattern = classCache[ className + \" \" ];\n\n\t\t\treturn pattern ||\n\t\t\t\t( pattern = new RegExp( \"(^|\" + whitespace +\n\t\t\t\t\t\")\" + className + \"(\" + whitespace + \"|$)\" ) ) && classCache(\n\t\t\t\t\t\tclassName, function( elem ) {\n\t\t\t\t\t\t\treturn pattern.test(\n\t\t\t\t\t\t\t\ttypeof elem.className === \"string\" && elem.className ||\n\t\t\t\t\t\t\t\ttypeof elem.getAttribute !== \"undefined\" &&\n\t\t\t\t\t\t\t\t\telem.getAttribute( \"class\" ) ||\n\t\t\t\t\t\t\t\t\"\"\n\t\t\t\t\t\t\t);\n\t\t\t\t} );\n\t\t},\n\n\t\t\"ATTR\": function( name, operator, check ) {\n\t\t\treturn function( elem ) {\n\t\t\t\tvar result = Sizzle.attr( elem, name );\n\n\t\t\t\tif ( result == null ) {\n\t\t\t\t\treturn operator === \"!=\";\n\t\t\t\t}\n\t\t\t\tif ( !operator ) {\n\t\t\t\t\treturn true;\n\t\t\t\t}\n\n\t\t\t\tresult += \"\";\n\n\t\t\t\t/* eslint-disable max-len */\n\n\t\t\t\treturn operator === \"=\" ? result === check :\n\t\t\t\t\toperator === \"!=\" ? result !== check :\n\t\t\t\t\toperator === \"^=\" ? check && result.indexOf( check ) === 0 :\n\t\t\t\t\toperator === \"*=\" ? check && result.indexOf( check ) > -1 :\n\t\t\t\t\toperator === \"$=\" ? check && result.slice( -check.length ) === check :\n\t\t\t\t\toperator === \"~=\" ? ( \" \" + result.replace( rwhitespace, \" \" ) + \" \" ).indexOf( check ) > -1 :\n\t\t\t\t\toperator === \"|=\" ? result === check || result.slice( 0, check.length + 1 ) === check + \"-\" :\n\t\t\t\t\tfalse;\n\t\t\t\t/* eslint-enable max-len */\n\n\t\t\t};\n\t\t},\n\n\t\t\"CHILD\": function( type, what, _argument, first, last ) {\n\t\t\tvar simple = type.slice( 0, 3 ) !== \"nth\",\n\t\t\t\tforward = type.slice( -4 ) !== \"last\",\n\t\t\t\tofType = what === \"of-type\";\n\n\t\t\treturn first === 1 && last === 0 ?\n\n\t\t\t\t// Shortcut for :nth-*(n)\n\t\t\t\tfunction( elem ) {\n\t\t\t\t\treturn !!elem.parentNode;\n\t\t\t\t} :\n\n\t\t\t\tfunction( elem, _context, xml ) {\n\t\t\t\t\tvar cache, uniqueCache, outerCache, node, nodeIndex, start,\n\t\t\t\t\t\tdir = simple !== forward ? \"nextSibling\" : \"previousSibling\",\n\t\t\t\t\t\tparent = elem.parentNode,\n\t\t\t\t\t\tname = ofType && elem.nodeName.toLowerCase(),\n\t\t\t\t\t\tuseCache = !xml && !ofType,\n\t\t\t\t\t\tdiff = false;\n\n\t\t\t\t\tif ( parent ) {\n\n\t\t\t\t\t\t// :(first|last|only)-(child|of-type)\n\t\t\t\t\t\tif ( simple ) {\n\t\t\t\t\t\t\twhile ( dir ) {\n\t\t\t\t\t\t\t\tnode = elem;\n\t\t\t\t\t\t\t\twhile ( ( node = node[ dir ] ) ) {\n\t\t\t\t\t\t\t\t\tif ( ofType ?\n\t\t\t\t\t\t\t\t\t\tnode.nodeName.toLowerCase() === name :\n\t\t\t\t\t\t\t\t\t\tnode.nodeType === 1 ) {\n\n\t\t\t\t\t\t\t\t\t\treturn false;\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\t// Reverse direction for :only-* (if we haven't yet done so)\n\t\t\t\t\t\t\t\tstart = dir = type === \"only\" && !start && \"nextSibling\";\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\treturn true;\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tstart = [ forward ? parent.firstChild : parent.lastChild ];\n\n\t\t\t\t\t\t// non-xml :nth-child(...) stores cache data on `parent`\n\t\t\t\t\t\tif ( forward && useCache ) {\n\n\t\t\t\t\t\t\t// Seek `elem` from a previously-cached index\n\n\t\t\t\t\t\t\t// ...in a gzip-friendly way\n\t\t\t\t\t\t\tnode = parent;\n\t\t\t\t\t\t\touterCache = node[ expando ] || ( node[ expando ] = {} );\n\n\t\t\t\t\t\t\t// Support: IE <9 only\n\t\t\t\t\t\t\t// Defend against cloned attroperties (jQuery gh-1709)\n\t\t\t\t\t\t\tuniqueCache = outerCache[ node.uniqueID ] ||\n\t\t\t\t\t\t\t\t( outerCache[ node.uniqueID ] = {} );\n\n\t\t\t\t\t\t\tcache = uniqueCache[ type ] || [];\n\t\t\t\t\t\t\tnodeIndex = cache[ 0 ] === dirruns && cache[ 1 ];\n\t\t\t\t\t\t\tdiff = nodeIndex && cache[ 2 ];\n\t\t\t\t\t\t\tnode = nodeIndex && parent.childNodes[ nodeIndex ];\n\n\t\t\t\t\t\t\twhile ( ( node = ++nodeIndex && node && node[ dir ] ||\n\n\t\t\t\t\t\t\t\t// Fallback to seeking `elem` from the start\n\t\t\t\t\t\t\t\t( diff = nodeIndex = 0 ) || start.pop() ) ) {\n\n\t\t\t\t\t\t\t\t// When found, cache indexes on `parent` and break\n\t\t\t\t\t\t\t\tif ( node.nodeType === 1 && ++diff && node === elem ) {\n\t\t\t\t\t\t\t\t\tuniqueCache[ type ] = [ dirruns, nodeIndex, diff ];\n\t\t\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t} else {\n\n\t\t\t\t\t\t\t// Use previously-cached element index if available\n\t\t\t\t\t\t\tif ( useCache ) {\n\n\t\t\t\t\t\t\t\t// ...in a gzip-friendly way\n\t\t\t\t\t\t\t\tnode = elem;\n\t\t\t\t\t\t\t\touterCache = node[ expando ] || ( node[ expando ] = {} );\n\n\t\t\t\t\t\t\t\t// Support: IE <9 only\n\t\t\t\t\t\t\t\t// Defend against cloned attroperties (jQuery gh-1709)\n\t\t\t\t\t\t\t\tuniqueCache = outerCache[ node.uniqueID ] ||\n\t\t\t\t\t\t\t\t\t( outerCache[ node.uniqueID ] = {} );\n\n\t\t\t\t\t\t\t\tcache = uniqueCache[ type ] || [];\n\t\t\t\t\t\t\t\tnodeIndex = cache[ 0 ] === dirruns && cache[ 1 ];\n\t\t\t\t\t\t\t\tdiff = nodeIndex;\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t// xml :nth-child(...)\n\t\t\t\t\t\t\t// or :nth-last-child(...) or :nth(-last)?-of-type(...)\n\t\t\t\t\t\t\tif ( diff === false ) {\n\n\t\t\t\t\t\t\t\t// Use the same loop as above to seek `elem` from the start\n\t\t\t\t\t\t\t\twhile ( ( node = ++nodeIndex && node && node[ dir ] ||\n\t\t\t\t\t\t\t\t\t( diff = nodeIndex = 0 ) || start.pop() ) ) {\n\n\t\t\t\t\t\t\t\t\tif ( ( ofType ?\n\t\t\t\t\t\t\t\t\t\tnode.nodeName.toLowerCase() === name :\n\t\t\t\t\t\t\t\t\t\tnode.nodeType === 1 ) &&\n\t\t\t\t\t\t\t\t\t\t++diff ) {\n\n\t\t\t\t\t\t\t\t\t\t// Cache the index of each encountered element\n\t\t\t\t\t\t\t\t\t\tif ( useCache ) {\n\t\t\t\t\t\t\t\t\t\t\touterCache = node[ expando ] ||\n\t\t\t\t\t\t\t\t\t\t\t\t( node[ expando ] = {} );\n\n\t\t\t\t\t\t\t\t\t\t\t// Support: IE <9 only\n\t\t\t\t\t\t\t\t\t\t\t// Defend against cloned attroperties (jQuery gh-1709)\n\t\t\t\t\t\t\t\t\t\t\tuniqueCache = outerCache[ node.uniqueID ] ||\n\t\t\t\t\t\t\t\t\t\t\t\t( outerCache[ node.uniqueID ] = {} );\n\n\t\t\t\t\t\t\t\t\t\t\tuniqueCache[ type ] = [ dirruns, diff ];\n\t\t\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\t\t\tif ( node === elem ) {\n\t\t\t\t\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\t// Incorporate the offset, then check against cycle size\n\t\t\t\t\t\tdiff -= last;\n\t\t\t\t\t\treturn diff === first || ( diff % first === 0 && diff / first >= 0 );\n\t\t\t\t\t}\n\t\t\t\t};\n\t\t},\n\n\t\t\"PSEUDO\": function( pseudo, argument ) {\n\n\t\t\t// pseudo-class names are case-insensitive\n\t\t\t// http://www.w3.org/TR/selectors/#pseudo-classes\n\t\t\t// Prioritize by case sensitivity in case custom pseudos are added with uppercase letters\n\t\t\t// Remember that setFilters inherits from pseudos\n\t\t\tvar args,\n\t\t\t\tfn = Expr.pseudos[ pseudo ] || Expr.setFilters[ pseudo.toLowerCase() ] ||\n\t\t\t\t\tSizzle.error( \"unsupported pseudo: \" + pseudo );\n\n\t\t\t// The user may use createPseudo to indicate that\n\t\t\t// arguments are needed to create the filter function\n\t\t\t// just as Sizzle does\n\t\t\tif ( fn[ expando ] ) {\n\t\t\t\treturn fn( argument );\n\t\t\t}\n\n\t\t\t// But maintain support for old signatures\n\t\t\tif ( fn.length > 1 ) {\n\t\t\t\targs = [ pseudo, pseudo, \"\", argument ];\n\t\t\t\treturn Expr.setFilters.hasOwnProperty( pseudo.toLowerCase() ) ?\n\t\t\t\t\tmarkFunction( function( seed, matches ) {\n\t\t\t\t\t\tvar idx,\n\t\t\t\t\t\t\tmatched = fn( seed, argument ),\n\t\t\t\t\t\t\ti = matched.length;\n\t\t\t\t\t\twhile ( i-- ) {\n\t\t\t\t\t\t\tidx = indexOf( seed, matched[ i ] );\n\t\t\t\t\t\t\tseed[ idx ] = !( matches[ idx ] = matched[ i ] );\n\t\t\t\t\t\t}\n\t\t\t\t\t} ) :\n\t\t\t\t\tfunction( elem ) {\n\t\t\t\t\t\treturn fn( elem, 0, args );\n\t\t\t\t\t};\n\t\t\t}\n\n\t\t\treturn fn;\n\t\t}\n\t},\n\n\tpseudos: {\n\n\t\t// Potentially complex pseudos\n\t\t\"not\": markFunction( function( selector ) {\n\n\t\t\t// Trim the selector passed to compile\n\t\t\t// to avoid treating leading and trailing\n\t\t\t// spaces as combinators\n\t\t\tvar input = [],\n\t\t\t\tresults = [],\n\t\t\t\tmatcher = compile( selector.replace( rtrim, \"$1\" ) );\n\n\t\t\treturn matcher[ expando ] ?\n\t\t\t\tmarkFunction( function( seed, matches, _context, xml ) {\n\t\t\t\t\tvar elem,\n\t\t\t\t\t\tunmatched = matcher( seed, null, xml, [] ),\n\t\t\t\t\t\ti = seed.length;\n\n\t\t\t\t\t// Match elements unmatched by `matcher`\n\t\t\t\t\twhile ( i-- ) {\n\t\t\t\t\t\tif ( ( elem = unmatched[ i ] ) ) {\n\t\t\t\t\t\t\tseed[ i ] = !( matches[ i ] = elem );\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t} ) :\n\t\t\t\tfunction( elem, _context, xml ) {\n\t\t\t\t\tinput[ 0 ] = elem;\n\t\t\t\t\tmatcher( input, null, xml, results );\n\n\t\t\t\t\t// Don't keep the element (issue #299)\n\t\t\t\t\tinput[ 0 ] = null;\n\t\t\t\t\treturn !results.pop();\n\t\t\t\t};\n\t\t} ),\n\n\t\t\"has\": markFunction( function( selector ) {\n\t\t\treturn function( elem ) {\n\t\t\t\treturn Sizzle( selector, elem ).length > 0;\n\t\t\t};\n\t\t} ),\n\n\t\t\"contains\": markFunction( function( text ) {\n\t\t\ttext = text.replace( runescape, funescape );\n\t\t\treturn function( elem ) {\n\t\t\t\treturn ( elem.textContent || getText( elem ) ).indexOf( text ) > -1;\n\t\t\t};\n\t\t} ),\n\n\t\t// \"Whether an element is represented by a :lang() selector\n\t\t// is based solely on the element's language value\n\t\t// being equal to the identifier C,\n\t\t// or beginning with the identifier C immediately followed by \"-\".\n\t\t// The matching of C against the element's language value is performed case-insensitively.\n\t\t// The identifier C does not have to be a valid language name.\"\n\t\t// http://www.w3.org/TR/selectors/#lang-pseudo\n\t\t\"lang\": markFunction( function( lang ) {\n\n\t\t\t// lang value must be a valid identifier\n\t\t\tif ( !ridentifier.test( lang || \"\" ) ) {\n\t\t\t\tSizzle.error( \"unsupported lang: \" + lang );\n\t\t\t}\n\t\t\tlang = lang.replace( runescape, funescape ).toLowerCase();\n\t\t\treturn function( elem ) {\n\t\t\t\tvar elemLang;\n\t\t\t\tdo {\n\t\t\t\t\tif ( ( elemLang = documentIsHTML ?\n\t\t\t\t\t\telem.lang :\n\t\t\t\t\t\telem.getAttribute( \"xml:lang\" ) || elem.getAttribute( \"lang\" ) ) ) {\n\n\t\t\t\t\t\telemLang = elemLang.toLowerCase();\n\t\t\t\t\t\treturn elemLang === lang || elemLang.indexOf( lang + \"-\" ) === 0;\n\t\t\t\t\t}\n\t\t\t\t} while ( ( elem = elem.parentNode ) && elem.nodeType === 1 );\n\t\t\t\treturn false;\n\t\t\t};\n\t\t} ),\n\n\t\t// Miscellaneous\n\t\t\"target\": function( elem ) {\n\t\t\tvar hash = window.location && window.location.hash;\n\t\t\treturn hash && hash.slice( 1 ) === elem.id;\n\t\t},\n\n\t\t\"root\": function( elem ) {\n\t\t\treturn elem === docElem;\n\t\t},\n\n\t\t\"focus\": function( elem ) {\n\t\t\treturn elem === document.activeElement &&\n\t\t\t\t( !document.hasFocus || document.hasFocus() ) &&\n\t\t\t\t!!( elem.type || elem.href || ~elem.tabIndex );\n\t\t},\n\n\t\t// Boolean properties\n\t\t\"enabled\": createDisabledPseudo( false ),\n\t\t\"disabled\": createDisabledPseudo( true ),\n\n\t\t\"checked\": function( elem ) {\n\n\t\t\t// In CSS3, :checked should return both checked and selected elements\n\t\t\t// http://www.w3.org/TR/2011/REC-css3-selectors-20110929/#checked\n\t\t\tvar nodeName = elem.nodeName.toLowerCase();\n\t\t\treturn ( nodeName === \"input\" && !!elem.checked ) ||\n\t\t\t\t( nodeName === \"option\" && !!elem.selected );\n\t\t},\n\n\t\t\"selected\": function( elem ) {\n\n\t\t\t// Accessing this property makes selected-by-default\n\t\t\t// options in Safari work properly\n\t\t\tif ( elem.parentNode ) {\n\t\t\t\t// eslint-disable-next-line no-unused-expressions\n\t\t\t\telem.parentNode.selectedIndex;\n\t\t\t}\n\n\t\t\treturn elem.selected === true;\n\t\t},\n\n\t\t// Contents\n\t\t\"empty\": function( elem ) {\n\n\t\t\t// http://www.w3.org/TR/selectors/#empty-pseudo\n\t\t\t// :empty is negated by element (1) or content nodes (text: 3; cdata: 4; entity ref: 5),\n\t\t\t//   but not by others (comment: 8; processing instruction: 7; etc.)\n\t\t\t// nodeType < 6 works because attributes (2) do not appear as children\n\t\t\tfor ( elem = elem.firstChild; elem; elem = elem.nextSibling ) {\n\t\t\t\tif ( elem.nodeType < 6 ) {\n\t\t\t\t\treturn false;\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn true;\n\t\t},\n\n\t\t\"parent\": function( elem ) {\n\t\t\treturn !Expr.pseudos[ \"empty\" ]( elem );\n\t\t},\n\n\t\t// Element/input types\n\t\t\"header\": function( elem ) {\n\t\t\treturn rheader.test( elem.nodeName );\n\t\t},\n\n\t\t\"input\": function( elem ) {\n\t\t\treturn rinputs.test( elem.nodeName );\n\t\t},\n\n\t\t\"button\": function( elem ) {\n\t\t\tvar name = elem.nodeName.toLowerCase();\n\t\t\treturn name === \"input\" && elem.type === \"button\" || name === \"button\";\n\t\t},\n\n\t\t\"text\": function( elem ) {\n\t\t\tvar attr;\n\t\t\treturn elem.nodeName.toLowerCase() === \"input\" &&\n\t\t\t\telem.type === \"text\" &&\n\n\t\t\t\t// Support: IE<8\n\t\t\t\t// New HTML5 attribute values (e.g., \"search\") appear with elem.type === \"text\"\n\t\t\t\t( ( attr = elem.getAttribute( \"type\" ) ) == null ||\n\t\t\t\t\tattr.toLowerCase() === \"text\" );\n\t\t},\n\n\t\t// Position-in-collection\n\t\t\"first\": createPositionalPseudo( function() {\n\t\t\treturn [ 0 ];\n\t\t} ),\n\n\t\t\"last\": createPositionalPseudo( function( _matchIndexes, length ) {\n\t\t\treturn [ length - 1 ];\n\t\t} ),\n\n\t\t\"eq\": createPositionalPseudo( function( _matchIndexes, length, argument ) {\n\t\t\treturn [ argument < 0 ? argument + length : argument ];\n\t\t} ),\n\n\t\t\"even\": createPositionalPseudo( function( matchIndexes, length ) {\n\t\t\tvar i = 0;\n\t\t\tfor ( ; i < length; i += 2 ) {\n\t\t\t\tmatchIndexes.push( i );\n\t\t\t}\n\t\t\treturn matchIndexes;\n\t\t} ),\n\n\t\t\"odd\": createPositionalPseudo( function( matchIndexes, length ) {\n\t\t\tvar i = 1;\n\t\t\tfor ( ; i < length; i += 2 ) {\n\t\t\t\tmatchIndexes.push( i );\n\t\t\t}\n\t\t\treturn matchIndexes;\n\t\t} ),\n\n\t\t\"lt\": createPositionalPseudo( function( matchIndexes, length, argument ) {\n\t\t\tvar i = argument < 0 ?\n\t\t\t\targument + length :\n\t\t\t\targument > length ?\n\t\t\t\t\tlength :\n\t\t\t\t\targument;\n\t\t\tfor ( ; --i >= 0; ) {\n\t\t\t\tmatchIndexes.push( i );\n\t\t\t}\n\t\t\treturn matchIndexes;\n\t\t} ),\n\n\t\t\"gt\": createPositionalPseudo( function( matchIndexes, length, argument ) {\n\t\t\tvar i = argument < 0 ? argument + length : argument;\n\t\t\tfor ( ; ++i < length; ) {\n\t\t\t\tmatchIndexes.push( i );\n\t\t\t}\n\t\t\treturn matchIndexes;\n\t\t} )\n\t}\n};\n\nExpr.pseudos[ \"nth\" ] = Expr.pseudos[ \"eq\" ];\n\n// Add button/input type pseudos\nfor ( i in { radio: true, checkbox: true, file: true, password: true, image: true } ) {\n\tExpr.pseudos[ i ] = createInputPseudo( i );\n}\nfor ( i in { submit: true, reset: true } ) {\n\tExpr.pseudos[ i ] = createButtonPseudo( i );\n}\n\n// Easy API for creating new setFilters\nfunction setFilters() {}\nsetFilters.prototype = Expr.filters = Expr.pseudos;\nExpr.setFilters = new setFilters();\n\ntokenize = Sizzle.tokenize = function( selector, parseOnly ) {\n\tvar matched, match, tokens, type,\n\t\tsoFar, groups, preFilters,\n\t\tcached = tokenCache[ selector + \" \" ];\n\n\tif ( cached ) {\n\t\treturn parseOnly ? 0 : cached.slice( 0 );\n\t}\n\n\tsoFar = selector;\n\tgroups = [];\n\tpreFilters = Expr.preFilter;\n\n\twhile ( soFar ) {\n\n\t\t// Comma and first run\n\t\tif ( !matched || ( match = rcomma.exec( soFar ) ) ) {\n\t\t\tif ( match ) {\n\n\t\t\t\t// Don't consume trailing commas as valid\n\t\t\t\tsoFar = soFar.slice( match[ 0 ].length ) || soFar;\n\t\t\t}\n\t\t\tgroups.push( ( tokens = [] ) );\n\t\t}\n\n\t\tmatched = false;\n\n\t\t// Combinators\n\t\tif ( ( match = rcombinators.exec( soFar ) ) ) {\n\t\t\tmatched = match.shift();\n\t\t\ttokens.push( {\n\t\t\t\tvalue: matched,\n\n\t\t\t\t// Cast descendant combinators to space\n\t\t\t\ttype: match[ 0 ].replace( rtrim, \" \" )\n\t\t\t} );\n\t\t\tsoFar = soFar.slice( matched.length );\n\t\t}\n\n\t\t// Filters\n\t\tfor ( type in Expr.filter ) {\n\t\t\tif ( ( match = matchExpr[ type ].exec( soFar ) ) && ( !preFilters[ type ] ||\n\t\t\t\t( match = preFilters[ type ]( match ) ) ) ) {\n\t\t\t\tmatched = match.shift();\n\t\t\t\ttokens.push( {\n\t\t\t\t\tvalue: matched,\n\t\t\t\t\ttype: type,\n\t\t\t\t\tmatches: match\n\t\t\t\t} );\n\t\t\t\tsoFar = soFar.slice( matched.length );\n\t\t\t}\n\t\t}\n\n\t\tif ( !matched ) {\n\t\t\tbreak;\n\t\t}\n\t}\n\n\t// Return the length of the invalid excess\n\t// if we're just parsing\n\t// Otherwise, throw an error or return tokens\n\treturn parseOnly ?\n\t\tsoFar.length :\n\t\tsoFar ?\n\t\t\tSizzle.error( selector ) :\n\n\t\t\t// Cache the tokens\n\t\t\ttokenCache( selector, groups ).slice( 0 );\n};\n\nfunction toSelector( tokens ) {\n\tvar i = 0,\n\t\tlen = tokens.length,\n\t\tselector = \"\";\n\tfor ( ; i < len; i++ ) {\n\t\tselector += tokens[ i ].value;\n\t}\n\treturn selector;\n}\n\nfunction addCombinator( matcher, combinator, base ) {\n\tvar dir = combinator.dir,\n\t\tskip = combinator.next,\n\t\tkey = skip || dir,\n\t\tcheckNonElements = base && key === \"parentNode\",\n\t\tdoneName = done++;\n\n\treturn combinator.first ?\n\n\t\t// Check against closest ancestor/preceding element\n\t\tfunction( elem, context, xml ) {\n\t\t\twhile ( ( elem = elem[ dir ] ) ) {\n\t\t\t\tif ( elem.nodeType === 1 || checkNonElements ) {\n\t\t\t\t\treturn matcher( elem, context, xml );\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn false;\n\t\t} :\n\n\t\t// Check against all ancestor/preceding elements\n\t\tfunction( elem, context, xml ) {\n\t\t\tvar oldCache, uniqueCache, outerCache,\n\t\t\t\tnewCache = [ dirruns, doneName ];\n\n\t\t\t// We can't set arbitrary data on XML nodes, so they don't benefit from combinator caching\n\t\t\tif ( xml ) {\n\t\t\t\twhile ( ( elem = elem[ dir ] ) ) {\n\t\t\t\t\tif ( elem.nodeType === 1 || checkNonElements ) {\n\t\t\t\t\t\tif ( matcher( elem, context, xml ) ) {\n\t\t\t\t\t\t\treturn true;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\twhile ( ( elem = elem[ dir ] ) ) {\n\t\t\t\t\tif ( elem.nodeType === 1 || checkNonElements ) {\n\t\t\t\t\t\touterCache = elem[ expando ] || ( elem[ expando ] = {} );\n\n\t\t\t\t\t\t// Support: IE <9 only\n\t\t\t\t\t\t// Defend against cloned attroperties (jQuery gh-1709)\n\t\t\t\t\t\tuniqueCache = outerCache[ elem.uniqueID ] ||\n\t\t\t\t\t\t\t( outerCache[ elem.uniqueID ] = {} );\n\n\t\t\t\t\t\tif ( skip && skip === elem.nodeName.toLowerCase() ) {\n\t\t\t\t\t\t\telem = elem[ dir ] || elem;\n\t\t\t\t\t\t} else if ( ( oldCache = uniqueCache[ key ] ) &&\n\t\t\t\t\t\t\toldCache[ 0 ] === dirruns && oldCache[ 1 ] === doneName ) {\n\n\t\t\t\t\t\t\t// Assign to newCache so results back-propagate to previous elements\n\t\t\t\t\t\t\treturn ( newCache[ 2 ] = oldCache[ 2 ] );\n\t\t\t\t\t\t} else {\n\n\t\t\t\t\t\t\t// Reuse newcache so results back-propagate to previous elements\n\t\t\t\t\t\t\tuniqueCache[ key ] = newCache;\n\n\t\t\t\t\t\t\t// A match means we're done; a fail means we have to keep checking\n\t\t\t\t\t\t\tif ( ( newCache[ 2 ] = matcher( elem, context, xml ) ) ) {\n\t\t\t\t\t\t\t\treturn true;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn false;\n\t\t};\n}\n\nfunction elementMatcher( matchers ) {\n\treturn matchers.length > 1 ?\n\t\tfunction( elem, context, xml ) {\n\t\t\tvar i = matchers.length;\n\t\t\twhile ( i-- ) {\n\t\t\t\tif ( !matchers[ i ]( elem, context, xml ) ) {\n\t\t\t\t\treturn false;\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn true;\n\t\t} :\n\t\tmatchers[ 0 ];\n}\n\nfunction multipleContexts( selector, contexts, results ) {\n\tvar i = 0,\n\t\tlen = contexts.length;\n\tfor ( ; i < len; i++ ) {\n\t\tSizzle( selector, contexts[ i ], results );\n\t}\n\treturn results;\n}\n\nfunction condense( unmatched, map, filter, context, xml ) {\n\tvar elem,\n\t\tnewUnmatched = [],\n\t\ti = 0,\n\t\tlen = unmatched.length,\n\t\tmapped = map != null;\n\n\tfor ( ; i < len; i++ ) {\n\t\tif ( ( elem = unmatched[ i ] ) ) {\n\t\t\tif ( !filter || filter( elem, context, xml ) ) {\n\t\t\t\tnewUnmatched.push( elem );\n\t\t\t\tif ( mapped ) {\n\t\t\t\t\tmap.push( i );\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\n\treturn newUnmatched;\n}\n\nfunction setMatcher( preFilter, selector, matcher, postFilter, postFinder, postSelector ) {\n\tif ( postFilter && !postFilter[ expando ] ) {\n\t\tpostFilter = setMatcher( postFilter );\n\t}\n\tif ( postFinder && !postFinder[ expando ] ) {\n\t\tpostFinder = setMatcher( postFinder, postSelector );\n\t}\n\treturn markFunction( function( seed, results, context, xml ) {\n\t\tvar temp, i, elem,\n\t\t\tpreMap = [],\n\t\t\tpostMap = [],\n\t\t\tpreexisting = results.length,\n\n\t\t\t// Get initial elements from seed or context\n\t\t\telems = seed || multipleContexts(\n\t\t\t\tselector || \"*\",\n\t\t\t\tcontext.nodeType ? [ context ] : context,\n\t\t\t\t[]\n\t\t\t),\n\n\t\t\t// Prefilter to get matcher input, preserving a map for seed-results synchronization\n\t\t\tmatcherIn = preFilter && ( seed || !selector ) ?\n\t\t\t\tcondense( elems, preMap, preFilter, context, xml ) :\n\t\t\t\telems,\n\n\t\t\tmatcherOut = matcher ?\n\n\t\t\t\t// If we have a postFinder, or filtered seed, or non-seed postFilter or preexisting results,\n\t\t\t\tpostFinder || ( seed ? preFilter : preexisting || postFilter ) ?\n\n\t\t\t\t\t// ...intermediate processing is necessary\n\t\t\t\t\t[] :\n\n\t\t\t\t\t// ...otherwise use results directly\n\t\t\t\t\tresults :\n\t\t\t\tmatcherIn;\n\n\t\t// Find primary matches\n\t\tif ( matcher ) {\n\t\t\tmatcher( matcherIn, matcherOut, context, xml );\n\t\t}\n\n\t\t// Apply postFilter\n\t\tif ( postFilter ) {\n\t\t\ttemp = condense( matcherOut, postMap );\n\t\t\tpostFilter( temp, [], context, xml );\n\n\t\t\t// Un-match failing elements by moving them back to matcherIn\n\t\t\ti = temp.length;\n\t\t\twhile ( i-- ) {\n\t\t\t\tif ( ( elem = temp[ i ] ) ) {\n\t\t\t\t\tmatcherOut[ postMap[ i ] ] = !( matcherIn[ postMap[ i ] ] = elem );\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\tif ( seed ) {\n\t\t\tif ( postFinder || preFilter ) {\n\t\t\t\tif ( postFinder ) {\n\n\t\t\t\t\t// Get the final matcherOut by condensing this intermediate into postFinder contexts\n\t\t\t\t\ttemp = [];\n\t\t\t\t\ti = matcherOut.length;\n\t\t\t\t\twhile ( i-- ) {\n\t\t\t\t\t\tif ( ( elem = matcherOut[ i ] ) ) {\n\n\t\t\t\t\t\t\t// Restore matcherIn since elem is not yet a final match\n\t\t\t\t\t\t\ttemp.push( ( matcherIn[ i ] = elem ) );\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\tpostFinder( null, ( matcherOut = [] ), temp, xml );\n\t\t\t\t}\n\n\t\t\t\t// Move matched elements from seed to results to keep them synchronized\n\t\t\t\ti = matcherOut.length;\n\t\t\t\twhile ( i-- ) {\n\t\t\t\t\tif ( ( elem = matcherOut[ i ] ) &&\n\t\t\t\t\t\t( temp = postFinder ? indexOf( seed, elem ) : preMap[ i ] ) > -1 ) {\n\n\t\t\t\t\t\tseed[ temp ] = !( results[ temp ] = elem );\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\n\t\t// Add elements to results, through postFinder if defined\n\t\t} else {\n\t\t\tmatcherOut = condense(\n\t\t\t\tmatcherOut === results ?\n\t\t\t\t\tmatcherOut.splice( preexisting, matcherOut.length ) :\n\t\t\t\t\tmatcherOut\n\t\t\t);\n\t\t\tif ( postFinder ) {\n\t\t\t\tpostFinder( null, results, matcherOut, xml );\n\t\t\t} else {\n\t\t\t\tpush.apply( results, matcherOut );\n\t\t\t}\n\t\t}\n\t} );\n}\n\nfunction matcherFromTokens( tokens ) {\n\tvar checkContext, matcher, j,\n\t\tlen = tokens.length,\n\t\tleadingRelative = Expr.relative[ tokens[ 0 ].type ],\n\t\timplicitRelative = leadingRelative || Expr.relative[ \" \" ],\n\t\ti = leadingRelative ? 1 : 0,\n\n\t\t// The foundational matcher ensures that elements are reachable from top-level context(s)\n\t\tmatchContext = addCombinator( function( elem ) {\n\t\t\treturn elem === checkContext;\n\t\t}, implicitRelative, true ),\n\t\tmatchAnyContext = addCombinator( function( elem ) {\n\t\t\treturn indexOf( checkContext, elem ) > -1;\n\t\t}, implicitRelative, true ),\n\t\tmatchers = [ function( elem, context, xml ) {\n\t\t\tvar ret = ( !leadingRelative && ( xml || context !== outermostContext ) ) || (\n\t\t\t\t( checkContext = context ).nodeType ?\n\t\t\t\t\tmatchContext( elem, context, xml ) :\n\t\t\t\t\tmatchAnyContext( elem, context, xml ) );\n\n\t\t\t// Avoid hanging onto element (issue #299)\n\t\t\tcheckContext = null;\n\t\t\treturn ret;\n\t\t} ];\n\n\tfor ( ; i < len; i++ ) {\n\t\tif ( ( matcher = Expr.relative[ tokens[ i ].type ] ) ) {\n\t\t\tmatchers = [ addCombinator( elementMatcher( matchers ), matcher ) ];\n\t\t} else {\n\t\t\tmatcher = Expr.filter[ tokens[ i ].type ].apply( null, tokens[ i ].matches );\n\n\t\t\t// Return special upon seeing a positional matcher\n\t\t\tif ( matcher[ expando ] ) {\n\n\t\t\t\t// Find the next relative operator (if any) for proper handling\n\t\t\t\tj = ++i;\n\t\t\t\tfor ( ; j < len; j++ ) {\n\t\t\t\t\tif ( Expr.relative[ tokens[ j ].type ] ) {\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\treturn setMatcher(\n\t\t\t\t\ti > 1 && elementMatcher( matchers ),\n\t\t\t\t\ti > 1 && toSelector(\n\n\t\t\t\t\t// If the preceding token was a descendant combinator, insert an implicit any-element `*`\n\t\t\t\t\ttokens\n\t\t\t\t\t\t.slice( 0, i - 1 )\n\t\t\t\t\t\t.concat( { value: tokens[ i - 2 ].type === \" \" ? \"*\" : \"\" } )\n\t\t\t\t\t).replace( rtrim, \"$1\" ),\n\t\t\t\t\tmatcher,\n\t\t\t\t\ti < j && matcherFromTokens( tokens.slice( i, j ) ),\n\t\t\t\t\tj < len && matcherFromTokens( ( tokens = tokens.slice( j ) ) ),\n\t\t\t\t\tj < len && toSelector( tokens )\n\t\t\t\t);\n\t\t\t}\n\t\t\tmatchers.push( matcher );\n\t\t}\n\t}\n\n\treturn elementMatcher( matchers );\n}\n\nfunction matcherFromGroupMatchers( elementMatchers, setMatchers ) {\n\tvar bySet = setMatchers.length > 0,\n\t\tbyElement = elementMatchers.length > 0,\n\t\tsuperMatcher = function( seed, context, xml, results, outermost ) {\n\t\t\tvar elem, j, matcher,\n\t\t\t\tmatchedCount = 0,\n\t\t\t\ti = \"0\",\n\t\t\t\tunmatched = seed && [],\n\t\t\t\tsetMatched = [],\n\t\t\t\tcontextBackup = outermostContext,\n\n\t\t\t\t// We must always have either seed elements or outermost context\n\t\t\t\telems = seed || byElement && Expr.find[ \"TAG\" ]( \"*\", outermost ),\n\n\t\t\t\t// Use integer dirruns iff this is the outermost matcher\n\t\t\t\tdirrunsUnique = ( dirruns += contextBackup == null ? 1 : Math.random() || 0.1 ),\n\t\t\t\tlen = elems.length;\n\n\t\t\tif ( outermost ) {\n\n\t\t\t\t// Support: IE 11+, Edge 17 - 18+\n\t\t\t\t// IE/Edge sometimes throw a \"Permission denied\" error when strict-comparing\n\t\t\t\t// two documents; shallow comparisons work.\n\t\t\t\t// eslint-disable-next-line eqeqeq\n\t\t\t\toutermostContext = context == document || context || outermost;\n\t\t\t}\n\n\t\t\t// Add elements passing elementMatchers directly to results\n\t\t\t// Support: IE<9, Safari\n\t\t\t// Tolerate NodeList properties (IE: \"length\"; Safari: <number>) matching elements by id\n\t\t\tfor ( ; i !== len && ( elem = elems[ i ] ) != null; i++ ) {\n\t\t\t\tif ( byElement && elem ) {\n\t\t\t\t\tj = 0;\n\n\t\t\t\t\t// Support: IE 11+, Edge 17 - 18+\n\t\t\t\t\t// IE/Edge sometimes throw a \"Permission denied\" error when strict-comparing\n\t\t\t\t\t// two documents; shallow comparisons work.\n\t\t\t\t\t// eslint-disable-next-line eqeqeq\n\t\t\t\t\tif ( !context && elem.ownerDocument != document ) {\n\t\t\t\t\t\tsetDocument( elem );\n\t\t\t\t\t\txml = !documentIsHTML;\n\t\t\t\t\t}\n\t\t\t\t\twhile ( ( matcher = elementMatchers[ j++ ] ) ) {\n\t\t\t\t\t\tif ( matcher( elem, context || document, xml ) ) {\n\t\t\t\t\t\t\tresults.push( elem );\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\tif ( outermost ) {\n\t\t\t\t\t\tdirruns = dirrunsUnique;\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\t// Track unmatched elements for set filters\n\t\t\t\tif ( bySet ) {\n\n\t\t\t\t\t// They will have gone through all possible matchers\n\t\t\t\t\tif ( ( elem = !matcher && elem ) ) {\n\t\t\t\t\t\tmatchedCount--;\n\t\t\t\t\t}\n\n\t\t\t\t\t// Lengthen the array for every element, matched or not\n\t\t\t\t\tif ( seed ) {\n\t\t\t\t\t\tunmatched.push( elem );\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t// `i` is now the count of elements visited above, and adding it to `matchedCount`\n\t\t\t// makes the latter nonnegative.\n\t\t\tmatchedCount += i;\n\n\t\t\t// Apply set filters to unmatched elements\n\t\t\t// NOTE: This can be skipped if there are no unmatched elements (i.e., `matchedCount`\n\t\t\t// equals `i`), unless we didn't visit _any_ elements in the above loop because we have\n\t\t\t// no element matchers and no seed.\n\t\t\t// Incrementing an initially-string \"0\" `i` allows `i` to remain a string only in that\n\t\t\t// case, which will result in a \"00\" `matchedCount` that differs from `i` but is also\n\t\t\t// numerically zero.\n\t\t\tif ( bySet && i !== matchedCount ) {\n\t\t\t\tj = 0;\n\t\t\t\twhile ( ( matcher = setMatchers[ j++ ] ) ) {\n\t\t\t\t\tmatcher( unmatched, setMatched, context, xml );\n\t\t\t\t}\n\n\t\t\t\tif ( seed ) {\n\n\t\t\t\t\t// Reintegrate element matches to eliminate the need for sorting\n\t\t\t\t\tif ( matchedCount > 0 ) {\n\t\t\t\t\t\twhile ( i-- ) {\n\t\t\t\t\t\t\tif ( !( unmatched[ i ] || setMatched[ i ] ) ) {\n\t\t\t\t\t\t\t\tsetMatched[ i ] = pop.call( results );\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\n\t\t\t\t\t// Discard index placeholder values to get only actual matches\n\t\t\t\t\tsetMatched = condense( setMatched );\n\t\t\t\t}\n\n\t\t\t\t// Add matches to results\n\t\t\t\tpush.apply( results, setMatched );\n\n\t\t\t\t// Seedless set matches succeeding multiple successful matchers stipulate sorting\n\t\t\t\tif ( outermost && !seed && setMatched.length > 0 &&\n\t\t\t\t\t( matchedCount + setMatchers.length ) > 1 ) {\n\n\t\t\t\t\tSizzle.uniqueSort( results );\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t// Override manipulation of globals by nested matchers\n\t\t\tif ( outermost ) {\n\t\t\t\tdirruns = dirrunsUnique;\n\t\t\t\toutermostContext = contextBackup;\n\t\t\t}\n\n\t\t\treturn unmatched;\n\t\t};\n\n\treturn bySet ?\n\t\tmarkFunction( superMatcher ) :\n\t\tsuperMatcher;\n}\n\ncompile = Sizzle.compile = function( selector, match /* Internal Use Only */ ) {\n\tvar i,\n\t\tsetMatchers = [],\n\t\telementMatchers = [],\n\t\tcached = compilerCache[ selector + \" \" ];\n\n\tif ( !cached ) {\n\n\t\t// Generate a function of recursive functions that can be used to check each element\n\t\tif ( !match ) {\n\t\t\tmatch = tokenize( selector );\n\t\t}\n\t\ti = match.length;\n\t\twhile ( i-- ) {\n\t\t\tcached = matcherFromTokens( match[ i ] );\n\t\t\tif ( cached[ expando ] ) {\n\t\t\t\tsetMatchers.push( cached );\n\t\t\t} else {\n\t\t\t\telementMatchers.push( cached );\n\t\t\t}\n\t\t}\n\n\t\t// Cache the compiled function\n\t\tcached = compilerCache(\n\t\t\tselector,\n\t\t\tmatcherFromGroupMatchers( elementMatchers, setMatchers )\n\t\t);\n\n\t\t// Save selector and tokenization\n\t\tcached.selector = selector;\n\t}\n\treturn cached;\n};\n\n/**\n * A low-level selection function that works with Sizzle's compiled\n *  selector functions\n * @param {String|Function} selector A selector or a pre-compiled\n *  selector function built with Sizzle.compile\n * @param {Element} context\n * @param {Array} [results]\n * @param {Array} [seed] A set of elements to match against\n */\nselect = Sizzle.select = function( selector, context, results, seed ) {\n\tvar i, tokens, token, type, find,\n\t\tcompiled = typeof selector === \"function\" && selector,\n\t\tmatch = !seed && tokenize( ( selector = compiled.selector || selector ) );\n\n\tresults = results || [];\n\n\t// Try to minimize operations if there is only one selector in the list and no seed\n\t// (the latter of which guarantees us context)\n\tif ( match.length === 1 ) {\n\n\t\t// Reduce context if the leading compound selector is an ID\n\t\ttokens = match[ 0 ] = match[ 0 ].slice( 0 );\n\t\tif ( tokens.length > 2 && ( token = tokens[ 0 ] ).type === \"ID\" &&\n\t\t\tcontext.nodeType === 9 && documentIsHTML && Expr.relative[ tokens[ 1 ].type ] ) {\n\n\t\t\tcontext = ( Expr.find[ \"ID\" ]( token.matches[ 0 ]\n\t\t\t\t.replace( runescape, funescape ), context ) || [] )[ 0 ];\n\t\t\tif ( !context ) {\n\t\t\t\treturn results;\n\n\t\t\t// Precompiled matchers will still verify ancestry, so step up a level\n\t\t\t} else if ( compiled ) {\n\t\t\t\tcontext = context.parentNode;\n\t\t\t}\n\n\t\t\tselector = selector.slice( tokens.shift().value.length );\n\t\t}\n\n\t\t// Fetch a seed set for right-to-left matching\n\t\ti = matchExpr[ \"needsContext\" ].test( selector ) ? 0 : tokens.length;\n\t\twhile ( i-- ) {\n\t\t\ttoken = tokens[ i ];\n\n\t\t\t// Abort if we hit a combinator\n\t\t\tif ( Expr.relative[ ( type = token.type ) ] ) {\n\t\t\t\tbreak;\n\t\t\t}\n\t\t\tif ( ( find = Expr.find[ type ] ) ) {\n\n\t\t\t\t// Search, expanding context for leading sibling combinators\n\t\t\t\tif ( ( seed = find(\n\t\t\t\t\ttoken.matches[ 0 ].replace( runescape, funescape ),\n\t\t\t\t\trsibling.test( tokens[ 0 ].type ) && testContext( context.parentNode ) ||\n\t\t\t\t\t\tcontext\n\t\t\t\t) ) ) {\n\n\t\t\t\t\t// If seed is empty or no tokens remain, we can return early\n\t\t\t\t\ttokens.splice( i, 1 );\n\t\t\t\t\tselector = seed.length && toSelector( tokens );\n\t\t\t\t\tif ( !selector ) {\n\t\t\t\t\t\tpush.apply( results, seed );\n\t\t\t\t\t\treturn results;\n\t\t\t\t\t}\n\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\n\t// Compile and execute a filtering function if one is not provided\n\t// Provide `match` to avoid retokenization if we modified the selector above\n\t( compiled || compile( selector, match ) )(\n\t\tseed,\n\t\tcontext,\n\t\t!documentIsHTML,\n\t\tresults,\n\t\t!context || rsibling.test( selector ) && testContext( context.parentNode ) || context\n\t);\n\treturn results;\n};\n\n// One-time assignments\n\n// Sort stability\nsupport.sortStable = expando.split( \"\" ).sort( sortOrder ).join( \"\" ) === expando;\n\n// Support: Chrome 14-35+\n// Always assume duplicates if they aren't passed to the comparison function\nsupport.detectDuplicates = !!hasDuplicate;\n\n// Initialize against the default document\nsetDocument();\n\n// Support: Webkit<537.32 - Safari 6.0.3/Chrome 25 (fixed in Chrome 27)\n// Detached nodes confoundingly follow *each other*\nsupport.sortDetached = assert( function( el ) {\n\n\t// Should return 1, but returns 4 (following)\n\treturn el.compareDocumentPosition( document.createElement( \"fieldset\" ) ) & 1;\n} );\n\n// Support: IE<8\n// Prevent attribute/property \"interpolation\"\n// https://msdn.microsoft.com/en-us/library/ms536429%28VS.85%29.aspx\nif ( !assert( function( el ) {\n\tel.innerHTML = \"<a href='#'></a>\";\n\treturn el.firstChild.getAttribute( \"href\" ) === \"#\";\n} ) ) {\n\taddHandle( \"type|href|height|width\", function( elem, name, isXML ) {\n\t\tif ( !isXML ) {\n\t\t\treturn elem.getAttribute( name, name.toLowerCase() === \"type\" ? 1 : 2 );\n\t\t}\n\t} );\n}\n\n// Support: IE<9\n// Use defaultValue in place of getAttribute(\"value\")\nif ( !support.attributes || !assert( function( el ) {\n\tel.innerHTML = \"<input/>\";\n\tel.firstChild.setAttribute( \"value\", \"\" );\n\treturn el.firstChild.getAttribute( \"value\" ) === \"\";\n} ) ) {\n\taddHandle( \"value\", function( elem, _name, isXML ) {\n\t\tif ( !isXML && elem.nodeName.toLowerCase() === \"input\" ) {\n\t\t\treturn elem.defaultValue;\n\t\t}\n\t} );\n}\n\n// Support: IE<9\n// Use getAttributeNode to fetch booleans when getAttribute lies\nif ( !assert( function( el ) {\n\treturn el.getAttribute( \"disabled\" ) == null;\n} ) ) {\n\taddHandle( booleans, function( elem, name, isXML ) {\n\t\tvar val;\n\t\tif ( !isXML ) {\n\t\t\treturn elem[ name ] === true ? name.toLowerCase() :\n\t\t\t\t( val = elem.getAttributeNode( name ) ) && val.specified ?\n\t\t\t\t\tval.value :\n\t\t\t\t\tnull;\n\t\t}\n\t} );\n}\n\nreturn Sizzle;\n\n} )( window );\n\n\n\njQuery.find = Sizzle;\njQuery.expr = Sizzle.selectors;\n\n// Deprecated\njQuery.expr[ \":\" ] = jQuery.expr.pseudos;\njQuery.uniqueSort = jQuery.unique = Sizzle.uniqueSort;\njQuery.text = Sizzle.getText;\njQuery.isXMLDoc = Sizzle.isXML;\njQuery.contains = Sizzle.contains;\njQuery.escapeSelector = Sizzle.escape;\n\n\n\n\nvar dir = function( elem, dir, until ) {\n\tvar matched = [],\n\t\ttruncate = until !== undefined;\n\n\twhile ( ( elem = elem[ dir ] ) && elem.nodeType !== 9 ) {\n\t\tif ( elem.nodeType === 1 ) {\n\t\t\tif ( truncate && jQuery( elem ).is( until ) ) {\n\t\t\t\tbreak;\n\t\t\t}\n\t\t\tmatched.push( elem );\n\t\t}\n\t}\n\treturn matched;\n};\n\n\nvar siblings = function( n, elem ) {\n\tvar matched = [];\n\n\tfor ( ; n; n = n.nextSibling ) {\n\t\tif ( n.nodeType === 1 && n !== elem ) {\n\t\t\tmatched.push( n );\n\t\t}\n\t}\n\n\treturn matched;\n};\n\n\nvar rneedsContext = jQuery.expr.match.needsContext;\n\n\n\nfunction nodeName( elem, name ) {\n\n  return elem.nodeName && elem.nodeName.toLowerCase() === name.toLowerCase();\n\n};\nvar rsingleTag = ( /^<([a-z][^\\/\\0>:\\x20\\t\\r\\n\\f]*)[\\x20\\t\\r\\n\\f]*\\/?>(?:<\\/\\1>|)$/i );\n\n\n\n// Implement the identical functionality for filter and not\nfunction winnow( elements, qualifier, not ) {\n\tif ( isFunction( qualifier ) ) {\n\t\treturn jQuery.grep( elements, function( elem, i ) {\n\t\t\treturn !!qualifier.call( elem, i, elem ) !== not;\n\t\t} );\n\t}\n\n\t// Single element\n\tif ( qualifier.nodeType ) {\n\t\treturn jQuery.grep( elements, function( elem ) {\n\t\t\treturn ( elem === qualifier ) !== not;\n\t\t} );\n\t}\n\n\t// Arraylike of elements (jQuery, arguments, Array)\n\tif ( typeof qualifier !== \"string\" ) {\n\t\treturn jQuery.grep( elements, function( elem ) {\n\t\t\treturn ( indexOf.call( qualifier, elem ) > -1 ) !== not;\n\t\t} );\n\t}\n\n\t// Filtered directly for both simple and complex selectors\n\treturn jQuery.filter( qualifier, elements, not );\n}\n\njQuery.filter = function( expr, elems, not ) {\n\tvar elem = elems[ 0 ];\n\n\tif ( not ) {\n\t\texpr = \":not(\" + expr + \")\";\n\t}\n\n\tif ( elems.length === 1 && elem.nodeType === 1 ) {\n\t\treturn jQuery.find.matchesSelector( elem, expr ) ? [ elem ] : [];\n\t}\n\n\treturn jQuery.find.matches( expr, jQuery.grep( elems, function( elem ) {\n\t\treturn elem.nodeType === 1;\n\t} ) );\n};\n\njQuery.fn.extend( {\n\tfind: function( selector ) {\n\t\tvar i, ret,\n\t\t\tlen = this.length,\n\t\t\tself = this;\n\n\t\tif ( typeof selector !== \"string\" ) {\n\t\t\treturn this.pushStack( jQuery( selector ).filter( function() {\n\t\t\t\tfor ( i = 0; i < len; i++ ) {\n\t\t\t\t\tif ( jQuery.contains( self[ i ], this ) ) {\n\t\t\t\t\t\treturn true;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t} ) );\n\t\t}\n\n\t\tret = this.pushStack( [] );\n\n\t\tfor ( i = 0; i < len; i++ ) {\n\t\t\tjQuery.find( selector, self[ i ], ret );\n\t\t}\n\n\t\treturn len > 1 ? jQuery.uniqueSort( ret ) : ret;\n\t},\n\tfilter: function( selector ) {\n\t\treturn this.pushStack( winnow( this, selector || [], false ) );\n\t},\n\tnot: function( selector ) {\n\t\treturn this.pushStack( winnow( this, selector || [], true ) );\n\t},\n\tis: function( selector ) {\n\t\treturn !!winnow(\n\t\t\tthis,\n\n\t\t\t// If this is a positional/relative selector, check membership in the returned set\n\t\t\t// so $(\"p:first\").is(\"p:last\") won't return true for a doc with two \"p\".\n\t\t\ttypeof selector === \"string\" && rneedsContext.test( selector ) ?\n\t\t\t\tjQuery( selector ) :\n\t\t\t\tselector || [],\n\t\t\tfalse\n\t\t).length;\n\t}\n} );\n\n\n// Initialize a jQuery object\n\n\n// A central reference to the root jQuery(document)\nvar rootjQuery,\n\n\t// A simple way to check for HTML strings\n\t// Prioritize #id over <tag> to avoid XSS via location.hash (#9521)\n\t// Strict HTML recognition (#11290: must start with <)\n\t// Shortcut simple #id case for speed\n\trquickExpr = /^(?:\\s*(<[\\w\\W]+>)[^>]*|#([\\w-]+))$/,\n\n\tinit = jQuery.fn.init = function( selector, context, root ) {\n\t\tvar match, elem;\n\n\t\t// HANDLE: $(\"\"), $(null), $(undefined), $(false)\n\t\tif ( !selector ) {\n\t\t\treturn this;\n\t\t}\n\n\t\t// Method init() accepts an alternate rootjQuery\n\t\t// so migrate can support jQuery.sub (gh-2101)\n\t\troot = root || rootjQuery;\n\n\t\t// Handle HTML strings\n\t\tif ( typeof selector === \"string\" ) {\n\t\t\tif ( selector[ 0 ] === \"<\" &&\n\t\t\t\tselector[ selector.length - 1 ] === \">\" &&\n\t\t\t\tselector.length >= 3 ) {\n\n\t\t\t\t// Assume that strings that start and end with <> are HTML and skip the regex check\n\t\t\t\tmatch = [ null, selector, null ];\n\n\t\t\t} else {\n\t\t\t\tmatch = rquickExpr.exec( selector );\n\t\t\t}\n\n\t\t\t// Match html or make sure no context is specified for #id\n\t\t\tif ( match && ( match[ 1 ] || !context ) ) {\n\n\t\t\t\t// HANDLE: $(html) -> $(array)\n\t\t\t\tif ( match[ 1 ] ) {\n\t\t\t\t\tcontext = context instanceof jQuery ? context[ 0 ] : context;\n\n\t\t\t\t\t// Option to run scripts is true for back-compat\n\t\t\t\t\t// Intentionally let the error be thrown if parseHTML is not present\n\t\t\t\t\tjQuery.merge( this, jQuery.parseHTML(\n\t\t\t\t\t\tmatch[ 1 ],\n\t\t\t\t\t\tcontext && context.nodeType ? context.ownerDocument || context : document,\n\t\t\t\t\t\ttrue\n\t\t\t\t\t) );\n\n\t\t\t\t\t// HANDLE: $(html, props)\n\t\t\t\t\tif ( rsingleTag.test( match[ 1 ] ) && jQuery.isPlainObject( context ) ) {\n\t\t\t\t\t\tfor ( match in context ) {\n\n\t\t\t\t\t\t\t// Properties of context are called as methods if possible\n\t\t\t\t\t\t\tif ( isFunction( this[ match ] ) ) {\n\t\t\t\t\t\t\t\tthis[ match ]( context[ match ] );\n\n\t\t\t\t\t\t\t// ...and otherwise set as attributes\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\tthis.attr( match, context[ match ] );\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\n\t\t\t\t\treturn this;\n\n\t\t\t\t// HANDLE: $(#id)\n\t\t\t\t} else {\n\t\t\t\t\telem = document.getElementById( match[ 2 ] );\n\n\t\t\t\t\tif ( elem ) {\n\n\t\t\t\t\t\t// Inject the element directly into the jQuery object\n\t\t\t\t\t\tthis[ 0 ] = elem;\n\t\t\t\t\t\tthis.length = 1;\n\t\t\t\t\t}\n\t\t\t\t\treturn this;\n\t\t\t\t}\n\n\t\t\t// HANDLE: $(expr, $(...))\n\t\t\t} else if ( !context || context.jquery ) {\n\t\t\t\treturn ( context || root ).find( selector );\n\n\t\t\t// HANDLE: $(expr, context)\n\t\t\t// (which is just equivalent to: $(context).find(expr)\n\t\t\t} else {\n\t\t\t\treturn this.constructor( context ).find( selector );\n\t\t\t}\n\n\t\t// HANDLE: $(DOMElement)\n\t\t} else if ( selector.nodeType ) {\n\t\t\tthis[ 0 ] = selector;\n\t\t\tthis.length = 1;\n\t\t\treturn this;\n\n\t\t// HANDLE: $(function)\n\t\t// Shortcut for document ready\n\t\t} else if ( isFunction( selector ) ) {\n\t\t\treturn root.ready !== undefined ?\n\t\t\t\troot.ready( selector ) :\n\n\t\t\t\t// Execute immediately if ready is not present\n\t\t\t\tselector( jQuery );\n\t\t}\n\n\t\treturn jQuery.makeArray( selector, this );\n\t};\n\n// Give the init function the jQuery prototype for later instantiation\ninit.prototype = jQuery.fn;\n\n// Initialize central reference\nrootjQuery = jQuery( document );\n\n\nvar rparentsprev = /^(?:parents|prev(?:Until|All))/,\n\n\t// Methods guaranteed to produce a unique set when starting from a unique set\n\tguaranteedUnique = {\n\t\tchildren: true,\n\t\tcontents: true,\n\t\tnext: true,\n\t\tprev: true\n\t};\n\njQuery.fn.extend( {\n\thas: function( target ) {\n\t\tvar targets = jQuery( target, this ),\n\t\t\tl = targets.length;\n\n\t\treturn this.filter( function() {\n\t\t\tvar i = 0;\n\t\t\tfor ( ; i < l; i++ ) {\n\t\t\t\tif ( jQuery.contains( this, targets[ i ] ) ) {\n\t\t\t\t\treturn true;\n\t\t\t\t}\n\t\t\t}\n\t\t} );\n\t},\n\n\tclosest: function( selectors, context ) {\n\t\tvar cur,\n\t\t\ti = 0,\n\t\t\tl = this.length,\n\t\t\tmatched = [],\n\t\t\ttargets = typeof selectors !== \"string\" && jQuery( selectors );\n\n\t\t// Positional selectors never match, since there's no _selection_ context\n\t\tif ( !rneedsContext.test( selectors ) ) {\n\t\t\tfor ( ; i < l; i++ ) {\n\t\t\t\tfor ( cur = this[ i ]; cur && cur !== context; cur = cur.parentNode ) {\n\n\t\t\t\t\t// Always skip document fragments\n\t\t\t\t\tif ( cur.nodeType < 11 && ( targets ?\n\t\t\t\t\t\ttargets.index( cur ) > -1 :\n\n\t\t\t\t\t\t// Don't pass non-elements to Sizzle\n\t\t\t\t\t\tcur.nodeType === 1 &&\n\t\t\t\t\t\t\tjQuery.find.matchesSelector( cur, selectors ) ) ) {\n\n\t\t\t\t\t\tmatched.push( cur );\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\treturn this.pushStack( matched.length > 1 ? jQuery.uniqueSort( matched ) : matched );\n\t},\n\n\t// Determine the position of an element within the set\n\tindex: function( elem ) {\n\n\t\t// No argument, return index in parent\n\t\tif ( !elem ) {\n\t\t\treturn ( this[ 0 ] && this[ 0 ].parentNode ) ? this.first().prevAll().length : -1;\n\t\t}\n\n\t\t// Index in selector\n\t\tif ( typeof elem === \"string\" ) {\n\t\t\treturn indexOf.call( jQuery( elem ), this[ 0 ] );\n\t\t}\n\n\t\t// Locate the position of the desired element\n\t\treturn indexOf.call( this,\n\n\t\t\t// If it receives a jQuery object, the first element is used\n\t\t\telem.jquery ? elem[ 0 ] : elem\n\t\t);\n\t},\n\n\tadd: function( selector, context ) {\n\t\treturn this.pushStack(\n\t\t\tjQuery.uniqueSort(\n\t\t\t\tjQuery.merge( this.get(), jQuery( selector, context ) )\n\t\t\t)\n\t\t);\n\t},\n\n\taddBack: function( selector ) {\n\t\treturn this.add( selector == null ?\n\t\t\tthis.prevObject : this.prevObject.filter( selector )\n\t\t);\n\t}\n} );\n\nfunction sibling( cur, dir ) {\n\twhile ( ( cur = cur[ dir ] ) && cur.nodeType !== 1 ) {}\n\treturn cur;\n}\n\njQuery.each( {\n\tparent: function( elem ) {\n\t\tvar parent = elem.parentNode;\n\t\treturn parent && parent.nodeType !== 11 ? parent : null;\n\t},\n\tparents: function( elem ) {\n\t\treturn dir( elem, \"parentNode\" );\n\t},\n\tparentsUntil: function( elem, _i, until ) {\n\t\treturn dir( elem, \"parentNode\", until );\n\t},\n\tnext: function( elem ) {\n\t\treturn sibling( elem, \"nextSibling\" );\n\t},\n\tprev: function( elem ) {\n\t\treturn sibling( elem, \"previousSibling\" );\n\t},\n\tnextAll: function( elem ) {\n\t\treturn dir( elem, \"nextSibling\" );\n\t},\n\tprevAll: function( elem ) {\n\t\treturn dir( elem, \"previousSibling\" );\n\t},\n\tnextUntil: function( elem, _i, until ) {\n\t\treturn dir( elem, \"nextSibling\", until );\n\t},\n\tprevUntil: function( elem, _i, until ) {\n\t\treturn dir( elem, \"previousSibling\", until );\n\t},\n\tsiblings: function( elem ) {\n\t\treturn siblings( ( elem.parentNode || {} ).firstChild, elem );\n\t},\n\tchildren: function( elem ) {\n\t\treturn siblings( elem.firstChild );\n\t},\n\tcontents: function( elem ) {\n\t\tif ( elem.contentDocument != null &&\n\n\t\t\t// Support: IE 11+\n\t\t\t// <object> elements with no `data` attribute has an object\n\t\t\t// `contentDocument` with a `null` prototype.\n\t\t\tgetProto( elem.contentDocument ) ) {\n\n\t\t\treturn elem.contentDocument;\n\t\t}\n\n\t\t// Support: IE 9 - 11 only, iOS 7 only, Android Browser <=4.3 only\n\t\t// Treat the template element as a regular one in browsers that\n\t\t// don't support it.\n\t\tif ( nodeName( elem, \"template\" ) ) {\n\t\t\telem = elem.content || elem;\n\t\t}\n\n\t\treturn jQuery.merge( [], elem.childNodes );\n\t}\n}, function( name, fn ) {\n\tjQuery.fn[ name ] = function( until, selector ) {\n\t\tvar matched = jQuery.map( this, fn, until );\n\n\t\tif ( name.slice( -5 ) !== \"Until\" ) {\n\t\t\tselector = until;\n\t\t}\n\n\t\tif ( selector && typeof selector === \"string\" ) {\n\t\t\tmatched = jQuery.filter( selector, matched );\n\t\t}\n\n\t\tif ( this.length > 1 ) {\n\n\t\t\t// Remove duplicates\n\t\t\tif ( !guaranteedUnique[ name ] ) {\n\t\t\t\tjQuery.uniqueSort( matched );\n\t\t\t}\n\n\t\t\t// Reverse order for parents* and prev-derivatives\n\t\t\tif ( rparentsprev.test( name ) ) {\n\t\t\t\tmatched.reverse();\n\t\t\t}\n\t\t}\n\n\t\treturn this.pushStack( matched );\n\t};\n} );\nvar rnothtmlwhite = ( /[^\\x20\\t\\r\\n\\f]+/g );\n\n\n\n// Convert String-formatted options into Object-formatted ones\nfunction createOptions( options ) {\n\tvar object = {};\n\tjQuery.each( options.match( rnothtmlwhite ) || [], function( _, flag ) {\n\t\tobject[ flag ] = true;\n\t} );\n\treturn object;\n}\n\n/*\n * Create a callback list using the following parameters:\n *\n *\toptions: an optional list of space-separated options that will change how\n *\t\t\tthe callback list behaves or a more traditional option object\n *\n * By default a callback list will act like an event callback list and can be\n * \"fired\" multiple times.\n *\n * Possible options:\n *\n *\tonce:\t\t\twill ensure the callback list can only be fired once (like a Deferred)\n *\n *\tmemory:\t\t\twill keep track of previous values and will call any callback added\n *\t\t\t\t\tafter the list has been fired right away with the latest \"memorized\"\n *\t\t\t\t\tvalues (like a Deferred)\n *\n *\tunique:\t\t\twill ensure a callback can only be added once (no duplicate in the list)\n *\n *\tstopOnFalse:\tinterrupt callings when a callback returns false\n *\n */\njQuery.Callbacks = function( options ) {\n\n\t// Convert options from String-formatted to Object-formatted if needed\n\t// (we check in cache first)\n\toptions = typeof options === \"string\" ?\n\t\tcreateOptions( options ) :\n\t\tjQuery.extend( {}, options );\n\n\tvar // Flag to know if list is currently firing\n\t\tfiring,\n\n\t\t// Last fire value for non-forgettable lists\n\t\tmemory,\n\n\t\t// Flag to know if list was already fired\n\t\tfired,\n\n\t\t// Flag to prevent firing\n\t\tlocked,\n\n\t\t// Actual callback list\n\t\tlist = [],\n\n\t\t// Queue of execution data for repeatable lists\n\t\tqueue = [],\n\n\t\t// Index of currently firing callback (modified by add/remove as needed)\n\t\tfiringIndex = -1,\n\n\t\t// Fire callbacks\n\t\tfire = function() {\n\n\t\t\t// Enforce single-firing\n\t\t\tlocked = locked || options.once;\n\n\t\t\t// Execute callbacks for all pending executions,\n\t\t\t// respecting firingIndex overrides and runtime changes\n\t\t\tfired = firing = true;\n\t\t\tfor ( ; queue.length; firingIndex = -1 ) {\n\t\t\t\tmemory = queue.shift();\n\t\t\t\twhile ( ++firingIndex < list.length ) {\n\n\t\t\t\t\t// Run callback and check for early termination\n\t\t\t\t\tif ( list[ firingIndex ].apply( memory[ 0 ], memory[ 1 ] ) === false &&\n\t\t\t\t\t\toptions.stopOnFalse ) {\n\n\t\t\t\t\t\t// Jump to end and forget the data so .add doesn't re-fire\n\t\t\t\t\t\tfiringIndex = list.length;\n\t\t\t\t\t\tmemory = false;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t// Forget the data if we're done with it\n\t\t\tif ( !options.memory ) {\n\t\t\t\tmemory = false;\n\t\t\t}\n\n\t\t\tfiring = false;\n\n\t\t\t// Clean up if we're done firing for good\n\t\t\tif ( locked ) {\n\n\t\t\t\t// Keep an empty list if we have data for future add calls\n\t\t\t\tif ( memory ) {\n\t\t\t\t\tlist = [];\n\n\t\t\t\t// Otherwise, this object is spent\n\t\t\t\t} else {\n\t\t\t\t\tlist = \"\";\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\n\t\t// Actual Callbacks object\n\t\tself = {\n\n\t\t\t// Add a callback or a collection of callbacks to the list\n\t\t\tadd: function() {\n\t\t\t\tif ( list ) {\n\n\t\t\t\t\t// If we have memory from a past run, we should fire after adding\n\t\t\t\t\tif ( memory && !firing ) {\n\t\t\t\t\t\tfiringIndex = list.length - 1;\n\t\t\t\t\t\tqueue.push( memory );\n\t\t\t\t\t}\n\n\t\t\t\t\t( function add( args ) {\n\t\t\t\t\t\tjQuery.each( args, function( _, arg ) {\n\t\t\t\t\t\t\tif ( isFunction( arg ) ) {\n\t\t\t\t\t\t\t\tif ( !options.unique || !self.has( arg ) ) {\n\t\t\t\t\t\t\t\t\tlist.push( arg );\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t} else if ( arg && arg.length && toType( arg ) !== \"string\" ) {\n\n\t\t\t\t\t\t\t\t// Inspect recursively\n\t\t\t\t\t\t\t\tadd( arg );\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t} );\n\t\t\t\t\t} )( arguments );\n\n\t\t\t\t\tif ( memory && !firing ) {\n\t\t\t\t\t\tfire();\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\treturn this;\n\t\t\t},\n\n\t\t\t// Remove a callback from the list\n\t\t\tremove: function() {\n\t\t\t\tjQuery.each( arguments, function( _, arg ) {\n\t\t\t\t\tvar index;\n\t\t\t\t\twhile ( ( index = jQuery.inArray( arg, list, index ) ) > -1 ) {\n\t\t\t\t\t\tlist.splice( index, 1 );\n\n\t\t\t\t\t\t// Handle firing indexes\n\t\t\t\t\t\tif ( index <= firingIndex ) {\n\t\t\t\t\t\t\tfiringIndex--;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t} );\n\t\t\t\treturn this;\n\t\t\t},\n\n\t\t\t// Check if a given callback is in the list.\n\t\t\t// If no argument is given, return whether or not list has callbacks attached.\n\t\t\thas: function( fn ) {\n\t\t\t\treturn fn ?\n\t\t\t\t\tjQuery.inArray( fn, list ) > -1 :\n\t\t\t\t\tlist.length > 0;\n\t\t\t},\n\n\t\t\t// Remove all callbacks from the list\n\t\t\tempty: function() {\n\t\t\t\tif ( list ) {\n\t\t\t\t\tlist = [];\n\t\t\t\t}\n\t\t\t\treturn this;\n\t\t\t},\n\n\t\t\t// Disable .fire and .add\n\t\t\t// Abort any current/pending executions\n\t\t\t// Clear all callbacks and values\n\t\t\tdisable: function() {\n\t\t\t\tlocked = queue = [];\n\t\t\t\tlist = memory = \"\";\n\t\t\t\treturn this;\n\t\t\t},\n\t\t\tdisabled: function() {\n\t\t\t\treturn !list;\n\t\t\t},\n\n\t\t\t// Disable .fire\n\t\t\t// Also disable .add unless we have memory (since it would have no effect)\n\t\t\t// Abort any pending executions\n\t\t\tlock: function() {\n\t\t\t\tlocked = queue = [];\n\t\t\t\tif ( !memory && !firing ) {\n\t\t\t\t\tlist = memory = \"\";\n\t\t\t\t}\n\t\t\t\treturn this;\n\t\t\t},\n\t\t\tlocked: function() {\n\t\t\t\treturn !!locked;\n\t\t\t},\n\n\t\t\t// Call all callbacks with the given context and arguments\n\t\t\tfireWith: function( context, args ) {\n\t\t\t\tif ( !locked ) {\n\t\t\t\t\targs = args || [];\n\t\t\t\t\targs = [ context, args.slice ? args.slice() : args ];\n\t\t\t\t\tqueue.push( args );\n\t\t\t\t\tif ( !firing ) {\n\t\t\t\t\t\tfire();\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\treturn this;\n\t\t\t},\n\n\t\t\t// Call all the callbacks with the given arguments\n\t\t\tfire: function() {\n\t\t\t\tself.fireWith( this, arguments );\n\t\t\t\treturn this;\n\t\t\t},\n\n\t\t\t// To know if the callbacks have already been called at least once\n\t\t\tfired: function() {\n\t\t\t\treturn !!fired;\n\t\t\t}\n\t\t};\n\n\treturn self;\n};\n\n\nfunction Identity( v ) {\n\treturn v;\n}\nfunction Thrower( ex ) {\n\tthrow ex;\n}\n\nfunction adoptValue( value, resolve, reject, noValue ) {\n\tvar method;\n\n\ttry {\n\n\t\t// Check for promise aspect first to privilege synchronous behavior\n\t\tif ( value && isFunction( ( method = value.promise ) ) ) {\n\t\t\tmethod.call( value ).done( resolve ).fail( reject );\n\n\t\t// Other thenables\n\t\t} else if ( value && isFunction( ( method = value.then ) ) ) {\n\t\t\tmethod.call( value, resolve, reject );\n\n\t\t// Other non-thenables\n\t\t} else {\n\n\t\t\t// Control `resolve` arguments by letting Array#slice cast boolean `noValue` to integer:\n\t\t\t// * false: [ value ].slice( 0 ) => resolve( value )\n\t\t\t// * true: [ value ].slice( 1 ) => resolve()\n\t\t\tresolve.apply( undefined, [ value ].slice( noValue ) );\n\t\t}\n\n\t// For Promises/A+, convert exceptions into rejections\n\t// Since jQuery.when doesn't unwrap thenables, we can skip the extra checks appearing in\n\t// Deferred#then to conditionally suppress rejection.\n\t} catch ( value ) {\n\n\t\t// Support: Android 4.0 only\n\t\t// Strict mode functions invoked without .call/.apply get global-object context\n\t\treject.apply( undefined, [ value ] );\n\t}\n}\n\njQuery.extend( {\n\n\tDeferred: function( func ) {\n\t\tvar tuples = [\n\n\t\t\t\t// action, add listener, callbacks,\n\t\t\t\t// ... .then handlers, argument index, [final state]\n\t\t\t\t[ \"notify\", \"progress\", jQuery.Callbacks( \"memory\" ),\n\t\t\t\t\tjQuery.Callbacks( \"memory\" ), 2 ],\n\t\t\t\t[ \"resolve\", \"done\", jQuery.Callbacks( \"once memory\" ),\n\t\t\t\t\tjQuery.Callbacks( \"once memory\" ), 0, \"resolved\" ],\n\t\t\t\t[ \"reject\", \"fail\", jQuery.Callbacks( \"once memory\" ),\n\t\t\t\t\tjQuery.Callbacks( \"once memory\" ), 1, \"rejected\" ]\n\t\t\t],\n\t\t\tstate = \"pending\",\n\t\t\tpromise = {\n\t\t\t\tstate: function() {\n\t\t\t\t\treturn state;\n\t\t\t\t},\n\t\t\t\talways: function() {\n\t\t\t\t\tdeferred.done( arguments ).fail( arguments );\n\t\t\t\t\treturn this;\n\t\t\t\t},\n\t\t\t\t\"catch\": function( fn ) {\n\t\t\t\t\treturn promise.then( null, fn );\n\t\t\t\t},\n\n\t\t\t\t// Keep pipe for back-compat\n\t\t\t\tpipe: function( /* fnDone, fnFail, fnProgress */ ) {\n\t\t\t\t\tvar fns = arguments;\n\n\t\t\t\t\treturn jQuery.Deferred( function( newDefer ) {\n\t\t\t\t\t\tjQuery.each( tuples, function( _i, tuple ) {\n\n\t\t\t\t\t\t\t// Map tuples (progress, done, fail) to arguments (done, fail, progress)\n\t\t\t\t\t\t\tvar fn = isFunction( fns[ tuple[ 4 ] ] ) && fns[ tuple[ 4 ] ];\n\n\t\t\t\t\t\t\t// deferred.progress(function() { bind to newDefer or newDefer.notify })\n\t\t\t\t\t\t\t// deferred.done(function() { bind to newDefer or newDefer.resolve })\n\t\t\t\t\t\t\t// deferred.fail(function() { bind to newDefer or newDefer.reject })\n\t\t\t\t\t\t\tdeferred[ tuple[ 1 ] ]( function() {\n\t\t\t\t\t\t\t\tvar returned = fn && fn.apply( this, arguments );\n\t\t\t\t\t\t\t\tif ( returned && isFunction( returned.promise ) ) {\n\t\t\t\t\t\t\t\t\treturned.promise()\n\t\t\t\t\t\t\t\t\t\t.progress( newDefer.notify )\n\t\t\t\t\t\t\t\t\t\t.done( newDefer.resolve )\n\t\t\t\t\t\t\t\t\t\t.fail( newDefer.reject );\n\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\tnewDefer[ tuple[ 0 ] + \"With\" ](\n\t\t\t\t\t\t\t\t\t\tthis,\n\t\t\t\t\t\t\t\t\t\tfn ? [ returned ] : arguments\n\t\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t} );\n\t\t\t\t\t\t} );\n\t\t\t\t\t\tfns = null;\n\t\t\t\t\t} ).promise();\n\t\t\t\t},\n\t\t\t\tthen: function( onFulfilled, onRejected, onProgress ) {\n\t\t\t\t\tvar maxDepth = 0;\n\t\t\t\t\tfunction resolve( depth, deferred, handler, special ) {\n\t\t\t\t\t\treturn function() {\n\t\t\t\t\t\t\tvar that = this,\n\t\t\t\t\t\t\t\targs = arguments,\n\t\t\t\t\t\t\t\tmightThrow = function() {\n\t\t\t\t\t\t\t\t\tvar returned, then;\n\n\t\t\t\t\t\t\t\t\t// Support: Promises/A+ section 2.3.3.3.3\n\t\t\t\t\t\t\t\t\t// https://promisesaplus.com/#point-59\n\t\t\t\t\t\t\t\t\t// Ignore double-resolution attempts\n\t\t\t\t\t\t\t\t\tif ( depth < maxDepth ) {\n\t\t\t\t\t\t\t\t\t\treturn;\n\t\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\t\treturned = handler.apply( that, args );\n\n\t\t\t\t\t\t\t\t\t// Support: Promises/A+ section 2.3.1\n\t\t\t\t\t\t\t\t\t// https://promisesaplus.com/#point-48\n\t\t\t\t\t\t\t\t\tif ( returned === deferred.promise() ) {\n\t\t\t\t\t\t\t\t\t\tthrow new TypeError( \"Thenable self-resolution\" );\n\t\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\t\t// Support: Promises/A+ sections 2.3.3.1, 3.5\n\t\t\t\t\t\t\t\t\t// https://promisesaplus.com/#point-54\n\t\t\t\t\t\t\t\t\t// https://promisesaplus.com/#point-75\n\t\t\t\t\t\t\t\t\t// Retrieve `then` only once\n\t\t\t\t\t\t\t\t\tthen = returned &&\n\n\t\t\t\t\t\t\t\t\t\t// Support: Promises/A+ section 2.3.4\n\t\t\t\t\t\t\t\t\t\t// https://promisesaplus.com/#point-64\n\t\t\t\t\t\t\t\t\t\t// Only check objects and functions for thenability\n\t\t\t\t\t\t\t\t\t\t( typeof returned === \"object\" ||\n\t\t\t\t\t\t\t\t\t\t\ttypeof returned === \"function\" ) &&\n\t\t\t\t\t\t\t\t\t\treturned.then;\n\n\t\t\t\t\t\t\t\t\t// Handle a returned thenable\n\t\t\t\t\t\t\t\t\tif ( isFunction( then ) ) {\n\n\t\t\t\t\t\t\t\t\t\t// Special processors (notify) just wait for resolution\n\t\t\t\t\t\t\t\t\t\tif ( special ) {\n\t\t\t\t\t\t\t\t\t\t\tthen.call(\n\t\t\t\t\t\t\t\t\t\t\t\treturned,\n\t\t\t\t\t\t\t\t\t\t\t\tresolve( maxDepth, deferred, Identity, special ),\n\t\t\t\t\t\t\t\t\t\t\t\tresolve( maxDepth, deferred, Thrower, special )\n\t\t\t\t\t\t\t\t\t\t\t);\n\n\t\t\t\t\t\t\t\t\t\t// Normal processors (resolve) also hook into progress\n\t\t\t\t\t\t\t\t\t\t} else {\n\n\t\t\t\t\t\t\t\t\t\t\t// ...and disregard older resolution values\n\t\t\t\t\t\t\t\t\t\t\tmaxDepth++;\n\n\t\t\t\t\t\t\t\t\t\t\tthen.call(\n\t\t\t\t\t\t\t\t\t\t\t\treturned,\n\t\t\t\t\t\t\t\t\t\t\t\tresolve( maxDepth, deferred, Identity, special ),\n\t\t\t\t\t\t\t\t\t\t\t\tresolve( maxDepth, deferred, Thrower, special ),\n\t\t\t\t\t\t\t\t\t\t\t\tresolve( maxDepth, deferred, Identity,\n\t\t\t\t\t\t\t\t\t\t\t\t\tdeferred.notifyWith )\n\t\t\t\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\t\t// Handle all other returned values\n\t\t\t\t\t\t\t\t\t} else {\n\n\t\t\t\t\t\t\t\t\t\t// Only substitute handlers pass on context\n\t\t\t\t\t\t\t\t\t\t// and multiple values (non-spec behavior)\n\t\t\t\t\t\t\t\t\t\tif ( handler !== Identity ) {\n\t\t\t\t\t\t\t\t\t\t\tthat = undefined;\n\t\t\t\t\t\t\t\t\t\t\targs = [ returned ];\n\t\t\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\t\t\t// Process the value(s)\n\t\t\t\t\t\t\t\t\t\t// Default process is resolve\n\t\t\t\t\t\t\t\t\t\t( special || deferred.resolveWith )( that, args );\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t},\n\n\t\t\t\t\t\t\t\t// Only normal processors (resolve) catch and reject exceptions\n\t\t\t\t\t\t\t\tprocess = special ?\n\t\t\t\t\t\t\t\t\tmightThrow :\n\t\t\t\t\t\t\t\t\tfunction() {\n\t\t\t\t\t\t\t\t\t\ttry {\n\t\t\t\t\t\t\t\t\t\t\tmightThrow();\n\t\t\t\t\t\t\t\t\t\t} catch ( e ) {\n\n\t\t\t\t\t\t\t\t\t\t\tif ( jQuery.Deferred.exceptionHook ) {\n\t\t\t\t\t\t\t\t\t\t\t\tjQuery.Deferred.exceptionHook( e,\n\t\t\t\t\t\t\t\t\t\t\t\t\tprocess.stackTrace );\n\t\t\t\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\t\t\t\t// Support: Promises/A+ section 2.3.3.3.4.1\n\t\t\t\t\t\t\t\t\t\t\t// https://promisesaplus.com/#point-61\n\t\t\t\t\t\t\t\t\t\t\t// Ignore post-resolution exceptions\n\t\t\t\t\t\t\t\t\t\t\tif ( depth + 1 >= maxDepth ) {\n\n\t\t\t\t\t\t\t\t\t\t\t\t// Only substitute handlers pass on context\n\t\t\t\t\t\t\t\t\t\t\t\t// and multiple values (non-spec behavior)\n\t\t\t\t\t\t\t\t\t\t\t\tif ( handler !== Thrower ) {\n\t\t\t\t\t\t\t\t\t\t\t\t\tthat = undefined;\n\t\t\t\t\t\t\t\t\t\t\t\t\targs = [ e ];\n\t\t\t\t\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\t\t\t\t\tdeferred.rejectWith( that, args );\n\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t};\n\n\t\t\t\t\t\t\t// Support: Promises/A+ section 2.3.3.3.1\n\t\t\t\t\t\t\t// https://promisesaplus.com/#point-57\n\t\t\t\t\t\t\t// Re-resolve promises immediately to dodge false rejection from\n\t\t\t\t\t\t\t// subsequent errors\n\t\t\t\t\t\t\tif ( depth ) {\n\t\t\t\t\t\t\t\tprocess();\n\t\t\t\t\t\t\t} else {\n\n\t\t\t\t\t\t\t\t// Call an optional hook to record the stack, in case of exception\n\t\t\t\t\t\t\t\t// since it's otherwise lost when execution goes async\n\t\t\t\t\t\t\t\tif ( jQuery.Deferred.getStackHook ) {\n\t\t\t\t\t\t\t\t\tprocess.stackTrace = jQuery.Deferred.getStackHook();\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\twindow.setTimeout( process );\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t};\n\t\t\t\t\t}\n\n\t\t\t\t\treturn jQuery.Deferred( function( newDefer ) {\n\n\t\t\t\t\t\t// progress_handlers.add( ... )\n\t\t\t\t\t\ttuples[ 0 ][ 3 ].add(\n\t\t\t\t\t\t\tresolve(\n\t\t\t\t\t\t\t\t0,\n\t\t\t\t\t\t\t\tnewDefer,\n\t\t\t\t\t\t\t\tisFunction( onProgress ) ?\n\t\t\t\t\t\t\t\t\tonProgress :\n\t\t\t\t\t\t\t\t\tIdentity,\n\t\t\t\t\t\t\t\tnewDefer.notifyWith\n\t\t\t\t\t\t\t)\n\t\t\t\t\t\t);\n\n\t\t\t\t\t\t// fulfilled_handlers.add( ... )\n\t\t\t\t\t\ttuples[ 1 ][ 3 ].add(\n\t\t\t\t\t\t\tresolve(\n\t\t\t\t\t\t\t\t0,\n\t\t\t\t\t\t\t\tnewDefer,\n\t\t\t\t\t\t\t\tisFunction( onFulfilled ) ?\n\t\t\t\t\t\t\t\t\tonFulfilled :\n\t\t\t\t\t\t\t\t\tIdentity\n\t\t\t\t\t\t\t)\n\t\t\t\t\t\t);\n\n\t\t\t\t\t\t// rejected_handlers.add( ... )\n\t\t\t\t\t\ttuples[ 2 ][ 3 ].add(\n\t\t\t\t\t\t\tresolve(\n\t\t\t\t\t\t\t\t0,\n\t\t\t\t\t\t\t\tnewDefer,\n\t\t\t\t\t\t\t\tisFunction( onRejected ) ?\n\t\t\t\t\t\t\t\t\tonRejected :\n\t\t\t\t\t\t\t\t\tThrower\n\t\t\t\t\t\t\t)\n\t\t\t\t\t\t);\n\t\t\t\t\t} ).promise();\n\t\t\t\t},\n\n\t\t\t\t// Get a promise for this deferred\n\t\t\t\t// If obj is provided, the promise aspect is added to the object\n\t\t\t\tpromise: function( obj ) {\n\t\t\t\t\treturn obj != null ? jQuery.extend( obj, promise ) : promise;\n\t\t\t\t}\n\t\t\t},\n\t\t\tdeferred = {};\n\n\t\t// Add list-specific methods\n\t\tjQuery.each( tuples, function( i, tuple ) {\n\t\t\tvar list = tuple[ 2 ],\n\t\t\t\tstateString = tuple[ 5 ];\n\n\t\t\t// promise.progress = list.add\n\t\t\t// promise.done = list.add\n\t\t\t// promise.fail = list.add\n\t\t\tpromise[ tuple[ 1 ] ] = list.add;\n\n\t\t\t// Handle state\n\t\t\tif ( stateString ) {\n\t\t\t\tlist.add(\n\t\t\t\t\tfunction() {\n\n\t\t\t\t\t\t// state = \"resolved\" (i.e., fulfilled)\n\t\t\t\t\t\t// state = \"rejected\"\n\t\t\t\t\t\tstate = stateString;\n\t\t\t\t\t},\n\n\t\t\t\t\t// rejected_callbacks.disable\n\t\t\t\t\t// fulfilled_callbacks.disable\n\t\t\t\t\ttuples[ 3 - i ][ 2 ].disable,\n\n\t\t\t\t\t// rejected_handlers.disable\n\t\t\t\t\t// fulfilled_handlers.disable\n\t\t\t\t\ttuples[ 3 - i ][ 3 ].disable,\n\n\t\t\t\t\t// progress_callbacks.lock\n\t\t\t\t\ttuples[ 0 ][ 2 ].lock,\n\n\t\t\t\t\t// progress_handlers.lock\n\t\t\t\t\ttuples[ 0 ][ 3 ].lock\n\t\t\t\t);\n\t\t\t}\n\n\t\t\t// progress_handlers.fire\n\t\t\t// fulfilled_handlers.fire\n\t\t\t// rejected_handlers.fire\n\t\t\tlist.add( tuple[ 3 ].fire );\n\n\t\t\t// deferred.notify = function() { deferred.notifyWith(...) }\n\t\t\t// deferred.resolve = function() { deferred.resolveWith(...) }\n\t\t\t// deferred.reject = function() { deferred.rejectWith(...) }\n\t\t\tdeferred[ tuple[ 0 ] ] = function() {\n\t\t\t\tdeferred[ tuple[ 0 ] + \"With\" ]( this === deferred ? undefined : this, arguments );\n\t\t\t\treturn this;\n\t\t\t};\n\n\t\t\t// deferred.notifyWith = list.fireWith\n\t\t\t// deferred.resolveWith = list.fireWith\n\t\t\t// deferred.rejectWith = list.fireWith\n\t\t\tdeferred[ tuple[ 0 ] + \"With\" ] = list.fireWith;\n\t\t} );\n\n\t\t// Make the deferred a promise\n\t\tpromise.promise( deferred );\n\n\t\t// Call given func if any\n\t\tif ( func ) {\n\t\t\tfunc.call( deferred, deferred );\n\t\t}\n\n\t\t// All done!\n\t\treturn deferred;\n\t},\n\n\t// Deferred helper\n\twhen: function( singleValue ) {\n\t\tvar\n\n\t\t\t// count of uncompleted subordinates\n\t\t\tremaining = arguments.length,\n\n\t\t\t// count of unprocessed arguments\n\t\t\ti = remaining,\n\n\t\t\t// subordinate fulfillment data\n\t\t\tresolveContexts = Array( i ),\n\t\t\tresolveValues = slice.call( arguments ),\n\n\t\t\t// the master Deferred\n\t\t\tmaster = jQuery.Deferred(),\n\n\t\t\t// subordinate callback factory\n\t\t\tupdateFunc = function( i ) {\n\t\t\t\treturn function( value ) {\n\t\t\t\t\tresolveContexts[ i ] = this;\n\t\t\t\t\tresolveValues[ i ] = arguments.length > 1 ? slice.call( arguments ) : value;\n\t\t\t\t\tif ( !( --remaining ) ) {\n\t\t\t\t\t\tmaster.resolveWith( resolveContexts, resolveValues );\n\t\t\t\t\t}\n\t\t\t\t};\n\t\t\t};\n\n\t\t// Single- and empty arguments are adopted like Promise.resolve\n\t\tif ( remaining <= 1 ) {\n\t\t\tadoptValue( singleValue, master.done( updateFunc( i ) ).resolve, master.reject,\n\t\t\t\t!remaining );\n\n\t\t\t// Use .then() to unwrap secondary thenables (cf. gh-3000)\n\t\t\tif ( master.state() === \"pending\" ||\n\t\t\t\tisFunction( resolveValues[ i ] && resolveValues[ i ].then ) ) {\n\n\t\t\t\treturn master.then();\n\t\t\t}\n\t\t}\n\n\t\t// Multiple arguments are aggregated like Promise.all array elements\n\t\twhile ( i-- ) {\n\t\t\tadoptValue( resolveValues[ i ], updateFunc( i ), master.reject );\n\t\t}\n\n\t\treturn master.promise();\n\t}\n} );\n\n\n// These usually indicate a programmer mistake during development,\n// warn about them ASAP rather than swallowing them by default.\nvar rerrorNames = /^(Eval|Internal|Range|Reference|Syntax|Type|URI)Error$/;\n\njQuery.Deferred.exceptionHook = function( error, stack ) {\n\n\t// Support: IE 8 - 9 only\n\t// Console exists when dev tools are open, which can happen at any time\n\tif ( window.console && window.console.warn && error && rerrorNames.test( error.name ) ) {\n\t\twindow.console.warn( \"jQuery.Deferred exception: \" + error.message, error.stack, stack );\n\t}\n};\n\n\n\n\njQuery.readyException = function( error ) {\n\twindow.setTimeout( function() {\n\t\tthrow error;\n\t} );\n};\n\n\n\n\n// The deferred used on DOM ready\nvar readyList = jQuery.Deferred();\n\njQuery.fn.ready = function( fn ) {\n\n\treadyList\n\t\t.then( fn )\n\n\t\t// Wrap jQuery.readyException in a function so that the lookup\n\t\t// happens at the time of error handling instead of callback\n\t\t// registration.\n\t\t.catch( function( error ) {\n\t\t\tjQuery.readyException( error );\n\t\t} );\n\n\treturn this;\n};\n\njQuery.extend( {\n\n\t// Is the DOM ready to be used? Set to true once it occurs.\n\tisReady: false,\n\n\t// A counter to track how many items to wait for before\n\t// the ready event fires. See #6781\n\treadyWait: 1,\n\n\t// Handle when the DOM is ready\n\tready: function( wait ) {\n\n\t\t// Abort if there are pending holds or we're already ready\n\t\tif ( wait === true ? --jQuery.readyWait : jQuery.isReady ) {\n\t\t\treturn;\n\t\t}\n\n\t\t// Remember that the DOM is ready\n\t\tjQuery.isReady = true;\n\n\t\t// If a normal DOM Ready event fired, decrement, and wait if need be\n\t\tif ( wait !== true && --jQuery.readyWait > 0 ) {\n\t\t\treturn;\n\t\t}\n\n\t\t// If there are functions bound, to execute\n\t\treadyList.resolveWith( document, [ jQuery ] );\n\t}\n} );\n\njQuery.ready.then = readyList.then;\n\n// The ready event handler and self cleanup method\nfunction completed() {\n\tdocument.removeEventListener( \"DOMContentLoaded\", completed );\n\twindow.removeEventListener( \"load\", completed );\n\tjQuery.ready();\n}\n\n// Catch cases where $(document).ready() is called\n// after the browser event has already occurred.\n// Support: IE <=9 - 10 only\n// Older IE sometimes signals \"interactive\" too soon\nif ( document.readyState === \"complete\" ||\n\t( document.readyState !== \"loading\" && !document.documentElement.doScroll ) ) {\n\n\t// Handle it asynchronously to allow scripts the opportunity to delay ready\n\twindow.setTimeout( jQuery.ready );\n\n} else {\n\n\t// Use the handy event callback\n\tdocument.addEventListener( \"DOMContentLoaded\", completed );\n\n\t// A fallback to window.onload, that will always work\n\twindow.addEventListener( \"load\", completed );\n}\n\n\n\n\n// Multifunctional method to get and set values of a collection\n// The value/s can optionally be executed if it's a function\nvar access = function( elems, fn, key, value, chainable, emptyGet, raw ) {\n\tvar i = 0,\n\t\tlen = elems.length,\n\t\tbulk = key == null;\n\n\t// Sets many values\n\tif ( toType( key ) === \"object\" ) {\n\t\tchainable = true;\n\t\tfor ( i in key ) {\n\t\t\taccess( elems, fn, i, key[ i ], true, emptyGet, raw );\n\t\t}\n\n\t// Sets one value\n\t} else if ( value !== undefined ) {\n\t\tchainable = true;\n\n\t\tif ( !isFunction( value ) ) {\n\t\t\traw = true;\n\t\t}\n\n\t\tif ( bulk ) {\n\n\t\t\t// Bulk operations run against the entire set\n\t\t\tif ( raw ) {\n\t\t\t\tfn.call( elems, value );\n\t\t\t\tfn = null;\n\n\t\t\t// ...except when executing function values\n\t\t\t} else {\n\t\t\t\tbulk = fn;\n\t\t\t\tfn = function( elem, _key, value ) {\n\t\t\t\t\treturn bulk.call( jQuery( elem ), value );\n\t\t\t\t};\n\t\t\t}\n\t\t}\n\n\t\tif ( fn ) {\n\t\t\tfor ( ; i < len; i++ ) {\n\t\t\t\tfn(\n\t\t\t\t\telems[ i ], key, raw ?\n\t\t\t\t\tvalue :\n\t\t\t\t\tvalue.call( elems[ i ], i, fn( elems[ i ], key ) )\n\t\t\t\t);\n\t\t\t}\n\t\t}\n\t}\n\n\tif ( chainable ) {\n\t\treturn elems;\n\t}\n\n\t// Gets\n\tif ( bulk ) {\n\t\treturn fn.call( elems );\n\t}\n\n\treturn len ? fn( elems[ 0 ], key ) : emptyGet;\n};\n\n\n// Matches dashed string for camelizing\nvar rmsPrefix = /^-ms-/,\n\trdashAlpha = /-([a-z])/g;\n\n// Used by camelCase as callback to replace()\nfunction fcamelCase( _all, letter ) {\n\treturn letter.toUpperCase();\n}\n\n// Convert dashed to camelCase; used by the css and data modules\n// Support: IE <=9 - 11, Edge 12 - 15\n// Microsoft forgot to hump their vendor prefix (#9572)\nfunction camelCase( string ) {\n\treturn string.replace( rmsPrefix, \"ms-\" ).replace( rdashAlpha, fcamelCase );\n}\nvar acceptData = function( owner ) {\n\n\t// Accepts only:\n\t//  - Node\n\t//    - Node.ELEMENT_NODE\n\t//    - Node.DOCUMENT_NODE\n\t//  - Object\n\t//    - Any\n\treturn owner.nodeType === 1 || owner.nodeType === 9 || !( +owner.nodeType );\n};\n\n\n\n\nfunction Data() {\n\tthis.expando = jQuery.expando + Data.uid++;\n}\n\nData.uid = 1;\n\nData.prototype = {\n\n\tcache: function( owner ) {\n\n\t\t// Check if the owner object already has a cache\n\t\tvar value = owner[ this.expando ];\n\n\t\t// If not, create one\n\t\tif ( !value ) {\n\t\t\tvalue = {};\n\n\t\t\t// We can accept data for non-element nodes in modern browsers,\n\t\t\t// but we should not, see #8335.\n\t\t\t// Always return an empty object.\n\t\t\tif ( acceptData( owner ) ) {\n\n\t\t\t\t// If it is a node unlikely to be stringify-ed or looped over\n\t\t\t\t// use plain assignment\n\t\t\t\tif ( owner.nodeType ) {\n\t\t\t\t\towner[ this.expando ] = value;\n\n\t\t\t\t// Otherwise secure it in a non-enumerable property\n\t\t\t\t// configurable must be true to allow the property to be\n\t\t\t\t// deleted when data is removed\n\t\t\t\t} else {\n\t\t\t\t\tObject.defineProperty( owner, this.expando, {\n\t\t\t\t\t\tvalue: value,\n\t\t\t\t\t\tconfigurable: true\n\t\t\t\t\t} );\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\treturn value;\n\t},\n\tset: function( owner, data, value ) {\n\t\tvar prop,\n\t\t\tcache = this.cache( owner );\n\n\t\t// Handle: [ owner, key, value ] args\n\t\t// Always use camelCase key (gh-2257)\n\t\tif ( typeof data === \"string\" ) {\n\t\t\tcache[ camelCase( data ) ] = value;\n\n\t\t// Handle: [ owner, { properties } ] args\n\t\t} else {\n\n\t\t\t// Copy the properties one-by-one to the cache object\n\t\t\tfor ( prop in data ) {\n\t\t\t\tcache[ camelCase( prop ) ] = data[ prop ];\n\t\t\t}\n\t\t}\n\t\treturn cache;\n\t},\n\tget: function( owner, key ) {\n\t\treturn key === undefined ?\n\t\t\tthis.cache( owner ) :\n\n\t\t\t// Always use camelCase key (gh-2257)\n\t\t\towner[ this.expando ] && owner[ this.expando ][ camelCase( key ) ];\n\t},\n\taccess: function( owner, key, value ) {\n\n\t\t// In cases where either:\n\t\t//\n\t\t//   1. No key was specified\n\t\t//   2. A string key was specified, but no value provided\n\t\t//\n\t\t// Take the \"read\" path and allow the get method to determine\n\t\t// which value to return, respectively either:\n\t\t//\n\t\t//   1. The entire cache object\n\t\t//   2. The data stored at the key\n\t\t//\n\t\tif ( key === undefined ||\n\t\t\t\t( ( key && typeof key === \"string\" ) && value === undefined ) ) {\n\n\t\t\treturn this.get( owner, key );\n\t\t}\n\n\t\t// When the key is not a string, or both a key and value\n\t\t// are specified, set or extend (existing objects) with either:\n\t\t//\n\t\t//   1. An object of properties\n\t\t//   2. A key and value\n\t\t//\n\t\tthis.set( owner, key, value );\n\n\t\t// Since the \"set\" path can have two possible entry points\n\t\t// return the expected data based on which path was taken[*]\n\t\treturn value !== undefined ? value : key;\n\t},\n\tremove: function( owner, key ) {\n\t\tvar i,\n\t\t\tcache = owner[ this.expando ];\n\n\t\tif ( cache === undefined ) {\n\t\t\treturn;\n\t\t}\n\n\t\tif ( key !== undefined ) {\n\n\t\t\t// Support array or space separated string of keys\n\t\t\tif ( Array.isArray( key ) ) {\n\n\t\t\t\t// If key is an array of keys...\n\t\t\t\t// We always set camelCase keys, so remove that.\n\t\t\t\tkey = key.map( camelCase );\n\t\t\t} else {\n\t\t\t\tkey = camelCase( key );\n\n\t\t\t\t// If a key with the spaces exists, use it.\n\t\t\t\t// Otherwise, create an array by matching non-whitespace\n\t\t\t\tkey = key in cache ?\n\t\t\t\t\t[ key ] :\n\t\t\t\t\t( key.match( rnothtmlwhite ) || [] );\n\t\t\t}\n\n\t\t\ti = key.length;\n\n\t\t\twhile ( i-- ) {\n\t\t\t\tdelete cache[ key[ i ] ];\n\t\t\t}\n\t\t}\n\n\t\t// Remove the expando if there's no more data\n\t\tif ( key === undefined || jQuery.isEmptyObject( cache ) ) {\n\n\t\t\t// Support: Chrome <=35 - 45\n\t\t\t// Webkit & Blink performance suffers when deleting properties\n\t\t\t// from DOM nodes, so set to undefined instead\n\t\t\t// https://bugs.chromium.org/p/chromium/issues/detail?id=378607 (bug restricted)\n\t\t\tif ( owner.nodeType ) {\n\t\t\t\towner[ this.expando ] = undefined;\n\t\t\t} else {\n\t\t\t\tdelete owner[ this.expando ];\n\t\t\t}\n\t\t}\n\t},\n\thasData: function( owner ) {\n\t\tvar cache = owner[ this.expando ];\n\t\treturn cache !== undefined && !jQuery.isEmptyObject( cache );\n\t}\n};\nvar dataPriv = new Data();\n\nvar dataUser = new Data();\n\n\n\n//\tImplementation Summary\n//\n//\t1. Enforce API surface and semantic compatibility with 1.9.x branch\n//\t2. Improve the module's maintainability by reducing the storage\n//\t\tpaths to a single mechanism.\n//\t3. Use the same single mechanism to support \"private\" and \"user\" data.\n//\t4. _Never_ expose \"private\" data to user code (TODO: Drop _data, _removeData)\n//\t5. Avoid exposing implementation details on user objects (eg. expando properties)\n//\t6. Provide a clear path for implementation upgrade to WeakMap in 2014\n\nvar rbrace = /^(?:\\{[\\w\\W]*\\}|\\[[\\w\\W]*\\])$/,\n\trmultiDash = /[A-Z]/g;\n\nfunction getData( data ) {\n\tif ( data === \"true\" ) {\n\t\treturn true;\n\t}\n\n\tif ( data === \"false\" ) {\n\t\treturn false;\n\t}\n\n\tif ( data === \"null\" ) {\n\t\treturn null;\n\t}\n\n\t// Only convert to a number if it doesn't change the string\n\tif ( data === +data + \"\" ) {\n\t\treturn +data;\n\t}\n\n\tif ( rbrace.test( data ) ) {\n\t\treturn JSON.parse( data );\n\t}\n\n\treturn data;\n}\n\nfunction dataAttr( elem, key, data ) {\n\tvar name;\n\n\t// If nothing was found internally, try to fetch any\n\t// data from the HTML5 data-* attribute\n\tif ( data === undefined && elem.nodeType === 1 ) {\n\t\tname = \"data-\" + key.replace( rmultiDash, \"-$&\" ).toLowerCase();\n\t\tdata = elem.getAttribute( name );\n\n\t\tif ( typeof data === \"string\" ) {\n\t\t\ttry {\n\t\t\t\tdata = getData( data );\n\t\t\t} catch ( e ) {}\n\n\t\t\t// Make sure we set the data so it isn't changed later\n\t\t\tdataUser.set( elem, key, data );\n\t\t} else {\n\t\t\tdata = undefined;\n\t\t}\n\t}\n\treturn data;\n}\n\njQuery.extend( {\n\thasData: function( elem ) {\n\t\treturn dataUser.hasData( elem ) || dataPriv.hasData( elem );\n\t},\n\n\tdata: function( elem, name, data ) {\n\t\treturn dataUser.access( elem, name, data );\n\t},\n\n\tremoveData: function( elem, name ) {\n\t\tdataUser.remove( elem, name );\n\t},\n\n\t// TODO: Now that all calls to _data and _removeData have been replaced\n\t// with direct calls to dataPriv methods, these can be deprecated.\n\t_data: function( elem, name, data ) {\n\t\treturn dataPriv.access( elem, name, data );\n\t},\n\n\t_removeData: function( elem, name ) {\n\t\tdataPriv.remove( elem, name );\n\t}\n} );\n\njQuery.fn.extend( {\n\tdata: function( key, value ) {\n\t\tvar i, name, data,\n\t\t\telem = this[ 0 ],\n\t\t\tattrs = elem && elem.attributes;\n\n\t\t// Gets all values\n\t\tif ( key === undefined ) {\n\t\t\tif ( this.length ) {\n\t\t\t\tdata = dataUser.get( elem );\n\n\t\t\t\tif ( elem.nodeType === 1 && !dataPriv.get( elem, \"hasDataAttrs\" ) ) {\n\t\t\t\t\ti = attrs.length;\n\t\t\t\t\twhile ( i-- ) {\n\n\t\t\t\t\t\t// Support: IE 11 only\n\t\t\t\t\t\t// The attrs elements can be null (#14894)\n\t\t\t\t\t\tif ( attrs[ i ] ) {\n\t\t\t\t\t\t\tname = attrs[ i ].name;\n\t\t\t\t\t\t\tif ( name.indexOf( \"data-\" ) === 0 ) {\n\t\t\t\t\t\t\t\tname = camelCase( name.slice( 5 ) );\n\t\t\t\t\t\t\t\tdataAttr( elem, name, data[ name ] );\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\tdataPriv.set( elem, \"hasDataAttrs\", true );\n\t\t\t\t}\n\t\t\t}\n\n\t\t\treturn data;\n\t\t}\n\n\t\t// Sets multiple values\n\t\tif ( typeof key === \"object\" ) {\n\t\t\treturn this.each( function() {\n\t\t\t\tdataUser.set( this, key );\n\t\t\t} );\n\t\t}\n\n\t\treturn access( this, function( value ) {\n\t\t\tvar data;\n\n\t\t\t// The calling jQuery object (element matches) is not empty\n\t\t\t// (and therefore has an element appears at this[ 0 ]) and the\n\t\t\t// `value` parameter was not undefined. An empty jQuery object\n\t\t\t// will result in `undefined` for elem = this[ 0 ] which will\n\t\t\t// throw an exception if an attempt to read a data cache is made.\n\t\t\tif ( elem && value === undefined ) {\n\n\t\t\t\t// Attempt to get data from the cache\n\t\t\t\t// The key will always be camelCased in Data\n\t\t\t\tdata = dataUser.get( elem, key );\n\t\t\t\tif ( data !== undefined ) {\n\t\t\t\t\treturn data;\n\t\t\t\t}\n\n\t\t\t\t// Attempt to \"discover\" the data in\n\t\t\t\t// HTML5 custom data-* attrs\n\t\t\t\tdata = dataAttr( elem, key );\n\t\t\t\tif ( data !== undefined ) {\n\t\t\t\t\treturn data;\n\t\t\t\t}\n\n\t\t\t\t// We tried really hard, but the data doesn't exist.\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\t// Set the data...\n\t\t\tthis.each( function() {\n\n\t\t\t\t// We always store the camelCased key\n\t\t\t\tdataUser.set( this, key, value );\n\t\t\t} );\n\t\t}, null, value, arguments.length > 1, null, true );\n\t},\n\n\tremoveData: function( key ) {\n\t\treturn this.each( function() {\n\t\t\tdataUser.remove( this, key );\n\t\t} );\n\t}\n} );\n\n\njQuery.extend( {\n\tqueue: function( elem, type, data ) {\n\t\tvar queue;\n\n\t\tif ( elem ) {\n\t\t\ttype = ( type || \"fx\" ) + \"queue\";\n\t\t\tqueue = dataPriv.get( elem, type );\n\n\t\t\t// Speed up dequeue by getting out quickly if this is just a lookup\n\t\t\tif ( data ) {\n\t\t\t\tif ( !queue || Array.isArray( data ) ) {\n\t\t\t\t\tqueue = dataPriv.access( elem, type, jQuery.makeArray( data ) );\n\t\t\t\t} else {\n\t\t\t\t\tqueue.push( data );\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn queue || [];\n\t\t}\n\t},\n\n\tdequeue: function( elem, type ) {\n\t\ttype = type || \"fx\";\n\n\t\tvar queue = jQuery.queue( elem, type ),\n\t\t\tstartLength = queue.length,\n\t\t\tfn = queue.shift(),\n\t\t\thooks = jQuery._queueHooks( elem, type ),\n\t\t\tnext = function() {\n\t\t\t\tjQuery.dequeue( elem, type );\n\t\t\t};\n\n\t\t// If the fx queue is dequeued, always remove the progress sentinel\n\t\tif ( fn === \"inprogress\" ) {\n\t\t\tfn = queue.shift();\n\t\t\tstartLength--;\n\t\t}\n\n\t\tif ( fn ) {\n\n\t\t\t// Add a progress sentinel to prevent the fx queue from being\n\t\t\t// automatically dequeued\n\t\t\tif ( type === \"fx\" ) {\n\t\t\t\tqueue.unshift( \"inprogress\" );\n\t\t\t}\n\n\t\t\t// Clear up the last queue stop function\n\t\t\tdelete hooks.stop;\n\t\t\tfn.call( elem, next, hooks );\n\t\t}\n\n\t\tif ( !startLength && hooks ) {\n\t\t\thooks.empty.fire();\n\t\t}\n\t},\n\n\t// Not public - generate a queueHooks object, or return the current one\n\t_queueHooks: function( elem, type ) {\n\t\tvar key = type + \"queueHooks\";\n\t\treturn dataPriv.get( elem, key ) || dataPriv.access( elem, key, {\n\t\t\tempty: jQuery.Callbacks( \"once memory\" ).add( function() {\n\t\t\t\tdataPriv.remove( elem, [ type + \"queue\", key ] );\n\t\t\t} )\n\t\t} );\n\t}\n} );\n\njQuery.fn.extend( {\n\tqueue: function( type, data ) {\n\t\tvar setter = 2;\n\n\t\tif ( typeof type !== \"string\" ) {\n\t\t\tdata = type;\n\t\t\ttype = \"fx\";\n\t\t\tsetter--;\n\t\t}\n\n\t\tif ( arguments.length < setter ) {\n\t\t\treturn jQuery.queue( this[ 0 ], type );\n\t\t}\n\n\t\treturn data === undefined ?\n\t\t\tthis :\n\t\t\tthis.each( function() {\n\t\t\t\tvar queue = jQuery.queue( this, type, data );\n\n\t\t\t\t// Ensure a hooks for this queue\n\t\t\t\tjQuery._queueHooks( this, type );\n\n\t\t\t\tif ( type === \"fx\" && queue[ 0 ] !== \"inprogress\" ) {\n\t\t\t\t\tjQuery.dequeue( this, type );\n\t\t\t\t}\n\t\t\t} );\n\t},\n\tdequeue: function( type ) {\n\t\treturn this.each( function() {\n\t\t\tjQuery.dequeue( this, type );\n\t\t} );\n\t},\n\tclearQueue: function( type ) {\n\t\treturn this.queue( type || \"fx\", [] );\n\t},\n\n\t// Get a promise resolved when queues of a certain type\n\t// are emptied (fx is the type by default)\n\tpromise: function( type, obj ) {\n\t\tvar tmp,\n\t\t\tcount = 1,\n\t\t\tdefer = jQuery.Deferred(),\n\t\t\telements = this,\n\t\t\ti = this.length,\n\t\t\tresolve = function() {\n\t\t\t\tif ( !( --count ) ) {\n\t\t\t\t\tdefer.resolveWith( elements, [ elements ] );\n\t\t\t\t}\n\t\t\t};\n\n\t\tif ( typeof type !== \"string\" ) {\n\t\t\tobj = type;\n\t\t\ttype = undefined;\n\t\t}\n\t\ttype = type || \"fx\";\n\n\t\twhile ( i-- ) {\n\t\t\ttmp = dataPriv.get( elements[ i ], type + \"queueHooks\" );\n\t\t\tif ( tmp && tmp.empty ) {\n\t\t\t\tcount++;\n\t\t\t\ttmp.empty.add( resolve );\n\t\t\t}\n\t\t}\n\t\tresolve();\n\t\treturn defer.promise( obj );\n\t}\n} );\nvar pnum = ( /[+-]?(?:\\d*\\.|)\\d+(?:[eE][+-]?\\d+|)/ ).source;\n\nvar rcssNum = new RegExp( \"^(?:([+-])=|)(\" + pnum + \")([a-z%]*)$\", \"i\" );\n\n\nvar cssExpand = [ \"Top\", \"Right\", \"Bottom\", \"Left\" ];\n\nvar documentElement = document.documentElement;\n\n\n\n\tvar isAttached = function( elem ) {\n\t\t\treturn jQuery.contains( elem.ownerDocument, elem );\n\t\t},\n\t\tcomposed = { composed: true };\n\n\t// Support: IE 9 - 11+, Edge 12 - 18+, iOS 10.0 - 10.2 only\n\t// Check attachment across shadow DOM boundaries when possible (gh-3504)\n\t// Support: iOS 10.0-10.2 only\n\t// Early iOS 10 versions support `attachShadow` but not `getRootNode`,\n\t// leading to errors. We need to check for `getRootNode`.\n\tif ( documentElement.getRootNode ) {\n\t\tisAttached = function( elem ) {\n\t\t\treturn jQuery.contains( elem.ownerDocument, elem ) ||\n\t\t\t\telem.getRootNode( composed ) === elem.ownerDocument;\n\t\t};\n\t}\nvar isHiddenWithinTree = function( elem, el ) {\n\n\t\t// isHiddenWithinTree might be called from jQuery#filter function;\n\t\t// in that case, element will be second argument\n\t\telem = el || elem;\n\n\t\t// Inline style trumps all\n\t\treturn elem.style.display === \"none\" ||\n\t\t\telem.style.display === \"\" &&\n\n\t\t\t// Otherwise, check computed style\n\t\t\t// Support: Firefox <=43 - 45\n\t\t\t// Disconnected elements can have computed display: none, so first confirm that elem is\n\t\t\t// in the document.\n\t\t\tisAttached( elem ) &&\n\n\t\t\tjQuery.css( elem, \"display\" ) === \"none\";\n\t};\n\n\n\nfunction adjustCSS( elem, prop, valueParts, tween ) {\n\tvar adjusted, scale,\n\t\tmaxIterations = 20,\n\t\tcurrentValue = tween ?\n\t\t\tfunction() {\n\t\t\t\treturn tween.cur();\n\t\t\t} :\n\t\t\tfunction() {\n\t\t\t\treturn jQuery.css( elem, prop, \"\" );\n\t\t\t},\n\t\tinitial = currentValue(),\n\t\tunit = valueParts && valueParts[ 3 ] || ( jQuery.cssNumber[ prop ] ? \"\" : \"px\" ),\n\n\t\t// Starting value computation is required for potential unit mismatches\n\t\tinitialInUnit = elem.nodeType &&\n\t\t\t( jQuery.cssNumber[ prop ] || unit !== \"px\" && +initial ) &&\n\t\t\trcssNum.exec( jQuery.css( elem, prop ) );\n\n\tif ( initialInUnit && initialInUnit[ 3 ] !== unit ) {\n\n\t\t// Support: Firefox <=54\n\t\t// Halve the iteration target value to prevent interference from CSS upper bounds (gh-2144)\n\t\tinitial = initial / 2;\n\n\t\t// Trust units reported by jQuery.css\n\t\tunit = unit || initialInUnit[ 3 ];\n\n\t\t// Iteratively approximate from a nonzero starting point\n\t\tinitialInUnit = +initial || 1;\n\n\t\twhile ( maxIterations-- ) {\n\n\t\t\t// Evaluate and update our best guess (doubling guesses that zero out).\n\t\t\t// Finish if the scale equals or crosses 1 (making the old*new product non-positive).\n\t\t\tjQuery.style( elem, prop, initialInUnit + unit );\n\t\t\tif ( ( 1 - scale ) * ( 1 - ( scale = currentValue() / initial || 0.5 ) ) <= 0 ) {\n\t\t\t\tmaxIterations = 0;\n\t\t\t}\n\t\t\tinitialInUnit = initialInUnit / scale;\n\n\t\t}\n\n\t\tinitialInUnit = initialInUnit * 2;\n\t\tjQuery.style( elem, prop, initialInUnit + unit );\n\n\t\t// Make sure we update the tween properties later on\n\t\tvalueParts = valueParts || [];\n\t}\n\n\tif ( valueParts ) {\n\t\tinitialInUnit = +initialInUnit || +initial || 0;\n\n\t\t// Apply relative offset (+=/-=) if specified\n\t\tadjusted = valueParts[ 1 ] ?\n\t\t\tinitialInUnit + ( valueParts[ 1 ] + 1 ) * valueParts[ 2 ] :\n\t\t\t+valueParts[ 2 ];\n\t\tif ( tween ) {\n\t\t\ttween.unit = unit;\n\t\t\ttween.start = initialInUnit;\n\t\t\ttween.end = adjusted;\n\t\t}\n\t}\n\treturn adjusted;\n}\n\n\nvar defaultDisplayMap = {};\n\nfunction getDefaultDisplay( elem ) {\n\tvar temp,\n\t\tdoc = elem.ownerDocument,\n\t\tnodeName = elem.nodeName,\n\t\tdisplay = defaultDisplayMap[ nodeName ];\n\n\tif ( display ) {\n\t\treturn display;\n\t}\n\n\ttemp = doc.body.appendChild( doc.createElement( nodeName ) );\n\tdisplay = jQuery.css( temp, \"display\" );\n\n\ttemp.parentNode.removeChild( temp );\n\n\tif ( display === \"none\" ) {\n\t\tdisplay = \"block\";\n\t}\n\tdefaultDisplayMap[ nodeName ] = display;\n\n\treturn display;\n}\n\nfunction showHide( elements, show ) {\n\tvar display, elem,\n\t\tvalues = [],\n\t\tindex = 0,\n\t\tlength = elements.length;\n\n\t// Determine new display value for elements that need to change\n\tfor ( ; index < length; index++ ) {\n\t\telem = elements[ index ];\n\t\tif ( !elem.style ) {\n\t\t\tcontinue;\n\t\t}\n\n\t\tdisplay = elem.style.display;\n\t\tif ( show ) {\n\n\t\t\t// Since we force visibility upon cascade-hidden elements, an immediate (and slow)\n\t\t\t// check is required in this first loop unless we have a nonempty display value (either\n\t\t\t// inline or about-to-be-restored)\n\t\t\tif ( display === \"none\" ) {\n\t\t\t\tvalues[ index ] = dataPriv.get( elem, \"display\" ) || null;\n\t\t\t\tif ( !values[ index ] ) {\n\t\t\t\t\telem.style.display = \"\";\n\t\t\t\t}\n\t\t\t}\n\t\t\tif ( elem.style.display === \"\" && isHiddenWithinTree( elem ) ) {\n\t\t\t\tvalues[ index ] = getDefaultDisplay( elem );\n\t\t\t}\n\t\t} else {\n\t\t\tif ( display !== \"none\" ) {\n\t\t\t\tvalues[ index ] = \"none\";\n\n\t\t\t\t// Remember what we're overwriting\n\t\t\t\tdataPriv.set( elem, \"display\", display );\n\t\t\t}\n\t\t}\n\t}\n\n\t// Set the display of the elements in a second loop to avoid constant reflow\n\tfor ( index = 0; index < length; index++ ) {\n\t\tif ( values[ index ] != null ) {\n\t\t\telements[ index ].style.display = values[ index ];\n\t\t}\n\t}\n\n\treturn elements;\n}\n\njQuery.fn.extend( {\n\tshow: function() {\n\t\treturn showHide( this, true );\n\t},\n\thide: function() {\n\t\treturn showHide( this );\n\t},\n\ttoggle: function( state ) {\n\t\tif ( typeof state === \"boolean\" ) {\n\t\t\treturn state ? this.show() : this.hide();\n\t\t}\n\n\t\treturn this.each( function() {\n\t\t\tif ( isHiddenWithinTree( this ) ) {\n\t\t\t\tjQuery( this ).show();\n\t\t\t} else {\n\t\t\t\tjQuery( this ).hide();\n\t\t\t}\n\t\t} );\n\t}\n} );\nvar rcheckableType = ( /^(?:checkbox|radio)$/i );\n\nvar rtagName = ( /<([a-z][^\\/\\0>\\x20\\t\\r\\n\\f]*)/i );\n\nvar rscriptType = ( /^$|^module$|\\/(?:java|ecma)script/i );\n\n\n\n( function() {\n\tvar fragment = document.createDocumentFragment(),\n\t\tdiv = fragment.appendChild( document.createElement( \"div\" ) ),\n\t\tinput = document.createElement( \"input\" );\n\n\t// Support: Android 4.0 - 4.3 only\n\t// Check state lost if the name is set (#11217)\n\t// Support: Windows Web Apps (WWA)\n\t// `name` and `type` must use .setAttribute for WWA (#14901)\n\tinput.setAttribute( \"type\", \"radio\" );\n\tinput.setAttribute( \"checked\", \"checked\" );\n\tinput.setAttribute( \"name\", \"t\" );\n\n\tdiv.appendChild( input );\n\n\t// Support: Android <=4.1 only\n\t// Older WebKit doesn't clone checked state correctly in fragments\n\tsupport.checkClone = div.cloneNode( true ).cloneNode( true ).lastChild.checked;\n\n\t// Support: IE <=11 only\n\t// Make sure textarea (and checkbox) defaultValue is properly cloned\n\tdiv.innerHTML = \"<textarea>x</textarea>\";\n\tsupport.noCloneChecked = !!div.cloneNode( true ).lastChild.defaultValue;\n\n\t// Support: IE <=9 only\n\t// IE <=9 replaces <option> tags with their contents when inserted outside of\n\t// the select element.\n\tdiv.innerHTML = \"<option></option>\";\n\tsupport.option = !!div.lastChild;\n} )();\n\n\n// We have to close these tags to support XHTML (#13200)\nvar wrapMap = {\n\n\t// XHTML parsers do not magically insert elements in the\n\t// same way that tag soup parsers do. So we cannot shorten\n\t// this by omitting <tbody> or other required elements.\n\tthead: [ 1, \"<table>\", \"</table>\" ],\n\tcol: [ 2, \"<table><colgroup>\", \"</colgroup></table>\" ],\n\ttr: [ 2, \"<table><tbody>\", \"</tbody></table>\" ],\n\ttd: [ 3, \"<table><tbody><tr>\", \"</tr></tbody></table>\" ],\n\n\t_default: [ 0, \"\", \"\" ]\n};\n\nwrapMap.tbody = wrapMap.tfoot = wrapMap.colgroup = wrapMap.caption = wrapMap.thead;\nwrapMap.th = wrapMap.td;\n\n// Support: IE <=9 only\nif ( !support.option ) {\n\twrapMap.optgroup = wrapMap.option = [ 1, \"<select multiple='multiple'>\", \"</select>\" ];\n}\n\n\nfunction getAll( context, tag ) {\n\n\t// Support: IE <=9 - 11 only\n\t// Use typeof to avoid zero-argument method invocation on host objects (#15151)\n\tvar ret;\n\n\tif ( typeof context.getElementsByTagName !== \"undefined\" ) {\n\t\tret = context.getElementsByTagName( tag || \"*\" );\n\n\t} else if ( typeof context.querySelectorAll !== \"undefined\" ) {\n\t\tret = context.querySelectorAll( tag || \"*\" );\n\n\t} else {\n\t\tret = [];\n\t}\n\n\tif ( tag === undefined || tag && nodeName( context, tag ) ) {\n\t\treturn jQuery.merge( [ context ], ret );\n\t}\n\n\treturn ret;\n}\n\n\n// Mark scripts as having already been evaluated\nfunction setGlobalEval( elems, refElements ) {\n\tvar i = 0,\n\t\tl = elems.length;\n\n\tfor ( ; i < l; i++ ) {\n\t\tdataPriv.set(\n\t\t\telems[ i ],\n\t\t\t\"globalEval\",\n\t\t\t!refElements || dataPriv.get( refElements[ i ], \"globalEval\" )\n\t\t);\n\t}\n}\n\n\nvar rhtml = /<|&#?\\w+;/;\n\nfunction buildFragment( elems, context, scripts, selection, ignored ) {\n\tvar elem, tmp, tag, wrap, attached, j,\n\t\tfragment = context.createDocumentFragment(),\n\t\tnodes = [],\n\t\ti = 0,\n\t\tl = elems.length;\n\n\tfor ( ; i < l; i++ ) {\n\t\telem = elems[ i ];\n\n\t\tif ( elem || elem === 0 ) {\n\n\t\t\t// Add nodes directly\n\t\t\tif ( toType( elem ) === \"object\" ) {\n\n\t\t\t\t// Support: Android <=4.0 only, PhantomJS 1 only\n\t\t\t\t// push.apply(_, arraylike) throws on ancient WebKit\n\t\t\t\tjQuery.merge( nodes, elem.nodeType ? [ elem ] : elem );\n\n\t\t\t// Convert non-html into a text node\n\t\t\t} else if ( !rhtml.test( elem ) ) {\n\t\t\t\tnodes.push( context.createTextNode( elem ) );\n\n\t\t\t// Convert html into DOM nodes\n\t\t\t} else {\n\t\t\t\ttmp = tmp || fragment.appendChild( context.createElement( \"div\" ) );\n\n\t\t\t\t// Deserialize a standard representation\n\t\t\t\ttag = ( rtagName.exec( elem ) || [ \"\", \"\" ] )[ 1 ].toLowerCase();\n\t\t\t\twrap = wrapMap[ tag ] || wrapMap._default;\n\t\t\t\ttmp.innerHTML = wrap[ 1 ] + jQuery.htmlPrefilter( elem ) + wrap[ 2 ];\n\n\t\t\t\t// Descend through wrappers to the right content\n\t\t\t\tj = wrap[ 0 ];\n\t\t\t\twhile ( j-- ) {\n\t\t\t\t\ttmp = tmp.lastChild;\n\t\t\t\t}\n\n\t\t\t\t// Support: Android <=4.0 only, PhantomJS 1 only\n\t\t\t\t// push.apply(_, arraylike) throws on ancient WebKit\n\t\t\t\tjQuery.merge( nodes, tmp.childNodes );\n\n\t\t\t\t// Remember the top-level container\n\t\t\t\ttmp = fragment.firstChild;\n\n\t\t\t\t// Ensure the created nodes are orphaned (#12392)\n\t\t\t\ttmp.textContent = \"\";\n\t\t\t}\n\t\t}\n\t}\n\n\t// Remove wrapper from fragment\n\tfragment.textContent = \"\";\n\n\ti = 0;\n\twhile ( ( elem = nodes[ i++ ] ) ) {\n\n\t\t// Skip elements already in the context collection (trac-4087)\n\t\tif ( selection && jQuery.inArray( elem, selection ) > -1 ) {\n\t\t\tif ( ignored ) {\n\t\t\t\tignored.push( elem );\n\t\t\t}\n\t\t\tcontinue;\n\t\t}\n\n\t\tattached = isAttached( elem );\n\n\t\t// Append to fragment\n\t\ttmp = getAll( fragment.appendChild( elem ), \"script\" );\n\n\t\t// Preserve script evaluation history\n\t\tif ( attached ) {\n\t\t\tsetGlobalEval( tmp );\n\t\t}\n\n\t\t// Capture executables\n\t\tif ( scripts ) {\n\t\t\tj = 0;\n\t\t\twhile ( ( elem = tmp[ j++ ] ) ) {\n\t\t\t\tif ( rscriptType.test( elem.type || \"\" ) ) {\n\t\t\t\t\tscripts.push( elem );\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\n\treturn fragment;\n}\n\n\nvar\n\trkeyEvent = /^key/,\n\trmouseEvent = /^(?:mouse|pointer|contextmenu|drag|drop)|click/,\n\trtypenamespace = /^([^.]*)(?:\\.(.+)|)/;\n\nfunction returnTrue() {\n\treturn true;\n}\n\nfunction returnFalse() {\n\treturn false;\n}\n\n// Support: IE <=9 - 11+\n// focus() and blur() are asynchronous, except when they are no-op.\n// So expect focus to be synchronous when the element is already active,\n// and blur to be synchronous when the element is not already active.\n// (focus and blur are always synchronous in other supported browsers,\n// this just defines when we can count on it).\nfunction expectSync( elem, type ) {\n\treturn ( elem === safeActiveElement() ) === ( type === \"focus\" );\n}\n\n// Support: IE <=9 only\n// Accessing document.activeElement can throw unexpectedly\n// https://bugs.jquery.com/ticket/13393\nfunction safeActiveElement() {\n\ttry {\n\t\treturn document.activeElement;\n\t} catch ( err ) { }\n}\n\nfunction on( elem, types, selector, data, fn, one ) {\n\tvar origFn, type;\n\n\t// Types can be a map of types/handlers\n\tif ( typeof types === \"object\" ) {\n\n\t\t// ( types-Object, selector, data )\n\t\tif ( typeof selector !== \"string\" ) {\n\n\t\t\t// ( types-Object, data )\n\t\t\tdata = data || selector;\n\t\t\tselector = undefined;\n\t\t}\n\t\tfor ( type in types ) {\n\t\t\ton( elem, type, selector, data, types[ type ], one );\n\t\t}\n\t\treturn elem;\n\t}\n\n\tif ( data == null && fn == null ) {\n\n\t\t// ( types, fn )\n\t\tfn = selector;\n\t\tdata = selector = undefined;\n\t} else if ( fn == null ) {\n\t\tif ( typeof selector === \"string\" ) {\n\n\t\t\t// ( types, selector, fn )\n\t\t\tfn = data;\n\t\t\tdata = undefined;\n\t\t} else {\n\n\t\t\t// ( types, data, fn )\n\t\t\tfn = data;\n\t\t\tdata = selector;\n\t\t\tselector = undefined;\n\t\t}\n\t}\n\tif ( fn === false ) {\n\t\tfn = returnFalse;\n\t} else if ( !fn ) {\n\t\treturn elem;\n\t}\n\n\tif ( one === 1 ) {\n\t\torigFn = fn;\n\t\tfn = function( event ) {\n\n\t\t\t// Can use an empty set, since event contains the info\n\t\t\tjQuery().off( event );\n\t\t\treturn origFn.apply( this, arguments );\n\t\t};\n\n\t\t// Use same guid so caller can remove using origFn\n\t\tfn.guid = origFn.guid || ( origFn.guid = jQuery.guid++ );\n\t}\n\treturn elem.each( function() {\n\t\tjQuery.event.add( this, types, fn, data, selector );\n\t} );\n}\n\n/*\n * Helper functions for managing events -- not part of the public interface.\n * Props to Dean Edwards' addEvent library for many of the ideas.\n */\njQuery.event = {\n\n\tglobal: {},\n\n\tadd: function( elem, types, handler, data, selector ) {\n\n\t\tvar handleObjIn, eventHandle, tmp,\n\t\t\tevents, t, handleObj,\n\t\t\tspecial, handlers, type, namespaces, origType,\n\t\t\telemData = dataPriv.get( elem );\n\n\t\t// Only attach events to objects that accept data\n\t\tif ( !acceptData( elem ) ) {\n\t\t\treturn;\n\t\t}\n\n\t\t// Caller can pass in an object of custom data in lieu of the handler\n\t\tif ( handler.handler ) {\n\t\t\thandleObjIn = handler;\n\t\t\thandler = handleObjIn.handler;\n\t\t\tselector = handleObjIn.selector;\n\t\t}\n\n\t\t// Ensure that invalid selectors throw exceptions at attach time\n\t\t// Evaluate against documentElement in case elem is a non-element node (e.g., document)\n\t\tif ( selector ) {\n\t\t\tjQuery.find.matchesSelector( documentElement, selector );\n\t\t}\n\n\t\t// Make sure that the handler has a unique ID, used to find/remove it later\n\t\tif ( !handler.guid ) {\n\t\t\thandler.guid = jQuery.guid++;\n\t\t}\n\n\t\t// Init the element's event structure and main handler, if this is the first\n\t\tif ( !( events = elemData.events ) ) {\n\t\t\tevents = elemData.events = Object.create( null );\n\t\t}\n\t\tif ( !( eventHandle = elemData.handle ) ) {\n\t\t\teventHandle = elemData.handle = function( e ) {\n\n\t\t\t\t// Discard the second event of a jQuery.event.trigger() and\n\t\t\t\t// when an event is called after a page has unloaded\n\t\t\t\treturn typeof jQuery !== \"undefined\" && jQuery.event.triggered !== e.type ?\n\t\t\t\t\tjQuery.event.dispatch.apply( elem, arguments ) : undefined;\n\t\t\t};\n\t\t}\n\n\t\t// Handle multiple events separated by a space\n\t\ttypes = ( types || \"\" ).match( rnothtmlwhite ) || [ \"\" ];\n\t\tt = types.length;\n\t\twhile ( t-- ) {\n\t\t\ttmp = rtypenamespace.exec( types[ t ] ) || [];\n\t\t\ttype = origType = tmp[ 1 ];\n\t\t\tnamespaces = ( tmp[ 2 ] || \"\" ).split( \".\" ).sort();\n\n\t\t\t// There *must* be a type, no attaching namespace-only handlers\n\t\t\tif ( !type ) {\n\t\t\t\tcontinue;\n\t\t\t}\n\n\t\t\t// If event changes its type, use the special event handlers for the changed type\n\t\t\tspecial = jQuery.event.special[ type ] || {};\n\n\t\t\t// If selector defined, determine special event api type, otherwise given type\n\t\t\ttype = ( selector ? special.delegateType : special.bindType ) || type;\n\n\t\t\t// Update special based on newly reset type\n\t\t\tspecial = jQuery.event.special[ type ] || {};\n\n\t\t\t// handleObj is passed to all event handlers\n\t\t\thandleObj = jQuery.extend( {\n\t\t\t\ttype: type,\n\t\t\t\torigType: origType,\n\t\t\t\tdata: data,\n\t\t\t\thandler: handler,\n\t\t\t\tguid: handler.guid,\n\t\t\t\tselector: selector,\n\t\t\t\tneedsContext: selector && jQuery.expr.match.needsContext.test( selector ),\n\t\t\t\tnamespace: namespaces.join( \".\" )\n\t\t\t}, handleObjIn );\n\n\t\t\t// Init the event handler queue if we're the first\n\t\t\tif ( !( handlers = events[ type ] ) ) {\n\t\t\t\thandlers = events[ type ] = [];\n\t\t\t\thandlers.delegateCount = 0;\n\n\t\t\t\t// Only use addEventListener if the special events handler returns false\n\t\t\t\tif ( !special.setup ||\n\t\t\t\t\tspecial.setup.call( elem, data, namespaces, eventHandle ) === false ) {\n\n\t\t\t\t\tif ( elem.addEventListener ) {\n\t\t\t\t\t\telem.addEventListener( type, eventHandle );\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tif ( special.add ) {\n\t\t\t\tspecial.add.call( elem, handleObj );\n\n\t\t\t\tif ( !handleObj.handler.guid ) {\n\t\t\t\t\thandleObj.handler.guid = handler.guid;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t// Add to the element's handler list, delegates in front\n\t\t\tif ( selector ) {\n\t\t\t\thandlers.splice( handlers.delegateCount++, 0, handleObj );\n\t\t\t} else {\n\t\t\t\thandlers.push( handleObj );\n\t\t\t}\n\n\t\t\t// Keep track of which events have ever been used, for event optimization\n\t\t\tjQuery.event.global[ type ] = true;\n\t\t}\n\n\t},\n\n\t// Detach an event or set of events from an element\n\tremove: function( elem, types, handler, selector, mappedTypes ) {\n\n\t\tvar j, origCount, tmp,\n\t\t\tevents, t, handleObj,\n\t\t\tspecial, handlers, type, namespaces, origType,\n\t\t\telemData = dataPriv.hasData( elem ) && dataPriv.get( elem );\n\n\t\tif ( !elemData || !( events = elemData.events ) ) {\n\t\t\treturn;\n\t\t}\n\n\t\t// Once for each type.namespace in types; type may be omitted\n\t\ttypes = ( types || \"\" ).match( rnothtmlwhite ) || [ \"\" ];\n\t\tt = types.length;\n\t\twhile ( t-- ) {\n\t\t\ttmp = rtypenamespace.exec( types[ t ] ) || [];\n\t\t\ttype = origType = tmp[ 1 ];\n\t\t\tnamespaces = ( tmp[ 2 ] || \"\" ).split( \".\" ).sort();\n\n\t\t\t// Unbind all events (on this namespace, if provided) for the element\n\t\t\tif ( !type ) {\n\t\t\t\tfor ( type in events ) {\n\t\t\t\t\tjQuery.event.remove( elem, type + types[ t ], handler, selector, true );\n\t\t\t\t}\n\t\t\t\tcontinue;\n\t\t\t}\n\n\t\t\tspecial = jQuery.event.special[ type ] || {};\n\t\t\ttype = ( selector ? special.delegateType : special.bindType ) || type;\n\t\t\thandlers = events[ type ] || [];\n\t\t\ttmp = tmp[ 2 ] &&\n\t\t\t\tnew RegExp( \"(^|\\\\.)\" + namespaces.join( \"\\\\.(?:.*\\\\.|)\" ) + \"(\\\\.|$)\" );\n\n\t\t\t// Remove matching events\n\t\t\torigCount = j = handlers.length;\n\t\t\twhile ( j-- ) {\n\t\t\t\thandleObj = handlers[ j ];\n\n\t\t\t\tif ( ( mappedTypes || origType === handleObj.origType ) &&\n\t\t\t\t\t( !handler || handler.guid === handleObj.guid ) &&\n\t\t\t\t\t( !tmp || tmp.test( handleObj.namespace ) ) &&\n\t\t\t\t\t( !selector || selector === handleObj.selector ||\n\t\t\t\t\t\tselector === \"**\" && handleObj.selector ) ) {\n\t\t\t\t\thandlers.splice( j, 1 );\n\n\t\t\t\t\tif ( handleObj.selector ) {\n\t\t\t\t\t\thandlers.delegateCount--;\n\t\t\t\t\t}\n\t\t\t\t\tif ( special.remove ) {\n\t\t\t\t\t\tspecial.remove.call( elem, handleObj );\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t// Remove generic event handler if we removed something and no more handlers exist\n\t\t\t// (avoids potential for endless recursion during removal of special event handlers)\n\t\t\tif ( origCount && !handlers.length ) {\n\t\t\t\tif ( !special.teardown ||\n\t\t\t\t\tspecial.teardown.call( elem, namespaces, elemData.handle ) === false ) {\n\n\t\t\t\t\tjQuery.removeEvent( elem, type, elemData.handle );\n\t\t\t\t}\n\n\t\t\t\tdelete events[ type ];\n\t\t\t}\n\t\t}\n\n\t\t// Remove data and the expando if it's no longer used\n\t\tif ( jQuery.isEmptyObject( events ) ) {\n\t\t\tdataPriv.remove( elem, \"handle events\" );\n\t\t}\n\t},\n\n\tdispatch: function( nativeEvent ) {\n\n\t\tvar i, j, ret, matched, handleObj, handlerQueue,\n\t\t\targs = new Array( arguments.length ),\n\n\t\t\t// Make a writable jQuery.Event from the native event object\n\t\t\tevent = jQuery.event.fix( nativeEvent ),\n\n\t\t\thandlers = (\n\t\t\t\t\tdataPriv.get( this, \"events\" ) || Object.create( null )\n\t\t\t\t)[ event.type ] || [],\n\t\t\tspecial = jQuery.event.special[ event.type ] || {};\n\n\t\t// Use the fix-ed jQuery.Event rather than the (read-only) native event\n\t\targs[ 0 ] = event;\n\n\t\tfor ( i = 1; i < arguments.length; i++ ) {\n\t\t\targs[ i ] = arguments[ i ];\n\t\t}\n\n\t\tevent.delegateTarget = this;\n\n\t\t// Call the preDispatch hook for the mapped type, and let it bail if desired\n\t\tif ( special.preDispatch && special.preDispatch.call( this, event ) === false ) {\n\t\t\treturn;\n\t\t}\n\n\t\t// Determine handlers\n\t\thandlerQueue = jQuery.event.handlers.call( this, event, handlers );\n\n\t\t// Run delegates first; they may want to stop propagation beneath us\n\t\ti = 0;\n\t\twhile ( ( matched = handlerQueue[ i++ ] ) && !event.isPropagationStopped() ) {\n\t\t\tevent.currentTarget = matched.elem;\n\n\t\t\tj = 0;\n\t\t\twhile ( ( handleObj = matched.handlers[ j++ ] ) &&\n\t\t\t\t!event.isImmediatePropagationStopped() ) {\n\n\t\t\t\t// If the event is namespaced, then each handler is only invoked if it is\n\t\t\t\t// specially universal or its namespaces are a superset of the event's.\n\t\t\t\tif ( !event.rnamespace || handleObj.namespace === false ||\n\t\t\t\t\tevent.rnamespace.test( handleObj.namespace ) ) {\n\n\t\t\t\t\tevent.handleObj = handleObj;\n\t\t\t\t\tevent.data = handleObj.data;\n\n\t\t\t\t\tret = ( ( jQuery.event.special[ handleObj.origType ] || {} ).handle ||\n\t\t\t\t\t\thandleObj.handler ).apply( matched.elem, args );\n\n\t\t\t\t\tif ( ret !== undefined ) {\n\t\t\t\t\t\tif ( ( event.result = ret ) === false ) {\n\t\t\t\t\t\t\tevent.preventDefault();\n\t\t\t\t\t\t\tevent.stopPropagation();\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\t// Call the postDispatch hook for the mapped type\n\t\tif ( special.postDispatch ) {\n\t\t\tspecial.postDispatch.call( this, event );\n\t\t}\n\n\t\treturn event.result;\n\t},\n\n\thandlers: function( event, handlers ) {\n\t\tvar i, handleObj, sel, matchedHandlers, matchedSelectors,\n\t\t\thandlerQueue = [],\n\t\t\tdelegateCount = handlers.delegateCount,\n\t\t\tcur = event.target;\n\n\t\t// Find delegate handlers\n\t\tif ( delegateCount &&\n\n\t\t\t// Support: IE <=9\n\t\t\t// Black-hole SVG <use> instance trees (trac-13180)\n\t\t\tcur.nodeType &&\n\n\t\t\t// Support: Firefox <=42\n\t\t\t// Suppress spec-violating clicks indicating a non-primary pointer button (trac-3861)\n\t\t\t// https://www.w3.org/TR/DOM-Level-3-Events/#event-type-click\n\t\t\t// Support: IE 11 only\n\t\t\t// ...but not arrow key \"clicks\" of radio inputs, which can have `button` -1 (gh-2343)\n\t\t\t!( event.type === \"click\" && event.button >= 1 ) ) {\n\n\t\t\tfor ( ; cur !== this; cur = cur.parentNode || this ) {\n\n\t\t\t\t// Don't check non-elements (#13208)\n\t\t\t\t// Don't process clicks on disabled elements (#6911, #8165, #11382, #11764)\n\t\t\t\tif ( cur.nodeType === 1 && !( event.type === \"click\" && cur.disabled === true ) ) {\n\t\t\t\t\tmatchedHandlers = [];\n\t\t\t\t\tmatchedSelectors = {};\n\t\t\t\t\tfor ( i = 0; i < delegateCount; i++ ) {\n\t\t\t\t\t\thandleObj = handlers[ i ];\n\n\t\t\t\t\t\t// Don't conflict with Object.prototype properties (#13203)\n\t\t\t\t\t\tsel = handleObj.selector + \" \";\n\n\t\t\t\t\t\tif ( matchedSelectors[ sel ] === undefined ) {\n\t\t\t\t\t\t\tmatchedSelectors[ sel ] = handleObj.needsContext ?\n\t\t\t\t\t\t\t\tjQuery( sel, this ).index( cur ) > -1 :\n\t\t\t\t\t\t\t\tjQuery.find( sel, this, null, [ cur ] ).length;\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif ( matchedSelectors[ sel ] ) {\n\t\t\t\t\t\t\tmatchedHandlers.push( handleObj );\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\tif ( matchedHandlers.length ) {\n\t\t\t\t\t\thandlerQueue.push( { elem: cur, handlers: matchedHandlers } );\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\t// Add the remaining (directly-bound) handlers\n\t\tcur = this;\n\t\tif ( delegateCount < handlers.length ) {\n\t\t\thandlerQueue.push( { elem: cur, handlers: handlers.slice( delegateCount ) } );\n\t\t}\n\n\t\treturn handlerQueue;\n\t},\n\n\taddProp: function( name, hook ) {\n\t\tObject.defineProperty( jQuery.Event.prototype, name, {\n\t\t\tenumerable: true,\n\t\t\tconfigurable: true,\n\n\t\t\tget: isFunction( hook ) ?\n\t\t\t\tfunction() {\n\t\t\t\t\tif ( this.originalEvent ) {\n\t\t\t\t\t\t\treturn hook( this.originalEvent );\n\t\t\t\t\t}\n\t\t\t\t} :\n\t\t\t\tfunction() {\n\t\t\t\t\tif ( this.originalEvent ) {\n\t\t\t\t\t\t\treturn this.originalEvent[ name ];\n\t\t\t\t\t}\n\t\t\t\t},\n\n\t\t\tset: function( value ) {\n\t\t\t\tObject.defineProperty( this, name, {\n\t\t\t\t\tenumerable: true,\n\t\t\t\t\tconfigurable: true,\n\t\t\t\t\twritable: true,\n\t\t\t\t\tvalue: value\n\t\t\t\t} );\n\t\t\t}\n\t\t} );\n\t},\n\n\tfix: function( originalEvent ) {\n\t\treturn originalEvent[ jQuery.expando ] ?\n\t\t\toriginalEvent :\n\t\t\tnew jQuery.Event( originalEvent );\n\t},\n\n\tspecial: {\n\t\tload: {\n\n\t\t\t// Prevent triggered image.load events from bubbling to window.load\n\t\t\tnoBubble: true\n\t\t},\n\t\tclick: {\n\n\t\t\t// Utilize native event to ensure correct state for checkable inputs\n\t\t\tsetup: function( data ) {\n\n\t\t\t\t// For mutual compressibility with _default, replace `this` access with a local var.\n\t\t\t\t// `|| data` is dead code meant only to preserve the variable through minification.\n\t\t\t\tvar el = this || data;\n\n\t\t\t\t// Claim the first handler\n\t\t\t\tif ( rcheckableType.test( el.type ) &&\n\t\t\t\t\tel.click && nodeName( el, \"input\" ) ) {\n\n\t\t\t\t\t// dataPriv.set( el, \"click\", ... )\n\t\t\t\t\tleverageNative( el, \"click\", returnTrue );\n\t\t\t\t}\n\n\t\t\t\t// Return false to allow normal processing in the caller\n\t\t\t\treturn false;\n\t\t\t},\n\t\t\ttrigger: function( data ) {\n\n\t\t\t\t// For mutual compressibility with _default, replace `this` access with a local var.\n\t\t\t\t// `|| data` is dead code meant only to preserve the variable through minification.\n\t\t\t\tvar el = this || data;\n\n\t\t\t\t// Force setup before triggering a click\n\t\t\t\tif ( rcheckableType.test( el.type ) &&\n\t\t\t\t\tel.click && nodeName( el, \"input\" ) ) {\n\n\t\t\t\t\tleverageNative( el, \"click\" );\n\t\t\t\t}\n\n\t\t\t\t// Return non-false to allow normal event-path propagation\n\t\t\t\treturn true;\n\t\t\t},\n\n\t\t\t// For cross-browser consistency, suppress native .click() on links\n\t\t\t// Also prevent it if we're currently inside a leveraged native-event stack\n\t\t\t_default: function( event ) {\n\t\t\t\tvar target = event.target;\n\t\t\t\treturn rcheckableType.test( target.type ) &&\n\t\t\t\t\ttarget.click && nodeName( target, \"input\" ) &&\n\t\t\t\t\tdataPriv.get( target, \"click\" ) ||\n\t\t\t\t\tnodeName( target, \"a\" );\n\t\t\t}\n\t\t},\n\n\t\tbeforeunload: {\n\t\t\tpostDispatch: function( event ) {\n\n\t\t\t\t// Support: Firefox 20+\n\t\t\t\t// Firefox doesn't alert if the returnValue field is not set.\n\t\t\t\tif ( event.result !== undefined && event.originalEvent ) {\n\t\t\t\t\tevent.originalEvent.returnValue = event.result;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n};\n\n// Ensure the presence of an event listener that handles manually-triggered\n// synthetic events by interrupting progress until reinvoked in response to\n// *native* events that it fires directly, ensuring that state changes have\n// already occurred before other listeners are invoked.\nfunction leverageNative( el, type, expectSync ) {\n\n\t// Missing expectSync indicates a trigger call, which must force setup through jQuery.event.add\n\tif ( !expectSync ) {\n\t\tif ( dataPriv.get( el, type ) === undefined ) {\n\t\t\tjQuery.event.add( el, type, returnTrue );\n\t\t}\n\t\treturn;\n\t}\n\n\t// Register the controller as a special universal handler for all event namespaces\n\tdataPriv.set( el, type, false );\n\tjQuery.event.add( el, type, {\n\t\tnamespace: false,\n\t\thandler: function( event ) {\n\t\t\tvar notAsync, result,\n\t\t\t\tsaved = dataPriv.get( this, type );\n\n\t\t\tif ( ( event.isTrigger & 1 ) && this[ type ] ) {\n\n\t\t\t\t// Interrupt processing of the outer synthetic .trigger()ed event\n\t\t\t\t// Saved data should be false in such cases, but might be a leftover capture object\n\t\t\t\t// from an async native handler (gh-4350)\n\t\t\t\tif ( !saved.length ) {\n\n\t\t\t\t\t// Store arguments for use when handling the inner native event\n\t\t\t\t\t// There will always be at least one argument (an event object), so this array\n\t\t\t\t\t// will not be confused with a leftover capture object.\n\t\t\t\t\tsaved = slice.call( arguments );\n\t\t\t\t\tdataPriv.set( this, type, saved );\n\n\t\t\t\t\t// Trigger the native event and capture its result\n\t\t\t\t\t// Support: IE <=9 - 11+\n\t\t\t\t\t// focus() and blur() are asynchronous\n\t\t\t\t\tnotAsync = expectSync( this, type );\n\t\t\t\t\tthis[ type ]();\n\t\t\t\t\tresult = dataPriv.get( this, type );\n\t\t\t\t\tif ( saved !== result || notAsync ) {\n\t\t\t\t\t\tdataPriv.set( this, type, false );\n\t\t\t\t\t} else {\n\t\t\t\t\t\tresult = {};\n\t\t\t\t\t}\n\t\t\t\t\tif ( saved !== result ) {\n\n\t\t\t\t\t\t// Cancel the outer synthetic event\n\t\t\t\t\t\tevent.stopImmediatePropagation();\n\t\t\t\t\t\tevent.preventDefault();\n\t\t\t\t\t\treturn result.value;\n\t\t\t\t\t}\n\n\t\t\t\t// If this is an inner synthetic event for an event with a bubbling surrogate\n\t\t\t\t// (focus or blur), assume that the surrogate already propagated from triggering the\n\t\t\t\t// native event and prevent that from happening again here.\n\t\t\t\t// This technically gets the ordering wrong w.r.t. to `.trigger()` (in which the\n\t\t\t\t// bubbling surrogate propagates *after* the non-bubbling base), but that seems\n\t\t\t\t// less bad than duplication.\n\t\t\t\t} else if ( ( jQuery.event.special[ type ] || {} ).delegateType ) {\n\t\t\t\t\tevent.stopPropagation();\n\t\t\t\t}\n\n\t\t\t// If this is a native event triggered above, everything is now in order\n\t\t\t// Fire an inner synthetic event with the original arguments\n\t\t\t} else if ( saved.length ) {\n\n\t\t\t\t// ...and capture the result\n\t\t\t\tdataPriv.set( this, type, {\n\t\t\t\t\tvalue: jQuery.event.trigger(\n\n\t\t\t\t\t\t// Support: IE <=9 - 11+\n\t\t\t\t\t\t// Extend with the prototype to reset the above stopImmediatePropagation()\n\t\t\t\t\t\tjQuery.extend( saved[ 0 ], jQuery.Event.prototype ),\n\t\t\t\t\t\tsaved.slice( 1 ),\n\t\t\t\t\t\tthis\n\t\t\t\t\t)\n\t\t\t\t} );\n\n\t\t\t\t// Abort handling of the native event\n\t\t\t\tevent.stopImmediatePropagation();\n\t\t\t}\n\t\t}\n\t} );\n}\n\njQuery.removeEvent = function( elem, type, handle ) {\n\n\t// This \"if\" is needed for plain objects\n\tif ( elem.removeEventListener ) {\n\t\telem.removeEventListener( type, handle );\n\t}\n};\n\njQuery.Event = function( src, props ) {\n\n\t// Allow instantiation without the 'new' keyword\n\tif ( !( this instanceof jQuery.Event ) ) {\n\t\treturn new jQuery.Event( src, props );\n\t}\n\n\t// Event object\n\tif ( src && src.type ) {\n\t\tthis.originalEvent = src;\n\t\tthis.type = src.type;\n\n\t\t// Events bubbling up the document may have been marked as prevented\n\t\t// by a handler lower down the tree; reflect the correct value.\n\t\tthis.isDefaultPrevented = src.defaultPrevented ||\n\t\t\t\tsrc.defaultPrevented === undefined &&\n\n\t\t\t\t// Support: Android <=2.3 only\n\t\t\t\tsrc.returnValue === false ?\n\t\t\treturnTrue :\n\t\t\treturnFalse;\n\n\t\t// Create target properties\n\t\t// Support: Safari <=6 - 7 only\n\t\t// Target should not be a text node (#504, #13143)\n\t\tthis.target = ( src.target && src.target.nodeType === 3 ) ?\n\t\t\tsrc.target.parentNode :\n\t\t\tsrc.target;\n\n\t\tthis.currentTarget = src.currentTarget;\n\t\tthis.relatedTarget = src.relatedTarget;\n\n\t// Event type\n\t} else {\n\t\tthis.type = src;\n\t}\n\n\t// Put explicitly provided properties onto the event object\n\tif ( props ) {\n\t\tjQuery.extend( this, props );\n\t}\n\n\t// Create a timestamp if incoming event doesn't have one\n\tthis.timeStamp = src && src.timeStamp || Date.now();\n\n\t// Mark it as fixed\n\tthis[ jQuery.expando ] = true;\n};\n\n// jQuery.Event is based on DOM3 Events as specified by the ECMAScript Language Binding\n// https://www.w3.org/TR/2003/WD-DOM-Level-3-Events-20030331/ecma-script-binding.html\njQuery.Event.prototype = {\n\tconstructor: jQuery.Event,\n\tisDefaultPrevented: returnFalse,\n\tisPropagationStopped: returnFalse,\n\tisImmediatePropagationStopped: returnFalse,\n\tisSimulated: false,\n\n\tpreventDefault: function() {\n\t\tvar e = this.originalEvent;\n\n\t\tthis.isDefaultPrevented = returnTrue;\n\n\t\tif ( e && !this.isSimulated ) {\n\t\t\te.preventDefault();\n\t\t}\n\t},\n\tstopPropagation: function() {\n\t\tvar e = this.originalEvent;\n\n\t\tthis.isPropagationStopped = returnTrue;\n\n\t\tif ( e && !this.isSimulated ) {\n\t\t\te.stopPropagation();\n\t\t}\n\t},\n\tstopImmediatePropagation: function() {\n\t\tvar e = this.originalEvent;\n\n\t\tthis.isImmediatePropagationStopped = returnTrue;\n\n\t\tif ( e && !this.isSimulated ) {\n\t\t\te.stopImmediatePropagation();\n\t\t}\n\n\t\tthis.stopPropagation();\n\t}\n};\n\n// Includes all common event props including KeyEvent and MouseEvent specific props\njQuery.each( {\n\taltKey: true,\n\tbubbles: true,\n\tcancelable: true,\n\tchangedTouches: true,\n\tctrlKey: true,\n\tdetail: true,\n\teventPhase: true,\n\tmetaKey: true,\n\tpageX: true,\n\tpageY: true,\n\tshiftKey: true,\n\tview: true,\n\t\"char\": true,\n\tcode: true,\n\tcharCode: true,\n\tkey: true,\n\tkeyCode: true,\n\tbutton: true,\n\tbuttons: true,\n\tclientX: true,\n\tclientY: true,\n\toffsetX: true,\n\toffsetY: true,\n\tpointerId: true,\n\tpointerType: true,\n\tscreenX: true,\n\tscreenY: true,\n\ttargetTouches: true,\n\ttoElement: true,\n\ttouches: true,\n\n\twhich: function( event ) {\n\t\tvar button = event.button;\n\n\t\t// Add which for key events\n\t\tif ( event.which == null && rkeyEvent.test( event.type ) ) {\n\t\t\treturn event.charCode != null ? event.charCode : event.keyCode;\n\t\t}\n\n\t\t// Add which for click: 1 === left; 2 === middle; 3 === right\n\t\tif ( !event.which && button !== undefined && rmouseEvent.test( event.type ) ) {\n\t\t\tif ( button & 1 ) {\n\t\t\t\treturn 1;\n\t\t\t}\n\n\t\t\tif ( button & 2 ) {\n\t\t\t\treturn 3;\n\t\t\t}\n\n\t\t\tif ( button & 4 ) {\n\t\t\t\treturn 2;\n\t\t\t}\n\n\t\t\treturn 0;\n\t\t}\n\n\t\treturn event.which;\n\t}\n}, jQuery.event.addProp );\n\njQuery.each( { focus: \"focusin\", blur: \"focusout\" }, function( type, delegateType ) {\n\tjQuery.event.special[ type ] = {\n\n\t\t// Utilize native event if possible so blur/focus sequence is correct\n\t\tsetup: function() {\n\n\t\t\t// Claim the first handler\n\t\t\t// dataPriv.set( this, \"focus\", ... )\n\t\t\t// dataPriv.set( this, \"blur\", ... )\n\t\t\tleverageNative( this, type, expectSync );\n\n\t\t\t// Return false to allow normal processing in the caller\n\t\t\treturn false;\n\t\t},\n\t\ttrigger: function() {\n\n\t\t\t// Force setup before trigger\n\t\t\tleverageNative( this, type );\n\n\t\t\t// Return non-false to allow normal event-path propagation\n\t\t\treturn true;\n\t\t},\n\n\t\tdelegateType: delegateType\n\t};\n} );\n\n// Create mouseenter/leave events using mouseover/out and event-time checks\n// so that event delegation works in jQuery.\n// Do the same for pointerenter/pointerleave and pointerover/pointerout\n//\n// Support: Safari 7 only\n// Safari sends mouseenter too often; see:\n// https://bugs.chromium.org/p/chromium/issues/detail?id=470258\n// for the description of the bug (it existed in older Chrome versions as well).\njQuery.each( {\n\tmouseenter: \"mouseover\",\n\tmouseleave: \"mouseout\",\n\tpointerenter: \"pointerover\",\n\tpointerleave: \"pointerout\"\n}, function( orig, fix ) {\n\tjQuery.event.special[ orig ] = {\n\t\tdelegateType: fix,\n\t\tbindType: fix,\n\n\t\thandle: function( event ) {\n\t\t\tvar ret,\n\t\t\t\ttarget = this,\n\t\t\t\trelated = event.relatedTarget,\n\t\t\t\thandleObj = event.handleObj;\n\n\t\t\t// For mouseenter/leave call the handler if related is outside the target.\n\t\t\t// NB: No relatedTarget if the mouse left/entered the browser window\n\t\t\tif ( !related || ( related !== target && !jQuery.contains( target, related ) ) ) {\n\t\t\t\tevent.type = handleObj.origType;\n\t\t\t\tret = handleObj.handler.apply( this, arguments );\n\t\t\t\tevent.type = fix;\n\t\t\t}\n\t\t\treturn ret;\n\t\t}\n\t};\n} );\n\njQuery.fn.extend( {\n\n\ton: function( types, selector, data, fn ) {\n\t\treturn on( this, types, selector, data, fn );\n\t},\n\tone: function( types, selector, data, fn ) {\n\t\treturn on( this, types, selector, data, fn, 1 );\n\t},\n\toff: function( types, selector, fn ) {\n\t\tvar handleObj, type;\n\t\tif ( types && types.preventDefault && types.handleObj ) {\n\n\t\t\t// ( event )  dispatched jQuery.Event\n\t\t\thandleObj = types.handleObj;\n\t\t\tjQuery( types.delegateTarget ).off(\n\t\t\t\thandleObj.namespace ?\n\t\t\t\t\thandleObj.origType + \".\" + handleObj.namespace :\n\t\t\t\t\thandleObj.origType,\n\t\t\t\thandleObj.selector,\n\t\t\t\thandleObj.handler\n\t\t\t);\n\t\t\treturn this;\n\t\t}\n\t\tif ( typeof types === \"object\" ) {\n\n\t\t\t// ( types-object [, selector] )\n\t\t\tfor ( type in types ) {\n\t\t\t\tthis.off( type, selector, types[ type ] );\n\t\t\t}\n\t\t\treturn this;\n\t\t}\n\t\tif ( selector === false || typeof selector === \"function\" ) {\n\n\t\t\t// ( types [, fn] )\n\t\t\tfn = selector;\n\t\t\tselector = undefined;\n\t\t}\n\t\tif ( fn === false ) {\n\t\t\tfn = returnFalse;\n\t\t}\n\t\treturn this.each( function() {\n\t\t\tjQuery.event.remove( this, types, fn, selector );\n\t\t} );\n\t}\n} );\n\n\nvar\n\n\t// Support: IE <=10 - 11, Edge 12 - 13 only\n\t// In IE/Edge using regex groups here causes severe slowdowns.\n\t// See https://connect.microsoft.com/IE/feedback/details/1736512/\n\trnoInnerhtml = /<script|<style|<link/i,\n\n\t// checked=\"checked\" or checked\n\trchecked = /checked\\s*(?:[^=]|=\\s*.checked.)/i,\n\trcleanScript = /^\\s*<!(?:\\[CDATA\\[|--)|(?:\\]\\]|--)>\\s*$/g;\n\n// Prefer a tbody over its parent table for containing new rows\nfunction manipulationTarget( elem, content ) {\n\tif ( nodeName( elem, \"table\" ) &&\n\t\tnodeName( content.nodeType !== 11 ? content : content.firstChild, \"tr\" ) ) {\n\n\t\treturn jQuery( elem ).children( \"tbody\" )[ 0 ] || elem;\n\t}\n\n\treturn elem;\n}\n\n// Replace/restore the type attribute of script elements for safe DOM manipulation\nfunction disableScript( elem ) {\n\telem.type = ( elem.getAttribute( \"type\" ) !== null ) + \"/\" + elem.type;\n\treturn elem;\n}\nfunction restoreScript( elem ) {\n\tif ( ( elem.type || \"\" ).slice( 0, 5 ) === \"true/\" ) {\n\t\telem.type = elem.type.slice( 5 );\n\t} else {\n\t\telem.removeAttribute( \"type\" );\n\t}\n\n\treturn elem;\n}\n\nfunction cloneCopyEvent( src, dest ) {\n\tvar i, l, type, pdataOld, udataOld, udataCur, events;\n\n\tif ( dest.nodeType !== 1 ) {\n\t\treturn;\n\t}\n\n\t// 1. Copy private data: events, handlers, etc.\n\tif ( dataPriv.hasData( src ) ) {\n\t\tpdataOld = dataPriv.get( src );\n\t\tevents = pdataOld.events;\n\n\t\tif ( events ) {\n\t\t\tdataPriv.remove( dest, \"handle events\" );\n\n\t\t\tfor ( type in events ) {\n\t\t\t\tfor ( i = 0, l = events[ type ].length; i < l; i++ ) {\n\t\t\t\t\tjQuery.event.add( dest, type, events[ type ][ i ] );\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\n\t// 2. Copy user data\n\tif ( dataUser.hasData( src ) ) {\n\t\tudataOld = dataUser.access( src );\n\t\tudataCur = jQuery.extend( {}, udataOld );\n\n\t\tdataUser.set( dest, udataCur );\n\t}\n}\n\n// Fix IE bugs, see support tests\nfunction fixInput( src, dest ) {\n\tvar nodeName = dest.nodeName.toLowerCase();\n\n\t// Fails to persist the checked state of a cloned checkbox or radio button.\n\tif ( nodeName === \"input\" && rcheckableType.test( src.type ) ) {\n\t\tdest.checked = src.checked;\n\n\t// Fails to return the selected option to the default selected state when cloning options\n\t} else if ( nodeName === \"input\" || nodeName === \"textarea\" ) {\n\t\tdest.defaultValue = src.defaultValue;\n\t}\n}\n\nfunction domManip( collection, args, callback, ignored ) {\n\n\t// Flatten any nested arrays\n\targs = flat( args );\n\n\tvar fragment, first, scripts, hasScripts, node, doc,\n\t\ti = 0,\n\t\tl = collection.length,\n\t\tiNoClone = l - 1,\n\t\tvalue = args[ 0 ],\n\t\tvalueIsFunction = isFunction( value );\n\n\t// We can't cloneNode fragments that contain checked, in WebKit\n\tif ( valueIsFunction ||\n\t\t\t( l > 1 && typeof value === \"string\" &&\n\t\t\t\t!support.checkClone && rchecked.test( value ) ) ) {\n\t\treturn collection.each( function( index ) {\n\t\t\tvar self = collection.eq( index );\n\t\t\tif ( valueIsFunction ) {\n\t\t\t\targs[ 0 ] = value.call( this, index, self.html() );\n\t\t\t}\n\t\t\tdomManip( self, args, callback, ignored );\n\t\t} );\n\t}\n\n\tif ( l ) {\n\t\tfragment = buildFragment( args, collection[ 0 ].ownerDocument, false, collection, ignored );\n\t\tfirst = fragment.firstChild;\n\n\t\tif ( fragment.childNodes.length === 1 ) {\n\t\t\tfragment = first;\n\t\t}\n\n\t\t// Require either new content or an interest in ignored elements to invoke the callback\n\t\tif ( first || ignored ) {\n\t\t\tscripts = jQuery.map( getAll( fragment, \"script\" ), disableScript );\n\t\t\thasScripts = scripts.length;\n\n\t\t\t// Use the original fragment for the last item\n\t\t\t// instead of the first because it can end up\n\t\t\t// being emptied incorrectly in certain situations (#8070).\n\t\t\tfor ( ; i < l; i++ ) {\n\t\t\t\tnode = fragment;\n\n\t\t\t\tif ( i !== iNoClone ) {\n\t\t\t\t\tnode = jQuery.clone( node, true, true );\n\n\t\t\t\t\t// Keep references to cloned scripts for later restoration\n\t\t\t\t\tif ( hasScripts ) {\n\n\t\t\t\t\t\t// Support: Android <=4.0 only, PhantomJS 1 only\n\t\t\t\t\t\t// push.apply(_, arraylike) throws on ancient WebKit\n\t\t\t\t\t\tjQuery.merge( scripts, getAll( node, \"script\" ) );\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tcallback.call( collection[ i ], node, i );\n\t\t\t}\n\n\t\t\tif ( hasScripts ) {\n\t\t\t\tdoc = scripts[ scripts.length - 1 ].ownerDocument;\n\n\t\t\t\t// Reenable scripts\n\t\t\t\tjQuery.map( scripts, restoreScript );\n\n\t\t\t\t// Evaluate executable scripts on first document insertion\n\t\t\t\tfor ( i = 0; i < hasScripts; i++ ) {\n\t\t\t\t\tnode = scripts[ i ];\n\t\t\t\t\tif ( rscriptType.test( node.type || \"\" ) &&\n\t\t\t\t\t\t!dataPriv.access( node, \"globalEval\" ) &&\n\t\t\t\t\t\tjQuery.contains( doc, node ) ) {\n\n\t\t\t\t\t\tif ( node.src && ( node.type || \"\" ).toLowerCase()  !== \"module\" ) {\n\n\t\t\t\t\t\t\t// Optional AJAX dependency, but won't run scripts if not present\n\t\t\t\t\t\t\tif ( jQuery._evalUrl && !node.noModule ) {\n\t\t\t\t\t\t\t\tjQuery._evalUrl( node.src, {\n\t\t\t\t\t\t\t\t\tnonce: node.nonce || node.getAttribute( \"nonce\" )\n\t\t\t\t\t\t\t\t}, doc );\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tDOMEval( node.textContent.replace( rcleanScript, \"\" ), node, doc );\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\n\treturn collection;\n}\n\nfunction remove( elem, selector, keepData ) {\n\tvar node,\n\t\tnodes = selector ? jQuery.filter( selector, elem ) : elem,\n\t\ti = 0;\n\n\tfor ( ; ( node = nodes[ i ] ) != null; i++ ) {\n\t\tif ( !keepData && node.nodeType === 1 ) {\n\t\t\tjQuery.cleanData( getAll( node ) );\n\t\t}\n\n\t\tif ( node.parentNode ) {\n\t\t\tif ( keepData && isAttached( node ) ) {\n\t\t\t\tsetGlobalEval( getAll( node, \"script\" ) );\n\t\t\t}\n\t\t\tnode.parentNode.removeChild( node );\n\t\t}\n\t}\n\n\treturn elem;\n}\n\njQuery.extend( {\n\thtmlPrefilter: function( html ) {\n\t\treturn html;\n\t},\n\n\tclone: function( elem, dataAndEvents, deepDataAndEvents ) {\n\t\tvar i, l, srcElements, destElements,\n\t\t\tclone = elem.cloneNode( true ),\n\t\t\tinPage = isAttached( elem );\n\n\t\t// Fix IE cloning issues\n\t\tif ( !support.noCloneChecked && ( elem.nodeType === 1 || elem.nodeType === 11 ) &&\n\t\t\t\t!jQuery.isXMLDoc( elem ) ) {\n\n\t\t\t// We eschew Sizzle here for performance reasons: https://jsperf.com/getall-vs-sizzle/2\n\t\t\tdestElements = getAll( clone );\n\t\t\tsrcElements = getAll( elem );\n\n\t\t\tfor ( i = 0, l = srcElements.length; i < l; i++ ) {\n\t\t\t\tfixInput( srcElements[ i ], destElements[ i ] );\n\t\t\t}\n\t\t}\n\n\t\t// Copy the events from the original to the clone\n\t\tif ( dataAndEvents ) {\n\t\t\tif ( deepDataAndEvents ) {\n\t\t\t\tsrcElements = srcElements || getAll( elem );\n\t\t\t\tdestElements = destElements || getAll( clone );\n\n\t\t\t\tfor ( i = 0, l = srcElements.length; i < l; i++ ) {\n\t\t\t\t\tcloneCopyEvent( srcElements[ i ], destElements[ i ] );\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tcloneCopyEvent( elem, clone );\n\t\t\t}\n\t\t}\n\n\t\t// Preserve script evaluation history\n\t\tdestElements = getAll( clone, \"script\" );\n\t\tif ( destElements.length > 0 ) {\n\t\t\tsetGlobalEval( destElements, !inPage && getAll( elem, \"script\" ) );\n\t\t}\n\n\t\t// Return the cloned set\n\t\treturn clone;\n\t},\n\n\tcleanData: function( elems ) {\n\t\tvar data, elem, type,\n\t\t\tspecial = jQuery.event.special,\n\t\t\ti = 0;\n\n\t\tfor ( ; ( elem = elems[ i ] ) !== undefined; i++ ) {\n\t\t\tif ( acceptData( elem ) ) {\n\t\t\t\tif ( ( data = elem[ dataPriv.expando ] ) ) {\n\t\t\t\t\tif ( data.events ) {\n\t\t\t\t\t\tfor ( type in data.events ) {\n\t\t\t\t\t\t\tif ( special[ type ] ) {\n\t\t\t\t\t\t\t\tjQuery.event.remove( elem, type );\n\n\t\t\t\t\t\t\t// This is a shortcut to avoid jQuery.event.remove's overhead\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\tjQuery.removeEvent( elem, type, data.handle );\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\n\t\t\t\t\t// Support: Chrome <=35 - 45+\n\t\t\t\t\t// Assign undefined instead of using delete, see Data#remove\n\t\t\t\t\telem[ dataPriv.expando ] = undefined;\n\t\t\t\t}\n\t\t\t\tif ( elem[ dataUser.expando ] ) {\n\n\t\t\t\t\t// Support: Chrome <=35 - 45+\n\t\t\t\t\t// Assign undefined instead of using delete, see Data#remove\n\t\t\t\t\telem[ dataUser.expando ] = undefined;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n} );\n\njQuery.fn.extend( {\n\tdetach: function( selector ) {\n\t\treturn remove( this, selector, true );\n\t},\n\n\tremove: function( selector ) {\n\t\treturn remove( this, selector );\n\t},\n\n\ttext: function( value ) {\n\t\treturn access( this, function( value ) {\n\t\t\treturn value === undefined ?\n\t\t\t\tjQuery.text( this ) :\n\t\t\t\tthis.empty().each( function() {\n\t\t\t\t\tif ( this.nodeType === 1 || this.nodeType === 11 || this.nodeType === 9 ) {\n\t\t\t\t\t\tthis.textContent = value;\n\t\t\t\t\t}\n\t\t\t\t} );\n\t\t}, null, value, arguments.length );\n\t},\n\n\tappend: function() {\n\t\treturn domManip( this, arguments, function( elem ) {\n\t\t\tif ( this.nodeType === 1 || this.nodeType === 11 || this.nodeType === 9 ) {\n\t\t\t\tvar target = manipulationTarget( this, elem );\n\t\t\t\ttarget.appendChild( elem );\n\t\t\t}\n\t\t} );\n\t},\n\n\tprepend: function() {\n\t\treturn domManip( this, arguments, function( elem ) {\n\t\t\tif ( this.nodeType === 1 || this.nodeType === 11 || this.nodeType === 9 ) {\n\t\t\t\tvar target = manipulationTarget( this, elem );\n\t\t\t\ttarget.insertBefore( elem, target.firstChild );\n\t\t\t}\n\t\t} );\n\t},\n\n\tbefore: function() {\n\t\treturn domManip( this, arguments, function( elem ) {\n\t\t\tif ( this.parentNode ) {\n\t\t\t\tthis.parentNode.insertBefore( elem, this );\n\t\t\t}\n\t\t} );\n\t},\n\n\tafter: function() {\n\t\treturn domManip( this, arguments, function( elem ) {\n\t\t\tif ( this.parentNode ) {\n\t\t\t\tthis.parentNode.insertBefore( elem, this.nextSibling );\n\t\t\t}\n\t\t} );\n\t},\n\n\tempty: function() {\n\t\tvar elem,\n\t\t\ti = 0;\n\n\t\tfor ( ; ( elem = this[ i ] ) != null; i++ ) {\n\t\t\tif ( elem.nodeType === 1 ) {\n\n\t\t\t\t// Prevent memory leaks\n\t\t\t\tjQuery.cleanData( getAll( elem, false ) );\n\n\t\t\t\t// Remove any remaining nodes\n\t\t\t\telem.textContent = \"\";\n\t\t\t}\n\t\t}\n\n\t\treturn this;\n\t},\n\n\tclone: function( dataAndEvents, deepDataAndEvents ) {\n\t\tdataAndEvents = dataAndEvents == null ? false : dataAndEvents;\n\t\tdeepDataAndEvents = deepDataAndEvents == null ? dataAndEvents : deepDataAndEvents;\n\n\t\treturn this.map( function() {\n\t\t\treturn jQuery.clone( this, dataAndEvents, deepDataAndEvents );\n\t\t} );\n\t},\n\n\thtml: function( value ) {\n\t\treturn access( this, function( value ) {\n\t\t\tvar elem = this[ 0 ] || {},\n\t\t\t\ti = 0,\n\t\t\t\tl = this.length;\n\n\t\t\tif ( value === undefined && elem.nodeType === 1 ) {\n\t\t\t\treturn elem.innerHTML;\n\t\t\t}\n\n\t\t\t// See if we can take a shortcut and just use innerHTML\n\t\t\tif ( typeof value === \"string\" && !rnoInnerhtml.test( value ) &&\n\t\t\t\t!wrapMap[ ( rtagName.exec( value ) || [ \"\", \"\" ] )[ 1 ].toLowerCase() ] ) {\n\n\t\t\t\tvalue = jQuery.htmlPrefilter( value );\n\n\t\t\t\ttry {\n\t\t\t\t\tfor ( ; i < l; i++ ) {\n\t\t\t\t\t\telem = this[ i ] || {};\n\n\t\t\t\t\t\t// Remove element nodes and prevent memory leaks\n\t\t\t\t\t\tif ( elem.nodeType === 1 ) {\n\t\t\t\t\t\t\tjQuery.cleanData( getAll( elem, false ) );\n\t\t\t\t\t\t\telem.innerHTML = value;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\n\t\t\t\t\telem = 0;\n\n\t\t\t\t// If using innerHTML throws an exception, use the fallback method\n\t\t\t\t} catch ( e ) {}\n\t\t\t}\n\n\t\t\tif ( elem ) {\n\t\t\t\tthis.empty().append( value );\n\t\t\t}\n\t\t}, null, value, arguments.length );\n\t},\n\n\treplaceWith: function() {\n\t\tvar ignored = [];\n\n\t\t// Make the changes, replacing each non-ignored context element with the new content\n\t\treturn domManip( this, arguments, function( elem ) {\n\t\t\tvar parent = this.parentNode;\n\n\t\t\tif ( jQuery.inArray( this, ignored ) < 0 ) {\n\t\t\t\tjQuery.cleanData( getAll( this ) );\n\t\t\t\tif ( parent ) {\n\t\t\t\t\tparent.replaceChild( elem, this );\n\t\t\t\t}\n\t\t\t}\n\n\t\t// Force callback invocation\n\t\t}, ignored );\n\t}\n} );\n\njQuery.each( {\n\tappendTo: \"append\",\n\tprependTo: \"prepend\",\n\tinsertBefore: \"before\",\n\tinsertAfter: \"after\",\n\treplaceAll: \"replaceWith\"\n}, function( name, original ) {\n\tjQuery.fn[ name ] = function( selector ) {\n\t\tvar elems,\n\t\t\tret = [],\n\t\t\tinsert = jQuery( selector ),\n\t\t\tlast = insert.length - 1,\n\t\t\ti = 0;\n\n\t\tfor ( ; i <= last; i++ ) {\n\t\t\telems = i === last ? this : this.clone( true );\n\t\t\tjQuery( insert[ i ] )[ original ]( elems );\n\n\t\t\t// Support: Android <=4.0 only, PhantomJS 1 only\n\t\t\t// .get() because push.apply(_, arraylike) throws on ancient WebKit\n\t\t\tpush.apply( ret, elems.get() );\n\t\t}\n\n\t\treturn this.pushStack( ret );\n\t};\n} );\nvar rnumnonpx = new RegExp( \"^(\" + pnum + \")(?!px)[a-z%]+$\", \"i\" );\n\nvar getStyles = function( elem ) {\n\n\t\t// Support: IE <=11 only, Firefox <=30 (#15098, #14150)\n\t\t// IE throws on elements created in popups\n\t\t// FF meanwhile throws on frame elements through \"defaultView.getComputedStyle\"\n\t\tvar view = elem.ownerDocument.defaultView;\n\n\t\tif ( !view || !view.opener ) {\n\t\t\tview = window;\n\t\t}\n\n\t\treturn view.getComputedStyle( elem );\n\t};\n\nvar swap = function( elem, options, callback ) {\n\tvar ret, name,\n\t\told = {};\n\n\t// Remember the old values, and insert the new ones\n\tfor ( name in options ) {\n\t\told[ name ] = elem.style[ name ];\n\t\telem.style[ name ] = options[ name ];\n\t}\n\n\tret = callback.call( elem );\n\n\t// Revert the old values\n\tfor ( name in options ) {\n\t\telem.style[ name ] = old[ name ];\n\t}\n\n\treturn ret;\n};\n\n\nvar rboxStyle = new RegExp( cssExpand.join( \"|\" ), \"i\" );\n\n\n\n( function() {\n\n\t// Executing both pixelPosition & boxSizingReliable tests require only one layout\n\t// so they're executed at the same time to save the second computation.\n\tfunction computeStyleTests() {\n\n\t\t// This is a singleton, we need to execute it only once\n\t\tif ( !div ) {\n\t\t\treturn;\n\t\t}\n\n\t\tcontainer.style.cssText = \"position:absolute;left:-11111px;width:60px;\" +\n\t\t\t\"margin-top:1px;padding:0;border:0\";\n\t\tdiv.style.cssText =\n\t\t\t\"position:relative;display:block;box-sizing:border-box;overflow:scroll;\" +\n\t\t\t\"margin:auto;border:1px;padding:1px;\" +\n\t\t\t\"width:60%;top:1%\";\n\t\tdocumentElement.appendChild( container ).appendChild( div );\n\n\t\tvar divStyle = window.getComputedStyle( div );\n\t\tpixelPositionVal = divStyle.top !== \"1%\";\n\n\t\t// Support: Android 4.0 - 4.3 only, Firefox <=3 - 44\n\t\treliableMarginLeftVal = roundPixelMeasures( divStyle.marginLeft ) === 12;\n\n\t\t// Support: Android 4.0 - 4.3 only, Safari <=9.1 - 10.1, iOS <=7.0 - 9.3\n\t\t// Some styles come back with percentage values, even though they shouldn't\n\t\tdiv.style.right = \"60%\";\n\t\tpixelBoxStylesVal = roundPixelMeasures( divStyle.right ) === 36;\n\n\t\t// Support: IE 9 - 11 only\n\t\t// Detect misreporting of content dimensions for box-sizing:border-box elements\n\t\tboxSizingReliableVal = roundPixelMeasures( divStyle.width ) === 36;\n\n\t\t// Support: IE 9 only\n\t\t// Detect overflow:scroll screwiness (gh-3699)\n\t\t// Support: Chrome <=64\n\t\t// Don't get tricked when zoom affects offsetWidth (gh-4029)\n\t\tdiv.style.position = \"absolute\";\n\t\tscrollboxSizeVal = roundPixelMeasures( div.offsetWidth / 3 ) === 12;\n\n\t\tdocumentElement.removeChild( container );\n\n\t\t// Nullify the div so it wouldn't be stored in the memory and\n\t\t// it will also be a sign that checks already performed\n\t\tdiv = null;\n\t}\n\n\tfunction roundPixelMeasures( measure ) {\n\t\treturn Math.round( parseFloat( measure ) );\n\t}\n\n\tvar pixelPositionVal, boxSizingReliableVal, scrollboxSizeVal, pixelBoxStylesVal,\n\t\treliableTrDimensionsVal, reliableMarginLeftVal,\n\t\tcontainer = document.createElement( \"div\" ),\n\t\tdiv = document.createElement( \"div\" );\n\n\t// Finish early in limited (non-browser) environments\n\tif ( !div.style ) {\n\t\treturn;\n\t}\n\n\t// Support: IE <=9 - 11 only\n\t// Style of cloned element affects source element cloned (#8908)\n\tdiv.style.backgroundClip = \"content-box\";\n\tdiv.cloneNode( true ).style.backgroundClip = \"\";\n\tsupport.clearCloneStyle = div.style.backgroundClip === \"content-box\";\n\n\tjQuery.extend( support, {\n\t\tboxSizingReliable: function() {\n\t\t\tcomputeStyleTests();\n\t\t\treturn boxSizingReliableVal;\n\t\t},\n\t\tpixelBoxStyles: function() {\n\t\t\tcomputeStyleTests();\n\t\t\treturn pixelBoxStylesVal;\n\t\t},\n\t\tpixelPosition: function() {\n\t\t\tcomputeStyleTests();\n\t\t\treturn pixelPositionVal;\n\t\t},\n\t\treliableMarginLeft: function() {\n\t\t\tcomputeStyleTests();\n\t\t\treturn reliableMarginLeftVal;\n\t\t},\n\t\tscrollboxSize: function() {\n\t\t\tcomputeStyleTests();\n\t\t\treturn scrollboxSizeVal;\n\t\t},\n\n\t\t// Support: IE 9 - 11+, Edge 15 - 18+\n\t\t// IE/Edge misreport `getComputedStyle` of table rows with width/height\n\t\t// set in CSS while `offset*` properties report correct values.\n\t\t// Behavior in IE 9 is more subtle than in newer versions & it passes\n\t\t// some versions of this test; make sure not to make it pass there!\n\t\treliableTrDimensions: function() {\n\t\t\tvar table, tr, trChild, trStyle;\n\t\t\tif ( reliableTrDimensionsVal == null ) {\n\t\t\t\ttable = document.createElement( \"table\" );\n\t\t\t\ttr = document.createElement( \"tr\" );\n\t\t\t\ttrChild = document.createElement( \"div\" );\n\n\t\t\t\ttable.style.cssText = \"position:absolute;left:-11111px\";\n\t\t\t\ttr.style.height = \"1px\";\n\t\t\t\ttrChild.style.height = \"9px\";\n\n\t\t\t\tdocumentElement\n\t\t\t\t\t.appendChild( table )\n\t\t\t\t\t.appendChild( tr )\n\t\t\t\t\t.appendChild( trChild );\n\n\t\t\t\ttrStyle = window.getComputedStyle( tr );\n\t\t\t\treliableTrDimensionsVal = parseInt( trStyle.height ) > 3;\n\n\t\t\t\tdocumentElement.removeChild( table );\n\t\t\t}\n\t\t\treturn reliableTrDimensionsVal;\n\t\t}\n\t} );\n} )();\n\n\nfunction curCSS( elem, name, computed ) {\n\tvar width, minWidth, maxWidth, ret,\n\n\t\t// Support: Firefox 51+\n\t\t// Retrieving style before computed somehow\n\t\t// fixes an issue with getting wrong values\n\t\t// on detached elements\n\t\tstyle = elem.style;\n\n\tcomputed = computed || getStyles( elem );\n\n\t// getPropertyValue is needed for:\n\t//   .css('filter') (IE 9 only, #12537)\n\t//   .css('--customProperty) (#3144)\n\tif ( computed ) {\n\t\tret = computed.getPropertyValue( name ) || computed[ name ];\n\n\t\tif ( ret === \"\" && !isAttached( elem ) ) {\n\t\t\tret = jQuery.style( elem, name );\n\t\t}\n\n\t\t// A tribute to the \"awesome hack by Dean Edwards\"\n\t\t// Android Browser returns percentage for some values,\n\t\t// but width seems to be reliably pixels.\n\t\t// This is against the CSSOM draft spec:\n\t\t// https://drafts.csswg.org/cssom/#resolved-values\n\t\tif ( !support.pixelBoxStyles() && rnumnonpx.test( ret ) && rboxStyle.test( name ) ) {\n\n\t\t\t// Remember the original values\n\t\t\twidth = style.width;\n\t\t\tminWidth = style.minWidth;\n\t\t\tmaxWidth = style.maxWidth;\n\n\t\t\t// Put in the new values to get a computed value out\n\t\t\tstyle.minWidth = style.maxWidth = style.width = ret;\n\t\t\tret = computed.width;\n\n\t\t\t// Revert the changed values\n\t\t\tstyle.width = width;\n\t\t\tstyle.minWidth = minWidth;\n\t\t\tstyle.maxWidth = maxWidth;\n\t\t}\n\t}\n\n\treturn ret !== undefined ?\n\n\t\t// Support: IE <=9 - 11 only\n\t\t// IE returns zIndex value as an integer.\n\t\tret + \"\" :\n\t\tret;\n}\n\n\nfunction addGetHookIf( conditionFn, hookFn ) {\n\n\t// Define the hook, we'll check on the first run if it's really needed.\n\treturn {\n\t\tget: function() {\n\t\t\tif ( conditionFn() ) {\n\n\t\t\t\t// Hook not needed (or it's not possible to use it due\n\t\t\t\t// to missing dependency), remove it.\n\t\t\t\tdelete this.get;\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\t// Hook needed; redefine it so that the support test is not executed again.\n\t\t\treturn ( this.get = hookFn ).apply( this, arguments );\n\t\t}\n\t};\n}\n\n\nvar cssPrefixes = [ \"Webkit\", \"Moz\", \"ms\" ],\n\temptyStyle = document.createElement( \"div\" ).style,\n\tvendorProps = {};\n\n// Return a vendor-prefixed property or undefined\nfunction vendorPropName( name ) {\n\n\t// Check for vendor prefixed names\n\tvar capName = name[ 0 ].toUpperCase() + name.slice( 1 ),\n\t\ti = cssPrefixes.length;\n\n\twhile ( i-- ) {\n\t\tname = cssPrefixes[ i ] + capName;\n\t\tif ( name in emptyStyle ) {\n\t\t\treturn name;\n\t\t}\n\t}\n}\n\n// Return a potentially-mapped jQuery.cssProps or vendor prefixed property\nfunction finalPropName( name ) {\n\tvar final = jQuery.cssProps[ name ] || vendorProps[ name ];\n\n\tif ( final ) {\n\t\treturn final;\n\t}\n\tif ( name in emptyStyle ) {\n\t\treturn name;\n\t}\n\treturn vendorProps[ name ] = vendorPropName( name ) || name;\n}\n\n\nvar\n\n\t// Swappable if display is none or starts with table\n\t// except \"table\", \"table-cell\", or \"table-caption\"\n\t// See here for display values: https://developer.mozilla.org/en-US/docs/CSS/display\n\trdisplayswap = /^(none|table(?!-c[ea]).+)/,\n\trcustomProp = /^--/,\n\tcssShow = { position: \"absolute\", visibility: \"hidden\", display: \"block\" },\n\tcssNormalTransform = {\n\t\tletterSpacing: \"0\",\n\t\tfontWeight: \"400\"\n\t};\n\nfunction setPositiveNumber( _elem, value, subtract ) {\n\n\t// Any relative (+/-) values have already been\n\t// normalized at this point\n\tvar matches = rcssNum.exec( value );\n\treturn matches ?\n\n\t\t// Guard against undefined \"subtract\", e.g., when used as in cssHooks\n\t\tMath.max( 0, matches[ 2 ] - ( subtract || 0 ) ) + ( matches[ 3 ] || \"px\" ) :\n\t\tvalue;\n}\n\nfunction boxModelAdjustment( elem, dimension, box, isBorderBox, styles, computedVal ) {\n\tvar i = dimension === \"width\" ? 1 : 0,\n\t\textra = 0,\n\t\tdelta = 0;\n\n\t// Adjustment may not be necessary\n\tif ( box === ( isBorderBox ? \"border\" : \"content\" ) ) {\n\t\treturn 0;\n\t}\n\n\tfor ( ; i < 4; i += 2 ) {\n\n\t\t// Both box models exclude margin\n\t\tif ( box === \"margin\" ) {\n\t\t\tdelta += jQuery.css( elem, box + cssExpand[ i ], true, styles );\n\t\t}\n\n\t\t// If we get here with a content-box, we're seeking \"padding\" or \"border\" or \"margin\"\n\t\tif ( !isBorderBox ) {\n\n\t\t\t// Add padding\n\t\t\tdelta += jQuery.css( elem, \"padding\" + cssExpand[ i ], true, styles );\n\n\t\t\t// For \"border\" or \"margin\", add border\n\t\t\tif ( box !== \"padding\" ) {\n\t\t\t\tdelta += jQuery.css( elem, \"border\" + cssExpand[ i ] + \"Width\", true, styles );\n\n\t\t\t// But still keep track of it otherwise\n\t\t\t} else {\n\t\t\t\textra += jQuery.css( elem, \"border\" + cssExpand[ i ] + \"Width\", true, styles );\n\t\t\t}\n\n\t\t// If we get here with a border-box (content + padding + border), we're seeking \"content\" or\n\t\t// \"padding\" or \"margin\"\n\t\t} else {\n\n\t\t\t// For \"content\", subtract padding\n\t\t\tif ( box === \"content\" ) {\n\t\t\t\tdelta -= jQuery.css( elem, \"padding\" + cssExpand[ i ], true, styles );\n\t\t\t}\n\n\t\t\t// For \"content\" or \"padding\", subtract border\n\t\t\tif ( box !== \"margin\" ) {\n\t\t\t\tdelta -= jQuery.css( elem, \"border\" + cssExpand[ i ] + \"Width\", true, styles );\n\t\t\t}\n\t\t}\n\t}\n\n\t// Account for positive content-box scroll gutter when requested by providing computedVal\n\tif ( !isBorderBox && computedVal >= 0 ) {\n\n\t\t// offsetWidth/offsetHeight is a rounded sum of content, padding, scroll gutter, and border\n\t\t// Assuming integer scroll gutter, subtract the rest and round down\n\t\tdelta += Math.max( 0, Math.ceil(\n\t\t\telem[ \"offset\" + dimension[ 0 ].toUpperCase() + dimension.slice( 1 ) ] -\n\t\t\tcomputedVal -\n\t\t\tdelta -\n\t\t\textra -\n\t\t\t0.5\n\n\t\t// If offsetWidth/offsetHeight is unknown, then we can't determine content-box scroll gutter\n\t\t// Use an explicit zero to avoid NaN (gh-3964)\n\t\t) ) || 0;\n\t}\n\n\treturn delta;\n}\n\nfunction getWidthOrHeight( elem, dimension, extra ) {\n\n\t// Start with computed style\n\tvar styles = getStyles( elem ),\n\n\t\t// To avoid forcing a reflow, only fetch boxSizing if we need it (gh-4322).\n\t\t// Fake content-box until we know it's needed to know the true value.\n\t\tboxSizingNeeded = !support.boxSizingReliable() || extra,\n\t\tisBorderBox = boxSizingNeeded &&\n\t\t\tjQuery.css( elem, \"boxSizing\", false, styles ) === \"border-box\",\n\t\tvalueIsBorderBox = isBorderBox,\n\n\t\tval = curCSS( elem, dimension, styles ),\n\t\toffsetProp = \"offset\" + dimension[ 0 ].toUpperCase() + dimension.slice( 1 );\n\n\t// Support: Firefox <=54\n\t// Return a confounding non-pixel value or feign ignorance, as appropriate.\n\tif ( rnumnonpx.test( val ) ) {\n\t\tif ( !extra ) {\n\t\t\treturn val;\n\t\t}\n\t\tval = \"auto\";\n\t}\n\n\n\t// Support: IE 9 - 11 only\n\t// Use offsetWidth/offsetHeight for when box sizing is unreliable.\n\t// In those cases, the computed value can be trusted to be border-box.\n\tif ( ( !support.boxSizingReliable() && isBorderBox ||\n\n\t\t// Support: IE 10 - 11+, Edge 15 - 18+\n\t\t// IE/Edge misreport `getComputedStyle` of table rows with width/height\n\t\t// set in CSS while `offset*` properties report correct values.\n\t\t// Interestingly, in some cases IE 9 doesn't suffer from this issue.\n\t\t!support.reliableTrDimensions() && nodeName( elem, \"tr\" ) ||\n\n\t\t// Fall back to offsetWidth/offsetHeight when value is \"auto\"\n\t\t// This happens for inline elements with no explicit setting (gh-3571)\n\t\tval === \"auto\" ||\n\n\t\t// Support: Android <=4.1 - 4.3 only\n\t\t// Also use offsetWidth/offsetHeight for misreported inline dimensions (gh-3602)\n\t\t!parseFloat( val ) && jQuery.css( elem, \"display\", false, styles ) === \"inline\" ) &&\n\n\t\t// Make sure the element is visible & connected\n\t\telem.getClientRects().length ) {\n\n\t\tisBorderBox = jQuery.css( elem, \"boxSizing\", false, styles ) === \"border-box\";\n\n\t\t// Where available, offsetWidth/offsetHeight approximate border box dimensions.\n\t\t// Where not available (e.g., SVG), assume unreliable box-sizing and interpret the\n\t\t// retrieved value as a content box dimension.\n\t\tvalueIsBorderBox = offsetProp in elem;\n\t\tif ( valueIsBorderBox ) {\n\t\t\tval = elem[ offsetProp ];\n\t\t}\n\t}\n\n\t// Normalize \"\" and auto\n\tval = parseFloat( val ) || 0;\n\n\t// Adjust for the element's box model\n\treturn ( val +\n\t\tboxModelAdjustment(\n\t\t\telem,\n\t\t\tdimension,\n\t\t\textra || ( isBorderBox ? \"border\" : \"content\" ),\n\t\t\tvalueIsBorderBox,\n\t\t\tstyles,\n\n\t\t\t// Provide the current computed size to request scroll gutter calculation (gh-3589)\n\t\t\tval\n\t\t)\n\t) + \"px\";\n}\n\njQuery.extend( {\n\n\t// Add in style property hooks for overriding the default\n\t// behavior of getting and setting a style property\n\tcssHooks: {\n\t\topacity: {\n\t\t\tget: function( elem, computed ) {\n\t\t\t\tif ( computed ) {\n\n\t\t\t\t\t// We should always get a number back from opacity\n\t\t\t\t\tvar ret = curCSS( elem, \"opacity\" );\n\t\t\t\t\treturn ret === \"\" ? \"1\" : ret;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t},\n\n\t// Don't automatically add \"px\" to these possibly-unitless properties\n\tcssNumber: {\n\t\t\"animationIterationCount\": true,\n\t\t\"columnCount\": true,\n\t\t\"fillOpacity\": true,\n\t\t\"flexGrow\": true,\n\t\t\"flexShrink\": true,\n\t\t\"fontWeight\": true,\n\t\t\"gridArea\": true,\n\t\t\"gridColumn\": true,\n\t\t\"gridColumnEnd\": true,\n\t\t\"gridColumnStart\": true,\n\t\t\"gridRow\": true,\n\t\t\"gridRowEnd\": true,\n\t\t\"gridRowStart\": true,\n\t\t\"lineHeight\": true,\n\t\t\"opacity\": true,\n\t\t\"order\": true,\n\t\t\"orphans\": true,\n\t\t\"widows\": true,\n\t\t\"zIndex\": true,\n\t\t\"zoom\": true\n\t},\n\n\t// Add in properties whose names you wish to fix before\n\t// setting or getting the value\n\tcssProps: {},\n\n\t// Get and set the style property on a DOM Node\n\tstyle: function( elem, name, value, extra ) {\n\n\t\t// Don't set styles on text and comment nodes\n\t\tif ( !elem || elem.nodeType === 3 || elem.nodeType === 8 || !elem.style ) {\n\t\t\treturn;\n\t\t}\n\n\t\t// Make sure that we're working with the right name\n\t\tvar ret, type, hooks,\n\t\t\torigName = camelCase( name ),\n\t\t\tisCustomProp = rcustomProp.test( name ),\n\t\t\tstyle = elem.style;\n\n\t\t// Make sure that we're working with the right name. We don't\n\t\t// want to query the value if it is a CSS custom property\n\t\t// since they are user-defined.\n\t\tif ( !isCustomProp ) {\n\t\t\tname = finalPropName( origName );\n\t\t}\n\n\t\t// Gets hook for the prefixed version, then unprefixed version\n\t\thooks = jQuery.cssHooks[ name ] || jQuery.cssHooks[ origName ];\n\n\t\t// Check if we're setting a value\n\t\tif ( value !== undefined ) {\n\t\t\ttype = typeof value;\n\n\t\t\t// Convert \"+=\" or \"-=\" to relative numbers (#7345)\n\t\t\tif ( type === \"string\" && ( ret = rcssNum.exec( value ) ) && ret[ 1 ] ) {\n\t\t\t\tvalue = adjustCSS( elem, name, ret );\n\n\t\t\t\t// Fixes bug #9237\n\t\t\t\ttype = \"number\";\n\t\t\t}\n\n\t\t\t// Make sure that null and NaN values aren't set (#7116)\n\t\t\tif ( value == null || value !== value ) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\t// If a number was passed in, add the unit (except for certain CSS properties)\n\t\t\t// The isCustomProp check can be removed in jQuery 4.0 when we only auto-append\n\t\t\t// \"px\" to a few hardcoded values.\n\t\t\tif ( type === \"number\" && !isCustomProp ) {\n\t\t\t\tvalue += ret && ret[ 3 ] || ( jQuery.cssNumber[ origName ] ? \"\" : \"px\" );\n\t\t\t}\n\n\t\t\t// background-* props affect original clone's values\n\t\t\tif ( !support.clearCloneStyle && value === \"\" && name.indexOf( \"background\" ) === 0 ) {\n\t\t\t\tstyle[ name ] = \"inherit\";\n\t\t\t}\n\n\t\t\t// If a hook was provided, use that value, otherwise just set the specified value\n\t\t\tif ( !hooks || !( \"set\" in hooks ) ||\n\t\t\t\t( value = hooks.set( elem, value, extra ) ) !== undefined ) {\n\n\t\t\t\tif ( isCustomProp ) {\n\t\t\t\t\tstyle.setProperty( name, value );\n\t\t\t\t} else {\n\t\t\t\t\tstyle[ name ] = value;\n\t\t\t\t}\n\t\t\t}\n\n\t\t} else {\n\n\t\t\t// If a hook was provided get the non-computed value from there\n\t\t\tif ( hooks && \"get\" in hooks &&\n\t\t\t\t( ret = hooks.get( elem, false, extra ) ) !== undefined ) {\n\n\t\t\t\treturn ret;\n\t\t\t}\n\n\t\t\t// Otherwise just get the value from the style object\n\t\t\treturn style[ name ];\n\t\t}\n\t},\n\n\tcss: function( elem, name, extra, styles ) {\n\t\tvar val, num, hooks,\n\t\t\torigName = camelCase( name ),\n\t\t\tisCustomProp = rcustomProp.test( name );\n\n\t\t// Make sure that we're working with the right name. We don't\n\t\t// want to modify the value if it is a CSS custom property\n\t\t// since they are user-defined.\n\t\tif ( !isCustomProp ) {\n\t\t\tname = finalPropName( origName );\n\t\t}\n\n\t\t// Try prefixed name followed by the unprefixed name\n\t\thooks = jQuery.cssHooks[ name ] || jQuery.cssHooks[ origName ];\n\n\t\t// If a hook was provided get the computed value from there\n\t\tif ( hooks && \"get\" in hooks ) {\n\t\t\tval = hooks.get( elem, true, extra );\n\t\t}\n\n\t\t// Otherwise, if a way to get the computed value exists, use that\n\t\tif ( val === undefined ) {\n\t\t\tval = curCSS( elem, name, styles );\n\t\t}\n\n\t\t// Convert \"normal\" to computed value\n\t\tif ( val === \"normal\" && name in cssNormalTransform ) {\n\t\t\tval = cssNormalTransform[ name ];\n\t\t}\n\n\t\t// Make numeric if forced or a qualifier was provided and val looks numeric\n\t\tif ( extra === \"\" || extra ) {\n\t\t\tnum = parseFloat( val );\n\t\t\treturn extra === true || isFinite( num ) ? num || 0 : val;\n\t\t}\n\n\t\treturn val;\n\t}\n} );\n\njQuery.each( [ \"height\", \"width\" ], function( _i, dimension ) {\n\tjQuery.cssHooks[ dimension ] = {\n\t\tget: function( elem, computed, extra ) {\n\t\t\tif ( computed ) {\n\n\t\t\t\t// Certain elements can have dimension info if we invisibly show them\n\t\t\t\t// but it must have a current display style that would benefit\n\t\t\t\treturn rdisplayswap.test( jQuery.css( elem, \"display\" ) ) &&\n\n\t\t\t\t\t// Support: Safari 8+\n\t\t\t\t\t// Table columns in Safari have non-zero offsetWidth & zero\n\t\t\t\t\t// getBoundingClientRect().width unless display is changed.\n\t\t\t\t\t// Support: IE <=11 only\n\t\t\t\t\t// Running getBoundingClientRect on a disconnected node\n\t\t\t\t\t// in IE throws an error.\n\t\t\t\t\t( !elem.getClientRects().length || !elem.getBoundingClientRect().width ) ?\n\t\t\t\t\t\tswap( elem, cssShow, function() {\n\t\t\t\t\t\t\treturn getWidthOrHeight( elem, dimension, extra );\n\t\t\t\t\t\t} ) :\n\t\t\t\t\t\tgetWidthOrHeight( elem, dimension, extra );\n\t\t\t}\n\t\t},\n\n\t\tset: function( elem, value, extra ) {\n\t\t\tvar matches,\n\t\t\t\tstyles = getStyles( elem ),\n\n\t\t\t\t// Only read styles.position if the test has a chance to fail\n\t\t\t\t// to avoid forcing a reflow.\n\t\t\t\tscrollboxSizeBuggy = !support.scrollboxSize() &&\n\t\t\t\t\tstyles.position === \"absolute\",\n\n\t\t\t\t// To avoid forcing a reflow, only fetch boxSizing if we need it (gh-3991)\n\t\t\t\tboxSizingNeeded = scrollboxSizeBuggy || extra,\n\t\t\t\tisBorderBox = boxSizingNeeded &&\n\t\t\t\t\tjQuery.css( elem, \"boxSizing\", false, styles ) === \"border-box\",\n\t\t\t\tsubtract = extra ?\n\t\t\t\t\tboxModelAdjustment(\n\t\t\t\t\t\telem,\n\t\t\t\t\t\tdimension,\n\t\t\t\t\t\textra,\n\t\t\t\t\t\tisBorderBox,\n\t\t\t\t\t\tstyles\n\t\t\t\t\t) :\n\t\t\t\t\t0;\n\n\t\t\t// Account for unreliable border-box dimensions by comparing offset* to computed and\n\t\t\t// faking a content-box to get border and padding (gh-3699)\n\t\t\tif ( isBorderBox && scrollboxSizeBuggy ) {\n\t\t\t\tsubtract -= Math.ceil(\n\t\t\t\t\telem[ \"offset\" + dimension[ 0 ].toUpperCase() + dimension.slice( 1 ) ] -\n\t\t\t\t\tparseFloat( styles[ dimension ] ) -\n\t\t\t\t\tboxModelAdjustment( elem, dimension, \"border\", false, styles ) -\n\t\t\t\t\t0.5\n\t\t\t\t);\n\t\t\t}\n\n\t\t\t// Convert to pixels if value adjustment is needed\n\t\t\tif ( subtract && ( matches = rcssNum.exec( value ) ) &&\n\t\t\t\t( matches[ 3 ] || \"px\" ) !== \"px\" ) {\n\n\t\t\t\telem.style[ dimension ] = value;\n\t\t\t\tvalue = jQuery.css( elem, dimension );\n\t\t\t}\n\n\t\t\treturn setPositiveNumber( elem, value, subtract );\n\t\t}\n\t};\n} );\n\njQuery.cssHooks.marginLeft = addGetHookIf( support.reliableMarginLeft,\n\tfunction( elem, computed ) {\n\t\tif ( computed ) {\n\t\t\treturn ( parseFloat( curCSS( elem, \"marginLeft\" ) ) ||\n\t\t\t\telem.getBoundingClientRect().left -\n\t\t\t\t\tswap( elem, { marginLeft: 0 }, function() {\n\t\t\t\t\t\treturn elem.getBoundingClientRect().left;\n\t\t\t\t\t} )\n\t\t\t\t) + \"px\";\n\t\t}\n\t}\n);\n\n// These hooks are used by animate to expand properties\njQuery.each( {\n\tmargin: \"\",\n\tpadding: \"\",\n\tborder: \"Width\"\n}, function( prefix, suffix ) {\n\tjQuery.cssHooks[ prefix + suffix ] = {\n\t\texpand: function( value ) {\n\t\t\tvar i = 0,\n\t\t\t\texpanded = {},\n\n\t\t\t\t// Assumes a single number if not a string\n\t\t\t\tparts = typeof value === \"string\" ? value.split( \" \" ) : [ value ];\n\n\t\t\tfor ( ; i < 4; i++ ) {\n\t\t\t\texpanded[ prefix + cssExpand[ i ] + suffix ] =\n\t\t\t\t\tparts[ i ] || parts[ i - 2 ] || parts[ 0 ];\n\t\t\t}\n\n\t\t\treturn expanded;\n\t\t}\n\t};\n\n\tif ( prefix !== \"margin\" ) {\n\t\tjQuery.cssHooks[ prefix + suffix ].set = setPositiveNumber;\n\t}\n} );\n\njQuery.fn.extend( {\n\tcss: function( name, value ) {\n\t\treturn access( this, function( elem, name, value ) {\n\t\t\tvar styles, len,\n\t\t\t\tmap = {},\n\t\t\t\ti = 0;\n\n\t\t\tif ( Array.isArray( name ) ) {\n\t\t\t\tstyles = getStyles( elem );\n\t\t\t\tlen = name.length;\n\n\t\t\t\tfor ( ; i < len; i++ ) {\n\t\t\t\t\tmap[ name[ i ] ] = jQuery.css( elem, name[ i ], false, styles );\n\t\t\t\t}\n\n\t\t\t\treturn map;\n\t\t\t}\n\n\t\t\treturn value !== undefined ?\n\t\t\t\tjQuery.style( elem, name, value ) :\n\t\t\t\tjQuery.css( elem, name );\n\t\t}, name, value, arguments.length > 1 );\n\t}\n} );\n\n\nfunction Tween( elem, options, prop, end, easing ) {\n\treturn new Tween.prototype.init( elem, options, prop, end, easing );\n}\njQuery.Tween = Tween;\n\nTween.prototype = {\n\tconstructor: Tween,\n\tinit: function( elem, options, prop, end, easing, unit ) {\n\t\tthis.elem = elem;\n\t\tthis.prop = prop;\n\t\tthis.easing = easing || jQuery.easing._default;\n\t\tthis.options = options;\n\t\tthis.start = this.now = this.cur();\n\t\tthis.end = end;\n\t\tthis.unit = unit || ( jQuery.cssNumber[ prop ] ? \"\" : \"px\" );\n\t},\n\tcur: function() {\n\t\tvar hooks = Tween.propHooks[ this.prop ];\n\n\t\treturn hooks && hooks.get ?\n\t\t\thooks.get( this ) :\n\t\t\tTween.propHooks._default.get( this );\n\t},\n\trun: function( percent ) {\n\t\tvar eased,\n\t\t\thooks = Tween.propHooks[ this.prop ];\n\n\t\tif ( this.options.duration ) {\n\t\t\tthis.pos = eased = jQuery.easing[ this.easing ](\n\t\t\t\tpercent, this.options.duration * percent, 0, 1, this.options.duration\n\t\t\t);\n\t\t} else {\n\t\t\tthis.pos = eased = percent;\n\t\t}\n\t\tthis.now = ( this.end - this.start ) * eased + this.start;\n\n\t\tif ( this.options.step ) {\n\t\t\tthis.options.step.call( this.elem, this.now, this );\n\t\t}\n\n\t\tif ( hooks && hooks.set ) {\n\t\t\thooks.set( this );\n\t\t} else {\n\t\t\tTween.propHooks._default.set( this );\n\t\t}\n\t\treturn this;\n\t}\n};\n\nTween.prototype.init.prototype = Tween.prototype;\n\nTween.propHooks = {\n\t_default: {\n\t\tget: function( tween ) {\n\t\t\tvar result;\n\n\t\t\t// Use a property on the element directly when it is not a DOM element,\n\t\t\t// or when there is no matching style property that exists.\n\t\t\tif ( tween.elem.nodeType !== 1 ||\n\t\t\t\ttween.elem[ tween.prop ] != null && tween.elem.style[ tween.prop ] == null ) {\n\t\t\t\treturn tween.elem[ tween.prop ];\n\t\t\t}\n\n\t\t\t// Passing an empty string as a 3rd parameter to .css will automatically\n\t\t\t// attempt a parseFloat and fallback to a string if the parse fails.\n\t\t\t// Simple values such as \"10px\" are parsed to Float;\n\t\t\t// complex values such as \"rotate(1rad)\" are returned as-is.\n\t\t\tresult = jQuery.css( tween.elem, tween.prop, \"\" );\n\n\t\t\t// Empty strings, null, undefined and \"auto\" are converted to 0.\n\t\t\treturn !result || result === \"auto\" ? 0 : result;\n\t\t},\n\t\tset: function( tween ) {\n\n\t\t\t// Use step hook for back compat.\n\t\t\t// Use cssHook if its there.\n\t\t\t// Use .style if available and use plain properties where available.\n\t\t\tif ( jQuery.fx.step[ tween.prop ] ) {\n\t\t\t\tjQuery.fx.step[ tween.prop ]( tween );\n\t\t\t} else if ( tween.elem.nodeType === 1 && (\n\t\t\t\t\tjQuery.cssHooks[ tween.prop ] ||\n\t\t\t\t\ttween.elem.style[ finalPropName( tween.prop ) ] != null ) ) {\n\t\t\t\tjQuery.style( tween.elem, tween.prop, tween.now + tween.unit );\n\t\t\t} else {\n\t\t\t\ttween.elem[ tween.prop ] = tween.now;\n\t\t\t}\n\t\t}\n\t}\n};\n\n// Support: IE <=9 only\n// Panic based approach to setting things on disconnected nodes\nTween.propHooks.scrollTop = Tween.propHooks.scrollLeft = {\n\tset: function( tween ) {\n\t\tif ( tween.elem.nodeType && tween.elem.parentNode ) {\n\t\t\ttween.elem[ tween.prop ] = tween.now;\n\t\t}\n\t}\n};\n\njQuery.easing = {\n\tlinear: function( p ) {\n\t\treturn p;\n\t},\n\tswing: function( p ) {\n\t\treturn 0.5 - Math.cos( p * Math.PI ) / 2;\n\t},\n\t_default: \"swing\"\n};\n\njQuery.fx = Tween.prototype.init;\n\n// Back compat <1.8 extension point\njQuery.fx.step = {};\n\n\n\n\nvar\n\tfxNow, inProgress,\n\trfxtypes = /^(?:toggle|show|hide)$/,\n\trrun = /queueHooks$/;\n\nfunction schedule() {\n\tif ( inProgress ) {\n\t\tif ( document.hidden === false && window.requestAnimationFrame ) {\n\t\t\twindow.requestAnimationFrame( schedule );\n\t\t} else {\n\t\t\twindow.setTimeout( schedule, jQuery.fx.interval );\n\t\t}\n\n\t\tjQuery.fx.tick();\n\t}\n}\n\n// Animations created synchronously will run synchronously\nfunction createFxNow() {\n\twindow.setTimeout( function() {\n\t\tfxNow = undefined;\n\t} );\n\treturn ( fxNow = Date.now() );\n}\n\n// Generate parameters to create a standard animation\nfunction genFx( type, includeWidth ) {\n\tvar which,\n\t\ti = 0,\n\t\tattrs = { height: type };\n\n\t// If we include width, step value is 1 to do all cssExpand values,\n\t// otherwise step value is 2 to skip over Left and Right\n\tincludeWidth = includeWidth ? 1 : 0;\n\tfor ( ; i < 4; i += 2 - includeWidth ) {\n\t\twhich = cssExpand[ i ];\n\t\tattrs[ \"margin\" + which ] = attrs[ \"padding\" + which ] = type;\n\t}\n\n\tif ( includeWidth ) {\n\t\tattrs.opacity = attrs.width = type;\n\t}\n\n\treturn attrs;\n}\n\nfunction createTween( value, prop, animation ) {\n\tvar tween,\n\t\tcollection = ( Animation.tweeners[ prop ] || [] ).concat( Animation.tweeners[ \"*\" ] ),\n\t\tindex = 0,\n\t\tlength = collection.length;\n\tfor ( ; index < length; index++ ) {\n\t\tif ( ( tween = collection[ index ].call( animation, prop, value ) ) ) {\n\n\t\t\t// We're done with this property\n\t\t\treturn tween;\n\t\t}\n\t}\n}\n\nfunction defaultPrefilter( elem, props, opts ) {\n\tvar prop, value, toggle, hooks, oldfire, propTween, restoreDisplay, display,\n\t\tisBox = \"width\" in props || \"height\" in props,\n\t\tanim = this,\n\t\torig = {},\n\t\tstyle = elem.style,\n\t\thidden = elem.nodeType && isHiddenWithinTree( elem ),\n\t\tdataShow = dataPriv.get( elem, \"fxshow\" );\n\n\t// Queue-skipping animations hijack the fx hooks\n\tif ( !opts.queue ) {\n\t\thooks = jQuery._queueHooks( elem, \"fx\" );\n\t\tif ( hooks.unqueued == null ) {\n\t\t\thooks.unqueued = 0;\n\t\t\toldfire = hooks.empty.fire;\n\t\t\thooks.empty.fire = function() {\n\t\t\t\tif ( !hooks.unqueued ) {\n\t\t\t\t\toldfire();\n\t\t\t\t}\n\t\t\t};\n\t\t}\n\t\thooks.unqueued++;\n\n\t\tanim.always( function() {\n\n\t\t\t// Ensure the complete handler is called before this completes\n\t\t\tanim.always( function() {\n\t\t\t\thooks.unqueued--;\n\t\t\t\tif ( !jQuery.queue( elem, \"fx\" ).length ) {\n\t\t\t\t\thooks.empty.fire();\n\t\t\t\t}\n\t\t\t} );\n\t\t} );\n\t}\n\n\t// Detect show/hide animations\n\tfor ( prop in props ) {\n\t\tvalue = props[ prop ];\n\t\tif ( rfxtypes.test( value ) ) {\n\t\t\tdelete props[ prop ];\n\t\t\ttoggle = toggle || value === \"toggle\";\n\t\t\tif ( value === ( hidden ? \"hide\" : \"show\" ) ) {\n\n\t\t\t\t// Pretend to be hidden if this is a \"show\" and\n\t\t\t\t// there is still data from a stopped show/hide\n\t\t\t\tif ( value === \"show\" && dataShow && dataShow[ prop ] !== undefined ) {\n\t\t\t\t\thidden = true;\n\n\t\t\t\t// Ignore all other no-op show/hide data\n\t\t\t\t} else {\n\t\t\t\t\tcontinue;\n\t\t\t\t}\n\t\t\t}\n\t\t\torig[ prop ] = dataShow && dataShow[ prop ] || jQuery.style( elem, prop );\n\t\t}\n\t}\n\n\t// Bail out if this is a no-op like .hide().hide()\n\tpropTween = !jQuery.isEmptyObject( props );\n\tif ( !propTween && jQuery.isEmptyObject( orig ) ) {\n\t\treturn;\n\t}\n\n\t// Restrict \"overflow\" and \"display\" styles during box animations\n\tif ( isBox && elem.nodeType === 1 ) {\n\n\t\t// Support: IE <=9 - 11, Edge 12 - 15\n\t\t// Record all 3 overflow attributes because IE does not infer the shorthand\n\t\t// from identically-valued overflowX and overflowY and Edge just mirrors\n\t\t// the overflowX value there.\n\t\topts.overflow = [ style.overflow, style.overflowX, style.overflowY ];\n\n\t\t// Identify a display type, preferring old show/hide data over the CSS cascade\n\t\trestoreDisplay = dataShow && dataShow.display;\n\t\tif ( restoreDisplay == null ) {\n\t\t\trestoreDisplay = dataPriv.get( elem, \"display\" );\n\t\t}\n\t\tdisplay = jQuery.css( elem, \"display\" );\n\t\tif ( display === \"none\" ) {\n\t\t\tif ( restoreDisplay ) {\n\t\t\t\tdisplay = restoreDisplay;\n\t\t\t} else {\n\n\t\t\t\t// Get nonempty value(s) by temporarily forcing visibility\n\t\t\t\tshowHide( [ elem ], true );\n\t\t\t\trestoreDisplay = elem.style.display || restoreDisplay;\n\t\t\t\tdisplay = jQuery.css( elem, \"display\" );\n\t\t\t\tshowHide( [ elem ] );\n\t\t\t}\n\t\t}\n\n\t\t// Animate inline elements as inline-block\n\t\tif ( display === \"inline\" || display === \"inline-block\" && restoreDisplay != null ) {\n\t\t\tif ( jQuery.css( elem, \"float\" ) === \"none\" ) {\n\n\t\t\t\t// Restore the original display value at the end of pure show/hide animations\n\t\t\t\tif ( !propTween ) {\n\t\t\t\t\tanim.done( function() {\n\t\t\t\t\t\tstyle.display = restoreDisplay;\n\t\t\t\t\t} );\n\t\t\t\t\tif ( restoreDisplay == null ) {\n\t\t\t\t\t\tdisplay = style.display;\n\t\t\t\t\t\trestoreDisplay = display === \"none\" ? \"\" : display;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tstyle.display = \"inline-block\";\n\t\t\t}\n\t\t}\n\t}\n\n\tif ( opts.overflow ) {\n\t\tstyle.overflow = \"hidden\";\n\t\tanim.always( function() {\n\t\t\tstyle.overflow = opts.overflow[ 0 ];\n\t\t\tstyle.overflowX = opts.overflow[ 1 ];\n\t\t\tstyle.overflowY = opts.overflow[ 2 ];\n\t\t} );\n\t}\n\n\t// Implement show/hide animations\n\tpropTween = false;\n\tfor ( prop in orig ) {\n\n\t\t// General show/hide setup for this element animation\n\t\tif ( !propTween ) {\n\t\t\tif ( dataShow ) {\n\t\t\t\tif ( \"hidden\" in dataShow ) {\n\t\t\t\t\thidden = dataShow.hidden;\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tdataShow = dataPriv.access( elem, \"fxshow\", { display: restoreDisplay } );\n\t\t\t}\n\n\t\t\t// Store hidden/visible for toggle so `.stop().toggle()` \"reverses\"\n\t\t\tif ( toggle ) {\n\t\t\t\tdataShow.hidden = !hidden;\n\t\t\t}\n\n\t\t\t// Show elements before animating them\n\t\t\tif ( hidden ) {\n\t\t\t\tshowHide( [ elem ], true );\n\t\t\t}\n\n\t\t\t/* eslint-disable no-loop-func */\n\n\t\t\tanim.done( function() {\n\n\t\t\t/* eslint-enable no-loop-func */\n\n\t\t\t\t// The final step of a \"hide\" animation is actually hiding the element\n\t\t\t\tif ( !hidden ) {\n\t\t\t\t\tshowHide( [ elem ] );\n\t\t\t\t}\n\t\t\t\tdataPriv.remove( elem, \"fxshow\" );\n\t\t\t\tfor ( prop in orig ) {\n\t\t\t\t\tjQuery.style( elem, prop, orig[ prop ] );\n\t\t\t\t}\n\t\t\t} );\n\t\t}\n\n\t\t// Per-property setup\n\t\tpropTween = createTween( hidden ? dataShow[ prop ] : 0, prop, anim );\n\t\tif ( !( prop in dataShow ) ) {\n\t\t\tdataShow[ prop ] = propTween.start;\n\t\t\tif ( hidden ) {\n\t\t\t\tpropTween.end = propTween.start;\n\t\t\t\tpropTween.start = 0;\n\t\t\t}\n\t\t}\n\t}\n}\n\nfunction propFilter( props, specialEasing ) {\n\tvar index, name, easing, value, hooks;\n\n\t// camelCase, specialEasing and expand cssHook pass\n\tfor ( index in props ) {\n\t\tname = camelCase( index );\n\t\teasing = specialEasing[ name ];\n\t\tvalue = props[ index ];\n\t\tif ( Array.isArray( value ) ) {\n\t\t\teasing = value[ 1 ];\n\t\t\tvalue = props[ index ] = value[ 0 ];\n\t\t}\n\n\t\tif ( index !== name ) {\n\t\t\tprops[ name ] = value;\n\t\t\tdelete props[ index ];\n\t\t}\n\n\t\thooks = jQuery.cssHooks[ name ];\n\t\tif ( hooks && \"expand\" in hooks ) {\n\t\t\tvalue = hooks.expand( value );\n\t\t\tdelete props[ name ];\n\n\t\t\t// Not quite $.extend, this won't overwrite existing keys.\n\t\t\t// Reusing 'index' because we have the correct \"name\"\n\t\t\tfor ( index in value ) {\n\t\t\t\tif ( !( index in props ) ) {\n\t\t\t\t\tprops[ index ] = value[ index ];\n\t\t\t\t\tspecialEasing[ index ] = easing;\n\t\t\t\t}\n\t\t\t}\n\t\t} else {\n\t\t\tspecialEasing[ name ] = easing;\n\t\t}\n\t}\n}\n\nfunction Animation( elem, properties, options ) {\n\tvar result,\n\t\tstopped,\n\t\tindex = 0,\n\t\tlength = Animation.prefilters.length,\n\t\tdeferred = jQuery.Deferred().always( function() {\n\n\t\t\t// Don't match elem in the :animated selector\n\t\t\tdelete tick.elem;\n\t\t} ),\n\t\ttick = function() {\n\t\t\tif ( stopped ) {\n\t\t\t\treturn false;\n\t\t\t}\n\t\t\tvar currentTime = fxNow || createFxNow(),\n\t\t\t\tremaining = Math.max( 0, animation.startTime + animation.duration - currentTime ),\n\n\t\t\t\t// Support: Android 2.3 only\n\t\t\t\t// Archaic crash bug won't allow us to use `1 - ( 0.5 || 0 )` (#12497)\n\t\t\t\ttemp = remaining / animation.duration || 0,\n\t\t\t\tpercent = 1 - temp,\n\t\t\t\tindex = 0,\n\t\t\t\tlength = animation.tweens.length;\n\n\t\t\tfor ( ; index < length; index++ ) {\n\t\t\t\tanimation.tweens[ index ].run( percent );\n\t\t\t}\n\n\t\t\tdeferred.notifyWith( elem, [ animation, percent, remaining ] );\n\n\t\t\t// If there's more to do, yield\n\t\t\tif ( percent < 1 && length ) {\n\t\t\t\treturn remaining;\n\t\t\t}\n\n\t\t\t// If this was an empty animation, synthesize a final progress notification\n\t\t\tif ( !length ) {\n\t\t\t\tdeferred.notifyWith( elem, [ animation, 1, 0 ] );\n\t\t\t}\n\n\t\t\t// Resolve the animation and report its conclusion\n\t\t\tdeferred.resolveWith( elem, [ animation ] );\n\t\t\treturn false;\n\t\t},\n\t\tanimation = deferred.promise( {\n\t\t\telem: elem,\n\t\t\tprops: jQuery.extend( {}, properties ),\n\t\t\topts: jQuery.extend( true, {\n\t\t\t\tspecialEasing: {},\n\t\t\t\teasing: jQuery.easing._default\n\t\t\t}, options ),\n\t\t\toriginalProperties: properties,\n\t\t\toriginalOptions: options,\n\t\t\tstartTime: fxNow || createFxNow(),\n\t\t\tduration: options.duration,\n\t\t\ttweens: [],\n\t\t\tcreateTween: function( prop, end ) {\n\t\t\t\tvar tween = jQuery.Tween( elem, animation.opts, prop, end,\n\t\t\t\t\t\tanimation.opts.specialEasing[ prop ] || animation.opts.easing );\n\t\t\t\tanimation.tweens.push( tween );\n\t\t\t\treturn tween;\n\t\t\t},\n\t\t\tstop: function( gotoEnd ) {\n\t\t\t\tvar index = 0,\n\n\t\t\t\t\t// If we are going to the end, we want to run all the tweens\n\t\t\t\t\t// otherwise we skip this part\n\t\t\t\t\tlength = gotoEnd ? animation.tweens.length : 0;\n\t\t\t\tif ( stopped ) {\n\t\t\t\t\treturn this;\n\t\t\t\t}\n\t\t\t\tstopped = true;\n\t\t\t\tfor ( ; index < length; index++ ) {\n\t\t\t\t\tanimation.tweens[ index ].run( 1 );\n\t\t\t\t}\n\n\t\t\t\t// Resolve when we played the last frame; otherwise, reject\n\t\t\t\tif ( gotoEnd ) {\n\t\t\t\t\tdeferred.notifyWith( elem, [ animation, 1, 0 ] );\n\t\t\t\t\tdeferred.resolveWith( elem, [ animation, gotoEnd ] );\n\t\t\t\t} else {\n\t\t\t\t\tdeferred.rejectWith( elem, [ animation, gotoEnd ] );\n\t\t\t\t}\n\t\t\t\treturn this;\n\t\t\t}\n\t\t} ),\n\t\tprops = animation.props;\n\n\tpropFilter( props, animation.opts.specialEasing );\n\n\tfor ( ; index < length; index++ ) {\n\t\tresult = Animation.prefilters[ index ].call( animation, elem, props, animation.opts );\n\t\tif ( result ) {\n\t\t\tif ( isFunction( result.stop ) ) {\n\t\t\t\tjQuery._queueHooks( animation.elem, animation.opts.queue ).stop =\n\t\t\t\t\tresult.stop.bind( result );\n\t\t\t}\n\t\t\treturn result;\n\t\t}\n\t}\n\n\tjQuery.map( props, createTween, animation );\n\n\tif ( isFunction( animation.opts.start ) ) {\n\t\tanimation.opts.start.call( elem, animation );\n\t}\n\n\t// Attach callbacks from options\n\tanimation\n\t\t.progress( animation.opts.progress )\n\t\t.done( animation.opts.done, animation.opts.complete )\n\t\t.fail( animation.opts.fail )\n\t\t.always( animation.opts.always );\n\n\tjQuery.fx.timer(\n\t\tjQuery.extend( tick, {\n\t\t\telem: elem,\n\t\t\tanim: animation,\n\t\t\tqueue: animation.opts.queue\n\t\t} )\n\t);\n\n\treturn animation;\n}\n\njQuery.Animation = jQuery.extend( Animation, {\n\n\ttweeners: {\n\t\t\"*\": [ function( prop, value ) {\n\t\t\tvar tween = this.createTween( prop, value );\n\t\t\tadjustCSS( tween.elem, prop, rcssNum.exec( value ), tween );\n\t\t\treturn tween;\n\t\t} ]\n\t},\n\n\ttweener: function( props, callback ) {\n\t\tif ( isFunction( props ) ) {\n\t\t\tcallback = props;\n\t\t\tprops = [ \"*\" ];\n\t\t} else {\n\t\t\tprops = props.match( rnothtmlwhite );\n\t\t}\n\n\t\tvar prop,\n\t\t\tindex = 0,\n\t\t\tlength = props.length;\n\n\t\tfor ( ; index < length; index++ ) {\n\t\t\tprop = props[ index ];\n\t\t\tAnimation.tweeners[ prop ] = Animation.tweeners[ prop ] || [];\n\t\t\tAnimation.tweeners[ prop ].unshift( callback );\n\t\t}\n\t},\n\n\tprefilters: [ defaultPrefilter ],\n\n\tprefilter: function( callback, prepend ) {\n\t\tif ( prepend ) {\n\t\t\tAnimation.prefilters.unshift( callback );\n\t\t} else {\n\t\t\tAnimation.prefilters.push( callback );\n\t\t}\n\t}\n} );\n\njQuery.speed = function( speed, easing, fn ) {\n\tvar opt = speed && typeof speed === \"object\" ? jQuery.extend( {}, speed ) : {\n\t\tcomplete: fn || !fn && easing ||\n\t\t\tisFunction( speed ) && speed,\n\t\tduration: speed,\n\t\teasing: fn && easing || easing && !isFunction( easing ) && easing\n\t};\n\n\t// Go to the end state if fx are off\n\tif ( jQuery.fx.off ) {\n\t\topt.duration = 0;\n\n\t} else {\n\t\tif ( typeof opt.duration !== \"number\" ) {\n\t\t\tif ( opt.duration in jQuery.fx.speeds ) {\n\t\t\t\topt.duration = jQuery.fx.speeds[ opt.duration ];\n\n\t\t\t} else {\n\t\t\t\topt.duration = jQuery.fx.speeds._default;\n\t\t\t}\n\t\t}\n\t}\n\n\t// Normalize opt.queue - true/undefined/null -> \"fx\"\n\tif ( opt.queue == null || opt.queue === true ) {\n\t\topt.queue = \"fx\";\n\t}\n\n\t// Queueing\n\topt.old = opt.complete;\n\n\topt.complete = function() {\n\t\tif ( isFunction( opt.old ) ) {\n\t\t\topt.old.call( this );\n\t\t}\n\n\t\tif ( opt.queue ) {\n\t\t\tjQuery.dequeue( this, opt.queue );\n\t\t}\n\t};\n\n\treturn opt;\n};\n\njQuery.fn.extend( {\n\tfadeTo: function( speed, to, easing, callback ) {\n\n\t\t// Show any hidden elements after setting opacity to 0\n\t\treturn this.filter( isHiddenWithinTree ).css( \"opacity\", 0 ).show()\n\n\t\t\t// Animate to the value specified\n\t\t\t.end().animate( { opacity: to }, speed, easing, callback );\n\t},\n\tanimate: function( prop, speed, easing, callback ) {\n\t\tvar empty = jQuery.isEmptyObject( prop ),\n\t\t\toptall = jQuery.speed( speed, easing, callback ),\n\t\t\tdoAnimation = function() {\n\n\t\t\t\t// Operate on a copy of prop so per-property easing won't be lost\n\t\t\t\tvar anim = Animation( this, jQuery.extend( {}, prop ), optall );\n\n\t\t\t\t// Empty animations, or finishing resolves immediately\n\t\t\t\tif ( empty || dataPriv.get( this, \"finish\" ) ) {\n\t\t\t\t\tanim.stop( true );\n\t\t\t\t}\n\t\t\t};\n\t\t\tdoAnimation.finish = doAnimation;\n\n\t\treturn empty || optall.queue === false ?\n\t\t\tthis.each( doAnimation ) :\n\t\t\tthis.queue( optall.queue, doAnimation );\n\t},\n\tstop: function( type, clearQueue, gotoEnd ) {\n\t\tvar stopQueue = function( hooks ) {\n\t\t\tvar stop = hooks.stop;\n\t\t\tdelete hooks.stop;\n\t\t\tstop( gotoEnd );\n\t\t};\n\n\t\tif ( typeof type !== \"string\" ) {\n\t\t\tgotoEnd = clearQueue;\n\t\t\tclearQueue = type;\n\t\t\ttype = undefined;\n\t\t}\n\t\tif ( clearQueue ) {\n\t\t\tthis.queue( type || \"fx\", [] );\n\t\t}\n\n\t\treturn this.each( function() {\n\t\t\tvar dequeue = true,\n\t\t\t\tindex = type != null && type + \"queueHooks\",\n\t\t\t\ttimers = jQuery.timers,\n\t\t\t\tdata = dataPriv.get( this );\n\n\t\t\tif ( index ) {\n\t\t\t\tif ( data[ index ] && data[ index ].stop ) {\n\t\t\t\t\tstopQueue( data[ index ] );\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tfor ( index in data ) {\n\t\t\t\t\tif ( data[ index ] && data[ index ].stop && rrun.test( index ) ) {\n\t\t\t\t\t\tstopQueue( data[ index ] );\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tfor ( index = timers.length; index--; ) {\n\t\t\t\tif ( timers[ index ].elem === this &&\n\t\t\t\t\t( type == null || timers[ index ].queue === type ) ) {\n\n\t\t\t\t\ttimers[ index ].anim.stop( gotoEnd );\n\t\t\t\t\tdequeue = false;\n\t\t\t\t\ttimers.splice( index, 1 );\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t// Start the next in the queue if the last step wasn't forced.\n\t\t\t// Timers currently will call their complete callbacks, which\n\t\t\t// will dequeue but only if they were gotoEnd.\n\t\t\tif ( dequeue || !gotoEnd ) {\n\t\t\t\tjQuery.dequeue( this, type );\n\t\t\t}\n\t\t} );\n\t},\n\tfinish: function( type ) {\n\t\tif ( type !== false ) {\n\t\t\ttype = type || \"fx\";\n\t\t}\n\t\treturn this.each( function() {\n\t\t\tvar index,\n\t\t\t\tdata = dataPriv.get( this ),\n\t\t\t\tqueue = data[ type + \"queue\" ],\n\t\t\t\thooks = data[ type + \"queueHooks\" ],\n\t\t\t\ttimers = jQuery.timers,\n\t\t\t\tlength = queue ? queue.length : 0;\n\n\t\t\t// Enable finishing flag on private data\n\t\t\tdata.finish = true;\n\n\t\t\t// Empty the queue first\n\t\t\tjQuery.queue( this, type, [] );\n\n\t\t\tif ( hooks && hooks.stop ) {\n\t\t\t\thooks.stop.call( this, true );\n\t\t\t}\n\n\t\t\t// Look for any active animations, and finish them\n\t\t\tfor ( index = timers.length; index--; ) {\n\t\t\t\tif ( timers[ index ].elem === this && timers[ index ].queue === type ) {\n\t\t\t\t\ttimers[ index ].anim.stop( true );\n\t\t\t\t\ttimers.splice( index, 1 );\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t// Look for any animations in the old queue and finish them\n\t\t\tfor ( index = 0; index < length; index++ ) {\n\t\t\t\tif ( queue[ index ] && queue[ index ].finish ) {\n\t\t\t\t\tqueue[ index ].finish.call( this );\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t// Turn off finishing flag\n\t\t\tdelete data.finish;\n\t\t} );\n\t}\n} );\n\njQuery.each( [ \"toggle\", \"show\", \"hide\" ], function( _i, name ) {\n\tvar cssFn = jQuery.fn[ name ];\n\tjQuery.fn[ name ] = function( speed, easing, callback ) {\n\t\treturn speed == null || typeof speed === \"boolean\" ?\n\t\t\tcssFn.apply( this, arguments ) :\n\t\t\tthis.animate( genFx( name, true ), speed, easing, callback );\n\t};\n} );\n\n// Generate shortcuts for custom animations\njQuery.each( {\n\tslideDown: genFx( \"show\" ),\n\tslideUp: genFx( \"hide\" ),\n\tslideToggle: genFx( \"toggle\" ),\n\tfadeIn: { opacity: \"show\" },\n\tfadeOut: { opacity: \"hide\" },\n\tfadeToggle: { opacity: \"toggle\" }\n}, function( name, props ) {\n\tjQuery.fn[ name ] = function( speed, easing, callback ) {\n\t\treturn this.animate( props, speed, easing, callback );\n\t};\n} );\n\njQuery.timers = [];\njQuery.fx.tick = function() {\n\tvar timer,\n\t\ti = 0,\n\t\ttimers = jQuery.timers;\n\n\tfxNow = Date.now();\n\n\tfor ( ; i < timers.length; i++ ) {\n\t\ttimer = timers[ i ];\n\n\t\t// Run the timer and safely remove it when done (allowing for external removal)\n\t\tif ( !timer() && timers[ i ] === timer ) {\n\t\t\ttimers.splice( i--, 1 );\n\t\t}\n\t}\n\n\tif ( !timers.length ) {\n\t\tjQuery.fx.stop();\n\t}\n\tfxNow = undefined;\n};\n\njQuery.fx.timer = function( timer ) {\n\tjQuery.timers.push( timer );\n\tjQuery.fx.start();\n};\n\njQuery.fx.interval = 13;\njQuery.fx.start = function() {\n\tif ( inProgress ) {\n\t\treturn;\n\t}\n\n\tinProgress = true;\n\tschedule();\n};\n\njQuery.fx.stop = function() {\n\tinProgress = null;\n};\n\njQuery.fx.speeds = {\n\tslow: 600,\n\tfast: 200,\n\n\t// Default speed\n\t_default: 400\n};\n\n\n// Based off of the plugin by Clint Helfers, with permission.\n// https://web.archive.org/web/20100324014747/http://blindsignals.com/index.php/2009/07/jquery-delay/\njQuery.fn.delay = function( time, type ) {\n\ttime = jQuery.fx ? jQuery.fx.speeds[ time ] || time : time;\n\ttype = type || \"fx\";\n\n\treturn this.queue( type, function( next, hooks ) {\n\t\tvar timeout = window.setTimeout( next, time );\n\t\thooks.stop = function() {\n\t\t\twindow.clearTimeout( timeout );\n\t\t};\n\t} );\n};\n\n\n( function() {\n\tvar input = document.createElement( \"input\" ),\n\t\tselect = document.createElement( \"select\" ),\n\t\topt = select.appendChild( document.createElement( \"option\" ) );\n\n\tinput.type = \"checkbox\";\n\n\t// Support: Android <=4.3 only\n\t// Default value for a checkbox should be \"on\"\n\tsupport.checkOn = input.value !== \"\";\n\n\t// Support: IE <=11 only\n\t// Must access selectedIndex to make default options select\n\tsupport.optSelected = opt.selected;\n\n\t// Support: IE <=11 only\n\t// An input loses its value after becoming a radio\n\tinput = document.createElement( \"input\" );\n\tinput.value = \"t\";\n\tinput.type = \"radio\";\n\tsupport.radioValue = input.value === \"t\";\n} )();\n\n\nvar boolHook,\n\tattrHandle = jQuery.expr.attrHandle;\n\njQuery.fn.extend( {\n\tattr: function( name, value ) {\n\t\treturn access( this, jQuery.attr, name, value, arguments.length > 1 );\n\t},\n\n\tremoveAttr: function( name ) {\n\t\treturn this.each( function() {\n\t\t\tjQuery.removeAttr( this, name );\n\t\t} );\n\t}\n} );\n\njQuery.extend( {\n\tattr: function( elem, name, value ) {\n\t\tvar ret, hooks,\n\t\t\tnType = elem.nodeType;\n\n\t\t// Don't get/set attributes on text, comment and attribute nodes\n\t\tif ( nType === 3 || nType === 8 || nType === 2 ) {\n\t\t\treturn;\n\t\t}\n\n\t\t// Fallback to prop when attributes are not supported\n\t\tif ( typeof elem.getAttribute === \"undefined\" ) {\n\t\t\treturn jQuery.prop( elem, name, value );\n\t\t}\n\n\t\t// Attribute hooks are determined by the lowercase version\n\t\t// Grab necessary hook if one is defined\n\t\tif ( nType !== 1 || !jQuery.isXMLDoc( elem ) ) {\n\t\t\thooks = jQuery.attrHooks[ name.toLowerCase() ] ||\n\t\t\t\t( jQuery.expr.match.bool.test( name ) ? boolHook : undefined );\n\t\t}\n\n\t\tif ( value !== undefined ) {\n\t\t\tif ( value === null ) {\n\t\t\t\tjQuery.removeAttr( elem, name );\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tif ( hooks && \"set\" in hooks &&\n\t\t\t\t( ret = hooks.set( elem, value, name ) ) !== undefined ) {\n\t\t\t\treturn ret;\n\t\t\t}\n\n\t\t\telem.setAttribute( name, value + \"\" );\n\t\t\treturn value;\n\t\t}\n\n\t\tif ( hooks && \"get\" in hooks && ( ret = hooks.get( elem, name ) ) !== null ) {\n\t\t\treturn ret;\n\t\t}\n\n\t\tret = jQuery.find.attr( elem, name );\n\n\t\t// Non-existent attributes return null, we normalize to undefined\n\t\treturn ret == null ? undefined : ret;\n\t},\n\n\tattrHooks: {\n\t\ttype: {\n\t\t\tset: function( elem, value ) {\n\t\t\t\tif ( !support.radioValue && value === \"radio\" &&\n\t\t\t\t\tnodeName( elem, \"input\" ) ) {\n\t\t\t\t\tvar val = elem.value;\n\t\t\t\t\telem.setAttribute( \"type\", value );\n\t\t\t\t\tif ( val ) {\n\t\t\t\t\t\telem.value = val;\n\t\t\t\t\t}\n\t\t\t\t\treturn value;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t},\n\n\tremoveAttr: function( elem, value ) {\n\t\tvar name,\n\t\t\ti = 0,\n\n\t\t\t// Attribute names can contain non-HTML whitespace characters\n\t\t\t// https://html.spec.whatwg.org/multipage/syntax.html#attributes-2\n\t\t\tattrNames = value && value.match( rnothtmlwhite );\n\n\t\tif ( attrNames && elem.nodeType === 1 ) {\n\t\t\twhile ( ( name = attrNames[ i++ ] ) ) {\n\t\t\t\telem.removeAttribute( name );\n\t\t\t}\n\t\t}\n\t}\n} );\n\n// Hooks for boolean attributes\nboolHook = {\n\tset: function( elem, value, name ) {\n\t\tif ( value === false ) {\n\n\t\t\t// Remove boolean attributes when set to false\n\t\t\tjQuery.removeAttr( elem, name );\n\t\t} else {\n\t\t\telem.setAttribute( name, name );\n\t\t}\n\t\treturn name;\n\t}\n};\n\njQuery.each( jQuery.expr.match.bool.source.match( /\\w+/g ), function( _i, name ) {\n\tvar getter = attrHandle[ name ] || jQuery.find.attr;\n\n\tattrHandle[ name ] = function( elem, name, isXML ) {\n\t\tvar ret, handle,\n\t\t\tlowercaseName = name.toLowerCase();\n\n\t\tif ( !isXML ) {\n\n\t\t\t// Avoid an infinite loop by temporarily removing this function from the getter\n\t\t\thandle = attrHandle[ lowercaseName ];\n\t\t\tattrHandle[ lowercaseName ] = ret;\n\t\t\tret = getter( elem, name, isXML ) != null ?\n\t\t\t\tlowercaseName :\n\t\t\t\tnull;\n\t\t\tattrHandle[ lowercaseName ] = handle;\n\t\t}\n\t\treturn ret;\n\t};\n} );\n\n\n\n\nvar rfocusable = /^(?:input|select|textarea|button)$/i,\n\trclickable = /^(?:a|area)$/i;\n\njQuery.fn.extend( {\n\tprop: function( name, value ) {\n\t\treturn access( this, jQuery.prop, name, value, arguments.length > 1 );\n\t},\n\n\tremoveProp: function( name ) {\n\t\treturn this.each( function() {\n\t\t\tdelete this[ jQuery.propFix[ name ] || name ];\n\t\t} );\n\t}\n} );\n\njQuery.extend( {\n\tprop: function( elem, name, value ) {\n\t\tvar ret, hooks,\n\t\t\tnType = elem.nodeType;\n\n\t\t// Don't get/set properties on text, comment and attribute nodes\n\t\tif ( nType === 3 || nType === 8 || nType === 2 ) {\n\t\t\treturn;\n\t\t}\n\n\t\tif ( nType !== 1 || !jQuery.isXMLDoc( elem ) ) {\n\n\t\t\t// Fix name and attach hooks\n\t\t\tname = jQuery.propFix[ name ] || name;\n\t\t\thooks = jQuery.propHooks[ name ];\n\t\t}\n\n\t\tif ( value !== undefined ) {\n\t\t\tif ( hooks && \"set\" in hooks &&\n\t\t\t\t( ret = hooks.set( elem, value, name ) ) !== undefined ) {\n\t\t\t\treturn ret;\n\t\t\t}\n\n\t\t\treturn ( elem[ name ] = value );\n\t\t}\n\n\t\tif ( hooks && \"get\" in hooks && ( ret = hooks.get( elem, name ) ) !== null ) {\n\t\t\treturn ret;\n\t\t}\n\n\t\treturn elem[ name ];\n\t},\n\n\tpropHooks: {\n\t\ttabIndex: {\n\t\t\tget: function( elem ) {\n\n\t\t\t\t// Support: IE <=9 - 11 only\n\t\t\t\t// elem.tabIndex doesn't always return the\n\t\t\t\t// correct value when it hasn't been explicitly set\n\t\t\t\t// https://web.archive.org/web/20141116233347/http://fluidproject.org/blog/2008/01/09/getting-setting-and-removing-tabindex-values-with-javascript/\n\t\t\t\t// Use proper attribute retrieval(#12072)\n\t\t\t\tvar tabindex = jQuery.find.attr( elem, \"tabindex\" );\n\n\t\t\t\tif ( tabindex ) {\n\t\t\t\t\treturn parseInt( tabindex, 10 );\n\t\t\t\t}\n\n\t\t\t\tif (\n\t\t\t\t\trfocusable.test( elem.nodeName ) ||\n\t\t\t\t\trclickable.test( elem.nodeName ) &&\n\t\t\t\t\telem.href\n\t\t\t\t) {\n\t\t\t\t\treturn 0;\n\t\t\t\t}\n\n\t\t\t\treturn -1;\n\t\t\t}\n\t\t}\n\t},\n\n\tpropFix: {\n\t\t\"for\": \"htmlFor\",\n\t\t\"class\": \"className\"\n\t}\n} );\n\n// Support: IE <=11 only\n// Accessing the selectedIndex property\n// forces the browser to respect setting selected\n// on the option\n// The getter ensures a default option is selected\n// when in an optgroup\n// eslint rule \"no-unused-expressions\" is disabled for this code\n// since it considers such accessions noop\nif ( !support.optSelected ) {\n\tjQuery.propHooks.selected = {\n\t\tget: function( elem ) {\n\n\t\t\t/* eslint no-unused-expressions: \"off\" */\n\n\t\t\tvar parent = elem.parentNode;\n\t\t\tif ( parent && parent.parentNode ) {\n\t\t\t\tparent.parentNode.selectedIndex;\n\t\t\t}\n\t\t\treturn null;\n\t\t},\n\t\tset: function( elem ) {\n\n\t\t\t/* eslint no-unused-expressions: \"off\" */\n\n\t\t\tvar parent = elem.parentNode;\n\t\t\tif ( parent ) {\n\t\t\t\tparent.selectedIndex;\n\n\t\t\t\tif ( parent.parentNode ) {\n\t\t\t\t\tparent.parentNode.selectedIndex;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t};\n}\n\njQuery.each( [\n\t\"tabIndex\",\n\t\"readOnly\",\n\t\"maxLength\",\n\t\"cellSpacing\",\n\t\"cellPadding\",\n\t\"rowSpan\",\n\t\"colSpan\",\n\t\"useMap\",\n\t\"frameBorder\",\n\t\"contentEditable\"\n], function() {\n\tjQuery.propFix[ this.toLowerCase() ] = this;\n} );\n\n\n\n\n\t// Strip and collapse whitespace according to HTML spec\n\t// https://infra.spec.whatwg.org/#strip-and-collapse-ascii-whitespace\n\tfunction stripAndCollapse( value ) {\n\t\tvar tokens = value.match( rnothtmlwhite ) || [];\n\t\treturn tokens.join( \" \" );\n\t}\n\n\nfunction getClass( elem ) {\n\treturn elem.getAttribute && elem.getAttribute( \"class\" ) || \"\";\n}\n\nfunction classesToArray( value ) {\n\tif ( Array.isArray( value ) ) {\n\t\treturn value;\n\t}\n\tif ( typeof value === \"string\" ) {\n\t\treturn value.match( rnothtmlwhite ) || [];\n\t}\n\treturn [];\n}\n\njQuery.fn.extend( {\n\taddClass: function( value ) {\n\t\tvar classes, elem, cur, curValue, clazz, j, finalValue,\n\t\t\ti = 0;\n\n\t\tif ( isFunction( value ) ) {\n\t\t\treturn this.each( function( j ) {\n\t\t\t\tjQuery( this ).addClass( value.call( this, j, getClass( this ) ) );\n\t\t\t} );\n\t\t}\n\n\t\tclasses = classesToArray( value );\n\n\t\tif ( classes.length ) {\n\t\t\twhile ( ( elem = this[ i++ ] ) ) {\n\t\t\t\tcurValue = getClass( elem );\n\t\t\t\tcur = elem.nodeType === 1 && ( \" \" + stripAndCollapse( curValue ) + \" \" );\n\n\t\t\t\tif ( cur ) {\n\t\t\t\t\tj = 0;\n\t\t\t\t\twhile ( ( clazz = classes[ j++ ] ) ) {\n\t\t\t\t\t\tif ( cur.indexOf( \" \" + clazz + \" \" ) < 0 ) {\n\t\t\t\t\t\t\tcur += clazz + \" \";\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\n\t\t\t\t\t// Only assign if different to avoid unneeded rendering.\n\t\t\t\t\tfinalValue = stripAndCollapse( cur );\n\t\t\t\t\tif ( curValue !== finalValue ) {\n\t\t\t\t\t\telem.setAttribute( \"class\", finalValue );\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\treturn this;\n\t},\n\n\tremoveClass: function( value ) {\n\t\tvar classes, elem, cur, curValue, clazz, j, finalValue,\n\t\t\ti = 0;\n\n\t\tif ( isFunction( value ) ) {\n\t\t\treturn this.each( function( j ) {\n\t\t\t\tjQuery( this ).removeClass( value.call( this, j, getClass( this ) ) );\n\t\t\t} );\n\t\t}\n\n\t\tif ( !arguments.length ) {\n\t\t\treturn this.attr( \"class\", \"\" );\n\t\t}\n\n\t\tclasses = classesToArray( value );\n\n\t\tif ( classes.length ) {\n\t\t\twhile ( ( elem = this[ i++ ] ) ) {\n\t\t\t\tcurValue = getClass( elem );\n\n\t\t\t\t// This expression is here for better compressibility (see addClass)\n\t\t\t\tcur = elem.nodeType === 1 && ( \" \" + stripAndCollapse( curValue ) + \" \" );\n\n\t\t\t\tif ( cur ) {\n\t\t\t\t\tj = 0;\n\t\t\t\t\twhile ( ( clazz = classes[ j++ ] ) ) {\n\n\t\t\t\t\t\t// Remove *all* instances\n\t\t\t\t\t\twhile ( cur.indexOf( \" \" + clazz + \" \" ) > -1 ) {\n\t\t\t\t\t\t\tcur = cur.replace( \" \" + clazz + \" \", \" \" );\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\n\t\t\t\t\t// Only assign if different to avoid unneeded rendering.\n\t\t\t\t\tfinalValue = stripAndCollapse( cur );\n\t\t\t\t\tif ( curValue !== finalValue ) {\n\t\t\t\t\t\telem.setAttribute( \"class\", finalValue );\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\treturn this;\n\t},\n\n\ttoggleClass: function( value, stateVal ) {\n\t\tvar type = typeof value,\n\t\t\tisValidValue = type === \"string\" || Array.isArray( value );\n\n\t\tif ( typeof stateVal === \"boolean\" && isValidValue ) {\n\t\t\treturn stateVal ? this.addClass( value ) : this.removeClass( value );\n\t\t}\n\n\t\tif ( isFunction( value ) ) {\n\t\t\treturn this.each( function( i ) {\n\t\t\t\tjQuery( this ).toggleClass(\n\t\t\t\t\tvalue.call( this, i, getClass( this ), stateVal ),\n\t\t\t\t\tstateVal\n\t\t\t\t);\n\t\t\t} );\n\t\t}\n\n\t\treturn this.each( function() {\n\t\t\tvar className, i, self, classNames;\n\n\t\t\tif ( isValidValue ) {\n\n\t\t\t\t// Toggle individual class names\n\t\t\t\ti = 0;\n\t\t\t\tself = jQuery( this );\n\t\t\t\tclassNames = classesToArray( value );\n\n\t\t\t\twhile ( ( className = classNames[ i++ ] ) ) {\n\n\t\t\t\t\t// Check each className given, space separated list\n\t\t\t\t\tif ( self.hasClass( className ) ) {\n\t\t\t\t\t\tself.removeClass( className );\n\t\t\t\t\t} else {\n\t\t\t\t\t\tself.addClass( className );\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t// Toggle whole class name\n\t\t\t} else if ( value === undefined || type === \"boolean\" ) {\n\t\t\t\tclassName = getClass( this );\n\t\t\t\tif ( className ) {\n\n\t\t\t\t\t// Store className if set\n\t\t\t\t\tdataPriv.set( this, \"__className__\", className );\n\t\t\t\t}\n\n\t\t\t\t// If the element has a class name or if we're passed `false`,\n\t\t\t\t// then remove the whole classname (if there was one, the above saved it).\n\t\t\t\t// Otherwise bring back whatever was previously saved (if anything),\n\t\t\t\t// falling back to the empty string if nothing was stored.\n\t\t\t\tif ( this.setAttribute ) {\n\t\t\t\t\tthis.setAttribute( \"class\",\n\t\t\t\t\t\tclassName || value === false ?\n\t\t\t\t\t\t\"\" :\n\t\t\t\t\t\tdataPriv.get( this, \"__className__\" ) || \"\"\n\t\t\t\t\t);\n\t\t\t\t}\n\t\t\t}\n\t\t} );\n\t},\n\n\thasClass: function( selector ) {\n\t\tvar className, elem,\n\t\t\ti = 0;\n\n\t\tclassName = \" \" + selector + \" \";\n\t\twhile ( ( elem = this[ i++ ] ) ) {\n\t\t\tif ( elem.nodeType === 1 &&\n\t\t\t\t( \" \" + stripAndCollapse( getClass( elem ) ) + \" \" ).indexOf( className ) > -1 ) {\n\t\t\t\t\treturn true;\n\t\t\t}\n\t\t}\n\n\t\treturn false;\n\t}\n} );\n\n\n\n\nvar rreturn = /\\r/g;\n\njQuery.fn.extend( {\n\tval: function( value ) {\n\t\tvar hooks, ret, valueIsFunction,\n\t\t\telem = this[ 0 ];\n\n\t\tif ( !arguments.length ) {\n\t\t\tif ( elem ) {\n\t\t\t\thooks = jQuery.valHooks[ elem.type ] ||\n\t\t\t\t\tjQuery.valHooks[ elem.nodeName.toLowerCase() ];\n\n\t\t\t\tif ( hooks &&\n\t\t\t\t\t\"get\" in hooks &&\n\t\t\t\t\t( ret = hooks.get( elem, \"value\" ) ) !== undefined\n\t\t\t\t) {\n\t\t\t\t\treturn ret;\n\t\t\t\t}\n\n\t\t\t\tret = elem.value;\n\n\t\t\t\t// Handle most common string cases\n\t\t\t\tif ( typeof ret === \"string\" ) {\n\t\t\t\t\treturn ret.replace( rreturn, \"\" );\n\t\t\t\t}\n\n\t\t\t\t// Handle cases where value is null/undef or number\n\t\t\t\treturn ret == null ? \"\" : ret;\n\t\t\t}\n\n\t\t\treturn;\n\t\t}\n\n\t\tvalueIsFunction = isFunction( value );\n\n\t\treturn this.each( function( i ) {\n\t\t\tvar val;\n\n\t\t\tif ( this.nodeType !== 1 ) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tif ( valueIsFunction ) {\n\t\t\t\tval = value.call( this, i, jQuery( this ).val() );\n\t\t\t} else {\n\t\t\t\tval = value;\n\t\t\t}\n\n\t\t\t// Treat null/undefined as \"\"; convert numbers to string\n\t\t\tif ( val == null ) {\n\t\t\t\tval = \"\";\n\n\t\t\t} else if ( typeof val === \"number\" ) {\n\t\t\t\tval += \"\";\n\n\t\t\t} else if ( Array.isArray( val ) ) {\n\t\t\t\tval = jQuery.map( val, function( value ) {\n\t\t\t\t\treturn value == null ? \"\" : value + \"\";\n\t\t\t\t} );\n\t\t\t}\n\n\t\t\thooks = jQuery.valHooks[ this.type ] || jQuery.valHooks[ this.nodeName.toLowerCase() ];\n\n\t\t\t// If set returns undefined, fall back to normal setting\n\t\t\tif ( !hooks || !( \"set\" in hooks ) || hooks.set( this, val, \"value\" ) === undefined ) {\n\t\t\t\tthis.value = val;\n\t\t\t}\n\t\t} );\n\t}\n} );\n\njQuery.extend( {\n\tvalHooks: {\n\t\toption: {\n\t\t\tget: function( elem ) {\n\n\t\t\t\tvar val = jQuery.find.attr( elem, \"value\" );\n\t\t\t\treturn val != null ?\n\t\t\t\t\tval :\n\n\t\t\t\t\t// Support: IE <=10 - 11 only\n\t\t\t\t\t// option.text throws exceptions (#14686, #14858)\n\t\t\t\t\t// Strip and collapse whitespace\n\t\t\t\t\t// https://html.spec.whatwg.org/#strip-and-collapse-whitespace\n\t\t\t\t\tstripAndCollapse( jQuery.text( elem ) );\n\t\t\t}\n\t\t},\n\t\tselect: {\n\t\t\tget: function( elem ) {\n\t\t\t\tvar value, option, i,\n\t\t\t\t\toptions = elem.options,\n\t\t\t\t\tindex = elem.selectedIndex,\n\t\t\t\t\tone = elem.type === \"select-one\",\n\t\t\t\t\tvalues = one ? null : [],\n\t\t\t\t\tmax = one ? index + 1 : options.length;\n\n\t\t\t\tif ( index < 0 ) {\n\t\t\t\t\ti = max;\n\n\t\t\t\t} else {\n\t\t\t\t\ti = one ? index : 0;\n\t\t\t\t}\n\n\t\t\t\t// Loop through all the selected options\n\t\t\t\tfor ( ; i < max; i++ ) {\n\t\t\t\t\toption = options[ i ];\n\n\t\t\t\t\t// Support: IE <=9 only\n\t\t\t\t\t// IE8-9 doesn't update selected after form reset (#2551)\n\t\t\t\t\tif ( ( option.selected || i === index ) &&\n\n\t\t\t\t\t\t\t// Don't return options that are disabled or in a disabled optgroup\n\t\t\t\t\t\t\t!option.disabled &&\n\t\t\t\t\t\t\t( !option.parentNode.disabled ||\n\t\t\t\t\t\t\t\t!nodeName( option.parentNode, \"optgroup\" ) ) ) {\n\n\t\t\t\t\t\t// Get the specific value for the option\n\t\t\t\t\t\tvalue = jQuery( option ).val();\n\n\t\t\t\t\t\t// We don't need an array for one selects\n\t\t\t\t\t\tif ( one ) {\n\t\t\t\t\t\t\treturn value;\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\t// Multi-Selects return an array\n\t\t\t\t\t\tvalues.push( value );\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\treturn values;\n\t\t\t},\n\n\t\t\tset: function( elem, value ) {\n\t\t\t\tvar optionSet, option,\n\t\t\t\t\toptions = elem.options,\n\t\t\t\t\tvalues = jQuery.makeArray( value ),\n\t\t\t\t\ti = options.length;\n\n\t\t\t\twhile ( i-- ) {\n\t\t\t\t\toption = options[ i ];\n\n\t\t\t\t\t/* eslint-disable no-cond-assign */\n\n\t\t\t\t\tif ( option.selected =\n\t\t\t\t\t\tjQuery.inArray( jQuery.valHooks.option.get( option ), values ) > -1\n\t\t\t\t\t) {\n\t\t\t\t\t\toptionSet = true;\n\t\t\t\t\t}\n\n\t\t\t\t\t/* eslint-enable no-cond-assign */\n\t\t\t\t}\n\n\t\t\t\t// Force browsers to behave consistently when non-matching value is set\n\t\t\t\tif ( !optionSet ) {\n\t\t\t\t\telem.selectedIndex = -1;\n\t\t\t\t}\n\t\t\t\treturn values;\n\t\t\t}\n\t\t}\n\t}\n} );\n\n// Radios and checkboxes getter/setter\njQuery.each( [ \"radio\", \"checkbox\" ], function() {\n\tjQuery.valHooks[ this ] = {\n\t\tset: function( elem, value ) {\n\t\t\tif ( Array.isArray( value ) ) {\n\t\t\t\treturn ( elem.checked = jQuery.inArray( jQuery( elem ).val(), value ) > -1 );\n\t\t\t}\n\t\t}\n\t};\n\tif ( !support.checkOn ) {\n\t\tjQuery.valHooks[ this ].get = function( elem ) {\n\t\t\treturn elem.getAttribute( \"value\" ) === null ? \"on\" : elem.value;\n\t\t};\n\t}\n} );\n\n\n\n\n// Return jQuery for attributes-only inclusion\n\n\nsupport.focusin = \"onfocusin\" in window;\n\n\nvar rfocusMorph = /^(?:focusinfocus|focusoutblur)$/,\n\tstopPropagationCallback = function( e ) {\n\t\te.stopPropagation();\n\t};\n\njQuery.extend( jQuery.event, {\n\n\ttrigger: function( event, data, elem, onlyHandlers ) {\n\n\t\tvar i, cur, tmp, bubbleType, ontype, handle, special, lastElement,\n\t\t\teventPath = [ elem || document ],\n\t\t\ttype = hasOwn.call( event, \"type\" ) ? event.type : event,\n\t\t\tnamespaces = hasOwn.call( event, \"namespace\" ) ? event.namespace.split( \".\" ) : [];\n\n\t\tcur = lastElement = tmp = elem = elem || document;\n\n\t\t// Don't do events on text and comment nodes\n\t\tif ( elem.nodeType === 3 || elem.nodeType === 8 ) {\n\t\t\treturn;\n\t\t}\n\n\t\t// focus/blur morphs to focusin/out; ensure we're not firing them right now\n\t\tif ( rfocusMorph.test( type + jQuery.event.triggered ) ) {\n\t\t\treturn;\n\t\t}\n\n\t\tif ( type.indexOf( \".\" ) > -1 ) {\n\n\t\t\t// Namespaced trigger; create a regexp to match event type in handle()\n\t\t\tnamespaces = type.split( \".\" );\n\t\t\ttype = namespaces.shift();\n\t\t\tnamespaces.sort();\n\t\t}\n\t\tontype = type.indexOf( \":\" ) < 0 && \"on\" + type;\n\n\t\t// Caller can pass in a jQuery.Event object, Object, or just an event type string\n\t\tevent = event[ jQuery.expando ] ?\n\t\t\tevent :\n\t\t\tnew jQuery.Event( type, typeof event === \"object\" && event );\n\n\t\t// Trigger bitmask: & 1 for native handlers; & 2 for jQuery (always true)\n\t\tevent.isTrigger = onlyHandlers ? 2 : 3;\n\t\tevent.namespace = namespaces.join( \".\" );\n\t\tevent.rnamespace = event.namespace ?\n\t\t\tnew RegExp( \"(^|\\\\.)\" + namespaces.join( \"\\\\.(?:.*\\\\.|)\" ) + \"(\\\\.|$)\" ) :\n\t\t\tnull;\n\n\t\t// Clean up the event in case it is being reused\n\t\tevent.result = undefined;\n\t\tif ( !event.target ) {\n\t\t\tevent.target = elem;\n\t\t}\n\n\t\t// Clone any incoming data and prepend the event, creating the handler arg list\n\t\tdata = data == null ?\n\t\t\t[ event ] :\n\t\t\tjQuery.makeArray( data, [ event ] );\n\n\t\t// Allow special events to draw outside the lines\n\t\tspecial = jQuery.event.special[ type ] || {};\n\t\tif ( !onlyHandlers && special.trigger && special.trigger.apply( elem, data ) === false ) {\n\t\t\treturn;\n\t\t}\n\n\t\t// Determine event propagation path in advance, per W3C events spec (#9951)\n\t\t// Bubble up to document, then to window; watch for a global ownerDocument var (#9724)\n\t\tif ( !onlyHandlers && !special.noBubble && !isWindow( elem ) ) {\n\n\t\t\tbubbleType = special.delegateType || type;\n\t\t\tif ( !rfocusMorph.test( bubbleType + type ) ) {\n\t\t\t\tcur = cur.parentNode;\n\t\t\t}\n\t\t\tfor ( ; cur; cur = cur.parentNode ) {\n\t\t\t\teventPath.push( cur );\n\t\t\t\ttmp = cur;\n\t\t\t}\n\n\t\t\t// Only add window if we got to document (e.g., not plain obj or detached DOM)\n\t\t\tif ( tmp === ( elem.ownerDocument || document ) ) {\n\t\t\t\teventPath.push( tmp.defaultView || tmp.parentWindow || window );\n\t\t\t}\n\t\t}\n\n\t\t// Fire handlers on the event path\n\t\ti = 0;\n\t\twhile ( ( cur = eventPath[ i++ ] ) && !event.isPropagationStopped() ) {\n\t\t\tlastElement = cur;\n\t\t\tevent.type = i > 1 ?\n\t\t\t\tbubbleType :\n\t\t\t\tspecial.bindType || type;\n\n\t\t\t// jQuery handler\n\t\t\thandle = (\n\t\t\t\t\tdataPriv.get( cur, \"events\" ) || Object.create( null )\n\t\t\t\t)[ event.type ] &&\n\t\t\t\tdataPriv.get( cur, \"handle\" );\n\t\t\tif ( handle ) {\n\t\t\t\thandle.apply( cur, data );\n\t\t\t}\n\n\t\t\t// Native handler\n\t\t\thandle = ontype && cur[ ontype ];\n\t\t\tif ( handle && handle.apply && acceptData( cur ) ) {\n\t\t\t\tevent.result = handle.apply( cur, data );\n\t\t\t\tif ( event.result === false ) {\n\t\t\t\t\tevent.preventDefault();\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\tevent.type = type;\n\n\t\t// If nobody prevented the default action, do it now\n\t\tif ( !onlyHandlers && !event.isDefaultPrevented() ) {\n\n\t\t\tif ( ( !special._default ||\n\t\t\t\tspecial._default.apply( eventPath.pop(), data ) === false ) &&\n\t\t\t\tacceptData( elem ) ) {\n\n\t\t\t\t// Call a native DOM method on the target with the same name as the event.\n\t\t\t\t// Don't do default actions on window, that's where global variables be (#6170)\n\t\t\t\tif ( ontype && isFunction( elem[ type ] ) && !isWindow( elem ) ) {\n\n\t\t\t\t\t// Don't re-trigger an onFOO event when we call its FOO() method\n\t\t\t\t\ttmp = elem[ ontype ];\n\n\t\t\t\t\tif ( tmp ) {\n\t\t\t\t\t\telem[ ontype ] = null;\n\t\t\t\t\t}\n\n\t\t\t\t\t// Prevent re-triggering of the same event, since we already bubbled it above\n\t\t\t\t\tjQuery.event.triggered = type;\n\n\t\t\t\t\tif ( event.isPropagationStopped() ) {\n\t\t\t\t\t\tlastElement.addEventListener( type, stopPropagationCallback );\n\t\t\t\t\t}\n\n\t\t\t\t\telem[ type ]();\n\n\t\t\t\t\tif ( event.isPropagationStopped() ) {\n\t\t\t\t\t\tlastElement.removeEventListener( type, stopPropagationCallback );\n\t\t\t\t\t}\n\n\t\t\t\t\tjQuery.event.triggered = undefined;\n\n\t\t\t\t\tif ( tmp ) {\n\t\t\t\t\t\telem[ ontype ] = tmp;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\treturn event.result;\n\t},\n\n\t// Piggyback on a donor event to simulate a different one\n\t// Used only for `focus(in | out)` events\n\tsimulate: function( type, elem, event ) {\n\t\tvar e = jQuery.extend(\n\t\t\tnew jQuery.Event(),\n\t\t\tevent,\n\t\t\t{\n\t\t\t\ttype: type,\n\t\t\t\tisSimulated: true\n\t\t\t}\n\t\t);\n\n\t\tjQuery.event.trigger( e, null, elem );\n\t}\n\n} );\n\njQuery.fn.extend( {\n\n\ttrigger: function( type, data ) {\n\t\treturn this.each( function() {\n\t\t\tjQuery.event.trigger( type, data, this );\n\t\t} );\n\t},\n\ttriggerHandler: function( type, data ) {\n\t\tvar elem = this[ 0 ];\n\t\tif ( elem ) {\n\t\t\treturn jQuery.event.trigger( type, data, elem, true );\n\t\t}\n\t}\n} );\n\n\n// Support: Firefox <=44\n// Firefox doesn't have focus(in | out) events\n// Related ticket - https://bugzilla.mozilla.org/show_bug.cgi?id=687787\n//\n// Support: Chrome <=48 - 49, Safari <=9.0 - 9.1\n// focus(in | out) events fire after focus & blur events,\n// which is spec violation - http://www.w3.org/TR/DOM-Level-3-Events/#events-focusevent-event-order\n// Related ticket - https://bugs.chromium.org/p/chromium/issues/detail?id=449857\nif ( !support.focusin ) {\n\tjQuery.each( { focus: \"focusin\", blur: \"focusout\" }, function( orig, fix ) {\n\n\t\t// Attach a single capturing handler on the document while someone wants focusin/focusout\n\t\tvar handler = function( event ) {\n\t\t\tjQuery.event.simulate( fix, event.target, jQuery.event.fix( event ) );\n\t\t};\n\n\t\tjQuery.event.special[ fix ] = {\n\t\t\tsetup: function() {\n\n\t\t\t\t// Handle: regular nodes (via `this.ownerDocument`), window\n\t\t\t\t// (via `this.document`) & document (via `this`).\n\t\t\t\tvar doc = this.ownerDocument || this.document || this,\n\t\t\t\t\tattaches = dataPriv.access( doc, fix );\n\n\t\t\t\tif ( !attaches ) {\n\t\t\t\t\tdoc.addEventListener( orig, handler, true );\n\t\t\t\t}\n\t\t\t\tdataPriv.access( doc, fix, ( attaches || 0 ) + 1 );\n\t\t\t},\n\t\t\tteardown: function() {\n\t\t\t\tvar doc = this.ownerDocument || this.document || this,\n\t\t\t\t\tattaches = dataPriv.access( doc, fix ) - 1;\n\n\t\t\t\tif ( !attaches ) {\n\t\t\t\t\tdoc.removeEventListener( orig, handler, true );\n\t\t\t\t\tdataPriv.remove( doc, fix );\n\n\t\t\t\t} else {\n\t\t\t\t\tdataPriv.access( doc, fix, attaches );\n\t\t\t\t}\n\t\t\t}\n\t\t};\n\t} );\n}\nvar location = window.location;\n\nvar nonce = { guid: Date.now() };\n\nvar rquery = ( /\\?/ );\n\n\n\n// Cross-browser xml parsing\njQuery.parseXML = function( data ) {\n\tvar xml;\n\tif ( !data || typeof data !== \"string\" ) {\n\t\treturn null;\n\t}\n\n\t// Support: IE 9 - 11 only\n\t// IE throws on parseFromString with invalid input.\n\ttry {\n\t\txml = ( new window.DOMParser() ).parseFromString( data, \"text/xml\" );\n\t} catch ( e ) {\n\t\txml = undefined;\n\t}\n\n\tif ( !xml || xml.getElementsByTagName( \"parsererror\" ).length ) {\n\t\tjQuery.error( \"Invalid XML: \" + data );\n\t}\n\treturn xml;\n};\n\n\nvar\n\trbracket = /\\[\\]$/,\n\trCRLF = /\\r?\\n/g,\n\trsubmitterTypes = /^(?:submit|button|image|reset|file)$/i,\n\trsubmittable = /^(?:input|select|textarea|keygen)/i;\n\nfunction buildParams( prefix, obj, traditional, add ) {\n\tvar name;\n\n\tif ( Array.isArray( obj ) ) {\n\n\t\t// Serialize array item.\n\t\tjQuery.each( obj, function( i, v ) {\n\t\t\tif ( traditional || rbracket.test( prefix ) ) {\n\n\t\t\t\t// Treat each array item as a scalar.\n\t\t\t\tadd( prefix, v );\n\n\t\t\t} else {\n\n\t\t\t\t// Item is non-scalar (array or object), encode its numeric index.\n\t\t\t\tbuildParams(\n\t\t\t\t\tprefix + \"[\" + ( typeof v === \"object\" && v != null ? i : \"\" ) + \"]\",\n\t\t\t\t\tv,\n\t\t\t\t\ttraditional,\n\t\t\t\t\tadd\n\t\t\t\t);\n\t\t\t}\n\t\t} );\n\n\t} else if ( !traditional && toType( obj ) === \"object\" ) {\n\n\t\t// Serialize object item.\n\t\tfor ( name in obj ) {\n\t\t\tbuildParams( prefix + \"[\" + name + \"]\", obj[ name ], traditional, add );\n\t\t}\n\n\t} else {\n\n\t\t// Serialize scalar item.\n\t\tadd( prefix, obj );\n\t}\n}\n\n// Serialize an array of form elements or a set of\n// key/values into a query string\njQuery.param = function( a, traditional ) {\n\tvar prefix,\n\t\ts = [],\n\t\tadd = function( key, valueOrFunction ) {\n\n\t\t\t// If value is a function, invoke it and use its return value\n\t\t\tvar value = isFunction( valueOrFunction ) ?\n\t\t\t\tvalueOrFunction() :\n\t\t\t\tvalueOrFunction;\n\n\t\t\ts[ s.length ] = encodeURIComponent( key ) + \"=\" +\n\t\t\t\tencodeURIComponent( value == null ? \"\" : value );\n\t\t};\n\n\tif ( a == null ) {\n\t\treturn \"\";\n\t}\n\n\t// If an array was passed in, assume that it is an array of form elements.\n\tif ( Array.isArray( a ) || ( a.jquery && !jQuery.isPlainObject( a ) ) ) {\n\n\t\t// Serialize the form elements\n\t\tjQuery.each( a, function() {\n\t\t\tadd( this.name, this.value );\n\t\t} );\n\n\t} else {\n\n\t\t// If traditional, encode the \"old\" way (the way 1.3.2 or older\n\t\t// did it), otherwise encode params recursively.\n\t\tfor ( prefix in a ) {\n\t\t\tbuildParams( prefix, a[ prefix ], traditional, add );\n\t\t}\n\t}\n\n\t// Return the resulting serialization\n\treturn s.join( \"&\" );\n};\n\njQuery.fn.extend( {\n\tserialize: function() {\n\t\treturn jQuery.param( this.serializeArray() );\n\t},\n\tserializeArray: function() {\n\t\treturn this.map( function() {\n\n\t\t\t// Can add propHook for \"elements\" to filter or add form elements\n\t\t\tvar elements = jQuery.prop( this, \"elements\" );\n\t\t\treturn elements ? jQuery.makeArray( elements ) : this;\n\t\t} )\n\t\t.filter( function() {\n\t\t\tvar type = this.type;\n\n\t\t\t// Use .is( \":disabled\" ) so that fieldset[disabled] works\n\t\t\treturn this.name && !jQuery( this ).is( \":disabled\" ) &&\n\t\t\t\trsubmittable.test( this.nodeName ) && !rsubmitterTypes.test( type ) &&\n\t\t\t\t( this.checked || !rcheckableType.test( type ) );\n\t\t} )\n\t\t.map( function( _i, elem ) {\n\t\t\tvar val = jQuery( this ).val();\n\n\t\t\tif ( val == null ) {\n\t\t\t\treturn null;\n\t\t\t}\n\n\t\t\tif ( Array.isArray( val ) ) {\n\t\t\t\treturn jQuery.map( val, function( val ) {\n\t\t\t\t\treturn { name: elem.name, value: val.replace( rCRLF, \"\\r\\n\" ) };\n\t\t\t\t} );\n\t\t\t}\n\n\t\t\treturn { name: elem.name, value: val.replace( rCRLF, \"\\r\\n\" ) };\n\t\t} ).get();\n\t}\n} );\n\n\nvar\n\tr20 = /%20/g,\n\trhash = /#.*$/,\n\trantiCache = /([?&])_=[^&]*/,\n\trheaders = /^(.*?):[ \\t]*([^\\r\\n]*)$/mg,\n\n\t// #7653, #8125, #8152: local protocol detection\n\trlocalProtocol = /^(?:about|app|app-storage|.+-extension|file|res|widget):$/,\n\trnoContent = /^(?:GET|HEAD)$/,\n\trprotocol = /^\\/\\//,\n\n\t/* Prefilters\n\t * 1) They are useful to introduce custom dataTypes (see ajax/jsonp.js for an example)\n\t * 2) These are called:\n\t *    - BEFORE asking for a transport\n\t *    - AFTER param serialization (s.data is a string if s.processData is true)\n\t * 3) key is the dataType\n\t * 4) the catchall symbol \"*\" can be used\n\t * 5) execution will start with transport dataType and THEN continue down to \"*\" if needed\n\t */\n\tprefilters = {},\n\n\t/* Transports bindings\n\t * 1) key is the dataType\n\t * 2) the catchall symbol \"*\" can be used\n\t * 3) selection will start with transport dataType and THEN go to \"*\" if needed\n\t */\n\ttransports = {},\n\n\t// Avoid comment-prolog char sequence (#10098); must appease lint and evade compression\n\tallTypes = \"*/\".concat( \"*\" ),\n\n\t// Anchor tag for parsing the document origin\n\toriginAnchor = document.createElement( \"a\" );\n\toriginAnchor.href = location.href;\n\n// Base \"constructor\" for jQuery.ajaxPrefilter and jQuery.ajaxTransport\nfunction addToPrefiltersOrTransports( structure ) {\n\n\t// dataTypeExpression is optional and defaults to \"*\"\n\treturn function( dataTypeExpression, func ) {\n\n\t\tif ( typeof dataTypeExpression !== \"string\" ) {\n\t\t\tfunc = dataTypeExpression;\n\t\t\tdataTypeExpression = \"*\";\n\t\t}\n\n\t\tvar dataType,\n\t\t\ti = 0,\n\t\t\tdataTypes = dataTypeExpression.toLowerCase().match( rnothtmlwhite ) || [];\n\n\t\tif ( isFunction( func ) ) {\n\n\t\t\t// For each dataType in the dataTypeExpression\n\t\t\twhile ( ( dataType = dataTypes[ i++ ] ) ) {\n\n\t\t\t\t// Prepend if requested\n\t\t\t\tif ( dataType[ 0 ] === \"+\" ) {\n\t\t\t\t\tdataType = dataType.slice( 1 ) || \"*\";\n\t\t\t\t\t( structure[ dataType ] = structure[ dataType ] || [] ).unshift( func );\n\n\t\t\t\t// Otherwise append\n\t\t\t\t} else {\n\t\t\t\t\t( structure[ dataType ] = structure[ dataType ] || [] ).push( func );\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t};\n}\n\n// Base inspection function for prefilters and transports\nfunction inspectPrefiltersOrTransports( structure, options, originalOptions, jqXHR ) {\n\n\tvar inspected = {},\n\t\tseekingTransport = ( structure === transports );\n\n\tfunction inspect( dataType ) {\n\t\tvar selected;\n\t\tinspected[ dataType ] = true;\n\t\tjQuery.each( structure[ dataType ] || [], function( _, prefilterOrFactory ) {\n\t\t\tvar dataTypeOrTransport = prefilterOrFactory( options, originalOptions, jqXHR );\n\t\t\tif ( typeof dataTypeOrTransport === \"string\" &&\n\t\t\t\t!seekingTransport && !inspected[ dataTypeOrTransport ] ) {\n\n\t\t\t\toptions.dataTypes.unshift( dataTypeOrTransport );\n\t\t\t\tinspect( dataTypeOrTransport );\n\t\t\t\treturn false;\n\t\t\t} else if ( seekingTransport ) {\n\t\t\t\treturn !( selected = dataTypeOrTransport );\n\t\t\t}\n\t\t} );\n\t\treturn selected;\n\t}\n\n\treturn inspect( options.dataTypes[ 0 ] ) || !inspected[ \"*\" ] && inspect( \"*\" );\n}\n\n// A special extend for ajax options\n// that takes \"flat\" options (not to be deep extended)\n// Fixes #9887\nfunction ajaxExtend( target, src ) {\n\tvar key, deep,\n\t\tflatOptions = jQuery.ajaxSettings.flatOptions || {};\n\n\tfor ( key in src ) {\n\t\tif ( src[ key ] !== undefined ) {\n\t\t\t( flatOptions[ key ] ? target : ( deep || ( deep = {} ) ) )[ key ] = src[ key ];\n\t\t}\n\t}\n\tif ( deep ) {\n\t\tjQuery.extend( true, target, deep );\n\t}\n\n\treturn target;\n}\n\n/* Handles responses to an ajax request:\n * - finds the right dataType (mediates between content-type and expected dataType)\n * - returns the corresponding response\n */\nfunction ajaxHandleResponses( s, jqXHR, responses ) {\n\n\tvar ct, type, finalDataType, firstDataType,\n\t\tcontents = s.contents,\n\t\tdataTypes = s.dataTypes;\n\n\t// Remove auto dataType and get content-type in the process\n\twhile ( dataTypes[ 0 ] === \"*\" ) {\n\t\tdataTypes.shift();\n\t\tif ( ct === undefined ) {\n\t\t\tct = s.mimeType || jqXHR.getResponseHeader( \"Content-Type\" );\n\t\t}\n\t}\n\n\t// Check if we're dealing with a known content-type\n\tif ( ct ) {\n\t\tfor ( type in contents ) {\n\t\t\tif ( contents[ type ] && contents[ type ].test( ct ) ) {\n\t\t\t\tdataTypes.unshift( type );\n\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\t}\n\n\t// Check to see if we have a response for the expected dataType\n\tif ( dataTypes[ 0 ] in responses ) {\n\t\tfinalDataType = dataTypes[ 0 ];\n\t} else {\n\n\t\t// Try convertible dataTypes\n\t\tfor ( type in responses ) {\n\t\t\tif ( !dataTypes[ 0 ] || s.converters[ type + \" \" + dataTypes[ 0 ] ] ) {\n\t\t\t\tfinalDataType = type;\n\t\t\t\tbreak;\n\t\t\t}\n\t\t\tif ( !firstDataType ) {\n\t\t\t\tfirstDataType = type;\n\t\t\t}\n\t\t}\n\n\t\t// Or just use first one\n\t\tfinalDataType = finalDataType || firstDataType;\n\t}\n\n\t// If we found a dataType\n\t// We add the dataType to the list if needed\n\t// and return the corresponding response\n\tif ( finalDataType ) {\n\t\tif ( finalDataType !== dataTypes[ 0 ] ) {\n\t\t\tdataTypes.unshift( finalDataType );\n\t\t}\n\t\treturn responses[ finalDataType ];\n\t}\n}\n\n/* Chain conversions given the request and the original response\n * Also sets the responseXXX fields on the jqXHR instance\n */\nfunction ajaxConvert( s, response, jqXHR, isSuccess ) {\n\tvar conv2, current, conv, tmp, prev,\n\t\tconverters = {},\n\n\t\t// Work with a copy of dataTypes in case we need to modify it for conversion\n\t\tdataTypes = s.dataTypes.slice();\n\n\t// Create converters map with lowercased keys\n\tif ( dataTypes[ 1 ] ) {\n\t\tfor ( conv in s.converters ) {\n\t\t\tconverters[ conv.toLowerCase() ] = s.converters[ conv ];\n\t\t}\n\t}\n\n\tcurrent = dataTypes.shift();\n\n\t// Convert to each sequential dataType\n\twhile ( current ) {\n\n\t\tif ( s.responseFields[ current ] ) {\n\t\t\tjqXHR[ s.responseFields[ current ] ] = response;\n\t\t}\n\n\t\t// Apply the dataFilter if provided\n\t\tif ( !prev && isSuccess && s.dataFilter ) {\n\t\t\tresponse = s.dataFilter( response, s.dataType );\n\t\t}\n\n\t\tprev = current;\n\t\tcurrent = dataTypes.shift();\n\n\t\tif ( current ) {\n\n\t\t\t// There's only work to do if current dataType is non-auto\n\t\t\tif ( current === \"*\" ) {\n\n\t\t\t\tcurrent = prev;\n\n\t\t\t// Convert response if prev dataType is non-auto and differs from current\n\t\t\t} else if ( prev !== \"*\" && prev !== current ) {\n\n\t\t\t\t// Seek a direct converter\n\t\t\t\tconv = converters[ prev + \" \" + current ] || converters[ \"* \" + current ];\n\n\t\t\t\t// If none found, seek a pair\n\t\t\t\tif ( !conv ) {\n\t\t\t\t\tfor ( conv2 in converters ) {\n\n\t\t\t\t\t\t// If conv2 outputs current\n\t\t\t\t\t\ttmp = conv2.split( \" \" );\n\t\t\t\t\t\tif ( tmp[ 1 ] === current ) {\n\n\t\t\t\t\t\t\t// If prev can be converted to accepted input\n\t\t\t\t\t\t\tconv = converters[ prev + \" \" + tmp[ 0 ] ] ||\n\t\t\t\t\t\t\t\tconverters[ \"* \" + tmp[ 0 ] ];\n\t\t\t\t\t\t\tif ( conv ) {\n\n\t\t\t\t\t\t\t\t// Condense equivalence converters\n\t\t\t\t\t\t\t\tif ( conv === true ) {\n\t\t\t\t\t\t\t\t\tconv = converters[ conv2 ];\n\n\t\t\t\t\t\t\t\t// Otherwise, insert the intermediate dataType\n\t\t\t\t\t\t\t\t} else if ( converters[ conv2 ] !== true ) {\n\t\t\t\t\t\t\t\t\tcurrent = tmp[ 0 ];\n\t\t\t\t\t\t\t\t\tdataTypes.unshift( tmp[ 1 ] );\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\t// Apply converter (if not an equivalence)\n\t\t\t\tif ( conv !== true ) {\n\n\t\t\t\t\t// Unless errors are allowed to bubble, catch and return them\n\t\t\t\t\tif ( conv && s.throws ) {\n\t\t\t\t\t\tresponse = conv( response );\n\t\t\t\t\t} else {\n\t\t\t\t\t\ttry {\n\t\t\t\t\t\t\tresponse = conv( response );\n\t\t\t\t\t\t} catch ( e ) {\n\t\t\t\t\t\t\treturn {\n\t\t\t\t\t\t\t\tstate: \"parsererror\",\n\t\t\t\t\t\t\t\terror: conv ? e : \"No conversion from \" + prev + \" to \" + current\n\t\t\t\t\t\t\t};\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\n\treturn { state: \"success\", data: response };\n}\n\njQuery.extend( {\n\n\t// Counter for holding the number of active queries\n\tactive: 0,\n\n\t// Last-Modified header cache for next request\n\tlastModified: {},\n\tetag: {},\n\n\tajaxSettings: {\n\t\turl: location.href,\n\t\ttype: \"GET\",\n\t\tisLocal: rlocalProtocol.test( location.protocol ),\n\t\tglobal: true,\n\t\tprocessData: true,\n\t\tasync: true,\n\t\tcontentType: \"application/x-www-form-urlencoded; charset=UTF-8\",\n\n\t\t/*\n\t\ttimeout: 0,\n\t\tdata: null,\n\t\tdataType: null,\n\t\tusername: null,\n\t\tpassword: null,\n\t\tcache: null,\n\t\tthrows: false,\n\t\ttraditional: false,\n\t\theaders: {},\n\t\t*/\n\n\t\taccepts: {\n\t\t\t\"*\": allTypes,\n\t\t\ttext: \"text/plain\",\n\t\t\thtml: \"text/html\",\n\t\t\txml: \"application/xml, text/xml\",\n\t\t\tjson: \"application/json, text/javascript\"\n\t\t},\n\n\t\tcontents: {\n\t\t\txml: /\\bxml\\b/,\n\t\t\thtml: /\\bhtml/,\n\t\t\tjson: /\\bjson\\b/\n\t\t},\n\n\t\tresponseFields: {\n\t\t\txml: \"responseXML\",\n\t\t\ttext: \"responseText\",\n\t\t\tjson: \"responseJSON\"\n\t\t},\n\n\t\t// Data converters\n\t\t// Keys separate source (or catchall \"*\") and destination types with a single space\n\t\tconverters: {\n\n\t\t\t// Convert anything to text\n\t\t\t\"* text\": String,\n\n\t\t\t// Text to html (true = no transformation)\n\t\t\t\"text html\": true,\n\n\t\t\t// Evaluate text as a json expression\n\t\t\t\"text json\": JSON.parse,\n\n\t\t\t// Parse text as xml\n\t\t\t\"text xml\": jQuery.parseXML\n\t\t},\n\n\t\t// For options that shouldn't be deep extended:\n\t\t// you can add your own custom options here if\n\t\t// and when you create one that shouldn't be\n\t\t// deep extended (see ajaxExtend)\n\t\tflatOptions: {\n\t\t\turl: true,\n\t\t\tcontext: true\n\t\t}\n\t},\n\n\t// Creates a full fledged settings object into target\n\t// with both ajaxSettings and settings fields.\n\t// If target is omitted, writes into ajaxSettings.\n\tajaxSetup: function( target, settings ) {\n\t\treturn settings ?\n\n\t\t\t// Building a settings object\n\t\t\tajaxExtend( ajaxExtend( target, jQuery.ajaxSettings ), settings ) :\n\n\t\t\t// Extending ajaxSettings\n\t\t\tajaxExtend( jQuery.ajaxSettings, target );\n\t},\n\n\tajaxPrefilter: addToPrefiltersOrTransports( prefilters ),\n\tajaxTransport: addToPrefiltersOrTransports( transports ),\n\n\t// Main method\n\tajax: function( url, options ) {\n\n\t\t// If url is an object, simulate pre-1.5 signature\n\t\tif ( typeof url === \"object\" ) {\n\t\t\toptions = url;\n\t\t\turl = undefined;\n\t\t}\n\n\t\t// Force options to be an object\n\t\toptions = options || {};\n\n\t\tvar transport,\n\n\t\t\t// URL without anti-cache param\n\t\t\tcacheURL,\n\n\t\t\t// Response headers\n\t\t\tresponseHeadersString,\n\t\t\tresponseHeaders,\n\n\t\t\t// timeout handle\n\t\t\ttimeoutTimer,\n\n\t\t\t// Url cleanup var\n\t\t\turlAnchor,\n\n\t\t\t// Request state (becomes false upon send and true upon completion)\n\t\t\tcompleted,\n\n\t\t\t// To know if global events are to be dispatched\n\t\t\tfireGlobals,\n\n\t\t\t// Loop variable\n\t\t\ti,\n\n\t\t\t// uncached part of the url\n\t\t\tuncached,\n\n\t\t\t// Create the final options object\n\t\t\ts = jQuery.ajaxSetup( {}, options ),\n\n\t\t\t// Callbacks context\n\t\t\tcallbackContext = s.context || s,\n\n\t\t\t// Context for global events is callbackContext if it is a DOM node or jQuery collection\n\t\t\tglobalEventContext = s.context &&\n\t\t\t\t( callbackContext.nodeType || callbackContext.jquery ) ?\n\t\t\t\t\tjQuery( callbackContext ) :\n\t\t\t\t\tjQuery.event,\n\n\t\t\t// Deferreds\n\t\t\tdeferred = jQuery.Deferred(),\n\t\t\tcompleteDeferred = jQuery.Callbacks( \"once memory\" ),\n\n\t\t\t// Status-dependent callbacks\n\t\t\tstatusCode = s.statusCode || {},\n\n\t\t\t// Headers (they are sent all at once)\n\t\t\trequestHeaders = {},\n\t\t\trequestHeadersNames = {},\n\n\t\t\t// Default abort message\n\t\t\tstrAbort = \"canceled\",\n\n\t\t\t// Fake xhr\n\t\t\tjqXHR = {\n\t\t\t\treadyState: 0,\n\n\t\t\t\t// Builds headers hashtable if needed\n\t\t\t\tgetResponseHeader: function( key ) {\n\t\t\t\t\tvar match;\n\t\t\t\t\tif ( completed ) {\n\t\t\t\t\t\tif ( !responseHeaders ) {\n\t\t\t\t\t\t\tresponseHeaders = {};\n\t\t\t\t\t\t\twhile ( ( match = rheaders.exec( responseHeadersString ) ) ) {\n\t\t\t\t\t\t\t\tresponseHeaders[ match[ 1 ].toLowerCase() + \" \" ] =\n\t\t\t\t\t\t\t\t\t( responseHeaders[ match[ 1 ].toLowerCase() + \" \" ] || [] )\n\t\t\t\t\t\t\t\t\t\t.concat( match[ 2 ] );\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t\tmatch = responseHeaders[ key.toLowerCase() + \" \" ];\n\t\t\t\t\t}\n\t\t\t\t\treturn match == null ? null : match.join( \", \" );\n\t\t\t\t},\n\n\t\t\t\t// Raw string\n\t\t\t\tgetAllResponseHeaders: function() {\n\t\t\t\t\treturn completed ? responseHeadersString : null;\n\t\t\t\t},\n\n\t\t\t\t// Caches the header\n\t\t\t\tsetRequestHeader: function( name, value ) {\n\t\t\t\t\tif ( completed == null ) {\n\t\t\t\t\t\tname = requestHeadersNames[ name.toLowerCase() ] =\n\t\t\t\t\t\t\trequestHeadersNames[ name.toLowerCase() ] || name;\n\t\t\t\t\t\trequestHeaders[ name ] = value;\n\t\t\t\t\t}\n\t\t\t\t\treturn this;\n\t\t\t\t},\n\n\t\t\t\t// Overrides response content-type header\n\t\t\t\toverrideMimeType: function( type ) {\n\t\t\t\t\tif ( completed == null ) {\n\t\t\t\t\t\ts.mimeType = type;\n\t\t\t\t\t}\n\t\t\t\t\treturn this;\n\t\t\t\t},\n\n\t\t\t\t// Status-dependent callbacks\n\t\t\t\tstatusCode: function( map ) {\n\t\t\t\t\tvar code;\n\t\t\t\t\tif ( map ) {\n\t\t\t\t\t\tif ( completed ) {\n\n\t\t\t\t\t\t\t// Execute the appropriate callbacks\n\t\t\t\t\t\t\tjqXHR.always( map[ jqXHR.status ] );\n\t\t\t\t\t\t} else {\n\n\t\t\t\t\t\t\t// Lazy-add the new callbacks in a way that preserves old ones\n\t\t\t\t\t\t\tfor ( code in map ) {\n\t\t\t\t\t\t\t\tstatusCode[ code ] = [ statusCode[ code ], map[ code ] ];\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\treturn this;\n\t\t\t\t},\n\n\t\t\t\t// Cancel the request\n\t\t\t\tabort: function( statusText ) {\n\t\t\t\t\tvar finalText = statusText || strAbort;\n\t\t\t\t\tif ( transport ) {\n\t\t\t\t\t\ttransport.abort( finalText );\n\t\t\t\t\t}\n\t\t\t\t\tdone( 0, finalText );\n\t\t\t\t\treturn this;\n\t\t\t\t}\n\t\t\t};\n\n\t\t// Attach deferreds\n\t\tdeferred.promise( jqXHR );\n\n\t\t// Add protocol if not provided (prefilters might expect it)\n\t\t// Handle falsy url in the settings object (#10093: consistency with old signature)\n\t\t// We also use the url parameter if available\n\t\ts.url = ( ( url || s.url || location.href ) + \"\" )\n\t\t\t.replace( rprotocol, location.protocol + \"//\" );\n\n\t\t// Alias method option to type as per ticket #12004\n\t\ts.type = options.method || options.type || s.method || s.type;\n\n\t\t// Extract dataTypes list\n\t\ts.dataTypes = ( s.dataType || \"*\" ).toLowerCase().match( rnothtmlwhite ) || [ \"\" ];\n\n\t\t// A cross-domain request is in order when the origin doesn't match the current origin.\n\t\tif ( s.crossDomain == null ) {\n\t\t\turlAnchor = document.createElement( \"a\" );\n\n\t\t\t// Support: IE <=8 - 11, Edge 12 - 15\n\t\t\t// IE throws exception on accessing the href property if url is malformed,\n\t\t\t// e.g. http://example.com:80x/\n\t\t\ttry {\n\t\t\t\turlAnchor.href = s.url;\n\n\t\t\t\t// Support: IE <=8 - 11 only\n\t\t\t\t// Anchor's host property isn't correctly set when s.url is relative\n\t\t\t\turlAnchor.href = urlAnchor.href;\n\t\t\t\ts.crossDomain = originAnchor.protocol + \"//\" + originAnchor.host !==\n\t\t\t\t\turlAnchor.protocol + \"//\" + urlAnchor.host;\n\t\t\t} catch ( e ) {\n\n\t\t\t\t// If there is an error parsing the URL, assume it is crossDomain,\n\t\t\t\t// it can be rejected by the transport if it is invalid\n\t\t\t\ts.crossDomain = true;\n\t\t\t}\n\t\t}\n\n\t\t// Convert data if not already a string\n\t\tif ( s.data && s.processData && typeof s.data !== \"string\" ) {\n\t\t\ts.data = jQuery.param( s.data, s.traditional );\n\t\t}\n\n\t\t// Apply prefilters\n\t\tinspectPrefiltersOrTransports( prefilters, s, options, jqXHR );\n\n\t\t// If request was aborted inside a prefilter, stop there\n\t\tif ( completed ) {\n\t\t\treturn jqXHR;\n\t\t}\n\n\t\t// We can fire global events as of now if asked to\n\t\t// Don't fire events if jQuery.event is undefined in an AMD-usage scenario (#15118)\n\t\tfireGlobals = jQuery.event && s.global;\n\n\t\t// Watch for a new set of requests\n\t\tif ( fireGlobals && jQuery.active++ === 0 ) {\n\t\t\tjQuery.event.trigger( \"ajaxStart\" );\n\t\t}\n\n\t\t// Uppercase the type\n\t\ts.type = s.type.toUpperCase();\n\n\t\t// Determine if request has content\n\t\ts.hasContent = !rnoContent.test( s.type );\n\n\t\t// Save the URL in case we're toying with the If-Modified-Since\n\t\t// and/or If-None-Match header later on\n\t\t// Remove hash to simplify url manipulation\n\t\tcacheURL = s.url.replace( rhash, \"\" );\n\n\t\t// More options handling for requests with no content\n\t\tif ( !s.hasContent ) {\n\n\t\t\t// Remember the hash so we can put it back\n\t\t\tuncached = s.url.slice( cacheURL.length );\n\n\t\t\t// If data is available and should be processed, append data to url\n\t\t\tif ( s.data && ( s.processData || typeof s.data === \"string\" ) ) {\n\t\t\t\tcacheURL += ( rquery.test( cacheURL ) ? \"&\" : \"?\" ) + s.data;\n\n\t\t\t\t// #9682: remove data so that it's not used in an eventual retry\n\t\t\t\tdelete s.data;\n\t\t\t}\n\n\t\t\t// Add or update anti-cache param if needed\n\t\t\tif ( s.cache === false ) {\n\t\t\t\tcacheURL = cacheURL.replace( rantiCache, \"$1\" );\n\t\t\t\tuncached = ( rquery.test( cacheURL ) ? \"&\" : \"?\" ) + \"_=\" + ( nonce.guid++ ) +\n\t\t\t\t\tuncached;\n\t\t\t}\n\n\t\t\t// Put hash and anti-cache on the URL that will be requested (gh-1732)\n\t\t\ts.url = cacheURL + uncached;\n\n\t\t// Change '%20' to '+' if this is encoded form body content (gh-2658)\n\t\t} else if ( s.data && s.processData &&\n\t\t\t( s.contentType || \"\" ).indexOf( \"application/x-www-form-urlencoded\" ) === 0 ) {\n\t\t\ts.data = s.data.replace( r20, \"+\" );\n\t\t}\n\n\t\t// Set the If-Modified-Since and/or If-None-Match header, if in ifModified mode.\n\t\tif ( s.ifModified ) {\n\t\t\tif ( jQuery.lastModified[ cacheURL ] ) {\n\t\t\t\tjqXHR.setRequestHeader( \"If-Modified-Since\", jQuery.lastModified[ cacheURL ] );\n\t\t\t}\n\t\t\tif ( jQuery.etag[ cacheURL ] ) {\n\t\t\t\tjqXHR.setRequestHeader( \"If-None-Match\", jQuery.etag[ cacheURL ] );\n\t\t\t}\n\t\t}\n\n\t\t// Set the correct header, if data is being sent\n\t\tif ( s.data && s.hasContent && s.contentType !== false || options.contentType ) {\n\t\t\tjqXHR.setRequestHeader( \"Content-Type\", s.contentType );\n\t\t}\n\n\t\t// Set the Accepts header for the server, depending on the dataType\n\t\tjqXHR.setRequestHeader(\n\t\t\t\"Accept\",\n\t\t\ts.dataTypes[ 0 ] && s.accepts[ s.dataTypes[ 0 ] ] ?\n\t\t\t\ts.accepts[ s.dataTypes[ 0 ] ] +\n\t\t\t\t\t( s.dataTypes[ 0 ] !== \"*\" ? \", \" + allTypes + \"; q=0.01\" : \"\" ) :\n\t\t\t\ts.accepts[ \"*\" ]\n\t\t);\n\n\t\t// Check for headers option\n\t\tfor ( i in s.headers ) {\n\t\t\tjqXHR.setRequestHeader( i, s.headers[ i ] );\n\t\t}\n\n\t\t// Allow custom headers/mimetypes and early abort\n\t\tif ( s.beforeSend &&\n\t\t\t( s.beforeSend.call( callbackContext, jqXHR, s ) === false || completed ) ) {\n\n\t\t\t// Abort if not done already and return\n\t\t\treturn jqXHR.abort();\n\t\t}\n\n\t\t// Aborting is no longer a cancellation\n\t\tstrAbort = \"abort\";\n\n\t\t// Install callbacks on deferreds\n\t\tcompleteDeferred.add( s.complete );\n\t\tjqXHR.done( s.success );\n\t\tjqXHR.fail( s.error );\n\n\t\t// Get transport\n\t\ttransport = inspectPrefiltersOrTransports( transports, s, options, jqXHR );\n\n\t\t// If no transport, we auto-abort\n\t\tif ( !transport ) {\n\t\t\tdone( -1, \"No Transport\" );\n\t\t} else {\n\t\t\tjqXHR.readyState = 1;\n\n\t\t\t// Send global event\n\t\t\tif ( fireGlobals ) {\n\t\t\t\tglobalEventContext.trigger( \"ajaxSend\", [ jqXHR, s ] );\n\t\t\t}\n\n\t\t\t// If request was aborted inside ajaxSend, stop there\n\t\t\tif ( completed ) {\n\t\t\t\treturn jqXHR;\n\t\t\t}\n\n\t\t\t// Timeout\n\t\t\tif ( s.async && s.timeout > 0 ) {\n\t\t\t\ttimeoutTimer = window.setTimeout( function() {\n\t\t\t\t\tjqXHR.abort( \"timeout\" );\n\t\t\t\t}, s.timeout );\n\t\t\t}\n\n\t\t\ttry {\n\t\t\t\tcompleted = false;\n\t\t\t\ttransport.send( requestHeaders, done );\n\t\t\t} catch ( e ) {\n\n\t\t\t\t// Rethrow post-completion exceptions\n\t\t\t\tif ( completed ) {\n\t\t\t\t\tthrow e;\n\t\t\t\t}\n\n\t\t\t\t// Propagate others as results\n\t\t\t\tdone( -1, e );\n\t\t\t}\n\t\t}\n\n\t\t// Callback for when everything is done\n\t\tfunction done( status, nativeStatusText, responses, headers ) {\n\t\t\tvar isSuccess, success, error, response, modified,\n\t\t\t\tstatusText = nativeStatusText;\n\n\t\t\t// Ignore repeat invocations\n\t\t\tif ( completed ) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tcompleted = true;\n\n\t\t\t// Clear timeout if it exists\n\t\t\tif ( timeoutTimer ) {\n\t\t\t\twindow.clearTimeout( timeoutTimer );\n\t\t\t}\n\n\t\t\t// Dereference transport for early garbage collection\n\t\t\t// (no matter how long the jqXHR object will be used)\n\t\t\ttransport = undefined;\n\n\t\t\t// Cache response headers\n\t\t\tresponseHeadersString = headers || \"\";\n\n\t\t\t// Set readyState\n\t\t\tjqXHR.readyState = status > 0 ? 4 : 0;\n\n\t\t\t// Determine if successful\n\t\t\tisSuccess = status >= 200 && status < 300 || status === 304;\n\n\t\t\t// Get response data\n\t\t\tif ( responses ) {\n\t\t\t\tresponse = ajaxHandleResponses( s, jqXHR, responses );\n\t\t\t}\n\n\t\t\t// Use a noop converter for missing script\n\t\t\tif ( !isSuccess && jQuery.inArray( \"script\", s.dataTypes ) > -1 ) {\n\t\t\t\ts.converters[ \"text script\" ] = function() {};\n\t\t\t}\n\n\t\t\t// Convert no matter what (that way responseXXX fields are always set)\n\t\t\tresponse = ajaxConvert( s, response, jqXHR, isSuccess );\n\n\t\t\t// If successful, handle type chaining\n\t\t\tif ( isSuccess ) {\n\n\t\t\t\t// Set the If-Modified-Since and/or If-None-Match header, if in ifModified mode.\n\t\t\t\tif ( s.ifModified ) {\n\t\t\t\t\tmodified = jqXHR.getResponseHeader( \"Last-Modified\" );\n\t\t\t\t\tif ( modified ) {\n\t\t\t\t\t\tjQuery.lastModified[ cacheURL ] = modified;\n\t\t\t\t\t}\n\t\t\t\t\tmodified = jqXHR.getResponseHeader( \"etag\" );\n\t\t\t\t\tif ( modified ) {\n\t\t\t\t\t\tjQuery.etag[ cacheURL ] = modified;\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\t// if no content\n\t\t\t\tif ( status === 204 || s.type === \"HEAD\" ) {\n\t\t\t\t\tstatusText = \"nocontent\";\n\n\t\t\t\t// if not modified\n\t\t\t\t} else if ( status === 304 ) {\n\t\t\t\t\tstatusText = \"notmodified\";\n\n\t\t\t\t// If we have data, let's convert it\n\t\t\t\t} else {\n\t\t\t\t\tstatusText = response.state;\n\t\t\t\t\tsuccess = response.data;\n\t\t\t\t\terror = response.error;\n\t\t\t\t\tisSuccess = !error;\n\t\t\t\t}\n\t\t\t} else {\n\n\t\t\t\t// Extract error from statusText and normalize for non-aborts\n\t\t\t\terror = statusText;\n\t\t\t\tif ( status || !statusText ) {\n\t\t\t\t\tstatusText = \"error\";\n\t\t\t\t\tif ( status < 0 ) {\n\t\t\t\t\t\tstatus = 0;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t// Set data for the fake xhr object\n\t\t\tjqXHR.status = status;\n\t\t\tjqXHR.statusText = ( nativeStatusText || statusText ) + \"\";\n\n\t\t\t// Success/Error\n\t\t\tif ( isSuccess ) {\n\t\t\t\tdeferred.resolveWith( callbackContext, [ success, statusText, jqXHR ] );\n\t\t\t} else {\n\t\t\t\tdeferred.rejectWith( callbackContext, [ jqXHR, statusText, error ] );\n\t\t\t}\n\n\t\t\t// Status-dependent callbacks\n\t\t\tjqXHR.statusCode( statusCode );\n\t\t\tstatusCode = undefined;\n\n\t\t\tif ( fireGlobals ) {\n\t\t\t\tglobalEventContext.trigger( isSuccess ? \"ajaxSuccess\" : \"ajaxError\",\n\t\t\t\t\t[ jqXHR, s, isSuccess ? success : error ] );\n\t\t\t}\n\n\t\t\t// Complete\n\t\t\tcompleteDeferred.fireWith( callbackContext, [ jqXHR, statusText ] );\n\n\t\t\tif ( fireGlobals ) {\n\t\t\t\tglobalEventContext.trigger( \"ajaxComplete\", [ jqXHR, s ] );\n\n\t\t\t\t// Handle the global AJAX counter\n\t\t\t\tif ( !( --jQuery.active ) ) {\n\t\t\t\t\tjQuery.event.trigger( \"ajaxStop\" );\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\treturn jqXHR;\n\t},\n\n\tgetJSON: function( url, data, callback ) {\n\t\treturn jQuery.get( url, data, callback, \"json\" );\n\t},\n\n\tgetScript: function( url, callback ) {\n\t\treturn jQuery.get( url, undefined, callback, \"script\" );\n\t}\n} );\n\njQuery.each( [ \"get\", \"post\" ], function( _i, method ) {\n\tjQuery[ method ] = function( url, data, callback, type ) {\n\n\t\t// Shift arguments if data argument was omitted\n\t\tif ( isFunction( data ) ) {\n\t\t\ttype = type || callback;\n\t\t\tcallback = data;\n\t\t\tdata = undefined;\n\t\t}\n\n\t\t// The url can be an options object (which then must have .url)\n\t\treturn jQuery.ajax( jQuery.extend( {\n\t\t\turl: url,\n\t\t\ttype: method,\n\t\t\tdataType: type,\n\t\t\tdata: data,\n\t\t\tsuccess: callback\n\t\t}, jQuery.isPlainObject( url ) && url ) );\n\t};\n} );\n\njQuery.ajaxPrefilter( function( s ) {\n\tvar i;\n\tfor ( i in s.headers ) {\n\t\tif ( i.toLowerCase() === \"content-type\" ) {\n\t\t\ts.contentType = s.headers[ i ] || \"\";\n\t\t}\n\t}\n} );\n\n\njQuery._evalUrl = function( url, options, doc ) {\n\treturn jQuery.ajax( {\n\t\turl: url,\n\n\t\t// Make this explicit, since user can override this through ajaxSetup (#11264)\n\t\ttype: \"GET\",\n\t\tdataType: \"script\",\n\t\tcache: true,\n\t\tasync: false,\n\t\tglobal: false,\n\n\t\t// Only evaluate the response if it is successful (gh-4126)\n\t\t// dataFilter is not invoked for failure responses, so using it instead\n\t\t// of the default converter is kludgy but it works.\n\t\tconverters: {\n\t\t\t\"text script\": function() {}\n\t\t},\n\t\tdataFilter: function( response ) {\n\t\t\tjQuery.globalEval( response, options, doc );\n\t\t}\n\t} );\n};\n\n\njQuery.fn.extend( {\n\twrapAll: function( html ) {\n\t\tvar wrap;\n\n\t\tif ( this[ 0 ] ) {\n\t\t\tif ( isFunction( html ) ) {\n\t\t\t\thtml = html.call( this[ 0 ] );\n\t\t\t}\n\n\t\t\t// The elements to wrap the target around\n\t\t\twrap = jQuery( html, this[ 0 ].ownerDocument ).eq( 0 ).clone( true );\n\n\t\t\tif ( this[ 0 ].parentNode ) {\n\t\t\t\twrap.insertBefore( this[ 0 ] );\n\t\t\t}\n\n\t\t\twrap.map( function() {\n\t\t\t\tvar elem = this;\n\n\t\t\t\twhile ( elem.firstElementChild ) {\n\t\t\t\t\telem = elem.firstElementChild;\n\t\t\t\t}\n\n\t\t\t\treturn elem;\n\t\t\t} ).append( this );\n\t\t}\n\n\t\treturn this;\n\t},\n\n\twrapInner: function( html ) {\n\t\tif ( isFunction( html ) ) {\n\t\t\treturn this.each( function( i ) {\n\t\t\t\tjQuery( this ).wrapInner( html.call( this, i ) );\n\t\t\t} );\n\t\t}\n\n\t\treturn this.each( function() {\n\t\t\tvar self = jQuery( this ),\n\t\t\t\tcontents = self.contents();\n\n\t\t\tif ( contents.length ) {\n\t\t\t\tcontents.wrapAll( html );\n\n\t\t\t} else {\n\t\t\t\tself.append( html );\n\t\t\t}\n\t\t} );\n\t},\n\n\twrap: function( html ) {\n\t\tvar htmlIsFunction = isFunction( html );\n\n\t\treturn this.each( function( i ) {\n\t\t\tjQuery( this ).wrapAll( htmlIsFunction ? html.call( this, i ) : html );\n\t\t} );\n\t},\n\n\tunwrap: function( selector ) {\n\t\tthis.parent( selector ).not( \"body\" ).each( function() {\n\t\t\tjQuery( this ).replaceWith( this.childNodes );\n\t\t} );\n\t\treturn this;\n\t}\n} );\n\n\njQuery.expr.pseudos.hidden = function( elem ) {\n\treturn !jQuery.expr.pseudos.visible( elem );\n};\njQuery.expr.pseudos.visible = function( elem ) {\n\treturn !!( elem.offsetWidth || elem.offsetHeight || elem.getClientRects().length );\n};\n\n\n\n\njQuery.ajaxSettings.xhr = function() {\n\ttry {\n\t\treturn new window.XMLHttpRequest();\n\t} catch ( e ) {}\n};\n\nvar xhrSuccessStatus = {\n\n\t\t// File protocol always yields status code 0, assume 200\n\t\t0: 200,\n\n\t\t// Support: IE <=9 only\n\t\t// #1450: sometimes IE returns 1223 when it should be 204\n\t\t1223: 204\n\t},\n\txhrSupported = jQuery.ajaxSettings.xhr();\n\nsupport.cors = !!xhrSupported && ( \"withCredentials\" in xhrSupported );\nsupport.ajax = xhrSupported = !!xhrSupported;\n\njQuery.ajaxTransport( function( options ) {\n\tvar callback, errorCallback;\n\n\t// Cross domain only allowed if supported through XMLHttpRequest\n\tif ( support.cors || xhrSupported && !options.crossDomain ) {\n\t\treturn {\n\t\t\tsend: function( headers, complete ) {\n\t\t\t\tvar i,\n\t\t\t\t\txhr = options.xhr();\n\n\t\t\t\txhr.open(\n\t\t\t\t\toptions.type,\n\t\t\t\t\toptions.url,\n\t\t\t\t\toptions.async,\n\t\t\t\t\toptions.username,\n\t\t\t\t\toptions.password\n\t\t\t\t);\n\n\t\t\t\t// Apply custom fields if provided\n\t\t\t\tif ( options.xhrFields ) {\n\t\t\t\t\tfor ( i in options.xhrFields ) {\n\t\t\t\t\t\txhr[ i ] = options.xhrFields[ i ];\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\t// Override mime type if needed\n\t\t\t\tif ( options.mimeType && xhr.overrideMimeType ) {\n\t\t\t\t\txhr.overrideMimeType( options.mimeType );\n\t\t\t\t}\n\n\t\t\t\t// X-Requested-With header\n\t\t\t\t// For cross-domain requests, seeing as conditions for a preflight are\n\t\t\t\t// akin to a jigsaw puzzle, we simply never set it to be sure.\n\t\t\t\t// (it can always be set on a per-request basis or even using ajaxSetup)\n\t\t\t\t// For same-domain requests, won't change header if already provided.\n\t\t\t\tif ( !options.crossDomain && !headers[ \"X-Requested-With\" ] ) {\n\t\t\t\t\theaders[ \"X-Requested-With\" ] = \"XMLHttpRequest\";\n\t\t\t\t}\n\n\t\t\t\t// Set headers\n\t\t\t\tfor ( i in headers ) {\n\t\t\t\t\txhr.setRequestHeader( i, headers[ i ] );\n\t\t\t\t}\n\n\t\t\t\t// Callback\n\t\t\t\tcallback = function( type ) {\n\t\t\t\t\treturn function() {\n\t\t\t\t\t\tif ( callback ) {\n\t\t\t\t\t\t\tcallback = errorCallback = xhr.onload =\n\t\t\t\t\t\t\t\txhr.onerror = xhr.onabort = xhr.ontimeout =\n\t\t\t\t\t\t\t\t\txhr.onreadystatechange = null;\n\n\t\t\t\t\t\t\tif ( type === \"abort\" ) {\n\t\t\t\t\t\t\t\txhr.abort();\n\t\t\t\t\t\t\t} else if ( type === \"error\" ) {\n\n\t\t\t\t\t\t\t\t// Support: IE <=9 only\n\t\t\t\t\t\t\t\t// On a manual native abort, IE9 throws\n\t\t\t\t\t\t\t\t// errors on any property access that is not readyState\n\t\t\t\t\t\t\t\tif ( typeof xhr.status !== \"number\" ) {\n\t\t\t\t\t\t\t\t\tcomplete( 0, \"error\" );\n\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\tcomplete(\n\n\t\t\t\t\t\t\t\t\t\t// File: protocol always yields status 0; see #8605, #14207\n\t\t\t\t\t\t\t\t\t\txhr.status,\n\t\t\t\t\t\t\t\t\t\txhr.statusText\n\t\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\tcomplete(\n\t\t\t\t\t\t\t\t\txhrSuccessStatus[ xhr.status ] || xhr.status,\n\t\t\t\t\t\t\t\t\txhr.statusText,\n\n\t\t\t\t\t\t\t\t\t// Support: IE <=9 only\n\t\t\t\t\t\t\t\t\t// IE9 has no XHR2 but throws on binary (trac-11426)\n\t\t\t\t\t\t\t\t\t// For XHR2 non-text, let the caller handle it (gh-2498)\n\t\t\t\t\t\t\t\t\t( xhr.responseType || \"text\" ) !== \"text\"  ||\n\t\t\t\t\t\t\t\t\ttypeof xhr.responseText !== \"string\" ?\n\t\t\t\t\t\t\t\t\t\t{ binary: xhr.response } :\n\t\t\t\t\t\t\t\t\t\t{ text: xhr.responseText },\n\t\t\t\t\t\t\t\t\txhr.getAllResponseHeaders()\n\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t};\n\t\t\t\t};\n\n\t\t\t\t// Listen to events\n\t\t\t\txhr.onload = callback();\n\t\t\t\terrorCallback = xhr.onerror = xhr.ontimeout = callback( \"error\" );\n\n\t\t\t\t// Support: IE 9 only\n\t\t\t\t// Use onreadystatechange to replace onabort\n\t\t\t\t// to handle uncaught aborts\n\t\t\t\tif ( xhr.onabort !== undefined ) {\n\t\t\t\t\txhr.onabort = errorCallback;\n\t\t\t\t} else {\n\t\t\t\t\txhr.onreadystatechange = function() {\n\n\t\t\t\t\t\t// Check readyState before timeout as it changes\n\t\t\t\t\t\tif ( xhr.readyState === 4 ) {\n\n\t\t\t\t\t\t\t// Allow onerror to be called first,\n\t\t\t\t\t\t\t// but that will not handle a native abort\n\t\t\t\t\t\t\t// Also, save errorCallback to a variable\n\t\t\t\t\t\t\t// as xhr.onerror cannot be accessed\n\t\t\t\t\t\t\twindow.setTimeout( function() {\n\t\t\t\t\t\t\t\tif ( callback ) {\n\t\t\t\t\t\t\t\t\terrorCallback();\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t} );\n\t\t\t\t\t\t}\n\t\t\t\t\t};\n\t\t\t\t}\n\n\t\t\t\t// Create the abort callback\n\t\t\t\tcallback = callback( \"abort\" );\n\n\t\t\t\ttry {\n\n\t\t\t\t\t// Do send the request (this may raise an exception)\n\t\t\t\t\txhr.send( options.hasContent && options.data || null );\n\t\t\t\t} catch ( e ) {\n\n\t\t\t\t\t// #14683: Only rethrow if this hasn't been notified as an error yet\n\t\t\t\t\tif ( callback ) {\n\t\t\t\t\t\tthrow e;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t},\n\n\t\t\tabort: function() {\n\t\t\t\tif ( callback ) {\n\t\t\t\t\tcallback();\n\t\t\t\t}\n\t\t\t}\n\t\t};\n\t}\n} );\n\n\n\n\n// Prevent auto-execution of scripts when no explicit dataType was provided (See gh-2432)\njQuery.ajaxPrefilter( function( s ) {\n\tif ( s.crossDomain ) {\n\t\ts.contents.script = false;\n\t}\n} );\n\n// Install script dataType\njQuery.ajaxSetup( {\n\taccepts: {\n\t\tscript: \"text/javascript, application/javascript, \" +\n\t\t\t\"application/ecmascript, application/x-ecmascript\"\n\t},\n\tcontents: {\n\t\tscript: /\\b(?:java|ecma)script\\b/\n\t},\n\tconverters: {\n\t\t\"text script\": function( text ) {\n\t\t\tjQuery.globalEval( text );\n\t\t\treturn text;\n\t\t}\n\t}\n} );\n\n// Handle cache's special case and crossDomain\njQuery.ajaxPrefilter( \"script\", function( s ) {\n\tif ( s.cache === undefined ) {\n\t\ts.cache = false;\n\t}\n\tif ( s.crossDomain ) {\n\t\ts.type = \"GET\";\n\t}\n} );\n\n// Bind script tag hack transport\njQuery.ajaxTransport( \"script\", function( s ) {\n\n\t// This transport only deals with cross domain or forced-by-attrs requests\n\tif ( s.crossDomain || s.scriptAttrs ) {\n\t\tvar script, callback;\n\t\treturn {\n\t\t\tsend: function( _, complete ) {\n\t\t\t\tscript = jQuery( \"<script>\" )\n\t\t\t\t\t.attr( s.scriptAttrs || {} )\n\t\t\t\t\t.prop( { charset: s.scriptCharset, src: s.url } )\n\t\t\t\t\t.on( \"load error\", callback = function( evt ) {\n\t\t\t\t\t\tscript.remove();\n\t\t\t\t\t\tcallback = null;\n\t\t\t\t\t\tif ( evt ) {\n\t\t\t\t\t\t\tcomplete( evt.type === \"error\" ? 404 : 200, evt.type );\n\t\t\t\t\t\t}\n\t\t\t\t\t} );\n\n\t\t\t\t// Use native DOM manipulation to avoid our domManip AJAX trickery\n\t\t\t\tdocument.head.appendChild( script[ 0 ] );\n\t\t\t},\n\t\t\tabort: function() {\n\t\t\t\tif ( callback ) {\n\t\t\t\t\tcallback();\n\t\t\t\t}\n\t\t\t}\n\t\t};\n\t}\n} );\n\n\n\n\nvar oldCallbacks = [],\n\trjsonp = /(=)\\?(?=&|$)|\\?\\?/;\n\n// Default jsonp settings\njQuery.ajaxSetup( {\n\tjsonp: \"callback\",\n\tjsonpCallback: function() {\n\t\tvar callback = oldCallbacks.pop() || ( jQuery.expando + \"_\" + ( nonce.guid++ ) );\n\t\tthis[ callback ] = true;\n\t\treturn callback;\n\t}\n} );\n\n// Detect, normalize options and install callbacks for jsonp requests\njQuery.ajaxPrefilter( \"json jsonp\", function( s, originalSettings, jqXHR ) {\n\n\tvar callbackName, overwritten, responseContainer,\n\t\tjsonProp = s.jsonp !== false && ( rjsonp.test( s.url ) ?\n\t\t\t\"url\" :\n\t\t\ttypeof s.data === \"string\" &&\n\t\t\t\t( s.contentType || \"\" )\n\t\t\t\t\t.indexOf( \"application/x-www-form-urlencoded\" ) === 0 &&\n\t\t\t\trjsonp.test( s.data ) && \"data\"\n\t\t);\n\n\t// Handle iff the expected data type is \"jsonp\" or we have a parameter to set\n\tif ( jsonProp || s.dataTypes[ 0 ] === \"jsonp\" ) {\n\n\t\t// Get callback name, remembering preexisting value associated with it\n\t\tcallbackName = s.jsonpCallback = isFunction( s.jsonpCallback ) ?\n\t\t\ts.jsonpCallback() :\n\t\t\ts.jsonpCallback;\n\n\t\t// Insert callback into url or form data\n\t\tif ( jsonProp ) {\n\t\t\ts[ jsonProp ] = s[ jsonProp ].replace( rjsonp, \"$1\" + callbackName );\n\t\t} else if ( s.jsonp !== false ) {\n\t\t\ts.url += ( rquery.test( s.url ) ? \"&\" : \"?\" ) + s.jsonp + \"=\" + callbackName;\n\t\t}\n\n\t\t// Use data converter to retrieve json after script execution\n\t\ts.converters[ \"script json\" ] = function() {\n\t\t\tif ( !responseContainer ) {\n\t\t\t\tjQuery.error( callbackName + \" was not called\" );\n\t\t\t}\n\t\t\treturn responseContainer[ 0 ];\n\t\t};\n\n\t\t// Force json dataType\n\t\ts.dataTypes[ 0 ] = \"json\";\n\n\t\t// Install callback\n\t\toverwritten = window[ callbackName ];\n\t\twindow[ callbackName ] = function() {\n\t\t\tresponseContainer = arguments;\n\t\t};\n\n\t\t// Clean-up function (fires after converters)\n\t\tjqXHR.always( function() {\n\n\t\t\t// If previous value didn't exist - remove it\n\t\t\tif ( overwritten === undefined ) {\n\t\t\t\tjQuery( window ).removeProp( callbackName );\n\n\t\t\t// Otherwise restore preexisting value\n\t\t\t} else {\n\t\t\t\twindow[ callbackName ] = overwritten;\n\t\t\t}\n\n\t\t\t// Save back as free\n\t\t\tif ( s[ callbackName ] ) {\n\n\t\t\t\t// Make sure that re-using the options doesn't screw things around\n\t\t\t\ts.jsonpCallback = originalSettings.jsonpCallback;\n\n\t\t\t\t// Save the callback name for future use\n\t\t\t\toldCallbacks.push( callbackName );\n\t\t\t}\n\n\t\t\t// Call if it was a function and we have a response\n\t\t\tif ( responseContainer && isFunction( overwritten ) ) {\n\t\t\t\toverwritten( responseContainer[ 0 ] );\n\t\t\t}\n\n\t\t\tresponseContainer = overwritten = undefined;\n\t\t} );\n\n\t\t// Delegate to script\n\t\treturn \"script\";\n\t}\n} );\n\n\n\n\n// Support: Safari 8 only\n// In Safari 8 documents created via document.implementation.createHTMLDocument\n// collapse sibling forms: the second one becomes a child of the first one.\n// Because of that, this security measure has to be disabled in Safari 8.\n// https://bugs.webkit.org/show_bug.cgi?id=137337\nsupport.createHTMLDocument = ( function() {\n\tvar body = document.implementation.createHTMLDocument( \"\" ).body;\n\tbody.innerHTML = \"<form></form><form></form>\";\n\treturn body.childNodes.length === 2;\n} )();\n\n\n// Argument \"data\" should be string of html\n// context (optional): If specified, the fragment will be created in this context,\n// defaults to document\n// keepScripts (optional): If true, will include scripts passed in the html string\njQuery.parseHTML = function( data, context, keepScripts ) {\n\tif ( typeof data !== \"string\" ) {\n\t\treturn [];\n\t}\n\tif ( typeof context === \"boolean\" ) {\n\t\tkeepScripts = context;\n\t\tcontext = false;\n\t}\n\n\tvar base, parsed, scripts;\n\n\tif ( !context ) {\n\n\t\t// Stop scripts or inline event handlers from being executed immediately\n\t\t// by using document.implementation\n\t\tif ( support.createHTMLDocument ) {\n\t\t\tcontext = document.implementation.createHTMLDocument( \"\" );\n\n\t\t\t// Set the base href for the created document\n\t\t\t// so any parsed elements with URLs\n\t\t\t// are based on the document's URL (gh-2965)\n\t\t\tbase = context.createElement( \"base\" );\n\t\t\tbase.href = document.location.href;\n\t\t\tcontext.head.appendChild( base );\n\t\t} else {\n\t\t\tcontext = document;\n\t\t}\n\t}\n\n\tparsed = rsingleTag.exec( data );\n\tscripts = !keepScripts && [];\n\n\t// Single tag\n\tif ( parsed ) {\n\t\treturn [ context.createElement( parsed[ 1 ] ) ];\n\t}\n\n\tparsed = buildFragment( [ data ], context, scripts );\n\n\tif ( scripts && scripts.length ) {\n\t\tjQuery( scripts ).remove();\n\t}\n\n\treturn jQuery.merge( [], parsed.childNodes );\n};\n\n\n/**\n * Load a url into a page\n */\njQuery.fn.load = function( url, params, callback ) {\n\tvar selector, type, response,\n\t\tself = this,\n\t\toff = url.indexOf( \" \" );\n\n\tif ( off > -1 ) {\n\t\tselector = stripAndCollapse( url.slice( off ) );\n\t\turl = url.slice( 0, off );\n\t}\n\n\t// If it's a function\n\tif ( isFunction( params ) ) {\n\n\t\t// We assume that it's the callback\n\t\tcallback = params;\n\t\tparams = undefined;\n\n\t// Otherwise, build a param string\n\t} else if ( params && typeof params === \"object\" ) {\n\t\ttype = \"POST\";\n\t}\n\n\t// If we have elements to modify, make the request\n\tif ( self.length > 0 ) {\n\t\tjQuery.ajax( {\n\t\t\turl: url,\n\n\t\t\t// If \"type\" variable is undefined, then \"GET\" method will be used.\n\t\t\t// Make value of this field explicit since\n\t\t\t// user can override it through ajaxSetup method\n\t\t\ttype: type || \"GET\",\n\t\t\tdataType: \"html\",\n\t\t\tdata: params\n\t\t} ).done( function( responseText ) {\n\n\t\t\t// Save response for use in complete callback\n\t\t\tresponse = arguments;\n\n\t\t\tself.html( selector ?\n\n\t\t\t\t// If a selector was specified, locate the right elements in a dummy div\n\t\t\t\t// Exclude scripts to avoid IE 'Permission Denied' errors\n\t\t\t\tjQuery( \"<div>\" ).append( jQuery.parseHTML( responseText ) ).find( selector ) :\n\n\t\t\t\t// Otherwise use the full result\n\t\t\t\tresponseText );\n\n\t\t// If the request succeeds, this function gets \"data\", \"status\", \"jqXHR\"\n\t\t// but they are ignored because response was set above.\n\t\t// If it fails, this function gets \"jqXHR\", \"status\", \"error\"\n\t\t} ).always( callback && function( jqXHR, status ) {\n\t\t\tself.each( function() {\n\t\t\t\tcallback.apply( this, response || [ jqXHR.responseText, status, jqXHR ] );\n\t\t\t} );\n\t\t} );\n\t}\n\n\treturn this;\n};\n\n\n\n\njQuery.expr.pseudos.animated = function( elem ) {\n\treturn jQuery.grep( jQuery.timers, function( fn ) {\n\t\treturn elem === fn.elem;\n\t} ).length;\n};\n\n\n\n\njQuery.offset = {\n\tsetOffset: function( elem, options, i ) {\n\t\tvar curPosition, curLeft, curCSSTop, curTop, curOffset, curCSSLeft, calculatePosition,\n\t\t\tposition = jQuery.css( elem, \"position\" ),\n\t\t\tcurElem = jQuery( elem ),\n\t\t\tprops = {};\n\n\t\t// Set position first, in-case top/left are set even on static elem\n\t\tif ( position === \"static\" ) {\n\t\t\telem.style.position = \"relative\";\n\t\t}\n\n\t\tcurOffset = curElem.offset();\n\t\tcurCSSTop = jQuery.css( elem, \"top\" );\n\t\tcurCSSLeft = jQuery.css( elem, \"left\" );\n\t\tcalculatePosition = ( position === \"absolute\" || position === \"fixed\" ) &&\n\t\t\t( curCSSTop + curCSSLeft ).indexOf( \"auto\" ) > -1;\n\n\t\t// Need to be able to calculate position if either\n\t\t// top or left is auto and position is either absolute or fixed\n\t\tif ( calculatePosition ) {\n\t\t\tcurPosition = curElem.position();\n\t\t\tcurTop = curPosition.top;\n\t\t\tcurLeft = curPosition.left;\n\n\t\t} else {\n\t\t\tcurTop = parseFloat( curCSSTop ) || 0;\n\t\t\tcurLeft = parseFloat( curCSSLeft ) || 0;\n\t\t}\n\n\t\tif ( isFunction( options ) ) {\n\n\t\t\t// Use jQuery.extend here to allow modification of coordinates argument (gh-1848)\n\t\t\toptions = options.call( elem, i, jQuery.extend( {}, curOffset ) );\n\t\t}\n\n\t\tif ( options.top != null ) {\n\t\t\tprops.top = ( options.top - curOffset.top ) + curTop;\n\t\t}\n\t\tif ( options.left != null ) {\n\t\t\tprops.left = ( options.left - curOffset.left ) + curLeft;\n\t\t}\n\n\t\tif ( \"using\" in options ) {\n\t\t\toptions.using.call( elem, props );\n\n\t\t} else {\n\t\t\tif ( typeof props.top === \"number\" ) {\n\t\t\t\tprops.top += \"px\";\n\t\t\t}\n\t\t\tif ( typeof props.left === \"number\" ) {\n\t\t\t\tprops.left += \"px\";\n\t\t\t}\n\t\t\tcurElem.css( props );\n\t\t}\n\t}\n};\n\njQuery.fn.extend( {\n\n\t// offset() relates an element's border box to the document origin\n\toffset: function( options ) {\n\n\t\t// Preserve chaining for setter\n\t\tif ( arguments.length ) {\n\t\t\treturn options === undefined ?\n\t\t\t\tthis :\n\t\t\t\tthis.each( function( i ) {\n\t\t\t\t\tjQuery.offset.setOffset( this, options, i );\n\t\t\t\t} );\n\t\t}\n\n\t\tvar rect, win,\n\t\t\telem = this[ 0 ];\n\n\t\tif ( !elem ) {\n\t\t\treturn;\n\t\t}\n\n\t\t// Return zeros for disconnected and hidden (display: none) elements (gh-2310)\n\t\t// Support: IE <=11 only\n\t\t// Running getBoundingClientRect on a\n\t\t// disconnected node in IE throws an error\n\t\tif ( !elem.getClientRects().length ) {\n\t\t\treturn { top: 0, left: 0 };\n\t\t}\n\n\t\t// Get document-relative position by adding viewport scroll to viewport-relative gBCR\n\t\trect = elem.getBoundingClientRect();\n\t\twin = elem.ownerDocument.defaultView;\n\t\treturn {\n\t\t\ttop: rect.top + win.pageYOffset,\n\t\t\tleft: rect.left + win.pageXOffset\n\t\t};\n\t},\n\n\t// position() relates an element's margin box to its offset parent's padding box\n\t// This corresponds to the behavior of CSS absolute positioning\n\tposition: function() {\n\t\tif ( !this[ 0 ] ) {\n\t\t\treturn;\n\t\t}\n\n\t\tvar offsetParent, offset, doc,\n\t\t\telem = this[ 0 ],\n\t\t\tparentOffset = { top: 0, left: 0 };\n\n\t\t// position:fixed elements are offset from the viewport, which itself always has zero offset\n\t\tif ( jQuery.css( elem, \"position\" ) === \"fixed\" ) {\n\n\t\t\t// Assume position:fixed implies availability of getBoundingClientRect\n\t\t\toffset = elem.getBoundingClientRect();\n\n\t\t} else {\n\t\t\toffset = this.offset();\n\n\t\t\t// Account for the *real* offset parent, which can be the document or its root element\n\t\t\t// when a statically positioned element is identified\n\t\t\tdoc = elem.ownerDocument;\n\t\t\toffsetParent = elem.offsetParent || doc.documentElement;\n\t\t\twhile ( offsetParent &&\n\t\t\t\t( offsetParent === doc.body || offsetParent === doc.documentElement ) &&\n\t\t\t\tjQuery.css( offsetParent, \"position\" ) === \"static\" ) {\n\n\t\t\t\toffsetParent = offsetParent.parentNode;\n\t\t\t}\n\t\t\tif ( offsetParent && offsetParent !== elem && offsetParent.nodeType === 1 ) {\n\n\t\t\t\t// Incorporate borders into its offset, since they are outside its content origin\n\t\t\t\tparentOffset = jQuery( offsetParent ).offset();\n\t\t\t\tparentOffset.top += jQuery.css( offsetParent, \"borderTopWidth\", true );\n\t\t\t\tparentOffset.left += jQuery.css( offsetParent, \"borderLeftWidth\", true );\n\t\t\t}\n\t\t}\n\n\t\t// Subtract parent offsets and element margins\n\t\treturn {\n\t\t\ttop: offset.top - parentOffset.top - jQuery.css( elem, \"marginTop\", true ),\n\t\t\tleft: offset.left - parentOffset.left - jQuery.css( elem, \"marginLeft\", true )\n\t\t};\n\t},\n\n\t// This method will return documentElement in the following cases:\n\t// 1) For the element inside the iframe without offsetParent, this method will return\n\t//    documentElement of the parent window\n\t// 2) For the hidden or detached element\n\t// 3) For body or html element, i.e. in case of the html node - it will return itself\n\t//\n\t// but those exceptions were never presented as a real life use-cases\n\t// and might be considered as more preferable results.\n\t//\n\t// This logic, however, is not guaranteed and can change at any point in the future\n\toffsetParent: function() {\n\t\treturn this.map( function() {\n\t\t\tvar offsetParent = this.offsetParent;\n\n\t\t\twhile ( offsetParent && jQuery.css( offsetParent, \"position\" ) === \"static\" ) {\n\t\t\t\toffsetParent = offsetParent.offsetParent;\n\t\t\t}\n\n\t\t\treturn offsetParent || documentElement;\n\t\t} );\n\t}\n} );\n\n// Create scrollLeft and scrollTop methods\njQuery.each( { scrollLeft: \"pageXOffset\", scrollTop: \"pageYOffset\" }, function( method, prop ) {\n\tvar top = \"pageYOffset\" === prop;\n\n\tjQuery.fn[ method ] = function( val ) {\n\t\treturn access( this, function( elem, method, val ) {\n\n\t\t\t// Coalesce documents and windows\n\t\t\tvar win;\n\t\t\tif ( isWindow( elem ) ) {\n\t\t\t\twin = elem;\n\t\t\t} else if ( elem.nodeType === 9 ) {\n\t\t\t\twin = elem.defaultView;\n\t\t\t}\n\n\t\t\tif ( val === undefined ) {\n\t\t\t\treturn win ? win[ prop ] : elem[ method ];\n\t\t\t}\n\n\t\t\tif ( win ) {\n\t\t\t\twin.scrollTo(\n\t\t\t\t\t!top ? val : win.pageXOffset,\n\t\t\t\t\ttop ? val : win.pageYOffset\n\t\t\t\t);\n\n\t\t\t} else {\n\t\t\t\telem[ method ] = val;\n\t\t\t}\n\t\t}, method, val, arguments.length );\n\t};\n} );\n\n// Support: Safari <=7 - 9.1, Chrome <=37 - 49\n// Add the top/left cssHooks using jQuery.fn.position\n// Webkit bug: https://bugs.webkit.org/show_bug.cgi?id=29084\n// Blink bug: https://bugs.chromium.org/p/chromium/issues/detail?id=589347\n// getComputedStyle returns percent when specified for top/left/bottom/right;\n// rather than make the css module depend on the offset module, just check for it here\njQuery.each( [ \"top\", \"left\" ], function( _i, prop ) {\n\tjQuery.cssHooks[ prop ] = addGetHookIf( support.pixelPosition,\n\t\tfunction( elem, computed ) {\n\t\t\tif ( computed ) {\n\t\t\t\tcomputed = curCSS( elem, prop );\n\n\t\t\t\t// If curCSS returns percentage, fallback to offset\n\t\t\t\treturn rnumnonpx.test( computed ) ?\n\t\t\t\t\tjQuery( elem ).position()[ prop ] + \"px\" :\n\t\t\t\t\tcomputed;\n\t\t\t}\n\t\t}\n\t);\n} );\n\n\n// Create innerHeight, innerWidth, height, width, outerHeight and outerWidth methods\njQuery.each( { Height: \"height\", Width: \"width\" }, function( name, type ) {\n\tjQuery.each( { padding: \"inner\" + name, content: type, \"\": \"outer\" + name },\n\t\tfunction( defaultExtra, funcName ) {\n\n\t\t// Margin is only for outerHeight, outerWidth\n\t\tjQuery.fn[ funcName ] = function( margin, value ) {\n\t\t\tvar chainable = arguments.length && ( defaultExtra || typeof margin !== \"boolean\" ),\n\t\t\t\textra = defaultExtra || ( margin === true || value === true ? \"margin\" : \"border\" );\n\n\t\t\treturn access( this, function( elem, type, value ) {\n\t\t\t\tvar doc;\n\n\t\t\t\tif ( isWindow( elem ) ) {\n\n\t\t\t\t\t// $( window ).outerWidth/Height return w/h including scrollbars (gh-1729)\n\t\t\t\t\treturn funcName.indexOf( \"outer\" ) === 0 ?\n\t\t\t\t\t\telem[ \"inner\" + name ] :\n\t\t\t\t\t\telem.document.documentElement[ \"client\" + name ];\n\t\t\t\t}\n\n\t\t\t\t// Get document width or height\n\t\t\t\tif ( elem.nodeType === 9 ) {\n\t\t\t\t\tdoc = elem.documentElement;\n\n\t\t\t\t\t// Either scroll[Width/Height] or offset[Width/Height] or client[Width/Height],\n\t\t\t\t\t// whichever is greatest\n\t\t\t\t\treturn Math.max(\n\t\t\t\t\t\telem.body[ \"scroll\" + name ], doc[ \"scroll\" + name ],\n\t\t\t\t\t\telem.body[ \"offset\" + name ], doc[ \"offset\" + name ],\n\t\t\t\t\t\tdoc[ \"client\" + name ]\n\t\t\t\t\t);\n\t\t\t\t}\n\n\t\t\t\treturn value === undefined ?\n\n\t\t\t\t\t// Get width or height on the element, requesting but not forcing parseFloat\n\t\t\t\t\tjQuery.css( elem, type, extra ) :\n\n\t\t\t\t\t// Set width or height on the element\n\t\t\t\t\tjQuery.style( elem, type, value, extra );\n\t\t\t}, type, chainable ? margin : undefined, chainable );\n\t\t};\n\t} );\n} );\n\n\njQuery.each( [\n\t\"ajaxStart\",\n\t\"ajaxStop\",\n\t\"ajaxComplete\",\n\t\"ajaxError\",\n\t\"ajaxSuccess\",\n\t\"ajaxSend\"\n], function( _i, type ) {\n\tjQuery.fn[ type ] = function( fn ) {\n\t\treturn this.on( type, fn );\n\t};\n} );\n\n\n\n\njQuery.fn.extend( {\n\n\tbind: function( types, data, fn ) {\n\t\treturn this.on( types, null, data, fn );\n\t},\n\tunbind: function( types, fn ) {\n\t\treturn this.off( types, null, fn );\n\t},\n\n\tdelegate: function( selector, types, data, fn ) {\n\t\treturn this.on( types, selector, data, fn );\n\t},\n\tundelegate: function( selector, types, fn ) {\n\n\t\t// ( namespace ) or ( selector, types [, fn] )\n\t\treturn arguments.length === 1 ?\n\t\t\tthis.off( selector, \"**\" ) :\n\t\t\tthis.off( types, selector || \"**\", fn );\n\t},\n\n\thover: function( fnOver, fnOut ) {\n\t\treturn this.mouseenter( fnOver ).mouseleave( fnOut || fnOver );\n\t}\n} );\n\njQuery.each( ( \"blur focus focusin focusout resize scroll click dblclick \" +\n\t\"mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave \" +\n\t\"change select submit keydown keypress keyup contextmenu\" ).split( \" \" ),\n\tfunction( _i, name ) {\n\n\t\t// Handle event binding\n\t\tjQuery.fn[ name ] = function( data, fn ) {\n\t\t\treturn arguments.length > 0 ?\n\t\t\t\tthis.on( name, null, data, fn ) :\n\t\t\t\tthis.trigger( name );\n\t\t};\n\t} );\n\n\n\n\n// Support: Android <=4.0 only\n// Make sure we trim BOM and NBSP\nvar rtrim = /^[\\s\\uFEFF\\xA0]+|[\\s\\uFEFF\\xA0]+$/g;\n\n// Bind a function to a context, optionally partially applying any\n// arguments.\n// jQuery.proxy is deprecated to promote standards (specifically Function#bind)\n// However, it is not slated for removal any time soon\njQuery.proxy = function( fn, context ) {\n\tvar tmp, args, proxy;\n\n\tif ( typeof context === \"string\" ) {\n\t\ttmp = fn[ context ];\n\t\tcontext = fn;\n\t\tfn = tmp;\n\t}\n\n\t// Quick check to determine if target is callable, in the spec\n\t// this throws a TypeError, but we will just return undefined.\n\tif ( !isFunction( fn ) ) {\n\t\treturn undefined;\n\t}\n\n\t// Simulated bind\n\targs = slice.call( arguments, 2 );\n\tproxy = function() {\n\t\treturn fn.apply( context || this, args.concat( slice.call( arguments ) ) );\n\t};\n\n\t// Set the guid of unique handler to the same of original handler, so it can be removed\n\tproxy.guid = fn.guid = fn.guid || jQuery.guid++;\n\n\treturn proxy;\n};\n\njQuery.holdReady = function( hold ) {\n\tif ( hold ) {\n\t\tjQuery.readyWait++;\n\t} else {\n\t\tjQuery.ready( true );\n\t}\n};\njQuery.isArray = Array.isArray;\njQuery.parseJSON = JSON.parse;\njQuery.nodeName = nodeName;\njQuery.isFunction = isFunction;\njQuery.isWindow = isWindow;\njQuery.camelCase = camelCase;\njQuery.type = toType;\n\njQuery.now = Date.now;\n\njQuery.isNumeric = function( obj ) {\n\n\t// As of jQuery 3.0, isNumeric is limited to\n\t// strings and numbers (primitives or objects)\n\t// that can be coerced to finite numbers (gh-2662)\n\tvar type = jQuery.type( obj );\n\treturn ( type === \"number\" || type === \"string\" ) &&\n\n\t\t// parseFloat NaNs numeric-cast false positives (\"\")\n\t\t// ...but misinterprets leading-number strings, particularly hex literals (\"0x...\")\n\t\t// subtraction forces infinities to NaN\n\t\t!isNaN( obj - parseFloat( obj ) );\n};\n\njQuery.trim = function( text ) {\n\treturn text == null ?\n\t\t\"\" :\n\t\t( text + \"\" ).replace( rtrim, \"\" );\n};\n\n\n\n// Register as a named AMD module, since jQuery can be concatenated with other\n// files that may use define, but not via a proper concatenation script that\n// understands anonymous AMD modules. A named AMD is safest and most robust\n// way to register. Lowercase jquery is used because AMD module names are\n// derived from file names, and jQuery is normally delivered in a lowercase\n// file name. Do this after creating the global so that if an AMD module wants\n// to call noConflict to hide this version of jQuery, it will work.\n\n// Note that for maximum portability, libraries that are not jQuery should\n// declare themselves as anonymous modules, and avoid setting a global if an\n// AMD loader is present. jQuery is a special case. For more information, see\n// https://github.com/jrburke/requirejs/wiki/Updating-existing-libraries#wiki-anon\n\nif ( true ) {\n\t!(__WEBPACK_AMD_DEFINE_ARRAY__ = [], __WEBPACK_AMD_DEFINE_RESULT__ = (function() {\n\t\treturn jQuery;\n\t}).apply(exports, __WEBPACK_AMD_DEFINE_ARRAY__),\n\t\t\t\t__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));\n}\n\n\n\n\nvar\n\n\t// Map over jQuery in case of overwrite\n\t_jQuery = window.jQuery,\n\n\t// Map over the $ in case of overwrite\n\t_$ = window.$;\n\njQuery.noConflict = function( deep ) {\n\tif ( window.$ === jQuery ) {\n\t\twindow.$ = _$;\n\t}\n\n\tif ( deep && window.jQuery === jQuery ) {\n\t\twindow.jQuery = _jQuery;\n\t}\n\n\treturn jQuery;\n};\n\n// Expose jQuery and $ identifiers, even in AMD\n// (#7102#comment:10, https://github.com/jquery/jquery/pull/557)\n// and CommonJS for browser emulators (#13566)\nif ( typeof noGlobal === \"undefined\" ) {\n\twindow.jQuery = window.$ = jQuery;\n}\n\n\n\n\nreturn jQuery;\n} );\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvanF1ZXJ5L2Rpc3QvanF1ZXJ5LmpzLmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2pxdWVyeS9kaXN0L2pxdWVyeS5qcz8xMTU3Il0sInNvdXJjZXNDb250ZW50IjpbIi8qIVxuICogalF1ZXJ5IEphdmFTY3JpcHQgTGlicmFyeSB2My41LjFcbiAqIGh0dHBzOi8vanF1ZXJ5LmNvbS9cbiAqXG4gKiBJbmNsdWRlcyBTaXp6bGUuanNcbiAqIGh0dHBzOi8vc2l6emxlanMuY29tL1xuICpcbiAqIENvcHlyaWdodCBKUyBGb3VuZGF0aW9uIGFuZCBvdGhlciBjb250cmlidXRvcnNcbiAqIFJlbGVhc2VkIHVuZGVyIHRoZSBNSVQgbGljZW5zZVxuICogaHR0cHM6Ly9qcXVlcnkub3JnL2xpY2Vuc2VcbiAqXG4gKiBEYXRlOiAyMDIwLTA1LTA0VDIyOjQ5WlxuICovXG4oIGZ1bmN0aW9uKCBnbG9iYWwsIGZhY3RvcnkgKSB7XG5cblx0XCJ1c2Ugc3RyaWN0XCI7XG5cblx0aWYgKCB0eXBlb2YgbW9kdWxlID09PSBcIm9iamVjdFwiICYmIHR5cGVvZiBtb2R1bGUuZXhwb3J0cyA9PT0gXCJvYmplY3RcIiApIHtcblxuXHRcdC8vIEZvciBDb21tb25KUyBhbmQgQ29tbW9uSlMtbGlrZSBlbnZpcm9ubWVudHMgd2hlcmUgYSBwcm9wZXIgYHdpbmRvd2Bcblx0XHQvLyBpcyBwcmVzZW50LCBleGVjdXRlIHRoZSBmYWN0b3J5IGFuZCBnZXQgalF1ZXJ5LlxuXHRcdC8vIEZvciBlbnZpcm9ubWVudHMgdGhhdCBkbyBub3QgaGF2ZSBhIGB3aW5kb3dgIHdpdGggYSBgZG9jdW1lbnRgXG5cdFx0Ly8gKHN1Y2ggYXMgTm9kZS5qcyksIGV4cG9zZSBhIGZhY3RvcnkgYXMgbW9kdWxlLmV4cG9ydHMuXG5cdFx0Ly8gVGhpcyBhY2NlbnR1YXRlcyB0aGUgbmVlZCBmb3IgdGhlIGNyZWF0aW9uIG9mIGEgcmVhbCBgd2luZG93YC5cblx0XHQvLyBlLmcuIHZhciBqUXVlcnkgPSByZXF1aXJlKFwianF1ZXJ5XCIpKHdpbmRvdyk7XG5cdFx0Ly8gU2VlIHRpY2tldCAjMTQ1NDkgZm9yIG1vcmUgaW5mby5cblx0XHRtb2R1bGUuZXhwb3J0cyA9IGdsb2JhbC5kb2N1bWVudCA/XG5cdFx0XHRmYWN0b3J5KCBnbG9iYWwsIHRydWUgKSA6XG5cdFx0XHRmdW5jdGlvbiggdyApIHtcblx0XHRcdFx0aWYgKCAhdy5kb2N1bWVudCApIHtcblx0XHRcdFx0XHR0aHJvdyBuZXcgRXJyb3IoIFwialF1ZXJ5IHJlcXVpcmVzIGEgd2luZG93IHdpdGggYSBkb2N1bWVudFwiICk7XG5cdFx0XHRcdH1cblx0XHRcdFx0cmV0dXJuIGZhY3RvcnkoIHcgKTtcblx0XHRcdH07XG5cdH0gZWxzZSB7XG5cdFx0ZmFjdG9yeSggZ2xvYmFsICk7XG5cdH1cblxuLy8gUGFzcyB0aGlzIGlmIHdpbmRvdyBpcyBub3QgZGVmaW5lZCB5ZXRcbn0gKSggdHlwZW9mIHdpbmRvdyAhPT0gXCJ1bmRlZmluZWRcIiA/IHdpbmRvdyA6IHRoaXMsIGZ1bmN0aW9uKCB3aW5kb3csIG5vR2xvYmFsICkge1xuXG4vLyBFZGdlIDw9IDEyIC0gMTMrLCBGaXJlZm94IDw9MTggLSA0NSssIElFIDEwIC0gMTEsIFNhZmFyaSA1LjEgLSA5KywgaU9TIDYgLSA5LjFcbi8vIHRocm93IGV4Y2VwdGlvbnMgd2hlbiBub24tc3RyaWN0IGNvZGUgKGUuZy4sIEFTUC5ORVQgNC41KSBhY2Nlc3NlcyBzdHJpY3QgbW9kZVxuLy8gYXJndW1lbnRzLmNhbGxlZS5jYWxsZXIgKHRyYWMtMTMzMzUpLiBCdXQgYXMgb2YgalF1ZXJ5IDMuMCAoMjAxNiksIHN0cmljdCBtb2RlIHNob3VsZCBiZSBjb21tb25cbi8vIGVub3VnaCB0aGF0IGFsbCBzdWNoIGF0dGVtcHRzIGFyZSBndWFyZGVkIGluIGEgdHJ5IGJsb2NrLlxuXCJ1c2Ugc3RyaWN0XCI7XG5cbnZhciBhcnIgPSBbXTtcblxudmFyIGdldFByb3RvID0gT2JqZWN0LmdldFByb3RvdHlwZU9mO1xuXG52YXIgc2xpY2UgPSBhcnIuc2xpY2U7XG5cbnZhciBmbGF0ID0gYXJyLmZsYXQgPyBmdW5jdGlvbiggYXJyYXkgKSB7XG5cdHJldHVybiBhcnIuZmxhdC5jYWxsKCBhcnJheSApO1xufSA6IGZ1bmN0aW9uKCBhcnJheSApIHtcblx0cmV0dXJuIGFyci5jb25jYXQuYXBwbHkoIFtdLCBhcnJheSApO1xufTtcblxuXG52YXIgcHVzaCA9IGFyci5wdXNoO1xuXG52YXIgaW5kZXhPZiA9IGFyci5pbmRleE9mO1xuXG52YXIgY2xhc3MydHlwZSA9IHt9O1xuXG52YXIgdG9TdHJpbmcgPSBjbGFzczJ0eXBlLnRvU3RyaW5nO1xuXG52YXIgaGFzT3duID0gY2xhc3MydHlwZS5oYXNPd25Qcm9wZXJ0eTtcblxudmFyIGZuVG9TdHJpbmcgPSBoYXNPd24udG9TdHJpbmc7XG5cbnZhciBPYmplY3RGdW5jdGlvblN0cmluZyA9IGZuVG9TdHJpbmcuY2FsbCggT2JqZWN0ICk7XG5cbnZhciBzdXBwb3J0ID0ge307XG5cbnZhciBpc0Z1bmN0aW9uID0gZnVuY3Rpb24gaXNGdW5jdGlvbiggb2JqICkge1xuXG4gICAgICAvLyBTdXBwb3J0OiBDaHJvbWUgPD01NywgRmlyZWZveCA8PTUyXG4gICAgICAvLyBJbiBzb21lIGJyb3dzZXJzLCB0eXBlb2YgcmV0dXJucyBcImZ1bmN0aW9uXCIgZm9yIEhUTUwgPG9iamVjdD4gZWxlbWVudHNcbiAgICAgIC8vIChpLmUuLCBgdHlwZW9mIGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoIFwib2JqZWN0XCIgKSA9PT0gXCJmdW5jdGlvblwiYCkuXG4gICAgICAvLyBXZSBkb24ndCB3YW50IHRvIGNsYXNzaWZ5ICphbnkqIERPTSBub2RlIGFzIGEgZnVuY3Rpb24uXG4gICAgICByZXR1cm4gdHlwZW9mIG9iaiA9PT0gXCJmdW5jdGlvblwiICYmIHR5cGVvZiBvYmoubm9kZVR5cGUgIT09IFwibnVtYmVyXCI7XG4gIH07XG5cblxudmFyIGlzV2luZG93ID0gZnVuY3Rpb24gaXNXaW5kb3coIG9iaiApIHtcblx0XHRyZXR1cm4gb2JqICE9IG51bGwgJiYgb2JqID09PSBvYmoud2luZG93O1xuXHR9O1xuXG5cbnZhciBkb2N1bWVudCA9IHdpbmRvdy5kb2N1bWVudDtcblxuXG5cblx0dmFyIHByZXNlcnZlZFNjcmlwdEF0dHJpYnV0ZXMgPSB7XG5cdFx0dHlwZTogdHJ1ZSxcblx0XHRzcmM6IHRydWUsXG5cdFx0bm9uY2U6IHRydWUsXG5cdFx0bm9Nb2R1bGU6IHRydWVcblx0fTtcblxuXHRmdW5jdGlvbiBET01FdmFsKCBjb2RlLCBub2RlLCBkb2MgKSB7XG5cdFx0ZG9jID0gZG9jIHx8IGRvY3VtZW50O1xuXG5cdFx0dmFyIGksIHZhbCxcblx0XHRcdHNjcmlwdCA9IGRvYy5jcmVhdGVFbGVtZW50KCBcInNjcmlwdFwiICk7XG5cblx0XHRzY3JpcHQudGV4dCA9IGNvZGU7XG5cdFx0aWYgKCBub2RlICkge1xuXHRcdFx0Zm9yICggaSBpbiBwcmVzZXJ2ZWRTY3JpcHRBdHRyaWJ1dGVzICkge1xuXG5cdFx0XHRcdC8vIFN1cHBvcnQ6IEZpcmVmb3ggNjQrLCBFZGdlIDE4K1xuXHRcdFx0XHQvLyBTb21lIGJyb3dzZXJzIGRvbid0IHN1cHBvcnQgdGhlIFwibm9uY2VcIiBwcm9wZXJ0eSBvbiBzY3JpcHRzLlxuXHRcdFx0XHQvLyBPbiB0aGUgb3RoZXIgaGFuZCwganVzdCB1c2luZyBgZ2V0QXR0cmlidXRlYCBpcyBub3QgZW5vdWdoIGFzXG5cdFx0XHRcdC8vIHRoZSBgbm9uY2VgIGF0dHJpYnV0ZSBpcyByZXNldCB0byBhbiBlbXB0eSBzdHJpbmcgd2hlbmV2ZXIgaXRcblx0XHRcdFx0Ly8gYmVjb21lcyBicm93c2luZy1jb250ZXh0IGNvbm5lY3RlZC5cblx0XHRcdFx0Ly8gU2VlIGh0dHBzOi8vZ2l0aHViLmNvbS93aGF0d2cvaHRtbC9pc3N1ZXMvMjM2OVxuXHRcdFx0XHQvLyBTZWUgaHR0cHM6Ly9odG1sLnNwZWMud2hhdHdnLm9yZy8jbm9uY2UtYXR0cmlidXRlc1xuXHRcdFx0XHQvLyBUaGUgYG5vZGUuZ2V0QXR0cmlidXRlYCBjaGVjayB3YXMgYWRkZWQgZm9yIHRoZSBzYWtlIG9mXG5cdFx0XHRcdC8vIGBqUXVlcnkuZ2xvYmFsRXZhbGAgc28gdGhhdCBpdCBjYW4gZmFrZSBhIG5vbmNlLWNvbnRhaW5pbmcgbm9kZVxuXHRcdFx0XHQvLyB2aWEgYW4gb2JqZWN0LlxuXHRcdFx0XHR2YWwgPSBub2RlWyBpIF0gfHwgbm9kZS5nZXRBdHRyaWJ1dGUgJiYgbm9kZS5nZXRBdHRyaWJ1dGUoIGkgKTtcblx0XHRcdFx0aWYgKCB2YWwgKSB7XG5cdFx0XHRcdFx0c2NyaXB0LnNldEF0dHJpYnV0ZSggaSwgdmFsICk7XG5cdFx0XHRcdH1cblx0XHRcdH1cblx0XHR9XG5cdFx0ZG9jLmhlYWQuYXBwZW5kQ2hpbGQoIHNjcmlwdCApLnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQoIHNjcmlwdCApO1xuXHR9XG5cblxuZnVuY3Rpb24gdG9UeXBlKCBvYmogKSB7XG5cdGlmICggb2JqID09IG51bGwgKSB7XG5cdFx0cmV0dXJuIG9iaiArIFwiXCI7XG5cdH1cblxuXHQvLyBTdXBwb3J0OiBBbmRyb2lkIDw9Mi4zIG9ubHkgKGZ1bmN0aW9uaXNoIFJlZ0V4cClcblx0cmV0dXJuIHR5cGVvZiBvYmogPT09IFwib2JqZWN0XCIgfHwgdHlwZW9mIG9iaiA9PT0gXCJmdW5jdGlvblwiID9cblx0XHRjbGFzczJ0eXBlWyB0b1N0cmluZy5jYWxsKCBvYmogKSBdIHx8IFwib2JqZWN0XCIgOlxuXHRcdHR5cGVvZiBvYmo7XG59XG4vKiBnbG9iYWwgU3ltYm9sICovXG4vLyBEZWZpbmluZyB0aGlzIGdsb2JhbCBpbiAuZXNsaW50cmMuanNvbiB3b3VsZCBjcmVhdGUgYSBkYW5nZXIgb2YgdXNpbmcgdGhlIGdsb2JhbFxuLy8gdW5ndWFyZGVkIGluIGFub3RoZXIgcGxhY2UsIGl0IHNlZW1zIHNhZmVyIHRvIGRlZmluZSBnbG9iYWwgb25seSBmb3IgdGhpcyBtb2R1bGVcblxuXG5cbnZhclxuXHR2ZXJzaW9uID0gXCIzLjUuMVwiLFxuXG5cdC8vIERlZmluZSBhIGxvY2FsIGNvcHkgb2YgalF1ZXJ5XG5cdGpRdWVyeSA9IGZ1bmN0aW9uKCBzZWxlY3RvciwgY29udGV4dCApIHtcblxuXHRcdC8vIFRoZSBqUXVlcnkgb2JqZWN0IGlzIGFjdHVhbGx5IGp1c3QgdGhlIGluaXQgY29uc3RydWN0b3IgJ2VuaGFuY2VkJ1xuXHRcdC8vIE5lZWQgaW5pdCBpZiBqUXVlcnkgaXMgY2FsbGVkIChqdXN0IGFsbG93IGVycm9yIHRvIGJlIHRocm93biBpZiBub3QgaW5jbHVkZWQpXG5cdFx0cmV0dXJuIG5ldyBqUXVlcnkuZm4uaW5pdCggc2VsZWN0b3IsIGNvbnRleHQgKTtcblx0fTtcblxualF1ZXJ5LmZuID0galF1ZXJ5LnByb3RvdHlwZSA9IHtcblxuXHQvLyBUaGUgY3VycmVudCB2ZXJzaW9uIG9mIGpRdWVyeSBiZWluZyB1c2VkXG5cdGpxdWVyeTogdmVyc2lvbixcblxuXHRjb25zdHJ1Y3RvcjogalF1ZXJ5LFxuXG5cdC8vIFRoZSBkZWZhdWx0IGxlbmd0aCBvZiBhIGpRdWVyeSBvYmplY3QgaXMgMFxuXHRsZW5ndGg6IDAsXG5cblx0dG9BcnJheTogZnVuY3Rpb24oKSB7XG5cdFx0cmV0dXJuIHNsaWNlLmNhbGwoIHRoaXMgKTtcblx0fSxcblxuXHQvLyBHZXQgdGhlIE50aCBlbGVtZW50IGluIHRoZSBtYXRjaGVkIGVsZW1lbnQgc2V0IE9SXG5cdC8vIEdldCB0aGUgd2hvbGUgbWF0Y2hlZCBlbGVtZW50IHNldCBhcyBhIGNsZWFuIGFycmF5XG5cdGdldDogZnVuY3Rpb24oIG51bSApIHtcblxuXHRcdC8vIFJldHVybiBhbGwgdGhlIGVsZW1lbnRzIGluIGEgY2xlYW4gYXJyYXlcblx0XHRpZiAoIG51bSA9PSBudWxsICkge1xuXHRcdFx0cmV0dXJuIHNsaWNlLmNhbGwoIHRoaXMgKTtcblx0XHR9XG5cblx0XHQvLyBSZXR1cm4ganVzdCB0aGUgb25lIGVsZW1lbnQgZnJvbSB0aGUgc2V0XG5cdFx0cmV0dXJuIG51bSA8IDAgPyB0aGlzWyBudW0gKyB0aGlzLmxlbmd0aCBdIDogdGhpc1sgbnVtIF07XG5cdH0sXG5cblx0Ly8gVGFrZSBhbiBhcnJheSBvZiBlbGVtZW50cyBhbmQgcHVzaCBpdCBvbnRvIHRoZSBzdGFja1xuXHQvLyAocmV0dXJuaW5nIHRoZSBuZXcgbWF0Y2hlZCBlbGVtZW50IHNldClcblx0cHVzaFN0YWNrOiBmdW5jdGlvbiggZWxlbXMgKSB7XG5cblx0XHQvLyBCdWlsZCBhIG5ldyBqUXVlcnkgbWF0Y2hlZCBlbGVtZW50IHNldFxuXHRcdHZhciByZXQgPSBqUXVlcnkubWVyZ2UoIHRoaXMuY29uc3RydWN0b3IoKSwgZWxlbXMgKTtcblxuXHRcdC8vIEFkZCB0aGUgb2xkIG9iamVjdCBvbnRvIHRoZSBzdGFjayAoYXMgYSByZWZlcmVuY2UpXG5cdFx0cmV0LnByZXZPYmplY3QgPSB0aGlzO1xuXG5cdFx0Ly8gUmV0dXJuIHRoZSBuZXdseS1mb3JtZWQgZWxlbWVudCBzZXRcblx0XHRyZXR1cm4gcmV0O1xuXHR9LFxuXG5cdC8vIEV4ZWN1dGUgYSBjYWxsYmFjayBmb3IgZXZlcnkgZWxlbWVudCBpbiB0aGUgbWF0Y2hlZCBzZXQuXG5cdGVhY2g6IGZ1bmN0aW9uKCBjYWxsYmFjayApIHtcblx0XHRyZXR1cm4galF1ZXJ5LmVhY2goIHRoaXMsIGNhbGxiYWNrICk7XG5cdH0sXG5cblx0bWFwOiBmdW5jdGlvbiggY2FsbGJhY2sgKSB7XG5cdFx0cmV0dXJuIHRoaXMucHVzaFN0YWNrKCBqUXVlcnkubWFwKCB0aGlzLCBmdW5jdGlvbiggZWxlbSwgaSApIHtcblx0XHRcdHJldHVybiBjYWxsYmFjay5jYWxsKCBlbGVtLCBpLCBlbGVtICk7XG5cdFx0fSApICk7XG5cdH0sXG5cblx0c2xpY2U6IGZ1bmN0aW9uKCkge1xuXHRcdHJldHVybiB0aGlzLnB1c2hTdGFjayggc2xpY2UuYXBwbHkoIHRoaXMsIGFyZ3VtZW50cyApICk7XG5cdH0sXG5cblx0Zmlyc3Q6IGZ1bmN0aW9uKCkge1xuXHRcdHJldHVybiB0aGlzLmVxKCAwICk7XG5cdH0sXG5cblx0bGFzdDogZnVuY3Rpb24oKSB7XG5cdFx0cmV0dXJuIHRoaXMuZXEoIC0xICk7XG5cdH0sXG5cblx0ZXZlbjogZnVuY3Rpb24oKSB7XG5cdFx0cmV0dXJuIHRoaXMucHVzaFN0YWNrKCBqUXVlcnkuZ3JlcCggdGhpcywgZnVuY3Rpb24oIF9lbGVtLCBpICkge1xuXHRcdFx0cmV0dXJuICggaSArIDEgKSAlIDI7XG5cdFx0fSApICk7XG5cdH0sXG5cblx0b2RkOiBmdW5jdGlvbigpIHtcblx0XHRyZXR1cm4gdGhpcy5wdXNoU3RhY2soIGpRdWVyeS5ncmVwKCB0aGlzLCBmdW5jdGlvbiggX2VsZW0sIGkgKSB7XG5cdFx0XHRyZXR1cm4gaSAlIDI7XG5cdFx0fSApICk7XG5cdH0sXG5cblx0ZXE6IGZ1bmN0aW9uKCBpICkge1xuXHRcdHZhciBsZW4gPSB0aGlzLmxlbmd0aCxcblx0XHRcdGogPSAraSArICggaSA8IDAgPyBsZW4gOiAwICk7XG5cdFx0cmV0dXJuIHRoaXMucHVzaFN0YWNrKCBqID49IDAgJiYgaiA8IGxlbiA/IFsgdGhpc1sgaiBdIF0gOiBbXSApO1xuXHR9LFxuXG5cdGVuZDogZnVuY3Rpb24oKSB7XG5cdFx0cmV0dXJuIHRoaXMucHJldk9iamVjdCB8fCB0aGlzLmNvbnN0cnVjdG9yKCk7XG5cdH0sXG5cblx0Ly8gRm9yIGludGVybmFsIHVzZSBvbmx5LlxuXHQvLyBCZWhhdmVzIGxpa2UgYW4gQXJyYXkncyBtZXRob2QsIG5vdCBsaWtlIGEgalF1ZXJ5IG1ldGhvZC5cblx0cHVzaDogcHVzaCxcblx0c29ydDogYXJyLnNvcnQsXG5cdHNwbGljZTogYXJyLnNwbGljZVxufTtcblxualF1ZXJ5LmV4dGVuZCA9IGpRdWVyeS5mbi5leHRlbmQgPSBmdW5jdGlvbigpIHtcblx0dmFyIG9wdGlvbnMsIG5hbWUsIHNyYywgY29weSwgY29weUlzQXJyYXksIGNsb25lLFxuXHRcdHRhcmdldCA9IGFyZ3VtZW50c1sgMCBdIHx8IHt9LFxuXHRcdGkgPSAxLFxuXHRcdGxlbmd0aCA9IGFyZ3VtZW50cy5sZW5ndGgsXG5cdFx0ZGVlcCA9IGZhbHNlO1xuXG5cdC8vIEhhbmRsZSBhIGRlZXAgY29weSBzaXR1YXRpb25cblx0aWYgKCB0eXBlb2YgdGFyZ2V0ID09PSBcImJvb2xlYW5cIiApIHtcblx0XHRkZWVwID0gdGFyZ2V0O1xuXG5cdFx0Ly8gU2tpcCB0aGUgYm9vbGVhbiBhbmQgdGhlIHRhcmdldFxuXHRcdHRhcmdldCA9IGFyZ3VtZW50c1sgaSBdIHx8IHt9O1xuXHRcdGkrKztcblx0fVxuXG5cdC8vIEhhbmRsZSBjYXNlIHdoZW4gdGFyZ2V0IGlzIGEgc3RyaW5nIG9yIHNvbWV0aGluZyAocG9zc2libGUgaW4gZGVlcCBjb3B5KVxuXHRpZiAoIHR5cGVvZiB0YXJnZXQgIT09IFwib2JqZWN0XCIgJiYgIWlzRnVuY3Rpb24oIHRhcmdldCApICkge1xuXHRcdHRhcmdldCA9IHt9O1xuXHR9XG5cblx0Ly8gRXh0ZW5kIGpRdWVyeSBpdHNlbGYgaWYgb25seSBvbmUgYXJndW1lbnQgaXMgcGFzc2VkXG5cdGlmICggaSA9PT0gbGVuZ3RoICkge1xuXHRcdHRhcmdldCA9IHRoaXM7XG5cdFx0aS0tO1xuXHR9XG5cblx0Zm9yICggOyBpIDwgbGVuZ3RoOyBpKysgKSB7XG5cblx0XHQvLyBPbmx5IGRlYWwgd2l0aCBub24tbnVsbC91bmRlZmluZWQgdmFsdWVzXG5cdFx0aWYgKCAoIG9wdGlvbnMgPSBhcmd1bWVudHNbIGkgXSApICE9IG51bGwgKSB7XG5cblx0XHRcdC8vIEV4dGVuZCB0aGUgYmFzZSBvYmplY3Rcblx0XHRcdGZvciAoIG5hbWUgaW4gb3B0aW9ucyApIHtcblx0XHRcdFx0Y29weSA9IG9wdGlvbnNbIG5hbWUgXTtcblxuXHRcdFx0XHQvLyBQcmV2ZW50IE9iamVjdC5wcm90b3R5cGUgcG9sbHV0aW9uXG5cdFx0XHRcdC8vIFByZXZlbnQgbmV2ZXItZW5kaW5nIGxvb3Bcblx0XHRcdFx0aWYgKCBuYW1lID09PSBcIl9fcHJvdG9fX1wiIHx8IHRhcmdldCA9PT0gY29weSApIHtcblx0XHRcdFx0XHRjb250aW51ZTtcblx0XHRcdFx0fVxuXG5cdFx0XHRcdC8vIFJlY3Vyc2UgaWYgd2UncmUgbWVyZ2luZyBwbGFpbiBvYmplY3RzIG9yIGFycmF5c1xuXHRcdFx0XHRpZiAoIGRlZXAgJiYgY29weSAmJiAoIGpRdWVyeS5pc1BsYWluT2JqZWN0KCBjb3B5ICkgfHxcblx0XHRcdFx0XHQoIGNvcHlJc0FycmF5ID0gQXJyYXkuaXNBcnJheSggY29weSApICkgKSApIHtcblx0XHRcdFx0XHRzcmMgPSB0YXJnZXRbIG5hbWUgXTtcblxuXHRcdFx0XHRcdC8vIEVuc3VyZSBwcm9wZXIgdHlwZSBmb3IgdGhlIHNvdXJjZSB2YWx1ZVxuXHRcdFx0XHRcdGlmICggY29weUlzQXJyYXkgJiYgIUFycmF5LmlzQXJyYXkoIHNyYyApICkge1xuXHRcdFx0XHRcdFx0Y2xvbmUgPSBbXTtcblx0XHRcdFx0XHR9IGVsc2UgaWYgKCAhY29weUlzQXJyYXkgJiYgIWpRdWVyeS5pc1BsYWluT2JqZWN0KCBzcmMgKSApIHtcblx0XHRcdFx0XHRcdGNsb25lID0ge307XG5cdFx0XHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0XHRcdGNsb25lID0gc3JjO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0XHRjb3B5SXNBcnJheSA9IGZhbHNlO1xuXG5cdFx0XHRcdFx0Ly8gTmV2ZXIgbW92ZSBvcmlnaW5hbCBvYmplY3RzLCBjbG9uZSB0aGVtXG5cdFx0XHRcdFx0dGFyZ2V0WyBuYW1lIF0gPSBqUXVlcnkuZXh0ZW5kKCBkZWVwLCBjbG9uZSwgY29weSApO1xuXG5cdFx0XHRcdC8vIERvbid0IGJyaW5nIGluIHVuZGVmaW5lZCB2YWx1ZXNcblx0XHRcdFx0fSBlbHNlIGlmICggY29weSAhPT0gdW5kZWZpbmVkICkge1xuXHRcdFx0XHRcdHRhcmdldFsgbmFtZSBdID0gY29weTtcblx0XHRcdFx0fVxuXHRcdFx0fVxuXHRcdH1cblx0fVxuXG5cdC8vIFJldHVybiB0aGUgbW9kaWZpZWQgb2JqZWN0XG5cdHJldHVybiB0YXJnZXQ7XG59O1xuXG5qUXVlcnkuZXh0ZW5kKCB7XG5cblx0Ly8gVW5pcXVlIGZvciBlYWNoIGNvcHkgb2YgalF1ZXJ5IG9uIHRoZSBwYWdlXG5cdGV4cGFuZG86IFwialF1ZXJ5XCIgKyAoIHZlcnNpb24gKyBNYXRoLnJhbmRvbSgpICkucmVwbGFjZSggL1xcRC9nLCBcIlwiICksXG5cblx0Ly8gQXNzdW1lIGpRdWVyeSBpcyByZWFkeSB3aXRob3V0IHRoZSByZWFkeSBtb2R1bGVcblx0aXNSZWFkeTogdHJ1ZSxcblxuXHRlcnJvcjogZnVuY3Rpb24oIG1zZyApIHtcblx0XHR0aHJvdyBuZXcgRXJyb3IoIG1zZyApO1xuXHR9LFxuXG5cdG5vb3A6IGZ1bmN0aW9uKCkge30sXG5cblx0aXNQbGFpbk9iamVjdDogZnVuY3Rpb24oIG9iaiApIHtcblx0XHR2YXIgcHJvdG8sIEN0b3I7XG5cblx0XHQvLyBEZXRlY3Qgb2J2aW91cyBuZWdhdGl2ZXNcblx0XHQvLyBVc2UgdG9TdHJpbmcgaW5zdGVhZCBvZiBqUXVlcnkudHlwZSB0byBjYXRjaCBob3N0IG9iamVjdHNcblx0XHRpZiAoICFvYmogfHwgdG9TdHJpbmcuY2FsbCggb2JqICkgIT09IFwiW29iamVjdCBPYmplY3RdXCIgKSB7XG5cdFx0XHRyZXR1cm4gZmFsc2U7XG5cdFx0fVxuXG5cdFx0cHJvdG8gPSBnZXRQcm90byggb2JqICk7XG5cblx0XHQvLyBPYmplY3RzIHdpdGggbm8gcHJvdG90eXBlIChlLmcuLCBgT2JqZWN0LmNyZWF0ZSggbnVsbCApYCkgYXJlIHBsYWluXG5cdFx0aWYgKCAhcHJvdG8gKSB7XG5cdFx0XHRyZXR1cm4gdHJ1ZTtcblx0XHR9XG5cblx0XHQvLyBPYmplY3RzIHdpdGggcHJvdG90eXBlIGFyZSBwbGFpbiBpZmYgdGhleSB3ZXJlIGNvbnN0cnVjdGVkIGJ5IGEgZ2xvYmFsIE9iamVjdCBmdW5jdGlvblxuXHRcdEN0b3IgPSBoYXNPd24uY2FsbCggcHJvdG8sIFwiY29uc3RydWN0b3JcIiApICYmIHByb3RvLmNvbnN0cnVjdG9yO1xuXHRcdHJldHVybiB0eXBlb2YgQ3RvciA9PT0gXCJmdW5jdGlvblwiICYmIGZuVG9TdHJpbmcuY2FsbCggQ3RvciApID09PSBPYmplY3RGdW5jdGlvblN0cmluZztcblx0fSxcblxuXHRpc0VtcHR5T2JqZWN0OiBmdW5jdGlvbiggb2JqICkge1xuXHRcdHZhciBuYW1lO1xuXG5cdFx0Zm9yICggbmFtZSBpbiBvYmogKSB7XG5cdFx0XHRyZXR1cm4gZmFsc2U7XG5cdFx0fVxuXHRcdHJldHVybiB0cnVlO1xuXHR9LFxuXG5cdC8vIEV2YWx1YXRlcyBhIHNjcmlwdCBpbiBhIHByb3ZpZGVkIGNvbnRleHQ7IGZhbGxzIGJhY2sgdG8gdGhlIGdsb2JhbCBvbmVcblx0Ly8gaWYgbm90IHNwZWNpZmllZC5cblx0Z2xvYmFsRXZhbDogZnVuY3Rpb24oIGNvZGUsIG9wdGlvbnMsIGRvYyApIHtcblx0XHRET01FdmFsKCBjb2RlLCB7IG5vbmNlOiBvcHRpb25zICYmIG9wdGlvbnMubm9uY2UgfSwgZG9jICk7XG5cdH0sXG5cblx0ZWFjaDogZnVuY3Rpb24oIG9iaiwgY2FsbGJhY2sgKSB7XG5cdFx0dmFyIGxlbmd0aCwgaSA9IDA7XG5cblx0XHRpZiAoIGlzQXJyYXlMaWtlKCBvYmogKSApIHtcblx0XHRcdGxlbmd0aCA9IG9iai5sZW5ndGg7XG5cdFx0XHRmb3IgKCA7IGkgPCBsZW5ndGg7IGkrKyApIHtcblx0XHRcdFx0aWYgKCBjYWxsYmFjay5jYWxsKCBvYmpbIGkgXSwgaSwgb2JqWyBpIF0gKSA9PT0gZmFsc2UgKSB7XG5cdFx0XHRcdFx0YnJlYWs7XG5cdFx0XHRcdH1cblx0XHRcdH1cblx0XHR9IGVsc2Uge1xuXHRcdFx0Zm9yICggaSBpbiBvYmogKSB7XG5cdFx0XHRcdGlmICggY2FsbGJhY2suY2FsbCggb2JqWyBpIF0sIGksIG9ialsgaSBdICkgPT09IGZhbHNlICkge1xuXHRcdFx0XHRcdGJyZWFrO1xuXHRcdFx0XHR9XG5cdFx0XHR9XG5cdFx0fVxuXG5cdFx0cmV0dXJuIG9iajtcblx0fSxcblxuXHQvLyByZXN1bHRzIGlzIGZvciBpbnRlcm5hbCB1c2FnZSBvbmx5XG5cdG1ha2VBcnJheTogZnVuY3Rpb24oIGFyciwgcmVzdWx0cyApIHtcblx0XHR2YXIgcmV0ID0gcmVzdWx0cyB8fCBbXTtcblxuXHRcdGlmICggYXJyICE9IG51bGwgKSB7XG5cdFx0XHRpZiAoIGlzQXJyYXlMaWtlKCBPYmplY3QoIGFyciApICkgKSB7XG5cdFx0XHRcdGpRdWVyeS5tZXJnZSggcmV0LFxuXHRcdFx0XHRcdHR5cGVvZiBhcnIgPT09IFwic3RyaW5nXCIgP1xuXHRcdFx0XHRcdFsgYXJyIF0gOiBhcnJcblx0XHRcdFx0KTtcblx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdHB1c2guY2FsbCggcmV0LCBhcnIgKTtcblx0XHRcdH1cblx0XHR9XG5cblx0XHRyZXR1cm4gcmV0O1xuXHR9LFxuXG5cdGluQXJyYXk6IGZ1bmN0aW9uKCBlbGVtLCBhcnIsIGkgKSB7XG5cdFx0cmV0dXJuIGFyciA9PSBudWxsID8gLTEgOiBpbmRleE9mLmNhbGwoIGFyciwgZWxlbSwgaSApO1xuXHR9LFxuXG5cdC8vIFN1cHBvcnQ6IEFuZHJvaWQgPD00LjAgb25seSwgUGhhbnRvbUpTIDEgb25seVxuXHQvLyBwdXNoLmFwcGx5KF8sIGFycmF5bGlrZSkgdGhyb3dzIG9uIGFuY2llbnQgV2ViS2l0XG5cdG1lcmdlOiBmdW5jdGlvbiggZmlyc3QsIHNlY29uZCApIHtcblx0XHR2YXIgbGVuID0gK3NlY29uZC5sZW5ndGgsXG5cdFx0XHRqID0gMCxcblx0XHRcdGkgPSBmaXJzdC5sZW5ndGg7XG5cblx0XHRmb3IgKCA7IGogPCBsZW47IGorKyApIHtcblx0XHRcdGZpcnN0WyBpKysgXSA9IHNlY29uZFsgaiBdO1xuXHRcdH1cblxuXHRcdGZpcnN0Lmxlbmd0aCA9IGk7XG5cblx0XHRyZXR1cm4gZmlyc3Q7XG5cdH0sXG5cblx0Z3JlcDogZnVuY3Rpb24oIGVsZW1zLCBjYWxsYmFjaywgaW52ZXJ0ICkge1xuXHRcdHZhciBjYWxsYmFja0ludmVyc2UsXG5cdFx0XHRtYXRjaGVzID0gW10sXG5cdFx0XHRpID0gMCxcblx0XHRcdGxlbmd0aCA9IGVsZW1zLmxlbmd0aCxcblx0XHRcdGNhbGxiYWNrRXhwZWN0ID0gIWludmVydDtcblxuXHRcdC8vIEdvIHRocm91Z2ggdGhlIGFycmF5LCBvbmx5IHNhdmluZyB0aGUgaXRlbXNcblx0XHQvLyB0aGF0IHBhc3MgdGhlIHZhbGlkYXRvciBmdW5jdGlvblxuXHRcdGZvciAoIDsgaSA8IGxlbmd0aDsgaSsrICkge1xuXHRcdFx0Y2FsbGJhY2tJbnZlcnNlID0gIWNhbGxiYWNrKCBlbGVtc1sgaSBdLCBpICk7XG5cdFx0XHRpZiAoIGNhbGxiYWNrSW52ZXJzZSAhPT0gY2FsbGJhY2tFeHBlY3QgKSB7XG5cdFx0XHRcdG1hdGNoZXMucHVzaCggZWxlbXNbIGkgXSApO1xuXHRcdFx0fVxuXHRcdH1cblxuXHRcdHJldHVybiBtYXRjaGVzO1xuXHR9LFxuXG5cdC8vIGFyZyBpcyBmb3IgaW50ZXJuYWwgdXNhZ2Ugb25seVxuXHRtYXA6IGZ1bmN0aW9uKCBlbGVtcywgY2FsbGJhY2ssIGFyZyApIHtcblx0XHR2YXIgbGVuZ3RoLCB2YWx1ZSxcblx0XHRcdGkgPSAwLFxuXHRcdFx0cmV0ID0gW107XG5cblx0XHQvLyBHbyB0aHJvdWdoIHRoZSBhcnJheSwgdHJhbnNsYXRpbmcgZWFjaCBvZiB0aGUgaXRlbXMgdG8gdGhlaXIgbmV3IHZhbHVlc1xuXHRcdGlmICggaXNBcnJheUxpa2UoIGVsZW1zICkgKSB7XG5cdFx0XHRsZW5ndGggPSBlbGVtcy5sZW5ndGg7XG5cdFx0XHRmb3IgKCA7IGkgPCBsZW5ndGg7IGkrKyApIHtcblx0XHRcdFx0dmFsdWUgPSBjYWxsYmFjayggZWxlbXNbIGkgXSwgaSwgYXJnICk7XG5cblx0XHRcdFx0aWYgKCB2YWx1ZSAhPSBudWxsICkge1xuXHRcdFx0XHRcdHJldC5wdXNoKCB2YWx1ZSApO1xuXHRcdFx0XHR9XG5cdFx0XHR9XG5cblx0XHQvLyBHbyB0aHJvdWdoIGV2ZXJ5IGtleSBvbiB0aGUgb2JqZWN0LFxuXHRcdH0gZWxzZSB7XG5cdFx0XHRmb3IgKCBpIGluIGVsZW1zICkge1xuXHRcdFx0XHR2YWx1ZSA9IGNhbGxiYWNrKCBlbGVtc1sgaSBdLCBpLCBhcmcgKTtcblxuXHRcdFx0XHRpZiAoIHZhbHVlICE9IG51bGwgKSB7XG5cdFx0XHRcdFx0cmV0LnB1c2goIHZhbHVlICk7XG5cdFx0XHRcdH1cblx0XHRcdH1cblx0XHR9XG5cblx0XHQvLyBGbGF0dGVuIGFueSBuZXN0ZWQgYXJyYXlzXG5cdFx0cmV0dXJuIGZsYXQoIHJldCApO1xuXHR9LFxuXG5cdC8vIEEgZ2xvYmFsIEdVSUQgY291bnRlciBmb3Igb2JqZWN0c1xuXHRndWlkOiAxLFxuXG5cdC8vIGpRdWVyeS5zdXBwb3J0IGlzIG5vdCB1c2VkIGluIENvcmUgYnV0IG90aGVyIHByb2plY3RzIGF0dGFjaCB0aGVpclxuXHQvLyBwcm9wZXJ0aWVzIHRvIGl0IHNvIGl0IG5lZWRzIHRvIGV4aXN0LlxuXHRzdXBwb3J0OiBzdXBwb3J0XG59ICk7XG5cbmlmICggdHlwZW9mIFN5bWJvbCA9PT0gXCJmdW5jdGlvblwiICkge1xuXHRqUXVlcnkuZm5bIFN5bWJvbC5pdGVyYXRvciBdID0gYXJyWyBTeW1ib2wuaXRlcmF0b3IgXTtcbn1cblxuLy8gUG9wdWxhdGUgdGhlIGNsYXNzMnR5cGUgbWFwXG5qUXVlcnkuZWFjaCggXCJCb29sZWFuIE51bWJlciBTdHJpbmcgRnVuY3Rpb24gQXJyYXkgRGF0ZSBSZWdFeHAgT2JqZWN0IEVycm9yIFN5bWJvbFwiLnNwbGl0KCBcIiBcIiApLFxuZnVuY3Rpb24oIF9pLCBuYW1lICkge1xuXHRjbGFzczJ0eXBlWyBcIltvYmplY3QgXCIgKyBuYW1lICsgXCJdXCIgXSA9IG5hbWUudG9Mb3dlckNhc2UoKTtcbn0gKTtcblxuZnVuY3Rpb24gaXNBcnJheUxpa2UoIG9iaiApIHtcblxuXHQvLyBTdXBwb3J0OiByZWFsIGlPUyA4LjIgb25seSAobm90IHJlcHJvZHVjaWJsZSBpbiBzaW11bGF0b3IpXG5cdC8vIGBpbmAgY2hlY2sgdXNlZCB0byBwcmV2ZW50IEpJVCBlcnJvciAoZ2gtMjE0NSlcblx0Ly8gaGFzT3duIGlzbid0IHVzZWQgaGVyZSBkdWUgdG8gZmFsc2UgbmVnYXRpdmVzXG5cdC8vIHJlZ2FyZGluZyBOb2RlbGlzdCBsZW5ndGggaW4gSUVcblx0dmFyIGxlbmd0aCA9ICEhb2JqICYmIFwibGVuZ3RoXCIgaW4gb2JqICYmIG9iai5sZW5ndGgsXG5cdFx0dHlwZSA9IHRvVHlwZSggb2JqICk7XG5cblx0aWYgKCBpc0Z1bmN0aW9uKCBvYmogKSB8fCBpc1dpbmRvdyggb2JqICkgKSB7XG5cdFx0cmV0dXJuIGZhbHNlO1xuXHR9XG5cblx0cmV0dXJuIHR5cGUgPT09IFwiYXJyYXlcIiB8fCBsZW5ndGggPT09IDAgfHxcblx0XHR0eXBlb2YgbGVuZ3RoID09PSBcIm51bWJlclwiICYmIGxlbmd0aCA+IDAgJiYgKCBsZW5ndGggLSAxICkgaW4gb2JqO1xufVxudmFyIFNpenpsZSA9XG4vKiFcbiAqIFNpenpsZSBDU1MgU2VsZWN0b3IgRW5naW5lIHYyLjMuNVxuICogaHR0cHM6Ly9zaXp6bGVqcy5jb20vXG4gKlxuICogQ29weXJpZ2h0IEpTIEZvdW5kYXRpb24gYW5kIG90aGVyIGNvbnRyaWJ1dG9yc1xuICogUmVsZWFzZWQgdW5kZXIgdGhlIE1JVCBsaWNlbnNlXG4gKiBodHRwczovL2pzLmZvdW5kYXRpb24vXG4gKlxuICogRGF0ZTogMjAyMC0wMy0xNFxuICovXG4oIGZ1bmN0aW9uKCB3aW5kb3cgKSB7XG52YXIgaSxcblx0c3VwcG9ydCxcblx0RXhwcixcblx0Z2V0VGV4dCxcblx0aXNYTUwsXG5cdHRva2VuaXplLFxuXHRjb21waWxlLFxuXHRzZWxlY3QsXG5cdG91dGVybW9zdENvbnRleHQsXG5cdHNvcnRJbnB1dCxcblx0aGFzRHVwbGljYXRlLFxuXG5cdC8vIExvY2FsIGRvY3VtZW50IHZhcnNcblx0c2V0RG9jdW1lbnQsXG5cdGRvY3VtZW50LFxuXHRkb2NFbGVtLFxuXHRkb2N1bWVudElzSFRNTCxcblx0cmJ1Z2d5UVNBLFxuXHRyYnVnZ3lNYXRjaGVzLFxuXHRtYXRjaGVzLFxuXHRjb250YWlucyxcblxuXHQvLyBJbnN0YW5jZS1zcGVjaWZpYyBkYXRhXG5cdGV4cGFuZG8gPSBcInNpenpsZVwiICsgMSAqIG5ldyBEYXRlKCksXG5cdHByZWZlcnJlZERvYyA9IHdpbmRvdy5kb2N1bWVudCxcblx0ZGlycnVucyA9IDAsXG5cdGRvbmUgPSAwLFxuXHRjbGFzc0NhY2hlID0gY3JlYXRlQ2FjaGUoKSxcblx0dG9rZW5DYWNoZSA9IGNyZWF0ZUNhY2hlKCksXG5cdGNvbXBpbGVyQ2FjaGUgPSBjcmVhdGVDYWNoZSgpLFxuXHRub25uYXRpdmVTZWxlY3RvckNhY2hlID0gY3JlYXRlQ2FjaGUoKSxcblx0c29ydE9yZGVyID0gZnVuY3Rpb24oIGEsIGIgKSB7XG5cdFx0aWYgKCBhID09PSBiICkge1xuXHRcdFx0aGFzRHVwbGljYXRlID0gdHJ1ZTtcblx0XHR9XG5cdFx0cmV0dXJuIDA7XG5cdH0sXG5cblx0Ly8gSW5zdGFuY2UgbWV0aG9kc1xuXHRoYXNPd24gPSAoIHt9ICkuaGFzT3duUHJvcGVydHksXG5cdGFyciA9IFtdLFxuXHRwb3AgPSBhcnIucG9wLFxuXHRwdXNoTmF0aXZlID0gYXJyLnB1c2gsXG5cdHB1c2ggPSBhcnIucHVzaCxcblx0c2xpY2UgPSBhcnIuc2xpY2UsXG5cblx0Ly8gVXNlIGEgc3RyaXBwZWQtZG93biBpbmRleE9mIGFzIGl0J3MgZmFzdGVyIHRoYW4gbmF0aXZlXG5cdC8vIGh0dHBzOi8vanNwZXJmLmNvbS90aG9yLWluZGV4b2YtdnMtZm9yLzVcblx0aW5kZXhPZiA9IGZ1bmN0aW9uKCBsaXN0LCBlbGVtICkge1xuXHRcdHZhciBpID0gMCxcblx0XHRcdGxlbiA9IGxpc3QubGVuZ3RoO1xuXHRcdGZvciAoIDsgaSA8IGxlbjsgaSsrICkge1xuXHRcdFx0aWYgKCBsaXN0WyBpIF0gPT09IGVsZW0gKSB7XG5cdFx0XHRcdHJldHVybiBpO1xuXHRcdFx0fVxuXHRcdH1cblx0XHRyZXR1cm4gLTE7XG5cdH0sXG5cblx0Ym9vbGVhbnMgPSBcImNoZWNrZWR8c2VsZWN0ZWR8YXN5bmN8YXV0b2ZvY3VzfGF1dG9wbGF5fGNvbnRyb2xzfGRlZmVyfGRpc2FibGVkfGhpZGRlbnxcIiArXG5cdFx0XCJpc21hcHxsb29wfG11bHRpcGxlfG9wZW58cmVhZG9ubHl8cmVxdWlyZWR8c2NvcGVkXCIsXG5cblx0Ly8gUmVndWxhciBleHByZXNzaW9uc1xuXG5cdC8vIGh0dHA6Ly93d3cudzMub3JnL1RSL2NzczMtc2VsZWN0b3JzLyN3aGl0ZXNwYWNlXG5cdHdoaXRlc3BhY2UgPSBcIltcXFxceDIwXFxcXHRcXFxcclxcXFxuXFxcXGZdXCIsXG5cblx0Ly8gaHR0cHM6Ly93d3cudzMub3JnL1RSL2Nzcy1zeW50YXgtMy8jaWRlbnQtdG9rZW4tZGlhZ3JhbVxuXHRpZGVudGlmaWVyID0gXCIoPzpcXFxcXFxcXFtcXFxcZGEtZkEtRl17MSw2fVwiICsgd2hpdGVzcGFjZSArXG5cdFx0XCI/fFxcXFxcXFxcW15cXFxcclxcXFxuXFxcXGZdfFtcXFxcdy1dfFteXFwwLVxcXFx4N2ZdKStcIixcblxuXHQvLyBBdHRyaWJ1dGUgc2VsZWN0b3JzOiBodHRwOi8vd3d3LnczLm9yZy9UUi9zZWxlY3RvcnMvI2F0dHJpYnV0ZS1zZWxlY3RvcnNcblx0YXR0cmlidXRlcyA9IFwiXFxcXFtcIiArIHdoaXRlc3BhY2UgKyBcIiooXCIgKyBpZGVudGlmaWVyICsgXCIpKD86XCIgKyB3aGl0ZXNwYWNlICtcblxuXHRcdC8vIE9wZXJhdG9yIChjYXB0dXJlIDIpXG5cdFx0XCIqKFsqXiR8IX5dPz0pXCIgKyB3aGl0ZXNwYWNlICtcblxuXHRcdC8vIFwiQXR0cmlidXRlIHZhbHVlcyBtdXN0IGJlIENTUyBpZGVudGlmaWVycyBbY2FwdHVyZSA1XVxuXHRcdC8vIG9yIHN0cmluZ3MgW2NhcHR1cmUgMyBvciBjYXB0dXJlIDRdXCJcblx0XHRcIiooPzonKCg/OlxcXFxcXFxcLnxbXlxcXFxcXFxcJ10pKiknfFxcXCIoKD86XFxcXFxcXFwufFteXFxcXFxcXFxcXFwiXSkqKVxcXCJ8KFwiICsgaWRlbnRpZmllciArIFwiKSl8KVwiICtcblx0XHR3aGl0ZXNwYWNlICsgXCIqXFxcXF1cIixcblxuXHRwc2V1ZG9zID0gXCI6KFwiICsgaWRlbnRpZmllciArIFwiKSg/OlxcXFwoKFwiICtcblxuXHRcdC8vIFRvIHJlZHVjZSB0aGUgbnVtYmVyIG9mIHNlbGVjdG9ycyBuZWVkaW5nIHRva2VuaXplIGluIHRoZSBwcmVGaWx0ZXIsIHByZWZlciBhcmd1bWVudHM6XG5cdFx0Ly8gMS4gcXVvdGVkIChjYXB0dXJlIDM7IGNhcHR1cmUgNCBvciBjYXB0dXJlIDUpXG5cdFx0XCIoJygoPzpcXFxcXFxcXC58W15cXFxcXFxcXCddKSopJ3xcXFwiKCg/OlxcXFxcXFxcLnxbXlxcXFxcXFxcXFxcIl0pKilcXFwiKXxcIiArXG5cblx0XHQvLyAyLiBzaW1wbGUgKGNhcHR1cmUgNilcblx0XHRcIigoPzpcXFxcXFxcXC58W15cXFxcXFxcXCgpW1xcXFxdXXxcIiArIGF0dHJpYnV0ZXMgKyBcIikqKXxcIiArXG5cblx0XHQvLyAzLiBhbnl0aGluZyBlbHNlIChjYXB0dXJlIDIpXG5cdFx0XCIuKlwiICtcblx0XHRcIilcXFxcKXwpXCIsXG5cblx0Ly8gTGVhZGluZyBhbmQgbm9uLWVzY2FwZWQgdHJhaWxpbmcgd2hpdGVzcGFjZSwgY2FwdHVyaW5nIHNvbWUgbm9uLXdoaXRlc3BhY2UgY2hhcmFjdGVycyBwcmVjZWRpbmcgdGhlIGxhdHRlclxuXHRyd2hpdGVzcGFjZSA9IG5ldyBSZWdFeHAoIHdoaXRlc3BhY2UgKyBcIitcIiwgXCJnXCIgKSxcblx0cnRyaW0gPSBuZXcgUmVnRXhwKCBcIl5cIiArIHdoaXRlc3BhY2UgKyBcIit8KCg/Ol58W15cXFxcXFxcXF0pKD86XFxcXFxcXFwuKSopXCIgK1xuXHRcdHdoaXRlc3BhY2UgKyBcIiskXCIsIFwiZ1wiICksXG5cblx0cmNvbW1hID0gbmV3IFJlZ0V4cCggXCJeXCIgKyB3aGl0ZXNwYWNlICsgXCIqLFwiICsgd2hpdGVzcGFjZSArIFwiKlwiICksXG5cdHJjb21iaW5hdG9ycyA9IG5ldyBSZWdFeHAoIFwiXlwiICsgd2hpdGVzcGFjZSArIFwiKihbPit+XXxcIiArIHdoaXRlc3BhY2UgKyBcIilcIiArIHdoaXRlc3BhY2UgK1xuXHRcdFwiKlwiICksXG5cdHJkZXNjZW5kID0gbmV3IFJlZ0V4cCggd2hpdGVzcGFjZSArIFwifD5cIiApLFxuXG5cdHJwc2V1ZG8gPSBuZXcgUmVnRXhwKCBwc2V1ZG9zICksXG5cdHJpZGVudGlmaWVyID0gbmV3IFJlZ0V4cCggXCJeXCIgKyBpZGVudGlmaWVyICsgXCIkXCIgKSxcblxuXHRtYXRjaEV4cHIgPSB7XG5cdFx0XCJJRFwiOiBuZXcgUmVnRXhwKCBcIl4jKFwiICsgaWRlbnRpZmllciArIFwiKVwiICksXG5cdFx0XCJDTEFTU1wiOiBuZXcgUmVnRXhwKCBcIl5cXFxcLihcIiArIGlkZW50aWZpZXIgKyBcIilcIiApLFxuXHRcdFwiVEFHXCI6IG5ldyBSZWdFeHAoIFwiXihcIiArIGlkZW50aWZpZXIgKyBcInxbKl0pXCIgKSxcblx0XHRcIkFUVFJcIjogbmV3IFJlZ0V4cCggXCJeXCIgKyBhdHRyaWJ1dGVzICksXG5cdFx0XCJQU0VVRE9cIjogbmV3IFJlZ0V4cCggXCJeXCIgKyBwc2V1ZG9zICksXG5cdFx0XCJDSElMRFwiOiBuZXcgUmVnRXhwKCBcIl46KG9ubHl8Zmlyc3R8bGFzdHxudGh8bnRoLWxhc3QpLShjaGlsZHxvZi10eXBlKSg/OlxcXFwoXCIgK1xuXHRcdFx0d2hpdGVzcGFjZSArIFwiKihldmVufG9kZHwoKFsrLV18KShcXFxcZCopbnwpXCIgKyB3aGl0ZXNwYWNlICsgXCIqKD86KFsrLV18KVwiICtcblx0XHRcdHdoaXRlc3BhY2UgKyBcIiooXFxcXGQrKXwpKVwiICsgd2hpdGVzcGFjZSArIFwiKlxcXFwpfClcIiwgXCJpXCIgKSxcblx0XHRcImJvb2xcIjogbmV3IFJlZ0V4cCggXCJeKD86XCIgKyBib29sZWFucyArIFwiKSRcIiwgXCJpXCIgKSxcblxuXHRcdC8vIEZvciB1c2UgaW4gbGlicmFyaWVzIGltcGxlbWVudGluZyAuaXMoKVxuXHRcdC8vIFdlIHVzZSB0aGlzIGZvciBQT1MgbWF0Y2hpbmcgaW4gYHNlbGVjdGBcblx0XHRcIm5lZWRzQ29udGV4dFwiOiBuZXcgUmVnRXhwKCBcIl5cIiArIHdoaXRlc3BhY2UgK1xuXHRcdFx0XCIqWz4rfl18OihldmVufG9kZHxlcXxndHxsdHxudGh8Zmlyc3R8bGFzdCkoPzpcXFxcKFwiICsgd2hpdGVzcGFjZSArXG5cdFx0XHRcIiooKD86LVxcXFxkKT9cXFxcZCopXCIgKyB3aGl0ZXNwYWNlICsgXCIqXFxcXCl8KSg/PVteLV18JClcIiwgXCJpXCIgKVxuXHR9LFxuXG5cdHJodG1sID0gL0hUTUwkL2ksXG5cdHJpbnB1dHMgPSAvXig/OmlucHV0fHNlbGVjdHx0ZXh0YXJlYXxidXR0b24pJC9pLFxuXHRyaGVhZGVyID0gL15oXFxkJC9pLFxuXG5cdHJuYXRpdmUgPSAvXltee10rXFx7XFxzKlxcW25hdGl2ZSBcXHcvLFxuXG5cdC8vIEVhc2lseS1wYXJzZWFibGUvcmV0cmlldmFibGUgSUQgb3IgVEFHIG9yIENMQVNTIHNlbGVjdG9yc1xuXHRycXVpY2tFeHByID0gL14oPzojKFtcXHctXSspfChcXHcrKXxcXC4oW1xcdy1dKykpJC8sXG5cblx0cnNpYmxpbmcgPSAvWyt+XS8sXG5cblx0Ly8gQ1NTIGVzY2FwZXNcblx0Ly8gaHR0cDovL3d3dy53My5vcmcvVFIvQ1NTMjEvc3luZGF0YS5odG1sI2VzY2FwZWQtY2hhcmFjdGVyc1xuXHRydW5lc2NhcGUgPSBuZXcgUmVnRXhwKCBcIlxcXFxcXFxcW1xcXFxkYS1mQS1GXXsxLDZ9XCIgKyB3aGl0ZXNwYWNlICsgXCI/fFxcXFxcXFxcKFteXFxcXHJcXFxcblxcXFxmXSlcIiwgXCJnXCIgKSxcblx0ZnVuZXNjYXBlID0gZnVuY3Rpb24oIGVzY2FwZSwgbm9uSGV4ICkge1xuXHRcdHZhciBoaWdoID0gXCIweFwiICsgZXNjYXBlLnNsaWNlKCAxICkgLSAweDEwMDAwO1xuXG5cdFx0cmV0dXJuIG5vbkhleCA/XG5cblx0XHRcdC8vIFN0cmlwIHRoZSBiYWNrc2xhc2ggcHJlZml4IGZyb20gYSBub24taGV4IGVzY2FwZSBzZXF1ZW5jZVxuXHRcdFx0bm9uSGV4IDpcblxuXHRcdFx0Ly8gUmVwbGFjZSBhIGhleGFkZWNpbWFsIGVzY2FwZSBzZXF1ZW5jZSB3aXRoIHRoZSBlbmNvZGVkIFVuaWNvZGUgY29kZSBwb2ludFxuXHRcdFx0Ly8gU3VwcG9ydDogSUUgPD0xMStcblx0XHRcdC8vIEZvciB2YWx1ZXMgb3V0c2lkZSB0aGUgQmFzaWMgTXVsdGlsaW5ndWFsIFBsYW5lIChCTVApLCBtYW51YWxseSBjb25zdHJ1Y3QgYVxuXHRcdFx0Ly8gc3Vycm9nYXRlIHBhaXJcblx0XHRcdGhpZ2ggPCAwID9cblx0XHRcdFx0U3RyaW5nLmZyb21DaGFyQ29kZSggaGlnaCArIDB4MTAwMDAgKSA6XG5cdFx0XHRcdFN0cmluZy5mcm9tQ2hhckNvZGUoIGhpZ2ggPj4gMTAgfCAweEQ4MDAsIGhpZ2ggJiAweDNGRiB8IDB4REMwMCApO1xuXHR9LFxuXG5cdC8vIENTUyBzdHJpbmcvaWRlbnRpZmllciBzZXJpYWxpemF0aW9uXG5cdC8vIGh0dHBzOi8vZHJhZnRzLmNzc3dnLm9yZy9jc3NvbS8jY29tbW9uLXNlcmlhbGl6aW5nLWlkaW9tc1xuXHRyY3NzZXNjYXBlID0gLyhbXFwwLVxceDFmXFx4N2ZdfF4tP1xcZCl8Xi0kfFteXFwwLVxceDFmXFx4N2YtXFx1RkZGRlxcdy1dL2csXG5cdGZjc3Nlc2NhcGUgPSBmdW5jdGlvbiggY2gsIGFzQ29kZVBvaW50ICkge1xuXHRcdGlmICggYXNDb2RlUG9pbnQgKSB7XG5cblx0XHRcdC8vIFUrMDAwMCBOVUxMIGJlY29tZXMgVStGRkZEIFJFUExBQ0VNRU5UIENIQVJBQ1RFUlxuXHRcdFx0aWYgKCBjaCA9PT0gXCJcXDBcIiApIHtcblx0XHRcdFx0cmV0dXJuIFwiXFx1RkZGRFwiO1xuXHRcdFx0fVxuXG5cdFx0XHQvLyBDb250cm9sIGNoYXJhY3RlcnMgYW5kIChkZXBlbmRlbnQgdXBvbiBwb3NpdGlvbikgbnVtYmVycyBnZXQgZXNjYXBlZCBhcyBjb2RlIHBvaW50c1xuXHRcdFx0cmV0dXJuIGNoLnNsaWNlKCAwLCAtMSApICsgXCJcXFxcXCIgK1xuXHRcdFx0XHRjaC5jaGFyQ29kZUF0KCBjaC5sZW5ndGggLSAxICkudG9TdHJpbmcoIDE2ICkgKyBcIiBcIjtcblx0XHR9XG5cblx0XHQvLyBPdGhlciBwb3RlbnRpYWxseS1zcGVjaWFsIEFTQ0lJIGNoYXJhY3RlcnMgZ2V0IGJhY2tzbGFzaC1lc2NhcGVkXG5cdFx0cmV0dXJuIFwiXFxcXFwiICsgY2g7XG5cdH0sXG5cblx0Ly8gVXNlZCBmb3IgaWZyYW1lc1xuXHQvLyBTZWUgc2V0RG9jdW1lbnQoKVxuXHQvLyBSZW1vdmluZyB0aGUgZnVuY3Rpb24gd3JhcHBlciBjYXVzZXMgYSBcIlBlcm1pc3Npb24gRGVuaWVkXCJcblx0Ly8gZXJyb3IgaW4gSUVcblx0dW5sb2FkSGFuZGxlciA9IGZ1bmN0aW9uKCkge1xuXHRcdHNldERvY3VtZW50KCk7XG5cdH0sXG5cblx0aW5EaXNhYmxlZEZpZWxkc2V0ID0gYWRkQ29tYmluYXRvcihcblx0XHRmdW5jdGlvbiggZWxlbSApIHtcblx0XHRcdHJldHVybiBlbGVtLmRpc2FibGVkID09PSB0cnVlICYmIGVsZW0ubm9kZU5hbWUudG9Mb3dlckNhc2UoKSA9PT0gXCJmaWVsZHNldFwiO1xuXHRcdH0sXG5cdFx0eyBkaXI6IFwicGFyZW50Tm9kZVwiLCBuZXh0OiBcImxlZ2VuZFwiIH1cblx0KTtcblxuLy8gT3B0aW1pemUgZm9yIHB1c2guYXBwbHkoIF8sIE5vZGVMaXN0IClcbnRyeSB7XG5cdHB1c2guYXBwbHkoXG5cdFx0KCBhcnIgPSBzbGljZS5jYWxsKCBwcmVmZXJyZWREb2MuY2hpbGROb2RlcyApICksXG5cdFx0cHJlZmVycmVkRG9jLmNoaWxkTm9kZXNcblx0KTtcblxuXHQvLyBTdXBwb3J0OiBBbmRyb2lkPDQuMFxuXHQvLyBEZXRlY3Qgc2lsZW50bHkgZmFpbGluZyBwdXNoLmFwcGx5XG5cdC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby11bnVzZWQtZXhwcmVzc2lvbnNcblx0YXJyWyBwcmVmZXJyZWREb2MuY2hpbGROb2Rlcy5sZW5ndGggXS5ub2RlVHlwZTtcbn0gY2F0Y2ggKCBlICkge1xuXHRwdXNoID0geyBhcHBseTogYXJyLmxlbmd0aCA/XG5cblx0XHQvLyBMZXZlcmFnZSBzbGljZSBpZiBwb3NzaWJsZVxuXHRcdGZ1bmN0aW9uKCB0YXJnZXQsIGVscyApIHtcblx0XHRcdHB1c2hOYXRpdmUuYXBwbHkoIHRhcmdldCwgc2xpY2UuY2FsbCggZWxzICkgKTtcblx0XHR9IDpcblxuXHRcdC8vIFN1cHBvcnQ6IElFPDlcblx0XHQvLyBPdGhlcndpc2UgYXBwZW5kIGRpcmVjdGx5XG5cdFx0ZnVuY3Rpb24oIHRhcmdldCwgZWxzICkge1xuXHRcdFx0dmFyIGogPSB0YXJnZXQubGVuZ3RoLFxuXHRcdFx0XHRpID0gMDtcblxuXHRcdFx0Ly8gQ2FuJ3QgdHJ1c3QgTm9kZUxpc3QubGVuZ3RoXG5cdFx0XHR3aGlsZSAoICggdGFyZ2V0WyBqKysgXSA9IGVsc1sgaSsrIF0gKSApIHt9XG5cdFx0XHR0YXJnZXQubGVuZ3RoID0gaiAtIDE7XG5cdFx0fVxuXHR9O1xufVxuXG5mdW5jdGlvbiBTaXp6bGUoIHNlbGVjdG9yLCBjb250ZXh0LCByZXN1bHRzLCBzZWVkICkge1xuXHR2YXIgbSwgaSwgZWxlbSwgbmlkLCBtYXRjaCwgZ3JvdXBzLCBuZXdTZWxlY3Rvcixcblx0XHRuZXdDb250ZXh0ID0gY29udGV4dCAmJiBjb250ZXh0Lm93bmVyRG9jdW1lbnQsXG5cblx0XHQvLyBub2RlVHlwZSBkZWZhdWx0cyB0byA5LCBzaW5jZSBjb250ZXh0IGRlZmF1bHRzIHRvIGRvY3VtZW50XG5cdFx0bm9kZVR5cGUgPSBjb250ZXh0ID8gY29udGV4dC5ub2RlVHlwZSA6IDk7XG5cblx0cmVzdWx0cyA9IHJlc3VsdHMgfHwgW107XG5cblx0Ly8gUmV0dXJuIGVhcmx5IGZyb20gY2FsbHMgd2l0aCBpbnZhbGlkIHNlbGVjdG9yIG9yIGNvbnRleHRcblx0aWYgKCB0eXBlb2Ygc2VsZWN0b3IgIT09IFwic3RyaW5nXCIgfHwgIXNlbGVjdG9yIHx8XG5cdFx0bm9kZVR5cGUgIT09IDEgJiYgbm9kZVR5cGUgIT09IDkgJiYgbm9kZVR5cGUgIT09IDExICkge1xuXG5cdFx0cmV0dXJuIHJlc3VsdHM7XG5cdH1cblxuXHQvLyBUcnkgdG8gc2hvcnRjdXQgZmluZCBvcGVyYXRpb25zIChhcyBvcHBvc2VkIHRvIGZpbHRlcnMpIGluIEhUTUwgZG9jdW1lbnRzXG5cdGlmICggIXNlZWQgKSB7XG5cdFx0c2V0RG9jdW1lbnQoIGNvbnRleHQgKTtcblx0XHRjb250ZXh0ID0gY29udGV4dCB8fCBkb2N1bWVudDtcblxuXHRcdGlmICggZG9jdW1lbnRJc0hUTUwgKSB7XG5cblx0XHRcdC8vIElmIHRoZSBzZWxlY3RvciBpcyBzdWZmaWNpZW50bHkgc2ltcGxlLCB0cnkgdXNpbmcgYSBcImdldCpCeSpcIiBET00gbWV0aG9kXG5cdFx0XHQvLyAoZXhjZXB0aW5nIERvY3VtZW50RnJhZ21lbnQgY29udGV4dCwgd2hlcmUgdGhlIG1ldGhvZHMgZG9uJ3QgZXhpc3QpXG5cdFx0XHRpZiAoIG5vZGVUeXBlICE9PSAxMSAmJiAoIG1hdGNoID0gcnF1aWNrRXhwci5leGVjKCBzZWxlY3RvciApICkgKSB7XG5cblx0XHRcdFx0Ly8gSUQgc2VsZWN0b3Jcblx0XHRcdFx0aWYgKCAoIG0gPSBtYXRjaFsgMSBdICkgKSB7XG5cblx0XHRcdFx0XHQvLyBEb2N1bWVudCBjb250ZXh0XG5cdFx0XHRcdFx0aWYgKCBub2RlVHlwZSA9PT0gOSApIHtcblx0XHRcdFx0XHRcdGlmICggKCBlbGVtID0gY29udGV4dC5nZXRFbGVtZW50QnlJZCggbSApICkgKSB7XG5cblx0XHRcdFx0XHRcdFx0Ly8gU3VwcG9ydDogSUUsIE9wZXJhLCBXZWJraXRcblx0XHRcdFx0XHRcdFx0Ly8gVE9ETzogaWRlbnRpZnkgdmVyc2lvbnNcblx0XHRcdFx0XHRcdFx0Ly8gZ2V0RWxlbWVudEJ5SWQgY2FuIG1hdGNoIGVsZW1lbnRzIGJ5IG5hbWUgaW5zdGVhZCBvZiBJRFxuXHRcdFx0XHRcdFx0XHRpZiAoIGVsZW0uaWQgPT09IG0gKSB7XG5cdFx0XHRcdFx0XHRcdFx0cmVzdWx0cy5wdXNoKCBlbGVtICk7XG5cdFx0XHRcdFx0XHRcdFx0cmV0dXJuIHJlc3VsdHM7XG5cdFx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdFx0XHRcdHJldHVybiByZXN1bHRzO1xuXHRcdFx0XHRcdFx0fVxuXG5cdFx0XHRcdFx0Ly8gRWxlbWVudCBjb250ZXh0XG5cdFx0XHRcdFx0fSBlbHNlIHtcblxuXHRcdFx0XHRcdFx0Ly8gU3VwcG9ydDogSUUsIE9wZXJhLCBXZWJraXRcblx0XHRcdFx0XHRcdC8vIFRPRE86IGlkZW50aWZ5IHZlcnNpb25zXG5cdFx0XHRcdFx0XHQvLyBnZXRFbGVtZW50QnlJZCBjYW4gbWF0Y2ggZWxlbWVudHMgYnkgbmFtZSBpbnN0ZWFkIG9mIElEXG5cdFx0XHRcdFx0XHRpZiAoIG5ld0NvbnRleHQgJiYgKCBlbGVtID0gbmV3Q29udGV4dC5nZXRFbGVtZW50QnlJZCggbSApICkgJiZcblx0XHRcdFx0XHRcdFx0Y29udGFpbnMoIGNvbnRleHQsIGVsZW0gKSAmJlxuXHRcdFx0XHRcdFx0XHRlbGVtLmlkID09PSBtICkge1xuXG5cdFx0XHRcdFx0XHRcdHJlc3VsdHMucHVzaCggZWxlbSApO1xuXHRcdFx0XHRcdFx0XHRyZXR1cm4gcmVzdWx0cztcblx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHR9XG5cblx0XHRcdFx0Ly8gVHlwZSBzZWxlY3RvclxuXHRcdFx0XHR9IGVsc2UgaWYgKCBtYXRjaFsgMiBdICkge1xuXHRcdFx0XHRcdHB1c2guYXBwbHkoIHJlc3VsdHMsIGNvbnRleHQuZ2V0RWxlbWVudHNCeVRhZ05hbWUoIHNlbGVjdG9yICkgKTtcblx0XHRcdFx0XHRyZXR1cm4gcmVzdWx0cztcblxuXHRcdFx0XHQvLyBDbGFzcyBzZWxlY3RvclxuXHRcdFx0XHR9IGVsc2UgaWYgKCAoIG0gPSBtYXRjaFsgMyBdICkgJiYgc3VwcG9ydC5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lICYmXG5cdFx0XHRcdFx0Y29udGV4dC5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lICkge1xuXG5cdFx0XHRcdFx0cHVzaC5hcHBseSggcmVzdWx0cywgY29udGV4dC5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lKCBtICkgKTtcblx0XHRcdFx0XHRyZXR1cm4gcmVzdWx0cztcblx0XHRcdFx0fVxuXHRcdFx0fVxuXG5cdFx0XHQvLyBUYWtlIGFkdmFudGFnZSBvZiBxdWVyeVNlbGVjdG9yQWxsXG5cdFx0XHRpZiAoIHN1cHBvcnQucXNhICYmXG5cdFx0XHRcdCFub25uYXRpdmVTZWxlY3RvckNhY2hlWyBzZWxlY3RvciArIFwiIFwiIF0gJiZcblx0XHRcdFx0KCAhcmJ1Z2d5UVNBIHx8ICFyYnVnZ3lRU0EudGVzdCggc2VsZWN0b3IgKSApICYmXG5cblx0XHRcdFx0Ly8gU3VwcG9ydDogSUUgOCBvbmx5XG5cdFx0XHRcdC8vIEV4Y2x1ZGUgb2JqZWN0IGVsZW1lbnRzXG5cdFx0XHRcdCggbm9kZVR5cGUgIT09IDEgfHwgY29udGV4dC5ub2RlTmFtZS50b0xvd2VyQ2FzZSgpICE9PSBcIm9iamVjdFwiICkgKSB7XG5cblx0XHRcdFx0bmV3U2VsZWN0b3IgPSBzZWxlY3Rvcjtcblx0XHRcdFx0bmV3Q29udGV4dCA9IGNvbnRleHQ7XG5cblx0XHRcdFx0Ly8gcVNBIGNvbnNpZGVycyBlbGVtZW50cyBvdXRzaWRlIGEgc2NvcGluZyByb290IHdoZW4gZXZhbHVhdGluZyBjaGlsZCBvclxuXHRcdFx0XHQvLyBkZXNjZW5kYW50IGNvbWJpbmF0b3JzLCB3aGljaCBpcyBub3Qgd2hhdCB3ZSB3YW50LlxuXHRcdFx0XHQvLyBJbiBzdWNoIGNhc2VzLCB3ZSB3b3JrIGFyb3VuZCB0aGUgYmVoYXZpb3IgYnkgcHJlZml4aW5nIGV2ZXJ5IHNlbGVjdG9yIGluIHRoZVxuXHRcdFx0XHQvLyBsaXN0IHdpdGggYW4gSUQgc2VsZWN0b3IgcmVmZXJlbmNpbmcgdGhlIHNjb3BlIGNvbnRleHQuXG5cdFx0XHRcdC8vIFRoZSB0ZWNobmlxdWUgaGFzIHRvIGJlIHVzZWQgYXMgd2VsbCB3aGVuIGEgbGVhZGluZyBjb21iaW5hdG9yIGlzIHVzZWRcblx0XHRcdFx0Ly8gYXMgc3VjaCBzZWxlY3RvcnMgYXJlIG5vdCByZWNvZ25pemVkIGJ5IHF1ZXJ5U2VsZWN0b3JBbGwuXG5cdFx0XHRcdC8vIFRoYW5rcyB0byBBbmRyZXcgRHVwb250IGZvciB0aGlzIHRlY2huaXF1ZS5cblx0XHRcdFx0aWYgKCBub2RlVHlwZSA9PT0gMSAmJlxuXHRcdFx0XHRcdCggcmRlc2NlbmQudGVzdCggc2VsZWN0b3IgKSB8fCByY29tYmluYXRvcnMudGVzdCggc2VsZWN0b3IgKSApICkge1xuXG5cdFx0XHRcdFx0Ly8gRXhwYW5kIGNvbnRleHQgZm9yIHNpYmxpbmcgc2VsZWN0b3JzXG5cdFx0XHRcdFx0bmV3Q29udGV4dCA9IHJzaWJsaW5nLnRlc3QoIHNlbGVjdG9yICkgJiYgdGVzdENvbnRleHQoIGNvbnRleHQucGFyZW50Tm9kZSApIHx8XG5cdFx0XHRcdFx0XHRjb250ZXh0O1xuXG5cdFx0XHRcdFx0Ly8gV2UgY2FuIHVzZSA6c2NvcGUgaW5zdGVhZCBvZiB0aGUgSUQgaGFjayBpZiB0aGUgYnJvd3NlclxuXHRcdFx0XHRcdC8vIHN1cHBvcnRzIGl0ICYgaWYgd2UncmUgbm90IGNoYW5naW5nIHRoZSBjb250ZXh0LlxuXHRcdFx0XHRcdGlmICggbmV3Q29udGV4dCAhPT0gY29udGV4dCB8fCAhc3VwcG9ydC5zY29wZSApIHtcblxuXHRcdFx0XHRcdFx0Ly8gQ2FwdHVyZSB0aGUgY29udGV4dCBJRCwgc2V0dGluZyBpdCBmaXJzdCBpZiBuZWNlc3Nhcnlcblx0XHRcdFx0XHRcdGlmICggKCBuaWQgPSBjb250ZXh0LmdldEF0dHJpYnV0ZSggXCJpZFwiICkgKSApIHtcblx0XHRcdFx0XHRcdFx0bmlkID0gbmlkLnJlcGxhY2UoIHJjc3Nlc2NhcGUsIGZjc3Nlc2NhcGUgKTtcblx0XHRcdFx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdFx0XHRcdGNvbnRleHQuc2V0QXR0cmlidXRlKCBcImlkXCIsICggbmlkID0gZXhwYW5kbyApICk7XG5cdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0fVxuXG5cdFx0XHRcdFx0Ly8gUHJlZml4IGV2ZXJ5IHNlbGVjdG9yIGluIHRoZSBsaXN0XG5cdFx0XHRcdFx0Z3JvdXBzID0gdG9rZW5pemUoIHNlbGVjdG9yICk7XG5cdFx0XHRcdFx0aSA9IGdyb3Vwcy5sZW5ndGg7XG5cdFx0XHRcdFx0d2hpbGUgKCBpLS0gKSB7XG5cdFx0XHRcdFx0XHRncm91cHNbIGkgXSA9ICggbmlkID8gXCIjXCIgKyBuaWQgOiBcIjpzY29wZVwiICkgKyBcIiBcIiArXG5cdFx0XHRcdFx0XHRcdHRvU2VsZWN0b3IoIGdyb3Vwc1sgaSBdICk7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHRcdG5ld1NlbGVjdG9yID0gZ3JvdXBzLmpvaW4oIFwiLFwiICk7XG5cdFx0XHRcdH1cblxuXHRcdFx0XHR0cnkge1xuXHRcdFx0XHRcdHB1c2guYXBwbHkoIHJlc3VsdHMsXG5cdFx0XHRcdFx0XHRuZXdDb250ZXh0LnF1ZXJ5U2VsZWN0b3JBbGwoIG5ld1NlbGVjdG9yIClcblx0XHRcdFx0XHQpO1xuXHRcdFx0XHRcdHJldHVybiByZXN1bHRzO1xuXHRcdFx0XHR9IGNhdGNoICggcXNhRXJyb3IgKSB7XG5cdFx0XHRcdFx0bm9ubmF0aXZlU2VsZWN0b3JDYWNoZSggc2VsZWN0b3IsIHRydWUgKTtcblx0XHRcdFx0fSBmaW5hbGx5IHtcblx0XHRcdFx0XHRpZiAoIG5pZCA9PT0gZXhwYW5kbyApIHtcblx0XHRcdFx0XHRcdGNvbnRleHQucmVtb3ZlQXR0cmlidXRlKCBcImlkXCIgKTtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdH1cblx0XHRcdH1cblx0XHR9XG5cdH1cblxuXHQvLyBBbGwgb3RoZXJzXG5cdHJldHVybiBzZWxlY3QoIHNlbGVjdG9yLnJlcGxhY2UoIHJ0cmltLCBcIiQxXCIgKSwgY29udGV4dCwgcmVzdWx0cywgc2VlZCApO1xufVxuXG4vKipcbiAqIENyZWF0ZSBrZXktdmFsdWUgY2FjaGVzIG9mIGxpbWl0ZWQgc2l6ZVxuICogQHJldHVybnMge2Z1bmN0aW9uKHN0cmluZywgb2JqZWN0KX0gUmV0dXJucyB0aGUgT2JqZWN0IGRhdGEgYWZ0ZXIgc3RvcmluZyBpdCBvbiBpdHNlbGYgd2l0aFxuICpcdHByb3BlcnR5IG5hbWUgdGhlIChzcGFjZS1zdWZmaXhlZCkgc3RyaW5nIGFuZCAoaWYgdGhlIGNhY2hlIGlzIGxhcmdlciB0aGFuIEV4cHIuY2FjaGVMZW5ndGgpXG4gKlx0ZGVsZXRpbmcgdGhlIG9sZGVzdCBlbnRyeVxuICovXG5mdW5jdGlvbiBjcmVhdGVDYWNoZSgpIHtcblx0dmFyIGtleXMgPSBbXTtcblxuXHRmdW5jdGlvbiBjYWNoZSgga2V5LCB2YWx1ZSApIHtcblxuXHRcdC8vIFVzZSAoa2V5ICsgXCIgXCIpIHRvIGF2b2lkIGNvbGxpc2lvbiB3aXRoIG5hdGl2ZSBwcm90b3R5cGUgcHJvcGVydGllcyAoc2VlIElzc3VlICMxNTcpXG5cdFx0aWYgKCBrZXlzLnB1c2goIGtleSArIFwiIFwiICkgPiBFeHByLmNhY2hlTGVuZ3RoICkge1xuXG5cdFx0XHQvLyBPbmx5IGtlZXAgdGhlIG1vc3QgcmVjZW50IGVudHJpZXNcblx0XHRcdGRlbGV0ZSBjYWNoZVsga2V5cy5zaGlmdCgpIF07XG5cdFx0fVxuXHRcdHJldHVybiAoIGNhY2hlWyBrZXkgKyBcIiBcIiBdID0gdmFsdWUgKTtcblx0fVxuXHRyZXR1cm4gY2FjaGU7XG59XG5cbi8qKlxuICogTWFyayBhIGZ1bmN0aW9uIGZvciBzcGVjaWFsIHVzZSBieSBTaXp6bGVcbiAqIEBwYXJhbSB7RnVuY3Rpb259IGZuIFRoZSBmdW5jdGlvbiB0byBtYXJrXG4gKi9cbmZ1bmN0aW9uIG1hcmtGdW5jdGlvbiggZm4gKSB7XG5cdGZuWyBleHBhbmRvIF0gPSB0cnVlO1xuXHRyZXR1cm4gZm47XG59XG5cbi8qKlxuICogU3VwcG9ydCB0ZXN0aW5nIHVzaW5nIGFuIGVsZW1lbnRcbiAqIEBwYXJhbSB7RnVuY3Rpb259IGZuIFBhc3NlZCB0aGUgY3JlYXRlZCBlbGVtZW50IGFuZCByZXR1cm5zIGEgYm9vbGVhbiByZXN1bHRcbiAqL1xuZnVuY3Rpb24gYXNzZXJ0KCBmbiApIHtcblx0dmFyIGVsID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCggXCJmaWVsZHNldFwiICk7XG5cblx0dHJ5IHtcblx0XHRyZXR1cm4gISFmbiggZWwgKTtcblx0fSBjYXRjaCAoIGUgKSB7XG5cdFx0cmV0dXJuIGZhbHNlO1xuXHR9IGZpbmFsbHkge1xuXG5cdFx0Ly8gUmVtb3ZlIGZyb20gaXRzIHBhcmVudCBieSBkZWZhdWx0XG5cdFx0aWYgKCBlbC5wYXJlbnROb2RlICkge1xuXHRcdFx0ZWwucGFyZW50Tm9kZS5yZW1vdmVDaGlsZCggZWwgKTtcblx0XHR9XG5cblx0XHQvLyByZWxlYXNlIG1lbW9yeSBpbiBJRVxuXHRcdGVsID0gbnVsbDtcblx0fVxufVxuXG4vKipcbiAqIEFkZHMgdGhlIHNhbWUgaGFuZGxlciBmb3IgYWxsIG9mIHRoZSBzcGVjaWZpZWQgYXR0cnNcbiAqIEBwYXJhbSB7U3RyaW5nfSBhdHRycyBQaXBlLXNlcGFyYXRlZCBsaXN0IG9mIGF0dHJpYnV0ZXNcbiAqIEBwYXJhbSB7RnVuY3Rpb259IGhhbmRsZXIgVGhlIG1ldGhvZCB0aGF0IHdpbGwgYmUgYXBwbGllZFxuICovXG5mdW5jdGlvbiBhZGRIYW5kbGUoIGF0dHJzLCBoYW5kbGVyICkge1xuXHR2YXIgYXJyID0gYXR0cnMuc3BsaXQoIFwifFwiICksXG5cdFx0aSA9IGFyci5sZW5ndGg7XG5cblx0d2hpbGUgKCBpLS0gKSB7XG5cdFx0RXhwci5hdHRySGFuZGxlWyBhcnJbIGkgXSBdID0gaGFuZGxlcjtcblx0fVxufVxuXG4vKipcbiAqIENoZWNrcyBkb2N1bWVudCBvcmRlciBvZiB0d28gc2libGluZ3NcbiAqIEBwYXJhbSB7RWxlbWVudH0gYVxuICogQHBhcmFtIHtFbGVtZW50fSBiXG4gKiBAcmV0dXJucyB7TnVtYmVyfSBSZXR1cm5zIGxlc3MgdGhhbiAwIGlmIGEgcHJlY2VkZXMgYiwgZ3JlYXRlciB0aGFuIDAgaWYgYSBmb2xsb3dzIGJcbiAqL1xuZnVuY3Rpb24gc2libGluZ0NoZWNrKCBhLCBiICkge1xuXHR2YXIgY3VyID0gYiAmJiBhLFxuXHRcdGRpZmYgPSBjdXIgJiYgYS5ub2RlVHlwZSA9PT0gMSAmJiBiLm5vZGVUeXBlID09PSAxICYmXG5cdFx0XHRhLnNvdXJjZUluZGV4IC0gYi5zb3VyY2VJbmRleDtcblxuXHQvLyBVc2UgSUUgc291cmNlSW5kZXggaWYgYXZhaWxhYmxlIG9uIGJvdGggbm9kZXNcblx0aWYgKCBkaWZmICkge1xuXHRcdHJldHVybiBkaWZmO1xuXHR9XG5cblx0Ly8gQ2hlY2sgaWYgYiBmb2xsb3dzIGFcblx0aWYgKCBjdXIgKSB7XG5cdFx0d2hpbGUgKCAoIGN1ciA9IGN1ci5uZXh0U2libGluZyApICkge1xuXHRcdFx0aWYgKCBjdXIgPT09IGIgKSB7XG5cdFx0XHRcdHJldHVybiAtMTtcblx0XHRcdH1cblx0XHR9XG5cdH1cblxuXHRyZXR1cm4gYSA/IDEgOiAtMTtcbn1cblxuLyoqXG4gKiBSZXR1cm5zIGEgZnVuY3Rpb24gdG8gdXNlIGluIHBzZXVkb3MgZm9yIGlucHV0IHR5cGVzXG4gKiBAcGFyYW0ge1N0cmluZ30gdHlwZVxuICovXG5mdW5jdGlvbiBjcmVhdGVJbnB1dFBzZXVkbyggdHlwZSApIHtcblx0cmV0dXJuIGZ1bmN0aW9uKCBlbGVtICkge1xuXHRcdHZhciBuYW1lID0gZWxlbS5ub2RlTmFtZS50b0xvd2VyQ2FzZSgpO1xuXHRcdHJldHVybiBuYW1lID09PSBcImlucHV0XCIgJiYgZWxlbS50eXBlID09PSB0eXBlO1xuXHR9O1xufVxuXG4vKipcbiAqIFJldHVybnMgYSBmdW5jdGlvbiB0byB1c2UgaW4gcHNldWRvcyBmb3IgYnV0dG9uc1xuICogQHBhcmFtIHtTdHJpbmd9IHR5cGVcbiAqL1xuZnVuY3Rpb24gY3JlYXRlQnV0dG9uUHNldWRvKCB0eXBlICkge1xuXHRyZXR1cm4gZnVuY3Rpb24oIGVsZW0gKSB7XG5cdFx0dmFyIG5hbWUgPSBlbGVtLm5vZGVOYW1lLnRvTG93ZXJDYXNlKCk7XG5cdFx0cmV0dXJuICggbmFtZSA9PT0gXCJpbnB1dFwiIHx8IG5hbWUgPT09IFwiYnV0dG9uXCIgKSAmJiBlbGVtLnR5cGUgPT09IHR5cGU7XG5cdH07XG59XG5cbi8qKlxuICogUmV0dXJucyBhIGZ1bmN0aW9uIHRvIHVzZSBpbiBwc2V1ZG9zIGZvciA6ZW5hYmxlZC86ZGlzYWJsZWRcbiAqIEBwYXJhbSB7Qm9vbGVhbn0gZGlzYWJsZWQgdHJ1ZSBmb3IgOmRpc2FibGVkOyBmYWxzZSBmb3IgOmVuYWJsZWRcbiAqL1xuZnVuY3Rpb24gY3JlYXRlRGlzYWJsZWRQc2V1ZG8oIGRpc2FibGVkICkge1xuXG5cdC8vIEtub3duIDpkaXNhYmxlZCBmYWxzZSBwb3NpdGl2ZXM6IGZpZWxkc2V0W2Rpc2FibGVkXSA+IGxlZ2VuZDpudGgtb2YtdHlwZShuKzIpIDpjYW4tZGlzYWJsZVxuXHRyZXR1cm4gZnVuY3Rpb24oIGVsZW0gKSB7XG5cblx0XHQvLyBPbmx5IGNlcnRhaW4gZWxlbWVudHMgY2FuIG1hdGNoIDplbmFibGVkIG9yIDpkaXNhYmxlZFxuXHRcdC8vIGh0dHBzOi8vaHRtbC5zcGVjLndoYXR3Zy5vcmcvbXVsdGlwYWdlL3NjcmlwdGluZy5odG1sI3NlbGVjdG9yLWVuYWJsZWRcblx0XHQvLyBodHRwczovL2h0bWwuc3BlYy53aGF0d2cub3JnL211bHRpcGFnZS9zY3JpcHRpbmcuaHRtbCNzZWxlY3Rvci1kaXNhYmxlZFxuXHRcdGlmICggXCJmb3JtXCIgaW4gZWxlbSApIHtcblxuXHRcdFx0Ly8gQ2hlY2sgZm9yIGluaGVyaXRlZCBkaXNhYmxlZG5lc3Mgb24gcmVsZXZhbnQgbm9uLWRpc2FibGVkIGVsZW1lbnRzOlxuXHRcdFx0Ly8gKiBsaXN0ZWQgZm9ybS1hc3NvY2lhdGVkIGVsZW1lbnRzIGluIGEgZGlzYWJsZWQgZmllbGRzZXRcblx0XHRcdC8vICAgaHR0cHM6Ly9odG1sLnNwZWMud2hhdHdnLm9yZy9tdWx0aXBhZ2UvZm9ybXMuaHRtbCNjYXRlZ29yeS1saXN0ZWRcblx0XHRcdC8vICAgaHR0cHM6Ly9odG1sLnNwZWMud2hhdHdnLm9yZy9tdWx0aXBhZ2UvZm9ybXMuaHRtbCNjb25jZXB0LWZlLWRpc2FibGVkXG5cdFx0XHQvLyAqIG9wdGlvbiBlbGVtZW50cyBpbiBhIGRpc2FibGVkIG9wdGdyb3VwXG5cdFx0XHQvLyAgIGh0dHBzOi8vaHRtbC5zcGVjLndoYXR3Zy5vcmcvbXVsdGlwYWdlL2Zvcm1zLmh0bWwjY29uY2VwdC1vcHRpb24tZGlzYWJsZWRcblx0XHRcdC8vIEFsbCBzdWNoIGVsZW1lbnRzIGhhdmUgYSBcImZvcm1cIiBwcm9wZXJ0eS5cblx0XHRcdGlmICggZWxlbS5wYXJlbnROb2RlICYmIGVsZW0uZGlzYWJsZWQgPT09IGZhbHNlICkge1xuXG5cdFx0XHRcdC8vIE9wdGlvbiBlbGVtZW50cyBkZWZlciB0byBhIHBhcmVudCBvcHRncm91cCBpZiBwcmVzZW50XG5cdFx0XHRcdGlmICggXCJsYWJlbFwiIGluIGVsZW0gKSB7XG5cdFx0XHRcdFx0aWYgKCBcImxhYmVsXCIgaW4gZWxlbS5wYXJlbnROb2RlICkge1xuXHRcdFx0XHRcdFx0cmV0dXJuIGVsZW0ucGFyZW50Tm9kZS5kaXNhYmxlZCA9PT0gZGlzYWJsZWQ7XG5cdFx0XHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0XHRcdHJldHVybiBlbGVtLmRpc2FibGVkID09PSBkaXNhYmxlZDtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdH1cblxuXHRcdFx0XHQvLyBTdXBwb3J0OiBJRSA2IC0gMTFcblx0XHRcdFx0Ly8gVXNlIHRoZSBpc0Rpc2FibGVkIHNob3J0Y3V0IHByb3BlcnR5IHRvIGNoZWNrIGZvciBkaXNhYmxlZCBmaWVsZHNldCBhbmNlc3RvcnNcblx0XHRcdFx0cmV0dXJuIGVsZW0uaXNEaXNhYmxlZCA9PT0gZGlzYWJsZWQgfHxcblxuXHRcdFx0XHRcdC8vIFdoZXJlIHRoZXJlIGlzIG5vIGlzRGlzYWJsZWQsIGNoZWNrIG1hbnVhbGx5XG5cdFx0XHRcdFx0LyoganNoaW50IC1XMDE4ICovXG5cdFx0XHRcdFx0ZWxlbS5pc0Rpc2FibGVkICE9PSAhZGlzYWJsZWQgJiZcblx0XHRcdFx0XHRpbkRpc2FibGVkRmllbGRzZXQoIGVsZW0gKSA9PT0gZGlzYWJsZWQ7XG5cdFx0XHR9XG5cblx0XHRcdHJldHVybiBlbGVtLmRpc2FibGVkID09PSBkaXNhYmxlZDtcblxuXHRcdC8vIFRyeSB0byB3aW5ub3cgb3V0IGVsZW1lbnRzIHRoYXQgY2FuJ3QgYmUgZGlzYWJsZWQgYmVmb3JlIHRydXN0aW5nIHRoZSBkaXNhYmxlZCBwcm9wZXJ0eS5cblx0XHQvLyBTb21lIHZpY3RpbXMgZ2V0IGNhdWdodCBpbiBvdXIgbmV0IChsYWJlbCwgbGVnZW5kLCBtZW51LCB0cmFjayksIGJ1dCBpdCBzaG91bGRuJ3Rcblx0XHQvLyBldmVuIGV4aXN0IG9uIHRoZW0sIGxldCBhbG9uZSBoYXZlIGEgYm9vbGVhbiB2YWx1ZS5cblx0XHR9IGVsc2UgaWYgKCBcImxhYmVsXCIgaW4gZWxlbSApIHtcblx0XHRcdHJldHVybiBlbGVtLmRpc2FibGVkID09PSBkaXNhYmxlZDtcblx0XHR9XG5cblx0XHQvLyBSZW1haW5pbmcgZWxlbWVudHMgYXJlIG5laXRoZXIgOmVuYWJsZWQgbm9yIDpkaXNhYmxlZFxuXHRcdHJldHVybiBmYWxzZTtcblx0fTtcbn1cblxuLyoqXG4gKiBSZXR1cm5zIGEgZnVuY3Rpb24gdG8gdXNlIGluIHBzZXVkb3MgZm9yIHBvc2l0aW9uYWxzXG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSBmblxuICovXG5mdW5jdGlvbiBjcmVhdGVQb3NpdGlvbmFsUHNldWRvKCBmbiApIHtcblx0cmV0dXJuIG1hcmtGdW5jdGlvbiggZnVuY3Rpb24oIGFyZ3VtZW50ICkge1xuXHRcdGFyZ3VtZW50ID0gK2FyZ3VtZW50O1xuXHRcdHJldHVybiBtYXJrRnVuY3Rpb24oIGZ1bmN0aW9uKCBzZWVkLCBtYXRjaGVzICkge1xuXHRcdFx0dmFyIGosXG5cdFx0XHRcdG1hdGNoSW5kZXhlcyA9IGZuKCBbXSwgc2VlZC5sZW5ndGgsIGFyZ3VtZW50ICksXG5cdFx0XHRcdGkgPSBtYXRjaEluZGV4ZXMubGVuZ3RoO1xuXG5cdFx0XHQvLyBNYXRjaCBlbGVtZW50cyBmb3VuZCBhdCB0aGUgc3BlY2lmaWVkIGluZGV4ZXNcblx0XHRcdHdoaWxlICggaS0tICkge1xuXHRcdFx0XHRpZiAoIHNlZWRbICggaiA9IG1hdGNoSW5kZXhlc1sgaSBdICkgXSApIHtcblx0XHRcdFx0XHRzZWVkWyBqIF0gPSAhKCBtYXRjaGVzWyBqIF0gPSBzZWVkWyBqIF0gKTtcblx0XHRcdFx0fVxuXHRcdFx0fVxuXHRcdH0gKTtcblx0fSApO1xufVxuXG4vKipcbiAqIENoZWNrcyBhIG5vZGUgZm9yIHZhbGlkaXR5IGFzIGEgU2l6emxlIGNvbnRleHRcbiAqIEBwYXJhbSB7RWxlbWVudHxPYmplY3Q9fSBjb250ZXh0XG4gKiBAcmV0dXJucyB7RWxlbWVudHxPYmplY3R8Qm9vbGVhbn0gVGhlIGlucHV0IG5vZGUgaWYgYWNjZXB0YWJsZSwgb3RoZXJ3aXNlIGEgZmFsc3kgdmFsdWVcbiAqL1xuZnVuY3Rpb24gdGVzdENvbnRleHQoIGNvbnRleHQgKSB7XG5cdHJldHVybiBjb250ZXh0ICYmIHR5cGVvZiBjb250ZXh0LmdldEVsZW1lbnRzQnlUYWdOYW1lICE9PSBcInVuZGVmaW5lZFwiICYmIGNvbnRleHQ7XG59XG5cbi8vIEV4cG9zZSBzdXBwb3J0IHZhcnMgZm9yIGNvbnZlbmllbmNlXG5zdXBwb3J0ID0gU2l6emxlLnN1cHBvcnQgPSB7fTtcblxuLyoqXG4gKiBEZXRlY3RzIFhNTCBub2Rlc1xuICogQHBhcmFtIHtFbGVtZW50fE9iamVjdH0gZWxlbSBBbiBlbGVtZW50IG9yIGEgZG9jdW1lbnRcbiAqIEByZXR1cm5zIHtCb29sZWFufSBUcnVlIGlmZiBlbGVtIGlzIGEgbm9uLUhUTUwgWE1MIG5vZGVcbiAqL1xuaXNYTUwgPSBTaXp6bGUuaXNYTUwgPSBmdW5jdGlvbiggZWxlbSApIHtcblx0dmFyIG5hbWVzcGFjZSA9IGVsZW0ubmFtZXNwYWNlVVJJLFxuXHRcdGRvY0VsZW0gPSAoIGVsZW0ub3duZXJEb2N1bWVudCB8fCBlbGVtICkuZG9jdW1lbnRFbGVtZW50O1xuXG5cdC8vIFN1cHBvcnQ6IElFIDw9OFxuXHQvLyBBc3N1bWUgSFRNTCB3aGVuIGRvY3VtZW50RWxlbWVudCBkb2Vzbid0IHlldCBleGlzdCwgc3VjaCBhcyBpbnNpZGUgbG9hZGluZyBpZnJhbWVzXG5cdC8vIGh0dHBzOi8vYnVncy5qcXVlcnkuY29tL3RpY2tldC80ODMzXG5cdHJldHVybiAhcmh0bWwudGVzdCggbmFtZXNwYWNlIHx8IGRvY0VsZW0gJiYgZG9jRWxlbS5ub2RlTmFtZSB8fCBcIkhUTUxcIiApO1xufTtcblxuLyoqXG4gKiBTZXRzIGRvY3VtZW50LXJlbGF0ZWQgdmFyaWFibGVzIG9uY2UgYmFzZWQgb24gdGhlIGN1cnJlbnQgZG9jdW1lbnRcbiAqIEBwYXJhbSB7RWxlbWVudHxPYmplY3R9IFtkb2NdIEFuIGVsZW1lbnQgb3IgZG9jdW1lbnQgb2JqZWN0IHRvIHVzZSB0byBzZXQgdGhlIGRvY3VtZW50XG4gKiBAcmV0dXJucyB7T2JqZWN0fSBSZXR1cm5zIHRoZSBjdXJyZW50IGRvY3VtZW50XG4gKi9cbnNldERvY3VtZW50ID0gU2l6emxlLnNldERvY3VtZW50ID0gZnVuY3Rpb24oIG5vZGUgKSB7XG5cdHZhciBoYXNDb21wYXJlLCBzdWJXaW5kb3csXG5cdFx0ZG9jID0gbm9kZSA/IG5vZGUub3duZXJEb2N1bWVudCB8fCBub2RlIDogcHJlZmVycmVkRG9jO1xuXG5cdC8vIFJldHVybiBlYXJseSBpZiBkb2MgaXMgaW52YWxpZCBvciBhbHJlYWR5IHNlbGVjdGVkXG5cdC8vIFN1cHBvcnQ6IElFIDExKywgRWRnZSAxNyAtIDE4K1xuXHQvLyBJRS9FZGdlIHNvbWV0aW1lcyB0aHJvdyBhIFwiUGVybWlzc2lvbiBkZW5pZWRcIiBlcnJvciB3aGVuIHN0cmljdC1jb21wYXJpbmdcblx0Ly8gdHdvIGRvY3VtZW50czsgc2hhbGxvdyBjb21wYXJpc29ucyB3b3JrLlxuXHQvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgZXFlcWVxXG5cdGlmICggZG9jID09IGRvY3VtZW50IHx8IGRvYy5ub2RlVHlwZSAhPT0gOSB8fCAhZG9jLmRvY3VtZW50RWxlbWVudCApIHtcblx0XHRyZXR1cm4gZG9jdW1lbnQ7XG5cdH1cblxuXHQvLyBVcGRhdGUgZ2xvYmFsIHZhcmlhYmxlc1xuXHRkb2N1bWVudCA9IGRvYztcblx0ZG9jRWxlbSA9IGRvY3VtZW50LmRvY3VtZW50RWxlbWVudDtcblx0ZG9jdW1lbnRJc0hUTUwgPSAhaXNYTUwoIGRvY3VtZW50ICk7XG5cblx0Ly8gU3VwcG9ydDogSUUgOSAtIDExKywgRWRnZSAxMiAtIDE4K1xuXHQvLyBBY2Nlc3NpbmcgaWZyYW1lIGRvY3VtZW50cyBhZnRlciB1bmxvYWQgdGhyb3dzIFwicGVybWlzc2lvbiBkZW5pZWRcIiBlcnJvcnMgKGpRdWVyeSAjMTM5MzYpXG5cdC8vIFN1cHBvcnQ6IElFIDExKywgRWRnZSAxNyAtIDE4K1xuXHQvLyBJRS9FZGdlIHNvbWV0aW1lcyB0aHJvdyBhIFwiUGVybWlzc2lvbiBkZW5pZWRcIiBlcnJvciB3aGVuIHN0cmljdC1jb21wYXJpbmdcblx0Ly8gdHdvIGRvY3VtZW50czsgc2hhbGxvdyBjb21wYXJpc29ucyB3b3JrLlxuXHQvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgZXFlcWVxXG5cdGlmICggcHJlZmVycmVkRG9jICE9IGRvY3VtZW50ICYmXG5cdFx0KCBzdWJXaW5kb3cgPSBkb2N1bWVudC5kZWZhdWx0VmlldyApICYmIHN1YldpbmRvdy50b3AgIT09IHN1YldpbmRvdyApIHtcblxuXHRcdC8vIFN1cHBvcnQ6IElFIDExLCBFZGdlXG5cdFx0aWYgKCBzdWJXaW5kb3cuYWRkRXZlbnRMaXN0ZW5lciApIHtcblx0XHRcdHN1YldpbmRvdy5hZGRFdmVudExpc3RlbmVyKCBcInVubG9hZFwiLCB1bmxvYWRIYW5kbGVyLCBmYWxzZSApO1xuXG5cdFx0Ly8gU3VwcG9ydDogSUUgOSAtIDEwIG9ubHlcblx0XHR9IGVsc2UgaWYgKCBzdWJXaW5kb3cuYXR0YWNoRXZlbnQgKSB7XG5cdFx0XHRzdWJXaW5kb3cuYXR0YWNoRXZlbnQoIFwib251bmxvYWRcIiwgdW5sb2FkSGFuZGxlciApO1xuXHRcdH1cblx0fVxuXG5cdC8vIFN1cHBvcnQ6IElFIDggLSAxMSssIEVkZ2UgMTIgLSAxOCssIENocm9tZSA8PTE2IC0gMjUgb25seSwgRmlyZWZveCA8PTMuNiAtIDMxIG9ubHksXG5cdC8vIFNhZmFyaSA0IC0gNSBvbmx5LCBPcGVyYSA8PTExLjYgLSAxMi54IG9ubHlcblx0Ly8gSUUvRWRnZSAmIG9sZGVyIGJyb3dzZXJzIGRvbid0IHN1cHBvcnQgdGhlIDpzY29wZSBwc2V1ZG8tY2xhc3MuXG5cdC8vIFN1cHBvcnQ6IFNhZmFyaSA2LjAgb25seVxuXHQvLyBTYWZhcmkgNi4wIHN1cHBvcnRzIDpzY29wZSBidXQgaXQncyBhbiBhbGlhcyBvZiA6cm9vdCB0aGVyZS5cblx0c3VwcG9ydC5zY29wZSA9IGFzc2VydCggZnVuY3Rpb24oIGVsICkge1xuXHRcdGRvY0VsZW0uYXBwZW5kQ2hpbGQoIGVsICkuYXBwZW5kQ2hpbGQoIGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoIFwiZGl2XCIgKSApO1xuXHRcdHJldHVybiB0eXBlb2YgZWwucXVlcnlTZWxlY3RvckFsbCAhPT0gXCJ1bmRlZmluZWRcIiAmJlxuXHRcdFx0IWVsLnF1ZXJ5U2VsZWN0b3JBbGwoIFwiOnNjb3BlIGZpZWxkc2V0IGRpdlwiICkubGVuZ3RoO1xuXHR9ICk7XG5cblx0LyogQXR0cmlidXRlc1xuXHQtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tICovXG5cblx0Ly8gU3VwcG9ydDogSUU8OFxuXHQvLyBWZXJpZnkgdGhhdCBnZXRBdHRyaWJ1dGUgcmVhbGx5IHJldHVybnMgYXR0cmlidXRlcyBhbmQgbm90IHByb3BlcnRpZXNcblx0Ly8gKGV4Y2VwdGluZyBJRTggYm9vbGVhbnMpXG5cdHN1cHBvcnQuYXR0cmlidXRlcyA9IGFzc2VydCggZnVuY3Rpb24oIGVsICkge1xuXHRcdGVsLmNsYXNzTmFtZSA9IFwiaVwiO1xuXHRcdHJldHVybiAhZWwuZ2V0QXR0cmlidXRlKCBcImNsYXNzTmFtZVwiICk7XG5cdH0gKTtcblxuXHQvKiBnZXRFbGVtZW50KHMpQnkqXG5cdC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0gKi9cblxuXHQvLyBDaGVjayBpZiBnZXRFbGVtZW50c0J5VGFnTmFtZShcIipcIikgcmV0dXJucyBvbmx5IGVsZW1lbnRzXG5cdHN1cHBvcnQuZ2V0RWxlbWVudHNCeVRhZ05hbWUgPSBhc3NlcnQoIGZ1bmN0aW9uKCBlbCApIHtcblx0XHRlbC5hcHBlbmRDaGlsZCggZG9jdW1lbnQuY3JlYXRlQ29tbWVudCggXCJcIiApICk7XG5cdFx0cmV0dXJuICFlbC5nZXRFbGVtZW50c0J5VGFnTmFtZSggXCIqXCIgKS5sZW5ndGg7XG5cdH0gKTtcblxuXHQvLyBTdXBwb3J0OiBJRTw5XG5cdHN1cHBvcnQuZ2V0RWxlbWVudHNCeUNsYXNzTmFtZSA9IHJuYXRpdmUudGVzdCggZG9jdW1lbnQuZ2V0RWxlbWVudHNCeUNsYXNzTmFtZSApO1xuXG5cdC8vIFN1cHBvcnQ6IElFPDEwXG5cdC8vIENoZWNrIGlmIGdldEVsZW1lbnRCeUlkIHJldHVybnMgZWxlbWVudHMgYnkgbmFtZVxuXHQvLyBUaGUgYnJva2VuIGdldEVsZW1lbnRCeUlkIG1ldGhvZHMgZG9uJ3QgcGljayB1cCBwcm9ncmFtbWF0aWNhbGx5LXNldCBuYW1lcyxcblx0Ly8gc28gdXNlIGEgcm91bmRhYm91dCBnZXRFbGVtZW50c0J5TmFtZSB0ZXN0XG5cdHN1cHBvcnQuZ2V0QnlJZCA9IGFzc2VydCggZnVuY3Rpb24oIGVsICkge1xuXHRcdGRvY0VsZW0uYXBwZW5kQ2hpbGQoIGVsICkuaWQgPSBleHBhbmRvO1xuXHRcdHJldHVybiAhZG9jdW1lbnQuZ2V0RWxlbWVudHNCeU5hbWUgfHwgIWRvY3VtZW50LmdldEVsZW1lbnRzQnlOYW1lKCBleHBhbmRvICkubGVuZ3RoO1xuXHR9ICk7XG5cblx0Ly8gSUQgZmlsdGVyIGFuZCBmaW5kXG5cdGlmICggc3VwcG9ydC5nZXRCeUlkICkge1xuXHRcdEV4cHIuZmlsdGVyWyBcIklEXCIgXSA9IGZ1bmN0aW9uKCBpZCApIHtcblx0XHRcdHZhciBhdHRySWQgPSBpZC5yZXBsYWNlKCBydW5lc2NhcGUsIGZ1bmVzY2FwZSApO1xuXHRcdFx0cmV0dXJuIGZ1bmN0aW9uKCBlbGVtICkge1xuXHRcdFx0XHRyZXR1cm4gZWxlbS5nZXRBdHRyaWJ1dGUoIFwiaWRcIiApID09PSBhdHRySWQ7XG5cdFx0XHR9O1xuXHRcdH07XG5cdFx0RXhwci5maW5kWyBcIklEXCIgXSA9IGZ1bmN0aW9uKCBpZCwgY29udGV4dCApIHtcblx0XHRcdGlmICggdHlwZW9mIGNvbnRleHQuZ2V0RWxlbWVudEJ5SWQgIT09IFwidW5kZWZpbmVkXCIgJiYgZG9jdW1lbnRJc0hUTUwgKSB7XG5cdFx0XHRcdHZhciBlbGVtID0gY29udGV4dC5nZXRFbGVtZW50QnlJZCggaWQgKTtcblx0XHRcdFx0cmV0dXJuIGVsZW0gPyBbIGVsZW0gXSA6IFtdO1xuXHRcdFx0fVxuXHRcdH07XG5cdH0gZWxzZSB7XG5cdFx0RXhwci5maWx0ZXJbIFwiSURcIiBdID0gIGZ1bmN0aW9uKCBpZCApIHtcblx0XHRcdHZhciBhdHRySWQgPSBpZC5yZXBsYWNlKCBydW5lc2NhcGUsIGZ1bmVzY2FwZSApO1xuXHRcdFx0cmV0dXJuIGZ1bmN0aW9uKCBlbGVtICkge1xuXHRcdFx0XHR2YXIgbm9kZSA9IHR5cGVvZiBlbGVtLmdldEF0dHJpYnV0ZU5vZGUgIT09IFwidW5kZWZpbmVkXCIgJiZcblx0XHRcdFx0XHRlbGVtLmdldEF0dHJpYnV0ZU5vZGUoIFwiaWRcIiApO1xuXHRcdFx0XHRyZXR1cm4gbm9kZSAmJiBub2RlLnZhbHVlID09PSBhdHRySWQ7XG5cdFx0XHR9O1xuXHRcdH07XG5cblx0XHQvLyBTdXBwb3J0OiBJRSA2IC0gNyBvbmx5XG5cdFx0Ly8gZ2V0RWxlbWVudEJ5SWQgaXMgbm90IHJlbGlhYmxlIGFzIGEgZmluZCBzaG9ydGN1dFxuXHRcdEV4cHIuZmluZFsgXCJJRFwiIF0gPSBmdW5jdGlvbiggaWQsIGNvbnRleHQgKSB7XG5cdFx0XHRpZiAoIHR5cGVvZiBjb250ZXh0LmdldEVsZW1lbnRCeUlkICE9PSBcInVuZGVmaW5lZFwiICYmIGRvY3VtZW50SXNIVE1MICkge1xuXHRcdFx0XHR2YXIgbm9kZSwgaSwgZWxlbXMsXG5cdFx0XHRcdFx0ZWxlbSA9IGNvbnRleHQuZ2V0RWxlbWVudEJ5SWQoIGlkICk7XG5cblx0XHRcdFx0aWYgKCBlbGVtICkge1xuXG5cdFx0XHRcdFx0Ly8gVmVyaWZ5IHRoZSBpZCBhdHRyaWJ1dGVcblx0XHRcdFx0XHRub2RlID0gZWxlbS5nZXRBdHRyaWJ1dGVOb2RlKCBcImlkXCIgKTtcblx0XHRcdFx0XHRpZiAoIG5vZGUgJiYgbm9kZS52YWx1ZSA9PT0gaWQgKSB7XG5cdFx0XHRcdFx0XHRyZXR1cm4gWyBlbGVtIF07XG5cdFx0XHRcdFx0fVxuXG5cdFx0XHRcdFx0Ly8gRmFsbCBiYWNrIG9uIGdldEVsZW1lbnRzQnlOYW1lXG5cdFx0XHRcdFx0ZWxlbXMgPSBjb250ZXh0LmdldEVsZW1lbnRzQnlOYW1lKCBpZCApO1xuXHRcdFx0XHRcdGkgPSAwO1xuXHRcdFx0XHRcdHdoaWxlICggKCBlbGVtID0gZWxlbXNbIGkrKyBdICkgKSB7XG5cdFx0XHRcdFx0XHRub2RlID0gZWxlbS5nZXRBdHRyaWJ1dGVOb2RlKCBcImlkXCIgKTtcblx0XHRcdFx0XHRcdGlmICggbm9kZSAmJiBub2RlLnZhbHVlID09PSBpZCApIHtcblx0XHRcdFx0XHRcdFx0cmV0dXJuIFsgZWxlbSBdO1xuXHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdH1cblx0XHRcdFx0fVxuXG5cdFx0XHRcdHJldHVybiBbXTtcblx0XHRcdH1cblx0XHR9O1xuXHR9XG5cblx0Ly8gVGFnXG5cdEV4cHIuZmluZFsgXCJUQUdcIiBdID0gc3VwcG9ydC5nZXRFbGVtZW50c0J5VGFnTmFtZSA/XG5cdFx0ZnVuY3Rpb24oIHRhZywgY29udGV4dCApIHtcblx0XHRcdGlmICggdHlwZW9mIGNvbnRleHQuZ2V0RWxlbWVudHNCeVRhZ05hbWUgIT09IFwidW5kZWZpbmVkXCIgKSB7XG5cdFx0XHRcdHJldHVybiBjb250ZXh0LmdldEVsZW1lbnRzQnlUYWdOYW1lKCB0YWcgKTtcblxuXHRcdFx0Ly8gRG9jdW1lbnRGcmFnbWVudCBub2RlcyBkb24ndCBoYXZlIGdFQlROXG5cdFx0XHR9IGVsc2UgaWYgKCBzdXBwb3J0LnFzYSApIHtcblx0XHRcdFx0cmV0dXJuIGNvbnRleHQucXVlcnlTZWxlY3RvckFsbCggdGFnICk7XG5cdFx0XHR9XG5cdFx0fSA6XG5cblx0XHRmdW5jdGlvbiggdGFnLCBjb250ZXh0ICkge1xuXHRcdFx0dmFyIGVsZW0sXG5cdFx0XHRcdHRtcCA9IFtdLFxuXHRcdFx0XHRpID0gMCxcblxuXHRcdFx0XHQvLyBCeSBoYXBweSBjb2luY2lkZW5jZSwgYSAoYnJva2VuKSBnRUJUTiBhcHBlYXJzIG9uIERvY3VtZW50RnJhZ21lbnQgbm9kZXMgdG9vXG5cdFx0XHRcdHJlc3VsdHMgPSBjb250ZXh0LmdldEVsZW1lbnRzQnlUYWdOYW1lKCB0YWcgKTtcblxuXHRcdFx0Ly8gRmlsdGVyIG91dCBwb3NzaWJsZSBjb21tZW50c1xuXHRcdFx0aWYgKCB0YWcgPT09IFwiKlwiICkge1xuXHRcdFx0XHR3aGlsZSAoICggZWxlbSA9IHJlc3VsdHNbIGkrKyBdICkgKSB7XG5cdFx0XHRcdFx0aWYgKCBlbGVtLm5vZGVUeXBlID09PSAxICkge1xuXHRcdFx0XHRcdFx0dG1wLnB1c2goIGVsZW0gKTtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdH1cblxuXHRcdFx0XHRyZXR1cm4gdG1wO1xuXHRcdFx0fVxuXHRcdFx0cmV0dXJuIHJlc3VsdHM7XG5cdFx0fTtcblxuXHQvLyBDbGFzc1xuXHRFeHByLmZpbmRbIFwiQ0xBU1NcIiBdID0gc3VwcG9ydC5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lICYmIGZ1bmN0aW9uKCBjbGFzc05hbWUsIGNvbnRleHQgKSB7XG5cdFx0aWYgKCB0eXBlb2YgY29udGV4dC5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lICE9PSBcInVuZGVmaW5lZFwiICYmIGRvY3VtZW50SXNIVE1MICkge1xuXHRcdFx0cmV0dXJuIGNvbnRleHQuZ2V0RWxlbWVudHNCeUNsYXNzTmFtZSggY2xhc3NOYW1lICk7XG5cdFx0fVxuXHR9O1xuXG5cdC8qIFFTQS9tYXRjaGVzU2VsZWN0b3Jcblx0LS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSAqL1xuXG5cdC8vIFFTQSBhbmQgbWF0Y2hlc1NlbGVjdG9yIHN1cHBvcnRcblxuXHQvLyBtYXRjaGVzU2VsZWN0b3IoOmFjdGl2ZSkgcmVwb3J0cyBmYWxzZSB3aGVuIHRydWUgKElFOS9PcGVyYSAxMS41KVxuXHRyYnVnZ3lNYXRjaGVzID0gW107XG5cblx0Ly8gcVNhKDpmb2N1cykgcmVwb3J0cyBmYWxzZSB3aGVuIHRydWUgKENocm9tZSAyMSlcblx0Ly8gV2UgYWxsb3cgdGhpcyBiZWNhdXNlIG9mIGEgYnVnIGluIElFOC85IHRoYXQgdGhyb3dzIGFuIGVycm9yXG5cdC8vIHdoZW5ldmVyIGBkb2N1bWVudC5hY3RpdmVFbGVtZW50YCBpcyBhY2Nlc3NlZCBvbiBhbiBpZnJhbWVcblx0Ly8gU28sIHdlIGFsbG93IDpmb2N1cyB0byBwYXNzIHRocm91Z2ggUVNBIGFsbCB0aGUgdGltZSB0byBhdm9pZCB0aGUgSUUgZXJyb3Jcblx0Ly8gU2VlIGh0dHBzOi8vYnVncy5qcXVlcnkuY29tL3RpY2tldC8xMzM3OFxuXHRyYnVnZ3lRU0EgPSBbXTtcblxuXHRpZiAoICggc3VwcG9ydC5xc2EgPSBybmF0aXZlLnRlc3QoIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwgKSApICkge1xuXG5cdFx0Ly8gQnVpbGQgUVNBIHJlZ2V4XG5cdFx0Ly8gUmVnZXggc3RyYXRlZ3kgYWRvcHRlZCBmcm9tIERpZWdvIFBlcmluaVxuXHRcdGFzc2VydCggZnVuY3Rpb24oIGVsICkge1xuXG5cdFx0XHR2YXIgaW5wdXQ7XG5cblx0XHRcdC8vIFNlbGVjdCBpcyBzZXQgdG8gZW1wdHkgc3RyaW5nIG9uIHB1cnBvc2Vcblx0XHRcdC8vIFRoaXMgaXMgdG8gdGVzdCBJRSdzIHRyZWF0bWVudCBvZiBub3QgZXhwbGljaXRseVxuXHRcdFx0Ly8gc2V0dGluZyBhIGJvb2xlYW4gY29udGVudCBhdHRyaWJ1dGUsXG5cdFx0XHQvLyBzaW5jZSBpdHMgcHJlc2VuY2Ugc2hvdWxkIGJlIGVub3VnaFxuXHRcdFx0Ly8gaHR0cHM6Ly9idWdzLmpxdWVyeS5jb20vdGlja2V0LzEyMzU5XG5cdFx0XHRkb2NFbGVtLmFwcGVuZENoaWxkKCBlbCApLmlubmVySFRNTCA9IFwiPGEgaWQ9J1wiICsgZXhwYW5kbyArIFwiJz48L2E+XCIgK1xuXHRcdFx0XHRcIjxzZWxlY3QgaWQ9J1wiICsgZXhwYW5kbyArIFwiLVxcclxcXFwnIG1zYWxsb3djYXB0dXJlPScnPlwiICtcblx0XHRcdFx0XCI8b3B0aW9uIHNlbGVjdGVkPScnPjwvb3B0aW9uPjwvc2VsZWN0PlwiO1xuXG5cdFx0XHQvLyBTdXBwb3J0OiBJRTgsIE9wZXJhIDExLTEyLjE2XG5cdFx0XHQvLyBOb3RoaW5nIHNob3VsZCBiZSBzZWxlY3RlZCB3aGVuIGVtcHR5IHN0cmluZ3MgZm9sbG93IF49IG9yICQ9IG9yICo9XG5cdFx0XHQvLyBUaGUgdGVzdCBhdHRyaWJ1dGUgbXVzdCBiZSB1bmtub3duIGluIE9wZXJhIGJ1dCBcInNhZmVcIiBmb3IgV2luUlRcblx0XHRcdC8vIGh0dHBzOi8vbXNkbi5taWNyb3NvZnQuY29tL2VuLXVzL2xpYnJhcnkvaWUvaGg0NjUzODguYXNweCNhdHRyaWJ1dGVfc2VjdGlvblxuXHRcdFx0aWYgKCBlbC5xdWVyeVNlbGVjdG9yQWxsKCBcIlttc2FsbG93Y2FwdHVyZV49JyddXCIgKS5sZW5ndGggKSB7XG5cdFx0XHRcdHJidWdneVFTQS5wdXNoKCBcIlsqXiRdPVwiICsgd2hpdGVzcGFjZSArIFwiKig/OicnfFxcXCJcXFwiKVwiICk7XG5cdFx0XHR9XG5cblx0XHRcdC8vIFN1cHBvcnQ6IElFOFxuXHRcdFx0Ly8gQm9vbGVhbiBhdHRyaWJ1dGVzIGFuZCBcInZhbHVlXCIgYXJlIG5vdCB0cmVhdGVkIGNvcnJlY3RseVxuXHRcdFx0aWYgKCAhZWwucXVlcnlTZWxlY3RvckFsbCggXCJbc2VsZWN0ZWRdXCIgKS5sZW5ndGggKSB7XG5cdFx0XHRcdHJidWdneVFTQS5wdXNoKCBcIlxcXFxbXCIgKyB3aGl0ZXNwYWNlICsgXCIqKD86dmFsdWV8XCIgKyBib29sZWFucyArIFwiKVwiICk7XG5cdFx0XHR9XG5cblx0XHRcdC8vIFN1cHBvcnQ6IENocm9tZTwyOSwgQW5kcm9pZDw0LjQsIFNhZmFyaTw3LjArLCBpT1M8Ny4wKywgUGhhbnRvbUpTPDEuOS44K1xuXHRcdFx0aWYgKCAhZWwucXVlcnlTZWxlY3RvckFsbCggXCJbaWR+PVwiICsgZXhwYW5kbyArIFwiLV1cIiApLmxlbmd0aCApIHtcblx0XHRcdFx0cmJ1Z2d5UVNBLnB1c2goIFwifj1cIiApO1xuXHRcdFx0fVxuXG5cdFx0XHQvLyBTdXBwb3J0OiBJRSAxMSssIEVkZ2UgMTUgLSAxOCtcblx0XHRcdC8vIElFIDExL0VkZ2UgZG9uJ3QgZmluZCBlbGVtZW50cyBvbiBhIGBbbmFtZT0nJ11gIHF1ZXJ5IGluIHNvbWUgY2FzZXMuXG5cdFx0XHQvLyBBZGRpbmcgYSB0ZW1wb3JhcnkgYXR0cmlidXRlIHRvIHRoZSBkb2N1bWVudCBiZWZvcmUgdGhlIHNlbGVjdGlvbiB3b3Jrc1xuXHRcdFx0Ly8gYXJvdW5kIHRoZSBpc3N1ZS5cblx0XHRcdC8vIEludGVyZXN0aW5nbHksIElFIDEwICYgb2xkZXIgZG9uJ3Qgc2VlbSB0byBoYXZlIHRoZSBpc3N1ZS5cblx0XHRcdGlucHV0ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCggXCJpbnB1dFwiICk7XG5cdFx0XHRpbnB1dC5zZXRBdHRyaWJ1dGUoIFwibmFtZVwiLCBcIlwiICk7XG5cdFx0XHRlbC5hcHBlbmRDaGlsZCggaW5wdXQgKTtcblx0XHRcdGlmICggIWVsLnF1ZXJ5U2VsZWN0b3JBbGwoIFwiW25hbWU9JyddXCIgKS5sZW5ndGggKSB7XG5cdFx0XHRcdHJidWdneVFTQS5wdXNoKCBcIlxcXFxbXCIgKyB3aGl0ZXNwYWNlICsgXCIqbmFtZVwiICsgd2hpdGVzcGFjZSArIFwiKj1cIiArXG5cdFx0XHRcdFx0d2hpdGVzcGFjZSArIFwiKig/OicnfFxcXCJcXFwiKVwiICk7XG5cdFx0XHR9XG5cblx0XHRcdC8vIFdlYmtpdC9PcGVyYSAtIDpjaGVja2VkIHNob3VsZCByZXR1cm4gc2VsZWN0ZWQgb3B0aW9uIGVsZW1lbnRzXG5cdFx0XHQvLyBodHRwOi8vd3d3LnczLm9yZy9UUi8yMDExL1JFQy1jc3MzLXNlbGVjdG9ycy0yMDExMDkyOS8jY2hlY2tlZFxuXHRcdFx0Ly8gSUU4IHRocm93cyBlcnJvciBoZXJlIGFuZCB3aWxsIG5vdCBzZWUgbGF0ZXIgdGVzdHNcblx0XHRcdGlmICggIWVsLnF1ZXJ5U2VsZWN0b3JBbGwoIFwiOmNoZWNrZWRcIiApLmxlbmd0aCApIHtcblx0XHRcdFx0cmJ1Z2d5UVNBLnB1c2goIFwiOmNoZWNrZWRcIiApO1xuXHRcdFx0fVxuXG5cdFx0XHQvLyBTdXBwb3J0OiBTYWZhcmkgOCssIGlPUyA4K1xuXHRcdFx0Ly8gaHR0cHM6Ly9idWdzLndlYmtpdC5vcmcvc2hvd19idWcuY2dpP2lkPTEzNjg1MVxuXHRcdFx0Ly8gSW4tcGFnZSBgc2VsZWN0b3IjaWQgc2libGluZy1jb21iaW5hdG9yIHNlbGVjdG9yYCBmYWlsc1xuXHRcdFx0aWYgKCAhZWwucXVlcnlTZWxlY3RvckFsbCggXCJhI1wiICsgZXhwYW5kbyArIFwiKypcIiApLmxlbmd0aCApIHtcblx0XHRcdFx0cmJ1Z2d5UVNBLnB1c2goIFwiLiMuK1srfl1cIiApO1xuXHRcdFx0fVxuXG5cdFx0XHQvLyBTdXBwb3J0OiBGaXJlZm94IDw9My42IC0gNSBvbmx5XG5cdFx0XHQvLyBPbGQgRmlyZWZveCBkb2Vzbid0IHRocm93IG9uIGEgYmFkbHktZXNjYXBlZCBpZGVudGlmaWVyLlxuXHRcdFx0ZWwucXVlcnlTZWxlY3RvckFsbCggXCJcXFxcXFxmXCIgKTtcblx0XHRcdHJidWdneVFTQS5wdXNoKCBcIltcXFxcclxcXFxuXFxcXGZdXCIgKTtcblx0XHR9ICk7XG5cblx0XHRhc3NlcnQoIGZ1bmN0aW9uKCBlbCApIHtcblx0XHRcdGVsLmlubmVySFRNTCA9IFwiPGEgaHJlZj0nJyBkaXNhYmxlZD0nZGlzYWJsZWQnPjwvYT5cIiArXG5cdFx0XHRcdFwiPHNlbGVjdCBkaXNhYmxlZD0nZGlzYWJsZWQnPjxvcHRpb24vPjwvc2VsZWN0PlwiO1xuXG5cdFx0XHQvLyBTdXBwb3J0OiBXaW5kb3dzIDggTmF0aXZlIEFwcHNcblx0XHRcdC8vIFRoZSB0eXBlIGFuZCBuYW1lIGF0dHJpYnV0ZXMgYXJlIHJlc3RyaWN0ZWQgZHVyaW5nIC5pbm5lckhUTUwgYXNzaWdubWVudFxuXHRcdFx0dmFyIGlucHV0ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCggXCJpbnB1dFwiICk7XG5cdFx0XHRpbnB1dC5zZXRBdHRyaWJ1dGUoIFwidHlwZVwiLCBcImhpZGRlblwiICk7XG5cdFx0XHRlbC5hcHBlbmRDaGlsZCggaW5wdXQgKS5zZXRBdHRyaWJ1dGUoIFwibmFtZVwiLCBcIkRcIiApO1xuXG5cdFx0XHQvLyBTdXBwb3J0OiBJRThcblx0XHRcdC8vIEVuZm9yY2UgY2FzZS1zZW5zaXRpdml0eSBvZiBuYW1lIGF0dHJpYnV0ZVxuXHRcdFx0aWYgKCBlbC5xdWVyeVNlbGVjdG9yQWxsKCBcIltuYW1lPWRdXCIgKS5sZW5ndGggKSB7XG5cdFx0XHRcdHJidWdneVFTQS5wdXNoKCBcIm5hbWVcIiArIHdoaXRlc3BhY2UgKyBcIipbKl4kfCF+XT89XCIgKTtcblx0XHRcdH1cblxuXHRcdFx0Ly8gRkYgMy41IC0gOmVuYWJsZWQvOmRpc2FibGVkIGFuZCBoaWRkZW4gZWxlbWVudHMgKGhpZGRlbiBlbGVtZW50cyBhcmUgc3RpbGwgZW5hYmxlZClcblx0XHRcdC8vIElFOCB0aHJvd3MgZXJyb3IgaGVyZSBhbmQgd2lsbCBub3Qgc2VlIGxhdGVyIHRlc3RzXG5cdFx0XHRpZiAoIGVsLnF1ZXJ5U2VsZWN0b3JBbGwoIFwiOmVuYWJsZWRcIiApLmxlbmd0aCAhPT0gMiApIHtcblx0XHRcdFx0cmJ1Z2d5UVNBLnB1c2goIFwiOmVuYWJsZWRcIiwgXCI6ZGlzYWJsZWRcIiApO1xuXHRcdFx0fVxuXG5cdFx0XHQvLyBTdXBwb3J0OiBJRTktMTErXG5cdFx0XHQvLyBJRSdzIDpkaXNhYmxlZCBzZWxlY3RvciBkb2VzIG5vdCBwaWNrIHVwIHRoZSBjaGlsZHJlbiBvZiBkaXNhYmxlZCBmaWVsZHNldHNcblx0XHRcdGRvY0VsZW0uYXBwZW5kQ2hpbGQoIGVsICkuZGlzYWJsZWQgPSB0cnVlO1xuXHRcdFx0aWYgKCBlbC5xdWVyeVNlbGVjdG9yQWxsKCBcIjpkaXNhYmxlZFwiICkubGVuZ3RoICE9PSAyICkge1xuXHRcdFx0XHRyYnVnZ3lRU0EucHVzaCggXCI6ZW5hYmxlZFwiLCBcIjpkaXNhYmxlZFwiICk7XG5cdFx0XHR9XG5cblx0XHRcdC8vIFN1cHBvcnQ6IE9wZXJhIDEwIC0gMTEgb25seVxuXHRcdFx0Ly8gT3BlcmEgMTAtMTEgZG9lcyBub3QgdGhyb3cgb24gcG9zdC1jb21tYSBpbnZhbGlkIHBzZXVkb3Ncblx0XHRcdGVsLnF1ZXJ5U2VsZWN0b3JBbGwoIFwiKiw6eFwiICk7XG5cdFx0XHRyYnVnZ3lRU0EucHVzaCggXCIsLio6XCIgKTtcblx0XHR9ICk7XG5cdH1cblxuXHRpZiAoICggc3VwcG9ydC5tYXRjaGVzU2VsZWN0b3IgPSBybmF0aXZlLnRlc3QoICggbWF0Y2hlcyA9IGRvY0VsZW0ubWF0Y2hlcyB8fFxuXHRcdGRvY0VsZW0ud2Via2l0TWF0Y2hlc1NlbGVjdG9yIHx8XG5cdFx0ZG9jRWxlbS5tb3pNYXRjaGVzU2VsZWN0b3IgfHxcblx0XHRkb2NFbGVtLm9NYXRjaGVzU2VsZWN0b3IgfHxcblx0XHRkb2NFbGVtLm1zTWF0Y2hlc1NlbGVjdG9yICkgKSApICkge1xuXG5cdFx0YXNzZXJ0KCBmdW5jdGlvbiggZWwgKSB7XG5cblx0XHRcdC8vIENoZWNrIHRvIHNlZSBpZiBpdCdzIHBvc3NpYmxlIHRvIGRvIG1hdGNoZXNTZWxlY3RvclxuXHRcdFx0Ly8gb24gYSBkaXNjb25uZWN0ZWQgbm9kZSAoSUUgOSlcblx0XHRcdHN1cHBvcnQuZGlzY29ubmVjdGVkTWF0Y2ggPSBtYXRjaGVzLmNhbGwoIGVsLCBcIipcIiApO1xuXG5cdFx0XHQvLyBUaGlzIHNob3VsZCBmYWlsIHdpdGggYW4gZXhjZXB0aW9uXG5cdFx0XHQvLyBHZWNrbyBkb2VzIG5vdCBlcnJvciwgcmV0dXJucyBmYWxzZSBpbnN0ZWFkXG5cdFx0XHRtYXRjaGVzLmNhbGwoIGVsLCBcIltzIT0nJ106eFwiICk7XG5cdFx0XHRyYnVnZ3lNYXRjaGVzLnB1c2goIFwiIT1cIiwgcHNldWRvcyApO1xuXHRcdH0gKTtcblx0fVxuXG5cdHJidWdneVFTQSA9IHJidWdneVFTQS5sZW5ndGggJiYgbmV3IFJlZ0V4cCggcmJ1Z2d5UVNBLmpvaW4oIFwifFwiICkgKTtcblx0cmJ1Z2d5TWF0Y2hlcyA9IHJidWdneU1hdGNoZXMubGVuZ3RoICYmIG5ldyBSZWdFeHAoIHJidWdneU1hdGNoZXMuam9pbiggXCJ8XCIgKSApO1xuXG5cdC8qIENvbnRhaW5zXG5cdC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0gKi9cblx0aGFzQ29tcGFyZSA9IHJuYXRpdmUudGVzdCggZG9jRWxlbS5jb21wYXJlRG9jdW1lbnRQb3NpdGlvbiApO1xuXG5cdC8vIEVsZW1lbnQgY29udGFpbnMgYW5vdGhlclxuXHQvLyBQdXJwb3NlZnVsbHkgc2VsZi1leGNsdXNpdmVcblx0Ly8gQXMgaW4sIGFuIGVsZW1lbnQgZG9lcyBub3QgY29udGFpbiBpdHNlbGZcblx0Y29udGFpbnMgPSBoYXNDb21wYXJlIHx8IHJuYXRpdmUudGVzdCggZG9jRWxlbS5jb250YWlucyApID9cblx0XHRmdW5jdGlvbiggYSwgYiApIHtcblx0XHRcdHZhciBhZG93biA9IGEubm9kZVR5cGUgPT09IDkgPyBhLmRvY3VtZW50RWxlbWVudCA6IGEsXG5cdFx0XHRcdGJ1cCA9IGIgJiYgYi5wYXJlbnROb2RlO1xuXHRcdFx0cmV0dXJuIGEgPT09IGJ1cCB8fCAhISggYnVwICYmIGJ1cC5ub2RlVHlwZSA9PT0gMSAmJiAoXG5cdFx0XHRcdGFkb3duLmNvbnRhaW5zID9cblx0XHRcdFx0XHRhZG93bi5jb250YWlucyggYnVwICkgOlxuXHRcdFx0XHRcdGEuY29tcGFyZURvY3VtZW50UG9zaXRpb24gJiYgYS5jb21wYXJlRG9jdW1lbnRQb3NpdGlvbiggYnVwICkgJiAxNlxuXHRcdFx0KSApO1xuXHRcdH0gOlxuXHRcdGZ1bmN0aW9uKCBhLCBiICkge1xuXHRcdFx0aWYgKCBiICkge1xuXHRcdFx0XHR3aGlsZSAoICggYiA9IGIucGFyZW50Tm9kZSApICkge1xuXHRcdFx0XHRcdGlmICggYiA9PT0gYSApIHtcblx0XHRcdFx0XHRcdHJldHVybiB0cnVlO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0fVxuXHRcdFx0fVxuXHRcdFx0cmV0dXJuIGZhbHNlO1xuXHRcdH07XG5cblx0LyogU29ydGluZ1xuXHQtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tICovXG5cblx0Ly8gRG9jdW1lbnQgb3JkZXIgc29ydGluZ1xuXHRzb3J0T3JkZXIgPSBoYXNDb21wYXJlID9cblx0ZnVuY3Rpb24oIGEsIGIgKSB7XG5cblx0XHQvLyBGbGFnIGZvciBkdXBsaWNhdGUgcmVtb3ZhbFxuXHRcdGlmICggYSA9PT0gYiApIHtcblx0XHRcdGhhc0R1cGxpY2F0ZSA9IHRydWU7XG5cdFx0XHRyZXR1cm4gMDtcblx0XHR9XG5cblx0XHQvLyBTb3J0IG9uIG1ldGhvZCBleGlzdGVuY2UgaWYgb25seSBvbmUgaW5wdXQgaGFzIGNvbXBhcmVEb2N1bWVudFBvc2l0aW9uXG5cdFx0dmFyIGNvbXBhcmUgPSAhYS5jb21wYXJlRG9jdW1lbnRQb3NpdGlvbiAtICFiLmNvbXBhcmVEb2N1bWVudFBvc2l0aW9uO1xuXHRcdGlmICggY29tcGFyZSApIHtcblx0XHRcdHJldHVybiBjb21wYXJlO1xuXHRcdH1cblxuXHRcdC8vIENhbGN1bGF0ZSBwb3NpdGlvbiBpZiBib3RoIGlucHV0cyBiZWxvbmcgdG8gdGhlIHNhbWUgZG9jdW1lbnRcblx0XHQvLyBTdXBwb3J0OiBJRSAxMSssIEVkZ2UgMTcgLSAxOCtcblx0XHQvLyBJRS9FZGdlIHNvbWV0aW1lcyB0aHJvdyBhIFwiUGVybWlzc2lvbiBkZW5pZWRcIiBlcnJvciB3aGVuIHN0cmljdC1jb21wYXJpbmdcblx0XHQvLyB0d28gZG9jdW1lbnRzOyBzaGFsbG93IGNvbXBhcmlzb25zIHdvcmsuXG5cdFx0Ly8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIGVxZXFlcVxuXHRcdGNvbXBhcmUgPSAoIGEub3duZXJEb2N1bWVudCB8fCBhICkgPT0gKCBiLm93bmVyRG9jdW1lbnQgfHwgYiApID9cblx0XHRcdGEuY29tcGFyZURvY3VtZW50UG9zaXRpb24oIGIgKSA6XG5cblx0XHRcdC8vIE90aGVyd2lzZSB3ZSBrbm93IHRoZXkgYXJlIGRpc2Nvbm5lY3RlZFxuXHRcdFx0MTtcblxuXHRcdC8vIERpc2Nvbm5lY3RlZCBub2Rlc1xuXHRcdGlmICggY29tcGFyZSAmIDEgfHxcblx0XHRcdCggIXN1cHBvcnQuc29ydERldGFjaGVkICYmIGIuY29tcGFyZURvY3VtZW50UG9zaXRpb24oIGEgKSA9PT0gY29tcGFyZSApICkge1xuXG5cdFx0XHQvLyBDaG9vc2UgdGhlIGZpcnN0IGVsZW1lbnQgdGhhdCBpcyByZWxhdGVkIHRvIG91ciBwcmVmZXJyZWQgZG9jdW1lbnRcblx0XHRcdC8vIFN1cHBvcnQ6IElFIDExKywgRWRnZSAxNyAtIDE4K1xuXHRcdFx0Ly8gSUUvRWRnZSBzb21ldGltZXMgdGhyb3cgYSBcIlBlcm1pc3Npb24gZGVuaWVkXCIgZXJyb3Igd2hlbiBzdHJpY3QtY29tcGFyaW5nXG5cdFx0XHQvLyB0d28gZG9jdW1lbnRzOyBzaGFsbG93IGNvbXBhcmlzb25zIHdvcmsuXG5cdFx0XHQvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgZXFlcWVxXG5cdFx0XHRpZiAoIGEgPT0gZG9jdW1lbnQgfHwgYS5vd25lckRvY3VtZW50ID09IHByZWZlcnJlZERvYyAmJlxuXHRcdFx0XHRjb250YWlucyggcHJlZmVycmVkRG9jLCBhICkgKSB7XG5cdFx0XHRcdHJldHVybiAtMTtcblx0XHRcdH1cblxuXHRcdFx0Ly8gU3VwcG9ydDogSUUgMTErLCBFZGdlIDE3IC0gMTgrXG5cdFx0XHQvLyBJRS9FZGdlIHNvbWV0aW1lcyB0aHJvdyBhIFwiUGVybWlzc2lvbiBkZW5pZWRcIiBlcnJvciB3aGVuIHN0cmljdC1jb21wYXJpbmdcblx0XHRcdC8vIHR3byBkb2N1bWVudHM7IHNoYWxsb3cgY29tcGFyaXNvbnMgd29yay5cblx0XHRcdC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBlcWVxZXFcblx0XHRcdGlmICggYiA9PSBkb2N1bWVudCB8fCBiLm93bmVyRG9jdW1lbnQgPT0gcHJlZmVycmVkRG9jICYmXG5cdFx0XHRcdGNvbnRhaW5zKCBwcmVmZXJyZWREb2MsIGIgKSApIHtcblx0XHRcdFx0cmV0dXJuIDE7XG5cdFx0XHR9XG5cblx0XHRcdC8vIE1haW50YWluIG9yaWdpbmFsIG9yZGVyXG5cdFx0XHRyZXR1cm4gc29ydElucHV0ID9cblx0XHRcdFx0KCBpbmRleE9mKCBzb3J0SW5wdXQsIGEgKSAtIGluZGV4T2YoIHNvcnRJbnB1dCwgYiApICkgOlxuXHRcdFx0XHQwO1xuXHRcdH1cblxuXHRcdHJldHVybiBjb21wYXJlICYgNCA/IC0xIDogMTtcblx0fSA6XG5cdGZ1bmN0aW9uKCBhLCBiICkge1xuXG5cdFx0Ly8gRXhpdCBlYXJseSBpZiB0aGUgbm9kZXMgYXJlIGlkZW50aWNhbFxuXHRcdGlmICggYSA9PT0gYiApIHtcblx0XHRcdGhhc0R1cGxpY2F0ZSA9IHRydWU7XG5cdFx0XHRyZXR1cm4gMDtcblx0XHR9XG5cblx0XHR2YXIgY3VyLFxuXHRcdFx0aSA9IDAsXG5cdFx0XHRhdXAgPSBhLnBhcmVudE5vZGUsXG5cdFx0XHRidXAgPSBiLnBhcmVudE5vZGUsXG5cdFx0XHRhcCA9IFsgYSBdLFxuXHRcdFx0YnAgPSBbIGIgXTtcblxuXHRcdC8vIFBhcmVudGxlc3Mgbm9kZXMgYXJlIGVpdGhlciBkb2N1bWVudHMgb3IgZGlzY29ubmVjdGVkXG5cdFx0aWYgKCAhYXVwIHx8ICFidXAgKSB7XG5cblx0XHRcdC8vIFN1cHBvcnQ6IElFIDExKywgRWRnZSAxNyAtIDE4K1xuXHRcdFx0Ly8gSUUvRWRnZSBzb21ldGltZXMgdGhyb3cgYSBcIlBlcm1pc3Npb24gZGVuaWVkXCIgZXJyb3Igd2hlbiBzdHJpY3QtY29tcGFyaW5nXG5cdFx0XHQvLyB0d28gZG9jdW1lbnRzOyBzaGFsbG93IGNvbXBhcmlzb25zIHdvcmsuXG5cdFx0XHQvKiBlc2xpbnQtZGlzYWJsZSBlcWVxZXEgKi9cblx0XHRcdHJldHVybiBhID09IGRvY3VtZW50ID8gLTEgOlxuXHRcdFx0XHRiID09IGRvY3VtZW50ID8gMSA6XG5cdFx0XHRcdC8qIGVzbGludC1lbmFibGUgZXFlcWVxICovXG5cdFx0XHRcdGF1cCA/IC0xIDpcblx0XHRcdFx0YnVwID8gMSA6XG5cdFx0XHRcdHNvcnRJbnB1dCA/XG5cdFx0XHRcdCggaW5kZXhPZiggc29ydElucHV0LCBhICkgLSBpbmRleE9mKCBzb3J0SW5wdXQsIGIgKSApIDpcblx0XHRcdFx0MDtcblxuXHRcdC8vIElmIHRoZSBub2RlcyBhcmUgc2libGluZ3MsIHdlIGNhbiBkbyBhIHF1aWNrIGNoZWNrXG5cdFx0fSBlbHNlIGlmICggYXVwID09PSBidXAgKSB7XG5cdFx0XHRyZXR1cm4gc2libGluZ0NoZWNrKCBhLCBiICk7XG5cdFx0fVxuXG5cdFx0Ly8gT3RoZXJ3aXNlIHdlIG5lZWQgZnVsbCBsaXN0cyBvZiB0aGVpciBhbmNlc3RvcnMgZm9yIGNvbXBhcmlzb25cblx0XHRjdXIgPSBhO1xuXHRcdHdoaWxlICggKCBjdXIgPSBjdXIucGFyZW50Tm9kZSApICkge1xuXHRcdFx0YXAudW5zaGlmdCggY3VyICk7XG5cdFx0fVxuXHRcdGN1ciA9IGI7XG5cdFx0d2hpbGUgKCAoIGN1ciA9IGN1ci5wYXJlbnROb2RlICkgKSB7XG5cdFx0XHRicC51bnNoaWZ0KCBjdXIgKTtcblx0XHR9XG5cblx0XHQvLyBXYWxrIGRvd24gdGhlIHRyZWUgbG9va2luZyBmb3IgYSBkaXNjcmVwYW5jeVxuXHRcdHdoaWxlICggYXBbIGkgXSA9PT0gYnBbIGkgXSApIHtcblx0XHRcdGkrKztcblx0XHR9XG5cblx0XHRyZXR1cm4gaSA/XG5cblx0XHRcdC8vIERvIGEgc2libGluZyBjaGVjayBpZiB0aGUgbm9kZXMgaGF2ZSBhIGNvbW1vbiBhbmNlc3RvclxuXHRcdFx0c2libGluZ0NoZWNrKCBhcFsgaSBdLCBicFsgaSBdICkgOlxuXG5cdFx0XHQvLyBPdGhlcndpc2Ugbm9kZXMgaW4gb3VyIGRvY3VtZW50IHNvcnQgZmlyc3Rcblx0XHRcdC8vIFN1cHBvcnQ6IElFIDExKywgRWRnZSAxNyAtIDE4K1xuXHRcdFx0Ly8gSUUvRWRnZSBzb21ldGltZXMgdGhyb3cgYSBcIlBlcm1pc3Npb24gZGVuaWVkXCIgZXJyb3Igd2hlbiBzdHJpY3QtY29tcGFyaW5nXG5cdFx0XHQvLyB0d28gZG9jdW1lbnRzOyBzaGFsbG93IGNvbXBhcmlzb25zIHdvcmsuXG5cdFx0XHQvKiBlc2xpbnQtZGlzYWJsZSBlcWVxZXEgKi9cblx0XHRcdGFwWyBpIF0gPT0gcHJlZmVycmVkRG9jID8gLTEgOlxuXHRcdFx0YnBbIGkgXSA9PSBwcmVmZXJyZWREb2MgPyAxIDpcblx0XHRcdC8qIGVzbGludC1lbmFibGUgZXFlcWVxICovXG5cdFx0XHQwO1xuXHR9O1xuXG5cdHJldHVybiBkb2N1bWVudDtcbn07XG5cblNpenpsZS5tYXRjaGVzID0gZnVuY3Rpb24oIGV4cHIsIGVsZW1lbnRzICkge1xuXHRyZXR1cm4gU2l6emxlKCBleHByLCBudWxsLCBudWxsLCBlbGVtZW50cyApO1xufTtcblxuU2l6emxlLm1hdGNoZXNTZWxlY3RvciA9IGZ1bmN0aW9uKCBlbGVtLCBleHByICkge1xuXHRzZXREb2N1bWVudCggZWxlbSApO1xuXG5cdGlmICggc3VwcG9ydC5tYXRjaGVzU2VsZWN0b3IgJiYgZG9jdW1lbnRJc0hUTUwgJiZcblx0XHQhbm9ubmF0aXZlU2VsZWN0b3JDYWNoZVsgZXhwciArIFwiIFwiIF0gJiZcblx0XHQoICFyYnVnZ3lNYXRjaGVzIHx8ICFyYnVnZ3lNYXRjaGVzLnRlc3QoIGV4cHIgKSApICYmXG5cdFx0KCAhcmJ1Z2d5UVNBICAgICB8fCAhcmJ1Z2d5UVNBLnRlc3QoIGV4cHIgKSApICkge1xuXG5cdFx0dHJ5IHtcblx0XHRcdHZhciByZXQgPSBtYXRjaGVzLmNhbGwoIGVsZW0sIGV4cHIgKTtcblxuXHRcdFx0Ly8gSUUgOSdzIG1hdGNoZXNTZWxlY3RvciByZXR1cm5zIGZhbHNlIG9uIGRpc2Nvbm5lY3RlZCBub2Rlc1xuXHRcdFx0aWYgKCByZXQgfHwgc3VwcG9ydC5kaXNjb25uZWN0ZWRNYXRjaCB8fFxuXG5cdFx0XHRcdC8vIEFzIHdlbGwsIGRpc2Nvbm5lY3RlZCBub2RlcyBhcmUgc2FpZCB0byBiZSBpbiBhIGRvY3VtZW50XG5cdFx0XHRcdC8vIGZyYWdtZW50IGluIElFIDlcblx0XHRcdFx0ZWxlbS5kb2N1bWVudCAmJiBlbGVtLmRvY3VtZW50Lm5vZGVUeXBlICE9PSAxMSApIHtcblx0XHRcdFx0cmV0dXJuIHJldDtcblx0XHRcdH1cblx0XHR9IGNhdGNoICggZSApIHtcblx0XHRcdG5vbm5hdGl2ZVNlbGVjdG9yQ2FjaGUoIGV4cHIsIHRydWUgKTtcblx0XHR9XG5cdH1cblxuXHRyZXR1cm4gU2l6emxlKCBleHByLCBkb2N1bWVudCwgbnVsbCwgWyBlbGVtIF0gKS5sZW5ndGggPiAwO1xufTtcblxuU2l6emxlLmNvbnRhaW5zID0gZnVuY3Rpb24oIGNvbnRleHQsIGVsZW0gKSB7XG5cblx0Ly8gU2V0IGRvY3VtZW50IHZhcnMgaWYgbmVlZGVkXG5cdC8vIFN1cHBvcnQ6IElFIDExKywgRWRnZSAxNyAtIDE4K1xuXHQvLyBJRS9FZGdlIHNvbWV0aW1lcyB0aHJvdyBhIFwiUGVybWlzc2lvbiBkZW5pZWRcIiBlcnJvciB3aGVuIHN0cmljdC1jb21wYXJpbmdcblx0Ly8gdHdvIGRvY3VtZW50czsgc2hhbGxvdyBjb21wYXJpc29ucyB3b3JrLlxuXHQvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgZXFlcWVxXG5cdGlmICggKCBjb250ZXh0Lm93bmVyRG9jdW1lbnQgfHwgY29udGV4dCApICE9IGRvY3VtZW50ICkge1xuXHRcdHNldERvY3VtZW50KCBjb250ZXh0ICk7XG5cdH1cblx0cmV0dXJuIGNvbnRhaW5zKCBjb250ZXh0LCBlbGVtICk7XG59O1xuXG5TaXp6bGUuYXR0ciA9IGZ1bmN0aW9uKCBlbGVtLCBuYW1lICkge1xuXG5cdC8vIFNldCBkb2N1bWVudCB2YXJzIGlmIG5lZWRlZFxuXHQvLyBTdXBwb3J0OiBJRSAxMSssIEVkZ2UgMTcgLSAxOCtcblx0Ly8gSUUvRWRnZSBzb21ldGltZXMgdGhyb3cgYSBcIlBlcm1pc3Npb24gZGVuaWVkXCIgZXJyb3Igd2hlbiBzdHJpY3QtY29tcGFyaW5nXG5cdC8vIHR3byBkb2N1bWVudHM7IHNoYWxsb3cgY29tcGFyaXNvbnMgd29yay5cblx0Ly8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIGVxZXFlcVxuXHRpZiAoICggZWxlbS5vd25lckRvY3VtZW50IHx8IGVsZW0gKSAhPSBkb2N1bWVudCApIHtcblx0XHRzZXREb2N1bWVudCggZWxlbSApO1xuXHR9XG5cblx0dmFyIGZuID0gRXhwci5hdHRySGFuZGxlWyBuYW1lLnRvTG93ZXJDYXNlKCkgXSxcblxuXHRcdC8vIERvbid0IGdldCBmb29sZWQgYnkgT2JqZWN0LnByb3RvdHlwZSBwcm9wZXJ0aWVzIChqUXVlcnkgIzEzODA3KVxuXHRcdHZhbCA9IGZuICYmIGhhc093bi5jYWxsKCBFeHByLmF0dHJIYW5kbGUsIG5hbWUudG9Mb3dlckNhc2UoKSApID9cblx0XHRcdGZuKCBlbGVtLCBuYW1lLCAhZG9jdW1lbnRJc0hUTUwgKSA6XG5cdFx0XHR1bmRlZmluZWQ7XG5cblx0cmV0dXJuIHZhbCAhPT0gdW5kZWZpbmVkID9cblx0XHR2YWwgOlxuXHRcdHN1cHBvcnQuYXR0cmlidXRlcyB8fCAhZG9jdW1lbnRJc0hUTUwgP1xuXHRcdFx0ZWxlbS5nZXRBdHRyaWJ1dGUoIG5hbWUgKSA6XG5cdFx0XHQoIHZhbCA9IGVsZW0uZ2V0QXR0cmlidXRlTm9kZSggbmFtZSApICkgJiYgdmFsLnNwZWNpZmllZCA/XG5cdFx0XHRcdHZhbC52YWx1ZSA6XG5cdFx0XHRcdG51bGw7XG59O1xuXG5TaXp6bGUuZXNjYXBlID0gZnVuY3Rpb24oIHNlbCApIHtcblx0cmV0dXJuICggc2VsICsgXCJcIiApLnJlcGxhY2UoIHJjc3Nlc2NhcGUsIGZjc3Nlc2NhcGUgKTtcbn07XG5cblNpenpsZS5lcnJvciA9IGZ1bmN0aW9uKCBtc2cgKSB7XG5cdHRocm93IG5ldyBFcnJvciggXCJTeW50YXggZXJyb3IsIHVucmVjb2duaXplZCBleHByZXNzaW9uOiBcIiArIG1zZyApO1xufTtcblxuLyoqXG4gKiBEb2N1bWVudCBzb3J0aW5nIGFuZCByZW1vdmluZyBkdXBsaWNhdGVzXG4gKiBAcGFyYW0ge0FycmF5TGlrZX0gcmVzdWx0c1xuICovXG5TaXp6bGUudW5pcXVlU29ydCA9IGZ1bmN0aW9uKCByZXN1bHRzICkge1xuXHR2YXIgZWxlbSxcblx0XHRkdXBsaWNhdGVzID0gW10sXG5cdFx0aiA9IDAsXG5cdFx0aSA9IDA7XG5cblx0Ly8gVW5sZXNzIHdlICprbm93KiB3ZSBjYW4gZGV0ZWN0IGR1cGxpY2F0ZXMsIGFzc3VtZSB0aGVpciBwcmVzZW5jZVxuXHRoYXNEdXBsaWNhdGUgPSAhc3VwcG9ydC5kZXRlY3REdXBsaWNhdGVzO1xuXHRzb3J0SW5wdXQgPSAhc3VwcG9ydC5zb3J0U3RhYmxlICYmIHJlc3VsdHMuc2xpY2UoIDAgKTtcblx0cmVzdWx0cy5zb3J0KCBzb3J0T3JkZXIgKTtcblxuXHRpZiAoIGhhc0R1cGxpY2F0ZSApIHtcblx0XHR3aGlsZSAoICggZWxlbSA9IHJlc3VsdHNbIGkrKyBdICkgKSB7XG5cdFx0XHRpZiAoIGVsZW0gPT09IHJlc3VsdHNbIGkgXSApIHtcblx0XHRcdFx0aiA9IGR1cGxpY2F0ZXMucHVzaCggaSApO1xuXHRcdFx0fVxuXHRcdH1cblx0XHR3aGlsZSAoIGotLSApIHtcblx0XHRcdHJlc3VsdHMuc3BsaWNlKCBkdXBsaWNhdGVzWyBqIF0sIDEgKTtcblx0XHR9XG5cdH1cblxuXHQvLyBDbGVhciBpbnB1dCBhZnRlciBzb3J0aW5nIHRvIHJlbGVhc2Ugb2JqZWN0c1xuXHQvLyBTZWUgaHR0cHM6Ly9naXRodWIuY29tL2pxdWVyeS9zaXp6bGUvcHVsbC8yMjVcblx0c29ydElucHV0ID0gbnVsbDtcblxuXHRyZXR1cm4gcmVzdWx0cztcbn07XG5cbi8qKlxuICogVXRpbGl0eSBmdW5jdGlvbiBmb3IgcmV0cmlldmluZyB0aGUgdGV4dCB2YWx1ZSBvZiBhbiBhcnJheSBvZiBET00gbm9kZXNcbiAqIEBwYXJhbSB7QXJyYXl8RWxlbWVudH0gZWxlbVxuICovXG5nZXRUZXh0ID0gU2l6emxlLmdldFRleHQgPSBmdW5jdGlvbiggZWxlbSApIHtcblx0dmFyIG5vZGUsXG5cdFx0cmV0ID0gXCJcIixcblx0XHRpID0gMCxcblx0XHRub2RlVHlwZSA9IGVsZW0ubm9kZVR5cGU7XG5cblx0aWYgKCAhbm9kZVR5cGUgKSB7XG5cblx0XHQvLyBJZiBubyBub2RlVHlwZSwgdGhpcyBpcyBleHBlY3RlZCB0byBiZSBhbiBhcnJheVxuXHRcdHdoaWxlICggKCBub2RlID0gZWxlbVsgaSsrIF0gKSApIHtcblxuXHRcdFx0Ly8gRG8gbm90IHRyYXZlcnNlIGNvbW1lbnQgbm9kZXNcblx0XHRcdHJldCArPSBnZXRUZXh0KCBub2RlICk7XG5cdFx0fVxuXHR9IGVsc2UgaWYgKCBub2RlVHlwZSA9PT0gMSB8fCBub2RlVHlwZSA9PT0gOSB8fCBub2RlVHlwZSA9PT0gMTEgKSB7XG5cblx0XHQvLyBVc2UgdGV4dENvbnRlbnQgZm9yIGVsZW1lbnRzXG5cdFx0Ly8gaW5uZXJUZXh0IHVzYWdlIHJlbW92ZWQgZm9yIGNvbnNpc3RlbmN5IG9mIG5ldyBsaW5lcyAoalF1ZXJ5ICMxMTE1Mylcblx0XHRpZiAoIHR5cGVvZiBlbGVtLnRleHRDb250ZW50ID09PSBcInN0cmluZ1wiICkge1xuXHRcdFx0cmV0dXJuIGVsZW0udGV4dENvbnRlbnQ7XG5cdFx0fSBlbHNlIHtcblxuXHRcdFx0Ly8gVHJhdmVyc2UgaXRzIGNoaWxkcmVuXG5cdFx0XHRmb3IgKCBlbGVtID0gZWxlbS5maXJzdENoaWxkOyBlbGVtOyBlbGVtID0gZWxlbS5uZXh0U2libGluZyApIHtcblx0XHRcdFx0cmV0ICs9IGdldFRleHQoIGVsZW0gKTtcblx0XHRcdH1cblx0XHR9XG5cdH0gZWxzZSBpZiAoIG5vZGVUeXBlID09PSAzIHx8IG5vZGVUeXBlID09PSA0ICkge1xuXHRcdHJldHVybiBlbGVtLm5vZGVWYWx1ZTtcblx0fVxuXG5cdC8vIERvIG5vdCBpbmNsdWRlIGNvbW1lbnQgb3IgcHJvY2Vzc2luZyBpbnN0cnVjdGlvbiBub2Rlc1xuXG5cdHJldHVybiByZXQ7XG59O1xuXG5FeHByID0gU2l6emxlLnNlbGVjdG9ycyA9IHtcblxuXHQvLyBDYW4gYmUgYWRqdXN0ZWQgYnkgdGhlIHVzZXJcblx0Y2FjaGVMZW5ndGg6IDUwLFxuXG5cdGNyZWF0ZVBzZXVkbzogbWFya0Z1bmN0aW9uLFxuXG5cdG1hdGNoOiBtYXRjaEV4cHIsXG5cblx0YXR0ckhhbmRsZToge30sXG5cblx0ZmluZDoge30sXG5cblx0cmVsYXRpdmU6IHtcblx0XHRcIj5cIjogeyBkaXI6IFwicGFyZW50Tm9kZVwiLCBmaXJzdDogdHJ1ZSB9LFxuXHRcdFwiIFwiOiB7IGRpcjogXCJwYXJlbnROb2RlXCIgfSxcblx0XHRcIitcIjogeyBkaXI6IFwicHJldmlvdXNTaWJsaW5nXCIsIGZpcnN0OiB0cnVlIH0sXG5cdFx0XCJ+XCI6IHsgZGlyOiBcInByZXZpb3VzU2libGluZ1wiIH1cblx0fSxcblxuXHRwcmVGaWx0ZXI6IHtcblx0XHRcIkFUVFJcIjogZnVuY3Rpb24oIG1hdGNoICkge1xuXHRcdFx0bWF0Y2hbIDEgXSA9IG1hdGNoWyAxIF0ucmVwbGFjZSggcnVuZXNjYXBlLCBmdW5lc2NhcGUgKTtcblxuXHRcdFx0Ly8gTW92ZSB0aGUgZ2l2ZW4gdmFsdWUgdG8gbWF0Y2hbM10gd2hldGhlciBxdW90ZWQgb3IgdW5xdW90ZWRcblx0XHRcdG1hdGNoWyAzIF0gPSAoIG1hdGNoWyAzIF0gfHwgbWF0Y2hbIDQgXSB8fFxuXHRcdFx0XHRtYXRjaFsgNSBdIHx8IFwiXCIgKS5yZXBsYWNlKCBydW5lc2NhcGUsIGZ1bmVzY2FwZSApO1xuXG5cdFx0XHRpZiAoIG1hdGNoWyAyIF0gPT09IFwifj1cIiApIHtcblx0XHRcdFx0bWF0Y2hbIDMgXSA9IFwiIFwiICsgbWF0Y2hbIDMgXSArIFwiIFwiO1xuXHRcdFx0fVxuXG5cdFx0XHRyZXR1cm4gbWF0Y2guc2xpY2UoIDAsIDQgKTtcblx0XHR9LFxuXG5cdFx0XCJDSElMRFwiOiBmdW5jdGlvbiggbWF0Y2ggKSB7XG5cblx0XHRcdC8qIG1hdGNoZXMgZnJvbSBtYXRjaEV4cHJbXCJDSElMRFwiXVxuXHRcdFx0XHQxIHR5cGUgKG9ubHl8bnRofC4uLilcblx0XHRcdFx0MiB3aGF0IChjaGlsZHxvZi10eXBlKVxuXHRcdFx0XHQzIGFyZ3VtZW50IChldmVufG9kZHxcXGQqfFxcZCpuKFsrLV1cXGQrKT98Li4uKVxuXHRcdFx0XHQ0IHhuLWNvbXBvbmVudCBvZiB4bit5IGFyZ3VtZW50IChbKy1dP1xcZCpufClcblx0XHRcdFx0NSBzaWduIG9mIHhuLWNvbXBvbmVudFxuXHRcdFx0XHQ2IHggb2YgeG4tY29tcG9uZW50XG5cdFx0XHRcdDcgc2lnbiBvZiB5LWNvbXBvbmVudFxuXHRcdFx0XHQ4IHkgb2YgeS1jb21wb25lbnRcblx0XHRcdCovXG5cdFx0XHRtYXRjaFsgMSBdID0gbWF0Y2hbIDEgXS50b0xvd2VyQ2FzZSgpO1xuXG5cdFx0XHRpZiAoIG1hdGNoWyAxIF0uc2xpY2UoIDAsIDMgKSA9PT0gXCJudGhcIiApIHtcblxuXHRcdFx0XHQvLyBudGgtKiByZXF1aXJlcyBhcmd1bWVudFxuXHRcdFx0XHRpZiAoICFtYXRjaFsgMyBdICkge1xuXHRcdFx0XHRcdFNpenpsZS5lcnJvciggbWF0Y2hbIDAgXSApO1xuXHRcdFx0XHR9XG5cblx0XHRcdFx0Ly8gbnVtZXJpYyB4IGFuZCB5IHBhcmFtZXRlcnMgZm9yIEV4cHIuZmlsdGVyLkNISUxEXG5cdFx0XHRcdC8vIHJlbWVtYmVyIHRoYXQgZmFsc2UvdHJ1ZSBjYXN0IHJlc3BlY3RpdmVseSB0byAwLzFcblx0XHRcdFx0bWF0Y2hbIDQgXSA9ICsoIG1hdGNoWyA0IF0gP1xuXHRcdFx0XHRcdG1hdGNoWyA1IF0gKyAoIG1hdGNoWyA2IF0gfHwgMSApIDpcblx0XHRcdFx0XHQyICogKCBtYXRjaFsgMyBdID09PSBcImV2ZW5cIiB8fCBtYXRjaFsgMyBdID09PSBcIm9kZFwiICkgKTtcblx0XHRcdFx0bWF0Y2hbIDUgXSA9ICsoICggbWF0Y2hbIDcgXSArIG1hdGNoWyA4IF0gKSB8fCBtYXRjaFsgMyBdID09PSBcIm9kZFwiICk7XG5cblx0XHRcdFx0Ly8gb3RoZXIgdHlwZXMgcHJvaGliaXQgYXJndW1lbnRzXG5cdFx0XHR9IGVsc2UgaWYgKCBtYXRjaFsgMyBdICkge1xuXHRcdFx0XHRTaXp6bGUuZXJyb3IoIG1hdGNoWyAwIF0gKTtcblx0XHRcdH1cblxuXHRcdFx0cmV0dXJuIG1hdGNoO1xuXHRcdH0sXG5cblx0XHRcIlBTRVVET1wiOiBmdW5jdGlvbiggbWF0Y2ggKSB7XG5cdFx0XHR2YXIgZXhjZXNzLFxuXHRcdFx0XHR1bnF1b3RlZCA9ICFtYXRjaFsgNiBdICYmIG1hdGNoWyAyIF07XG5cblx0XHRcdGlmICggbWF0Y2hFeHByWyBcIkNISUxEXCIgXS50ZXN0KCBtYXRjaFsgMCBdICkgKSB7XG5cdFx0XHRcdHJldHVybiBudWxsO1xuXHRcdFx0fVxuXG5cdFx0XHQvLyBBY2NlcHQgcXVvdGVkIGFyZ3VtZW50cyBhcy1pc1xuXHRcdFx0aWYgKCBtYXRjaFsgMyBdICkge1xuXHRcdFx0XHRtYXRjaFsgMiBdID0gbWF0Y2hbIDQgXSB8fCBtYXRjaFsgNSBdIHx8IFwiXCI7XG5cblx0XHRcdC8vIFN0cmlwIGV4Y2VzcyBjaGFyYWN0ZXJzIGZyb20gdW5xdW90ZWQgYXJndW1lbnRzXG5cdFx0XHR9IGVsc2UgaWYgKCB1bnF1b3RlZCAmJiBycHNldWRvLnRlc3QoIHVucXVvdGVkICkgJiZcblxuXHRcdFx0XHQvLyBHZXQgZXhjZXNzIGZyb20gdG9rZW5pemUgKHJlY3Vyc2l2ZWx5KVxuXHRcdFx0XHQoIGV4Y2VzcyA9IHRva2VuaXplKCB1bnF1b3RlZCwgdHJ1ZSApICkgJiZcblxuXHRcdFx0XHQvLyBhZHZhbmNlIHRvIHRoZSBuZXh0IGNsb3NpbmcgcGFyZW50aGVzaXNcblx0XHRcdFx0KCBleGNlc3MgPSB1bnF1b3RlZC5pbmRleE9mKCBcIilcIiwgdW5xdW90ZWQubGVuZ3RoIC0gZXhjZXNzICkgLSB1bnF1b3RlZC5sZW5ndGggKSApIHtcblxuXHRcdFx0XHQvLyBleGNlc3MgaXMgYSBuZWdhdGl2ZSBpbmRleFxuXHRcdFx0XHRtYXRjaFsgMCBdID0gbWF0Y2hbIDAgXS5zbGljZSggMCwgZXhjZXNzICk7XG5cdFx0XHRcdG1hdGNoWyAyIF0gPSB1bnF1b3RlZC5zbGljZSggMCwgZXhjZXNzICk7XG5cdFx0XHR9XG5cblx0XHRcdC8vIFJldHVybiBvbmx5IGNhcHR1cmVzIG5lZWRlZCBieSB0aGUgcHNldWRvIGZpbHRlciBtZXRob2QgKHR5cGUgYW5kIGFyZ3VtZW50KVxuXHRcdFx0cmV0dXJuIG1hdGNoLnNsaWNlKCAwLCAzICk7XG5cdFx0fVxuXHR9LFxuXG5cdGZpbHRlcjoge1xuXG5cdFx0XCJUQUdcIjogZnVuY3Rpb24oIG5vZGVOYW1lU2VsZWN0b3IgKSB7XG5cdFx0XHR2YXIgbm9kZU5hbWUgPSBub2RlTmFtZVNlbGVjdG9yLnJlcGxhY2UoIHJ1bmVzY2FwZSwgZnVuZXNjYXBlICkudG9Mb3dlckNhc2UoKTtcblx0XHRcdHJldHVybiBub2RlTmFtZVNlbGVjdG9yID09PSBcIipcIiA/XG5cdFx0XHRcdGZ1bmN0aW9uKCkge1xuXHRcdFx0XHRcdHJldHVybiB0cnVlO1xuXHRcdFx0XHR9IDpcblx0XHRcdFx0ZnVuY3Rpb24oIGVsZW0gKSB7XG5cdFx0XHRcdFx0cmV0dXJuIGVsZW0ubm9kZU5hbWUgJiYgZWxlbS5ub2RlTmFtZS50b0xvd2VyQ2FzZSgpID09PSBub2RlTmFtZTtcblx0XHRcdFx0fTtcblx0XHR9LFxuXG5cdFx0XCJDTEFTU1wiOiBmdW5jdGlvbiggY2xhc3NOYW1lICkge1xuXHRcdFx0dmFyIHBhdHRlcm4gPSBjbGFzc0NhY2hlWyBjbGFzc05hbWUgKyBcIiBcIiBdO1xuXG5cdFx0XHRyZXR1cm4gcGF0dGVybiB8fFxuXHRcdFx0XHQoIHBhdHRlcm4gPSBuZXcgUmVnRXhwKCBcIihefFwiICsgd2hpdGVzcGFjZSArXG5cdFx0XHRcdFx0XCIpXCIgKyBjbGFzc05hbWUgKyBcIihcIiArIHdoaXRlc3BhY2UgKyBcInwkKVwiICkgKSAmJiBjbGFzc0NhY2hlKFxuXHRcdFx0XHRcdFx0Y2xhc3NOYW1lLCBmdW5jdGlvbiggZWxlbSApIHtcblx0XHRcdFx0XHRcdFx0cmV0dXJuIHBhdHRlcm4udGVzdChcblx0XHRcdFx0XHRcdFx0XHR0eXBlb2YgZWxlbS5jbGFzc05hbWUgPT09IFwic3RyaW5nXCIgJiYgZWxlbS5jbGFzc05hbWUgfHxcblx0XHRcdFx0XHRcdFx0XHR0eXBlb2YgZWxlbS5nZXRBdHRyaWJ1dGUgIT09IFwidW5kZWZpbmVkXCIgJiZcblx0XHRcdFx0XHRcdFx0XHRcdGVsZW0uZ2V0QXR0cmlidXRlKCBcImNsYXNzXCIgKSB8fFxuXHRcdFx0XHRcdFx0XHRcdFwiXCJcblx0XHRcdFx0XHRcdFx0KTtcblx0XHRcdFx0fSApO1xuXHRcdH0sXG5cblx0XHRcIkFUVFJcIjogZnVuY3Rpb24oIG5hbWUsIG9wZXJhdG9yLCBjaGVjayApIHtcblx0XHRcdHJldHVybiBmdW5jdGlvbiggZWxlbSApIHtcblx0XHRcdFx0dmFyIHJlc3VsdCA9IFNpenpsZS5hdHRyKCBlbGVtLCBuYW1lICk7XG5cblx0XHRcdFx0aWYgKCByZXN1bHQgPT0gbnVsbCApIHtcblx0XHRcdFx0XHRyZXR1cm4gb3BlcmF0b3IgPT09IFwiIT1cIjtcblx0XHRcdFx0fVxuXHRcdFx0XHRpZiAoICFvcGVyYXRvciApIHtcblx0XHRcdFx0XHRyZXR1cm4gdHJ1ZTtcblx0XHRcdFx0fVxuXG5cdFx0XHRcdHJlc3VsdCArPSBcIlwiO1xuXG5cdFx0XHRcdC8qIGVzbGludC1kaXNhYmxlIG1heC1sZW4gKi9cblxuXHRcdFx0XHRyZXR1cm4gb3BlcmF0b3IgPT09IFwiPVwiID8gcmVzdWx0ID09PSBjaGVjayA6XG5cdFx0XHRcdFx0b3BlcmF0b3IgPT09IFwiIT1cIiA/IHJlc3VsdCAhPT0gY2hlY2sgOlxuXHRcdFx0XHRcdG9wZXJhdG9yID09PSBcIl49XCIgPyBjaGVjayAmJiByZXN1bHQuaW5kZXhPZiggY2hlY2sgKSA9PT0gMCA6XG5cdFx0XHRcdFx0b3BlcmF0b3IgPT09IFwiKj1cIiA/IGNoZWNrICYmIHJlc3VsdC5pbmRleE9mKCBjaGVjayApID4gLTEgOlxuXHRcdFx0XHRcdG9wZXJhdG9yID09PSBcIiQ9XCIgPyBjaGVjayAmJiByZXN1bHQuc2xpY2UoIC1jaGVjay5sZW5ndGggKSA9PT0gY2hlY2sgOlxuXHRcdFx0XHRcdG9wZXJhdG9yID09PSBcIn49XCIgPyAoIFwiIFwiICsgcmVzdWx0LnJlcGxhY2UoIHJ3aGl0ZXNwYWNlLCBcIiBcIiApICsgXCIgXCIgKS5pbmRleE9mKCBjaGVjayApID4gLTEgOlxuXHRcdFx0XHRcdG9wZXJhdG9yID09PSBcInw9XCIgPyByZXN1bHQgPT09IGNoZWNrIHx8IHJlc3VsdC5zbGljZSggMCwgY2hlY2subGVuZ3RoICsgMSApID09PSBjaGVjayArIFwiLVwiIDpcblx0XHRcdFx0XHRmYWxzZTtcblx0XHRcdFx0LyogZXNsaW50LWVuYWJsZSBtYXgtbGVuICovXG5cblx0XHRcdH07XG5cdFx0fSxcblxuXHRcdFwiQ0hJTERcIjogZnVuY3Rpb24oIHR5cGUsIHdoYXQsIF9hcmd1bWVudCwgZmlyc3QsIGxhc3QgKSB7XG5cdFx0XHR2YXIgc2ltcGxlID0gdHlwZS5zbGljZSggMCwgMyApICE9PSBcIm50aFwiLFxuXHRcdFx0XHRmb3J3YXJkID0gdHlwZS5zbGljZSggLTQgKSAhPT0gXCJsYXN0XCIsXG5cdFx0XHRcdG9mVHlwZSA9IHdoYXQgPT09IFwib2YtdHlwZVwiO1xuXG5cdFx0XHRyZXR1cm4gZmlyc3QgPT09IDEgJiYgbGFzdCA9PT0gMCA/XG5cblx0XHRcdFx0Ly8gU2hvcnRjdXQgZm9yIDpudGgtKihuKVxuXHRcdFx0XHRmdW5jdGlvbiggZWxlbSApIHtcblx0XHRcdFx0XHRyZXR1cm4gISFlbGVtLnBhcmVudE5vZGU7XG5cdFx0XHRcdH0gOlxuXG5cdFx0XHRcdGZ1bmN0aW9uKCBlbGVtLCBfY29udGV4dCwgeG1sICkge1xuXHRcdFx0XHRcdHZhciBjYWNoZSwgdW5pcXVlQ2FjaGUsIG91dGVyQ2FjaGUsIG5vZGUsIG5vZGVJbmRleCwgc3RhcnQsXG5cdFx0XHRcdFx0XHRkaXIgPSBzaW1wbGUgIT09IGZvcndhcmQgPyBcIm5leHRTaWJsaW5nXCIgOiBcInByZXZpb3VzU2libGluZ1wiLFxuXHRcdFx0XHRcdFx0cGFyZW50ID0gZWxlbS5wYXJlbnROb2RlLFxuXHRcdFx0XHRcdFx0bmFtZSA9IG9mVHlwZSAmJiBlbGVtLm5vZGVOYW1lLnRvTG93ZXJDYXNlKCksXG5cdFx0XHRcdFx0XHR1c2VDYWNoZSA9ICF4bWwgJiYgIW9mVHlwZSxcblx0XHRcdFx0XHRcdGRpZmYgPSBmYWxzZTtcblxuXHRcdFx0XHRcdGlmICggcGFyZW50ICkge1xuXG5cdFx0XHRcdFx0XHQvLyA6KGZpcnN0fGxhc3R8b25seSktKGNoaWxkfG9mLXR5cGUpXG5cdFx0XHRcdFx0XHRpZiAoIHNpbXBsZSApIHtcblx0XHRcdFx0XHRcdFx0d2hpbGUgKCBkaXIgKSB7XG5cdFx0XHRcdFx0XHRcdFx0bm9kZSA9IGVsZW07XG5cdFx0XHRcdFx0XHRcdFx0d2hpbGUgKCAoIG5vZGUgPSBub2RlWyBkaXIgXSApICkge1xuXHRcdFx0XHRcdFx0XHRcdFx0aWYgKCBvZlR5cGUgP1xuXHRcdFx0XHRcdFx0XHRcdFx0XHRub2RlLm5vZGVOYW1lLnRvTG93ZXJDYXNlKCkgPT09IG5hbWUgOlxuXHRcdFx0XHRcdFx0XHRcdFx0XHRub2RlLm5vZGVUeXBlID09PSAxICkge1xuXG5cdFx0XHRcdFx0XHRcdFx0XHRcdHJldHVybiBmYWxzZTtcblx0XHRcdFx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHRcdFx0XHR9XG5cblx0XHRcdFx0XHRcdFx0XHQvLyBSZXZlcnNlIGRpcmVjdGlvbiBmb3IgOm9ubHktKiAoaWYgd2UgaGF2ZW4ndCB5ZXQgZG9uZSBzbylcblx0XHRcdFx0XHRcdFx0XHRzdGFydCA9IGRpciA9IHR5cGUgPT09IFwib25seVwiICYmICFzdGFydCAmJiBcIm5leHRTaWJsaW5nXCI7XG5cdFx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHRcdFx0cmV0dXJuIHRydWU7XG5cdFx0XHRcdFx0XHR9XG5cblx0XHRcdFx0XHRcdHN0YXJ0ID0gWyBmb3J3YXJkID8gcGFyZW50LmZpcnN0Q2hpbGQgOiBwYXJlbnQubGFzdENoaWxkIF07XG5cblx0XHRcdFx0XHRcdC8vIG5vbi14bWwgOm50aC1jaGlsZCguLi4pIHN0b3JlcyBjYWNoZSBkYXRhIG9uIGBwYXJlbnRgXG5cdFx0XHRcdFx0XHRpZiAoIGZvcndhcmQgJiYgdXNlQ2FjaGUgKSB7XG5cblx0XHRcdFx0XHRcdFx0Ly8gU2VlayBgZWxlbWAgZnJvbSBhIHByZXZpb3VzbHktY2FjaGVkIGluZGV4XG5cblx0XHRcdFx0XHRcdFx0Ly8gLi4uaW4gYSBnemlwLWZyaWVuZGx5IHdheVxuXHRcdFx0XHRcdFx0XHRub2RlID0gcGFyZW50O1xuXHRcdFx0XHRcdFx0XHRvdXRlckNhY2hlID0gbm9kZVsgZXhwYW5kbyBdIHx8ICggbm9kZVsgZXhwYW5kbyBdID0ge30gKTtcblxuXHRcdFx0XHRcdFx0XHQvLyBTdXBwb3J0OiBJRSA8OSBvbmx5XG5cdFx0XHRcdFx0XHRcdC8vIERlZmVuZCBhZ2FpbnN0IGNsb25lZCBhdHRyb3BlcnRpZXMgKGpRdWVyeSBnaC0xNzA5KVxuXHRcdFx0XHRcdFx0XHR1bmlxdWVDYWNoZSA9IG91dGVyQ2FjaGVbIG5vZGUudW5pcXVlSUQgXSB8fFxuXHRcdFx0XHRcdFx0XHRcdCggb3V0ZXJDYWNoZVsgbm9kZS51bmlxdWVJRCBdID0ge30gKTtcblxuXHRcdFx0XHRcdFx0XHRjYWNoZSA9IHVuaXF1ZUNhY2hlWyB0eXBlIF0gfHwgW107XG5cdFx0XHRcdFx0XHRcdG5vZGVJbmRleCA9IGNhY2hlWyAwIF0gPT09IGRpcnJ1bnMgJiYgY2FjaGVbIDEgXTtcblx0XHRcdFx0XHRcdFx0ZGlmZiA9IG5vZGVJbmRleCAmJiBjYWNoZVsgMiBdO1xuXHRcdFx0XHRcdFx0XHRub2RlID0gbm9kZUluZGV4ICYmIHBhcmVudC5jaGlsZE5vZGVzWyBub2RlSW5kZXggXTtcblxuXHRcdFx0XHRcdFx0XHR3aGlsZSAoICggbm9kZSA9ICsrbm9kZUluZGV4ICYmIG5vZGUgJiYgbm9kZVsgZGlyIF0gfHxcblxuXHRcdFx0XHRcdFx0XHRcdC8vIEZhbGxiYWNrIHRvIHNlZWtpbmcgYGVsZW1gIGZyb20gdGhlIHN0YXJ0XG5cdFx0XHRcdFx0XHRcdFx0KCBkaWZmID0gbm9kZUluZGV4ID0gMCApIHx8IHN0YXJ0LnBvcCgpICkgKSB7XG5cblx0XHRcdFx0XHRcdFx0XHQvLyBXaGVuIGZvdW5kLCBjYWNoZSBpbmRleGVzIG9uIGBwYXJlbnRgIGFuZCBicmVha1xuXHRcdFx0XHRcdFx0XHRcdGlmICggbm9kZS5ub2RlVHlwZSA9PT0gMSAmJiArK2RpZmYgJiYgbm9kZSA9PT0gZWxlbSApIHtcblx0XHRcdFx0XHRcdFx0XHRcdHVuaXF1ZUNhY2hlWyB0eXBlIF0gPSBbIGRpcnJ1bnMsIG5vZGVJbmRleCwgZGlmZiBdO1xuXHRcdFx0XHRcdFx0XHRcdFx0YnJlYWs7XG5cdFx0XHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdFx0XHR9XG5cblx0XHRcdFx0XHRcdH0gZWxzZSB7XG5cblx0XHRcdFx0XHRcdFx0Ly8gVXNlIHByZXZpb3VzbHktY2FjaGVkIGVsZW1lbnQgaW5kZXggaWYgYXZhaWxhYmxlXG5cdFx0XHRcdFx0XHRcdGlmICggdXNlQ2FjaGUgKSB7XG5cblx0XHRcdFx0XHRcdFx0XHQvLyAuLi5pbiBhIGd6aXAtZnJpZW5kbHkgd2F5XG5cdFx0XHRcdFx0XHRcdFx0bm9kZSA9IGVsZW07XG5cdFx0XHRcdFx0XHRcdFx0b3V0ZXJDYWNoZSA9IG5vZGVbIGV4cGFuZG8gXSB8fCAoIG5vZGVbIGV4cGFuZG8gXSA9IHt9ICk7XG5cblx0XHRcdFx0XHRcdFx0XHQvLyBTdXBwb3J0OiBJRSA8OSBvbmx5XG5cdFx0XHRcdFx0XHRcdFx0Ly8gRGVmZW5kIGFnYWluc3QgY2xvbmVkIGF0dHJvcGVydGllcyAoalF1ZXJ5IGdoLTE3MDkpXG5cdFx0XHRcdFx0XHRcdFx0dW5pcXVlQ2FjaGUgPSBvdXRlckNhY2hlWyBub2RlLnVuaXF1ZUlEIF0gfHxcblx0XHRcdFx0XHRcdFx0XHRcdCggb3V0ZXJDYWNoZVsgbm9kZS51bmlxdWVJRCBdID0ge30gKTtcblxuXHRcdFx0XHRcdFx0XHRcdGNhY2hlID0gdW5pcXVlQ2FjaGVbIHR5cGUgXSB8fCBbXTtcblx0XHRcdFx0XHRcdFx0XHRub2RlSW5kZXggPSBjYWNoZVsgMCBdID09PSBkaXJydW5zICYmIGNhY2hlWyAxIF07XG5cdFx0XHRcdFx0XHRcdFx0ZGlmZiA9IG5vZGVJbmRleDtcblx0XHRcdFx0XHRcdFx0fVxuXG5cdFx0XHRcdFx0XHRcdC8vIHhtbCA6bnRoLWNoaWxkKC4uLilcblx0XHRcdFx0XHRcdFx0Ly8gb3IgOm50aC1sYXN0LWNoaWxkKC4uLikgb3IgOm50aCgtbGFzdCk/LW9mLXR5cGUoLi4uKVxuXHRcdFx0XHRcdFx0XHRpZiAoIGRpZmYgPT09IGZhbHNlICkge1xuXG5cdFx0XHRcdFx0XHRcdFx0Ly8gVXNlIHRoZSBzYW1lIGxvb3AgYXMgYWJvdmUgdG8gc2VlayBgZWxlbWAgZnJvbSB0aGUgc3RhcnRcblx0XHRcdFx0XHRcdFx0XHR3aGlsZSAoICggbm9kZSA9ICsrbm9kZUluZGV4ICYmIG5vZGUgJiYgbm9kZVsgZGlyIF0gfHxcblx0XHRcdFx0XHRcdFx0XHRcdCggZGlmZiA9IG5vZGVJbmRleCA9IDAgKSB8fCBzdGFydC5wb3AoKSApICkge1xuXG5cdFx0XHRcdFx0XHRcdFx0XHRpZiAoICggb2ZUeXBlID9cblx0XHRcdFx0XHRcdFx0XHRcdFx0bm9kZS5ub2RlTmFtZS50b0xvd2VyQ2FzZSgpID09PSBuYW1lIDpcblx0XHRcdFx0XHRcdFx0XHRcdFx0bm9kZS5ub2RlVHlwZSA9PT0gMSApICYmXG5cdFx0XHRcdFx0XHRcdFx0XHRcdCsrZGlmZiApIHtcblxuXHRcdFx0XHRcdFx0XHRcdFx0XHQvLyBDYWNoZSB0aGUgaW5kZXggb2YgZWFjaCBlbmNvdW50ZXJlZCBlbGVtZW50XG5cdFx0XHRcdFx0XHRcdFx0XHRcdGlmICggdXNlQ2FjaGUgKSB7XG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0b3V0ZXJDYWNoZSA9IG5vZGVbIGV4cGFuZG8gXSB8fFxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0KCBub2RlWyBleHBhbmRvIF0gPSB7fSApO1xuXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0Ly8gU3VwcG9ydDogSUUgPDkgb25seVxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdC8vIERlZmVuZCBhZ2FpbnN0IGNsb25lZCBhdHRyb3BlcnRpZXMgKGpRdWVyeSBnaC0xNzA5KVxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdHVuaXF1ZUNhY2hlID0gb3V0ZXJDYWNoZVsgbm9kZS51bmlxdWVJRCBdIHx8XG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHQoIG91dGVyQ2FjaGVbIG5vZGUudW5pcXVlSUQgXSA9IHt9ICk7XG5cblx0XHRcdFx0XHRcdFx0XHRcdFx0XHR1bmlxdWVDYWNoZVsgdHlwZSBdID0gWyBkaXJydW5zLCBkaWZmIF07XG5cdFx0XHRcdFx0XHRcdFx0XHRcdH1cblxuXHRcdFx0XHRcdFx0XHRcdFx0XHRpZiAoIG5vZGUgPT09IGVsZW0gKSB7XG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0YnJlYWs7XG5cdFx0XHRcdFx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHRcdH1cblxuXHRcdFx0XHRcdFx0Ly8gSW5jb3Jwb3JhdGUgdGhlIG9mZnNldCwgdGhlbiBjaGVjayBhZ2FpbnN0IGN5Y2xlIHNpemVcblx0XHRcdFx0XHRcdGRpZmYgLT0gbGFzdDtcblx0XHRcdFx0XHRcdHJldHVybiBkaWZmID09PSBmaXJzdCB8fCAoIGRpZmYgJSBmaXJzdCA9PT0gMCAmJiBkaWZmIC8gZmlyc3QgPj0gMCApO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0fTtcblx0XHR9LFxuXG5cdFx0XCJQU0VVRE9cIjogZnVuY3Rpb24oIHBzZXVkbywgYXJndW1lbnQgKSB7XG5cblx0XHRcdC8vIHBzZXVkby1jbGFzcyBuYW1lcyBhcmUgY2FzZS1pbnNlbnNpdGl2ZVxuXHRcdFx0Ly8gaHR0cDovL3d3dy53My5vcmcvVFIvc2VsZWN0b3JzLyNwc2V1ZG8tY2xhc3Nlc1xuXHRcdFx0Ly8gUHJpb3JpdGl6ZSBieSBjYXNlIHNlbnNpdGl2aXR5IGluIGNhc2UgY3VzdG9tIHBzZXVkb3MgYXJlIGFkZGVkIHdpdGggdXBwZXJjYXNlIGxldHRlcnNcblx0XHRcdC8vIFJlbWVtYmVyIHRoYXQgc2V0RmlsdGVycyBpbmhlcml0cyBmcm9tIHBzZXVkb3Ncblx0XHRcdHZhciBhcmdzLFxuXHRcdFx0XHRmbiA9IEV4cHIucHNldWRvc1sgcHNldWRvIF0gfHwgRXhwci5zZXRGaWx0ZXJzWyBwc2V1ZG8udG9Mb3dlckNhc2UoKSBdIHx8XG5cdFx0XHRcdFx0U2l6emxlLmVycm9yKCBcInVuc3VwcG9ydGVkIHBzZXVkbzogXCIgKyBwc2V1ZG8gKTtcblxuXHRcdFx0Ly8gVGhlIHVzZXIgbWF5IHVzZSBjcmVhdGVQc2V1ZG8gdG8gaW5kaWNhdGUgdGhhdFxuXHRcdFx0Ly8gYXJndW1lbnRzIGFyZSBuZWVkZWQgdG8gY3JlYXRlIHRoZSBmaWx0ZXIgZnVuY3Rpb25cblx0XHRcdC8vIGp1c3QgYXMgU2l6emxlIGRvZXNcblx0XHRcdGlmICggZm5bIGV4cGFuZG8gXSApIHtcblx0XHRcdFx0cmV0dXJuIGZuKCBhcmd1bWVudCApO1xuXHRcdFx0fVxuXG5cdFx0XHQvLyBCdXQgbWFpbnRhaW4gc3VwcG9ydCBmb3Igb2xkIHNpZ25hdHVyZXNcblx0XHRcdGlmICggZm4ubGVuZ3RoID4gMSApIHtcblx0XHRcdFx0YXJncyA9IFsgcHNldWRvLCBwc2V1ZG8sIFwiXCIsIGFyZ3VtZW50IF07XG5cdFx0XHRcdHJldHVybiBFeHByLnNldEZpbHRlcnMuaGFzT3duUHJvcGVydHkoIHBzZXVkby50b0xvd2VyQ2FzZSgpICkgP1xuXHRcdFx0XHRcdG1hcmtGdW5jdGlvbiggZnVuY3Rpb24oIHNlZWQsIG1hdGNoZXMgKSB7XG5cdFx0XHRcdFx0XHR2YXIgaWR4LFxuXHRcdFx0XHRcdFx0XHRtYXRjaGVkID0gZm4oIHNlZWQsIGFyZ3VtZW50ICksXG5cdFx0XHRcdFx0XHRcdGkgPSBtYXRjaGVkLmxlbmd0aDtcblx0XHRcdFx0XHRcdHdoaWxlICggaS0tICkge1xuXHRcdFx0XHRcdFx0XHRpZHggPSBpbmRleE9mKCBzZWVkLCBtYXRjaGVkWyBpIF0gKTtcblx0XHRcdFx0XHRcdFx0c2VlZFsgaWR4IF0gPSAhKCBtYXRjaGVzWyBpZHggXSA9IG1hdGNoZWRbIGkgXSApO1xuXHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdH0gKSA6XG5cdFx0XHRcdFx0ZnVuY3Rpb24oIGVsZW0gKSB7XG5cdFx0XHRcdFx0XHRyZXR1cm4gZm4oIGVsZW0sIDAsIGFyZ3MgKTtcblx0XHRcdFx0XHR9O1xuXHRcdFx0fVxuXG5cdFx0XHRyZXR1cm4gZm47XG5cdFx0fVxuXHR9LFxuXG5cdHBzZXVkb3M6IHtcblxuXHRcdC8vIFBvdGVudGlhbGx5IGNvbXBsZXggcHNldWRvc1xuXHRcdFwibm90XCI6IG1hcmtGdW5jdGlvbiggZnVuY3Rpb24oIHNlbGVjdG9yICkge1xuXG5cdFx0XHQvLyBUcmltIHRoZSBzZWxlY3RvciBwYXNzZWQgdG8gY29tcGlsZVxuXHRcdFx0Ly8gdG8gYXZvaWQgdHJlYXRpbmcgbGVhZGluZyBhbmQgdHJhaWxpbmdcblx0XHRcdC8vIHNwYWNlcyBhcyBjb21iaW5hdG9yc1xuXHRcdFx0dmFyIGlucHV0ID0gW10sXG5cdFx0XHRcdHJlc3VsdHMgPSBbXSxcblx0XHRcdFx0bWF0Y2hlciA9IGNvbXBpbGUoIHNlbGVjdG9yLnJlcGxhY2UoIHJ0cmltLCBcIiQxXCIgKSApO1xuXG5cdFx0XHRyZXR1cm4gbWF0Y2hlclsgZXhwYW5kbyBdID9cblx0XHRcdFx0bWFya0Z1bmN0aW9uKCBmdW5jdGlvbiggc2VlZCwgbWF0Y2hlcywgX2NvbnRleHQsIHhtbCApIHtcblx0XHRcdFx0XHR2YXIgZWxlbSxcblx0XHRcdFx0XHRcdHVubWF0Y2hlZCA9IG1hdGNoZXIoIHNlZWQsIG51bGwsIHhtbCwgW10gKSxcblx0XHRcdFx0XHRcdGkgPSBzZWVkLmxlbmd0aDtcblxuXHRcdFx0XHRcdC8vIE1hdGNoIGVsZW1lbnRzIHVubWF0Y2hlZCBieSBgbWF0Y2hlcmBcblx0XHRcdFx0XHR3aGlsZSAoIGktLSApIHtcblx0XHRcdFx0XHRcdGlmICggKCBlbGVtID0gdW5tYXRjaGVkWyBpIF0gKSApIHtcblx0XHRcdFx0XHRcdFx0c2VlZFsgaSBdID0gISggbWF0Y2hlc1sgaSBdID0gZWxlbSApO1xuXHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdH1cblx0XHRcdFx0fSApIDpcblx0XHRcdFx0ZnVuY3Rpb24oIGVsZW0sIF9jb250ZXh0LCB4bWwgKSB7XG5cdFx0XHRcdFx0aW5wdXRbIDAgXSA9IGVsZW07XG5cdFx0XHRcdFx0bWF0Y2hlciggaW5wdXQsIG51bGwsIHhtbCwgcmVzdWx0cyApO1xuXG5cdFx0XHRcdFx0Ly8gRG9uJ3Qga2VlcCB0aGUgZWxlbWVudCAoaXNzdWUgIzI5OSlcblx0XHRcdFx0XHRpbnB1dFsgMCBdID0gbnVsbDtcblx0XHRcdFx0XHRyZXR1cm4gIXJlc3VsdHMucG9wKCk7XG5cdFx0XHRcdH07XG5cdFx0fSApLFxuXG5cdFx0XCJoYXNcIjogbWFya0Z1bmN0aW9uKCBmdW5jdGlvbiggc2VsZWN0b3IgKSB7XG5cdFx0XHRyZXR1cm4gZnVuY3Rpb24oIGVsZW0gKSB7XG5cdFx0XHRcdHJldHVybiBTaXp6bGUoIHNlbGVjdG9yLCBlbGVtICkubGVuZ3RoID4gMDtcblx0XHRcdH07XG5cdFx0fSApLFxuXG5cdFx0XCJjb250YWluc1wiOiBtYXJrRnVuY3Rpb24oIGZ1bmN0aW9uKCB0ZXh0ICkge1xuXHRcdFx0dGV4dCA9IHRleHQucmVwbGFjZSggcnVuZXNjYXBlLCBmdW5lc2NhcGUgKTtcblx0XHRcdHJldHVybiBmdW5jdGlvbiggZWxlbSApIHtcblx0XHRcdFx0cmV0dXJuICggZWxlbS50ZXh0Q29udGVudCB8fCBnZXRUZXh0KCBlbGVtICkgKS5pbmRleE9mKCB0ZXh0ICkgPiAtMTtcblx0XHRcdH07XG5cdFx0fSApLFxuXG5cdFx0Ly8gXCJXaGV0aGVyIGFuIGVsZW1lbnQgaXMgcmVwcmVzZW50ZWQgYnkgYSA6bGFuZygpIHNlbGVjdG9yXG5cdFx0Ly8gaXMgYmFzZWQgc29sZWx5IG9uIHRoZSBlbGVtZW50J3MgbGFuZ3VhZ2UgdmFsdWVcblx0XHQvLyBiZWluZyBlcXVhbCB0byB0aGUgaWRlbnRpZmllciBDLFxuXHRcdC8vIG9yIGJlZ2lubmluZyB3aXRoIHRoZSBpZGVudGlmaWVyIEMgaW1tZWRpYXRlbHkgZm9sbG93ZWQgYnkgXCItXCIuXG5cdFx0Ly8gVGhlIG1hdGNoaW5nIG9mIEMgYWdhaW5zdCB0aGUgZWxlbWVudCdzIGxhbmd1YWdlIHZhbHVlIGlzIHBlcmZvcm1lZCBjYXNlLWluc2Vuc2l0aXZlbHkuXG5cdFx0Ly8gVGhlIGlkZW50aWZpZXIgQyBkb2VzIG5vdCBoYXZlIHRvIGJlIGEgdmFsaWQgbGFuZ3VhZ2UgbmFtZS5cIlxuXHRcdC8vIGh0dHA6Ly93d3cudzMub3JnL1RSL3NlbGVjdG9ycy8jbGFuZy1wc2V1ZG9cblx0XHRcImxhbmdcIjogbWFya0Z1bmN0aW9uKCBmdW5jdGlvbiggbGFuZyApIHtcblxuXHRcdFx0Ly8gbGFuZyB2YWx1ZSBtdXN0IGJlIGEgdmFsaWQgaWRlbnRpZmllclxuXHRcdFx0aWYgKCAhcmlkZW50aWZpZXIudGVzdCggbGFuZyB8fCBcIlwiICkgKSB7XG5cdFx0XHRcdFNpenpsZS5lcnJvciggXCJ1bnN1cHBvcnRlZCBsYW5nOiBcIiArIGxhbmcgKTtcblx0XHRcdH1cblx0XHRcdGxhbmcgPSBsYW5nLnJlcGxhY2UoIHJ1bmVzY2FwZSwgZnVuZXNjYXBlICkudG9Mb3dlckNhc2UoKTtcblx0XHRcdHJldHVybiBmdW5jdGlvbiggZWxlbSApIHtcblx0XHRcdFx0dmFyIGVsZW1MYW5nO1xuXHRcdFx0XHRkbyB7XG5cdFx0XHRcdFx0aWYgKCAoIGVsZW1MYW5nID0gZG9jdW1lbnRJc0hUTUwgP1xuXHRcdFx0XHRcdFx0ZWxlbS5sYW5nIDpcblx0XHRcdFx0XHRcdGVsZW0uZ2V0QXR0cmlidXRlKCBcInhtbDpsYW5nXCIgKSB8fCBlbGVtLmdldEF0dHJpYnV0ZSggXCJsYW5nXCIgKSApICkge1xuXG5cdFx0XHRcdFx0XHRlbGVtTGFuZyA9IGVsZW1MYW5nLnRvTG93ZXJDYXNlKCk7XG5cdFx0XHRcdFx0XHRyZXR1cm4gZWxlbUxhbmcgPT09IGxhbmcgfHwgZWxlbUxhbmcuaW5kZXhPZiggbGFuZyArIFwiLVwiICkgPT09IDA7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9IHdoaWxlICggKCBlbGVtID0gZWxlbS5wYXJlbnROb2RlICkgJiYgZWxlbS5ub2RlVHlwZSA9PT0gMSApO1xuXHRcdFx0XHRyZXR1cm4gZmFsc2U7XG5cdFx0XHR9O1xuXHRcdH0gKSxcblxuXHRcdC8vIE1pc2NlbGxhbmVvdXNcblx0XHRcInRhcmdldFwiOiBmdW5jdGlvbiggZWxlbSApIHtcblx0XHRcdHZhciBoYXNoID0gd2luZG93LmxvY2F0aW9uICYmIHdpbmRvdy5sb2NhdGlvbi5oYXNoO1xuXHRcdFx0cmV0dXJuIGhhc2ggJiYgaGFzaC5zbGljZSggMSApID09PSBlbGVtLmlkO1xuXHRcdH0sXG5cblx0XHRcInJvb3RcIjogZnVuY3Rpb24oIGVsZW0gKSB7XG5cdFx0XHRyZXR1cm4gZWxlbSA9PT0gZG9jRWxlbTtcblx0XHR9LFxuXG5cdFx0XCJmb2N1c1wiOiBmdW5jdGlvbiggZWxlbSApIHtcblx0XHRcdHJldHVybiBlbGVtID09PSBkb2N1bWVudC5hY3RpdmVFbGVtZW50ICYmXG5cdFx0XHRcdCggIWRvY3VtZW50Lmhhc0ZvY3VzIHx8IGRvY3VtZW50Lmhhc0ZvY3VzKCkgKSAmJlxuXHRcdFx0XHQhISggZWxlbS50eXBlIHx8IGVsZW0uaHJlZiB8fCB+ZWxlbS50YWJJbmRleCApO1xuXHRcdH0sXG5cblx0XHQvLyBCb29sZWFuIHByb3BlcnRpZXNcblx0XHRcImVuYWJsZWRcIjogY3JlYXRlRGlzYWJsZWRQc2V1ZG8oIGZhbHNlICksXG5cdFx0XCJkaXNhYmxlZFwiOiBjcmVhdGVEaXNhYmxlZFBzZXVkbyggdHJ1ZSApLFxuXG5cdFx0XCJjaGVja2VkXCI6IGZ1bmN0aW9uKCBlbGVtICkge1xuXG5cdFx0XHQvLyBJbiBDU1MzLCA6Y2hlY2tlZCBzaG91bGQgcmV0dXJuIGJvdGggY2hlY2tlZCBhbmQgc2VsZWN0ZWQgZWxlbWVudHNcblx0XHRcdC8vIGh0dHA6Ly93d3cudzMub3JnL1RSLzIwMTEvUkVDLWNzczMtc2VsZWN0b3JzLTIwMTEwOTI5LyNjaGVja2VkXG5cdFx0XHR2YXIgbm9kZU5hbWUgPSBlbGVtLm5vZGVOYW1lLnRvTG93ZXJDYXNlKCk7XG5cdFx0XHRyZXR1cm4gKCBub2RlTmFtZSA9PT0gXCJpbnB1dFwiICYmICEhZWxlbS5jaGVja2VkICkgfHxcblx0XHRcdFx0KCBub2RlTmFtZSA9PT0gXCJvcHRpb25cIiAmJiAhIWVsZW0uc2VsZWN0ZWQgKTtcblx0XHR9LFxuXG5cdFx0XCJzZWxlY3RlZFwiOiBmdW5jdGlvbiggZWxlbSApIHtcblxuXHRcdFx0Ly8gQWNjZXNzaW5nIHRoaXMgcHJvcGVydHkgbWFrZXMgc2VsZWN0ZWQtYnktZGVmYXVsdFxuXHRcdFx0Ly8gb3B0aW9ucyBpbiBTYWZhcmkgd29yayBwcm9wZXJseVxuXHRcdFx0aWYgKCBlbGVtLnBhcmVudE5vZGUgKSB7XG5cdFx0XHRcdC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby11bnVzZWQtZXhwcmVzc2lvbnNcblx0XHRcdFx0ZWxlbS5wYXJlbnROb2RlLnNlbGVjdGVkSW5kZXg7XG5cdFx0XHR9XG5cblx0XHRcdHJldHVybiBlbGVtLnNlbGVjdGVkID09PSB0cnVlO1xuXHRcdH0sXG5cblx0XHQvLyBDb250ZW50c1xuXHRcdFwiZW1wdHlcIjogZnVuY3Rpb24oIGVsZW0gKSB7XG5cblx0XHRcdC8vIGh0dHA6Ly93d3cudzMub3JnL1RSL3NlbGVjdG9ycy8jZW1wdHktcHNldWRvXG5cdFx0XHQvLyA6ZW1wdHkgaXMgbmVnYXRlZCBieSBlbGVtZW50ICgxKSBvciBjb250ZW50IG5vZGVzICh0ZXh0OiAzOyBjZGF0YTogNDsgZW50aXR5IHJlZjogNSksXG5cdFx0XHQvLyAgIGJ1dCBub3QgYnkgb3RoZXJzIChjb21tZW50OiA4OyBwcm9jZXNzaW5nIGluc3RydWN0aW9uOiA3OyBldGMuKVxuXHRcdFx0Ly8gbm9kZVR5cGUgPCA2IHdvcmtzIGJlY2F1c2UgYXR0cmlidXRlcyAoMikgZG8gbm90IGFwcGVhciBhcyBjaGlsZHJlblxuXHRcdFx0Zm9yICggZWxlbSA9IGVsZW0uZmlyc3RDaGlsZDsgZWxlbTsgZWxlbSA9IGVsZW0ubmV4dFNpYmxpbmcgKSB7XG5cdFx0XHRcdGlmICggZWxlbS5ub2RlVHlwZSA8IDYgKSB7XG5cdFx0XHRcdFx0cmV0dXJuIGZhbHNlO1xuXHRcdFx0XHR9XG5cdFx0XHR9XG5cdFx0XHRyZXR1cm4gdHJ1ZTtcblx0XHR9LFxuXG5cdFx0XCJwYXJlbnRcIjogZnVuY3Rpb24oIGVsZW0gKSB7XG5cdFx0XHRyZXR1cm4gIUV4cHIucHNldWRvc1sgXCJlbXB0eVwiIF0oIGVsZW0gKTtcblx0XHR9LFxuXG5cdFx0Ly8gRWxlbWVudC9pbnB1dCB0eXBlc1xuXHRcdFwiaGVhZGVyXCI6IGZ1bmN0aW9uKCBlbGVtICkge1xuXHRcdFx0cmV0dXJuIHJoZWFkZXIudGVzdCggZWxlbS5ub2RlTmFtZSApO1xuXHRcdH0sXG5cblx0XHRcImlucHV0XCI6IGZ1bmN0aW9uKCBlbGVtICkge1xuXHRcdFx0cmV0dXJuIHJpbnB1dHMudGVzdCggZWxlbS5ub2RlTmFtZSApO1xuXHRcdH0sXG5cblx0XHRcImJ1dHRvblwiOiBmdW5jdGlvbiggZWxlbSApIHtcblx0XHRcdHZhciBuYW1lID0gZWxlbS5ub2RlTmFtZS50b0xvd2VyQ2FzZSgpO1xuXHRcdFx0cmV0dXJuIG5hbWUgPT09IFwiaW5wdXRcIiAmJiBlbGVtLnR5cGUgPT09IFwiYnV0dG9uXCIgfHwgbmFtZSA9PT0gXCJidXR0b25cIjtcblx0XHR9LFxuXG5cdFx0XCJ0ZXh0XCI6IGZ1bmN0aW9uKCBlbGVtICkge1xuXHRcdFx0dmFyIGF0dHI7XG5cdFx0XHRyZXR1cm4gZWxlbS5ub2RlTmFtZS50b0xvd2VyQ2FzZSgpID09PSBcImlucHV0XCIgJiZcblx0XHRcdFx0ZWxlbS50eXBlID09PSBcInRleHRcIiAmJlxuXG5cdFx0XHRcdC8vIFN1cHBvcnQ6IElFPDhcblx0XHRcdFx0Ly8gTmV3IEhUTUw1IGF0dHJpYnV0ZSB2YWx1ZXMgKGUuZy4sIFwic2VhcmNoXCIpIGFwcGVhciB3aXRoIGVsZW0udHlwZSA9PT0gXCJ0ZXh0XCJcblx0XHRcdFx0KCAoIGF0dHIgPSBlbGVtLmdldEF0dHJpYnV0ZSggXCJ0eXBlXCIgKSApID09IG51bGwgfHxcblx0XHRcdFx0XHRhdHRyLnRvTG93ZXJDYXNlKCkgPT09IFwidGV4dFwiICk7XG5cdFx0fSxcblxuXHRcdC8vIFBvc2l0aW9uLWluLWNvbGxlY3Rpb25cblx0XHRcImZpcnN0XCI6IGNyZWF0ZVBvc2l0aW9uYWxQc2V1ZG8oIGZ1bmN0aW9uKCkge1xuXHRcdFx0cmV0dXJuIFsgMCBdO1xuXHRcdH0gKSxcblxuXHRcdFwibGFzdFwiOiBjcmVhdGVQb3NpdGlvbmFsUHNldWRvKCBmdW5jdGlvbiggX21hdGNoSW5kZXhlcywgbGVuZ3RoICkge1xuXHRcdFx0cmV0dXJuIFsgbGVuZ3RoIC0gMSBdO1xuXHRcdH0gKSxcblxuXHRcdFwiZXFcIjogY3JlYXRlUG9zaXRpb25hbFBzZXVkbyggZnVuY3Rpb24oIF9tYXRjaEluZGV4ZXMsIGxlbmd0aCwgYXJndW1lbnQgKSB7XG5cdFx0XHRyZXR1cm4gWyBhcmd1bWVudCA8IDAgPyBhcmd1bWVudCArIGxlbmd0aCA6IGFyZ3VtZW50IF07XG5cdFx0fSApLFxuXG5cdFx0XCJldmVuXCI6IGNyZWF0ZVBvc2l0aW9uYWxQc2V1ZG8oIGZ1bmN0aW9uKCBtYXRjaEluZGV4ZXMsIGxlbmd0aCApIHtcblx0XHRcdHZhciBpID0gMDtcblx0XHRcdGZvciAoIDsgaSA8IGxlbmd0aDsgaSArPSAyICkge1xuXHRcdFx0XHRtYXRjaEluZGV4ZXMucHVzaCggaSApO1xuXHRcdFx0fVxuXHRcdFx0cmV0dXJuIG1hdGNoSW5kZXhlcztcblx0XHR9ICksXG5cblx0XHRcIm9kZFwiOiBjcmVhdGVQb3NpdGlvbmFsUHNldWRvKCBmdW5jdGlvbiggbWF0Y2hJbmRleGVzLCBsZW5ndGggKSB7XG5cdFx0XHR2YXIgaSA9IDE7XG5cdFx0XHRmb3IgKCA7IGkgPCBsZW5ndGg7IGkgKz0gMiApIHtcblx0XHRcdFx0bWF0Y2hJbmRleGVzLnB1c2goIGkgKTtcblx0XHRcdH1cblx0XHRcdHJldHVybiBtYXRjaEluZGV4ZXM7XG5cdFx0fSApLFxuXG5cdFx0XCJsdFwiOiBjcmVhdGVQb3NpdGlvbmFsUHNldWRvKCBmdW5jdGlvbiggbWF0Y2hJbmRleGVzLCBsZW5ndGgsIGFyZ3VtZW50ICkge1xuXHRcdFx0dmFyIGkgPSBhcmd1bWVudCA8IDAgP1xuXHRcdFx0XHRhcmd1bWVudCArIGxlbmd0aCA6XG5cdFx0XHRcdGFyZ3VtZW50ID4gbGVuZ3RoID9cblx0XHRcdFx0XHRsZW5ndGggOlxuXHRcdFx0XHRcdGFyZ3VtZW50O1xuXHRcdFx0Zm9yICggOyAtLWkgPj0gMDsgKSB7XG5cdFx0XHRcdG1hdGNoSW5kZXhlcy5wdXNoKCBpICk7XG5cdFx0XHR9XG5cdFx0XHRyZXR1cm4gbWF0Y2hJbmRleGVzO1xuXHRcdH0gKSxcblxuXHRcdFwiZ3RcIjogY3JlYXRlUG9zaXRpb25hbFBzZXVkbyggZnVuY3Rpb24oIG1hdGNoSW5kZXhlcywgbGVuZ3RoLCBhcmd1bWVudCApIHtcblx0XHRcdHZhciBpID0gYXJndW1lbnQgPCAwID8gYXJndW1lbnQgKyBsZW5ndGggOiBhcmd1bWVudDtcblx0XHRcdGZvciAoIDsgKytpIDwgbGVuZ3RoOyApIHtcblx0XHRcdFx0bWF0Y2hJbmRleGVzLnB1c2goIGkgKTtcblx0XHRcdH1cblx0XHRcdHJldHVybiBtYXRjaEluZGV4ZXM7XG5cdFx0fSApXG5cdH1cbn07XG5cbkV4cHIucHNldWRvc1sgXCJudGhcIiBdID0gRXhwci5wc2V1ZG9zWyBcImVxXCIgXTtcblxuLy8gQWRkIGJ1dHRvbi9pbnB1dCB0eXBlIHBzZXVkb3NcbmZvciAoIGkgaW4geyByYWRpbzogdHJ1ZSwgY2hlY2tib3g6IHRydWUsIGZpbGU6IHRydWUsIHBhc3N3b3JkOiB0cnVlLCBpbWFnZTogdHJ1ZSB9ICkge1xuXHRFeHByLnBzZXVkb3NbIGkgXSA9IGNyZWF0ZUlucHV0UHNldWRvKCBpICk7XG59XG5mb3IgKCBpIGluIHsgc3VibWl0OiB0cnVlLCByZXNldDogdHJ1ZSB9ICkge1xuXHRFeHByLnBzZXVkb3NbIGkgXSA9IGNyZWF0ZUJ1dHRvblBzZXVkbyggaSApO1xufVxuXG4vLyBFYXN5IEFQSSBmb3IgY3JlYXRpbmcgbmV3IHNldEZpbHRlcnNcbmZ1bmN0aW9uIHNldEZpbHRlcnMoKSB7fVxuc2V0RmlsdGVycy5wcm90b3R5cGUgPSBFeHByLmZpbHRlcnMgPSBFeHByLnBzZXVkb3M7XG5FeHByLnNldEZpbHRlcnMgPSBuZXcgc2V0RmlsdGVycygpO1xuXG50b2tlbml6ZSA9IFNpenpsZS50b2tlbml6ZSA9IGZ1bmN0aW9uKCBzZWxlY3RvciwgcGFyc2VPbmx5ICkge1xuXHR2YXIgbWF0Y2hlZCwgbWF0Y2gsIHRva2VucywgdHlwZSxcblx0XHRzb0ZhciwgZ3JvdXBzLCBwcmVGaWx0ZXJzLFxuXHRcdGNhY2hlZCA9IHRva2VuQ2FjaGVbIHNlbGVjdG9yICsgXCIgXCIgXTtcblxuXHRpZiAoIGNhY2hlZCApIHtcblx0XHRyZXR1cm4gcGFyc2VPbmx5ID8gMCA6IGNhY2hlZC5zbGljZSggMCApO1xuXHR9XG5cblx0c29GYXIgPSBzZWxlY3Rvcjtcblx0Z3JvdXBzID0gW107XG5cdHByZUZpbHRlcnMgPSBFeHByLnByZUZpbHRlcjtcblxuXHR3aGlsZSAoIHNvRmFyICkge1xuXG5cdFx0Ly8gQ29tbWEgYW5kIGZpcnN0IHJ1blxuXHRcdGlmICggIW1hdGNoZWQgfHwgKCBtYXRjaCA9IHJjb21tYS5leGVjKCBzb0ZhciApICkgKSB7XG5cdFx0XHRpZiAoIG1hdGNoICkge1xuXG5cdFx0XHRcdC8vIERvbid0IGNvbnN1bWUgdHJhaWxpbmcgY29tbWFzIGFzIHZhbGlkXG5cdFx0XHRcdHNvRmFyID0gc29GYXIuc2xpY2UoIG1hdGNoWyAwIF0ubGVuZ3RoICkgfHwgc29GYXI7XG5cdFx0XHR9XG5cdFx0XHRncm91cHMucHVzaCggKCB0b2tlbnMgPSBbXSApICk7XG5cdFx0fVxuXG5cdFx0bWF0Y2hlZCA9IGZhbHNlO1xuXG5cdFx0Ly8gQ29tYmluYXRvcnNcblx0XHRpZiAoICggbWF0Y2ggPSByY29tYmluYXRvcnMuZXhlYyggc29GYXIgKSApICkge1xuXHRcdFx0bWF0Y2hlZCA9IG1hdGNoLnNoaWZ0KCk7XG5cdFx0XHR0b2tlbnMucHVzaCgge1xuXHRcdFx0XHR2YWx1ZTogbWF0Y2hlZCxcblxuXHRcdFx0XHQvLyBDYXN0IGRlc2NlbmRhbnQgY29tYmluYXRvcnMgdG8gc3BhY2Vcblx0XHRcdFx0dHlwZTogbWF0Y2hbIDAgXS5yZXBsYWNlKCBydHJpbSwgXCIgXCIgKVxuXHRcdFx0fSApO1xuXHRcdFx0c29GYXIgPSBzb0Zhci5zbGljZSggbWF0Y2hlZC5sZW5ndGggKTtcblx0XHR9XG5cblx0XHQvLyBGaWx0ZXJzXG5cdFx0Zm9yICggdHlwZSBpbiBFeHByLmZpbHRlciApIHtcblx0XHRcdGlmICggKCBtYXRjaCA9IG1hdGNoRXhwclsgdHlwZSBdLmV4ZWMoIHNvRmFyICkgKSAmJiAoICFwcmVGaWx0ZXJzWyB0eXBlIF0gfHxcblx0XHRcdFx0KCBtYXRjaCA9IHByZUZpbHRlcnNbIHR5cGUgXSggbWF0Y2ggKSApICkgKSB7XG5cdFx0XHRcdG1hdGNoZWQgPSBtYXRjaC5zaGlmdCgpO1xuXHRcdFx0XHR0b2tlbnMucHVzaCgge1xuXHRcdFx0XHRcdHZhbHVlOiBtYXRjaGVkLFxuXHRcdFx0XHRcdHR5cGU6IHR5cGUsXG5cdFx0XHRcdFx0bWF0Y2hlczogbWF0Y2hcblx0XHRcdFx0fSApO1xuXHRcdFx0XHRzb0ZhciA9IHNvRmFyLnNsaWNlKCBtYXRjaGVkLmxlbmd0aCApO1xuXHRcdFx0fVxuXHRcdH1cblxuXHRcdGlmICggIW1hdGNoZWQgKSB7XG5cdFx0XHRicmVhaztcblx0XHR9XG5cdH1cblxuXHQvLyBSZXR1cm4gdGhlIGxlbmd0aCBvZiB0aGUgaW52YWxpZCBleGNlc3Ncblx0Ly8gaWYgd2UncmUganVzdCBwYXJzaW5nXG5cdC8vIE90aGVyd2lzZSwgdGhyb3cgYW4gZXJyb3Igb3IgcmV0dXJuIHRva2Vuc1xuXHRyZXR1cm4gcGFyc2VPbmx5ID9cblx0XHRzb0Zhci5sZW5ndGggOlxuXHRcdHNvRmFyID9cblx0XHRcdFNpenpsZS5lcnJvciggc2VsZWN0b3IgKSA6XG5cblx0XHRcdC8vIENhY2hlIHRoZSB0b2tlbnNcblx0XHRcdHRva2VuQ2FjaGUoIHNlbGVjdG9yLCBncm91cHMgKS5zbGljZSggMCApO1xufTtcblxuZnVuY3Rpb24gdG9TZWxlY3RvciggdG9rZW5zICkge1xuXHR2YXIgaSA9IDAsXG5cdFx0bGVuID0gdG9rZW5zLmxlbmd0aCxcblx0XHRzZWxlY3RvciA9IFwiXCI7XG5cdGZvciAoIDsgaSA8IGxlbjsgaSsrICkge1xuXHRcdHNlbGVjdG9yICs9IHRva2Vuc1sgaSBdLnZhbHVlO1xuXHR9XG5cdHJldHVybiBzZWxlY3Rvcjtcbn1cblxuZnVuY3Rpb24gYWRkQ29tYmluYXRvciggbWF0Y2hlciwgY29tYmluYXRvciwgYmFzZSApIHtcblx0dmFyIGRpciA9IGNvbWJpbmF0b3IuZGlyLFxuXHRcdHNraXAgPSBjb21iaW5hdG9yLm5leHQsXG5cdFx0a2V5ID0gc2tpcCB8fCBkaXIsXG5cdFx0Y2hlY2tOb25FbGVtZW50cyA9IGJhc2UgJiYga2V5ID09PSBcInBhcmVudE5vZGVcIixcblx0XHRkb25lTmFtZSA9IGRvbmUrKztcblxuXHRyZXR1cm4gY29tYmluYXRvci5maXJzdCA/XG5cblx0XHQvLyBDaGVjayBhZ2FpbnN0IGNsb3Nlc3QgYW5jZXN0b3IvcHJlY2VkaW5nIGVsZW1lbnRcblx0XHRmdW5jdGlvbiggZWxlbSwgY29udGV4dCwgeG1sICkge1xuXHRcdFx0d2hpbGUgKCAoIGVsZW0gPSBlbGVtWyBkaXIgXSApICkge1xuXHRcdFx0XHRpZiAoIGVsZW0ubm9kZVR5cGUgPT09IDEgfHwgY2hlY2tOb25FbGVtZW50cyApIHtcblx0XHRcdFx0XHRyZXR1cm4gbWF0Y2hlciggZWxlbSwgY29udGV4dCwgeG1sICk7XG5cdFx0XHRcdH1cblx0XHRcdH1cblx0XHRcdHJldHVybiBmYWxzZTtcblx0XHR9IDpcblxuXHRcdC8vIENoZWNrIGFnYWluc3QgYWxsIGFuY2VzdG9yL3ByZWNlZGluZyBlbGVtZW50c1xuXHRcdGZ1bmN0aW9uKCBlbGVtLCBjb250ZXh0LCB4bWwgKSB7XG5cdFx0XHR2YXIgb2xkQ2FjaGUsIHVuaXF1ZUNhY2hlLCBvdXRlckNhY2hlLFxuXHRcdFx0XHRuZXdDYWNoZSA9IFsgZGlycnVucywgZG9uZU5hbWUgXTtcblxuXHRcdFx0Ly8gV2UgY2FuJ3Qgc2V0IGFyYml0cmFyeSBkYXRhIG9uIFhNTCBub2Rlcywgc28gdGhleSBkb24ndCBiZW5lZml0IGZyb20gY29tYmluYXRvciBjYWNoaW5nXG5cdFx0XHRpZiAoIHhtbCApIHtcblx0XHRcdFx0d2hpbGUgKCAoIGVsZW0gPSBlbGVtWyBkaXIgXSApICkge1xuXHRcdFx0XHRcdGlmICggZWxlbS5ub2RlVHlwZSA9PT0gMSB8fCBjaGVja05vbkVsZW1lbnRzICkge1xuXHRcdFx0XHRcdFx0aWYgKCBtYXRjaGVyKCBlbGVtLCBjb250ZXh0LCB4bWwgKSApIHtcblx0XHRcdFx0XHRcdFx0cmV0dXJuIHRydWU7XG5cdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9XG5cdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHR3aGlsZSAoICggZWxlbSA9IGVsZW1bIGRpciBdICkgKSB7XG5cdFx0XHRcdFx0aWYgKCBlbGVtLm5vZGVUeXBlID09PSAxIHx8IGNoZWNrTm9uRWxlbWVudHMgKSB7XG5cdFx0XHRcdFx0XHRvdXRlckNhY2hlID0gZWxlbVsgZXhwYW5kbyBdIHx8ICggZWxlbVsgZXhwYW5kbyBdID0ge30gKTtcblxuXHRcdFx0XHRcdFx0Ly8gU3VwcG9ydDogSUUgPDkgb25seVxuXHRcdFx0XHRcdFx0Ly8gRGVmZW5kIGFnYWluc3QgY2xvbmVkIGF0dHJvcGVydGllcyAoalF1ZXJ5IGdoLTE3MDkpXG5cdFx0XHRcdFx0XHR1bmlxdWVDYWNoZSA9IG91dGVyQ2FjaGVbIGVsZW0udW5pcXVlSUQgXSB8fFxuXHRcdFx0XHRcdFx0XHQoIG91dGVyQ2FjaGVbIGVsZW0udW5pcXVlSUQgXSA9IHt9ICk7XG5cblx0XHRcdFx0XHRcdGlmICggc2tpcCAmJiBza2lwID09PSBlbGVtLm5vZGVOYW1lLnRvTG93ZXJDYXNlKCkgKSB7XG5cdFx0XHRcdFx0XHRcdGVsZW0gPSBlbGVtWyBkaXIgXSB8fCBlbGVtO1xuXHRcdFx0XHRcdFx0fSBlbHNlIGlmICggKCBvbGRDYWNoZSA9IHVuaXF1ZUNhY2hlWyBrZXkgXSApICYmXG5cdFx0XHRcdFx0XHRcdG9sZENhY2hlWyAwIF0gPT09IGRpcnJ1bnMgJiYgb2xkQ2FjaGVbIDEgXSA9PT0gZG9uZU5hbWUgKSB7XG5cblx0XHRcdFx0XHRcdFx0Ly8gQXNzaWduIHRvIG5ld0NhY2hlIHNvIHJlc3VsdHMgYmFjay1wcm9wYWdhdGUgdG8gcHJldmlvdXMgZWxlbWVudHNcblx0XHRcdFx0XHRcdFx0cmV0dXJuICggbmV3Q2FjaGVbIDIgXSA9IG9sZENhY2hlWyAyIF0gKTtcblx0XHRcdFx0XHRcdH0gZWxzZSB7XG5cblx0XHRcdFx0XHRcdFx0Ly8gUmV1c2UgbmV3Y2FjaGUgc28gcmVzdWx0cyBiYWNrLXByb3BhZ2F0ZSB0byBwcmV2aW91cyBlbGVtZW50c1xuXHRcdFx0XHRcdFx0XHR1bmlxdWVDYWNoZVsga2V5IF0gPSBuZXdDYWNoZTtcblxuXHRcdFx0XHRcdFx0XHQvLyBBIG1hdGNoIG1lYW5zIHdlJ3JlIGRvbmU7IGEgZmFpbCBtZWFucyB3ZSBoYXZlIHRvIGtlZXAgY2hlY2tpbmdcblx0XHRcdFx0XHRcdFx0aWYgKCAoIG5ld0NhY2hlWyAyIF0gPSBtYXRjaGVyKCBlbGVtLCBjb250ZXh0LCB4bWwgKSApICkge1xuXHRcdFx0XHRcdFx0XHRcdHJldHVybiB0cnVlO1xuXHRcdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9XG5cdFx0XHR9XG5cdFx0XHRyZXR1cm4gZmFsc2U7XG5cdFx0fTtcbn1cblxuZnVuY3Rpb24gZWxlbWVudE1hdGNoZXIoIG1hdGNoZXJzICkge1xuXHRyZXR1cm4gbWF0Y2hlcnMubGVuZ3RoID4gMSA/XG5cdFx0ZnVuY3Rpb24oIGVsZW0sIGNvbnRleHQsIHhtbCApIHtcblx0XHRcdHZhciBpID0gbWF0Y2hlcnMubGVuZ3RoO1xuXHRcdFx0d2hpbGUgKCBpLS0gKSB7XG5cdFx0XHRcdGlmICggIW1hdGNoZXJzWyBpIF0oIGVsZW0sIGNvbnRleHQsIHhtbCApICkge1xuXHRcdFx0XHRcdHJldHVybiBmYWxzZTtcblx0XHRcdFx0fVxuXHRcdFx0fVxuXHRcdFx0cmV0dXJuIHRydWU7XG5cdFx0fSA6XG5cdFx0bWF0Y2hlcnNbIDAgXTtcbn1cblxuZnVuY3Rpb24gbXVsdGlwbGVDb250ZXh0cyggc2VsZWN0b3IsIGNvbnRleHRzLCByZXN1bHRzICkge1xuXHR2YXIgaSA9IDAsXG5cdFx0bGVuID0gY29udGV4dHMubGVuZ3RoO1xuXHRmb3IgKCA7IGkgPCBsZW47IGkrKyApIHtcblx0XHRTaXp6bGUoIHNlbGVjdG9yLCBjb250ZXh0c1sgaSBdLCByZXN1bHRzICk7XG5cdH1cblx0cmV0dXJuIHJlc3VsdHM7XG59XG5cbmZ1bmN0aW9uIGNvbmRlbnNlKCB1bm1hdGNoZWQsIG1hcCwgZmlsdGVyLCBjb250ZXh0LCB4bWwgKSB7XG5cdHZhciBlbGVtLFxuXHRcdG5ld1VubWF0Y2hlZCA9IFtdLFxuXHRcdGkgPSAwLFxuXHRcdGxlbiA9IHVubWF0Y2hlZC5sZW5ndGgsXG5cdFx0bWFwcGVkID0gbWFwICE9IG51bGw7XG5cblx0Zm9yICggOyBpIDwgbGVuOyBpKysgKSB7XG5cdFx0aWYgKCAoIGVsZW0gPSB1bm1hdGNoZWRbIGkgXSApICkge1xuXHRcdFx0aWYgKCAhZmlsdGVyIHx8IGZpbHRlciggZWxlbSwgY29udGV4dCwgeG1sICkgKSB7XG5cdFx0XHRcdG5ld1VubWF0Y2hlZC5wdXNoKCBlbGVtICk7XG5cdFx0XHRcdGlmICggbWFwcGVkICkge1xuXHRcdFx0XHRcdG1hcC5wdXNoKCBpICk7XG5cdFx0XHRcdH1cblx0XHRcdH1cblx0XHR9XG5cdH1cblxuXHRyZXR1cm4gbmV3VW5tYXRjaGVkO1xufVxuXG5mdW5jdGlvbiBzZXRNYXRjaGVyKCBwcmVGaWx0ZXIsIHNlbGVjdG9yLCBtYXRjaGVyLCBwb3N0RmlsdGVyLCBwb3N0RmluZGVyLCBwb3N0U2VsZWN0b3IgKSB7XG5cdGlmICggcG9zdEZpbHRlciAmJiAhcG9zdEZpbHRlclsgZXhwYW5kbyBdICkge1xuXHRcdHBvc3RGaWx0ZXIgPSBzZXRNYXRjaGVyKCBwb3N0RmlsdGVyICk7XG5cdH1cblx0aWYgKCBwb3N0RmluZGVyICYmICFwb3N0RmluZGVyWyBleHBhbmRvIF0gKSB7XG5cdFx0cG9zdEZpbmRlciA9IHNldE1hdGNoZXIoIHBvc3RGaW5kZXIsIHBvc3RTZWxlY3RvciApO1xuXHR9XG5cdHJldHVybiBtYXJrRnVuY3Rpb24oIGZ1bmN0aW9uKCBzZWVkLCByZXN1bHRzLCBjb250ZXh0LCB4bWwgKSB7XG5cdFx0dmFyIHRlbXAsIGksIGVsZW0sXG5cdFx0XHRwcmVNYXAgPSBbXSxcblx0XHRcdHBvc3RNYXAgPSBbXSxcblx0XHRcdHByZWV4aXN0aW5nID0gcmVzdWx0cy5sZW5ndGgsXG5cblx0XHRcdC8vIEdldCBpbml0aWFsIGVsZW1lbnRzIGZyb20gc2VlZCBvciBjb250ZXh0XG5cdFx0XHRlbGVtcyA9IHNlZWQgfHwgbXVsdGlwbGVDb250ZXh0cyhcblx0XHRcdFx0c2VsZWN0b3IgfHwgXCIqXCIsXG5cdFx0XHRcdGNvbnRleHQubm9kZVR5cGUgPyBbIGNvbnRleHQgXSA6IGNvbnRleHQsXG5cdFx0XHRcdFtdXG5cdFx0XHQpLFxuXG5cdFx0XHQvLyBQcmVmaWx0ZXIgdG8gZ2V0IG1hdGNoZXIgaW5wdXQsIHByZXNlcnZpbmcgYSBtYXAgZm9yIHNlZWQtcmVzdWx0cyBzeW5jaHJvbml6YXRpb25cblx0XHRcdG1hdGNoZXJJbiA9IHByZUZpbHRlciAmJiAoIHNlZWQgfHwgIXNlbGVjdG9yICkgP1xuXHRcdFx0XHRjb25kZW5zZSggZWxlbXMsIHByZU1hcCwgcHJlRmlsdGVyLCBjb250ZXh0LCB4bWwgKSA6XG5cdFx0XHRcdGVsZW1zLFxuXG5cdFx0XHRtYXRjaGVyT3V0ID0gbWF0Y2hlciA/XG5cblx0XHRcdFx0Ly8gSWYgd2UgaGF2ZSBhIHBvc3RGaW5kZXIsIG9yIGZpbHRlcmVkIHNlZWQsIG9yIG5vbi1zZWVkIHBvc3RGaWx0ZXIgb3IgcHJlZXhpc3RpbmcgcmVzdWx0cyxcblx0XHRcdFx0cG9zdEZpbmRlciB8fCAoIHNlZWQgPyBwcmVGaWx0ZXIgOiBwcmVleGlzdGluZyB8fCBwb3N0RmlsdGVyICkgP1xuXG5cdFx0XHRcdFx0Ly8gLi4uaW50ZXJtZWRpYXRlIHByb2Nlc3NpbmcgaXMgbmVjZXNzYXJ5XG5cdFx0XHRcdFx0W10gOlxuXG5cdFx0XHRcdFx0Ly8gLi4ub3RoZXJ3aXNlIHVzZSByZXN1bHRzIGRpcmVjdGx5XG5cdFx0XHRcdFx0cmVzdWx0cyA6XG5cdFx0XHRcdG1hdGNoZXJJbjtcblxuXHRcdC8vIEZpbmQgcHJpbWFyeSBtYXRjaGVzXG5cdFx0aWYgKCBtYXRjaGVyICkge1xuXHRcdFx0bWF0Y2hlciggbWF0Y2hlckluLCBtYXRjaGVyT3V0LCBjb250ZXh0LCB4bWwgKTtcblx0XHR9XG5cblx0XHQvLyBBcHBseSBwb3N0RmlsdGVyXG5cdFx0aWYgKCBwb3N0RmlsdGVyICkge1xuXHRcdFx0dGVtcCA9IGNvbmRlbnNlKCBtYXRjaGVyT3V0LCBwb3N0TWFwICk7XG5cdFx0XHRwb3N0RmlsdGVyKCB0ZW1wLCBbXSwgY29udGV4dCwgeG1sICk7XG5cblx0XHRcdC8vIFVuLW1hdGNoIGZhaWxpbmcgZWxlbWVudHMgYnkgbW92aW5nIHRoZW0gYmFjayB0byBtYXRjaGVySW5cblx0XHRcdGkgPSB0ZW1wLmxlbmd0aDtcblx0XHRcdHdoaWxlICggaS0tICkge1xuXHRcdFx0XHRpZiAoICggZWxlbSA9IHRlbXBbIGkgXSApICkge1xuXHRcdFx0XHRcdG1hdGNoZXJPdXRbIHBvc3RNYXBbIGkgXSBdID0gISggbWF0Y2hlckluWyBwb3N0TWFwWyBpIF0gXSA9IGVsZW0gKTtcblx0XHRcdFx0fVxuXHRcdFx0fVxuXHRcdH1cblxuXHRcdGlmICggc2VlZCApIHtcblx0XHRcdGlmICggcG9zdEZpbmRlciB8fCBwcmVGaWx0ZXIgKSB7XG5cdFx0XHRcdGlmICggcG9zdEZpbmRlciApIHtcblxuXHRcdFx0XHRcdC8vIEdldCB0aGUgZmluYWwgbWF0Y2hlck91dCBieSBjb25kZW5zaW5nIHRoaXMgaW50ZXJtZWRpYXRlIGludG8gcG9zdEZpbmRlciBjb250ZXh0c1xuXHRcdFx0XHRcdHRlbXAgPSBbXTtcblx0XHRcdFx0XHRpID0gbWF0Y2hlck91dC5sZW5ndGg7XG5cdFx0XHRcdFx0d2hpbGUgKCBpLS0gKSB7XG5cdFx0XHRcdFx0XHRpZiAoICggZWxlbSA9IG1hdGNoZXJPdXRbIGkgXSApICkge1xuXG5cdFx0XHRcdFx0XHRcdC8vIFJlc3RvcmUgbWF0Y2hlckluIHNpbmNlIGVsZW0gaXMgbm90IHlldCBhIGZpbmFsIG1hdGNoXG5cdFx0XHRcdFx0XHRcdHRlbXAucHVzaCggKCBtYXRjaGVySW5bIGkgXSA9IGVsZW0gKSApO1xuXHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdH1cblx0XHRcdFx0XHRwb3N0RmluZGVyKCBudWxsLCAoIG1hdGNoZXJPdXQgPSBbXSApLCB0ZW1wLCB4bWwgKTtcblx0XHRcdFx0fVxuXG5cdFx0XHRcdC8vIE1vdmUgbWF0Y2hlZCBlbGVtZW50cyBmcm9tIHNlZWQgdG8gcmVzdWx0cyB0byBrZWVwIHRoZW0gc3luY2hyb25pemVkXG5cdFx0XHRcdGkgPSBtYXRjaGVyT3V0Lmxlbmd0aDtcblx0XHRcdFx0d2hpbGUgKCBpLS0gKSB7XG5cdFx0XHRcdFx0aWYgKCAoIGVsZW0gPSBtYXRjaGVyT3V0WyBpIF0gKSAmJlxuXHRcdFx0XHRcdFx0KCB0ZW1wID0gcG9zdEZpbmRlciA/IGluZGV4T2YoIHNlZWQsIGVsZW0gKSA6IHByZU1hcFsgaSBdICkgPiAtMSApIHtcblxuXHRcdFx0XHRcdFx0c2VlZFsgdGVtcCBdID0gISggcmVzdWx0c1sgdGVtcCBdID0gZWxlbSApO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0fVxuXHRcdFx0fVxuXG5cdFx0Ly8gQWRkIGVsZW1lbnRzIHRvIHJlc3VsdHMsIHRocm91Z2ggcG9zdEZpbmRlciBpZiBkZWZpbmVkXG5cdFx0fSBlbHNlIHtcblx0XHRcdG1hdGNoZXJPdXQgPSBjb25kZW5zZShcblx0XHRcdFx0bWF0Y2hlck91dCA9PT0gcmVzdWx0cyA/XG5cdFx0XHRcdFx0bWF0Y2hlck91dC5zcGxpY2UoIHByZWV4aXN0aW5nLCBtYXRjaGVyT3V0Lmxlbmd0aCApIDpcblx0XHRcdFx0XHRtYXRjaGVyT3V0XG5cdFx0XHQpO1xuXHRcdFx0aWYgKCBwb3N0RmluZGVyICkge1xuXHRcdFx0XHRwb3N0RmluZGVyKCBudWxsLCByZXN1bHRzLCBtYXRjaGVyT3V0LCB4bWwgKTtcblx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdHB1c2guYXBwbHkoIHJlc3VsdHMsIG1hdGNoZXJPdXQgKTtcblx0XHRcdH1cblx0XHR9XG5cdH0gKTtcbn1cblxuZnVuY3Rpb24gbWF0Y2hlckZyb21Ub2tlbnMoIHRva2VucyApIHtcblx0dmFyIGNoZWNrQ29udGV4dCwgbWF0Y2hlciwgaixcblx0XHRsZW4gPSB0b2tlbnMubGVuZ3RoLFxuXHRcdGxlYWRpbmdSZWxhdGl2ZSA9IEV4cHIucmVsYXRpdmVbIHRva2Vuc1sgMCBdLnR5cGUgXSxcblx0XHRpbXBsaWNpdFJlbGF0aXZlID0gbGVhZGluZ1JlbGF0aXZlIHx8IEV4cHIucmVsYXRpdmVbIFwiIFwiIF0sXG5cdFx0aSA9IGxlYWRpbmdSZWxhdGl2ZSA/IDEgOiAwLFxuXG5cdFx0Ly8gVGhlIGZvdW5kYXRpb25hbCBtYXRjaGVyIGVuc3VyZXMgdGhhdCBlbGVtZW50cyBhcmUgcmVhY2hhYmxlIGZyb20gdG9wLWxldmVsIGNvbnRleHQocylcblx0XHRtYXRjaENvbnRleHQgPSBhZGRDb21iaW5hdG9yKCBmdW5jdGlvbiggZWxlbSApIHtcblx0XHRcdHJldHVybiBlbGVtID09PSBjaGVja0NvbnRleHQ7XG5cdFx0fSwgaW1wbGljaXRSZWxhdGl2ZSwgdHJ1ZSApLFxuXHRcdG1hdGNoQW55Q29udGV4dCA9IGFkZENvbWJpbmF0b3IoIGZ1bmN0aW9uKCBlbGVtICkge1xuXHRcdFx0cmV0dXJuIGluZGV4T2YoIGNoZWNrQ29udGV4dCwgZWxlbSApID4gLTE7XG5cdFx0fSwgaW1wbGljaXRSZWxhdGl2ZSwgdHJ1ZSApLFxuXHRcdG1hdGNoZXJzID0gWyBmdW5jdGlvbiggZWxlbSwgY29udGV4dCwgeG1sICkge1xuXHRcdFx0dmFyIHJldCA9ICggIWxlYWRpbmdSZWxhdGl2ZSAmJiAoIHhtbCB8fCBjb250ZXh0ICE9PSBvdXRlcm1vc3RDb250ZXh0ICkgKSB8fCAoXG5cdFx0XHRcdCggY2hlY2tDb250ZXh0ID0gY29udGV4dCApLm5vZGVUeXBlID9cblx0XHRcdFx0XHRtYXRjaENvbnRleHQoIGVsZW0sIGNvbnRleHQsIHhtbCApIDpcblx0XHRcdFx0XHRtYXRjaEFueUNvbnRleHQoIGVsZW0sIGNvbnRleHQsIHhtbCApICk7XG5cblx0XHRcdC8vIEF2b2lkIGhhbmdpbmcgb250byBlbGVtZW50IChpc3N1ZSAjMjk5KVxuXHRcdFx0Y2hlY2tDb250ZXh0ID0gbnVsbDtcblx0XHRcdHJldHVybiByZXQ7XG5cdFx0fSBdO1xuXG5cdGZvciAoIDsgaSA8IGxlbjsgaSsrICkge1xuXHRcdGlmICggKCBtYXRjaGVyID0gRXhwci5yZWxhdGl2ZVsgdG9rZW5zWyBpIF0udHlwZSBdICkgKSB7XG5cdFx0XHRtYXRjaGVycyA9IFsgYWRkQ29tYmluYXRvciggZWxlbWVudE1hdGNoZXIoIG1hdGNoZXJzICksIG1hdGNoZXIgKSBdO1xuXHRcdH0gZWxzZSB7XG5cdFx0XHRtYXRjaGVyID0gRXhwci5maWx0ZXJbIHRva2Vuc1sgaSBdLnR5cGUgXS5hcHBseSggbnVsbCwgdG9rZW5zWyBpIF0ubWF0Y2hlcyApO1xuXG5cdFx0XHQvLyBSZXR1cm4gc3BlY2lhbCB1cG9uIHNlZWluZyBhIHBvc2l0aW9uYWwgbWF0Y2hlclxuXHRcdFx0aWYgKCBtYXRjaGVyWyBleHBhbmRvIF0gKSB7XG5cblx0XHRcdFx0Ly8gRmluZCB0aGUgbmV4dCByZWxhdGl2ZSBvcGVyYXRvciAoaWYgYW55KSBmb3IgcHJvcGVyIGhhbmRsaW5nXG5cdFx0XHRcdGogPSArK2k7XG5cdFx0XHRcdGZvciAoIDsgaiA8IGxlbjsgaisrICkge1xuXHRcdFx0XHRcdGlmICggRXhwci5yZWxhdGl2ZVsgdG9rZW5zWyBqIF0udHlwZSBdICkge1xuXHRcdFx0XHRcdFx0YnJlYWs7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9XG5cdFx0XHRcdHJldHVybiBzZXRNYXRjaGVyKFxuXHRcdFx0XHRcdGkgPiAxICYmIGVsZW1lbnRNYXRjaGVyKCBtYXRjaGVycyApLFxuXHRcdFx0XHRcdGkgPiAxICYmIHRvU2VsZWN0b3IoXG5cblx0XHRcdFx0XHQvLyBJZiB0aGUgcHJlY2VkaW5nIHRva2VuIHdhcyBhIGRlc2NlbmRhbnQgY29tYmluYXRvciwgaW5zZXJ0IGFuIGltcGxpY2l0IGFueS1lbGVtZW50IGAqYFxuXHRcdFx0XHRcdHRva2Vuc1xuXHRcdFx0XHRcdFx0LnNsaWNlKCAwLCBpIC0gMSApXG5cdFx0XHRcdFx0XHQuY29uY2F0KCB7IHZhbHVlOiB0b2tlbnNbIGkgLSAyIF0udHlwZSA9PT0gXCIgXCIgPyBcIipcIiA6IFwiXCIgfSApXG5cdFx0XHRcdFx0KS5yZXBsYWNlKCBydHJpbSwgXCIkMVwiICksXG5cdFx0XHRcdFx0bWF0Y2hlcixcblx0XHRcdFx0XHRpIDwgaiAmJiBtYXRjaGVyRnJvbVRva2VucyggdG9rZW5zLnNsaWNlKCBpLCBqICkgKSxcblx0XHRcdFx0XHRqIDwgbGVuICYmIG1hdGNoZXJGcm9tVG9rZW5zKCAoIHRva2VucyA9IHRva2Vucy5zbGljZSggaiApICkgKSxcblx0XHRcdFx0XHRqIDwgbGVuICYmIHRvU2VsZWN0b3IoIHRva2VucyApXG5cdFx0XHRcdCk7XG5cdFx0XHR9XG5cdFx0XHRtYXRjaGVycy5wdXNoKCBtYXRjaGVyICk7XG5cdFx0fVxuXHR9XG5cblx0cmV0dXJuIGVsZW1lbnRNYXRjaGVyKCBtYXRjaGVycyApO1xufVxuXG5mdW5jdGlvbiBtYXRjaGVyRnJvbUdyb3VwTWF0Y2hlcnMoIGVsZW1lbnRNYXRjaGVycywgc2V0TWF0Y2hlcnMgKSB7XG5cdHZhciBieVNldCA9IHNldE1hdGNoZXJzLmxlbmd0aCA+IDAsXG5cdFx0YnlFbGVtZW50ID0gZWxlbWVudE1hdGNoZXJzLmxlbmd0aCA+IDAsXG5cdFx0c3VwZXJNYXRjaGVyID0gZnVuY3Rpb24oIHNlZWQsIGNvbnRleHQsIHhtbCwgcmVzdWx0cywgb3V0ZXJtb3N0ICkge1xuXHRcdFx0dmFyIGVsZW0sIGosIG1hdGNoZXIsXG5cdFx0XHRcdG1hdGNoZWRDb3VudCA9IDAsXG5cdFx0XHRcdGkgPSBcIjBcIixcblx0XHRcdFx0dW5tYXRjaGVkID0gc2VlZCAmJiBbXSxcblx0XHRcdFx0c2V0TWF0Y2hlZCA9IFtdLFxuXHRcdFx0XHRjb250ZXh0QmFja3VwID0gb3V0ZXJtb3N0Q29udGV4dCxcblxuXHRcdFx0XHQvLyBXZSBtdXN0IGFsd2F5cyBoYXZlIGVpdGhlciBzZWVkIGVsZW1lbnRzIG9yIG91dGVybW9zdCBjb250ZXh0XG5cdFx0XHRcdGVsZW1zID0gc2VlZCB8fCBieUVsZW1lbnQgJiYgRXhwci5maW5kWyBcIlRBR1wiIF0oIFwiKlwiLCBvdXRlcm1vc3QgKSxcblxuXHRcdFx0XHQvLyBVc2UgaW50ZWdlciBkaXJydW5zIGlmZiB0aGlzIGlzIHRoZSBvdXRlcm1vc3QgbWF0Y2hlclxuXHRcdFx0XHRkaXJydW5zVW5pcXVlID0gKCBkaXJydW5zICs9IGNvbnRleHRCYWNrdXAgPT0gbnVsbCA/IDEgOiBNYXRoLnJhbmRvbSgpIHx8IDAuMSApLFxuXHRcdFx0XHRsZW4gPSBlbGVtcy5sZW5ndGg7XG5cblx0XHRcdGlmICggb3V0ZXJtb3N0ICkge1xuXG5cdFx0XHRcdC8vIFN1cHBvcnQ6IElFIDExKywgRWRnZSAxNyAtIDE4K1xuXHRcdFx0XHQvLyBJRS9FZGdlIHNvbWV0aW1lcyB0aHJvdyBhIFwiUGVybWlzc2lvbiBkZW5pZWRcIiBlcnJvciB3aGVuIHN0cmljdC1jb21wYXJpbmdcblx0XHRcdFx0Ly8gdHdvIGRvY3VtZW50czsgc2hhbGxvdyBjb21wYXJpc29ucyB3b3JrLlxuXHRcdFx0XHQvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgZXFlcWVxXG5cdFx0XHRcdG91dGVybW9zdENvbnRleHQgPSBjb250ZXh0ID09IGRvY3VtZW50IHx8IGNvbnRleHQgfHwgb3V0ZXJtb3N0O1xuXHRcdFx0fVxuXG5cdFx0XHQvLyBBZGQgZWxlbWVudHMgcGFzc2luZyBlbGVtZW50TWF0Y2hlcnMgZGlyZWN0bHkgdG8gcmVzdWx0c1xuXHRcdFx0Ly8gU3VwcG9ydDogSUU8OSwgU2FmYXJpXG5cdFx0XHQvLyBUb2xlcmF0ZSBOb2RlTGlzdCBwcm9wZXJ0aWVzIChJRTogXCJsZW5ndGhcIjsgU2FmYXJpOiA8bnVtYmVyPikgbWF0Y2hpbmcgZWxlbWVudHMgYnkgaWRcblx0XHRcdGZvciAoIDsgaSAhPT0gbGVuICYmICggZWxlbSA9IGVsZW1zWyBpIF0gKSAhPSBudWxsOyBpKysgKSB7XG5cdFx0XHRcdGlmICggYnlFbGVtZW50ICYmIGVsZW0gKSB7XG5cdFx0XHRcdFx0aiA9IDA7XG5cblx0XHRcdFx0XHQvLyBTdXBwb3J0OiBJRSAxMSssIEVkZ2UgMTcgLSAxOCtcblx0XHRcdFx0XHQvLyBJRS9FZGdlIHNvbWV0aW1lcyB0aHJvdyBhIFwiUGVybWlzc2lvbiBkZW5pZWRcIiBlcnJvciB3aGVuIHN0cmljdC1jb21wYXJpbmdcblx0XHRcdFx0XHQvLyB0d28gZG9jdW1lbnRzOyBzaGFsbG93IGNvbXBhcmlzb25zIHdvcmsuXG5cdFx0XHRcdFx0Ly8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIGVxZXFlcVxuXHRcdFx0XHRcdGlmICggIWNvbnRleHQgJiYgZWxlbS5vd25lckRvY3VtZW50ICE9IGRvY3VtZW50ICkge1xuXHRcdFx0XHRcdFx0c2V0RG9jdW1lbnQoIGVsZW0gKTtcblx0XHRcdFx0XHRcdHhtbCA9ICFkb2N1bWVudElzSFRNTDtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0d2hpbGUgKCAoIG1hdGNoZXIgPSBlbGVtZW50TWF0Y2hlcnNbIGorKyBdICkgKSB7XG5cdFx0XHRcdFx0XHRpZiAoIG1hdGNoZXIoIGVsZW0sIGNvbnRleHQgfHwgZG9jdW1lbnQsIHhtbCApICkge1xuXHRcdFx0XHRcdFx0XHRyZXN1bHRzLnB1c2goIGVsZW0gKTtcblx0XHRcdFx0XHRcdFx0YnJlYWs7XG5cdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHRcdGlmICggb3V0ZXJtb3N0ICkge1xuXHRcdFx0XHRcdFx0ZGlycnVucyA9IGRpcnJ1bnNVbmlxdWU7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9XG5cblx0XHRcdFx0Ly8gVHJhY2sgdW5tYXRjaGVkIGVsZW1lbnRzIGZvciBzZXQgZmlsdGVyc1xuXHRcdFx0XHRpZiAoIGJ5U2V0ICkge1xuXG5cdFx0XHRcdFx0Ly8gVGhleSB3aWxsIGhhdmUgZ29uZSB0aHJvdWdoIGFsbCBwb3NzaWJsZSBtYXRjaGVyc1xuXHRcdFx0XHRcdGlmICggKCBlbGVtID0gIW1hdGNoZXIgJiYgZWxlbSApICkge1xuXHRcdFx0XHRcdFx0bWF0Y2hlZENvdW50LS07XG5cdFx0XHRcdFx0fVxuXG5cdFx0XHRcdFx0Ly8gTGVuZ3RoZW4gdGhlIGFycmF5IGZvciBldmVyeSBlbGVtZW50LCBtYXRjaGVkIG9yIG5vdFxuXHRcdFx0XHRcdGlmICggc2VlZCApIHtcblx0XHRcdFx0XHRcdHVubWF0Y2hlZC5wdXNoKCBlbGVtICk7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9XG5cdFx0XHR9XG5cblx0XHRcdC8vIGBpYCBpcyBub3cgdGhlIGNvdW50IG9mIGVsZW1lbnRzIHZpc2l0ZWQgYWJvdmUsIGFuZCBhZGRpbmcgaXQgdG8gYG1hdGNoZWRDb3VudGBcblx0XHRcdC8vIG1ha2VzIHRoZSBsYXR0ZXIgbm9ubmVnYXRpdmUuXG5cdFx0XHRtYXRjaGVkQ291bnQgKz0gaTtcblxuXHRcdFx0Ly8gQXBwbHkgc2V0IGZpbHRlcnMgdG8gdW5tYXRjaGVkIGVsZW1lbnRzXG5cdFx0XHQvLyBOT1RFOiBUaGlzIGNhbiBiZSBza2lwcGVkIGlmIHRoZXJlIGFyZSBubyB1bm1hdGNoZWQgZWxlbWVudHMgKGkuZS4sIGBtYXRjaGVkQ291bnRgXG5cdFx0XHQvLyBlcXVhbHMgYGlgKSwgdW5sZXNzIHdlIGRpZG4ndCB2aXNpdCBfYW55XyBlbGVtZW50cyBpbiB0aGUgYWJvdmUgbG9vcCBiZWNhdXNlIHdlIGhhdmVcblx0XHRcdC8vIG5vIGVsZW1lbnQgbWF0Y2hlcnMgYW5kIG5vIHNlZWQuXG5cdFx0XHQvLyBJbmNyZW1lbnRpbmcgYW4gaW5pdGlhbGx5LXN0cmluZyBcIjBcIiBgaWAgYWxsb3dzIGBpYCB0byByZW1haW4gYSBzdHJpbmcgb25seSBpbiB0aGF0XG5cdFx0XHQvLyBjYXNlLCB3aGljaCB3aWxsIHJlc3VsdCBpbiBhIFwiMDBcIiBgbWF0Y2hlZENvdW50YCB0aGF0IGRpZmZlcnMgZnJvbSBgaWAgYnV0IGlzIGFsc29cblx0XHRcdC8vIG51bWVyaWNhbGx5IHplcm8uXG5cdFx0XHRpZiAoIGJ5U2V0ICYmIGkgIT09IG1hdGNoZWRDb3VudCApIHtcblx0XHRcdFx0aiA9IDA7XG5cdFx0XHRcdHdoaWxlICggKCBtYXRjaGVyID0gc2V0TWF0Y2hlcnNbIGorKyBdICkgKSB7XG5cdFx0XHRcdFx0bWF0Y2hlciggdW5tYXRjaGVkLCBzZXRNYXRjaGVkLCBjb250ZXh0LCB4bWwgKTtcblx0XHRcdFx0fVxuXG5cdFx0XHRcdGlmICggc2VlZCApIHtcblxuXHRcdFx0XHRcdC8vIFJlaW50ZWdyYXRlIGVsZW1lbnQgbWF0Y2hlcyB0byBlbGltaW5hdGUgdGhlIG5lZWQgZm9yIHNvcnRpbmdcblx0XHRcdFx0XHRpZiAoIG1hdGNoZWRDb3VudCA+IDAgKSB7XG5cdFx0XHRcdFx0XHR3aGlsZSAoIGktLSApIHtcblx0XHRcdFx0XHRcdFx0aWYgKCAhKCB1bm1hdGNoZWRbIGkgXSB8fCBzZXRNYXRjaGVkWyBpIF0gKSApIHtcblx0XHRcdFx0XHRcdFx0XHRzZXRNYXRjaGVkWyBpIF0gPSBwb3AuY2FsbCggcmVzdWx0cyApO1xuXHRcdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0fVxuXG5cdFx0XHRcdFx0Ly8gRGlzY2FyZCBpbmRleCBwbGFjZWhvbGRlciB2YWx1ZXMgdG8gZ2V0IG9ubHkgYWN0dWFsIG1hdGNoZXNcblx0XHRcdFx0XHRzZXRNYXRjaGVkID0gY29uZGVuc2UoIHNldE1hdGNoZWQgKTtcblx0XHRcdFx0fVxuXG5cdFx0XHRcdC8vIEFkZCBtYXRjaGVzIHRvIHJlc3VsdHNcblx0XHRcdFx0cHVzaC5hcHBseSggcmVzdWx0cywgc2V0TWF0Y2hlZCApO1xuXG5cdFx0XHRcdC8vIFNlZWRsZXNzIHNldCBtYXRjaGVzIHN1Y2NlZWRpbmcgbXVsdGlwbGUgc3VjY2Vzc2Z1bCBtYXRjaGVycyBzdGlwdWxhdGUgc29ydGluZ1xuXHRcdFx0XHRpZiAoIG91dGVybW9zdCAmJiAhc2VlZCAmJiBzZXRNYXRjaGVkLmxlbmd0aCA+IDAgJiZcblx0XHRcdFx0XHQoIG1hdGNoZWRDb3VudCArIHNldE1hdGNoZXJzLmxlbmd0aCApID4gMSApIHtcblxuXHRcdFx0XHRcdFNpenpsZS51bmlxdWVTb3J0KCByZXN1bHRzICk7XG5cdFx0XHRcdH1cblx0XHRcdH1cblxuXHRcdFx0Ly8gT3ZlcnJpZGUgbWFuaXB1bGF0aW9uIG9mIGdsb2JhbHMgYnkgbmVzdGVkIG1hdGNoZXJzXG5cdFx0XHRpZiAoIG91dGVybW9zdCApIHtcblx0XHRcdFx0ZGlycnVucyA9IGRpcnJ1bnNVbmlxdWU7XG5cdFx0XHRcdG91dGVybW9zdENvbnRleHQgPSBjb250ZXh0QmFja3VwO1xuXHRcdFx0fVxuXG5cdFx0XHRyZXR1cm4gdW5tYXRjaGVkO1xuXHRcdH07XG5cblx0cmV0dXJuIGJ5U2V0ID9cblx0XHRtYXJrRnVuY3Rpb24oIHN1cGVyTWF0Y2hlciApIDpcblx0XHRzdXBlck1hdGNoZXI7XG59XG5cbmNvbXBpbGUgPSBTaXp6bGUuY29tcGlsZSA9IGZ1bmN0aW9uKCBzZWxlY3RvciwgbWF0Y2ggLyogSW50ZXJuYWwgVXNlIE9ubHkgKi8gKSB7XG5cdHZhciBpLFxuXHRcdHNldE1hdGNoZXJzID0gW10sXG5cdFx0ZWxlbWVudE1hdGNoZXJzID0gW10sXG5cdFx0Y2FjaGVkID0gY29tcGlsZXJDYWNoZVsgc2VsZWN0b3IgKyBcIiBcIiBdO1xuXG5cdGlmICggIWNhY2hlZCApIHtcblxuXHRcdC8vIEdlbmVyYXRlIGEgZnVuY3Rpb24gb2YgcmVjdXJzaXZlIGZ1bmN0aW9ucyB0aGF0IGNhbiBiZSB1c2VkIHRvIGNoZWNrIGVhY2ggZWxlbWVudFxuXHRcdGlmICggIW1hdGNoICkge1xuXHRcdFx0bWF0Y2ggPSB0b2tlbml6ZSggc2VsZWN0b3IgKTtcblx0XHR9XG5cdFx0aSA9IG1hdGNoLmxlbmd0aDtcblx0XHR3aGlsZSAoIGktLSApIHtcblx0XHRcdGNhY2hlZCA9IG1hdGNoZXJGcm9tVG9rZW5zKCBtYXRjaFsgaSBdICk7XG5cdFx0XHRpZiAoIGNhY2hlZFsgZXhwYW5kbyBdICkge1xuXHRcdFx0XHRzZXRNYXRjaGVycy5wdXNoKCBjYWNoZWQgKTtcblx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdGVsZW1lbnRNYXRjaGVycy5wdXNoKCBjYWNoZWQgKTtcblx0XHRcdH1cblx0XHR9XG5cblx0XHQvLyBDYWNoZSB0aGUgY29tcGlsZWQgZnVuY3Rpb25cblx0XHRjYWNoZWQgPSBjb21waWxlckNhY2hlKFxuXHRcdFx0c2VsZWN0b3IsXG5cdFx0XHRtYXRjaGVyRnJvbUdyb3VwTWF0Y2hlcnMoIGVsZW1lbnRNYXRjaGVycywgc2V0TWF0Y2hlcnMgKVxuXHRcdCk7XG5cblx0XHQvLyBTYXZlIHNlbGVjdG9yIGFuZCB0b2tlbml6YXRpb25cblx0XHRjYWNoZWQuc2VsZWN0b3IgPSBzZWxlY3Rvcjtcblx0fVxuXHRyZXR1cm4gY2FjaGVkO1xufTtcblxuLyoqXG4gKiBBIGxvdy1sZXZlbCBzZWxlY3Rpb24gZnVuY3Rpb24gdGhhdCB3b3JrcyB3aXRoIFNpenpsZSdzIGNvbXBpbGVkXG4gKiAgc2VsZWN0b3IgZnVuY3Rpb25zXG4gKiBAcGFyYW0ge1N0cmluZ3xGdW5jdGlvbn0gc2VsZWN0b3IgQSBzZWxlY3RvciBvciBhIHByZS1jb21waWxlZFxuICogIHNlbGVjdG9yIGZ1bmN0aW9uIGJ1aWx0IHdpdGggU2l6emxlLmNvbXBpbGVcbiAqIEBwYXJhbSB7RWxlbWVudH0gY29udGV4dFxuICogQHBhcmFtIHtBcnJheX0gW3Jlc3VsdHNdXG4gKiBAcGFyYW0ge0FycmF5fSBbc2VlZF0gQSBzZXQgb2YgZWxlbWVudHMgdG8gbWF0Y2ggYWdhaW5zdFxuICovXG5zZWxlY3QgPSBTaXp6bGUuc2VsZWN0ID0gZnVuY3Rpb24oIHNlbGVjdG9yLCBjb250ZXh0LCByZXN1bHRzLCBzZWVkICkge1xuXHR2YXIgaSwgdG9rZW5zLCB0b2tlbiwgdHlwZSwgZmluZCxcblx0XHRjb21waWxlZCA9IHR5cGVvZiBzZWxlY3RvciA9PT0gXCJmdW5jdGlvblwiICYmIHNlbGVjdG9yLFxuXHRcdG1hdGNoID0gIXNlZWQgJiYgdG9rZW5pemUoICggc2VsZWN0b3IgPSBjb21waWxlZC5zZWxlY3RvciB8fCBzZWxlY3RvciApICk7XG5cblx0cmVzdWx0cyA9IHJlc3VsdHMgfHwgW107XG5cblx0Ly8gVHJ5IHRvIG1pbmltaXplIG9wZXJhdGlvbnMgaWYgdGhlcmUgaXMgb25seSBvbmUgc2VsZWN0b3IgaW4gdGhlIGxpc3QgYW5kIG5vIHNlZWRcblx0Ly8gKHRoZSBsYXR0ZXIgb2Ygd2hpY2ggZ3VhcmFudGVlcyB1cyBjb250ZXh0KVxuXHRpZiAoIG1hdGNoLmxlbmd0aCA9PT0gMSApIHtcblxuXHRcdC8vIFJlZHVjZSBjb250ZXh0IGlmIHRoZSBsZWFkaW5nIGNvbXBvdW5kIHNlbGVjdG9yIGlzIGFuIElEXG5cdFx0dG9rZW5zID0gbWF0Y2hbIDAgXSA9IG1hdGNoWyAwIF0uc2xpY2UoIDAgKTtcblx0XHRpZiAoIHRva2Vucy5sZW5ndGggPiAyICYmICggdG9rZW4gPSB0b2tlbnNbIDAgXSApLnR5cGUgPT09IFwiSURcIiAmJlxuXHRcdFx0Y29udGV4dC5ub2RlVHlwZSA9PT0gOSAmJiBkb2N1bWVudElzSFRNTCAmJiBFeHByLnJlbGF0aXZlWyB0b2tlbnNbIDEgXS50eXBlIF0gKSB7XG5cblx0XHRcdGNvbnRleHQgPSAoIEV4cHIuZmluZFsgXCJJRFwiIF0oIHRva2VuLm1hdGNoZXNbIDAgXVxuXHRcdFx0XHQucmVwbGFjZSggcnVuZXNjYXBlLCBmdW5lc2NhcGUgKSwgY29udGV4dCApIHx8IFtdIClbIDAgXTtcblx0XHRcdGlmICggIWNvbnRleHQgKSB7XG5cdFx0XHRcdHJldHVybiByZXN1bHRzO1xuXG5cdFx0XHQvLyBQcmVjb21waWxlZCBtYXRjaGVycyB3aWxsIHN0aWxsIHZlcmlmeSBhbmNlc3RyeSwgc28gc3RlcCB1cCBhIGxldmVsXG5cdFx0XHR9IGVsc2UgaWYgKCBjb21waWxlZCApIHtcblx0XHRcdFx0Y29udGV4dCA9IGNvbnRleHQucGFyZW50Tm9kZTtcblx0XHRcdH1cblxuXHRcdFx0c2VsZWN0b3IgPSBzZWxlY3Rvci5zbGljZSggdG9rZW5zLnNoaWZ0KCkudmFsdWUubGVuZ3RoICk7XG5cdFx0fVxuXG5cdFx0Ly8gRmV0Y2ggYSBzZWVkIHNldCBmb3IgcmlnaHQtdG8tbGVmdCBtYXRjaGluZ1xuXHRcdGkgPSBtYXRjaEV4cHJbIFwibmVlZHNDb250ZXh0XCIgXS50ZXN0KCBzZWxlY3RvciApID8gMCA6IHRva2Vucy5sZW5ndGg7XG5cdFx0d2hpbGUgKCBpLS0gKSB7XG5cdFx0XHR0b2tlbiA9IHRva2Vuc1sgaSBdO1xuXG5cdFx0XHQvLyBBYm9ydCBpZiB3ZSBoaXQgYSBjb21iaW5hdG9yXG5cdFx0XHRpZiAoIEV4cHIucmVsYXRpdmVbICggdHlwZSA9IHRva2VuLnR5cGUgKSBdICkge1xuXHRcdFx0XHRicmVhaztcblx0XHRcdH1cblx0XHRcdGlmICggKCBmaW5kID0gRXhwci5maW5kWyB0eXBlIF0gKSApIHtcblxuXHRcdFx0XHQvLyBTZWFyY2gsIGV4cGFuZGluZyBjb250ZXh0IGZvciBsZWFkaW5nIHNpYmxpbmcgY29tYmluYXRvcnNcblx0XHRcdFx0aWYgKCAoIHNlZWQgPSBmaW5kKFxuXHRcdFx0XHRcdHRva2VuLm1hdGNoZXNbIDAgXS5yZXBsYWNlKCBydW5lc2NhcGUsIGZ1bmVzY2FwZSApLFxuXHRcdFx0XHRcdHJzaWJsaW5nLnRlc3QoIHRva2Vuc1sgMCBdLnR5cGUgKSAmJiB0ZXN0Q29udGV4dCggY29udGV4dC5wYXJlbnROb2RlICkgfHxcblx0XHRcdFx0XHRcdGNvbnRleHRcblx0XHRcdFx0KSApICkge1xuXG5cdFx0XHRcdFx0Ly8gSWYgc2VlZCBpcyBlbXB0eSBvciBubyB0b2tlbnMgcmVtYWluLCB3ZSBjYW4gcmV0dXJuIGVhcmx5XG5cdFx0XHRcdFx0dG9rZW5zLnNwbGljZSggaSwgMSApO1xuXHRcdFx0XHRcdHNlbGVjdG9yID0gc2VlZC5sZW5ndGggJiYgdG9TZWxlY3RvciggdG9rZW5zICk7XG5cdFx0XHRcdFx0aWYgKCAhc2VsZWN0b3IgKSB7XG5cdFx0XHRcdFx0XHRwdXNoLmFwcGx5KCByZXN1bHRzLCBzZWVkICk7XG5cdFx0XHRcdFx0XHRyZXR1cm4gcmVzdWx0cztcblx0XHRcdFx0XHR9XG5cblx0XHRcdFx0XHRicmVhaztcblx0XHRcdFx0fVxuXHRcdFx0fVxuXHRcdH1cblx0fVxuXG5cdC8vIENvbXBpbGUgYW5kIGV4ZWN1dGUgYSBmaWx0ZXJpbmcgZnVuY3Rpb24gaWYgb25lIGlzIG5vdCBwcm92aWRlZFxuXHQvLyBQcm92aWRlIGBtYXRjaGAgdG8gYXZvaWQgcmV0b2tlbml6YXRpb24gaWYgd2UgbW9kaWZpZWQgdGhlIHNlbGVjdG9yIGFib3ZlXG5cdCggY29tcGlsZWQgfHwgY29tcGlsZSggc2VsZWN0b3IsIG1hdGNoICkgKShcblx0XHRzZWVkLFxuXHRcdGNvbnRleHQsXG5cdFx0IWRvY3VtZW50SXNIVE1MLFxuXHRcdHJlc3VsdHMsXG5cdFx0IWNvbnRleHQgfHwgcnNpYmxpbmcudGVzdCggc2VsZWN0b3IgKSAmJiB0ZXN0Q29udGV4dCggY29udGV4dC5wYXJlbnROb2RlICkgfHwgY29udGV4dFxuXHQpO1xuXHRyZXR1cm4gcmVzdWx0cztcbn07XG5cbi8vIE9uZS10aW1lIGFzc2lnbm1lbnRzXG5cbi8vIFNvcnQgc3RhYmlsaXR5XG5zdXBwb3J0LnNvcnRTdGFibGUgPSBleHBhbmRvLnNwbGl0KCBcIlwiICkuc29ydCggc29ydE9yZGVyICkuam9pbiggXCJcIiApID09PSBleHBhbmRvO1xuXG4vLyBTdXBwb3J0OiBDaHJvbWUgMTQtMzUrXG4vLyBBbHdheXMgYXNzdW1lIGR1cGxpY2F0ZXMgaWYgdGhleSBhcmVuJ3QgcGFzc2VkIHRvIHRoZSBjb21wYXJpc29uIGZ1bmN0aW9uXG5zdXBwb3J0LmRldGVjdER1cGxpY2F0ZXMgPSAhIWhhc0R1cGxpY2F0ZTtcblxuLy8gSW5pdGlhbGl6ZSBhZ2FpbnN0IHRoZSBkZWZhdWx0IGRvY3VtZW50XG5zZXREb2N1bWVudCgpO1xuXG4vLyBTdXBwb3J0OiBXZWJraXQ8NTM3LjMyIC0gU2FmYXJpIDYuMC4zL0Nocm9tZSAyNSAoZml4ZWQgaW4gQ2hyb21lIDI3KVxuLy8gRGV0YWNoZWQgbm9kZXMgY29uZm91bmRpbmdseSBmb2xsb3cgKmVhY2ggb3RoZXIqXG5zdXBwb3J0LnNvcnREZXRhY2hlZCA9IGFzc2VydCggZnVuY3Rpb24oIGVsICkge1xuXG5cdC8vIFNob3VsZCByZXR1cm4gMSwgYnV0IHJldHVybnMgNCAoZm9sbG93aW5nKVxuXHRyZXR1cm4gZWwuY29tcGFyZURvY3VtZW50UG9zaXRpb24oIGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoIFwiZmllbGRzZXRcIiApICkgJiAxO1xufSApO1xuXG4vLyBTdXBwb3J0OiBJRTw4XG4vLyBQcmV2ZW50IGF0dHJpYnV0ZS9wcm9wZXJ0eSBcImludGVycG9sYXRpb25cIlxuLy8gaHR0cHM6Ly9tc2RuLm1pY3Jvc29mdC5jb20vZW4tdXMvbGlicmFyeS9tczUzNjQyOSUyOFZTLjg1JTI5LmFzcHhcbmlmICggIWFzc2VydCggZnVuY3Rpb24oIGVsICkge1xuXHRlbC5pbm5lckhUTUwgPSBcIjxhIGhyZWY9JyMnPjwvYT5cIjtcblx0cmV0dXJuIGVsLmZpcnN0Q2hpbGQuZ2V0QXR0cmlidXRlKCBcImhyZWZcIiApID09PSBcIiNcIjtcbn0gKSApIHtcblx0YWRkSGFuZGxlKCBcInR5cGV8aHJlZnxoZWlnaHR8d2lkdGhcIiwgZnVuY3Rpb24oIGVsZW0sIG5hbWUsIGlzWE1MICkge1xuXHRcdGlmICggIWlzWE1MICkge1xuXHRcdFx0cmV0dXJuIGVsZW0uZ2V0QXR0cmlidXRlKCBuYW1lLCBuYW1lLnRvTG93ZXJDYXNlKCkgPT09IFwidHlwZVwiID8gMSA6IDIgKTtcblx0XHR9XG5cdH0gKTtcbn1cblxuLy8gU3VwcG9ydDogSUU8OVxuLy8gVXNlIGRlZmF1bHRWYWx1ZSBpbiBwbGFjZSBvZiBnZXRBdHRyaWJ1dGUoXCJ2YWx1ZVwiKVxuaWYgKCAhc3VwcG9ydC5hdHRyaWJ1dGVzIHx8ICFhc3NlcnQoIGZ1bmN0aW9uKCBlbCApIHtcblx0ZWwuaW5uZXJIVE1MID0gXCI8aW5wdXQvPlwiO1xuXHRlbC5maXJzdENoaWxkLnNldEF0dHJpYnV0ZSggXCJ2YWx1ZVwiLCBcIlwiICk7XG5cdHJldHVybiBlbC5maXJzdENoaWxkLmdldEF0dHJpYnV0ZSggXCJ2YWx1ZVwiICkgPT09IFwiXCI7XG59ICkgKSB7XG5cdGFkZEhhbmRsZSggXCJ2YWx1ZVwiLCBmdW5jdGlvbiggZWxlbSwgX25hbWUsIGlzWE1MICkge1xuXHRcdGlmICggIWlzWE1MICYmIGVsZW0ubm9kZU5hbWUudG9Mb3dlckNhc2UoKSA9PT0gXCJpbnB1dFwiICkge1xuXHRcdFx0cmV0dXJuIGVsZW0uZGVmYXVsdFZhbHVlO1xuXHRcdH1cblx0fSApO1xufVxuXG4vLyBTdXBwb3J0OiBJRTw5XG4vLyBVc2UgZ2V0QXR0cmlidXRlTm9kZSB0byBmZXRjaCBib29sZWFucyB3aGVuIGdldEF0dHJpYnV0ZSBsaWVzXG5pZiAoICFhc3NlcnQoIGZ1bmN0aW9uKCBlbCApIHtcblx0cmV0dXJuIGVsLmdldEF0dHJpYnV0ZSggXCJkaXNhYmxlZFwiICkgPT0gbnVsbDtcbn0gKSApIHtcblx0YWRkSGFuZGxlKCBib29sZWFucywgZnVuY3Rpb24oIGVsZW0sIG5hbWUsIGlzWE1MICkge1xuXHRcdHZhciB2YWw7XG5cdFx0aWYgKCAhaXNYTUwgKSB7XG5cdFx0XHRyZXR1cm4gZWxlbVsgbmFtZSBdID09PSB0cnVlID8gbmFtZS50b0xvd2VyQ2FzZSgpIDpcblx0XHRcdFx0KCB2YWwgPSBlbGVtLmdldEF0dHJpYnV0ZU5vZGUoIG5hbWUgKSApICYmIHZhbC5zcGVjaWZpZWQgP1xuXHRcdFx0XHRcdHZhbC52YWx1ZSA6XG5cdFx0XHRcdFx0bnVsbDtcblx0XHR9XG5cdH0gKTtcbn1cblxucmV0dXJuIFNpenpsZTtcblxufSApKCB3aW5kb3cgKTtcblxuXG5cbmpRdWVyeS5maW5kID0gU2l6emxlO1xualF1ZXJ5LmV4cHIgPSBTaXp6bGUuc2VsZWN0b3JzO1xuXG4vLyBEZXByZWNhdGVkXG5qUXVlcnkuZXhwclsgXCI6XCIgXSA9IGpRdWVyeS5leHByLnBzZXVkb3M7XG5qUXVlcnkudW5pcXVlU29ydCA9IGpRdWVyeS51bmlxdWUgPSBTaXp6bGUudW5pcXVlU29ydDtcbmpRdWVyeS50ZXh0ID0gU2l6emxlLmdldFRleHQ7XG5qUXVlcnkuaXNYTUxEb2MgPSBTaXp6bGUuaXNYTUw7XG5qUXVlcnkuY29udGFpbnMgPSBTaXp6bGUuY29udGFpbnM7XG5qUXVlcnkuZXNjYXBlU2VsZWN0b3IgPSBTaXp6bGUuZXNjYXBlO1xuXG5cblxuXG52YXIgZGlyID0gZnVuY3Rpb24oIGVsZW0sIGRpciwgdW50aWwgKSB7XG5cdHZhciBtYXRjaGVkID0gW10sXG5cdFx0dHJ1bmNhdGUgPSB1bnRpbCAhPT0gdW5kZWZpbmVkO1xuXG5cdHdoaWxlICggKCBlbGVtID0gZWxlbVsgZGlyIF0gKSAmJiBlbGVtLm5vZGVUeXBlICE9PSA5ICkge1xuXHRcdGlmICggZWxlbS5ub2RlVHlwZSA9PT0gMSApIHtcblx0XHRcdGlmICggdHJ1bmNhdGUgJiYgalF1ZXJ5KCBlbGVtICkuaXMoIHVudGlsICkgKSB7XG5cdFx0XHRcdGJyZWFrO1xuXHRcdFx0fVxuXHRcdFx0bWF0Y2hlZC5wdXNoKCBlbGVtICk7XG5cdFx0fVxuXHR9XG5cdHJldHVybiBtYXRjaGVkO1xufTtcblxuXG52YXIgc2libGluZ3MgPSBmdW5jdGlvbiggbiwgZWxlbSApIHtcblx0dmFyIG1hdGNoZWQgPSBbXTtcblxuXHRmb3IgKCA7IG47IG4gPSBuLm5leHRTaWJsaW5nICkge1xuXHRcdGlmICggbi5ub2RlVHlwZSA9PT0gMSAmJiBuICE9PSBlbGVtICkge1xuXHRcdFx0bWF0Y2hlZC5wdXNoKCBuICk7XG5cdFx0fVxuXHR9XG5cblx0cmV0dXJuIG1hdGNoZWQ7XG59O1xuXG5cbnZhciBybmVlZHNDb250ZXh0ID0galF1ZXJ5LmV4cHIubWF0Y2gubmVlZHNDb250ZXh0O1xuXG5cblxuZnVuY3Rpb24gbm9kZU5hbWUoIGVsZW0sIG5hbWUgKSB7XG5cbiAgcmV0dXJuIGVsZW0ubm9kZU5hbWUgJiYgZWxlbS5ub2RlTmFtZS50b0xvd2VyQ2FzZSgpID09PSBuYW1lLnRvTG93ZXJDYXNlKCk7XG5cbn07XG52YXIgcnNpbmdsZVRhZyA9ICggL148KFthLXpdW15cXC9cXDA+OlxceDIwXFx0XFxyXFxuXFxmXSopW1xceDIwXFx0XFxyXFxuXFxmXSpcXC8/Pig/OjxcXC9cXDE+fCkkL2kgKTtcblxuXG5cbi8vIEltcGxlbWVudCB0aGUgaWRlbnRpY2FsIGZ1bmN0aW9uYWxpdHkgZm9yIGZpbHRlciBhbmQgbm90XG5mdW5jdGlvbiB3aW5ub3coIGVsZW1lbnRzLCBxdWFsaWZpZXIsIG5vdCApIHtcblx0aWYgKCBpc0Z1bmN0aW9uKCBxdWFsaWZpZXIgKSApIHtcblx0XHRyZXR1cm4galF1ZXJ5LmdyZXAoIGVsZW1lbnRzLCBmdW5jdGlvbiggZWxlbSwgaSApIHtcblx0XHRcdHJldHVybiAhIXF1YWxpZmllci5jYWxsKCBlbGVtLCBpLCBlbGVtICkgIT09IG5vdDtcblx0XHR9ICk7XG5cdH1cblxuXHQvLyBTaW5nbGUgZWxlbWVudFxuXHRpZiAoIHF1YWxpZmllci5ub2RlVHlwZSApIHtcblx0XHRyZXR1cm4galF1ZXJ5LmdyZXAoIGVsZW1lbnRzLCBmdW5jdGlvbiggZWxlbSApIHtcblx0XHRcdHJldHVybiAoIGVsZW0gPT09IHF1YWxpZmllciApICE9PSBub3Q7XG5cdFx0fSApO1xuXHR9XG5cblx0Ly8gQXJyYXlsaWtlIG9mIGVsZW1lbnRzIChqUXVlcnksIGFyZ3VtZW50cywgQXJyYXkpXG5cdGlmICggdHlwZW9mIHF1YWxpZmllciAhPT0gXCJzdHJpbmdcIiApIHtcblx0XHRyZXR1cm4galF1ZXJ5LmdyZXAoIGVsZW1lbnRzLCBmdW5jdGlvbiggZWxlbSApIHtcblx0XHRcdHJldHVybiAoIGluZGV4T2YuY2FsbCggcXVhbGlmaWVyLCBlbGVtICkgPiAtMSApICE9PSBub3Q7XG5cdFx0fSApO1xuXHR9XG5cblx0Ly8gRmlsdGVyZWQgZGlyZWN0bHkgZm9yIGJvdGggc2ltcGxlIGFuZCBjb21wbGV4IHNlbGVjdG9yc1xuXHRyZXR1cm4galF1ZXJ5LmZpbHRlciggcXVhbGlmaWVyLCBlbGVtZW50cywgbm90ICk7XG59XG5cbmpRdWVyeS5maWx0ZXIgPSBmdW5jdGlvbiggZXhwciwgZWxlbXMsIG5vdCApIHtcblx0dmFyIGVsZW0gPSBlbGVtc1sgMCBdO1xuXG5cdGlmICggbm90ICkge1xuXHRcdGV4cHIgPSBcIjpub3QoXCIgKyBleHByICsgXCIpXCI7XG5cdH1cblxuXHRpZiAoIGVsZW1zLmxlbmd0aCA9PT0gMSAmJiBlbGVtLm5vZGVUeXBlID09PSAxICkge1xuXHRcdHJldHVybiBqUXVlcnkuZmluZC5tYXRjaGVzU2VsZWN0b3IoIGVsZW0sIGV4cHIgKSA/IFsgZWxlbSBdIDogW107XG5cdH1cblxuXHRyZXR1cm4galF1ZXJ5LmZpbmQubWF0Y2hlcyggZXhwciwgalF1ZXJ5LmdyZXAoIGVsZW1zLCBmdW5jdGlvbiggZWxlbSApIHtcblx0XHRyZXR1cm4gZWxlbS5ub2RlVHlwZSA9PT0gMTtcblx0fSApICk7XG59O1xuXG5qUXVlcnkuZm4uZXh0ZW5kKCB7XG5cdGZpbmQ6IGZ1bmN0aW9uKCBzZWxlY3RvciApIHtcblx0XHR2YXIgaSwgcmV0LFxuXHRcdFx0bGVuID0gdGhpcy5sZW5ndGgsXG5cdFx0XHRzZWxmID0gdGhpcztcblxuXHRcdGlmICggdHlwZW9mIHNlbGVjdG9yICE9PSBcInN0cmluZ1wiICkge1xuXHRcdFx0cmV0dXJuIHRoaXMucHVzaFN0YWNrKCBqUXVlcnkoIHNlbGVjdG9yICkuZmlsdGVyKCBmdW5jdGlvbigpIHtcblx0XHRcdFx0Zm9yICggaSA9IDA7IGkgPCBsZW47IGkrKyApIHtcblx0XHRcdFx0XHRpZiAoIGpRdWVyeS5jb250YWlucyggc2VsZlsgaSBdLCB0aGlzICkgKSB7XG5cdFx0XHRcdFx0XHRyZXR1cm4gdHJ1ZTtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdH1cblx0XHRcdH0gKSApO1xuXHRcdH1cblxuXHRcdHJldCA9IHRoaXMucHVzaFN0YWNrKCBbXSApO1xuXG5cdFx0Zm9yICggaSA9IDA7IGkgPCBsZW47IGkrKyApIHtcblx0XHRcdGpRdWVyeS5maW5kKCBzZWxlY3Rvciwgc2VsZlsgaSBdLCByZXQgKTtcblx0XHR9XG5cblx0XHRyZXR1cm4gbGVuID4gMSA/IGpRdWVyeS51bmlxdWVTb3J0KCByZXQgKSA6IHJldDtcblx0fSxcblx0ZmlsdGVyOiBmdW5jdGlvbiggc2VsZWN0b3IgKSB7XG5cdFx0cmV0dXJuIHRoaXMucHVzaFN0YWNrKCB3aW5ub3coIHRoaXMsIHNlbGVjdG9yIHx8IFtdLCBmYWxzZSApICk7XG5cdH0sXG5cdG5vdDogZnVuY3Rpb24oIHNlbGVjdG9yICkge1xuXHRcdHJldHVybiB0aGlzLnB1c2hTdGFjayggd2lubm93KCB0aGlzLCBzZWxlY3RvciB8fCBbXSwgdHJ1ZSApICk7XG5cdH0sXG5cdGlzOiBmdW5jdGlvbiggc2VsZWN0b3IgKSB7XG5cdFx0cmV0dXJuICEhd2lubm93KFxuXHRcdFx0dGhpcyxcblxuXHRcdFx0Ly8gSWYgdGhpcyBpcyBhIHBvc2l0aW9uYWwvcmVsYXRpdmUgc2VsZWN0b3IsIGNoZWNrIG1lbWJlcnNoaXAgaW4gdGhlIHJldHVybmVkIHNldFxuXHRcdFx0Ly8gc28gJChcInA6Zmlyc3RcIikuaXMoXCJwOmxhc3RcIikgd29uJ3QgcmV0dXJuIHRydWUgZm9yIGEgZG9jIHdpdGggdHdvIFwicFwiLlxuXHRcdFx0dHlwZW9mIHNlbGVjdG9yID09PSBcInN0cmluZ1wiICYmIHJuZWVkc0NvbnRleHQudGVzdCggc2VsZWN0b3IgKSA/XG5cdFx0XHRcdGpRdWVyeSggc2VsZWN0b3IgKSA6XG5cdFx0XHRcdHNlbGVjdG9yIHx8IFtdLFxuXHRcdFx0ZmFsc2Vcblx0XHQpLmxlbmd0aDtcblx0fVxufSApO1xuXG5cbi8vIEluaXRpYWxpemUgYSBqUXVlcnkgb2JqZWN0XG5cblxuLy8gQSBjZW50cmFsIHJlZmVyZW5jZSB0byB0aGUgcm9vdCBqUXVlcnkoZG9jdW1lbnQpXG52YXIgcm9vdGpRdWVyeSxcblxuXHQvLyBBIHNpbXBsZSB3YXkgdG8gY2hlY2sgZm9yIEhUTUwgc3RyaW5nc1xuXHQvLyBQcmlvcml0aXplICNpZCBvdmVyIDx0YWc+IHRvIGF2b2lkIFhTUyB2aWEgbG9jYXRpb24uaGFzaCAoIzk1MjEpXG5cdC8vIFN0cmljdCBIVE1MIHJlY29nbml0aW9uICgjMTEyOTA6IG11c3Qgc3RhcnQgd2l0aCA8KVxuXHQvLyBTaG9ydGN1dCBzaW1wbGUgI2lkIGNhc2UgZm9yIHNwZWVkXG5cdHJxdWlja0V4cHIgPSAvXig/OlxccyooPFtcXHdcXFddKz4pW14+XSp8IyhbXFx3LV0rKSkkLyxcblxuXHRpbml0ID0galF1ZXJ5LmZuLmluaXQgPSBmdW5jdGlvbiggc2VsZWN0b3IsIGNvbnRleHQsIHJvb3QgKSB7XG5cdFx0dmFyIG1hdGNoLCBlbGVtO1xuXG5cdFx0Ly8gSEFORExFOiAkKFwiXCIpLCAkKG51bGwpLCAkKHVuZGVmaW5lZCksICQoZmFsc2UpXG5cdFx0aWYgKCAhc2VsZWN0b3IgKSB7XG5cdFx0XHRyZXR1cm4gdGhpcztcblx0XHR9XG5cblx0XHQvLyBNZXRob2QgaW5pdCgpIGFjY2VwdHMgYW4gYWx0ZXJuYXRlIHJvb3RqUXVlcnlcblx0XHQvLyBzbyBtaWdyYXRlIGNhbiBzdXBwb3J0IGpRdWVyeS5zdWIgKGdoLTIxMDEpXG5cdFx0cm9vdCA9IHJvb3QgfHwgcm9vdGpRdWVyeTtcblxuXHRcdC8vIEhhbmRsZSBIVE1MIHN0cmluZ3Ncblx0XHRpZiAoIHR5cGVvZiBzZWxlY3RvciA9PT0gXCJzdHJpbmdcIiApIHtcblx0XHRcdGlmICggc2VsZWN0b3JbIDAgXSA9PT0gXCI8XCIgJiZcblx0XHRcdFx0c2VsZWN0b3JbIHNlbGVjdG9yLmxlbmd0aCAtIDEgXSA9PT0gXCI+XCIgJiZcblx0XHRcdFx0c2VsZWN0b3IubGVuZ3RoID49IDMgKSB7XG5cblx0XHRcdFx0Ly8gQXNzdW1lIHRoYXQgc3RyaW5ncyB0aGF0IHN0YXJ0IGFuZCBlbmQgd2l0aCA8PiBhcmUgSFRNTCBhbmQgc2tpcCB0aGUgcmVnZXggY2hlY2tcblx0XHRcdFx0bWF0Y2ggPSBbIG51bGwsIHNlbGVjdG9yLCBudWxsIF07XG5cblx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdG1hdGNoID0gcnF1aWNrRXhwci5leGVjKCBzZWxlY3RvciApO1xuXHRcdFx0fVxuXG5cdFx0XHQvLyBNYXRjaCBodG1sIG9yIG1ha2Ugc3VyZSBubyBjb250ZXh0IGlzIHNwZWNpZmllZCBmb3IgI2lkXG5cdFx0XHRpZiAoIG1hdGNoICYmICggbWF0Y2hbIDEgXSB8fCAhY29udGV4dCApICkge1xuXG5cdFx0XHRcdC8vIEhBTkRMRTogJChodG1sKSAtPiAkKGFycmF5KVxuXHRcdFx0XHRpZiAoIG1hdGNoWyAxIF0gKSB7XG5cdFx0XHRcdFx0Y29udGV4dCA9IGNvbnRleHQgaW5zdGFuY2VvZiBqUXVlcnkgPyBjb250ZXh0WyAwIF0gOiBjb250ZXh0O1xuXG5cdFx0XHRcdFx0Ly8gT3B0aW9uIHRvIHJ1biBzY3JpcHRzIGlzIHRydWUgZm9yIGJhY2stY29tcGF0XG5cdFx0XHRcdFx0Ly8gSW50ZW50aW9uYWxseSBsZXQgdGhlIGVycm9yIGJlIHRocm93biBpZiBwYXJzZUhUTUwgaXMgbm90IHByZXNlbnRcblx0XHRcdFx0XHRqUXVlcnkubWVyZ2UoIHRoaXMsIGpRdWVyeS5wYXJzZUhUTUwoXG5cdFx0XHRcdFx0XHRtYXRjaFsgMSBdLFxuXHRcdFx0XHRcdFx0Y29udGV4dCAmJiBjb250ZXh0Lm5vZGVUeXBlID8gY29udGV4dC5vd25lckRvY3VtZW50IHx8IGNvbnRleHQgOiBkb2N1bWVudCxcblx0XHRcdFx0XHRcdHRydWVcblx0XHRcdFx0XHQpICk7XG5cblx0XHRcdFx0XHQvLyBIQU5ETEU6ICQoaHRtbCwgcHJvcHMpXG5cdFx0XHRcdFx0aWYgKCByc2luZ2xlVGFnLnRlc3QoIG1hdGNoWyAxIF0gKSAmJiBqUXVlcnkuaXNQbGFpbk9iamVjdCggY29udGV4dCApICkge1xuXHRcdFx0XHRcdFx0Zm9yICggbWF0Y2ggaW4gY29udGV4dCApIHtcblxuXHRcdFx0XHRcdFx0XHQvLyBQcm9wZXJ0aWVzIG9mIGNvbnRleHQgYXJlIGNhbGxlZCBhcyBtZXRob2RzIGlmIHBvc3NpYmxlXG5cdFx0XHRcdFx0XHRcdGlmICggaXNGdW5jdGlvbiggdGhpc1sgbWF0Y2ggXSApICkge1xuXHRcdFx0XHRcdFx0XHRcdHRoaXNbIG1hdGNoIF0oIGNvbnRleHRbIG1hdGNoIF0gKTtcblxuXHRcdFx0XHRcdFx0XHQvLyAuLi5hbmQgb3RoZXJ3aXNlIHNldCBhcyBhdHRyaWJ1dGVzXG5cdFx0XHRcdFx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdFx0XHRcdFx0dGhpcy5hdHRyKCBtYXRjaCwgY29udGV4dFsgbWF0Y2ggXSApO1xuXHRcdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0fVxuXG5cdFx0XHRcdFx0cmV0dXJuIHRoaXM7XG5cblx0XHRcdFx0Ly8gSEFORExFOiAkKCNpZClcblx0XHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0XHRlbGVtID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoIG1hdGNoWyAyIF0gKTtcblxuXHRcdFx0XHRcdGlmICggZWxlbSApIHtcblxuXHRcdFx0XHRcdFx0Ly8gSW5qZWN0IHRoZSBlbGVtZW50IGRpcmVjdGx5IGludG8gdGhlIGpRdWVyeSBvYmplY3Rcblx0XHRcdFx0XHRcdHRoaXNbIDAgXSA9IGVsZW07XG5cdFx0XHRcdFx0XHR0aGlzLmxlbmd0aCA9IDE7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHRcdHJldHVybiB0aGlzO1xuXHRcdFx0XHR9XG5cblx0XHRcdC8vIEhBTkRMRTogJChleHByLCAkKC4uLikpXG5cdFx0XHR9IGVsc2UgaWYgKCAhY29udGV4dCB8fCBjb250ZXh0LmpxdWVyeSApIHtcblx0XHRcdFx0cmV0dXJuICggY29udGV4dCB8fCByb290ICkuZmluZCggc2VsZWN0b3IgKTtcblxuXHRcdFx0Ly8gSEFORExFOiAkKGV4cHIsIGNvbnRleHQpXG5cdFx0XHQvLyAod2hpY2ggaXMganVzdCBlcXVpdmFsZW50IHRvOiAkKGNvbnRleHQpLmZpbmQoZXhwcilcblx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdHJldHVybiB0aGlzLmNvbnN0cnVjdG9yKCBjb250ZXh0ICkuZmluZCggc2VsZWN0b3IgKTtcblx0XHRcdH1cblxuXHRcdC8vIEhBTkRMRTogJChET01FbGVtZW50KVxuXHRcdH0gZWxzZSBpZiAoIHNlbGVjdG9yLm5vZGVUeXBlICkge1xuXHRcdFx0dGhpc1sgMCBdID0gc2VsZWN0b3I7XG5cdFx0XHR0aGlzLmxlbmd0aCA9IDE7XG5cdFx0XHRyZXR1cm4gdGhpcztcblxuXHRcdC8vIEhBTkRMRTogJChmdW5jdGlvbilcblx0XHQvLyBTaG9ydGN1dCBmb3IgZG9jdW1lbnQgcmVhZHlcblx0XHR9IGVsc2UgaWYgKCBpc0Z1bmN0aW9uKCBzZWxlY3RvciApICkge1xuXHRcdFx0cmV0dXJuIHJvb3QucmVhZHkgIT09IHVuZGVmaW5lZCA/XG5cdFx0XHRcdHJvb3QucmVhZHkoIHNlbGVjdG9yICkgOlxuXG5cdFx0XHRcdC8vIEV4ZWN1dGUgaW1tZWRpYXRlbHkgaWYgcmVhZHkgaXMgbm90IHByZXNlbnRcblx0XHRcdFx0c2VsZWN0b3IoIGpRdWVyeSApO1xuXHRcdH1cblxuXHRcdHJldHVybiBqUXVlcnkubWFrZUFycmF5KCBzZWxlY3RvciwgdGhpcyApO1xuXHR9O1xuXG4vLyBHaXZlIHRoZSBpbml0IGZ1bmN0aW9uIHRoZSBqUXVlcnkgcHJvdG90eXBlIGZvciBsYXRlciBpbnN0YW50aWF0aW9uXG5pbml0LnByb3RvdHlwZSA9IGpRdWVyeS5mbjtcblxuLy8gSW5pdGlhbGl6ZSBjZW50cmFsIHJlZmVyZW5jZVxucm9vdGpRdWVyeSA9IGpRdWVyeSggZG9jdW1lbnQgKTtcblxuXG52YXIgcnBhcmVudHNwcmV2ID0gL14oPzpwYXJlbnRzfHByZXYoPzpVbnRpbHxBbGwpKS8sXG5cblx0Ly8gTWV0aG9kcyBndWFyYW50ZWVkIHRvIHByb2R1Y2UgYSB1bmlxdWUgc2V0IHdoZW4gc3RhcnRpbmcgZnJvbSBhIHVuaXF1ZSBzZXRcblx0Z3VhcmFudGVlZFVuaXF1ZSA9IHtcblx0XHRjaGlsZHJlbjogdHJ1ZSxcblx0XHRjb250ZW50czogdHJ1ZSxcblx0XHRuZXh0OiB0cnVlLFxuXHRcdHByZXY6IHRydWVcblx0fTtcblxualF1ZXJ5LmZuLmV4dGVuZCgge1xuXHRoYXM6IGZ1bmN0aW9uKCB0YXJnZXQgKSB7XG5cdFx0dmFyIHRhcmdldHMgPSBqUXVlcnkoIHRhcmdldCwgdGhpcyApLFxuXHRcdFx0bCA9IHRhcmdldHMubGVuZ3RoO1xuXG5cdFx0cmV0dXJuIHRoaXMuZmlsdGVyKCBmdW5jdGlvbigpIHtcblx0XHRcdHZhciBpID0gMDtcblx0XHRcdGZvciAoIDsgaSA8IGw7IGkrKyApIHtcblx0XHRcdFx0aWYgKCBqUXVlcnkuY29udGFpbnMoIHRoaXMsIHRhcmdldHNbIGkgXSApICkge1xuXHRcdFx0XHRcdHJldHVybiB0cnVlO1xuXHRcdFx0XHR9XG5cdFx0XHR9XG5cdFx0fSApO1xuXHR9LFxuXG5cdGNsb3Nlc3Q6IGZ1bmN0aW9uKCBzZWxlY3RvcnMsIGNvbnRleHQgKSB7XG5cdFx0dmFyIGN1cixcblx0XHRcdGkgPSAwLFxuXHRcdFx0bCA9IHRoaXMubGVuZ3RoLFxuXHRcdFx0bWF0Y2hlZCA9IFtdLFxuXHRcdFx0dGFyZ2V0cyA9IHR5cGVvZiBzZWxlY3RvcnMgIT09IFwic3RyaW5nXCIgJiYgalF1ZXJ5KCBzZWxlY3RvcnMgKTtcblxuXHRcdC8vIFBvc2l0aW9uYWwgc2VsZWN0b3JzIG5ldmVyIG1hdGNoLCBzaW5jZSB0aGVyZSdzIG5vIF9zZWxlY3Rpb25fIGNvbnRleHRcblx0XHRpZiAoICFybmVlZHNDb250ZXh0LnRlc3QoIHNlbGVjdG9ycyApICkge1xuXHRcdFx0Zm9yICggOyBpIDwgbDsgaSsrICkge1xuXHRcdFx0XHRmb3IgKCBjdXIgPSB0aGlzWyBpIF07IGN1ciAmJiBjdXIgIT09IGNvbnRleHQ7IGN1ciA9IGN1ci5wYXJlbnROb2RlICkge1xuXG5cdFx0XHRcdFx0Ly8gQWx3YXlzIHNraXAgZG9jdW1lbnQgZnJhZ21lbnRzXG5cdFx0XHRcdFx0aWYgKCBjdXIubm9kZVR5cGUgPCAxMSAmJiAoIHRhcmdldHMgP1xuXHRcdFx0XHRcdFx0dGFyZ2V0cy5pbmRleCggY3VyICkgPiAtMSA6XG5cblx0XHRcdFx0XHRcdC8vIERvbid0IHBhc3Mgbm9uLWVsZW1lbnRzIHRvIFNpenpsZVxuXHRcdFx0XHRcdFx0Y3VyLm5vZGVUeXBlID09PSAxICYmXG5cdFx0XHRcdFx0XHRcdGpRdWVyeS5maW5kLm1hdGNoZXNTZWxlY3RvciggY3VyLCBzZWxlY3RvcnMgKSApICkge1xuXG5cdFx0XHRcdFx0XHRtYXRjaGVkLnB1c2goIGN1ciApO1xuXHRcdFx0XHRcdFx0YnJlYWs7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9XG5cdFx0XHR9XG5cdFx0fVxuXG5cdFx0cmV0dXJuIHRoaXMucHVzaFN0YWNrKCBtYXRjaGVkLmxlbmd0aCA+IDEgPyBqUXVlcnkudW5pcXVlU29ydCggbWF0Y2hlZCApIDogbWF0Y2hlZCApO1xuXHR9LFxuXG5cdC8vIERldGVybWluZSB0aGUgcG9zaXRpb24gb2YgYW4gZWxlbWVudCB3aXRoaW4gdGhlIHNldFxuXHRpbmRleDogZnVuY3Rpb24oIGVsZW0gKSB7XG5cblx0XHQvLyBObyBhcmd1bWVudCwgcmV0dXJuIGluZGV4IGluIHBhcmVudFxuXHRcdGlmICggIWVsZW0gKSB7XG5cdFx0XHRyZXR1cm4gKCB0aGlzWyAwIF0gJiYgdGhpc1sgMCBdLnBhcmVudE5vZGUgKSA/IHRoaXMuZmlyc3QoKS5wcmV2QWxsKCkubGVuZ3RoIDogLTE7XG5cdFx0fVxuXG5cdFx0Ly8gSW5kZXggaW4gc2VsZWN0b3Jcblx0XHRpZiAoIHR5cGVvZiBlbGVtID09PSBcInN0cmluZ1wiICkge1xuXHRcdFx0cmV0dXJuIGluZGV4T2YuY2FsbCggalF1ZXJ5KCBlbGVtICksIHRoaXNbIDAgXSApO1xuXHRcdH1cblxuXHRcdC8vIExvY2F0ZSB0aGUgcG9zaXRpb24gb2YgdGhlIGRlc2lyZWQgZWxlbWVudFxuXHRcdHJldHVybiBpbmRleE9mLmNhbGwoIHRoaXMsXG5cblx0XHRcdC8vIElmIGl0IHJlY2VpdmVzIGEgalF1ZXJ5IG9iamVjdCwgdGhlIGZpcnN0IGVsZW1lbnQgaXMgdXNlZFxuXHRcdFx0ZWxlbS5qcXVlcnkgPyBlbGVtWyAwIF0gOiBlbGVtXG5cdFx0KTtcblx0fSxcblxuXHRhZGQ6IGZ1bmN0aW9uKCBzZWxlY3RvciwgY29udGV4dCApIHtcblx0XHRyZXR1cm4gdGhpcy5wdXNoU3RhY2soXG5cdFx0XHRqUXVlcnkudW5pcXVlU29ydChcblx0XHRcdFx0alF1ZXJ5Lm1lcmdlKCB0aGlzLmdldCgpLCBqUXVlcnkoIHNlbGVjdG9yLCBjb250ZXh0ICkgKVxuXHRcdFx0KVxuXHRcdCk7XG5cdH0sXG5cblx0YWRkQmFjazogZnVuY3Rpb24oIHNlbGVjdG9yICkge1xuXHRcdHJldHVybiB0aGlzLmFkZCggc2VsZWN0b3IgPT0gbnVsbCA/XG5cdFx0XHR0aGlzLnByZXZPYmplY3QgOiB0aGlzLnByZXZPYmplY3QuZmlsdGVyKCBzZWxlY3RvciApXG5cdFx0KTtcblx0fVxufSApO1xuXG5mdW5jdGlvbiBzaWJsaW5nKCBjdXIsIGRpciApIHtcblx0d2hpbGUgKCAoIGN1ciA9IGN1clsgZGlyIF0gKSAmJiBjdXIubm9kZVR5cGUgIT09IDEgKSB7fVxuXHRyZXR1cm4gY3VyO1xufVxuXG5qUXVlcnkuZWFjaCgge1xuXHRwYXJlbnQ6IGZ1bmN0aW9uKCBlbGVtICkge1xuXHRcdHZhciBwYXJlbnQgPSBlbGVtLnBhcmVudE5vZGU7XG5cdFx0cmV0dXJuIHBhcmVudCAmJiBwYXJlbnQubm9kZVR5cGUgIT09IDExID8gcGFyZW50IDogbnVsbDtcblx0fSxcblx0cGFyZW50czogZnVuY3Rpb24oIGVsZW0gKSB7XG5cdFx0cmV0dXJuIGRpciggZWxlbSwgXCJwYXJlbnROb2RlXCIgKTtcblx0fSxcblx0cGFyZW50c1VudGlsOiBmdW5jdGlvbiggZWxlbSwgX2ksIHVudGlsICkge1xuXHRcdHJldHVybiBkaXIoIGVsZW0sIFwicGFyZW50Tm9kZVwiLCB1bnRpbCApO1xuXHR9LFxuXHRuZXh0OiBmdW5jdGlvbiggZWxlbSApIHtcblx0XHRyZXR1cm4gc2libGluZyggZWxlbSwgXCJuZXh0U2libGluZ1wiICk7XG5cdH0sXG5cdHByZXY6IGZ1bmN0aW9uKCBlbGVtICkge1xuXHRcdHJldHVybiBzaWJsaW5nKCBlbGVtLCBcInByZXZpb3VzU2libGluZ1wiICk7XG5cdH0sXG5cdG5leHRBbGw6IGZ1bmN0aW9uKCBlbGVtICkge1xuXHRcdHJldHVybiBkaXIoIGVsZW0sIFwibmV4dFNpYmxpbmdcIiApO1xuXHR9LFxuXHRwcmV2QWxsOiBmdW5jdGlvbiggZWxlbSApIHtcblx0XHRyZXR1cm4gZGlyKCBlbGVtLCBcInByZXZpb3VzU2libGluZ1wiICk7XG5cdH0sXG5cdG5leHRVbnRpbDogZnVuY3Rpb24oIGVsZW0sIF9pLCB1bnRpbCApIHtcblx0XHRyZXR1cm4gZGlyKCBlbGVtLCBcIm5leHRTaWJsaW5nXCIsIHVudGlsICk7XG5cdH0sXG5cdHByZXZVbnRpbDogZnVuY3Rpb24oIGVsZW0sIF9pLCB1bnRpbCApIHtcblx0XHRyZXR1cm4gZGlyKCBlbGVtLCBcInByZXZpb3VzU2libGluZ1wiLCB1bnRpbCApO1xuXHR9LFxuXHRzaWJsaW5nczogZnVuY3Rpb24oIGVsZW0gKSB7XG5cdFx0cmV0dXJuIHNpYmxpbmdzKCAoIGVsZW0ucGFyZW50Tm9kZSB8fCB7fSApLmZpcnN0Q2hpbGQsIGVsZW0gKTtcblx0fSxcblx0Y2hpbGRyZW46IGZ1bmN0aW9uKCBlbGVtICkge1xuXHRcdHJldHVybiBzaWJsaW5ncyggZWxlbS5maXJzdENoaWxkICk7XG5cdH0sXG5cdGNvbnRlbnRzOiBmdW5jdGlvbiggZWxlbSApIHtcblx0XHRpZiAoIGVsZW0uY29udGVudERvY3VtZW50ICE9IG51bGwgJiZcblxuXHRcdFx0Ly8gU3VwcG9ydDogSUUgMTErXG5cdFx0XHQvLyA8b2JqZWN0PiBlbGVtZW50cyB3aXRoIG5vIGBkYXRhYCBhdHRyaWJ1dGUgaGFzIGFuIG9iamVjdFxuXHRcdFx0Ly8gYGNvbnRlbnREb2N1bWVudGAgd2l0aCBhIGBudWxsYCBwcm90b3R5cGUuXG5cdFx0XHRnZXRQcm90byggZWxlbS5jb250ZW50RG9jdW1lbnQgKSApIHtcblxuXHRcdFx0cmV0dXJuIGVsZW0uY29udGVudERvY3VtZW50O1xuXHRcdH1cblxuXHRcdC8vIFN1cHBvcnQ6IElFIDkgLSAxMSBvbmx5LCBpT1MgNyBvbmx5LCBBbmRyb2lkIEJyb3dzZXIgPD00LjMgb25seVxuXHRcdC8vIFRyZWF0IHRoZSB0ZW1wbGF0ZSBlbGVtZW50IGFzIGEgcmVndWxhciBvbmUgaW4gYnJvd3NlcnMgdGhhdFxuXHRcdC8vIGRvbid0IHN1cHBvcnQgaXQuXG5cdFx0aWYgKCBub2RlTmFtZSggZWxlbSwgXCJ0ZW1wbGF0ZVwiICkgKSB7XG5cdFx0XHRlbGVtID0gZWxlbS5jb250ZW50IHx8IGVsZW07XG5cdFx0fVxuXG5cdFx0cmV0dXJuIGpRdWVyeS5tZXJnZSggW10sIGVsZW0uY2hpbGROb2RlcyApO1xuXHR9XG59LCBmdW5jdGlvbiggbmFtZSwgZm4gKSB7XG5cdGpRdWVyeS5mblsgbmFtZSBdID0gZnVuY3Rpb24oIHVudGlsLCBzZWxlY3RvciApIHtcblx0XHR2YXIgbWF0Y2hlZCA9IGpRdWVyeS5tYXAoIHRoaXMsIGZuLCB1bnRpbCApO1xuXG5cdFx0aWYgKCBuYW1lLnNsaWNlKCAtNSApICE9PSBcIlVudGlsXCIgKSB7XG5cdFx0XHRzZWxlY3RvciA9IHVudGlsO1xuXHRcdH1cblxuXHRcdGlmICggc2VsZWN0b3IgJiYgdHlwZW9mIHNlbGVjdG9yID09PSBcInN0cmluZ1wiICkge1xuXHRcdFx0bWF0Y2hlZCA9IGpRdWVyeS5maWx0ZXIoIHNlbGVjdG9yLCBtYXRjaGVkICk7XG5cdFx0fVxuXG5cdFx0aWYgKCB0aGlzLmxlbmd0aCA+IDEgKSB7XG5cblx0XHRcdC8vIFJlbW92ZSBkdXBsaWNhdGVzXG5cdFx0XHRpZiAoICFndWFyYW50ZWVkVW5pcXVlWyBuYW1lIF0gKSB7XG5cdFx0XHRcdGpRdWVyeS51bmlxdWVTb3J0KCBtYXRjaGVkICk7XG5cdFx0XHR9XG5cblx0XHRcdC8vIFJldmVyc2Ugb3JkZXIgZm9yIHBhcmVudHMqIGFuZCBwcmV2LWRlcml2YXRpdmVzXG5cdFx0XHRpZiAoIHJwYXJlbnRzcHJldi50ZXN0KCBuYW1lICkgKSB7XG5cdFx0XHRcdG1hdGNoZWQucmV2ZXJzZSgpO1xuXHRcdFx0fVxuXHRcdH1cblxuXHRcdHJldHVybiB0aGlzLnB1c2hTdGFjayggbWF0Y2hlZCApO1xuXHR9O1xufSApO1xudmFyIHJub3RodG1sd2hpdGUgPSAoIC9bXlxceDIwXFx0XFxyXFxuXFxmXSsvZyApO1xuXG5cblxuLy8gQ29udmVydCBTdHJpbmctZm9ybWF0dGVkIG9wdGlvbnMgaW50byBPYmplY3QtZm9ybWF0dGVkIG9uZXNcbmZ1bmN0aW9uIGNyZWF0ZU9wdGlvbnMoIG9wdGlvbnMgKSB7XG5cdHZhciBvYmplY3QgPSB7fTtcblx0alF1ZXJ5LmVhY2goIG9wdGlvbnMubWF0Y2goIHJub3RodG1sd2hpdGUgKSB8fCBbXSwgZnVuY3Rpb24oIF8sIGZsYWcgKSB7XG5cdFx0b2JqZWN0WyBmbGFnIF0gPSB0cnVlO1xuXHR9ICk7XG5cdHJldHVybiBvYmplY3Q7XG59XG5cbi8qXG4gKiBDcmVhdGUgYSBjYWxsYmFjayBsaXN0IHVzaW5nIHRoZSBmb2xsb3dpbmcgcGFyYW1ldGVyczpcbiAqXG4gKlx0b3B0aW9uczogYW4gb3B0aW9uYWwgbGlzdCBvZiBzcGFjZS1zZXBhcmF0ZWQgb3B0aW9ucyB0aGF0IHdpbGwgY2hhbmdlIGhvd1xuICpcdFx0XHR0aGUgY2FsbGJhY2sgbGlzdCBiZWhhdmVzIG9yIGEgbW9yZSB0cmFkaXRpb25hbCBvcHRpb24gb2JqZWN0XG4gKlxuICogQnkgZGVmYXVsdCBhIGNhbGxiYWNrIGxpc3Qgd2lsbCBhY3QgbGlrZSBhbiBldmVudCBjYWxsYmFjayBsaXN0IGFuZCBjYW4gYmVcbiAqIFwiZmlyZWRcIiBtdWx0aXBsZSB0aW1lcy5cbiAqXG4gKiBQb3NzaWJsZSBvcHRpb25zOlxuICpcbiAqXHRvbmNlOlx0XHRcdHdpbGwgZW5zdXJlIHRoZSBjYWxsYmFjayBsaXN0IGNhbiBvbmx5IGJlIGZpcmVkIG9uY2UgKGxpa2UgYSBEZWZlcnJlZClcbiAqXG4gKlx0bWVtb3J5Olx0XHRcdHdpbGwga2VlcCB0cmFjayBvZiBwcmV2aW91cyB2YWx1ZXMgYW5kIHdpbGwgY2FsbCBhbnkgY2FsbGJhY2sgYWRkZWRcbiAqXHRcdFx0XHRcdGFmdGVyIHRoZSBsaXN0IGhhcyBiZWVuIGZpcmVkIHJpZ2h0IGF3YXkgd2l0aCB0aGUgbGF0ZXN0IFwibWVtb3JpemVkXCJcbiAqXHRcdFx0XHRcdHZhbHVlcyAobGlrZSBhIERlZmVycmVkKVxuICpcbiAqXHR1bmlxdWU6XHRcdFx0d2lsbCBlbnN1cmUgYSBjYWxsYmFjayBjYW4gb25seSBiZSBhZGRlZCBvbmNlIChubyBkdXBsaWNhdGUgaW4gdGhlIGxpc3QpXG4gKlxuICpcdHN0b3BPbkZhbHNlOlx0aW50ZXJydXB0IGNhbGxpbmdzIHdoZW4gYSBjYWxsYmFjayByZXR1cm5zIGZhbHNlXG4gKlxuICovXG5qUXVlcnkuQ2FsbGJhY2tzID0gZnVuY3Rpb24oIG9wdGlvbnMgKSB7XG5cblx0Ly8gQ29udmVydCBvcHRpb25zIGZyb20gU3RyaW5nLWZvcm1hdHRlZCB0byBPYmplY3QtZm9ybWF0dGVkIGlmIG5lZWRlZFxuXHQvLyAod2UgY2hlY2sgaW4gY2FjaGUgZmlyc3QpXG5cdG9wdGlvbnMgPSB0eXBlb2Ygb3B0aW9ucyA9PT0gXCJzdHJpbmdcIiA/XG5cdFx0Y3JlYXRlT3B0aW9ucyggb3B0aW9ucyApIDpcblx0XHRqUXVlcnkuZXh0ZW5kKCB7fSwgb3B0aW9ucyApO1xuXG5cdHZhciAvLyBGbGFnIHRvIGtub3cgaWYgbGlzdCBpcyBjdXJyZW50bHkgZmlyaW5nXG5cdFx0ZmlyaW5nLFxuXG5cdFx0Ly8gTGFzdCBmaXJlIHZhbHVlIGZvciBub24tZm9yZ2V0dGFibGUgbGlzdHNcblx0XHRtZW1vcnksXG5cblx0XHQvLyBGbGFnIHRvIGtub3cgaWYgbGlzdCB3YXMgYWxyZWFkeSBmaXJlZFxuXHRcdGZpcmVkLFxuXG5cdFx0Ly8gRmxhZyB0byBwcmV2ZW50IGZpcmluZ1xuXHRcdGxvY2tlZCxcblxuXHRcdC8vIEFjdHVhbCBjYWxsYmFjayBsaXN0XG5cdFx0bGlzdCA9IFtdLFxuXG5cdFx0Ly8gUXVldWUgb2YgZXhlY3V0aW9uIGRhdGEgZm9yIHJlcGVhdGFibGUgbGlzdHNcblx0XHRxdWV1ZSA9IFtdLFxuXG5cdFx0Ly8gSW5kZXggb2YgY3VycmVudGx5IGZpcmluZyBjYWxsYmFjayAobW9kaWZpZWQgYnkgYWRkL3JlbW92ZSBhcyBuZWVkZWQpXG5cdFx0ZmlyaW5nSW5kZXggPSAtMSxcblxuXHRcdC8vIEZpcmUgY2FsbGJhY2tzXG5cdFx0ZmlyZSA9IGZ1bmN0aW9uKCkge1xuXG5cdFx0XHQvLyBFbmZvcmNlIHNpbmdsZS1maXJpbmdcblx0XHRcdGxvY2tlZCA9IGxvY2tlZCB8fCBvcHRpb25zLm9uY2U7XG5cblx0XHRcdC8vIEV4ZWN1dGUgY2FsbGJhY2tzIGZvciBhbGwgcGVuZGluZyBleGVjdXRpb25zLFxuXHRcdFx0Ly8gcmVzcGVjdGluZyBmaXJpbmdJbmRleCBvdmVycmlkZXMgYW5kIHJ1bnRpbWUgY2hhbmdlc1xuXHRcdFx0ZmlyZWQgPSBmaXJpbmcgPSB0cnVlO1xuXHRcdFx0Zm9yICggOyBxdWV1ZS5sZW5ndGg7IGZpcmluZ0luZGV4ID0gLTEgKSB7XG5cdFx0XHRcdG1lbW9yeSA9IHF1ZXVlLnNoaWZ0KCk7XG5cdFx0XHRcdHdoaWxlICggKytmaXJpbmdJbmRleCA8IGxpc3QubGVuZ3RoICkge1xuXG5cdFx0XHRcdFx0Ly8gUnVuIGNhbGxiYWNrIGFuZCBjaGVjayBmb3IgZWFybHkgdGVybWluYXRpb25cblx0XHRcdFx0XHRpZiAoIGxpc3RbIGZpcmluZ0luZGV4IF0uYXBwbHkoIG1lbW9yeVsgMCBdLCBtZW1vcnlbIDEgXSApID09PSBmYWxzZSAmJlxuXHRcdFx0XHRcdFx0b3B0aW9ucy5zdG9wT25GYWxzZSApIHtcblxuXHRcdFx0XHRcdFx0Ly8gSnVtcCB0byBlbmQgYW5kIGZvcmdldCB0aGUgZGF0YSBzbyAuYWRkIGRvZXNuJ3QgcmUtZmlyZVxuXHRcdFx0XHRcdFx0ZmlyaW5nSW5kZXggPSBsaXN0Lmxlbmd0aDtcblx0XHRcdFx0XHRcdG1lbW9yeSA9IGZhbHNlO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0fVxuXHRcdFx0fVxuXG5cdFx0XHQvLyBGb3JnZXQgdGhlIGRhdGEgaWYgd2UncmUgZG9uZSB3aXRoIGl0XG5cdFx0XHRpZiAoICFvcHRpb25zLm1lbW9yeSApIHtcblx0XHRcdFx0bWVtb3J5ID0gZmFsc2U7XG5cdFx0XHR9XG5cblx0XHRcdGZpcmluZyA9IGZhbHNlO1xuXG5cdFx0XHQvLyBDbGVhbiB1cCBpZiB3ZSdyZSBkb25lIGZpcmluZyBmb3IgZ29vZFxuXHRcdFx0aWYgKCBsb2NrZWQgKSB7XG5cblx0XHRcdFx0Ly8gS2VlcCBhbiBlbXB0eSBsaXN0IGlmIHdlIGhhdmUgZGF0YSBmb3IgZnV0dXJlIGFkZCBjYWxsc1xuXHRcdFx0XHRpZiAoIG1lbW9yeSApIHtcblx0XHRcdFx0XHRsaXN0ID0gW107XG5cblx0XHRcdFx0Ly8gT3RoZXJ3aXNlLCB0aGlzIG9iamVjdCBpcyBzcGVudFxuXHRcdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRcdGxpc3QgPSBcIlwiO1xuXHRcdFx0XHR9XG5cdFx0XHR9XG5cdFx0fSxcblxuXHRcdC8vIEFjdHVhbCBDYWxsYmFja3Mgb2JqZWN0XG5cdFx0c2VsZiA9IHtcblxuXHRcdFx0Ly8gQWRkIGEgY2FsbGJhY2sgb3IgYSBjb2xsZWN0aW9uIG9mIGNhbGxiYWNrcyB0byB0aGUgbGlzdFxuXHRcdFx0YWRkOiBmdW5jdGlvbigpIHtcblx0XHRcdFx0aWYgKCBsaXN0ICkge1xuXG5cdFx0XHRcdFx0Ly8gSWYgd2UgaGF2ZSBtZW1vcnkgZnJvbSBhIHBhc3QgcnVuLCB3ZSBzaG91bGQgZmlyZSBhZnRlciBhZGRpbmdcblx0XHRcdFx0XHRpZiAoIG1lbW9yeSAmJiAhZmlyaW5nICkge1xuXHRcdFx0XHRcdFx0ZmlyaW5nSW5kZXggPSBsaXN0Lmxlbmd0aCAtIDE7XG5cdFx0XHRcdFx0XHRxdWV1ZS5wdXNoKCBtZW1vcnkgKTtcblx0XHRcdFx0XHR9XG5cblx0XHRcdFx0XHQoIGZ1bmN0aW9uIGFkZCggYXJncyApIHtcblx0XHRcdFx0XHRcdGpRdWVyeS5lYWNoKCBhcmdzLCBmdW5jdGlvbiggXywgYXJnICkge1xuXHRcdFx0XHRcdFx0XHRpZiAoIGlzRnVuY3Rpb24oIGFyZyApICkge1xuXHRcdFx0XHRcdFx0XHRcdGlmICggIW9wdGlvbnMudW5pcXVlIHx8ICFzZWxmLmhhcyggYXJnICkgKSB7XG5cdFx0XHRcdFx0XHRcdFx0XHRsaXN0LnB1c2goIGFyZyApO1xuXHRcdFx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHRcdFx0fSBlbHNlIGlmICggYXJnICYmIGFyZy5sZW5ndGggJiYgdG9UeXBlKCBhcmcgKSAhPT0gXCJzdHJpbmdcIiApIHtcblxuXHRcdFx0XHRcdFx0XHRcdC8vIEluc3BlY3QgcmVjdXJzaXZlbHlcblx0XHRcdFx0XHRcdFx0XHRhZGQoIGFyZyApO1xuXHRcdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0XHR9ICk7XG5cdFx0XHRcdFx0fSApKCBhcmd1bWVudHMgKTtcblxuXHRcdFx0XHRcdGlmICggbWVtb3J5ICYmICFmaXJpbmcgKSB7XG5cdFx0XHRcdFx0XHRmaXJlKCk7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9XG5cdFx0XHRcdHJldHVybiB0aGlzO1xuXHRcdFx0fSxcblxuXHRcdFx0Ly8gUmVtb3ZlIGEgY2FsbGJhY2sgZnJvbSB0aGUgbGlzdFxuXHRcdFx0cmVtb3ZlOiBmdW5jdGlvbigpIHtcblx0XHRcdFx0alF1ZXJ5LmVhY2goIGFyZ3VtZW50cywgZnVuY3Rpb24oIF8sIGFyZyApIHtcblx0XHRcdFx0XHR2YXIgaW5kZXg7XG5cdFx0XHRcdFx0d2hpbGUgKCAoIGluZGV4ID0galF1ZXJ5LmluQXJyYXkoIGFyZywgbGlzdCwgaW5kZXggKSApID4gLTEgKSB7XG5cdFx0XHRcdFx0XHRsaXN0LnNwbGljZSggaW5kZXgsIDEgKTtcblxuXHRcdFx0XHRcdFx0Ly8gSGFuZGxlIGZpcmluZyBpbmRleGVzXG5cdFx0XHRcdFx0XHRpZiAoIGluZGV4IDw9IGZpcmluZ0luZGV4ICkge1xuXHRcdFx0XHRcdFx0XHRmaXJpbmdJbmRleC0tO1xuXHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdH1cblx0XHRcdFx0fSApO1xuXHRcdFx0XHRyZXR1cm4gdGhpcztcblx0XHRcdH0sXG5cblx0XHRcdC8vIENoZWNrIGlmIGEgZ2l2ZW4gY2FsbGJhY2sgaXMgaW4gdGhlIGxpc3QuXG5cdFx0XHQvLyBJZiBubyBhcmd1bWVudCBpcyBnaXZlbiwgcmV0dXJuIHdoZXRoZXIgb3Igbm90IGxpc3QgaGFzIGNhbGxiYWNrcyBhdHRhY2hlZC5cblx0XHRcdGhhczogZnVuY3Rpb24oIGZuICkge1xuXHRcdFx0XHRyZXR1cm4gZm4gP1xuXHRcdFx0XHRcdGpRdWVyeS5pbkFycmF5KCBmbiwgbGlzdCApID4gLTEgOlxuXHRcdFx0XHRcdGxpc3QubGVuZ3RoID4gMDtcblx0XHRcdH0sXG5cblx0XHRcdC8vIFJlbW92ZSBhbGwgY2FsbGJhY2tzIGZyb20gdGhlIGxpc3Rcblx0XHRcdGVtcHR5OiBmdW5jdGlvbigpIHtcblx0XHRcdFx0aWYgKCBsaXN0ICkge1xuXHRcdFx0XHRcdGxpc3QgPSBbXTtcblx0XHRcdFx0fVxuXHRcdFx0XHRyZXR1cm4gdGhpcztcblx0XHRcdH0sXG5cblx0XHRcdC8vIERpc2FibGUgLmZpcmUgYW5kIC5hZGRcblx0XHRcdC8vIEFib3J0IGFueSBjdXJyZW50L3BlbmRpbmcgZXhlY3V0aW9uc1xuXHRcdFx0Ly8gQ2xlYXIgYWxsIGNhbGxiYWNrcyBhbmQgdmFsdWVzXG5cdFx0XHRkaXNhYmxlOiBmdW5jdGlvbigpIHtcblx0XHRcdFx0bG9ja2VkID0gcXVldWUgPSBbXTtcblx0XHRcdFx0bGlzdCA9IG1lbW9yeSA9IFwiXCI7XG5cdFx0XHRcdHJldHVybiB0aGlzO1xuXHRcdFx0fSxcblx0XHRcdGRpc2FibGVkOiBmdW5jdGlvbigpIHtcblx0XHRcdFx0cmV0dXJuICFsaXN0O1xuXHRcdFx0fSxcblxuXHRcdFx0Ly8gRGlzYWJsZSAuZmlyZVxuXHRcdFx0Ly8gQWxzbyBkaXNhYmxlIC5hZGQgdW5sZXNzIHdlIGhhdmUgbWVtb3J5IChzaW5jZSBpdCB3b3VsZCBoYXZlIG5vIGVmZmVjdClcblx0XHRcdC8vIEFib3J0IGFueSBwZW5kaW5nIGV4ZWN1dGlvbnNcblx0XHRcdGxvY2s6IGZ1bmN0aW9uKCkge1xuXHRcdFx0XHRsb2NrZWQgPSBxdWV1ZSA9IFtdO1xuXHRcdFx0XHRpZiAoICFtZW1vcnkgJiYgIWZpcmluZyApIHtcblx0XHRcdFx0XHRsaXN0ID0gbWVtb3J5ID0gXCJcIjtcblx0XHRcdFx0fVxuXHRcdFx0XHRyZXR1cm4gdGhpcztcblx0XHRcdH0sXG5cdFx0XHRsb2NrZWQ6IGZ1bmN0aW9uKCkge1xuXHRcdFx0XHRyZXR1cm4gISFsb2NrZWQ7XG5cdFx0XHR9LFxuXG5cdFx0XHQvLyBDYWxsIGFsbCBjYWxsYmFja3Mgd2l0aCB0aGUgZ2l2ZW4gY29udGV4dCBhbmQgYXJndW1lbnRzXG5cdFx0XHRmaXJlV2l0aDogZnVuY3Rpb24oIGNvbnRleHQsIGFyZ3MgKSB7XG5cdFx0XHRcdGlmICggIWxvY2tlZCApIHtcblx0XHRcdFx0XHRhcmdzID0gYXJncyB8fCBbXTtcblx0XHRcdFx0XHRhcmdzID0gWyBjb250ZXh0LCBhcmdzLnNsaWNlID8gYXJncy5zbGljZSgpIDogYXJncyBdO1xuXHRcdFx0XHRcdHF1ZXVlLnB1c2goIGFyZ3MgKTtcblx0XHRcdFx0XHRpZiAoICFmaXJpbmcgKSB7XG5cdFx0XHRcdFx0XHRmaXJlKCk7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9XG5cdFx0XHRcdHJldHVybiB0aGlzO1xuXHRcdFx0fSxcblxuXHRcdFx0Ly8gQ2FsbCBhbGwgdGhlIGNhbGxiYWNrcyB3aXRoIHRoZSBnaXZlbiBhcmd1bWVudHNcblx0XHRcdGZpcmU6IGZ1bmN0aW9uKCkge1xuXHRcdFx0XHRzZWxmLmZpcmVXaXRoKCB0aGlzLCBhcmd1bWVudHMgKTtcblx0XHRcdFx0cmV0dXJuIHRoaXM7XG5cdFx0XHR9LFxuXG5cdFx0XHQvLyBUbyBrbm93IGlmIHRoZSBjYWxsYmFja3MgaGF2ZSBhbHJlYWR5IGJlZW4gY2FsbGVkIGF0IGxlYXN0IG9uY2Vcblx0XHRcdGZpcmVkOiBmdW5jdGlvbigpIHtcblx0XHRcdFx0cmV0dXJuICEhZmlyZWQ7XG5cdFx0XHR9XG5cdFx0fTtcblxuXHRyZXR1cm4gc2VsZjtcbn07XG5cblxuZnVuY3Rpb24gSWRlbnRpdHkoIHYgKSB7XG5cdHJldHVybiB2O1xufVxuZnVuY3Rpb24gVGhyb3dlciggZXggKSB7XG5cdHRocm93IGV4O1xufVxuXG5mdW5jdGlvbiBhZG9wdFZhbHVlKCB2YWx1ZSwgcmVzb2x2ZSwgcmVqZWN0LCBub1ZhbHVlICkge1xuXHR2YXIgbWV0aG9kO1xuXG5cdHRyeSB7XG5cblx0XHQvLyBDaGVjayBmb3IgcHJvbWlzZSBhc3BlY3QgZmlyc3QgdG8gcHJpdmlsZWdlIHN5bmNocm9ub3VzIGJlaGF2aW9yXG5cdFx0aWYgKCB2YWx1ZSAmJiBpc0Z1bmN0aW9uKCAoIG1ldGhvZCA9IHZhbHVlLnByb21pc2UgKSApICkge1xuXHRcdFx0bWV0aG9kLmNhbGwoIHZhbHVlICkuZG9uZSggcmVzb2x2ZSApLmZhaWwoIHJlamVjdCApO1xuXG5cdFx0Ly8gT3RoZXIgdGhlbmFibGVzXG5cdFx0fSBlbHNlIGlmICggdmFsdWUgJiYgaXNGdW5jdGlvbiggKCBtZXRob2QgPSB2YWx1ZS50aGVuICkgKSApIHtcblx0XHRcdG1ldGhvZC5jYWxsKCB2YWx1ZSwgcmVzb2x2ZSwgcmVqZWN0ICk7XG5cblx0XHQvLyBPdGhlciBub24tdGhlbmFibGVzXG5cdFx0fSBlbHNlIHtcblxuXHRcdFx0Ly8gQ29udHJvbCBgcmVzb2x2ZWAgYXJndW1lbnRzIGJ5IGxldHRpbmcgQXJyYXkjc2xpY2UgY2FzdCBib29sZWFuIGBub1ZhbHVlYCB0byBpbnRlZ2VyOlxuXHRcdFx0Ly8gKiBmYWxzZTogWyB2YWx1ZSBdLnNsaWNlKCAwICkgPT4gcmVzb2x2ZSggdmFsdWUgKVxuXHRcdFx0Ly8gKiB0cnVlOiBbIHZhbHVlIF0uc2xpY2UoIDEgKSA9PiByZXNvbHZlKClcblx0XHRcdHJlc29sdmUuYXBwbHkoIHVuZGVmaW5lZCwgWyB2YWx1ZSBdLnNsaWNlKCBub1ZhbHVlICkgKTtcblx0XHR9XG5cblx0Ly8gRm9yIFByb21pc2VzL0ErLCBjb252ZXJ0IGV4Y2VwdGlvbnMgaW50byByZWplY3Rpb25zXG5cdC8vIFNpbmNlIGpRdWVyeS53aGVuIGRvZXNuJ3QgdW53cmFwIHRoZW5hYmxlcywgd2UgY2FuIHNraXAgdGhlIGV4dHJhIGNoZWNrcyBhcHBlYXJpbmcgaW5cblx0Ly8gRGVmZXJyZWQjdGhlbiB0byBjb25kaXRpb25hbGx5IHN1cHByZXNzIHJlamVjdGlvbi5cblx0fSBjYXRjaCAoIHZhbHVlICkge1xuXG5cdFx0Ly8gU3VwcG9ydDogQW5kcm9pZCA0LjAgb25seVxuXHRcdC8vIFN0cmljdCBtb2RlIGZ1bmN0aW9ucyBpbnZva2VkIHdpdGhvdXQgLmNhbGwvLmFwcGx5IGdldCBnbG9iYWwtb2JqZWN0IGNvbnRleHRcblx0XHRyZWplY3QuYXBwbHkoIHVuZGVmaW5lZCwgWyB2YWx1ZSBdICk7XG5cdH1cbn1cblxualF1ZXJ5LmV4dGVuZCgge1xuXG5cdERlZmVycmVkOiBmdW5jdGlvbiggZnVuYyApIHtcblx0XHR2YXIgdHVwbGVzID0gW1xuXG5cdFx0XHRcdC8vIGFjdGlvbiwgYWRkIGxpc3RlbmVyLCBjYWxsYmFja3MsXG5cdFx0XHRcdC8vIC4uLiAudGhlbiBoYW5kbGVycywgYXJndW1lbnQgaW5kZXgsIFtmaW5hbCBzdGF0ZV1cblx0XHRcdFx0WyBcIm5vdGlmeVwiLCBcInByb2dyZXNzXCIsIGpRdWVyeS5DYWxsYmFja3MoIFwibWVtb3J5XCIgKSxcblx0XHRcdFx0XHRqUXVlcnkuQ2FsbGJhY2tzKCBcIm1lbW9yeVwiICksIDIgXSxcblx0XHRcdFx0WyBcInJlc29sdmVcIiwgXCJkb25lXCIsIGpRdWVyeS5DYWxsYmFja3MoIFwib25jZSBtZW1vcnlcIiApLFxuXHRcdFx0XHRcdGpRdWVyeS5DYWxsYmFja3MoIFwib25jZSBtZW1vcnlcIiApLCAwLCBcInJlc29sdmVkXCIgXSxcblx0XHRcdFx0WyBcInJlamVjdFwiLCBcImZhaWxcIiwgalF1ZXJ5LkNhbGxiYWNrcyggXCJvbmNlIG1lbW9yeVwiICksXG5cdFx0XHRcdFx0alF1ZXJ5LkNhbGxiYWNrcyggXCJvbmNlIG1lbW9yeVwiICksIDEsIFwicmVqZWN0ZWRcIiBdXG5cdFx0XHRdLFxuXHRcdFx0c3RhdGUgPSBcInBlbmRpbmdcIixcblx0XHRcdHByb21pc2UgPSB7XG5cdFx0XHRcdHN0YXRlOiBmdW5jdGlvbigpIHtcblx0XHRcdFx0XHRyZXR1cm4gc3RhdGU7XG5cdFx0XHRcdH0sXG5cdFx0XHRcdGFsd2F5czogZnVuY3Rpb24oKSB7XG5cdFx0XHRcdFx0ZGVmZXJyZWQuZG9uZSggYXJndW1lbnRzICkuZmFpbCggYXJndW1lbnRzICk7XG5cdFx0XHRcdFx0cmV0dXJuIHRoaXM7XG5cdFx0XHRcdH0sXG5cdFx0XHRcdFwiY2F0Y2hcIjogZnVuY3Rpb24oIGZuICkge1xuXHRcdFx0XHRcdHJldHVybiBwcm9taXNlLnRoZW4oIG51bGwsIGZuICk7XG5cdFx0XHRcdH0sXG5cblx0XHRcdFx0Ly8gS2VlcCBwaXBlIGZvciBiYWNrLWNvbXBhdFxuXHRcdFx0XHRwaXBlOiBmdW5jdGlvbiggLyogZm5Eb25lLCBmbkZhaWwsIGZuUHJvZ3Jlc3MgKi8gKSB7XG5cdFx0XHRcdFx0dmFyIGZucyA9IGFyZ3VtZW50cztcblxuXHRcdFx0XHRcdHJldHVybiBqUXVlcnkuRGVmZXJyZWQoIGZ1bmN0aW9uKCBuZXdEZWZlciApIHtcblx0XHRcdFx0XHRcdGpRdWVyeS5lYWNoKCB0dXBsZXMsIGZ1bmN0aW9uKCBfaSwgdHVwbGUgKSB7XG5cblx0XHRcdFx0XHRcdFx0Ly8gTWFwIHR1cGxlcyAocHJvZ3Jlc3MsIGRvbmUsIGZhaWwpIHRvIGFyZ3VtZW50cyAoZG9uZSwgZmFpbCwgcHJvZ3Jlc3MpXG5cdFx0XHRcdFx0XHRcdHZhciBmbiA9IGlzRnVuY3Rpb24oIGZuc1sgdHVwbGVbIDQgXSBdICkgJiYgZm5zWyB0dXBsZVsgNCBdIF07XG5cblx0XHRcdFx0XHRcdFx0Ly8gZGVmZXJyZWQucHJvZ3Jlc3MoZnVuY3Rpb24oKSB7IGJpbmQgdG8gbmV3RGVmZXIgb3IgbmV3RGVmZXIubm90aWZ5IH0pXG5cdFx0XHRcdFx0XHRcdC8vIGRlZmVycmVkLmRvbmUoZnVuY3Rpb24oKSB7IGJpbmQgdG8gbmV3RGVmZXIgb3IgbmV3RGVmZXIucmVzb2x2ZSB9KVxuXHRcdFx0XHRcdFx0XHQvLyBkZWZlcnJlZC5mYWlsKGZ1bmN0aW9uKCkgeyBiaW5kIHRvIG5ld0RlZmVyIG9yIG5ld0RlZmVyLnJlamVjdCB9KVxuXHRcdFx0XHRcdFx0XHRkZWZlcnJlZFsgdHVwbGVbIDEgXSBdKCBmdW5jdGlvbigpIHtcblx0XHRcdFx0XHRcdFx0XHR2YXIgcmV0dXJuZWQgPSBmbiAmJiBmbi5hcHBseSggdGhpcywgYXJndW1lbnRzICk7XG5cdFx0XHRcdFx0XHRcdFx0aWYgKCByZXR1cm5lZCAmJiBpc0Z1bmN0aW9uKCByZXR1cm5lZC5wcm9taXNlICkgKSB7XG5cdFx0XHRcdFx0XHRcdFx0XHRyZXR1cm5lZC5wcm9taXNlKClcblx0XHRcdFx0XHRcdFx0XHRcdFx0LnByb2dyZXNzKCBuZXdEZWZlci5ub3RpZnkgKVxuXHRcdFx0XHRcdFx0XHRcdFx0XHQuZG9uZSggbmV3RGVmZXIucmVzb2x2ZSApXG5cdFx0XHRcdFx0XHRcdFx0XHRcdC5mYWlsKCBuZXdEZWZlci5yZWplY3QgKTtcblx0XHRcdFx0XHRcdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRcdFx0XHRcdFx0bmV3RGVmZXJbIHR1cGxlWyAwIF0gKyBcIldpdGhcIiBdKFxuXHRcdFx0XHRcdFx0XHRcdFx0XHR0aGlzLFxuXHRcdFx0XHRcdFx0XHRcdFx0XHRmbiA/IFsgcmV0dXJuZWQgXSA6IGFyZ3VtZW50c1xuXHRcdFx0XHRcdFx0XHRcdFx0KTtcblx0XHRcdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0XHRcdH0gKTtcblx0XHRcdFx0XHRcdH0gKTtcblx0XHRcdFx0XHRcdGZucyA9IG51bGw7XG5cdFx0XHRcdFx0fSApLnByb21pc2UoKTtcblx0XHRcdFx0fSxcblx0XHRcdFx0dGhlbjogZnVuY3Rpb24oIG9uRnVsZmlsbGVkLCBvblJlamVjdGVkLCBvblByb2dyZXNzICkge1xuXHRcdFx0XHRcdHZhciBtYXhEZXB0aCA9IDA7XG5cdFx0XHRcdFx0ZnVuY3Rpb24gcmVzb2x2ZSggZGVwdGgsIGRlZmVycmVkLCBoYW5kbGVyLCBzcGVjaWFsICkge1xuXHRcdFx0XHRcdFx0cmV0dXJuIGZ1bmN0aW9uKCkge1xuXHRcdFx0XHRcdFx0XHR2YXIgdGhhdCA9IHRoaXMsXG5cdFx0XHRcdFx0XHRcdFx0YXJncyA9IGFyZ3VtZW50cyxcblx0XHRcdFx0XHRcdFx0XHRtaWdodFRocm93ID0gZnVuY3Rpb24oKSB7XG5cdFx0XHRcdFx0XHRcdFx0XHR2YXIgcmV0dXJuZWQsIHRoZW47XG5cblx0XHRcdFx0XHRcdFx0XHRcdC8vIFN1cHBvcnQ6IFByb21pc2VzL0ErIHNlY3Rpb24gMi4zLjMuMy4zXG5cdFx0XHRcdFx0XHRcdFx0XHQvLyBodHRwczovL3Byb21pc2VzYXBsdXMuY29tLyNwb2ludC01OVxuXHRcdFx0XHRcdFx0XHRcdFx0Ly8gSWdub3JlIGRvdWJsZS1yZXNvbHV0aW9uIGF0dGVtcHRzXG5cdFx0XHRcdFx0XHRcdFx0XHRpZiAoIGRlcHRoIDwgbWF4RGVwdGggKSB7XG5cdFx0XHRcdFx0XHRcdFx0XHRcdHJldHVybjtcblx0XHRcdFx0XHRcdFx0XHRcdH1cblxuXHRcdFx0XHRcdFx0XHRcdFx0cmV0dXJuZWQgPSBoYW5kbGVyLmFwcGx5KCB0aGF0LCBhcmdzICk7XG5cblx0XHRcdFx0XHRcdFx0XHRcdC8vIFN1cHBvcnQ6IFByb21pc2VzL0ErIHNlY3Rpb24gMi4zLjFcblx0XHRcdFx0XHRcdFx0XHRcdC8vIGh0dHBzOi8vcHJvbWlzZXNhcGx1cy5jb20vI3BvaW50LTQ4XG5cdFx0XHRcdFx0XHRcdFx0XHRpZiAoIHJldHVybmVkID09PSBkZWZlcnJlZC5wcm9taXNlKCkgKSB7XG5cdFx0XHRcdFx0XHRcdFx0XHRcdHRocm93IG5ldyBUeXBlRXJyb3IoIFwiVGhlbmFibGUgc2VsZi1yZXNvbHV0aW9uXCIgKTtcblx0XHRcdFx0XHRcdFx0XHRcdH1cblxuXHRcdFx0XHRcdFx0XHRcdFx0Ly8gU3VwcG9ydDogUHJvbWlzZXMvQSsgc2VjdGlvbnMgMi4zLjMuMSwgMy41XG5cdFx0XHRcdFx0XHRcdFx0XHQvLyBodHRwczovL3Byb21pc2VzYXBsdXMuY29tLyNwb2ludC01NFxuXHRcdFx0XHRcdFx0XHRcdFx0Ly8gaHR0cHM6Ly9wcm9taXNlc2FwbHVzLmNvbS8jcG9pbnQtNzVcblx0XHRcdFx0XHRcdFx0XHRcdC8vIFJldHJpZXZlIGB0aGVuYCBvbmx5IG9uY2Vcblx0XHRcdFx0XHRcdFx0XHRcdHRoZW4gPSByZXR1cm5lZCAmJlxuXG5cdFx0XHRcdFx0XHRcdFx0XHRcdC8vIFN1cHBvcnQ6IFByb21pc2VzL0ErIHNlY3Rpb24gMi4zLjRcblx0XHRcdFx0XHRcdFx0XHRcdFx0Ly8gaHR0cHM6Ly9wcm9taXNlc2FwbHVzLmNvbS8jcG9pbnQtNjRcblx0XHRcdFx0XHRcdFx0XHRcdFx0Ly8gT25seSBjaGVjayBvYmplY3RzIGFuZCBmdW5jdGlvbnMgZm9yIHRoZW5hYmlsaXR5XG5cdFx0XHRcdFx0XHRcdFx0XHRcdCggdHlwZW9mIHJldHVybmVkID09PSBcIm9iamVjdFwiIHx8XG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0dHlwZW9mIHJldHVybmVkID09PSBcImZ1bmN0aW9uXCIgKSAmJlxuXHRcdFx0XHRcdFx0XHRcdFx0XHRyZXR1cm5lZC50aGVuO1xuXG5cdFx0XHRcdFx0XHRcdFx0XHQvLyBIYW5kbGUgYSByZXR1cm5lZCB0aGVuYWJsZVxuXHRcdFx0XHRcdFx0XHRcdFx0aWYgKCBpc0Z1bmN0aW9uKCB0aGVuICkgKSB7XG5cblx0XHRcdFx0XHRcdFx0XHRcdFx0Ly8gU3BlY2lhbCBwcm9jZXNzb3JzIChub3RpZnkpIGp1c3Qgd2FpdCBmb3IgcmVzb2x1dGlvblxuXHRcdFx0XHRcdFx0XHRcdFx0XHRpZiAoIHNwZWNpYWwgKSB7XG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0dGhlbi5jYWxsKFxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0cmV0dXJuZWQsXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRyZXNvbHZlKCBtYXhEZXB0aCwgZGVmZXJyZWQsIElkZW50aXR5LCBzcGVjaWFsICksXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRyZXNvbHZlKCBtYXhEZXB0aCwgZGVmZXJyZWQsIFRocm93ZXIsIHNwZWNpYWwgKVxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdCk7XG5cblx0XHRcdFx0XHRcdFx0XHRcdFx0Ly8gTm9ybWFsIHByb2Nlc3NvcnMgKHJlc29sdmUpIGFsc28gaG9vayBpbnRvIHByb2dyZXNzXG5cdFx0XHRcdFx0XHRcdFx0XHRcdH0gZWxzZSB7XG5cblx0XHRcdFx0XHRcdFx0XHRcdFx0XHQvLyAuLi5hbmQgZGlzcmVnYXJkIG9sZGVyIHJlc29sdXRpb24gdmFsdWVzXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0bWF4RGVwdGgrKztcblxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdHRoZW4uY2FsbChcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdHJldHVybmVkLFxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0cmVzb2x2ZSggbWF4RGVwdGgsIGRlZmVycmVkLCBJZGVudGl0eSwgc3BlY2lhbCApLFxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0cmVzb2x2ZSggbWF4RGVwdGgsIGRlZmVycmVkLCBUaHJvd2VyLCBzcGVjaWFsICksXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRyZXNvbHZlKCBtYXhEZXB0aCwgZGVmZXJyZWQsIElkZW50aXR5LFxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRkZWZlcnJlZC5ub3RpZnlXaXRoIClcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHQpO1xuXHRcdFx0XHRcdFx0XHRcdFx0XHR9XG5cblx0XHRcdFx0XHRcdFx0XHRcdC8vIEhhbmRsZSBhbGwgb3RoZXIgcmV0dXJuZWQgdmFsdWVzXG5cdFx0XHRcdFx0XHRcdFx0XHR9IGVsc2Uge1xuXG5cdFx0XHRcdFx0XHRcdFx0XHRcdC8vIE9ubHkgc3Vic3RpdHV0ZSBoYW5kbGVycyBwYXNzIG9uIGNvbnRleHRcblx0XHRcdFx0XHRcdFx0XHRcdFx0Ly8gYW5kIG11bHRpcGxlIHZhbHVlcyAobm9uLXNwZWMgYmVoYXZpb3IpXG5cdFx0XHRcdFx0XHRcdFx0XHRcdGlmICggaGFuZGxlciAhPT0gSWRlbnRpdHkgKSB7XG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0dGhhdCA9IHVuZGVmaW5lZDtcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRhcmdzID0gWyByZXR1cm5lZCBdO1xuXHRcdFx0XHRcdFx0XHRcdFx0XHR9XG5cblx0XHRcdFx0XHRcdFx0XHRcdFx0Ly8gUHJvY2VzcyB0aGUgdmFsdWUocylcblx0XHRcdFx0XHRcdFx0XHRcdFx0Ly8gRGVmYXVsdCBwcm9jZXNzIGlzIHJlc29sdmVcblx0XHRcdFx0XHRcdFx0XHRcdFx0KCBzcGVjaWFsIHx8IGRlZmVycmVkLnJlc29sdmVXaXRoICkoIHRoYXQsIGFyZ3MgKTtcblx0XHRcdFx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHRcdFx0XHR9LFxuXG5cdFx0XHRcdFx0XHRcdFx0Ly8gT25seSBub3JtYWwgcHJvY2Vzc29ycyAocmVzb2x2ZSkgY2F0Y2ggYW5kIHJlamVjdCBleGNlcHRpb25zXG5cdFx0XHRcdFx0XHRcdFx0cHJvY2VzcyA9IHNwZWNpYWwgP1xuXHRcdFx0XHRcdFx0XHRcdFx0bWlnaHRUaHJvdyA6XG5cdFx0XHRcdFx0XHRcdFx0XHRmdW5jdGlvbigpIHtcblx0XHRcdFx0XHRcdFx0XHRcdFx0dHJ5IHtcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRtaWdodFRocm93KCk7XG5cdFx0XHRcdFx0XHRcdFx0XHRcdH0gY2F0Y2ggKCBlICkge1xuXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0aWYgKCBqUXVlcnkuRGVmZXJyZWQuZXhjZXB0aW9uSG9vayApIHtcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdGpRdWVyeS5EZWZlcnJlZC5leGNlcHRpb25Ib29rKCBlLFxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRwcm9jZXNzLnN0YWNrVHJhY2UgKTtcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHR9XG5cblx0XHRcdFx0XHRcdFx0XHRcdFx0XHQvLyBTdXBwb3J0OiBQcm9taXNlcy9BKyBzZWN0aW9uIDIuMy4zLjMuNC4xXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0Ly8gaHR0cHM6Ly9wcm9taXNlc2FwbHVzLmNvbS8jcG9pbnQtNjFcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHQvLyBJZ25vcmUgcG9zdC1yZXNvbHV0aW9uIGV4Y2VwdGlvbnNcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRpZiAoIGRlcHRoICsgMSA+PSBtYXhEZXB0aCApIHtcblxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0Ly8gT25seSBzdWJzdGl0dXRlIGhhbmRsZXJzIHBhc3Mgb24gY29udGV4dFxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0Ly8gYW5kIG11bHRpcGxlIHZhbHVlcyAobm9uLXNwZWMgYmVoYXZpb3IpXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRpZiAoIGhhbmRsZXIgIT09IFRocm93ZXIgKSB7XG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdHRoYXQgPSB1bmRlZmluZWQ7XG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdGFyZ3MgPSBbIGUgXTtcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdH1cblxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0ZGVmZXJyZWQucmVqZWN0V2l0aCggdGhhdCwgYXJncyApO1xuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdFx0XHRcdFx0fTtcblxuXHRcdFx0XHRcdFx0XHQvLyBTdXBwb3J0OiBQcm9taXNlcy9BKyBzZWN0aW9uIDIuMy4zLjMuMVxuXHRcdFx0XHRcdFx0XHQvLyBodHRwczovL3Byb21pc2VzYXBsdXMuY29tLyNwb2ludC01N1xuXHRcdFx0XHRcdFx0XHQvLyBSZS1yZXNvbHZlIHByb21pc2VzIGltbWVkaWF0ZWx5IHRvIGRvZGdlIGZhbHNlIHJlamVjdGlvbiBmcm9tXG5cdFx0XHRcdFx0XHRcdC8vIHN1YnNlcXVlbnQgZXJyb3JzXG5cdFx0XHRcdFx0XHRcdGlmICggZGVwdGggKSB7XG5cdFx0XHRcdFx0XHRcdFx0cHJvY2VzcygpO1xuXHRcdFx0XHRcdFx0XHR9IGVsc2Uge1xuXG5cdFx0XHRcdFx0XHRcdFx0Ly8gQ2FsbCBhbiBvcHRpb25hbCBob29rIHRvIHJlY29yZCB0aGUgc3RhY2ssIGluIGNhc2Ugb2YgZXhjZXB0aW9uXG5cdFx0XHRcdFx0XHRcdFx0Ly8gc2luY2UgaXQncyBvdGhlcndpc2UgbG9zdCB3aGVuIGV4ZWN1dGlvbiBnb2VzIGFzeW5jXG5cdFx0XHRcdFx0XHRcdFx0aWYgKCBqUXVlcnkuRGVmZXJyZWQuZ2V0U3RhY2tIb29rICkge1xuXHRcdFx0XHRcdFx0XHRcdFx0cHJvY2Vzcy5zdGFja1RyYWNlID0galF1ZXJ5LkRlZmVycmVkLmdldFN0YWNrSG9vaygpO1xuXHRcdFx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHRcdFx0XHR3aW5kb3cuc2V0VGltZW91dCggcHJvY2VzcyApO1xuXHRcdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0XHR9O1xuXHRcdFx0XHRcdH1cblxuXHRcdFx0XHRcdHJldHVybiBqUXVlcnkuRGVmZXJyZWQoIGZ1bmN0aW9uKCBuZXdEZWZlciApIHtcblxuXHRcdFx0XHRcdFx0Ly8gcHJvZ3Jlc3NfaGFuZGxlcnMuYWRkKCAuLi4gKVxuXHRcdFx0XHRcdFx0dHVwbGVzWyAwIF1bIDMgXS5hZGQoXG5cdFx0XHRcdFx0XHRcdHJlc29sdmUoXG5cdFx0XHRcdFx0XHRcdFx0MCxcblx0XHRcdFx0XHRcdFx0XHRuZXdEZWZlcixcblx0XHRcdFx0XHRcdFx0XHRpc0Z1bmN0aW9uKCBvblByb2dyZXNzICkgP1xuXHRcdFx0XHRcdFx0XHRcdFx0b25Qcm9ncmVzcyA6XG5cdFx0XHRcdFx0XHRcdFx0XHRJZGVudGl0eSxcblx0XHRcdFx0XHRcdFx0XHRuZXdEZWZlci5ub3RpZnlXaXRoXG5cdFx0XHRcdFx0XHRcdClcblx0XHRcdFx0XHRcdCk7XG5cblx0XHRcdFx0XHRcdC8vIGZ1bGZpbGxlZF9oYW5kbGVycy5hZGQoIC4uLiApXG5cdFx0XHRcdFx0XHR0dXBsZXNbIDEgXVsgMyBdLmFkZChcblx0XHRcdFx0XHRcdFx0cmVzb2x2ZShcblx0XHRcdFx0XHRcdFx0XHQwLFxuXHRcdFx0XHRcdFx0XHRcdG5ld0RlZmVyLFxuXHRcdFx0XHRcdFx0XHRcdGlzRnVuY3Rpb24oIG9uRnVsZmlsbGVkICkgP1xuXHRcdFx0XHRcdFx0XHRcdFx0b25GdWxmaWxsZWQgOlxuXHRcdFx0XHRcdFx0XHRcdFx0SWRlbnRpdHlcblx0XHRcdFx0XHRcdFx0KVxuXHRcdFx0XHRcdFx0KTtcblxuXHRcdFx0XHRcdFx0Ly8gcmVqZWN0ZWRfaGFuZGxlcnMuYWRkKCAuLi4gKVxuXHRcdFx0XHRcdFx0dHVwbGVzWyAyIF1bIDMgXS5hZGQoXG5cdFx0XHRcdFx0XHRcdHJlc29sdmUoXG5cdFx0XHRcdFx0XHRcdFx0MCxcblx0XHRcdFx0XHRcdFx0XHRuZXdEZWZlcixcblx0XHRcdFx0XHRcdFx0XHRpc0Z1bmN0aW9uKCBvblJlamVjdGVkICkgP1xuXHRcdFx0XHRcdFx0XHRcdFx0b25SZWplY3RlZCA6XG5cdFx0XHRcdFx0XHRcdFx0XHRUaHJvd2VyXG5cdFx0XHRcdFx0XHRcdClcblx0XHRcdFx0XHRcdCk7XG5cdFx0XHRcdFx0fSApLnByb21pc2UoKTtcblx0XHRcdFx0fSxcblxuXHRcdFx0XHQvLyBHZXQgYSBwcm9taXNlIGZvciB0aGlzIGRlZmVycmVkXG5cdFx0XHRcdC8vIElmIG9iaiBpcyBwcm92aWRlZCwgdGhlIHByb21pc2UgYXNwZWN0IGlzIGFkZGVkIHRvIHRoZSBvYmplY3Rcblx0XHRcdFx0cHJvbWlzZTogZnVuY3Rpb24oIG9iaiApIHtcblx0XHRcdFx0XHRyZXR1cm4gb2JqICE9IG51bGwgPyBqUXVlcnkuZXh0ZW5kKCBvYmosIHByb21pc2UgKSA6IHByb21pc2U7XG5cdFx0XHRcdH1cblx0XHRcdH0sXG5cdFx0XHRkZWZlcnJlZCA9IHt9O1xuXG5cdFx0Ly8gQWRkIGxpc3Qtc3BlY2lmaWMgbWV0aG9kc1xuXHRcdGpRdWVyeS5lYWNoKCB0dXBsZXMsIGZ1bmN0aW9uKCBpLCB0dXBsZSApIHtcblx0XHRcdHZhciBsaXN0ID0gdHVwbGVbIDIgXSxcblx0XHRcdFx0c3RhdGVTdHJpbmcgPSB0dXBsZVsgNSBdO1xuXG5cdFx0XHQvLyBwcm9taXNlLnByb2dyZXNzID0gbGlzdC5hZGRcblx0XHRcdC8vIHByb21pc2UuZG9uZSA9IGxpc3QuYWRkXG5cdFx0XHQvLyBwcm9taXNlLmZhaWwgPSBsaXN0LmFkZFxuXHRcdFx0cHJvbWlzZVsgdHVwbGVbIDEgXSBdID0gbGlzdC5hZGQ7XG5cblx0XHRcdC8vIEhhbmRsZSBzdGF0ZVxuXHRcdFx0aWYgKCBzdGF0ZVN0cmluZyApIHtcblx0XHRcdFx0bGlzdC5hZGQoXG5cdFx0XHRcdFx0ZnVuY3Rpb24oKSB7XG5cblx0XHRcdFx0XHRcdC8vIHN0YXRlID0gXCJyZXNvbHZlZFwiIChpLmUuLCBmdWxmaWxsZWQpXG5cdFx0XHRcdFx0XHQvLyBzdGF0ZSA9IFwicmVqZWN0ZWRcIlxuXHRcdFx0XHRcdFx0c3RhdGUgPSBzdGF0ZVN0cmluZztcblx0XHRcdFx0XHR9LFxuXG5cdFx0XHRcdFx0Ly8gcmVqZWN0ZWRfY2FsbGJhY2tzLmRpc2FibGVcblx0XHRcdFx0XHQvLyBmdWxmaWxsZWRfY2FsbGJhY2tzLmRpc2FibGVcblx0XHRcdFx0XHR0dXBsZXNbIDMgLSBpIF1bIDIgXS5kaXNhYmxlLFxuXG5cdFx0XHRcdFx0Ly8gcmVqZWN0ZWRfaGFuZGxlcnMuZGlzYWJsZVxuXHRcdFx0XHRcdC8vIGZ1bGZpbGxlZF9oYW5kbGVycy5kaXNhYmxlXG5cdFx0XHRcdFx0dHVwbGVzWyAzIC0gaSBdWyAzIF0uZGlzYWJsZSxcblxuXHRcdFx0XHRcdC8vIHByb2dyZXNzX2NhbGxiYWNrcy5sb2NrXG5cdFx0XHRcdFx0dHVwbGVzWyAwIF1bIDIgXS5sb2NrLFxuXG5cdFx0XHRcdFx0Ly8gcHJvZ3Jlc3NfaGFuZGxlcnMubG9ja1xuXHRcdFx0XHRcdHR1cGxlc1sgMCBdWyAzIF0ubG9ja1xuXHRcdFx0XHQpO1xuXHRcdFx0fVxuXG5cdFx0XHQvLyBwcm9ncmVzc19oYW5kbGVycy5maXJlXG5cdFx0XHQvLyBmdWxmaWxsZWRfaGFuZGxlcnMuZmlyZVxuXHRcdFx0Ly8gcmVqZWN0ZWRfaGFuZGxlcnMuZmlyZVxuXHRcdFx0bGlzdC5hZGQoIHR1cGxlWyAzIF0uZmlyZSApO1xuXG5cdFx0XHQvLyBkZWZlcnJlZC5ub3RpZnkgPSBmdW5jdGlvbigpIHsgZGVmZXJyZWQubm90aWZ5V2l0aCguLi4pIH1cblx0XHRcdC8vIGRlZmVycmVkLnJlc29sdmUgPSBmdW5jdGlvbigpIHsgZGVmZXJyZWQucmVzb2x2ZVdpdGgoLi4uKSB9XG5cdFx0XHQvLyBkZWZlcnJlZC5yZWplY3QgPSBmdW5jdGlvbigpIHsgZGVmZXJyZWQucmVqZWN0V2l0aCguLi4pIH1cblx0XHRcdGRlZmVycmVkWyB0dXBsZVsgMCBdIF0gPSBmdW5jdGlvbigpIHtcblx0XHRcdFx0ZGVmZXJyZWRbIHR1cGxlWyAwIF0gKyBcIldpdGhcIiBdKCB0aGlzID09PSBkZWZlcnJlZCA/IHVuZGVmaW5lZCA6IHRoaXMsIGFyZ3VtZW50cyApO1xuXHRcdFx0XHRyZXR1cm4gdGhpcztcblx0XHRcdH07XG5cblx0XHRcdC8vIGRlZmVycmVkLm5vdGlmeVdpdGggPSBsaXN0LmZpcmVXaXRoXG5cdFx0XHQvLyBkZWZlcnJlZC5yZXNvbHZlV2l0aCA9IGxpc3QuZmlyZVdpdGhcblx0XHRcdC8vIGRlZmVycmVkLnJlamVjdFdpdGggPSBsaXN0LmZpcmVXaXRoXG5cdFx0XHRkZWZlcnJlZFsgdHVwbGVbIDAgXSArIFwiV2l0aFwiIF0gPSBsaXN0LmZpcmVXaXRoO1xuXHRcdH0gKTtcblxuXHRcdC8vIE1ha2UgdGhlIGRlZmVycmVkIGEgcHJvbWlzZVxuXHRcdHByb21pc2UucHJvbWlzZSggZGVmZXJyZWQgKTtcblxuXHRcdC8vIENhbGwgZ2l2ZW4gZnVuYyBpZiBhbnlcblx0XHRpZiAoIGZ1bmMgKSB7XG5cdFx0XHRmdW5jLmNhbGwoIGRlZmVycmVkLCBkZWZlcnJlZCApO1xuXHRcdH1cblxuXHRcdC8vIEFsbCBkb25lIVxuXHRcdHJldHVybiBkZWZlcnJlZDtcblx0fSxcblxuXHQvLyBEZWZlcnJlZCBoZWxwZXJcblx0d2hlbjogZnVuY3Rpb24oIHNpbmdsZVZhbHVlICkge1xuXHRcdHZhclxuXG5cdFx0XHQvLyBjb3VudCBvZiB1bmNvbXBsZXRlZCBzdWJvcmRpbmF0ZXNcblx0XHRcdHJlbWFpbmluZyA9IGFyZ3VtZW50cy5sZW5ndGgsXG5cblx0XHRcdC8vIGNvdW50IG9mIHVucHJvY2Vzc2VkIGFyZ3VtZW50c1xuXHRcdFx0aSA9IHJlbWFpbmluZyxcblxuXHRcdFx0Ly8gc3Vib3JkaW5hdGUgZnVsZmlsbG1lbnQgZGF0YVxuXHRcdFx0cmVzb2x2ZUNvbnRleHRzID0gQXJyYXkoIGkgKSxcblx0XHRcdHJlc29sdmVWYWx1ZXMgPSBzbGljZS5jYWxsKCBhcmd1bWVudHMgKSxcblxuXHRcdFx0Ly8gdGhlIG1hc3RlciBEZWZlcnJlZFxuXHRcdFx0bWFzdGVyID0galF1ZXJ5LkRlZmVycmVkKCksXG5cblx0XHRcdC8vIHN1Ym9yZGluYXRlIGNhbGxiYWNrIGZhY3Rvcnlcblx0XHRcdHVwZGF0ZUZ1bmMgPSBmdW5jdGlvbiggaSApIHtcblx0XHRcdFx0cmV0dXJuIGZ1bmN0aW9uKCB2YWx1ZSApIHtcblx0XHRcdFx0XHRyZXNvbHZlQ29udGV4dHNbIGkgXSA9IHRoaXM7XG5cdFx0XHRcdFx0cmVzb2x2ZVZhbHVlc1sgaSBdID0gYXJndW1lbnRzLmxlbmd0aCA+IDEgPyBzbGljZS5jYWxsKCBhcmd1bWVudHMgKSA6IHZhbHVlO1xuXHRcdFx0XHRcdGlmICggISggLS1yZW1haW5pbmcgKSApIHtcblx0XHRcdFx0XHRcdG1hc3Rlci5yZXNvbHZlV2l0aCggcmVzb2x2ZUNvbnRleHRzLCByZXNvbHZlVmFsdWVzICk7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9O1xuXHRcdFx0fTtcblxuXHRcdC8vIFNpbmdsZS0gYW5kIGVtcHR5IGFyZ3VtZW50cyBhcmUgYWRvcHRlZCBsaWtlIFByb21pc2UucmVzb2x2ZVxuXHRcdGlmICggcmVtYWluaW5nIDw9IDEgKSB7XG5cdFx0XHRhZG9wdFZhbHVlKCBzaW5nbGVWYWx1ZSwgbWFzdGVyLmRvbmUoIHVwZGF0ZUZ1bmMoIGkgKSApLnJlc29sdmUsIG1hc3Rlci5yZWplY3QsXG5cdFx0XHRcdCFyZW1haW5pbmcgKTtcblxuXHRcdFx0Ly8gVXNlIC50aGVuKCkgdG8gdW53cmFwIHNlY29uZGFyeSB0aGVuYWJsZXMgKGNmLiBnaC0zMDAwKVxuXHRcdFx0aWYgKCBtYXN0ZXIuc3RhdGUoKSA9PT0gXCJwZW5kaW5nXCIgfHxcblx0XHRcdFx0aXNGdW5jdGlvbiggcmVzb2x2ZVZhbHVlc1sgaSBdICYmIHJlc29sdmVWYWx1ZXNbIGkgXS50aGVuICkgKSB7XG5cblx0XHRcdFx0cmV0dXJuIG1hc3Rlci50aGVuKCk7XG5cdFx0XHR9XG5cdFx0fVxuXG5cdFx0Ly8gTXVsdGlwbGUgYXJndW1lbnRzIGFyZSBhZ2dyZWdhdGVkIGxpa2UgUHJvbWlzZS5hbGwgYXJyYXkgZWxlbWVudHNcblx0XHR3aGlsZSAoIGktLSApIHtcblx0XHRcdGFkb3B0VmFsdWUoIHJlc29sdmVWYWx1ZXNbIGkgXSwgdXBkYXRlRnVuYyggaSApLCBtYXN0ZXIucmVqZWN0ICk7XG5cdFx0fVxuXG5cdFx0cmV0dXJuIG1hc3Rlci5wcm9taXNlKCk7XG5cdH1cbn0gKTtcblxuXG4vLyBUaGVzZSB1c3VhbGx5IGluZGljYXRlIGEgcHJvZ3JhbW1lciBtaXN0YWtlIGR1cmluZyBkZXZlbG9wbWVudCxcbi8vIHdhcm4gYWJvdXQgdGhlbSBBU0FQIHJhdGhlciB0aGFuIHN3YWxsb3dpbmcgdGhlbSBieSBkZWZhdWx0LlxudmFyIHJlcnJvck5hbWVzID0gL14oRXZhbHxJbnRlcm5hbHxSYW5nZXxSZWZlcmVuY2V8U3ludGF4fFR5cGV8VVJJKUVycm9yJC87XG5cbmpRdWVyeS5EZWZlcnJlZC5leGNlcHRpb25Ib29rID0gZnVuY3Rpb24oIGVycm9yLCBzdGFjayApIHtcblxuXHQvLyBTdXBwb3J0OiBJRSA4IC0gOSBvbmx5XG5cdC8vIENvbnNvbGUgZXhpc3RzIHdoZW4gZGV2IHRvb2xzIGFyZSBvcGVuLCB3aGljaCBjYW4gaGFwcGVuIGF0IGFueSB0aW1lXG5cdGlmICggd2luZG93LmNvbnNvbGUgJiYgd2luZG93LmNvbnNvbGUud2FybiAmJiBlcnJvciAmJiByZXJyb3JOYW1lcy50ZXN0KCBlcnJvci5uYW1lICkgKSB7XG5cdFx0d2luZG93LmNvbnNvbGUud2FybiggXCJqUXVlcnkuRGVmZXJyZWQgZXhjZXB0aW9uOiBcIiArIGVycm9yLm1lc3NhZ2UsIGVycm9yLnN0YWNrLCBzdGFjayApO1xuXHR9XG59O1xuXG5cblxuXG5qUXVlcnkucmVhZHlFeGNlcHRpb24gPSBmdW5jdGlvbiggZXJyb3IgKSB7XG5cdHdpbmRvdy5zZXRUaW1lb3V0KCBmdW5jdGlvbigpIHtcblx0XHR0aHJvdyBlcnJvcjtcblx0fSApO1xufTtcblxuXG5cblxuLy8gVGhlIGRlZmVycmVkIHVzZWQgb24gRE9NIHJlYWR5XG52YXIgcmVhZHlMaXN0ID0galF1ZXJ5LkRlZmVycmVkKCk7XG5cbmpRdWVyeS5mbi5yZWFkeSA9IGZ1bmN0aW9uKCBmbiApIHtcblxuXHRyZWFkeUxpc3Rcblx0XHQudGhlbiggZm4gKVxuXG5cdFx0Ly8gV3JhcCBqUXVlcnkucmVhZHlFeGNlcHRpb24gaW4gYSBmdW5jdGlvbiBzbyB0aGF0IHRoZSBsb29rdXBcblx0XHQvLyBoYXBwZW5zIGF0IHRoZSB0aW1lIG9mIGVycm9yIGhhbmRsaW5nIGluc3RlYWQgb2YgY2FsbGJhY2tcblx0XHQvLyByZWdpc3RyYXRpb24uXG5cdFx0LmNhdGNoKCBmdW5jdGlvbiggZXJyb3IgKSB7XG5cdFx0XHRqUXVlcnkucmVhZHlFeGNlcHRpb24oIGVycm9yICk7XG5cdFx0fSApO1xuXG5cdHJldHVybiB0aGlzO1xufTtcblxualF1ZXJ5LmV4dGVuZCgge1xuXG5cdC8vIElzIHRoZSBET00gcmVhZHkgdG8gYmUgdXNlZD8gU2V0IHRvIHRydWUgb25jZSBpdCBvY2N1cnMuXG5cdGlzUmVhZHk6IGZhbHNlLFxuXG5cdC8vIEEgY291bnRlciB0byB0cmFjayBob3cgbWFueSBpdGVtcyB0byB3YWl0IGZvciBiZWZvcmVcblx0Ly8gdGhlIHJlYWR5IGV2ZW50IGZpcmVzLiBTZWUgIzY3ODFcblx0cmVhZHlXYWl0OiAxLFxuXG5cdC8vIEhhbmRsZSB3aGVuIHRoZSBET00gaXMgcmVhZHlcblx0cmVhZHk6IGZ1bmN0aW9uKCB3YWl0ICkge1xuXG5cdFx0Ly8gQWJvcnQgaWYgdGhlcmUgYXJlIHBlbmRpbmcgaG9sZHMgb3Igd2UncmUgYWxyZWFkeSByZWFkeVxuXHRcdGlmICggd2FpdCA9PT0gdHJ1ZSA/IC0talF1ZXJ5LnJlYWR5V2FpdCA6IGpRdWVyeS5pc1JlYWR5ICkge1xuXHRcdFx0cmV0dXJuO1xuXHRcdH1cblxuXHRcdC8vIFJlbWVtYmVyIHRoYXQgdGhlIERPTSBpcyByZWFkeVxuXHRcdGpRdWVyeS5pc1JlYWR5ID0gdHJ1ZTtcblxuXHRcdC8vIElmIGEgbm9ybWFsIERPTSBSZWFkeSBldmVudCBmaXJlZCwgZGVjcmVtZW50LCBhbmQgd2FpdCBpZiBuZWVkIGJlXG5cdFx0aWYgKCB3YWl0ICE9PSB0cnVlICYmIC0talF1ZXJ5LnJlYWR5V2FpdCA+IDAgKSB7XG5cdFx0XHRyZXR1cm47XG5cdFx0fVxuXG5cdFx0Ly8gSWYgdGhlcmUgYXJlIGZ1bmN0aW9ucyBib3VuZCwgdG8gZXhlY3V0ZVxuXHRcdHJlYWR5TGlzdC5yZXNvbHZlV2l0aCggZG9jdW1lbnQsIFsgalF1ZXJ5IF0gKTtcblx0fVxufSApO1xuXG5qUXVlcnkucmVhZHkudGhlbiA9IHJlYWR5TGlzdC50aGVuO1xuXG4vLyBUaGUgcmVhZHkgZXZlbnQgaGFuZGxlciBhbmQgc2VsZiBjbGVhbnVwIG1ldGhvZFxuZnVuY3Rpb24gY29tcGxldGVkKCkge1xuXHRkb2N1bWVudC5yZW1vdmVFdmVudExpc3RlbmVyKCBcIkRPTUNvbnRlbnRMb2FkZWRcIiwgY29tcGxldGVkICk7XG5cdHdpbmRvdy5yZW1vdmVFdmVudExpc3RlbmVyKCBcImxvYWRcIiwgY29tcGxldGVkICk7XG5cdGpRdWVyeS5yZWFkeSgpO1xufVxuXG4vLyBDYXRjaCBjYXNlcyB3aGVyZSAkKGRvY3VtZW50KS5yZWFkeSgpIGlzIGNhbGxlZFxuLy8gYWZ0ZXIgdGhlIGJyb3dzZXIgZXZlbnQgaGFzIGFscmVhZHkgb2NjdXJyZWQuXG4vLyBTdXBwb3J0OiBJRSA8PTkgLSAxMCBvbmx5XG4vLyBPbGRlciBJRSBzb21ldGltZXMgc2lnbmFscyBcImludGVyYWN0aXZlXCIgdG9vIHNvb25cbmlmICggZG9jdW1lbnQucmVhZHlTdGF0ZSA9PT0gXCJjb21wbGV0ZVwiIHx8XG5cdCggZG9jdW1lbnQucmVhZHlTdGF0ZSAhPT0gXCJsb2FkaW5nXCIgJiYgIWRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5kb1Njcm9sbCApICkge1xuXG5cdC8vIEhhbmRsZSBpdCBhc3luY2hyb25vdXNseSB0byBhbGxvdyBzY3JpcHRzIHRoZSBvcHBvcnR1bml0eSB0byBkZWxheSByZWFkeVxuXHR3aW5kb3cuc2V0VGltZW91dCggalF1ZXJ5LnJlYWR5ICk7XG5cbn0gZWxzZSB7XG5cblx0Ly8gVXNlIHRoZSBoYW5keSBldmVudCBjYWxsYmFja1xuXHRkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCBcIkRPTUNvbnRlbnRMb2FkZWRcIiwgY29tcGxldGVkICk7XG5cblx0Ly8gQSBmYWxsYmFjayB0byB3aW5kb3cub25sb2FkLCB0aGF0IHdpbGwgYWx3YXlzIHdvcmtcblx0d2luZG93LmFkZEV2ZW50TGlzdGVuZXIoIFwibG9hZFwiLCBjb21wbGV0ZWQgKTtcbn1cblxuXG5cblxuLy8gTXVsdGlmdW5jdGlvbmFsIG1ldGhvZCB0byBnZXQgYW5kIHNldCB2YWx1ZXMgb2YgYSBjb2xsZWN0aW9uXG4vLyBUaGUgdmFsdWUvcyBjYW4gb3B0aW9uYWxseSBiZSBleGVjdXRlZCBpZiBpdCdzIGEgZnVuY3Rpb25cbnZhciBhY2Nlc3MgPSBmdW5jdGlvbiggZWxlbXMsIGZuLCBrZXksIHZhbHVlLCBjaGFpbmFibGUsIGVtcHR5R2V0LCByYXcgKSB7XG5cdHZhciBpID0gMCxcblx0XHRsZW4gPSBlbGVtcy5sZW5ndGgsXG5cdFx0YnVsayA9IGtleSA9PSBudWxsO1xuXG5cdC8vIFNldHMgbWFueSB2YWx1ZXNcblx0aWYgKCB0b1R5cGUoIGtleSApID09PSBcIm9iamVjdFwiICkge1xuXHRcdGNoYWluYWJsZSA9IHRydWU7XG5cdFx0Zm9yICggaSBpbiBrZXkgKSB7XG5cdFx0XHRhY2Nlc3MoIGVsZW1zLCBmbiwgaSwga2V5WyBpIF0sIHRydWUsIGVtcHR5R2V0LCByYXcgKTtcblx0XHR9XG5cblx0Ly8gU2V0cyBvbmUgdmFsdWVcblx0fSBlbHNlIGlmICggdmFsdWUgIT09IHVuZGVmaW5lZCApIHtcblx0XHRjaGFpbmFibGUgPSB0cnVlO1xuXG5cdFx0aWYgKCAhaXNGdW5jdGlvbiggdmFsdWUgKSApIHtcblx0XHRcdHJhdyA9IHRydWU7XG5cdFx0fVxuXG5cdFx0aWYgKCBidWxrICkge1xuXG5cdFx0XHQvLyBCdWxrIG9wZXJhdGlvbnMgcnVuIGFnYWluc3QgdGhlIGVudGlyZSBzZXRcblx0XHRcdGlmICggcmF3ICkge1xuXHRcdFx0XHRmbi5jYWxsKCBlbGVtcywgdmFsdWUgKTtcblx0XHRcdFx0Zm4gPSBudWxsO1xuXG5cdFx0XHQvLyAuLi5leGNlcHQgd2hlbiBleGVjdXRpbmcgZnVuY3Rpb24gdmFsdWVzXG5cdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRidWxrID0gZm47XG5cdFx0XHRcdGZuID0gZnVuY3Rpb24oIGVsZW0sIF9rZXksIHZhbHVlICkge1xuXHRcdFx0XHRcdHJldHVybiBidWxrLmNhbGwoIGpRdWVyeSggZWxlbSApLCB2YWx1ZSApO1xuXHRcdFx0XHR9O1xuXHRcdFx0fVxuXHRcdH1cblxuXHRcdGlmICggZm4gKSB7XG5cdFx0XHRmb3IgKCA7IGkgPCBsZW47IGkrKyApIHtcblx0XHRcdFx0Zm4oXG5cdFx0XHRcdFx0ZWxlbXNbIGkgXSwga2V5LCByYXcgP1xuXHRcdFx0XHRcdHZhbHVlIDpcblx0XHRcdFx0XHR2YWx1ZS5jYWxsKCBlbGVtc1sgaSBdLCBpLCBmbiggZWxlbXNbIGkgXSwga2V5ICkgKVxuXHRcdFx0XHQpO1xuXHRcdFx0fVxuXHRcdH1cblx0fVxuXG5cdGlmICggY2hhaW5hYmxlICkge1xuXHRcdHJldHVybiBlbGVtcztcblx0fVxuXG5cdC8vIEdldHNcblx0aWYgKCBidWxrICkge1xuXHRcdHJldHVybiBmbi5jYWxsKCBlbGVtcyApO1xuXHR9XG5cblx0cmV0dXJuIGxlbiA/IGZuKCBlbGVtc1sgMCBdLCBrZXkgKSA6IGVtcHR5R2V0O1xufTtcblxuXG4vLyBNYXRjaGVzIGRhc2hlZCBzdHJpbmcgZm9yIGNhbWVsaXppbmdcbnZhciBybXNQcmVmaXggPSAvXi1tcy0vLFxuXHRyZGFzaEFscGhhID0gLy0oW2Etel0pL2c7XG5cbi8vIFVzZWQgYnkgY2FtZWxDYXNlIGFzIGNhbGxiYWNrIHRvIHJlcGxhY2UoKVxuZnVuY3Rpb24gZmNhbWVsQ2FzZSggX2FsbCwgbGV0dGVyICkge1xuXHRyZXR1cm4gbGV0dGVyLnRvVXBwZXJDYXNlKCk7XG59XG5cbi8vIENvbnZlcnQgZGFzaGVkIHRvIGNhbWVsQ2FzZTsgdXNlZCBieSB0aGUgY3NzIGFuZCBkYXRhIG1vZHVsZXNcbi8vIFN1cHBvcnQ6IElFIDw9OSAtIDExLCBFZGdlIDEyIC0gMTVcbi8vIE1pY3Jvc29mdCBmb3Jnb3QgdG8gaHVtcCB0aGVpciB2ZW5kb3IgcHJlZml4ICgjOTU3MilcbmZ1bmN0aW9uIGNhbWVsQ2FzZSggc3RyaW5nICkge1xuXHRyZXR1cm4gc3RyaW5nLnJlcGxhY2UoIHJtc1ByZWZpeCwgXCJtcy1cIiApLnJlcGxhY2UoIHJkYXNoQWxwaGEsIGZjYW1lbENhc2UgKTtcbn1cbnZhciBhY2NlcHREYXRhID0gZnVuY3Rpb24oIG93bmVyICkge1xuXG5cdC8vIEFjY2VwdHMgb25seTpcblx0Ly8gIC0gTm9kZVxuXHQvLyAgICAtIE5vZGUuRUxFTUVOVF9OT0RFXG5cdC8vICAgIC0gTm9kZS5ET0NVTUVOVF9OT0RFXG5cdC8vICAtIE9iamVjdFxuXHQvLyAgICAtIEFueVxuXHRyZXR1cm4gb3duZXIubm9kZVR5cGUgPT09IDEgfHwgb3duZXIubm9kZVR5cGUgPT09IDkgfHwgISggK293bmVyLm5vZGVUeXBlICk7XG59O1xuXG5cblxuXG5mdW5jdGlvbiBEYXRhKCkge1xuXHR0aGlzLmV4cGFuZG8gPSBqUXVlcnkuZXhwYW5kbyArIERhdGEudWlkKys7XG59XG5cbkRhdGEudWlkID0gMTtcblxuRGF0YS5wcm90b3R5cGUgPSB7XG5cblx0Y2FjaGU6IGZ1bmN0aW9uKCBvd25lciApIHtcblxuXHRcdC8vIENoZWNrIGlmIHRoZSBvd25lciBvYmplY3QgYWxyZWFkeSBoYXMgYSBjYWNoZVxuXHRcdHZhciB2YWx1ZSA9IG93bmVyWyB0aGlzLmV4cGFuZG8gXTtcblxuXHRcdC8vIElmIG5vdCwgY3JlYXRlIG9uZVxuXHRcdGlmICggIXZhbHVlICkge1xuXHRcdFx0dmFsdWUgPSB7fTtcblxuXHRcdFx0Ly8gV2UgY2FuIGFjY2VwdCBkYXRhIGZvciBub24tZWxlbWVudCBub2RlcyBpbiBtb2Rlcm4gYnJvd3NlcnMsXG5cdFx0XHQvLyBidXQgd2Ugc2hvdWxkIG5vdCwgc2VlICM4MzM1LlxuXHRcdFx0Ly8gQWx3YXlzIHJldHVybiBhbiBlbXB0eSBvYmplY3QuXG5cdFx0XHRpZiAoIGFjY2VwdERhdGEoIG93bmVyICkgKSB7XG5cblx0XHRcdFx0Ly8gSWYgaXQgaXMgYSBub2RlIHVubGlrZWx5IHRvIGJlIHN0cmluZ2lmeS1lZCBvciBsb29wZWQgb3ZlclxuXHRcdFx0XHQvLyB1c2UgcGxhaW4gYXNzaWdubWVudFxuXHRcdFx0XHRpZiAoIG93bmVyLm5vZGVUeXBlICkge1xuXHRcdFx0XHRcdG93bmVyWyB0aGlzLmV4cGFuZG8gXSA9IHZhbHVlO1xuXG5cdFx0XHRcdC8vIE90aGVyd2lzZSBzZWN1cmUgaXQgaW4gYSBub24tZW51bWVyYWJsZSBwcm9wZXJ0eVxuXHRcdFx0XHQvLyBjb25maWd1cmFibGUgbXVzdCBiZSB0cnVlIHRvIGFsbG93IHRoZSBwcm9wZXJ0eSB0byBiZVxuXHRcdFx0XHQvLyBkZWxldGVkIHdoZW4gZGF0YSBpcyByZW1vdmVkXG5cdFx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KCBvd25lciwgdGhpcy5leHBhbmRvLCB7XG5cdFx0XHRcdFx0XHR2YWx1ZTogdmFsdWUsXG5cdFx0XHRcdFx0XHRjb25maWd1cmFibGU6IHRydWVcblx0XHRcdFx0XHR9ICk7XG5cdFx0XHRcdH1cblx0XHRcdH1cblx0XHR9XG5cblx0XHRyZXR1cm4gdmFsdWU7XG5cdH0sXG5cdHNldDogZnVuY3Rpb24oIG93bmVyLCBkYXRhLCB2YWx1ZSApIHtcblx0XHR2YXIgcHJvcCxcblx0XHRcdGNhY2hlID0gdGhpcy5jYWNoZSggb3duZXIgKTtcblxuXHRcdC8vIEhhbmRsZTogWyBvd25lciwga2V5LCB2YWx1ZSBdIGFyZ3Ncblx0XHQvLyBBbHdheXMgdXNlIGNhbWVsQ2FzZSBrZXkgKGdoLTIyNTcpXG5cdFx0aWYgKCB0eXBlb2YgZGF0YSA9PT0gXCJzdHJpbmdcIiApIHtcblx0XHRcdGNhY2hlWyBjYW1lbENhc2UoIGRhdGEgKSBdID0gdmFsdWU7XG5cblx0XHQvLyBIYW5kbGU6IFsgb3duZXIsIHsgcHJvcGVydGllcyB9IF0gYXJnc1xuXHRcdH0gZWxzZSB7XG5cblx0XHRcdC8vIENvcHkgdGhlIHByb3BlcnRpZXMgb25lLWJ5LW9uZSB0byB0aGUgY2FjaGUgb2JqZWN0XG5cdFx0XHRmb3IgKCBwcm9wIGluIGRhdGEgKSB7XG5cdFx0XHRcdGNhY2hlWyBjYW1lbENhc2UoIHByb3AgKSBdID0gZGF0YVsgcHJvcCBdO1xuXHRcdFx0fVxuXHRcdH1cblx0XHRyZXR1cm4gY2FjaGU7XG5cdH0sXG5cdGdldDogZnVuY3Rpb24oIG93bmVyLCBrZXkgKSB7XG5cdFx0cmV0dXJuIGtleSA9PT0gdW5kZWZpbmVkID9cblx0XHRcdHRoaXMuY2FjaGUoIG93bmVyICkgOlxuXG5cdFx0XHQvLyBBbHdheXMgdXNlIGNhbWVsQ2FzZSBrZXkgKGdoLTIyNTcpXG5cdFx0XHRvd25lclsgdGhpcy5leHBhbmRvIF0gJiYgb3duZXJbIHRoaXMuZXhwYW5kbyBdWyBjYW1lbENhc2UoIGtleSApIF07XG5cdH0sXG5cdGFjY2VzczogZnVuY3Rpb24oIG93bmVyLCBrZXksIHZhbHVlICkge1xuXG5cdFx0Ly8gSW4gY2FzZXMgd2hlcmUgZWl0aGVyOlxuXHRcdC8vXG5cdFx0Ly8gICAxLiBObyBrZXkgd2FzIHNwZWNpZmllZFxuXHRcdC8vICAgMi4gQSBzdHJpbmcga2V5IHdhcyBzcGVjaWZpZWQsIGJ1dCBubyB2YWx1ZSBwcm92aWRlZFxuXHRcdC8vXG5cdFx0Ly8gVGFrZSB0aGUgXCJyZWFkXCIgcGF0aCBhbmQgYWxsb3cgdGhlIGdldCBtZXRob2QgdG8gZGV0ZXJtaW5lXG5cdFx0Ly8gd2hpY2ggdmFsdWUgdG8gcmV0dXJuLCByZXNwZWN0aXZlbHkgZWl0aGVyOlxuXHRcdC8vXG5cdFx0Ly8gICAxLiBUaGUgZW50aXJlIGNhY2hlIG9iamVjdFxuXHRcdC8vICAgMi4gVGhlIGRhdGEgc3RvcmVkIGF0IHRoZSBrZXlcblx0XHQvL1xuXHRcdGlmICgga2V5ID09PSB1bmRlZmluZWQgfHxcblx0XHRcdFx0KCAoIGtleSAmJiB0eXBlb2Yga2V5ID09PSBcInN0cmluZ1wiICkgJiYgdmFsdWUgPT09IHVuZGVmaW5lZCApICkge1xuXG5cdFx0XHRyZXR1cm4gdGhpcy5nZXQoIG93bmVyLCBrZXkgKTtcblx0XHR9XG5cblx0XHQvLyBXaGVuIHRoZSBrZXkgaXMgbm90IGEgc3RyaW5nLCBvciBib3RoIGEga2V5IGFuZCB2YWx1ZVxuXHRcdC8vIGFyZSBzcGVjaWZpZWQsIHNldCBvciBleHRlbmQgKGV4aXN0aW5nIG9iamVjdHMpIHdpdGggZWl0aGVyOlxuXHRcdC8vXG5cdFx0Ly8gICAxLiBBbiBvYmplY3Qgb2YgcHJvcGVydGllc1xuXHRcdC8vICAgMi4gQSBrZXkgYW5kIHZhbHVlXG5cdFx0Ly9cblx0XHR0aGlzLnNldCggb3duZXIsIGtleSwgdmFsdWUgKTtcblxuXHRcdC8vIFNpbmNlIHRoZSBcInNldFwiIHBhdGggY2FuIGhhdmUgdHdvIHBvc3NpYmxlIGVudHJ5IHBvaW50c1xuXHRcdC8vIHJldHVybiB0aGUgZXhwZWN0ZWQgZGF0YSBiYXNlZCBvbiB3aGljaCBwYXRoIHdhcyB0YWtlblsqXVxuXHRcdHJldHVybiB2YWx1ZSAhPT0gdW5kZWZpbmVkID8gdmFsdWUgOiBrZXk7XG5cdH0sXG5cdHJlbW92ZTogZnVuY3Rpb24oIG93bmVyLCBrZXkgKSB7XG5cdFx0dmFyIGksXG5cdFx0XHRjYWNoZSA9IG93bmVyWyB0aGlzLmV4cGFuZG8gXTtcblxuXHRcdGlmICggY2FjaGUgPT09IHVuZGVmaW5lZCApIHtcblx0XHRcdHJldHVybjtcblx0XHR9XG5cblx0XHRpZiAoIGtleSAhPT0gdW5kZWZpbmVkICkge1xuXG5cdFx0XHQvLyBTdXBwb3J0IGFycmF5IG9yIHNwYWNlIHNlcGFyYXRlZCBzdHJpbmcgb2Yga2V5c1xuXHRcdFx0aWYgKCBBcnJheS5pc0FycmF5KCBrZXkgKSApIHtcblxuXHRcdFx0XHQvLyBJZiBrZXkgaXMgYW4gYXJyYXkgb2Yga2V5cy4uLlxuXHRcdFx0XHQvLyBXZSBhbHdheXMgc2V0IGNhbWVsQ2FzZSBrZXlzLCBzbyByZW1vdmUgdGhhdC5cblx0XHRcdFx0a2V5ID0ga2V5Lm1hcCggY2FtZWxDYXNlICk7XG5cdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRrZXkgPSBjYW1lbENhc2UoIGtleSApO1xuXG5cdFx0XHRcdC8vIElmIGEga2V5IHdpdGggdGhlIHNwYWNlcyBleGlzdHMsIHVzZSBpdC5cblx0XHRcdFx0Ly8gT3RoZXJ3aXNlLCBjcmVhdGUgYW4gYXJyYXkgYnkgbWF0Y2hpbmcgbm9uLXdoaXRlc3BhY2Vcblx0XHRcdFx0a2V5ID0ga2V5IGluIGNhY2hlID9cblx0XHRcdFx0XHRbIGtleSBdIDpcblx0XHRcdFx0XHQoIGtleS5tYXRjaCggcm5vdGh0bWx3aGl0ZSApIHx8IFtdICk7XG5cdFx0XHR9XG5cblx0XHRcdGkgPSBrZXkubGVuZ3RoO1xuXG5cdFx0XHR3aGlsZSAoIGktLSApIHtcblx0XHRcdFx0ZGVsZXRlIGNhY2hlWyBrZXlbIGkgXSBdO1xuXHRcdFx0fVxuXHRcdH1cblxuXHRcdC8vIFJlbW92ZSB0aGUgZXhwYW5kbyBpZiB0aGVyZSdzIG5vIG1vcmUgZGF0YVxuXHRcdGlmICgga2V5ID09PSB1bmRlZmluZWQgfHwgalF1ZXJ5LmlzRW1wdHlPYmplY3QoIGNhY2hlICkgKSB7XG5cblx0XHRcdC8vIFN1cHBvcnQ6IENocm9tZSA8PTM1IC0gNDVcblx0XHRcdC8vIFdlYmtpdCAmIEJsaW5rIHBlcmZvcm1hbmNlIHN1ZmZlcnMgd2hlbiBkZWxldGluZyBwcm9wZXJ0aWVzXG5cdFx0XHQvLyBmcm9tIERPTSBub2Rlcywgc28gc2V0IHRvIHVuZGVmaW5lZCBpbnN0ZWFkXG5cdFx0XHQvLyBodHRwczovL2J1Z3MuY2hyb21pdW0ub3JnL3AvY2hyb21pdW0vaXNzdWVzL2RldGFpbD9pZD0zNzg2MDcgKGJ1ZyByZXN0cmljdGVkKVxuXHRcdFx0aWYgKCBvd25lci5ub2RlVHlwZSApIHtcblx0XHRcdFx0b3duZXJbIHRoaXMuZXhwYW5kbyBdID0gdW5kZWZpbmVkO1xuXHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0ZGVsZXRlIG93bmVyWyB0aGlzLmV4cGFuZG8gXTtcblx0XHRcdH1cblx0XHR9XG5cdH0sXG5cdGhhc0RhdGE6IGZ1bmN0aW9uKCBvd25lciApIHtcblx0XHR2YXIgY2FjaGUgPSBvd25lclsgdGhpcy5leHBhbmRvIF07XG5cdFx0cmV0dXJuIGNhY2hlICE9PSB1bmRlZmluZWQgJiYgIWpRdWVyeS5pc0VtcHR5T2JqZWN0KCBjYWNoZSApO1xuXHR9XG59O1xudmFyIGRhdGFQcml2ID0gbmV3IERhdGEoKTtcblxudmFyIGRhdGFVc2VyID0gbmV3IERhdGEoKTtcblxuXG5cbi8vXHRJbXBsZW1lbnRhdGlvbiBTdW1tYXJ5XG4vL1xuLy9cdDEuIEVuZm9yY2UgQVBJIHN1cmZhY2UgYW5kIHNlbWFudGljIGNvbXBhdGliaWxpdHkgd2l0aCAxLjkueCBicmFuY2hcbi8vXHQyLiBJbXByb3ZlIHRoZSBtb2R1bGUncyBtYWludGFpbmFiaWxpdHkgYnkgcmVkdWNpbmcgdGhlIHN0b3JhZ2Vcbi8vXHRcdHBhdGhzIHRvIGEgc2luZ2xlIG1lY2hhbmlzbS5cbi8vXHQzLiBVc2UgdGhlIHNhbWUgc2luZ2xlIG1lY2hhbmlzbSB0byBzdXBwb3J0IFwicHJpdmF0ZVwiIGFuZCBcInVzZXJcIiBkYXRhLlxuLy9cdDQuIF9OZXZlcl8gZXhwb3NlIFwicHJpdmF0ZVwiIGRhdGEgdG8gdXNlciBjb2RlIChUT0RPOiBEcm9wIF9kYXRhLCBfcmVtb3ZlRGF0YSlcbi8vXHQ1LiBBdm9pZCBleHBvc2luZyBpbXBsZW1lbnRhdGlvbiBkZXRhaWxzIG9uIHVzZXIgb2JqZWN0cyAoZWcuIGV4cGFuZG8gcHJvcGVydGllcylcbi8vXHQ2LiBQcm92aWRlIGEgY2xlYXIgcGF0aCBmb3IgaW1wbGVtZW50YXRpb24gdXBncmFkZSB0byBXZWFrTWFwIGluIDIwMTRcblxudmFyIHJicmFjZSA9IC9eKD86XFx7W1xcd1xcV10qXFx9fFxcW1tcXHdcXFddKlxcXSkkLyxcblx0cm11bHRpRGFzaCA9IC9bQS1aXS9nO1xuXG5mdW5jdGlvbiBnZXREYXRhKCBkYXRhICkge1xuXHRpZiAoIGRhdGEgPT09IFwidHJ1ZVwiICkge1xuXHRcdHJldHVybiB0cnVlO1xuXHR9XG5cblx0aWYgKCBkYXRhID09PSBcImZhbHNlXCIgKSB7XG5cdFx0cmV0dXJuIGZhbHNlO1xuXHR9XG5cblx0aWYgKCBkYXRhID09PSBcIm51bGxcIiApIHtcblx0XHRyZXR1cm4gbnVsbDtcblx0fVxuXG5cdC8vIE9ubHkgY29udmVydCB0byBhIG51bWJlciBpZiBpdCBkb2Vzbid0IGNoYW5nZSB0aGUgc3RyaW5nXG5cdGlmICggZGF0YSA9PT0gK2RhdGEgKyBcIlwiICkge1xuXHRcdHJldHVybiArZGF0YTtcblx0fVxuXG5cdGlmICggcmJyYWNlLnRlc3QoIGRhdGEgKSApIHtcblx0XHRyZXR1cm4gSlNPTi5wYXJzZSggZGF0YSApO1xuXHR9XG5cblx0cmV0dXJuIGRhdGE7XG59XG5cbmZ1bmN0aW9uIGRhdGFBdHRyKCBlbGVtLCBrZXksIGRhdGEgKSB7XG5cdHZhciBuYW1lO1xuXG5cdC8vIElmIG5vdGhpbmcgd2FzIGZvdW5kIGludGVybmFsbHksIHRyeSB0byBmZXRjaCBhbnlcblx0Ly8gZGF0YSBmcm9tIHRoZSBIVE1MNSBkYXRhLSogYXR0cmlidXRlXG5cdGlmICggZGF0YSA9PT0gdW5kZWZpbmVkICYmIGVsZW0ubm9kZVR5cGUgPT09IDEgKSB7XG5cdFx0bmFtZSA9IFwiZGF0YS1cIiArIGtleS5yZXBsYWNlKCBybXVsdGlEYXNoLCBcIi0kJlwiICkudG9Mb3dlckNhc2UoKTtcblx0XHRkYXRhID0gZWxlbS5nZXRBdHRyaWJ1dGUoIG5hbWUgKTtcblxuXHRcdGlmICggdHlwZW9mIGRhdGEgPT09IFwic3RyaW5nXCIgKSB7XG5cdFx0XHR0cnkge1xuXHRcdFx0XHRkYXRhID0gZ2V0RGF0YSggZGF0YSApO1xuXHRcdFx0fSBjYXRjaCAoIGUgKSB7fVxuXG5cdFx0XHQvLyBNYWtlIHN1cmUgd2Ugc2V0IHRoZSBkYXRhIHNvIGl0IGlzbid0IGNoYW5nZWQgbGF0ZXJcblx0XHRcdGRhdGFVc2VyLnNldCggZWxlbSwga2V5LCBkYXRhICk7XG5cdFx0fSBlbHNlIHtcblx0XHRcdGRhdGEgPSB1bmRlZmluZWQ7XG5cdFx0fVxuXHR9XG5cdHJldHVybiBkYXRhO1xufVxuXG5qUXVlcnkuZXh0ZW5kKCB7XG5cdGhhc0RhdGE6IGZ1bmN0aW9uKCBlbGVtICkge1xuXHRcdHJldHVybiBkYXRhVXNlci5oYXNEYXRhKCBlbGVtICkgfHwgZGF0YVByaXYuaGFzRGF0YSggZWxlbSApO1xuXHR9LFxuXG5cdGRhdGE6IGZ1bmN0aW9uKCBlbGVtLCBuYW1lLCBkYXRhICkge1xuXHRcdHJldHVybiBkYXRhVXNlci5hY2Nlc3MoIGVsZW0sIG5hbWUsIGRhdGEgKTtcblx0fSxcblxuXHRyZW1vdmVEYXRhOiBmdW5jdGlvbiggZWxlbSwgbmFtZSApIHtcblx0XHRkYXRhVXNlci5yZW1vdmUoIGVsZW0sIG5hbWUgKTtcblx0fSxcblxuXHQvLyBUT0RPOiBOb3cgdGhhdCBhbGwgY2FsbHMgdG8gX2RhdGEgYW5kIF9yZW1vdmVEYXRhIGhhdmUgYmVlbiByZXBsYWNlZFxuXHQvLyB3aXRoIGRpcmVjdCBjYWxscyB0byBkYXRhUHJpdiBtZXRob2RzLCB0aGVzZSBjYW4gYmUgZGVwcmVjYXRlZC5cblx0X2RhdGE6IGZ1bmN0aW9uKCBlbGVtLCBuYW1lLCBkYXRhICkge1xuXHRcdHJldHVybiBkYXRhUHJpdi5hY2Nlc3MoIGVsZW0sIG5hbWUsIGRhdGEgKTtcblx0fSxcblxuXHRfcmVtb3ZlRGF0YTogZnVuY3Rpb24oIGVsZW0sIG5hbWUgKSB7XG5cdFx0ZGF0YVByaXYucmVtb3ZlKCBlbGVtLCBuYW1lICk7XG5cdH1cbn0gKTtcblxualF1ZXJ5LmZuLmV4dGVuZCgge1xuXHRkYXRhOiBmdW5jdGlvbigga2V5LCB2YWx1ZSApIHtcblx0XHR2YXIgaSwgbmFtZSwgZGF0YSxcblx0XHRcdGVsZW0gPSB0aGlzWyAwIF0sXG5cdFx0XHRhdHRycyA9IGVsZW0gJiYgZWxlbS5hdHRyaWJ1dGVzO1xuXG5cdFx0Ly8gR2V0cyBhbGwgdmFsdWVzXG5cdFx0aWYgKCBrZXkgPT09IHVuZGVmaW5lZCApIHtcblx0XHRcdGlmICggdGhpcy5sZW5ndGggKSB7XG5cdFx0XHRcdGRhdGEgPSBkYXRhVXNlci5nZXQoIGVsZW0gKTtcblxuXHRcdFx0XHRpZiAoIGVsZW0ubm9kZVR5cGUgPT09IDEgJiYgIWRhdGFQcml2LmdldCggZWxlbSwgXCJoYXNEYXRhQXR0cnNcIiApICkge1xuXHRcdFx0XHRcdGkgPSBhdHRycy5sZW5ndGg7XG5cdFx0XHRcdFx0d2hpbGUgKCBpLS0gKSB7XG5cblx0XHRcdFx0XHRcdC8vIFN1cHBvcnQ6IElFIDExIG9ubHlcblx0XHRcdFx0XHRcdC8vIFRoZSBhdHRycyBlbGVtZW50cyBjYW4gYmUgbnVsbCAoIzE0ODk0KVxuXHRcdFx0XHRcdFx0aWYgKCBhdHRyc1sgaSBdICkge1xuXHRcdFx0XHRcdFx0XHRuYW1lID0gYXR0cnNbIGkgXS5uYW1lO1xuXHRcdFx0XHRcdFx0XHRpZiAoIG5hbWUuaW5kZXhPZiggXCJkYXRhLVwiICkgPT09IDAgKSB7XG5cdFx0XHRcdFx0XHRcdFx0bmFtZSA9IGNhbWVsQ2FzZSggbmFtZS5zbGljZSggNSApICk7XG5cdFx0XHRcdFx0XHRcdFx0ZGF0YUF0dHIoIGVsZW0sIG5hbWUsIGRhdGFbIG5hbWUgXSApO1xuXHRcdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHRcdGRhdGFQcml2LnNldCggZWxlbSwgXCJoYXNEYXRhQXR0cnNcIiwgdHJ1ZSApO1xuXHRcdFx0XHR9XG5cdFx0XHR9XG5cblx0XHRcdHJldHVybiBkYXRhO1xuXHRcdH1cblxuXHRcdC8vIFNldHMgbXVsdGlwbGUgdmFsdWVzXG5cdFx0aWYgKCB0eXBlb2Yga2V5ID09PSBcIm9iamVjdFwiICkge1xuXHRcdFx0cmV0dXJuIHRoaXMuZWFjaCggZnVuY3Rpb24oKSB7XG5cdFx0XHRcdGRhdGFVc2VyLnNldCggdGhpcywga2V5ICk7XG5cdFx0XHR9ICk7XG5cdFx0fVxuXG5cdFx0cmV0dXJuIGFjY2VzcyggdGhpcywgZnVuY3Rpb24oIHZhbHVlICkge1xuXHRcdFx0dmFyIGRhdGE7XG5cblx0XHRcdC8vIFRoZSBjYWxsaW5nIGpRdWVyeSBvYmplY3QgKGVsZW1lbnQgbWF0Y2hlcykgaXMgbm90IGVtcHR5XG5cdFx0XHQvLyAoYW5kIHRoZXJlZm9yZSBoYXMgYW4gZWxlbWVudCBhcHBlYXJzIGF0IHRoaXNbIDAgXSkgYW5kIHRoZVxuXHRcdFx0Ly8gYHZhbHVlYCBwYXJhbWV0ZXIgd2FzIG5vdCB1bmRlZmluZWQuIEFuIGVtcHR5IGpRdWVyeSBvYmplY3Rcblx0XHRcdC8vIHdpbGwgcmVzdWx0IGluIGB1bmRlZmluZWRgIGZvciBlbGVtID0gdGhpc1sgMCBdIHdoaWNoIHdpbGxcblx0XHRcdC8vIHRocm93IGFuIGV4Y2VwdGlvbiBpZiBhbiBhdHRlbXB0IHRvIHJlYWQgYSBkYXRhIGNhY2hlIGlzIG1hZGUuXG5cdFx0XHRpZiAoIGVsZW0gJiYgdmFsdWUgPT09IHVuZGVmaW5lZCApIHtcblxuXHRcdFx0XHQvLyBBdHRlbXB0IHRvIGdldCBkYXRhIGZyb20gdGhlIGNhY2hlXG5cdFx0XHRcdC8vIFRoZSBrZXkgd2lsbCBhbHdheXMgYmUgY2FtZWxDYXNlZCBpbiBEYXRhXG5cdFx0XHRcdGRhdGEgPSBkYXRhVXNlci5nZXQoIGVsZW0sIGtleSApO1xuXHRcdFx0XHRpZiAoIGRhdGEgIT09IHVuZGVmaW5lZCApIHtcblx0XHRcdFx0XHRyZXR1cm4gZGF0YTtcblx0XHRcdFx0fVxuXG5cdFx0XHRcdC8vIEF0dGVtcHQgdG8gXCJkaXNjb3ZlclwiIHRoZSBkYXRhIGluXG5cdFx0XHRcdC8vIEhUTUw1IGN1c3RvbSBkYXRhLSogYXR0cnNcblx0XHRcdFx0ZGF0YSA9IGRhdGFBdHRyKCBlbGVtLCBrZXkgKTtcblx0XHRcdFx0aWYgKCBkYXRhICE9PSB1bmRlZmluZWQgKSB7XG5cdFx0XHRcdFx0cmV0dXJuIGRhdGE7XG5cdFx0XHRcdH1cblxuXHRcdFx0XHQvLyBXZSB0cmllZCByZWFsbHkgaGFyZCwgYnV0IHRoZSBkYXRhIGRvZXNuJ3QgZXhpc3QuXG5cdFx0XHRcdHJldHVybjtcblx0XHRcdH1cblxuXHRcdFx0Ly8gU2V0IHRoZSBkYXRhLi4uXG5cdFx0XHR0aGlzLmVhY2goIGZ1bmN0aW9uKCkge1xuXG5cdFx0XHRcdC8vIFdlIGFsd2F5cyBzdG9yZSB0aGUgY2FtZWxDYXNlZCBrZXlcblx0XHRcdFx0ZGF0YVVzZXIuc2V0KCB0aGlzLCBrZXksIHZhbHVlICk7XG5cdFx0XHR9ICk7XG5cdFx0fSwgbnVsbCwgdmFsdWUsIGFyZ3VtZW50cy5sZW5ndGggPiAxLCBudWxsLCB0cnVlICk7XG5cdH0sXG5cblx0cmVtb3ZlRGF0YTogZnVuY3Rpb24oIGtleSApIHtcblx0XHRyZXR1cm4gdGhpcy5lYWNoKCBmdW5jdGlvbigpIHtcblx0XHRcdGRhdGFVc2VyLnJlbW92ZSggdGhpcywga2V5ICk7XG5cdFx0fSApO1xuXHR9XG59ICk7XG5cblxualF1ZXJ5LmV4dGVuZCgge1xuXHRxdWV1ZTogZnVuY3Rpb24oIGVsZW0sIHR5cGUsIGRhdGEgKSB7XG5cdFx0dmFyIHF1ZXVlO1xuXG5cdFx0aWYgKCBlbGVtICkge1xuXHRcdFx0dHlwZSA9ICggdHlwZSB8fCBcImZ4XCIgKSArIFwicXVldWVcIjtcblx0XHRcdHF1ZXVlID0gZGF0YVByaXYuZ2V0KCBlbGVtLCB0eXBlICk7XG5cblx0XHRcdC8vIFNwZWVkIHVwIGRlcXVldWUgYnkgZ2V0dGluZyBvdXQgcXVpY2tseSBpZiB0aGlzIGlzIGp1c3QgYSBsb29rdXBcblx0XHRcdGlmICggZGF0YSApIHtcblx0XHRcdFx0aWYgKCAhcXVldWUgfHwgQXJyYXkuaXNBcnJheSggZGF0YSApICkge1xuXHRcdFx0XHRcdHF1ZXVlID0gZGF0YVByaXYuYWNjZXNzKCBlbGVtLCB0eXBlLCBqUXVlcnkubWFrZUFycmF5KCBkYXRhICkgKTtcblx0XHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0XHRxdWV1ZS5wdXNoKCBkYXRhICk7XG5cdFx0XHRcdH1cblx0XHRcdH1cblx0XHRcdHJldHVybiBxdWV1ZSB8fCBbXTtcblx0XHR9XG5cdH0sXG5cblx0ZGVxdWV1ZTogZnVuY3Rpb24oIGVsZW0sIHR5cGUgKSB7XG5cdFx0dHlwZSA9IHR5cGUgfHwgXCJmeFwiO1xuXG5cdFx0dmFyIHF1ZXVlID0galF1ZXJ5LnF1ZXVlKCBlbGVtLCB0eXBlICksXG5cdFx0XHRzdGFydExlbmd0aCA9IHF1ZXVlLmxlbmd0aCxcblx0XHRcdGZuID0gcXVldWUuc2hpZnQoKSxcblx0XHRcdGhvb2tzID0galF1ZXJ5Ll9xdWV1ZUhvb2tzKCBlbGVtLCB0eXBlICksXG5cdFx0XHRuZXh0ID0gZnVuY3Rpb24oKSB7XG5cdFx0XHRcdGpRdWVyeS5kZXF1ZXVlKCBlbGVtLCB0eXBlICk7XG5cdFx0XHR9O1xuXG5cdFx0Ly8gSWYgdGhlIGZ4IHF1ZXVlIGlzIGRlcXVldWVkLCBhbHdheXMgcmVtb3ZlIHRoZSBwcm9ncmVzcyBzZW50aW5lbFxuXHRcdGlmICggZm4gPT09IFwiaW5wcm9ncmVzc1wiICkge1xuXHRcdFx0Zm4gPSBxdWV1ZS5zaGlmdCgpO1xuXHRcdFx0c3RhcnRMZW5ndGgtLTtcblx0XHR9XG5cblx0XHRpZiAoIGZuICkge1xuXG5cdFx0XHQvLyBBZGQgYSBwcm9ncmVzcyBzZW50aW5lbCB0byBwcmV2ZW50IHRoZSBmeCBxdWV1ZSBmcm9tIGJlaW5nXG5cdFx0XHQvLyBhdXRvbWF0aWNhbGx5IGRlcXVldWVkXG5cdFx0XHRpZiAoIHR5cGUgPT09IFwiZnhcIiApIHtcblx0XHRcdFx0cXVldWUudW5zaGlmdCggXCJpbnByb2dyZXNzXCIgKTtcblx0XHRcdH1cblxuXHRcdFx0Ly8gQ2xlYXIgdXAgdGhlIGxhc3QgcXVldWUgc3RvcCBmdW5jdGlvblxuXHRcdFx0ZGVsZXRlIGhvb2tzLnN0b3A7XG5cdFx0XHRmbi5jYWxsKCBlbGVtLCBuZXh0LCBob29rcyApO1xuXHRcdH1cblxuXHRcdGlmICggIXN0YXJ0TGVuZ3RoICYmIGhvb2tzICkge1xuXHRcdFx0aG9va3MuZW1wdHkuZmlyZSgpO1xuXHRcdH1cblx0fSxcblxuXHQvLyBOb3QgcHVibGljIC0gZ2VuZXJhdGUgYSBxdWV1ZUhvb2tzIG9iamVjdCwgb3IgcmV0dXJuIHRoZSBjdXJyZW50IG9uZVxuXHRfcXVldWVIb29rczogZnVuY3Rpb24oIGVsZW0sIHR5cGUgKSB7XG5cdFx0dmFyIGtleSA9IHR5cGUgKyBcInF1ZXVlSG9va3NcIjtcblx0XHRyZXR1cm4gZGF0YVByaXYuZ2V0KCBlbGVtLCBrZXkgKSB8fCBkYXRhUHJpdi5hY2Nlc3MoIGVsZW0sIGtleSwge1xuXHRcdFx0ZW1wdHk6IGpRdWVyeS5DYWxsYmFja3MoIFwib25jZSBtZW1vcnlcIiApLmFkZCggZnVuY3Rpb24oKSB7XG5cdFx0XHRcdGRhdGFQcml2LnJlbW92ZSggZWxlbSwgWyB0eXBlICsgXCJxdWV1ZVwiLCBrZXkgXSApO1xuXHRcdFx0fSApXG5cdFx0fSApO1xuXHR9XG59ICk7XG5cbmpRdWVyeS5mbi5leHRlbmQoIHtcblx0cXVldWU6IGZ1bmN0aW9uKCB0eXBlLCBkYXRhICkge1xuXHRcdHZhciBzZXR0ZXIgPSAyO1xuXG5cdFx0aWYgKCB0eXBlb2YgdHlwZSAhPT0gXCJzdHJpbmdcIiApIHtcblx0XHRcdGRhdGEgPSB0eXBlO1xuXHRcdFx0dHlwZSA9IFwiZnhcIjtcblx0XHRcdHNldHRlci0tO1xuXHRcdH1cblxuXHRcdGlmICggYXJndW1lbnRzLmxlbmd0aCA8IHNldHRlciApIHtcblx0XHRcdHJldHVybiBqUXVlcnkucXVldWUoIHRoaXNbIDAgXSwgdHlwZSApO1xuXHRcdH1cblxuXHRcdHJldHVybiBkYXRhID09PSB1bmRlZmluZWQgP1xuXHRcdFx0dGhpcyA6XG5cdFx0XHR0aGlzLmVhY2goIGZ1bmN0aW9uKCkge1xuXHRcdFx0XHR2YXIgcXVldWUgPSBqUXVlcnkucXVldWUoIHRoaXMsIHR5cGUsIGRhdGEgKTtcblxuXHRcdFx0XHQvLyBFbnN1cmUgYSBob29rcyBmb3IgdGhpcyBxdWV1ZVxuXHRcdFx0XHRqUXVlcnkuX3F1ZXVlSG9va3MoIHRoaXMsIHR5cGUgKTtcblxuXHRcdFx0XHRpZiAoIHR5cGUgPT09IFwiZnhcIiAmJiBxdWV1ZVsgMCBdICE9PSBcImlucHJvZ3Jlc3NcIiApIHtcblx0XHRcdFx0XHRqUXVlcnkuZGVxdWV1ZSggdGhpcywgdHlwZSApO1xuXHRcdFx0XHR9XG5cdFx0XHR9ICk7XG5cdH0sXG5cdGRlcXVldWU6IGZ1bmN0aW9uKCB0eXBlICkge1xuXHRcdHJldHVybiB0aGlzLmVhY2goIGZ1bmN0aW9uKCkge1xuXHRcdFx0alF1ZXJ5LmRlcXVldWUoIHRoaXMsIHR5cGUgKTtcblx0XHR9ICk7XG5cdH0sXG5cdGNsZWFyUXVldWU6IGZ1bmN0aW9uKCB0eXBlICkge1xuXHRcdHJldHVybiB0aGlzLnF1ZXVlKCB0eXBlIHx8IFwiZnhcIiwgW10gKTtcblx0fSxcblxuXHQvLyBHZXQgYSBwcm9taXNlIHJlc29sdmVkIHdoZW4gcXVldWVzIG9mIGEgY2VydGFpbiB0eXBlXG5cdC8vIGFyZSBlbXB0aWVkIChmeCBpcyB0aGUgdHlwZSBieSBkZWZhdWx0KVxuXHRwcm9taXNlOiBmdW5jdGlvbiggdHlwZSwgb2JqICkge1xuXHRcdHZhciB0bXAsXG5cdFx0XHRjb3VudCA9IDEsXG5cdFx0XHRkZWZlciA9IGpRdWVyeS5EZWZlcnJlZCgpLFxuXHRcdFx0ZWxlbWVudHMgPSB0aGlzLFxuXHRcdFx0aSA9IHRoaXMubGVuZ3RoLFxuXHRcdFx0cmVzb2x2ZSA9IGZ1bmN0aW9uKCkge1xuXHRcdFx0XHRpZiAoICEoIC0tY291bnQgKSApIHtcblx0XHRcdFx0XHRkZWZlci5yZXNvbHZlV2l0aCggZWxlbWVudHMsIFsgZWxlbWVudHMgXSApO1xuXHRcdFx0XHR9XG5cdFx0XHR9O1xuXG5cdFx0aWYgKCB0eXBlb2YgdHlwZSAhPT0gXCJzdHJpbmdcIiApIHtcblx0XHRcdG9iaiA9IHR5cGU7XG5cdFx0XHR0eXBlID0gdW5kZWZpbmVkO1xuXHRcdH1cblx0XHR0eXBlID0gdHlwZSB8fCBcImZ4XCI7XG5cblx0XHR3aGlsZSAoIGktLSApIHtcblx0XHRcdHRtcCA9IGRhdGFQcml2LmdldCggZWxlbWVudHNbIGkgXSwgdHlwZSArIFwicXVldWVIb29rc1wiICk7XG5cdFx0XHRpZiAoIHRtcCAmJiB0bXAuZW1wdHkgKSB7XG5cdFx0XHRcdGNvdW50Kys7XG5cdFx0XHRcdHRtcC5lbXB0eS5hZGQoIHJlc29sdmUgKTtcblx0XHRcdH1cblx0XHR9XG5cdFx0cmVzb2x2ZSgpO1xuXHRcdHJldHVybiBkZWZlci5wcm9taXNlKCBvYmogKTtcblx0fVxufSApO1xudmFyIHBudW0gPSAoIC9bKy1dPyg/OlxcZCpcXC58KVxcZCsoPzpbZUVdWystXT9cXGQrfCkvICkuc291cmNlO1xuXG52YXIgcmNzc051bSA9IG5ldyBSZWdFeHAoIFwiXig/OihbKy1dKT18KShcIiArIHBudW0gKyBcIikoW2EteiVdKikkXCIsIFwiaVwiICk7XG5cblxudmFyIGNzc0V4cGFuZCA9IFsgXCJUb3BcIiwgXCJSaWdodFwiLCBcIkJvdHRvbVwiLCBcIkxlZnRcIiBdO1xuXG52YXIgZG9jdW1lbnRFbGVtZW50ID0gZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50O1xuXG5cblxuXHR2YXIgaXNBdHRhY2hlZCA9IGZ1bmN0aW9uKCBlbGVtICkge1xuXHRcdFx0cmV0dXJuIGpRdWVyeS5jb250YWlucyggZWxlbS5vd25lckRvY3VtZW50LCBlbGVtICk7XG5cdFx0fSxcblx0XHRjb21wb3NlZCA9IHsgY29tcG9zZWQ6IHRydWUgfTtcblxuXHQvLyBTdXBwb3J0OiBJRSA5IC0gMTErLCBFZGdlIDEyIC0gMTgrLCBpT1MgMTAuMCAtIDEwLjIgb25seVxuXHQvLyBDaGVjayBhdHRhY2htZW50IGFjcm9zcyBzaGFkb3cgRE9NIGJvdW5kYXJpZXMgd2hlbiBwb3NzaWJsZSAoZ2gtMzUwNClcblx0Ly8gU3VwcG9ydDogaU9TIDEwLjAtMTAuMiBvbmx5XG5cdC8vIEVhcmx5IGlPUyAxMCB2ZXJzaW9ucyBzdXBwb3J0IGBhdHRhY2hTaGFkb3dgIGJ1dCBub3QgYGdldFJvb3ROb2RlYCxcblx0Ly8gbGVhZGluZyB0byBlcnJvcnMuIFdlIG5lZWQgdG8gY2hlY2sgZm9yIGBnZXRSb290Tm9kZWAuXG5cdGlmICggZG9jdW1lbnRFbGVtZW50LmdldFJvb3ROb2RlICkge1xuXHRcdGlzQXR0YWNoZWQgPSBmdW5jdGlvbiggZWxlbSApIHtcblx0XHRcdHJldHVybiBqUXVlcnkuY29udGFpbnMoIGVsZW0ub3duZXJEb2N1bWVudCwgZWxlbSApIHx8XG5cdFx0XHRcdGVsZW0uZ2V0Um9vdE5vZGUoIGNvbXBvc2VkICkgPT09IGVsZW0ub3duZXJEb2N1bWVudDtcblx0XHR9O1xuXHR9XG52YXIgaXNIaWRkZW5XaXRoaW5UcmVlID0gZnVuY3Rpb24oIGVsZW0sIGVsICkge1xuXG5cdFx0Ly8gaXNIaWRkZW5XaXRoaW5UcmVlIG1pZ2h0IGJlIGNhbGxlZCBmcm9tIGpRdWVyeSNmaWx0ZXIgZnVuY3Rpb247XG5cdFx0Ly8gaW4gdGhhdCBjYXNlLCBlbGVtZW50IHdpbGwgYmUgc2Vjb25kIGFyZ3VtZW50XG5cdFx0ZWxlbSA9IGVsIHx8IGVsZW07XG5cblx0XHQvLyBJbmxpbmUgc3R5bGUgdHJ1bXBzIGFsbFxuXHRcdHJldHVybiBlbGVtLnN0eWxlLmRpc3BsYXkgPT09IFwibm9uZVwiIHx8XG5cdFx0XHRlbGVtLnN0eWxlLmRpc3BsYXkgPT09IFwiXCIgJiZcblxuXHRcdFx0Ly8gT3RoZXJ3aXNlLCBjaGVjayBjb21wdXRlZCBzdHlsZVxuXHRcdFx0Ly8gU3VwcG9ydDogRmlyZWZveCA8PTQzIC0gNDVcblx0XHRcdC8vIERpc2Nvbm5lY3RlZCBlbGVtZW50cyBjYW4gaGF2ZSBjb21wdXRlZCBkaXNwbGF5OiBub25lLCBzbyBmaXJzdCBjb25maXJtIHRoYXQgZWxlbSBpc1xuXHRcdFx0Ly8gaW4gdGhlIGRvY3VtZW50LlxuXHRcdFx0aXNBdHRhY2hlZCggZWxlbSApICYmXG5cblx0XHRcdGpRdWVyeS5jc3MoIGVsZW0sIFwiZGlzcGxheVwiICkgPT09IFwibm9uZVwiO1xuXHR9O1xuXG5cblxuZnVuY3Rpb24gYWRqdXN0Q1NTKCBlbGVtLCBwcm9wLCB2YWx1ZVBhcnRzLCB0d2VlbiApIHtcblx0dmFyIGFkanVzdGVkLCBzY2FsZSxcblx0XHRtYXhJdGVyYXRpb25zID0gMjAsXG5cdFx0Y3VycmVudFZhbHVlID0gdHdlZW4gP1xuXHRcdFx0ZnVuY3Rpb24oKSB7XG5cdFx0XHRcdHJldHVybiB0d2Vlbi5jdXIoKTtcblx0XHRcdH0gOlxuXHRcdFx0ZnVuY3Rpb24oKSB7XG5cdFx0XHRcdHJldHVybiBqUXVlcnkuY3NzKCBlbGVtLCBwcm9wLCBcIlwiICk7XG5cdFx0XHR9LFxuXHRcdGluaXRpYWwgPSBjdXJyZW50VmFsdWUoKSxcblx0XHR1bml0ID0gdmFsdWVQYXJ0cyAmJiB2YWx1ZVBhcnRzWyAzIF0gfHwgKCBqUXVlcnkuY3NzTnVtYmVyWyBwcm9wIF0gPyBcIlwiIDogXCJweFwiICksXG5cblx0XHQvLyBTdGFydGluZyB2YWx1ZSBjb21wdXRhdGlvbiBpcyByZXF1aXJlZCBmb3IgcG90ZW50aWFsIHVuaXQgbWlzbWF0Y2hlc1xuXHRcdGluaXRpYWxJblVuaXQgPSBlbGVtLm5vZGVUeXBlICYmXG5cdFx0XHQoIGpRdWVyeS5jc3NOdW1iZXJbIHByb3AgXSB8fCB1bml0ICE9PSBcInB4XCIgJiYgK2luaXRpYWwgKSAmJlxuXHRcdFx0cmNzc051bS5leGVjKCBqUXVlcnkuY3NzKCBlbGVtLCBwcm9wICkgKTtcblxuXHRpZiAoIGluaXRpYWxJblVuaXQgJiYgaW5pdGlhbEluVW5pdFsgMyBdICE9PSB1bml0ICkge1xuXG5cdFx0Ly8gU3VwcG9ydDogRmlyZWZveCA8PTU0XG5cdFx0Ly8gSGFsdmUgdGhlIGl0ZXJhdGlvbiB0YXJnZXQgdmFsdWUgdG8gcHJldmVudCBpbnRlcmZlcmVuY2UgZnJvbSBDU1MgdXBwZXIgYm91bmRzIChnaC0yMTQ0KVxuXHRcdGluaXRpYWwgPSBpbml0aWFsIC8gMjtcblxuXHRcdC8vIFRydXN0IHVuaXRzIHJlcG9ydGVkIGJ5IGpRdWVyeS5jc3Ncblx0XHR1bml0ID0gdW5pdCB8fCBpbml0aWFsSW5Vbml0WyAzIF07XG5cblx0XHQvLyBJdGVyYXRpdmVseSBhcHByb3hpbWF0ZSBmcm9tIGEgbm9uemVybyBzdGFydGluZyBwb2ludFxuXHRcdGluaXRpYWxJblVuaXQgPSAraW5pdGlhbCB8fCAxO1xuXG5cdFx0d2hpbGUgKCBtYXhJdGVyYXRpb25zLS0gKSB7XG5cblx0XHRcdC8vIEV2YWx1YXRlIGFuZCB1cGRhdGUgb3VyIGJlc3QgZ3Vlc3MgKGRvdWJsaW5nIGd1ZXNzZXMgdGhhdCB6ZXJvIG91dCkuXG5cdFx0XHQvLyBGaW5pc2ggaWYgdGhlIHNjYWxlIGVxdWFscyBvciBjcm9zc2VzIDEgKG1ha2luZyB0aGUgb2xkKm5ldyBwcm9kdWN0IG5vbi1wb3NpdGl2ZSkuXG5cdFx0XHRqUXVlcnkuc3R5bGUoIGVsZW0sIHByb3AsIGluaXRpYWxJblVuaXQgKyB1bml0ICk7XG5cdFx0XHRpZiAoICggMSAtIHNjYWxlICkgKiAoIDEgLSAoIHNjYWxlID0gY3VycmVudFZhbHVlKCkgLyBpbml0aWFsIHx8IDAuNSApICkgPD0gMCApIHtcblx0XHRcdFx0bWF4SXRlcmF0aW9ucyA9IDA7XG5cdFx0XHR9XG5cdFx0XHRpbml0aWFsSW5Vbml0ID0gaW5pdGlhbEluVW5pdCAvIHNjYWxlO1xuXG5cdFx0fVxuXG5cdFx0aW5pdGlhbEluVW5pdCA9IGluaXRpYWxJblVuaXQgKiAyO1xuXHRcdGpRdWVyeS5zdHlsZSggZWxlbSwgcHJvcCwgaW5pdGlhbEluVW5pdCArIHVuaXQgKTtcblxuXHRcdC8vIE1ha2Ugc3VyZSB3ZSB1cGRhdGUgdGhlIHR3ZWVuIHByb3BlcnRpZXMgbGF0ZXIgb25cblx0XHR2YWx1ZVBhcnRzID0gdmFsdWVQYXJ0cyB8fCBbXTtcblx0fVxuXG5cdGlmICggdmFsdWVQYXJ0cyApIHtcblx0XHRpbml0aWFsSW5Vbml0ID0gK2luaXRpYWxJblVuaXQgfHwgK2luaXRpYWwgfHwgMDtcblxuXHRcdC8vIEFwcGx5IHJlbGF0aXZlIG9mZnNldCAoKz0vLT0pIGlmIHNwZWNpZmllZFxuXHRcdGFkanVzdGVkID0gdmFsdWVQYXJ0c1sgMSBdID9cblx0XHRcdGluaXRpYWxJblVuaXQgKyAoIHZhbHVlUGFydHNbIDEgXSArIDEgKSAqIHZhbHVlUGFydHNbIDIgXSA6XG5cdFx0XHQrdmFsdWVQYXJ0c1sgMiBdO1xuXHRcdGlmICggdHdlZW4gKSB7XG5cdFx0XHR0d2Vlbi51bml0ID0gdW5pdDtcblx0XHRcdHR3ZWVuLnN0YXJ0ID0gaW5pdGlhbEluVW5pdDtcblx0XHRcdHR3ZWVuLmVuZCA9IGFkanVzdGVkO1xuXHRcdH1cblx0fVxuXHRyZXR1cm4gYWRqdXN0ZWQ7XG59XG5cblxudmFyIGRlZmF1bHREaXNwbGF5TWFwID0ge307XG5cbmZ1bmN0aW9uIGdldERlZmF1bHREaXNwbGF5KCBlbGVtICkge1xuXHR2YXIgdGVtcCxcblx0XHRkb2MgPSBlbGVtLm93bmVyRG9jdW1lbnQsXG5cdFx0bm9kZU5hbWUgPSBlbGVtLm5vZGVOYW1lLFxuXHRcdGRpc3BsYXkgPSBkZWZhdWx0RGlzcGxheU1hcFsgbm9kZU5hbWUgXTtcblxuXHRpZiAoIGRpc3BsYXkgKSB7XG5cdFx0cmV0dXJuIGRpc3BsYXk7XG5cdH1cblxuXHR0ZW1wID0gZG9jLmJvZHkuYXBwZW5kQ2hpbGQoIGRvYy5jcmVhdGVFbGVtZW50KCBub2RlTmFtZSApICk7XG5cdGRpc3BsYXkgPSBqUXVlcnkuY3NzKCB0ZW1wLCBcImRpc3BsYXlcIiApO1xuXG5cdHRlbXAucGFyZW50Tm9kZS5yZW1vdmVDaGlsZCggdGVtcCApO1xuXG5cdGlmICggZGlzcGxheSA9PT0gXCJub25lXCIgKSB7XG5cdFx0ZGlzcGxheSA9IFwiYmxvY2tcIjtcblx0fVxuXHRkZWZhdWx0RGlzcGxheU1hcFsgbm9kZU5hbWUgXSA9IGRpc3BsYXk7XG5cblx0cmV0dXJuIGRpc3BsYXk7XG59XG5cbmZ1bmN0aW9uIHNob3dIaWRlKCBlbGVtZW50cywgc2hvdyApIHtcblx0dmFyIGRpc3BsYXksIGVsZW0sXG5cdFx0dmFsdWVzID0gW10sXG5cdFx0aW5kZXggPSAwLFxuXHRcdGxlbmd0aCA9IGVsZW1lbnRzLmxlbmd0aDtcblxuXHQvLyBEZXRlcm1pbmUgbmV3IGRpc3BsYXkgdmFsdWUgZm9yIGVsZW1lbnRzIHRoYXQgbmVlZCB0byBjaGFuZ2Vcblx0Zm9yICggOyBpbmRleCA8IGxlbmd0aDsgaW5kZXgrKyApIHtcblx0XHRlbGVtID0gZWxlbWVudHNbIGluZGV4IF07XG5cdFx0aWYgKCAhZWxlbS5zdHlsZSApIHtcblx0XHRcdGNvbnRpbnVlO1xuXHRcdH1cblxuXHRcdGRpc3BsYXkgPSBlbGVtLnN0eWxlLmRpc3BsYXk7XG5cdFx0aWYgKCBzaG93ICkge1xuXG5cdFx0XHQvLyBTaW5jZSB3ZSBmb3JjZSB2aXNpYmlsaXR5IHVwb24gY2FzY2FkZS1oaWRkZW4gZWxlbWVudHMsIGFuIGltbWVkaWF0ZSAoYW5kIHNsb3cpXG5cdFx0XHQvLyBjaGVjayBpcyByZXF1aXJlZCBpbiB0aGlzIGZpcnN0IGxvb3AgdW5sZXNzIHdlIGhhdmUgYSBub25lbXB0eSBkaXNwbGF5IHZhbHVlIChlaXRoZXJcblx0XHRcdC8vIGlubGluZSBvciBhYm91dC10by1iZS1yZXN0b3JlZClcblx0XHRcdGlmICggZGlzcGxheSA9PT0gXCJub25lXCIgKSB7XG5cdFx0XHRcdHZhbHVlc1sgaW5kZXggXSA9IGRhdGFQcml2LmdldCggZWxlbSwgXCJkaXNwbGF5XCIgKSB8fCBudWxsO1xuXHRcdFx0XHRpZiAoICF2YWx1ZXNbIGluZGV4IF0gKSB7XG5cdFx0XHRcdFx0ZWxlbS5zdHlsZS5kaXNwbGF5ID0gXCJcIjtcblx0XHRcdFx0fVxuXHRcdFx0fVxuXHRcdFx0aWYgKCBlbGVtLnN0eWxlLmRpc3BsYXkgPT09IFwiXCIgJiYgaXNIaWRkZW5XaXRoaW5UcmVlKCBlbGVtICkgKSB7XG5cdFx0XHRcdHZhbHVlc1sgaW5kZXggXSA9IGdldERlZmF1bHREaXNwbGF5KCBlbGVtICk7XG5cdFx0XHR9XG5cdFx0fSBlbHNlIHtcblx0XHRcdGlmICggZGlzcGxheSAhPT0gXCJub25lXCIgKSB7XG5cdFx0XHRcdHZhbHVlc1sgaW5kZXggXSA9IFwibm9uZVwiO1xuXG5cdFx0XHRcdC8vIFJlbWVtYmVyIHdoYXQgd2UncmUgb3ZlcndyaXRpbmdcblx0XHRcdFx0ZGF0YVByaXYuc2V0KCBlbGVtLCBcImRpc3BsYXlcIiwgZGlzcGxheSApO1xuXHRcdFx0fVxuXHRcdH1cblx0fVxuXG5cdC8vIFNldCB0aGUgZGlzcGxheSBvZiB0aGUgZWxlbWVudHMgaW4gYSBzZWNvbmQgbG9vcCB0byBhdm9pZCBjb25zdGFudCByZWZsb3dcblx0Zm9yICggaW5kZXggPSAwOyBpbmRleCA8IGxlbmd0aDsgaW5kZXgrKyApIHtcblx0XHRpZiAoIHZhbHVlc1sgaW5kZXggXSAhPSBudWxsICkge1xuXHRcdFx0ZWxlbWVudHNbIGluZGV4IF0uc3R5bGUuZGlzcGxheSA9IHZhbHVlc1sgaW5kZXggXTtcblx0XHR9XG5cdH1cblxuXHRyZXR1cm4gZWxlbWVudHM7XG59XG5cbmpRdWVyeS5mbi5leHRlbmQoIHtcblx0c2hvdzogZnVuY3Rpb24oKSB7XG5cdFx0cmV0dXJuIHNob3dIaWRlKCB0aGlzLCB0cnVlICk7XG5cdH0sXG5cdGhpZGU6IGZ1bmN0aW9uKCkge1xuXHRcdHJldHVybiBzaG93SGlkZSggdGhpcyApO1xuXHR9LFxuXHR0b2dnbGU6IGZ1bmN0aW9uKCBzdGF0ZSApIHtcblx0XHRpZiAoIHR5cGVvZiBzdGF0ZSA9PT0gXCJib29sZWFuXCIgKSB7XG5cdFx0XHRyZXR1cm4gc3RhdGUgPyB0aGlzLnNob3coKSA6IHRoaXMuaGlkZSgpO1xuXHRcdH1cblxuXHRcdHJldHVybiB0aGlzLmVhY2goIGZ1bmN0aW9uKCkge1xuXHRcdFx0aWYgKCBpc0hpZGRlbldpdGhpblRyZWUoIHRoaXMgKSApIHtcblx0XHRcdFx0alF1ZXJ5KCB0aGlzICkuc2hvdygpO1xuXHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0alF1ZXJ5KCB0aGlzICkuaGlkZSgpO1xuXHRcdFx0fVxuXHRcdH0gKTtcblx0fVxufSApO1xudmFyIHJjaGVja2FibGVUeXBlID0gKCAvXig/OmNoZWNrYm94fHJhZGlvKSQvaSApO1xuXG52YXIgcnRhZ05hbWUgPSAoIC88KFthLXpdW15cXC9cXDA+XFx4MjBcXHRcXHJcXG5cXGZdKikvaSApO1xuXG52YXIgcnNjcmlwdFR5cGUgPSAoIC9eJHxebW9kdWxlJHxcXC8oPzpqYXZhfGVjbWEpc2NyaXB0L2kgKTtcblxuXG5cbiggZnVuY3Rpb24oKSB7XG5cdHZhciBmcmFnbWVudCA9IGRvY3VtZW50LmNyZWF0ZURvY3VtZW50RnJhZ21lbnQoKSxcblx0XHRkaXYgPSBmcmFnbWVudC5hcHBlbmRDaGlsZCggZG9jdW1lbnQuY3JlYXRlRWxlbWVudCggXCJkaXZcIiApICksXG5cdFx0aW5wdXQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCBcImlucHV0XCIgKTtcblxuXHQvLyBTdXBwb3J0OiBBbmRyb2lkIDQuMCAtIDQuMyBvbmx5XG5cdC8vIENoZWNrIHN0YXRlIGxvc3QgaWYgdGhlIG5hbWUgaXMgc2V0ICgjMTEyMTcpXG5cdC8vIFN1cHBvcnQ6IFdpbmRvd3MgV2ViIEFwcHMgKFdXQSlcblx0Ly8gYG5hbWVgIGFuZCBgdHlwZWAgbXVzdCB1c2UgLnNldEF0dHJpYnV0ZSBmb3IgV1dBICgjMTQ5MDEpXG5cdGlucHV0LnNldEF0dHJpYnV0ZSggXCJ0eXBlXCIsIFwicmFkaW9cIiApO1xuXHRpbnB1dC5zZXRBdHRyaWJ1dGUoIFwiY2hlY2tlZFwiLCBcImNoZWNrZWRcIiApO1xuXHRpbnB1dC5zZXRBdHRyaWJ1dGUoIFwibmFtZVwiLCBcInRcIiApO1xuXG5cdGRpdi5hcHBlbmRDaGlsZCggaW5wdXQgKTtcblxuXHQvLyBTdXBwb3J0OiBBbmRyb2lkIDw9NC4xIG9ubHlcblx0Ly8gT2xkZXIgV2ViS2l0IGRvZXNuJ3QgY2xvbmUgY2hlY2tlZCBzdGF0ZSBjb3JyZWN0bHkgaW4gZnJhZ21lbnRzXG5cdHN1cHBvcnQuY2hlY2tDbG9uZSA9IGRpdi5jbG9uZU5vZGUoIHRydWUgKS5jbG9uZU5vZGUoIHRydWUgKS5sYXN0Q2hpbGQuY2hlY2tlZDtcblxuXHQvLyBTdXBwb3J0OiBJRSA8PTExIG9ubHlcblx0Ly8gTWFrZSBzdXJlIHRleHRhcmVhIChhbmQgY2hlY2tib3gpIGRlZmF1bHRWYWx1ZSBpcyBwcm9wZXJseSBjbG9uZWRcblx0ZGl2LmlubmVySFRNTCA9IFwiPHRleHRhcmVhPng8L3RleHRhcmVhPlwiO1xuXHRzdXBwb3J0Lm5vQ2xvbmVDaGVja2VkID0gISFkaXYuY2xvbmVOb2RlKCB0cnVlICkubGFzdENoaWxkLmRlZmF1bHRWYWx1ZTtcblxuXHQvLyBTdXBwb3J0OiBJRSA8PTkgb25seVxuXHQvLyBJRSA8PTkgcmVwbGFjZXMgPG9wdGlvbj4gdGFncyB3aXRoIHRoZWlyIGNvbnRlbnRzIHdoZW4gaW5zZXJ0ZWQgb3V0c2lkZSBvZlxuXHQvLyB0aGUgc2VsZWN0IGVsZW1lbnQuXG5cdGRpdi5pbm5lckhUTUwgPSBcIjxvcHRpb24+PC9vcHRpb24+XCI7XG5cdHN1cHBvcnQub3B0aW9uID0gISFkaXYubGFzdENoaWxkO1xufSApKCk7XG5cblxuLy8gV2UgaGF2ZSB0byBjbG9zZSB0aGVzZSB0YWdzIHRvIHN1cHBvcnQgWEhUTUwgKCMxMzIwMClcbnZhciB3cmFwTWFwID0ge1xuXG5cdC8vIFhIVE1MIHBhcnNlcnMgZG8gbm90IG1hZ2ljYWxseSBpbnNlcnQgZWxlbWVudHMgaW4gdGhlXG5cdC8vIHNhbWUgd2F5IHRoYXQgdGFnIHNvdXAgcGFyc2VycyBkby4gU28gd2UgY2Fubm90IHNob3J0ZW5cblx0Ly8gdGhpcyBieSBvbWl0dGluZyA8dGJvZHk+IG9yIG90aGVyIHJlcXVpcmVkIGVsZW1lbnRzLlxuXHR0aGVhZDogWyAxLCBcIjx0YWJsZT5cIiwgXCI8L3RhYmxlPlwiIF0sXG5cdGNvbDogWyAyLCBcIjx0YWJsZT48Y29sZ3JvdXA+XCIsIFwiPC9jb2xncm91cD48L3RhYmxlPlwiIF0sXG5cdHRyOiBbIDIsIFwiPHRhYmxlPjx0Ym9keT5cIiwgXCI8L3Rib2R5PjwvdGFibGU+XCIgXSxcblx0dGQ6IFsgMywgXCI8dGFibGU+PHRib2R5Pjx0cj5cIiwgXCI8L3RyPjwvdGJvZHk+PC90YWJsZT5cIiBdLFxuXG5cdF9kZWZhdWx0OiBbIDAsIFwiXCIsIFwiXCIgXVxufTtcblxud3JhcE1hcC50Ym9keSA9IHdyYXBNYXAudGZvb3QgPSB3cmFwTWFwLmNvbGdyb3VwID0gd3JhcE1hcC5jYXB0aW9uID0gd3JhcE1hcC50aGVhZDtcbndyYXBNYXAudGggPSB3cmFwTWFwLnRkO1xuXG4vLyBTdXBwb3J0OiBJRSA8PTkgb25seVxuaWYgKCAhc3VwcG9ydC5vcHRpb24gKSB7XG5cdHdyYXBNYXAub3B0Z3JvdXAgPSB3cmFwTWFwLm9wdGlvbiA9IFsgMSwgXCI8c2VsZWN0IG11bHRpcGxlPSdtdWx0aXBsZSc+XCIsIFwiPC9zZWxlY3Q+XCIgXTtcbn1cblxuXG5mdW5jdGlvbiBnZXRBbGwoIGNvbnRleHQsIHRhZyApIHtcblxuXHQvLyBTdXBwb3J0OiBJRSA8PTkgLSAxMSBvbmx5XG5cdC8vIFVzZSB0eXBlb2YgdG8gYXZvaWQgemVyby1hcmd1bWVudCBtZXRob2QgaW52b2NhdGlvbiBvbiBob3N0IG9iamVjdHMgKCMxNTE1MSlcblx0dmFyIHJldDtcblxuXHRpZiAoIHR5cGVvZiBjb250ZXh0LmdldEVsZW1lbnRzQnlUYWdOYW1lICE9PSBcInVuZGVmaW5lZFwiICkge1xuXHRcdHJldCA9IGNvbnRleHQuZ2V0RWxlbWVudHNCeVRhZ05hbWUoIHRhZyB8fCBcIipcIiApO1xuXG5cdH0gZWxzZSBpZiAoIHR5cGVvZiBjb250ZXh0LnF1ZXJ5U2VsZWN0b3JBbGwgIT09IFwidW5kZWZpbmVkXCIgKSB7XG5cdFx0cmV0ID0gY29udGV4dC5xdWVyeVNlbGVjdG9yQWxsKCB0YWcgfHwgXCIqXCIgKTtcblxuXHR9IGVsc2Uge1xuXHRcdHJldCA9IFtdO1xuXHR9XG5cblx0aWYgKCB0YWcgPT09IHVuZGVmaW5lZCB8fCB0YWcgJiYgbm9kZU5hbWUoIGNvbnRleHQsIHRhZyApICkge1xuXHRcdHJldHVybiBqUXVlcnkubWVyZ2UoIFsgY29udGV4dCBdLCByZXQgKTtcblx0fVxuXG5cdHJldHVybiByZXQ7XG59XG5cblxuLy8gTWFyayBzY3JpcHRzIGFzIGhhdmluZyBhbHJlYWR5IGJlZW4gZXZhbHVhdGVkXG5mdW5jdGlvbiBzZXRHbG9iYWxFdmFsKCBlbGVtcywgcmVmRWxlbWVudHMgKSB7XG5cdHZhciBpID0gMCxcblx0XHRsID0gZWxlbXMubGVuZ3RoO1xuXG5cdGZvciAoIDsgaSA8IGw7IGkrKyApIHtcblx0XHRkYXRhUHJpdi5zZXQoXG5cdFx0XHRlbGVtc1sgaSBdLFxuXHRcdFx0XCJnbG9iYWxFdmFsXCIsXG5cdFx0XHQhcmVmRWxlbWVudHMgfHwgZGF0YVByaXYuZ2V0KCByZWZFbGVtZW50c1sgaSBdLCBcImdsb2JhbEV2YWxcIiApXG5cdFx0KTtcblx0fVxufVxuXG5cbnZhciByaHRtbCA9IC88fCYjP1xcdys7LztcblxuZnVuY3Rpb24gYnVpbGRGcmFnbWVudCggZWxlbXMsIGNvbnRleHQsIHNjcmlwdHMsIHNlbGVjdGlvbiwgaWdub3JlZCApIHtcblx0dmFyIGVsZW0sIHRtcCwgdGFnLCB3cmFwLCBhdHRhY2hlZCwgaixcblx0XHRmcmFnbWVudCA9IGNvbnRleHQuY3JlYXRlRG9jdW1lbnRGcmFnbWVudCgpLFxuXHRcdG5vZGVzID0gW10sXG5cdFx0aSA9IDAsXG5cdFx0bCA9IGVsZW1zLmxlbmd0aDtcblxuXHRmb3IgKCA7IGkgPCBsOyBpKysgKSB7XG5cdFx0ZWxlbSA9IGVsZW1zWyBpIF07XG5cblx0XHRpZiAoIGVsZW0gfHwgZWxlbSA9PT0gMCApIHtcblxuXHRcdFx0Ly8gQWRkIG5vZGVzIGRpcmVjdGx5XG5cdFx0XHRpZiAoIHRvVHlwZSggZWxlbSApID09PSBcIm9iamVjdFwiICkge1xuXG5cdFx0XHRcdC8vIFN1cHBvcnQ6IEFuZHJvaWQgPD00LjAgb25seSwgUGhhbnRvbUpTIDEgb25seVxuXHRcdFx0XHQvLyBwdXNoLmFwcGx5KF8sIGFycmF5bGlrZSkgdGhyb3dzIG9uIGFuY2llbnQgV2ViS2l0XG5cdFx0XHRcdGpRdWVyeS5tZXJnZSggbm9kZXMsIGVsZW0ubm9kZVR5cGUgPyBbIGVsZW0gXSA6IGVsZW0gKTtcblxuXHRcdFx0Ly8gQ29udmVydCBub24taHRtbCBpbnRvIGEgdGV4dCBub2RlXG5cdFx0XHR9IGVsc2UgaWYgKCAhcmh0bWwudGVzdCggZWxlbSApICkge1xuXHRcdFx0XHRub2Rlcy5wdXNoKCBjb250ZXh0LmNyZWF0ZVRleHROb2RlKCBlbGVtICkgKTtcblxuXHRcdFx0Ly8gQ29udmVydCBodG1sIGludG8gRE9NIG5vZGVzXG5cdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHR0bXAgPSB0bXAgfHwgZnJhZ21lbnQuYXBwZW5kQ2hpbGQoIGNvbnRleHQuY3JlYXRlRWxlbWVudCggXCJkaXZcIiApICk7XG5cblx0XHRcdFx0Ly8gRGVzZXJpYWxpemUgYSBzdGFuZGFyZCByZXByZXNlbnRhdGlvblxuXHRcdFx0XHR0YWcgPSAoIHJ0YWdOYW1lLmV4ZWMoIGVsZW0gKSB8fCBbIFwiXCIsIFwiXCIgXSApWyAxIF0udG9Mb3dlckNhc2UoKTtcblx0XHRcdFx0d3JhcCA9IHdyYXBNYXBbIHRhZyBdIHx8IHdyYXBNYXAuX2RlZmF1bHQ7XG5cdFx0XHRcdHRtcC5pbm5lckhUTUwgPSB3cmFwWyAxIF0gKyBqUXVlcnkuaHRtbFByZWZpbHRlciggZWxlbSApICsgd3JhcFsgMiBdO1xuXG5cdFx0XHRcdC8vIERlc2NlbmQgdGhyb3VnaCB3cmFwcGVycyB0byB0aGUgcmlnaHQgY29udGVudFxuXHRcdFx0XHRqID0gd3JhcFsgMCBdO1xuXHRcdFx0XHR3aGlsZSAoIGotLSApIHtcblx0XHRcdFx0XHR0bXAgPSB0bXAubGFzdENoaWxkO1xuXHRcdFx0XHR9XG5cblx0XHRcdFx0Ly8gU3VwcG9ydDogQW5kcm9pZCA8PTQuMCBvbmx5LCBQaGFudG9tSlMgMSBvbmx5XG5cdFx0XHRcdC8vIHB1c2guYXBwbHkoXywgYXJyYXlsaWtlKSB0aHJvd3Mgb24gYW5jaWVudCBXZWJLaXRcblx0XHRcdFx0alF1ZXJ5Lm1lcmdlKCBub2RlcywgdG1wLmNoaWxkTm9kZXMgKTtcblxuXHRcdFx0XHQvLyBSZW1lbWJlciB0aGUgdG9wLWxldmVsIGNvbnRhaW5lclxuXHRcdFx0XHR0bXAgPSBmcmFnbWVudC5maXJzdENoaWxkO1xuXG5cdFx0XHRcdC8vIEVuc3VyZSB0aGUgY3JlYXRlZCBub2RlcyBhcmUgb3JwaGFuZWQgKCMxMjM5Milcblx0XHRcdFx0dG1wLnRleHRDb250ZW50ID0gXCJcIjtcblx0XHRcdH1cblx0XHR9XG5cdH1cblxuXHQvLyBSZW1vdmUgd3JhcHBlciBmcm9tIGZyYWdtZW50XG5cdGZyYWdtZW50LnRleHRDb250ZW50ID0gXCJcIjtcblxuXHRpID0gMDtcblx0d2hpbGUgKCAoIGVsZW0gPSBub2Rlc1sgaSsrIF0gKSApIHtcblxuXHRcdC8vIFNraXAgZWxlbWVudHMgYWxyZWFkeSBpbiB0aGUgY29udGV4dCBjb2xsZWN0aW9uICh0cmFjLTQwODcpXG5cdFx0aWYgKCBzZWxlY3Rpb24gJiYgalF1ZXJ5LmluQXJyYXkoIGVsZW0sIHNlbGVjdGlvbiApID4gLTEgKSB7XG5cdFx0XHRpZiAoIGlnbm9yZWQgKSB7XG5cdFx0XHRcdGlnbm9yZWQucHVzaCggZWxlbSApO1xuXHRcdFx0fVxuXHRcdFx0Y29udGludWU7XG5cdFx0fVxuXG5cdFx0YXR0YWNoZWQgPSBpc0F0dGFjaGVkKCBlbGVtICk7XG5cblx0XHQvLyBBcHBlbmQgdG8gZnJhZ21lbnRcblx0XHR0bXAgPSBnZXRBbGwoIGZyYWdtZW50LmFwcGVuZENoaWxkKCBlbGVtICksIFwic2NyaXB0XCIgKTtcblxuXHRcdC8vIFByZXNlcnZlIHNjcmlwdCBldmFsdWF0aW9uIGhpc3Rvcnlcblx0XHRpZiAoIGF0dGFjaGVkICkge1xuXHRcdFx0c2V0R2xvYmFsRXZhbCggdG1wICk7XG5cdFx0fVxuXG5cdFx0Ly8gQ2FwdHVyZSBleGVjdXRhYmxlc1xuXHRcdGlmICggc2NyaXB0cyApIHtcblx0XHRcdGogPSAwO1xuXHRcdFx0d2hpbGUgKCAoIGVsZW0gPSB0bXBbIGorKyBdICkgKSB7XG5cdFx0XHRcdGlmICggcnNjcmlwdFR5cGUudGVzdCggZWxlbS50eXBlIHx8IFwiXCIgKSApIHtcblx0XHRcdFx0XHRzY3JpcHRzLnB1c2goIGVsZW0gKTtcblx0XHRcdFx0fVxuXHRcdFx0fVxuXHRcdH1cblx0fVxuXG5cdHJldHVybiBmcmFnbWVudDtcbn1cblxuXG52YXJcblx0cmtleUV2ZW50ID0gL15rZXkvLFxuXHRybW91c2VFdmVudCA9IC9eKD86bW91c2V8cG9pbnRlcnxjb250ZXh0bWVudXxkcmFnfGRyb3ApfGNsaWNrLyxcblx0cnR5cGVuYW1lc3BhY2UgPSAvXihbXi5dKikoPzpcXC4oLispfCkvO1xuXG5mdW5jdGlvbiByZXR1cm5UcnVlKCkge1xuXHRyZXR1cm4gdHJ1ZTtcbn1cblxuZnVuY3Rpb24gcmV0dXJuRmFsc2UoKSB7XG5cdHJldHVybiBmYWxzZTtcbn1cblxuLy8gU3VwcG9ydDogSUUgPD05IC0gMTErXG4vLyBmb2N1cygpIGFuZCBibHVyKCkgYXJlIGFzeW5jaHJvbm91cywgZXhjZXB0IHdoZW4gdGhleSBhcmUgbm8tb3AuXG4vLyBTbyBleHBlY3QgZm9jdXMgdG8gYmUgc3luY2hyb25vdXMgd2hlbiB0aGUgZWxlbWVudCBpcyBhbHJlYWR5IGFjdGl2ZSxcbi8vIGFuZCBibHVyIHRvIGJlIHN5bmNocm9ub3VzIHdoZW4gdGhlIGVsZW1lbnQgaXMgbm90IGFscmVhZHkgYWN0aXZlLlxuLy8gKGZvY3VzIGFuZCBibHVyIGFyZSBhbHdheXMgc3luY2hyb25vdXMgaW4gb3RoZXIgc3VwcG9ydGVkIGJyb3dzZXJzLFxuLy8gdGhpcyBqdXN0IGRlZmluZXMgd2hlbiB3ZSBjYW4gY291bnQgb24gaXQpLlxuZnVuY3Rpb24gZXhwZWN0U3luYyggZWxlbSwgdHlwZSApIHtcblx0cmV0dXJuICggZWxlbSA9PT0gc2FmZUFjdGl2ZUVsZW1lbnQoKSApID09PSAoIHR5cGUgPT09IFwiZm9jdXNcIiApO1xufVxuXG4vLyBTdXBwb3J0OiBJRSA8PTkgb25seVxuLy8gQWNjZXNzaW5nIGRvY3VtZW50LmFjdGl2ZUVsZW1lbnQgY2FuIHRocm93IHVuZXhwZWN0ZWRseVxuLy8gaHR0cHM6Ly9idWdzLmpxdWVyeS5jb20vdGlja2V0LzEzMzkzXG5mdW5jdGlvbiBzYWZlQWN0aXZlRWxlbWVudCgpIHtcblx0dHJ5IHtcblx0XHRyZXR1cm4gZG9jdW1lbnQuYWN0aXZlRWxlbWVudDtcblx0fSBjYXRjaCAoIGVyciApIHsgfVxufVxuXG5mdW5jdGlvbiBvbiggZWxlbSwgdHlwZXMsIHNlbGVjdG9yLCBkYXRhLCBmbiwgb25lICkge1xuXHR2YXIgb3JpZ0ZuLCB0eXBlO1xuXG5cdC8vIFR5cGVzIGNhbiBiZSBhIG1hcCBvZiB0eXBlcy9oYW5kbGVyc1xuXHRpZiAoIHR5cGVvZiB0eXBlcyA9PT0gXCJvYmplY3RcIiApIHtcblxuXHRcdC8vICggdHlwZXMtT2JqZWN0LCBzZWxlY3RvciwgZGF0YSApXG5cdFx0aWYgKCB0eXBlb2Ygc2VsZWN0b3IgIT09IFwic3RyaW5nXCIgKSB7XG5cblx0XHRcdC8vICggdHlwZXMtT2JqZWN0LCBkYXRhIClcblx0XHRcdGRhdGEgPSBkYXRhIHx8IHNlbGVjdG9yO1xuXHRcdFx0c2VsZWN0b3IgPSB1bmRlZmluZWQ7XG5cdFx0fVxuXHRcdGZvciAoIHR5cGUgaW4gdHlwZXMgKSB7XG5cdFx0XHRvbiggZWxlbSwgdHlwZSwgc2VsZWN0b3IsIGRhdGEsIHR5cGVzWyB0eXBlIF0sIG9uZSApO1xuXHRcdH1cblx0XHRyZXR1cm4gZWxlbTtcblx0fVxuXG5cdGlmICggZGF0YSA9PSBudWxsICYmIGZuID09IG51bGwgKSB7XG5cblx0XHQvLyAoIHR5cGVzLCBmbiApXG5cdFx0Zm4gPSBzZWxlY3Rvcjtcblx0XHRkYXRhID0gc2VsZWN0b3IgPSB1bmRlZmluZWQ7XG5cdH0gZWxzZSBpZiAoIGZuID09IG51bGwgKSB7XG5cdFx0aWYgKCB0eXBlb2Ygc2VsZWN0b3IgPT09IFwic3RyaW5nXCIgKSB7XG5cblx0XHRcdC8vICggdHlwZXMsIHNlbGVjdG9yLCBmbiApXG5cdFx0XHRmbiA9IGRhdGE7XG5cdFx0XHRkYXRhID0gdW5kZWZpbmVkO1xuXHRcdH0gZWxzZSB7XG5cblx0XHRcdC8vICggdHlwZXMsIGRhdGEsIGZuIClcblx0XHRcdGZuID0gZGF0YTtcblx0XHRcdGRhdGEgPSBzZWxlY3Rvcjtcblx0XHRcdHNlbGVjdG9yID0gdW5kZWZpbmVkO1xuXHRcdH1cblx0fVxuXHRpZiAoIGZuID09PSBmYWxzZSApIHtcblx0XHRmbiA9IHJldHVybkZhbHNlO1xuXHR9IGVsc2UgaWYgKCAhZm4gKSB7XG5cdFx0cmV0dXJuIGVsZW07XG5cdH1cblxuXHRpZiAoIG9uZSA9PT0gMSApIHtcblx0XHRvcmlnRm4gPSBmbjtcblx0XHRmbiA9IGZ1bmN0aW9uKCBldmVudCApIHtcblxuXHRcdFx0Ly8gQ2FuIHVzZSBhbiBlbXB0eSBzZXQsIHNpbmNlIGV2ZW50IGNvbnRhaW5zIHRoZSBpbmZvXG5cdFx0XHRqUXVlcnkoKS5vZmYoIGV2ZW50ICk7XG5cdFx0XHRyZXR1cm4gb3JpZ0ZuLmFwcGx5KCB0aGlzLCBhcmd1bWVudHMgKTtcblx0XHR9O1xuXG5cdFx0Ly8gVXNlIHNhbWUgZ3VpZCBzbyBjYWxsZXIgY2FuIHJlbW92ZSB1c2luZyBvcmlnRm5cblx0XHRmbi5ndWlkID0gb3JpZ0ZuLmd1aWQgfHwgKCBvcmlnRm4uZ3VpZCA9IGpRdWVyeS5ndWlkKysgKTtcblx0fVxuXHRyZXR1cm4gZWxlbS5lYWNoKCBmdW5jdGlvbigpIHtcblx0XHRqUXVlcnkuZXZlbnQuYWRkKCB0aGlzLCB0eXBlcywgZm4sIGRhdGEsIHNlbGVjdG9yICk7XG5cdH0gKTtcbn1cblxuLypcbiAqIEhlbHBlciBmdW5jdGlvbnMgZm9yIG1hbmFnaW5nIGV2ZW50cyAtLSBub3QgcGFydCBvZiB0aGUgcHVibGljIGludGVyZmFjZS5cbiAqIFByb3BzIHRvIERlYW4gRWR3YXJkcycgYWRkRXZlbnQgbGlicmFyeSBmb3IgbWFueSBvZiB0aGUgaWRlYXMuXG4gKi9cbmpRdWVyeS5ldmVudCA9IHtcblxuXHRnbG9iYWw6IHt9LFxuXG5cdGFkZDogZnVuY3Rpb24oIGVsZW0sIHR5cGVzLCBoYW5kbGVyLCBkYXRhLCBzZWxlY3RvciApIHtcblxuXHRcdHZhciBoYW5kbGVPYmpJbiwgZXZlbnRIYW5kbGUsIHRtcCxcblx0XHRcdGV2ZW50cywgdCwgaGFuZGxlT2JqLFxuXHRcdFx0c3BlY2lhbCwgaGFuZGxlcnMsIHR5cGUsIG5hbWVzcGFjZXMsIG9yaWdUeXBlLFxuXHRcdFx0ZWxlbURhdGEgPSBkYXRhUHJpdi5nZXQoIGVsZW0gKTtcblxuXHRcdC8vIE9ubHkgYXR0YWNoIGV2ZW50cyB0byBvYmplY3RzIHRoYXQgYWNjZXB0IGRhdGFcblx0XHRpZiAoICFhY2NlcHREYXRhKCBlbGVtICkgKSB7XG5cdFx0XHRyZXR1cm47XG5cdFx0fVxuXG5cdFx0Ly8gQ2FsbGVyIGNhbiBwYXNzIGluIGFuIG9iamVjdCBvZiBjdXN0b20gZGF0YSBpbiBsaWV1IG9mIHRoZSBoYW5kbGVyXG5cdFx0aWYgKCBoYW5kbGVyLmhhbmRsZXIgKSB7XG5cdFx0XHRoYW5kbGVPYmpJbiA9IGhhbmRsZXI7XG5cdFx0XHRoYW5kbGVyID0gaGFuZGxlT2JqSW4uaGFuZGxlcjtcblx0XHRcdHNlbGVjdG9yID0gaGFuZGxlT2JqSW4uc2VsZWN0b3I7XG5cdFx0fVxuXG5cdFx0Ly8gRW5zdXJlIHRoYXQgaW52YWxpZCBzZWxlY3RvcnMgdGhyb3cgZXhjZXB0aW9ucyBhdCBhdHRhY2ggdGltZVxuXHRcdC8vIEV2YWx1YXRlIGFnYWluc3QgZG9jdW1lbnRFbGVtZW50IGluIGNhc2UgZWxlbSBpcyBhIG5vbi1lbGVtZW50IG5vZGUgKGUuZy4sIGRvY3VtZW50KVxuXHRcdGlmICggc2VsZWN0b3IgKSB7XG5cdFx0XHRqUXVlcnkuZmluZC5tYXRjaGVzU2VsZWN0b3IoIGRvY3VtZW50RWxlbWVudCwgc2VsZWN0b3IgKTtcblx0XHR9XG5cblx0XHQvLyBNYWtlIHN1cmUgdGhhdCB0aGUgaGFuZGxlciBoYXMgYSB1bmlxdWUgSUQsIHVzZWQgdG8gZmluZC9yZW1vdmUgaXQgbGF0ZXJcblx0XHRpZiAoICFoYW5kbGVyLmd1aWQgKSB7XG5cdFx0XHRoYW5kbGVyLmd1aWQgPSBqUXVlcnkuZ3VpZCsrO1xuXHRcdH1cblxuXHRcdC8vIEluaXQgdGhlIGVsZW1lbnQncyBldmVudCBzdHJ1Y3R1cmUgYW5kIG1haW4gaGFuZGxlciwgaWYgdGhpcyBpcyB0aGUgZmlyc3Rcblx0XHRpZiAoICEoIGV2ZW50cyA9IGVsZW1EYXRhLmV2ZW50cyApICkge1xuXHRcdFx0ZXZlbnRzID0gZWxlbURhdGEuZXZlbnRzID0gT2JqZWN0LmNyZWF0ZSggbnVsbCApO1xuXHRcdH1cblx0XHRpZiAoICEoIGV2ZW50SGFuZGxlID0gZWxlbURhdGEuaGFuZGxlICkgKSB7XG5cdFx0XHRldmVudEhhbmRsZSA9IGVsZW1EYXRhLmhhbmRsZSA9IGZ1bmN0aW9uKCBlICkge1xuXG5cdFx0XHRcdC8vIERpc2NhcmQgdGhlIHNlY29uZCBldmVudCBvZiBhIGpRdWVyeS5ldmVudC50cmlnZ2VyKCkgYW5kXG5cdFx0XHRcdC8vIHdoZW4gYW4gZXZlbnQgaXMgY2FsbGVkIGFmdGVyIGEgcGFnZSBoYXMgdW5sb2FkZWRcblx0XHRcdFx0cmV0dXJuIHR5cGVvZiBqUXVlcnkgIT09IFwidW5kZWZpbmVkXCIgJiYgalF1ZXJ5LmV2ZW50LnRyaWdnZXJlZCAhPT0gZS50eXBlID9cblx0XHRcdFx0XHRqUXVlcnkuZXZlbnQuZGlzcGF0Y2guYXBwbHkoIGVsZW0sIGFyZ3VtZW50cyApIDogdW5kZWZpbmVkO1xuXHRcdFx0fTtcblx0XHR9XG5cblx0XHQvLyBIYW5kbGUgbXVsdGlwbGUgZXZlbnRzIHNlcGFyYXRlZCBieSBhIHNwYWNlXG5cdFx0dHlwZXMgPSAoIHR5cGVzIHx8IFwiXCIgKS5tYXRjaCggcm5vdGh0bWx3aGl0ZSApIHx8IFsgXCJcIiBdO1xuXHRcdHQgPSB0eXBlcy5sZW5ndGg7XG5cdFx0d2hpbGUgKCB0LS0gKSB7XG5cdFx0XHR0bXAgPSBydHlwZW5hbWVzcGFjZS5leGVjKCB0eXBlc1sgdCBdICkgfHwgW107XG5cdFx0XHR0eXBlID0gb3JpZ1R5cGUgPSB0bXBbIDEgXTtcblx0XHRcdG5hbWVzcGFjZXMgPSAoIHRtcFsgMiBdIHx8IFwiXCIgKS5zcGxpdCggXCIuXCIgKS5zb3J0KCk7XG5cblx0XHRcdC8vIFRoZXJlICptdXN0KiBiZSBhIHR5cGUsIG5vIGF0dGFjaGluZyBuYW1lc3BhY2Utb25seSBoYW5kbGVyc1xuXHRcdFx0aWYgKCAhdHlwZSApIHtcblx0XHRcdFx0Y29udGludWU7XG5cdFx0XHR9XG5cblx0XHRcdC8vIElmIGV2ZW50IGNoYW5nZXMgaXRzIHR5cGUsIHVzZSB0aGUgc3BlY2lhbCBldmVudCBoYW5kbGVycyBmb3IgdGhlIGNoYW5nZWQgdHlwZVxuXHRcdFx0c3BlY2lhbCA9IGpRdWVyeS5ldmVudC5zcGVjaWFsWyB0eXBlIF0gfHwge307XG5cblx0XHRcdC8vIElmIHNlbGVjdG9yIGRlZmluZWQsIGRldGVybWluZSBzcGVjaWFsIGV2ZW50IGFwaSB0eXBlLCBvdGhlcndpc2UgZ2l2ZW4gdHlwZVxuXHRcdFx0dHlwZSA9ICggc2VsZWN0b3IgPyBzcGVjaWFsLmRlbGVnYXRlVHlwZSA6IHNwZWNpYWwuYmluZFR5cGUgKSB8fCB0eXBlO1xuXG5cdFx0XHQvLyBVcGRhdGUgc3BlY2lhbCBiYXNlZCBvbiBuZXdseSByZXNldCB0eXBlXG5cdFx0XHRzcGVjaWFsID0galF1ZXJ5LmV2ZW50LnNwZWNpYWxbIHR5cGUgXSB8fCB7fTtcblxuXHRcdFx0Ly8gaGFuZGxlT2JqIGlzIHBhc3NlZCB0byBhbGwgZXZlbnQgaGFuZGxlcnNcblx0XHRcdGhhbmRsZU9iaiA9IGpRdWVyeS5leHRlbmQoIHtcblx0XHRcdFx0dHlwZTogdHlwZSxcblx0XHRcdFx0b3JpZ1R5cGU6IG9yaWdUeXBlLFxuXHRcdFx0XHRkYXRhOiBkYXRhLFxuXHRcdFx0XHRoYW5kbGVyOiBoYW5kbGVyLFxuXHRcdFx0XHRndWlkOiBoYW5kbGVyLmd1aWQsXG5cdFx0XHRcdHNlbGVjdG9yOiBzZWxlY3Rvcixcblx0XHRcdFx0bmVlZHNDb250ZXh0OiBzZWxlY3RvciAmJiBqUXVlcnkuZXhwci5tYXRjaC5uZWVkc0NvbnRleHQudGVzdCggc2VsZWN0b3IgKSxcblx0XHRcdFx0bmFtZXNwYWNlOiBuYW1lc3BhY2VzLmpvaW4oIFwiLlwiIClcblx0XHRcdH0sIGhhbmRsZU9iakluICk7XG5cblx0XHRcdC8vIEluaXQgdGhlIGV2ZW50IGhhbmRsZXIgcXVldWUgaWYgd2UncmUgdGhlIGZpcnN0XG5cdFx0XHRpZiAoICEoIGhhbmRsZXJzID0gZXZlbnRzWyB0eXBlIF0gKSApIHtcblx0XHRcdFx0aGFuZGxlcnMgPSBldmVudHNbIHR5cGUgXSA9IFtdO1xuXHRcdFx0XHRoYW5kbGVycy5kZWxlZ2F0ZUNvdW50ID0gMDtcblxuXHRcdFx0XHQvLyBPbmx5IHVzZSBhZGRFdmVudExpc3RlbmVyIGlmIHRoZSBzcGVjaWFsIGV2ZW50cyBoYW5kbGVyIHJldHVybnMgZmFsc2Vcblx0XHRcdFx0aWYgKCAhc3BlY2lhbC5zZXR1cCB8fFxuXHRcdFx0XHRcdHNwZWNpYWwuc2V0dXAuY2FsbCggZWxlbSwgZGF0YSwgbmFtZXNwYWNlcywgZXZlbnRIYW5kbGUgKSA9PT0gZmFsc2UgKSB7XG5cblx0XHRcdFx0XHRpZiAoIGVsZW0uYWRkRXZlbnRMaXN0ZW5lciApIHtcblx0XHRcdFx0XHRcdGVsZW0uYWRkRXZlbnRMaXN0ZW5lciggdHlwZSwgZXZlbnRIYW5kbGUgKTtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdH1cblx0XHRcdH1cblxuXHRcdFx0aWYgKCBzcGVjaWFsLmFkZCApIHtcblx0XHRcdFx0c3BlY2lhbC5hZGQuY2FsbCggZWxlbSwgaGFuZGxlT2JqICk7XG5cblx0XHRcdFx0aWYgKCAhaGFuZGxlT2JqLmhhbmRsZXIuZ3VpZCApIHtcblx0XHRcdFx0XHRoYW5kbGVPYmouaGFuZGxlci5ndWlkID0gaGFuZGxlci5ndWlkO1xuXHRcdFx0XHR9XG5cdFx0XHR9XG5cblx0XHRcdC8vIEFkZCB0byB0aGUgZWxlbWVudCdzIGhhbmRsZXIgbGlzdCwgZGVsZWdhdGVzIGluIGZyb250XG5cdFx0XHRpZiAoIHNlbGVjdG9yICkge1xuXHRcdFx0XHRoYW5kbGVycy5zcGxpY2UoIGhhbmRsZXJzLmRlbGVnYXRlQ291bnQrKywgMCwgaGFuZGxlT2JqICk7XG5cdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRoYW5kbGVycy5wdXNoKCBoYW5kbGVPYmogKTtcblx0XHRcdH1cblxuXHRcdFx0Ly8gS2VlcCB0cmFjayBvZiB3aGljaCBldmVudHMgaGF2ZSBldmVyIGJlZW4gdXNlZCwgZm9yIGV2ZW50IG9wdGltaXphdGlvblxuXHRcdFx0alF1ZXJ5LmV2ZW50Lmdsb2JhbFsgdHlwZSBdID0gdHJ1ZTtcblx0XHR9XG5cblx0fSxcblxuXHQvLyBEZXRhY2ggYW4gZXZlbnQgb3Igc2V0IG9mIGV2ZW50cyBmcm9tIGFuIGVsZW1lbnRcblx0cmVtb3ZlOiBmdW5jdGlvbiggZWxlbSwgdHlwZXMsIGhhbmRsZXIsIHNlbGVjdG9yLCBtYXBwZWRUeXBlcyApIHtcblxuXHRcdHZhciBqLCBvcmlnQ291bnQsIHRtcCxcblx0XHRcdGV2ZW50cywgdCwgaGFuZGxlT2JqLFxuXHRcdFx0c3BlY2lhbCwgaGFuZGxlcnMsIHR5cGUsIG5hbWVzcGFjZXMsIG9yaWdUeXBlLFxuXHRcdFx0ZWxlbURhdGEgPSBkYXRhUHJpdi5oYXNEYXRhKCBlbGVtICkgJiYgZGF0YVByaXYuZ2V0KCBlbGVtICk7XG5cblx0XHRpZiAoICFlbGVtRGF0YSB8fCAhKCBldmVudHMgPSBlbGVtRGF0YS5ldmVudHMgKSApIHtcblx0XHRcdHJldHVybjtcblx0XHR9XG5cblx0XHQvLyBPbmNlIGZvciBlYWNoIHR5cGUubmFtZXNwYWNlIGluIHR5cGVzOyB0eXBlIG1heSBiZSBvbWl0dGVkXG5cdFx0dHlwZXMgPSAoIHR5cGVzIHx8IFwiXCIgKS5tYXRjaCggcm5vdGh0bWx3aGl0ZSApIHx8IFsgXCJcIiBdO1xuXHRcdHQgPSB0eXBlcy5sZW5ndGg7XG5cdFx0d2hpbGUgKCB0LS0gKSB7XG5cdFx0XHR0bXAgPSBydHlwZW5hbWVzcGFjZS5leGVjKCB0eXBlc1sgdCBdICkgfHwgW107XG5cdFx0XHR0eXBlID0gb3JpZ1R5cGUgPSB0bXBbIDEgXTtcblx0XHRcdG5hbWVzcGFjZXMgPSAoIHRtcFsgMiBdIHx8IFwiXCIgKS5zcGxpdCggXCIuXCIgKS5zb3J0KCk7XG5cblx0XHRcdC8vIFVuYmluZCBhbGwgZXZlbnRzIChvbiB0aGlzIG5hbWVzcGFjZSwgaWYgcHJvdmlkZWQpIGZvciB0aGUgZWxlbWVudFxuXHRcdFx0aWYgKCAhdHlwZSApIHtcblx0XHRcdFx0Zm9yICggdHlwZSBpbiBldmVudHMgKSB7XG5cdFx0XHRcdFx0alF1ZXJ5LmV2ZW50LnJlbW92ZSggZWxlbSwgdHlwZSArIHR5cGVzWyB0IF0sIGhhbmRsZXIsIHNlbGVjdG9yLCB0cnVlICk7XG5cdFx0XHRcdH1cblx0XHRcdFx0Y29udGludWU7XG5cdFx0XHR9XG5cblx0XHRcdHNwZWNpYWwgPSBqUXVlcnkuZXZlbnQuc3BlY2lhbFsgdHlwZSBdIHx8IHt9O1xuXHRcdFx0dHlwZSA9ICggc2VsZWN0b3IgPyBzcGVjaWFsLmRlbGVnYXRlVHlwZSA6IHNwZWNpYWwuYmluZFR5cGUgKSB8fCB0eXBlO1xuXHRcdFx0aGFuZGxlcnMgPSBldmVudHNbIHR5cGUgXSB8fCBbXTtcblx0XHRcdHRtcCA9IHRtcFsgMiBdICYmXG5cdFx0XHRcdG5ldyBSZWdFeHAoIFwiKF58XFxcXC4pXCIgKyBuYW1lc3BhY2VzLmpvaW4oIFwiXFxcXC4oPzouKlxcXFwufClcIiApICsgXCIoXFxcXC58JClcIiApO1xuXG5cdFx0XHQvLyBSZW1vdmUgbWF0Y2hpbmcgZXZlbnRzXG5cdFx0XHRvcmlnQ291bnQgPSBqID0gaGFuZGxlcnMubGVuZ3RoO1xuXHRcdFx0d2hpbGUgKCBqLS0gKSB7XG5cdFx0XHRcdGhhbmRsZU9iaiA9IGhhbmRsZXJzWyBqIF07XG5cblx0XHRcdFx0aWYgKCAoIG1hcHBlZFR5cGVzIHx8IG9yaWdUeXBlID09PSBoYW5kbGVPYmoub3JpZ1R5cGUgKSAmJlxuXHRcdFx0XHRcdCggIWhhbmRsZXIgfHwgaGFuZGxlci5ndWlkID09PSBoYW5kbGVPYmouZ3VpZCApICYmXG5cdFx0XHRcdFx0KCAhdG1wIHx8IHRtcC50ZXN0KCBoYW5kbGVPYmoubmFtZXNwYWNlICkgKSAmJlxuXHRcdFx0XHRcdCggIXNlbGVjdG9yIHx8IHNlbGVjdG9yID09PSBoYW5kbGVPYmouc2VsZWN0b3IgfHxcblx0XHRcdFx0XHRcdHNlbGVjdG9yID09PSBcIioqXCIgJiYgaGFuZGxlT2JqLnNlbGVjdG9yICkgKSB7XG5cdFx0XHRcdFx0aGFuZGxlcnMuc3BsaWNlKCBqLCAxICk7XG5cblx0XHRcdFx0XHRpZiAoIGhhbmRsZU9iai5zZWxlY3RvciApIHtcblx0XHRcdFx0XHRcdGhhbmRsZXJzLmRlbGVnYXRlQ291bnQtLTtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0aWYgKCBzcGVjaWFsLnJlbW92ZSApIHtcblx0XHRcdFx0XHRcdHNwZWNpYWwucmVtb3ZlLmNhbGwoIGVsZW0sIGhhbmRsZU9iaiApO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0fVxuXHRcdFx0fVxuXG5cdFx0XHQvLyBSZW1vdmUgZ2VuZXJpYyBldmVudCBoYW5kbGVyIGlmIHdlIHJlbW92ZWQgc29tZXRoaW5nIGFuZCBubyBtb3JlIGhhbmRsZXJzIGV4aXN0XG5cdFx0XHQvLyAoYXZvaWRzIHBvdGVudGlhbCBmb3IgZW5kbGVzcyByZWN1cnNpb24gZHVyaW5nIHJlbW92YWwgb2Ygc3BlY2lhbCBldmVudCBoYW5kbGVycylcblx0XHRcdGlmICggb3JpZ0NvdW50ICYmICFoYW5kbGVycy5sZW5ndGggKSB7XG5cdFx0XHRcdGlmICggIXNwZWNpYWwudGVhcmRvd24gfHxcblx0XHRcdFx0XHRzcGVjaWFsLnRlYXJkb3duLmNhbGwoIGVsZW0sIG5hbWVzcGFjZXMsIGVsZW1EYXRhLmhhbmRsZSApID09PSBmYWxzZSApIHtcblxuXHRcdFx0XHRcdGpRdWVyeS5yZW1vdmVFdmVudCggZWxlbSwgdHlwZSwgZWxlbURhdGEuaGFuZGxlICk7XG5cdFx0XHRcdH1cblxuXHRcdFx0XHRkZWxldGUgZXZlbnRzWyB0eXBlIF07XG5cdFx0XHR9XG5cdFx0fVxuXG5cdFx0Ly8gUmVtb3ZlIGRhdGEgYW5kIHRoZSBleHBhbmRvIGlmIGl0J3Mgbm8gbG9uZ2VyIHVzZWRcblx0XHRpZiAoIGpRdWVyeS5pc0VtcHR5T2JqZWN0KCBldmVudHMgKSApIHtcblx0XHRcdGRhdGFQcml2LnJlbW92ZSggZWxlbSwgXCJoYW5kbGUgZXZlbnRzXCIgKTtcblx0XHR9XG5cdH0sXG5cblx0ZGlzcGF0Y2g6IGZ1bmN0aW9uKCBuYXRpdmVFdmVudCApIHtcblxuXHRcdHZhciBpLCBqLCByZXQsIG1hdGNoZWQsIGhhbmRsZU9iaiwgaGFuZGxlclF1ZXVlLFxuXHRcdFx0YXJncyA9IG5ldyBBcnJheSggYXJndW1lbnRzLmxlbmd0aCApLFxuXG5cdFx0XHQvLyBNYWtlIGEgd3JpdGFibGUgalF1ZXJ5LkV2ZW50IGZyb20gdGhlIG5hdGl2ZSBldmVudCBvYmplY3Rcblx0XHRcdGV2ZW50ID0galF1ZXJ5LmV2ZW50LmZpeCggbmF0aXZlRXZlbnQgKSxcblxuXHRcdFx0aGFuZGxlcnMgPSAoXG5cdFx0XHRcdFx0ZGF0YVByaXYuZ2V0KCB0aGlzLCBcImV2ZW50c1wiICkgfHwgT2JqZWN0LmNyZWF0ZSggbnVsbCApXG5cdFx0XHRcdClbIGV2ZW50LnR5cGUgXSB8fCBbXSxcblx0XHRcdHNwZWNpYWwgPSBqUXVlcnkuZXZlbnQuc3BlY2lhbFsgZXZlbnQudHlwZSBdIHx8IHt9O1xuXG5cdFx0Ly8gVXNlIHRoZSBmaXgtZWQgalF1ZXJ5LkV2ZW50IHJhdGhlciB0aGFuIHRoZSAocmVhZC1vbmx5KSBuYXRpdmUgZXZlbnRcblx0XHRhcmdzWyAwIF0gPSBldmVudDtcblxuXHRcdGZvciAoIGkgPSAxOyBpIDwgYXJndW1lbnRzLmxlbmd0aDsgaSsrICkge1xuXHRcdFx0YXJnc1sgaSBdID0gYXJndW1lbnRzWyBpIF07XG5cdFx0fVxuXG5cdFx0ZXZlbnQuZGVsZWdhdGVUYXJnZXQgPSB0aGlzO1xuXG5cdFx0Ly8gQ2FsbCB0aGUgcHJlRGlzcGF0Y2ggaG9vayBmb3IgdGhlIG1hcHBlZCB0eXBlLCBhbmQgbGV0IGl0IGJhaWwgaWYgZGVzaXJlZFxuXHRcdGlmICggc3BlY2lhbC5wcmVEaXNwYXRjaCAmJiBzcGVjaWFsLnByZURpc3BhdGNoLmNhbGwoIHRoaXMsIGV2ZW50ICkgPT09IGZhbHNlICkge1xuXHRcdFx0cmV0dXJuO1xuXHRcdH1cblxuXHRcdC8vIERldGVybWluZSBoYW5kbGVyc1xuXHRcdGhhbmRsZXJRdWV1ZSA9IGpRdWVyeS5ldmVudC5oYW5kbGVycy5jYWxsKCB0aGlzLCBldmVudCwgaGFuZGxlcnMgKTtcblxuXHRcdC8vIFJ1biBkZWxlZ2F0ZXMgZmlyc3Q7IHRoZXkgbWF5IHdhbnQgdG8gc3RvcCBwcm9wYWdhdGlvbiBiZW5lYXRoIHVzXG5cdFx0aSA9IDA7XG5cdFx0d2hpbGUgKCAoIG1hdGNoZWQgPSBoYW5kbGVyUXVldWVbIGkrKyBdICkgJiYgIWV2ZW50LmlzUHJvcGFnYXRpb25TdG9wcGVkKCkgKSB7XG5cdFx0XHRldmVudC5jdXJyZW50VGFyZ2V0ID0gbWF0Y2hlZC5lbGVtO1xuXG5cdFx0XHRqID0gMDtcblx0XHRcdHdoaWxlICggKCBoYW5kbGVPYmogPSBtYXRjaGVkLmhhbmRsZXJzWyBqKysgXSApICYmXG5cdFx0XHRcdCFldmVudC5pc0ltbWVkaWF0ZVByb3BhZ2F0aW9uU3RvcHBlZCgpICkge1xuXG5cdFx0XHRcdC8vIElmIHRoZSBldmVudCBpcyBuYW1lc3BhY2VkLCB0aGVuIGVhY2ggaGFuZGxlciBpcyBvbmx5IGludm9rZWQgaWYgaXQgaXNcblx0XHRcdFx0Ly8gc3BlY2lhbGx5IHVuaXZlcnNhbCBvciBpdHMgbmFtZXNwYWNlcyBhcmUgYSBzdXBlcnNldCBvZiB0aGUgZXZlbnQncy5cblx0XHRcdFx0aWYgKCAhZXZlbnQucm5hbWVzcGFjZSB8fCBoYW5kbGVPYmoubmFtZXNwYWNlID09PSBmYWxzZSB8fFxuXHRcdFx0XHRcdGV2ZW50LnJuYW1lc3BhY2UudGVzdCggaGFuZGxlT2JqLm5hbWVzcGFjZSApICkge1xuXG5cdFx0XHRcdFx0ZXZlbnQuaGFuZGxlT2JqID0gaGFuZGxlT2JqO1xuXHRcdFx0XHRcdGV2ZW50LmRhdGEgPSBoYW5kbGVPYmouZGF0YTtcblxuXHRcdFx0XHRcdHJldCA9ICggKCBqUXVlcnkuZXZlbnQuc3BlY2lhbFsgaGFuZGxlT2JqLm9yaWdUeXBlIF0gfHwge30gKS5oYW5kbGUgfHxcblx0XHRcdFx0XHRcdGhhbmRsZU9iai5oYW5kbGVyICkuYXBwbHkoIG1hdGNoZWQuZWxlbSwgYXJncyApO1xuXG5cdFx0XHRcdFx0aWYgKCByZXQgIT09IHVuZGVmaW5lZCApIHtcblx0XHRcdFx0XHRcdGlmICggKCBldmVudC5yZXN1bHQgPSByZXQgKSA9PT0gZmFsc2UgKSB7XG5cdFx0XHRcdFx0XHRcdGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG5cdFx0XHRcdFx0XHRcdGV2ZW50LnN0b3BQcm9wYWdhdGlvbigpO1xuXHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdH1cblx0XHRcdFx0fVxuXHRcdFx0fVxuXHRcdH1cblxuXHRcdC8vIENhbGwgdGhlIHBvc3REaXNwYXRjaCBob29rIGZvciB0aGUgbWFwcGVkIHR5cGVcblx0XHRpZiAoIHNwZWNpYWwucG9zdERpc3BhdGNoICkge1xuXHRcdFx0c3BlY2lhbC5wb3N0RGlzcGF0Y2guY2FsbCggdGhpcywgZXZlbnQgKTtcblx0XHR9XG5cblx0XHRyZXR1cm4gZXZlbnQucmVzdWx0O1xuXHR9LFxuXG5cdGhhbmRsZXJzOiBmdW5jdGlvbiggZXZlbnQsIGhhbmRsZXJzICkge1xuXHRcdHZhciBpLCBoYW5kbGVPYmosIHNlbCwgbWF0Y2hlZEhhbmRsZXJzLCBtYXRjaGVkU2VsZWN0b3JzLFxuXHRcdFx0aGFuZGxlclF1ZXVlID0gW10sXG5cdFx0XHRkZWxlZ2F0ZUNvdW50ID0gaGFuZGxlcnMuZGVsZWdhdGVDb3VudCxcblx0XHRcdGN1ciA9IGV2ZW50LnRhcmdldDtcblxuXHRcdC8vIEZpbmQgZGVsZWdhdGUgaGFuZGxlcnNcblx0XHRpZiAoIGRlbGVnYXRlQ291bnQgJiZcblxuXHRcdFx0Ly8gU3VwcG9ydDogSUUgPD05XG5cdFx0XHQvLyBCbGFjay1ob2xlIFNWRyA8dXNlPiBpbnN0YW5jZSB0cmVlcyAodHJhYy0xMzE4MClcblx0XHRcdGN1ci5ub2RlVHlwZSAmJlxuXG5cdFx0XHQvLyBTdXBwb3J0OiBGaXJlZm94IDw9NDJcblx0XHRcdC8vIFN1cHByZXNzIHNwZWMtdmlvbGF0aW5nIGNsaWNrcyBpbmRpY2F0aW5nIGEgbm9uLXByaW1hcnkgcG9pbnRlciBidXR0b24gKHRyYWMtMzg2MSlcblx0XHRcdC8vIGh0dHBzOi8vd3d3LnczLm9yZy9UUi9ET00tTGV2ZWwtMy1FdmVudHMvI2V2ZW50LXR5cGUtY2xpY2tcblx0XHRcdC8vIFN1cHBvcnQ6IElFIDExIG9ubHlcblx0XHRcdC8vIC4uLmJ1dCBub3QgYXJyb3cga2V5IFwiY2xpY2tzXCIgb2YgcmFkaW8gaW5wdXRzLCB3aGljaCBjYW4gaGF2ZSBgYnV0dG9uYCAtMSAoZ2gtMjM0Mylcblx0XHRcdCEoIGV2ZW50LnR5cGUgPT09IFwiY2xpY2tcIiAmJiBldmVudC5idXR0b24gPj0gMSApICkge1xuXG5cdFx0XHRmb3IgKCA7IGN1ciAhPT0gdGhpczsgY3VyID0gY3VyLnBhcmVudE5vZGUgfHwgdGhpcyApIHtcblxuXHRcdFx0XHQvLyBEb24ndCBjaGVjayBub24tZWxlbWVudHMgKCMxMzIwOClcblx0XHRcdFx0Ly8gRG9uJ3QgcHJvY2VzcyBjbGlja3Mgb24gZGlzYWJsZWQgZWxlbWVudHMgKCM2OTExLCAjODE2NSwgIzExMzgyLCAjMTE3NjQpXG5cdFx0XHRcdGlmICggY3VyLm5vZGVUeXBlID09PSAxICYmICEoIGV2ZW50LnR5cGUgPT09IFwiY2xpY2tcIiAmJiBjdXIuZGlzYWJsZWQgPT09IHRydWUgKSApIHtcblx0XHRcdFx0XHRtYXRjaGVkSGFuZGxlcnMgPSBbXTtcblx0XHRcdFx0XHRtYXRjaGVkU2VsZWN0b3JzID0ge307XG5cdFx0XHRcdFx0Zm9yICggaSA9IDA7IGkgPCBkZWxlZ2F0ZUNvdW50OyBpKysgKSB7XG5cdFx0XHRcdFx0XHRoYW5kbGVPYmogPSBoYW5kbGVyc1sgaSBdO1xuXG5cdFx0XHRcdFx0XHQvLyBEb24ndCBjb25mbGljdCB3aXRoIE9iamVjdC5wcm90b3R5cGUgcHJvcGVydGllcyAoIzEzMjAzKVxuXHRcdFx0XHRcdFx0c2VsID0gaGFuZGxlT2JqLnNlbGVjdG9yICsgXCIgXCI7XG5cblx0XHRcdFx0XHRcdGlmICggbWF0Y2hlZFNlbGVjdG9yc1sgc2VsIF0gPT09IHVuZGVmaW5lZCApIHtcblx0XHRcdFx0XHRcdFx0bWF0Y2hlZFNlbGVjdG9yc1sgc2VsIF0gPSBoYW5kbGVPYmoubmVlZHNDb250ZXh0ID9cblx0XHRcdFx0XHRcdFx0XHRqUXVlcnkoIHNlbCwgdGhpcyApLmluZGV4KCBjdXIgKSA+IC0xIDpcblx0XHRcdFx0XHRcdFx0XHRqUXVlcnkuZmluZCggc2VsLCB0aGlzLCBudWxsLCBbIGN1ciBdICkubGVuZ3RoO1xuXHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdFx0aWYgKCBtYXRjaGVkU2VsZWN0b3JzWyBzZWwgXSApIHtcblx0XHRcdFx0XHRcdFx0bWF0Y2hlZEhhbmRsZXJzLnB1c2goIGhhbmRsZU9iaiApO1xuXHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdH1cblx0XHRcdFx0XHRpZiAoIG1hdGNoZWRIYW5kbGVycy5sZW5ndGggKSB7XG5cdFx0XHRcdFx0XHRoYW5kbGVyUXVldWUucHVzaCggeyBlbGVtOiBjdXIsIGhhbmRsZXJzOiBtYXRjaGVkSGFuZGxlcnMgfSApO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0fVxuXHRcdFx0fVxuXHRcdH1cblxuXHRcdC8vIEFkZCB0aGUgcmVtYWluaW5nIChkaXJlY3RseS1ib3VuZCkgaGFuZGxlcnNcblx0XHRjdXIgPSB0aGlzO1xuXHRcdGlmICggZGVsZWdhdGVDb3VudCA8IGhhbmRsZXJzLmxlbmd0aCApIHtcblx0XHRcdGhhbmRsZXJRdWV1ZS5wdXNoKCB7IGVsZW06IGN1ciwgaGFuZGxlcnM6IGhhbmRsZXJzLnNsaWNlKCBkZWxlZ2F0ZUNvdW50ICkgfSApO1xuXHRcdH1cblxuXHRcdHJldHVybiBoYW5kbGVyUXVldWU7XG5cdH0sXG5cblx0YWRkUHJvcDogZnVuY3Rpb24oIG5hbWUsIGhvb2sgKSB7XG5cdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KCBqUXVlcnkuRXZlbnQucHJvdG90eXBlLCBuYW1lLCB7XG5cdFx0XHRlbnVtZXJhYmxlOiB0cnVlLFxuXHRcdFx0Y29uZmlndXJhYmxlOiB0cnVlLFxuXG5cdFx0XHRnZXQ6IGlzRnVuY3Rpb24oIGhvb2sgKSA/XG5cdFx0XHRcdGZ1bmN0aW9uKCkge1xuXHRcdFx0XHRcdGlmICggdGhpcy5vcmlnaW5hbEV2ZW50ICkge1xuXHRcdFx0XHRcdFx0XHRyZXR1cm4gaG9vayggdGhpcy5vcmlnaW5hbEV2ZW50ICk7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9IDpcblx0XHRcdFx0ZnVuY3Rpb24oKSB7XG5cdFx0XHRcdFx0aWYgKCB0aGlzLm9yaWdpbmFsRXZlbnQgKSB7XG5cdFx0XHRcdFx0XHRcdHJldHVybiB0aGlzLm9yaWdpbmFsRXZlbnRbIG5hbWUgXTtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdH0sXG5cblx0XHRcdHNldDogZnVuY3Rpb24oIHZhbHVlICkge1xuXHRcdFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkoIHRoaXMsIG5hbWUsIHtcblx0XHRcdFx0XHRlbnVtZXJhYmxlOiB0cnVlLFxuXHRcdFx0XHRcdGNvbmZpZ3VyYWJsZTogdHJ1ZSxcblx0XHRcdFx0XHR3cml0YWJsZTogdHJ1ZSxcblx0XHRcdFx0XHR2YWx1ZTogdmFsdWVcblx0XHRcdFx0fSApO1xuXHRcdFx0fVxuXHRcdH0gKTtcblx0fSxcblxuXHRmaXg6IGZ1bmN0aW9uKCBvcmlnaW5hbEV2ZW50ICkge1xuXHRcdHJldHVybiBvcmlnaW5hbEV2ZW50WyBqUXVlcnkuZXhwYW5kbyBdID9cblx0XHRcdG9yaWdpbmFsRXZlbnQgOlxuXHRcdFx0bmV3IGpRdWVyeS5FdmVudCggb3JpZ2luYWxFdmVudCApO1xuXHR9LFxuXG5cdHNwZWNpYWw6IHtcblx0XHRsb2FkOiB7XG5cblx0XHRcdC8vIFByZXZlbnQgdHJpZ2dlcmVkIGltYWdlLmxvYWQgZXZlbnRzIGZyb20gYnViYmxpbmcgdG8gd2luZG93LmxvYWRcblx0XHRcdG5vQnViYmxlOiB0cnVlXG5cdFx0fSxcblx0XHRjbGljazoge1xuXG5cdFx0XHQvLyBVdGlsaXplIG5hdGl2ZSBldmVudCB0byBlbnN1cmUgY29ycmVjdCBzdGF0ZSBmb3IgY2hlY2thYmxlIGlucHV0c1xuXHRcdFx0c2V0dXA6IGZ1bmN0aW9uKCBkYXRhICkge1xuXG5cdFx0XHRcdC8vIEZvciBtdXR1YWwgY29tcHJlc3NpYmlsaXR5IHdpdGggX2RlZmF1bHQsIHJlcGxhY2UgYHRoaXNgIGFjY2VzcyB3aXRoIGEgbG9jYWwgdmFyLlxuXHRcdFx0XHQvLyBgfHwgZGF0YWAgaXMgZGVhZCBjb2RlIG1lYW50IG9ubHkgdG8gcHJlc2VydmUgdGhlIHZhcmlhYmxlIHRocm91Z2ggbWluaWZpY2F0aW9uLlxuXHRcdFx0XHR2YXIgZWwgPSB0aGlzIHx8IGRhdGE7XG5cblx0XHRcdFx0Ly8gQ2xhaW0gdGhlIGZpcnN0IGhhbmRsZXJcblx0XHRcdFx0aWYgKCByY2hlY2thYmxlVHlwZS50ZXN0KCBlbC50eXBlICkgJiZcblx0XHRcdFx0XHRlbC5jbGljayAmJiBub2RlTmFtZSggZWwsIFwiaW5wdXRcIiApICkge1xuXG5cdFx0XHRcdFx0Ly8gZGF0YVByaXYuc2V0KCBlbCwgXCJjbGlja1wiLCAuLi4gKVxuXHRcdFx0XHRcdGxldmVyYWdlTmF0aXZlKCBlbCwgXCJjbGlja1wiLCByZXR1cm5UcnVlICk7XG5cdFx0XHRcdH1cblxuXHRcdFx0XHQvLyBSZXR1cm4gZmFsc2UgdG8gYWxsb3cgbm9ybWFsIHByb2Nlc3NpbmcgaW4gdGhlIGNhbGxlclxuXHRcdFx0XHRyZXR1cm4gZmFsc2U7XG5cdFx0XHR9LFxuXHRcdFx0dHJpZ2dlcjogZnVuY3Rpb24oIGRhdGEgKSB7XG5cblx0XHRcdFx0Ly8gRm9yIG11dHVhbCBjb21wcmVzc2liaWxpdHkgd2l0aCBfZGVmYXVsdCwgcmVwbGFjZSBgdGhpc2AgYWNjZXNzIHdpdGggYSBsb2NhbCB2YXIuXG5cdFx0XHRcdC8vIGB8fCBkYXRhYCBpcyBkZWFkIGNvZGUgbWVhbnQgb25seSB0byBwcmVzZXJ2ZSB0aGUgdmFyaWFibGUgdGhyb3VnaCBtaW5pZmljYXRpb24uXG5cdFx0XHRcdHZhciBlbCA9IHRoaXMgfHwgZGF0YTtcblxuXHRcdFx0XHQvLyBGb3JjZSBzZXR1cCBiZWZvcmUgdHJpZ2dlcmluZyBhIGNsaWNrXG5cdFx0XHRcdGlmICggcmNoZWNrYWJsZVR5cGUudGVzdCggZWwudHlwZSApICYmXG5cdFx0XHRcdFx0ZWwuY2xpY2sgJiYgbm9kZU5hbWUoIGVsLCBcImlucHV0XCIgKSApIHtcblxuXHRcdFx0XHRcdGxldmVyYWdlTmF0aXZlKCBlbCwgXCJjbGlja1wiICk7XG5cdFx0XHRcdH1cblxuXHRcdFx0XHQvLyBSZXR1cm4gbm9uLWZhbHNlIHRvIGFsbG93IG5vcm1hbCBldmVudC1wYXRoIHByb3BhZ2F0aW9uXG5cdFx0XHRcdHJldHVybiB0cnVlO1xuXHRcdFx0fSxcblxuXHRcdFx0Ly8gRm9yIGNyb3NzLWJyb3dzZXIgY29uc2lzdGVuY3ksIHN1cHByZXNzIG5hdGl2ZSAuY2xpY2soKSBvbiBsaW5rc1xuXHRcdFx0Ly8gQWxzbyBwcmV2ZW50IGl0IGlmIHdlJ3JlIGN1cnJlbnRseSBpbnNpZGUgYSBsZXZlcmFnZWQgbmF0aXZlLWV2ZW50IHN0YWNrXG5cdFx0XHRfZGVmYXVsdDogZnVuY3Rpb24oIGV2ZW50ICkge1xuXHRcdFx0XHR2YXIgdGFyZ2V0ID0gZXZlbnQudGFyZ2V0O1xuXHRcdFx0XHRyZXR1cm4gcmNoZWNrYWJsZVR5cGUudGVzdCggdGFyZ2V0LnR5cGUgKSAmJlxuXHRcdFx0XHRcdHRhcmdldC5jbGljayAmJiBub2RlTmFtZSggdGFyZ2V0LCBcImlucHV0XCIgKSAmJlxuXHRcdFx0XHRcdGRhdGFQcml2LmdldCggdGFyZ2V0LCBcImNsaWNrXCIgKSB8fFxuXHRcdFx0XHRcdG5vZGVOYW1lKCB0YXJnZXQsIFwiYVwiICk7XG5cdFx0XHR9XG5cdFx0fSxcblxuXHRcdGJlZm9yZXVubG9hZDoge1xuXHRcdFx0cG9zdERpc3BhdGNoOiBmdW5jdGlvbiggZXZlbnQgKSB7XG5cblx0XHRcdFx0Ly8gU3VwcG9ydDogRmlyZWZveCAyMCtcblx0XHRcdFx0Ly8gRmlyZWZveCBkb2Vzbid0IGFsZXJ0IGlmIHRoZSByZXR1cm5WYWx1ZSBmaWVsZCBpcyBub3Qgc2V0LlxuXHRcdFx0XHRpZiAoIGV2ZW50LnJlc3VsdCAhPT0gdW5kZWZpbmVkICYmIGV2ZW50Lm9yaWdpbmFsRXZlbnQgKSB7XG5cdFx0XHRcdFx0ZXZlbnQub3JpZ2luYWxFdmVudC5yZXR1cm5WYWx1ZSA9IGV2ZW50LnJlc3VsdDtcblx0XHRcdFx0fVxuXHRcdFx0fVxuXHRcdH1cblx0fVxufTtcblxuLy8gRW5zdXJlIHRoZSBwcmVzZW5jZSBvZiBhbiBldmVudCBsaXN0ZW5lciB0aGF0IGhhbmRsZXMgbWFudWFsbHktdHJpZ2dlcmVkXG4vLyBzeW50aGV0aWMgZXZlbnRzIGJ5IGludGVycnVwdGluZyBwcm9ncmVzcyB1bnRpbCByZWludm9rZWQgaW4gcmVzcG9uc2UgdG9cbi8vICpuYXRpdmUqIGV2ZW50cyB0aGF0IGl0IGZpcmVzIGRpcmVjdGx5LCBlbnN1cmluZyB0aGF0IHN0YXRlIGNoYW5nZXMgaGF2ZVxuLy8gYWxyZWFkeSBvY2N1cnJlZCBiZWZvcmUgb3RoZXIgbGlzdGVuZXJzIGFyZSBpbnZva2VkLlxuZnVuY3Rpb24gbGV2ZXJhZ2VOYXRpdmUoIGVsLCB0eXBlLCBleHBlY3RTeW5jICkge1xuXG5cdC8vIE1pc3NpbmcgZXhwZWN0U3luYyBpbmRpY2F0ZXMgYSB0cmlnZ2VyIGNhbGwsIHdoaWNoIG11c3QgZm9yY2Ugc2V0dXAgdGhyb3VnaCBqUXVlcnkuZXZlbnQuYWRkXG5cdGlmICggIWV4cGVjdFN5bmMgKSB7XG5cdFx0aWYgKCBkYXRhUHJpdi5nZXQoIGVsLCB0eXBlICkgPT09IHVuZGVmaW5lZCApIHtcblx0XHRcdGpRdWVyeS5ldmVudC5hZGQoIGVsLCB0eXBlLCByZXR1cm5UcnVlICk7XG5cdFx0fVxuXHRcdHJldHVybjtcblx0fVxuXG5cdC8vIFJlZ2lzdGVyIHRoZSBjb250cm9sbGVyIGFzIGEgc3BlY2lhbCB1bml2ZXJzYWwgaGFuZGxlciBmb3IgYWxsIGV2ZW50IG5hbWVzcGFjZXNcblx0ZGF0YVByaXYuc2V0KCBlbCwgdHlwZSwgZmFsc2UgKTtcblx0alF1ZXJ5LmV2ZW50LmFkZCggZWwsIHR5cGUsIHtcblx0XHRuYW1lc3BhY2U6IGZhbHNlLFxuXHRcdGhhbmRsZXI6IGZ1bmN0aW9uKCBldmVudCApIHtcblx0XHRcdHZhciBub3RBc3luYywgcmVzdWx0LFxuXHRcdFx0XHRzYXZlZCA9IGRhdGFQcml2LmdldCggdGhpcywgdHlwZSApO1xuXG5cdFx0XHRpZiAoICggZXZlbnQuaXNUcmlnZ2VyICYgMSApICYmIHRoaXNbIHR5cGUgXSApIHtcblxuXHRcdFx0XHQvLyBJbnRlcnJ1cHQgcHJvY2Vzc2luZyBvZiB0aGUgb3V0ZXIgc3ludGhldGljIC50cmlnZ2VyKCllZCBldmVudFxuXHRcdFx0XHQvLyBTYXZlZCBkYXRhIHNob3VsZCBiZSBmYWxzZSBpbiBzdWNoIGNhc2VzLCBidXQgbWlnaHQgYmUgYSBsZWZ0b3ZlciBjYXB0dXJlIG9iamVjdFxuXHRcdFx0XHQvLyBmcm9tIGFuIGFzeW5jIG5hdGl2ZSBoYW5kbGVyIChnaC00MzUwKVxuXHRcdFx0XHRpZiAoICFzYXZlZC5sZW5ndGggKSB7XG5cblx0XHRcdFx0XHQvLyBTdG9yZSBhcmd1bWVudHMgZm9yIHVzZSB3aGVuIGhhbmRsaW5nIHRoZSBpbm5lciBuYXRpdmUgZXZlbnRcblx0XHRcdFx0XHQvLyBUaGVyZSB3aWxsIGFsd2F5cyBiZSBhdCBsZWFzdCBvbmUgYXJndW1lbnQgKGFuIGV2ZW50IG9iamVjdCksIHNvIHRoaXMgYXJyYXlcblx0XHRcdFx0XHQvLyB3aWxsIG5vdCBiZSBjb25mdXNlZCB3aXRoIGEgbGVmdG92ZXIgY2FwdHVyZSBvYmplY3QuXG5cdFx0XHRcdFx0c2F2ZWQgPSBzbGljZS5jYWxsKCBhcmd1bWVudHMgKTtcblx0XHRcdFx0XHRkYXRhUHJpdi5zZXQoIHRoaXMsIHR5cGUsIHNhdmVkICk7XG5cblx0XHRcdFx0XHQvLyBUcmlnZ2VyIHRoZSBuYXRpdmUgZXZlbnQgYW5kIGNhcHR1cmUgaXRzIHJlc3VsdFxuXHRcdFx0XHRcdC8vIFN1cHBvcnQ6IElFIDw9OSAtIDExK1xuXHRcdFx0XHRcdC8vIGZvY3VzKCkgYW5kIGJsdXIoKSBhcmUgYXN5bmNocm9ub3VzXG5cdFx0XHRcdFx0bm90QXN5bmMgPSBleHBlY3RTeW5jKCB0aGlzLCB0eXBlICk7XG5cdFx0XHRcdFx0dGhpc1sgdHlwZSBdKCk7XG5cdFx0XHRcdFx0cmVzdWx0ID0gZGF0YVByaXYuZ2V0KCB0aGlzLCB0eXBlICk7XG5cdFx0XHRcdFx0aWYgKCBzYXZlZCAhPT0gcmVzdWx0IHx8IG5vdEFzeW5jICkge1xuXHRcdFx0XHRcdFx0ZGF0YVByaXYuc2V0KCB0aGlzLCB0eXBlLCBmYWxzZSApO1xuXHRcdFx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdFx0XHRyZXN1bHQgPSB7fTtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0aWYgKCBzYXZlZCAhPT0gcmVzdWx0ICkge1xuXG5cdFx0XHRcdFx0XHQvLyBDYW5jZWwgdGhlIG91dGVyIHN5bnRoZXRpYyBldmVudFxuXHRcdFx0XHRcdFx0ZXZlbnQuc3RvcEltbWVkaWF0ZVByb3BhZ2F0aW9uKCk7XG5cdFx0XHRcdFx0XHRldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuXHRcdFx0XHRcdFx0cmV0dXJuIHJlc3VsdC52YWx1ZTtcblx0XHRcdFx0XHR9XG5cblx0XHRcdFx0Ly8gSWYgdGhpcyBpcyBhbiBpbm5lciBzeW50aGV0aWMgZXZlbnQgZm9yIGFuIGV2ZW50IHdpdGggYSBidWJibGluZyBzdXJyb2dhdGVcblx0XHRcdFx0Ly8gKGZvY3VzIG9yIGJsdXIpLCBhc3N1bWUgdGhhdCB0aGUgc3Vycm9nYXRlIGFscmVhZHkgcHJvcGFnYXRlZCBmcm9tIHRyaWdnZXJpbmcgdGhlXG5cdFx0XHRcdC8vIG5hdGl2ZSBldmVudCBhbmQgcHJldmVudCB0aGF0IGZyb20gaGFwcGVuaW5nIGFnYWluIGhlcmUuXG5cdFx0XHRcdC8vIFRoaXMgdGVjaG5pY2FsbHkgZ2V0cyB0aGUgb3JkZXJpbmcgd3Jvbmcgdy5yLnQuIHRvIGAudHJpZ2dlcigpYCAoaW4gd2hpY2ggdGhlXG5cdFx0XHRcdC8vIGJ1YmJsaW5nIHN1cnJvZ2F0ZSBwcm9wYWdhdGVzICphZnRlciogdGhlIG5vbi1idWJibGluZyBiYXNlKSwgYnV0IHRoYXQgc2VlbXNcblx0XHRcdFx0Ly8gbGVzcyBiYWQgdGhhbiBkdXBsaWNhdGlvbi5cblx0XHRcdFx0fSBlbHNlIGlmICggKCBqUXVlcnkuZXZlbnQuc3BlY2lhbFsgdHlwZSBdIHx8IHt9ICkuZGVsZWdhdGVUeXBlICkge1xuXHRcdFx0XHRcdGV2ZW50LnN0b3BQcm9wYWdhdGlvbigpO1xuXHRcdFx0XHR9XG5cblx0XHRcdC8vIElmIHRoaXMgaXMgYSBuYXRpdmUgZXZlbnQgdHJpZ2dlcmVkIGFib3ZlLCBldmVyeXRoaW5nIGlzIG5vdyBpbiBvcmRlclxuXHRcdFx0Ly8gRmlyZSBhbiBpbm5lciBzeW50aGV0aWMgZXZlbnQgd2l0aCB0aGUgb3JpZ2luYWwgYXJndW1lbnRzXG5cdFx0XHR9IGVsc2UgaWYgKCBzYXZlZC5sZW5ndGggKSB7XG5cblx0XHRcdFx0Ly8gLi4uYW5kIGNhcHR1cmUgdGhlIHJlc3VsdFxuXHRcdFx0XHRkYXRhUHJpdi5zZXQoIHRoaXMsIHR5cGUsIHtcblx0XHRcdFx0XHR2YWx1ZTogalF1ZXJ5LmV2ZW50LnRyaWdnZXIoXG5cblx0XHRcdFx0XHRcdC8vIFN1cHBvcnQ6IElFIDw9OSAtIDExK1xuXHRcdFx0XHRcdFx0Ly8gRXh0ZW5kIHdpdGggdGhlIHByb3RvdHlwZSB0byByZXNldCB0aGUgYWJvdmUgc3RvcEltbWVkaWF0ZVByb3BhZ2F0aW9uKClcblx0XHRcdFx0XHRcdGpRdWVyeS5leHRlbmQoIHNhdmVkWyAwIF0sIGpRdWVyeS5FdmVudC5wcm90b3R5cGUgKSxcblx0XHRcdFx0XHRcdHNhdmVkLnNsaWNlKCAxICksXG5cdFx0XHRcdFx0XHR0aGlzXG5cdFx0XHRcdFx0KVxuXHRcdFx0XHR9ICk7XG5cblx0XHRcdFx0Ly8gQWJvcnQgaGFuZGxpbmcgb2YgdGhlIG5hdGl2ZSBldmVudFxuXHRcdFx0XHRldmVudC5zdG9wSW1tZWRpYXRlUHJvcGFnYXRpb24oKTtcblx0XHRcdH1cblx0XHR9XG5cdH0gKTtcbn1cblxualF1ZXJ5LnJlbW92ZUV2ZW50ID0gZnVuY3Rpb24oIGVsZW0sIHR5cGUsIGhhbmRsZSApIHtcblxuXHQvLyBUaGlzIFwiaWZcIiBpcyBuZWVkZWQgZm9yIHBsYWluIG9iamVjdHNcblx0aWYgKCBlbGVtLnJlbW92ZUV2ZW50TGlzdGVuZXIgKSB7XG5cdFx0ZWxlbS5yZW1vdmVFdmVudExpc3RlbmVyKCB0eXBlLCBoYW5kbGUgKTtcblx0fVxufTtcblxualF1ZXJ5LkV2ZW50ID0gZnVuY3Rpb24oIHNyYywgcHJvcHMgKSB7XG5cblx0Ly8gQWxsb3cgaW5zdGFudGlhdGlvbiB3aXRob3V0IHRoZSAnbmV3JyBrZXl3b3JkXG5cdGlmICggISggdGhpcyBpbnN0YW5jZW9mIGpRdWVyeS5FdmVudCApICkge1xuXHRcdHJldHVybiBuZXcgalF1ZXJ5LkV2ZW50KCBzcmMsIHByb3BzICk7XG5cdH1cblxuXHQvLyBFdmVudCBvYmplY3Rcblx0aWYgKCBzcmMgJiYgc3JjLnR5cGUgKSB7XG5cdFx0dGhpcy5vcmlnaW5hbEV2ZW50ID0gc3JjO1xuXHRcdHRoaXMudHlwZSA9IHNyYy50eXBlO1xuXG5cdFx0Ly8gRXZlbnRzIGJ1YmJsaW5nIHVwIHRoZSBkb2N1bWVudCBtYXkgaGF2ZSBiZWVuIG1hcmtlZCBhcyBwcmV2ZW50ZWRcblx0XHQvLyBieSBhIGhhbmRsZXIgbG93ZXIgZG93biB0aGUgdHJlZTsgcmVmbGVjdCB0aGUgY29ycmVjdCB2YWx1ZS5cblx0XHR0aGlzLmlzRGVmYXVsdFByZXZlbnRlZCA9IHNyYy5kZWZhdWx0UHJldmVudGVkIHx8XG5cdFx0XHRcdHNyYy5kZWZhdWx0UHJldmVudGVkID09PSB1bmRlZmluZWQgJiZcblxuXHRcdFx0XHQvLyBTdXBwb3J0OiBBbmRyb2lkIDw9Mi4zIG9ubHlcblx0XHRcdFx0c3JjLnJldHVyblZhbHVlID09PSBmYWxzZSA/XG5cdFx0XHRyZXR1cm5UcnVlIDpcblx0XHRcdHJldHVybkZhbHNlO1xuXG5cdFx0Ly8gQ3JlYXRlIHRhcmdldCBwcm9wZXJ0aWVzXG5cdFx0Ly8gU3VwcG9ydDogU2FmYXJpIDw9NiAtIDcgb25seVxuXHRcdC8vIFRhcmdldCBzaG91bGQgbm90IGJlIGEgdGV4dCBub2RlICgjNTA0LCAjMTMxNDMpXG5cdFx0dGhpcy50YXJnZXQgPSAoIHNyYy50YXJnZXQgJiYgc3JjLnRhcmdldC5ub2RlVHlwZSA9PT0gMyApID9cblx0XHRcdHNyYy50YXJnZXQucGFyZW50Tm9kZSA6XG5cdFx0XHRzcmMudGFyZ2V0O1xuXG5cdFx0dGhpcy5jdXJyZW50VGFyZ2V0ID0gc3JjLmN1cnJlbnRUYXJnZXQ7XG5cdFx0dGhpcy5yZWxhdGVkVGFyZ2V0ID0gc3JjLnJlbGF0ZWRUYXJnZXQ7XG5cblx0Ly8gRXZlbnQgdHlwZVxuXHR9IGVsc2Uge1xuXHRcdHRoaXMudHlwZSA9IHNyYztcblx0fVxuXG5cdC8vIFB1dCBleHBsaWNpdGx5IHByb3ZpZGVkIHByb3BlcnRpZXMgb250byB0aGUgZXZlbnQgb2JqZWN0XG5cdGlmICggcHJvcHMgKSB7XG5cdFx0alF1ZXJ5LmV4dGVuZCggdGhpcywgcHJvcHMgKTtcblx0fVxuXG5cdC8vIENyZWF0ZSBhIHRpbWVzdGFtcCBpZiBpbmNvbWluZyBldmVudCBkb2Vzbid0IGhhdmUgb25lXG5cdHRoaXMudGltZVN0YW1wID0gc3JjICYmIHNyYy50aW1lU3RhbXAgfHwgRGF0ZS5ub3coKTtcblxuXHQvLyBNYXJrIGl0IGFzIGZpeGVkXG5cdHRoaXNbIGpRdWVyeS5leHBhbmRvIF0gPSB0cnVlO1xufTtcblxuLy8galF1ZXJ5LkV2ZW50IGlzIGJhc2VkIG9uIERPTTMgRXZlbnRzIGFzIHNwZWNpZmllZCBieSB0aGUgRUNNQVNjcmlwdCBMYW5ndWFnZSBCaW5kaW5nXG4vLyBodHRwczovL3d3dy53My5vcmcvVFIvMjAwMy9XRC1ET00tTGV2ZWwtMy1FdmVudHMtMjAwMzAzMzEvZWNtYS1zY3JpcHQtYmluZGluZy5odG1sXG5qUXVlcnkuRXZlbnQucHJvdG90eXBlID0ge1xuXHRjb25zdHJ1Y3RvcjogalF1ZXJ5LkV2ZW50LFxuXHRpc0RlZmF1bHRQcmV2ZW50ZWQ6IHJldHVybkZhbHNlLFxuXHRpc1Byb3BhZ2F0aW9uU3RvcHBlZDogcmV0dXJuRmFsc2UsXG5cdGlzSW1tZWRpYXRlUHJvcGFnYXRpb25TdG9wcGVkOiByZXR1cm5GYWxzZSxcblx0aXNTaW11bGF0ZWQ6IGZhbHNlLFxuXG5cdHByZXZlbnREZWZhdWx0OiBmdW5jdGlvbigpIHtcblx0XHR2YXIgZSA9IHRoaXMub3JpZ2luYWxFdmVudDtcblxuXHRcdHRoaXMuaXNEZWZhdWx0UHJldmVudGVkID0gcmV0dXJuVHJ1ZTtcblxuXHRcdGlmICggZSAmJiAhdGhpcy5pc1NpbXVsYXRlZCApIHtcblx0XHRcdGUucHJldmVudERlZmF1bHQoKTtcblx0XHR9XG5cdH0sXG5cdHN0b3BQcm9wYWdhdGlvbjogZnVuY3Rpb24oKSB7XG5cdFx0dmFyIGUgPSB0aGlzLm9yaWdpbmFsRXZlbnQ7XG5cblx0XHR0aGlzLmlzUHJvcGFnYXRpb25TdG9wcGVkID0gcmV0dXJuVHJ1ZTtcblxuXHRcdGlmICggZSAmJiAhdGhpcy5pc1NpbXVsYXRlZCApIHtcblx0XHRcdGUuc3RvcFByb3BhZ2F0aW9uKCk7XG5cdFx0fVxuXHR9LFxuXHRzdG9wSW1tZWRpYXRlUHJvcGFnYXRpb246IGZ1bmN0aW9uKCkge1xuXHRcdHZhciBlID0gdGhpcy5vcmlnaW5hbEV2ZW50O1xuXG5cdFx0dGhpcy5pc0ltbWVkaWF0ZVByb3BhZ2F0aW9uU3RvcHBlZCA9IHJldHVyblRydWU7XG5cblx0XHRpZiAoIGUgJiYgIXRoaXMuaXNTaW11bGF0ZWQgKSB7XG5cdFx0XHRlLnN0b3BJbW1lZGlhdGVQcm9wYWdhdGlvbigpO1xuXHRcdH1cblxuXHRcdHRoaXMuc3RvcFByb3BhZ2F0aW9uKCk7XG5cdH1cbn07XG5cbi8vIEluY2x1ZGVzIGFsbCBjb21tb24gZXZlbnQgcHJvcHMgaW5jbHVkaW5nIEtleUV2ZW50IGFuZCBNb3VzZUV2ZW50IHNwZWNpZmljIHByb3BzXG5qUXVlcnkuZWFjaCgge1xuXHRhbHRLZXk6IHRydWUsXG5cdGJ1YmJsZXM6IHRydWUsXG5cdGNhbmNlbGFibGU6IHRydWUsXG5cdGNoYW5nZWRUb3VjaGVzOiB0cnVlLFxuXHRjdHJsS2V5OiB0cnVlLFxuXHRkZXRhaWw6IHRydWUsXG5cdGV2ZW50UGhhc2U6IHRydWUsXG5cdG1ldGFLZXk6IHRydWUsXG5cdHBhZ2VYOiB0cnVlLFxuXHRwYWdlWTogdHJ1ZSxcblx0c2hpZnRLZXk6IHRydWUsXG5cdHZpZXc6IHRydWUsXG5cdFwiY2hhclwiOiB0cnVlLFxuXHRjb2RlOiB0cnVlLFxuXHRjaGFyQ29kZTogdHJ1ZSxcblx0a2V5OiB0cnVlLFxuXHRrZXlDb2RlOiB0cnVlLFxuXHRidXR0b246IHRydWUsXG5cdGJ1dHRvbnM6IHRydWUsXG5cdGNsaWVudFg6IHRydWUsXG5cdGNsaWVudFk6IHRydWUsXG5cdG9mZnNldFg6IHRydWUsXG5cdG9mZnNldFk6IHRydWUsXG5cdHBvaW50ZXJJZDogdHJ1ZSxcblx0cG9pbnRlclR5cGU6IHRydWUsXG5cdHNjcmVlblg6IHRydWUsXG5cdHNjcmVlblk6IHRydWUsXG5cdHRhcmdldFRvdWNoZXM6IHRydWUsXG5cdHRvRWxlbWVudDogdHJ1ZSxcblx0dG91Y2hlczogdHJ1ZSxcblxuXHR3aGljaDogZnVuY3Rpb24oIGV2ZW50ICkge1xuXHRcdHZhciBidXR0b24gPSBldmVudC5idXR0b247XG5cblx0XHQvLyBBZGQgd2hpY2ggZm9yIGtleSBldmVudHNcblx0XHRpZiAoIGV2ZW50LndoaWNoID09IG51bGwgJiYgcmtleUV2ZW50LnRlc3QoIGV2ZW50LnR5cGUgKSApIHtcblx0XHRcdHJldHVybiBldmVudC5jaGFyQ29kZSAhPSBudWxsID8gZXZlbnQuY2hhckNvZGUgOiBldmVudC5rZXlDb2RlO1xuXHRcdH1cblxuXHRcdC8vIEFkZCB3aGljaCBmb3IgY2xpY2s6IDEgPT09IGxlZnQ7IDIgPT09IG1pZGRsZTsgMyA9PT0gcmlnaHRcblx0XHRpZiAoICFldmVudC53aGljaCAmJiBidXR0b24gIT09IHVuZGVmaW5lZCAmJiBybW91c2VFdmVudC50ZXN0KCBldmVudC50eXBlICkgKSB7XG5cdFx0XHRpZiAoIGJ1dHRvbiAmIDEgKSB7XG5cdFx0XHRcdHJldHVybiAxO1xuXHRcdFx0fVxuXG5cdFx0XHRpZiAoIGJ1dHRvbiAmIDIgKSB7XG5cdFx0XHRcdHJldHVybiAzO1xuXHRcdFx0fVxuXG5cdFx0XHRpZiAoIGJ1dHRvbiAmIDQgKSB7XG5cdFx0XHRcdHJldHVybiAyO1xuXHRcdFx0fVxuXG5cdFx0XHRyZXR1cm4gMDtcblx0XHR9XG5cblx0XHRyZXR1cm4gZXZlbnQud2hpY2g7XG5cdH1cbn0sIGpRdWVyeS5ldmVudC5hZGRQcm9wICk7XG5cbmpRdWVyeS5lYWNoKCB7IGZvY3VzOiBcImZvY3VzaW5cIiwgYmx1cjogXCJmb2N1c291dFwiIH0sIGZ1bmN0aW9uKCB0eXBlLCBkZWxlZ2F0ZVR5cGUgKSB7XG5cdGpRdWVyeS5ldmVudC5zcGVjaWFsWyB0eXBlIF0gPSB7XG5cblx0XHQvLyBVdGlsaXplIG5hdGl2ZSBldmVudCBpZiBwb3NzaWJsZSBzbyBibHVyL2ZvY3VzIHNlcXVlbmNlIGlzIGNvcnJlY3Rcblx0XHRzZXR1cDogZnVuY3Rpb24oKSB7XG5cblx0XHRcdC8vIENsYWltIHRoZSBmaXJzdCBoYW5kbGVyXG5cdFx0XHQvLyBkYXRhUHJpdi5zZXQoIHRoaXMsIFwiZm9jdXNcIiwgLi4uIClcblx0XHRcdC8vIGRhdGFQcml2LnNldCggdGhpcywgXCJibHVyXCIsIC4uLiApXG5cdFx0XHRsZXZlcmFnZU5hdGl2ZSggdGhpcywgdHlwZSwgZXhwZWN0U3luYyApO1xuXG5cdFx0XHQvLyBSZXR1cm4gZmFsc2UgdG8gYWxsb3cgbm9ybWFsIHByb2Nlc3NpbmcgaW4gdGhlIGNhbGxlclxuXHRcdFx0cmV0dXJuIGZhbHNlO1xuXHRcdH0sXG5cdFx0dHJpZ2dlcjogZnVuY3Rpb24oKSB7XG5cblx0XHRcdC8vIEZvcmNlIHNldHVwIGJlZm9yZSB0cmlnZ2VyXG5cdFx0XHRsZXZlcmFnZU5hdGl2ZSggdGhpcywgdHlwZSApO1xuXG5cdFx0XHQvLyBSZXR1cm4gbm9uLWZhbHNlIHRvIGFsbG93IG5vcm1hbCBldmVudC1wYXRoIHByb3BhZ2F0aW9uXG5cdFx0XHRyZXR1cm4gdHJ1ZTtcblx0XHR9LFxuXG5cdFx0ZGVsZWdhdGVUeXBlOiBkZWxlZ2F0ZVR5cGVcblx0fTtcbn0gKTtcblxuLy8gQ3JlYXRlIG1vdXNlZW50ZXIvbGVhdmUgZXZlbnRzIHVzaW5nIG1vdXNlb3Zlci9vdXQgYW5kIGV2ZW50LXRpbWUgY2hlY2tzXG4vLyBzbyB0aGF0IGV2ZW50IGRlbGVnYXRpb24gd29ya3MgaW4galF1ZXJ5LlxuLy8gRG8gdGhlIHNhbWUgZm9yIHBvaW50ZXJlbnRlci9wb2ludGVybGVhdmUgYW5kIHBvaW50ZXJvdmVyL3BvaW50ZXJvdXRcbi8vXG4vLyBTdXBwb3J0OiBTYWZhcmkgNyBvbmx5XG4vLyBTYWZhcmkgc2VuZHMgbW91c2VlbnRlciB0b28gb2Z0ZW47IHNlZTpcbi8vIGh0dHBzOi8vYnVncy5jaHJvbWl1bS5vcmcvcC9jaHJvbWl1bS9pc3N1ZXMvZGV0YWlsP2lkPTQ3MDI1OFxuLy8gZm9yIHRoZSBkZXNjcmlwdGlvbiBvZiB0aGUgYnVnIChpdCBleGlzdGVkIGluIG9sZGVyIENocm9tZSB2ZXJzaW9ucyBhcyB3ZWxsKS5cbmpRdWVyeS5lYWNoKCB7XG5cdG1vdXNlZW50ZXI6IFwibW91c2VvdmVyXCIsXG5cdG1vdXNlbGVhdmU6IFwibW91c2VvdXRcIixcblx0cG9pbnRlcmVudGVyOiBcInBvaW50ZXJvdmVyXCIsXG5cdHBvaW50ZXJsZWF2ZTogXCJwb2ludGVyb3V0XCJcbn0sIGZ1bmN0aW9uKCBvcmlnLCBmaXggKSB7XG5cdGpRdWVyeS5ldmVudC5zcGVjaWFsWyBvcmlnIF0gPSB7XG5cdFx0ZGVsZWdhdGVUeXBlOiBmaXgsXG5cdFx0YmluZFR5cGU6IGZpeCxcblxuXHRcdGhhbmRsZTogZnVuY3Rpb24oIGV2ZW50ICkge1xuXHRcdFx0dmFyIHJldCxcblx0XHRcdFx0dGFyZ2V0ID0gdGhpcyxcblx0XHRcdFx0cmVsYXRlZCA9IGV2ZW50LnJlbGF0ZWRUYXJnZXQsXG5cdFx0XHRcdGhhbmRsZU9iaiA9IGV2ZW50LmhhbmRsZU9iajtcblxuXHRcdFx0Ly8gRm9yIG1vdXNlZW50ZXIvbGVhdmUgY2FsbCB0aGUgaGFuZGxlciBpZiByZWxhdGVkIGlzIG91dHNpZGUgdGhlIHRhcmdldC5cblx0XHRcdC8vIE5COiBObyByZWxhdGVkVGFyZ2V0IGlmIHRoZSBtb3VzZSBsZWZ0L2VudGVyZWQgdGhlIGJyb3dzZXIgd2luZG93XG5cdFx0XHRpZiAoICFyZWxhdGVkIHx8ICggcmVsYXRlZCAhPT0gdGFyZ2V0ICYmICFqUXVlcnkuY29udGFpbnMoIHRhcmdldCwgcmVsYXRlZCApICkgKSB7XG5cdFx0XHRcdGV2ZW50LnR5cGUgPSBoYW5kbGVPYmoub3JpZ1R5cGU7XG5cdFx0XHRcdHJldCA9IGhhbmRsZU9iai5oYW5kbGVyLmFwcGx5KCB0aGlzLCBhcmd1bWVudHMgKTtcblx0XHRcdFx0ZXZlbnQudHlwZSA9IGZpeDtcblx0XHRcdH1cblx0XHRcdHJldHVybiByZXQ7XG5cdFx0fVxuXHR9O1xufSApO1xuXG5qUXVlcnkuZm4uZXh0ZW5kKCB7XG5cblx0b246IGZ1bmN0aW9uKCB0eXBlcywgc2VsZWN0b3IsIGRhdGEsIGZuICkge1xuXHRcdHJldHVybiBvbiggdGhpcywgdHlwZXMsIHNlbGVjdG9yLCBkYXRhLCBmbiApO1xuXHR9LFxuXHRvbmU6IGZ1bmN0aW9uKCB0eXBlcywgc2VsZWN0b3IsIGRhdGEsIGZuICkge1xuXHRcdHJldHVybiBvbiggdGhpcywgdHlwZXMsIHNlbGVjdG9yLCBkYXRhLCBmbiwgMSApO1xuXHR9LFxuXHRvZmY6IGZ1bmN0aW9uKCB0eXBlcywgc2VsZWN0b3IsIGZuICkge1xuXHRcdHZhciBoYW5kbGVPYmosIHR5cGU7XG5cdFx0aWYgKCB0eXBlcyAmJiB0eXBlcy5wcmV2ZW50RGVmYXVsdCAmJiB0eXBlcy5oYW5kbGVPYmogKSB7XG5cblx0XHRcdC8vICggZXZlbnQgKSAgZGlzcGF0Y2hlZCBqUXVlcnkuRXZlbnRcblx0XHRcdGhhbmRsZU9iaiA9IHR5cGVzLmhhbmRsZU9iajtcblx0XHRcdGpRdWVyeSggdHlwZXMuZGVsZWdhdGVUYXJnZXQgKS5vZmYoXG5cdFx0XHRcdGhhbmRsZU9iai5uYW1lc3BhY2UgP1xuXHRcdFx0XHRcdGhhbmRsZU9iai5vcmlnVHlwZSArIFwiLlwiICsgaGFuZGxlT2JqLm5hbWVzcGFjZSA6XG5cdFx0XHRcdFx0aGFuZGxlT2JqLm9yaWdUeXBlLFxuXHRcdFx0XHRoYW5kbGVPYmouc2VsZWN0b3IsXG5cdFx0XHRcdGhhbmRsZU9iai5oYW5kbGVyXG5cdFx0XHQpO1xuXHRcdFx0cmV0dXJuIHRoaXM7XG5cdFx0fVxuXHRcdGlmICggdHlwZW9mIHR5cGVzID09PSBcIm9iamVjdFwiICkge1xuXG5cdFx0XHQvLyAoIHR5cGVzLW9iamVjdCBbLCBzZWxlY3Rvcl0gKVxuXHRcdFx0Zm9yICggdHlwZSBpbiB0eXBlcyApIHtcblx0XHRcdFx0dGhpcy5vZmYoIHR5cGUsIHNlbGVjdG9yLCB0eXBlc1sgdHlwZSBdICk7XG5cdFx0XHR9XG5cdFx0XHRyZXR1cm4gdGhpcztcblx0XHR9XG5cdFx0aWYgKCBzZWxlY3RvciA9PT0gZmFsc2UgfHwgdHlwZW9mIHNlbGVjdG9yID09PSBcImZ1bmN0aW9uXCIgKSB7XG5cblx0XHRcdC8vICggdHlwZXMgWywgZm5dIClcblx0XHRcdGZuID0gc2VsZWN0b3I7XG5cdFx0XHRzZWxlY3RvciA9IHVuZGVmaW5lZDtcblx0XHR9XG5cdFx0aWYgKCBmbiA9PT0gZmFsc2UgKSB7XG5cdFx0XHRmbiA9IHJldHVybkZhbHNlO1xuXHRcdH1cblx0XHRyZXR1cm4gdGhpcy5lYWNoKCBmdW5jdGlvbigpIHtcblx0XHRcdGpRdWVyeS5ldmVudC5yZW1vdmUoIHRoaXMsIHR5cGVzLCBmbiwgc2VsZWN0b3IgKTtcblx0XHR9ICk7XG5cdH1cbn0gKTtcblxuXG52YXJcblxuXHQvLyBTdXBwb3J0OiBJRSA8PTEwIC0gMTEsIEVkZ2UgMTIgLSAxMyBvbmx5XG5cdC8vIEluIElFL0VkZ2UgdXNpbmcgcmVnZXggZ3JvdXBzIGhlcmUgY2F1c2VzIHNldmVyZSBzbG93ZG93bnMuXG5cdC8vIFNlZSBodHRwczovL2Nvbm5lY3QubWljcm9zb2Z0LmNvbS9JRS9mZWVkYmFjay9kZXRhaWxzLzE3MzY1MTIvXG5cdHJub0lubmVyaHRtbCA9IC88c2NyaXB0fDxzdHlsZXw8bGluay9pLFxuXG5cdC8vIGNoZWNrZWQ9XCJjaGVja2VkXCIgb3IgY2hlY2tlZFxuXHRyY2hlY2tlZCA9IC9jaGVja2VkXFxzKig/OltePV18PVxccyouY2hlY2tlZC4pL2ksXG5cdHJjbGVhblNjcmlwdCA9IC9eXFxzKjwhKD86XFxbQ0RBVEFcXFt8LS0pfCg/OlxcXVxcXXwtLSk+XFxzKiQvZztcblxuLy8gUHJlZmVyIGEgdGJvZHkgb3ZlciBpdHMgcGFyZW50IHRhYmxlIGZvciBjb250YWluaW5nIG5ldyByb3dzXG5mdW5jdGlvbiBtYW5pcHVsYXRpb25UYXJnZXQoIGVsZW0sIGNvbnRlbnQgKSB7XG5cdGlmICggbm9kZU5hbWUoIGVsZW0sIFwidGFibGVcIiApICYmXG5cdFx0bm9kZU5hbWUoIGNvbnRlbnQubm9kZVR5cGUgIT09IDExID8gY29udGVudCA6IGNvbnRlbnQuZmlyc3RDaGlsZCwgXCJ0clwiICkgKSB7XG5cblx0XHRyZXR1cm4galF1ZXJ5KCBlbGVtICkuY2hpbGRyZW4oIFwidGJvZHlcIiApWyAwIF0gfHwgZWxlbTtcblx0fVxuXG5cdHJldHVybiBlbGVtO1xufVxuXG4vLyBSZXBsYWNlL3Jlc3RvcmUgdGhlIHR5cGUgYXR0cmlidXRlIG9mIHNjcmlwdCBlbGVtZW50cyBmb3Igc2FmZSBET00gbWFuaXB1bGF0aW9uXG5mdW5jdGlvbiBkaXNhYmxlU2NyaXB0KCBlbGVtICkge1xuXHRlbGVtLnR5cGUgPSAoIGVsZW0uZ2V0QXR0cmlidXRlKCBcInR5cGVcIiApICE9PSBudWxsICkgKyBcIi9cIiArIGVsZW0udHlwZTtcblx0cmV0dXJuIGVsZW07XG59XG5mdW5jdGlvbiByZXN0b3JlU2NyaXB0KCBlbGVtICkge1xuXHRpZiAoICggZWxlbS50eXBlIHx8IFwiXCIgKS5zbGljZSggMCwgNSApID09PSBcInRydWUvXCIgKSB7XG5cdFx0ZWxlbS50eXBlID0gZWxlbS50eXBlLnNsaWNlKCA1ICk7XG5cdH0gZWxzZSB7XG5cdFx0ZWxlbS5yZW1vdmVBdHRyaWJ1dGUoIFwidHlwZVwiICk7XG5cdH1cblxuXHRyZXR1cm4gZWxlbTtcbn1cblxuZnVuY3Rpb24gY2xvbmVDb3B5RXZlbnQoIHNyYywgZGVzdCApIHtcblx0dmFyIGksIGwsIHR5cGUsIHBkYXRhT2xkLCB1ZGF0YU9sZCwgdWRhdGFDdXIsIGV2ZW50cztcblxuXHRpZiAoIGRlc3Qubm9kZVR5cGUgIT09IDEgKSB7XG5cdFx0cmV0dXJuO1xuXHR9XG5cblx0Ly8gMS4gQ29weSBwcml2YXRlIGRhdGE6IGV2ZW50cywgaGFuZGxlcnMsIGV0Yy5cblx0aWYgKCBkYXRhUHJpdi5oYXNEYXRhKCBzcmMgKSApIHtcblx0XHRwZGF0YU9sZCA9IGRhdGFQcml2LmdldCggc3JjICk7XG5cdFx0ZXZlbnRzID0gcGRhdGFPbGQuZXZlbnRzO1xuXG5cdFx0aWYgKCBldmVudHMgKSB7XG5cdFx0XHRkYXRhUHJpdi5yZW1vdmUoIGRlc3QsIFwiaGFuZGxlIGV2ZW50c1wiICk7XG5cblx0XHRcdGZvciAoIHR5cGUgaW4gZXZlbnRzICkge1xuXHRcdFx0XHRmb3IgKCBpID0gMCwgbCA9IGV2ZW50c1sgdHlwZSBdLmxlbmd0aDsgaSA8IGw7IGkrKyApIHtcblx0XHRcdFx0XHRqUXVlcnkuZXZlbnQuYWRkKCBkZXN0LCB0eXBlLCBldmVudHNbIHR5cGUgXVsgaSBdICk7XG5cdFx0XHRcdH1cblx0XHRcdH1cblx0XHR9XG5cdH1cblxuXHQvLyAyLiBDb3B5IHVzZXIgZGF0YVxuXHRpZiAoIGRhdGFVc2VyLmhhc0RhdGEoIHNyYyApICkge1xuXHRcdHVkYXRhT2xkID0gZGF0YVVzZXIuYWNjZXNzKCBzcmMgKTtcblx0XHR1ZGF0YUN1ciA9IGpRdWVyeS5leHRlbmQoIHt9LCB1ZGF0YU9sZCApO1xuXG5cdFx0ZGF0YVVzZXIuc2V0KCBkZXN0LCB1ZGF0YUN1ciApO1xuXHR9XG59XG5cbi8vIEZpeCBJRSBidWdzLCBzZWUgc3VwcG9ydCB0ZXN0c1xuZnVuY3Rpb24gZml4SW5wdXQoIHNyYywgZGVzdCApIHtcblx0dmFyIG5vZGVOYW1lID0gZGVzdC5ub2RlTmFtZS50b0xvd2VyQ2FzZSgpO1xuXG5cdC8vIEZhaWxzIHRvIHBlcnNpc3QgdGhlIGNoZWNrZWQgc3RhdGUgb2YgYSBjbG9uZWQgY2hlY2tib3ggb3IgcmFkaW8gYnV0dG9uLlxuXHRpZiAoIG5vZGVOYW1lID09PSBcImlucHV0XCIgJiYgcmNoZWNrYWJsZVR5cGUudGVzdCggc3JjLnR5cGUgKSApIHtcblx0XHRkZXN0LmNoZWNrZWQgPSBzcmMuY2hlY2tlZDtcblxuXHQvLyBGYWlscyB0byByZXR1cm4gdGhlIHNlbGVjdGVkIG9wdGlvbiB0byB0aGUgZGVmYXVsdCBzZWxlY3RlZCBzdGF0ZSB3aGVuIGNsb25pbmcgb3B0aW9uc1xuXHR9IGVsc2UgaWYgKCBub2RlTmFtZSA9PT0gXCJpbnB1dFwiIHx8IG5vZGVOYW1lID09PSBcInRleHRhcmVhXCIgKSB7XG5cdFx0ZGVzdC5kZWZhdWx0VmFsdWUgPSBzcmMuZGVmYXVsdFZhbHVlO1xuXHR9XG59XG5cbmZ1bmN0aW9uIGRvbU1hbmlwKCBjb2xsZWN0aW9uLCBhcmdzLCBjYWxsYmFjaywgaWdub3JlZCApIHtcblxuXHQvLyBGbGF0dGVuIGFueSBuZXN0ZWQgYXJyYXlzXG5cdGFyZ3MgPSBmbGF0KCBhcmdzICk7XG5cblx0dmFyIGZyYWdtZW50LCBmaXJzdCwgc2NyaXB0cywgaGFzU2NyaXB0cywgbm9kZSwgZG9jLFxuXHRcdGkgPSAwLFxuXHRcdGwgPSBjb2xsZWN0aW9uLmxlbmd0aCxcblx0XHRpTm9DbG9uZSA9IGwgLSAxLFxuXHRcdHZhbHVlID0gYXJnc1sgMCBdLFxuXHRcdHZhbHVlSXNGdW5jdGlvbiA9IGlzRnVuY3Rpb24oIHZhbHVlICk7XG5cblx0Ly8gV2UgY2FuJ3QgY2xvbmVOb2RlIGZyYWdtZW50cyB0aGF0IGNvbnRhaW4gY2hlY2tlZCwgaW4gV2ViS2l0XG5cdGlmICggdmFsdWVJc0Z1bmN0aW9uIHx8XG5cdFx0XHQoIGwgPiAxICYmIHR5cGVvZiB2YWx1ZSA9PT0gXCJzdHJpbmdcIiAmJlxuXHRcdFx0XHQhc3VwcG9ydC5jaGVja0Nsb25lICYmIHJjaGVja2VkLnRlc3QoIHZhbHVlICkgKSApIHtcblx0XHRyZXR1cm4gY29sbGVjdGlvbi5lYWNoKCBmdW5jdGlvbiggaW5kZXggKSB7XG5cdFx0XHR2YXIgc2VsZiA9IGNvbGxlY3Rpb24uZXEoIGluZGV4ICk7XG5cdFx0XHRpZiAoIHZhbHVlSXNGdW5jdGlvbiApIHtcblx0XHRcdFx0YXJnc1sgMCBdID0gdmFsdWUuY2FsbCggdGhpcywgaW5kZXgsIHNlbGYuaHRtbCgpICk7XG5cdFx0XHR9XG5cdFx0XHRkb21NYW5pcCggc2VsZiwgYXJncywgY2FsbGJhY2ssIGlnbm9yZWQgKTtcblx0XHR9ICk7XG5cdH1cblxuXHRpZiAoIGwgKSB7XG5cdFx0ZnJhZ21lbnQgPSBidWlsZEZyYWdtZW50KCBhcmdzLCBjb2xsZWN0aW9uWyAwIF0ub3duZXJEb2N1bWVudCwgZmFsc2UsIGNvbGxlY3Rpb24sIGlnbm9yZWQgKTtcblx0XHRmaXJzdCA9IGZyYWdtZW50LmZpcnN0Q2hpbGQ7XG5cblx0XHRpZiAoIGZyYWdtZW50LmNoaWxkTm9kZXMubGVuZ3RoID09PSAxICkge1xuXHRcdFx0ZnJhZ21lbnQgPSBmaXJzdDtcblx0XHR9XG5cblx0XHQvLyBSZXF1aXJlIGVpdGhlciBuZXcgY29udGVudCBvciBhbiBpbnRlcmVzdCBpbiBpZ25vcmVkIGVsZW1lbnRzIHRvIGludm9rZSB0aGUgY2FsbGJhY2tcblx0XHRpZiAoIGZpcnN0IHx8IGlnbm9yZWQgKSB7XG5cdFx0XHRzY3JpcHRzID0galF1ZXJ5Lm1hcCggZ2V0QWxsKCBmcmFnbWVudCwgXCJzY3JpcHRcIiApLCBkaXNhYmxlU2NyaXB0ICk7XG5cdFx0XHRoYXNTY3JpcHRzID0gc2NyaXB0cy5sZW5ndGg7XG5cblx0XHRcdC8vIFVzZSB0aGUgb3JpZ2luYWwgZnJhZ21lbnQgZm9yIHRoZSBsYXN0IGl0ZW1cblx0XHRcdC8vIGluc3RlYWQgb2YgdGhlIGZpcnN0IGJlY2F1c2UgaXQgY2FuIGVuZCB1cFxuXHRcdFx0Ly8gYmVpbmcgZW1wdGllZCBpbmNvcnJlY3RseSBpbiBjZXJ0YWluIHNpdHVhdGlvbnMgKCM4MDcwKS5cblx0XHRcdGZvciAoIDsgaSA8IGw7IGkrKyApIHtcblx0XHRcdFx0bm9kZSA9IGZyYWdtZW50O1xuXG5cdFx0XHRcdGlmICggaSAhPT0gaU5vQ2xvbmUgKSB7XG5cdFx0XHRcdFx0bm9kZSA9IGpRdWVyeS5jbG9uZSggbm9kZSwgdHJ1ZSwgdHJ1ZSApO1xuXG5cdFx0XHRcdFx0Ly8gS2VlcCByZWZlcmVuY2VzIHRvIGNsb25lZCBzY3JpcHRzIGZvciBsYXRlciByZXN0b3JhdGlvblxuXHRcdFx0XHRcdGlmICggaGFzU2NyaXB0cyApIHtcblxuXHRcdFx0XHRcdFx0Ly8gU3VwcG9ydDogQW5kcm9pZCA8PTQuMCBvbmx5LCBQaGFudG9tSlMgMSBvbmx5XG5cdFx0XHRcdFx0XHQvLyBwdXNoLmFwcGx5KF8sIGFycmF5bGlrZSkgdGhyb3dzIG9uIGFuY2llbnQgV2ViS2l0XG5cdFx0XHRcdFx0XHRqUXVlcnkubWVyZ2UoIHNjcmlwdHMsIGdldEFsbCggbm9kZSwgXCJzY3JpcHRcIiApICk7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9XG5cblx0XHRcdFx0Y2FsbGJhY2suY2FsbCggY29sbGVjdGlvblsgaSBdLCBub2RlLCBpICk7XG5cdFx0XHR9XG5cblx0XHRcdGlmICggaGFzU2NyaXB0cyApIHtcblx0XHRcdFx0ZG9jID0gc2NyaXB0c1sgc2NyaXB0cy5sZW5ndGggLSAxIF0ub3duZXJEb2N1bWVudDtcblxuXHRcdFx0XHQvLyBSZWVuYWJsZSBzY3JpcHRzXG5cdFx0XHRcdGpRdWVyeS5tYXAoIHNjcmlwdHMsIHJlc3RvcmVTY3JpcHQgKTtcblxuXHRcdFx0XHQvLyBFdmFsdWF0ZSBleGVjdXRhYmxlIHNjcmlwdHMgb24gZmlyc3QgZG9jdW1lbnQgaW5zZXJ0aW9uXG5cdFx0XHRcdGZvciAoIGkgPSAwOyBpIDwgaGFzU2NyaXB0czsgaSsrICkge1xuXHRcdFx0XHRcdG5vZGUgPSBzY3JpcHRzWyBpIF07XG5cdFx0XHRcdFx0aWYgKCByc2NyaXB0VHlwZS50ZXN0KCBub2RlLnR5cGUgfHwgXCJcIiApICYmXG5cdFx0XHRcdFx0XHQhZGF0YVByaXYuYWNjZXNzKCBub2RlLCBcImdsb2JhbEV2YWxcIiApICYmXG5cdFx0XHRcdFx0XHRqUXVlcnkuY29udGFpbnMoIGRvYywgbm9kZSApICkge1xuXG5cdFx0XHRcdFx0XHRpZiAoIG5vZGUuc3JjICYmICggbm9kZS50eXBlIHx8IFwiXCIgKS50b0xvd2VyQ2FzZSgpICAhPT0gXCJtb2R1bGVcIiApIHtcblxuXHRcdFx0XHRcdFx0XHQvLyBPcHRpb25hbCBBSkFYIGRlcGVuZGVuY3ksIGJ1dCB3b24ndCBydW4gc2NyaXB0cyBpZiBub3QgcHJlc2VudFxuXHRcdFx0XHRcdFx0XHRpZiAoIGpRdWVyeS5fZXZhbFVybCAmJiAhbm9kZS5ub01vZHVsZSApIHtcblx0XHRcdFx0XHRcdFx0XHRqUXVlcnkuX2V2YWxVcmwoIG5vZGUuc3JjLCB7XG5cdFx0XHRcdFx0XHRcdFx0XHRub25jZTogbm9kZS5ub25jZSB8fCBub2RlLmdldEF0dHJpYnV0ZSggXCJub25jZVwiIClcblx0XHRcdFx0XHRcdFx0XHR9LCBkb2MgKTtcblx0XHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0XHRcdFx0RE9NRXZhbCggbm9kZS50ZXh0Q29udGVudC5yZXBsYWNlKCByY2xlYW5TY3JpcHQsIFwiXCIgKSwgbm9kZSwgZG9jICk7XG5cdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9XG5cdFx0XHR9XG5cdFx0fVxuXHR9XG5cblx0cmV0dXJuIGNvbGxlY3Rpb247XG59XG5cbmZ1bmN0aW9uIHJlbW92ZSggZWxlbSwgc2VsZWN0b3IsIGtlZXBEYXRhICkge1xuXHR2YXIgbm9kZSxcblx0XHRub2RlcyA9IHNlbGVjdG9yID8galF1ZXJ5LmZpbHRlciggc2VsZWN0b3IsIGVsZW0gKSA6IGVsZW0sXG5cdFx0aSA9IDA7XG5cblx0Zm9yICggOyAoIG5vZGUgPSBub2Rlc1sgaSBdICkgIT0gbnVsbDsgaSsrICkge1xuXHRcdGlmICggIWtlZXBEYXRhICYmIG5vZGUubm9kZVR5cGUgPT09IDEgKSB7XG5cdFx0XHRqUXVlcnkuY2xlYW5EYXRhKCBnZXRBbGwoIG5vZGUgKSApO1xuXHRcdH1cblxuXHRcdGlmICggbm9kZS5wYXJlbnROb2RlICkge1xuXHRcdFx0aWYgKCBrZWVwRGF0YSAmJiBpc0F0dGFjaGVkKCBub2RlICkgKSB7XG5cdFx0XHRcdHNldEdsb2JhbEV2YWwoIGdldEFsbCggbm9kZSwgXCJzY3JpcHRcIiApICk7XG5cdFx0XHR9XG5cdFx0XHRub2RlLnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQoIG5vZGUgKTtcblx0XHR9XG5cdH1cblxuXHRyZXR1cm4gZWxlbTtcbn1cblxualF1ZXJ5LmV4dGVuZCgge1xuXHRodG1sUHJlZmlsdGVyOiBmdW5jdGlvbiggaHRtbCApIHtcblx0XHRyZXR1cm4gaHRtbDtcblx0fSxcblxuXHRjbG9uZTogZnVuY3Rpb24oIGVsZW0sIGRhdGFBbmRFdmVudHMsIGRlZXBEYXRhQW5kRXZlbnRzICkge1xuXHRcdHZhciBpLCBsLCBzcmNFbGVtZW50cywgZGVzdEVsZW1lbnRzLFxuXHRcdFx0Y2xvbmUgPSBlbGVtLmNsb25lTm9kZSggdHJ1ZSApLFxuXHRcdFx0aW5QYWdlID0gaXNBdHRhY2hlZCggZWxlbSApO1xuXG5cdFx0Ly8gRml4IElFIGNsb25pbmcgaXNzdWVzXG5cdFx0aWYgKCAhc3VwcG9ydC5ub0Nsb25lQ2hlY2tlZCAmJiAoIGVsZW0ubm9kZVR5cGUgPT09IDEgfHwgZWxlbS5ub2RlVHlwZSA9PT0gMTEgKSAmJlxuXHRcdFx0XHQhalF1ZXJ5LmlzWE1MRG9jKCBlbGVtICkgKSB7XG5cblx0XHRcdC8vIFdlIGVzY2hldyBTaXp6bGUgaGVyZSBmb3IgcGVyZm9ybWFuY2UgcmVhc29uczogaHR0cHM6Ly9qc3BlcmYuY29tL2dldGFsbC12cy1zaXp6bGUvMlxuXHRcdFx0ZGVzdEVsZW1lbnRzID0gZ2V0QWxsKCBjbG9uZSApO1xuXHRcdFx0c3JjRWxlbWVudHMgPSBnZXRBbGwoIGVsZW0gKTtcblxuXHRcdFx0Zm9yICggaSA9IDAsIGwgPSBzcmNFbGVtZW50cy5sZW5ndGg7IGkgPCBsOyBpKysgKSB7XG5cdFx0XHRcdGZpeElucHV0KCBzcmNFbGVtZW50c1sgaSBdLCBkZXN0RWxlbWVudHNbIGkgXSApO1xuXHRcdFx0fVxuXHRcdH1cblxuXHRcdC8vIENvcHkgdGhlIGV2ZW50cyBmcm9tIHRoZSBvcmlnaW5hbCB0byB0aGUgY2xvbmVcblx0XHRpZiAoIGRhdGFBbmRFdmVudHMgKSB7XG5cdFx0XHRpZiAoIGRlZXBEYXRhQW5kRXZlbnRzICkge1xuXHRcdFx0XHRzcmNFbGVtZW50cyA9IHNyY0VsZW1lbnRzIHx8IGdldEFsbCggZWxlbSApO1xuXHRcdFx0XHRkZXN0RWxlbWVudHMgPSBkZXN0RWxlbWVudHMgfHwgZ2V0QWxsKCBjbG9uZSApO1xuXG5cdFx0XHRcdGZvciAoIGkgPSAwLCBsID0gc3JjRWxlbWVudHMubGVuZ3RoOyBpIDwgbDsgaSsrICkge1xuXHRcdFx0XHRcdGNsb25lQ29weUV2ZW50KCBzcmNFbGVtZW50c1sgaSBdLCBkZXN0RWxlbWVudHNbIGkgXSApO1xuXHRcdFx0XHR9XG5cdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRjbG9uZUNvcHlFdmVudCggZWxlbSwgY2xvbmUgKTtcblx0XHRcdH1cblx0XHR9XG5cblx0XHQvLyBQcmVzZXJ2ZSBzY3JpcHQgZXZhbHVhdGlvbiBoaXN0b3J5XG5cdFx0ZGVzdEVsZW1lbnRzID0gZ2V0QWxsKCBjbG9uZSwgXCJzY3JpcHRcIiApO1xuXHRcdGlmICggZGVzdEVsZW1lbnRzLmxlbmd0aCA+IDAgKSB7XG5cdFx0XHRzZXRHbG9iYWxFdmFsKCBkZXN0RWxlbWVudHMsICFpblBhZ2UgJiYgZ2V0QWxsKCBlbGVtLCBcInNjcmlwdFwiICkgKTtcblx0XHR9XG5cblx0XHQvLyBSZXR1cm4gdGhlIGNsb25lZCBzZXRcblx0XHRyZXR1cm4gY2xvbmU7XG5cdH0sXG5cblx0Y2xlYW5EYXRhOiBmdW5jdGlvbiggZWxlbXMgKSB7XG5cdFx0dmFyIGRhdGEsIGVsZW0sIHR5cGUsXG5cdFx0XHRzcGVjaWFsID0galF1ZXJ5LmV2ZW50LnNwZWNpYWwsXG5cdFx0XHRpID0gMDtcblxuXHRcdGZvciAoIDsgKCBlbGVtID0gZWxlbXNbIGkgXSApICE9PSB1bmRlZmluZWQ7IGkrKyApIHtcblx0XHRcdGlmICggYWNjZXB0RGF0YSggZWxlbSApICkge1xuXHRcdFx0XHRpZiAoICggZGF0YSA9IGVsZW1bIGRhdGFQcml2LmV4cGFuZG8gXSApICkge1xuXHRcdFx0XHRcdGlmICggZGF0YS5ldmVudHMgKSB7XG5cdFx0XHRcdFx0XHRmb3IgKCB0eXBlIGluIGRhdGEuZXZlbnRzICkge1xuXHRcdFx0XHRcdFx0XHRpZiAoIHNwZWNpYWxbIHR5cGUgXSApIHtcblx0XHRcdFx0XHRcdFx0XHRqUXVlcnkuZXZlbnQucmVtb3ZlKCBlbGVtLCB0eXBlICk7XG5cblx0XHRcdFx0XHRcdFx0Ly8gVGhpcyBpcyBhIHNob3J0Y3V0IHRvIGF2b2lkIGpRdWVyeS5ldmVudC5yZW1vdmUncyBvdmVyaGVhZFxuXHRcdFx0XHRcdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRcdFx0XHRcdGpRdWVyeS5yZW1vdmVFdmVudCggZWxlbSwgdHlwZSwgZGF0YS5oYW5kbGUgKTtcblx0XHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdH1cblxuXHRcdFx0XHRcdC8vIFN1cHBvcnQ6IENocm9tZSA8PTM1IC0gNDUrXG5cdFx0XHRcdFx0Ly8gQXNzaWduIHVuZGVmaW5lZCBpbnN0ZWFkIG9mIHVzaW5nIGRlbGV0ZSwgc2VlIERhdGEjcmVtb3ZlXG5cdFx0XHRcdFx0ZWxlbVsgZGF0YVByaXYuZXhwYW5kbyBdID0gdW5kZWZpbmVkO1xuXHRcdFx0XHR9XG5cdFx0XHRcdGlmICggZWxlbVsgZGF0YVVzZXIuZXhwYW5kbyBdICkge1xuXG5cdFx0XHRcdFx0Ly8gU3VwcG9ydDogQ2hyb21lIDw9MzUgLSA0NStcblx0XHRcdFx0XHQvLyBBc3NpZ24gdW5kZWZpbmVkIGluc3RlYWQgb2YgdXNpbmcgZGVsZXRlLCBzZWUgRGF0YSNyZW1vdmVcblx0XHRcdFx0XHRlbGVtWyBkYXRhVXNlci5leHBhbmRvIF0gPSB1bmRlZmluZWQ7XG5cdFx0XHRcdH1cblx0XHRcdH1cblx0XHR9XG5cdH1cbn0gKTtcblxualF1ZXJ5LmZuLmV4dGVuZCgge1xuXHRkZXRhY2g6IGZ1bmN0aW9uKCBzZWxlY3RvciApIHtcblx0XHRyZXR1cm4gcmVtb3ZlKCB0aGlzLCBzZWxlY3RvciwgdHJ1ZSApO1xuXHR9LFxuXG5cdHJlbW92ZTogZnVuY3Rpb24oIHNlbGVjdG9yICkge1xuXHRcdHJldHVybiByZW1vdmUoIHRoaXMsIHNlbGVjdG9yICk7XG5cdH0sXG5cblx0dGV4dDogZnVuY3Rpb24oIHZhbHVlICkge1xuXHRcdHJldHVybiBhY2Nlc3MoIHRoaXMsIGZ1bmN0aW9uKCB2YWx1ZSApIHtcblx0XHRcdHJldHVybiB2YWx1ZSA9PT0gdW5kZWZpbmVkID9cblx0XHRcdFx0alF1ZXJ5LnRleHQoIHRoaXMgKSA6XG5cdFx0XHRcdHRoaXMuZW1wdHkoKS5lYWNoKCBmdW5jdGlvbigpIHtcblx0XHRcdFx0XHRpZiAoIHRoaXMubm9kZVR5cGUgPT09IDEgfHwgdGhpcy5ub2RlVHlwZSA9PT0gMTEgfHwgdGhpcy5ub2RlVHlwZSA9PT0gOSApIHtcblx0XHRcdFx0XHRcdHRoaXMudGV4dENvbnRlbnQgPSB2YWx1ZTtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdH0gKTtcblx0XHR9LCBudWxsLCB2YWx1ZSwgYXJndW1lbnRzLmxlbmd0aCApO1xuXHR9LFxuXG5cdGFwcGVuZDogZnVuY3Rpb24oKSB7XG5cdFx0cmV0dXJuIGRvbU1hbmlwKCB0aGlzLCBhcmd1bWVudHMsIGZ1bmN0aW9uKCBlbGVtICkge1xuXHRcdFx0aWYgKCB0aGlzLm5vZGVUeXBlID09PSAxIHx8IHRoaXMubm9kZVR5cGUgPT09IDExIHx8IHRoaXMubm9kZVR5cGUgPT09IDkgKSB7XG5cdFx0XHRcdHZhciB0YXJnZXQgPSBtYW5pcHVsYXRpb25UYXJnZXQoIHRoaXMsIGVsZW0gKTtcblx0XHRcdFx0dGFyZ2V0LmFwcGVuZENoaWxkKCBlbGVtICk7XG5cdFx0XHR9XG5cdFx0fSApO1xuXHR9LFxuXG5cdHByZXBlbmQ6IGZ1bmN0aW9uKCkge1xuXHRcdHJldHVybiBkb21NYW5pcCggdGhpcywgYXJndW1lbnRzLCBmdW5jdGlvbiggZWxlbSApIHtcblx0XHRcdGlmICggdGhpcy5ub2RlVHlwZSA9PT0gMSB8fCB0aGlzLm5vZGVUeXBlID09PSAxMSB8fCB0aGlzLm5vZGVUeXBlID09PSA5ICkge1xuXHRcdFx0XHR2YXIgdGFyZ2V0ID0gbWFuaXB1bGF0aW9uVGFyZ2V0KCB0aGlzLCBlbGVtICk7XG5cdFx0XHRcdHRhcmdldC5pbnNlcnRCZWZvcmUoIGVsZW0sIHRhcmdldC5maXJzdENoaWxkICk7XG5cdFx0XHR9XG5cdFx0fSApO1xuXHR9LFxuXG5cdGJlZm9yZTogZnVuY3Rpb24oKSB7XG5cdFx0cmV0dXJuIGRvbU1hbmlwKCB0aGlzLCBhcmd1bWVudHMsIGZ1bmN0aW9uKCBlbGVtICkge1xuXHRcdFx0aWYgKCB0aGlzLnBhcmVudE5vZGUgKSB7XG5cdFx0XHRcdHRoaXMucGFyZW50Tm9kZS5pbnNlcnRCZWZvcmUoIGVsZW0sIHRoaXMgKTtcblx0XHRcdH1cblx0XHR9ICk7XG5cdH0sXG5cblx0YWZ0ZXI6IGZ1bmN0aW9uKCkge1xuXHRcdHJldHVybiBkb21NYW5pcCggdGhpcywgYXJndW1lbnRzLCBmdW5jdGlvbiggZWxlbSApIHtcblx0XHRcdGlmICggdGhpcy5wYXJlbnROb2RlICkge1xuXHRcdFx0XHR0aGlzLnBhcmVudE5vZGUuaW5zZXJ0QmVmb3JlKCBlbGVtLCB0aGlzLm5leHRTaWJsaW5nICk7XG5cdFx0XHR9XG5cdFx0fSApO1xuXHR9LFxuXG5cdGVtcHR5OiBmdW5jdGlvbigpIHtcblx0XHR2YXIgZWxlbSxcblx0XHRcdGkgPSAwO1xuXG5cdFx0Zm9yICggOyAoIGVsZW0gPSB0aGlzWyBpIF0gKSAhPSBudWxsOyBpKysgKSB7XG5cdFx0XHRpZiAoIGVsZW0ubm9kZVR5cGUgPT09IDEgKSB7XG5cblx0XHRcdFx0Ly8gUHJldmVudCBtZW1vcnkgbGVha3Ncblx0XHRcdFx0alF1ZXJ5LmNsZWFuRGF0YSggZ2V0QWxsKCBlbGVtLCBmYWxzZSApICk7XG5cblx0XHRcdFx0Ly8gUmVtb3ZlIGFueSByZW1haW5pbmcgbm9kZXNcblx0XHRcdFx0ZWxlbS50ZXh0Q29udGVudCA9IFwiXCI7XG5cdFx0XHR9XG5cdFx0fVxuXG5cdFx0cmV0dXJuIHRoaXM7XG5cdH0sXG5cblx0Y2xvbmU6IGZ1bmN0aW9uKCBkYXRhQW5kRXZlbnRzLCBkZWVwRGF0YUFuZEV2ZW50cyApIHtcblx0XHRkYXRhQW5kRXZlbnRzID0gZGF0YUFuZEV2ZW50cyA9PSBudWxsID8gZmFsc2UgOiBkYXRhQW5kRXZlbnRzO1xuXHRcdGRlZXBEYXRhQW5kRXZlbnRzID0gZGVlcERhdGFBbmRFdmVudHMgPT0gbnVsbCA/IGRhdGFBbmRFdmVudHMgOiBkZWVwRGF0YUFuZEV2ZW50cztcblxuXHRcdHJldHVybiB0aGlzLm1hcCggZnVuY3Rpb24oKSB7XG5cdFx0XHRyZXR1cm4galF1ZXJ5LmNsb25lKCB0aGlzLCBkYXRhQW5kRXZlbnRzLCBkZWVwRGF0YUFuZEV2ZW50cyApO1xuXHRcdH0gKTtcblx0fSxcblxuXHRodG1sOiBmdW5jdGlvbiggdmFsdWUgKSB7XG5cdFx0cmV0dXJuIGFjY2VzcyggdGhpcywgZnVuY3Rpb24oIHZhbHVlICkge1xuXHRcdFx0dmFyIGVsZW0gPSB0aGlzWyAwIF0gfHwge30sXG5cdFx0XHRcdGkgPSAwLFxuXHRcdFx0XHRsID0gdGhpcy5sZW5ndGg7XG5cblx0XHRcdGlmICggdmFsdWUgPT09IHVuZGVmaW5lZCAmJiBlbGVtLm5vZGVUeXBlID09PSAxICkge1xuXHRcdFx0XHRyZXR1cm4gZWxlbS5pbm5lckhUTUw7XG5cdFx0XHR9XG5cblx0XHRcdC8vIFNlZSBpZiB3ZSBjYW4gdGFrZSBhIHNob3J0Y3V0IGFuZCBqdXN0IHVzZSBpbm5lckhUTUxcblx0XHRcdGlmICggdHlwZW9mIHZhbHVlID09PSBcInN0cmluZ1wiICYmICFybm9Jbm5lcmh0bWwudGVzdCggdmFsdWUgKSAmJlxuXHRcdFx0XHQhd3JhcE1hcFsgKCBydGFnTmFtZS5leGVjKCB2YWx1ZSApIHx8IFsgXCJcIiwgXCJcIiBdIClbIDEgXS50b0xvd2VyQ2FzZSgpIF0gKSB7XG5cblx0XHRcdFx0dmFsdWUgPSBqUXVlcnkuaHRtbFByZWZpbHRlciggdmFsdWUgKTtcblxuXHRcdFx0XHR0cnkge1xuXHRcdFx0XHRcdGZvciAoIDsgaSA8IGw7IGkrKyApIHtcblx0XHRcdFx0XHRcdGVsZW0gPSB0aGlzWyBpIF0gfHwge307XG5cblx0XHRcdFx0XHRcdC8vIFJlbW92ZSBlbGVtZW50IG5vZGVzIGFuZCBwcmV2ZW50IG1lbW9yeSBsZWFrc1xuXHRcdFx0XHRcdFx0aWYgKCBlbGVtLm5vZGVUeXBlID09PSAxICkge1xuXHRcdFx0XHRcdFx0XHRqUXVlcnkuY2xlYW5EYXRhKCBnZXRBbGwoIGVsZW0sIGZhbHNlICkgKTtcblx0XHRcdFx0XHRcdFx0ZWxlbS5pbm5lckhUTUwgPSB2YWx1ZTtcblx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHR9XG5cblx0XHRcdFx0XHRlbGVtID0gMDtcblxuXHRcdFx0XHQvLyBJZiB1c2luZyBpbm5lckhUTUwgdGhyb3dzIGFuIGV4Y2VwdGlvbiwgdXNlIHRoZSBmYWxsYmFjayBtZXRob2Rcblx0XHRcdFx0fSBjYXRjaCAoIGUgKSB7fVxuXHRcdFx0fVxuXG5cdFx0XHRpZiAoIGVsZW0gKSB7XG5cdFx0XHRcdHRoaXMuZW1wdHkoKS5hcHBlbmQoIHZhbHVlICk7XG5cdFx0XHR9XG5cdFx0fSwgbnVsbCwgdmFsdWUsIGFyZ3VtZW50cy5sZW5ndGggKTtcblx0fSxcblxuXHRyZXBsYWNlV2l0aDogZnVuY3Rpb24oKSB7XG5cdFx0dmFyIGlnbm9yZWQgPSBbXTtcblxuXHRcdC8vIE1ha2UgdGhlIGNoYW5nZXMsIHJlcGxhY2luZyBlYWNoIG5vbi1pZ25vcmVkIGNvbnRleHQgZWxlbWVudCB3aXRoIHRoZSBuZXcgY29udGVudFxuXHRcdHJldHVybiBkb21NYW5pcCggdGhpcywgYXJndW1lbnRzLCBmdW5jdGlvbiggZWxlbSApIHtcblx0XHRcdHZhciBwYXJlbnQgPSB0aGlzLnBhcmVudE5vZGU7XG5cblx0XHRcdGlmICggalF1ZXJ5LmluQXJyYXkoIHRoaXMsIGlnbm9yZWQgKSA8IDAgKSB7XG5cdFx0XHRcdGpRdWVyeS5jbGVhbkRhdGEoIGdldEFsbCggdGhpcyApICk7XG5cdFx0XHRcdGlmICggcGFyZW50ICkge1xuXHRcdFx0XHRcdHBhcmVudC5yZXBsYWNlQ2hpbGQoIGVsZW0sIHRoaXMgKTtcblx0XHRcdFx0fVxuXHRcdFx0fVxuXG5cdFx0Ly8gRm9yY2UgY2FsbGJhY2sgaW52b2NhdGlvblxuXHRcdH0sIGlnbm9yZWQgKTtcblx0fVxufSApO1xuXG5qUXVlcnkuZWFjaCgge1xuXHRhcHBlbmRUbzogXCJhcHBlbmRcIixcblx0cHJlcGVuZFRvOiBcInByZXBlbmRcIixcblx0aW5zZXJ0QmVmb3JlOiBcImJlZm9yZVwiLFxuXHRpbnNlcnRBZnRlcjogXCJhZnRlclwiLFxuXHRyZXBsYWNlQWxsOiBcInJlcGxhY2VXaXRoXCJcbn0sIGZ1bmN0aW9uKCBuYW1lLCBvcmlnaW5hbCApIHtcblx0alF1ZXJ5LmZuWyBuYW1lIF0gPSBmdW5jdGlvbiggc2VsZWN0b3IgKSB7XG5cdFx0dmFyIGVsZW1zLFxuXHRcdFx0cmV0ID0gW10sXG5cdFx0XHRpbnNlcnQgPSBqUXVlcnkoIHNlbGVjdG9yICksXG5cdFx0XHRsYXN0ID0gaW5zZXJ0Lmxlbmd0aCAtIDEsXG5cdFx0XHRpID0gMDtcblxuXHRcdGZvciAoIDsgaSA8PSBsYXN0OyBpKysgKSB7XG5cdFx0XHRlbGVtcyA9IGkgPT09IGxhc3QgPyB0aGlzIDogdGhpcy5jbG9uZSggdHJ1ZSApO1xuXHRcdFx0alF1ZXJ5KCBpbnNlcnRbIGkgXSApWyBvcmlnaW5hbCBdKCBlbGVtcyApO1xuXG5cdFx0XHQvLyBTdXBwb3J0OiBBbmRyb2lkIDw9NC4wIG9ubHksIFBoYW50b21KUyAxIG9ubHlcblx0XHRcdC8vIC5nZXQoKSBiZWNhdXNlIHB1c2guYXBwbHkoXywgYXJyYXlsaWtlKSB0aHJvd3Mgb24gYW5jaWVudCBXZWJLaXRcblx0XHRcdHB1c2guYXBwbHkoIHJldCwgZWxlbXMuZ2V0KCkgKTtcblx0XHR9XG5cblx0XHRyZXR1cm4gdGhpcy5wdXNoU3RhY2soIHJldCApO1xuXHR9O1xufSApO1xudmFyIHJudW1ub25weCA9IG5ldyBSZWdFeHAoIFwiXihcIiArIHBudW0gKyBcIikoPyFweClbYS16JV0rJFwiLCBcImlcIiApO1xuXG52YXIgZ2V0U3R5bGVzID0gZnVuY3Rpb24oIGVsZW0gKSB7XG5cblx0XHQvLyBTdXBwb3J0OiBJRSA8PTExIG9ubHksIEZpcmVmb3ggPD0zMCAoIzE1MDk4LCAjMTQxNTApXG5cdFx0Ly8gSUUgdGhyb3dzIG9uIGVsZW1lbnRzIGNyZWF0ZWQgaW4gcG9wdXBzXG5cdFx0Ly8gRkYgbWVhbndoaWxlIHRocm93cyBvbiBmcmFtZSBlbGVtZW50cyB0aHJvdWdoIFwiZGVmYXVsdFZpZXcuZ2V0Q29tcHV0ZWRTdHlsZVwiXG5cdFx0dmFyIHZpZXcgPSBlbGVtLm93bmVyRG9jdW1lbnQuZGVmYXVsdFZpZXc7XG5cblx0XHRpZiAoICF2aWV3IHx8ICF2aWV3Lm9wZW5lciApIHtcblx0XHRcdHZpZXcgPSB3aW5kb3c7XG5cdFx0fVxuXG5cdFx0cmV0dXJuIHZpZXcuZ2V0Q29tcHV0ZWRTdHlsZSggZWxlbSApO1xuXHR9O1xuXG52YXIgc3dhcCA9IGZ1bmN0aW9uKCBlbGVtLCBvcHRpb25zLCBjYWxsYmFjayApIHtcblx0dmFyIHJldCwgbmFtZSxcblx0XHRvbGQgPSB7fTtcblxuXHQvLyBSZW1lbWJlciB0aGUgb2xkIHZhbHVlcywgYW5kIGluc2VydCB0aGUgbmV3IG9uZXNcblx0Zm9yICggbmFtZSBpbiBvcHRpb25zICkge1xuXHRcdG9sZFsgbmFtZSBdID0gZWxlbS5zdHlsZVsgbmFtZSBdO1xuXHRcdGVsZW0uc3R5bGVbIG5hbWUgXSA9IG9wdGlvbnNbIG5hbWUgXTtcblx0fVxuXG5cdHJldCA9IGNhbGxiYWNrLmNhbGwoIGVsZW0gKTtcblxuXHQvLyBSZXZlcnQgdGhlIG9sZCB2YWx1ZXNcblx0Zm9yICggbmFtZSBpbiBvcHRpb25zICkge1xuXHRcdGVsZW0uc3R5bGVbIG5hbWUgXSA9IG9sZFsgbmFtZSBdO1xuXHR9XG5cblx0cmV0dXJuIHJldDtcbn07XG5cblxudmFyIHJib3hTdHlsZSA9IG5ldyBSZWdFeHAoIGNzc0V4cGFuZC5qb2luKCBcInxcIiApLCBcImlcIiApO1xuXG5cblxuKCBmdW5jdGlvbigpIHtcblxuXHQvLyBFeGVjdXRpbmcgYm90aCBwaXhlbFBvc2l0aW9uICYgYm94U2l6aW5nUmVsaWFibGUgdGVzdHMgcmVxdWlyZSBvbmx5IG9uZSBsYXlvdXRcblx0Ly8gc28gdGhleSdyZSBleGVjdXRlZCBhdCB0aGUgc2FtZSB0aW1lIHRvIHNhdmUgdGhlIHNlY29uZCBjb21wdXRhdGlvbi5cblx0ZnVuY3Rpb24gY29tcHV0ZVN0eWxlVGVzdHMoKSB7XG5cblx0XHQvLyBUaGlzIGlzIGEgc2luZ2xldG9uLCB3ZSBuZWVkIHRvIGV4ZWN1dGUgaXQgb25seSBvbmNlXG5cdFx0aWYgKCAhZGl2ICkge1xuXHRcdFx0cmV0dXJuO1xuXHRcdH1cblxuXHRcdGNvbnRhaW5lci5zdHlsZS5jc3NUZXh0ID0gXCJwb3NpdGlvbjphYnNvbHV0ZTtsZWZ0Oi0xMTExMXB4O3dpZHRoOjYwcHg7XCIgK1xuXHRcdFx0XCJtYXJnaW4tdG9wOjFweDtwYWRkaW5nOjA7Ym9yZGVyOjBcIjtcblx0XHRkaXYuc3R5bGUuY3NzVGV4dCA9XG5cdFx0XHRcInBvc2l0aW9uOnJlbGF0aXZlO2Rpc3BsYXk6YmxvY2s7Ym94LXNpemluZzpib3JkZXItYm94O292ZXJmbG93OnNjcm9sbDtcIiArXG5cdFx0XHRcIm1hcmdpbjphdXRvO2JvcmRlcjoxcHg7cGFkZGluZzoxcHg7XCIgK1xuXHRcdFx0XCJ3aWR0aDo2MCU7dG9wOjElXCI7XG5cdFx0ZG9jdW1lbnRFbGVtZW50LmFwcGVuZENoaWxkKCBjb250YWluZXIgKS5hcHBlbmRDaGlsZCggZGl2ICk7XG5cblx0XHR2YXIgZGl2U3R5bGUgPSB3aW5kb3cuZ2V0Q29tcHV0ZWRTdHlsZSggZGl2ICk7XG5cdFx0cGl4ZWxQb3NpdGlvblZhbCA9IGRpdlN0eWxlLnRvcCAhPT0gXCIxJVwiO1xuXG5cdFx0Ly8gU3VwcG9ydDogQW5kcm9pZCA0LjAgLSA0LjMgb25seSwgRmlyZWZveCA8PTMgLSA0NFxuXHRcdHJlbGlhYmxlTWFyZ2luTGVmdFZhbCA9IHJvdW5kUGl4ZWxNZWFzdXJlcyggZGl2U3R5bGUubWFyZ2luTGVmdCApID09PSAxMjtcblxuXHRcdC8vIFN1cHBvcnQ6IEFuZHJvaWQgNC4wIC0gNC4zIG9ubHksIFNhZmFyaSA8PTkuMSAtIDEwLjEsIGlPUyA8PTcuMCAtIDkuM1xuXHRcdC8vIFNvbWUgc3R5bGVzIGNvbWUgYmFjayB3aXRoIHBlcmNlbnRhZ2UgdmFsdWVzLCBldmVuIHRob3VnaCB0aGV5IHNob3VsZG4ndFxuXHRcdGRpdi5zdHlsZS5yaWdodCA9IFwiNjAlXCI7XG5cdFx0cGl4ZWxCb3hTdHlsZXNWYWwgPSByb3VuZFBpeGVsTWVhc3VyZXMoIGRpdlN0eWxlLnJpZ2h0ICkgPT09IDM2O1xuXG5cdFx0Ly8gU3VwcG9ydDogSUUgOSAtIDExIG9ubHlcblx0XHQvLyBEZXRlY3QgbWlzcmVwb3J0aW5nIG9mIGNvbnRlbnQgZGltZW5zaW9ucyBmb3IgYm94LXNpemluZzpib3JkZXItYm94IGVsZW1lbnRzXG5cdFx0Ym94U2l6aW5nUmVsaWFibGVWYWwgPSByb3VuZFBpeGVsTWVhc3VyZXMoIGRpdlN0eWxlLndpZHRoICkgPT09IDM2O1xuXG5cdFx0Ly8gU3VwcG9ydDogSUUgOSBvbmx5XG5cdFx0Ly8gRGV0ZWN0IG92ZXJmbG93OnNjcm9sbCBzY3Jld2luZXNzIChnaC0zNjk5KVxuXHRcdC8vIFN1cHBvcnQ6IENocm9tZSA8PTY0XG5cdFx0Ly8gRG9uJ3QgZ2V0IHRyaWNrZWQgd2hlbiB6b29tIGFmZmVjdHMgb2Zmc2V0V2lkdGggKGdoLTQwMjkpXG5cdFx0ZGl2LnN0eWxlLnBvc2l0aW9uID0gXCJhYnNvbHV0ZVwiO1xuXHRcdHNjcm9sbGJveFNpemVWYWwgPSByb3VuZFBpeGVsTWVhc3VyZXMoIGRpdi5vZmZzZXRXaWR0aCAvIDMgKSA9PT0gMTI7XG5cblx0XHRkb2N1bWVudEVsZW1lbnQucmVtb3ZlQ2hpbGQoIGNvbnRhaW5lciApO1xuXG5cdFx0Ly8gTnVsbGlmeSB0aGUgZGl2IHNvIGl0IHdvdWxkbid0IGJlIHN0b3JlZCBpbiB0aGUgbWVtb3J5IGFuZFxuXHRcdC8vIGl0IHdpbGwgYWxzbyBiZSBhIHNpZ24gdGhhdCBjaGVja3MgYWxyZWFkeSBwZXJmb3JtZWRcblx0XHRkaXYgPSBudWxsO1xuXHR9XG5cblx0ZnVuY3Rpb24gcm91bmRQaXhlbE1lYXN1cmVzKCBtZWFzdXJlICkge1xuXHRcdHJldHVybiBNYXRoLnJvdW5kKCBwYXJzZUZsb2F0KCBtZWFzdXJlICkgKTtcblx0fVxuXG5cdHZhciBwaXhlbFBvc2l0aW9uVmFsLCBib3hTaXppbmdSZWxpYWJsZVZhbCwgc2Nyb2xsYm94U2l6ZVZhbCwgcGl4ZWxCb3hTdHlsZXNWYWwsXG5cdFx0cmVsaWFibGVUckRpbWVuc2lvbnNWYWwsIHJlbGlhYmxlTWFyZ2luTGVmdFZhbCxcblx0XHRjb250YWluZXIgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCBcImRpdlwiICksXG5cdFx0ZGl2ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCggXCJkaXZcIiApO1xuXG5cdC8vIEZpbmlzaCBlYXJseSBpbiBsaW1pdGVkIChub24tYnJvd3NlcikgZW52aXJvbm1lbnRzXG5cdGlmICggIWRpdi5zdHlsZSApIHtcblx0XHRyZXR1cm47XG5cdH1cblxuXHQvLyBTdXBwb3J0OiBJRSA8PTkgLSAxMSBvbmx5XG5cdC8vIFN0eWxlIG9mIGNsb25lZCBlbGVtZW50IGFmZmVjdHMgc291cmNlIGVsZW1lbnQgY2xvbmVkICgjODkwOClcblx0ZGl2LnN0eWxlLmJhY2tncm91bmRDbGlwID0gXCJjb250ZW50LWJveFwiO1xuXHRkaXYuY2xvbmVOb2RlKCB0cnVlICkuc3R5bGUuYmFja2dyb3VuZENsaXAgPSBcIlwiO1xuXHRzdXBwb3J0LmNsZWFyQ2xvbmVTdHlsZSA9IGRpdi5zdHlsZS5iYWNrZ3JvdW5kQ2xpcCA9PT0gXCJjb250ZW50LWJveFwiO1xuXG5cdGpRdWVyeS5leHRlbmQoIHN1cHBvcnQsIHtcblx0XHRib3hTaXppbmdSZWxpYWJsZTogZnVuY3Rpb24oKSB7XG5cdFx0XHRjb21wdXRlU3R5bGVUZXN0cygpO1xuXHRcdFx0cmV0dXJuIGJveFNpemluZ1JlbGlhYmxlVmFsO1xuXHRcdH0sXG5cdFx0cGl4ZWxCb3hTdHlsZXM6IGZ1bmN0aW9uKCkge1xuXHRcdFx0Y29tcHV0ZVN0eWxlVGVzdHMoKTtcblx0XHRcdHJldHVybiBwaXhlbEJveFN0eWxlc1ZhbDtcblx0XHR9LFxuXHRcdHBpeGVsUG9zaXRpb246IGZ1bmN0aW9uKCkge1xuXHRcdFx0Y29tcHV0ZVN0eWxlVGVzdHMoKTtcblx0XHRcdHJldHVybiBwaXhlbFBvc2l0aW9uVmFsO1xuXHRcdH0sXG5cdFx0cmVsaWFibGVNYXJnaW5MZWZ0OiBmdW5jdGlvbigpIHtcblx0XHRcdGNvbXB1dGVTdHlsZVRlc3RzKCk7XG5cdFx0XHRyZXR1cm4gcmVsaWFibGVNYXJnaW5MZWZ0VmFsO1xuXHRcdH0sXG5cdFx0c2Nyb2xsYm94U2l6ZTogZnVuY3Rpb24oKSB7XG5cdFx0XHRjb21wdXRlU3R5bGVUZXN0cygpO1xuXHRcdFx0cmV0dXJuIHNjcm9sbGJveFNpemVWYWw7XG5cdFx0fSxcblxuXHRcdC8vIFN1cHBvcnQ6IElFIDkgLSAxMSssIEVkZ2UgMTUgLSAxOCtcblx0XHQvLyBJRS9FZGdlIG1pc3JlcG9ydCBgZ2V0Q29tcHV0ZWRTdHlsZWAgb2YgdGFibGUgcm93cyB3aXRoIHdpZHRoL2hlaWdodFxuXHRcdC8vIHNldCBpbiBDU1Mgd2hpbGUgYG9mZnNldCpgIHByb3BlcnRpZXMgcmVwb3J0IGNvcnJlY3QgdmFsdWVzLlxuXHRcdC8vIEJlaGF2aW9yIGluIElFIDkgaXMgbW9yZSBzdWJ0bGUgdGhhbiBpbiBuZXdlciB2ZXJzaW9ucyAmIGl0IHBhc3Nlc1xuXHRcdC8vIHNvbWUgdmVyc2lvbnMgb2YgdGhpcyB0ZXN0OyBtYWtlIHN1cmUgbm90IHRvIG1ha2UgaXQgcGFzcyB0aGVyZSFcblx0XHRyZWxpYWJsZVRyRGltZW5zaW9uczogZnVuY3Rpb24oKSB7XG5cdFx0XHR2YXIgdGFibGUsIHRyLCB0ckNoaWxkLCB0clN0eWxlO1xuXHRcdFx0aWYgKCByZWxpYWJsZVRyRGltZW5zaW9uc1ZhbCA9PSBudWxsICkge1xuXHRcdFx0XHR0YWJsZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoIFwidGFibGVcIiApO1xuXHRcdFx0XHR0ciA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoIFwidHJcIiApO1xuXHRcdFx0XHR0ckNoaWxkID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCggXCJkaXZcIiApO1xuXG5cdFx0XHRcdHRhYmxlLnN0eWxlLmNzc1RleHQgPSBcInBvc2l0aW9uOmFic29sdXRlO2xlZnQ6LTExMTExcHhcIjtcblx0XHRcdFx0dHIuc3R5bGUuaGVpZ2h0ID0gXCIxcHhcIjtcblx0XHRcdFx0dHJDaGlsZC5zdHlsZS5oZWlnaHQgPSBcIjlweFwiO1xuXG5cdFx0XHRcdGRvY3VtZW50RWxlbWVudFxuXHRcdFx0XHRcdC5hcHBlbmRDaGlsZCggdGFibGUgKVxuXHRcdFx0XHRcdC5hcHBlbmRDaGlsZCggdHIgKVxuXHRcdFx0XHRcdC5hcHBlbmRDaGlsZCggdHJDaGlsZCApO1xuXG5cdFx0XHRcdHRyU3R5bGUgPSB3aW5kb3cuZ2V0Q29tcHV0ZWRTdHlsZSggdHIgKTtcblx0XHRcdFx0cmVsaWFibGVUckRpbWVuc2lvbnNWYWwgPSBwYXJzZUludCggdHJTdHlsZS5oZWlnaHQgKSA+IDM7XG5cblx0XHRcdFx0ZG9jdW1lbnRFbGVtZW50LnJlbW92ZUNoaWxkKCB0YWJsZSApO1xuXHRcdFx0fVxuXHRcdFx0cmV0dXJuIHJlbGlhYmxlVHJEaW1lbnNpb25zVmFsO1xuXHRcdH1cblx0fSApO1xufSApKCk7XG5cblxuZnVuY3Rpb24gY3VyQ1NTKCBlbGVtLCBuYW1lLCBjb21wdXRlZCApIHtcblx0dmFyIHdpZHRoLCBtaW5XaWR0aCwgbWF4V2lkdGgsIHJldCxcblxuXHRcdC8vIFN1cHBvcnQ6IEZpcmVmb3ggNTErXG5cdFx0Ly8gUmV0cmlldmluZyBzdHlsZSBiZWZvcmUgY29tcHV0ZWQgc29tZWhvd1xuXHRcdC8vIGZpeGVzIGFuIGlzc3VlIHdpdGggZ2V0dGluZyB3cm9uZyB2YWx1ZXNcblx0XHQvLyBvbiBkZXRhY2hlZCBlbGVtZW50c1xuXHRcdHN0eWxlID0gZWxlbS5zdHlsZTtcblxuXHRjb21wdXRlZCA9IGNvbXB1dGVkIHx8IGdldFN0eWxlcyggZWxlbSApO1xuXG5cdC8vIGdldFByb3BlcnR5VmFsdWUgaXMgbmVlZGVkIGZvcjpcblx0Ly8gICAuY3NzKCdmaWx0ZXInKSAoSUUgOSBvbmx5LCAjMTI1MzcpXG5cdC8vICAgLmNzcygnLS1jdXN0b21Qcm9wZXJ0eSkgKCMzMTQ0KVxuXHRpZiAoIGNvbXB1dGVkICkge1xuXHRcdHJldCA9IGNvbXB1dGVkLmdldFByb3BlcnR5VmFsdWUoIG5hbWUgKSB8fCBjb21wdXRlZFsgbmFtZSBdO1xuXG5cdFx0aWYgKCByZXQgPT09IFwiXCIgJiYgIWlzQXR0YWNoZWQoIGVsZW0gKSApIHtcblx0XHRcdHJldCA9IGpRdWVyeS5zdHlsZSggZWxlbSwgbmFtZSApO1xuXHRcdH1cblxuXHRcdC8vIEEgdHJpYnV0ZSB0byB0aGUgXCJhd2Vzb21lIGhhY2sgYnkgRGVhbiBFZHdhcmRzXCJcblx0XHQvLyBBbmRyb2lkIEJyb3dzZXIgcmV0dXJucyBwZXJjZW50YWdlIGZvciBzb21lIHZhbHVlcyxcblx0XHQvLyBidXQgd2lkdGggc2VlbXMgdG8gYmUgcmVsaWFibHkgcGl4ZWxzLlxuXHRcdC8vIFRoaXMgaXMgYWdhaW5zdCB0aGUgQ1NTT00gZHJhZnQgc3BlYzpcblx0XHQvLyBodHRwczovL2RyYWZ0cy5jc3N3Zy5vcmcvY3Nzb20vI3Jlc29sdmVkLXZhbHVlc1xuXHRcdGlmICggIXN1cHBvcnQucGl4ZWxCb3hTdHlsZXMoKSAmJiBybnVtbm9ucHgudGVzdCggcmV0ICkgJiYgcmJveFN0eWxlLnRlc3QoIG5hbWUgKSApIHtcblxuXHRcdFx0Ly8gUmVtZW1iZXIgdGhlIG9yaWdpbmFsIHZhbHVlc1xuXHRcdFx0d2lkdGggPSBzdHlsZS53aWR0aDtcblx0XHRcdG1pbldpZHRoID0gc3R5bGUubWluV2lkdGg7XG5cdFx0XHRtYXhXaWR0aCA9IHN0eWxlLm1heFdpZHRoO1xuXG5cdFx0XHQvLyBQdXQgaW4gdGhlIG5ldyB2YWx1ZXMgdG8gZ2V0IGEgY29tcHV0ZWQgdmFsdWUgb3V0XG5cdFx0XHRzdHlsZS5taW5XaWR0aCA9IHN0eWxlLm1heFdpZHRoID0gc3R5bGUud2lkdGggPSByZXQ7XG5cdFx0XHRyZXQgPSBjb21wdXRlZC53aWR0aDtcblxuXHRcdFx0Ly8gUmV2ZXJ0IHRoZSBjaGFuZ2VkIHZhbHVlc1xuXHRcdFx0c3R5bGUud2lkdGggPSB3aWR0aDtcblx0XHRcdHN0eWxlLm1pbldpZHRoID0gbWluV2lkdGg7XG5cdFx0XHRzdHlsZS5tYXhXaWR0aCA9IG1heFdpZHRoO1xuXHRcdH1cblx0fVxuXG5cdHJldHVybiByZXQgIT09IHVuZGVmaW5lZCA/XG5cblx0XHQvLyBTdXBwb3J0OiBJRSA8PTkgLSAxMSBvbmx5XG5cdFx0Ly8gSUUgcmV0dXJucyB6SW5kZXggdmFsdWUgYXMgYW4gaW50ZWdlci5cblx0XHRyZXQgKyBcIlwiIDpcblx0XHRyZXQ7XG59XG5cblxuZnVuY3Rpb24gYWRkR2V0SG9va0lmKCBjb25kaXRpb25GbiwgaG9va0ZuICkge1xuXG5cdC8vIERlZmluZSB0aGUgaG9vaywgd2UnbGwgY2hlY2sgb24gdGhlIGZpcnN0IHJ1biBpZiBpdCdzIHJlYWxseSBuZWVkZWQuXG5cdHJldHVybiB7XG5cdFx0Z2V0OiBmdW5jdGlvbigpIHtcblx0XHRcdGlmICggY29uZGl0aW9uRm4oKSApIHtcblxuXHRcdFx0XHQvLyBIb29rIG5vdCBuZWVkZWQgKG9yIGl0J3Mgbm90IHBvc3NpYmxlIHRvIHVzZSBpdCBkdWVcblx0XHRcdFx0Ly8gdG8gbWlzc2luZyBkZXBlbmRlbmN5KSwgcmVtb3ZlIGl0LlxuXHRcdFx0XHRkZWxldGUgdGhpcy5nZXQ7XG5cdFx0XHRcdHJldHVybjtcblx0XHRcdH1cblxuXHRcdFx0Ly8gSG9vayBuZWVkZWQ7IHJlZGVmaW5lIGl0IHNvIHRoYXQgdGhlIHN1cHBvcnQgdGVzdCBpcyBub3QgZXhlY3V0ZWQgYWdhaW4uXG5cdFx0XHRyZXR1cm4gKCB0aGlzLmdldCA9IGhvb2tGbiApLmFwcGx5KCB0aGlzLCBhcmd1bWVudHMgKTtcblx0XHR9XG5cdH07XG59XG5cblxudmFyIGNzc1ByZWZpeGVzID0gWyBcIldlYmtpdFwiLCBcIk1velwiLCBcIm1zXCIgXSxcblx0ZW1wdHlTdHlsZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoIFwiZGl2XCIgKS5zdHlsZSxcblx0dmVuZG9yUHJvcHMgPSB7fTtcblxuLy8gUmV0dXJuIGEgdmVuZG9yLXByZWZpeGVkIHByb3BlcnR5IG9yIHVuZGVmaW5lZFxuZnVuY3Rpb24gdmVuZG9yUHJvcE5hbWUoIG5hbWUgKSB7XG5cblx0Ly8gQ2hlY2sgZm9yIHZlbmRvciBwcmVmaXhlZCBuYW1lc1xuXHR2YXIgY2FwTmFtZSA9IG5hbWVbIDAgXS50b1VwcGVyQ2FzZSgpICsgbmFtZS5zbGljZSggMSApLFxuXHRcdGkgPSBjc3NQcmVmaXhlcy5sZW5ndGg7XG5cblx0d2hpbGUgKCBpLS0gKSB7XG5cdFx0bmFtZSA9IGNzc1ByZWZpeGVzWyBpIF0gKyBjYXBOYW1lO1xuXHRcdGlmICggbmFtZSBpbiBlbXB0eVN0eWxlICkge1xuXHRcdFx0cmV0dXJuIG5hbWU7XG5cdFx0fVxuXHR9XG59XG5cbi8vIFJldHVybiBhIHBvdGVudGlhbGx5LW1hcHBlZCBqUXVlcnkuY3NzUHJvcHMgb3IgdmVuZG9yIHByZWZpeGVkIHByb3BlcnR5XG5mdW5jdGlvbiBmaW5hbFByb3BOYW1lKCBuYW1lICkge1xuXHR2YXIgZmluYWwgPSBqUXVlcnkuY3NzUHJvcHNbIG5hbWUgXSB8fCB2ZW5kb3JQcm9wc1sgbmFtZSBdO1xuXG5cdGlmICggZmluYWwgKSB7XG5cdFx0cmV0dXJuIGZpbmFsO1xuXHR9XG5cdGlmICggbmFtZSBpbiBlbXB0eVN0eWxlICkge1xuXHRcdHJldHVybiBuYW1lO1xuXHR9XG5cdHJldHVybiB2ZW5kb3JQcm9wc1sgbmFtZSBdID0gdmVuZG9yUHJvcE5hbWUoIG5hbWUgKSB8fCBuYW1lO1xufVxuXG5cbnZhclxuXG5cdC8vIFN3YXBwYWJsZSBpZiBkaXNwbGF5IGlzIG5vbmUgb3Igc3RhcnRzIHdpdGggdGFibGVcblx0Ly8gZXhjZXB0IFwidGFibGVcIiwgXCJ0YWJsZS1jZWxsXCIsIG9yIFwidGFibGUtY2FwdGlvblwiXG5cdC8vIFNlZSBoZXJlIGZvciBkaXNwbGF5IHZhbHVlczogaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZW4tVVMvZG9jcy9DU1MvZGlzcGxheVxuXHRyZGlzcGxheXN3YXAgPSAvXihub25lfHRhYmxlKD8hLWNbZWFdKS4rKS8sXG5cdHJjdXN0b21Qcm9wID0gL14tLS8sXG5cdGNzc1Nob3cgPSB7IHBvc2l0aW9uOiBcImFic29sdXRlXCIsIHZpc2liaWxpdHk6IFwiaGlkZGVuXCIsIGRpc3BsYXk6IFwiYmxvY2tcIiB9LFxuXHRjc3NOb3JtYWxUcmFuc2Zvcm0gPSB7XG5cdFx0bGV0dGVyU3BhY2luZzogXCIwXCIsXG5cdFx0Zm9udFdlaWdodDogXCI0MDBcIlxuXHR9O1xuXG5mdW5jdGlvbiBzZXRQb3NpdGl2ZU51bWJlciggX2VsZW0sIHZhbHVlLCBzdWJ0cmFjdCApIHtcblxuXHQvLyBBbnkgcmVsYXRpdmUgKCsvLSkgdmFsdWVzIGhhdmUgYWxyZWFkeSBiZWVuXG5cdC8vIG5vcm1hbGl6ZWQgYXQgdGhpcyBwb2ludFxuXHR2YXIgbWF0Y2hlcyA9IHJjc3NOdW0uZXhlYyggdmFsdWUgKTtcblx0cmV0dXJuIG1hdGNoZXMgP1xuXG5cdFx0Ly8gR3VhcmQgYWdhaW5zdCB1bmRlZmluZWQgXCJzdWJ0cmFjdFwiLCBlLmcuLCB3aGVuIHVzZWQgYXMgaW4gY3NzSG9va3Ncblx0XHRNYXRoLm1heCggMCwgbWF0Y2hlc1sgMiBdIC0gKCBzdWJ0cmFjdCB8fCAwICkgKSArICggbWF0Y2hlc1sgMyBdIHx8IFwicHhcIiApIDpcblx0XHR2YWx1ZTtcbn1cblxuZnVuY3Rpb24gYm94TW9kZWxBZGp1c3RtZW50KCBlbGVtLCBkaW1lbnNpb24sIGJveCwgaXNCb3JkZXJCb3gsIHN0eWxlcywgY29tcHV0ZWRWYWwgKSB7XG5cdHZhciBpID0gZGltZW5zaW9uID09PSBcIndpZHRoXCIgPyAxIDogMCxcblx0XHRleHRyYSA9IDAsXG5cdFx0ZGVsdGEgPSAwO1xuXG5cdC8vIEFkanVzdG1lbnQgbWF5IG5vdCBiZSBuZWNlc3Nhcnlcblx0aWYgKCBib3ggPT09ICggaXNCb3JkZXJCb3ggPyBcImJvcmRlclwiIDogXCJjb250ZW50XCIgKSApIHtcblx0XHRyZXR1cm4gMDtcblx0fVxuXG5cdGZvciAoIDsgaSA8IDQ7IGkgKz0gMiApIHtcblxuXHRcdC8vIEJvdGggYm94IG1vZGVscyBleGNsdWRlIG1hcmdpblxuXHRcdGlmICggYm94ID09PSBcIm1hcmdpblwiICkge1xuXHRcdFx0ZGVsdGEgKz0galF1ZXJ5LmNzcyggZWxlbSwgYm94ICsgY3NzRXhwYW5kWyBpIF0sIHRydWUsIHN0eWxlcyApO1xuXHRcdH1cblxuXHRcdC8vIElmIHdlIGdldCBoZXJlIHdpdGggYSBjb250ZW50LWJveCwgd2UncmUgc2Vla2luZyBcInBhZGRpbmdcIiBvciBcImJvcmRlclwiIG9yIFwibWFyZ2luXCJcblx0XHRpZiAoICFpc0JvcmRlckJveCApIHtcblxuXHRcdFx0Ly8gQWRkIHBhZGRpbmdcblx0XHRcdGRlbHRhICs9IGpRdWVyeS5jc3MoIGVsZW0sIFwicGFkZGluZ1wiICsgY3NzRXhwYW5kWyBpIF0sIHRydWUsIHN0eWxlcyApO1xuXG5cdFx0XHQvLyBGb3IgXCJib3JkZXJcIiBvciBcIm1hcmdpblwiLCBhZGQgYm9yZGVyXG5cdFx0XHRpZiAoIGJveCAhPT0gXCJwYWRkaW5nXCIgKSB7XG5cdFx0XHRcdGRlbHRhICs9IGpRdWVyeS5jc3MoIGVsZW0sIFwiYm9yZGVyXCIgKyBjc3NFeHBhbmRbIGkgXSArIFwiV2lkdGhcIiwgdHJ1ZSwgc3R5bGVzICk7XG5cblx0XHRcdC8vIEJ1dCBzdGlsbCBrZWVwIHRyYWNrIG9mIGl0IG90aGVyd2lzZVxuXHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0ZXh0cmEgKz0galF1ZXJ5LmNzcyggZWxlbSwgXCJib3JkZXJcIiArIGNzc0V4cGFuZFsgaSBdICsgXCJXaWR0aFwiLCB0cnVlLCBzdHlsZXMgKTtcblx0XHRcdH1cblxuXHRcdC8vIElmIHdlIGdldCBoZXJlIHdpdGggYSBib3JkZXItYm94IChjb250ZW50ICsgcGFkZGluZyArIGJvcmRlciksIHdlJ3JlIHNlZWtpbmcgXCJjb250ZW50XCIgb3Jcblx0XHQvLyBcInBhZGRpbmdcIiBvciBcIm1hcmdpblwiXG5cdFx0fSBlbHNlIHtcblxuXHRcdFx0Ly8gRm9yIFwiY29udGVudFwiLCBzdWJ0cmFjdCBwYWRkaW5nXG5cdFx0XHRpZiAoIGJveCA9PT0gXCJjb250ZW50XCIgKSB7XG5cdFx0XHRcdGRlbHRhIC09IGpRdWVyeS5jc3MoIGVsZW0sIFwicGFkZGluZ1wiICsgY3NzRXhwYW5kWyBpIF0sIHRydWUsIHN0eWxlcyApO1xuXHRcdFx0fVxuXG5cdFx0XHQvLyBGb3IgXCJjb250ZW50XCIgb3IgXCJwYWRkaW5nXCIsIHN1YnRyYWN0IGJvcmRlclxuXHRcdFx0aWYgKCBib3ggIT09IFwibWFyZ2luXCIgKSB7XG5cdFx0XHRcdGRlbHRhIC09IGpRdWVyeS5jc3MoIGVsZW0sIFwiYm9yZGVyXCIgKyBjc3NFeHBhbmRbIGkgXSArIFwiV2lkdGhcIiwgdHJ1ZSwgc3R5bGVzICk7XG5cdFx0XHR9XG5cdFx0fVxuXHR9XG5cblx0Ly8gQWNjb3VudCBmb3IgcG9zaXRpdmUgY29udGVudC1ib3ggc2Nyb2xsIGd1dHRlciB3aGVuIHJlcXVlc3RlZCBieSBwcm92aWRpbmcgY29tcHV0ZWRWYWxcblx0aWYgKCAhaXNCb3JkZXJCb3ggJiYgY29tcHV0ZWRWYWwgPj0gMCApIHtcblxuXHRcdC8vIG9mZnNldFdpZHRoL29mZnNldEhlaWdodCBpcyBhIHJvdW5kZWQgc3VtIG9mIGNvbnRlbnQsIHBhZGRpbmcsIHNjcm9sbCBndXR0ZXIsIGFuZCBib3JkZXJcblx0XHQvLyBBc3N1bWluZyBpbnRlZ2VyIHNjcm9sbCBndXR0ZXIsIHN1YnRyYWN0IHRoZSByZXN0IGFuZCByb3VuZCBkb3duXG5cdFx0ZGVsdGEgKz0gTWF0aC5tYXgoIDAsIE1hdGguY2VpbChcblx0XHRcdGVsZW1bIFwib2Zmc2V0XCIgKyBkaW1lbnNpb25bIDAgXS50b1VwcGVyQ2FzZSgpICsgZGltZW5zaW9uLnNsaWNlKCAxICkgXSAtXG5cdFx0XHRjb21wdXRlZFZhbCAtXG5cdFx0XHRkZWx0YSAtXG5cdFx0XHRleHRyYSAtXG5cdFx0XHQwLjVcblxuXHRcdC8vIElmIG9mZnNldFdpZHRoL29mZnNldEhlaWdodCBpcyB1bmtub3duLCB0aGVuIHdlIGNhbid0IGRldGVybWluZSBjb250ZW50LWJveCBzY3JvbGwgZ3V0dGVyXG5cdFx0Ly8gVXNlIGFuIGV4cGxpY2l0IHplcm8gdG8gYXZvaWQgTmFOIChnaC0zOTY0KVxuXHRcdCkgKSB8fCAwO1xuXHR9XG5cblx0cmV0dXJuIGRlbHRhO1xufVxuXG5mdW5jdGlvbiBnZXRXaWR0aE9ySGVpZ2h0KCBlbGVtLCBkaW1lbnNpb24sIGV4dHJhICkge1xuXG5cdC8vIFN0YXJ0IHdpdGggY29tcHV0ZWQgc3R5bGVcblx0dmFyIHN0eWxlcyA9IGdldFN0eWxlcyggZWxlbSApLFxuXG5cdFx0Ly8gVG8gYXZvaWQgZm9yY2luZyBhIHJlZmxvdywgb25seSBmZXRjaCBib3hTaXppbmcgaWYgd2UgbmVlZCBpdCAoZ2gtNDMyMikuXG5cdFx0Ly8gRmFrZSBjb250ZW50LWJveCB1bnRpbCB3ZSBrbm93IGl0J3MgbmVlZGVkIHRvIGtub3cgdGhlIHRydWUgdmFsdWUuXG5cdFx0Ym94U2l6aW5nTmVlZGVkID0gIXN1cHBvcnQuYm94U2l6aW5nUmVsaWFibGUoKSB8fCBleHRyYSxcblx0XHRpc0JvcmRlckJveCA9IGJveFNpemluZ05lZWRlZCAmJlxuXHRcdFx0alF1ZXJ5LmNzcyggZWxlbSwgXCJib3hTaXppbmdcIiwgZmFsc2UsIHN0eWxlcyApID09PSBcImJvcmRlci1ib3hcIixcblx0XHR2YWx1ZUlzQm9yZGVyQm94ID0gaXNCb3JkZXJCb3gsXG5cblx0XHR2YWwgPSBjdXJDU1MoIGVsZW0sIGRpbWVuc2lvbiwgc3R5bGVzICksXG5cdFx0b2Zmc2V0UHJvcCA9IFwib2Zmc2V0XCIgKyBkaW1lbnNpb25bIDAgXS50b1VwcGVyQ2FzZSgpICsgZGltZW5zaW9uLnNsaWNlKCAxICk7XG5cblx0Ly8gU3VwcG9ydDogRmlyZWZveCA8PTU0XG5cdC8vIFJldHVybiBhIGNvbmZvdW5kaW5nIG5vbi1waXhlbCB2YWx1ZSBvciBmZWlnbiBpZ25vcmFuY2UsIGFzIGFwcHJvcHJpYXRlLlxuXHRpZiAoIHJudW1ub25weC50ZXN0KCB2YWwgKSApIHtcblx0XHRpZiAoICFleHRyYSApIHtcblx0XHRcdHJldHVybiB2YWw7XG5cdFx0fVxuXHRcdHZhbCA9IFwiYXV0b1wiO1xuXHR9XG5cblxuXHQvLyBTdXBwb3J0OiBJRSA5IC0gMTEgb25seVxuXHQvLyBVc2Ugb2Zmc2V0V2lkdGgvb2Zmc2V0SGVpZ2h0IGZvciB3aGVuIGJveCBzaXppbmcgaXMgdW5yZWxpYWJsZS5cblx0Ly8gSW4gdGhvc2UgY2FzZXMsIHRoZSBjb21wdXRlZCB2YWx1ZSBjYW4gYmUgdHJ1c3RlZCB0byBiZSBib3JkZXItYm94LlxuXHRpZiAoICggIXN1cHBvcnQuYm94U2l6aW5nUmVsaWFibGUoKSAmJiBpc0JvcmRlckJveCB8fFxuXG5cdFx0Ly8gU3VwcG9ydDogSUUgMTAgLSAxMSssIEVkZ2UgMTUgLSAxOCtcblx0XHQvLyBJRS9FZGdlIG1pc3JlcG9ydCBgZ2V0Q29tcHV0ZWRTdHlsZWAgb2YgdGFibGUgcm93cyB3aXRoIHdpZHRoL2hlaWdodFxuXHRcdC8vIHNldCBpbiBDU1Mgd2hpbGUgYG9mZnNldCpgIHByb3BlcnRpZXMgcmVwb3J0IGNvcnJlY3QgdmFsdWVzLlxuXHRcdC8vIEludGVyZXN0aW5nbHksIGluIHNvbWUgY2FzZXMgSUUgOSBkb2Vzbid0IHN1ZmZlciBmcm9tIHRoaXMgaXNzdWUuXG5cdFx0IXN1cHBvcnQucmVsaWFibGVUckRpbWVuc2lvbnMoKSAmJiBub2RlTmFtZSggZWxlbSwgXCJ0clwiICkgfHxcblxuXHRcdC8vIEZhbGwgYmFjayB0byBvZmZzZXRXaWR0aC9vZmZzZXRIZWlnaHQgd2hlbiB2YWx1ZSBpcyBcImF1dG9cIlxuXHRcdC8vIFRoaXMgaGFwcGVucyBmb3IgaW5saW5lIGVsZW1lbnRzIHdpdGggbm8gZXhwbGljaXQgc2V0dGluZyAoZ2gtMzU3MSlcblx0XHR2YWwgPT09IFwiYXV0b1wiIHx8XG5cblx0XHQvLyBTdXBwb3J0OiBBbmRyb2lkIDw9NC4xIC0gNC4zIG9ubHlcblx0XHQvLyBBbHNvIHVzZSBvZmZzZXRXaWR0aC9vZmZzZXRIZWlnaHQgZm9yIG1pc3JlcG9ydGVkIGlubGluZSBkaW1lbnNpb25zIChnaC0zNjAyKVxuXHRcdCFwYXJzZUZsb2F0KCB2YWwgKSAmJiBqUXVlcnkuY3NzKCBlbGVtLCBcImRpc3BsYXlcIiwgZmFsc2UsIHN0eWxlcyApID09PSBcImlubGluZVwiICkgJiZcblxuXHRcdC8vIE1ha2Ugc3VyZSB0aGUgZWxlbWVudCBpcyB2aXNpYmxlICYgY29ubmVjdGVkXG5cdFx0ZWxlbS5nZXRDbGllbnRSZWN0cygpLmxlbmd0aCApIHtcblxuXHRcdGlzQm9yZGVyQm94ID0galF1ZXJ5LmNzcyggZWxlbSwgXCJib3hTaXppbmdcIiwgZmFsc2UsIHN0eWxlcyApID09PSBcImJvcmRlci1ib3hcIjtcblxuXHRcdC8vIFdoZXJlIGF2YWlsYWJsZSwgb2Zmc2V0V2lkdGgvb2Zmc2V0SGVpZ2h0IGFwcHJveGltYXRlIGJvcmRlciBib3ggZGltZW5zaW9ucy5cblx0XHQvLyBXaGVyZSBub3QgYXZhaWxhYmxlIChlLmcuLCBTVkcpLCBhc3N1bWUgdW5yZWxpYWJsZSBib3gtc2l6aW5nIGFuZCBpbnRlcnByZXQgdGhlXG5cdFx0Ly8gcmV0cmlldmVkIHZhbHVlIGFzIGEgY29udGVudCBib3ggZGltZW5zaW9uLlxuXHRcdHZhbHVlSXNCb3JkZXJCb3ggPSBvZmZzZXRQcm9wIGluIGVsZW07XG5cdFx0aWYgKCB2YWx1ZUlzQm9yZGVyQm94ICkge1xuXHRcdFx0dmFsID0gZWxlbVsgb2Zmc2V0UHJvcCBdO1xuXHRcdH1cblx0fVxuXG5cdC8vIE5vcm1hbGl6ZSBcIlwiIGFuZCBhdXRvXG5cdHZhbCA9IHBhcnNlRmxvYXQoIHZhbCApIHx8IDA7XG5cblx0Ly8gQWRqdXN0IGZvciB0aGUgZWxlbWVudCdzIGJveCBtb2RlbFxuXHRyZXR1cm4gKCB2YWwgK1xuXHRcdGJveE1vZGVsQWRqdXN0bWVudChcblx0XHRcdGVsZW0sXG5cdFx0XHRkaW1lbnNpb24sXG5cdFx0XHRleHRyYSB8fCAoIGlzQm9yZGVyQm94ID8gXCJib3JkZXJcIiA6IFwiY29udGVudFwiICksXG5cdFx0XHR2YWx1ZUlzQm9yZGVyQm94LFxuXHRcdFx0c3R5bGVzLFxuXG5cdFx0XHQvLyBQcm92aWRlIHRoZSBjdXJyZW50IGNvbXB1dGVkIHNpemUgdG8gcmVxdWVzdCBzY3JvbGwgZ3V0dGVyIGNhbGN1bGF0aW9uIChnaC0zNTg5KVxuXHRcdFx0dmFsXG5cdFx0KVxuXHQpICsgXCJweFwiO1xufVxuXG5qUXVlcnkuZXh0ZW5kKCB7XG5cblx0Ly8gQWRkIGluIHN0eWxlIHByb3BlcnR5IGhvb2tzIGZvciBvdmVycmlkaW5nIHRoZSBkZWZhdWx0XG5cdC8vIGJlaGF2aW9yIG9mIGdldHRpbmcgYW5kIHNldHRpbmcgYSBzdHlsZSBwcm9wZXJ0eVxuXHRjc3NIb29rczoge1xuXHRcdG9wYWNpdHk6IHtcblx0XHRcdGdldDogZnVuY3Rpb24oIGVsZW0sIGNvbXB1dGVkICkge1xuXHRcdFx0XHRpZiAoIGNvbXB1dGVkICkge1xuXG5cdFx0XHRcdFx0Ly8gV2Ugc2hvdWxkIGFsd2F5cyBnZXQgYSBudW1iZXIgYmFjayBmcm9tIG9wYWNpdHlcblx0XHRcdFx0XHR2YXIgcmV0ID0gY3VyQ1NTKCBlbGVtLCBcIm9wYWNpdHlcIiApO1xuXHRcdFx0XHRcdHJldHVybiByZXQgPT09IFwiXCIgPyBcIjFcIiA6IHJldDtcblx0XHRcdFx0fVxuXHRcdFx0fVxuXHRcdH1cblx0fSxcblxuXHQvLyBEb24ndCBhdXRvbWF0aWNhbGx5IGFkZCBcInB4XCIgdG8gdGhlc2UgcG9zc2libHktdW5pdGxlc3MgcHJvcGVydGllc1xuXHRjc3NOdW1iZXI6IHtcblx0XHRcImFuaW1hdGlvbkl0ZXJhdGlvbkNvdW50XCI6IHRydWUsXG5cdFx0XCJjb2x1bW5Db3VudFwiOiB0cnVlLFxuXHRcdFwiZmlsbE9wYWNpdHlcIjogdHJ1ZSxcblx0XHRcImZsZXhHcm93XCI6IHRydWUsXG5cdFx0XCJmbGV4U2hyaW5rXCI6IHRydWUsXG5cdFx0XCJmb250V2VpZ2h0XCI6IHRydWUsXG5cdFx0XCJncmlkQXJlYVwiOiB0cnVlLFxuXHRcdFwiZ3JpZENvbHVtblwiOiB0cnVlLFxuXHRcdFwiZ3JpZENvbHVtbkVuZFwiOiB0cnVlLFxuXHRcdFwiZ3JpZENvbHVtblN0YXJ0XCI6IHRydWUsXG5cdFx0XCJncmlkUm93XCI6IHRydWUsXG5cdFx0XCJncmlkUm93RW5kXCI6IHRydWUsXG5cdFx0XCJncmlkUm93U3RhcnRcIjogdHJ1ZSxcblx0XHRcImxpbmVIZWlnaHRcIjogdHJ1ZSxcblx0XHRcIm9wYWNpdHlcIjogdHJ1ZSxcblx0XHRcIm9yZGVyXCI6IHRydWUsXG5cdFx0XCJvcnBoYW5zXCI6IHRydWUsXG5cdFx0XCJ3aWRvd3NcIjogdHJ1ZSxcblx0XHRcInpJbmRleFwiOiB0cnVlLFxuXHRcdFwiem9vbVwiOiB0cnVlXG5cdH0sXG5cblx0Ly8gQWRkIGluIHByb3BlcnRpZXMgd2hvc2UgbmFtZXMgeW91IHdpc2ggdG8gZml4IGJlZm9yZVxuXHQvLyBzZXR0aW5nIG9yIGdldHRpbmcgdGhlIHZhbHVlXG5cdGNzc1Byb3BzOiB7fSxcblxuXHQvLyBHZXQgYW5kIHNldCB0aGUgc3R5bGUgcHJvcGVydHkgb24gYSBET00gTm9kZVxuXHRzdHlsZTogZnVuY3Rpb24oIGVsZW0sIG5hbWUsIHZhbHVlLCBleHRyYSApIHtcblxuXHRcdC8vIERvbid0IHNldCBzdHlsZXMgb24gdGV4dCBhbmQgY29tbWVudCBub2Rlc1xuXHRcdGlmICggIWVsZW0gfHwgZWxlbS5ub2RlVHlwZSA9PT0gMyB8fCBlbGVtLm5vZGVUeXBlID09PSA4IHx8ICFlbGVtLnN0eWxlICkge1xuXHRcdFx0cmV0dXJuO1xuXHRcdH1cblxuXHRcdC8vIE1ha2Ugc3VyZSB0aGF0IHdlJ3JlIHdvcmtpbmcgd2l0aCB0aGUgcmlnaHQgbmFtZVxuXHRcdHZhciByZXQsIHR5cGUsIGhvb2tzLFxuXHRcdFx0b3JpZ05hbWUgPSBjYW1lbENhc2UoIG5hbWUgKSxcblx0XHRcdGlzQ3VzdG9tUHJvcCA9IHJjdXN0b21Qcm9wLnRlc3QoIG5hbWUgKSxcblx0XHRcdHN0eWxlID0gZWxlbS5zdHlsZTtcblxuXHRcdC8vIE1ha2Ugc3VyZSB0aGF0IHdlJ3JlIHdvcmtpbmcgd2l0aCB0aGUgcmlnaHQgbmFtZS4gV2UgZG9uJ3Rcblx0XHQvLyB3YW50IHRvIHF1ZXJ5IHRoZSB2YWx1ZSBpZiBpdCBpcyBhIENTUyBjdXN0b20gcHJvcGVydHlcblx0XHQvLyBzaW5jZSB0aGV5IGFyZSB1c2VyLWRlZmluZWQuXG5cdFx0aWYgKCAhaXNDdXN0b21Qcm9wICkge1xuXHRcdFx0bmFtZSA9IGZpbmFsUHJvcE5hbWUoIG9yaWdOYW1lICk7XG5cdFx0fVxuXG5cdFx0Ly8gR2V0cyBob29rIGZvciB0aGUgcHJlZml4ZWQgdmVyc2lvbiwgdGhlbiB1bnByZWZpeGVkIHZlcnNpb25cblx0XHRob29rcyA9IGpRdWVyeS5jc3NIb29rc1sgbmFtZSBdIHx8IGpRdWVyeS5jc3NIb29rc1sgb3JpZ05hbWUgXTtcblxuXHRcdC8vIENoZWNrIGlmIHdlJ3JlIHNldHRpbmcgYSB2YWx1ZVxuXHRcdGlmICggdmFsdWUgIT09IHVuZGVmaW5lZCApIHtcblx0XHRcdHR5cGUgPSB0eXBlb2YgdmFsdWU7XG5cblx0XHRcdC8vIENvbnZlcnQgXCIrPVwiIG9yIFwiLT1cIiB0byByZWxhdGl2ZSBudW1iZXJzICgjNzM0NSlcblx0XHRcdGlmICggdHlwZSA9PT0gXCJzdHJpbmdcIiAmJiAoIHJldCA9IHJjc3NOdW0uZXhlYyggdmFsdWUgKSApICYmIHJldFsgMSBdICkge1xuXHRcdFx0XHR2YWx1ZSA9IGFkanVzdENTUyggZWxlbSwgbmFtZSwgcmV0ICk7XG5cblx0XHRcdFx0Ly8gRml4ZXMgYnVnICM5MjM3XG5cdFx0XHRcdHR5cGUgPSBcIm51bWJlclwiO1xuXHRcdFx0fVxuXG5cdFx0XHQvLyBNYWtlIHN1cmUgdGhhdCBudWxsIGFuZCBOYU4gdmFsdWVzIGFyZW4ndCBzZXQgKCM3MTE2KVxuXHRcdFx0aWYgKCB2YWx1ZSA9PSBudWxsIHx8IHZhbHVlICE9PSB2YWx1ZSApIHtcblx0XHRcdFx0cmV0dXJuO1xuXHRcdFx0fVxuXG5cdFx0XHQvLyBJZiBhIG51bWJlciB3YXMgcGFzc2VkIGluLCBhZGQgdGhlIHVuaXQgKGV4Y2VwdCBmb3IgY2VydGFpbiBDU1MgcHJvcGVydGllcylcblx0XHRcdC8vIFRoZSBpc0N1c3RvbVByb3AgY2hlY2sgY2FuIGJlIHJlbW92ZWQgaW4galF1ZXJ5IDQuMCB3aGVuIHdlIG9ubHkgYXV0by1hcHBlbmRcblx0XHRcdC8vIFwicHhcIiB0byBhIGZldyBoYXJkY29kZWQgdmFsdWVzLlxuXHRcdFx0aWYgKCB0eXBlID09PSBcIm51bWJlclwiICYmICFpc0N1c3RvbVByb3AgKSB7XG5cdFx0XHRcdHZhbHVlICs9IHJldCAmJiByZXRbIDMgXSB8fCAoIGpRdWVyeS5jc3NOdW1iZXJbIG9yaWdOYW1lIF0gPyBcIlwiIDogXCJweFwiICk7XG5cdFx0XHR9XG5cblx0XHRcdC8vIGJhY2tncm91bmQtKiBwcm9wcyBhZmZlY3Qgb3JpZ2luYWwgY2xvbmUncyB2YWx1ZXNcblx0XHRcdGlmICggIXN1cHBvcnQuY2xlYXJDbG9uZVN0eWxlICYmIHZhbHVlID09PSBcIlwiICYmIG5hbWUuaW5kZXhPZiggXCJiYWNrZ3JvdW5kXCIgKSA9PT0gMCApIHtcblx0XHRcdFx0c3R5bGVbIG5hbWUgXSA9IFwiaW5oZXJpdFwiO1xuXHRcdFx0fVxuXG5cdFx0XHQvLyBJZiBhIGhvb2sgd2FzIHByb3ZpZGVkLCB1c2UgdGhhdCB2YWx1ZSwgb3RoZXJ3aXNlIGp1c3Qgc2V0IHRoZSBzcGVjaWZpZWQgdmFsdWVcblx0XHRcdGlmICggIWhvb2tzIHx8ICEoIFwic2V0XCIgaW4gaG9va3MgKSB8fFxuXHRcdFx0XHQoIHZhbHVlID0gaG9va3Muc2V0KCBlbGVtLCB2YWx1ZSwgZXh0cmEgKSApICE9PSB1bmRlZmluZWQgKSB7XG5cblx0XHRcdFx0aWYgKCBpc0N1c3RvbVByb3AgKSB7XG5cdFx0XHRcdFx0c3R5bGUuc2V0UHJvcGVydHkoIG5hbWUsIHZhbHVlICk7XG5cdFx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdFx0c3R5bGVbIG5hbWUgXSA9IHZhbHVlO1xuXHRcdFx0XHR9XG5cdFx0XHR9XG5cblx0XHR9IGVsc2Uge1xuXG5cdFx0XHQvLyBJZiBhIGhvb2sgd2FzIHByb3ZpZGVkIGdldCB0aGUgbm9uLWNvbXB1dGVkIHZhbHVlIGZyb20gdGhlcmVcblx0XHRcdGlmICggaG9va3MgJiYgXCJnZXRcIiBpbiBob29rcyAmJlxuXHRcdFx0XHQoIHJldCA9IGhvb2tzLmdldCggZWxlbSwgZmFsc2UsIGV4dHJhICkgKSAhPT0gdW5kZWZpbmVkICkge1xuXG5cdFx0XHRcdHJldHVybiByZXQ7XG5cdFx0XHR9XG5cblx0XHRcdC8vIE90aGVyd2lzZSBqdXN0IGdldCB0aGUgdmFsdWUgZnJvbSB0aGUgc3R5bGUgb2JqZWN0XG5cdFx0XHRyZXR1cm4gc3R5bGVbIG5hbWUgXTtcblx0XHR9XG5cdH0sXG5cblx0Y3NzOiBmdW5jdGlvbiggZWxlbSwgbmFtZSwgZXh0cmEsIHN0eWxlcyApIHtcblx0XHR2YXIgdmFsLCBudW0sIGhvb2tzLFxuXHRcdFx0b3JpZ05hbWUgPSBjYW1lbENhc2UoIG5hbWUgKSxcblx0XHRcdGlzQ3VzdG9tUHJvcCA9IHJjdXN0b21Qcm9wLnRlc3QoIG5hbWUgKTtcblxuXHRcdC8vIE1ha2Ugc3VyZSB0aGF0IHdlJ3JlIHdvcmtpbmcgd2l0aCB0aGUgcmlnaHQgbmFtZS4gV2UgZG9uJ3Rcblx0XHQvLyB3YW50IHRvIG1vZGlmeSB0aGUgdmFsdWUgaWYgaXQgaXMgYSBDU1MgY3VzdG9tIHByb3BlcnR5XG5cdFx0Ly8gc2luY2UgdGhleSBhcmUgdXNlci1kZWZpbmVkLlxuXHRcdGlmICggIWlzQ3VzdG9tUHJvcCApIHtcblx0XHRcdG5hbWUgPSBmaW5hbFByb3BOYW1lKCBvcmlnTmFtZSApO1xuXHRcdH1cblxuXHRcdC8vIFRyeSBwcmVmaXhlZCBuYW1lIGZvbGxvd2VkIGJ5IHRoZSB1bnByZWZpeGVkIG5hbWVcblx0XHRob29rcyA9IGpRdWVyeS5jc3NIb29rc1sgbmFtZSBdIHx8IGpRdWVyeS5jc3NIb29rc1sgb3JpZ05hbWUgXTtcblxuXHRcdC8vIElmIGEgaG9vayB3YXMgcHJvdmlkZWQgZ2V0IHRoZSBjb21wdXRlZCB2YWx1ZSBmcm9tIHRoZXJlXG5cdFx0aWYgKCBob29rcyAmJiBcImdldFwiIGluIGhvb2tzICkge1xuXHRcdFx0dmFsID0gaG9va3MuZ2V0KCBlbGVtLCB0cnVlLCBleHRyYSApO1xuXHRcdH1cblxuXHRcdC8vIE90aGVyd2lzZSwgaWYgYSB3YXkgdG8gZ2V0IHRoZSBjb21wdXRlZCB2YWx1ZSBleGlzdHMsIHVzZSB0aGF0XG5cdFx0aWYgKCB2YWwgPT09IHVuZGVmaW5lZCApIHtcblx0XHRcdHZhbCA9IGN1ckNTUyggZWxlbSwgbmFtZSwgc3R5bGVzICk7XG5cdFx0fVxuXG5cdFx0Ly8gQ29udmVydCBcIm5vcm1hbFwiIHRvIGNvbXB1dGVkIHZhbHVlXG5cdFx0aWYgKCB2YWwgPT09IFwibm9ybWFsXCIgJiYgbmFtZSBpbiBjc3NOb3JtYWxUcmFuc2Zvcm0gKSB7XG5cdFx0XHR2YWwgPSBjc3NOb3JtYWxUcmFuc2Zvcm1bIG5hbWUgXTtcblx0XHR9XG5cblx0XHQvLyBNYWtlIG51bWVyaWMgaWYgZm9yY2VkIG9yIGEgcXVhbGlmaWVyIHdhcyBwcm92aWRlZCBhbmQgdmFsIGxvb2tzIG51bWVyaWNcblx0XHRpZiAoIGV4dHJhID09PSBcIlwiIHx8IGV4dHJhICkge1xuXHRcdFx0bnVtID0gcGFyc2VGbG9hdCggdmFsICk7XG5cdFx0XHRyZXR1cm4gZXh0cmEgPT09IHRydWUgfHwgaXNGaW5pdGUoIG51bSApID8gbnVtIHx8IDAgOiB2YWw7XG5cdFx0fVxuXG5cdFx0cmV0dXJuIHZhbDtcblx0fVxufSApO1xuXG5qUXVlcnkuZWFjaCggWyBcImhlaWdodFwiLCBcIndpZHRoXCIgXSwgZnVuY3Rpb24oIF9pLCBkaW1lbnNpb24gKSB7XG5cdGpRdWVyeS5jc3NIb29rc1sgZGltZW5zaW9uIF0gPSB7XG5cdFx0Z2V0OiBmdW5jdGlvbiggZWxlbSwgY29tcHV0ZWQsIGV4dHJhICkge1xuXHRcdFx0aWYgKCBjb21wdXRlZCApIHtcblxuXHRcdFx0XHQvLyBDZXJ0YWluIGVsZW1lbnRzIGNhbiBoYXZlIGRpbWVuc2lvbiBpbmZvIGlmIHdlIGludmlzaWJseSBzaG93IHRoZW1cblx0XHRcdFx0Ly8gYnV0IGl0IG11c3QgaGF2ZSBhIGN1cnJlbnQgZGlzcGxheSBzdHlsZSB0aGF0IHdvdWxkIGJlbmVmaXRcblx0XHRcdFx0cmV0dXJuIHJkaXNwbGF5c3dhcC50ZXN0KCBqUXVlcnkuY3NzKCBlbGVtLCBcImRpc3BsYXlcIiApICkgJiZcblxuXHRcdFx0XHRcdC8vIFN1cHBvcnQ6IFNhZmFyaSA4K1xuXHRcdFx0XHRcdC8vIFRhYmxlIGNvbHVtbnMgaW4gU2FmYXJpIGhhdmUgbm9uLXplcm8gb2Zmc2V0V2lkdGggJiB6ZXJvXG5cdFx0XHRcdFx0Ly8gZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCkud2lkdGggdW5sZXNzIGRpc3BsYXkgaXMgY2hhbmdlZC5cblx0XHRcdFx0XHQvLyBTdXBwb3J0OiBJRSA8PTExIG9ubHlcblx0XHRcdFx0XHQvLyBSdW5uaW5nIGdldEJvdW5kaW5nQ2xpZW50UmVjdCBvbiBhIGRpc2Nvbm5lY3RlZCBub2RlXG5cdFx0XHRcdFx0Ly8gaW4gSUUgdGhyb3dzIGFuIGVycm9yLlxuXHRcdFx0XHRcdCggIWVsZW0uZ2V0Q2xpZW50UmVjdHMoKS5sZW5ndGggfHwgIWVsZW0uZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCkud2lkdGggKSA/XG5cdFx0XHRcdFx0XHRzd2FwKCBlbGVtLCBjc3NTaG93LCBmdW5jdGlvbigpIHtcblx0XHRcdFx0XHRcdFx0cmV0dXJuIGdldFdpZHRoT3JIZWlnaHQoIGVsZW0sIGRpbWVuc2lvbiwgZXh0cmEgKTtcblx0XHRcdFx0XHRcdH0gKSA6XG5cdFx0XHRcdFx0XHRnZXRXaWR0aE9ySGVpZ2h0KCBlbGVtLCBkaW1lbnNpb24sIGV4dHJhICk7XG5cdFx0XHR9XG5cdFx0fSxcblxuXHRcdHNldDogZnVuY3Rpb24oIGVsZW0sIHZhbHVlLCBleHRyYSApIHtcblx0XHRcdHZhciBtYXRjaGVzLFxuXHRcdFx0XHRzdHlsZXMgPSBnZXRTdHlsZXMoIGVsZW0gKSxcblxuXHRcdFx0XHQvLyBPbmx5IHJlYWQgc3R5bGVzLnBvc2l0aW9uIGlmIHRoZSB0ZXN0IGhhcyBhIGNoYW5jZSB0byBmYWlsXG5cdFx0XHRcdC8vIHRvIGF2b2lkIGZvcmNpbmcgYSByZWZsb3cuXG5cdFx0XHRcdHNjcm9sbGJveFNpemVCdWdneSA9ICFzdXBwb3J0LnNjcm9sbGJveFNpemUoKSAmJlxuXHRcdFx0XHRcdHN0eWxlcy5wb3NpdGlvbiA9PT0gXCJhYnNvbHV0ZVwiLFxuXG5cdFx0XHRcdC8vIFRvIGF2b2lkIGZvcmNpbmcgYSByZWZsb3csIG9ubHkgZmV0Y2ggYm94U2l6aW5nIGlmIHdlIG5lZWQgaXQgKGdoLTM5OTEpXG5cdFx0XHRcdGJveFNpemluZ05lZWRlZCA9IHNjcm9sbGJveFNpemVCdWdneSB8fCBleHRyYSxcblx0XHRcdFx0aXNCb3JkZXJCb3ggPSBib3hTaXppbmdOZWVkZWQgJiZcblx0XHRcdFx0XHRqUXVlcnkuY3NzKCBlbGVtLCBcImJveFNpemluZ1wiLCBmYWxzZSwgc3R5bGVzICkgPT09IFwiYm9yZGVyLWJveFwiLFxuXHRcdFx0XHRzdWJ0cmFjdCA9IGV4dHJhID9cblx0XHRcdFx0XHRib3hNb2RlbEFkanVzdG1lbnQoXG5cdFx0XHRcdFx0XHRlbGVtLFxuXHRcdFx0XHRcdFx0ZGltZW5zaW9uLFxuXHRcdFx0XHRcdFx0ZXh0cmEsXG5cdFx0XHRcdFx0XHRpc0JvcmRlckJveCxcblx0XHRcdFx0XHRcdHN0eWxlc1xuXHRcdFx0XHRcdCkgOlxuXHRcdFx0XHRcdDA7XG5cblx0XHRcdC8vIEFjY291bnQgZm9yIHVucmVsaWFibGUgYm9yZGVyLWJveCBkaW1lbnNpb25zIGJ5IGNvbXBhcmluZyBvZmZzZXQqIHRvIGNvbXB1dGVkIGFuZFxuXHRcdFx0Ly8gZmFraW5nIGEgY29udGVudC1ib3ggdG8gZ2V0IGJvcmRlciBhbmQgcGFkZGluZyAoZ2gtMzY5OSlcblx0XHRcdGlmICggaXNCb3JkZXJCb3ggJiYgc2Nyb2xsYm94U2l6ZUJ1Z2d5ICkge1xuXHRcdFx0XHRzdWJ0cmFjdCAtPSBNYXRoLmNlaWwoXG5cdFx0XHRcdFx0ZWxlbVsgXCJvZmZzZXRcIiArIGRpbWVuc2lvblsgMCBdLnRvVXBwZXJDYXNlKCkgKyBkaW1lbnNpb24uc2xpY2UoIDEgKSBdIC1cblx0XHRcdFx0XHRwYXJzZUZsb2F0KCBzdHlsZXNbIGRpbWVuc2lvbiBdICkgLVxuXHRcdFx0XHRcdGJveE1vZGVsQWRqdXN0bWVudCggZWxlbSwgZGltZW5zaW9uLCBcImJvcmRlclwiLCBmYWxzZSwgc3R5bGVzICkgLVxuXHRcdFx0XHRcdDAuNVxuXHRcdFx0XHQpO1xuXHRcdFx0fVxuXG5cdFx0XHQvLyBDb252ZXJ0IHRvIHBpeGVscyBpZiB2YWx1ZSBhZGp1c3RtZW50IGlzIG5lZWRlZFxuXHRcdFx0aWYgKCBzdWJ0cmFjdCAmJiAoIG1hdGNoZXMgPSByY3NzTnVtLmV4ZWMoIHZhbHVlICkgKSAmJlxuXHRcdFx0XHQoIG1hdGNoZXNbIDMgXSB8fCBcInB4XCIgKSAhPT0gXCJweFwiICkge1xuXG5cdFx0XHRcdGVsZW0uc3R5bGVbIGRpbWVuc2lvbiBdID0gdmFsdWU7XG5cdFx0XHRcdHZhbHVlID0galF1ZXJ5LmNzcyggZWxlbSwgZGltZW5zaW9uICk7XG5cdFx0XHR9XG5cblx0XHRcdHJldHVybiBzZXRQb3NpdGl2ZU51bWJlciggZWxlbSwgdmFsdWUsIHN1YnRyYWN0ICk7XG5cdFx0fVxuXHR9O1xufSApO1xuXG5qUXVlcnkuY3NzSG9va3MubWFyZ2luTGVmdCA9IGFkZEdldEhvb2tJZiggc3VwcG9ydC5yZWxpYWJsZU1hcmdpbkxlZnQsXG5cdGZ1bmN0aW9uKCBlbGVtLCBjb21wdXRlZCApIHtcblx0XHRpZiAoIGNvbXB1dGVkICkge1xuXHRcdFx0cmV0dXJuICggcGFyc2VGbG9hdCggY3VyQ1NTKCBlbGVtLCBcIm1hcmdpbkxlZnRcIiApICkgfHxcblx0XHRcdFx0ZWxlbS5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKS5sZWZ0IC1cblx0XHRcdFx0XHRzd2FwKCBlbGVtLCB7IG1hcmdpbkxlZnQ6IDAgfSwgZnVuY3Rpb24oKSB7XG5cdFx0XHRcdFx0XHRyZXR1cm4gZWxlbS5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKS5sZWZ0O1xuXHRcdFx0XHRcdH0gKVxuXHRcdFx0XHQpICsgXCJweFwiO1xuXHRcdH1cblx0fVxuKTtcblxuLy8gVGhlc2UgaG9va3MgYXJlIHVzZWQgYnkgYW5pbWF0ZSB0byBleHBhbmQgcHJvcGVydGllc1xualF1ZXJ5LmVhY2goIHtcblx0bWFyZ2luOiBcIlwiLFxuXHRwYWRkaW5nOiBcIlwiLFxuXHRib3JkZXI6IFwiV2lkdGhcIlxufSwgZnVuY3Rpb24oIHByZWZpeCwgc3VmZml4ICkge1xuXHRqUXVlcnkuY3NzSG9va3NbIHByZWZpeCArIHN1ZmZpeCBdID0ge1xuXHRcdGV4cGFuZDogZnVuY3Rpb24oIHZhbHVlICkge1xuXHRcdFx0dmFyIGkgPSAwLFxuXHRcdFx0XHRleHBhbmRlZCA9IHt9LFxuXG5cdFx0XHRcdC8vIEFzc3VtZXMgYSBzaW5nbGUgbnVtYmVyIGlmIG5vdCBhIHN0cmluZ1xuXHRcdFx0XHRwYXJ0cyA9IHR5cGVvZiB2YWx1ZSA9PT0gXCJzdHJpbmdcIiA/IHZhbHVlLnNwbGl0KCBcIiBcIiApIDogWyB2YWx1ZSBdO1xuXG5cdFx0XHRmb3IgKCA7IGkgPCA0OyBpKysgKSB7XG5cdFx0XHRcdGV4cGFuZGVkWyBwcmVmaXggKyBjc3NFeHBhbmRbIGkgXSArIHN1ZmZpeCBdID1cblx0XHRcdFx0XHRwYXJ0c1sgaSBdIHx8IHBhcnRzWyBpIC0gMiBdIHx8IHBhcnRzWyAwIF07XG5cdFx0XHR9XG5cblx0XHRcdHJldHVybiBleHBhbmRlZDtcblx0XHR9XG5cdH07XG5cblx0aWYgKCBwcmVmaXggIT09IFwibWFyZ2luXCIgKSB7XG5cdFx0alF1ZXJ5LmNzc0hvb2tzWyBwcmVmaXggKyBzdWZmaXggXS5zZXQgPSBzZXRQb3NpdGl2ZU51bWJlcjtcblx0fVxufSApO1xuXG5qUXVlcnkuZm4uZXh0ZW5kKCB7XG5cdGNzczogZnVuY3Rpb24oIG5hbWUsIHZhbHVlICkge1xuXHRcdHJldHVybiBhY2Nlc3MoIHRoaXMsIGZ1bmN0aW9uKCBlbGVtLCBuYW1lLCB2YWx1ZSApIHtcblx0XHRcdHZhciBzdHlsZXMsIGxlbixcblx0XHRcdFx0bWFwID0ge30sXG5cdFx0XHRcdGkgPSAwO1xuXG5cdFx0XHRpZiAoIEFycmF5LmlzQXJyYXkoIG5hbWUgKSApIHtcblx0XHRcdFx0c3R5bGVzID0gZ2V0U3R5bGVzKCBlbGVtICk7XG5cdFx0XHRcdGxlbiA9IG5hbWUubGVuZ3RoO1xuXG5cdFx0XHRcdGZvciAoIDsgaSA8IGxlbjsgaSsrICkge1xuXHRcdFx0XHRcdG1hcFsgbmFtZVsgaSBdIF0gPSBqUXVlcnkuY3NzKCBlbGVtLCBuYW1lWyBpIF0sIGZhbHNlLCBzdHlsZXMgKTtcblx0XHRcdFx0fVxuXG5cdFx0XHRcdHJldHVybiBtYXA7XG5cdFx0XHR9XG5cblx0XHRcdHJldHVybiB2YWx1ZSAhPT0gdW5kZWZpbmVkID9cblx0XHRcdFx0alF1ZXJ5LnN0eWxlKCBlbGVtLCBuYW1lLCB2YWx1ZSApIDpcblx0XHRcdFx0alF1ZXJ5LmNzcyggZWxlbSwgbmFtZSApO1xuXHRcdH0sIG5hbWUsIHZhbHVlLCBhcmd1bWVudHMubGVuZ3RoID4gMSApO1xuXHR9XG59ICk7XG5cblxuZnVuY3Rpb24gVHdlZW4oIGVsZW0sIG9wdGlvbnMsIHByb3AsIGVuZCwgZWFzaW5nICkge1xuXHRyZXR1cm4gbmV3IFR3ZWVuLnByb3RvdHlwZS5pbml0KCBlbGVtLCBvcHRpb25zLCBwcm9wLCBlbmQsIGVhc2luZyApO1xufVxualF1ZXJ5LlR3ZWVuID0gVHdlZW47XG5cblR3ZWVuLnByb3RvdHlwZSA9IHtcblx0Y29uc3RydWN0b3I6IFR3ZWVuLFxuXHRpbml0OiBmdW5jdGlvbiggZWxlbSwgb3B0aW9ucywgcHJvcCwgZW5kLCBlYXNpbmcsIHVuaXQgKSB7XG5cdFx0dGhpcy5lbGVtID0gZWxlbTtcblx0XHR0aGlzLnByb3AgPSBwcm9wO1xuXHRcdHRoaXMuZWFzaW5nID0gZWFzaW5nIHx8IGpRdWVyeS5lYXNpbmcuX2RlZmF1bHQ7XG5cdFx0dGhpcy5vcHRpb25zID0gb3B0aW9ucztcblx0XHR0aGlzLnN0YXJ0ID0gdGhpcy5ub3cgPSB0aGlzLmN1cigpO1xuXHRcdHRoaXMuZW5kID0gZW5kO1xuXHRcdHRoaXMudW5pdCA9IHVuaXQgfHwgKCBqUXVlcnkuY3NzTnVtYmVyWyBwcm9wIF0gPyBcIlwiIDogXCJweFwiICk7XG5cdH0sXG5cdGN1cjogZnVuY3Rpb24oKSB7XG5cdFx0dmFyIGhvb2tzID0gVHdlZW4ucHJvcEhvb2tzWyB0aGlzLnByb3AgXTtcblxuXHRcdHJldHVybiBob29rcyAmJiBob29rcy5nZXQgP1xuXHRcdFx0aG9va3MuZ2V0KCB0aGlzICkgOlxuXHRcdFx0VHdlZW4ucHJvcEhvb2tzLl9kZWZhdWx0LmdldCggdGhpcyApO1xuXHR9LFxuXHRydW46IGZ1bmN0aW9uKCBwZXJjZW50ICkge1xuXHRcdHZhciBlYXNlZCxcblx0XHRcdGhvb2tzID0gVHdlZW4ucHJvcEhvb2tzWyB0aGlzLnByb3AgXTtcblxuXHRcdGlmICggdGhpcy5vcHRpb25zLmR1cmF0aW9uICkge1xuXHRcdFx0dGhpcy5wb3MgPSBlYXNlZCA9IGpRdWVyeS5lYXNpbmdbIHRoaXMuZWFzaW5nIF0oXG5cdFx0XHRcdHBlcmNlbnQsIHRoaXMub3B0aW9ucy5kdXJhdGlvbiAqIHBlcmNlbnQsIDAsIDEsIHRoaXMub3B0aW9ucy5kdXJhdGlvblxuXHRcdFx0KTtcblx0XHR9IGVsc2Uge1xuXHRcdFx0dGhpcy5wb3MgPSBlYXNlZCA9IHBlcmNlbnQ7XG5cdFx0fVxuXHRcdHRoaXMubm93ID0gKCB0aGlzLmVuZCAtIHRoaXMuc3RhcnQgKSAqIGVhc2VkICsgdGhpcy5zdGFydDtcblxuXHRcdGlmICggdGhpcy5vcHRpb25zLnN0ZXAgKSB7XG5cdFx0XHR0aGlzLm9wdGlvbnMuc3RlcC5jYWxsKCB0aGlzLmVsZW0sIHRoaXMubm93LCB0aGlzICk7XG5cdFx0fVxuXG5cdFx0aWYgKCBob29rcyAmJiBob29rcy5zZXQgKSB7XG5cdFx0XHRob29rcy5zZXQoIHRoaXMgKTtcblx0XHR9IGVsc2Uge1xuXHRcdFx0VHdlZW4ucHJvcEhvb2tzLl9kZWZhdWx0LnNldCggdGhpcyApO1xuXHRcdH1cblx0XHRyZXR1cm4gdGhpcztcblx0fVxufTtcblxuVHdlZW4ucHJvdG90eXBlLmluaXQucHJvdG90eXBlID0gVHdlZW4ucHJvdG90eXBlO1xuXG5Ud2Vlbi5wcm9wSG9va3MgPSB7XG5cdF9kZWZhdWx0OiB7XG5cdFx0Z2V0OiBmdW5jdGlvbiggdHdlZW4gKSB7XG5cdFx0XHR2YXIgcmVzdWx0O1xuXG5cdFx0XHQvLyBVc2UgYSBwcm9wZXJ0eSBvbiB0aGUgZWxlbWVudCBkaXJlY3RseSB3aGVuIGl0IGlzIG5vdCBhIERPTSBlbGVtZW50LFxuXHRcdFx0Ly8gb3Igd2hlbiB0aGVyZSBpcyBubyBtYXRjaGluZyBzdHlsZSBwcm9wZXJ0eSB0aGF0IGV4aXN0cy5cblx0XHRcdGlmICggdHdlZW4uZWxlbS5ub2RlVHlwZSAhPT0gMSB8fFxuXHRcdFx0XHR0d2Vlbi5lbGVtWyB0d2Vlbi5wcm9wIF0gIT0gbnVsbCAmJiB0d2Vlbi5lbGVtLnN0eWxlWyB0d2Vlbi5wcm9wIF0gPT0gbnVsbCApIHtcblx0XHRcdFx0cmV0dXJuIHR3ZWVuLmVsZW1bIHR3ZWVuLnByb3AgXTtcblx0XHRcdH1cblxuXHRcdFx0Ly8gUGFzc2luZyBhbiBlbXB0eSBzdHJpbmcgYXMgYSAzcmQgcGFyYW1ldGVyIHRvIC5jc3Mgd2lsbCBhdXRvbWF0aWNhbGx5XG5cdFx0XHQvLyBhdHRlbXB0IGEgcGFyc2VGbG9hdCBhbmQgZmFsbGJhY2sgdG8gYSBzdHJpbmcgaWYgdGhlIHBhcnNlIGZhaWxzLlxuXHRcdFx0Ly8gU2ltcGxlIHZhbHVlcyBzdWNoIGFzIFwiMTBweFwiIGFyZSBwYXJzZWQgdG8gRmxvYXQ7XG5cdFx0XHQvLyBjb21wbGV4IHZhbHVlcyBzdWNoIGFzIFwicm90YXRlKDFyYWQpXCIgYXJlIHJldHVybmVkIGFzLWlzLlxuXHRcdFx0cmVzdWx0ID0galF1ZXJ5LmNzcyggdHdlZW4uZWxlbSwgdHdlZW4ucHJvcCwgXCJcIiApO1xuXG5cdFx0XHQvLyBFbXB0eSBzdHJpbmdzLCBudWxsLCB1bmRlZmluZWQgYW5kIFwiYXV0b1wiIGFyZSBjb252ZXJ0ZWQgdG8gMC5cblx0XHRcdHJldHVybiAhcmVzdWx0IHx8IHJlc3VsdCA9PT0gXCJhdXRvXCIgPyAwIDogcmVzdWx0O1xuXHRcdH0sXG5cdFx0c2V0OiBmdW5jdGlvbiggdHdlZW4gKSB7XG5cblx0XHRcdC8vIFVzZSBzdGVwIGhvb2sgZm9yIGJhY2sgY29tcGF0LlxuXHRcdFx0Ly8gVXNlIGNzc0hvb2sgaWYgaXRzIHRoZXJlLlxuXHRcdFx0Ly8gVXNlIC5zdHlsZSBpZiBhdmFpbGFibGUgYW5kIHVzZSBwbGFpbiBwcm9wZXJ0aWVzIHdoZXJlIGF2YWlsYWJsZS5cblx0XHRcdGlmICggalF1ZXJ5LmZ4LnN0ZXBbIHR3ZWVuLnByb3AgXSApIHtcblx0XHRcdFx0alF1ZXJ5LmZ4LnN0ZXBbIHR3ZWVuLnByb3AgXSggdHdlZW4gKTtcblx0XHRcdH0gZWxzZSBpZiAoIHR3ZWVuLmVsZW0ubm9kZVR5cGUgPT09IDEgJiYgKFxuXHRcdFx0XHRcdGpRdWVyeS5jc3NIb29rc1sgdHdlZW4ucHJvcCBdIHx8XG5cdFx0XHRcdFx0dHdlZW4uZWxlbS5zdHlsZVsgZmluYWxQcm9wTmFtZSggdHdlZW4ucHJvcCApIF0gIT0gbnVsbCApICkge1xuXHRcdFx0XHRqUXVlcnkuc3R5bGUoIHR3ZWVuLmVsZW0sIHR3ZWVuLnByb3AsIHR3ZWVuLm5vdyArIHR3ZWVuLnVuaXQgKTtcblx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdHR3ZWVuLmVsZW1bIHR3ZWVuLnByb3AgXSA9IHR3ZWVuLm5vdztcblx0XHRcdH1cblx0XHR9XG5cdH1cbn07XG5cbi8vIFN1cHBvcnQ6IElFIDw9OSBvbmx5XG4vLyBQYW5pYyBiYXNlZCBhcHByb2FjaCB0byBzZXR0aW5nIHRoaW5ncyBvbiBkaXNjb25uZWN0ZWQgbm9kZXNcblR3ZWVuLnByb3BIb29rcy5zY3JvbGxUb3AgPSBUd2Vlbi5wcm9wSG9va3Muc2Nyb2xsTGVmdCA9IHtcblx0c2V0OiBmdW5jdGlvbiggdHdlZW4gKSB7XG5cdFx0aWYgKCB0d2Vlbi5lbGVtLm5vZGVUeXBlICYmIHR3ZWVuLmVsZW0ucGFyZW50Tm9kZSApIHtcblx0XHRcdHR3ZWVuLmVsZW1bIHR3ZWVuLnByb3AgXSA9IHR3ZWVuLm5vdztcblx0XHR9XG5cdH1cbn07XG5cbmpRdWVyeS5lYXNpbmcgPSB7XG5cdGxpbmVhcjogZnVuY3Rpb24oIHAgKSB7XG5cdFx0cmV0dXJuIHA7XG5cdH0sXG5cdHN3aW5nOiBmdW5jdGlvbiggcCApIHtcblx0XHRyZXR1cm4gMC41IC0gTWF0aC5jb3MoIHAgKiBNYXRoLlBJICkgLyAyO1xuXHR9LFxuXHRfZGVmYXVsdDogXCJzd2luZ1wiXG59O1xuXG5qUXVlcnkuZnggPSBUd2Vlbi5wcm90b3R5cGUuaW5pdDtcblxuLy8gQmFjayBjb21wYXQgPDEuOCBleHRlbnNpb24gcG9pbnRcbmpRdWVyeS5meC5zdGVwID0ge307XG5cblxuXG5cbnZhclxuXHRmeE5vdywgaW5Qcm9ncmVzcyxcblx0cmZ4dHlwZXMgPSAvXig/OnRvZ2dsZXxzaG93fGhpZGUpJC8sXG5cdHJydW4gPSAvcXVldWVIb29rcyQvO1xuXG5mdW5jdGlvbiBzY2hlZHVsZSgpIHtcblx0aWYgKCBpblByb2dyZXNzICkge1xuXHRcdGlmICggZG9jdW1lbnQuaGlkZGVuID09PSBmYWxzZSAmJiB3aW5kb3cucmVxdWVzdEFuaW1hdGlvbkZyYW1lICkge1xuXHRcdFx0d2luZG93LnJlcXVlc3RBbmltYXRpb25GcmFtZSggc2NoZWR1bGUgKTtcblx0XHR9IGVsc2Uge1xuXHRcdFx0d2luZG93LnNldFRpbWVvdXQoIHNjaGVkdWxlLCBqUXVlcnkuZnguaW50ZXJ2YWwgKTtcblx0XHR9XG5cblx0XHRqUXVlcnkuZngudGljaygpO1xuXHR9XG59XG5cbi8vIEFuaW1hdGlvbnMgY3JlYXRlZCBzeW5jaHJvbm91c2x5IHdpbGwgcnVuIHN5bmNocm9ub3VzbHlcbmZ1bmN0aW9uIGNyZWF0ZUZ4Tm93KCkge1xuXHR3aW5kb3cuc2V0VGltZW91dCggZnVuY3Rpb24oKSB7XG5cdFx0ZnhOb3cgPSB1bmRlZmluZWQ7XG5cdH0gKTtcblx0cmV0dXJuICggZnhOb3cgPSBEYXRlLm5vdygpICk7XG59XG5cbi8vIEdlbmVyYXRlIHBhcmFtZXRlcnMgdG8gY3JlYXRlIGEgc3RhbmRhcmQgYW5pbWF0aW9uXG5mdW5jdGlvbiBnZW5GeCggdHlwZSwgaW5jbHVkZVdpZHRoICkge1xuXHR2YXIgd2hpY2gsXG5cdFx0aSA9IDAsXG5cdFx0YXR0cnMgPSB7IGhlaWdodDogdHlwZSB9O1xuXG5cdC8vIElmIHdlIGluY2x1ZGUgd2lkdGgsIHN0ZXAgdmFsdWUgaXMgMSB0byBkbyBhbGwgY3NzRXhwYW5kIHZhbHVlcyxcblx0Ly8gb3RoZXJ3aXNlIHN0ZXAgdmFsdWUgaXMgMiB0byBza2lwIG92ZXIgTGVmdCBhbmQgUmlnaHRcblx0aW5jbHVkZVdpZHRoID0gaW5jbHVkZVdpZHRoID8gMSA6IDA7XG5cdGZvciAoIDsgaSA8IDQ7IGkgKz0gMiAtIGluY2x1ZGVXaWR0aCApIHtcblx0XHR3aGljaCA9IGNzc0V4cGFuZFsgaSBdO1xuXHRcdGF0dHJzWyBcIm1hcmdpblwiICsgd2hpY2ggXSA9IGF0dHJzWyBcInBhZGRpbmdcIiArIHdoaWNoIF0gPSB0eXBlO1xuXHR9XG5cblx0aWYgKCBpbmNsdWRlV2lkdGggKSB7XG5cdFx0YXR0cnMub3BhY2l0eSA9IGF0dHJzLndpZHRoID0gdHlwZTtcblx0fVxuXG5cdHJldHVybiBhdHRycztcbn1cblxuZnVuY3Rpb24gY3JlYXRlVHdlZW4oIHZhbHVlLCBwcm9wLCBhbmltYXRpb24gKSB7XG5cdHZhciB0d2Vlbixcblx0XHRjb2xsZWN0aW9uID0gKCBBbmltYXRpb24udHdlZW5lcnNbIHByb3AgXSB8fCBbXSApLmNvbmNhdCggQW5pbWF0aW9uLnR3ZWVuZXJzWyBcIipcIiBdICksXG5cdFx0aW5kZXggPSAwLFxuXHRcdGxlbmd0aCA9IGNvbGxlY3Rpb24ubGVuZ3RoO1xuXHRmb3IgKCA7IGluZGV4IDwgbGVuZ3RoOyBpbmRleCsrICkge1xuXHRcdGlmICggKCB0d2VlbiA9IGNvbGxlY3Rpb25bIGluZGV4IF0uY2FsbCggYW5pbWF0aW9uLCBwcm9wLCB2YWx1ZSApICkgKSB7XG5cblx0XHRcdC8vIFdlJ3JlIGRvbmUgd2l0aCB0aGlzIHByb3BlcnR5XG5cdFx0XHRyZXR1cm4gdHdlZW47XG5cdFx0fVxuXHR9XG59XG5cbmZ1bmN0aW9uIGRlZmF1bHRQcmVmaWx0ZXIoIGVsZW0sIHByb3BzLCBvcHRzICkge1xuXHR2YXIgcHJvcCwgdmFsdWUsIHRvZ2dsZSwgaG9va3MsIG9sZGZpcmUsIHByb3BUd2VlbiwgcmVzdG9yZURpc3BsYXksIGRpc3BsYXksXG5cdFx0aXNCb3ggPSBcIndpZHRoXCIgaW4gcHJvcHMgfHwgXCJoZWlnaHRcIiBpbiBwcm9wcyxcblx0XHRhbmltID0gdGhpcyxcblx0XHRvcmlnID0ge30sXG5cdFx0c3R5bGUgPSBlbGVtLnN0eWxlLFxuXHRcdGhpZGRlbiA9IGVsZW0ubm9kZVR5cGUgJiYgaXNIaWRkZW5XaXRoaW5UcmVlKCBlbGVtICksXG5cdFx0ZGF0YVNob3cgPSBkYXRhUHJpdi5nZXQoIGVsZW0sIFwiZnhzaG93XCIgKTtcblxuXHQvLyBRdWV1ZS1za2lwcGluZyBhbmltYXRpb25zIGhpamFjayB0aGUgZnggaG9va3Ncblx0aWYgKCAhb3B0cy5xdWV1ZSApIHtcblx0XHRob29rcyA9IGpRdWVyeS5fcXVldWVIb29rcyggZWxlbSwgXCJmeFwiICk7XG5cdFx0aWYgKCBob29rcy51bnF1ZXVlZCA9PSBudWxsICkge1xuXHRcdFx0aG9va3MudW5xdWV1ZWQgPSAwO1xuXHRcdFx0b2xkZmlyZSA9IGhvb2tzLmVtcHR5LmZpcmU7XG5cdFx0XHRob29rcy5lbXB0eS5maXJlID0gZnVuY3Rpb24oKSB7XG5cdFx0XHRcdGlmICggIWhvb2tzLnVucXVldWVkICkge1xuXHRcdFx0XHRcdG9sZGZpcmUoKTtcblx0XHRcdFx0fVxuXHRcdFx0fTtcblx0XHR9XG5cdFx0aG9va3MudW5xdWV1ZWQrKztcblxuXHRcdGFuaW0uYWx3YXlzKCBmdW5jdGlvbigpIHtcblxuXHRcdFx0Ly8gRW5zdXJlIHRoZSBjb21wbGV0ZSBoYW5kbGVyIGlzIGNhbGxlZCBiZWZvcmUgdGhpcyBjb21wbGV0ZXNcblx0XHRcdGFuaW0uYWx3YXlzKCBmdW5jdGlvbigpIHtcblx0XHRcdFx0aG9va3MudW5xdWV1ZWQtLTtcblx0XHRcdFx0aWYgKCAhalF1ZXJ5LnF1ZXVlKCBlbGVtLCBcImZ4XCIgKS5sZW5ndGggKSB7XG5cdFx0XHRcdFx0aG9va3MuZW1wdHkuZmlyZSgpO1xuXHRcdFx0XHR9XG5cdFx0XHR9ICk7XG5cdFx0fSApO1xuXHR9XG5cblx0Ly8gRGV0ZWN0IHNob3cvaGlkZSBhbmltYXRpb25zXG5cdGZvciAoIHByb3AgaW4gcHJvcHMgKSB7XG5cdFx0dmFsdWUgPSBwcm9wc1sgcHJvcCBdO1xuXHRcdGlmICggcmZ4dHlwZXMudGVzdCggdmFsdWUgKSApIHtcblx0XHRcdGRlbGV0ZSBwcm9wc1sgcHJvcCBdO1xuXHRcdFx0dG9nZ2xlID0gdG9nZ2xlIHx8IHZhbHVlID09PSBcInRvZ2dsZVwiO1xuXHRcdFx0aWYgKCB2YWx1ZSA9PT0gKCBoaWRkZW4gPyBcImhpZGVcIiA6IFwic2hvd1wiICkgKSB7XG5cblx0XHRcdFx0Ly8gUHJldGVuZCB0byBiZSBoaWRkZW4gaWYgdGhpcyBpcyBhIFwic2hvd1wiIGFuZFxuXHRcdFx0XHQvLyB0aGVyZSBpcyBzdGlsbCBkYXRhIGZyb20gYSBzdG9wcGVkIHNob3cvaGlkZVxuXHRcdFx0XHRpZiAoIHZhbHVlID09PSBcInNob3dcIiAmJiBkYXRhU2hvdyAmJiBkYXRhU2hvd1sgcHJvcCBdICE9PSB1bmRlZmluZWQgKSB7XG5cdFx0XHRcdFx0aGlkZGVuID0gdHJ1ZTtcblxuXHRcdFx0XHQvLyBJZ25vcmUgYWxsIG90aGVyIG5vLW9wIHNob3cvaGlkZSBkYXRhXG5cdFx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdFx0Y29udGludWU7XG5cdFx0XHRcdH1cblx0XHRcdH1cblx0XHRcdG9yaWdbIHByb3AgXSA9IGRhdGFTaG93ICYmIGRhdGFTaG93WyBwcm9wIF0gfHwgalF1ZXJ5LnN0eWxlKCBlbGVtLCBwcm9wICk7XG5cdFx0fVxuXHR9XG5cblx0Ly8gQmFpbCBvdXQgaWYgdGhpcyBpcyBhIG5vLW9wIGxpa2UgLmhpZGUoKS5oaWRlKClcblx0cHJvcFR3ZWVuID0gIWpRdWVyeS5pc0VtcHR5T2JqZWN0KCBwcm9wcyApO1xuXHRpZiAoICFwcm9wVHdlZW4gJiYgalF1ZXJ5LmlzRW1wdHlPYmplY3QoIG9yaWcgKSApIHtcblx0XHRyZXR1cm47XG5cdH1cblxuXHQvLyBSZXN0cmljdCBcIm92ZXJmbG93XCIgYW5kIFwiZGlzcGxheVwiIHN0eWxlcyBkdXJpbmcgYm94IGFuaW1hdGlvbnNcblx0aWYgKCBpc0JveCAmJiBlbGVtLm5vZGVUeXBlID09PSAxICkge1xuXG5cdFx0Ly8gU3VwcG9ydDogSUUgPD05IC0gMTEsIEVkZ2UgMTIgLSAxNVxuXHRcdC8vIFJlY29yZCBhbGwgMyBvdmVyZmxvdyBhdHRyaWJ1dGVzIGJlY2F1c2UgSUUgZG9lcyBub3QgaW5mZXIgdGhlIHNob3J0aGFuZFxuXHRcdC8vIGZyb20gaWRlbnRpY2FsbHktdmFsdWVkIG92ZXJmbG93WCBhbmQgb3ZlcmZsb3dZIGFuZCBFZGdlIGp1c3QgbWlycm9yc1xuXHRcdC8vIHRoZSBvdmVyZmxvd1ggdmFsdWUgdGhlcmUuXG5cdFx0b3B0cy5vdmVyZmxvdyA9IFsgc3R5bGUub3ZlcmZsb3csIHN0eWxlLm92ZXJmbG93WCwgc3R5bGUub3ZlcmZsb3dZIF07XG5cblx0XHQvLyBJZGVudGlmeSBhIGRpc3BsYXkgdHlwZSwgcHJlZmVycmluZyBvbGQgc2hvdy9oaWRlIGRhdGEgb3ZlciB0aGUgQ1NTIGNhc2NhZGVcblx0XHRyZXN0b3JlRGlzcGxheSA9IGRhdGFTaG93ICYmIGRhdGFTaG93LmRpc3BsYXk7XG5cdFx0aWYgKCByZXN0b3JlRGlzcGxheSA9PSBudWxsICkge1xuXHRcdFx0cmVzdG9yZURpc3BsYXkgPSBkYXRhUHJpdi5nZXQoIGVsZW0sIFwiZGlzcGxheVwiICk7XG5cdFx0fVxuXHRcdGRpc3BsYXkgPSBqUXVlcnkuY3NzKCBlbGVtLCBcImRpc3BsYXlcIiApO1xuXHRcdGlmICggZGlzcGxheSA9PT0gXCJub25lXCIgKSB7XG5cdFx0XHRpZiAoIHJlc3RvcmVEaXNwbGF5ICkge1xuXHRcdFx0XHRkaXNwbGF5ID0gcmVzdG9yZURpc3BsYXk7XG5cdFx0XHR9IGVsc2Uge1xuXG5cdFx0XHRcdC8vIEdldCBub25lbXB0eSB2YWx1ZShzKSBieSB0ZW1wb3JhcmlseSBmb3JjaW5nIHZpc2liaWxpdHlcblx0XHRcdFx0c2hvd0hpZGUoIFsgZWxlbSBdLCB0cnVlICk7XG5cdFx0XHRcdHJlc3RvcmVEaXNwbGF5ID0gZWxlbS5zdHlsZS5kaXNwbGF5IHx8IHJlc3RvcmVEaXNwbGF5O1xuXHRcdFx0XHRkaXNwbGF5ID0galF1ZXJ5LmNzcyggZWxlbSwgXCJkaXNwbGF5XCIgKTtcblx0XHRcdFx0c2hvd0hpZGUoIFsgZWxlbSBdICk7XG5cdFx0XHR9XG5cdFx0fVxuXG5cdFx0Ly8gQW5pbWF0ZSBpbmxpbmUgZWxlbWVudHMgYXMgaW5saW5lLWJsb2NrXG5cdFx0aWYgKCBkaXNwbGF5ID09PSBcImlubGluZVwiIHx8IGRpc3BsYXkgPT09IFwiaW5saW5lLWJsb2NrXCIgJiYgcmVzdG9yZURpc3BsYXkgIT0gbnVsbCApIHtcblx0XHRcdGlmICggalF1ZXJ5LmNzcyggZWxlbSwgXCJmbG9hdFwiICkgPT09IFwibm9uZVwiICkge1xuXG5cdFx0XHRcdC8vIFJlc3RvcmUgdGhlIG9yaWdpbmFsIGRpc3BsYXkgdmFsdWUgYXQgdGhlIGVuZCBvZiBwdXJlIHNob3cvaGlkZSBhbmltYXRpb25zXG5cdFx0XHRcdGlmICggIXByb3BUd2VlbiApIHtcblx0XHRcdFx0XHRhbmltLmRvbmUoIGZ1bmN0aW9uKCkge1xuXHRcdFx0XHRcdFx0c3R5bGUuZGlzcGxheSA9IHJlc3RvcmVEaXNwbGF5O1xuXHRcdFx0XHRcdH0gKTtcblx0XHRcdFx0XHRpZiAoIHJlc3RvcmVEaXNwbGF5ID09IG51bGwgKSB7XG5cdFx0XHRcdFx0XHRkaXNwbGF5ID0gc3R5bGUuZGlzcGxheTtcblx0XHRcdFx0XHRcdHJlc3RvcmVEaXNwbGF5ID0gZGlzcGxheSA9PT0gXCJub25lXCIgPyBcIlwiIDogZGlzcGxheTtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdH1cblx0XHRcdFx0c3R5bGUuZGlzcGxheSA9IFwiaW5saW5lLWJsb2NrXCI7XG5cdFx0XHR9XG5cdFx0fVxuXHR9XG5cblx0aWYgKCBvcHRzLm92ZXJmbG93ICkge1xuXHRcdHN0eWxlLm92ZXJmbG93ID0gXCJoaWRkZW5cIjtcblx0XHRhbmltLmFsd2F5cyggZnVuY3Rpb24oKSB7XG5cdFx0XHRzdHlsZS5vdmVyZmxvdyA9IG9wdHMub3ZlcmZsb3dbIDAgXTtcblx0XHRcdHN0eWxlLm92ZXJmbG93WCA9IG9wdHMub3ZlcmZsb3dbIDEgXTtcblx0XHRcdHN0eWxlLm92ZXJmbG93WSA9IG9wdHMub3ZlcmZsb3dbIDIgXTtcblx0XHR9ICk7XG5cdH1cblxuXHQvLyBJbXBsZW1lbnQgc2hvdy9oaWRlIGFuaW1hdGlvbnNcblx0cHJvcFR3ZWVuID0gZmFsc2U7XG5cdGZvciAoIHByb3AgaW4gb3JpZyApIHtcblxuXHRcdC8vIEdlbmVyYWwgc2hvdy9oaWRlIHNldHVwIGZvciB0aGlzIGVsZW1lbnQgYW5pbWF0aW9uXG5cdFx0aWYgKCAhcHJvcFR3ZWVuICkge1xuXHRcdFx0aWYgKCBkYXRhU2hvdyApIHtcblx0XHRcdFx0aWYgKCBcImhpZGRlblwiIGluIGRhdGFTaG93ICkge1xuXHRcdFx0XHRcdGhpZGRlbiA9IGRhdGFTaG93LmhpZGRlbjtcblx0XHRcdFx0fVxuXHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0ZGF0YVNob3cgPSBkYXRhUHJpdi5hY2Nlc3MoIGVsZW0sIFwiZnhzaG93XCIsIHsgZGlzcGxheTogcmVzdG9yZURpc3BsYXkgfSApO1xuXHRcdFx0fVxuXG5cdFx0XHQvLyBTdG9yZSBoaWRkZW4vdmlzaWJsZSBmb3IgdG9nZ2xlIHNvIGAuc3RvcCgpLnRvZ2dsZSgpYCBcInJldmVyc2VzXCJcblx0XHRcdGlmICggdG9nZ2xlICkge1xuXHRcdFx0XHRkYXRhU2hvdy5oaWRkZW4gPSAhaGlkZGVuO1xuXHRcdFx0fVxuXG5cdFx0XHQvLyBTaG93IGVsZW1lbnRzIGJlZm9yZSBhbmltYXRpbmcgdGhlbVxuXHRcdFx0aWYgKCBoaWRkZW4gKSB7XG5cdFx0XHRcdHNob3dIaWRlKCBbIGVsZW0gXSwgdHJ1ZSApO1xuXHRcdFx0fVxuXG5cdFx0XHQvKiBlc2xpbnQtZGlzYWJsZSBuby1sb29wLWZ1bmMgKi9cblxuXHRcdFx0YW5pbS5kb25lKCBmdW5jdGlvbigpIHtcblxuXHRcdFx0LyogZXNsaW50LWVuYWJsZSBuby1sb29wLWZ1bmMgKi9cblxuXHRcdFx0XHQvLyBUaGUgZmluYWwgc3RlcCBvZiBhIFwiaGlkZVwiIGFuaW1hdGlvbiBpcyBhY3R1YWxseSBoaWRpbmcgdGhlIGVsZW1lbnRcblx0XHRcdFx0aWYgKCAhaGlkZGVuICkge1xuXHRcdFx0XHRcdHNob3dIaWRlKCBbIGVsZW0gXSApO1xuXHRcdFx0XHR9XG5cdFx0XHRcdGRhdGFQcml2LnJlbW92ZSggZWxlbSwgXCJmeHNob3dcIiApO1xuXHRcdFx0XHRmb3IgKCBwcm9wIGluIG9yaWcgKSB7XG5cdFx0XHRcdFx0alF1ZXJ5LnN0eWxlKCBlbGVtLCBwcm9wLCBvcmlnWyBwcm9wIF0gKTtcblx0XHRcdFx0fVxuXHRcdFx0fSApO1xuXHRcdH1cblxuXHRcdC8vIFBlci1wcm9wZXJ0eSBzZXR1cFxuXHRcdHByb3BUd2VlbiA9IGNyZWF0ZVR3ZWVuKCBoaWRkZW4gPyBkYXRhU2hvd1sgcHJvcCBdIDogMCwgcHJvcCwgYW5pbSApO1xuXHRcdGlmICggISggcHJvcCBpbiBkYXRhU2hvdyApICkge1xuXHRcdFx0ZGF0YVNob3dbIHByb3AgXSA9IHByb3BUd2Vlbi5zdGFydDtcblx0XHRcdGlmICggaGlkZGVuICkge1xuXHRcdFx0XHRwcm9wVHdlZW4uZW5kID0gcHJvcFR3ZWVuLnN0YXJ0O1xuXHRcdFx0XHRwcm9wVHdlZW4uc3RhcnQgPSAwO1xuXHRcdFx0fVxuXHRcdH1cblx0fVxufVxuXG5mdW5jdGlvbiBwcm9wRmlsdGVyKCBwcm9wcywgc3BlY2lhbEVhc2luZyApIHtcblx0dmFyIGluZGV4LCBuYW1lLCBlYXNpbmcsIHZhbHVlLCBob29rcztcblxuXHQvLyBjYW1lbENhc2UsIHNwZWNpYWxFYXNpbmcgYW5kIGV4cGFuZCBjc3NIb29rIHBhc3Ncblx0Zm9yICggaW5kZXggaW4gcHJvcHMgKSB7XG5cdFx0bmFtZSA9IGNhbWVsQ2FzZSggaW5kZXggKTtcblx0XHRlYXNpbmcgPSBzcGVjaWFsRWFzaW5nWyBuYW1lIF07XG5cdFx0dmFsdWUgPSBwcm9wc1sgaW5kZXggXTtcblx0XHRpZiAoIEFycmF5LmlzQXJyYXkoIHZhbHVlICkgKSB7XG5cdFx0XHRlYXNpbmcgPSB2YWx1ZVsgMSBdO1xuXHRcdFx0dmFsdWUgPSBwcm9wc1sgaW5kZXggXSA9IHZhbHVlWyAwIF07XG5cdFx0fVxuXG5cdFx0aWYgKCBpbmRleCAhPT0gbmFtZSApIHtcblx0XHRcdHByb3BzWyBuYW1lIF0gPSB2YWx1ZTtcblx0XHRcdGRlbGV0ZSBwcm9wc1sgaW5kZXggXTtcblx0XHR9XG5cblx0XHRob29rcyA9IGpRdWVyeS5jc3NIb29rc1sgbmFtZSBdO1xuXHRcdGlmICggaG9va3MgJiYgXCJleHBhbmRcIiBpbiBob29rcyApIHtcblx0XHRcdHZhbHVlID0gaG9va3MuZXhwYW5kKCB2YWx1ZSApO1xuXHRcdFx0ZGVsZXRlIHByb3BzWyBuYW1lIF07XG5cblx0XHRcdC8vIE5vdCBxdWl0ZSAkLmV4dGVuZCwgdGhpcyB3b24ndCBvdmVyd3JpdGUgZXhpc3Rpbmcga2V5cy5cblx0XHRcdC8vIFJldXNpbmcgJ2luZGV4JyBiZWNhdXNlIHdlIGhhdmUgdGhlIGNvcnJlY3QgXCJuYW1lXCJcblx0XHRcdGZvciAoIGluZGV4IGluIHZhbHVlICkge1xuXHRcdFx0XHRpZiAoICEoIGluZGV4IGluIHByb3BzICkgKSB7XG5cdFx0XHRcdFx0cHJvcHNbIGluZGV4IF0gPSB2YWx1ZVsgaW5kZXggXTtcblx0XHRcdFx0XHRzcGVjaWFsRWFzaW5nWyBpbmRleCBdID0gZWFzaW5nO1xuXHRcdFx0XHR9XG5cdFx0XHR9XG5cdFx0fSBlbHNlIHtcblx0XHRcdHNwZWNpYWxFYXNpbmdbIG5hbWUgXSA9IGVhc2luZztcblx0XHR9XG5cdH1cbn1cblxuZnVuY3Rpb24gQW5pbWF0aW9uKCBlbGVtLCBwcm9wZXJ0aWVzLCBvcHRpb25zICkge1xuXHR2YXIgcmVzdWx0LFxuXHRcdHN0b3BwZWQsXG5cdFx0aW5kZXggPSAwLFxuXHRcdGxlbmd0aCA9IEFuaW1hdGlvbi5wcmVmaWx0ZXJzLmxlbmd0aCxcblx0XHRkZWZlcnJlZCA9IGpRdWVyeS5EZWZlcnJlZCgpLmFsd2F5cyggZnVuY3Rpb24oKSB7XG5cblx0XHRcdC8vIERvbid0IG1hdGNoIGVsZW0gaW4gdGhlIDphbmltYXRlZCBzZWxlY3RvclxuXHRcdFx0ZGVsZXRlIHRpY2suZWxlbTtcblx0XHR9ICksXG5cdFx0dGljayA9IGZ1bmN0aW9uKCkge1xuXHRcdFx0aWYgKCBzdG9wcGVkICkge1xuXHRcdFx0XHRyZXR1cm4gZmFsc2U7XG5cdFx0XHR9XG5cdFx0XHR2YXIgY3VycmVudFRpbWUgPSBmeE5vdyB8fCBjcmVhdGVGeE5vdygpLFxuXHRcdFx0XHRyZW1haW5pbmcgPSBNYXRoLm1heCggMCwgYW5pbWF0aW9uLnN0YXJ0VGltZSArIGFuaW1hdGlvbi5kdXJhdGlvbiAtIGN1cnJlbnRUaW1lICksXG5cblx0XHRcdFx0Ly8gU3VwcG9ydDogQW5kcm9pZCAyLjMgb25seVxuXHRcdFx0XHQvLyBBcmNoYWljIGNyYXNoIGJ1ZyB3b24ndCBhbGxvdyB1cyB0byB1c2UgYDEgLSAoIDAuNSB8fCAwIClgICgjMTI0OTcpXG5cdFx0XHRcdHRlbXAgPSByZW1haW5pbmcgLyBhbmltYXRpb24uZHVyYXRpb24gfHwgMCxcblx0XHRcdFx0cGVyY2VudCA9IDEgLSB0ZW1wLFxuXHRcdFx0XHRpbmRleCA9IDAsXG5cdFx0XHRcdGxlbmd0aCA9IGFuaW1hdGlvbi50d2VlbnMubGVuZ3RoO1xuXG5cdFx0XHRmb3IgKCA7IGluZGV4IDwgbGVuZ3RoOyBpbmRleCsrICkge1xuXHRcdFx0XHRhbmltYXRpb24udHdlZW5zWyBpbmRleCBdLnJ1biggcGVyY2VudCApO1xuXHRcdFx0fVxuXG5cdFx0XHRkZWZlcnJlZC5ub3RpZnlXaXRoKCBlbGVtLCBbIGFuaW1hdGlvbiwgcGVyY2VudCwgcmVtYWluaW5nIF0gKTtcblxuXHRcdFx0Ly8gSWYgdGhlcmUncyBtb3JlIHRvIGRvLCB5aWVsZFxuXHRcdFx0aWYgKCBwZXJjZW50IDwgMSAmJiBsZW5ndGggKSB7XG5cdFx0XHRcdHJldHVybiByZW1haW5pbmc7XG5cdFx0XHR9XG5cblx0XHRcdC8vIElmIHRoaXMgd2FzIGFuIGVtcHR5IGFuaW1hdGlvbiwgc3ludGhlc2l6ZSBhIGZpbmFsIHByb2dyZXNzIG5vdGlmaWNhdGlvblxuXHRcdFx0aWYgKCAhbGVuZ3RoICkge1xuXHRcdFx0XHRkZWZlcnJlZC5ub3RpZnlXaXRoKCBlbGVtLCBbIGFuaW1hdGlvbiwgMSwgMCBdICk7XG5cdFx0XHR9XG5cblx0XHRcdC8vIFJlc29sdmUgdGhlIGFuaW1hdGlvbiBhbmQgcmVwb3J0IGl0cyBjb25jbHVzaW9uXG5cdFx0XHRkZWZlcnJlZC5yZXNvbHZlV2l0aCggZWxlbSwgWyBhbmltYXRpb24gXSApO1xuXHRcdFx0cmV0dXJuIGZhbHNlO1xuXHRcdH0sXG5cdFx0YW5pbWF0aW9uID0gZGVmZXJyZWQucHJvbWlzZSgge1xuXHRcdFx0ZWxlbTogZWxlbSxcblx0XHRcdHByb3BzOiBqUXVlcnkuZXh0ZW5kKCB7fSwgcHJvcGVydGllcyApLFxuXHRcdFx0b3B0czogalF1ZXJ5LmV4dGVuZCggdHJ1ZSwge1xuXHRcdFx0XHRzcGVjaWFsRWFzaW5nOiB7fSxcblx0XHRcdFx0ZWFzaW5nOiBqUXVlcnkuZWFzaW5nLl9kZWZhdWx0XG5cdFx0XHR9LCBvcHRpb25zICksXG5cdFx0XHRvcmlnaW5hbFByb3BlcnRpZXM6IHByb3BlcnRpZXMsXG5cdFx0XHRvcmlnaW5hbE9wdGlvbnM6IG9wdGlvbnMsXG5cdFx0XHRzdGFydFRpbWU6IGZ4Tm93IHx8IGNyZWF0ZUZ4Tm93KCksXG5cdFx0XHRkdXJhdGlvbjogb3B0aW9ucy5kdXJhdGlvbixcblx0XHRcdHR3ZWVuczogW10sXG5cdFx0XHRjcmVhdGVUd2VlbjogZnVuY3Rpb24oIHByb3AsIGVuZCApIHtcblx0XHRcdFx0dmFyIHR3ZWVuID0galF1ZXJ5LlR3ZWVuKCBlbGVtLCBhbmltYXRpb24ub3B0cywgcHJvcCwgZW5kLFxuXHRcdFx0XHRcdFx0YW5pbWF0aW9uLm9wdHMuc3BlY2lhbEVhc2luZ1sgcHJvcCBdIHx8IGFuaW1hdGlvbi5vcHRzLmVhc2luZyApO1xuXHRcdFx0XHRhbmltYXRpb24udHdlZW5zLnB1c2goIHR3ZWVuICk7XG5cdFx0XHRcdHJldHVybiB0d2Vlbjtcblx0XHRcdH0sXG5cdFx0XHRzdG9wOiBmdW5jdGlvbiggZ290b0VuZCApIHtcblx0XHRcdFx0dmFyIGluZGV4ID0gMCxcblxuXHRcdFx0XHRcdC8vIElmIHdlIGFyZSBnb2luZyB0byB0aGUgZW5kLCB3ZSB3YW50IHRvIHJ1biBhbGwgdGhlIHR3ZWVuc1xuXHRcdFx0XHRcdC8vIG90aGVyd2lzZSB3ZSBza2lwIHRoaXMgcGFydFxuXHRcdFx0XHRcdGxlbmd0aCA9IGdvdG9FbmQgPyBhbmltYXRpb24udHdlZW5zLmxlbmd0aCA6IDA7XG5cdFx0XHRcdGlmICggc3RvcHBlZCApIHtcblx0XHRcdFx0XHRyZXR1cm4gdGhpcztcblx0XHRcdFx0fVxuXHRcdFx0XHRzdG9wcGVkID0gdHJ1ZTtcblx0XHRcdFx0Zm9yICggOyBpbmRleCA8IGxlbmd0aDsgaW5kZXgrKyApIHtcblx0XHRcdFx0XHRhbmltYXRpb24udHdlZW5zWyBpbmRleCBdLnJ1biggMSApO1xuXHRcdFx0XHR9XG5cblx0XHRcdFx0Ly8gUmVzb2x2ZSB3aGVuIHdlIHBsYXllZCB0aGUgbGFzdCBmcmFtZTsgb3RoZXJ3aXNlLCByZWplY3Rcblx0XHRcdFx0aWYgKCBnb3RvRW5kICkge1xuXHRcdFx0XHRcdGRlZmVycmVkLm5vdGlmeVdpdGgoIGVsZW0sIFsgYW5pbWF0aW9uLCAxLCAwIF0gKTtcblx0XHRcdFx0XHRkZWZlcnJlZC5yZXNvbHZlV2l0aCggZWxlbSwgWyBhbmltYXRpb24sIGdvdG9FbmQgXSApO1xuXHRcdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRcdGRlZmVycmVkLnJlamVjdFdpdGgoIGVsZW0sIFsgYW5pbWF0aW9uLCBnb3RvRW5kIF0gKTtcblx0XHRcdFx0fVxuXHRcdFx0XHRyZXR1cm4gdGhpcztcblx0XHRcdH1cblx0XHR9ICksXG5cdFx0cHJvcHMgPSBhbmltYXRpb24ucHJvcHM7XG5cblx0cHJvcEZpbHRlciggcHJvcHMsIGFuaW1hdGlvbi5vcHRzLnNwZWNpYWxFYXNpbmcgKTtcblxuXHRmb3IgKCA7IGluZGV4IDwgbGVuZ3RoOyBpbmRleCsrICkge1xuXHRcdHJlc3VsdCA9IEFuaW1hdGlvbi5wcmVmaWx0ZXJzWyBpbmRleCBdLmNhbGwoIGFuaW1hdGlvbiwgZWxlbSwgcHJvcHMsIGFuaW1hdGlvbi5vcHRzICk7XG5cdFx0aWYgKCByZXN1bHQgKSB7XG5cdFx0XHRpZiAoIGlzRnVuY3Rpb24oIHJlc3VsdC5zdG9wICkgKSB7XG5cdFx0XHRcdGpRdWVyeS5fcXVldWVIb29rcyggYW5pbWF0aW9uLmVsZW0sIGFuaW1hdGlvbi5vcHRzLnF1ZXVlICkuc3RvcCA9XG5cdFx0XHRcdFx0cmVzdWx0LnN0b3AuYmluZCggcmVzdWx0ICk7XG5cdFx0XHR9XG5cdFx0XHRyZXR1cm4gcmVzdWx0O1xuXHRcdH1cblx0fVxuXG5cdGpRdWVyeS5tYXAoIHByb3BzLCBjcmVhdGVUd2VlbiwgYW5pbWF0aW9uICk7XG5cblx0aWYgKCBpc0Z1bmN0aW9uKCBhbmltYXRpb24ub3B0cy5zdGFydCApICkge1xuXHRcdGFuaW1hdGlvbi5vcHRzLnN0YXJ0LmNhbGwoIGVsZW0sIGFuaW1hdGlvbiApO1xuXHR9XG5cblx0Ly8gQXR0YWNoIGNhbGxiYWNrcyBmcm9tIG9wdGlvbnNcblx0YW5pbWF0aW9uXG5cdFx0LnByb2dyZXNzKCBhbmltYXRpb24ub3B0cy5wcm9ncmVzcyApXG5cdFx0LmRvbmUoIGFuaW1hdGlvbi5vcHRzLmRvbmUsIGFuaW1hdGlvbi5vcHRzLmNvbXBsZXRlIClcblx0XHQuZmFpbCggYW5pbWF0aW9uLm9wdHMuZmFpbCApXG5cdFx0LmFsd2F5cyggYW5pbWF0aW9uLm9wdHMuYWx3YXlzICk7XG5cblx0alF1ZXJ5LmZ4LnRpbWVyKFxuXHRcdGpRdWVyeS5leHRlbmQoIHRpY2ssIHtcblx0XHRcdGVsZW06IGVsZW0sXG5cdFx0XHRhbmltOiBhbmltYXRpb24sXG5cdFx0XHRxdWV1ZTogYW5pbWF0aW9uLm9wdHMucXVldWVcblx0XHR9IClcblx0KTtcblxuXHRyZXR1cm4gYW5pbWF0aW9uO1xufVxuXG5qUXVlcnkuQW5pbWF0aW9uID0galF1ZXJ5LmV4dGVuZCggQW5pbWF0aW9uLCB7XG5cblx0dHdlZW5lcnM6IHtcblx0XHRcIipcIjogWyBmdW5jdGlvbiggcHJvcCwgdmFsdWUgKSB7XG5cdFx0XHR2YXIgdHdlZW4gPSB0aGlzLmNyZWF0ZVR3ZWVuKCBwcm9wLCB2YWx1ZSApO1xuXHRcdFx0YWRqdXN0Q1NTKCB0d2Vlbi5lbGVtLCBwcm9wLCByY3NzTnVtLmV4ZWMoIHZhbHVlICksIHR3ZWVuICk7XG5cdFx0XHRyZXR1cm4gdHdlZW47XG5cdFx0fSBdXG5cdH0sXG5cblx0dHdlZW5lcjogZnVuY3Rpb24oIHByb3BzLCBjYWxsYmFjayApIHtcblx0XHRpZiAoIGlzRnVuY3Rpb24oIHByb3BzICkgKSB7XG5cdFx0XHRjYWxsYmFjayA9IHByb3BzO1xuXHRcdFx0cHJvcHMgPSBbIFwiKlwiIF07XG5cdFx0fSBlbHNlIHtcblx0XHRcdHByb3BzID0gcHJvcHMubWF0Y2goIHJub3RodG1sd2hpdGUgKTtcblx0XHR9XG5cblx0XHR2YXIgcHJvcCxcblx0XHRcdGluZGV4ID0gMCxcblx0XHRcdGxlbmd0aCA9IHByb3BzLmxlbmd0aDtcblxuXHRcdGZvciAoIDsgaW5kZXggPCBsZW5ndGg7IGluZGV4KysgKSB7XG5cdFx0XHRwcm9wID0gcHJvcHNbIGluZGV4IF07XG5cdFx0XHRBbmltYXRpb24udHdlZW5lcnNbIHByb3AgXSA9IEFuaW1hdGlvbi50d2VlbmVyc1sgcHJvcCBdIHx8IFtdO1xuXHRcdFx0QW5pbWF0aW9uLnR3ZWVuZXJzWyBwcm9wIF0udW5zaGlmdCggY2FsbGJhY2sgKTtcblx0XHR9XG5cdH0sXG5cblx0cHJlZmlsdGVyczogWyBkZWZhdWx0UHJlZmlsdGVyIF0sXG5cblx0cHJlZmlsdGVyOiBmdW5jdGlvbiggY2FsbGJhY2ssIHByZXBlbmQgKSB7XG5cdFx0aWYgKCBwcmVwZW5kICkge1xuXHRcdFx0QW5pbWF0aW9uLnByZWZpbHRlcnMudW5zaGlmdCggY2FsbGJhY2sgKTtcblx0XHR9IGVsc2Uge1xuXHRcdFx0QW5pbWF0aW9uLnByZWZpbHRlcnMucHVzaCggY2FsbGJhY2sgKTtcblx0XHR9XG5cdH1cbn0gKTtcblxualF1ZXJ5LnNwZWVkID0gZnVuY3Rpb24oIHNwZWVkLCBlYXNpbmcsIGZuICkge1xuXHR2YXIgb3B0ID0gc3BlZWQgJiYgdHlwZW9mIHNwZWVkID09PSBcIm9iamVjdFwiID8galF1ZXJ5LmV4dGVuZCgge30sIHNwZWVkICkgOiB7XG5cdFx0Y29tcGxldGU6IGZuIHx8ICFmbiAmJiBlYXNpbmcgfHxcblx0XHRcdGlzRnVuY3Rpb24oIHNwZWVkICkgJiYgc3BlZWQsXG5cdFx0ZHVyYXRpb246IHNwZWVkLFxuXHRcdGVhc2luZzogZm4gJiYgZWFzaW5nIHx8IGVhc2luZyAmJiAhaXNGdW5jdGlvbiggZWFzaW5nICkgJiYgZWFzaW5nXG5cdH07XG5cblx0Ly8gR28gdG8gdGhlIGVuZCBzdGF0ZSBpZiBmeCBhcmUgb2ZmXG5cdGlmICggalF1ZXJ5LmZ4Lm9mZiApIHtcblx0XHRvcHQuZHVyYXRpb24gPSAwO1xuXG5cdH0gZWxzZSB7XG5cdFx0aWYgKCB0eXBlb2Ygb3B0LmR1cmF0aW9uICE9PSBcIm51bWJlclwiICkge1xuXHRcdFx0aWYgKCBvcHQuZHVyYXRpb24gaW4galF1ZXJ5LmZ4LnNwZWVkcyApIHtcblx0XHRcdFx0b3B0LmR1cmF0aW9uID0galF1ZXJ5LmZ4LnNwZWVkc1sgb3B0LmR1cmF0aW9uIF07XG5cblx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdG9wdC5kdXJhdGlvbiA9IGpRdWVyeS5meC5zcGVlZHMuX2RlZmF1bHQ7XG5cdFx0XHR9XG5cdFx0fVxuXHR9XG5cblx0Ly8gTm9ybWFsaXplIG9wdC5xdWV1ZSAtIHRydWUvdW5kZWZpbmVkL251bGwgLT4gXCJmeFwiXG5cdGlmICggb3B0LnF1ZXVlID09IG51bGwgfHwgb3B0LnF1ZXVlID09PSB0cnVlICkge1xuXHRcdG9wdC5xdWV1ZSA9IFwiZnhcIjtcblx0fVxuXG5cdC8vIFF1ZXVlaW5nXG5cdG9wdC5vbGQgPSBvcHQuY29tcGxldGU7XG5cblx0b3B0LmNvbXBsZXRlID0gZnVuY3Rpb24oKSB7XG5cdFx0aWYgKCBpc0Z1bmN0aW9uKCBvcHQub2xkICkgKSB7XG5cdFx0XHRvcHQub2xkLmNhbGwoIHRoaXMgKTtcblx0XHR9XG5cblx0XHRpZiAoIG9wdC5xdWV1ZSApIHtcblx0XHRcdGpRdWVyeS5kZXF1ZXVlKCB0aGlzLCBvcHQucXVldWUgKTtcblx0XHR9XG5cdH07XG5cblx0cmV0dXJuIG9wdDtcbn07XG5cbmpRdWVyeS5mbi5leHRlbmQoIHtcblx0ZmFkZVRvOiBmdW5jdGlvbiggc3BlZWQsIHRvLCBlYXNpbmcsIGNhbGxiYWNrICkge1xuXG5cdFx0Ly8gU2hvdyBhbnkgaGlkZGVuIGVsZW1lbnRzIGFmdGVyIHNldHRpbmcgb3BhY2l0eSB0byAwXG5cdFx0cmV0dXJuIHRoaXMuZmlsdGVyKCBpc0hpZGRlbldpdGhpblRyZWUgKS5jc3MoIFwib3BhY2l0eVwiLCAwICkuc2hvdygpXG5cblx0XHRcdC8vIEFuaW1hdGUgdG8gdGhlIHZhbHVlIHNwZWNpZmllZFxuXHRcdFx0LmVuZCgpLmFuaW1hdGUoIHsgb3BhY2l0eTogdG8gfSwgc3BlZWQsIGVhc2luZywgY2FsbGJhY2sgKTtcblx0fSxcblx0YW5pbWF0ZTogZnVuY3Rpb24oIHByb3AsIHNwZWVkLCBlYXNpbmcsIGNhbGxiYWNrICkge1xuXHRcdHZhciBlbXB0eSA9IGpRdWVyeS5pc0VtcHR5T2JqZWN0KCBwcm9wICksXG5cdFx0XHRvcHRhbGwgPSBqUXVlcnkuc3BlZWQoIHNwZWVkLCBlYXNpbmcsIGNhbGxiYWNrICksXG5cdFx0XHRkb0FuaW1hdGlvbiA9IGZ1bmN0aW9uKCkge1xuXG5cdFx0XHRcdC8vIE9wZXJhdGUgb24gYSBjb3B5IG9mIHByb3Agc28gcGVyLXByb3BlcnR5IGVhc2luZyB3b24ndCBiZSBsb3N0XG5cdFx0XHRcdHZhciBhbmltID0gQW5pbWF0aW9uKCB0aGlzLCBqUXVlcnkuZXh0ZW5kKCB7fSwgcHJvcCApLCBvcHRhbGwgKTtcblxuXHRcdFx0XHQvLyBFbXB0eSBhbmltYXRpb25zLCBvciBmaW5pc2hpbmcgcmVzb2x2ZXMgaW1tZWRpYXRlbHlcblx0XHRcdFx0aWYgKCBlbXB0eSB8fCBkYXRhUHJpdi5nZXQoIHRoaXMsIFwiZmluaXNoXCIgKSApIHtcblx0XHRcdFx0XHRhbmltLnN0b3AoIHRydWUgKTtcblx0XHRcdFx0fVxuXHRcdFx0fTtcblx0XHRcdGRvQW5pbWF0aW9uLmZpbmlzaCA9IGRvQW5pbWF0aW9uO1xuXG5cdFx0cmV0dXJuIGVtcHR5IHx8IG9wdGFsbC5xdWV1ZSA9PT0gZmFsc2UgP1xuXHRcdFx0dGhpcy5lYWNoKCBkb0FuaW1hdGlvbiApIDpcblx0XHRcdHRoaXMucXVldWUoIG9wdGFsbC5xdWV1ZSwgZG9BbmltYXRpb24gKTtcblx0fSxcblx0c3RvcDogZnVuY3Rpb24oIHR5cGUsIGNsZWFyUXVldWUsIGdvdG9FbmQgKSB7XG5cdFx0dmFyIHN0b3BRdWV1ZSA9IGZ1bmN0aW9uKCBob29rcyApIHtcblx0XHRcdHZhciBzdG9wID0gaG9va3Muc3RvcDtcblx0XHRcdGRlbGV0ZSBob29rcy5zdG9wO1xuXHRcdFx0c3RvcCggZ290b0VuZCApO1xuXHRcdH07XG5cblx0XHRpZiAoIHR5cGVvZiB0eXBlICE9PSBcInN0cmluZ1wiICkge1xuXHRcdFx0Z290b0VuZCA9IGNsZWFyUXVldWU7XG5cdFx0XHRjbGVhclF1ZXVlID0gdHlwZTtcblx0XHRcdHR5cGUgPSB1bmRlZmluZWQ7XG5cdFx0fVxuXHRcdGlmICggY2xlYXJRdWV1ZSApIHtcblx0XHRcdHRoaXMucXVldWUoIHR5cGUgfHwgXCJmeFwiLCBbXSApO1xuXHRcdH1cblxuXHRcdHJldHVybiB0aGlzLmVhY2goIGZ1bmN0aW9uKCkge1xuXHRcdFx0dmFyIGRlcXVldWUgPSB0cnVlLFxuXHRcdFx0XHRpbmRleCA9IHR5cGUgIT0gbnVsbCAmJiB0eXBlICsgXCJxdWV1ZUhvb2tzXCIsXG5cdFx0XHRcdHRpbWVycyA9IGpRdWVyeS50aW1lcnMsXG5cdFx0XHRcdGRhdGEgPSBkYXRhUHJpdi5nZXQoIHRoaXMgKTtcblxuXHRcdFx0aWYgKCBpbmRleCApIHtcblx0XHRcdFx0aWYgKCBkYXRhWyBpbmRleCBdICYmIGRhdGFbIGluZGV4IF0uc3RvcCApIHtcblx0XHRcdFx0XHRzdG9wUXVldWUoIGRhdGFbIGluZGV4IF0gKTtcblx0XHRcdFx0fVxuXHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0Zm9yICggaW5kZXggaW4gZGF0YSApIHtcblx0XHRcdFx0XHRpZiAoIGRhdGFbIGluZGV4IF0gJiYgZGF0YVsgaW5kZXggXS5zdG9wICYmIHJydW4udGVzdCggaW5kZXggKSApIHtcblx0XHRcdFx0XHRcdHN0b3BRdWV1ZSggZGF0YVsgaW5kZXggXSApO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0fVxuXHRcdFx0fVxuXG5cdFx0XHRmb3IgKCBpbmRleCA9IHRpbWVycy5sZW5ndGg7IGluZGV4LS07ICkge1xuXHRcdFx0XHRpZiAoIHRpbWVyc1sgaW5kZXggXS5lbGVtID09PSB0aGlzICYmXG5cdFx0XHRcdFx0KCB0eXBlID09IG51bGwgfHwgdGltZXJzWyBpbmRleCBdLnF1ZXVlID09PSB0eXBlICkgKSB7XG5cblx0XHRcdFx0XHR0aW1lcnNbIGluZGV4IF0uYW5pbS5zdG9wKCBnb3RvRW5kICk7XG5cdFx0XHRcdFx0ZGVxdWV1ZSA9IGZhbHNlO1xuXHRcdFx0XHRcdHRpbWVycy5zcGxpY2UoIGluZGV4LCAxICk7XG5cdFx0XHRcdH1cblx0XHRcdH1cblxuXHRcdFx0Ly8gU3RhcnQgdGhlIG5leHQgaW4gdGhlIHF1ZXVlIGlmIHRoZSBsYXN0IHN0ZXAgd2Fzbid0IGZvcmNlZC5cblx0XHRcdC8vIFRpbWVycyBjdXJyZW50bHkgd2lsbCBjYWxsIHRoZWlyIGNvbXBsZXRlIGNhbGxiYWNrcywgd2hpY2hcblx0XHRcdC8vIHdpbGwgZGVxdWV1ZSBidXQgb25seSBpZiB0aGV5IHdlcmUgZ290b0VuZC5cblx0XHRcdGlmICggZGVxdWV1ZSB8fCAhZ290b0VuZCApIHtcblx0XHRcdFx0alF1ZXJ5LmRlcXVldWUoIHRoaXMsIHR5cGUgKTtcblx0XHRcdH1cblx0XHR9ICk7XG5cdH0sXG5cdGZpbmlzaDogZnVuY3Rpb24oIHR5cGUgKSB7XG5cdFx0aWYgKCB0eXBlICE9PSBmYWxzZSApIHtcblx0XHRcdHR5cGUgPSB0eXBlIHx8IFwiZnhcIjtcblx0XHR9XG5cdFx0cmV0dXJuIHRoaXMuZWFjaCggZnVuY3Rpb24oKSB7XG5cdFx0XHR2YXIgaW5kZXgsXG5cdFx0XHRcdGRhdGEgPSBkYXRhUHJpdi5nZXQoIHRoaXMgKSxcblx0XHRcdFx0cXVldWUgPSBkYXRhWyB0eXBlICsgXCJxdWV1ZVwiIF0sXG5cdFx0XHRcdGhvb2tzID0gZGF0YVsgdHlwZSArIFwicXVldWVIb29rc1wiIF0sXG5cdFx0XHRcdHRpbWVycyA9IGpRdWVyeS50aW1lcnMsXG5cdFx0XHRcdGxlbmd0aCA9IHF1ZXVlID8gcXVldWUubGVuZ3RoIDogMDtcblxuXHRcdFx0Ly8gRW5hYmxlIGZpbmlzaGluZyBmbGFnIG9uIHByaXZhdGUgZGF0YVxuXHRcdFx0ZGF0YS5maW5pc2ggPSB0cnVlO1xuXG5cdFx0XHQvLyBFbXB0eSB0aGUgcXVldWUgZmlyc3Rcblx0XHRcdGpRdWVyeS5xdWV1ZSggdGhpcywgdHlwZSwgW10gKTtcblxuXHRcdFx0aWYgKCBob29rcyAmJiBob29rcy5zdG9wICkge1xuXHRcdFx0XHRob29rcy5zdG9wLmNhbGwoIHRoaXMsIHRydWUgKTtcblx0XHRcdH1cblxuXHRcdFx0Ly8gTG9vayBmb3IgYW55IGFjdGl2ZSBhbmltYXRpb25zLCBhbmQgZmluaXNoIHRoZW1cblx0XHRcdGZvciAoIGluZGV4ID0gdGltZXJzLmxlbmd0aDsgaW5kZXgtLTsgKSB7XG5cdFx0XHRcdGlmICggdGltZXJzWyBpbmRleCBdLmVsZW0gPT09IHRoaXMgJiYgdGltZXJzWyBpbmRleCBdLnF1ZXVlID09PSB0eXBlICkge1xuXHRcdFx0XHRcdHRpbWVyc1sgaW5kZXggXS5hbmltLnN0b3AoIHRydWUgKTtcblx0XHRcdFx0XHR0aW1lcnMuc3BsaWNlKCBpbmRleCwgMSApO1xuXHRcdFx0XHR9XG5cdFx0XHR9XG5cblx0XHRcdC8vIExvb2sgZm9yIGFueSBhbmltYXRpb25zIGluIHRoZSBvbGQgcXVldWUgYW5kIGZpbmlzaCB0aGVtXG5cdFx0XHRmb3IgKCBpbmRleCA9IDA7IGluZGV4IDwgbGVuZ3RoOyBpbmRleCsrICkge1xuXHRcdFx0XHRpZiAoIHF1ZXVlWyBpbmRleCBdICYmIHF1ZXVlWyBpbmRleCBdLmZpbmlzaCApIHtcblx0XHRcdFx0XHRxdWV1ZVsgaW5kZXggXS5maW5pc2guY2FsbCggdGhpcyApO1xuXHRcdFx0XHR9XG5cdFx0XHR9XG5cblx0XHRcdC8vIFR1cm4gb2ZmIGZpbmlzaGluZyBmbGFnXG5cdFx0XHRkZWxldGUgZGF0YS5maW5pc2g7XG5cdFx0fSApO1xuXHR9XG59ICk7XG5cbmpRdWVyeS5lYWNoKCBbIFwidG9nZ2xlXCIsIFwic2hvd1wiLCBcImhpZGVcIiBdLCBmdW5jdGlvbiggX2ksIG5hbWUgKSB7XG5cdHZhciBjc3NGbiA9IGpRdWVyeS5mblsgbmFtZSBdO1xuXHRqUXVlcnkuZm5bIG5hbWUgXSA9IGZ1bmN0aW9uKCBzcGVlZCwgZWFzaW5nLCBjYWxsYmFjayApIHtcblx0XHRyZXR1cm4gc3BlZWQgPT0gbnVsbCB8fCB0eXBlb2Ygc3BlZWQgPT09IFwiYm9vbGVhblwiID9cblx0XHRcdGNzc0ZuLmFwcGx5KCB0aGlzLCBhcmd1bWVudHMgKSA6XG5cdFx0XHR0aGlzLmFuaW1hdGUoIGdlbkZ4KCBuYW1lLCB0cnVlICksIHNwZWVkLCBlYXNpbmcsIGNhbGxiYWNrICk7XG5cdH07XG59ICk7XG5cbi8vIEdlbmVyYXRlIHNob3J0Y3V0cyBmb3IgY3VzdG9tIGFuaW1hdGlvbnNcbmpRdWVyeS5lYWNoKCB7XG5cdHNsaWRlRG93bjogZ2VuRngoIFwic2hvd1wiICksXG5cdHNsaWRlVXA6IGdlbkZ4KCBcImhpZGVcIiApLFxuXHRzbGlkZVRvZ2dsZTogZ2VuRngoIFwidG9nZ2xlXCIgKSxcblx0ZmFkZUluOiB7IG9wYWNpdHk6IFwic2hvd1wiIH0sXG5cdGZhZGVPdXQ6IHsgb3BhY2l0eTogXCJoaWRlXCIgfSxcblx0ZmFkZVRvZ2dsZTogeyBvcGFjaXR5OiBcInRvZ2dsZVwiIH1cbn0sIGZ1bmN0aW9uKCBuYW1lLCBwcm9wcyApIHtcblx0alF1ZXJ5LmZuWyBuYW1lIF0gPSBmdW5jdGlvbiggc3BlZWQsIGVhc2luZywgY2FsbGJhY2sgKSB7XG5cdFx0cmV0dXJuIHRoaXMuYW5pbWF0ZSggcHJvcHMsIHNwZWVkLCBlYXNpbmcsIGNhbGxiYWNrICk7XG5cdH07XG59ICk7XG5cbmpRdWVyeS50aW1lcnMgPSBbXTtcbmpRdWVyeS5meC50aWNrID0gZnVuY3Rpb24oKSB7XG5cdHZhciB0aW1lcixcblx0XHRpID0gMCxcblx0XHR0aW1lcnMgPSBqUXVlcnkudGltZXJzO1xuXG5cdGZ4Tm93ID0gRGF0ZS5ub3coKTtcblxuXHRmb3IgKCA7IGkgPCB0aW1lcnMubGVuZ3RoOyBpKysgKSB7XG5cdFx0dGltZXIgPSB0aW1lcnNbIGkgXTtcblxuXHRcdC8vIFJ1biB0aGUgdGltZXIgYW5kIHNhZmVseSByZW1vdmUgaXQgd2hlbiBkb25lIChhbGxvd2luZyBmb3IgZXh0ZXJuYWwgcmVtb3ZhbClcblx0XHRpZiAoICF0aW1lcigpICYmIHRpbWVyc1sgaSBdID09PSB0aW1lciApIHtcblx0XHRcdHRpbWVycy5zcGxpY2UoIGktLSwgMSApO1xuXHRcdH1cblx0fVxuXG5cdGlmICggIXRpbWVycy5sZW5ndGggKSB7XG5cdFx0alF1ZXJ5LmZ4LnN0b3AoKTtcblx0fVxuXHRmeE5vdyA9IHVuZGVmaW5lZDtcbn07XG5cbmpRdWVyeS5meC50aW1lciA9IGZ1bmN0aW9uKCB0aW1lciApIHtcblx0alF1ZXJ5LnRpbWVycy5wdXNoKCB0aW1lciApO1xuXHRqUXVlcnkuZnguc3RhcnQoKTtcbn07XG5cbmpRdWVyeS5meC5pbnRlcnZhbCA9IDEzO1xualF1ZXJ5LmZ4LnN0YXJ0ID0gZnVuY3Rpb24oKSB7XG5cdGlmICggaW5Qcm9ncmVzcyApIHtcblx0XHRyZXR1cm47XG5cdH1cblxuXHRpblByb2dyZXNzID0gdHJ1ZTtcblx0c2NoZWR1bGUoKTtcbn07XG5cbmpRdWVyeS5meC5zdG9wID0gZnVuY3Rpb24oKSB7XG5cdGluUHJvZ3Jlc3MgPSBudWxsO1xufTtcblxualF1ZXJ5LmZ4LnNwZWVkcyA9IHtcblx0c2xvdzogNjAwLFxuXHRmYXN0OiAyMDAsXG5cblx0Ly8gRGVmYXVsdCBzcGVlZFxuXHRfZGVmYXVsdDogNDAwXG59O1xuXG5cbi8vIEJhc2VkIG9mZiBvZiB0aGUgcGx1Z2luIGJ5IENsaW50IEhlbGZlcnMsIHdpdGggcGVybWlzc2lvbi5cbi8vIGh0dHBzOi8vd2ViLmFyY2hpdmUub3JnL3dlYi8yMDEwMDMyNDAxNDc0Ny9odHRwOi8vYmxpbmRzaWduYWxzLmNvbS9pbmRleC5waHAvMjAwOS8wNy9qcXVlcnktZGVsYXkvXG5qUXVlcnkuZm4uZGVsYXkgPSBmdW5jdGlvbiggdGltZSwgdHlwZSApIHtcblx0dGltZSA9IGpRdWVyeS5meCA/IGpRdWVyeS5meC5zcGVlZHNbIHRpbWUgXSB8fCB0aW1lIDogdGltZTtcblx0dHlwZSA9IHR5cGUgfHwgXCJmeFwiO1xuXG5cdHJldHVybiB0aGlzLnF1ZXVlKCB0eXBlLCBmdW5jdGlvbiggbmV4dCwgaG9va3MgKSB7XG5cdFx0dmFyIHRpbWVvdXQgPSB3aW5kb3cuc2V0VGltZW91dCggbmV4dCwgdGltZSApO1xuXHRcdGhvb2tzLnN0b3AgPSBmdW5jdGlvbigpIHtcblx0XHRcdHdpbmRvdy5jbGVhclRpbWVvdXQoIHRpbWVvdXQgKTtcblx0XHR9O1xuXHR9ICk7XG59O1xuXG5cbiggZnVuY3Rpb24oKSB7XG5cdHZhciBpbnB1dCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoIFwiaW5wdXRcIiApLFxuXHRcdHNlbGVjdCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoIFwic2VsZWN0XCIgKSxcblx0XHRvcHQgPSBzZWxlY3QuYXBwZW5kQ2hpbGQoIGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoIFwib3B0aW9uXCIgKSApO1xuXG5cdGlucHV0LnR5cGUgPSBcImNoZWNrYm94XCI7XG5cblx0Ly8gU3VwcG9ydDogQW5kcm9pZCA8PTQuMyBvbmx5XG5cdC8vIERlZmF1bHQgdmFsdWUgZm9yIGEgY2hlY2tib3ggc2hvdWxkIGJlIFwib25cIlxuXHRzdXBwb3J0LmNoZWNrT24gPSBpbnB1dC52YWx1ZSAhPT0gXCJcIjtcblxuXHQvLyBTdXBwb3J0OiBJRSA8PTExIG9ubHlcblx0Ly8gTXVzdCBhY2Nlc3Mgc2VsZWN0ZWRJbmRleCB0byBtYWtlIGRlZmF1bHQgb3B0aW9ucyBzZWxlY3Rcblx0c3VwcG9ydC5vcHRTZWxlY3RlZCA9IG9wdC5zZWxlY3RlZDtcblxuXHQvLyBTdXBwb3J0OiBJRSA8PTExIG9ubHlcblx0Ly8gQW4gaW5wdXQgbG9zZXMgaXRzIHZhbHVlIGFmdGVyIGJlY29taW5nIGEgcmFkaW9cblx0aW5wdXQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCBcImlucHV0XCIgKTtcblx0aW5wdXQudmFsdWUgPSBcInRcIjtcblx0aW5wdXQudHlwZSA9IFwicmFkaW9cIjtcblx0c3VwcG9ydC5yYWRpb1ZhbHVlID0gaW5wdXQudmFsdWUgPT09IFwidFwiO1xufSApKCk7XG5cblxudmFyIGJvb2xIb29rLFxuXHRhdHRySGFuZGxlID0galF1ZXJ5LmV4cHIuYXR0ckhhbmRsZTtcblxualF1ZXJ5LmZuLmV4dGVuZCgge1xuXHRhdHRyOiBmdW5jdGlvbiggbmFtZSwgdmFsdWUgKSB7XG5cdFx0cmV0dXJuIGFjY2VzcyggdGhpcywgalF1ZXJ5LmF0dHIsIG5hbWUsIHZhbHVlLCBhcmd1bWVudHMubGVuZ3RoID4gMSApO1xuXHR9LFxuXG5cdHJlbW92ZUF0dHI6IGZ1bmN0aW9uKCBuYW1lICkge1xuXHRcdHJldHVybiB0aGlzLmVhY2goIGZ1bmN0aW9uKCkge1xuXHRcdFx0alF1ZXJ5LnJlbW92ZUF0dHIoIHRoaXMsIG5hbWUgKTtcblx0XHR9ICk7XG5cdH1cbn0gKTtcblxualF1ZXJ5LmV4dGVuZCgge1xuXHRhdHRyOiBmdW5jdGlvbiggZWxlbSwgbmFtZSwgdmFsdWUgKSB7XG5cdFx0dmFyIHJldCwgaG9va3MsXG5cdFx0XHRuVHlwZSA9IGVsZW0ubm9kZVR5cGU7XG5cblx0XHQvLyBEb24ndCBnZXQvc2V0IGF0dHJpYnV0ZXMgb24gdGV4dCwgY29tbWVudCBhbmQgYXR0cmlidXRlIG5vZGVzXG5cdFx0aWYgKCBuVHlwZSA9PT0gMyB8fCBuVHlwZSA9PT0gOCB8fCBuVHlwZSA9PT0gMiApIHtcblx0XHRcdHJldHVybjtcblx0XHR9XG5cblx0XHQvLyBGYWxsYmFjayB0byBwcm9wIHdoZW4gYXR0cmlidXRlcyBhcmUgbm90IHN1cHBvcnRlZFxuXHRcdGlmICggdHlwZW9mIGVsZW0uZ2V0QXR0cmlidXRlID09PSBcInVuZGVmaW5lZFwiICkge1xuXHRcdFx0cmV0dXJuIGpRdWVyeS5wcm9wKCBlbGVtLCBuYW1lLCB2YWx1ZSApO1xuXHRcdH1cblxuXHRcdC8vIEF0dHJpYnV0ZSBob29rcyBhcmUgZGV0ZXJtaW5lZCBieSB0aGUgbG93ZXJjYXNlIHZlcnNpb25cblx0XHQvLyBHcmFiIG5lY2Vzc2FyeSBob29rIGlmIG9uZSBpcyBkZWZpbmVkXG5cdFx0aWYgKCBuVHlwZSAhPT0gMSB8fCAhalF1ZXJ5LmlzWE1MRG9jKCBlbGVtICkgKSB7XG5cdFx0XHRob29rcyA9IGpRdWVyeS5hdHRySG9va3NbIG5hbWUudG9Mb3dlckNhc2UoKSBdIHx8XG5cdFx0XHRcdCggalF1ZXJ5LmV4cHIubWF0Y2guYm9vbC50ZXN0KCBuYW1lICkgPyBib29sSG9vayA6IHVuZGVmaW5lZCApO1xuXHRcdH1cblxuXHRcdGlmICggdmFsdWUgIT09IHVuZGVmaW5lZCApIHtcblx0XHRcdGlmICggdmFsdWUgPT09IG51bGwgKSB7XG5cdFx0XHRcdGpRdWVyeS5yZW1vdmVBdHRyKCBlbGVtLCBuYW1lICk7XG5cdFx0XHRcdHJldHVybjtcblx0XHRcdH1cblxuXHRcdFx0aWYgKCBob29rcyAmJiBcInNldFwiIGluIGhvb2tzICYmXG5cdFx0XHRcdCggcmV0ID0gaG9va3Muc2V0KCBlbGVtLCB2YWx1ZSwgbmFtZSApICkgIT09IHVuZGVmaW5lZCApIHtcblx0XHRcdFx0cmV0dXJuIHJldDtcblx0XHRcdH1cblxuXHRcdFx0ZWxlbS5zZXRBdHRyaWJ1dGUoIG5hbWUsIHZhbHVlICsgXCJcIiApO1xuXHRcdFx0cmV0dXJuIHZhbHVlO1xuXHRcdH1cblxuXHRcdGlmICggaG9va3MgJiYgXCJnZXRcIiBpbiBob29rcyAmJiAoIHJldCA9IGhvb2tzLmdldCggZWxlbSwgbmFtZSApICkgIT09IG51bGwgKSB7XG5cdFx0XHRyZXR1cm4gcmV0O1xuXHRcdH1cblxuXHRcdHJldCA9IGpRdWVyeS5maW5kLmF0dHIoIGVsZW0sIG5hbWUgKTtcblxuXHRcdC8vIE5vbi1leGlzdGVudCBhdHRyaWJ1dGVzIHJldHVybiBudWxsLCB3ZSBub3JtYWxpemUgdG8gdW5kZWZpbmVkXG5cdFx0cmV0dXJuIHJldCA9PSBudWxsID8gdW5kZWZpbmVkIDogcmV0O1xuXHR9LFxuXG5cdGF0dHJIb29rczoge1xuXHRcdHR5cGU6IHtcblx0XHRcdHNldDogZnVuY3Rpb24oIGVsZW0sIHZhbHVlICkge1xuXHRcdFx0XHRpZiAoICFzdXBwb3J0LnJhZGlvVmFsdWUgJiYgdmFsdWUgPT09IFwicmFkaW9cIiAmJlxuXHRcdFx0XHRcdG5vZGVOYW1lKCBlbGVtLCBcImlucHV0XCIgKSApIHtcblx0XHRcdFx0XHR2YXIgdmFsID0gZWxlbS52YWx1ZTtcblx0XHRcdFx0XHRlbGVtLnNldEF0dHJpYnV0ZSggXCJ0eXBlXCIsIHZhbHVlICk7XG5cdFx0XHRcdFx0aWYgKCB2YWwgKSB7XG5cdFx0XHRcdFx0XHRlbGVtLnZhbHVlID0gdmFsO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0XHRyZXR1cm4gdmFsdWU7XG5cdFx0XHRcdH1cblx0XHRcdH1cblx0XHR9XG5cdH0sXG5cblx0cmVtb3ZlQXR0cjogZnVuY3Rpb24oIGVsZW0sIHZhbHVlICkge1xuXHRcdHZhciBuYW1lLFxuXHRcdFx0aSA9IDAsXG5cblx0XHRcdC8vIEF0dHJpYnV0ZSBuYW1lcyBjYW4gY29udGFpbiBub24tSFRNTCB3aGl0ZXNwYWNlIGNoYXJhY3RlcnNcblx0XHRcdC8vIGh0dHBzOi8vaHRtbC5zcGVjLndoYXR3Zy5vcmcvbXVsdGlwYWdlL3N5bnRheC5odG1sI2F0dHJpYnV0ZXMtMlxuXHRcdFx0YXR0ck5hbWVzID0gdmFsdWUgJiYgdmFsdWUubWF0Y2goIHJub3RodG1sd2hpdGUgKTtcblxuXHRcdGlmICggYXR0ck5hbWVzICYmIGVsZW0ubm9kZVR5cGUgPT09IDEgKSB7XG5cdFx0XHR3aGlsZSAoICggbmFtZSA9IGF0dHJOYW1lc1sgaSsrIF0gKSApIHtcblx0XHRcdFx0ZWxlbS5yZW1vdmVBdHRyaWJ1dGUoIG5hbWUgKTtcblx0XHRcdH1cblx0XHR9XG5cdH1cbn0gKTtcblxuLy8gSG9va3MgZm9yIGJvb2xlYW4gYXR0cmlidXRlc1xuYm9vbEhvb2sgPSB7XG5cdHNldDogZnVuY3Rpb24oIGVsZW0sIHZhbHVlLCBuYW1lICkge1xuXHRcdGlmICggdmFsdWUgPT09IGZhbHNlICkge1xuXG5cdFx0XHQvLyBSZW1vdmUgYm9vbGVhbiBhdHRyaWJ1dGVzIHdoZW4gc2V0IHRvIGZhbHNlXG5cdFx0XHRqUXVlcnkucmVtb3ZlQXR0ciggZWxlbSwgbmFtZSApO1xuXHRcdH0gZWxzZSB7XG5cdFx0XHRlbGVtLnNldEF0dHJpYnV0ZSggbmFtZSwgbmFtZSApO1xuXHRcdH1cblx0XHRyZXR1cm4gbmFtZTtcblx0fVxufTtcblxualF1ZXJ5LmVhY2goIGpRdWVyeS5leHByLm1hdGNoLmJvb2wuc291cmNlLm1hdGNoKCAvXFx3Ky9nICksIGZ1bmN0aW9uKCBfaSwgbmFtZSApIHtcblx0dmFyIGdldHRlciA9IGF0dHJIYW5kbGVbIG5hbWUgXSB8fCBqUXVlcnkuZmluZC5hdHRyO1xuXG5cdGF0dHJIYW5kbGVbIG5hbWUgXSA9IGZ1bmN0aW9uKCBlbGVtLCBuYW1lLCBpc1hNTCApIHtcblx0XHR2YXIgcmV0LCBoYW5kbGUsXG5cdFx0XHRsb3dlcmNhc2VOYW1lID0gbmFtZS50b0xvd2VyQ2FzZSgpO1xuXG5cdFx0aWYgKCAhaXNYTUwgKSB7XG5cblx0XHRcdC8vIEF2b2lkIGFuIGluZmluaXRlIGxvb3AgYnkgdGVtcG9yYXJpbHkgcmVtb3ZpbmcgdGhpcyBmdW5jdGlvbiBmcm9tIHRoZSBnZXR0ZXJcblx0XHRcdGhhbmRsZSA9IGF0dHJIYW5kbGVbIGxvd2VyY2FzZU5hbWUgXTtcblx0XHRcdGF0dHJIYW5kbGVbIGxvd2VyY2FzZU5hbWUgXSA9IHJldDtcblx0XHRcdHJldCA9IGdldHRlciggZWxlbSwgbmFtZSwgaXNYTUwgKSAhPSBudWxsID9cblx0XHRcdFx0bG93ZXJjYXNlTmFtZSA6XG5cdFx0XHRcdG51bGw7XG5cdFx0XHRhdHRySGFuZGxlWyBsb3dlcmNhc2VOYW1lIF0gPSBoYW5kbGU7XG5cdFx0fVxuXHRcdHJldHVybiByZXQ7XG5cdH07XG59ICk7XG5cblxuXG5cbnZhciByZm9jdXNhYmxlID0gL14oPzppbnB1dHxzZWxlY3R8dGV4dGFyZWF8YnV0dG9uKSQvaSxcblx0cmNsaWNrYWJsZSA9IC9eKD86YXxhcmVhKSQvaTtcblxualF1ZXJ5LmZuLmV4dGVuZCgge1xuXHRwcm9wOiBmdW5jdGlvbiggbmFtZSwgdmFsdWUgKSB7XG5cdFx0cmV0dXJuIGFjY2VzcyggdGhpcywgalF1ZXJ5LnByb3AsIG5hbWUsIHZhbHVlLCBhcmd1bWVudHMubGVuZ3RoID4gMSApO1xuXHR9LFxuXG5cdHJlbW92ZVByb3A6IGZ1bmN0aW9uKCBuYW1lICkge1xuXHRcdHJldHVybiB0aGlzLmVhY2goIGZ1bmN0aW9uKCkge1xuXHRcdFx0ZGVsZXRlIHRoaXNbIGpRdWVyeS5wcm9wRml4WyBuYW1lIF0gfHwgbmFtZSBdO1xuXHRcdH0gKTtcblx0fVxufSApO1xuXG5qUXVlcnkuZXh0ZW5kKCB7XG5cdHByb3A6IGZ1bmN0aW9uKCBlbGVtLCBuYW1lLCB2YWx1ZSApIHtcblx0XHR2YXIgcmV0LCBob29rcyxcblx0XHRcdG5UeXBlID0gZWxlbS5ub2RlVHlwZTtcblxuXHRcdC8vIERvbid0IGdldC9zZXQgcHJvcGVydGllcyBvbiB0ZXh0LCBjb21tZW50IGFuZCBhdHRyaWJ1dGUgbm9kZXNcblx0XHRpZiAoIG5UeXBlID09PSAzIHx8IG5UeXBlID09PSA4IHx8IG5UeXBlID09PSAyICkge1xuXHRcdFx0cmV0dXJuO1xuXHRcdH1cblxuXHRcdGlmICggblR5cGUgIT09IDEgfHwgIWpRdWVyeS5pc1hNTERvYyggZWxlbSApICkge1xuXG5cdFx0XHQvLyBGaXggbmFtZSBhbmQgYXR0YWNoIGhvb2tzXG5cdFx0XHRuYW1lID0galF1ZXJ5LnByb3BGaXhbIG5hbWUgXSB8fCBuYW1lO1xuXHRcdFx0aG9va3MgPSBqUXVlcnkucHJvcEhvb2tzWyBuYW1lIF07XG5cdFx0fVxuXG5cdFx0aWYgKCB2YWx1ZSAhPT0gdW5kZWZpbmVkICkge1xuXHRcdFx0aWYgKCBob29rcyAmJiBcInNldFwiIGluIGhvb2tzICYmXG5cdFx0XHRcdCggcmV0ID0gaG9va3Muc2V0KCBlbGVtLCB2YWx1ZSwgbmFtZSApICkgIT09IHVuZGVmaW5lZCApIHtcblx0XHRcdFx0cmV0dXJuIHJldDtcblx0XHRcdH1cblxuXHRcdFx0cmV0dXJuICggZWxlbVsgbmFtZSBdID0gdmFsdWUgKTtcblx0XHR9XG5cblx0XHRpZiAoIGhvb2tzICYmIFwiZ2V0XCIgaW4gaG9va3MgJiYgKCByZXQgPSBob29rcy5nZXQoIGVsZW0sIG5hbWUgKSApICE9PSBudWxsICkge1xuXHRcdFx0cmV0dXJuIHJldDtcblx0XHR9XG5cblx0XHRyZXR1cm4gZWxlbVsgbmFtZSBdO1xuXHR9LFxuXG5cdHByb3BIb29rczoge1xuXHRcdHRhYkluZGV4OiB7XG5cdFx0XHRnZXQ6IGZ1bmN0aW9uKCBlbGVtICkge1xuXG5cdFx0XHRcdC8vIFN1cHBvcnQ6IElFIDw9OSAtIDExIG9ubHlcblx0XHRcdFx0Ly8gZWxlbS50YWJJbmRleCBkb2Vzbid0IGFsd2F5cyByZXR1cm4gdGhlXG5cdFx0XHRcdC8vIGNvcnJlY3QgdmFsdWUgd2hlbiBpdCBoYXNuJ3QgYmVlbiBleHBsaWNpdGx5IHNldFxuXHRcdFx0XHQvLyBodHRwczovL3dlYi5hcmNoaXZlLm9yZy93ZWIvMjAxNDExMTYyMzMzNDcvaHR0cDovL2ZsdWlkcHJvamVjdC5vcmcvYmxvZy8yMDA4LzAxLzA5L2dldHRpbmctc2V0dGluZy1hbmQtcmVtb3ZpbmctdGFiaW5kZXgtdmFsdWVzLXdpdGgtamF2YXNjcmlwdC9cblx0XHRcdFx0Ly8gVXNlIHByb3BlciBhdHRyaWJ1dGUgcmV0cmlldmFsKCMxMjA3Milcblx0XHRcdFx0dmFyIHRhYmluZGV4ID0galF1ZXJ5LmZpbmQuYXR0ciggZWxlbSwgXCJ0YWJpbmRleFwiICk7XG5cblx0XHRcdFx0aWYgKCB0YWJpbmRleCApIHtcblx0XHRcdFx0XHRyZXR1cm4gcGFyc2VJbnQoIHRhYmluZGV4LCAxMCApO1xuXHRcdFx0XHR9XG5cblx0XHRcdFx0aWYgKFxuXHRcdFx0XHRcdHJmb2N1c2FibGUudGVzdCggZWxlbS5ub2RlTmFtZSApIHx8XG5cdFx0XHRcdFx0cmNsaWNrYWJsZS50ZXN0KCBlbGVtLm5vZGVOYW1lICkgJiZcblx0XHRcdFx0XHRlbGVtLmhyZWZcblx0XHRcdFx0KSB7XG5cdFx0XHRcdFx0cmV0dXJuIDA7XG5cdFx0XHRcdH1cblxuXHRcdFx0XHRyZXR1cm4gLTE7XG5cdFx0XHR9XG5cdFx0fVxuXHR9LFxuXG5cdHByb3BGaXg6IHtcblx0XHRcImZvclwiOiBcImh0bWxGb3JcIixcblx0XHRcImNsYXNzXCI6IFwiY2xhc3NOYW1lXCJcblx0fVxufSApO1xuXG4vLyBTdXBwb3J0OiBJRSA8PTExIG9ubHlcbi8vIEFjY2Vzc2luZyB0aGUgc2VsZWN0ZWRJbmRleCBwcm9wZXJ0eVxuLy8gZm9yY2VzIHRoZSBicm93c2VyIHRvIHJlc3BlY3Qgc2V0dGluZyBzZWxlY3RlZFxuLy8gb24gdGhlIG9wdGlvblxuLy8gVGhlIGdldHRlciBlbnN1cmVzIGEgZGVmYXVsdCBvcHRpb24gaXMgc2VsZWN0ZWRcbi8vIHdoZW4gaW4gYW4gb3B0Z3JvdXBcbi8vIGVzbGludCBydWxlIFwibm8tdW51c2VkLWV4cHJlc3Npb25zXCIgaXMgZGlzYWJsZWQgZm9yIHRoaXMgY29kZVxuLy8gc2luY2UgaXQgY29uc2lkZXJzIHN1Y2ggYWNjZXNzaW9ucyBub29wXG5pZiAoICFzdXBwb3J0Lm9wdFNlbGVjdGVkICkge1xuXHRqUXVlcnkucHJvcEhvb2tzLnNlbGVjdGVkID0ge1xuXHRcdGdldDogZnVuY3Rpb24oIGVsZW0gKSB7XG5cblx0XHRcdC8qIGVzbGludCBuby11bnVzZWQtZXhwcmVzc2lvbnM6IFwib2ZmXCIgKi9cblxuXHRcdFx0dmFyIHBhcmVudCA9IGVsZW0ucGFyZW50Tm9kZTtcblx0XHRcdGlmICggcGFyZW50ICYmIHBhcmVudC5wYXJlbnROb2RlICkge1xuXHRcdFx0XHRwYXJlbnQucGFyZW50Tm9kZS5zZWxlY3RlZEluZGV4O1xuXHRcdFx0fVxuXHRcdFx0cmV0dXJuIG51bGw7XG5cdFx0fSxcblx0XHRzZXQ6IGZ1bmN0aW9uKCBlbGVtICkge1xuXG5cdFx0XHQvKiBlc2xpbnQgbm8tdW51c2VkLWV4cHJlc3Npb25zOiBcIm9mZlwiICovXG5cblx0XHRcdHZhciBwYXJlbnQgPSBlbGVtLnBhcmVudE5vZGU7XG5cdFx0XHRpZiAoIHBhcmVudCApIHtcblx0XHRcdFx0cGFyZW50LnNlbGVjdGVkSW5kZXg7XG5cblx0XHRcdFx0aWYgKCBwYXJlbnQucGFyZW50Tm9kZSApIHtcblx0XHRcdFx0XHRwYXJlbnQucGFyZW50Tm9kZS5zZWxlY3RlZEluZGV4O1xuXHRcdFx0XHR9XG5cdFx0XHR9XG5cdFx0fVxuXHR9O1xufVxuXG5qUXVlcnkuZWFjaCggW1xuXHRcInRhYkluZGV4XCIsXG5cdFwicmVhZE9ubHlcIixcblx0XCJtYXhMZW5ndGhcIixcblx0XCJjZWxsU3BhY2luZ1wiLFxuXHRcImNlbGxQYWRkaW5nXCIsXG5cdFwicm93U3BhblwiLFxuXHRcImNvbFNwYW5cIixcblx0XCJ1c2VNYXBcIixcblx0XCJmcmFtZUJvcmRlclwiLFxuXHRcImNvbnRlbnRFZGl0YWJsZVwiXG5dLCBmdW5jdGlvbigpIHtcblx0alF1ZXJ5LnByb3BGaXhbIHRoaXMudG9Mb3dlckNhc2UoKSBdID0gdGhpcztcbn0gKTtcblxuXG5cblxuXHQvLyBTdHJpcCBhbmQgY29sbGFwc2Ugd2hpdGVzcGFjZSBhY2NvcmRpbmcgdG8gSFRNTCBzcGVjXG5cdC8vIGh0dHBzOi8vaW5mcmEuc3BlYy53aGF0d2cub3JnLyNzdHJpcC1hbmQtY29sbGFwc2UtYXNjaWktd2hpdGVzcGFjZVxuXHRmdW5jdGlvbiBzdHJpcEFuZENvbGxhcHNlKCB2YWx1ZSApIHtcblx0XHR2YXIgdG9rZW5zID0gdmFsdWUubWF0Y2goIHJub3RodG1sd2hpdGUgKSB8fCBbXTtcblx0XHRyZXR1cm4gdG9rZW5zLmpvaW4oIFwiIFwiICk7XG5cdH1cblxuXG5mdW5jdGlvbiBnZXRDbGFzcyggZWxlbSApIHtcblx0cmV0dXJuIGVsZW0uZ2V0QXR0cmlidXRlICYmIGVsZW0uZ2V0QXR0cmlidXRlKCBcImNsYXNzXCIgKSB8fCBcIlwiO1xufVxuXG5mdW5jdGlvbiBjbGFzc2VzVG9BcnJheSggdmFsdWUgKSB7XG5cdGlmICggQXJyYXkuaXNBcnJheSggdmFsdWUgKSApIHtcblx0XHRyZXR1cm4gdmFsdWU7XG5cdH1cblx0aWYgKCB0eXBlb2YgdmFsdWUgPT09IFwic3RyaW5nXCIgKSB7XG5cdFx0cmV0dXJuIHZhbHVlLm1hdGNoKCBybm90aHRtbHdoaXRlICkgfHwgW107XG5cdH1cblx0cmV0dXJuIFtdO1xufVxuXG5qUXVlcnkuZm4uZXh0ZW5kKCB7XG5cdGFkZENsYXNzOiBmdW5jdGlvbiggdmFsdWUgKSB7XG5cdFx0dmFyIGNsYXNzZXMsIGVsZW0sIGN1ciwgY3VyVmFsdWUsIGNsYXp6LCBqLCBmaW5hbFZhbHVlLFxuXHRcdFx0aSA9IDA7XG5cblx0XHRpZiAoIGlzRnVuY3Rpb24oIHZhbHVlICkgKSB7XG5cdFx0XHRyZXR1cm4gdGhpcy5lYWNoKCBmdW5jdGlvbiggaiApIHtcblx0XHRcdFx0alF1ZXJ5KCB0aGlzICkuYWRkQ2xhc3MoIHZhbHVlLmNhbGwoIHRoaXMsIGosIGdldENsYXNzKCB0aGlzICkgKSApO1xuXHRcdFx0fSApO1xuXHRcdH1cblxuXHRcdGNsYXNzZXMgPSBjbGFzc2VzVG9BcnJheSggdmFsdWUgKTtcblxuXHRcdGlmICggY2xhc3Nlcy5sZW5ndGggKSB7XG5cdFx0XHR3aGlsZSAoICggZWxlbSA9IHRoaXNbIGkrKyBdICkgKSB7XG5cdFx0XHRcdGN1clZhbHVlID0gZ2V0Q2xhc3MoIGVsZW0gKTtcblx0XHRcdFx0Y3VyID0gZWxlbS5ub2RlVHlwZSA9PT0gMSAmJiAoIFwiIFwiICsgc3RyaXBBbmRDb2xsYXBzZSggY3VyVmFsdWUgKSArIFwiIFwiICk7XG5cblx0XHRcdFx0aWYgKCBjdXIgKSB7XG5cdFx0XHRcdFx0aiA9IDA7XG5cdFx0XHRcdFx0d2hpbGUgKCAoIGNsYXp6ID0gY2xhc3Nlc1sgaisrIF0gKSApIHtcblx0XHRcdFx0XHRcdGlmICggY3VyLmluZGV4T2YoIFwiIFwiICsgY2xhenogKyBcIiBcIiApIDwgMCApIHtcblx0XHRcdFx0XHRcdFx0Y3VyICs9IGNsYXp6ICsgXCIgXCI7XG5cdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0fVxuXG5cdFx0XHRcdFx0Ly8gT25seSBhc3NpZ24gaWYgZGlmZmVyZW50IHRvIGF2b2lkIHVubmVlZGVkIHJlbmRlcmluZy5cblx0XHRcdFx0XHRmaW5hbFZhbHVlID0gc3RyaXBBbmRDb2xsYXBzZSggY3VyICk7XG5cdFx0XHRcdFx0aWYgKCBjdXJWYWx1ZSAhPT0gZmluYWxWYWx1ZSApIHtcblx0XHRcdFx0XHRcdGVsZW0uc2V0QXR0cmlidXRlKCBcImNsYXNzXCIsIGZpbmFsVmFsdWUgKTtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdH1cblx0XHRcdH1cblx0XHR9XG5cblx0XHRyZXR1cm4gdGhpcztcblx0fSxcblxuXHRyZW1vdmVDbGFzczogZnVuY3Rpb24oIHZhbHVlICkge1xuXHRcdHZhciBjbGFzc2VzLCBlbGVtLCBjdXIsIGN1clZhbHVlLCBjbGF6eiwgaiwgZmluYWxWYWx1ZSxcblx0XHRcdGkgPSAwO1xuXG5cdFx0aWYgKCBpc0Z1bmN0aW9uKCB2YWx1ZSApICkge1xuXHRcdFx0cmV0dXJuIHRoaXMuZWFjaCggZnVuY3Rpb24oIGogKSB7XG5cdFx0XHRcdGpRdWVyeSggdGhpcyApLnJlbW92ZUNsYXNzKCB2YWx1ZS5jYWxsKCB0aGlzLCBqLCBnZXRDbGFzcyggdGhpcyApICkgKTtcblx0XHRcdH0gKTtcblx0XHR9XG5cblx0XHRpZiAoICFhcmd1bWVudHMubGVuZ3RoICkge1xuXHRcdFx0cmV0dXJuIHRoaXMuYXR0ciggXCJjbGFzc1wiLCBcIlwiICk7XG5cdFx0fVxuXG5cdFx0Y2xhc3NlcyA9IGNsYXNzZXNUb0FycmF5KCB2YWx1ZSApO1xuXG5cdFx0aWYgKCBjbGFzc2VzLmxlbmd0aCApIHtcblx0XHRcdHdoaWxlICggKCBlbGVtID0gdGhpc1sgaSsrIF0gKSApIHtcblx0XHRcdFx0Y3VyVmFsdWUgPSBnZXRDbGFzcyggZWxlbSApO1xuXG5cdFx0XHRcdC8vIFRoaXMgZXhwcmVzc2lvbiBpcyBoZXJlIGZvciBiZXR0ZXIgY29tcHJlc3NpYmlsaXR5IChzZWUgYWRkQ2xhc3MpXG5cdFx0XHRcdGN1ciA9IGVsZW0ubm9kZVR5cGUgPT09IDEgJiYgKCBcIiBcIiArIHN0cmlwQW5kQ29sbGFwc2UoIGN1clZhbHVlICkgKyBcIiBcIiApO1xuXG5cdFx0XHRcdGlmICggY3VyICkge1xuXHRcdFx0XHRcdGogPSAwO1xuXHRcdFx0XHRcdHdoaWxlICggKCBjbGF6eiA9IGNsYXNzZXNbIGorKyBdICkgKSB7XG5cblx0XHRcdFx0XHRcdC8vIFJlbW92ZSAqYWxsKiBpbnN0YW5jZXNcblx0XHRcdFx0XHRcdHdoaWxlICggY3VyLmluZGV4T2YoIFwiIFwiICsgY2xhenogKyBcIiBcIiApID4gLTEgKSB7XG5cdFx0XHRcdFx0XHRcdGN1ciA9IGN1ci5yZXBsYWNlKCBcIiBcIiArIGNsYXp6ICsgXCIgXCIsIFwiIFwiICk7XG5cdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0fVxuXG5cdFx0XHRcdFx0Ly8gT25seSBhc3NpZ24gaWYgZGlmZmVyZW50IHRvIGF2b2lkIHVubmVlZGVkIHJlbmRlcmluZy5cblx0XHRcdFx0XHRmaW5hbFZhbHVlID0gc3RyaXBBbmRDb2xsYXBzZSggY3VyICk7XG5cdFx0XHRcdFx0aWYgKCBjdXJWYWx1ZSAhPT0gZmluYWxWYWx1ZSApIHtcblx0XHRcdFx0XHRcdGVsZW0uc2V0QXR0cmlidXRlKCBcImNsYXNzXCIsIGZpbmFsVmFsdWUgKTtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdH1cblx0XHRcdH1cblx0XHR9XG5cblx0XHRyZXR1cm4gdGhpcztcblx0fSxcblxuXHR0b2dnbGVDbGFzczogZnVuY3Rpb24oIHZhbHVlLCBzdGF0ZVZhbCApIHtcblx0XHR2YXIgdHlwZSA9IHR5cGVvZiB2YWx1ZSxcblx0XHRcdGlzVmFsaWRWYWx1ZSA9IHR5cGUgPT09IFwic3RyaW5nXCIgfHwgQXJyYXkuaXNBcnJheSggdmFsdWUgKTtcblxuXHRcdGlmICggdHlwZW9mIHN0YXRlVmFsID09PSBcImJvb2xlYW5cIiAmJiBpc1ZhbGlkVmFsdWUgKSB7XG5cdFx0XHRyZXR1cm4gc3RhdGVWYWwgPyB0aGlzLmFkZENsYXNzKCB2YWx1ZSApIDogdGhpcy5yZW1vdmVDbGFzcyggdmFsdWUgKTtcblx0XHR9XG5cblx0XHRpZiAoIGlzRnVuY3Rpb24oIHZhbHVlICkgKSB7XG5cdFx0XHRyZXR1cm4gdGhpcy5lYWNoKCBmdW5jdGlvbiggaSApIHtcblx0XHRcdFx0alF1ZXJ5KCB0aGlzICkudG9nZ2xlQ2xhc3MoXG5cdFx0XHRcdFx0dmFsdWUuY2FsbCggdGhpcywgaSwgZ2V0Q2xhc3MoIHRoaXMgKSwgc3RhdGVWYWwgKSxcblx0XHRcdFx0XHRzdGF0ZVZhbFxuXHRcdFx0XHQpO1xuXHRcdFx0fSApO1xuXHRcdH1cblxuXHRcdHJldHVybiB0aGlzLmVhY2goIGZ1bmN0aW9uKCkge1xuXHRcdFx0dmFyIGNsYXNzTmFtZSwgaSwgc2VsZiwgY2xhc3NOYW1lcztcblxuXHRcdFx0aWYgKCBpc1ZhbGlkVmFsdWUgKSB7XG5cblx0XHRcdFx0Ly8gVG9nZ2xlIGluZGl2aWR1YWwgY2xhc3MgbmFtZXNcblx0XHRcdFx0aSA9IDA7XG5cdFx0XHRcdHNlbGYgPSBqUXVlcnkoIHRoaXMgKTtcblx0XHRcdFx0Y2xhc3NOYW1lcyA9IGNsYXNzZXNUb0FycmF5KCB2YWx1ZSApO1xuXG5cdFx0XHRcdHdoaWxlICggKCBjbGFzc05hbWUgPSBjbGFzc05hbWVzWyBpKysgXSApICkge1xuXG5cdFx0XHRcdFx0Ly8gQ2hlY2sgZWFjaCBjbGFzc05hbWUgZ2l2ZW4sIHNwYWNlIHNlcGFyYXRlZCBsaXN0XG5cdFx0XHRcdFx0aWYgKCBzZWxmLmhhc0NsYXNzKCBjbGFzc05hbWUgKSApIHtcblx0XHRcdFx0XHRcdHNlbGYucmVtb3ZlQ2xhc3MoIGNsYXNzTmFtZSApO1xuXHRcdFx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdFx0XHRzZWxmLmFkZENsYXNzKCBjbGFzc05hbWUgKTtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdH1cblxuXHRcdFx0Ly8gVG9nZ2xlIHdob2xlIGNsYXNzIG5hbWVcblx0XHRcdH0gZWxzZSBpZiAoIHZhbHVlID09PSB1bmRlZmluZWQgfHwgdHlwZSA9PT0gXCJib29sZWFuXCIgKSB7XG5cdFx0XHRcdGNsYXNzTmFtZSA9IGdldENsYXNzKCB0aGlzICk7XG5cdFx0XHRcdGlmICggY2xhc3NOYW1lICkge1xuXG5cdFx0XHRcdFx0Ly8gU3RvcmUgY2xhc3NOYW1lIGlmIHNldFxuXHRcdFx0XHRcdGRhdGFQcml2LnNldCggdGhpcywgXCJfX2NsYXNzTmFtZV9fXCIsIGNsYXNzTmFtZSApO1xuXHRcdFx0XHR9XG5cblx0XHRcdFx0Ly8gSWYgdGhlIGVsZW1lbnQgaGFzIGEgY2xhc3MgbmFtZSBvciBpZiB3ZSdyZSBwYXNzZWQgYGZhbHNlYCxcblx0XHRcdFx0Ly8gdGhlbiByZW1vdmUgdGhlIHdob2xlIGNsYXNzbmFtZSAoaWYgdGhlcmUgd2FzIG9uZSwgdGhlIGFib3ZlIHNhdmVkIGl0KS5cblx0XHRcdFx0Ly8gT3RoZXJ3aXNlIGJyaW5nIGJhY2sgd2hhdGV2ZXIgd2FzIHByZXZpb3VzbHkgc2F2ZWQgKGlmIGFueXRoaW5nKSxcblx0XHRcdFx0Ly8gZmFsbGluZyBiYWNrIHRvIHRoZSBlbXB0eSBzdHJpbmcgaWYgbm90aGluZyB3YXMgc3RvcmVkLlxuXHRcdFx0XHRpZiAoIHRoaXMuc2V0QXR0cmlidXRlICkge1xuXHRcdFx0XHRcdHRoaXMuc2V0QXR0cmlidXRlKCBcImNsYXNzXCIsXG5cdFx0XHRcdFx0XHRjbGFzc05hbWUgfHwgdmFsdWUgPT09IGZhbHNlID9cblx0XHRcdFx0XHRcdFwiXCIgOlxuXHRcdFx0XHRcdFx0ZGF0YVByaXYuZ2V0KCB0aGlzLCBcIl9fY2xhc3NOYW1lX19cIiApIHx8IFwiXCJcblx0XHRcdFx0XHQpO1xuXHRcdFx0XHR9XG5cdFx0XHR9XG5cdFx0fSApO1xuXHR9LFxuXG5cdGhhc0NsYXNzOiBmdW5jdGlvbiggc2VsZWN0b3IgKSB7XG5cdFx0dmFyIGNsYXNzTmFtZSwgZWxlbSxcblx0XHRcdGkgPSAwO1xuXG5cdFx0Y2xhc3NOYW1lID0gXCIgXCIgKyBzZWxlY3RvciArIFwiIFwiO1xuXHRcdHdoaWxlICggKCBlbGVtID0gdGhpc1sgaSsrIF0gKSApIHtcblx0XHRcdGlmICggZWxlbS5ub2RlVHlwZSA9PT0gMSAmJlxuXHRcdFx0XHQoIFwiIFwiICsgc3RyaXBBbmRDb2xsYXBzZSggZ2V0Q2xhc3MoIGVsZW0gKSApICsgXCIgXCIgKS5pbmRleE9mKCBjbGFzc05hbWUgKSA+IC0xICkge1xuXHRcdFx0XHRcdHJldHVybiB0cnVlO1xuXHRcdFx0fVxuXHRcdH1cblxuXHRcdHJldHVybiBmYWxzZTtcblx0fVxufSApO1xuXG5cblxuXG52YXIgcnJldHVybiA9IC9cXHIvZztcblxualF1ZXJ5LmZuLmV4dGVuZCgge1xuXHR2YWw6IGZ1bmN0aW9uKCB2YWx1ZSApIHtcblx0XHR2YXIgaG9va3MsIHJldCwgdmFsdWVJc0Z1bmN0aW9uLFxuXHRcdFx0ZWxlbSA9IHRoaXNbIDAgXTtcblxuXHRcdGlmICggIWFyZ3VtZW50cy5sZW5ndGggKSB7XG5cdFx0XHRpZiAoIGVsZW0gKSB7XG5cdFx0XHRcdGhvb2tzID0galF1ZXJ5LnZhbEhvb2tzWyBlbGVtLnR5cGUgXSB8fFxuXHRcdFx0XHRcdGpRdWVyeS52YWxIb29rc1sgZWxlbS5ub2RlTmFtZS50b0xvd2VyQ2FzZSgpIF07XG5cblx0XHRcdFx0aWYgKCBob29rcyAmJlxuXHRcdFx0XHRcdFwiZ2V0XCIgaW4gaG9va3MgJiZcblx0XHRcdFx0XHQoIHJldCA9IGhvb2tzLmdldCggZWxlbSwgXCJ2YWx1ZVwiICkgKSAhPT0gdW5kZWZpbmVkXG5cdFx0XHRcdCkge1xuXHRcdFx0XHRcdHJldHVybiByZXQ7XG5cdFx0XHRcdH1cblxuXHRcdFx0XHRyZXQgPSBlbGVtLnZhbHVlO1xuXG5cdFx0XHRcdC8vIEhhbmRsZSBtb3N0IGNvbW1vbiBzdHJpbmcgY2FzZXNcblx0XHRcdFx0aWYgKCB0eXBlb2YgcmV0ID09PSBcInN0cmluZ1wiICkge1xuXHRcdFx0XHRcdHJldHVybiByZXQucmVwbGFjZSggcnJldHVybiwgXCJcIiApO1xuXHRcdFx0XHR9XG5cblx0XHRcdFx0Ly8gSGFuZGxlIGNhc2VzIHdoZXJlIHZhbHVlIGlzIG51bGwvdW5kZWYgb3IgbnVtYmVyXG5cdFx0XHRcdHJldHVybiByZXQgPT0gbnVsbCA/IFwiXCIgOiByZXQ7XG5cdFx0XHR9XG5cblx0XHRcdHJldHVybjtcblx0XHR9XG5cblx0XHR2YWx1ZUlzRnVuY3Rpb24gPSBpc0Z1bmN0aW9uKCB2YWx1ZSApO1xuXG5cdFx0cmV0dXJuIHRoaXMuZWFjaCggZnVuY3Rpb24oIGkgKSB7XG5cdFx0XHR2YXIgdmFsO1xuXG5cdFx0XHRpZiAoIHRoaXMubm9kZVR5cGUgIT09IDEgKSB7XG5cdFx0XHRcdHJldHVybjtcblx0XHRcdH1cblxuXHRcdFx0aWYgKCB2YWx1ZUlzRnVuY3Rpb24gKSB7XG5cdFx0XHRcdHZhbCA9IHZhbHVlLmNhbGwoIHRoaXMsIGksIGpRdWVyeSggdGhpcyApLnZhbCgpICk7XG5cdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHR2YWwgPSB2YWx1ZTtcblx0XHRcdH1cblxuXHRcdFx0Ly8gVHJlYXQgbnVsbC91bmRlZmluZWQgYXMgXCJcIjsgY29udmVydCBudW1iZXJzIHRvIHN0cmluZ1xuXHRcdFx0aWYgKCB2YWwgPT0gbnVsbCApIHtcblx0XHRcdFx0dmFsID0gXCJcIjtcblxuXHRcdFx0fSBlbHNlIGlmICggdHlwZW9mIHZhbCA9PT0gXCJudW1iZXJcIiApIHtcblx0XHRcdFx0dmFsICs9IFwiXCI7XG5cblx0XHRcdH0gZWxzZSBpZiAoIEFycmF5LmlzQXJyYXkoIHZhbCApICkge1xuXHRcdFx0XHR2YWwgPSBqUXVlcnkubWFwKCB2YWwsIGZ1bmN0aW9uKCB2YWx1ZSApIHtcblx0XHRcdFx0XHRyZXR1cm4gdmFsdWUgPT0gbnVsbCA/IFwiXCIgOiB2YWx1ZSArIFwiXCI7XG5cdFx0XHRcdH0gKTtcblx0XHRcdH1cblxuXHRcdFx0aG9va3MgPSBqUXVlcnkudmFsSG9va3NbIHRoaXMudHlwZSBdIHx8IGpRdWVyeS52YWxIb29rc1sgdGhpcy5ub2RlTmFtZS50b0xvd2VyQ2FzZSgpIF07XG5cblx0XHRcdC8vIElmIHNldCByZXR1cm5zIHVuZGVmaW5lZCwgZmFsbCBiYWNrIHRvIG5vcm1hbCBzZXR0aW5nXG5cdFx0XHRpZiAoICFob29rcyB8fCAhKCBcInNldFwiIGluIGhvb2tzICkgfHwgaG9va3Muc2V0KCB0aGlzLCB2YWwsIFwidmFsdWVcIiApID09PSB1bmRlZmluZWQgKSB7XG5cdFx0XHRcdHRoaXMudmFsdWUgPSB2YWw7XG5cdFx0XHR9XG5cdFx0fSApO1xuXHR9XG59ICk7XG5cbmpRdWVyeS5leHRlbmQoIHtcblx0dmFsSG9va3M6IHtcblx0XHRvcHRpb246IHtcblx0XHRcdGdldDogZnVuY3Rpb24oIGVsZW0gKSB7XG5cblx0XHRcdFx0dmFyIHZhbCA9IGpRdWVyeS5maW5kLmF0dHIoIGVsZW0sIFwidmFsdWVcIiApO1xuXHRcdFx0XHRyZXR1cm4gdmFsICE9IG51bGwgP1xuXHRcdFx0XHRcdHZhbCA6XG5cblx0XHRcdFx0XHQvLyBTdXBwb3J0OiBJRSA8PTEwIC0gMTEgb25seVxuXHRcdFx0XHRcdC8vIG9wdGlvbi50ZXh0IHRocm93cyBleGNlcHRpb25zICgjMTQ2ODYsICMxNDg1OClcblx0XHRcdFx0XHQvLyBTdHJpcCBhbmQgY29sbGFwc2Ugd2hpdGVzcGFjZVxuXHRcdFx0XHRcdC8vIGh0dHBzOi8vaHRtbC5zcGVjLndoYXR3Zy5vcmcvI3N0cmlwLWFuZC1jb2xsYXBzZS13aGl0ZXNwYWNlXG5cdFx0XHRcdFx0c3RyaXBBbmRDb2xsYXBzZSggalF1ZXJ5LnRleHQoIGVsZW0gKSApO1xuXHRcdFx0fVxuXHRcdH0sXG5cdFx0c2VsZWN0OiB7XG5cdFx0XHRnZXQ6IGZ1bmN0aW9uKCBlbGVtICkge1xuXHRcdFx0XHR2YXIgdmFsdWUsIG9wdGlvbiwgaSxcblx0XHRcdFx0XHRvcHRpb25zID0gZWxlbS5vcHRpb25zLFxuXHRcdFx0XHRcdGluZGV4ID0gZWxlbS5zZWxlY3RlZEluZGV4LFxuXHRcdFx0XHRcdG9uZSA9IGVsZW0udHlwZSA9PT0gXCJzZWxlY3Qtb25lXCIsXG5cdFx0XHRcdFx0dmFsdWVzID0gb25lID8gbnVsbCA6IFtdLFxuXHRcdFx0XHRcdG1heCA9IG9uZSA/IGluZGV4ICsgMSA6IG9wdGlvbnMubGVuZ3RoO1xuXG5cdFx0XHRcdGlmICggaW5kZXggPCAwICkge1xuXHRcdFx0XHRcdGkgPSBtYXg7XG5cblx0XHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0XHRpID0gb25lID8gaW5kZXggOiAwO1xuXHRcdFx0XHR9XG5cblx0XHRcdFx0Ly8gTG9vcCB0aHJvdWdoIGFsbCB0aGUgc2VsZWN0ZWQgb3B0aW9uc1xuXHRcdFx0XHRmb3IgKCA7IGkgPCBtYXg7IGkrKyApIHtcblx0XHRcdFx0XHRvcHRpb24gPSBvcHRpb25zWyBpIF07XG5cblx0XHRcdFx0XHQvLyBTdXBwb3J0OiBJRSA8PTkgb25seVxuXHRcdFx0XHRcdC8vIElFOC05IGRvZXNuJ3QgdXBkYXRlIHNlbGVjdGVkIGFmdGVyIGZvcm0gcmVzZXQgKCMyNTUxKVxuXHRcdFx0XHRcdGlmICggKCBvcHRpb24uc2VsZWN0ZWQgfHwgaSA9PT0gaW5kZXggKSAmJlxuXG5cdFx0XHRcdFx0XHRcdC8vIERvbid0IHJldHVybiBvcHRpb25zIHRoYXQgYXJlIGRpc2FibGVkIG9yIGluIGEgZGlzYWJsZWQgb3B0Z3JvdXBcblx0XHRcdFx0XHRcdFx0IW9wdGlvbi5kaXNhYmxlZCAmJlxuXHRcdFx0XHRcdFx0XHQoICFvcHRpb24ucGFyZW50Tm9kZS5kaXNhYmxlZCB8fFxuXHRcdFx0XHRcdFx0XHRcdCFub2RlTmFtZSggb3B0aW9uLnBhcmVudE5vZGUsIFwib3B0Z3JvdXBcIiApICkgKSB7XG5cblx0XHRcdFx0XHRcdC8vIEdldCB0aGUgc3BlY2lmaWMgdmFsdWUgZm9yIHRoZSBvcHRpb25cblx0XHRcdFx0XHRcdHZhbHVlID0galF1ZXJ5KCBvcHRpb24gKS52YWwoKTtcblxuXHRcdFx0XHRcdFx0Ly8gV2UgZG9uJ3QgbmVlZCBhbiBhcnJheSBmb3Igb25lIHNlbGVjdHNcblx0XHRcdFx0XHRcdGlmICggb25lICkge1xuXHRcdFx0XHRcdFx0XHRyZXR1cm4gdmFsdWU7XG5cdFx0XHRcdFx0XHR9XG5cblx0XHRcdFx0XHRcdC8vIE11bHRpLVNlbGVjdHMgcmV0dXJuIGFuIGFycmF5XG5cdFx0XHRcdFx0XHR2YWx1ZXMucHVzaCggdmFsdWUgKTtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdH1cblxuXHRcdFx0XHRyZXR1cm4gdmFsdWVzO1xuXHRcdFx0fSxcblxuXHRcdFx0c2V0OiBmdW5jdGlvbiggZWxlbSwgdmFsdWUgKSB7XG5cdFx0XHRcdHZhciBvcHRpb25TZXQsIG9wdGlvbixcblx0XHRcdFx0XHRvcHRpb25zID0gZWxlbS5vcHRpb25zLFxuXHRcdFx0XHRcdHZhbHVlcyA9IGpRdWVyeS5tYWtlQXJyYXkoIHZhbHVlICksXG5cdFx0XHRcdFx0aSA9IG9wdGlvbnMubGVuZ3RoO1xuXG5cdFx0XHRcdHdoaWxlICggaS0tICkge1xuXHRcdFx0XHRcdG9wdGlvbiA9IG9wdGlvbnNbIGkgXTtcblxuXHRcdFx0XHRcdC8qIGVzbGludC1kaXNhYmxlIG5vLWNvbmQtYXNzaWduICovXG5cblx0XHRcdFx0XHRpZiAoIG9wdGlvbi5zZWxlY3RlZCA9XG5cdFx0XHRcdFx0XHRqUXVlcnkuaW5BcnJheSggalF1ZXJ5LnZhbEhvb2tzLm9wdGlvbi5nZXQoIG9wdGlvbiApLCB2YWx1ZXMgKSA+IC0xXG5cdFx0XHRcdFx0KSB7XG5cdFx0XHRcdFx0XHRvcHRpb25TZXQgPSB0cnVlO1xuXHRcdFx0XHRcdH1cblxuXHRcdFx0XHRcdC8qIGVzbGludC1lbmFibGUgbm8tY29uZC1hc3NpZ24gKi9cblx0XHRcdFx0fVxuXG5cdFx0XHRcdC8vIEZvcmNlIGJyb3dzZXJzIHRvIGJlaGF2ZSBjb25zaXN0ZW50bHkgd2hlbiBub24tbWF0Y2hpbmcgdmFsdWUgaXMgc2V0XG5cdFx0XHRcdGlmICggIW9wdGlvblNldCApIHtcblx0XHRcdFx0XHRlbGVtLnNlbGVjdGVkSW5kZXggPSAtMTtcblx0XHRcdFx0fVxuXHRcdFx0XHRyZXR1cm4gdmFsdWVzO1xuXHRcdFx0fVxuXHRcdH1cblx0fVxufSApO1xuXG4vLyBSYWRpb3MgYW5kIGNoZWNrYm94ZXMgZ2V0dGVyL3NldHRlclxualF1ZXJ5LmVhY2goIFsgXCJyYWRpb1wiLCBcImNoZWNrYm94XCIgXSwgZnVuY3Rpb24oKSB7XG5cdGpRdWVyeS52YWxIb29rc1sgdGhpcyBdID0ge1xuXHRcdHNldDogZnVuY3Rpb24oIGVsZW0sIHZhbHVlICkge1xuXHRcdFx0aWYgKCBBcnJheS5pc0FycmF5KCB2YWx1ZSApICkge1xuXHRcdFx0XHRyZXR1cm4gKCBlbGVtLmNoZWNrZWQgPSBqUXVlcnkuaW5BcnJheSggalF1ZXJ5KCBlbGVtICkudmFsKCksIHZhbHVlICkgPiAtMSApO1xuXHRcdFx0fVxuXHRcdH1cblx0fTtcblx0aWYgKCAhc3VwcG9ydC5jaGVja09uICkge1xuXHRcdGpRdWVyeS52YWxIb29rc1sgdGhpcyBdLmdldCA9IGZ1bmN0aW9uKCBlbGVtICkge1xuXHRcdFx0cmV0dXJuIGVsZW0uZ2V0QXR0cmlidXRlKCBcInZhbHVlXCIgKSA9PT0gbnVsbCA/IFwib25cIiA6IGVsZW0udmFsdWU7XG5cdFx0fTtcblx0fVxufSApO1xuXG5cblxuXG4vLyBSZXR1cm4galF1ZXJ5IGZvciBhdHRyaWJ1dGVzLW9ubHkgaW5jbHVzaW9uXG5cblxuc3VwcG9ydC5mb2N1c2luID0gXCJvbmZvY3VzaW5cIiBpbiB3aW5kb3c7XG5cblxudmFyIHJmb2N1c01vcnBoID0gL14oPzpmb2N1c2luZm9jdXN8Zm9jdXNvdXRibHVyKSQvLFxuXHRzdG9wUHJvcGFnYXRpb25DYWxsYmFjayA9IGZ1bmN0aW9uKCBlICkge1xuXHRcdGUuc3RvcFByb3BhZ2F0aW9uKCk7XG5cdH07XG5cbmpRdWVyeS5leHRlbmQoIGpRdWVyeS5ldmVudCwge1xuXG5cdHRyaWdnZXI6IGZ1bmN0aW9uKCBldmVudCwgZGF0YSwgZWxlbSwgb25seUhhbmRsZXJzICkge1xuXG5cdFx0dmFyIGksIGN1ciwgdG1wLCBidWJibGVUeXBlLCBvbnR5cGUsIGhhbmRsZSwgc3BlY2lhbCwgbGFzdEVsZW1lbnQsXG5cdFx0XHRldmVudFBhdGggPSBbIGVsZW0gfHwgZG9jdW1lbnQgXSxcblx0XHRcdHR5cGUgPSBoYXNPd24uY2FsbCggZXZlbnQsIFwidHlwZVwiICkgPyBldmVudC50eXBlIDogZXZlbnQsXG5cdFx0XHRuYW1lc3BhY2VzID0gaGFzT3duLmNhbGwoIGV2ZW50LCBcIm5hbWVzcGFjZVwiICkgPyBldmVudC5uYW1lc3BhY2Uuc3BsaXQoIFwiLlwiICkgOiBbXTtcblxuXHRcdGN1ciA9IGxhc3RFbGVtZW50ID0gdG1wID0gZWxlbSA9IGVsZW0gfHwgZG9jdW1lbnQ7XG5cblx0XHQvLyBEb24ndCBkbyBldmVudHMgb24gdGV4dCBhbmQgY29tbWVudCBub2Rlc1xuXHRcdGlmICggZWxlbS5ub2RlVHlwZSA9PT0gMyB8fCBlbGVtLm5vZGVUeXBlID09PSA4ICkge1xuXHRcdFx0cmV0dXJuO1xuXHRcdH1cblxuXHRcdC8vIGZvY3VzL2JsdXIgbW9ycGhzIHRvIGZvY3VzaW4vb3V0OyBlbnN1cmUgd2UncmUgbm90IGZpcmluZyB0aGVtIHJpZ2h0IG5vd1xuXHRcdGlmICggcmZvY3VzTW9ycGgudGVzdCggdHlwZSArIGpRdWVyeS5ldmVudC50cmlnZ2VyZWQgKSApIHtcblx0XHRcdHJldHVybjtcblx0XHR9XG5cblx0XHRpZiAoIHR5cGUuaW5kZXhPZiggXCIuXCIgKSA+IC0xICkge1xuXG5cdFx0XHQvLyBOYW1lc3BhY2VkIHRyaWdnZXI7IGNyZWF0ZSBhIHJlZ2V4cCB0byBtYXRjaCBldmVudCB0eXBlIGluIGhhbmRsZSgpXG5cdFx0XHRuYW1lc3BhY2VzID0gdHlwZS5zcGxpdCggXCIuXCIgKTtcblx0XHRcdHR5cGUgPSBuYW1lc3BhY2VzLnNoaWZ0KCk7XG5cdFx0XHRuYW1lc3BhY2VzLnNvcnQoKTtcblx0XHR9XG5cdFx0b250eXBlID0gdHlwZS5pbmRleE9mKCBcIjpcIiApIDwgMCAmJiBcIm9uXCIgKyB0eXBlO1xuXG5cdFx0Ly8gQ2FsbGVyIGNhbiBwYXNzIGluIGEgalF1ZXJ5LkV2ZW50IG9iamVjdCwgT2JqZWN0LCBvciBqdXN0IGFuIGV2ZW50IHR5cGUgc3RyaW5nXG5cdFx0ZXZlbnQgPSBldmVudFsgalF1ZXJ5LmV4cGFuZG8gXSA/XG5cdFx0XHRldmVudCA6XG5cdFx0XHRuZXcgalF1ZXJ5LkV2ZW50KCB0eXBlLCB0eXBlb2YgZXZlbnQgPT09IFwib2JqZWN0XCIgJiYgZXZlbnQgKTtcblxuXHRcdC8vIFRyaWdnZXIgYml0bWFzazogJiAxIGZvciBuYXRpdmUgaGFuZGxlcnM7ICYgMiBmb3IgalF1ZXJ5IChhbHdheXMgdHJ1ZSlcblx0XHRldmVudC5pc1RyaWdnZXIgPSBvbmx5SGFuZGxlcnMgPyAyIDogMztcblx0XHRldmVudC5uYW1lc3BhY2UgPSBuYW1lc3BhY2VzLmpvaW4oIFwiLlwiICk7XG5cdFx0ZXZlbnQucm5hbWVzcGFjZSA9IGV2ZW50Lm5hbWVzcGFjZSA/XG5cdFx0XHRuZXcgUmVnRXhwKCBcIihefFxcXFwuKVwiICsgbmFtZXNwYWNlcy5qb2luKCBcIlxcXFwuKD86LipcXFxcLnwpXCIgKSArIFwiKFxcXFwufCQpXCIgKSA6XG5cdFx0XHRudWxsO1xuXG5cdFx0Ly8gQ2xlYW4gdXAgdGhlIGV2ZW50IGluIGNhc2UgaXQgaXMgYmVpbmcgcmV1c2VkXG5cdFx0ZXZlbnQucmVzdWx0ID0gdW5kZWZpbmVkO1xuXHRcdGlmICggIWV2ZW50LnRhcmdldCApIHtcblx0XHRcdGV2ZW50LnRhcmdldCA9IGVsZW07XG5cdFx0fVxuXG5cdFx0Ly8gQ2xvbmUgYW55IGluY29taW5nIGRhdGEgYW5kIHByZXBlbmQgdGhlIGV2ZW50LCBjcmVhdGluZyB0aGUgaGFuZGxlciBhcmcgbGlzdFxuXHRcdGRhdGEgPSBkYXRhID09IG51bGwgP1xuXHRcdFx0WyBldmVudCBdIDpcblx0XHRcdGpRdWVyeS5tYWtlQXJyYXkoIGRhdGEsIFsgZXZlbnQgXSApO1xuXG5cdFx0Ly8gQWxsb3cgc3BlY2lhbCBldmVudHMgdG8gZHJhdyBvdXRzaWRlIHRoZSBsaW5lc1xuXHRcdHNwZWNpYWwgPSBqUXVlcnkuZXZlbnQuc3BlY2lhbFsgdHlwZSBdIHx8IHt9O1xuXHRcdGlmICggIW9ubHlIYW5kbGVycyAmJiBzcGVjaWFsLnRyaWdnZXIgJiYgc3BlY2lhbC50cmlnZ2VyLmFwcGx5KCBlbGVtLCBkYXRhICkgPT09IGZhbHNlICkge1xuXHRcdFx0cmV0dXJuO1xuXHRcdH1cblxuXHRcdC8vIERldGVybWluZSBldmVudCBwcm9wYWdhdGlvbiBwYXRoIGluIGFkdmFuY2UsIHBlciBXM0MgZXZlbnRzIHNwZWMgKCM5OTUxKVxuXHRcdC8vIEJ1YmJsZSB1cCB0byBkb2N1bWVudCwgdGhlbiB0byB3aW5kb3c7IHdhdGNoIGZvciBhIGdsb2JhbCBvd25lckRvY3VtZW50IHZhciAoIzk3MjQpXG5cdFx0aWYgKCAhb25seUhhbmRsZXJzICYmICFzcGVjaWFsLm5vQnViYmxlICYmICFpc1dpbmRvdyggZWxlbSApICkge1xuXG5cdFx0XHRidWJibGVUeXBlID0gc3BlY2lhbC5kZWxlZ2F0ZVR5cGUgfHwgdHlwZTtcblx0XHRcdGlmICggIXJmb2N1c01vcnBoLnRlc3QoIGJ1YmJsZVR5cGUgKyB0eXBlICkgKSB7XG5cdFx0XHRcdGN1ciA9IGN1ci5wYXJlbnROb2RlO1xuXHRcdFx0fVxuXHRcdFx0Zm9yICggOyBjdXI7IGN1ciA9IGN1ci5wYXJlbnROb2RlICkge1xuXHRcdFx0XHRldmVudFBhdGgucHVzaCggY3VyICk7XG5cdFx0XHRcdHRtcCA9IGN1cjtcblx0XHRcdH1cblxuXHRcdFx0Ly8gT25seSBhZGQgd2luZG93IGlmIHdlIGdvdCB0byBkb2N1bWVudCAoZS5nLiwgbm90IHBsYWluIG9iaiBvciBkZXRhY2hlZCBET00pXG5cdFx0XHRpZiAoIHRtcCA9PT0gKCBlbGVtLm93bmVyRG9jdW1lbnQgfHwgZG9jdW1lbnQgKSApIHtcblx0XHRcdFx0ZXZlbnRQYXRoLnB1c2goIHRtcC5kZWZhdWx0VmlldyB8fCB0bXAucGFyZW50V2luZG93IHx8IHdpbmRvdyApO1xuXHRcdFx0fVxuXHRcdH1cblxuXHRcdC8vIEZpcmUgaGFuZGxlcnMgb24gdGhlIGV2ZW50IHBhdGhcblx0XHRpID0gMDtcblx0XHR3aGlsZSAoICggY3VyID0gZXZlbnRQYXRoWyBpKysgXSApICYmICFldmVudC5pc1Byb3BhZ2F0aW9uU3RvcHBlZCgpICkge1xuXHRcdFx0bGFzdEVsZW1lbnQgPSBjdXI7XG5cdFx0XHRldmVudC50eXBlID0gaSA+IDEgP1xuXHRcdFx0XHRidWJibGVUeXBlIDpcblx0XHRcdFx0c3BlY2lhbC5iaW5kVHlwZSB8fCB0eXBlO1xuXG5cdFx0XHQvLyBqUXVlcnkgaGFuZGxlclxuXHRcdFx0aGFuZGxlID0gKFxuXHRcdFx0XHRcdGRhdGFQcml2LmdldCggY3VyLCBcImV2ZW50c1wiICkgfHwgT2JqZWN0LmNyZWF0ZSggbnVsbCApXG5cdFx0XHRcdClbIGV2ZW50LnR5cGUgXSAmJlxuXHRcdFx0XHRkYXRhUHJpdi5nZXQoIGN1ciwgXCJoYW5kbGVcIiApO1xuXHRcdFx0aWYgKCBoYW5kbGUgKSB7XG5cdFx0XHRcdGhhbmRsZS5hcHBseSggY3VyLCBkYXRhICk7XG5cdFx0XHR9XG5cblx0XHRcdC8vIE5hdGl2ZSBoYW5kbGVyXG5cdFx0XHRoYW5kbGUgPSBvbnR5cGUgJiYgY3VyWyBvbnR5cGUgXTtcblx0XHRcdGlmICggaGFuZGxlICYmIGhhbmRsZS5hcHBseSAmJiBhY2NlcHREYXRhKCBjdXIgKSApIHtcblx0XHRcdFx0ZXZlbnQucmVzdWx0ID0gaGFuZGxlLmFwcGx5KCBjdXIsIGRhdGEgKTtcblx0XHRcdFx0aWYgKCBldmVudC5yZXN1bHQgPT09IGZhbHNlICkge1xuXHRcdFx0XHRcdGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG5cdFx0XHRcdH1cblx0XHRcdH1cblx0XHR9XG5cdFx0ZXZlbnQudHlwZSA9IHR5cGU7XG5cblx0XHQvLyBJZiBub2JvZHkgcHJldmVudGVkIHRoZSBkZWZhdWx0IGFjdGlvbiwgZG8gaXQgbm93XG5cdFx0aWYgKCAhb25seUhhbmRsZXJzICYmICFldmVudC5pc0RlZmF1bHRQcmV2ZW50ZWQoKSApIHtcblxuXHRcdFx0aWYgKCAoICFzcGVjaWFsLl9kZWZhdWx0IHx8XG5cdFx0XHRcdHNwZWNpYWwuX2RlZmF1bHQuYXBwbHkoIGV2ZW50UGF0aC5wb3AoKSwgZGF0YSApID09PSBmYWxzZSApICYmXG5cdFx0XHRcdGFjY2VwdERhdGEoIGVsZW0gKSApIHtcblxuXHRcdFx0XHQvLyBDYWxsIGEgbmF0aXZlIERPTSBtZXRob2Qgb24gdGhlIHRhcmdldCB3aXRoIHRoZSBzYW1lIG5hbWUgYXMgdGhlIGV2ZW50LlxuXHRcdFx0XHQvLyBEb24ndCBkbyBkZWZhdWx0IGFjdGlvbnMgb24gd2luZG93LCB0aGF0J3Mgd2hlcmUgZ2xvYmFsIHZhcmlhYmxlcyBiZSAoIzYxNzApXG5cdFx0XHRcdGlmICggb250eXBlICYmIGlzRnVuY3Rpb24oIGVsZW1bIHR5cGUgXSApICYmICFpc1dpbmRvdyggZWxlbSApICkge1xuXG5cdFx0XHRcdFx0Ly8gRG9uJ3QgcmUtdHJpZ2dlciBhbiBvbkZPTyBldmVudCB3aGVuIHdlIGNhbGwgaXRzIEZPTygpIG1ldGhvZFxuXHRcdFx0XHRcdHRtcCA9IGVsZW1bIG9udHlwZSBdO1xuXG5cdFx0XHRcdFx0aWYgKCB0bXAgKSB7XG5cdFx0XHRcdFx0XHRlbGVtWyBvbnR5cGUgXSA9IG51bGw7XG5cdFx0XHRcdFx0fVxuXG5cdFx0XHRcdFx0Ly8gUHJldmVudCByZS10cmlnZ2VyaW5nIG9mIHRoZSBzYW1lIGV2ZW50LCBzaW5jZSB3ZSBhbHJlYWR5IGJ1YmJsZWQgaXQgYWJvdmVcblx0XHRcdFx0XHRqUXVlcnkuZXZlbnQudHJpZ2dlcmVkID0gdHlwZTtcblxuXHRcdFx0XHRcdGlmICggZXZlbnQuaXNQcm9wYWdhdGlvblN0b3BwZWQoKSApIHtcblx0XHRcdFx0XHRcdGxhc3RFbGVtZW50LmFkZEV2ZW50TGlzdGVuZXIoIHR5cGUsIHN0b3BQcm9wYWdhdGlvbkNhbGxiYWNrICk7XG5cdFx0XHRcdFx0fVxuXG5cdFx0XHRcdFx0ZWxlbVsgdHlwZSBdKCk7XG5cblx0XHRcdFx0XHRpZiAoIGV2ZW50LmlzUHJvcGFnYXRpb25TdG9wcGVkKCkgKSB7XG5cdFx0XHRcdFx0XHRsYXN0RWxlbWVudC5yZW1vdmVFdmVudExpc3RlbmVyKCB0eXBlLCBzdG9wUHJvcGFnYXRpb25DYWxsYmFjayApO1xuXHRcdFx0XHRcdH1cblxuXHRcdFx0XHRcdGpRdWVyeS5ldmVudC50cmlnZ2VyZWQgPSB1bmRlZmluZWQ7XG5cblx0XHRcdFx0XHRpZiAoIHRtcCApIHtcblx0XHRcdFx0XHRcdGVsZW1bIG9udHlwZSBdID0gdG1wO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0fVxuXHRcdFx0fVxuXHRcdH1cblxuXHRcdHJldHVybiBldmVudC5yZXN1bHQ7XG5cdH0sXG5cblx0Ly8gUGlnZ3liYWNrIG9uIGEgZG9ub3IgZXZlbnQgdG8gc2ltdWxhdGUgYSBkaWZmZXJlbnQgb25lXG5cdC8vIFVzZWQgb25seSBmb3IgYGZvY3VzKGluIHwgb3V0KWAgZXZlbnRzXG5cdHNpbXVsYXRlOiBmdW5jdGlvbiggdHlwZSwgZWxlbSwgZXZlbnQgKSB7XG5cdFx0dmFyIGUgPSBqUXVlcnkuZXh0ZW5kKFxuXHRcdFx0bmV3IGpRdWVyeS5FdmVudCgpLFxuXHRcdFx0ZXZlbnQsXG5cdFx0XHR7XG5cdFx0XHRcdHR5cGU6IHR5cGUsXG5cdFx0XHRcdGlzU2ltdWxhdGVkOiB0cnVlXG5cdFx0XHR9XG5cdFx0KTtcblxuXHRcdGpRdWVyeS5ldmVudC50cmlnZ2VyKCBlLCBudWxsLCBlbGVtICk7XG5cdH1cblxufSApO1xuXG5qUXVlcnkuZm4uZXh0ZW5kKCB7XG5cblx0dHJpZ2dlcjogZnVuY3Rpb24oIHR5cGUsIGRhdGEgKSB7XG5cdFx0cmV0dXJuIHRoaXMuZWFjaCggZnVuY3Rpb24oKSB7XG5cdFx0XHRqUXVlcnkuZXZlbnQudHJpZ2dlciggdHlwZSwgZGF0YSwgdGhpcyApO1xuXHRcdH0gKTtcblx0fSxcblx0dHJpZ2dlckhhbmRsZXI6IGZ1bmN0aW9uKCB0eXBlLCBkYXRhICkge1xuXHRcdHZhciBlbGVtID0gdGhpc1sgMCBdO1xuXHRcdGlmICggZWxlbSApIHtcblx0XHRcdHJldHVybiBqUXVlcnkuZXZlbnQudHJpZ2dlciggdHlwZSwgZGF0YSwgZWxlbSwgdHJ1ZSApO1xuXHRcdH1cblx0fVxufSApO1xuXG5cbi8vIFN1cHBvcnQ6IEZpcmVmb3ggPD00NFxuLy8gRmlyZWZveCBkb2Vzbid0IGhhdmUgZm9jdXMoaW4gfCBvdXQpIGV2ZW50c1xuLy8gUmVsYXRlZCB0aWNrZXQgLSBodHRwczovL2J1Z3ppbGxhLm1vemlsbGEub3JnL3Nob3dfYnVnLmNnaT9pZD02ODc3ODdcbi8vXG4vLyBTdXBwb3J0OiBDaHJvbWUgPD00OCAtIDQ5LCBTYWZhcmkgPD05LjAgLSA5LjFcbi8vIGZvY3VzKGluIHwgb3V0KSBldmVudHMgZmlyZSBhZnRlciBmb2N1cyAmIGJsdXIgZXZlbnRzLFxuLy8gd2hpY2ggaXMgc3BlYyB2aW9sYXRpb24gLSBodHRwOi8vd3d3LnczLm9yZy9UUi9ET00tTGV2ZWwtMy1FdmVudHMvI2V2ZW50cy1mb2N1c2V2ZW50LWV2ZW50LW9yZGVyXG4vLyBSZWxhdGVkIHRpY2tldCAtIGh0dHBzOi8vYnVncy5jaHJvbWl1bS5vcmcvcC9jaHJvbWl1bS9pc3N1ZXMvZGV0YWlsP2lkPTQ0OTg1N1xuaWYgKCAhc3VwcG9ydC5mb2N1c2luICkge1xuXHRqUXVlcnkuZWFjaCggeyBmb2N1czogXCJmb2N1c2luXCIsIGJsdXI6IFwiZm9jdXNvdXRcIiB9LCBmdW5jdGlvbiggb3JpZywgZml4ICkge1xuXG5cdFx0Ly8gQXR0YWNoIGEgc2luZ2xlIGNhcHR1cmluZyBoYW5kbGVyIG9uIHRoZSBkb2N1bWVudCB3aGlsZSBzb21lb25lIHdhbnRzIGZvY3VzaW4vZm9jdXNvdXRcblx0XHR2YXIgaGFuZGxlciA9IGZ1bmN0aW9uKCBldmVudCApIHtcblx0XHRcdGpRdWVyeS5ldmVudC5zaW11bGF0ZSggZml4LCBldmVudC50YXJnZXQsIGpRdWVyeS5ldmVudC5maXgoIGV2ZW50ICkgKTtcblx0XHR9O1xuXG5cdFx0alF1ZXJ5LmV2ZW50LnNwZWNpYWxbIGZpeCBdID0ge1xuXHRcdFx0c2V0dXA6IGZ1bmN0aW9uKCkge1xuXG5cdFx0XHRcdC8vIEhhbmRsZTogcmVndWxhciBub2RlcyAodmlhIGB0aGlzLm93bmVyRG9jdW1lbnRgKSwgd2luZG93XG5cdFx0XHRcdC8vICh2aWEgYHRoaXMuZG9jdW1lbnRgKSAmIGRvY3VtZW50ICh2aWEgYHRoaXNgKS5cblx0XHRcdFx0dmFyIGRvYyA9IHRoaXMub3duZXJEb2N1bWVudCB8fCB0aGlzLmRvY3VtZW50IHx8IHRoaXMsXG5cdFx0XHRcdFx0YXR0YWNoZXMgPSBkYXRhUHJpdi5hY2Nlc3MoIGRvYywgZml4ICk7XG5cblx0XHRcdFx0aWYgKCAhYXR0YWNoZXMgKSB7XG5cdFx0XHRcdFx0ZG9jLmFkZEV2ZW50TGlzdGVuZXIoIG9yaWcsIGhhbmRsZXIsIHRydWUgKTtcblx0XHRcdFx0fVxuXHRcdFx0XHRkYXRhUHJpdi5hY2Nlc3MoIGRvYywgZml4LCAoIGF0dGFjaGVzIHx8IDAgKSArIDEgKTtcblx0XHRcdH0sXG5cdFx0XHR0ZWFyZG93bjogZnVuY3Rpb24oKSB7XG5cdFx0XHRcdHZhciBkb2MgPSB0aGlzLm93bmVyRG9jdW1lbnQgfHwgdGhpcy5kb2N1bWVudCB8fCB0aGlzLFxuXHRcdFx0XHRcdGF0dGFjaGVzID0gZGF0YVByaXYuYWNjZXNzKCBkb2MsIGZpeCApIC0gMTtcblxuXHRcdFx0XHRpZiAoICFhdHRhY2hlcyApIHtcblx0XHRcdFx0XHRkb2MucmVtb3ZlRXZlbnRMaXN0ZW5lciggb3JpZywgaGFuZGxlciwgdHJ1ZSApO1xuXHRcdFx0XHRcdGRhdGFQcml2LnJlbW92ZSggZG9jLCBmaXggKTtcblxuXHRcdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRcdGRhdGFQcml2LmFjY2VzcyggZG9jLCBmaXgsIGF0dGFjaGVzICk7XG5cdFx0XHRcdH1cblx0XHRcdH1cblx0XHR9O1xuXHR9ICk7XG59XG52YXIgbG9jYXRpb24gPSB3aW5kb3cubG9jYXRpb247XG5cbnZhciBub25jZSA9IHsgZ3VpZDogRGF0ZS5ub3coKSB9O1xuXG52YXIgcnF1ZXJ5ID0gKCAvXFw/LyApO1xuXG5cblxuLy8gQ3Jvc3MtYnJvd3NlciB4bWwgcGFyc2luZ1xualF1ZXJ5LnBhcnNlWE1MID0gZnVuY3Rpb24oIGRhdGEgKSB7XG5cdHZhciB4bWw7XG5cdGlmICggIWRhdGEgfHwgdHlwZW9mIGRhdGEgIT09IFwic3RyaW5nXCIgKSB7XG5cdFx0cmV0dXJuIG51bGw7XG5cdH1cblxuXHQvLyBTdXBwb3J0OiBJRSA5IC0gMTEgb25seVxuXHQvLyBJRSB0aHJvd3Mgb24gcGFyc2VGcm9tU3RyaW5nIHdpdGggaW52YWxpZCBpbnB1dC5cblx0dHJ5IHtcblx0XHR4bWwgPSAoIG5ldyB3aW5kb3cuRE9NUGFyc2VyKCkgKS5wYXJzZUZyb21TdHJpbmcoIGRhdGEsIFwidGV4dC94bWxcIiApO1xuXHR9IGNhdGNoICggZSApIHtcblx0XHR4bWwgPSB1bmRlZmluZWQ7XG5cdH1cblxuXHRpZiAoICF4bWwgfHwgeG1sLmdldEVsZW1lbnRzQnlUYWdOYW1lKCBcInBhcnNlcmVycm9yXCIgKS5sZW5ndGggKSB7XG5cdFx0alF1ZXJ5LmVycm9yKCBcIkludmFsaWQgWE1MOiBcIiArIGRhdGEgKTtcblx0fVxuXHRyZXR1cm4geG1sO1xufTtcblxuXG52YXJcblx0cmJyYWNrZXQgPSAvXFxbXFxdJC8sXG5cdHJDUkxGID0gL1xccj9cXG4vZyxcblx0cnN1Ym1pdHRlclR5cGVzID0gL14oPzpzdWJtaXR8YnV0dG9ufGltYWdlfHJlc2V0fGZpbGUpJC9pLFxuXHRyc3VibWl0dGFibGUgPSAvXig/OmlucHV0fHNlbGVjdHx0ZXh0YXJlYXxrZXlnZW4pL2k7XG5cbmZ1bmN0aW9uIGJ1aWxkUGFyYW1zKCBwcmVmaXgsIG9iaiwgdHJhZGl0aW9uYWwsIGFkZCApIHtcblx0dmFyIG5hbWU7XG5cblx0aWYgKCBBcnJheS5pc0FycmF5KCBvYmogKSApIHtcblxuXHRcdC8vIFNlcmlhbGl6ZSBhcnJheSBpdGVtLlxuXHRcdGpRdWVyeS5lYWNoKCBvYmosIGZ1bmN0aW9uKCBpLCB2ICkge1xuXHRcdFx0aWYgKCB0cmFkaXRpb25hbCB8fCByYnJhY2tldC50ZXN0KCBwcmVmaXggKSApIHtcblxuXHRcdFx0XHQvLyBUcmVhdCBlYWNoIGFycmF5IGl0ZW0gYXMgYSBzY2FsYXIuXG5cdFx0XHRcdGFkZCggcHJlZml4LCB2ICk7XG5cblx0XHRcdH0gZWxzZSB7XG5cblx0XHRcdFx0Ly8gSXRlbSBpcyBub24tc2NhbGFyIChhcnJheSBvciBvYmplY3QpLCBlbmNvZGUgaXRzIG51bWVyaWMgaW5kZXguXG5cdFx0XHRcdGJ1aWxkUGFyYW1zKFxuXHRcdFx0XHRcdHByZWZpeCArIFwiW1wiICsgKCB0eXBlb2YgdiA9PT0gXCJvYmplY3RcIiAmJiB2ICE9IG51bGwgPyBpIDogXCJcIiApICsgXCJdXCIsXG5cdFx0XHRcdFx0dixcblx0XHRcdFx0XHR0cmFkaXRpb25hbCxcblx0XHRcdFx0XHRhZGRcblx0XHRcdFx0KTtcblx0XHRcdH1cblx0XHR9ICk7XG5cblx0fSBlbHNlIGlmICggIXRyYWRpdGlvbmFsICYmIHRvVHlwZSggb2JqICkgPT09IFwib2JqZWN0XCIgKSB7XG5cblx0XHQvLyBTZXJpYWxpemUgb2JqZWN0IGl0ZW0uXG5cdFx0Zm9yICggbmFtZSBpbiBvYmogKSB7XG5cdFx0XHRidWlsZFBhcmFtcyggcHJlZml4ICsgXCJbXCIgKyBuYW1lICsgXCJdXCIsIG9ialsgbmFtZSBdLCB0cmFkaXRpb25hbCwgYWRkICk7XG5cdFx0fVxuXG5cdH0gZWxzZSB7XG5cblx0XHQvLyBTZXJpYWxpemUgc2NhbGFyIGl0ZW0uXG5cdFx0YWRkKCBwcmVmaXgsIG9iaiApO1xuXHR9XG59XG5cbi8vIFNlcmlhbGl6ZSBhbiBhcnJheSBvZiBmb3JtIGVsZW1lbnRzIG9yIGEgc2V0IG9mXG4vLyBrZXkvdmFsdWVzIGludG8gYSBxdWVyeSBzdHJpbmdcbmpRdWVyeS5wYXJhbSA9IGZ1bmN0aW9uKCBhLCB0cmFkaXRpb25hbCApIHtcblx0dmFyIHByZWZpeCxcblx0XHRzID0gW10sXG5cdFx0YWRkID0gZnVuY3Rpb24oIGtleSwgdmFsdWVPckZ1bmN0aW9uICkge1xuXG5cdFx0XHQvLyBJZiB2YWx1ZSBpcyBhIGZ1bmN0aW9uLCBpbnZva2UgaXQgYW5kIHVzZSBpdHMgcmV0dXJuIHZhbHVlXG5cdFx0XHR2YXIgdmFsdWUgPSBpc0Z1bmN0aW9uKCB2YWx1ZU9yRnVuY3Rpb24gKSA/XG5cdFx0XHRcdHZhbHVlT3JGdW5jdGlvbigpIDpcblx0XHRcdFx0dmFsdWVPckZ1bmN0aW9uO1xuXG5cdFx0XHRzWyBzLmxlbmd0aCBdID0gZW5jb2RlVVJJQ29tcG9uZW50KCBrZXkgKSArIFwiPVwiICtcblx0XHRcdFx0ZW5jb2RlVVJJQ29tcG9uZW50KCB2YWx1ZSA9PSBudWxsID8gXCJcIiA6IHZhbHVlICk7XG5cdFx0fTtcblxuXHRpZiAoIGEgPT0gbnVsbCApIHtcblx0XHRyZXR1cm4gXCJcIjtcblx0fVxuXG5cdC8vIElmIGFuIGFycmF5IHdhcyBwYXNzZWQgaW4sIGFzc3VtZSB0aGF0IGl0IGlzIGFuIGFycmF5IG9mIGZvcm0gZWxlbWVudHMuXG5cdGlmICggQXJyYXkuaXNBcnJheSggYSApIHx8ICggYS5qcXVlcnkgJiYgIWpRdWVyeS5pc1BsYWluT2JqZWN0KCBhICkgKSApIHtcblxuXHRcdC8vIFNlcmlhbGl6ZSB0aGUgZm9ybSBlbGVtZW50c1xuXHRcdGpRdWVyeS5lYWNoKCBhLCBmdW5jdGlvbigpIHtcblx0XHRcdGFkZCggdGhpcy5uYW1lLCB0aGlzLnZhbHVlICk7XG5cdFx0fSApO1xuXG5cdH0gZWxzZSB7XG5cblx0XHQvLyBJZiB0cmFkaXRpb25hbCwgZW5jb2RlIHRoZSBcIm9sZFwiIHdheSAodGhlIHdheSAxLjMuMiBvciBvbGRlclxuXHRcdC8vIGRpZCBpdCksIG90aGVyd2lzZSBlbmNvZGUgcGFyYW1zIHJlY3Vyc2l2ZWx5LlxuXHRcdGZvciAoIHByZWZpeCBpbiBhICkge1xuXHRcdFx0YnVpbGRQYXJhbXMoIHByZWZpeCwgYVsgcHJlZml4IF0sIHRyYWRpdGlvbmFsLCBhZGQgKTtcblx0XHR9XG5cdH1cblxuXHQvLyBSZXR1cm4gdGhlIHJlc3VsdGluZyBzZXJpYWxpemF0aW9uXG5cdHJldHVybiBzLmpvaW4oIFwiJlwiICk7XG59O1xuXG5qUXVlcnkuZm4uZXh0ZW5kKCB7XG5cdHNlcmlhbGl6ZTogZnVuY3Rpb24oKSB7XG5cdFx0cmV0dXJuIGpRdWVyeS5wYXJhbSggdGhpcy5zZXJpYWxpemVBcnJheSgpICk7XG5cdH0sXG5cdHNlcmlhbGl6ZUFycmF5OiBmdW5jdGlvbigpIHtcblx0XHRyZXR1cm4gdGhpcy5tYXAoIGZ1bmN0aW9uKCkge1xuXG5cdFx0XHQvLyBDYW4gYWRkIHByb3BIb29rIGZvciBcImVsZW1lbnRzXCIgdG8gZmlsdGVyIG9yIGFkZCBmb3JtIGVsZW1lbnRzXG5cdFx0XHR2YXIgZWxlbWVudHMgPSBqUXVlcnkucHJvcCggdGhpcywgXCJlbGVtZW50c1wiICk7XG5cdFx0XHRyZXR1cm4gZWxlbWVudHMgPyBqUXVlcnkubWFrZUFycmF5KCBlbGVtZW50cyApIDogdGhpcztcblx0XHR9IClcblx0XHQuZmlsdGVyKCBmdW5jdGlvbigpIHtcblx0XHRcdHZhciB0eXBlID0gdGhpcy50eXBlO1xuXG5cdFx0XHQvLyBVc2UgLmlzKCBcIjpkaXNhYmxlZFwiICkgc28gdGhhdCBmaWVsZHNldFtkaXNhYmxlZF0gd29ya3Ncblx0XHRcdHJldHVybiB0aGlzLm5hbWUgJiYgIWpRdWVyeSggdGhpcyApLmlzKCBcIjpkaXNhYmxlZFwiICkgJiZcblx0XHRcdFx0cnN1Ym1pdHRhYmxlLnRlc3QoIHRoaXMubm9kZU5hbWUgKSAmJiAhcnN1Ym1pdHRlclR5cGVzLnRlc3QoIHR5cGUgKSAmJlxuXHRcdFx0XHQoIHRoaXMuY2hlY2tlZCB8fCAhcmNoZWNrYWJsZVR5cGUudGVzdCggdHlwZSApICk7XG5cdFx0fSApXG5cdFx0Lm1hcCggZnVuY3Rpb24oIF9pLCBlbGVtICkge1xuXHRcdFx0dmFyIHZhbCA9IGpRdWVyeSggdGhpcyApLnZhbCgpO1xuXG5cdFx0XHRpZiAoIHZhbCA9PSBudWxsICkge1xuXHRcdFx0XHRyZXR1cm4gbnVsbDtcblx0XHRcdH1cblxuXHRcdFx0aWYgKCBBcnJheS5pc0FycmF5KCB2YWwgKSApIHtcblx0XHRcdFx0cmV0dXJuIGpRdWVyeS5tYXAoIHZhbCwgZnVuY3Rpb24oIHZhbCApIHtcblx0XHRcdFx0XHRyZXR1cm4geyBuYW1lOiBlbGVtLm5hbWUsIHZhbHVlOiB2YWwucmVwbGFjZSggckNSTEYsIFwiXFxyXFxuXCIgKSB9O1xuXHRcdFx0XHR9ICk7XG5cdFx0XHR9XG5cblx0XHRcdHJldHVybiB7IG5hbWU6IGVsZW0ubmFtZSwgdmFsdWU6IHZhbC5yZXBsYWNlKCByQ1JMRiwgXCJcXHJcXG5cIiApIH07XG5cdFx0fSApLmdldCgpO1xuXHR9XG59ICk7XG5cblxudmFyXG5cdHIyMCA9IC8lMjAvZyxcblx0cmhhc2ggPSAvIy4qJC8sXG5cdHJhbnRpQ2FjaGUgPSAvKFs/Jl0pXz1bXiZdKi8sXG5cdHJoZWFkZXJzID0gL14oLio/KTpbIFxcdF0qKFteXFxyXFxuXSopJC9tZyxcblxuXHQvLyAjNzY1MywgIzgxMjUsICM4MTUyOiBsb2NhbCBwcm90b2NvbCBkZXRlY3Rpb25cblx0cmxvY2FsUHJvdG9jb2wgPSAvXig/OmFib3V0fGFwcHxhcHAtc3RvcmFnZXwuKy1leHRlbnNpb258ZmlsZXxyZXN8d2lkZ2V0KTokLyxcblx0cm5vQ29udGVudCA9IC9eKD86R0VUfEhFQUQpJC8sXG5cdHJwcm90b2NvbCA9IC9eXFwvXFwvLyxcblxuXHQvKiBQcmVmaWx0ZXJzXG5cdCAqIDEpIFRoZXkgYXJlIHVzZWZ1bCB0byBpbnRyb2R1Y2UgY3VzdG9tIGRhdGFUeXBlcyAoc2VlIGFqYXgvanNvbnAuanMgZm9yIGFuIGV4YW1wbGUpXG5cdCAqIDIpIFRoZXNlIGFyZSBjYWxsZWQ6XG5cdCAqICAgIC0gQkVGT1JFIGFza2luZyBmb3IgYSB0cmFuc3BvcnRcblx0ICogICAgLSBBRlRFUiBwYXJhbSBzZXJpYWxpemF0aW9uIChzLmRhdGEgaXMgYSBzdHJpbmcgaWYgcy5wcm9jZXNzRGF0YSBpcyB0cnVlKVxuXHQgKiAzKSBrZXkgaXMgdGhlIGRhdGFUeXBlXG5cdCAqIDQpIHRoZSBjYXRjaGFsbCBzeW1ib2wgXCIqXCIgY2FuIGJlIHVzZWRcblx0ICogNSkgZXhlY3V0aW9uIHdpbGwgc3RhcnQgd2l0aCB0cmFuc3BvcnQgZGF0YVR5cGUgYW5kIFRIRU4gY29udGludWUgZG93biB0byBcIipcIiBpZiBuZWVkZWRcblx0ICovXG5cdHByZWZpbHRlcnMgPSB7fSxcblxuXHQvKiBUcmFuc3BvcnRzIGJpbmRpbmdzXG5cdCAqIDEpIGtleSBpcyB0aGUgZGF0YVR5cGVcblx0ICogMikgdGhlIGNhdGNoYWxsIHN5bWJvbCBcIipcIiBjYW4gYmUgdXNlZFxuXHQgKiAzKSBzZWxlY3Rpb24gd2lsbCBzdGFydCB3aXRoIHRyYW5zcG9ydCBkYXRhVHlwZSBhbmQgVEhFTiBnbyB0byBcIipcIiBpZiBuZWVkZWRcblx0ICovXG5cdHRyYW5zcG9ydHMgPSB7fSxcblxuXHQvLyBBdm9pZCBjb21tZW50LXByb2xvZyBjaGFyIHNlcXVlbmNlICgjMTAwOTgpOyBtdXN0IGFwcGVhc2UgbGludCBhbmQgZXZhZGUgY29tcHJlc3Npb25cblx0YWxsVHlwZXMgPSBcIiovXCIuY29uY2F0KCBcIipcIiApLFxuXG5cdC8vIEFuY2hvciB0YWcgZm9yIHBhcnNpbmcgdGhlIGRvY3VtZW50IG9yaWdpblxuXHRvcmlnaW5BbmNob3IgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCBcImFcIiApO1xuXHRvcmlnaW5BbmNob3IuaHJlZiA9IGxvY2F0aW9uLmhyZWY7XG5cbi8vIEJhc2UgXCJjb25zdHJ1Y3RvclwiIGZvciBqUXVlcnkuYWpheFByZWZpbHRlciBhbmQgalF1ZXJ5LmFqYXhUcmFuc3BvcnRcbmZ1bmN0aW9uIGFkZFRvUHJlZmlsdGVyc09yVHJhbnNwb3J0cyggc3RydWN0dXJlICkge1xuXG5cdC8vIGRhdGFUeXBlRXhwcmVzc2lvbiBpcyBvcHRpb25hbCBhbmQgZGVmYXVsdHMgdG8gXCIqXCJcblx0cmV0dXJuIGZ1bmN0aW9uKCBkYXRhVHlwZUV4cHJlc3Npb24sIGZ1bmMgKSB7XG5cblx0XHRpZiAoIHR5cGVvZiBkYXRhVHlwZUV4cHJlc3Npb24gIT09IFwic3RyaW5nXCIgKSB7XG5cdFx0XHRmdW5jID0gZGF0YVR5cGVFeHByZXNzaW9uO1xuXHRcdFx0ZGF0YVR5cGVFeHByZXNzaW9uID0gXCIqXCI7XG5cdFx0fVxuXG5cdFx0dmFyIGRhdGFUeXBlLFxuXHRcdFx0aSA9IDAsXG5cdFx0XHRkYXRhVHlwZXMgPSBkYXRhVHlwZUV4cHJlc3Npb24udG9Mb3dlckNhc2UoKS5tYXRjaCggcm5vdGh0bWx3aGl0ZSApIHx8IFtdO1xuXG5cdFx0aWYgKCBpc0Z1bmN0aW9uKCBmdW5jICkgKSB7XG5cblx0XHRcdC8vIEZvciBlYWNoIGRhdGFUeXBlIGluIHRoZSBkYXRhVHlwZUV4cHJlc3Npb25cblx0XHRcdHdoaWxlICggKCBkYXRhVHlwZSA9IGRhdGFUeXBlc1sgaSsrIF0gKSApIHtcblxuXHRcdFx0XHQvLyBQcmVwZW5kIGlmIHJlcXVlc3RlZFxuXHRcdFx0XHRpZiAoIGRhdGFUeXBlWyAwIF0gPT09IFwiK1wiICkge1xuXHRcdFx0XHRcdGRhdGFUeXBlID0gZGF0YVR5cGUuc2xpY2UoIDEgKSB8fCBcIipcIjtcblx0XHRcdFx0XHQoIHN0cnVjdHVyZVsgZGF0YVR5cGUgXSA9IHN0cnVjdHVyZVsgZGF0YVR5cGUgXSB8fCBbXSApLnVuc2hpZnQoIGZ1bmMgKTtcblxuXHRcdFx0XHQvLyBPdGhlcndpc2UgYXBwZW5kXG5cdFx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdFx0KCBzdHJ1Y3R1cmVbIGRhdGFUeXBlIF0gPSBzdHJ1Y3R1cmVbIGRhdGFUeXBlIF0gfHwgW10gKS5wdXNoKCBmdW5jICk7XG5cdFx0XHRcdH1cblx0XHRcdH1cblx0XHR9XG5cdH07XG59XG5cbi8vIEJhc2UgaW5zcGVjdGlvbiBmdW5jdGlvbiBmb3IgcHJlZmlsdGVycyBhbmQgdHJhbnNwb3J0c1xuZnVuY3Rpb24gaW5zcGVjdFByZWZpbHRlcnNPclRyYW5zcG9ydHMoIHN0cnVjdHVyZSwgb3B0aW9ucywgb3JpZ2luYWxPcHRpb25zLCBqcVhIUiApIHtcblxuXHR2YXIgaW5zcGVjdGVkID0ge30sXG5cdFx0c2Vla2luZ1RyYW5zcG9ydCA9ICggc3RydWN0dXJlID09PSB0cmFuc3BvcnRzICk7XG5cblx0ZnVuY3Rpb24gaW5zcGVjdCggZGF0YVR5cGUgKSB7XG5cdFx0dmFyIHNlbGVjdGVkO1xuXHRcdGluc3BlY3RlZFsgZGF0YVR5cGUgXSA9IHRydWU7XG5cdFx0alF1ZXJ5LmVhY2goIHN0cnVjdHVyZVsgZGF0YVR5cGUgXSB8fCBbXSwgZnVuY3Rpb24oIF8sIHByZWZpbHRlck9yRmFjdG9yeSApIHtcblx0XHRcdHZhciBkYXRhVHlwZU9yVHJhbnNwb3J0ID0gcHJlZmlsdGVyT3JGYWN0b3J5KCBvcHRpb25zLCBvcmlnaW5hbE9wdGlvbnMsIGpxWEhSICk7XG5cdFx0XHRpZiAoIHR5cGVvZiBkYXRhVHlwZU9yVHJhbnNwb3J0ID09PSBcInN0cmluZ1wiICYmXG5cdFx0XHRcdCFzZWVraW5nVHJhbnNwb3J0ICYmICFpbnNwZWN0ZWRbIGRhdGFUeXBlT3JUcmFuc3BvcnQgXSApIHtcblxuXHRcdFx0XHRvcHRpb25zLmRhdGFUeXBlcy51bnNoaWZ0KCBkYXRhVHlwZU9yVHJhbnNwb3J0ICk7XG5cdFx0XHRcdGluc3BlY3QoIGRhdGFUeXBlT3JUcmFuc3BvcnQgKTtcblx0XHRcdFx0cmV0dXJuIGZhbHNlO1xuXHRcdFx0fSBlbHNlIGlmICggc2Vla2luZ1RyYW5zcG9ydCApIHtcblx0XHRcdFx0cmV0dXJuICEoIHNlbGVjdGVkID0gZGF0YVR5cGVPclRyYW5zcG9ydCApO1xuXHRcdFx0fVxuXHRcdH0gKTtcblx0XHRyZXR1cm4gc2VsZWN0ZWQ7XG5cdH1cblxuXHRyZXR1cm4gaW5zcGVjdCggb3B0aW9ucy5kYXRhVHlwZXNbIDAgXSApIHx8ICFpbnNwZWN0ZWRbIFwiKlwiIF0gJiYgaW5zcGVjdCggXCIqXCIgKTtcbn1cblxuLy8gQSBzcGVjaWFsIGV4dGVuZCBmb3IgYWpheCBvcHRpb25zXG4vLyB0aGF0IHRha2VzIFwiZmxhdFwiIG9wdGlvbnMgKG5vdCB0byBiZSBkZWVwIGV4dGVuZGVkKVxuLy8gRml4ZXMgIzk4ODdcbmZ1bmN0aW9uIGFqYXhFeHRlbmQoIHRhcmdldCwgc3JjICkge1xuXHR2YXIga2V5LCBkZWVwLFxuXHRcdGZsYXRPcHRpb25zID0galF1ZXJ5LmFqYXhTZXR0aW5ncy5mbGF0T3B0aW9ucyB8fCB7fTtcblxuXHRmb3IgKCBrZXkgaW4gc3JjICkge1xuXHRcdGlmICggc3JjWyBrZXkgXSAhPT0gdW5kZWZpbmVkICkge1xuXHRcdFx0KCBmbGF0T3B0aW9uc1sga2V5IF0gPyB0YXJnZXQgOiAoIGRlZXAgfHwgKCBkZWVwID0ge30gKSApIClbIGtleSBdID0gc3JjWyBrZXkgXTtcblx0XHR9XG5cdH1cblx0aWYgKCBkZWVwICkge1xuXHRcdGpRdWVyeS5leHRlbmQoIHRydWUsIHRhcmdldCwgZGVlcCApO1xuXHR9XG5cblx0cmV0dXJuIHRhcmdldDtcbn1cblxuLyogSGFuZGxlcyByZXNwb25zZXMgdG8gYW4gYWpheCByZXF1ZXN0OlxuICogLSBmaW5kcyB0aGUgcmlnaHQgZGF0YVR5cGUgKG1lZGlhdGVzIGJldHdlZW4gY29udGVudC10eXBlIGFuZCBleHBlY3RlZCBkYXRhVHlwZSlcbiAqIC0gcmV0dXJucyB0aGUgY29ycmVzcG9uZGluZyByZXNwb25zZVxuICovXG5mdW5jdGlvbiBhamF4SGFuZGxlUmVzcG9uc2VzKCBzLCBqcVhIUiwgcmVzcG9uc2VzICkge1xuXG5cdHZhciBjdCwgdHlwZSwgZmluYWxEYXRhVHlwZSwgZmlyc3REYXRhVHlwZSxcblx0XHRjb250ZW50cyA9IHMuY29udGVudHMsXG5cdFx0ZGF0YVR5cGVzID0gcy5kYXRhVHlwZXM7XG5cblx0Ly8gUmVtb3ZlIGF1dG8gZGF0YVR5cGUgYW5kIGdldCBjb250ZW50LXR5cGUgaW4gdGhlIHByb2Nlc3Ncblx0d2hpbGUgKCBkYXRhVHlwZXNbIDAgXSA9PT0gXCIqXCIgKSB7XG5cdFx0ZGF0YVR5cGVzLnNoaWZ0KCk7XG5cdFx0aWYgKCBjdCA9PT0gdW5kZWZpbmVkICkge1xuXHRcdFx0Y3QgPSBzLm1pbWVUeXBlIHx8IGpxWEhSLmdldFJlc3BvbnNlSGVhZGVyKCBcIkNvbnRlbnQtVHlwZVwiICk7XG5cdFx0fVxuXHR9XG5cblx0Ly8gQ2hlY2sgaWYgd2UncmUgZGVhbGluZyB3aXRoIGEga25vd24gY29udGVudC10eXBlXG5cdGlmICggY3QgKSB7XG5cdFx0Zm9yICggdHlwZSBpbiBjb250ZW50cyApIHtcblx0XHRcdGlmICggY29udGVudHNbIHR5cGUgXSAmJiBjb250ZW50c1sgdHlwZSBdLnRlc3QoIGN0ICkgKSB7XG5cdFx0XHRcdGRhdGFUeXBlcy51bnNoaWZ0KCB0eXBlICk7XG5cdFx0XHRcdGJyZWFrO1xuXHRcdFx0fVxuXHRcdH1cblx0fVxuXG5cdC8vIENoZWNrIHRvIHNlZSBpZiB3ZSBoYXZlIGEgcmVzcG9uc2UgZm9yIHRoZSBleHBlY3RlZCBkYXRhVHlwZVxuXHRpZiAoIGRhdGFUeXBlc1sgMCBdIGluIHJlc3BvbnNlcyApIHtcblx0XHRmaW5hbERhdGFUeXBlID0gZGF0YVR5cGVzWyAwIF07XG5cdH0gZWxzZSB7XG5cblx0XHQvLyBUcnkgY29udmVydGlibGUgZGF0YVR5cGVzXG5cdFx0Zm9yICggdHlwZSBpbiByZXNwb25zZXMgKSB7XG5cdFx0XHRpZiAoICFkYXRhVHlwZXNbIDAgXSB8fCBzLmNvbnZlcnRlcnNbIHR5cGUgKyBcIiBcIiArIGRhdGFUeXBlc1sgMCBdIF0gKSB7XG5cdFx0XHRcdGZpbmFsRGF0YVR5cGUgPSB0eXBlO1xuXHRcdFx0XHRicmVhaztcblx0XHRcdH1cblx0XHRcdGlmICggIWZpcnN0RGF0YVR5cGUgKSB7XG5cdFx0XHRcdGZpcnN0RGF0YVR5cGUgPSB0eXBlO1xuXHRcdFx0fVxuXHRcdH1cblxuXHRcdC8vIE9yIGp1c3QgdXNlIGZpcnN0IG9uZVxuXHRcdGZpbmFsRGF0YVR5cGUgPSBmaW5hbERhdGFUeXBlIHx8IGZpcnN0RGF0YVR5cGU7XG5cdH1cblxuXHQvLyBJZiB3ZSBmb3VuZCBhIGRhdGFUeXBlXG5cdC8vIFdlIGFkZCB0aGUgZGF0YVR5cGUgdG8gdGhlIGxpc3QgaWYgbmVlZGVkXG5cdC8vIGFuZCByZXR1cm4gdGhlIGNvcnJlc3BvbmRpbmcgcmVzcG9uc2Vcblx0aWYgKCBmaW5hbERhdGFUeXBlICkge1xuXHRcdGlmICggZmluYWxEYXRhVHlwZSAhPT0gZGF0YVR5cGVzWyAwIF0gKSB7XG5cdFx0XHRkYXRhVHlwZXMudW5zaGlmdCggZmluYWxEYXRhVHlwZSApO1xuXHRcdH1cblx0XHRyZXR1cm4gcmVzcG9uc2VzWyBmaW5hbERhdGFUeXBlIF07XG5cdH1cbn1cblxuLyogQ2hhaW4gY29udmVyc2lvbnMgZ2l2ZW4gdGhlIHJlcXVlc3QgYW5kIHRoZSBvcmlnaW5hbCByZXNwb25zZVxuICogQWxzbyBzZXRzIHRoZSByZXNwb25zZVhYWCBmaWVsZHMgb24gdGhlIGpxWEhSIGluc3RhbmNlXG4gKi9cbmZ1bmN0aW9uIGFqYXhDb252ZXJ0KCBzLCByZXNwb25zZSwganFYSFIsIGlzU3VjY2VzcyApIHtcblx0dmFyIGNvbnYyLCBjdXJyZW50LCBjb252LCB0bXAsIHByZXYsXG5cdFx0Y29udmVydGVycyA9IHt9LFxuXG5cdFx0Ly8gV29yayB3aXRoIGEgY29weSBvZiBkYXRhVHlwZXMgaW4gY2FzZSB3ZSBuZWVkIHRvIG1vZGlmeSBpdCBmb3IgY29udmVyc2lvblxuXHRcdGRhdGFUeXBlcyA9IHMuZGF0YVR5cGVzLnNsaWNlKCk7XG5cblx0Ly8gQ3JlYXRlIGNvbnZlcnRlcnMgbWFwIHdpdGggbG93ZXJjYXNlZCBrZXlzXG5cdGlmICggZGF0YVR5cGVzWyAxIF0gKSB7XG5cdFx0Zm9yICggY29udiBpbiBzLmNvbnZlcnRlcnMgKSB7XG5cdFx0XHRjb252ZXJ0ZXJzWyBjb252LnRvTG93ZXJDYXNlKCkgXSA9IHMuY29udmVydGVyc1sgY29udiBdO1xuXHRcdH1cblx0fVxuXG5cdGN1cnJlbnQgPSBkYXRhVHlwZXMuc2hpZnQoKTtcblxuXHQvLyBDb252ZXJ0IHRvIGVhY2ggc2VxdWVudGlhbCBkYXRhVHlwZVxuXHR3aGlsZSAoIGN1cnJlbnQgKSB7XG5cblx0XHRpZiAoIHMucmVzcG9uc2VGaWVsZHNbIGN1cnJlbnQgXSApIHtcblx0XHRcdGpxWEhSWyBzLnJlc3BvbnNlRmllbGRzWyBjdXJyZW50IF0gXSA9IHJlc3BvbnNlO1xuXHRcdH1cblxuXHRcdC8vIEFwcGx5IHRoZSBkYXRhRmlsdGVyIGlmIHByb3ZpZGVkXG5cdFx0aWYgKCAhcHJldiAmJiBpc1N1Y2Nlc3MgJiYgcy5kYXRhRmlsdGVyICkge1xuXHRcdFx0cmVzcG9uc2UgPSBzLmRhdGFGaWx0ZXIoIHJlc3BvbnNlLCBzLmRhdGFUeXBlICk7XG5cdFx0fVxuXG5cdFx0cHJldiA9IGN1cnJlbnQ7XG5cdFx0Y3VycmVudCA9IGRhdGFUeXBlcy5zaGlmdCgpO1xuXG5cdFx0aWYgKCBjdXJyZW50ICkge1xuXG5cdFx0XHQvLyBUaGVyZSdzIG9ubHkgd29yayB0byBkbyBpZiBjdXJyZW50IGRhdGFUeXBlIGlzIG5vbi1hdXRvXG5cdFx0XHRpZiAoIGN1cnJlbnQgPT09IFwiKlwiICkge1xuXG5cdFx0XHRcdGN1cnJlbnQgPSBwcmV2O1xuXG5cdFx0XHQvLyBDb252ZXJ0IHJlc3BvbnNlIGlmIHByZXYgZGF0YVR5cGUgaXMgbm9uLWF1dG8gYW5kIGRpZmZlcnMgZnJvbSBjdXJyZW50XG5cdFx0XHR9IGVsc2UgaWYgKCBwcmV2ICE9PSBcIipcIiAmJiBwcmV2ICE9PSBjdXJyZW50ICkge1xuXG5cdFx0XHRcdC8vIFNlZWsgYSBkaXJlY3QgY29udmVydGVyXG5cdFx0XHRcdGNvbnYgPSBjb252ZXJ0ZXJzWyBwcmV2ICsgXCIgXCIgKyBjdXJyZW50IF0gfHwgY29udmVydGVyc1sgXCIqIFwiICsgY3VycmVudCBdO1xuXG5cdFx0XHRcdC8vIElmIG5vbmUgZm91bmQsIHNlZWsgYSBwYWlyXG5cdFx0XHRcdGlmICggIWNvbnYgKSB7XG5cdFx0XHRcdFx0Zm9yICggY29udjIgaW4gY29udmVydGVycyApIHtcblxuXHRcdFx0XHRcdFx0Ly8gSWYgY29udjIgb3V0cHV0cyBjdXJyZW50XG5cdFx0XHRcdFx0XHR0bXAgPSBjb252Mi5zcGxpdCggXCIgXCIgKTtcblx0XHRcdFx0XHRcdGlmICggdG1wWyAxIF0gPT09IGN1cnJlbnQgKSB7XG5cblx0XHRcdFx0XHRcdFx0Ly8gSWYgcHJldiBjYW4gYmUgY29udmVydGVkIHRvIGFjY2VwdGVkIGlucHV0XG5cdFx0XHRcdFx0XHRcdGNvbnYgPSBjb252ZXJ0ZXJzWyBwcmV2ICsgXCIgXCIgKyB0bXBbIDAgXSBdIHx8XG5cdFx0XHRcdFx0XHRcdFx0Y29udmVydGVyc1sgXCIqIFwiICsgdG1wWyAwIF0gXTtcblx0XHRcdFx0XHRcdFx0aWYgKCBjb252ICkge1xuXG5cdFx0XHRcdFx0XHRcdFx0Ly8gQ29uZGVuc2UgZXF1aXZhbGVuY2UgY29udmVydGVyc1xuXHRcdFx0XHRcdFx0XHRcdGlmICggY29udiA9PT0gdHJ1ZSApIHtcblx0XHRcdFx0XHRcdFx0XHRcdGNvbnYgPSBjb252ZXJ0ZXJzWyBjb252MiBdO1xuXG5cdFx0XHRcdFx0XHRcdFx0Ly8gT3RoZXJ3aXNlLCBpbnNlcnQgdGhlIGludGVybWVkaWF0ZSBkYXRhVHlwZVxuXHRcdFx0XHRcdFx0XHRcdH0gZWxzZSBpZiAoIGNvbnZlcnRlcnNbIGNvbnYyIF0gIT09IHRydWUgKSB7XG5cdFx0XHRcdFx0XHRcdFx0XHRjdXJyZW50ID0gdG1wWyAwIF07XG5cdFx0XHRcdFx0XHRcdFx0XHRkYXRhVHlwZXMudW5zaGlmdCggdG1wWyAxIF0gKTtcblx0XHRcdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0XHRcdFx0YnJlYWs7XG5cdFx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHR9XG5cdFx0XHRcdH1cblxuXHRcdFx0XHQvLyBBcHBseSBjb252ZXJ0ZXIgKGlmIG5vdCBhbiBlcXVpdmFsZW5jZSlcblx0XHRcdFx0aWYgKCBjb252ICE9PSB0cnVlICkge1xuXG5cdFx0XHRcdFx0Ly8gVW5sZXNzIGVycm9ycyBhcmUgYWxsb3dlZCB0byBidWJibGUsIGNhdGNoIGFuZCByZXR1cm4gdGhlbVxuXHRcdFx0XHRcdGlmICggY29udiAmJiBzLnRocm93cyApIHtcblx0XHRcdFx0XHRcdHJlc3BvbnNlID0gY29udiggcmVzcG9uc2UgKTtcblx0XHRcdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRcdFx0dHJ5IHtcblx0XHRcdFx0XHRcdFx0cmVzcG9uc2UgPSBjb252KCByZXNwb25zZSApO1xuXHRcdFx0XHRcdFx0fSBjYXRjaCAoIGUgKSB7XG5cdFx0XHRcdFx0XHRcdHJldHVybiB7XG5cdFx0XHRcdFx0XHRcdFx0c3RhdGU6IFwicGFyc2VyZXJyb3JcIixcblx0XHRcdFx0XHRcdFx0XHRlcnJvcjogY29udiA/IGUgOiBcIk5vIGNvbnZlcnNpb24gZnJvbSBcIiArIHByZXYgKyBcIiB0byBcIiArIGN1cnJlbnRcblx0XHRcdFx0XHRcdFx0fTtcblx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHR9XG5cdFx0XHRcdH1cblx0XHRcdH1cblx0XHR9XG5cdH1cblxuXHRyZXR1cm4geyBzdGF0ZTogXCJzdWNjZXNzXCIsIGRhdGE6IHJlc3BvbnNlIH07XG59XG5cbmpRdWVyeS5leHRlbmQoIHtcblxuXHQvLyBDb3VudGVyIGZvciBob2xkaW5nIHRoZSBudW1iZXIgb2YgYWN0aXZlIHF1ZXJpZXNcblx0YWN0aXZlOiAwLFxuXG5cdC8vIExhc3QtTW9kaWZpZWQgaGVhZGVyIGNhY2hlIGZvciBuZXh0IHJlcXVlc3Rcblx0bGFzdE1vZGlmaWVkOiB7fSxcblx0ZXRhZzoge30sXG5cblx0YWpheFNldHRpbmdzOiB7XG5cdFx0dXJsOiBsb2NhdGlvbi5ocmVmLFxuXHRcdHR5cGU6IFwiR0VUXCIsXG5cdFx0aXNMb2NhbDogcmxvY2FsUHJvdG9jb2wudGVzdCggbG9jYXRpb24ucHJvdG9jb2wgKSxcblx0XHRnbG9iYWw6IHRydWUsXG5cdFx0cHJvY2Vzc0RhdGE6IHRydWUsXG5cdFx0YXN5bmM6IHRydWUsXG5cdFx0Y29udGVudFR5cGU6IFwiYXBwbGljYXRpb24veC13d3ctZm9ybS11cmxlbmNvZGVkOyBjaGFyc2V0PVVURi04XCIsXG5cblx0XHQvKlxuXHRcdHRpbWVvdXQ6IDAsXG5cdFx0ZGF0YTogbnVsbCxcblx0XHRkYXRhVHlwZTogbnVsbCxcblx0XHR1c2VybmFtZTogbnVsbCxcblx0XHRwYXNzd29yZDogbnVsbCxcblx0XHRjYWNoZTogbnVsbCxcblx0XHR0aHJvd3M6IGZhbHNlLFxuXHRcdHRyYWRpdGlvbmFsOiBmYWxzZSxcblx0XHRoZWFkZXJzOiB7fSxcblx0XHQqL1xuXG5cdFx0YWNjZXB0czoge1xuXHRcdFx0XCIqXCI6IGFsbFR5cGVzLFxuXHRcdFx0dGV4dDogXCJ0ZXh0L3BsYWluXCIsXG5cdFx0XHRodG1sOiBcInRleHQvaHRtbFwiLFxuXHRcdFx0eG1sOiBcImFwcGxpY2F0aW9uL3htbCwgdGV4dC94bWxcIixcblx0XHRcdGpzb246IFwiYXBwbGljYXRpb24vanNvbiwgdGV4dC9qYXZhc2NyaXB0XCJcblx0XHR9LFxuXG5cdFx0Y29udGVudHM6IHtcblx0XHRcdHhtbDogL1xcYnhtbFxcYi8sXG5cdFx0XHRodG1sOiAvXFxiaHRtbC8sXG5cdFx0XHRqc29uOiAvXFxianNvblxcYi9cblx0XHR9LFxuXG5cdFx0cmVzcG9uc2VGaWVsZHM6IHtcblx0XHRcdHhtbDogXCJyZXNwb25zZVhNTFwiLFxuXHRcdFx0dGV4dDogXCJyZXNwb25zZVRleHRcIixcblx0XHRcdGpzb246IFwicmVzcG9uc2VKU09OXCJcblx0XHR9LFxuXG5cdFx0Ly8gRGF0YSBjb252ZXJ0ZXJzXG5cdFx0Ly8gS2V5cyBzZXBhcmF0ZSBzb3VyY2UgKG9yIGNhdGNoYWxsIFwiKlwiKSBhbmQgZGVzdGluYXRpb24gdHlwZXMgd2l0aCBhIHNpbmdsZSBzcGFjZVxuXHRcdGNvbnZlcnRlcnM6IHtcblxuXHRcdFx0Ly8gQ29udmVydCBhbnl0aGluZyB0byB0ZXh0XG5cdFx0XHRcIiogdGV4dFwiOiBTdHJpbmcsXG5cblx0XHRcdC8vIFRleHQgdG8gaHRtbCAodHJ1ZSA9IG5vIHRyYW5zZm9ybWF0aW9uKVxuXHRcdFx0XCJ0ZXh0IGh0bWxcIjogdHJ1ZSxcblxuXHRcdFx0Ly8gRXZhbHVhdGUgdGV4dCBhcyBhIGpzb24gZXhwcmVzc2lvblxuXHRcdFx0XCJ0ZXh0IGpzb25cIjogSlNPTi5wYXJzZSxcblxuXHRcdFx0Ly8gUGFyc2UgdGV4dCBhcyB4bWxcblx0XHRcdFwidGV4dCB4bWxcIjogalF1ZXJ5LnBhcnNlWE1MXG5cdFx0fSxcblxuXHRcdC8vIEZvciBvcHRpb25zIHRoYXQgc2hvdWxkbid0IGJlIGRlZXAgZXh0ZW5kZWQ6XG5cdFx0Ly8geW91IGNhbiBhZGQgeW91ciBvd24gY3VzdG9tIG9wdGlvbnMgaGVyZSBpZlxuXHRcdC8vIGFuZCB3aGVuIHlvdSBjcmVhdGUgb25lIHRoYXQgc2hvdWxkbid0IGJlXG5cdFx0Ly8gZGVlcCBleHRlbmRlZCAoc2VlIGFqYXhFeHRlbmQpXG5cdFx0ZmxhdE9wdGlvbnM6IHtcblx0XHRcdHVybDogdHJ1ZSxcblx0XHRcdGNvbnRleHQ6IHRydWVcblx0XHR9XG5cdH0sXG5cblx0Ly8gQ3JlYXRlcyBhIGZ1bGwgZmxlZGdlZCBzZXR0aW5ncyBvYmplY3QgaW50byB0YXJnZXRcblx0Ly8gd2l0aCBib3RoIGFqYXhTZXR0aW5ncyBhbmQgc2V0dGluZ3MgZmllbGRzLlxuXHQvLyBJZiB0YXJnZXQgaXMgb21pdHRlZCwgd3JpdGVzIGludG8gYWpheFNldHRpbmdzLlxuXHRhamF4U2V0dXA6IGZ1bmN0aW9uKCB0YXJnZXQsIHNldHRpbmdzICkge1xuXHRcdHJldHVybiBzZXR0aW5ncyA/XG5cblx0XHRcdC8vIEJ1aWxkaW5nIGEgc2V0dGluZ3Mgb2JqZWN0XG5cdFx0XHRhamF4RXh0ZW5kKCBhamF4RXh0ZW5kKCB0YXJnZXQsIGpRdWVyeS5hamF4U2V0dGluZ3MgKSwgc2V0dGluZ3MgKSA6XG5cblx0XHRcdC8vIEV4dGVuZGluZyBhamF4U2V0dGluZ3Ncblx0XHRcdGFqYXhFeHRlbmQoIGpRdWVyeS5hamF4U2V0dGluZ3MsIHRhcmdldCApO1xuXHR9LFxuXG5cdGFqYXhQcmVmaWx0ZXI6IGFkZFRvUHJlZmlsdGVyc09yVHJhbnNwb3J0cyggcHJlZmlsdGVycyApLFxuXHRhamF4VHJhbnNwb3J0OiBhZGRUb1ByZWZpbHRlcnNPclRyYW5zcG9ydHMoIHRyYW5zcG9ydHMgKSxcblxuXHQvLyBNYWluIG1ldGhvZFxuXHRhamF4OiBmdW5jdGlvbiggdXJsLCBvcHRpb25zICkge1xuXG5cdFx0Ly8gSWYgdXJsIGlzIGFuIG9iamVjdCwgc2ltdWxhdGUgcHJlLTEuNSBzaWduYXR1cmVcblx0XHRpZiAoIHR5cGVvZiB1cmwgPT09IFwib2JqZWN0XCIgKSB7XG5cdFx0XHRvcHRpb25zID0gdXJsO1xuXHRcdFx0dXJsID0gdW5kZWZpbmVkO1xuXHRcdH1cblxuXHRcdC8vIEZvcmNlIG9wdGlvbnMgdG8gYmUgYW4gb2JqZWN0XG5cdFx0b3B0aW9ucyA9IG9wdGlvbnMgfHwge307XG5cblx0XHR2YXIgdHJhbnNwb3J0LFxuXG5cdFx0XHQvLyBVUkwgd2l0aG91dCBhbnRpLWNhY2hlIHBhcmFtXG5cdFx0XHRjYWNoZVVSTCxcblxuXHRcdFx0Ly8gUmVzcG9uc2UgaGVhZGVyc1xuXHRcdFx0cmVzcG9uc2VIZWFkZXJzU3RyaW5nLFxuXHRcdFx0cmVzcG9uc2VIZWFkZXJzLFxuXG5cdFx0XHQvLyB0aW1lb3V0IGhhbmRsZVxuXHRcdFx0dGltZW91dFRpbWVyLFxuXG5cdFx0XHQvLyBVcmwgY2xlYW51cCB2YXJcblx0XHRcdHVybEFuY2hvcixcblxuXHRcdFx0Ly8gUmVxdWVzdCBzdGF0ZSAoYmVjb21lcyBmYWxzZSB1cG9uIHNlbmQgYW5kIHRydWUgdXBvbiBjb21wbGV0aW9uKVxuXHRcdFx0Y29tcGxldGVkLFxuXG5cdFx0XHQvLyBUbyBrbm93IGlmIGdsb2JhbCBldmVudHMgYXJlIHRvIGJlIGRpc3BhdGNoZWRcblx0XHRcdGZpcmVHbG9iYWxzLFxuXG5cdFx0XHQvLyBMb29wIHZhcmlhYmxlXG5cdFx0XHRpLFxuXG5cdFx0XHQvLyB1bmNhY2hlZCBwYXJ0IG9mIHRoZSB1cmxcblx0XHRcdHVuY2FjaGVkLFxuXG5cdFx0XHQvLyBDcmVhdGUgdGhlIGZpbmFsIG9wdGlvbnMgb2JqZWN0XG5cdFx0XHRzID0galF1ZXJ5LmFqYXhTZXR1cCgge30sIG9wdGlvbnMgKSxcblxuXHRcdFx0Ly8gQ2FsbGJhY2tzIGNvbnRleHRcblx0XHRcdGNhbGxiYWNrQ29udGV4dCA9IHMuY29udGV4dCB8fCBzLFxuXG5cdFx0XHQvLyBDb250ZXh0IGZvciBnbG9iYWwgZXZlbnRzIGlzIGNhbGxiYWNrQ29udGV4dCBpZiBpdCBpcyBhIERPTSBub2RlIG9yIGpRdWVyeSBjb2xsZWN0aW9uXG5cdFx0XHRnbG9iYWxFdmVudENvbnRleHQgPSBzLmNvbnRleHQgJiZcblx0XHRcdFx0KCBjYWxsYmFja0NvbnRleHQubm9kZVR5cGUgfHwgY2FsbGJhY2tDb250ZXh0LmpxdWVyeSApID9cblx0XHRcdFx0XHRqUXVlcnkoIGNhbGxiYWNrQ29udGV4dCApIDpcblx0XHRcdFx0XHRqUXVlcnkuZXZlbnQsXG5cblx0XHRcdC8vIERlZmVycmVkc1xuXHRcdFx0ZGVmZXJyZWQgPSBqUXVlcnkuRGVmZXJyZWQoKSxcblx0XHRcdGNvbXBsZXRlRGVmZXJyZWQgPSBqUXVlcnkuQ2FsbGJhY2tzKCBcIm9uY2UgbWVtb3J5XCIgKSxcblxuXHRcdFx0Ly8gU3RhdHVzLWRlcGVuZGVudCBjYWxsYmFja3Ncblx0XHRcdHN0YXR1c0NvZGUgPSBzLnN0YXR1c0NvZGUgfHwge30sXG5cblx0XHRcdC8vIEhlYWRlcnMgKHRoZXkgYXJlIHNlbnQgYWxsIGF0IG9uY2UpXG5cdFx0XHRyZXF1ZXN0SGVhZGVycyA9IHt9LFxuXHRcdFx0cmVxdWVzdEhlYWRlcnNOYW1lcyA9IHt9LFxuXG5cdFx0XHQvLyBEZWZhdWx0IGFib3J0IG1lc3NhZ2Vcblx0XHRcdHN0ckFib3J0ID0gXCJjYW5jZWxlZFwiLFxuXG5cdFx0XHQvLyBGYWtlIHhoclxuXHRcdFx0anFYSFIgPSB7XG5cdFx0XHRcdHJlYWR5U3RhdGU6IDAsXG5cblx0XHRcdFx0Ly8gQnVpbGRzIGhlYWRlcnMgaGFzaHRhYmxlIGlmIG5lZWRlZFxuXHRcdFx0XHRnZXRSZXNwb25zZUhlYWRlcjogZnVuY3Rpb24oIGtleSApIHtcblx0XHRcdFx0XHR2YXIgbWF0Y2g7XG5cdFx0XHRcdFx0aWYgKCBjb21wbGV0ZWQgKSB7XG5cdFx0XHRcdFx0XHRpZiAoICFyZXNwb25zZUhlYWRlcnMgKSB7XG5cdFx0XHRcdFx0XHRcdHJlc3BvbnNlSGVhZGVycyA9IHt9O1xuXHRcdFx0XHRcdFx0XHR3aGlsZSAoICggbWF0Y2ggPSByaGVhZGVycy5leGVjKCByZXNwb25zZUhlYWRlcnNTdHJpbmcgKSApICkge1xuXHRcdFx0XHRcdFx0XHRcdHJlc3BvbnNlSGVhZGVyc1sgbWF0Y2hbIDEgXS50b0xvd2VyQ2FzZSgpICsgXCIgXCIgXSA9XG5cdFx0XHRcdFx0XHRcdFx0XHQoIHJlc3BvbnNlSGVhZGVyc1sgbWF0Y2hbIDEgXS50b0xvd2VyQ2FzZSgpICsgXCIgXCIgXSB8fCBbXSApXG5cdFx0XHRcdFx0XHRcdFx0XHRcdC5jb25jYXQoIG1hdGNoWyAyIF0gKTtcblx0XHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdFx0bWF0Y2ggPSByZXNwb25zZUhlYWRlcnNbIGtleS50b0xvd2VyQ2FzZSgpICsgXCIgXCIgXTtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0cmV0dXJuIG1hdGNoID09IG51bGwgPyBudWxsIDogbWF0Y2guam9pbiggXCIsIFwiICk7XG5cdFx0XHRcdH0sXG5cblx0XHRcdFx0Ly8gUmF3IHN0cmluZ1xuXHRcdFx0XHRnZXRBbGxSZXNwb25zZUhlYWRlcnM6IGZ1bmN0aW9uKCkge1xuXHRcdFx0XHRcdHJldHVybiBjb21wbGV0ZWQgPyByZXNwb25zZUhlYWRlcnNTdHJpbmcgOiBudWxsO1xuXHRcdFx0XHR9LFxuXG5cdFx0XHRcdC8vIENhY2hlcyB0aGUgaGVhZGVyXG5cdFx0XHRcdHNldFJlcXVlc3RIZWFkZXI6IGZ1bmN0aW9uKCBuYW1lLCB2YWx1ZSApIHtcblx0XHRcdFx0XHRpZiAoIGNvbXBsZXRlZCA9PSBudWxsICkge1xuXHRcdFx0XHRcdFx0bmFtZSA9IHJlcXVlc3RIZWFkZXJzTmFtZXNbIG5hbWUudG9Mb3dlckNhc2UoKSBdID1cblx0XHRcdFx0XHRcdFx0cmVxdWVzdEhlYWRlcnNOYW1lc1sgbmFtZS50b0xvd2VyQ2FzZSgpIF0gfHwgbmFtZTtcblx0XHRcdFx0XHRcdHJlcXVlc3RIZWFkZXJzWyBuYW1lIF0gPSB2YWx1ZTtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0cmV0dXJuIHRoaXM7XG5cdFx0XHRcdH0sXG5cblx0XHRcdFx0Ly8gT3ZlcnJpZGVzIHJlc3BvbnNlIGNvbnRlbnQtdHlwZSBoZWFkZXJcblx0XHRcdFx0b3ZlcnJpZGVNaW1lVHlwZTogZnVuY3Rpb24oIHR5cGUgKSB7XG5cdFx0XHRcdFx0aWYgKCBjb21wbGV0ZWQgPT0gbnVsbCApIHtcblx0XHRcdFx0XHRcdHMubWltZVR5cGUgPSB0eXBlO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0XHRyZXR1cm4gdGhpcztcblx0XHRcdFx0fSxcblxuXHRcdFx0XHQvLyBTdGF0dXMtZGVwZW5kZW50IGNhbGxiYWNrc1xuXHRcdFx0XHRzdGF0dXNDb2RlOiBmdW5jdGlvbiggbWFwICkge1xuXHRcdFx0XHRcdHZhciBjb2RlO1xuXHRcdFx0XHRcdGlmICggbWFwICkge1xuXHRcdFx0XHRcdFx0aWYgKCBjb21wbGV0ZWQgKSB7XG5cblx0XHRcdFx0XHRcdFx0Ly8gRXhlY3V0ZSB0aGUgYXBwcm9wcmlhdGUgY2FsbGJhY2tzXG5cdFx0XHRcdFx0XHRcdGpxWEhSLmFsd2F5cyggbWFwWyBqcVhIUi5zdGF0dXMgXSApO1xuXHRcdFx0XHRcdFx0fSBlbHNlIHtcblxuXHRcdFx0XHRcdFx0XHQvLyBMYXp5LWFkZCB0aGUgbmV3IGNhbGxiYWNrcyBpbiBhIHdheSB0aGF0IHByZXNlcnZlcyBvbGQgb25lc1xuXHRcdFx0XHRcdFx0XHRmb3IgKCBjb2RlIGluIG1hcCApIHtcblx0XHRcdFx0XHRcdFx0XHRzdGF0dXNDb2RlWyBjb2RlIF0gPSBbIHN0YXR1c0NvZGVbIGNvZGUgXSwgbWFwWyBjb2RlIF0gXTtcblx0XHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdH1cblx0XHRcdFx0XHRyZXR1cm4gdGhpcztcblx0XHRcdFx0fSxcblxuXHRcdFx0XHQvLyBDYW5jZWwgdGhlIHJlcXVlc3Rcblx0XHRcdFx0YWJvcnQ6IGZ1bmN0aW9uKCBzdGF0dXNUZXh0ICkge1xuXHRcdFx0XHRcdHZhciBmaW5hbFRleHQgPSBzdGF0dXNUZXh0IHx8IHN0ckFib3J0O1xuXHRcdFx0XHRcdGlmICggdHJhbnNwb3J0ICkge1xuXHRcdFx0XHRcdFx0dHJhbnNwb3J0LmFib3J0KCBmaW5hbFRleHQgKTtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0ZG9uZSggMCwgZmluYWxUZXh0ICk7XG5cdFx0XHRcdFx0cmV0dXJuIHRoaXM7XG5cdFx0XHRcdH1cblx0XHRcdH07XG5cblx0XHQvLyBBdHRhY2ggZGVmZXJyZWRzXG5cdFx0ZGVmZXJyZWQucHJvbWlzZSgganFYSFIgKTtcblxuXHRcdC8vIEFkZCBwcm90b2NvbCBpZiBub3QgcHJvdmlkZWQgKHByZWZpbHRlcnMgbWlnaHQgZXhwZWN0IGl0KVxuXHRcdC8vIEhhbmRsZSBmYWxzeSB1cmwgaW4gdGhlIHNldHRpbmdzIG9iamVjdCAoIzEwMDkzOiBjb25zaXN0ZW5jeSB3aXRoIG9sZCBzaWduYXR1cmUpXG5cdFx0Ly8gV2UgYWxzbyB1c2UgdGhlIHVybCBwYXJhbWV0ZXIgaWYgYXZhaWxhYmxlXG5cdFx0cy51cmwgPSAoICggdXJsIHx8IHMudXJsIHx8IGxvY2F0aW9uLmhyZWYgKSArIFwiXCIgKVxuXHRcdFx0LnJlcGxhY2UoIHJwcm90b2NvbCwgbG9jYXRpb24ucHJvdG9jb2wgKyBcIi8vXCIgKTtcblxuXHRcdC8vIEFsaWFzIG1ldGhvZCBvcHRpb24gdG8gdHlwZSBhcyBwZXIgdGlja2V0ICMxMjAwNFxuXHRcdHMudHlwZSA9IG9wdGlvbnMubWV0aG9kIHx8IG9wdGlvbnMudHlwZSB8fCBzLm1ldGhvZCB8fCBzLnR5cGU7XG5cblx0XHQvLyBFeHRyYWN0IGRhdGFUeXBlcyBsaXN0XG5cdFx0cy5kYXRhVHlwZXMgPSAoIHMuZGF0YVR5cGUgfHwgXCIqXCIgKS50b0xvd2VyQ2FzZSgpLm1hdGNoKCBybm90aHRtbHdoaXRlICkgfHwgWyBcIlwiIF07XG5cblx0XHQvLyBBIGNyb3NzLWRvbWFpbiByZXF1ZXN0IGlzIGluIG9yZGVyIHdoZW4gdGhlIG9yaWdpbiBkb2Vzbid0IG1hdGNoIHRoZSBjdXJyZW50IG9yaWdpbi5cblx0XHRpZiAoIHMuY3Jvc3NEb21haW4gPT0gbnVsbCApIHtcblx0XHRcdHVybEFuY2hvciA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoIFwiYVwiICk7XG5cblx0XHRcdC8vIFN1cHBvcnQ6IElFIDw9OCAtIDExLCBFZGdlIDEyIC0gMTVcblx0XHRcdC8vIElFIHRocm93cyBleGNlcHRpb24gb24gYWNjZXNzaW5nIHRoZSBocmVmIHByb3BlcnR5IGlmIHVybCBpcyBtYWxmb3JtZWQsXG5cdFx0XHQvLyBlLmcuIGh0dHA6Ly9leGFtcGxlLmNvbTo4MHgvXG5cdFx0XHR0cnkge1xuXHRcdFx0XHR1cmxBbmNob3IuaHJlZiA9IHMudXJsO1xuXG5cdFx0XHRcdC8vIFN1cHBvcnQ6IElFIDw9OCAtIDExIG9ubHlcblx0XHRcdFx0Ly8gQW5jaG9yJ3MgaG9zdCBwcm9wZXJ0eSBpc24ndCBjb3JyZWN0bHkgc2V0IHdoZW4gcy51cmwgaXMgcmVsYXRpdmVcblx0XHRcdFx0dXJsQW5jaG9yLmhyZWYgPSB1cmxBbmNob3IuaHJlZjtcblx0XHRcdFx0cy5jcm9zc0RvbWFpbiA9IG9yaWdpbkFuY2hvci5wcm90b2NvbCArIFwiLy9cIiArIG9yaWdpbkFuY2hvci5ob3N0ICE9PVxuXHRcdFx0XHRcdHVybEFuY2hvci5wcm90b2NvbCArIFwiLy9cIiArIHVybEFuY2hvci5ob3N0O1xuXHRcdFx0fSBjYXRjaCAoIGUgKSB7XG5cblx0XHRcdFx0Ly8gSWYgdGhlcmUgaXMgYW4gZXJyb3IgcGFyc2luZyB0aGUgVVJMLCBhc3N1bWUgaXQgaXMgY3Jvc3NEb21haW4sXG5cdFx0XHRcdC8vIGl0IGNhbiBiZSByZWplY3RlZCBieSB0aGUgdHJhbnNwb3J0IGlmIGl0IGlzIGludmFsaWRcblx0XHRcdFx0cy5jcm9zc0RvbWFpbiA9IHRydWU7XG5cdFx0XHR9XG5cdFx0fVxuXG5cdFx0Ly8gQ29udmVydCBkYXRhIGlmIG5vdCBhbHJlYWR5IGEgc3RyaW5nXG5cdFx0aWYgKCBzLmRhdGEgJiYgcy5wcm9jZXNzRGF0YSAmJiB0eXBlb2Ygcy5kYXRhICE9PSBcInN0cmluZ1wiICkge1xuXHRcdFx0cy5kYXRhID0galF1ZXJ5LnBhcmFtKCBzLmRhdGEsIHMudHJhZGl0aW9uYWwgKTtcblx0XHR9XG5cblx0XHQvLyBBcHBseSBwcmVmaWx0ZXJzXG5cdFx0aW5zcGVjdFByZWZpbHRlcnNPclRyYW5zcG9ydHMoIHByZWZpbHRlcnMsIHMsIG9wdGlvbnMsIGpxWEhSICk7XG5cblx0XHQvLyBJZiByZXF1ZXN0IHdhcyBhYm9ydGVkIGluc2lkZSBhIHByZWZpbHRlciwgc3RvcCB0aGVyZVxuXHRcdGlmICggY29tcGxldGVkICkge1xuXHRcdFx0cmV0dXJuIGpxWEhSO1xuXHRcdH1cblxuXHRcdC8vIFdlIGNhbiBmaXJlIGdsb2JhbCBldmVudHMgYXMgb2Ygbm93IGlmIGFza2VkIHRvXG5cdFx0Ly8gRG9uJ3QgZmlyZSBldmVudHMgaWYgalF1ZXJ5LmV2ZW50IGlzIHVuZGVmaW5lZCBpbiBhbiBBTUQtdXNhZ2Ugc2NlbmFyaW8gKCMxNTExOClcblx0XHRmaXJlR2xvYmFscyA9IGpRdWVyeS5ldmVudCAmJiBzLmdsb2JhbDtcblxuXHRcdC8vIFdhdGNoIGZvciBhIG5ldyBzZXQgb2YgcmVxdWVzdHNcblx0XHRpZiAoIGZpcmVHbG9iYWxzICYmIGpRdWVyeS5hY3RpdmUrKyA9PT0gMCApIHtcblx0XHRcdGpRdWVyeS5ldmVudC50cmlnZ2VyKCBcImFqYXhTdGFydFwiICk7XG5cdFx0fVxuXG5cdFx0Ly8gVXBwZXJjYXNlIHRoZSB0eXBlXG5cdFx0cy50eXBlID0gcy50eXBlLnRvVXBwZXJDYXNlKCk7XG5cblx0XHQvLyBEZXRlcm1pbmUgaWYgcmVxdWVzdCBoYXMgY29udGVudFxuXHRcdHMuaGFzQ29udGVudCA9ICFybm9Db250ZW50LnRlc3QoIHMudHlwZSApO1xuXG5cdFx0Ly8gU2F2ZSB0aGUgVVJMIGluIGNhc2Ugd2UncmUgdG95aW5nIHdpdGggdGhlIElmLU1vZGlmaWVkLVNpbmNlXG5cdFx0Ly8gYW5kL29yIElmLU5vbmUtTWF0Y2ggaGVhZGVyIGxhdGVyIG9uXG5cdFx0Ly8gUmVtb3ZlIGhhc2ggdG8gc2ltcGxpZnkgdXJsIG1hbmlwdWxhdGlvblxuXHRcdGNhY2hlVVJMID0gcy51cmwucmVwbGFjZSggcmhhc2gsIFwiXCIgKTtcblxuXHRcdC8vIE1vcmUgb3B0aW9ucyBoYW5kbGluZyBmb3IgcmVxdWVzdHMgd2l0aCBubyBjb250ZW50XG5cdFx0aWYgKCAhcy5oYXNDb250ZW50ICkge1xuXG5cdFx0XHQvLyBSZW1lbWJlciB0aGUgaGFzaCBzbyB3ZSBjYW4gcHV0IGl0IGJhY2tcblx0XHRcdHVuY2FjaGVkID0gcy51cmwuc2xpY2UoIGNhY2hlVVJMLmxlbmd0aCApO1xuXG5cdFx0XHQvLyBJZiBkYXRhIGlzIGF2YWlsYWJsZSBhbmQgc2hvdWxkIGJlIHByb2Nlc3NlZCwgYXBwZW5kIGRhdGEgdG8gdXJsXG5cdFx0XHRpZiAoIHMuZGF0YSAmJiAoIHMucHJvY2Vzc0RhdGEgfHwgdHlwZW9mIHMuZGF0YSA9PT0gXCJzdHJpbmdcIiApICkge1xuXHRcdFx0XHRjYWNoZVVSTCArPSAoIHJxdWVyeS50ZXN0KCBjYWNoZVVSTCApID8gXCImXCIgOiBcIj9cIiApICsgcy5kYXRhO1xuXG5cdFx0XHRcdC8vICM5NjgyOiByZW1vdmUgZGF0YSBzbyB0aGF0IGl0J3Mgbm90IHVzZWQgaW4gYW4gZXZlbnR1YWwgcmV0cnlcblx0XHRcdFx0ZGVsZXRlIHMuZGF0YTtcblx0XHRcdH1cblxuXHRcdFx0Ly8gQWRkIG9yIHVwZGF0ZSBhbnRpLWNhY2hlIHBhcmFtIGlmIG5lZWRlZFxuXHRcdFx0aWYgKCBzLmNhY2hlID09PSBmYWxzZSApIHtcblx0XHRcdFx0Y2FjaGVVUkwgPSBjYWNoZVVSTC5yZXBsYWNlKCByYW50aUNhY2hlLCBcIiQxXCIgKTtcblx0XHRcdFx0dW5jYWNoZWQgPSAoIHJxdWVyeS50ZXN0KCBjYWNoZVVSTCApID8gXCImXCIgOiBcIj9cIiApICsgXCJfPVwiICsgKCBub25jZS5ndWlkKysgKSArXG5cdFx0XHRcdFx0dW5jYWNoZWQ7XG5cdFx0XHR9XG5cblx0XHRcdC8vIFB1dCBoYXNoIGFuZCBhbnRpLWNhY2hlIG9uIHRoZSBVUkwgdGhhdCB3aWxsIGJlIHJlcXVlc3RlZCAoZ2gtMTczMilcblx0XHRcdHMudXJsID0gY2FjaGVVUkwgKyB1bmNhY2hlZDtcblxuXHRcdC8vIENoYW5nZSAnJTIwJyB0byAnKycgaWYgdGhpcyBpcyBlbmNvZGVkIGZvcm0gYm9keSBjb250ZW50IChnaC0yNjU4KVxuXHRcdH0gZWxzZSBpZiAoIHMuZGF0YSAmJiBzLnByb2Nlc3NEYXRhICYmXG5cdFx0XHQoIHMuY29udGVudFR5cGUgfHwgXCJcIiApLmluZGV4T2YoIFwiYXBwbGljYXRpb24veC13d3ctZm9ybS11cmxlbmNvZGVkXCIgKSA9PT0gMCApIHtcblx0XHRcdHMuZGF0YSA9IHMuZGF0YS5yZXBsYWNlKCByMjAsIFwiK1wiICk7XG5cdFx0fVxuXG5cdFx0Ly8gU2V0IHRoZSBJZi1Nb2RpZmllZC1TaW5jZSBhbmQvb3IgSWYtTm9uZS1NYXRjaCBoZWFkZXIsIGlmIGluIGlmTW9kaWZpZWQgbW9kZS5cblx0XHRpZiAoIHMuaWZNb2RpZmllZCApIHtcblx0XHRcdGlmICggalF1ZXJ5Lmxhc3RNb2RpZmllZFsgY2FjaGVVUkwgXSApIHtcblx0XHRcdFx0anFYSFIuc2V0UmVxdWVzdEhlYWRlciggXCJJZi1Nb2RpZmllZC1TaW5jZVwiLCBqUXVlcnkubGFzdE1vZGlmaWVkWyBjYWNoZVVSTCBdICk7XG5cdFx0XHR9XG5cdFx0XHRpZiAoIGpRdWVyeS5ldGFnWyBjYWNoZVVSTCBdICkge1xuXHRcdFx0XHRqcVhIUi5zZXRSZXF1ZXN0SGVhZGVyKCBcIklmLU5vbmUtTWF0Y2hcIiwgalF1ZXJ5LmV0YWdbIGNhY2hlVVJMIF0gKTtcblx0XHRcdH1cblx0XHR9XG5cblx0XHQvLyBTZXQgdGhlIGNvcnJlY3QgaGVhZGVyLCBpZiBkYXRhIGlzIGJlaW5nIHNlbnRcblx0XHRpZiAoIHMuZGF0YSAmJiBzLmhhc0NvbnRlbnQgJiYgcy5jb250ZW50VHlwZSAhPT0gZmFsc2UgfHwgb3B0aW9ucy5jb250ZW50VHlwZSApIHtcblx0XHRcdGpxWEhSLnNldFJlcXVlc3RIZWFkZXIoIFwiQ29udGVudC1UeXBlXCIsIHMuY29udGVudFR5cGUgKTtcblx0XHR9XG5cblx0XHQvLyBTZXQgdGhlIEFjY2VwdHMgaGVhZGVyIGZvciB0aGUgc2VydmVyLCBkZXBlbmRpbmcgb24gdGhlIGRhdGFUeXBlXG5cdFx0anFYSFIuc2V0UmVxdWVzdEhlYWRlcihcblx0XHRcdFwiQWNjZXB0XCIsXG5cdFx0XHRzLmRhdGFUeXBlc1sgMCBdICYmIHMuYWNjZXB0c1sgcy5kYXRhVHlwZXNbIDAgXSBdID9cblx0XHRcdFx0cy5hY2NlcHRzWyBzLmRhdGFUeXBlc1sgMCBdIF0gK1xuXHRcdFx0XHRcdCggcy5kYXRhVHlwZXNbIDAgXSAhPT0gXCIqXCIgPyBcIiwgXCIgKyBhbGxUeXBlcyArIFwiOyBxPTAuMDFcIiA6IFwiXCIgKSA6XG5cdFx0XHRcdHMuYWNjZXB0c1sgXCIqXCIgXVxuXHRcdCk7XG5cblx0XHQvLyBDaGVjayBmb3IgaGVhZGVycyBvcHRpb25cblx0XHRmb3IgKCBpIGluIHMuaGVhZGVycyApIHtcblx0XHRcdGpxWEhSLnNldFJlcXVlc3RIZWFkZXIoIGksIHMuaGVhZGVyc1sgaSBdICk7XG5cdFx0fVxuXG5cdFx0Ly8gQWxsb3cgY3VzdG9tIGhlYWRlcnMvbWltZXR5cGVzIGFuZCBlYXJseSBhYm9ydFxuXHRcdGlmICggcy5iZWZvcmVTZW5kICYmXG5cdFx0XHQoIHMuYmVmb3JlU2VuZC5jYWxsKCBjYWxsYmFja0NvbnRleHQsIGpxWEhSLCBzICkgPT09IGZhbHNlIHx8IGNvbXBsZXRlZCApICkge1xuXG5cdFx0XHQvLyBBYm9ydCBpZiBub3QgZG9uZSBhbHJlYWR5IGFuZCByZXR1cm5cblx0XHRcdHJldHVybiBqcVhIUi5hYm9ydCgpO1xuXHRcdH1cblxuXHRcdC8vIEFib3J0aW5nIGlzIG5vIGxvbmdlciBhIGNhbmNlbGxhdGlvblxuXHRcdHN0ckFib3J0ID0gXCJhYm9ydFwiO1xuXG5cdFx0Ly8gSW5zdGFsbCBjYWxsYmFja3Mgb24gZGVmZXJyZWRzXG5cdFx0Y29tcGxldGVEZWZlcnJlZC5hZGQoIHMuY29tcGxldGUgKTtcblx0XHRqcVhIUi5kb25lKCBzLnN1Y2Nlc3MgKTtcblx0XHRqcVhIUi5mYWlsKCBzLmVycm9yICk7XG5cblx0XHQvLyBHZXQgdHJhbnNwb3J0XG5cdFx0dHJhbnNwb3J0ID0gaW5zcGVjdFByZWZpbHRlcnNPclRyYW5zcG9ydHMoIHRyYW5zcG9ydHMsIHMsIG9wdGlvbnMsIGpxWEhSICk7XG5cblx0XHQvLyBJZiBubyB0cmFuc3BvcnQsIHdlIGF1dG8tYWJvcnRcblx0XHRpZiAoICF0cmFuc3BvcnQgKSB7XG5cdFx0XHRkb25lKCAtMSwgXCJObyBUcmFuc3BvcnRcIiApO1xuXHRcdH0gZWxzZSB7XG5cdFx0XHRqcVhIUi5yZWFkeVN0YXRlID0gMTtcblxuXHRcdFx0Ly8gU2VuZCBnbG9iYWwgZXZlbnRcblx0XHRcdGlmICggZmlyZUdsb2JhbHMgKSB7XG5cdFx0XHRcdGdsb2JhbEV2ZW50Q29udGV4dC50cmlnZ2VyKCBcImFqYXhTZW5kXCIsIFsganFYSFIsIHMgXSApO1xuXHRcdFx0fVxuXG5cdFx0XHQvLyBJZiByZXF1ZXN0IHdhcyBhYm9ydGVkIGluc2lkZSBhamF4U2VuZCwgc3RvcCB0aGVyZVxuXHRcdFx0aWYgKCBjb21wbGV0ZWQgKSB7XG5cdFx0XHRcdHJldHVybiBqcVhIUjtcblx0XHRcdH1cblxuXHRcdFx0Ly8gVGltZW91dFxuXHRcdFx0aWYgKCBzLmFzeW5jICYmIHMudGltZW91dCA+IDAgKSB7XG5cdFx0XHRcdHRpbWVvdXRUaW1lciA9IHdpbmRvdy5zZXRUaW1lb3V0KCBmdW5jdGlvbigpIHtcblx0XHRcdFx0XHRqcVhIUi5hYm9ydCggXCJ0aW1lb3V0XCIgKTtcblx0XHRcdFx0fSwgcy50aW1lb3V0ICk7XG5cdFx0XHR9XG5cblx0XHRcdHRyeSB7XG5cdFx0XHRcdGNvbXBsZXRlZCA9IGZhbHNlO1xuXHRcdFx0XHR0cmFuc3BvcnQuc2VuZCggcmVxdWVzdEhlYWRlcnMsIGRvbmUgKTtcblx0XHRcdH0gY2F0Y2ggKCBlICkge1xuXG5cdFx0XHRcdC8vIFJldGhyb3cgcG9zdC1jb21wbGV0aW9uIGV4Y2VwdGlvbnNcblx0XHRcdFx0aWYgKCBjb21wbGV0ZWQgKSB7XG5cdFx0XHRcdFx0dGhyb3cgZTtcblx0XHRcdFx0fVxuXG5cdFx0XHRcdC8vIFByb3BhZ2F0ZSBvdGhlcnMgYXMgcmVzdWx0c1xuXHRcdFx0XHRkb25lKCAtMSwgZSApO1xuXHRcdFx0fVxuXHRcdH1cblxuXHRcdC8vIENhbGxiYWNrIGZvciB3aGVuIGV2ZXJ5dGhpbmcgaXMgZG9uZVxuXHRcdGZ1bmN0aW9uIGRvbmUoIHN0YXR1cywgbmF0aXZlU3RhdHVzVGV4dCwgcmVzcG9uc2VzLCBoZWFkZXJzICkge1xuXHRcdFx0dmFyIGlzU3VjY2Vzcywgc3VjY2VzcywgZXJyb3IsIHJlc3BvbnNlLCBtb2RpZmllZCxcblx0XHRcdFx0c3RhdHVzVGV4dCA9IG5hdGl2ZVN0YXR1c1RleHQ7XG5cblx0XHRcdC8vIElnbm9yZSByZXBlYXQgaW52b2NhdGlvbnNcblx0XHRcdGlmICggY29tcGxldGVkICkge1xuXHRcdFx0XHRyZXR1cm47XG5cdFx0XHR9XG5cblx0XHRcdGNvbXBsZXRlZCA9IHRydWU7XG5cblx0XHRcdC8vIENsZWFyIHRpbWVvdXQgaWYgaXQgZXhpc3RzXG5cdFx0XHRpZiAoIHRpbWVvdXRUaW1lciApIHtcblx0XHRcdFx0d2luZG93LmNsZWFyVGltZW91dCggdGltZW91dFRpbWVyICk7XG5cdFx0XHR9XG5cblx0XHRcdC8vIERlcmVmZXJlbmNlIHRyYW5zcG9ydCBmb3IgZWFybHkgZ2FyYmFnZSBjb2xsZWN0aW9uXG5cdFx0XHQvLyAobm8gbWF0dGVyIGhvdyBsb25nIHRoZSBqcVhIUiBvYmplY3Qgd2lsbCBiZSB1c2VkKVxuXHRcdFx0dHJhbnNwb3J0ID0gdW5kZWZpbmVkO1xuXG5cdFx0XHQvLyBDYWNoZSByZXNwb25zZSBoZWFkZXJzXG5cdFx0XHRyZXNwb25zZUhlYWRlcnNTdHJpbmcgPSBoZWFkZXJzIHx8IFwiXCI7XG5cblx0XHRcdC8vIFNldCByZWFkeVN0YXRlXG5cdFx0XHRqcVhIUi5yZWFkeVN0YXRlID0gc3RhdHVzID4gMCA/IDQgOiAwO1xuXG5cdFx0XHQvLyBEZXRlcm1pbmUgaWYgc3VjY2Vzc2Z1bFxuXHRcdFx0aXNTdWNjZXNzID0gc3RhdHVzID49IDIwMCAmJiBzdGF0dXMgPCAzMDAgfHwgc3RhdHVzID09PSAzMDQ7XG5cblx0XHRcdC8vIEdldCByZXNwb25zZSBkYXRhXG5cdFx0XHRpZiAoIHJlc3BvbnNlcyApIHtcblx0XHRcdFx0cmVzcG9uc2UgPSBhamF4SGFuZGxlUmVzcG9uc2VzKCBzLCBqcVhIUiwgcmVzcG9uc2VzICk7XG5cdFx0XHR9XG5cblx0XHRcdC8vIFVzZSBhIG5vb3AgY29udmVydGVyIGZvciBtaXNzaW5nIHNjcmlwdFxuXHRcdFx0aWYgKCAhaXNTdWNjZXNzICYmIGpRdWVyeS5pbkFycmF5KCBcInNjcmlwdFwiLCBzLmRhdGFUeXBlcyApID4gLTEgKSB7XG5cdFx0XHRcdHMuY29udmVydGVyc1sgXCJ0ZXh0IHNjcmlwdFwiIF0gPSBmdW5jdGlvbigpIHt9O1xuXHRcdFx0fVxuXG5cdFx0XHQvLyBDb252ZXJ0IG5vIG1hdHRlciB3aGF0ICh0aGF0IHdheSByZXNwb25zZVhYWCBmaWVsZHMgYXJlIGFsd2F5cyBzZXQpXG5cdFx0XHRyZXNwb25zZSA9IGFqYXhDb252ZXJ0KCBzLCByZXNwb25zZSwganFYSFIsIGlzU3VjY2VzcyApO1xuXG5cdFx0XHQvLyBJZiBzdWNjZXNzZnVsLCBoYW5kbGUgdHlwZSBjaGFpbmluZ1xuXHRcdFx0aWYgKCBpc1N1Y2Nlc3MgKSB7XG5cblx0XHRcdFx0Ly8gU2V0IHRoZSBJZi1Nb2RpZmllZC1TaW5jZSBhbmQvb3IgSWYtTm9uZS1NYXRjaCBoZWFkZXIsIGlmIGluIGlmTW9kaWZpZWQgbW9kZS5cblx0XHRcdFx0aWYgKCBzLmlmTW9kaWZpZWQgKSB7XG5cdFx0XHRcdFx0bW9kaWZpZWQgPSBqcVhIUi5nZXRSZXNwb25zZUhlYWRlciggXCJMYXN0LU1vZGlmaWVkXCIgKTtcblx0XHRcdFx0XHRpZiAoIG1vZGlmaWVkICkge1xuXHRcdFx0XHRcdFx0alF1ZXJ5Lmxhc3RNb2RpZmllZFsgY2FjaGVVUkwgXSA9IG1vZGlmaWVkO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0XHRtb2RpZmllZCA9IGpxWEhSLmdldFJlc3BvbnNlSGVhZGVyKCBcImV0YWdcIiApO1xuXHRcdFx0XHRcdGlmICggbW9kaWZpZWQgKSB7XG5cdFx0XHRcdFx0XHRqUXVlcnkuZXRhZ1sgY2FjaGVVUkwgXSA9IG1vZGlmaWVkO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0fVxuXG5cdFx0XHRcdC8vIGlmIG5vIGNvbnRlbnRcblx0XHRcdFx0aWYgKCBzdGF0dXMgPT09IDIwNCB8fCBzLnR5cGUgPT09IFwiSEVBRFwiICkge1xuXHRcdFx0XHRcdHN0YXR1c1RleHQgPSBcIm5vY29udGVudFwiO1xuXG5cdFx0XHRcdC8vIGlmIG5vdCBtb2RpZmllZFxuXHRcdFx0XHR9IGVsc2UgaWYgKCBzdGF0dXMgPT09IDMwNCApIHtcblx0XHRcdFx0XHRzdGF0dXNUZXh0ID0gXCJub3Rtb2RpZmllZFwiO1xuXG5cdFx0XHRcdC8vIElmIHdlIGhhdmUgZGF0YSwgbGV0J3MgY29udmVydCBpdFxuXHRcdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRcdHN0YXR1c1RleHQgPSByZXNwb25zZS5zdGF0ZTtcblx0XHRcdFx0XHRzdWNjZXNzID0gcmVzcG9uc2UuZGF0YTtcblx0XHRcdFx0XHRlcnJvciA9IHJlc3BvbnNlLmVycm9yO1xuXHRcdFx0XHRcdGlzU3VjY2VzcyA9ICFlcnJvcjtcblx0XHRcdFx0fVxuXHRcdFx0fSBlbHNlIHtcblxuXHRcdFx0XHQvLyBFeHRyYWN0IGVycm9yIGZyb20gc3RhdHVzVGV4dCBhbmQgbm9ybWFsaXplIGZvciBub24tYWJvcnRzXG5cdFx0XHRcdGVycm9yID0gc3RhdHVzVGV4dDtcblx0XHRcdFx0aWYgKCBzdGF0dXMgfHwgIXN0YXR1c1RleHQgKSB7XG5cdFx0XHRcdFx0c3RhdHVzVGV4dCA9IFwiZXJyb3JcIjtcblx0XHRcdFx0XHRpZiAoIHN0YXR1cyA8IDAgKSB7XG5cdFx0XHRcdFx0XHRzdGF0dXMgPSAwO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0fVxuXHRcdFx0fVxuXG5cdFx0XHQvLyBTZXQgZGF0YSBmb3IgdGhlIGZha2UgeGhyIG9iamVjdFxuXHRcdFx0anFYSFIuc3RhdHVzID0gc3RhdHVzO1xuXHRcdFx0anFYSFIuc3RhdHVzVGV4dCA9ICggbmF0aXZlU3RhdHVzVGV4dCB8fCBzdGF0dXNUZXh0ICkgKyBcIlwiO1xuXG5cdFx0XHQvLyBTdWNjZXNzL0Vycm9yXG5cdFx0XHRpZiAoIGlzU3VjY2VzcyApIHtcblx0XHRcdFx0ZGVmZXJyZWQucmVzb2x2ZVdpdGgoIGNhbGxiYWNrQ29udGV4dCwgWyBzdWNjZXNzLCBzdGF0dXNUZXh0LCBqcVhIUiBdICk7XG5cdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRkZWZlcnJlZC5yZWplY3RXaXRoKCBjYWxsYmFja0NvbnRleHQsIFsganFYSFIsIHN0YXR1c1RleHQsIGVycm9yIF0gKTtcblx0XHRcdH1cblxuXHRcdFx0Ly8gU3RhdHVzLWRlcGVuZGVudCBjYWxsYmFja3Ncblx0XHRcdGpxWEhSLnN0YXR1c0NvZGUoIHN0YXR1c0NvZGUgKTtcblx0XHRcdHN0YXR1c0NvZGUgPSB1bmRlZmluZWQ7XG5cblx0XHRcdGlmICggZmlyZUdsb2JhbHMgKSB7XG5cdFx0XHRcdGdsb2JhbEV2ZW50Q29udGV4dC50cmlnZ2VyKCBpc1N1Y2Nlc3MgPyBcImFqYXhTdWNjZXNzXCIgOiBcImFqYXhFcnJvclwiLFxuXHRcdFx0XHRcdFsganFYSFIsIHMsIGlzU3VjY2VzcyA/IHN1Y2Nlc3MgOiBlcnJvciBdICk7XG5cdFx0XHR9XG5cblx0XHRcdC8vIENvbXBsZXRlXG5cdFx0XHRjb21wbGV0ZURlZmVycmVkLmZpcmVXaXRoKCBjYWxsYmFja0NvbnRleHQsIFsganFYSFIsIHN0YXR1c1RleHQgXSApO1xuXG5cdFx0XHRpZiAoIGZpcmVHbG9iYWxzICkge1xuXHRcdFx0XHRnbG9iYWxFdmVudENvbnRleHQudHJpZ2dlciggXCJhamF4Q29tcGxldGVcIiwgWyBqcVhIUiwgcyBdICk7XG5cblx0XHRcdFx0Ly8gSGFuZGxlIHRoZSBnbG9iYWwgQUpBWCBjb3VudGVyXG5cdFx0XHRcdGlmICggISggLS1qUXVlcnkuYWN0aXZlICkgKSB7XG5cdFx0XHRcdFx0alF1ZXJ5LmV2ZW50LnRyaWdnZXIoIFwiYWpheFN0b3BcIiApO1xuXHRcdFx0XHR9XG5cdFx0XHR9XG5cdFx0fVxuXG5cdFx0cmV0dXJuIGpxWEhSO1xuXHR9LFxuXG5cdGdldEpTT046IGZ1bmN0aW9uKCB1cmwsIGRhdGEsIGNhbGxiYWNrICkge1xuXHRcdHJldHVybiBqUXVlcnkuZ2V0KCB1cmwsIGRhdGEsIGNhbGxiYWNrLCBcImpzb25cIiApO1xuXHR9LFxuXG5cdGdldFNjcmlwdDogZnVuY3Rpb24oIHVybCwgY2FsbGJhY2sgKSB7XG5cdFx0cmV0dXJuIGpRdWVyeS5nZXQoIHVybCwgdW5kZWZpbmVkLCBjYWxsYmFjaywgXCJzY3JpcHRcIiApO1xuXHR9XG59ICk7XG5cbmpRdWVyeS5lYWNoKCBbIFwiZ2V0XCIsIFwicG9zdFwiIF0sIGZ1bmN0aW9uKCBfaSwgbWV0aG9kICkge1xuXHRqUXVlcnlbIG1ldGhvZCBdID0gZnVuY3Rpb24oIHVybCwgZGF0YSwgY2FsbGJhY2ssIHR5cGUgKSB7XG5cblx0XHQvLyBTaGlmdCBhcmd1bWVudHMgaWYgZGF0YSBhcmd1bWVudCB3YXMgb21pdHRlZFxuXHRcdGlmICggaXNGdW5jdGlvbiggZGF0YSApICkge1xuXHRcdFx0dHlwZSA9IHR5cGUgfHwgY2FsbGJhY2s7XG5cdFx0XHRjYWxsYmFjayA9IGRhdGE7XG5cdFx0XHRkYXRhID0gdW5kZWZpbmVkO1xuXHRcdH1cblxuXHRcdC8vIFRoZSB1cmwgY2FuIGJlIGFuIG9wdGlvbnMgb2JqZWN0ICh3aGljaCB0aGVuIG11c3QgaGF2ZSAudXJsKVxuXHRcdHJldHVybiBqUXVlcnkuYWpheCggalF1ZXJ5LmV4dGVuZCgge1xuXHRcdFx0dXJsOiB1cmwsXG5cdFx0XHR0eXBlOiBtZXRob2QsXG5cdFx0XHRkYXRhVHlwZTogdHlwZSxcblx0XHRcdGRhdGE6IGRhdGEsXG5cdFx0XHRzdWNjZXNzOiBjYWxsYmFja1xuXHRcdH0sIGpRdWVyeS5pc1BsYWluT2JqZWN0KCB1cmwgKSAmJiB1cmwgKSApO1xuXHR9O1xufSApO1xuXG5qUXVlcnkuYWpheFByZWZpbHRlciggZnVuY3Rpb24oIHMgKSB7XG5cdHZhciBpO1xuXHRmb3IgKCBpIGluIHMuaGVhZGVycyApIHtcblx0XHRpZiAoIGkudG9Mb3dlckNhc2UoKSA9PT0gXCJjb250ZW50LXR5cGVcIiApIHtcblx0XHRcdHMuY29udGVudFR5cGUgPSBzLmhlYWRlcnNbIGkgXSB8fCBcIlwiO1xuXHRcdH1cblx0fVxufSApO1xuXG5cbmpRdWVyeS5fZXZhbFVybCA9IGZ1bmN0aW9uKCB1cmwsIG9wdGlvbnMsIGRvYyApIHtcblx0cmV0dXJuIGpRdWVyeS5hamF4KCB7XG5cdFx0dXJsOiB1cmwsXG5cblx0XHQvLyBNYWtlIHRoaXMgZXhwbGljaXQsIHNpbmNlIHVzZXIgY2FuIG92ZXJyaWRlIHRoaXMgdGhyb3VnaCBhamF4U2V0dXAgKCMxMTI2NClcblx0XHR0eXBlOiBcIkdFVFwiLFxuXHRcdGRhdGFUeXBlOiBcInNjcmlwdFwiLFxuXHRcdGNhY2hlOiB0cnVlLFxuXHRcdGFzeW5jOiBmYWxzZSxcblx0XHRnbG9iYWw6IGZhbHNlLFxuXG5cdFx0Ly8gT25seSBldmFsdWF0ZSB0aGUgcmVzcG9uc2UgaWYgaXQgaXMgc3VjY2Vzc2Z1bCAoZ2gtNDEyNilcblx0XHQvLyBkYXRhRmlsdGVyIGlzIG5vdCBpbnZva2VkIGZvciBmYWlsdXJlIHJlc3BvbnNlcywgc28gdXNpbmcgaXQgaW5zdGVhZFxuXHRcdC8vIG9mIHRoZSBkZWZhdWx0IGNvbnZlcnRlciBpcyBrbHVkZ3kgYnV0IGl0IHdvcmtzLlxuXHRcdGNvbnZlcnRlcnM6IHtcblx0XHRcdFwidGV4dCBzY3JpcHRcIjogZnVuY3Rpb24oKSB7fVxuXHRcdH0sXG5cdFx0ZGF0YUZpbHRlcjogZnVuY3Rpb24oIHJlc3BvbnNlICkge1xuXHRcdFx0alF1ZXJ5Lmdsb2JhbEV2YWwoIHJlc3BvbnNlLCBvcHRpb25zLCBkb2MgKTtcblx0XHR9XG5cdH0gKTtcbn07XG5cblxualF1ZXJ5LmZuLmV4dGVuZCgge1xuXHR3cmFwQWxsOiBmdW5jdGlvbiggaHRtbCApIHtcblx0XHR2YXIgd3JhcDtcblxuXHRcdGlmICggdGhpc1sgMCBdICkge1xuXHRcdFx0aWYgKCBpc0Z1bmN0aW9uKCBodG1sICkgKSB7XG5cdFx0XHRcdGh0bWwgPSBodG1sLmNhbGwoIHRoaXNbIDAgXSApO1xuXHRcdFx0fVxuXG5cdFx0XHQvLyBUaGUgZWxlbWVudHMgdG8gd3JhcCB0aGUgdGFyZ2V0IGFyb3VuZFxuXHRcdFx0d3JhcCA9IGpRdWVyeSggaHRtbCwgdGhpc1sgMCBdLm93bmVyRG9jdW1lbnQgKS5lcSggMCApLmNsb25lKCB0cnVlICk7XG5cblx0XHRcdGlmICggdGhpc1sgMCBdLnBhcmVudE5vZGUgKSB7XG5cdFx0XHRcdHdyYXAuaW5zZXJ0QmVmb3JlKCB0aGlzWyAwIF0gKTtcblx0XHRcdH1cblxuXHRcdFx0d3JhcC5tYXAoIGZ1bmN0aW9uKCkge1xuXHRcdFx0XHR2YXIgZWxlbSA9IHRoaXM7XG5cblx0XHRcdFx0d2hpbGUgKCBlbGVtLmZpcnN0RWxlbWVudENoaWxkICkge1xuXHRcdFx0XHRcdGVsZW0gPSBlbGVtLmZpcnN0RWxlbWVudENoaWxkO1xuXHRcdFx0XHR9XG5cblx0XHRcdFx0cmV0dXJuIGVsZW07XG5cdFx0XHR9ICkuYXBwZW5kKCB0aGlzICk7XG5cdFx0fVxuXG5cdFx0cmV0dXJuIHRoaXM7XG5cdH0sXG5cblx0d3JhcElubmVyOiBmdW5jdGlvbiggaHRtbCApIHtcblx0XHRpZiAoIGlzRnVuY3Rpb24oIGh0bWwgKSApIHtcblx0XHRcdHJldHVybiB0aGlzLmVhY2goIGZ1bmN0aW9uKCBpICkge1xuXHRcdFx0XHRqUXVlcnkoIHRoaXMgKS53cmFwSW5uZXIoIGh0bWwuY2FsbCggdGhpcywgaSApICk7XG5cdFx0XHR9ICk7XG5cdFx0fVxuXG5cdFx0cmV0dXJuIHRoaXMuZWFjaCggZnVuY3Rpb24oKSB7XG5cdFx0XHR2YXIgc2VsZiA9IGpRdWVyeSggdGhpcyApLFxuXHRcdFx0XHRjb250ZW50cyA9IHNlbGYuY29udGVudHMoKTtcblxuXHRcdFx0aWYgKCBjb250ZW50cy5sZW5ndGggKSB7XG5cdFx0XHRcdGNvbnRlbnRzLndyYXBBbGwoIGh0bWwgKTtcblxuXHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0c2VsZi5hcHBlbmQoIGh0bWwgKTtcblx0XHRcdH1cblx0XHR9ICk7XG5cdH0sXG5cblx0d3JhcDogZnVuY3Rpb24oIGh0bWwgKSB7XG5cdFx0dmFyIGh0bWxJc0Z1bmN0aW9uID0gaXNGdW5jdGlvbiggaHRtbCApO1xuXG5cdFx0cmV0dXJuIHRoaXMuZWFjaCggZnVuY3Rpb24oIGkgKSB7XG5cdFx0XHRqUXVlcnkoIHRoaXMgKS53cmFwQWxsKCBodG1sSXNGdW5jdGlvbiA/IGh0bWwuY2FsbCggdGhpcywgaSApIDogaHRtbCApO1xuXHRcdH0gKTtcblx0fSxcblxuXHR1bndyYXA6IGZ1bmN0aW9uKCBzZWxlY3RvciApIHtcblx0XHR0aGlzLnBhcmVudCggc2VsZWN0b3IgKS5ub3QoIFwiYm9keVwiICkuZWFjaCggZnVuY3Rpb24oKSB7XG5cdFx0XHRqUXVlcnkoIHRoaXMgKS5yZXBsYWNlV2l0aCggdGhpcy5jaGlsZE5vZGVzICk7XG5cdFx0fSApO1xuXHRcdHJldHVybiB0aGlzO1xuXHR9XG59ICk7XG5cblxualF1ZXJ5LmV4cHIucHNldWRvcy5oaWRkZW4gPSBmdW5jdGlvbiggZWxlbSApIHtcblx0cmV0dXJuICFqUXVlcnkuZXhwci5wc2V1ZG9zLnZpc2libGUoIGVsZW0gKTtcbn07XG5qUXVlcnkuZXhwci5wc2V1ZG9zLnZpc2libGUgPSBmdW5jdGlvbiggZWxlbSApIHtcblx0cmV0dXJuICEhKCBlbGVtLm9mZnNldFdpZHRoIHx8IGVsZW0ub2Zmc2V0SGVpZ2h0IHx8IGVsZW0uZ2V0Q2xpZW50UmVjdHMoKS5sZW5ndGggKTtcbn07XG5cblxuXG5cbmpRdWVyeS5hamF4U2V0dGluZ3MueGhyID0gZnVuY3Rpb24oKSB7XG5cdHRyeSB7XG5cdFx0cmV0dXJuIG5ldyB3aW5kb3cuWE1MSHR0cFJlcXVlc3QoKTtcblx0fSBjYXRjaCAoIGUgKSB7fVxufTtcblxudmFyIHhoclN1Y2Nlc3NTdGF0dXMgPSB7XG5cblx0XHQvLyBGaWxlIHByb3RvY29sIGFsd2F5cyB5aWVsZHMgc3RhdHVzIGNvZGUgMCwgYXNzdW1lIDIwMFxuXHRcdDA6IDIwMCxcblxuXHRcdC8vIFN1cHBvcnQ6IElFIDw9OSBvbmx5XG5cdFx0Ly8gIzE0NTA6IHNvbWV0aW1lcyBJRSByZXR1cm5zIDEyMjMgd2hlbiBpdCBzaG91bGQgYmUgMjA0XG5cdFx0MTIyMzogMjA0XG5cdH0sXG5cdHhoclN1cHBvcnRlZCA9IGpRdWVyeS5hamF4U2V0dGluZ3MueGhyKCk7XG5cbnN1cHBvcnQuY29ycyA9ICEheGhyU3VwcG9ydGVkICYmICggXCJ3aXRoQ3JlZGVudGlhbHNcIiBpbiB4aHJTdXBwb3J0ZWQgKTtcbnN1cHBvcnQuYWpheCA9IHhoclN1cHBvcnRlZCA9ICEheGhyU3VwcG9ydGVkO1xuXG5qUXVlcnkuYWpheFRyYW5zcG9ydCggZnVuY3Rpb24oIG9wdGlvbnMgKSB7XG5cdHZhciBjYWxsYmFjaywgZXJyb3JDYWxsYmFjaztcblxuXHQvLyBDcm9zcyBkb21haW4gb25seSBhbGxvd2VkIGlmIHN1cHBvcnRlZCB0aHJvdWdoIFhNTEh0dHBSZXF1ZXN0XG5cdGlmICggc3VwcG9ydC5jb3JzIHx8IHhoclN1cHBvcnRlZCAmJiAhb3B0aW9ucy5jcm9zc0RvbWFpbiApIHtcblx0XHRyZXR1cm4ge1xuXHRcdFx0c2VuZDogZnVuY3Rpb24oIGhlYWRlcnMsIGNvbXBsZXRlICkge1xuXHRcdFx0XHR2YXIgaSxcblx0XHRcdFx0XHR4aHIgPSBvcHRpb25zLnhocigpO1xuXG5cdFx0XHRcdHhoci5vcGVuKFxuXHRcdFx0XHRcdG9wdGlvbnMudHlwZSxcblx0XHRcdFx0XHRvcHRpb25zLnVybCxcblx0XHRcdFx0XHRvcHRpb25zLmFzeW5jLFxuXHRcdFx0XHRcdG9wdGlvbnMudXNlcm5hbWUsXG5cdFx0XHRcdFx0b3B0aW9ucy5wYXNzd29yZFxuXHRcdFx0XHQpO1xuXG5cdFx0XHRcdC8vIEFwcGx5IGN1c3RvbSBmaWVsZHMgaWYgcHJvdmlkZWRcblx0XHRcdFx0aWYgKCBvcHRpb25zLnhockZpZWxkcyApIHtcblx0XHRcdFx0XHRmb3IgKCBpIGluIG9wdGlvbnMueGhyRmllbGRzICkge1xuXHRcdFx0XHRcdFx0eGhyWyBpIF0gPSBvcHRpb25zLnhockZpZWxkc1sgaSBdO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0fVxuXG5cdFx0XHRcdC8vIE92ZXJyaWRlIG1pbWUgdHlwZSBpZiBuZWVkZWRcblx0XHRcdFx0aWYgKCBvcHRpb25zLm1pbWVUeXBlICYmIHhoci5vdmVycmlkZU1pbWVUeXBlICkge1xuXHRcdFx0XHRcdHhoci5vdmVycmlkZU1pbWVUeXBlKCBvcHRpb25zLm1pbWVUeXBlICk7XG5cdFx0XHRcdH1cblxuXHRcdFx0XHQvLyBYLVJlcXVlc3RlZC1XaXRoIGhlYWRlclxuXHRcdFx0XHQvLyBGb3IgY3Jvc3MtZG9tYWluIHJlcXVlc3RzLCBzZWVpbmcgYXMgY29uZGl0aW9ucyBmb3IgYSBwcmVmbGlnaHQgYXJlXG5cdFx0XHRcdC8vIGFraW4gdG8gYSBqaWdzYXcgcHV6emxlLCB3ZSBzaW1wbHkgbmV2ZXIgc2V0IGl0IHRvIGJlIHN1cmUuXG5cdFx0XHRcdC8vIChpdCBjYW4gYWx3YXlzIGJlIHNldCBvbiBhIHBlci1yZXF1ZXN0IGJhc2lzIG9yIGV2ZW4gdXNpbmcgYWpheFNldHVwKVxuXHRcdFx0XHQvLyBGb3Igc2FtZS1kb21haW4gcmVxdWVzdHMsIHdvbid0IGNoYW5nZSBoZWFkZXIgaWYgYWxyZWFkeSBwcm92aWRlZC5cblx0XHRcdFx0aWYgKCAhb3B0aW9ucy5jcm9zc0RvbWFpbiAmJiAhaGVhZGVyc1sgXCJYLVJlcXVlc3RlZC1XaXRoXCIgXSApIHtcblx0XHRcdFx0XHRoZWFkZXJzWyBcIlgtUmVxdWVzdGVkLVdpdGhcIiBdID0gXCJYTUxIdHRwUmVxdWVzdFwiO1xuXHRcdFx0XHR9XG5cblx0XHRcdFx0Ly8gU2V0IGhlYWRlcnNcblx0XHRcdFx0Zm9yICggaSBpbiBoZWFkZXJzICkge1xuXHRcdFx0XHRcdHhoci5zZXRSZXF1ZXN0SGVhZGVyKCBpLCBoZWFkZXJzWyBpIF0gKTtcblx0XHRcdFx0fVxuXG5cdFx0XHRcdC8vIENhbGxiYWNrXG5cdFx0XHRcdGNhbGxiYWNrID0gZnVuY3Rpb24oIHR5cGUgKSB7XG5cdFx0XHRcdFx0cmV0dXJuIGZ1bmN0aW9uKCkge1xuXHRcdFx0XHRcdFx0aWYgKCBjYWxsYmFjayApIHtcblx0XHRcdFx0XHRcdFx0Y2FsbGJhY2sgPSBlcnJvckNhbGxiYWNrID0geGhyLm9ubG9hZCA9XG5cdFx0XHRcdFx0XHRcdFx0eGhyLm9uZXJyb3IgPSB4aHIub25hYm9ydCA9IHhoci5vbnRpbWVvdXQgPVxuXHRcdFx0XHRcdFx0XHRcdFx0eGhyLm9ucmVhZHlzdGF0ZWNoYW5nZSA9IG51bGw7XG5cblx0XHRcdFx0XHRcdFx0aWYgKCB0eXBlID09PSBcImFib3J0XCIgKSB7XG5cdFx0XHRcdFx0XHRcdFx0eGhyLmFib3J0KCk7XG5cdFx0XHRcdFx0XHRcdH0gZWxzZSBpZiAoIHR5cGUgPT09IFwiZXJyb3JcIiApIHtcblxuXHRcdFx0XHRcdFx0XHRcdC8vIFN1cHBvcnQ6IElFIDw9OSBvbmx5XG5cdFx0XHRcdFx0XHRcdFx0Ly8gT24gYSBtYW51YWwgbmF0aXZlIGFib3J0LCBJRTkgdGhyb3dzXG5cdFx0XHRcdFx0XHRcdFx0Ly8gZXJyb3JzIG9uIGFueSBwcm9wZXJ0eSBhY2Nlc3MgdGhhdCBpcyBub3QgcmVhZHlTdGF0ZVxuXHRcdFx0XHRcdFx0XHRcdGlmICggdHlwZW9mIHhoci5zdGF0dXMgIT09IFwibnVtYmVyXCIgKSB7XG5cdFx0XHRcdFx0XHRcdFx0XHRjb21wbGV0ZSggMCwgXCJlcnJvclwiICk7XG5cdFx0XHRcdFx0XHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0XHRcdFx0XHRcdGNvbXBsZXRlKFxuXG5cdFx0XHRcdFx0XHRcdFx0XHRcdC8vIEZpbGU6IHByb3RvY29sIGFsd2F5cyB5aWVsZHMgc3RhdHVzIDA7IHNlZSAjODYwNSwgIzE0MjA3XG5cdFx0XHRcdFx0XHRcdFx0XHRcdHhoci5zdGF0dXMsXG5cdFx0XHRcdFx0XHRcdFx0XHRcdHhoci5zdGF0dXNUZXh0XG5cdFx0XHRcdFx0XHRcdFx0XHQpO1xuXHRcdFx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0XHRcdFx0XHRjb21wbGV0ZShcblx0XHRcdFx0XHRcdFx0XHRcdHhoclN1Y2Nlc3NTdGF0dXNbIHhoci5zdGF0dXMgXSB8fCB4aHIuc3RhdHVzLFxuXHRcdFx0XHRcdFx0XHRcdFx0eGhyLnN0YXR1c1RleHQsXG5cblx0XHRcdFx0XHRcdFx0XHRcdC8vIFN1cHBvcnQ6IElFIDw9OSBvbmx5XG5cdFx0XHRcdFx0XHRcdFx0XHQvLyBJRTkgaGFzIG5vIFhIUjIgYnV0IHRocm93cyBvbiBiaW5hcnkgKHRyYWMtMTE0MjYpXG5cdFx0XHRcdFx0XHRcdFx0XHQvLyBGb3IgWEhSMiBub24tdGV4dCwgbGV0IHRoZSBjYWxsZXIgaGFuZGxlIGl0IChnaC0yNDk4KVxuXHRcdFx0XHRcdFx0XHRcdFx0KCB4aHIucmVzcG9uc2VUeXBlIHx8IFwidGV4dFwiICkgIT09IFwidGV4dFwiICB8fFxuXHRcdFx0XHRcdFx0XHRcdFx0dHlwZW9mIHhoci5yZXNwb25zZVRleHQgIT09IFwic3RyaW5nXCIgP1xuXHRcdFx0XHRcdFx0XHRcdFx0XHR7IGJpbmFyeTogeGhyLnJlc3BvbnNlIH0gOlxuXHRcdFx0XHRcdFx0XHRcdFx0XHR7IHRleHQ6IHhoci5yZXNwb25zZVRleHQgfSxcblx0XHRcdFx0XHRcdFx0XHRcdHhoci5nZXRBbGxSZXNwb25zZUhlYWRlcnMoKVxuXHRcdFx0XHRcdFx0XHRcdCk7XG5cdFx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHR9O1xuXHRcdFx0XHR9O1xuXG5cdFx0XHRcdC8vIExpc3RlbiB0byBldmVudHNcblx0XHRcdFx0eGhyLm9ubG9hZCA9IGNhbGxiYWNrKCk7XG5cdFx0XHRcdGVycm9yQ2FsbGJhY2sgPSB4aHIub25lcnJvciA9IHhoci5vbnRpbWVvdXQgPSBjYWxsYmFjayggXCJlcnJvclwiICk7XG5cblx0XHRcdFx0Ly8gU3VwcG9ydDogSUUgOSBvbmx5XG5cdFx0XHRcdC8vIFVzZSBvbnJlYWR5c3RhdGVjaGFuZ2UgdG8gcmVwbGFjZSBvbmFib3J0XG5cdFx0XHRcdC8vIHRvIGhhbmRsZSB1bmNhdWdodCBhYm9ydHNcblx0XHRcdFx0aWYgKCB4aHIub25hYm9ydCAhPT0gdW5kZWZpbmVkICkge1xuXHRcdFx0XHRcdHhoci5vbmFib3J0ID0gZXJyb3JDYWxsYmFjaztcblx0XHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0XHR4aHIub25yZWFkeXN0YXRlY2hhbmdlID0gZnVuY3Rpb24oKSB7XG5cblx0XHRcdFx0XHRcdC8vIENoZWNrIHJlYWR5U3RhdGUgYmVmb3JlIHRpbWVvdXQgYXMgaXQgY2hhbmdlc1xuXHRcdFx0XHRcdFx0aWYgKCB4aHIucmVhZHlTdGF0ZSA9PT0gNCApIHtcblxuXHRcdFx0XHRcdFx0XHQvLyBBbGxvdyBvbmVycm9yIHRvIGJlIGNhbGxlZCBmaXJzdCxcblx0XHRcdFx0XHRcdFx0Ly8gYnV0IHRoYXQgd2lsbCBub3QgaGFuZGxlIGEgbmF0aXZlIGFib3J0XG5cdFx0XHRcdFx0XHRcdC8vIEFsc28sIHNhdmUgZXJyb3JDYWxsYmFjayB0byBhIHZhcmlhYmxlXG5cdFx0XHRcdFx0XHRcdC8vIGFzIHhoci5vbmVycm9yIGNhbm5vdCBiZSBhY2Nlc3NlZFxuXHRcdFx0XHRcdFx0XHR3aW5kb3cuc2V0VGltZW91dCggZnVuY3Rpb24oKSB7XG5cdFx0XHRcdFx0XHRcdFx0aWYgKCBjYWxsYmFjayApIHtcblx0XHRcdFx0XHRcdFx0XHRcdGVycm9yQ2FsbGJhY2soKTtcblx0XHRcdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0XHRcdH0gKTtcblx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHR9O1xuXHRcdFx0XHR9XG5cblx0XHRcdFx0Ly8gQ3JlYXRlIHRoZSBhYm9ydCBjYWxsYmFja1xuXHRcdFx0XHRjYWxsYmFjayA9IGNhbGxiYWNrKCBcImFib3J0XCIgKTtcblxuXHRcdFx0XHR0cnkge1xuXG5cdFx0XHRcdFx0Ly8gRG8gc2VuZCB0aGUgcmVxdWVzdCAodGhpcyBtYXkgcmFpc2UgYW4gZXhjZXB0aW9uKVxuXHRcdFx0XHRcdHhoci5zZW5kKCBvcHRpb25zLmhhc0NvbnRlbnQgJiYgb3B0aW9ucy5kYXRhIHx8IG51bGwgKTtcblx0XHRcdFx0fSBjYXRjaCAoIGUgKSB7XG5cblx0XHRcdFx0XHQvLyAjMTQ2ODM6IE9ubHkgcmV0aHJvdyBpZiB0aGlzIGhhc24ndCBiZWVuIG5vdGlmaWVkIGFzIGFuIGVycm9yIHlldFxuXHRcdFx0XHRcdGlmICggY2FsbGJhY2sgKSB7XG5cdFx0XHRcdFx0XHR0aHJvdyBlO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0fVxuXHRcdFx0fSxcblxuXHRcdFx0YWJvcnQ6IGZ1bmN0aW9uKCkge1xuXHRcdFx0XHRpZiAoIGNhbGxiYWNrICkge1xuXHRcdFx0XHRcdGNhbGxiYWNrKCk7XG5cdFx0XHRcdH1cblx0XHRcdH1cblx0XHR9O1xuXHR9XG59ICk7XG5cblxuXG5cbi8vIFByZXZlbnQgYXV0by1leGVjdXRpb24gb2Ygc2NyaXB0cyB3aGVuIG5vIGV4cGxpY2l0IGRhdGFUeXBlIHdhcyBwcm92aWRlZCAoU2VlIGdoLTI0MzIpXG5qUXVlcnkuYWpheFByZWZpbHRlciggZnVuY3Rpb24oIHMgKSB7XG5cdGlmICggcy5jcm9zc0RvbWFpbiApIHtcblx0XHRzLmNvbnRlbnRzLnNjcmlwdCA9IGZhbHNlO1xuXHR9XG59ICk7XG5cbi8vIEluc3RhbGwgc2NyaXB0IGRhdGFUeXBlXG5qUXVlcnkuYWpheFNldHVwKCB7XG5cdGFjY2VwdHM6IHtcblx0XHRzY3JpcHQ6IFwidGV4dC9qYXZhc2NyaXB0LCBhcHBsaWNhdGlvbi9qYXZhc2NyaXB0LCBcIiArXG5cdFx0XHRcImFwcGxpY2F0aW9uL2VjbWFzY3JpcHQsIGFwcGxpY2F0aW9uL3gtZWNtYXNjcmlwdFwiXG5cdH0sXG5cdGNvbnRlbnRzOiB7XG5cdFx0c2NyaXB0OiAvXFxiKD86amF2YXxlY21hKXNjcmlwdFxcYi9cblx0fSxcblx0Y29udmVydGVyczoge1xuXHRcdFwidGV4dCBzY3JpcHRcIjogZnVuY3Rpb24oIHRleHQgKSB7XG5cdFx0XHRqUXVlcnkuZ2xvYmFsRXZhbCggdGV4dCApO1xuXHRcdFx0cmV0dXJuIHRleHQ7XG5cdFx0fVxuXHR9XG59ICk7XG5cbi8vIEhhbmRsZSBjYWNoZSdzIHNwZWNpYWwgY2FzZSBhbmQgY3Jvc3NEb21haW5cbmpRdWVyeS5hamF4UHJlZmlsdGVyKCBcInNjcmlwdFwiLCBmdW5jdGlvbiggcyApIHtcblx0aWYgKCBzLmNhY2hlID09PSB1bmRlZmluZWQgKSB7XG5cdFx0cy5jYWNoZSA9IGZhbHNlO1xuXHR9XG5cdGlmICggcy5jcm9zc0RvbWFpbiApIHtcblx0XHRzLnR5cGUgPSBcIkdFVFwiO1xuXHR9XG59ICk7XG5cbi8vIEJpbmQgc2NyaXB0IHRhZyBoYWNrIHRyYW5zcG9ydFxualF1ZXJ5LmFqYXhUcmFuc3BvcnQoIFwic2NyaXB0XCIsIGZ1bmN0aW9uKCBzICkge1xuXG5cdC8vIFRoaXMgdHJhbnNwb3J0IG9ubHkgZGVhbHMgd2l0aCBjcm9zcyBkb21haW4gb3IgZm9yY2VkLWJ5LWF0dHJzIHJlcXVlc3RzXG5cdGlmICggcy5jcm9zc0RvbWFpbiB8fCBzLnNjcmlwdEF0dHJzICkge1xuXHRcdHZhciBzY3JpcHQsIGNhbGxiYWNrO1xuXHRcdHJldHVybiB7XG5cdFx0XHRzZW5kOiBmdW5jdGlvbiggXywgY29tcGxldGUgKSB7XG5cdFx0XHRcdHNjcmlwdCA9IGpRdWVyeSggXCI8c2NyaXB0PlwiIClcblx0XHRcdFx0XHQuYXR0ciggcy5zY3JpcHRBdHRycyB8fCB7fSApXG5cdFx0XHRcdFx0LnByb3AoIHsgY2hhcnNldDogcy5zY3JpcHRDaGFyc2V0LCBzcmM6IHMudXJsIH0gKVxuXHRcdFx0XHRcdC5vbiggXCJsb2FkIGVycm9yXCIsIGNhbGxiYWNrID0gZnVuY3Rpb24oIGV2dCApIHtcblx0XHRcdFx0XHRcdHNjcmlwdC5yZW1vdmUoKTtcblx0XHRcdFx0XHRcdGNhbGxiYWNrID0gbnVsbDtcblx0XHRcdFx0XHRcdGlmICggZXZ0ICkge1xuXHRcdFx0XHRcdFx0XHRjb21wbGV0ZSggZXZ0LnR5cGUgPT09IFwiZXJyb3JcIiA/IDQwNCA6IDIwMCwgZXZ0LnR5cGUgKTtcblx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHR9ICk7XG5cblx0XHRcdFx0Ly8gVXNlIG5hdGl2ZSBET00gbWFuaXB1bGF0aW9uIHRvIGF2b2lkIG91ciBkb21NYW5pcCBBSkFYIHRyaWNrZXJ5XG5cdFx0XHRcdGRvY3VtZW50LmhlYWQuYXBwZW5kQ2hpbGQoIHNjcmlwdFsgMCBdICk7XG5cdFx0XHR9LFxuXHRcdFx0YWJvcnQ6IGZ1bmN0aW9uKCkge1xuXHRcdFx0XHRpZiAoIGNhbGxiYWNrICkge1xuXHRcdFx0XHRcdGNhbGxiYWNrKCk7XG5cdFx0XHRcdH1cblx0XHRcdH1cblx0XHR9O1xuXHR9XG59ICk7XG5cblxuXG5cbnZhciBvbGRDYWxsYmFja3MgPSBbXSxcblx0cmpzb25wID0gLyg9KVxcPyg/PSZ8JCl8XFw/XFw/LztcblxuLy8gRGVmYXVsdCBqc29ucCBzZXR0aW5nc1xualF1ZXJ5LmFqYXhTZXR1cCgge1xuXHRqc29ucDogXCJjYWxsYmFja1wiLFxuXHRqc29ucENhbGxiYWNrOiBmdW5jdGlvbigpIHtcblx0XHR2YXIgY2FsbGJhY2sgPSBvbGRDYWxsYmFja3MucG9wKCkgfHwgKCBqUXVlcnkuZXhwYW5kbyArIFwiX1wiICsgKCBub25jZS5ndWlkKysgKSApO1xuXHRcdHRoaXNbIGNhbGxiYWNrIF0gPSB0cnVlO1xuXHRcdHJldHVybiBjYWxsYmFjaztcblx0fVxufSApO1xuXG4vLyBEZXRlY3QsIG5vcm1hbGl6ZSBvcHRpb25zIGFuZCBpbnN0YWxsIGNhbGxiYWNrcyBmb3IganNvbnAgcmVxdWVzdHNcbmpRdWVyeS5hamF4UHJlZmlsdGVyKCBcImpzb24ganNvbnBcIiwgZnVuY3Rpb24oIHMsIG9yaWdpbmFsU2V0dGluZ3MsIGpxWEhSICkge1xuXG5cdHZhciBjYWxsYmFja05hbWUsIG92ZXJ3cml0dGVuLCByZXNwb25zZUNvbnRhaW5lcixcblx0XHRqc29uUHJvcCA9IHMuanNvbnAgIT09IGZhbHNlICYmICggcmpzb25wLnRlc3QoIHMudXJsICkgP1xuXHRcdFx0XCJ1cmxcIiA6XG5cdFx0XHR0eXBlb2Ygcy5kYXRhID09PSBcInN0cmluZ1wiICYmXG5cdFx0XHRcdCggcy5jb250ZW50VHlwZSB8fCBcIlwiIClcblx0XHRcdFx0XHQuaW5kZXhPZiggXCJhcHBsaWNhdGlvbi94LXd3dy1mb3JtLXVybGVuY29kZWRcIiApID09PSAwICYmXG5cdFx0XHRcdHJqc29ucC50ZXN0KCBzLmRhdGEgKSAmJiBcImRhdGFcIlxuXHRcdCk7XG5cblx0Ly8gSGFuZGxlIGlmZiB0aGUgZXhwZWN0ZWQgZGF0YSB0eXBlIGlzIFwianNvbnBcIiBvciB3ZSBoYXZlIGEgcGFyYW1ldGVyIHRvIHNldFxuXHRpZiAoIGpzb25Qcm9wIHx8IHMuZGF0YVR5cGVzWyAwIF0gPT09IFwianNvbnBcIiApIHtcblxuXHRcdC8vIEdldCBjYWxsYmFjayBuYW1lLCByZW1lbWJlcmluZyBwcmVleGlzdGluZyB2YWx1ZSBhc3NvY2lhdGVkIHdpdGggaXRcblx0XHRjYWxsYmFja05hbWUgPSBzLmpzb25wQ2FsbGJhY2sgPSBpc0Z1bmN0aW9uKCBzLmpzb25wQ2FsbGJhY2sgKSA/XG5cdFx0XHRzLmpzb25wQ2FsbGJhY2soKSA6XG5cdFx0XHRzLmpzb25wQ2FsbGJhY2s7XG5cblx0XHQvLyBJbnNlcnQgY2FsbGJhY2sgaW50byB1cmwgb3IgZm9ybSBkYXRhXG5cdFx0aWYgKCBqc29uUHJvcCApIHtcblx0XHRcdHNbIGpzb25Qcm9wIF0gPSBzWyBqc29uUHJvcCBdLnJlcGxhY2UoIHJqc29ucCwgXCIkMVwiICsgY2FsbGJhY2tOYW1lICk7XG5cdFx0fSBlbHNlIGlmICggcy5qc29ucCAhPT0gZmFsc2UgKSB7XG5cdFx0XHRzLnVybCArPSAoIHJxdWVyeS50ZXN0KCBzLnVybCApID8gXCImXCIgOiBcIj9cIiApICsgcy5qc29ucCArIFwiPVwiICsgY2FsbGJhY2tOYW1lO1xuXHRcdH1cblxuXHRcdC8vIFVzZSBkYXRhIGNvbnZlcnRlciB0byByZXRyaWV2ZSBqc29uIGFmdGVyIHNjcmlwdCBleGVjdXRpb25cblx0XHRzLmNvbnZlcnRlcnNbIFwic2NyaXB0IGpzb25cIiBdID0gZnVuY3Rpb24oKSB7XG5cdFx0XHRpZiAoICFyZXNwb25zZUNvbnRhaW5lciApIHtcblx0XHRcdFx0alF1ZXJ5LmVycm9yKCBjYWxsYmFja05hbWUgKyBcIiB3YXMgbm90IGNhbGxlZFwiICk7XG5cdFx0XHR9XG5cdFx0XHRyZXR1cm4gcmVzcG9uc2VDb250YWluZXJbIDAgXTtcblx0XHR9O1xuXG5cdFx0Ly8gRm9yY2UganNvbiBkYXRhVHlwZVxuXHRcdHMuZGF0YVR5cGVzWyAwIF0gPSBcImpzb25cIjtcblxuXHRcdC8vIEluc3RhbGwgY2FsbGJhY2tcblx0XHRvdmVyd3JpdHRlbiA9IHdpbmRvd1sgY2FsbGJhY2tOYW1lIF07XG5cdFx0d2luZG93WyBjYWxsYmFja05hbWUgXSA9IGZ1bmN0aW9uKCkge1xuXHRcdFx0cmVzcG9uc2VDb250YWluZXIgPSBhcmd1bWVudHM7XG5cdFx0fTtcblxuXHRcdC8vIENsZWFuLXVwIGZ1bmN0aW9uIChmaXJlcyBhZnRlciBjb252ZXJ0ZXJzKVxuXHRcdGpxWEhSLmFsd2F5cyggZnVuY3Rpb24oKSB7XG5cblx0XHRcdC8vIElmIHByZXZpb3VzIHZhbHVlIGRpZG4ndCBleGlzdCAtIHJlbW92ZSBpdFxuXHRcdFx0aWYgKCBvdmVyd3JpdHRlbiA9PT0gdW5kZWZpbmVkICkge1xuXHRcdFx0XHRqUXVlcnkoIHdpbmRvdyApLnJlbW92ZVByb3AoIGNhbGxiYWNrTmFtZSApO1xuXG5cdFx0XHQvLyBPdGhlcndpc2UgcmVzdG9yZSBwcmVleGlzdGluZyB2YWx1ZVxuXHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0d2luZG93WyBjYWxsYmFja05hbWUgXSA9IG92ZXJ3cml0dGVuO1xuXHRcdFx0fVxuXG5cdFx0XHQvLyBTYXZlIGJhY2sgYXMgZnJlZVxuXHRcdFx0aWYgKCBzWyBjYWxsYmFja05hbWUgXSApIHtcblxuXHRcdFx0XHQvLyBNYWtlIHN1cmUgdGhhdCByZS11c2luZyB0aGUgb3B0aW9ucyBkb2Vzbid0IHNjcmV3IHRoaW5ncyBhcm91bmRcblx0XHRcdFx0cy5qc29ucENhbGxiYWNrID0gb3JpZ2luYWxTZXR0aW5ncy5qc29ucENhbGxiYWNrO1xuXG5cdFx0XHRcdC8vIFNhdmUgdGhlIGNhbGxiYWNrIG5hbWUgZm9yIGZ1dHVyZSB1c2Vcblx0XHRcdFx0b2xkQ2FsbGJhY2tzLnB1c2goIGNhbGxiYWNrTmFtZSApO1xuXHRcdFx0fVxuXG5cdFx0XHQvLyBDYWxsIGlmIGl0IHdhcyBhIGZ1bmN0aW9uIGFuZCB3ZSBoYXZlIGEgcmVzcG9uc2Vcblx0XHRcdGlmICggcmVzcG9uc2VDb250YWluZXIgJiYgaXNGdW5jdGlvbiggb3ZlcndyaXR0ZW4gKSApIHtcblx0XHRcdFx0b3ZlcndyaXR0ZW4oIHJlc3BvbnNlQ29udGFpbmVyWyAwIF0gKTtcblx0XHRcdH1cblxuXHRcdFx0cmVzcG9uc2VDb250YWluZXIgPSBvdmVyd3JpdHRlbiA9IHVuZGVmaW5lZDtcblx0XHR9ICk7XG5cblx0XHQvLyBEZWxlZ2F0ZSB0byBzY3JpcHRcblx0XHRyZXR1cm4gXCJzY3JpcHRcIjtcblx0fVxufSApO1xuXG5cblxuXG4vLyBTdXBwb3J0OiBTYWZhcmkgOCBvbmx5XG4vLyBJbiBTYWZhcmkgOCBkb2N1bWVudHMgY3JlYXRlZCB2aWEgZG9jdW1lbnQuaW1wbGVtZW50YXRpb24uY3JlYXRlSFRNTERvY3VtZW50XG4vLyBjb2xsYXBzZSBzaWJsaW5nIGZvcm1zOiB0aGUgc2Vjb25kIG9uZSBiZWNvbWVzIGEgY2hpbGQgb2YgdGhlIGZpcnN0IG9uZS5cbi8vIEJlY2F1c2Ugb2YgdGhhdCwgdGhpcyBzZWN1cml0eSBtZWFzdXJlIGhhcyB0byBiZSBkaXNhYmxlZCBpbiBTYWZhcmkgOC5cbi8vIGh0dHBzOi8vYnVncy53ZWJraXQub3JnL3Nob3dfYnVnLmNnaT9pZD0xMzczMzdcbnN1cHBvcnQuY3JlYXRlSFRNTERvY3VtZW50ID0gKCBmdW5jdGlvbigpIHtcblx0dmFyIGJvZHkgPSBkb2N1bWVudC5pbXBsZW1lbnRhdGlvbi5jcmVhdGVIVE1MRG9jdW1lbnQoIFwiXCIgKS5ib2R5O1xuXHRib2R5LmlubmVySFRNTCA9IFwiPGZvcm0+PC9mb3JtPjxmb3JtPjwvZm9ybT5cIjtcblx0cmV0dXJuIGJvZHkuY2hpbGROb2Rlcy5sZW5ndGggPT09IDI7XG59ICkoKTtcblxuXG4vLyBBcmd1bWVudCBcImRhdGFcIiBzaG91bGQgYmUgc3RyaW5nIG9mIGh0bWxcbi8vIGNvbnRleHQgKG9wdGlvbmFsKTogSWYgc3BlY2lmaWVkLCB0aGUgZnJhZ21lbnQgd2lsbCBiZSBjcmVhdGVkIGluIHRoaXMgY29udGV4dCxcbi8vIGRlZmF1bHRzIHRvIGRvY3VtZW50XG4vLyBrZWVwU2NyaXB0cyAob3B0aW9uYWwpOiBJZiB0cnVlLCB3aWxsIGluY2x1ZGUgc2NyaXB0cyBwYXNzZWQgaW4gdGhlIGh0bWwgc3RyaW5nXG5qUXVlcnkucGFyc2VIVE1MID0gZnVuY3Rpb24oIGRhdGEsIGNvbnRleHQsIGtlZXBTY3JpcHRzICkge1xuXHRpZiAoIHR5cGVvZiBkYXRhICE9PSBcInN0cmluZ1wiICkge1xuXHRcdHJldHVybiBbXTtcblx0fVxuXHRpZiAoIHR5cGVvZiBjb250ZXh0ID09PSBcImJvb2xlYW5cIiApIHtcblx0XHRrZWVwU2NyaXB0cyA9IGNvbnRleHQ7XG5cdFx0Y29udGV4dCA9IGZhbHNlO1xuXHR9XG5cblx0dmFyIGJhc2UsIHBhcnNlZCwgc2NyaXB0cztcblxuXHRpZiAoICFjb250ZXh0ICkge1xuXG5cdFx0Ly8gU3RvcCBzY3JpcHRzIG9yIGlubGluZSBldmVudCBoYW5kbGVycyBmcm9tIGJlaW5nIGV4ZWN1dGVkIGltbWVkaWF0ZWx5XG5cdFx0Ly8gYnkgdXNpbmcgZG9jdW1lbnQuaW1wbGVtZW50YXRpb25cblx0XHRpZiAoIHN1cHBvcnQuY3JlYXRlSFRNTERvY3VtZW50ICkge1xuXHRcdFx0Y29udGV4dCA9IGRvY3VtZW50LmltcGxlbWVudGF0aW9uLmNyZWF0ZUhUTUxEb2N1bWVudCggXCJcIiApO1xuXG5cdFx0XHQvLyBTZXQgdGhlIGJhc2UgaHJlZiBmb3IgdGhlIGNyZWF0ZWQgZG9jdW1lbnRcblx0XHRcdC8vIHNvIGFueSBwYXJzZWQgZWxlbWVudHMgd2l0aCBVUkxzXG5cdFx0XHQvLyBhcmUgYmFzZWQgb24gdGhlIGRvY3VtZW50J3MgVVJMIChnaC0yOTY1KVxuXHRcdFx0YmFzZSA9IGNvbnRleHQuY3JlYXRlRWxlbWVudCggXCJiYXNlXCIgKTtcblx0XHRcdGJhc2UuaHJlZiA9IGRvY3VtZW50LmxvY2F0aW9uLmhyZWY7XG5cdFx0XHRjb250ZXh0LmhlYWQuYXBwZW5kQ2hpbGQoIGJhc2UgKTtcblx0XHR9IGVsc2Uge1xuXHRcdFx0Y29udGV4dCA9IGRvY3VtZW50O1xuXHRcdH1cblx0fVxuXG5cdHBhcnNlZCA9IHJzaW5nbGVUYWcuZXhlYyggZGF0YSApO1xuXHRzY3JpcHRzID0gIWtlZXBTY3JpcHRzICYmIFtdO1xuXG5cdC8vIFNpbmdsZSB0YWdcblx0aWYgKCBwYXJzZWQgKSB7XG5cdFx0cmV0dXJuIFsgY29udGV4dC5jcmVhdGVFbGVtZW50KCBwYXJzZWRbIDEgXSApIF07XG5cdH1cblxuXHRwYXJzZWQgPSBidWlsZEZyYWdtZW50KCBbIGRhdGEgXSwgY29udGV4dCwgc2NyaXB0cyApO1xuXG5cdGlmICggc2NyaXB0cyAmJiBzY3JpcHRzLmxlbmd0aCApIHtcblx0XHRqUXVlcnkoIHNjcmlwdHMgKS5yZW1vdmUoKTtcblx0fVxuXG5cdHJldHVybiBqUXVlcnkubWVyZ2UoIFtdLCBwYXJzZWQuY2hpbGROb2RlcyApO1xufTtcblxuXG4vKipcbiAqIExvYWQgYSB1cmwgaW50byBhIHBhZ2VcbiAqL1xualF1ZXJ5LmZuLmxvYWQgPSBmdW5jdGlvbiggdXJsLCBwYXJhbXMsIGNhbGxiYWNrICkge1xuXHR2YXIgc2VsZWN0b3IsIHR5cGUsIHJlc3BvbnNlLFxuXHRcdHNlbGYgPSB0aGlzLFxuXHRcdG9mZiA9IHVybC5pbmRleE9mKCBcIiBcIiApO1xuXG5cdGlmICggb2ZmID4gLTEgKSB7XG5cdFx0c2VsZWN0b3IgPSBzdHJpcEFuZENvbGxhcHNlKCB1cmwuc2xpY2UoIG9mZiApICk7XG5cdFx0dXJsID0gdXJsLnNsaWNlKCAwLCBvZmYgKTtcblx0fVxuXG5cdC8vIElmIGl0J3MgYSBmdW5jdGlvblxuXHRpZiAoIGlzRnVuY3Rpb24oIHBhcmFtcyApICkge1xuXG5cdFx0Ly8gV2UgYXNzdW1lIHRoYXQgaXQncyB0aGUgY2FsbGJhY2tcblx0XHRjYWxsYmFjayA9IHBhcmFtcztcblx0XHRwYXJhbXMgPSB1bmRlZmluZWQ7XG5cblx0Ly8gT3RoZXJ3aXNlLCBidWlsZCBhIHBhcmFtIHN0cmluZ1xuXHR9IGVsc2UgaWYgKCBwYXJhbXMgJiYgdHlwZW9mIHBhcmFtcyA9PT0gXCJvYmplY3RcIiApIHtcblx0XHR0eXBlID0gXCJQT1NUXCI7XG5cdH1cblxuXHQvLyBJZiB3ZSBoYXZlIGVsZW1lbnRzIHRvIG1vZGlmeSwgbWFrZSB0aGUgcmVxdWVzdFxuXHRpZiAoIHNlbGYubGVuZ3RoID4gMCApIHtcblx0XHRqUXVlcnkuYWpheCgge1xuXHRcdFx0dXJsOiB1cmwsXG5cblx0XHRcdC8vIElmIFwidHlwZVwiIHZhcmlhYmxlIGlzIHVuZGVmaW5lZCwgdGhlbiBcIkdFVFwiIG1ldGhvZCB3aWxsIGJlIHVzZWQuXG5cdFx0XHQvLyBNYWtlIHZhbHVlIG9mIHRoaXMgZmllbGQgZXhwbGljaXQgc2luY2Vcblx0XHRcdC8vIHVzZXIgY2FuIG92ZXJyaWRlIGl0IHRocm91Z2ggYWpheFNldHVwIG1ldGhvZFxuXHRcdFx0dHlwZTogdHlwZSB8fCBcIkdFVFwiLFxuXHRcdFx0ZGF0YVR5cGU6IFwiaHRtbFwiLFxuXHRcdFx0ZGF0YTogcGFyYW1zXG5cdFx0fSApLmRvbmUoIGZ1bmN0aW9uKCByZXNwb25zZVRleHQgKSB7XG5cblx0XHRcdC8vIFNhdmUgcmVzcG9uc2UgZm9yIHVzZSBpbiBjb21wbGV0ZSBjYWxsYmFja1xuXHRcdFx0cmVzcG9uc2UgPSBhcmd1bWVudHM7XG5cblx0XHRcdHNlbGYuaHRtbCggc2VsZWN0b3IgP1xuXG5cdFx0XHRcdC8vIElmIGEgc2VsZWN0b3Igd2FzIHNwZWNpZmllZCwgbG9jYXRlIHRoZSByaWdodCBlbGVtZW50cyBpbiBhIGR1bW15IGRpdlxuXHRcdFx0XHQvLyBFeGNsdWRlIHNjcmlwdHMgdG8gYXZvaWQgSUUgJ1Blcm1pc3Npb24gRGVuaWVkJyBlcnJvcnNcblx0XHRcdFx0alF1ZXJ5KCBcIjxkaXY+XCIgKS5hcHBlbmQoIGpRdWVyeS5wYXJzZUhUTUwoIHJlc3BvbnNlVGV4dCApICkuZmluZCggc2VsZWN0b3IgKSA6XG5cblx0XHRcdFx0Ly8gT3RoZXJ3aXNlIHVzZSB0aGUgZnVsbCByZXN1bHRcblx0XHRcdFx0cmVzcG9uc2VUZXh0ICk7XG5cblx0XHQvLyBJZiB0aGUgcmVxdWVzdCBzdWNjZWVkcywgdGhpcyBmdW5jdGlvbiBnZXRzIFwiZGF0YVwiLCBcInN0YXR1c1wiLCBcImpxWEhSXCJcblx0XHQvLyBidXQgdGhleSBhcmUgaWdub3JlZCBiZWNhdXNlIHJlc3BvbnNlIHdhcyBzZXQgYWJvdmUuXG5cdFx0Ly8gSWYgaXQgZmFpbHMsIHRoaXMgZnVuY3Rpb24gZ2V0cyBcImpxWEhSXCIsIFwic3RhdHVzXCIsIFwiZXJyb3JcIlxuXHRcdH0gKS5hbHdheXMoIGNhbGxiYWNrICYmIGZ1bmN0aW9uKCBqcVhIUiwgc3RhdHVzICkge1xuXHRcdFx0c2VsZi5lYWNoKCBmdW5jdGlvbigpIHtcblx0XHRcdFx0Y2FsbGJhY2suYXBwbHkoIHRoaXMsIHJlc3BvbnNlIHx8IFsganFYSFIucmVzcG9uc2VUZXh0LCBzdGF0dXMsIGpxWEhSIF0gKTtcblx0XHRcdH0gKTtcblx0XHR9ICk7XG5cdH1cblxuXHRyZXR1cm4gdGhpcztcbn07XG5cblxuXG5cbmpRdWVyeS5leHByLnBzZXVkb3MuYW5pbWF0ZWQgPSBmdW5jdGlvbiggZWxlbSApIHtcblx0cmV0dXJuIGpRdWVyeS5ncmVwKCBqUXVlcnkudGltZXJzLCBmdW5jdGlvbiggZm4gKSB7XG5cdFx0cmV0dXJuIGVsZW0gPT09IGZuLmVsZW07XG5cdH0gKS5sZW5ndGg7XG59O1xuXG5cblxuXG5qUXVlcnkub2Zmc2V0ID0ge1xuXHRzZXRPZmZzZXQ6IGZ1bmN0aW9uKCBlbGVtLCBvcHRpb25zLCBpICkge1xuXHRcdHZhciBjdXJQb3NpdGlvbiwgY3VyTGVmdCwgY3VyQ1NTVG9wLCBjdXJUb3AsIGN1ck9mZnNldCwgY3VyQ1NTTGVmdCwgY2FsY3VsYXRlUG9zaXRpb24sXG5cdFx0XHRwb3NpdGlvbiA9IGpRdWVyeS5jc3MoIGVsZW0sIFwicG9zaXRpb25cIiApLFxuXHRcdFx0Y3VyRWxlbSA9IGpRdWVyeSggZWxlbSApLFxuXHRcdFx0cHJvcHMgPSB7fTtcblxuXHRcdC8vIFNldCBwb3NpdGlvbiBmaXJzdCwgaW4tY2FzZSB0b3AvbGVmdCBhcmUgc2V0IGV2ZW4gb24gc3RhdGljIGVsZW1cblx0XHRpZiAoIHBvc2l0aW9uID09PSBcInN0YXRpY1wiICkge1xuXHRcdFx0ZWxlbS5zdHlsZS5wb3NpdGlvbiA9IFwicmVsYXRpdmVcIjtcblx0XHR9XG5cblx0XHRjdXJPZmZzZXQgPSBjdXJFbGVtLm9mZnNldCgpO1xuXHRcdGN1ckNTU1RvcCA9IGpRdWVyeS5jc3MoIGVsZW0sIFwidG9wXCIgKTtcblx0XHRjdXJDU1NMZWZ0ID0galF1ZXJ5LmNzcyggZWxlbSwgXCJsZWZ0XCIgKTtcblx0XHRjYWxjdWxhdGVQb3NpdGlvbiA9ICggcG9zaXRpb24gPT09IFwiYWJzb2x1dGVcIiB8fCBwb3NpdGlvbiA9PT0gXCJmaXhlZFwiICkgJiZcblx0XHRcdCggY3VyQ1NTVG9wICsgY3VyQ1NTTGVmdCApLmluZGV4T2YoIFwiYXV0b1wiICkgPiAtMTtcblxuXHRcdC8vIE5lZWQgdG8gYmUgYWJsZSB0byBjYWxjdWxhdGUgcG9zaXRpb24gaWYgZWl0aGVyXG5cdFx0Ly8gdG9wIG9yIGxlZnQgaXMgYXV0byBhbmQgcG9zaXRpb24gaXMgZWl0aGVyIGFic29sdXRlIG9yIGZpeGVkXG5cdFx0aWYgKCBjYWxjdWxhdGVQb3NpdGlvbiApIHtcblx0XHRcdGN1clBvc2l0aW9uID0gY3VyRWxlbS5wb3NpdGlvbigpO1xuXHRcdFx0Y3VyVG9wID0gY3VyUG9zaXRpb24udG9wO1xuXHRcdFx0Y3VyTGVmdCA9IGN1clBvc2l0aW9uLmxlZnQ7XG5cblx0XHR9IGVsc2Uge1xuXHRcdFx0Y3VyVG9wID0gcGFyc2VGbG9hdCggY3VyQ1NTVG9wICkgfHwgMDtcblx0XHRcdGN1ckxlZnQgPSBwYXJzZUZsb2F0KCBjdXJDU1NMZWZ0ICkgfHwgMDtcblx0XHR9XG5cblx0XHRpZiAoIGlzRnVuY3Rpb24oIG9wdGlvbnMgKSApIHtcblxuXHRcdFx0Ly8gVXNlIGpRdWVyeS5leHRlbmQgaGVyZSB0byBhbGxvdyBtb2RpZmljYXRpb24gb2YgY29vcmRpbmF0ZXMgYXJndW1lbnQgKGdoLTE4NDgpXG5cdFx0XHRvcHRpb25zID0gb3B0aW9ucy5jYWxsKCBlbGVtLCBpLCBqUXVlcnkuZXh0ZW5kKCB7fSwgY3VyT2Zmc2V0ICkgKTtcblx0XHR9XG5cblx0XHRpZiAoIG9wdGlvbnMudG9wICE9IG51bGwgKSB7XG5cdFx0XHRwcm9wcy50b3AgPSAoIG9wdGlvbnMudG9wIC0gY3VyT2Zmc2V0LnRvcCApICsgY3VyVG9wO1xuXHRcdH1cblx0XHRpZiAoIG9wdGlvbnMubGVmdCAhPSBudWxsICkge1xuXHRcdFx0cHJvcHMubGVmdCA9ICggb3B0aW9ucy5sZWZ0IC0gY3VyT2Zmc2V0LmxlZnQgKSArIGN1ckxlZnQ7XG5cdFx0fVxuXG5cdFx0aWYgKCBcInVzaW5nXCIgaW4gb3B0aW9ucyApIHtcblx0XHRcdG9wdGlvbnMudXNpbmcuY2FsbCggZWxlbSwgcHJvcHMgKTtcblxuXHRcdH0gZWxzZSB7XG5cdFx0XHRpZiAoIHR5cGVvZiBwcm9wcy50b3AgPT09IFwibnVtYmVyXCIgKSB7XG5cdFx0XHRcdHByb3BzLnRvcCArPSBcInB4XCI7XG5cdFx0XHR9XG5cdFx0XHRpZiAoIHR5cGVvZiBwcm9wcy5sZWZ0ID09PSBcIm51bWJlclwiICkge1xuXHRcdFx0XHRwcm9wcy5sZWZ0ICs9IFwicHhcIjtcblx0XHRcdH1cblx0XHRcdGN1ckVsZW0uY3NzKCBwcm9wcyApO1xuXHRcdH1cblx0fVxufTtcblxualF1ZXJ5LmZuLmV4dGVuZCgge1xuXG5cdC8vIG9mZnNldCgpIHJlbGF0ZXMgYW4gZWxlbWVudCdzIGJvcmRlciBib3ggdG8gdGhlIGRvY3VtZW50IG9yaWdpblxuXHRvZmZzZXQ6IGZ1bmN0aW9uKCBvcHRpb25zICkge1xuXG5cdFx0Ly8gUHJlc2VydmUgY2hhaW5pbmcgZm9yIHNldHRlclxuXHRcdGlmICggYXJndW1lbnRzLmxlbmd0aCApIHtcblx0XHRcdHJldHVybiBvcHRpb25zID09PSB1bmRlZmluZWQgP1xuXHRcdFx0XHR0aGlzIDpcblx0XHRcdFx0dGhpcy5lYWNoKCBmdW5jdGlvbiggaSApIHtcblx0XHRcdFx0XHRqUXVlcnkub2Zmc2V0LnNldE9mZnNldCggdGhpcywgb3B0aW9ucywgaSApO1xuXHRcdFx0XHR9ICk7XG5cdFx0fVxuXG5cdFx0dmFyIHJlY3QsIHdpbixcblx0XHRcdGVsZW0gPSB0aGlzWyAwIF07XG5cblx0XHRpZiAoICFlbGVtICkge1xuXHRcdFx0cmV0dXJuO1xuXHRcdH1cblxuXHRcdC8vIFJldHVybiB6ZXJvcyBmb3IgZGlzY29ubmVjdGVkIGFuZCBoaWRkZW4gKGRpc3BsYXk6IG5vbmUpIGVsZW1lbnRzIChnaC0yMzEwKVxuXHRcdC8vIFN1cHBvcnQ6IElFIDw9MTEgb25seVxuXHRcdC8vIFJ1bm5pbmcgZ2V0Qm91bmRpbmdDbGllbnRSZWN0IG9uIGFcblx0XHQvLyBkaXNjb25uZWN0ZWQgbm9kZSBpbiBJRSB0aHJvd3MgYW4gZXJyb3Jcblx0XHRpZiAoICFlbGVtLmdldENsaWVudFJlY3RzKCkubGVuZ3RoICkge1xuXHRcdFx0cmV0dXJuIHsgdG9wOiAwLCBsZWZ0OiAwIH07XG5cdFx0fVxuXG5cdFx0Ly8gR2V0IGRvY3VtZW50LXJlbGF0aXZlIHBvc2l0aW9uIGJ5IGFkZGluZyB2aWV3cG9ydCBzY3JvbGwgdG8gdmlld3BvcnQtcmVsYXRpdmUgZ0JDUlxuXHRcdHJlY3QgPSBlbGVtLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO1xuXHRcdHdpbiA9IGVsZW0ub3duZXJEb2N1bWVudC5kZWZhdWx0Vmlldztcblx0XHRyZXR1cm4ge1xuXHRcdFx0dG9wOiByZWN0LnRvcCArIHdpbi5wYWdlWU9mZnNldCxcblx0XHRcdGxlZnQ6IHJlY3QubGVmdCArIHdpbi5wYWdlWE9mZnNldFxuXHRcdH07XG5cdH0sXG5cblx0Ly8gcG9zaXRpb24oKSByZWxhdGVzIGFuIGVsZW1lbnQncyBtYXJnaW4gYm94IHRvIGl0cyBvZmZzZXQgcGFyZW50J3MgcGFkZGluZyBib3hcblx0Ly8gVGhpcyBjb3JyZXNwb25kcyB0byB0aGUgYmVoYXZpb3Igb2YgQ1NTIGFic29sdXRlIHBvc2l0aW9uaW5nXG5cdHBvc2l0aW9uOiBmdW5jdGlvbigpIHtcblx0XHRpZiAoICF0aGlzWyAwIF0gKSB7XG5cdFx0XHRyZXR1cm47XG5cdFx0fVxuXG5cdFx0dmFyIG9mZnNldFBhcmVudCwgb2Zmc2V0LCBkb2MsXG5cdFx0XHRlbGVtID0gdGhpc1sgMCBdLFxuXHRcdFx0cGFyZW50T2Zmc2V0ID0geyB0b3A6IDAsIGxlZnQ6IDAgfTtcblxuXHRcdC8vIHBvc2l0aW9uOmZpeGVkIGVsZW1lbnRzIGFyZSBvZmZzZXQgZnJvbSB0aGUgdmlld3BvcnQsIHdoaWNoIGl0c2VsZiBhbHdheXMgaGFzIHplcm8gb2Zmc2V0XG5cdFx0aWYgKCBqUXVlcnkuY3NzKCBlbGVtLCBcInBvc2l0aW9uXCIgKSA9PT0gXCJmaXhlZFwiICkge1xuXG5cdFx0XHQvLyBBc3N1bWUgcG9zaXRpb246Zml4ZWQgaW1wbGllcyBhdmFpbGFiaWxpdHkgb2YgZ2V0Qm91bmRpbmdDbGllbnRSZWN0XG5cdFx0XHRvZmZzZXQgPSBlbGVtLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO1xuXG5cdFx0fSBlbHNlIHtcblx0XHRcdG9mZnNldCA9IHRoaXMub2Zmc2V0KCk7XG5cblx0XHRcdC8vIEFjY291bnQgZm9yIHRoZSAqcmVhbCogb2Zmc2V0IHBhcmVudCwgd2hpY2ggY2FuIGJlIHRoZSBkb2N1bWVudCBvciBpdHMgcm9vdCBlbGVtZW50XG5cdFx0XHQvLyB3aGVuIGEgc3RhdGljYWxseSBwb3NpdGlvbmVkIGVsZW1lbnQgaXMgaWRlbnRpZmllZFxuXHRcdFx0ZG9jID0gZWxlbS5vd25lckRvY3VtZW50O1xuXHRcdFx0b2Zmc2V0UGFyZW50ID0gZWxlbS5vZmZzZXRQYXJlbnQgfHwgZG9jLmRvY3VtZW50RWxlbWVudDtcblx0XHRcdHdoaWxlICggb2Zmc2V0UGFyZW50ICYmXG5cdFx0XHRcdCggb2Zmc2V0UGFyZW50ID09PSBkb2MuYm9keSB8fCBvZmZzZXRQYXJlbnQgPT09IGRvYy5kb2N1bWVudEVsZW1lbnQgKSAmJlxuXHRcdFx0XHRqUXVlcnkuY3NzKCBvZmZzZXRQYXJlbnQsIFwicG9zaXRpb25cIiApID09PSBcInN0YXRpY1wiICkge1xuXG5cdFx0XHRcdG9mZnNldFBhcmVudCA9IG9mZnNldFBhcmVudC5wYXJlbnROb2RlO1xuXHRcdFx0fVxuXHRcdFx0aWYgKCBvZmZzZXRQYXJlbnQgJiYgb2Zmc2V0UGFyZW50ICE9PSBlbGVtICYmIG9mZnNldFBhcmVudC5ub2RlVHlwZSA9PT0gMSApIHtcblxuXHRcdFx0XHQvLyBJbmNvcnBvcmF0ZSBib3JkZXJzIGludG8gaXRzIG9mZnNldCwgc2luY2UgdGhleSBhcmUgb3V0c2lkZSBpdHMgY29udGVudCBvcmlnaW5cblx0XHRcdFx0cGFyZW50T2Zmc2V0ID0galF1ZXJ5KCBvZmZzZXRQYXJlbnQgKS5vZmZzZXQoKTtcblx0XHRcdFx0cGFyZW50T2Zmc2V0LnRvcCArPSBqUXVlcnkuY3NzKCBvZmZzZXRQYXJlbnQsIFwiYm9yZGVyVG9wV2lkdGhcIiwgdHJ1ZSApO1xuXHRcdFx0XHRwYXJlbnRPZmZzZXQubGVmdCArPSBqUXVlcnkuY3NzKCBvZmZzZXRQYXJlbnQsIFwiYm9yZGVyTGVmdFdpZHRoXCIsIHRydWUgKTtcblx0XHRcdH1cblx0XHR9XG5cblx0XHQvLyBTdWJ0cmFjdCBwYXJlbnQgb2Zmc2V0cyBhbmQgZWxlbWVudCBtYXJnaW5zXG5cdFx0cmV0dXJuIHtcblx0XHRcdHRvcDogb2Zmc2V0LnRvcCAtIHBhcmVudE9mZnNldC50b3AgLSBqUXVlcnkuY3NzKCBlbGVtLCBcIm1hcmdpblRvcFwiLCB0cnVlICksXG5cdFx0XHRsZWZ0OiBvZmZzZXQubGVmdCAtIHBhcmVudE9mZnNldC5sZWZ0IC0galF1ZXJ5LmNzcyggZWxlbSwgXCJtYXJnaW5MZWZ0XCIsIHRydWUgKVxuXHRcdH07XG5cdH0sXG5cblx0Ly8gVGhpcyBtZXRob2Qgd2lsbCByZXR1cm4gZG9jdW1lbnRFbGVtZW50IGluIHRoZSBmb2xsb3dpbmcgY2FzZXM6XG5cdC8vIDEpIEZvciB0aGUgZWxlbWVudCBpbnNpZGUgdGhlIGlmcmFtZSB3aXRob3V0IG9mZnNldFBhcmVudCwgdGhpcyBtZXRob2Qgd2lsbCByZXR1cm5cblx0Ly8gICAgZG9jdW1lbnRFbGVtZW50IG9mIHRoZSBwYXJlbnQgd2luZG93XG5cdC8vIDIpIEZvciB0aGUgaGlkZGVuIG9yIGRldGFjaGVkIGVsZW1lbnRcblx0Ly8gMykgRm9yIGJvZHkgb3IgaHRtbCBlbGVtZW50LCBpLmUuIGluIGNhc2Ugb2YgdGhlIGh0bWwgbm9kZSAtIGl0IHdpbGwgcmV0dXJuIGl0c2VsZlxuXHQvL1xuXHQvLyBidXQgdGhvc2UgZXhjZXB0aW9ucyB3ZXJlIG5ldmVyIHByZXNlbnRlZCBhcyBhIHJlYWwgbGlmZSB1c2UtY2FzZXNcblx0Ly8gYW5kIG1pZ2h0IGJlIGNvbnNpZGVyZWQgYXMgbW9yZSBwcmVmZXJhYmxlIHJlc3VsdHMuXG5cdC8vXG5cdC8vIFRoaXMgbG9naWMsIGhvd2V2ZXIsIGlzIG5vdCBndWFyYW50ZWVkIGFuZCBjYW4gY2hhbmdlIGF0IGFueSBwb2ludCBpbiB0aGUgZnV0dXJlXG5cdG9mZnNldFBhcmVudDogZnVuY3Rpb24oKSB7XG5cdFx0cmV0dXJuIHRoaXMubWFwKCBmdW5jdGlvbigpIHtcblx0XHRcdHZhciBvZmZzZXRQYXJlbnQgPSB0aGlzLm9mZnNldFBhcmVudDtcblxuXHRcdFx0d2hpbGUgKCBvZmZzZXRQYXJlbnQgJiYgalF1ZXJ5LmNzcyggb2Zmc2V0UGFyZW50LCBcInBvc2l0aW9uXCIgKSA9PT0gXCJzdGF0aWNcIiApIHtcblx0XHRcdFx0b2Zmc2V0UGFyZW50ID0gb2Zmc2V0UGFyZW50Lm9mZnNldFBhcmVudDtcblx0XHRcdH1cblxuXHRcdFx0cmV0dXJuIG9mZnNldFBhcmVudCB8fCBkb2N1bWVudEVsZW1lbnQ7XG5cdFx0fSApO1xuXHR9XG59ICk7XG5cbi8vIENyZWF0ZSBzY3JvbGxMZWZ0IGFuZCBzY3JvbGxUb3AgbWV0aG9kc1xualF1ZXJ5LmVhY2goIHsgc2Nyb2xsTGVmdDogXCJwYWdlWE9mZnNldFwiLCBzY3JvbGxUb3A6IFwicGFnZVlPZmZzZXRcIiB9LCBmdW5jdGlvbiggbWV0aG9kLCBwcm9wICkge1xuXHR2YXIgdG9wID0gXCJwYWdlWU9mZnNldFwiID09PSBwcm9wO1xuXG5cdGpRdWVyeS5mblsgbWV0aG9kIF0gPSBmdW5jdGlvbiggdmFsICkge1xuXHRcdHJldHVybiBhY2Nlc3MoIHRoaXMsIGZ1bmN0aW9uKCBlbGVtLCBtZXRob2QsIHZhbCApIHtcblxuXHRcdFx0Ly8gQ29hbGVzY2UgZG9jdW1lbnRzIGFuZCB3aW5kb3dzXG5cdFx0XHR2YXIgd2luO1xuXHRcdFx0aWYgKCBpc1dpbmRvdyggZWxlbSApICkge1xuXHRcdFx0XHR3aW4gPSBlbGVtO1xuXHRcdFx0fSBlbHNlIGlmICggZWxlbS5ub2RlVHlwZSA9PT0gOSApIHtcblx0XHRcdFx0d2luID0gZWxlbS5kZWZhdWx0Vmlldztcblx0XHRcdH1cblxuXHRcdFx0aWYgKCB2YWwgPT09IHVuZGVmaW5lZCApIHtcblx0XHRcdFx0cmV0dXJuIHdpbiA/IHdpblsgcHJvcCBdIDogZWxlbVsgbWV0aG9kIF07XG5cdFx0XHR9XG5cblx0XHRcdGlmICggd2luICkge1xuXHRcdFx0XHR3aW4uc2Nyb2xsVG8oXG5cdFx0XHRcdFx0IXRvcCA/IHZhbCA6IHdpbi5wYWdlWE9mZnNldCxcblx0XHRcdFx0XHR0b3AgPyB2YWwgOiB3aW4ucGFnZVlPZmZzZXRcblx0XHRcdFx0KTtcblxuXHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0ZWxlbVsgbWV0aG9kIF0gPSB2YWw7XG5cdFx0XHR9XG5cdFx0fSwgbWV0aG9kLCB2YWwsIGFyZ3VtZW50cy5sZW5ndGggKTtcblx0fTtcbn0gKTtcblxuLy8gU3VwcG9ydDogU2FmYXJpIDw9NyAtIDkuMSwgQ2hyb21lIDw9MzcgLSA0OVxuLy8gQWRkIHRoZSB0b3AvbGVmdCBjc3NIb29rcyB1c2luZyBqUXVlcnkuZm4ucG9zaXRpb25cbi8vIFdlYmtpdCBidWc6IGh0dHBzOi8vYnVncy53ZWJraXQub3JnL3Nob3dfYnVnLmNnaT9pZD0yOTA4NFxuLy8gQmxpbmsgYnVnOiBodHRwczovL2J1Z3MuY2hyb21pdW0ub3JnL3AvY2hyb21pdW0vaXNzdWVzL2RldGFpbD9pZD01ODkzNDdcbi8vIGdldENvbXB1dGVkU3R5bGUgcmV0dXJucyBwZXJjZW50IHdoZW4gc3BlY2lmaWVkIGZvciB0b3AvbGVmdC9ib3R0b20vcmlnaHQ7XG4vLyByYXRoZXIgdGhhbiBtYWtlIHRoZSBjc3MgbW9kdWxlIGRlcGVuZCBvbiB0aGUgb2Zmc2V0IG1vZHVsZSwganVzdCBjaGVjayBmb3IgaXQgaGVyZVxualF1ZXJ5LmVhY2goIFsgXCJ0b3BcIiwgXCJsZWZ0XCIgXSwgZnVuY3Rpb24oIF9pLCBwcm9wICkge1xuXHRqUXVlcnkuY3NzSG9va3NbIHByb3AgXSA9IGFkZEdldEhvb2tJZiggc3VwcG9ydC5waXhlbFBvc2l0aW9uLFxuXHRcdGZ1bmN0aW9uKCBlbGVtLCBjb21wdXRlZCApIHtcblx0XHRcdGlmICggY29tcHV0ZWQgKSB7XG5cdFx0XHRcdGNvbXB1dGVkID0gY3VyQ1NTKCBlbGVtLCBwcm9wICk7XG5cblx0XHRcdFx0Ly8gSWYgY3VyQ1NTIHJldHVybnMgcGVyY2VudGFnZSwgZmFsbGJhY2sgdG8gb2Zmc2V0XG5cdFx0XHRcdHJldHVybiBybnVtbm9ucHgudGVzdCggY29tcHV0ZWQgKSA/XG5cdFx0XHRcdFx0alF1ZXJ5KCBlbGVtICkucG9zaXRpb24oKVsgcHJvcCBdICsgXCJweFwiIDpcblx0XHRcdFx0XHRjb21wdXRlZDtcblx0XHRcdH1cblx0XHR9XG5cdCk7XG59ICk7XG5cblxuLy8gQ3JlYXRlIGlubmVySGVpZ2h0LCBpbm5lcldpZHRoLCBoZWlnaHQsIHdpZHRoLCBvdXRlckhlaWdodCBhbmQgb3V0ZXJXaWR0aCBtZXRob2RzXG5qUXVlcnkuZWFjaCggeyBIZWlnaHQ6IFwiaGVpZ2h0XCIsIFdpZHRoOiBcIndpZHRoXCIgfSwgZnVuY3Rpb24oIG5hbWUsIHR5cGUgKSB7XG5cdGpRdWVyeS5lYWNoKCB7IHBhZGRpbmc6IFwiaW5uZXJcIiArIG5hbWUsIGNvbnRlbnQ6IHR5cGUsIFwiXCI6IFwib3V0ZXJcIiArIG5hbWUgfSxcblx0XHRmdW5jdGlvbiggZGVmYXVsdEV4dHJhLCBmdW5jTmFtZSApIHtcblxuXHRcdC8vIE1hcmdpbiBpcyBvbmx5IGZvciBvdXRlckhlaWdodCwgb3V0ZXJXaWR0aFxuXHRcdGpRdWVyeS5mblsgZnVuY05hbWUgXSA9IGZ1bmN0aW9uKCBtYXJnaW4sIHZhbHVlICkge1xuXHRcdFx0dmFyIGNoYWluYWJsZSA9IGFyZ3VtZW50cy5sZW5ndGggJiYgKCBkZWZhdWx0RXh0cmEgfHwgdHlwZW9mIG1hcmdpbiAhPT0gXCJib29sZWFuXCIgKSxcblx0XHRcdFx0ZXh0cmEgPSBkZWZhdWx0RXh0cmEgfHwgKCBtYXJnaW4gPT09IHRydWUgfHwgdmFsdWUgPT09IHRydWUgPyBcIm1hcmdpblwiIDogXCJib3JkZXJcIiApO1xuXG5cdFx0XHRyZXR1cm4gYWNjZXNzKCB0aGlzLCBmdW5jdGlvbiggZWxlbSwgdHlwZSwgdmFsdWUgKSB7XG5cdFx0XHRcdHZhciBkb2M7XG5cblx0XHRcdFx0aWYgKCBpc1dpbmRvdyggZWxlbSApICkge1xuXG5cdFx0XHRcdFx0Ly8gJCggd2luZG93ICkub3V0ZXJXaWR0aC9IZWlnaHQgcmV0dXJuIHcvaCBpbmNsdWRpbmcgc2Nyb2xsYmFycyAoZ2gtMTcyOSlcblx0XHRcdFx0XHRyZXR1cm4gZnVuY05hbWUuaW5kZXhPZiggXCJvdXRlclwiICkgPT09IDAgP1xuXHRcdFx0XHRcdFx0ZWxlbVsgXCJpbm5lclwiICsgbmFtZSBdIDpcblx0XHRcdFx0XHRcdGVsZW0uZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50WyBcImNsaWVudFwiICsgbmFtZSBdO1xuXHRcdFx0XHR9XG5cblx0XHRcdFx0Ly8gR2V0IGRvY3VtZW50IHdpZHRoIG9yIGhlaWdodFxuXHRcdFx0XHRpZiAoIGVsZW0ubm9kZVR5cGUgPT09IDkgKSB7XG5cdFx0XHRcdFx0ZG9jID0gZWxlbS5kb2N1bWVudEVsZW1lbnQ7XG5cblx0XHRcdFx0XHQvLyBFaXRoZXIgc2Nyb2xsW1dpZHRoL0hlaWdodF0gb3Igb2Zmc2V0W1dpZHRoL0hlaWdodF0gb3IgY2xpZW50W1dpZHRoL0hlaWdodF0sXG5cdFx0XHRcdFx0Ly8gd2hpY2hldmVyIGlzIGdyZWF0ZXN0XG5cdFx0XHRcdFx0cmV0dXJuIE1hdGgubWF4KFxuXHRcdFx0XHRcdFx0ZWxlbS5ib2R5WyBcInNjcm9sbFwiICsgbmFtZSBdLCBkb2NbIFwic2Nyb2xsXCIgKyBuYW1lIF0sXG5cdFx0XHRcdFx0XHRlbGVtLmJvZHlbIFwib2Zmc2V0XCIgKyBuYW1lIF0sIGRvY1sgXCJvZmZzZXRcIiArIG5hbWUgXSxcblx0XHRcdFx0XHRcdGRvY1sgXCJjbGllbnRcIiArIG5hbWUgXVxuXHRcdFx0XHRcdCk7XG5cdFx0XHRcdH1cblxuXHRcdFx0XHRyZXR1cm4gdmFsdWUgPT09IHVuZGVmaW5lZCA/XG5cblx0XHRcdFx0XHQvLyBHZXQgd2lkdGggb3IgaGVpZ2h0IG9uIHRoZSBlbGVtZW50LCByZXF1ZXN0aW5nIGJ1dCBub3QgZm9yY2luZyBwYXJzZUZsb2F0XG5cdFx0XHRcdFx0alF1ZXJ5LmNzcyggZWxlbSwgdHlwZSwgZXh0cmEgKSA6XG5cblx0XHRcdFx0XHQvLyBTZXQgd2lkdGggb3IgaGVpZ2h0IG9uIHRoZSBlbGVtZW50XG5cdFx0XHRcdFx0alF1ZXJ5LnN0eWxlKCBlbGVtLCB0eXBlLCB2YWx1ZSwgZXh0cmEgKTtcblx0XHRcdH0sIHR5cGUsIGNoYWluYWJsZSA/IG1hcmdpbiA6IHVuZGVmaW5lZCwgY2hhaW5hYmxlICk7XG5cdFx0fTtcblx0fSApO1xufSApO1xuXG5cbmpRdWVyeS5lYWNoKCBbXG5cdFwiYWpheFN0YXJ0XCIsXG5cdFwiYWpheFN0b3BcIixcblx0XCJhamF4Q29tcGxldGVcIixcblx0XCJhamF4RXJyb3JcIixcblx0XCJhamF4U3VjY2Vzc1wiLFxuXHRcImFqYXhTZW5kXCJcbl0sIGZ1bmN0aW9uKCBfaSwgdHlwZSApIHtcblx0alF1ZXJ5LmZuWyB0eXBlIF0gPSBmdW5jdGlvbiggZm4gKSB7XG5cdFx0cmV0dXJuIHRoaXMub24oIHR5cGUsIGZuICk7XG5cdH07XG59ICk7XG5cblxuXG5cbmpRdWVyeS5mbi5leHRlbmQoIHtcblxuXHRiaW5kOiBmdW5jdGlvbiggdHlwZXMsIGRhdGEsIGZuICkge1xuXHRcdHJldHVybiB0aGlzLm9uKCB0eXBlcywgbnVsbCwgZGF0YSwgZm4gKTtcblx0fSxcblx0dW5iaW5kOiBmdW5jdGlvbiggdHlwZXMsIGZuICkge1xuXHRcdHJldHVybiB0aGlzLm9mZiggdHlwZXMsIG51bGwsIGZuICk7XG5cdH0sXG5cblx0ZGVsZWdhdGU6IGZ1bmN0aW9uKCBzZWxlY3RvciwgdHlwZXMsIGRhdGEsIGZuICkge1xuXHRcdHJldHVybiB0aGlzLm9uKCB0eXBlcywgc2VsZWN0b3IsIGRhdGEsIGZuICk7XG5cdH0sXG5cdHVuZGVsZWdhdGU6IGZ1bmN0aW9uKCBzZWxlY3RvciwgdHlwZXMsIGZuICkge1xuXG5cdFx0Ly8gKCBuYW1lc3BhY2UgKSBvciAoIHNlbGVjdG9yLCB0eXBlcyBbLCBmbl0gKVxuXHRcdHJldHVybiBhcmd1bWVudHMubGVuZ3RoID09PSAxID9cblx0XHRcdHRoaXMub2ZmKCBzZWxlY3RvciwgXCIqKlwiICkgOlxuXHRcdFx0dGhpcy5vZmYoIHR5cGVzLCBzZWxlY3RvciB8fCBcIioqXCIsIGZuICk7XG5cdH0sXG5cblx0aG92ZXI6IGZ1bmN0aW9uKCBmbk92ZXIsIGZuT3V0ICkge1xuXHRcdHJldHVybiB0aGlzLm1vdXNlZW50ZXIoIGZuT3ZlciApLm1vdXNlbGVhdmUoIGZuT3V0IHx8IGZuT3ZlciApO1xuXHR9XG59ICk7XG5cbmpRdWVyeS5lYWNoKCAoIFwiYmx1ciBmb2N1cyBmb2N1c2luIGZvY3Vzb3V0IHJlc2l6ZSBzY3JvbGwgY2xpY2sgZGJsY2xpY2sgXCIgK1xuXHRcIm1vdXNlZG93biBtb3VzZXVwIG1vdXNlbW92ZSBtb3VzZW92ZXIgbW91c2VvdXQgbW91c2VlbnRlciBtb3VzZWxlYXZlIFwiICtcblx0XCJjaGFuZ2Ugc2VsZWN0IHN1Ym1pdCBrZXlkb3duIGtleXByZXNzIGtleXVwIGNvbnRleHRtZW51XCIgKS5zcGxpdCggXCIgXCIgKSxcblx0ZnVuY3Rpb24oIF9pLCBuYW1lICkge1xuXG5cdFx0Ly8gSGFuZGxlIGV2ZW50IGJpbmRpbmdcblx0XHRqUXVlcnkuZm5bIG5hbWUgXSA9IGZ1bmN0aW9uKCBkYXRhLCBmbiApIHtcblx0XHRcdHJldHVybiBhcmd1bWVudHMubGVuZ3RoID4gMCA/XG5cdFx0XHRcdHRoaXMub24oIG5hbWUsIG51bGwsIGRhdGEsIGZuICkgOlxuXHRcdFx0XHR0aGlzLnRyaWdnZXIoIG5hbWUgKTtcblx0XHR9O1xuXHR9ICk7XG5cblxuXG5cbi8vIFN1cHBvcnQ6IEFuZHJvaWQgPD00LjAgb25seVxuLy8gTWFrZSBzdXJlIHdlIHRyaW0gQk9NIGFuZCBOQlNQXG52YXIgcnRyaW0gPSAvXltcXHNcXHVGRUZGXFx4QTBdK3xbXFxzXFx1RkVGRlxceEEwXSskL2c7XG5cbi8vIEJpbmQgYSBmdW5jdGlvbiB0byBhIGNvbnRleHQsIG9wdGlvbmFsbHkgcGFydGlhbGx5IGFwcGx5aW5nIGFueVxuLy8gYXJndW1lbnRzLlxuLy8galF1ZXJ5LnByb3h5IGlzIGRlcHJlY2F0ZWQgdG8gcHJvbW90ZSBzdGFuZGFyZHMgKHNwZWNpZmljYWxseSBGdW5jdGlvbiNiaW5kKVxuLy8gSG93ZXZlciwgaXQgaXMgbm90IHNsYXRlZCBmb3IgcmVtb3ZhbCBhbnkgdGltZSBzb29uXG5qUXVlcnkucHJveHkgPSBmdW5jdGlvbiggZm4sIGNvbnRleHQgKSB7XG5cdHZhciB0bXAsIGFyZ3MsIHByb3h5O1xuXG5cdGlmICggdHlwZW9mIGNvbnRleHQgPT09IFwic3RyaW5nXCIgKSB7XG5cdFx0dG1wID0gZm5bIGNvbnRleHQgXTtcblx0XHRjb250ZXh0ID0gZm47XG5cdFx0Zm4gPSB0bXA7XG5cdH1cblxuXHQvLyBRdWljayBjaGVjayB0byBkZXRlcm1pbmUgaWYgdGFyZ2V0IGlzIGNhbGxhYmxlLCBpbiB0aGUgc3BlY1xuXHQvLyB0aGlzIHRocm93cyBhIFR5cGVFcnJvciwgYnV0IHdlIHdpbGwganVzdCByZXR1cm4gdW5kZWZpbmVkLlxuXHRpZiAoICFpc0Z1bmN0aW9uKCBmbiApICkge1xuXHRcdHJldHVybiB1bmRlZmluZWQ7XG5cdH1cblxuXHQvLyBTaW11bGF0ZWQgYmluZFxuXHRhcmdzID0gc2xpY2UuY2FsbCggYXJndW1lbnRzLCAyICk7XG5cdHByb3h5ID0gZnVuY3Rpb24oKSB7XG5cdFx0cmV0dXJuIGZuLmFwcGx5KCBjb250ZXh0IHx8IHRoaXMsIGFyZ3MuY29uY2F0KCBzbGljZS5jYWxsKCBhcmd1bWVudHMgKSApICk7XG5cdH07XG5cblx0Ly8gU2V0IHRoZSBndWlkIG9mIHVuaXF1ZSBoYW5kbGVyIHRvIHRoZSBzYW1lIG9mIG9yaWdpbmFsIGhhbmRsZXIsIHNvIGl0IGNhbiBiZSByZW1vdmVkXG5cdHByb3h5Lmd1aWQgPSBmbi5ndWlkID0gZm4uZ3VpZCB8fCBqUXVlcnkuZ3VpZCsrO1xuXG5cdHJldHVybiBwcm94eTtcbn07XG5cbmpRdWVyeS5ob2xkUmVhZHkgPSBmdW5jdGlvbiggaG9sZCApIHtcblx0aWYgKCBob2xkICkge1xuXHRcdGpRdWVyeS5yZWFkeVdhaXQrKztcblx0fSBlbHNlIHtcblx0XHRqUXVlcnkucmVhZHkoIHRydWUgKTtcblx0fVxufTtcbmpRdWVyeS5pc0FycmF5ID0gQXJyYXkuaXNBcnJheTtcbmpRdWVyeS5wYXJzZUpTT04gPSBKU09OLnBhcnNlO1xualF1ZXJ5Lm5vZGVOYW1lID0gbm9kZU5hbWU7XG5qUXVlcnkuaXNGdW5jdGlvbiA9IGlzRnVuY3Rpb247XG5qUXVlcnkuaXNXaW5kb3cgPSBpc1dpbmRvdztcbmpRdWVyeS5jYW1lbENhc2UgPSBjYW1lbENhc2U7XG5qUXVlcnkudHlwZSA9IHRvVHlwZTtcblxualF1ZXJ5Lm5vdyA9IERhdGUubm93O1xuXG5qUXVlcnkuaXNOdW1lcmljID0gZnVuY3Rpb24oIG9iaiApIHtcblxuXHQvLyBBcyBvZiBqUXVlcnkgMy4wLCBpc051bWVyaWMgaXMgbGltaXRlZCB0b1xuXHQvLyBzdHJpbmdzIGFuZCBudW1iZXJzIChwcmltaXRpdmVzIG9yIG9iamVjdHMpXG5cdC8vIHRoYXQgY2FuIGJlIGNvZXJjZWQgdG8gZmluaXRlIG51bWJlcnMgKGdoLTI2NjIpXG5cdHZhciB0eXBlID0galF1ZXJ5LnR5cGUoIG9iaiApO1xuXHRyZXR1cm4gKCB0eXBlID09PSBcIm51bWJlclwiIHx8IHR5cGUgPT09IFwic3RyaW5nXCIgKSAmJlxuXG5cdFx0Ly8gcGFyc2VGbG9hdCBOYU5zIG51bWVyaWMtY2FzdCBmYWxzZSBwb3NpdGl2ZXMgKFwiXCIpXG5cdFx0Ly8gLi4uYnV0IG1pc2ludGVycHJldHMgbGVhZGluZy1udW1iZXIgc3RyaW5ncywgcGFydGljdWxhcmx5IGhleCBsaXRlcmFscyAoXCIweC4uLlwiKVxuXHRcdC8vIHN1YnRyYWN0aW9uIGZvcmNlcyBpbmZpbml0aWVzIHRvIE5hTlxuXHRcdCFpc05hTiggb2JqIC0gcGFyc2VGbG9hdCggb2JqICkgKTtcbn07XG5cbmpRdWVyeS50cmltID0gZnVuY3Rpb24oIHRleHQgKSB7XG5cdHJldHVybiB0ZXh0ID09IG51bGwgP1xuXHRcdFwiXCIgOlxuXHRcdCggdGV4dCArIFwiXCIgKS5yZXBsYWNlKCBydHJpbSwgXCJcIiApO1xufTtcblxuXG5cbi8vIFJlZ2lzdGVyIGFzIGEgbmFtZWQgQU1EIG1vZHVsZSwgc2luY2UgalF1ZXJ5IGNhbiBiZSBjb25jYXRlbmF0ZWQgd2l0aCBvdGhlclxuLy8gZmlsZXMgdGhhdCBtYXkgdXNlIGRlZmluZSwgYnV0IG5vdCB2aWEgYSBwcm9wZXIgY29uY2F0ZW5hdGlvbiBzY3JpcHQgdGhhdFxuLy8gdW5kZXJzdGFuZHMgYW5vbnltb3VzIEFNRCBtb2R1bGVzLiBBIG5hbWVkIEFNRCBpcyBzYWZlc3QgYW5kIG1vc3Qgcm9idXN0XG4vLyB3YXkgdG8gcmVnaXN0ZXIuIExvd2VyY2FzZSBqcXVlcnkgaXMgdXNlZCBiZWNhdXNlIEFNRCBtb2R1bGUgbmFtZXMgYXJlXG4vLyBkZXJpdmVkIGZyb20gZmlsZSBuYW1lcywgYW5kIGpRdWVyeSBpcyBub3JtYWxseSBkZWxpdmVyZWQgaW4gYSBsb3dlcmNhc2Vcbi8vIGZpbGUgbmFtZS4gRG8gdGhpcyBhZnRlciBjcmVhdGluZyB0aGUgZ2xvYmFsIHNvIHRoYXQgaWYgYW4gQU1EIG1vZHVsZSB3YW50c1xuLy8gdG8gY2FsbCBub0NvbmZsaWN0IHRvIGhpZGUgdGhpcyB2ZXJzaW9uIG9mIGpRdWVyeSwgaXQgd2lsbCB3b3JrLlxuXG4vLyBOb3RlIHRoYXQgZm9yIG1heGltdW0gcG9ydGFiaWxpdHksIGxpYnJhcmllcyB0aGF0IGFyZSBub3QgalF1ZXJ5IHNob3VsZFxuLy8gZGVjbGFyZSB0aGVtc2VsdmVzIGFzIGFub255bW91cyBtb2R1bGVzLCBhbmQgYXZvaWQgc2V0dGluZyBhIGdsb2JhbCBpZiBhblxuLy8gQU1EIGxvYWRlciBpcyBwcmVzZW50LiBqUXVlcnkgaXMgYSBzcGVjaWFsIGNhc2UuIEZvciBtb3JlIGluZm9ybWF0aW9uLCBzZWVcbi8vIGh0dHBzOi8vZ2l0aHViLmNvbS9qcmJ1cmtlL3JlcXVpcmVqcy93aWtpL1VwZGF0aW5nLWV4aXN0aW5nLWxpYnJhcmllcyN3aWtpLWFub25cblxuaWYgKCB0eXBlb2YgZGVmaW5lID09PSBcImZ1bmN0aW9uXCIgJiYgZGVmaW5lLmFtZCApIHtcblx0ZGVmaW5lKCBcImpxdWVyeVwiLCBbXSwgZnVuY3Rpb24oKSB7XG5cdFx0cmV0dXJuIGpRdWVyeTtcblx0fSApO1xufVxuXG5cblxuXG52YXJcblxuXHQvLyBNYXAgb3ZlciBqUXVlcnkgaW4gY2FzZSBvZiBvdmVyd3JpdGVcblx0X2pRdWVyeSA9IHdpbmRvdy5qUXVlcnksXG5cblx0Ly8gTWFwIG92ZXIgdGhlICQgaW4gY2FzZSBvZiBvdmVyd3JpdGVcblx0XyQgPSB3aW5kb3cuJDtcblxualF1ZXJ5Lm5vQ29uZmxpY3QgPSBmdW5jdGlvbiggZGVlcCApIHtcblx0aWYgKCB3aW5kb3cuJCA9PT0galF1ZXJ5ICkge1xuXHRcdHdpbmRvdy4kID0gXyQ7XG5cdH1cblxuXHRpZiAoIGRlZXAgJiYgd2luZG93LmpRdWVyeSA9PT0galF1ZXJ5ICkge1xuXHRcdHdpbmRvdy5qUXVlcnkgPSBfalF1ZXJ5O1xuXHR9XG5cblx0cmV0dXJuIGpRdWVyeTtcbn07XG5cbi8vIEV4cG9zZSBqUXVlcnkgYW5kICQgaWRlbnRpZmllcnMsIGV2ZW4gaW4gQU1EXG4vLyAoIzcxMDIjY29tbWVudDoxMCwgaHR0cHM6Ly9naXRodWIuY29tL2pxdWVyeS9qcXVlcnkvcHVsbC81NTcpXG4vLyBhbmQgQ29tbW9uSlMgZm9yIGJyb3dzZXIgZW11bGF0b3JzICgjMTM1NjYpXG5pZiAoIHR5cGVvZiBub0dsb2JhbCA9PT0gXCJ1bmRlZmluZWRcIiApIHtcblx0d2luZG93LmpRdWVyeSA9IHdpbmRvdy4kID0galF1ZXJ5O1xufVxuXG5cblxuXG5yZXR1cm4galF1ZXJ5O1xufSApO1xuIl0sIm1hcHBpbmdzIjoiQUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTsiLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./node_modules/jquery/dist/jquery.js\n");

/***/ }),

/***/ "./node_modules/opensheetmusicdisplay/build/opensheetmusicdisplay.min.js":
/*!*******************************************************************************!*\
  !*** ./node_modules/opensheetmusicdisplay/build/opensheetmusicdisplay.min.js ***!
  \*******************************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

eval("!function(t,e){ true?module.exports=e():undefined}(window,(function(){return function(t){var e={};function i(s){if(e[s])return e[s].exports;var n=e[s]={i:s,l:!1,exports:{}};return t[s].call(n.exports,n,n.exports,i),n.l=!0,n.exports}return i.m=t,i.c=e,i.d=function(t,e,s){i.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:s})},i.r=function(t){\"undefined\"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:\"Module\"}),Object.defineProperty(t,\"__esModule\",{value:!0})},i.t=function(t,e){if(1&e&&(t=i(t)),8&e)return t;if(4&e&&\"object\"==typeof t&&t&&t.__esModule)return t;var s=Object.create(null);if(i.r(s),Object.defineProperty(s,\"default\",{enumerable:!0,value:t}),2&e&&\"string\"!=typeof t)for(var n in t)i.d(s,n,function(e){return t[e]}.bind(null,n));return s},i.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return i.d(e,\"a\",e),e},i.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},i.p=\"\",i(i.s=77)}([function(t,e,i){\"use strict\";Object.defineProperty(e,\"__esModule\",{value:!0});class s{constructor(t=0,e=1,i=0,s=!0){this.numerator=0,this.denominator=1,this.wholeValue=0,this.numerator=t,this.denominator=e,this.wholeValue=i,s&&this.simplify(),this.setRealValue()}static max(t,e){return t.RealValue>e.RealValue?t:e}static Equal(t,e){return t.wholeValue===e.wholeValue&&t.Denominator===e.Denominator&&t.Numerator===e.Numerator}static createFromFraction(t){return new s(t.numerator,t.denominator,t.wholeValue,!1)}static plus(t,e){const i=t.clone();return i.Add(e),i}static minus(t,e){const i=t.clone();return i.Sub(e),i}static multiply(t,e){return new s((t.wholeValue*t.denominator+t.numerator)*(e.wholeValue*e.denominator+e.numerator),t.denominator*e.denominator)}static greatestCommonDenominator(t,e){if(0===t)return e;if(1===e)return 1;for(;0!==e;)t>e?t-=e:e-=t;return t}toString(){let t=this.numerator+\"/\"+this.denominator;return 0!==this.wholeValue&&(t=this.wholeValue+\" \"+t),t}clone(){return new s(this.numerator,this.denominator,this.wholeValue,!1)}get Numerator(){return this.numerator}set Numerator(t){this.numerator!==t&&(this.numerator=t,this.simplify(),this.setRealValue())}get Denominator(){return this.denominator}set Denominator(t){this.denominator!==t&&(this.denominator=t,0!==this.numerator&&this.simplify(),this.setRealValue())}get WholeValue(){return this.wholeValue}set WholeValue(t){this.wholeValue!==t&&(this.wholeValue=t,this.setRealValue())}GetExpandedNumerator(){return this.wholeValue*this.denominator+this.numerator}IsNegative(){return this.realValue<0}get RealValue(){return this.realValue}expand(t){this.numerator*=t,this.denominator*=t,0!==this.wholeValue&&(this.numerator+=this.wholeValue*this.denominator,this.wholeValue=0)}Add(t){this.numerator=(this.wholeValue*this.denominator+this.numerator)*t.denominator+(t.wholeValue*t.denominator+t.numerator)*this.denominator,this.denominator=this.denominator*t.denominator,this.wholeValue=0,this.simplify(),this.setRealValue()}Sub(t){this.numerator=(this.wholeValue*this.denominator+this.numerator)*t.denominator-(t.wholeValue*t.denominator+t.numerator)*this.denominator,this.denominator=this.denominator*t.denominator,this.wholeValue=0,this.simplify(),this.setRealValue()}Quantize(t){if(this.denominator<=t)return this;const e=new s(this.numerator+1,this.denominator,this.wholeValue);for(;e.Denominator>t;)e.Numerator++;if(this.numerator>this.denominator){const i=new s(this.numerator-1,this.denominator,this.wholeValue);for(;i.Denominator>t;)i.Numerator--;if(i.Denominator<e.Denominator)return i}return e}Equals(t){return this.realValue===(null==t?void 0:t.realValue)}CompareTo(t){const e=this.realValue-t.realValue;return e?e<0?-1:1:0}lt(t){return this.realValue<t.realValue}lte(t){return this.realValue<=t.realValue}gt(t){return!this.lte(t)}gte(t){return!this.lt(t)}setRealValue(){this.realValue=this.wholeValue+this.numerator/this.denominator}simplify(){if(0===this.numerator)return void(this.denominator=1);const t=s.greatestCommonDenominator(Math.abs(this.numerator),Math.abs(this.denominator));this.numerator/=t,this.denominator/=t;const e=Math.floor(this.numerator/this.denominator);if(0!==e&&(this.wholeValue+=e,this.numerator-=e*this.denominator,0===this.numerator&&(this.denominator=1)),this.denominator>s.maximumAllowedNumber){const t=this.denominator/s.maximumAllowedNumber;this.numerator=Math.round(this.numerator/t),this.denominator=Math.round(this.denominator/t)}if(this.numerator>s.maximumAllowedNumber){const t=this.numerator/s.maximumAllowedNumber;this.numerator=Math.round(this.numerator/t),this.denominator=Math.round(this.denominator/t)}}isOnBeat(t){const e=this.distanceFromBeat(t);return Math.abs(e)<s.FloatInaccuracyTolerance}distanceFromBeat(t){const e=new s(1,t.Denominator);return this.RealValue%e.RealValue}}e.Fraction=s,s.maximumAllowedNumber=46340,s.FloatInaccuracyTolerance=1e-4},function(t,e,i){var s,n;!function(r,o){\"use strict\";void 0===(n=\"function\"==typeof(s=function(){var t=function(){},e=\"undefined\"!=typeof window&&void 0!==window.navigator&&/Trident\\/|MSIE /.test(window.navigator.userAgent),i=[\"trace\",\"debug\",\"info\",\"warn\",\"error\"];function s(t,e){var i=t[e];if(\"function\"==typeof i.bind)return i.bind(t);try{return Function.prototype.bind.call(i,t)}catch(e){return function(){return Function.prototype.apply.apply(i,[t,arguments])}}}function n(){console.log&&(console.log.apply?console.log.apply(console,arguments):Function.prototype.apply.apply(console.log,[console,arguments])),console.trace&&console.trace()}function r(i){return\"debug\"===i&&(i=\"log\"),\"undefined\"!=typeof console&&(\"trace\"===i&&e?n:void 0!==console[i]?s(console,i):void 0!==console.log?s(console,\"log\"):t)}function o(e,s){for(var n=0;n<i.length;n++){var r=i[n];this[r]=n<e?t:this.methodFactory(r,e,s)}this.log=this.debug}function a(t,e,i){return function(){\"undefined\"!=typeof console&&(o.call(this,e,i),this[t].apply(this,arguments))}}function h(t,e,i){return r(t)||a.apply(this,arguments)}function l(t,e,s){var n,r=this,a=\"loglevel\";function l(){var t;if(\"undefined\"!=typeof window){try{t=window.localStorage[a]}catch(t){}if(void 0===t)try{var e=window.document.cookie,i=e.indexOf(encodeURIComponent(a)+\"=\");-1!==i&&(t=/^([^;]+)/.exec(e.slice(i))[1])}catch(t){}return void 0===r.levels[t]&&(t=void 0),t}}t&&(a+=\":\"+t),r.name=t,r.levels={TRACE:0,DEBUG:1,INFO:2,WARN:3,ERROR:4,SILENT:5},r.methodFactory=s||h,r.getLevel=function(){return n},r.setLevel=function(e,s){if(\"string\"==typeof e&&void 0!==r.levels[e.toUpperCase()]&&(e=r.levels[e.toUpperCase()]),!(\"number\"==typeof e&&e>=0&&e<=r.levels.SILENT))throw\"log.setLevel() called with invalid level: \"+e;if(n=e,!1!==s&&function(t){var e=(i[t]||\"silent\").toUpperCase();if(\"undefined\"!=typeof window){try{return void(window.localStorage[a]=e)}catch(t){}try{window.document.cookie=encodeURIComponent(a)+\"=\"+e+\";\"}catch(t){}}}(e),o.call(r,e,t),\"undefined\"==typeof console&&e<r.levels.SILENT)return\"No console available for logging\"},r.setDefaultLevel=function(t){l()||r.setLevel(t,!1)},r.enableAll=function(t){r.setLevel(r.levels.TRACE,t)},r.disableAll=function(t){r.setLevel(r.levels.SILENT,t)};var c=l();null==c&&(c=null==e?\"WARN\":e),r.setLevel(c,!1)}var c=new l,u={};c.getLogger=function(t){if(\"string\"!=typeof t||\"\"===t)throw new TypeError(\"You must supply a name when creating a logger.\");var e=u[t];return e||(e=u[t]=new l(t,c.getLevel(),c.methodFactory)),e};var d=\"undefined\"!=typeof window?window.log:void 0;return c.noConflict=function(){return\"undefined\"!=typeof window&&window.log===c&&(window.log=d),c},c.getLoggers=function(){return u},c})?s.call(e,i,e,t):s)||(t.exports=n)}()},function(t,e,i){\"use strict\";var s,n;Object.defineProperty(e,\"__esModule\",{value:!0}),function(t){t[t.C=0]=\"C\",t[t.D=2]=\"D\",t[t.E=4]=\"E\",t[t.F=5]=\"F\",t[t.G=7]=\"G\",t[t.A=9]=\"A\",t[t.B=11]=\"B\"}(s=e.NoteEnum||(e.NoteEnum={})),function(t){t[t.SHARP=0]=\"SHARP\",t[t.FLAT=1]=\"FLAT\",t[t.NONE=2]=\"NONE\",t[t.NATURAL=3]=\"NATURAL\",t[t.DOUBLESHARP=4]=\"DOUBLESHARP\",t[t.DOUBLEFLAT=5]=\"DOUBLEFLAT\",t[t.TRIPLESHARP=6]=\"TRIPLESHARP\",t[t.TRIPLEFLAT=7]=\"TRIPLEFLAT\",t[t.QUARTERTONESHARP=8]=\"QUARTERTONESHARP\",t[t.QUARTERTONEFLAT=9]=\"QUARTERTONEFLAT\"}(n=e.AccidentalEnum||(e.AccidentalEnum={}));class r{constructor(t,e,i){this.accidental=n.NONE,this.fundamentalNote=t,this.octave=e,this.accidental=i,this.halfTone=t+12*(e+r.octXmlDiff)+r.HalfTonesFromAccidental(i),this.frequency=r.calcFrequency(this)}static getNoteEnumString(t){switch(t){case s.C:return\"C\";case s.D:return\"D\";case s.E:return\"E\";case s.F:return\"F\";case s.G:return\"G\";case s.A:return\"A\";case s.B:return\"B\";default:return\"\"}}static CalculateTransposedHalfTone(t,e){const i=t.fundamentalNote+t.AccidentalHalfTones+e;return r.WrapAroundCheck(i,12)}static WrapAroundCheck(t,e){let i=0;for(;t<0;)t+=e,i--;for(;t>=e;)t-=e,i++;return{overflow:i,value:t}}static calcFrequency(t){let e,i=0;if(t instanceof r){const n=t;i=n.octave-1,e=n.fundamentalNote-s.A+n.AccidentalHalfTones}else if(\"number\"==typeof t){e=t-57}return 440*Math.pow(2,i)*Math.pow(2,e/12)}static calcFractionalKey(t){return Math.log(t/440)/Math.LN10*r.halftoneFactor+57}static fromFrequency(t){const e=r.calcFractionalKey(t)+.5,i=Math.floor(e/12)-r.octXmlDiff,s=Math.floor(e)%12;let o=s,a=n.NONE;return-1===this.pitchEnumValues.indexOf(o)&&(o=s-1,a=n.SHARP),new r(o,i,a)}static fromHalftone(t){const e=Math.floor(t/12)-r.octXmlDiff,i=t%12;let s=i,o=n.NONE;return-1===this.pitchEnumValues.indexOf(s)&&(s=i-1,o=n.SHARP),new r(s,e,o)}static ceiling(t){let e=t%=12;return-1===this.pitchEnumValues.indexOf(e)&&(e=t+1),e}static floor(t){let e=t%=12;return-1===this.pitchEnumValues.indexOf(e)&&(e=t-1),e}static HalfTonesFromAccidental(t){switch(t){case n.NONE:return 0;case n.SHARP:return 1;case n.FLAT:return-1;case n.NATURAL:return 0;case n.DOUBLESHARP:return 2;case n.DOUBLEFLAT:return-2;case n.QUARTERTONESHARP:return.5;case n.QUARTERTONEFLAT:return-.5;case n.TRIPLESHARP:return 3;case n.TRIPLEFLAT:return-3;default:throw new Error(\"Unhandled AccidentalEnum value\")}}static AccidentalFromHalfTones(t){switch(t){case 0:return n.NONE;case 1:return n.SHARP;case-1:return n.FLAT;case 2:return n.DOUBLESHARP;case-2:return n.DOUBLEFLAT;case.5:return n.QUARTERTONESHARP;case-.5:return n.QUARTERTONEFLAT;case 3:return n.TRIPLESHARP;case-3:return n.TRIPLEFLAT;default:return t>0&&t<1?n.QUARTERTONESHARP:t<0&&t>-1?n.QUARTERTONEFLAT:n.QUARTERTONESHARP}}static accidentalVexflow(t){let e;switch(t){case n.NATURAL:e=\"n\";break;case n.FLAT:e=\"b\";break;case n.SHARP:e=\"#\";break;case n.DOUBLESHARP:e=\"##\";break;case n.TRIPLESHARP:e=\"++\";break;case n.DOUBLEFLAT:e=\"bb\";break;case n.TRIPLEFLAT:e=\"bbs\";break;case n.QUARTERTONESHARP:e=\"+\";break;case n.QUARTERTONEFLAT:e=\"d\"}return e}get AccidentalHalfTones(){return r.HalfTonesFromAccidental(this.accidental)}get Octave(){return this.octave}get FundamentalNote(){return this.fundamentalNote}get Accidental(){return this.accidental}get Frequency(){return this.frequency}static get OctaveXmlDifference(){return r.octXmlDiff}getHalfTone(){return this.halfTone}getTransposedPitch(t){if(t>12)throw new Error(\"rewrite this method to handle bigger octave changes or don't use is with bigger octave changes!\");return t>0?this.getHigherPitchByTransposeFactor(t):t<0?this.getLowerPitchByTransposeFactor(-t):this}DoEnharmonicChange(){switch(this.accidental){case n.FLAT:case n.DOUBLEFLAT:this.fundamentalNote=this.getPreviousFundamentalNote(this.fundamentalNote),this.accidental=r.AccidentalFromHalfTones(this.halfTone-(this.fundamentalNote+12*(this.octave+r.octXmlDiff)));break;case n.SHARP:case n.DOUBLESHARP:this.fundamentalNote=this.getNextFundamentalNote(this.fundamentalNote),this.accidental=r.AccidentalFromHalfTones(this.halfTone-(this.fundamentalNote+12*(this.octave+r.octXmlDiff)));break;default:return}}ToString(){let t=r.accidentalVexflow(this.accidental);return t||(t=\"\"),\"Key: \"+r.getNoteEnumString(this.fundamentalNote)+t+\", Note: \"+this.fundamentalNote+\", octave: \"+this.octave.toString()}OperatorEquals(t){return!(!this||!t)&&(this.FundamentalNote===t.FundamentalNote&&this.Octave===t.Octave&&this.Accidental===t.Accidental)}OperatorNotEqual(t){return!(this===t)}getHigherPitchByTransposeFactor(t){const e=r.pitchEnumValues.indexOf(this.fundamentalNote);let i,s=this.octave;return e+t>r.pitchEnumValues.length-1?(i=r.pitchEnumValues[e+t-r.pitchEnumValues.length],s++):i=r.pitchEnumValues[e+t],new r(i,s,n.NONE)}getLowerPitchByTransposeFactor(t){const e=r.pitchEnumValues.indexOf(this.fundamentalNote);let i,s=this.octave;return e-t<0?(i=r.pitchEnumValues[r.pitchEnumValues.length+e-t],s--):i=r.pitchEnumValues[e-t],new r(i,s,n.NONE)}getNextFundamentalNote(t){let e=r.pitchEnumValues.indexOf(t);return e=(e+1)%r.pitchEnumValues.length,r.pitchEnumValues[e]}getPreviousFundamentalNote(t){const e=r.pitchEnumValues.indexOf(t);return e>0?r.pitchEnumValues[e-1]:r.pitchEnumValues[r.pitchEnumValues.length-1]}}e.Pitch=r,r.pitchEnumValues=[s.C,s.D,s.E,s.F,s.G,s.A,s.B],r.halftoneFactor=12/(Math.LN2/Math.LN10),r.octXmlDiff=3},function(t,e,i){\"use strict\";var s=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,\"__esModule\",{value:!0});const n=s(i(1)),r=i(11),o=i(4),a=i(80),h=i(52),l=i(53),c=i(29);var u;e.BoundingBox=class{constructor(t,e,i=!1){this.isSymbol=!1,this.relativePositionHasBeenSet=!1,this.xBordersHaveBeenSet=!1,this.yBordersHaveBeenSet=!1,this.absolutePosition=new o.PointF2D,this.relativePosition=new o.PointF2D,this.size=new a.SizeF2D,this.marginSize=new a.SizeF2D,this.upperLeftCorner=new o.PointF2D,this.upperLeftMarginCorner=new o.PointF2D,this.borderLeft=0,this.borderRight=0,this.borderTop=0,this.borderBottom=0,this.borderMarginLeft=0,this.borderMarginRight=0,this.borderMarginTop=0,this.borderMarginBottom=0,this.childElements=[],this.parent=e,this.dataObject=t,this.isSymbol=i,this.xBordersHaveBeenSet=!1,this.yBordersHaveBeenSet=!1,e&&(this.Parent=e)}get RelativePositionHasBeenSet(){return this.relativePositionHasBeenSet}get XBordersHaveBeenSet(){return this.xBordersHaveBeenSet}set XBordersHaveBeenSet(t){this.xBordersHaveBeenSet=t}get YBordersHaveBeenSet(){return this.yBordersHaveBeenSet}set YBordersHaveBeenSet(t){this.yBordersHaveBeenSet=t}get AbsolutePosition(){return this.absolutePosition}set AbsolutePosition(t){this.absolutePosition=t}get RelativePosition(){return this.relativePosition}set RelativePosition(t){this.relativePosition=t,this.relativePositionHasBeenSet=!0}get Size(){return this.size}set Size(t){this.size=t}get MarginSize(){return this.marginSize}get UpperLeftCorner(){return this.upperLeftCorner}get UpperLeftMarginCorner(){return this.upperLeftMarginCorner}get BorderLeft(){return this.borderLeft}set BorderLeft(t){this.borderLeft=t,this.calculateRectangle()}get BorderRight(){return this.borderRight}set BorderRight(t){this.borderRight=t,this.calculateRectangle()}get BorderTop(){return this.borderTop}set BorderTop(t){this.borderTop=t,this.calculateRectangle()}get BorderBottom(){return this.borderBottom}set BorderBottom(t){this.borderBottom=t,this.calculateRectangle()}get BorderMarginLeft(){return this.borderMarginLeft>this.borderLeft?this.borderLeft:this.borderMarginLeft}set BorderMarginLeft(t){this.borderMarginLeft=t,this.calculateMarginRectangle()}get BorderMarginRight(){return this.borderMarginRight<this.borderRight?this.borderRight:this.borderMarginRight}set BorderMarginRight(t){this.borderMarginRight=t,this.calculateMarginRectangle()}get BorderMarginTop(){return this.borderMarginTop>this.borderTop?this.borderTop:this.borderMarginTop}set BorderMarginTop(t){this.borderMarginTop=t,this.calculateMarginRectangle()}get BorderMarginBottom(){return this.borderMarginBottom<this.borderBottom?this.borderBottom:this.borderMarginBottom}set BorderMarginBottom(t){this.borderMarginBottom=t,this.calculateMarginRectangle()}get BoundingRectangle(){return this.boundingRectangle}get BoundingMarginRectangle(){return this.boundingMarginRectangle}get ChildElements(){return this.childElements}set ChildElements(t){this.childElements=t}get Parent(){return this.parent}set Parent(t){if(this.parent){const t=this.parent.ChildElements.indexOf(this,0);t>-1&&this.parent.ChildElements.splice(t,1)}this.parent=t,this.parent.ChildElements.indexOf(this)>-1?n.default.error(\"BoundingBox of \"+this.dataObject.constructor.name+\" already in children list of \"+this.parent.dataObject.constructor.name+\"'s BoundingBox\"):this.parent.ChildElements.push(this)}get DataObject(){return this.dataObject}get Center(){return new o.PointF2D(this.RelativePosition.x+(this.BorderMarginRight+this.BorderMarginLeft),this.RelativePosition.y+(this.BorderMarginBottom+this.BorderMarginTop))}setAbsolutePositionFromParent(){this.parent?(this.absolutePosition.x=this.parent.AbsolutePosition.x+this.relativePosition.x,this.absolutePosition.y=this.parent.AbsolutePosition.y+this.relativePosition.y):this.absolutePosition=this.relativePosition}calculateAbsolutePosition(){this.absolutePosition.x=this.relativePosition.x,this.absolutePosition.y=this.relativePosition.y;let t=this.parent;for(;t;)this.absolutePosition.x+=t.relativePosition.x,this.absolutePosition.y+=t.relativePosition.y,t=t.parent}calculateAbsolutePositionsRecursiveWithoutTopelement(){this.absolutePosition.x=0,this.absolutePosition.y=0;for(let t=0,e=this.ChildElements.length;t<e;++t){this.ChildElements[t].calculateAbsolutePositionsRecursive(this.absolutePosition.x,this.absolutePosition.y)}}calculateAbsolutePositionsRecursive(t,e){this.absolutePosition.x=this.relativePosition.x+t,this.absolutePosition.y=this.relativePosition.y+e;for(let t=0,e=this.ChildElements.length;t<e;++t){this.ChildElements[t].calculateAbsolutePositionsRecursive(this.absolutePosition.x,this.absolutePosition.y)}}calculateAbsolutePositionsOfChildren(){for(let t=0,e=this.ChildElements.length;t<e;++t){this.ChildElements[t].calculateAbsolutePositionsRecursive(this.absolutePosition.x,this.absolutePosition.y)}}calculateBoundingBox(){if(0===this.childElements.length)return;for(let t=0,e=this.ChildElements.length;t<e;++t){this.ChildElements[t].calculateBoundingBox()}let t=Number.MAX_VALUE,e=Number.MIN_VALUE,i=Number.MAX_VALUE,s=Number.MIN_VALUE,n=Number.MAX_VALUE,r=Number.MIN_VALUE,o=Number.MAX_VALUE,a=Number.MIN_VALUE;this.isSymbol&&(t=this.borderLeft,e=this.borderRight,i=this.borderTop,s=this.borderBottom,n=this.borderMarginLeft,r=this.borderMarginRight,o=this.borderMarginTop,a=this.borderMarginBottom);for(let h=0,l=this.ChildElements.length;h<l;++h){const l=this.ChildElements[h];t=Math.min(t,l.relativePosition.x+l.borderLeft),e=Math.max(e,l.relativePosition.x+l.borderRight),i=Math.min(i,l.relativePosition.y+l.borderTop),s=Math.max(s,l.relativePosition.y+l.borderBottom),n=Math.min(n,l.relativePosition.x+l.borderMarginLeft),r=Math.max(r,l.relativePosition.x+l.borderMarginRight),o=Math.min(o,l.relativePosition.y+l.borderMarginTop),a=Math.max(a,l.relativePosition.y+l.borderMarginBottom)}this.borderLeft=t,this.borderRight=e,this.borderTop=i,this.borderBottom=s,this.borderMarginLeft=n,this.borderMarginRight=r,this.borderMarginTop=o,this.borderMarginBottom=a,this.calculateRectangle(),this.calculateMarginRectangle(),this.xBordersHaveBeenSet=!0,this.yBordersHaveBeenSet=!0}calculateTopBottomBorders(){if(0===this.childElements.length)return;for(let t=0,e=this.ChildElements.length;t<e;++t){this.ChildElements[t].calculateTopBottomBorders()}let t=Number.MAX_VALUE,e=Number.MIN_VALUE,i=Number.MAX_VALUE,s=Number.MIN_VALUE;this.yBordersHaveBeenSet&&(t=this.borderTop,e=this.borderBottom,i=this.borderMarginTop,s=this.borderMarginBottom);for(let n=0,r=this.ChildElements.length;n<r;++n){const r=this.ChildElements[n];t=Math.min(t,r.relativePosition.y+r.borderTop),c.EngravingRules.FixStafflineBoundingBox&&r.dataObject instanceof l.StaffLineActivitySymbol||(e=Math.max(e,r.relativePosition.y+r.borderBottom)),i=Math.min(i,r.relativePosition.y+r.borderMarginTop),s=Math.max(s,r.relativePosition.y+r.borderMarginBottom)}this.borderTop=t,this.borderBottom=e,this.borderMarginTop=i,this.borderMarginBottom=s,this.calculateRectangle(),this.calculateMarginRectangle()}computeNonOverlappingPositionWithMargin(t,e,i){this.RelativePosition=new o.PointF2D(i.x,i.y),this.setAbsolutePositionFromParent();let s=0,n=!1;do{switch(e){case u.Left:case u.Right:s=this.relativePosition.x,t.calculateMarginPositionAlongDirection(this,e),n=Math.abs(s-this.relativePosition.x)>.001;break;case u.Up:case u.Down:s=this.relativePosition.y,t.calculateMarginPositionAlongDirection(this,e),n=Math.abs(s-this.relativePosition.y)>.001;break;default:throw new r.ArgumentOutOfRangeException(\"direction\")}}while(n)}collisionDetection(t){const e=Math.min(this.AbsolutePosition.x+this.borderRight,t.absolutePosition.x+t.borderRight)-Math.max(this.AbsolutePosition.x+this.borderLeft,t.absolutePosition.x+t.borderLeft),i=Math.min(this.AbsolutePosition.y+this.borderBottom,t.absolutePosition.y+t.borderBottom)-Math.max(this.AbsolutePosition.y+this.borderTop,t.absolutePosition.y+t.borderTop);return e>0&&i>0}liesInsideBorders(t){const e=this.AbsolutePosition.x+this.borderLeft<=t.absolutePosition.x+t.borderLeft&&t.absolutePosition.x+t.borderLeft<=this.AbsolutePosition.x+this.borderRight,i=this.AbsolutePosition.x+this.borderLeft<=t.absolutePosition.x+t.borderRight&&t.absolutePosition.x+t.borderRight<=this.AbsolutePosition.x+this.borderRight;if(e&&i){const e=this.AbsolutePosition.y+this.borderTop<=t.absolutePosition.y+t.borderTop&&t.absolutePosition.y+t.borderTop<=this.AbsolutePosition.y+this.borderBottom,i=this.AbsolutePosition.y+this.borderTop<=t.absolutePosition.y+t.borderBottom&&t.absolutePosition.y+t.borderBottom<=this.AbsolutePosition.y+this.borderBottom;if(e&&i)return!0}return!1}pointLiesInsideBorders(t){if(this.AbsolutePosition.x+this.borderLeft<=t.x&&t.x<=this.AbsolutePosition.x+this.borderRight){if(this.AbsolutePosition.y+this.borderTop<=t.y&&t.y<=this.AbsolutePosition.y+this.borderBottom)return!0}return!1}marginCollisionDetection(t){const e=Math.min(this.AbsolutePosition.x+this.borderMarginRight,t.absolutePosition.x+t.borderMarginRight)-Math.max(this.AbsolutePosition.x+this.borderMarginLeft,t.absolutePosition.x+t.borderMarginLeft),i=Math.min(this.AbsolutePosition.y+this.borderMarginBottom,t.absolutePosition.y+t.borderMarginBottom)-Math.max(this.AbsolutePosition.y+this.borderMarginTop,t.absolutePosition.y+t.borderMarginTop);return e>0&&i>0}liesInsideMargins(t){const e=this.AbsolutePosition.x+this.borderMarginLeft<=t.absolutePosition.x+t.borderMarginLeft&&t.absolutePosition.x+t.borderMarginLeft<=this.AbsolutePosition.x+this.borderMarginRight,i=this.AbsolutePosition.x+this.borderMarginLeft<=t.absolutePosition.x+t.borderMarginRight&&t.absolutePosition.x+t.borderMarginRight<=this.AbsolutePosition.x+this.borderMarginRight;if(e&&i){const e=this.AbsolutePosition.y+this.borderMarginTop<=t.absolutePosition.y+t.borderMarginTop&&t.absolutePosition.y+t.borderMarginTop<=this.AbsolutePosition.y+this.borderMarginBottom,i=this.AbsolutePosition.y+this.borderMarginTop<=t.absolutePosition.y+t.borderMarginBottom&&t.absolutePosition.y+t.borderMarginBottom<=this.AbsolutePosition.y+this.borderMarginBottom;if(e&&i)return!0}return!1}pointLiesInsideMargins(t){if(this.AbsolutePosition.x+this.borderMarginLeft<=t.x&&t.x<=this.AbsolutePosition.x+this.borderMarginRight){if(this.AbsolutePosition.y+this.borderMarginTop<=t.y&&t.y<=this.AbsolutePosition.y+this.borderMarginBottom)return!0}return!1}computeNonOverlappingPosition(t,e,i){this.RelativePosition=new o.PointF2D(i.x,i.y),this.setAbsolutePositionFromParent();let s=0,n=!1;do{switch(e){case u.Left:case u.Right:s=this.relativePosition.x,t.calculatePositionAlongDirection(this,e),n=Math.abs(s-this.relativePosition.x)>1e-4;break;case u.Up:case u.Down:s=this.relativePosition.y,t.calculatePositionAlongDirection(this,e),n=Math.abs(s-this.relativePosition.y)>1e-4;break;default:throw new r.ArgumentOutOfRangeException(\"direction\")}}while(n)}getClickedObjectOfType(t){const e=this.dataObject;if(this.pointLiesInsideBorders(t)&&e)return e;for(let e=0,i=this.childElements.length;e<i;++e){const i=this.childElements[e].getClickedObjectOfType(t);if(i)return i}}getObjectsInRegion(t,e=!0){if(this.dataObject)if(e){if(t.liesInsideBorders(this))return[this.dataObject]}else if(t.collisionDetection(this))return[this.dataObject];const i=[];for(const s of this.childElements)i.concat(s.getObjectsInRegion(t,e));return i}calculateRectangle(){this.upperLeftCorner=new o.PointF2D(this.BorderLeft,this.BorderTop),this.size=new a.SizeF2D(this.BorderRight-this.BorderLeft,this.BorderBottom-this.BorderTop),this.boundingRectangle=h.RectangleF2D.createFromLocationAndSize(this.upperLeftCorner,this.size)}calculateMarginRectangle(){this.upperLeftMarginCorner=new o.PointF2D(this.BorderMarginLeft,this.BorderMarginTop),this.marginSize=new a.SizeF2D(this.BorderMarginRight-this.BorderMarginLeft,this.BorderMarginBottom-this.BorderMarginTop),this.boundingMarginRectangle=h.RectangleF2D.createFromLocationAndSize(this.upperLeftMarginCorner,this.marginSize)}calculateMarginPositionAlongDirection(t,e){if(this!==t){if(this.isSymbol&&this.marginCollisionDetection(t)){let i=0;switch(e){case u.Left:return i=this.absolutePosition.x+this.borderMarginLeft-(t.absolutePosition.x+t.borderMarginRight),t.relativePosition.x+=i,void(t.absolutePosition.x+=i);case u.Right:return i=this.absolutePosition.x+this.borderMarginRight-(t.absolutePosition.x+t.borderMarginLeft),t.relativePosition.x+=i,void(t.absolutePosition.x+=i);case u.Up:return i=this.absolutePosition.y+this.borderMarginTop-(t.absolutePosition.y+t.borderMarginBottom),t.relativePosition.y+=i,void(t.absolutePosition.y+=i);case u.Down:return i=this.absolutePosition.y+this.borderMarginBottom-(t.absolutePosition.y+t.borderMarginTop),t.relativePosition.y+=i,void(t.absolutePosition.y+=i);default:throw new r.ArgumentOutOfRangeException(\"direction\")}}for(let i=0,s=this.ChildElements.length;i<s;++i){this.ChildElements[i].calculateMarginPositionAlongDirection(t,e)}}}calculatePositionAlongDirection(t,e){if(this!==t){if(this.isSymbol&&this.collisionDetection(t)){let i;switch(e){case u.Left:return i=this.absolutePosition.x+this.borderLeft-(t.absolutePosition.x+t.borderRight),t.relativePosition.x+=i,void(t.absolutePosition.x+=i);case u.Right:return i=this.absolutePosition.x+this.borderRight-(t.absolutePosition.x+t.borderLeft),t.relativePosition.x+=i,void(t.absolutePosition.x+=i);case u.Up:return i=this.absolutePosition.y+this.borderTop-(t.absolutePosition.y+t.borderBottom),t.relativePosition.y+=i,void(t.absolutePosition.y+=i);case u.Down:return i=this.absolutePosition.y+this.borderBottom-(t.absolutePosition.y+t.borderTop),t.relativePosition.y+=i,void(t.absolutePosition.y+=i);default:throw new r.ArgumentOutOfRangeException(\"direction\")}}for(let i=0,s=this.ChildElements.length;i<s;++i){this.ChildElements[i].calculatePositionAlongDirection(t,e)}}}},function(t){t[t.Left=0]=\"Left\",t[t.Right=1]=\"Right\",t[t.Up=2]=\"Up\",t[t.Down=3]=\"Down\"}(u=e.ColDirEnum||(e.ColDirEnum={}))},function(t,e,i){\"use strict\";Object.defineProperty(e,\"__esModule\",{value:!0});class s{constructor(t=0,e=0){this.x=0,this.y=0,this.x=t,this.y=e}static get Empty(){return new s}static pointsAreEqual(t,e){return t.x===e.x&&t.y===e.y}ToString(){return\"[\"+this.x+\", \"+this.y+\"]\"}}e.PointF2D=s},function(t,e,i){\"use strict\";Object.defineProperty(e,\"__esModule\",{value:!0});e.GraphicalObject=class{get PositionAndShape(){return this.boundingBox}set PositionAndShape(t){this.boundingBox=t}}},function(t,e,i){\"use strict\";Object.defineProperty(e,\"__esModule\",{value:!0});var s;e.AbstractExpression=class{constructor(t){this.placement=t}static isStringInStringList(t,e){for(let i=0,s=t.length;i<s;++i){const s=t[i];if(e.toLowerCase()===s.toLowerCase().trim())return!0}return!1}get Placement(){return this.placement}static PlacementEnumFromString(t){switch(t.toLowerCase()){case\"above\":return s.Above;case\"below\":return s.Below;case\"left\":return s.Left;case\"right\":return s.Right;case\"auto\":default:return s.NotYetDefined}}},function(t){t[t.Above=0]=\"Above\",t[t.Below=1]=\"Below\",t[t.Left=2]=\"Left\",t[t.Right=3]=\"Right\",t[t.NotYetDefined=4]=\"NotYetDefined\"}(s=e.PlacementEnum||(e.PlacementEnum={}))},function(t,e,i){\"use strict\";var s;Object.defineProperty(e,\"__esModule\",{value:!0}),function(t){t[t.LeftTop=0]=\"LeftTop\",t[t.LeftCenter=1]=\"LeftCenter\",t[t.LeftBottom=2]=\"LeftBottom\",t[t.CenterTop=3]=\"CenterTop\",t[t.CenterCenter=4]=\"CenterCenter\",t[t.CenterBottom=5]=\"CenterBottom\",t[t.RightTop=6]=\"RightTop\",t[t.RightCenter=7]=\"RightCenter\",t[t.RightBottom=8]=\"RightBottom\"}(s=e.TextAlignmentEnum||(e.TextAlignmentEnum={}));e.TextAlignment=class{static IsLeft(t){return t===s.LeftTop||t===s.LeftCenter||t===s.LeftBottom}static IsCenterAligned(t){return t===s.CenterTop||t===s.CenterCenter||t===s.CenterBottom}static IsRight(t){return t===s.RightTop||t===s.RightCenter||t===s.RightBottom}}},function(t,e,i){\"use strict\";Object.defineProperty(e,\"__esModule\",{value:!0});const s=i(2),n=i(45),r=i(2),o=i(2),a=i(11);class h extends n.AbstractNotationInstruction{constructor(t=l.G,e=0,i=2){super(void 0),this.clefType=l.G,this.line=2,this.octaveOffset=0,this.line=i,this.clefType=t,this.octaveOffset=e,this.calcParameters()}static getDefaultClefFromMidiInstrument(t){switch(t){case c.Acoustic_Grand_Piano:case c.Electric_Bass_finger:case c.Electric_Bass_pick:case c.Fretless_Bass:case c.Slap_Bass_1:case c.Slap_Bass_2:case c.Synth_Bass_1:case c.Synth_Bass_2:case c.Contrabass:return new h(l.F,0,4);default:return new h(l.G,0,2)}}static getAllPossibleClefs(){const t=[];for(let e=0;e<=2;e++){const i=new h(l.G,e,2);t.push(i)}for(let e=-2;e<=0;e++){const i=new h(l.F,e,4);t.push(i)}return t}static isSupportedClef(t){switch(t){case l.G:case l.F:case l.C:case l.percussion:case l.TAB:return!0;default:return!1}}get ClefType(){return this.clefType}set ClefType(t){this.clefType=t}get Line(){return this.line}set Line(t){this.line=t}get OctaveOffset(){return this.octaveOffset}set OctaveOffset(t){this.octaveOffset=t}get ClefPitch(){return this.clefPitch}set ClefPitch(t){this.clefPitch=t}get ReferenceCyPosition(){return this.referenceCyPosition}set ReferenceCyPosition(t){this.referenceCyPosition=t}Equals(t){return this===t||!(!this||!t)&&(this.clefPitch===t.clefPitch&&this.Line===t.Line)}NotEqual(t){return!this.Equals(t)}ToString(){return\"ClefType: \"+this.clefType}calcParameters(){switch(this.clefType){case l.G:this.clefPitch=new s.Pitch(r.NoteEnum.G,1+this.octaveOffset,o.AccidentalEnum.NONE),this.referenceCyPosition=5-this.line+2;break;case l.F:this.clefPitch=new s.Pitch(r.NoteEnum.F,0+this.octaveOffset,o.AccidentalEnum.NONE),this.referenceCyPosition=5-this.line+1.5;break;case l.C:this.clefPitch=new s.Pitch(r.NoteEnum.C,1+this.octaveOffset,o.AccidentalEnum.NONE),this.referenceCyPosition=5-this.line;break;case l.percussion:this.clefPitch=new s.Pitch(r.NoteEnum.C,2,o.AccidentalEnum.NONE),this.referenceCyPosition=2;break;case l.TAB:this.clefPitch=new s.Pitch(r.NoteEnum.G,0,o.AccidentalEnum.NONE),this.referenceCyPosition=0;break;default:throw new a.ArgumentOutOfRangeException(\"clefType\")}}}var l,c;e.ClefInstruction=h,function(t){t[t.G=0]=\"G\",t[t.F=1]=\"F\",t[t.C=2]=\"C\",t[t.percussion=3]=\"percussion\",t[t.TAB=4]=\"TAB\"}(l=e.ClefEnum||(e.ClefEnum={})),function(t){t[t.None=-1]=\"None\",t[t.Acoustic_Grand_Piano=0]=\"Acoustic_Grand_Piano\",t[t.Bright_Acoustic_Piano=1]=\"Bright_Acoustic_Piano\",t[t.Electric_Grand_Piano=2]=\"Electric_Grand_Piano\",t[t.Honky_tonk_Piano=3]=\"Honky_tonk_Piano\",t[t.Electric_Piano_1=4]=\"Electric_Piano_1\",t[t.Electric_Piano_2=5]=\"Electric_Piano_2\",t[t.Harpsichord=6]=\"Harpsichord\",t[t.Clavinet=7]=\"Clavinet\",t[t.Celesta=8]=\"Celesta\",t[t.Glockenspiel=9]=\"Glockenspiel\",t[t.Music_Box=10]=\"Music_Box\",t[t.Vibraphone=11]=\"Vibraphone\",t[t.Marimba=12]=\"Marimba\",t[t.Xylophone=13]=\"Xylophone\",t[t.Tubular_Bells=14]=\"Tubular_Bells\",t[t.Dulcimer=15]=\"Dulcimer\",t[t.Drawbar_Organ=16]=\"Drawbar_Organ\",t[t.Percussive_Organ=17]=\"Percussive_Organ\",t[t.Rock_Organ=18]=\"Rock_Organ\",t[t.Church_Organ=19]=\"Church_Organ\",t[t.Reed_Organ=20]=\"Reed_Organ\",t[t.Accordion=21]=\"Accordion\",t[t.Harmonica=22]=\"Harmonica\",t[t.Tango_Accordion=23]=\"Tango_Accordion\",t[t.Acoustic_Guitar_nylon=24]=\"Acoustic_Guitar_nylon\",t[t.Acoustic_Guitar_steel=25]=\"Acoustic_Guitar_steel\",t[t.Electric_Guitar_jazz=26]=\"Electric_Guitar_jazz\",t[t.Electric_Guitar_clean=27]=\"Electric_Guitar_clean\",t[t.Electric_Guitar_muted=28]=\"Electric_Guitar_muted\",t[t.Overdriven_Guitar=29]=\"Overdriven_Guitar\",t[t.Distortion_Guitar=30]=\"Distortion_Guitar\",t[t.Guitar_harmonics=31]=\"Guitar_harmonics\",t[t.Acoustic_Bass=32]=\"Acoustic_Bass\",t[t.Electric_Bass_finger=33]=\"Electric_Bass_finger\",t[t.Electric_Bass_pick=34]=\"Electric_Bass_pick\",t[t.Fretless_Bass=35]=\"Fretless_Bass\",t[t.Slap_Bass_1=36]=\"Slap_Bass_1\",t[t.Slap_Bass_2=37]=\"Slap_Bass_2\",t[t.Synth_Bass_1=38]=\"Synth_Bass_1\",t[t.Synth_Bass_2=39]=\"Synth_Bass_2\",t[t.Violin=40]=\"Violin\",t[t.Viola=41]=\"Viola\",t[t.Cello=42]=\"Cello\",t[t.Contrabass=43]=\"Contrabass\",t[t.Tremolo_Strings=44]=\"Tremolo_Strings\",t[t.Pizzicato_Strings=45]=\"Pizzicato_Strings\",t[t.Orchestral_Harp=46]=\"Orchestral_Harp\",t[t.Timpani=47]=\"Timpani\",t[t.String_Ensemble_1=48]=\"String_Ensemble_1\",t[t.String_Ensemble_2=49]=\"String_Ensemble_2\",t[t.Synth_Strings_1=50]=\"Synth_Strings_1\",t[t.Synth_Strings_2=51]=\"Synth_Strings_2\",t[t.Choir_Aahs=52]=\"Choir_Aahs\",t[t.Voice_Oohs=53]=\"Voice_Oohs\",t[t.Synth_Voice=54]=\"Synth_Voice\",t[t.Orchestra_Hit=55]=\"Orchestra_Hit\",t[t.Trumpet=56]=\"Trumpet\",t[t.Trombone=57]=\"Trombone\",t[t.Tuba=58]=\"Tuba\",t[t.Muted_Trumpet=59]=\"Muted_Trumpet\",t[t.French_Horn=60]=\"French_Horn\",t[t.Brass_Section=61]=\"Brass_Section\",t[t.Synth_Brass_1=62]=\"Synth_Brass_1\",t[t.Synth_Brass_2=63]=\"Synth_Brass_2\",t[t.Soprano_Sax=64]=\"Soprano_Sax\",t[t.Alto_Sax=65]=\"Alto_Sax\",t[t.Tenor_Sax=66]=\"Tenor_Sax\",t[t.Baritone_Sax=67]=\"Baritone_Sax\",t[t.Oboe=68]=\"Oboe\",t[t.English_Horn=69]=\"English_Horn\",t[t.Bassoon=70]=\"Bassoon\",t[t.Clarinet=71]=\"Clarinet\",t[t.Piccolo=72]=\"Piccolo\",t[t.Flute=73]=\"Flute\",t[t.Recorder=74]=\"Recorder\",t[t.Pan_Flute=75]=\"Pan_Flute\",t[t.Blown_Bottle=76]=\"Blown_Bottle\",t[t.Shakuhachi=77]=\"Shakuhachi\",t[t.Whistle=78]=\"Whistle\",t[t.Ocarina=79]=\"Ocarina\",t[t.Lead_1_square=80]=\"Lead_1_square\",t[t.Lead_2_sawtooth=81]=\"Lead_2_sawtooth\",t[t.Lead_3_calliope=82]=\"Lead_3_calliope\",t[t.Lead_4_chiff=83]=\"Lead_4_chiff\",t[t.Lead_5_charang=84]=\"Lead_5_charang\",t[t.Lead_6_voice=85]=\"Lead_6_voice\",t[t.Lead_7_fifths=86]=\"Lead_7_fifths\",t[t.Lead_8_bass_lead=87]=\"Lead_8_bass_lead\",t[t.Pad_1_new_age=88]=\"Pad_1_new_age\",t[t.Pad_2_warm=89]=\"Pad_2_warm\",t[t.Pad_3_polysynth=90]=\"Pad_3_polysynth\",t[t.Pad_4_choir=91]=\"Pad_4_choir\",t[t.Pad_5_bowed=92]=\"Pad_5_bowed\",t[t.Pad_6_metallic=93]=\"Pad_6_metallic\",t[t.Pad_7_halo=94]=\"Pad_7_halo\",t[t.Pad_8_sweep=95]=\"Pad_8_sweep\",t[t.FX_1_rain=96]=\"FX_1_rain\",t[t.FX_2_soundtrack=97]=\"FX_2_soundtrack\",t[t.FX_3_crystal=98]=\"FX_3_crystal\",t[t.FX_4_atmosphere=99]=\"FX_4_atmosphere\",t[t.FX_5_brightness=100]=\"FX_5_brightness\",t[t.FX_6_goblins=101]=\"FX_6_goblins\",t[t.FX_7_echoes=102]=\"FX_7_echoes\",t[t.FX_8_scifi=103]=\"FX_8_scifi\",t[t.Sitar=104]=\"Sitar\",t[t.Banjo=105]=\"Banjo\",t[t.Shamisen=106]=\"Shamisen\",t[t.Koto=107]=\"Koto\",t[t.Kalimba=108]=\"Kalimba\",t[t.Bag_pipe=109]=\"Bag_pipe\",t[t.Fiddle=110]=\"Fiddle\",t[t.Shanai=111]=\"Shanai\",t[t.Tinkle_Bell=112]=\"Tinkle_Bell\",t[t.Agogo=113]=\"Agogo\",t[t.Steel_Drums=114]=\"Steel_Drums\",t[t.Woodblock=115]=\"Woodblock\",t[t.Taiko_Drum=116]=\"Taiko_Drum\",t[t.Melodic_Tom=117]=\"Melodic_Tom\",t[t.Synth_Drum=118]=\"Synth_Drum\",t[t.Reverse_Cymbal=119]=\"Reverse_Cymbal\",t[t.Guitar_Fret_Noise=120]=\"Guitar_Fret_Noise\",t[t.Breath_Noise=121]=\"Breath_Noise\",t[t.Seashore=122]=\"Seashore\",t[t.Bird_Tweet=123]=\"Bird_Tweet\",t[t.Telephone_Ring=124]=\"Telephone_Ring\",t[t.Helicopter=125]=\"Helicopter\",t[t.Applause=126]=\"Applause\",t[t.Gunshot=127]=\"Gunshot\",t[t.Percussion=128]=\"Percussion\"}(c=e.MidiInstrument||(e.MidiInstrument={}))},function(t,e,i){\"use strict\";Object.defineProperty(e,\"__esModule\",{value:!0});var s=Object.prototype.hasOwnProperty;function n(t){return\"function\"==typeof t}function r(t){return void 0===t}function o(t){return\"[object String]\"===Object.prototype.toString.call(t)}e.has=function(t,e){return s.call(t,e)},e.defaultCompare=function(t,e){return t<e?-1:t===e?0:1},e.defaultEquals=function(t,e){return t===e},e.defaultToString=function(t){return null===t?\"COLLECTION_NULL\":r(t)?\"COLLECTION_UNDEFINED\":o(t)?\"$s\"+t:\"$o\"+t.toString()},e.makeString=function(t,i){if(void 0===i&&(i=\",\"),null===t)return\"COLLECTION_NULL\";if(r(t))return\"COLLECTION_UNDEFINED\";if(o(t))return t.toString();var s=\"{\",n=!0;for(var a in t)e.has(t,a)&&(n?n=!1:s+=i,s=s+a+\":\"+t[a]);return s+\"}\"},e.isFunction=n,e.isUndefined=r,e.isString=o,e.reverseCompareFunction=function(t){return r(t)||!n(t)?function(t,e){return t<e?1:t===e?0:-1}:function(e,i){return-1*t(e,i)}},e.compareToEquals=function(t){return function(e,i){return 0===t(e,i)}}},function(t,e,i){\"use strict\";i.r(e);const s=()=>{};s.L=(t,e)=>{if(!e)return;const i=Array.prototype.slice.call(e).join(\" \");window.console.log(t+\": \"+i)},s.MakeException=t=>class extends Error{constructor(e,i){super(e),this.name=t,this.message=e,this.data=i}};s.RERR=s.RuntimeError=class{constructor(t,e){this.code=t,this.message=e}toString(){return\"[RuntimeError] \"+this.code+\":\"+this.message}},s.Merge=(t,e)=>{for(const i in e)t[i]=e[i];return t},s.Min=Math.min,s.Max=Math.max,s.forEach=(t,e)=>{for(let i=0;i<t.length;i++)e(t[i],i)},s.RoundN=(t,e)=>t%e>=e/2?parseInt(t/e,10)*e+e:parseInt(t/e,10)*e,s.MidLine=(t,e)=>{let i=e+(t-e)/2;return i%2>0&&(i=s.RoundN(10*i,5)/10),i},s.SortAndUnique=(t,e,i)=>{if(t.length>1){const s=[];let n;t.sort(e);for(let e=0;e<t.length;++e)0!==e&&i(t[e],n)||s.push(t[e]),n=t[e];return s}return t},s.Contains=(t,e)=>{let i=t.length;for(;i--;)if(t[i]===e)return!0;return!1},s.getCanvasContext=t=>{if(!t)throw new s.RERR(\"BadArgument\",\"Invalid canvas selector: \"+t);const e=document.getElementById(t);if(!e||!e.getContext)throw new s.RERR(\"UnsupportedBrowserError\",\"This browser does not support HTML5 Canvas\");return e.getContext(\"2d\")},s.drawDot=(t,e,i,s=\"#55\")=>{t.save(),t.setFillStyle(s),t.beginPath(),t.arc(e,i,3,0,2*Math.PI,!0),t.closePath(),t.fill(),t.restore()},s.BM=(t,e)=>{const i=(new Date).getTime();e();const n=(new Date).getTime()-i;s.L(t+n+\"ms\")},s.StackTrace=()=>(new Error).stack,s.W=(...t)=>{const e=t.join(\" \");window.console.log(\"Warning: \",e,s.StackTrace())},(s.Prefix=t=>s.Prefix.prefix+t).prefix=\"vf-\";class n{static GCD(t,e){if(\"number\"!=typeof t||\"number\"!=typeof e)throw new s.RERR(\"BadArgument\",`Invalid numbers: ${t}, ${e}`);let i;for(;0!==e;)i=e,e=t%e,t=i;return t}static LCM(t,e){return t*e/n.GCD(t,e)}static LCMM(t){if(0===t.length)return 0;if(1===t.length)return t[0];if(2===t.length)return n.LCM(t[0],t[1]);{const e=t[0];return t.shift(),n.LCM(e,n.LCMM(t))}}constructor(t,e){this.set(t,e)}set(t,e){return this.numerator=void 0===t?1:t,this.denominator=void 0===e?1:e,this}value(){return this.numerator/this.denominator}simplify(){let t=this.numerator,e=this.denominator;const i=n.GCD(t,e);return t/=i,e/=i,e<0&&(e=-e,t=-t),this.set(t,e)}add(t,e){let i,s;t instanceof n?(i=t.numerator,s=t.denominator):(i=void 0!==t?t:0,s=void 0!==e?e:1);const r=n.LCM(this.denominator,s),o=r/this.denominator,a=r/s,h=this.numerator*o+i*a;return this.set(h,r)}subtract(t,e){let i,s;t instanceof n?(i=t.numerator,s=t.denominator):(i=void 0!==t?t:0,s=void 0!==e?e:1);const r=n.LCM(this.denominator,s),o=r/this.denominator,a=r/s,h=this.numerator*o-i*a;return this.set(h,r)}multiply(t,e){let i,s;return t instanceof n?(i=t.numerator,s=t.denominator):(i=void 0!==t?t:1,s=void 0!==e?e:1),this.set(this.numerator*i,this.denominator*s)}divide(t,e){let i,s;return t instanceof n?(i=t.numerator,s=t.denominator):(i=void 0!==t?t:1,s=void 0!==e?e:1),this.set(this.numerator*s,this.denominator*i)}equals(t){const e=n.__compareA.copy(t).simplify(),i=n.__compareB.copy(this).simplify();return e.numerator===i.numerator&&e.denominator===i.denominator}greaterThan(t){const e=n.__compareB.copy(this);return e.subtract(t),e.numerator>0}greaterThanEquals(t){const e=n.__compareB.copy(this);return e.subtract(t),e.numerator>=0}lessThan(t){return!this.greaterThanEquals(t)}lessThanEquals(t){return!this.greaterThan(t)}clone(){return new n(this.numerator,this.denominator)}copy(t){return\"number\"==typeof t?this.set(t||0,1):this.set(t.numerator,t.denominator)}quotient(){return Math.floor(this.numerator/this.denominator)}fraction(){return this.numerator%this.denominator}abs(){return this.denominator=Math.abs(this.denominator),this.numerator=Math.abs(this.numerator),this}toString(){return this.numerator+\"/\"+this.denominator}toSimplifiedString(){return n.__tmp.copy(this).simplify().toString()}toMixedString(){let t=\"\";const e=this.quotient(),i=n.__tmp.copy(this);return e<0?i.abs().fraction():i.fraction(),0!==e?(t+=e,0!==i.numerator&&(t+=\" \"+i.toSimplifiedString())):t=0===i.numerator?\"0\":i.toSimplifiedString(),t}parse(t){const e=t.split(\"/\"),i=parseInt(e[0],10),s=e[1]?parseInt(e[1],10):1;return this.set(i,s)}}n.__compareA=new n,n.__compareB=new n,n.__tmp=new n;const r=s.MakeException(\"RegistryError\");function o(t,e,i,s,n){t[e][i]||(t[e][i]={}),t[e][i][s]=n}class a{static get INDEXES(){return[\"type\"]}constructor(){this.clear()}static enableDefaultRegistry(t){a.defaultRegistry=t}static getDefaultRegistry(){return a.defaultRegistry}static disableDefaultRegistry(){a.defaultRegistry=null}clear(){return this.index={id:{},type:{},class:{}},this}updateIndex({id:t,name:e,value:i,oldValue:s}){const n=this.getElementById(t);null!==s&&this.index[e][s]&&delete this.index[e][s][t],null!==i&&o(this.index,e,i,n.getAttribute(\"id\"),n)}register(t,e){if(!(e=e||t.getAttribute(\"id\")))throw new r(\"Can't add element without `id` attribute to registry\",t);return t.setAttribute(\"id\",e),o(this.index,\"id\",e,e,t),a.INDEXES.forEach(i=>{this.updateIndex({id:e,name:i,value:t.getAttribute(i),oldValue:null})}),t.onRegister(this),this}getElementById(t){return this.index.id[t]?this.index.id[t][t]:null}getElementsByAttribute(t,e){const i=this.index[t];return i&&i[e]?Object.keys(i[e]).map(t=>i[e][t]):[]}getElementsByType(t){return this.getElementsByAttribute(\"type\",t)}getElementsByClass(t){return this.getElementsByAttribute(\"class\",t)}onUpdate({id:t,name:e,value:i,oldValue:s}){return function(t,e){return t.filter(t=>t===e).length>0}(a.INDEXES.concat([\"id\",\"class\"]),e)?(this.updateIndex({id:t,name:e,value:i,oldValue:s}),this):this}}a.defaultRegistry=null;class h{static newID(){return\"auto\"+h.ID++}constructor({type:t}={}){this.attrs={id:h.newID(),el:null,type:t||\"Base\",classes:{}},this.boundingBox=null,this.context=null,this.rendered=!1,a.getDefaultRegistry()&&a.getDefaultRegistry().register(this)}setStyle(t){return this.style=t,this}getStyle(){return this.style}applyStyle(t=this.context,e=this.getStyle()){return e?(t.save(),e.shadowColor&&t.setShadowColor(e.shadowColor),e.shadowBlur&&t.setShadowBlur(e.shadowBlur),e.fillStyle&&t.setFillStyle(e.fillStyle),e.strokeStyle&&t.setStrokeStyle(e.strokeStyle),e.lineWidth&&t.setLineWidth(e.lineWidth),this):this}restoreStyle(t=this.context,e=this.getStyle()){return e?(t.restore(),this):this}drawWithStyle(){this.checkContext(),this.applyStyle(),this.draw(),this.restoreStyle()}hasClass(t){return!0===this.attrs.classes[t]}addClass(t){return this.attrs.classes[t]=!0,this.registry&&this.registry.onUpdate({id:this.getAttribute(\"id\"),name:\"class\",value:t,oldValue:null}),this}removeClass(t){return delete this.attrs.classes[t],this.registry&&this.registry.onUpdate({id:this.getAttribute(\"id\"),name:\"class\",value:null,oldValue:t}),this}onRegister(t){return this.registry=t,this}isRendered(){return this.rendered}setRendered(t=!0){return this.rendered=t,this}getAttributes(){return this.attrs}getAttribute(t){return this.attrs[t]}setAttribute(t,e){const i=this.attrs.id,s=this.attrs[t];return this.attrs[t]=e,this.registry&&this.registry.onUpdate({id:i,name:t,value:e,oldValue:s}),this}getContext(){return this.context}setContext(t){return this.context=t,this}getBoundingBox(){return this.boundingBox}checkContext(){if(!this.context)throw new s.RERR(\"NoContext\",\"No rendering context attached to instance\");return this.context}}h.ID=1e3;class l{constructor(t,e,i,s){this.x1=Number.NaN,this.y1=Number.NaN,this.x2=Number.NaN,this.y2=Number.NaN,this.addPoint(t,e),this.addPoint(i,s)}width(){return this.x2-this.x1}height(){return this.y2-this.y1}addPoint(t,e){null!=t&&((isNaN(this.x1)||isNaN(this.x2))&&(this.x1=t,this.x2=t),t<this.x1&&(this.x1=t),t>this.x2&&(this.x2=t)),null!=e&&((isNaN(this.y1)||isNaN(this.y2))&&(this.y1=e,this.y2=e),e<this.y1&&(this.y1=e),e>this.y2&&(this.y2=e))}addX(t){this.addPoint(t,null)}addY(t){this.addPoint(null,t)}addQuadraticCurve(t,e,i,s,n,r){const o=t+2/3*(i-t),a=e+2/3*(s-e),h=o+1/3*(n-t),l=a+1/3*(r-e);this.addBezierCurve(t,e,o,a,h,l,n,r)}addBezierCurve(t,e,i,s,n,r,o,a){const h=[t,e],l=[i,s],c=[n,r],u=[o,a];let d;this.addPoint(h[0],h[1]),this.addPoint(u[0],u[1]);const f=(t,e)=>Math.pow(1-t,3)*h[e]+3*Math.pow(1-t,2)*t*l[e]+3*(1-t)*Math.pow(t,2)*c[e]+Math.pow(t,3)*u[e];for(d=0;d<=1;d++){const t=6*h[d]-12*l[d]+6*c[d],e=-3*h[d]+9*l[d]-9*c[d]+3*u[d],i=3*l[d]-3*h[d];if(0===e){if(0===t)continue;const e=-i/t;0<e&&e<1&&(0===d&&this.addX(f(e,d)),1===d&&this.addY(f(e,d)));continue}const s=Math.pow(t,2)-4*i*e;if(s<0)continue;const n=(-t+Math.sqrt(s))/(2*e);0<n&&n<1&&(0===d&&this.addX(f(n,d)),1===d&&this.addY(f(n,d)));const r=(-t-Math.sqrt(s))/(2*e);0<r&&r<1&&(0===d&&this.addX(f(r,d)),1===d&&this.addY(f(r,d)))}}}class c{static copy(t){return new c(t.x,t.y,t.w,t.h)}constructor(t,e,i,s){this.x=t,this.y=e,this.w=i,this.h=s}getX(){return this.x}getY(){return this.y}getW(){return this.w}getH(){return this.h}setX(t){return this.x=t,this}setY(t){return this.y=t,this}setW(t){return this.w=t,this}setH(t){return this.h=t,this}move(t,e){this.x+=t,this.y+=e}clone(){return c.copy(this)}mergeWith(t,e){const i=t,s=this.x<i.x?this.x:i.x,n=this.y<i.y?this.y:i.y,r=Math.max(this.x+this.w,i.x+i.w)-s,o=Math.max(this.y+this.h,i.y+i.h)-n;return this.x=s,this.y=n,this.w=r,this.h=o,e&&this.draw(e),this}draw(t,e,i){e||(e=0),i||(i=0),t.rect(this.x+e,this.y+i,this.w,this.h),t.stroke()}}const u={glyphs:{v0:{x_min:0,x_max:514.5,ha:525,o:\"m 236 648 b 246 648 238 648 242 648 b 288 646 261 648 283 648 b 472 513 364 634 428 587 b 514 347 502 464 514 413 b 462 163 514 272 499 217 b 257 44 409 83 333 44 b 50 163 181 44 103 83 b 0 347 14 217 0 272 b 40 513 0 413 12 464 b 236 648 87 591 155 638 m 277 614 b 253 616 273 616 261 616 b 242 616 247 616 243 616 b 170 499 193 609 181 589 b 159 348 163 446 159 398 b 166 222 159 308 161 266 b 201 91 174 138 183 106 b 257 76 215 81 235 76 b 311 91 277 76 299 81 b 347 222 330 106 338 138 b 353 348 352 266 353 308 b 344 499 353 398 351 446 b 277 614 333 587 322 606 m 257 -1 l 258 -1 l 255 -1 l 257 -1 m 257 673 l 258 673 l 255 673 l 257 673 \"},v1:{x_min:-1.359375,x_max:344.359375,ha:351,o:\"m 126 637 l 129 638 l 198 638 l 266 638 l 269 635 b 274 631 272 634 273 632 l 277 627 l 277 395 b 279 156 277 230 277 161 b 329 88 281 123 295 106 b 344 69 341 81 344 79 b 337 55 344 62 343 59 l 333 54 l 197 54 l 61 54 l 58 55 b 50 69 53 59 50 62 b 65 88 50 79 53 81 b 80 97 72 91 74 93 b 117 156 103 113 112 129 b 117 345 117 161 117 222 l 117 528 l 100 503 l 38 406 b 14 383 24 384 23 383 b -1 398 5 383 -1 390 b 4 415 -1 403 1 409 b 16 437 5 416 10 426 l 72 539 l 100 596 b 121 632 119 631 119 631 b 126 637 122 634 125 635 m 171 -1 l 172 -1 l 170 -1 l 171 -1 m 171 673 l 172 673 l 170 673 l 171 673 \"},v2:{x_min:-1.359375,x_max:458.6875,ha:468,o:\"m 197 648 b 216 648 201 648 208 648 b 258 646 232 648 253 648 b 419 546 333 637 393 599 b 432 489 428 528 432 509 b 356 342 432 440 405 384 b 235 278 322 313 288 295 b 69 170 166 256 107 217 b 69 169 69 170 69 169 b 69 169 69 169 69 169 b 74 173 69 169 72 170 b 209 222 112 204 163 222 b 310 195 247 222 274 215 b 371 179 332 184 352 179 b 396 181 379 179 387 179 b 428 202 409 184 423 194 b 442 212 431 209 436 212 b 458 197 450 212 458 206 b 441 148 458 190 449 165 b 299 44 409 84 353 44 b 288 45 295 44 292 44 b 250 61 274 45 268 49 b 122 99 212 86 164 99 b 73 91 104 99 88 97 b 28 63 53 84 34 72 b 14 54 25 56 20 54 b 1 62 9 54 4 56 l -1 65 l -1 79 b 0 99 -1 91 0 95 b 2 113 1 102 2 108 b 164 309 20 197 81 272 b 285 470 232 341 277 398 b 287 487 287 476 287 481 b 171 595 287 551 239 595 b 155 595 166 595 160 595 b 142 592 145 594 142 594 b 145 589 142 592 142 591 b 179 527 168 576 179 551 b 132 455 179 496 163 467 b 104 451 122 452 112 451 b 27 530 62 451 27 487 b 29 555 27 538 27 546 b 197 648 44 601 115 639 m 228 -1 l 230 -1 l 227 -1 l 228 -1 m 228 673 l 230 673 l 227 673 l 228 673 \"},v3:{x_min:-1.359375,x_max:409.6875,ha:418,o:\"m 174 648 b 191 648 176 648 183 648 b 225 648 204 648 220 648 b 402 523 317 638 389 588 b 404 503 404 517 404 510 b 402 484 404 495 404 488 b 264 373 389 437 334 394 b 257 370 259 371 257 371 b 257 370 257 370 257 370 b 264 369 258 370 261 369 b 409 202 359 334 409 267 b 318 72 409 152 381 104 b 200 43 281 52 240 43 b 23 113 134 43 69 68 b 0 169 6 129 0 149 b 77 249 0 210 29 249 l 77 249 b 152 174 125 249 152 212 b 103 102 152 145 137 116 b 103 102 103 102 103 102 b 147 94 103 101 132 95 b 153 94 149 94 151 94 b 265 206 219 94 265 141 b 264 226 265 213 265 219 b 147 355 253 299 204 353 b 126 371 133 356 126 362 b 147 388 126 383 132 388 b 254 474 196 391 238 424 b 259 502 258 484 259 494 b 182 592 259 544 228 582 b 156 595 175 595 166 595 b 115 592 142 595 129 594 l 111 591 l 115 588 b 152 524 141 574 152 549 b 92 449 152 491 130 458 b 76 448 87 448 81 448 b -1 530 32 448 -1 488 b 20 581 -1 548 5 566 b 174 648 55 619 108 641 m 204 -1 l 205 -1 l 202 -1 l 204 -1 m 204 673 l 205 673 l 202 673 l 204 673 \"},v4:{x_min:0,x_max:468.21875,ha:478,o:\"m 174 637 b 232 638 175 638 189 638 b 277 638 245 638 259 638 l 378 638 l 381 635 b 389 623 386 632 389 627 b 382 609 389 617 386 613 b 366 589 381 606 372 598 l 313 528 l 245 451 l 209 410 l 155 348 l 84 267 b 59 240 72 252 59 240 b 59 240 59 240 59 240 b 151 238 59 238 68 238 l 242 238 l 242 303 b 243 371 242 369 242 370 b 289 426 245 374 254 385 l 303 441 l 317 456 l 338 483 l 360 506 l 371 520 b 386 527 375 526 381 527 b 400 519 392 527 397 524 b 401 440 401 516 401 514 b 401 377 401 423 401 402 l 401 238 l 426 238 b 453 237 449 238 450 238 b 465 217 461 234 465 226 b 460 202 465 212 464 206 b 426 197 454 197 453 197 l 401 197 l 401 180 b 451 88 402 129 412 109 b 468 69 465 81 468 79 b 461 55 468 62 466 59 l 458 54 l 321 54 l 185 54 l 182 55 b 175 69 176 59 175 62 b 191 88 175 79 176 81 b 240 180 230 109 240 129 l 240 197 l 125 197 b 73 195 104 195 87 195 b 8 197 10 195 9 197 b 0 212 2 199 0 205 b 0 212 0 212 0 212 b 20 242 0 219 0 219 b 163 610 104 344 163 492 b 174 637 163 628 166 634 m 234 -1 l 235 -1 l 232 -1 l 234 -1 m 234 673 l 235 673 l 232 673 l 234 673 \"},v5:{x_min:0,x_max:409.6875,ha:418,o:\"m 47 637 b 53 638 49 638 50 638 b 69 634 55 638 61 637 b 210 610 114 619 161 610 b 363 634 259 610 311 619 b 382 638 372 637 378 638 b 392 634 386 638 389 637 b 397 623 396 630 397 627 b 393 610 397 620 396 616 b 298 505 368 552 338 520 b 212 494 277 498 246 494 b 65 517 163 494 106 502 b 61 517 62 517 61 517 b 61 517 61 517 61 517 b 51 408 61 517 51 412 b 51 408 51 408 51 408 b 51 408 51 408 51 408 b 61 412 53 408 55 409 b 125 434 80 421 103 430 b 185 441 145 440 166 441 b 409 244 310 441 409 353 b 401 191 409 227 406 209 b 197 43 375 105 287 43 b 159 47 183 43 171 44 b 23 123 112 56 61 86 b 0 180 6 140 0 159 b 76 260 0 220 31 260 b 92 259 81 260 87 259 b 152 183 132 251 152 216 b 100 112 152 152 134 122 b 95 111 98 112 95 111 b 95 111 95 111 95 111 b 129 98 95 109 119 101 b 148 97 136 97 141 97 b 264 235 206 97 261 158 b 265 248 265 240 265 244 b 210 398 265 312 243 373 b 179 408 201 406 194 408 b 174 408 178 408 176 408 b 53 369 130 408 88 394 b 34 359 39 359 38 359 b 17 374 24 359 17 365 b 39 628 17 384 38 625 b 47 637 40 631 43 635 m 204 -1 l 205 -1 l 202 -1 l 204 -1 m 204 673 l 205 673 l 202 673 l 204 673 \"},v6:{x_min:0,x_max:475.03125,ha:485,o:\"m 255 648 b 274 648 259 648 266 648 b 314 646 288 648 307 648 b 450 555 374 637 438 594 b 454 530 453 546 454 538 b 375 451 454 485 416 451 b 328 467 359 451 343 455 b 300 526 310 483 300 503 b 352 598 300 557 319 589 b 356 599 355 598 356 599 b 352 602 356 599 355 601 b 288 616 330 612 308 616 b 210 584 257 616 230 605 b 164 433 189 559 174 508 b 160 374 163 415 160 381 b 160 374 160 374 160 374 b 160 374 160 374 160 374 b 168 377 160 374 164 376 b 258 395 200 390 228 395 b 366 367 294 395 328 387 b 475 223 436 333 475 283 b 472 197 475 215 473 206 b 349 65 462 141 419 95 b 259 43 317 51 288 43 b 167 69 230 43 200 52 b 4 290 80 113 20 195 b 0 349 1 309 0 328 b 20 467 0 391 6 433 b 255 648 58 563 155 637 m 269 363 b 257 363 265 363 261 363 b 210 345 236 363 220 356 b 186 226 196 324 186 272 b 187 198 186 216 186 206 b 213 95 191 151 202 112 b 257 76 221 83 238 76 b 270 77 261 76 266 76 b 321 156 299 81 310 99 b 329 229 326 183 329 206 b 321 301 329 252 326 274 b 269 363 311 342 298 359 m 236 -1 l 238 -1 l 235 -1 l 236 -1 m 236 673 l 238 673 l 235 673 l 236 673 \"},v7:{x_min:0,x_max:442.359375,ha:451,o:\"m 147 648 b 166 649 153 649 160 649 b 313 598 217 649 273 630 b 340 587 323 588 328 587 l 341 587 b 412 628 367 587 390 601 b 427 638 416 635 421 638 b 439 632 431 638 435 637 b 442 623 441 630 442 628 b 430 569 442 616 439 603 b 352 369 408 492 377 410 b 300 259 325 324 313 298 b 273 84 283 205 273 140 b 265 55 273 65 272 59 l 261 54 l 181 54 l 99 54 l 96 55 b 91 61 95 56 92 59 l 89 63 l 89 77 b 147 263 89 133 111 202 b 261 401 176 313 212 355 b 378 541 315 449 349 489 l 382 548 l 375 544 b 240 495 333 512 285 495 b 129 535 198 495 160 509 b 84 560 108 552 95 560 b 76 559 81 560 78 560 b 31 487 59 555 43 530 b 14 470 27 473 24 470 b 1 477 8 470 4 471 l 0 480 l 0 553 l 0 627 l 1 630 b 16 638 4 635 9 638 b 23 635 17 638 20 637 b 49 626 36 626 39 626 b 96 638 59 626 80 630 b 104 639 99 638 102 639 b 117 644 107 641 112 642 b 147 648 125 645 137 648 m 220 -1 l 221 -1 l 219 -1 l 220 -1 m 220 673 l 221 673 l 219 673 l 220 673 \"},v8:{x_min:0,x_max:488.640625,ha:499,o:\"m 217 648 b 245 649 225 648 235 649 b 453 516 343 649 430 595 b 458 478 455 503 458 491 b 412 370 458 440 441 398 b 411 369 412 369 411 369 b 415 365 411 367 412 367 b 488 231 462 331 488 281 b 472 165 488 208 483 186 b 243 43 434 86 338 43 b 63 104 178 43 112 62 b 0 233 20 140 0 186 b 73 365 0 283 24 331 l 77 369 l 72 374 b 29 476 42 406 29 441 b 217 648 29 557 103 635 m 258 605 b 242 606 253 605 247 606 b 157 552 198 606 157 580 b 160 541 157 548 159 544 b 319 413 176 503 242 452 l 337 403 l 338 406 b 359 476 352 428 359 452 b 258 605 359 537 318 595 m 138 326 b 130 330 134 328 130 330 b 130 330 130 330 130 330 b 107 305 127 330 112 313 b 84 231 91 281 84 256 b 243 86 84 156 151 86 b 249 87 245 86 246 87 b 347 156 303 88 347 120 b 344 172 347 162 345 167 b 156 319 325 227 257 281 b 138 326 151 322 144 324 m 243 -1 l 245 -1 l 242 -1 l 243 -1 m 243 673 l 245 673 l 242 673 l 243 673 \"},v9:{x_min:0,x_max:475.03125,ha:485,o:\"m 191 646 b 212 649 198 648 205 649 b 255 644 227 649 243 646 b 458 448 348 616 428 539 b 475 342 469 415 475 378 b 460 244 475 308 469 274 b 193 44 421 124 303 44 b 91 69 157 44 122 51 b 19 161 43 97 19 126 b 21 181 19 167 20 174 b 98 241 32 220 65 241 b 170 186 129 241 160 223 b 172 166 171 179 172 173 b 121 94 172 134 152 102 b 117 93 118 94 117 93 b 121 90 117 93 118 91 b 185 76 142 80 164 76 b 270 119 220 76 251 91 b 308 259 287 145 300 194 b 313 317 310 277 313 310 b 313 317 313 317 313 317 b 313 317 313 317 313 317 b 304 315 313 317 308 316 b 216 295 273 302 245 295 b 145 308 193 295 170 299 b 19 398 88 327 42 360 b 0 469 5 420 0 444 b 24 551 0 496 8 526 b 191 646 54 596 125 637 m 227 614 b 215 616 224 616 220 616 b 202 614 210 616 206 616 b 152 535 174 610 163 592 b 144 463 147 509 144 485 b 152 391 144 440 147 417 b 216 328 163 344 179 328 b 280 391 253 328 269 344 b 288 463 285 417 288 440 b 280 535 288 485 285 509 b 227 614 269 594 258 610 m 236 -1 l 238 -1 l 235 -1 l 236 -1 m 236 673 l 238 673 l 235 673 l 236 673 \"},va:{x_min:-149.71875,x_max:148.359375,ha:151,o:\"m -8 -1 b -1 0 -5 -1 -4 0 b 16 -11 5 0 13 -4 b 83 -186 17 -12 47 -90 l 148 -358 l 148 -363 b 127 -385 148 -376 138 -385 b 112 -378 122 -385 118 -383 b 54 -226 110 -374 114 -385 b 0 -81 24 -147 0 -81 b -55 -226 -1 -81 -25 -147 b -114 -378 -115 -385 -111 -374 b -129 -385 -119 -383 -123 -385 b -149 -363 -140 -385 -149 -376 l -149 -358 l -84 -186 b -19 -11 -49 -90 -19 -12 b -8 -1 -17 -8 -12 -4 \"},vb:{x_min:0,x_max:428.75,ha:438,o:\"m 262 186 b 273 186 266 186 272 186 b 274 186 273 186 274 186 b 285 186 274 186 280 186 b 428 48 375 181 428 122 b 386 -68 428 12 416 -29 b 155 -187 329 -145 236 -187 b 12 -111 92 -187 38 -162 b 0 -51 4 -91 0 -72 b 262 186 0 58 122 179 \"},vc:{x_min:0,x_max:447.8125,ha:457,o:\"m 0 86 l 0 173 l 223 173 l 447 173 l 447 86 l 447 0 l 223 0 l 0 0 l 0 86 \"},vf:{x_min:0,x_max:370.21875,ha:378,o:\"m 0 0 l 0 277 l 61 277 l 122 277 l 122 0 l 122 -278 l 61 -278 l 0 -278 l 0 0 m 246 -1 l 246 277 l 308 277 l 370 277 l 370 -1 l 370 -278 l 308 -278 l 246 -278 l 246 -1 \"},v10:{x_min:0,x_max:559.421875,ha:571,o:\"m 5 127 b 14 127 6 127 9 127 b 51 126 25 127 43 127 b 175 98 93 122 138 112 l 186 94 b 279 51 210 86 255 65 b 285 47 280 51 283 48 b 319 27 291 44 311 31 l 326 22 b 359 0 332 19 352 4 l 367 -6 b 371 -9 368 -6 370 -8 l 379 -15 b 387 -22 383 -18 386 -20 l 398 -30 l 411 -40 l 417 -47 l 427 -55 l 434 -61 b 441 -66 436 -62 439 -65 l 446 -72 l 453 -77 l 462 -87 b 558 -188 490 -113 549 -176 b 559 -195 559 -191 559 -194 b 548 -205 559 -201 555 -205 b 541 -204 547 -205 544 -205 b 534 -198 539 -201 536 -199 l 525 -191 b 481 -162 518 -187 490 -167 b 472 -155 477 -159 472 -156 b 468 -152 470 -155 469 -154 b 461 -149 466 -152 464 -151 b 428 -130 454 -145 441 -137 b 371 -99 413 -122 372 -99 b 363 -95 371 -99 367 -98 b 353 -91 357 -94 353 -91 b 348 -90 353 -91 352 -91 b 332 -81 343 -87 341 -86 b 27 -12 230 -37 127 -13 b 0 -5 4 -11 2 -11 b 0 58 0 -2 0 27 b 0 122 0 88 0 120 b 5 127 1 124 4 126 \"},v11:{x_min:-155.171875,x_max:153.8125,ha:157,o:\"m -137 353 b -130 353 -136 353 -133 353 b -112 349 -125 353 -119 352 b -100 342 -110 347 -104 344 b 0 317 -69 326 -35 317 b 111 349 38 317 76 328 b 129 353 117 352 123 353 b 153 327 142 353 153 344 b 144 302 153 320 153 317 b 27 6 93 226 50 113 b 21 -13 24 -11 24 -11 b 0 -26 17 -22 8 -26 b -24 -12 -9 -26 -19 -22 b -28 5 -24 -9 -27 -2 b -145 302 -53 117 -95 224 b -155 327 -155 317 -155 320 b -137 353 -155 340 -148 349 \"},v18:{x_min:0,x_max:323.9375,ha:331,o:\"m 217 535 b 225 537 220 537 221 537 b 245 524 235 537 242 533 l 246 521 l 247 390 l 247 258 l 273 265 b 306 270 288 269 299 270 b 322 259 315 270 319 267 b 323 208 323 256 323 233 b 322 158 323 184 323 159 b 288 140 318 148 315 147 b 247 130 254 131 247 130 b 247 65 247 130 247 104 b 247 20 247 51 247 36 l 247 -88 l 273 -81 b 306 -76 289 -77 299 -76 b 318 -81 311 -76 315 -77 b 323 -123 323 -87 323 -86 l 323 -138 l 323 -154 b 318 -195 323 -191 323 -190 b 269 -210 314 -199 315 -199 b 249 -216 259 -213 250 -216 l 247 -216 l 247 -349 l 246 -483 l 245 -487 b 225 -499 242 -495 234 -499 b 206 -487 219 -499 210 -495 l 205 -483 l 205 -355 l 205 -227 l 204 -227 l 181 -233 l 138 -244 b 117 -249 127 -247 117 -249 b 115 -385 115 -249 115 -256 l 115 -523 l 114 -526 b 95 -538 110 -534 102 -538 b 74 -526 87 -538 78 -534 l 73 -523 l 73 -391 b 72 -260 73 -269 73 -260 b 72 -260 72 -260 72 -260 b 19 -273 61 -263 23 -273 b 0 -260 10 -273 4 -267 b 0 -209 0 -256 0 -256 l 0 -162 l 1 -158 b 61 -134 5 -148 5 -148 l 73 -131 l 73 -22 b 72 86 73 79 73 86 b 72 86 72 86 72 86 b 19 74 61 83 23 74 b 0 86 10 74 4 79 b 0 137 0 90 0 90 l 0 184 l 1 188 b 61 212 5 198 5 198 l 73 215 l 73 348 l 73 481 l 74 485 b 95 498 78 492 87 498 b 103 495 98 498 100 496 b 114 485 107 494 111 489 l 115 481 l 115 353 l 115 226 l 121 226 b 159 235 123 227 141 231 l 198 247 l 205 248 l 205 384 l 205 521 l 206 524 b 217 535 209 528 212 533 m 205 9 b 205 119 205 70 205 119 l 205 119 b 182 113 204 119 194 116 l 138 102 b 117 97 127 99 117 97 b 115 -12 115 97 115 91 l 115 -122 l 121 -120 b 159 -111 123 -119 141 -115 l 198 -101 l 205 -98 l 205 9 \"},v1b:{x_min:0,x_max:559.421875,ha:571,o:\"m 544 204 b 548 204 545 204 547 204 b 559 194 555 204 559 199 b 559 190 559 192 559 191 b 530 156 559 188 556 184 b 462 86 510 134 481 104 b 453 76 458 81 454 77 l 446 70 l 441 65 b 434 59 439 63 436 61 l 427 54 b 409 37 426 51 416 44 b 392 23 398 29 394 26 b 387 19 389 22 387 20 b 379 13 386 19 383 16 l 371 8 l 367 5 l 359 -1 l 337 -16 b 285 -48 319 -29 298 -41 l 279 -52 b 186 -95 255 -66 210 -87 l 175 -99 b 23 -129 127 -117 68 -129 b 17 -129 20 -129 19 -129 b 1 -123 2 -129 2 -129 b 0 -49 0 -122 0 -83 b 0 4 0 -22 0 1 b 27 11 2 9 4 9 b 185 31 78 12 145 20 b 198 34 186 31 193 33 b 314 73 234 44 277 58 b 349 88 328 79 340 84 b 353 90 352 90 353 90 b 363 94 353 90 357 93 b 371 98 367 97 371 98 b 428 129 372 98 413 120 b 461 148 441 136 454 144 b 468 151 464 149 466 151 b 472 154 469 152 470 154 b 481 161 473 155 477 158 b 525 190 490 166 518 186 l 534 197 b 540 201 536 198 539 199 b 544 204 541 202 544 204 \"},v1d:{x_min:0,x_max:619.3125,ha:632,o:\"m 274 184 b 307 186 285 186 296 186 b 616 22 465 186 597 116 b 619 -1 617 13 619 5 b 308 -187 619 -104 483 -187 b 0 -1 133 -187 0 -102 b 5 36 0 11 1 23 b 274 184 29 115 141 176 m 289 161 b 272 162 284 162 277 162 b 171 41 209 162 171 108 b 205 -73 171 5 182 -34 b 345 -163 243 -133 298 -163 b 436 -98 385 -163 420 -142 b 446 -43 443 -80 446 -62 b 289 161 446 47 377 147 \"},v1e:{x_min:-402.890625,x_max:401.53125,ha:410,o:\"m -219 173 b -213 174 -217 174 -215 174 b -202 173 -209 174 -205 173 b -114 86 -200 172 -179 151 b -28 0 -66 37 -28 0 b 40 84 -28 0 2 37 b 117 174 111 173 110 172 b 122 174 118 174 119 174 b 132 173 125 174 129 173 b 295 11 134 172 171 134 l 307 -1 l 336 34 b 374 76 366 72 368 74 b 381 77 375 77 378 77 b 401 56 392 77 401 68 b 400 48 401 54 401 51 b 223 -172 397 41 230 -166 b 210 -176 220 -174 215 -176 b 201 -174 206 -176 204 -176 b 112 -87 198 -173 178 -152 b 27 0 65 -38 27 0 b -42 -86 27 0 -4 -38 b -118 -174 -112 -174 -111 -173 b -123 -176 -119 -176 -121 -176 b -133 -174 -126 -176 -130 -174 b -296 -12 -136 -173 -172 -137 l -308 0 l -337 -34 b -375 -77 -367 -73 -370 -76 b -382 -79 -377 -79 -379 -79 b -402 -58 -393 -79 -402 -69 b -401 -49 -402 -55 -402 -52 b -224 172 -398 -43 -228 167 b -219 173 -223 172 -220 173 \"},v1f:{x_min:-340.28125,x_max:338.921875,ha:346,o:\"m -32 520 b -29 521 -31 520 -31 521 b -23 519 -27 521 -24 520 b -20 513 -21 517 -20 516 b -21 506 -20 512 -20 509 b -31 474 -23 502 -27 488 l -53 402 l -66 352 l -68 349 l -57 349 b -32 351 -51 349 -40 351 b 123 370 19 352 74 359 b 137 371 127 370 133 371 b 170 356 152 371 164 366 b 171 355 170 355 170 355 b 216 366 174 355 183 358 b 280 378 268 377 266 377 b 287 378 283 378 284 378 b 332 349 307 378 322 369 b 338 319 336 341 338 330 b 332 301 338 310 336 302 b 242 280 329 299 246 280 b 242 280 242 280 242 280 b 235 288 236 280 235 283 b 235 292 235 290 235 291 b 236 302 236 297 236 299 b 220 337 236 316 230 330 l 216 340 l 210 335 b 159 276 189 322 172 301 b 118 149 152 265 156 274 b 81 34 84 36 85 36 b -8 13 78 33 -4 13 b -8 13 -8 13 -8 13 b -14 20 -12 15 -14 15 b -8 44 -14 24 -12 31 b -2 66 -5 55 -2 65 b -2 66 -2 66 -2 66 l -2 66 b -43 41 -2 66 -21 55 b -114 4 -98 8 -98 8 b -144 0 -123 0 -134 0 b -242 99 -197 0 -242 43 b -242 109 -242 102 -242 105 b -212 219 -240 122 -242 116 b -185 312 -197 270 -185 312 l -185 312 b -189 312 -185 312 -186 312 b -259 312 -200 312 -227 312 b -321 310 -291 312 -310 310 b -334 312 -330 310 -334 312 b -340 319 -338 313 -340 316 b -336 326 -340 322 -338 324 b -291 337 -334 326 -314 331 l -247 347 l -210 348 b -172 348 -190 348 -172 348 b -168 363 -172 348 -171 355 b -145 442 -151 424 -145 441 b -133 452 -144 444 -140 446 l -77 489 b -32 520 -53 506 -32 520 m 57 334 b 53 335 55 335 54 335 b 44 334 50 335 49 335 b -70 316 8 326 -28 320 b -78 309 -78 316 -78 316 b -108 202 -80 305 -88 274 b -141 81 -136 112 -141 93 b -140 74 -141 79 -141 77 b -117 49 -137 59 -127 49 b -107 52 -114 49 -110 51 b 16 127 -106 54 14 126 b 42 217 16 127 42 215 b 49 241 42 222 44 229 b 73 320 53 251 73 317 b 57 334 73 327 65 333 \"},v20:{x_min:-571.671875,x_max:570.3125,ha:582,o:\"m -559 351 b -551 352 -556 352 -553 352 b -530 338 -543 352 -533 348 b -529 169 -530 337 -529 291 l -529 1 l -507 27 l -441 112 b -382 174 -394 169 -390 174 b -378 174 -381 174 -379 174 b -281 86 -370 174 -375 179 b -196 0 -234 37 -196 0 b -126 84 -196 0 -164 37 b -50 174 -55 173 -57 172 b -44 174 -49 174 -47 174 b -35 173 -42 174 -38 173 b 53 86 -32 172 -12 151 b 138 0 100 37 138 0 b 208 84 140 0 170 37 b 284 174 279 173 279 172 b 289 174 285 174 288 174 b 300 173 294 174 298 173 b 462 11 303 172 340 134 l 475 -1 l 503 34 b 541 76 534 72 536 74 b 548 77 544 77 545 77 b 570 56 560 77 570 68 b 567 48 570 54 568 51 b 392 -172 564 41 397 -166 b 378 -176 387 -174 382 -176 b 368 -174 375 -176 371 -176 b 280 -87 367 -173 347 -152 b 194 0 234 -38 194 0 b 126 -86 194 0 163 -38 b 49 -174 54 -174 55 -173 b 44 -176 47 -176 46 -176 b 34 -174 40 -176 36 -174 b -54 -87 31 -173 10 -152 b -140 0 -102 -38 -140 0 b -209 -86 -140 0 -171 -38 b -285 -174 -280 -174 -279 -173 b -291 -176 -287 -176 -288 -176 b -300 -174 -294 -176 -298 -174 b -464 -11 -303 -173 -374 -102 l -476 0 l -506 -37 b -539 -76 -528 -65 -537 -74 b -551 -80 -543 -79 -547 -80 b -570 -68 -558 -80 -566 -76 l -571 -65 l -571 136 b -570 340 -571 331 -571 337 b -559 351 -568 344 -564 348 \"},v22:{x_min:0,x_max:432.828125,ha:442,o:\"m 209 186 b 213 187 210 187 212 187 b 216 187 215 187 216 187 b 224 174 216 186 220 180 b 420 -1 269 105 338 43 b 432 -12 431 -8 432 -9 b 421 -23 432 -15 432 -16 b 228 -180 345 -70 264 -137 b 219 -188 221 -188 221 -188 l 219 -188 b 208 -177 215 -188 215 -188 b 10 1 163 -106 93 -44 b 0 11 0 6 0 8 b 10 22 0 13 0 15 b 202 179 87 69 167 136 b 209 186 206 183 209 186 \"},v23:{x_min:0,x_max:133.390625,ha:136,o:\"m 54 66 b 65 68 58 68 61 68 b 122 37 88 68 110 56 b 133 -1 130 26 133 12 b 104 -58 133 -23 123 -44 b 66 -69 92 -65 78 -69 b 10 -38 44 -69 23 -58 b 0 -1 2 -27 0 -13 b 54 66 0 30 20 61 \"},v25:{x_min:0,x_max:318.5,ha:325,o:\"m 20 376 b 167 377 23 377 96 377 b 296 376 231 377 294 377 b 318 347 311 371 318 359 b 296 316 318 333 311 320 b 159 315 294 315 227 315 b 21 316 91 315 24 315 b 0 345 6 320 0 333 b 20 376 0 359 6 371 \"},v26:{x_min:-21.78125,x_max:483.1875,ha:493,o:\"m -8 631 b -1 632 -6 632 -4 632 b 19 620 8 632 16 628 b 20 383 20 616 20 616 l 20 148 l 21 151 b 140 199 59 183 102 199 b 206 179 164 199 187 192 l 210 176 l 210 396 l 210 617 l 212 621 b 231 632 216 628 223 632 b 250 620 239 632 247 628 b 251 383 251 616 251 616 l 251 148 l 254 151 b 370 199 291 183 332 199 b 415 191 385 199 400 197 b 483 84 458 176 483 134 b 461 0 483 58 476 29 b 332 -142 439 -40 411 -72 l 255 -215 b 231 -229 240 -229 239 -229 b 216 -223 224 -229 220 -227 b 210 -158 210 -217 210 -223 b 210 -120 210 -148 210 -136 l 210 -29 l 205 -34 b 100 -142 182 -65 159 -88 l 23 -215 b -1 -229 9 -229 6 -229 b -20 -216 -9 -229 -17 -224 l -21 -212 l -21 201 l -21 616 l -20 620 b -8 631 -17 624 -13 630 m 110 131 b 96 133 106 133 100 133 b 89 133 93 133 91 133 b 24 87 63 129 40 113 l 20 80 l 20 -37 l 20 -156 l 23 -152 b 144 81 96 -72 144 20 l 144 83 b 110 131 144 113 134 126 m 341 131 b 328 133 337 133 332 133 b 322 133 326 133 323 133 b 257 87 296 129 273 113 l 251 80 l 251 -37 l 251 -156 l 255 -152 b 375 81 328 -72 375 20 l 375 83 b 341 131 375 113 367 126 \"},v27:{x_min:0,x_max:432.828125,ha:442,o:\"m 208 184 b 213 187 209 186 212 187 b 224 176 217 187 221 183 b 245 147 225 172 235 159 b 419 -1 288 90 347 38 b 431 -8 424 -4 431 -8 b 432 -12 432 -9 432 -11 b 430 -18 432 -13 432 -16 b 364 -61 424 -20 383 -47 b 225 -183 307 -102 250 -152 b 223 -187 224 -184 223 -187 b 220 -188 221 -188 220 -188 b 208 -176 216 -188 210 -184 b 187 -148 205 -173 197 -159 b 12 0 144 -90 84 -38 b 0 11 4 5 0 8 b 16 24 0 13 4 18 b 183 158 83 69 141 115 b 208 184 194 169 198 173 m 183 105 b 176 113 181 109 176 113 b 172 109 176 113 175 112 b 92 45 149 90 117 62 l 88 41 l 102 31 b 247 -105 160 -6 210 -55 l 254 -115 l 257 -112 l 269 -102 b 340 -45 287 -87 319 -61 l 344 -43 l 330 -33 b 183 105 272 6 221 54 \"},v28:{x_min:-73.5,x_max:72.140625,ha:74,o:\"m -72 252 l -73 254 l 0 254 l 72 254 l 70 252 b 0 -1 70 248 0 -1 b -72 252 -1 -1 -72 248 \"},v29:{x_min:-590.71875,x_max:589.359375,ha:601,o:\"m 175 273 b 182 274 178 273 181 274 b 202 262 190 274 198 269 b 204 158 204 259 204 259 l 204 56 l 250 112 b 303 174 296 172 298 172 b 308 174 304 174 307 174 b 318 173 313 174 317 173 b 481 11 322 172 357 134 l 494 -1 l 522 34 b 560 76 553 72 555 74 b 567 77 563 77 564 77 b 589 56 579 77 589 68 b 586 48 589 54 588 51 b 411 -172 583 41 416 -166 b 397 -176 406 -174 401 -176 b 387 -174 393 -176 390 -176 b 299 -87 386 -173 366 -152 b 213 0 253 -38 213 0 b 208 -6 213 0 210 -2 l 204 -12 l 204 -147 b 204 -210 204 -173 204 -194 b 198 -292 204 -297 204 -287 b 183 -299 194 -297 189 -299 b 164 -287 175 -299 167 -295 b 163 -174 163 -284 163 -284 l 161 -63 l 119 -117 b 65 -176 76 -170 73 -176 b 61 -176 63 -176 62 -176 b -35 -87 51 -174 57 -180 b -121 0 -83 -38 -121 0 b -190 -86 -122 0 -152 -38 b -266 -174 -261 -174 -259 -173 b -272 -176 -268 -176 -270 -176 b -281 -174 -276 -176 -280 -174 b -371 -86 -284 -173 -304 -152 b -457 0 -417 -38 -457 0 l -457 0 b -477 -26 -457 0 -470 -16 b -548 -227 -524 -88 -548 -161 b -536 -303 -548 -254 -544 -280 b -533 -317 -534 -309 -533 -313 b -553 -338 -533 -330 -541 -338 b -577 -315 -566 -338 -571 -333 b -590 -227 -586 -287 -590 -258 b -518 -9 -590 -154 -564 -77 b -465 56 -509 2 -504 8 l -402 134 b -363 174 -374 170 -371 174 b -359 174 -362 174 -360 174 b -262 86 -351 174 -356 179 b -176 0 -216 37 -176 0 b -107 84 -176 0 -145 37 b -31 174 -36 173 -38 172 b -25 174 -29 174 -28 174 b -16 173 -23 174 -19 173 b 147 11 -13 172 35 123 l 157 -1 l 160 1 l 163 4 l 163 130 b 164 260 163 256 163 258 b 175 273 166 266 170 270 \"},v2a:{x_min:-21.78125,x_max:366.140625,ha:374,o:\"m 276 1378 b 284 1379 279 1379 281 1379 b 306 1360 292 1379 298 1374 b 352 1247 326 1326 343 1286 b 366 1139 362 1213 366 1175 b 347 1009 366 1093 359 1049 l 344 1002 l 347 992 b 352 971 348 986 351 977 b 366 863 362 936 366 899 b 347 732 366 818 359 773 l 344 725 l 347 716 b 352 695 348 710 351 700 b 366 588 362 659 366 623 b 223 262 366 464 314 345 b 189 233 212 252 212 252 b 35 76 126 183 73 129 b -1 16 20 56 2 27 b -19 4 -4 9 -12 4 l -21 4 l -21 137 l -21 270 l -17 270 b 186 344 59 281 134 308 b 319 606 270 399 319 499 b 317 650 319 620 319 635 l 315 659 l 314 655 b 223 537 288 607 258 570 b 189 509 212 528 212 528 b 35 352 126 459 73 405 b -1 292 20 333 2 303 b -19 280 -4 285 -12 280 l -21 280 l -21 413 l -21 546 l -17 546 b 186 620 59 557 134 584 b 319 882 270 675 319 775 b 317 925 319 896 319 911 l 315 935 l 314 931 b 223 813 288 884 258 846 b 189 785 212 805 212 805 b 35 628 126 735 73 681 b -1 569 20 609 2 580 b -19 556 -4 562 -12 556 l -21 556 l -21 689 l -21 823 l -17 823 b 202 907 68 835 152 867 b 319 1157 280 968 319 1061 b 270 1338 319 1218 303 1281 b 262 1358 264 1349 262 1353 b 262 1364 262 1360 262 1363 b 276 1378 265 1371 269 1376 \"},v2c:{x_min:-597.53125,x_max:596.171875,ha:608,o:\"m -413 173 b -408 174 -412 174 -409 174 b -397 173 -404 174 -400 173 b -308 86 -394 172 -374 151 b -223 0 -261 37 -223 0 b -153 84 -223 0 -191 37 b -77 174 -83 173 -84 172 b -72 174 -76 174 -74 174 b -62 173 -68 174 -63 173 b 25 86 -59 172 -39 151 b 112 0 73 37 111 0 b 181 84 112 0 144 37 b 257 174 251 173 251 172 b 262 174 258 174 261 174 b 273 173 266 174 270 173 b 436 9 276 172 347 101 l 447 -1 l 477 36 b 522 79 511 79 513 79 l 522 79 b 552 51 533 79 539 73 b 596 -112 582 6 596 -51 b 567 -262 596 -161 586 -213 b 539 -322 558 -287 544 -316 b 524 -327 534 -326 529 -327 b 504 -315 515 -327 507 -323 b 503 -308 503 -312 503 -309 b 511 -285 503 -302 504 -297 b 555 -113 540 -227 555 -169 b 544 -34 555 -86 551 -59 b 522 19 540 -16 530 8 l 521 22 l 481 -26 l 405 -122 b 353 -176 366 -172 362 -176 b 349 -176 352 -176 351 -176 b 253 -87 341 -176 347 -180 b 167 0 206 -38 167 0 b 99 -86 167 0 136 -38 b 21 -174 27 -174 28 -173 b 17 -176 20 -176 19 -176 b 6 -174 13 -176 9 -174 b -81 -87 4 -173 -14 -152 b -167 0 -129 -38 -167 0 b -236 -86 -167 0 -198 -38 b -313 -174 -307 -174 -306 -173 b -318 -176 -314 -176 -315 -176 b -328 -174 -321 -176 -325 -174 b -491 -12 -330 -173 -367 -137 l -503 0 l -530 -34 b -570 -77 -562 -73 -564 -76 b -577 -79 -571 -79 -574 -79 b -597 -58 -588 -79 -597 -69 b -596 -49 -597 -55 -597 -52 b -417 172 -593 -43 -423 167 b -413 173 -417 172 -415 173 \"},v2d:{x_min:0,x_max:438.28125,ha:447,o:\"m 212 190 b 219 191 213 191 216 191 b 236 176 225 191 228 190 b 419 18 277 105 341 49 b 436 5 431 13 434 11 b 438 -1 438 4 438 1 b 424 -16 438 -8 432 -13 b 356 -49 409 -20 379 -36 b 234 -180 306 -83 258 -133 b 219 -192 230 -188 224 -192 b 200 -176 213 -192 206 -187 b 9 -15 157 -102 89 -45 b 0 0 2 -12 0 -6 b 16 18 0 9 2 12 b 200 176 93 48 159 104 b 212 190 205 186 208 188 m 239 113 b 236 117 238 116 238 117 b 230 108 235 117 234 115 b 92 -15 196 58 140 8 b 88 -18 91 -16 88 -18 b 92 -20 88 -18 91 -19 b 198 -116 130 -43 166 -74 b 200 -117 200 -117 200 -117 b 201 -117 200 -117 201 -117 b 264 -43 212 -98 242 -62 b 345 15 288 -19 321 4 b 348 18 347 16 348 16 b 344 20 348 18 347 19 b 239 113 307 41 266 79 \"},v2f:{x_min:-1.359375,x_max:680.5625,ha:694,o:\"m 597 1042 b 604 1042 600 1042 602 1042 b 642 1002 627 1042 642 1022 b 619 966 642 988 635 974 b 439 927 574 942 503 927 l 426 927 l 426 921 b 430 838 428 893 430 866 b 345 480 430 696 398 560 b 179 391 307 423 249 391 b 156 392 171 391 164 392 b 138 394 149 394 142 394 b 103 434 115 396 103 416 b 129 471 103 451 111 466 b 141 474 133 473 137 474 b 172 459 153 474 164 469 b 181 455 175 456 176 455 b 187 456 182 455 185 455 b 253 520 212 460 234 483 b 315 836 294 605 315 714 b 311 928 315 867 314 898 b 302 945 310 943 311 942 b 245 953 283 950 262 953 b 130 891 193 953 149 931 b 84 860 119 870 102 860 b 36 905 61 860 39 877 b 36 910 36 907 36 909 b 80 970 36 931 50 949 b 249 1017 125 1000 187 1017 b 322 1009 273 1017 299 1014 l 341 1003 b 436 991 372 995 406 991 b 577 1031 495 991 545 1004 b 597 1042 583 1038 590 1041 m 416 360 b 424 360 419 360 421 360 b 481 309 454 360 479 338 b 503 145 484 280 495 199 b 585 -185 525 16 555 -106 b 630 -245 596 -213 613 -237 l 634 -247 l 638 -245 b 647 -244 641 -245 645 -244 b 680 -278 666 -244 680 -262 b 664 -308 680 -290 675 -301 b 638 -312 658 -310 650 -312 b 613 -309 631 -312 623 -310 b 477 -201 555 -303 502 -260 b 417 -2 460 -159 434 -72 b 416 5 417 1 416 5 b 416 5 416 5 416 5 b 411 -5 415 5 413 0 b 359 -97 397 -33 377 -70 b 353 -106 355 -102 353 -105 b 359 -112 353 -108 355 -109 b 409 -130 375 -123 390 -129 b 426 -134 420 -130 421 -131 b 431 -147 428 -137 431 -141 b 420 -162 431 -152 427 -159 b 382 -169 409 -166 396 -169 b 323 -155 363 -169 341 -165 l 317 -152 l 314 -155 b 62 -303 240 -240 148 -295 b 36 -305 55 -305 44 -305 b 23 -303 29 -305 24 -305 b -1 -273 6 -299 -1 -287 b 31 -240 -1 -256 10 -240 b 36 -240 32 -240 34 -240 b 42 -241 38 -241 39 -241 b 134 -204 63 -241 99 -226 b 367 288 265 -115 357 81 b 375 330 368 313 370 320 b 416 360 383 347 400 358 m 360 -359 b 379 -359 363 -359 371 -359 b 424 -360 396 -359 416 -359 b 646 -502 536 -373 624 -430 b 649 -527 649 -510 649 -519 b 530 -673 649 -578 604 -635 l 521 -677 l 529 -681 b 653 -811 592 -714 637 -762 b 660 -853 658 -827 660 -839 b 645 -911 660 -873 656 -892 b 426 -1021 608 -981 519 -1021 b 283 -989 377 -1021 328 -1011 b 235 -949 249 -972 239 -964 b 234 -936 234 -946 234 -941 b 234 -928 234 -934 234 -931 l 235 -925 l 234 -927 l 225 -934 b 87 -982 186 -966 138 -982 b 80 -982 85 -982 83 -982 b 55 -981 70 -981 58 -981 b 17 -943 32 -981 17 -964 b 54 -904 17 -921 35 -904 b 78 -914 62 -904 72 -909 l 83 -918 l 88 -918 b 190 -831 122 -918 166 -881 b 269 -506 242 -727 269 -612 b 268 -462 269 -492 269 -477 b 266 -449 266 -458 266 -452 b 265 -444 266 -445 266 -444 b 257 -446 264 -444 261 -445 b 132 -545 196 -470 152 -505 b 88 -573 122 -563 104 -573 b 39 -523 63 -573 39 -553 b 63 -476 39 -505 44 -494 b 360 -359 136 -408 235 -369 m 419 -424 b 393 -423 411 -423 406 -423 l 375 -423 l 377 -426 b 379 -439 377 -427 378 -434 b 383 -510 382 -463 383 -487 b 314 -811 383 -609 360 -710 b 266 -893 296 -850 285 -870 b 264 -898 265 -896 264 -898 l 264 -898 b 264 -898 264 -898 264 -898 b 268 -898 264 -898 266 -898 b 273 -898 270 -898 272 -898 b 300 -909 283 -898 291 -900 b 426 -957 340 -941 385 -957 b 476 -949 443 -957 460 -954 b 547 -853 522 -931 547 -893 b 485 -745 547 -816 526 -775 b 397 -707 460 -727 432 -714 b 366 -675 375 -703 366 -692 b 396 -642 366 -657 377 -645 b 530 -557 455 -637 511 -601 b 536 -527 534 -548 536 -537 b 419 -424 536 -480 490 -437 \"},v30:{x_min:-21.78125,x_max:367.5,ha:375,o:\"m 276 1900 b 284 1901 279 1900 281 1901 b 306 1883 291 1901 298 1896 b 367 1686 347 1825 367 1757 b 343 1558 367 1643 359 1600 l 338 1549 l 343 1537 b 367 1411 359 1497 367 1454 b 343 1282 367 1367 359 1324 l 338 1272 l 343 1261 b 367 1135 359 1221 367 1178 b 343 1007 367 1090 359 1047 l 338 996 l 343 985 b 367 859 359 945 367 902 b 343 731 367 814 359 771 l 338 720 l 343 709 b 367 582 359 667 367 626 b 289 362 367 503 340 426 b 239 312 276 345 259 330 b 29 77 152 237 76 152 b -1 18 14 54 2 30 b -19 4 -4 11 -12 4 l -21 4 l -21 133 l -20 260 l -13 262 b 98 299 17 269 62 284 b 111 305 103 302 110 305 b 167 334 123 310 156 327 b 319 595 264 391 319 491 b 313 659 319 616 318 638 b 310 667 311 664 311 667 b 307 663 310 667 308 666 b 240 588 289 637 269 614 b 16 331 141 505 62 413 b -1 294 8 316 1 302 b -19 280 -4 287 -12 280 l -21 280 l -21 408 l -20 537 l -13 538 b 98 576 17 545 62 560 b 111 581 103 578 110 581 b 167 610 123 587 156 603 b 319 871 264 667 319 767 b 313 935 319 892 318 913 b 310 942 311 941 311 942 b 307 939 310 942 308 941 b 240 864 289 913 269 889 b 16 607 141 781 62 689 b -1 570 8 592 1 578 b -19 556 -4 563 -12 556 l -21 556 l -21 684 l -20 813 l -13 814 b 98 852 17 821 62 836 b 111 857 103 855 110 857 b 167 886 123 863 156 880 b 319 1147 264 943 319 1043 b 313 1211 319 1168 318 1189 b 310 1218 311 1217 311 1218 b 307 1215 310 1218 308 1217 b 240 1140 289 1188 269 1165 b 16 884 141 1057 62 966 b -1 846 8 868 1 855 b -19 832 -4 839 -12 832 l -21 832 l -21 960 l -20 1089 l -13 1090 b 98 1128 17 1097 62 1111 b 111 1134 103 1131 110 1134 b 167 1163 123 1139 156 1156 b 319 1424 264 1220 319 1320 b 313 1486 319 1444 318 1465 b 310 1494 311 1493 311 1494 b 307 1492 310 1494 308 1493 b 240 1417 289 1464 269 1442 b 16 1160 141 1333 62 1242 b -1 1121 8 1145 1 1131 b -19 1109 -4 1115 -12 1109 l -21 1109 l -21 1236 l -20 1365 l -13 1367 b 98 1404 17 1374 62 1388 b 111 1410 103 1407 110 1410 b 250 1508 172 1437 215 1467 b 319 1701 296 1564 319 1633 b 270 1859 319 1757 303 1814 b 262 1882 265 1868 262 1875 b 276 1900 262 1890 266 1896 \"},v31:{x_min:0,x_max:386.5625,ha:394,o:\"m 0 173 l 0 347 l 193 347 l 386 347 l 386 173 l 386 0 l 193 0 l 0 0 l 0 173 \"},v33:{x_min:-423.3125,x_max:421.9375,ha:431,o:\"m -10 276 b -2 277 -8 277 -5 277 b 17 265 5 277 13 273 b 19 163 19 260 19 260 l 19 68 l 39 45 b 277 -95 122 -34 200 -81 b 289 -97 281 -97 285 -97 b 378 0 332 -97 371 -54 b 378 11 378 4 378 6 b 302 83 378 55 345 83 b 242 66 283 83 262 77 b 208 56 231 59 219 56 b 148 120 175 56 148 81 b 200 186 148 151 164 172 b 261 198 220 194 240 198 b 420 45 341 198 411 137 b 421 22 421 37 421 29 b 257 -198 421 -86 347 -188 b 242 -198 251 -198 247 -198 b 20 -105 181 -198 95 -163 l 19 -104 l 19 -183 b 19 -216 19 -195 19 -206 b 12 -273 19 -272 17 -267 b -2 -278 8 -277 2 -278 b -21 -266 -10 -278 -19 -274 b -23 -165 -23 -263 -23 -262 l -23 -69 l -44 -47 b -250 86 -117 23 -183 66 b -295 94 -270 93 -284 94 b -315 91 -302 94 -308 94 b -381 5 -356 81 -381 43 b -355 -56 -381 -16 -372 -40 b -299 -81 -338 -73 -319 -81 b -246 -68 -283 -81 -265 -77 b -212 -58 -234 -61 -223 -58 b -168 -77 -196 -58 -179 -65 b -151 -122 -156 -90 -151 -105 b -179 -174 -151 -141 -160 -162 b -239 -195 -194 -184 -217 -192 b -257 -197 -245 -195 -250 -197 b -423 -5 -349 -197 -423 -113 b -423 0 -423 -4 -423 -1 b -277 194 -420 97 -362 173 b -247 197 -268 197 -258 197 b -24 104 -185 197 -100 162 l -23 102 l -23 181 b -21 265 -23 260 -23 260 b -10 276 -20 269 -14 274 \"},v34:{x_min:0,x_max:622.03125,ha:635,o:\"m 398 417 b 406 419 401 419 404 419 b 427 398 417 419 427 409 b 427 391 427 395 427 392 b 34 -274 424 385 38 -272 b 20 -280 29 -278 25 -280 b 0 -259 9 -280 0 -270 b 0 -252 0 -256 0 -254 b 393 413 2 -247 389 410 b 398 417 394 415 397 416 m 592 417 b 600 419 594 419 597 419 b 622 398 611 419 622 409 b 620 391 622 395 620 392 b 227 -274 617 385 231 -272 b 213 -280 223 -278 219 -280 b 193 -259 202 -280 193 -270 b 194 -252 193 -256 193 -254 b 586 413 196 -247 582 410 b 592 417 588 415 590 416 \"},v36:{x_min:-1.359375,x_max:1064.390625,ha:1086,o:\"m 296 692 b 314 694 302 694 307 694 b 386 685 337 694 366 689 b 548 498 480 660 548 580 b 548 481 548 492 548 487 b 455 395 541 426 499 395 b 370 462 420 395 383 417 b 362 496 364 477 362 488 b 377 514 362 509 367 514 b 393 501 386 514 390 510 b 432 474 397 484 413 474 b 470 487 445 474 458 478 b 491 530 484 496 491 510 b 490 544 491 534 491 539 b 333 660 479 606 411 657 l 323 662 l 315 646 b 269 524 285 591 269 556 b 321 431 269 492 287 466 b 349 395 338 413 343 408 b 363 342 359 378 363 362 b 359 312 363 333 362 322 b 285 158 348 266 318 206 b 281 152 283 155 281 152 b 281 152 281 152 281 152 b 287 154 283 152 284 152 b 318 155 298 154 308 155 b 461 98 371 155 419 136 l 464 97 l 483 112 b 503 129 494 120 503 127 b 504 130 503 129 504 129 b 503 138 504 131 503 134 b 500 180 500 152 500 166 b 553 326 500 238 518 288 b 604 366 560 331 592 358 b 649 381 617 376 632 381 b 696 362 665 381 681 374 b 724 302 714 347 724 324 b 695 238 724 278 714 255 b 660 210 691 234 662 212 b 579 148 658 209 582 151 b 579 148 579 148 579 148 b 596 106 579 144 589 119 b 622 77 604 88 609 83 b 657 69 632 72 645 69 b 748 112 688 69 721 84 b 755 123 754 117 755 120 b 755 127 755 124 755 126 b 751 165 752 137 751 151 b 758 219 751 183 754 202 b 894 387 774 290 820 347 b 896 390 896 388 896 388 b 891 398 896 391 895 392 b 622 560 827 477 730 535 b 600 580 605 564 600 569 b 617 596 600 591 607 596 b 628 595 622 596 624 596 b 1057 248 846 552 1020 412 b 1064 191 1061 229 1064 209 b 922 0 1064 94 1005 9 b 902 -1 916 -1 909 -1 b 774 76 847 -1 800 26 b 769 83 770 81 770 83 b 769 81 769 83 769 83 b 627 -1 733 29 677 -1 b 548 27 597 -1 570 8 b 515 88 537 37 525 61 l 513 95 l 510 93 l 453 45 b 390 0 396 0 396 0 b 390 0 390 0 390 0 b 374 15 381 0 377 4 b 268 105 359 69 314 105 b 250 104 262 105 257 105 l 243 102 l 234 90 b 155 1 201 49 159 2 b 147 -1 152 0 149 -1 b 130 15 138 -1 130 6 b 132 20 130 18 132 19 b 136 31 133 22 134 27 b 220 131 149 74 178 109 b 231 137 225 134 230 136 b 302 278 280 202 302 244 b 265 335 302 299 295 309 b 209 442 234 363 213 402 b 209 455 209 446 209 451 b 279 648 209 502 232 564 l 285 659 l 283 659 b 176 627 238 653 210 645 b 57 477 111 594 66 538 b 55 459 55 471 55 464 b 72 409 55 437 61 415 b 93 403 78 405 87 403 b 152 467 123 403 151 431 b 168 488 153 483 157 488 b 185 462 181 488 185 483 l 185 460 b 137 344 183 409 168 369 b 78 322 119 328 98 322 b 13 360 50 322 25 335 b -1 426 4 380 -1 402 b 89 610 -1 488 32 559 b 296 692 147 659 210 685 m 926 348 b 921 353 924 351 922 353 b 914 348 920 353 918 351 b 823 167 857 306 823 237 b 828 124 823 154 826 138 b 890 31 837 79 862 40 b 896 31 892 31 894 31 b 956 104 916 31 940 59 b 970 191 965 129 970 159 b 966 241 970 208 969 224 b 926 348 959 277 945 313 m 627 326 b 619 326 624 326 622 326 b 598 316 611 326 604 323 b 568 215 579 288 568 255 b 568 208 568 213 568 210 b 571 183 570 195 570 184 l 571 183 b 594 201 571 183 582 191 l 634 231 b 660 259 653 247 656 248 b 664 278 662 266 664 272 b 627 326 664 299 649 320 \"},v38:{x_min:-1.359375,x_max:651.96875,ha:665,o:\"m 389 644 b 405 645 394 645 400 645 b 504 566 450 645 492 613 b 507 541 506 557 507 549 b 480 471 507 514 498 489 l 477 467 l 483 470 b 609 591 539 485 586 531 b 613 601 611 595 613 599 b 631 609 619 607 624 609 b 651 588 641 609 651 602 b 200 -946 651 584 204 -941 b 182 -957 197 -953 190 -957 b 163 -945 174 -957 166 -953 b 161 -939 161 -942 161 -942 b 217 -743 161 -931 170 -904 b 272 -555 247 -639 272 -555 b 272 -555 272 -555 272 -555 b 264 -560 272 -555 268 -557 b 140 -603 227 -589 182 -603 b 36 -567 102 -603 65 -592 b -1 -487 12 -548 -1 -517 b 17 -427 -1 -466 5 -445 b 103 -380 38 -395 70 -380 b 191 -433 137 -380 172 -398 b 205 -484 201 -448 205 -466 b 178 -553 205 -509 196 -535 l 175 -557 l 182 -555 b 307 -435 236 -539 284 -494 b 372 -213 308 -430 372 -215 b 372 -213 372 -213 372 -213 b 364 -219 372 -213 368 -216 b 240 -262 328 -247 283 -262 b 137 -226 202 -262 166 -249 b 99 -145 112 -206 99 -176 b 118 -84 99 -124 106 -104 b 204 -38 138 -54 171 -38 b 292 -91 238 -38 273 -56 b 306 -141 302 -106 306 -124 b 279 -212 306 -167 296 -194 l 276 -215 l 281 -213 b 408 -93 336 -198 385 -151 b 473 129 409 -88 473 127 b 473 129 473 129 473 129 b 465 122 473 129 469 126 b 341 80 428 94 383 80 b 236 115 303 80 266 91 b 200 195 213 136 200 165 b 217 256 200 217 206 238 b 304 303 239 287 272 303 b 393 249 338 303 374 285 b 406 199 402 234 406 217 b 379 129 406 173 397 148 l 377 126 l 382 127 b 509 248 436 142 485 190 b 574 470 510 254 574 469 b 574 470 574 470 574 470 b 566 464 574 470 570 467 b 442 421 529 435 484 421 b 337 458 404 421 367 433 b 300 537 313 478 300 508 b 389 644 300 585 334 635 \"},v39:{x_min:-171.5,x_max:251.8125,ha:257,o:\"m -8 631 b -1 632 -6 632 -4 632 b 19 620 8 632 16 628 b 20 553 20 616 20 614 b 20 491 20 503 20 491 l 20 491 b 153 535 47 501 149 535 b 174 514 167 535 174 524 b 164 496 174 508 171 501 b 92 470 164 495 132 484 l 20 445 l 20 390 b 20 363 20 378 20 370 b 20 333 20 340 20 333 l 20 333 b 153 377 47 344 149 377 b 174 356 167 377 174 367 b 164 338 174 349 171 342 b 92 312 164 338 132 326 l 20 288 l 20 219 l 20 148 l 21 151 b 137 199 59 183 99 199 b 182 191 152 199 167 197 b 251 84 227 176 251 134 b 228 0 251 58 243 29 b 100 -142 206 -40 178 -72 l 23 -215 b -1 -229 9 -229 6 -229 b -20 -216 -9 -229 -17 -224 b -21 30 -21 -212 -21 -212 b -21 273 -21 163 -21 273 b -84 252 -21 273 -50 263 b -152 230 -133 234 -145 230 b -157 231 -155 230 -156 231 b -171 252 -166 234 -171 244 b -160 270 -171 259 -167 266 b -27 316 -159 270 -93 294 l -21 319 l -21 374 b -21 431 -21 406 -21 431 b -84 409 -21 431 -50 421 b -152 388 -133 392 -145 388 b -157 390 -155 388 -156 388 b -171 409 -166 392 -171 401 b -160 428 -171 417 -167 424 b -27 474 -159 428 -93 451 l -21 476 l -21 546 b -20 620 -21 614 -21 616 b -8 631 -17 624 -13 630 m 110 131 b 96 133 106 133 100 133 b 89 133 93 133 91 133 b 24 87 63 129 40 113 l 20 80 l 20 -37 l 20 -156 l 23 -152 b 144 81 96 -72 144 20 l 144 83 b 110 131 144 113 134 126 \"},v3b:{x_min:0,x_max:484.5625,ha:494,o:\"m 228 245 b 239 247 234 247 239 247 b 243 247 240 247 242 247 b 303 238 257 247 287 242 b 484 -2 417 208 484 104 b 412 -177 484 -65 461 -127 b 243 -248 363 -226 303 -248 b 6 -63 138 -248 36 -180 b 0 -1 1 -41 0 -20 b 228 245 0 127 98 240 m 255 181 b 240 183 247 183 245 183 b 232 181 238 183 235 183 b 142 152 200 180 168 170 l 138 149 l 190 97 l 242 44 l 294 97 l 345 149 l 340 152 b 255 181 315 169 284 180 m 147 -54 l 197 -1 l 147 51 l 95 104 l 91 99 b 62 -1 72 70 62 34 b 66 -43 62 -15 63 -29 b 91 -101 72 -63 80 -84 l 95 -106 l 147 -54 m 393 99 b 389 104 390 102 389 104 b 337 51 389 104 366 80 l 285 -1 l 337 -54 l 389 -106 l 393 -101 b 421 -1 412 -72 421 -36 b 393 99 421 34 412 69 m 294 -98 b 242 -45 265 -69 242 -45 b 190 -98 242 -45 219 -69 l 138 -151 l 142 -154 b 242 -184 172 -174 206 -184 b 340 -154 276 -184 311 -174 l 345 -151 l 294 -98 \"},v3c:{x_min:0,x_max:450.53125,ha:460,o:\"m 189 302 b 204 303 193 302 198 303 b 303 224 250 303 292 270 b 306 199 304 216 306 208 b 279 129 306 173 296 147 l 276 126 l 281 127 b 408 249 337 142 385 190 b 412 259 409 254 412 258 b 430 267 417 265 423 267 b 450 247 441 267 450 259 b 200 -605 450 242 204 -599 b 182 -616 197 -612 190 -616 b 163 -602 174 -616 166 -610 b 161 -598 161 -601 161 -601 b 217 -402 161 -589 170 -562 b 272 -213 247 -298 272 -213 b 272 -213 272 -213 272 -213 b 264 -219 272 -213 268 -216 b 140 -262 227 -247 182 -262 b 36 -226 102 -262 65 -249 b 0 -145 12 -206 0 -176 b 17 -84 0 -124 5 -104 b 103 -38 38 -54 70 -38 b 191 -91 137 -38 172 -56 b 205 -141 201 -106 205 -124 b 178 -212 205 -167 196 -194 l 175 -215 l 182 -213 b 307 -93 236 -198 284 -151 b 372 129 308 -88 372 127 b 372 129 372 129 372 129 b 364 122 372 129 368 126 b 240 80 328 94 283 80 b 137 115 202 80 166 91 b 99 194 111 136 99 165 b 189 302 99 244 133 292 \"},v3e:{x_min:0,x_max:406.96875,ha:415,o:\"m 21 183 b 28 183 24 183 25 183 b 42 181 34 183 39 183 b 127 108 47 179 47 179 b 202 41 168 72 202 41 b 279 108 204 41 238 72 b 357 177 321 145 356 176 b 375 183 363 181 370 183 b 406 151 392 183 406 169 b 404 137 406 147 405 141 b 322 62 401 131 398 129 b 251 0 284 27 251 0 b 322 -63 251 -1 284 -29 b 404 -138 398 -130 401 -133 b 406 -152 405 -142 406 -148 b 375 -184 406 -170 392 -184 b 357 -179 370 -184 363 -183 b 279 -109 356 -177 321 -147 b 202 -43 238 -73 204 -43 b 127 -109 202 -43 168 -73 b 49 -179 85 -147 50 -177 b 31 -184 43 -183 36 -184 b 0 -152 13 -184 0 -170 b 2 -138 0 -148 0 -142 b 83 -63 5 -133 8 -130 b 155 0 122 -29 155 -1 b 83 62 155 0 122 27 b 8 129 43 97 10 127 b 0 151 2 136 0 144 b 21 183 0 165 8 177 \"},v3f:{x_min:-24.5,x_max:317.140625,ha:324,o:\"m -24 -147 l -24 -5 l -20 -5 b -1 -19 -12 -5 -4 -11 b 58 -123 6 -43 31 -86 b 196 -278 93 -173 134 -219 b 317 -570 274 -356 317 -460 b 294 -713 317 -617 308 -666 l 289 -724 l 294 -735 b 317 -873 308 -780 317 -827 b 235 -1132 317 -963 288 -1054 b 209 -1165 228 -1140 224 -1146 b 189 -1177 204 -1172 196 -1177 b 171 -1164 182 -1177 175 -1172 b 168 -1154 170 -1161 168 -1159 b 181 -1132 168 -1149 172 -1142 b 269 -891 238 -1064 269 -975 b 269 -881 269 -886 269 -884 b 262 -814 269 -857 265 -827 b 258 -800 261 -811 259 -806 b 142 -628 240 -731 198 -667 b -8 -589 112 -606 47 -589 b -20 -589 -13 -589 -19 -589 l -24 -589 l -24 -449 l -24 -308 l -20 -308 b -1 -322 -12 -308 -4 -313 b 58 -424 6 -345 31 -388 b 194 -580 93 -476 136 -523 b 259 -660 221 -606 245 -635 b 261 -663 259 -662 261 -663 b 264 -656 262 -663 262 -660 b 269 -587 268 -632 269 -610 b 264 -521 269 -566 268 -544 b 262 -512 264 -517 262 -513 b 258 -498 261 -509 259 -503 b 142 -326 240 -428 198 -365 b -8 -287 112 -303 47 -288 b -20 -287 -13 -287 -19 -287 l -24 -287 l -24 -147 \"},v40:{x_min:-1.359375,x_max:436.921875,ha:446,o:\"m 213 205 b 217 205 215 205 216 205 b 234 194 224 205 234 199 b 236 187 234 194 235 190 l 245 167 l 261 129 l 270 106 b 355 -61 294 54 329 -13 b 420 -163 381 -105 402 -138 b 436 -188 435 -184 436 -184 b 436 -191 436 -190 436 -190 b 421 -206 436 -201 431 -206 l 421 -206 l 416 -206 l 405 -201 b 217 -158 347 -172 283 -158 b 31 -201 153 -158 88 -172 l 20 -206 l 14 -206 l 14 -206 b 0 -191 5 -206 0 -201 b -1 -188 0 -190 -1 -190 b 14 -163 -1 -186 0 -184 b 95 -34 36 -136 72 -77 b 166 106 119 8 148 68 l 175 129 l 183 148 l 200 188 b 213 205 205 199 208 202 \"},v41:{x_min:-1.359375,x_max:556.6875,ha:568,o:\"m 294 322 b 318 323 299 322 308 323 b 360 320 334 323 352 322 b 526 217 430 310 490 273 b 543 166 537 202 543 184 b 447 70 543 117 503 70 b 445 70 447 70 446 70 b 359 159 394 72 359 113 b 368 201 359 173 362 187 b 442 245 382 229 412 245 b 455 244 446 245 451 245 b 460 244 458 244 460 244 b 460 244 460 244 460 244 b 454 248 460 244 458 245 b 325 291 417 276 372 291 b 285 287 313 291 299 290 b 144 -2 183 269 144 190 b 281 -290 144 -208 179 -280 b 304 -291 289 -291 298 -291 b 524 -105 412 -291 506 -212 b 541 -84 526 -88 530 -84 b 556 -101 551 -84 556 -90 b 549 -138 556 -111 553 -122 b 334 -322 521 -237 435 -310 b 302 -324 323 -323 313 -324 b 13 -101 172 -324 54 -234 b -1 -1 4 -68 -1 -34 b 294 322 -1 161 121 303 \"},v42:{x_min:-348.4375,x_max:24.5,ha:25,o:\"m -330 155 b -322 156 -329 156 -326 156 b -315 156 -319 156 -317 156 b -298 147 -311 155 -308 154 b -19 30 -224 98 -122 55 l 2 26 b 24 -1 17 22 24 13 b 2 -27 24 -15 17 -23 l -19 -31 b -298 -148 -122 -56 -224 -99 b -322 -158 -313 -158 -315 -158 b -348 -131 -338 -158 -348 -145 b -344 -117 -348 -127 -347 -122 b -328 -104 -341 -112 -338 -111 b -127 -8 -269 -65 -202 -33 b -106 0 -115 -4 -106 -1 b -127 6 -106 0 -115 2 b -328 102 -202 31 -269 63 b -344 116 -338 109 -341 111 b -348 130 -347 120 -348 124 b -330 155 -348 141 -341 152 \"},v43:{x_min:-442.359375,x_max:441,ha:450,o:\"m -31 487 b -1 488 -21 488 -10 488 b 434 104 216 488 397 330 b 441 27 438 79 441 47 b 439 12 441 20 439 15 b 419 0 435 4 427 0 b 404 5 413 0 408 1 b 398 30 400 11 398 13 b 0 351 390 213 213 351 b -59 348 -20 351 -39 349 b -400 30 -251 324 -393 191 b -405 5 -400 13 -401 11 b -420 0 -409 1 -415 0 b -441 12 -428 0 -436 4 b -442 27 -441 15 -442 20 b -435 104 -442 47 -439 79 b -31 487 -401 316 -235 474 m -13 131 b -1 133 -9 133 -5 133 b 51 105 19 133 39 123 b 61 70 58 95 61 83 b 51 34 61 58 58 45 b -1 6 39 16 19 6 b -46 27 -17 6 -34 13 b -62 69 -57 38 -62 54 b -13 131 -62 98 -44 124 \"},v44:{x_min:-21.78125,x_max:251.8125,ha:257,o:\"m -8 631 b -1 632 -6 632 -4 632 b 19 620 8 632 16 628 b 20 383 20 616 20 616 l 20 148 l 21 151 b 137 199 59 183 99 199 b 182 191 152 199 167 197 b 251 84 227 176 251 134 b 228 0 251 58 243 29 b 100 -142 206 -40 178 -72 l 23 -215 b 0 -229 9 -229 6 -229 b -20 -216 -9 -229 -17 -224 l -21 -212 l -21 201 l -21 616 l -20 620 b -8 631 -17 624 -13 630 m 110 131 b 96 133 106 133 100 133 b 89 133 93 133 91 133 b 24 87 63 129 40 113 l 20 80 l 20 -37 l 20 -156 l 23 -152 b 144 81 96 -72 144 20 l 144 83 b 110 131 144 113 134 126 \"},v45:{x_min:-402.890625,x_max:401.53125,ha:410,o:\"m -10 273 b -4 274 -9 273 -6 274 b 16 262 4 274 12 269 b 17 158 17 259 17 259 l 17 56 l 62 112 b 117 174 110 172 110 172 b 122 174 118 174 119 174 b 132 173 125 174 129 173 b 295 11 134 172 171 134 l 307 -1 l 336 34 b 374 76 366 72 368 74 b 381 77 375 77 378 77 b 401 56 392 77 401 68 b 400 48 401 54 401 51 b 223 -172 397 41 230 -166 b 210 -176 220 -174 215 -176 b 201 -174 206 -176 204 -176 b 112 -87 198 -173 178 -152 b 27 0 65 -38 27 0 b 21 -6 27 0 24 -2 l 17 -12 l 17 -147 b 17 -210 17 -173 17 -194 b 10 -292 17 -297 16 -287 b -2 -299 6 -297 2 -299 b -21 -287 -10 -299 -19 -295 b -24 -174 -23 -284 -23 -284 l -24 -63 l -66 -117 b -121 -176 -110 -170 -114 -176 b -125 -176 -122 -176 -123 -176 b -296 -12 -134 -174 -125 -184 l -308 0 l -337 -34 b -375 -77 -367 -73 -370 -76 b -382 -79 -377 -79 -379 -79 b -402 -58 -393 -79 -402 -69 b -401 -49 -402 -55 -402 -52 b -224 170 -398 -43 -231 165 b -212 174 -221 173 -216 174 b -202 173 -208 174 -205 174 b -39 11 -200 172 -151 122 l -28 -1 l -25 1 l -24 4 l -24 130 b -23 260 -24 256 -24 258 b -10 273 -20 266 -16 270 \"},v46:{x_min:0,x_max:627.46875,ha:640,o:\"m 306 190 b 314 191 308 191 311 191 b 326 184 318 191 322 190 l 336 173 b 510 52 377 127 442 80 b 515 49 513 51 515 49 b 611 16 537 40 579 24 b 627 0 624 13 627 9 b 607 -18 627 -11 624 -13 b 330 -181 490 -49 389 -109 b 314 -192 323 -190 319 -192 b 306 -191 311 -192 308 -192 b 294 -177 302 -188 302 -188 b 257 -140 287 -170 265 -148 b 19 -18 193 -84 114 -44 b 0 0 2 -13 0 -11 b 16 16 0 9 2 13 b 110 49 47 24 89 40 b 117 52 111 49 114 51 b 145 65 126 56 130 58 b 281 163 200 93 245 124 b 300 186 288 170 291 174 b 306 190 300 187 303 188 m 317 137 b 313 142 315 141 314 142 b 308 137 313 142 311 141 b 161 4 276 84 220 33 b 155 0 159 1 155 0 b 163 -4 155 0 159 -2 b 308 -138 220 -34 276 -84 b 313 -142 311 -141 313 -142 b 317 -138 314 -142 315 -141 b 464 -4 351 -84 406 -34 b 470 0 468 -2 470 0 b 464 4 470 0 468 1 b 317 137 406 33 351 84 \"},v47:{x_min:-24.5,x_max:315.78125,ha:322,o:\"m -24 -145 l -24 -5 l -20 -5 b 1 -26 -10 -5 -6 -9 b 175 -241 31 -86 96 -166 b 314 -548 259 -323 304 -420 b 315 -589 315 -555 315 -571 b 314 -630 315 -606 315 -623 b 298 -730 311 -664 306 -699 l 295 -742 l 296 -748 b 314 -850 304 -778 311 -813 b 315 -892 315 -857 315 -874 b 314 -932 315 -909 315 -925 b 298 -1032 311 -967 306 -1002 l 295 -1045 l 296 -1050 b 314 -1153 304 -1081 311 -1115 b 315 -1193 315 -1160 315 -1177 b 314 -1235 315 -1211 315 -1228 b 217 -1526 306 -1338 270 -1444 b 201 -1533 213 -1532 208 -1533 b 182 -1522 193 -1533 185 -1529 b 179 -1514 181 -1518 179 -1517 b 189 -1489 179 -1508 182 -1501 b 266 -1217 240 -1403 266 -1308 b 262 -1156 266 -1196 265 -1177 b 110 -907 247 -1043 190 -950 b 0 -889 87 -895 50 -889 l -1 -889 l -24 -889 l -24 -749 l -24 -610 l -20 -610 b 1 -631 -10 -610 -6 -614 b 175 -846 31 -691 96 -771 b 259 -956 213 -884 236 -914 b 265 -966 262 -961 264 -966 b 265 -966 265 -966 265 -966 b 265 -953 265 -964 265 -959 b 266 -920 266 -943 266 -932 b 262 -853 266 -898 265 -873 b 110 -605 247 -741 190 -648 b 0 -587 87 -592 50 -587 l -1 -587 l -24 -587 l -24 -448 l -24 -308 l -20 -308 b 1 -328 -10 -308 -6 -312 b 175 -544 31 -388 96 -469 b 259 -655 213 -581 236 -612 b 265 -663 262 -659 264 -663 b 265 -663 265 -663 265 -663 b 265 -650 265 -663 265 -657 b 266 -617 266 -641 266 -630 b 262 -551 266 -595 265 -570 b 110 -303 247 -438 190 -345 b 0 -284 87 -290 50 -284 l -1 -284 l -24 -284 l -24 -145 \"},v49:{x_min:0,x_max:630.203125,ha:643,o:\"m 308 204 b 314 205 310 205 313 205 b 326 201 319 205 323 204 b 355 154 328 199 338 180 b 401 83 362 142 392 95 l 409 72 b 431 41 412 66 424 49 b 619 -174 498 -51 570 -134 b 630 -192 626 -180 630 -186 b 626 -202 630 -195 628 -199 b 616 -206 623 -205 620 -206 b 552 -188 608 -206 592 -202 b 310 -155 488 -169 392 -155 b 268 -156 295 -155 281 -155 b 77 -188 197 -161 126 -173 b 13 -206 35 -202 20 -206 b 9 -206 12 -206 10 -206 b 0 -191 2 -202 0 -197 b 8 -176 0 -186 2 -180 b 204 49 58 -136 138 -43 l 220 72 l 227 83 b 295 188 245 108 281 166 b 308 204 299 197 304 202 m 315 147 b 314 147 315 147 314 147 b 314 147 314 147 314 147 b 306 129 314 145 310 138 l 296 105 b 281 72 292 97 284 77 l 274 56 b 181 -123 247 -4 212 -72 l 174 -134 l 176 -133 b 314 -123 215 -127 272 -123 b 451 -133 356 -123 413 -127 l 454 -134 l 449 -123 b 353 56 417 -72 381 -4 l 347 72 b 332 105 344 77 336 97 l 322 129 b 315 147 318 138 315 145 \"},v4a:{x_min:70.78125,x_max:378.390625,ha:315,o:\"m 246 373 b 254 373 249 373 251 373 b 372 324 303 373 360 351 b 378 302 377 317 378 309 b 338 251 378 278 362 255 b 328 249 334 249 332 249 b 283 294 303 249 283 270 b 288 315 283 301 284 308 b 289 319 289 317 289 319 b 289 319 289 319 289 319 b 283 320 289 320 287 320 b 270 322 279 322 274 322 b 206 288 242 322 215 308 b 206 283 206 287 206 285 b 257 223 206 267 230 238 b 284 206 272 213 277 210 b 351 90 328 173 351 130 b 340 47 351 74 348 59 b 205 -30 314 -2 264 -30 b 182 -29 198 -30 190 -30 b 84 15 147 -24 103 -5 b 70 48 74 24 70 36 b 108 99 70 70 85 94 b 121 102 112 101 117 102 b 167 56 147 102 167 80 b 159 31 167 48 164 40 l 156 26 l 157 26 b 190 20 167 22 178 20 b 220 26 201 20 212 22 b 258 65 243 34 258 51 b 257 70 258 66 258 69 b 204 126 249 94 234 109 b 114 258 148 158 114 209 b 125 302 114 273 118 288 b 246 373 147 342 193 370 \"},v4b:{x_min:0,x_max:503.609375,ha:514,o:\"m 274 430 b 277 430 276 430 277 430 b 310 394 296 430 310 415 b 308 383 310 391 308 387 b 306 367 307 381 307 374 b 236 120 298 305 272 210 b 40 -273 189 -5 125 -134 b 20 -287 35 -283 27 -287 b 5 -281 14 -287 9 -285 b 0 -267 1 -277 0 -273 b 9 -242 0 -262 2 -255 b 246 395 137 -12 232 242 b 274 430 249 416 257 427 m 468 430 b 472 430 469 430 470 430 b 503 394 490 430 503 415 b 502 383 503 391 503 387 b 499 367 502 381 500 374 b 431 120 491 305 465 210 b 234 -273 382 -5 318 -134 b 213 -287 228 -283 220 -287 b 198 -281 208 -287 202 -285 b 193 -267 194 -277 193 -273 b 202 -242 193 -262 196 -255 b 439 395 330 -12 426 242 b 468 430 442 416 451 427 \"},v4d:{x_min:-311.6875,x_max:310.328125,ha:317,o:\"m -9 388 b -2 390 -8 390 -5 390 b 5 388 1 390 4 390 b 19 378 10 387 16 383 b 23 333 23 371 23 371 b 24 298 23 299 24 298 b 81 276 34 298 65 285 b 213 91 145 240 190 177 b 224 24 217 76 224 36 b 257 24 224 24 235 24 b 299 19 292 24 292 24 b 310 -1 306 15 310 6 b 299 -23 310 -11 306 -19 b 257 -27 292 -27 292 -27 b 224 -29 235 -27 224 -29 b 213 -95 224 -40 217 -80 b 81 -280 190 -181 145 -244 b 24 -301 65 -290 34 -301 b 23 -335 24 -301 23 -303 l 23 -340 b 17 -381 23 -374 23 -374 b -1 -391 13 -388 5 -391 b -21 -381 -9 -391 -17 -388 b -27 -340 -27 -374 -27 -374 l -27 -335 b -28 -301 -27 -303 -27 -301 b -85 -280 -38 -301 -69 -290 b -217 -95 -149 -244 -194 -181 b -228 -29 -221 -80 -228 -40 b -259 -27 -228 -29 -238 -27 b -300 -23 -294 -27 -294 -27 b -311 -2 -307 -19 -311 -11 b -294 23 -311 8 -304 19 b -259 24 -291 23 -284 24 b -228 24 -239 24 -228 24 b -217 91 -228 36 -221 76 b -85 276 -194 177 -149 240 b -28 298 -69 285 -38 298 b -27 333 -27 298 -27 299 b -27 371 -27 362 -27 369 b -9 388 -24 378 -17 385 m -27 136 b -28 247 -27 197 -28 247 b -61 216 -31 247 -53 226 b -123 33 -95 172 -121 98 l -125 24 l -76 24 l -27 24 l -27 136 m 29 242 b 24 247 27 245 24 247 b 23 136 24 247 23 197 l 23 24 l 72 24 l 121 24 l 119 33 b 29 242 115 116 77 206 m -27 -140 l -27 -27 l -76 -27 l -125 -27 l -123 -36 b -61 -220 -121 -102 -95 -176 b -28 -251 -53 -230 -31 -251 b -27 -140 -28 -251 -27 -201 m 119 -36 l 121 -27 l 72 -27 l 23 -27 l 23 -140 b 24 -251 23 -201 24 -251 b 57 -220 27 -251 49 -230 b 119 -36 91 -176 117 -102 \"},v4e:{x_min:0,x_max:239.5625,ha:244,o:\"m 10 460 b 20 462 13 462 14 462 b 39 449 28 462 35 458 l 40 446 l 40 326 b 40 205 40 259 40 205 b 127 227 40 205 80 215 b 220 249 196 244 213 249 b 227 247 224 249 225 248 b 238 237 231 245 235 241 l 239 233 l 239 -106 l 239 -448 l 238 -451 b 219 -463 234 -459 225 -463 b 198 -451 210 -463 202 -459 l 197 -448 l 197 -324 b 197 -201 197 -248 197 -201 b 110 -223 196 -201 157 -210 b 17 -245 42 -240 24 -245 b 10 -242 13 -245 13 -244 b 0 -233 6 -241 2 -237 l 0 -230 l 0 108 l 0 446 l 0 449 b 10 460 2 453 6 458 m 197 22 b 197 70 197 41 197 58 b 196 116 197 113 197 116 l 196 116 b 118 97 196 116 160 106 l 40 77 l 40 -18 b 40 -112 40 -69 40 -112 l 119 -93 l 197 -73 l 197 22 \"},v51:{x_min:-1.359375,x_max:455.96875,ha:465,o:\"m 352 541 b 357 542 353 542 355 542 b 377 530 364 542 372 537 l 378 526 l 378 394 l 379 262 l 404 266 b 436 270 420 269 430 270 b 450 265 443 270 446 269 b 455 220 455 259 455 260 l 455 208 l 455 161 l 454 156 b 411 140 449 147 447 147 b 378 133 393 137 379 134 b 378 68 378 133 378 106 b 378 22 378 54 378 38 l 379 -87 l 404 -83 b 436 -79 420 -80 430 -79 b 450 -84 443 -79 446 -80 b 455 -129 455 -90 455 -88 l 455 -141 l 455 -188 l 454 -192 b 413 -209 449 -202 447 -202 b 382 -215 398 -212 383 -215 l 378 -215 l 378 -345 l 378 -380 b 375 -485 378 -484 378 -480 b 357 -494 371 -491 364 -494 b 340 -485 351 -494 344 -491 b 336 -383 337 -480 336 -484 l 336 -349 l 336 -223 l 334 -223 b 291 -231 334 -223 314 -227 l 247 -240 l 247 -371 l 246 -503 l 245 -506 b 225 -519 242 -514 234 -519 b 206 -506 219 -519 210 -514 l 205 -503 l 205 -376 l 205 -248 l 160 -256 l 115 -265 l 115 -396 l 115 -527 l 114 -531 b 95 -544 110 -539 102 -544 b 76 -531 87 -544 78 -539 l 73 -527 l 73 -399 b 73 -273 73 -330 73 -273 b 49 -277 73 -273 61 -274 b 17 -281 32 -280 24 -281 b 4 -276 10 -281 8 -280 b -1 -234 0 -269 -1 -272 b 0 -219 -1 -229 0 -224 l 0 -170 l 1 -167 b 10 -158 2 -163 6 -159 b 49 -149 13 -156 16 -155 l 73 -145 l 73 -34 b 73 76 73 26 73 76 b 49 72 73 76 61 74 b 17 68 32 69 24 68 b 4 73 10 68 8 69 b -1 115 0 80 -1 77 b 0 130 -1 120 0 124 l 0 179 l 1 181 b 10 191 2 186 6 190 b 49 199 13 192 16 194 l 73 204 l 73 338 b 73 374 73 352 73 365 b 77 483 73 484 73 477 b 95 492 81 489 88 492 b 111 483 100 492 107 489 b 115 378 115 477 115 483 l 115 342 b 117 212 115 223 115 212 b 204 229 117 212 200 227 l 205 229 l 205 365 l 205 502 l 206 505 b 225 517 210 513 219 517 b 245 505 234 517 242 513 l 246 502 l 247 369 l 247 237 l 249 237 b 336 254 253 238 336 254 b 337 390 336 254 337 302 l 337 526 l 338 530 b 352 541 341 535 347 539 m 336 15 b 336 126 336 102 336 126 l 336 126 b 291 117 336 126 315 122 l 247 109 l 247 -1 l 247 -112 l 249 -112 b 336 -95 253 -111 336 -95 b 336 15 336 -95 336 -56 m 205 -120 b 205 -55 205 -120 205 -93 b 205 -9 205 -41 205 -24 l 205 101 l 160 93 l 115 84 l 115 -26 b 115 -83 115 -49 115 -69 b 117 -137 115 -133 115 -137 b 205 -120 118 -137 204 -120 \"},v52:{x_min:-10.890625,x_max:298.078125,ha:294,o:\"m 138 473 b 142 474 140 473 141 474 b 164 459 148 474 153 470 b 191 402 183 442 191 423 b 181 353 191 388 187 371 b 178 349 179 352 178 349 b 179 348 178 348 179 348 b 185 349 181 348 182 348 b 255 376 210 355 234 363 b 272 381 264 381 266 381 b 298 355 287 381 298 370 b 288 330 298 348 298 345 b 171 34 238 254 194 141 b 166 13 168 16 168 16 b 144 1 161 5 152 1 b 121 15 134 1 125 5 b 115 33 119 18 117 24 b 0 330 91 145 49 252 b -10 355 -9 345 -10 348 b 13 381 -10 371 0 381 b 31 376 19 381 25 380 b 132 345 61 358 103 345 l 136 345 l 137 355 b 145 378 138 359 142 370 b 152 415 149 394 152 405 b 137 452 152 427 148 438 b 133 464 134 458 133 460 b 138 473 133 467 134 470 \"},v53:{x_min:0,x_max:902.421875,ha:921,o:\"m 17 240 b 24 241 19 241 21 241 b 32 240 28 241 31 241 b 46 229 38 238 43 234 b 50 88 50 223 50 237 b 50 -1 50 63 50 34 b 50 -90 50 -36 50 -65 b 46 -231 50 -238 50 -224 b 25 -242 42 -238 34 -242 b 0 -224 14 -242 4 -235 b 0 2 0 -222 0 -108 b 0 223 0 112 0 220 b 17 240 2 230 9 237 m 110 240 b 118 241 111 241 114 241 b 126 240 121 241 123 241 b 142 223 133 237 140 230 b 144 123 144 220 144 205 b 144 29 144 45 144 29 b 144 29 144 29 144 29 b 393 183 166 106 264 167 b 450 186 412 184 431 186 b 756 29 600 186 732 120 b 756 29 756 29 756 29 b 758 123 758 29 758 45 b 760 227 758 226 758 223 b 784 241 766 237 774 241 b 804 229 792 241 800 237 b 809 88 808 223 809 237 l 809 -1 l 809 -90 b 804 -231 809 -238 808 -224 b 784 -242 800 -238 792 -242 b 762 -231 775 -242 766 -238 b 758 -124 756 -224 758 -231 b 756 -30 758 -47 758 -30 b 756 -30 756 -30 756 -30 b 509 -184 736 -108 637 -169 b 450 -187 488 -187 469 -187 b 144 -30 300 -187 168 -122 b 144 -30 144 -30 144 -30 b 144 -124 144 -30 144 -47 b 140 -231 144 -231 144 -224 b 118 -242 134 -238 126 -242 b 92 -224 107 -242 96 -235 b 92 2 92 -222 92 -108 b 92 223 92 112 92 220 b 110 240 95 230 102 237 m 432 161 b 413 162 426 162 420 162 b 313 41 351 162 313 109 b 347 -73 313 5 323 -34 b 487 -163 385 -133 439 -163 b 578 -97 526 -163 562 -142 b 588 -43 585 -80 588 -62 b 432 161 588 47 518 147 m 868 240 b 876 241 869 241 872 241 b 884 240 879 241 882 241 b 898 229 890 238 894 234 b 902 88 902 223 902 237 l 902 -1 l 902 -90 b 898 -231 902 -238 902 -224 b 876 -242 892 -238 884 -242 b 852 -224 865 -242 854 -235 b 850 2 850 -222 850 -108 b 852 223 850 112 850 220 b 868 240 853 230 860 237 \"},v54:{x_min:-24.5,x_max:317.140625,ha:324,o:\"m -24 -161 l -24 -5 l -20 -5 b 0 -24 -9 -5 -2 -12 b 171 -315 21 -124 84 -233 b 317 -660 268 -406 317 -531 b 187 -1014 317 -782 274 -909 b 161 -1034 172 -1034 171 -1034 b 141 -1013 149 -1034 141 -1025 b 152 -991 141 -1004 142 -1002 b 266 -682 228 -899 266 -788 b 174 -430 266 -588 236 -498 b -23 -317 136 -388 66 -348 b -24 -161 -23 -316 -24 -285 \"},v55:{x_min:0,x_max:551.25,ha:563,o:\"m 289 644 b 304 645 294 645 299 645 b 404 566 349 645 392 613 b 406 541 405 557 406 549 b 379 471 406 514 397 489 l 377 467 l 382 470 b 509 591 438 485 485 531 b 513 601 510 595 513 599 b 530 609 518 607 524 609 b 551 588 540 609 551 602 b 200 -605 551 584 204 -599 b 182 -616 197 -612 190 -616 b 163 -602 174 -616 166 -610 b 161 -598 161 -601 161 -601 b 217 -402 161 -589 170 -562 b 272 -213 247 -298 272 -213 b 272 -213 272 -213 272 -213 b 264 -219 272 -213 268 -216 b 140 -262 227 -247 182 -262 b 36 -226 102 -262 65 -249 b 0 -145 12 -206 0 -176 b 17 -84 0 -124 5 -104 b 103 -38 38 -54 70 -38 b 191 -91 137 -38 172 -56 b 205 -141 201 -106 205 -124 b 178 -212 205 -167 196 -194 l 175 -215 l 182 -213 b 307 -93 236 -198 284 -151 b 372 129 308 -88 372 127 b 372 129 372 129 372 129 b 364 122 372 129 368 126 b 240 80 328 94 283 80 b 137 115 202 80 166 91 b 99 195 112 136 99 165 b 118 256 99 217 106 238 b 204 303 138 287 171 303 b 292 249 238 303 273 285 b 306 199 302 234 306 217 b 279 129 306 173 296 148 l 276 126 l 281 127 b 408 248 336 142 385 190 b 473 470 409 254 473 469 b 473 470 473 470 473 470 b 465 464 473 470 469 467 b 341 421 428 435 383 421 b 236 458 303 421 266 433 b 200 537 212 478 200 508 b 289 644 200 585 234 635 \"},v58:{x_min:-21.78125,x_max:367.5,ha:375,o:\"m 259 1553 b 265 1553 261 1553 264 1553 b 288 1540 272 1553 277 1550 b 367 1351 340 1493 367 1424 b 336 1221 367 1308 357 1263 l 332 1211 l 333 1208 b 367 1077 356 1170 367 1124 b 336 945 367 1032 357 986 l 332 935 l 333 932 b 367 800 356 893 367 848 b 336 669 367 756 357 710 l 332 659 l 333 656 b 367 523 356 617 367 571 b 345 412 367 485 360 446 b 231 273 322 356 284 310 b -1 19 121 195 27 93 b -17 4 -4 11 -10 5 l -21 4 l -21 134 l -21 265 l -17 265 b 133 291 20 265 96 278 b 318 537 245 328 318 433 b 307 603 318 559 315 582 b 303 614 304 612 304 614 b 298 609 302 614 300 613 b 231 549 281 589 258 567 b -1 295 121 471 27 369 b -17 280 -4 287 -10 281 l -21 280 l -21 410 l -21 541 l -17 541 b 133 567 20 541 96 555 b 318 813 245 605 318 709 b 307 880 318 835 315 859 b 303 891 304 888 304 891 b 298 885 302 891 300 888 b 231 825 281 866 258 843 b -1 571 121 748 27 645 b -17 556 -4 563 -10 557 l -21 556 l -21 687 l -21 817 l -17 817 b 133 843 20 817 96 830 b 318 1089 245 881 318 985 b 307 1156 318 1111 315 1134 b 303 1167 304 1164 304 1167 b 298 1161 302 1167 300 1164 b 231 1102 281 1140 258 1120 b -1 848 121 1024 27 921 b -17 832 -4 839 -10 834 l -21 832 l -21 963 l -21 1093 l -17 1093 b 114 1113 12 1093 78 1103 b 313 1314 215 1142 289 1218 b 318 1364 317 1331 318 1347 b 255 1511 318 1422 295 1478 b 243 1532 247 1519 243 1525 b 259 1553 243 1540 250 1550 \"},v59:{x_min:0,x_max:464.140625,ha:474,o:\"m 0 0 l 0 347 l 76 347 l 153 347 l 153 0 l 153 -348 l 76 -348 l 0 -348 l 0 0 m 308 -1 l 308 347 l 386 347 l 464 347 l 464 -1 l 464 -348 l 386 -348 l 308 -348 l 308 -1 \"},v5a:{x_min:-171.5,x_max:170.140625,ha:174,o:\"m -6 566 b 0 567 -5 567 -2 567 b 14 556 6 567 12 563 b 92 285 14 555 50 433 b 170 13 166 33 170 19 b 168 13 170 13 170 13 b 161 1 168 8 167 4 l 159 0 l 122 0 l 84 0 l 81 1 b 21 195 76 5 78 -5 b -32 381 -8 297 -32 381 b -87 197 -32 381 -57 298 b -141 8 -115 94 -140 9 b -155 0 -142 2 -149 0 b -171 15 -163 0 -171 5 b -14 556 -171 18 -24 528 b -6 566 -14 560 -10 564 \"},v5b:{x_min:-441,x_max:439.640625,ha:449,o:\"m -428 -2 b -421 0 -427 -1 -424 0 b -406 -6 -416 0 -409 -2 b -400 -31 -401 -12 -400 -15 b -1 -352 -392 -215 -215 -352 b 58 -349 19 -352 38 -351 b 398 -31 250 -326 392 -192 b 404 -6 398 -15 400 -12 b 419 -1 408 -2 413 -1 b 439 -13 427 -1 435 -5 b 439 -29 439 -16 439 -22 b 434 -105 439 -48 438 -80 b 0 -489 397 -333 213 -489 b -68 -484 -23 -489 -44 -488 b -441 -36 -280 -452 -436 -263 b -441 -30 -441 -34 -441 -31 b -428 -2 -441 -11 -439 -5 m -13 -9 b -1 -8 -9 -8 -5 -8 b 50 -36 19 -8 39 -19 b 61 -72 57 -47 61 -59 b 50 -106 61 -84 57 -97 b -1 -134 39 -124 19 -134 b -46 -115 -17 -134 -34 -129 b -62 -72 -57 -102 -62 -87 b -13 -9 -62 -44 -44 -16 \"},v5c:{x_min:0,x_max:447.8125,ha:457,o:\"m 0 -87 l 0 0 l 223 0 l 447 0 l 447 -87 l 447 -174 l 223 -174 l 0 -174 l 0 -87 \"},v5d:{x_min:-1.359375,x_max:592.078125,ha:604,o:\"m 280 692 b 295 694 283 692 289 694 b 310 692 300 694 307 692 b 357 630 340 684 357 657 b 336 580 357 612 351 594 b 311 538 321 566 311 549 b 352 492 311 512 330 492 b 366 495 357 492 362 492 b 397 553 390 503 397 517 b 415 603 397 576 402 591 b 460 623 427 617 443 623 b 509 599 479 623 498 614 b 522 559 518 587 522 573 b 494 506 522 538 513 519 b 451 495 481 498 473 496 b 415 488 432 495 426 494 b 394 449 404 483 394 464 b 394 448 394 448 394 448 l 394 440 l 397 433 b 428 409 404 420 413 413 b 438 408 431 408 435 408 b 479 431 450 408 462 415 b 528 455 495 448 510 455 b 548 452 534 455 541 453 b 592 391 577 442 592 416 b 549 331 592 365 577 340 b 528 327 541 328 534 327 b 479 351 510 327 495 335 b 438 374 464 367 450 374 b 417 369 431 374 424 373 b 394 333 402 360 394 348 b 400 312 394 326 396 319 b 451 287 408 294 420 288 b 513 258 484 285 499 278 b 522 223 519 247 522 234 b 461 159 522 190 496 159 b 449 161 457 159 453 159 b 397 229 416 167 397 191 b 366 288 397 265 390 278 b 352 290 362 290 357 290 b 315 262 336 290 321 280 b 311 245 313 256 311 251 b 334 204 311 233 318 220 b 355 170 348 190 351 184 b 357 152 356 166 357 159 b 355 136 357 147 356 140 b 295 88 345 104 321 88 b 232 152 264 88 232 112 b 255 204 232 174 238 186 b 279 244 273 222 279 231 l 279 245 b 238 290 279 270 259 290 b 224 288 234 290 228 290 b 193 229 200 278 193 265 b 141 161 193 191 174 167 b 129 159 137 159 133 159 b 68 223 93 159 68 190 b 77 258 68 234 70 247 b 138 287 91 278 106 285 b 185 302 166 287 175 291 b 196 333 193 312 196 323 b 174 369 196 347 187 360 b 152 374 166 373 159 374 b 111 351 140 374 126 367 b 62 327 95 335 80 327 b 51 328 58 327 54 327 b -1 391 16 334 -1 363 b 53 455 -1 420 17 449 b 62 455 57 455 59 455 b 111 431 80 455 95 448 b 152 408 127 415 140 408 b 161 409 155 408 159 408 b 193 433 176 413 186 420 l 196 440 l 196 448 b 196 451 196 449 196 449 b 190 471 196 459 194 463 b 137 495 182 489 167 495 l 134 495 l 134 495 b 68 560 95 495 68 521 b 129 623 68 596 95 623 b 144 621 134 623 138 623 b 193 553 175 614 193 589 b 224 495 193 517 200 503 b 238 492 228 492 234 492 b 279 538 259 492 279 512 b 254 580 279 549 269 566 b 232 630 239 594 232 612 b 280 692 232 657 250 684 m 307 456 b 295 458 303 458 299 458 b 230 391 258 458 230 426 b 236 360 230 381 231 371 b 295 324 249 337 272 324 b 353 360 318 324 341 337 b 360 391 357 370 360 381 b 307 456 360 421 340 451 \"},v60:{x_min:-590.71875,x_max:589.359375,ha:601,o:\"m -367 173 b -362 174 -366 174 -364 174 b -351 173 -357 174 -353 173 b -262 86 -348 172 -328 151 b -176 0 -216 37 -176 0 b -107 84 -176 0 -145 37 b -31 174 -36 173 -38 172 b -25 174 -29 174 -28 174 b -16 173 -23 174 -19 173 b 72 86 -13 172 6 151 b 157 0 119 37 157 0 b 227 84 159 0 189 37 b 303 174 298 173 296 172 b 308 174 304 174 307 174 b 318 173 313 174 317 173 b 481 11 322 172 357 134 l 494 -1 l 522 34 b 560 76 553 72 555 74 b 567 77 563 77 564 77 b 589 56 579 77 589 68 b 586 48 589 54 588 51 b 411 -172 583 41 416 -166 b 397 -176 406 -174 401 -176 b 387 -174 393 -176 390 -176 b 299 -87 386 -173 366 -152 b 213 0 253 -38 213 0 b 144 -86 213 0 182 -38 b 68 -174 73 -174 74 -173 b 62 -176 66 -176 65 -176 b 53 -174 59 -176 55 -174 b -35 -87 50 -173 29 -152 b -121 0 -83 -38 -121 0 b -190 -86 -122 0 -152 -38 b -266 -174 -261 -174 -259 -173 b -272 -176 -268 -176 -270 -176 b -281 -174 -276 -176 -280 -174 b -371 -86 -284 -173 -304 -152 b -457 0 -417 -38 -457 0 l -457 0 b -477 -26 -457 0 -470 -16 b -548 -227 -524 -88 -548 -161 b -536 -303 -548 -254 -544 -280 b -533 -317 -534 -309 -533 -313 b -553 -338 -533 -330 -541 -338 b -577 -315 -566 -338 -571 -333 b -590 -227 -586 -287 -590 -258 b -518 -9 -590 -154 -564 -77 b -465 56 -509 2 -504 8 l -402 134 b -367 173 -375 169 -372 172 \"},v62:{x_min:46.28125,x_max:669.671875,ha:563,o:\"m 183 376 b 189 376 185 376 187 376 b 212 374 197 376 208 376 b 265 337 234 369 253 355 b 274 317 268 331 273 320 b 274 316 274 317 274 316 b 280 323 276 316 276 319 b 311 358 288 337 299 348 b 319 366 315 360 318 365 b 356 376 326 373 340 376 b 382 371 364 376 374 374 b 428 337 400 366 417 352 b 436 317 431 331 436 320 b 438 316 436 317 436 316 b 442 323 438 316 439 319 b 475 358 451 337 462 348 b 483 366 477 360 481 365 b 518 376 488 373 503 376 b 544 373 528 376 536 376 b 604 285 579 360 604 326 b 597 249 604 273 601 258 b 543 63 596 247 544 70 b 541 54 543 61 541 55 b 540 44 540 51 540 47 b 552 23 540 33 545 23 b 552 23 552 23 552 23 b 647 126 586 29 627 72 b 658 138 651 136 653 138 b 660 138 660 138 660 138 b 669 129 666 137 669 136 b 654 88 669 122 665 109 b 562 -12 631 43 602 9 l 549 -19 b 521 -27 540 -24 530 -27 b 447 30 490 -27 458 -4 b 443 58 445 38 443 48 b 450 93 443 72 446 84 b 504 278 453 97 504 272 b 507 288 506 283 506 287 b 509 298 507 292 509 295 b 491 326 509 310 502 320 b 487 327 490 327 488 327 b 479 324 484 327 483 326 b 441 270 462 316 443 288 b 435 249 441 265 436 254 b 398 127 434 248 419 195 b 362 4 379 61 362 5 b 328 -1 359 -1 362 -1 b 314 -1 323 -1 319 -1 b 302 -1 310 -1 306 -1 b 266 4 266 -1 269 -1 b 265 6 265 5 265 5 b 303 144 265 13 272 34 b 343 278 325 216 343 276 b 344 288 343 281 344 285 b 345 298 345 291 345 295 b 330 326 345 310 340 320 b 323 327 328 327 325 327 b 317 324 322 327 321 326 b 279 270 300 316 281 288 b 273 249 279 265 274 254 b 236 127 272 248 255 195 b 200 4 216 61 200 5 b 164 -1 197 -1 198 -1 b 151 -1 161 -1 156 -1 b 140 -1 147 -1 142 -1 b 103 4 104 -1 106 -1 b 103 6 103 5 103 5 b 141 144 103 13 108 34 b 181 278 161 216 179 276 b 182 288 181 281 181 285 b 183 298 182 291 183 295 b 168 324 183 310 178 320 b 160 327 166 326 163 327 b 141 320 156 327 151 324 b 69 230 112 305 85 272 b 57 215 65 217 62 215 b 55 215 57 215 55 215 b 46 224 49 215 46 217 b 59 260 46 231 50 242 b 151 363 81 306 112 341 b 161 369 155 365 160 367 b 183 376 166 371 174 374 \"},v68:{x_min:-597.53125,x_max:596.171875,ha:608,o:\"m -533 324 b -525 327 -530 326 -528 327 b -504 305 -514 327 -504 317 b -504 305 -504 305 -504 305 b -513 284 -504 299 -504 299 b -556 112 -541 226 -556 167 b -545 33 -556 84 -552 58 b -524 -20 -541 15 -532 -9 l -522 -23 l -491 15 l -413 111 b -355 174 -367 169 -363 174 b -351 174 -353 174 -352 174 b -254 86 -343 174 -348 179 b -168 -1 -208 37 -168 -1 b -100 84 -168 -1 -137 37 b -23 173 -28 173 -29 172 b -19 174 -21 174 -20 174 b -8 173 -14 174 -10 173 b 155 11 -5 172 43 123 l 166 -1 l 168 1 l 170 4 l 170 130 b 171 260 170 256 170 258 b 191 274 175 269 183 274 b 205 267 196 274 201 272 b 212 158 212 262 210 273 l 212 56 l 257 112 b 311 173 304 172 304 172 b 317 174 313 174 314 174 b 326 173 319 174 323 173 b 490 11 329 172 366 134 l 502 -1 l 530 34 b 568 76 560 72 563 74 b 575 77 570 77 573 77 b 596 56 586 77 596 68 b 594 48 596 54 596 51 b 417 -172 592 41 424 -166 b 405 -176 415 -174 409 -176 b 396 -174 401 -176 398 -176 b 307 -87 393 -173 372 -152 b 221 -1 259 -38 221 -1 b 216 -6 221 -1 219 -2 l 212 -12 l 212 -147 b 212 -210 212 -173 212 -194 b 205 -292 212 -297 210 -287 b 191 -299 201 -297 196 -299 b 172 -287 183 -299 175 -295 b 170 -174 171 -284 171 -284 l 170 -63 l 127 -117 b 73 -176 84 -170 80 -176 b 68 -176 72 -176 70 -176 b -27 -87 59 -174 65 -180 b -114 0 -74 -38 -112 0 b -182 -86 -114 0 -145 -38 b -258 -174 -253 -174 -253 -173 b -264 -176 -259 -176 -262 -176 b -274 -174 -268 -176 -272 -174 b -438 -11 -277 -173 -348 -102 l -449 0 l -479 -37 b -524 -80 -513 -80 -514 -80 l -524 -80 b -553 -52 -534 -80 -540 -74 b -597 109 -583 -8 -597 48 b -560 280 -597 165 -585 224 b -533 324 -548 310 -540 322 \"},v6c:{x_min:-1.359375,x_max:193.28125,ha:197,o:\"m 78 233 b 87 233 81 233 84 233 b 187 140 132 233 174 195 b 193 102 190 127 193 115 b 43 -113 193 22 136 -62 b 27 -119 36 -116 31 -119 b 19 -108 21 -119 19 -115 b 29 -97 19 -102 20 -101 b 102 13 73 -72 102 -27 b 92 51 102 26 98 40 l 91 54 l 84 54 b 8 104 53 54 21 74 b -1 142 1 116 -1 130 b 78 233 -1 187 31 227 \"},v6d:{x_min:-590.71875,x_max:589.359375,ha:601,o:\"m 544 335 b 553 337 548 337 551 337 b 575 313 563 337 570 330 b 589 226 583 285 589 256 b 517 8 589 152 563 76 b 464 -58 507 -4 503 -9 l 401 -136 b 362 -176 372 -172 370 -176 b 357 -176 360 -176 359 -176 b 261 -87 349 -174 355 -180 b 175 0 215 -38 175 0 b 106 -86 175 0 144 -38 b 29 -174 35 -174 36 -173 b 24 -176 28 -176 27 -176 b 14 -174 21 -176 17 -174 b -73 -87 12 -173 -8 -152 b -159 0 -121 -38 -159 0 b -228 -86 -160 0 -190 -38 b -304 -174 -299 -174 -298 -173 b -310 -176 -306 -176 -308 -176 b -319 -174 -314 -176 -318 -174 b -483 -12 -323 -173 -359 -137 l -495 0 l -524 -34 b -562 -77 -553 -73 -556 -76 b -568 -79 -564 -79 -566 -79 b -590 -58 -581 -79 -590 -69 b -588 -49 -590 -55 -589 -52 b -412 170 -585 -43 -417 165 b -398 174 -408 173 -402 174 b -389 173 -394 174 -392 174 b -300 86 -387 172 -366 151 b -215 -1 -254 37 -215 -1 b -145 84 -215 -1 -183 37 b -69 173 -74 173 -76 172 b -63 174 -68 174 -66 174 b -54 173 -61 174 -57 173 b 34 86 -51 172 -31 151 b 119 -1 81 37 119 -1 b 189 84 121 -1 151 37 b 265 173 259 173 258 172 b 270 174 266 174 269 174 b 280 173 274 174 279 173 b 370 84 283 172 303 151 b 455 -1 416 37 455 -1 l 455 -1 b 476 24 455 -1 469 15 b 547 226 522 87 547 159 b 534 302 547 252 543 278 b 532 317 533 308 532 313 b 544 335 532 326 536 333 \"},v6f:{x_min:-80.3125,x_max:78.9375,ha:81,o:\"m 63 191 b 69 192 65 192 66 192 b 77 188 72 192 76 191 b 78 183 78 187 78 186 b 74 158 78 179 77 172 l 66 115 b 9 -161 49 30 10 -158 b -10 -187 6 -172 -1 -181 b -34 -194 -17 -191 -25 -194 b -80 -147 -58 -194 -80 -174 b -80 -141 -80 -144 -80 -142 b 9 70 -80 -134 -73 -117 l 49 163 b 63 191 59 188 61 190 \"},v70:{x_min:0,x_max:436.921875,ha:446,o:\"m 213 190 b 217 191 215 191 216 191 b 231 184 223 191 228 188 b 249 154 240 167 246 159 b 419 18 292 91 348 45 b 436 -1 435 11 436 8 b 424 -16 436 -9 434 -13 b 308 -87 394 -26 340 -59 b 231 -186 276 -117 257 -142 b 219 -192 228 -191 225 -192 b 198 -174 209 -192 208 -191 b 47 -33 161 -113 110 -63 b 10 -16 34 -26 17 -19 b 0 -1 2 -13 0 -9 b 17 18 0 8 1 11 b 198 173 95 48 156 101 b 213 190 206 187 208 188 \"},v72:{x_min:-423.3125,x_max:421.9375,ha:431,o:\"m -262 197 b -247 197 -257 197 -253 197 b -118 162 -210 197 -163 184 b 40 45 -61 134 -13 98 b 277 -95 119 -33 200 -81 b 289 -97 281 -97 285 -97 b 378 0 332 -97 371 -55 b 378 11 378 4 378 6 b 302 83 378 55 345 83 b 242 66 283 83 262 77 b 208 56 231 59 219 56 b 148 120 175 56 148 81 b 201 186 148 151 164 172 b 261 198 220 194 240 198 b 420 45 341 198 411 136 b 421 22 421 37 421 29 b 245 -199 421 -93 338 -199 b 238 -198 243 -199 240 -199 b -44 -47 148 -194 50 -141 b -250 86 -114 22 -183 66 b -295 94 -270 91 -283 94 b -315 91 -302 94 -307 94 b -381 4 -356 81 -381 43 b -355 -56 -381 -18 -372 -40 b -298 -81 -338 -73 -319 -81 b -246 -68 -283 -81 -265 -77 b -212 -58 -234 -61 -223 -58 b -178 -69 -200 -58 -189 -62 b -151 -122 -160 -81 -151 -101 b -171 -167 -151 -138 -157 -155 b -239 -195 -185 -181 -213 -192 b -257 -197 -245 -197 -250 -197 b -423 -5 -352 -197 -423 -109 b -412 65 -423 16 -419 40 b -262 197 -389 137 -329 188 \"},v74:{x_min:-206.890625,x_max:428.75,ha:438,o:\"m 389 -351 b 394 -351 390 -351 393 -351 b 428 -385 413 -351 428 -367 b 428 -394 428 -388 428 -391 b 394 -428 426 -406 421 -410 l 332 -473 l 269 -516 l 205 -560 l 141 -603 l 77 -648 l 13 -692 l -50 -737 l -114 -780 l -145 -802 b -171 -813 -157 -810 -163 -813 b -175 -813 -172 -813 -174 -813 b -206 -777 -194 -811 -206 -795 b -202 -760 -206 -771 -205 -766 b -87 -675 -197 -752 -206 -757 l -34 -639 l 83 -557 l 145 -514 l 209 -470 l 272 -427 b 389 -351 375 -356 381 -352 \"},v75:{x_min:-149.71875,x_max:148.359375,ha:151,o:\"m -137 381 b -130 383 -134 383 -133 383 b -111 371 -122 383 -114 378 b -55 224 -110 370 -85 305 b 0 80 -25 145 -1 80 b 54 224 0 80 24 145 b 112 377 114 384 110 373 b 127 384 118 381 122 384 b 148 362 138 384 148 374 l 148 356 l 83 183 b 16 9 47 88 17 11 b -1 0 12 2 5 0 b -14 5 -5 0 -10 1 b -84 183 -19 9 -13 -6 l -149 356 l -149 362 b -137 381 -149 371 -145 378 \"},v78:{x_min:0,x_max:193.28125,ha:197,o:\"m 85 514 b 95 517 88 517 89 517 b 114 505 103 517 110 513 l 115 502 l 115 376 b 115 249 115 306 115 249 b 141 258 117 249 127 252 l 167 266 l 172 266 b 190 254 181 265 187 262 l 193 251 l 193 202 l 193 188 b 187 147 193 149 191 152 b 147 130 183 142 182 141 l 115 119 l 115 9 b 115 -99 115 -51 115 -99 b 141 -91 115 -99 127 -95 b 171 -81 166 -81 167 -81 l 171 -81 b 191 -94 181 -81 189 -87 b 193 -142 191 -97 193 -120 b 191 -195 193 -167 191 -194 b 125 -227 187 -205 187 -204 l 115 -230 l 115 -366 l 115 -503 l 114 -506 b 95 -519 110 -514 102 -519 b 74 -506 87 -519 78 -514 l 73 -503 l 73 -374 b 73 -245 73 -260 73 -245 b 73 -245 73 -245 73 -245 b 55 -252 72 -245 63 -249 l 32 -260 b 19 -263 27 -262 23 -263 b 4 -256 13 -263 8 -260 b 0 -215 0 -251 0 -254 b 0 -199 0 -210 0 -206 l 0 -152 l 1 -149 b 8 -140 2 -145 5 -141 b 42 -127 9 -140 24 -133 l 73 -116 l 73 -5 b 73 23 73 4 73 15 b 73 105 73 70 73 105 b 49 97 73 105 61 101 b 17 88 32 91 23 88 b 4 95 10 88 8 91 b 0 137 0 101 0 98 b 0 151 0 141 0 145 l 0 199 l 1 202 b 43 224 5 212 5 212 l 73 234 l 73 367 l 73 502 l 74 505 b 85 514 77 509 81 513 \"},v79:{x_min:-1.359375,x_max:899.703125,ha:918,o:\"m 307 349 b 332 351 315 351 323 351 b 443 340 367 351 408 347 b 741 47 607 306 720 195 b 744 0 743 31 744 16 b 660 -303 744 -90 713 -206 b 28 -755 534 -531 304 -695 b 14 -756 23 -755 19 -756 b -1 -741 4 -756 -1 -750 b 21 -720 -1 -731 1 -728 b 567 -56 337 -601 548 -344 b 568 -11 568 -41 568 -24 b 442 285 568 129 525 233 b 325 319 406 308 367 319 b 93 177 232 319 137 266 b 84 154 91 170 84 155 b 84 154 84 154 84 154 b 88 156 84 154 85 155 b 159 177 110 170 134 177 b 257 134 194 177 231 162 b 294 41 281 108 294 73 b 171 -97 294 -24 246 -90 b 156 -98 166 -97 161 -98 b 6 74 73 -98 6 -22 b 6 80 6 76 6 79 b 307 349 10 223 141 340 m 839 215 b 845 216 841 216 842 216 b 862 213 852 216 860 215 b 899 163 887 206 899 184 b 872 117 899 145 890 127 b 847 111 865 112 856 111 b 808 130 833 111 818 117 b 796 162 800 140 796 151 b 839 215 796 187 812 212 m 839 -112 b 845 -112 841 -112 842 -112 b 862 -115 852 -112 860 -113 b 899 -165 887 -122 899 -144 b 872 -210 899 -183 890 -201 b 847 -217 865 -215 856 -217 b 808 -198 833 -217 818 -210 b 796 -165 800 -188 796 -177 b 839 -112 796 -140 812 -116 \"},v7a:{x_min:-1.359375,x_max:386.5625,ha:394,o:\"m 249 535 b 257 537 251 537 253 537 b 276 524 266 537 273 533 l 277 521 l 279 419 l 279 316 l 304 323 b 337 328 319 326 330 328 b 353 316 347 328 349 324 b 355 266 355 315 355 290 b 353 215 355 241 355 217 b 319 198 349 206 347 205 b 279 187 284 190 279 188 b 279 156 279 187 279 174 b 279 136 279 151 279 144 l 279 84 l 289 87 l 330 98 b 367 105 352 102 362 105 b 378 101 372 105 375 104 b 386 61 385 95 386 94 b 386 40 386 55 386 48 l 386 -5 l 385 -8 b 374 -19 383 -12 378 -18 b 291 -40 372 -19 347 -26 b 279 -43 284 -41 279 -43 b 279 -83 279 -43 279 -59 b 279 -95 279 -87 279 -91 l 279 -145 l 304 -140 b 337 -133 321 -136 330 -133 b 349 -140 343 -133 347 -136 b 355 -181 355 -145 355 -142 l 355 -197 l 355 -210 b 349 -252 355 -249 355 -247 b 300 -269 345 -258 347 -258 b 280 -274 291 -272 281 -273 l 279 -274 l 277 -378 l 277 -483 l 276 -487 b 257 -499 273 -495 265 -499 b 238 -487 249 -499 242 -495 l 236 -483 l 236 -384 l 236 -285 l 235 -285 l 212 -291 l 170 -301 b 148 -308 159 -305 148 -306 b 147 -415 147 -308 147 -313 l 147 -523 l 145 -526 b 126 -538 141 -534 133 -538 b 106 -526 118 -538 110 -534 l 104 -523 l 104 -420 b 103 -317 104 -326 104 -317 b 103 -317 103 -317 103 -317 b 50 -330 92 -322 54 -330 b 31 -317 42 -330 35 -326 b 29 -267 29 -315 29 -315 l 29 -219 l 32 -216 b 92 -192 36 -206 36 -206 l 104 -190 l 104 -138 b 103 -87 104 -91 104 -87 b 103 -87 103 -87 103 -87 b 88 -91 103 -87 96 -88 l 49 -101 b 17 -106 32 -105 23 -106 b 6 -102 13 -106 10 -105 b -1 -62 0 -97 -1 -95 b 0 -41 -1 -56 0 -49 l 0 4 l 1 6 b 10 16 2 11 6 15 b 91 37 12 18 38 24 l 104 41 l 104 93 b 103 144 104 140 104 144 b 103 144 103 144 103 144 b 50 131 92 141 54 131 b 31 144 42 131 35 137 b 29 195 29 147 29 148 l 29 242 l 32 245 b 92 269 36 255 36 255 l 104 273 l 104 377 l 104 481 l 106 485 b 126 498 110 492 118 498 b 134 495 129 498 132 496 b 145 485 138 494 142 489 l 147 481 l 147 383 l 147 283 l 152 284 b 190 294 155 285 171 290 l 230 303 l 236 305 l 236 413 l 236 521 l 238 524 b 249 535 240 528 243 533 m 236 126 b 235 177 236 154 236 177 l 235 177 b 213 172 235 177 225 174 l 170 161 b 147 155 157 158 147 155 b 147 124 147 155 147 142 b 147 102 147 117 147 111 l 147 52 l 153 54 l 228 72 l 236 74 l 236 126 m 236 -105 b 235 -54 236 -65 236 -54 l 235 -54 b 231 -55 235 -54 234 -54 b 172 -69 227 -55 204 -62 l 149 -76 l 147 -76 l 147 -127 l 147 -179 l 152 -177 b 190 -167 155 -177 171 -173 l 230 -158 l 236 -156 l 236 -105 \"},v7c:{x_min:0,x_max:300.8125,ha:307,o:\"m 49 505 b 53 506 50 505 51 506 b 70 496 58 506 62 503 b 81 485 73 492 78 488 l 96 473 l 111 459 l 122 449 l 134 438 l 182 396 l 255 330 b 292 291 292 298 292 298 l 292 290 l 292 284 l 283 270 b 209 36 234 197 209 113 b 288 -170 209 -44 235 -119 b 299 -184 295 -179 299 -181 b 300 -191 300 -187 300 -188 b 285 -206 300 -199 294 -206 b 280 -206 283 -206 281 -206 b 247 -201 270 -202 259 -201 b 176 -222 223 -201 197 -208 b 114 -340 136 -249 114 -292 b 172 -471 114 -384 134 -433 b 185 -492 182 -481 185 -487 b 181 -502 185 -496 183 -499 b 171 -508 176 -505 174 -508 b 152 -498 166 -508 160 -503 b 0 -284 65 -428 12 -352 b 0 -260 0 -278 0 -270 b 1 -238 0 -252 0 -242 b 148 -140 16 -177 73 -140 b 209 -148 167 -140 189 -142 b 215 -149 212 -148 215 -149 b 215 -149 215 -149 215 -149 l 215 -149 b 201 -136 215 -148 209 -142 l 157 -97 l 96 -41 b 17 34 21 24 17 29 b 17 37 17 36 17 36 b 17 38 17 37 17 38 b 25 56 17 44 17 44 b 110 298 81 131 110 219 b 46 474 110 367 88 431 b 38 491 40 480 38 487 b 49 505 38 498 42 502 \"},v7d:{x_min:-1.359375,x_max:436.921875,ha:446,o:\"m 213 205 b 217 205 215 205 216 205 b 234 194 224 205 234 199 b 236 187 234 194 235 190 l 245 167 l 261 129 l 270 106 b 355 -61 294 54 329 -13 b 420 -163 381 -105 402 -138 b 436 -188 435 -184 436 -184 b 436 -191 436 -190 436 -190 b 421 -206 436 -201 431 -206 l 421 -206 l 416 -206 l 405 -201 b 217 -158 347 -172 283 -158 b 31 -201 153 -158 88 -172 l 20 -206 l 14 -206 l 14 -206 b 0 -191 5 -206 0 -201 b -1 -188 0 -190 -1 -190 b 14 -163 -1 -186 0 -184 b 95 -34 36 -136 72 -77 b 166 106 119 8 148 68 l 175 129 l 183 148 l 200 188 b 213 205 205 199 208 202 \"},v7f:{x_min:0,x_max:367.5,ha:375,o:\"m 0 124 l 0 187 l 61 187 l 122 187 l 122 138 l 122 91 l 153 61 l 183 30 l 213 61 l 243 91 l 243 138 l 243 187 l 306 187 l 367 187 l 367 124 l 367 61 l 321 61 l 274 61 l 243 30 l 213 0 l 243 -31 l 274 -62 l 321 -62 l 367 -62 l 367 -124 l 367 -188 l 306 -188 l 243 -188 l 243 -140 l 243 -93 l 213 -62 l 183 -31 l 153 -62 l 122 -93 l 122 -140 l 122 -188 l 61 -188 l 0 -188 l 0 -124 l 0 -62 l 46 -62 l 92 -62 l 123 -31 l 153 0 l 123 30 l 92 61 l 46 61 l 0 61 l 0 124 \"},v80:{x_min:29.9375,x_max:420.578125,ha:371,o:\"m 115 345 b 221 347 117 345 166 347 b 411 345 306 347 409 345 b 420 330 416 342 420 335 b 415 319 420 326 419 321 b 178 118 397 303 179 118 b 178 117 178 118 178 117 b 181 117 178 117 178 117 b 189 117 182 117 185 117 b 193 117 190 117 191 117 b 247 98 215 117 232 111 b 296 75 266 83 280 76 b 302 75 299 75 300 75 b 322 91 311 75 315 79 b 322 91 322 91 322 91 b 322 91 322 91 322 91 b 319 91 322 91 321 91 b 313 90 318 90 315 90 b 283 107 300 90 288 97 b 277 126 279 114 277 121 b 319 167 277 149 295 167 b 319 167 319 167 319 167 b 362 118 347 167 362 147 b 355 82 362 108 359 96 b 311 33 349 65 340 55 b 224 1 284 12 253 1 b 194 5 213 1 204 2 b 168 18 183 8 178 11 b 110 36 151 30 130 36 b 57 15 88 36 68 29 b 47 11 54 12 51 11 b 31 20 40 11 34 13 b 29 26 31 22 29 25 b 68 66 29 36 39 45 b 285 250 73 71 281 248 b 285 250 285 250 285 250 b 231 252 285 252 261 252 b 137 250 190 252 141 250 b 93 227 122 248 110 241 b 78 220 88 222 83 220 b 66 227 74 220 70 222 b 63 234 65 229 63 231 b 85 291 63 241 69 252 b 115 345 108 342 108 344 \"},v81:{x_min:0,x_max:428.75,ha:438,o:\"m 262 186 b 273 186 266 186 272 186 b 274 186 273 186 274 186 b 285 186 274 186 280 186 b 428 48 375 181 428 122 b 386 -68 428 12 416 -29 b 155 -187 329 -145 236 -187 b 12 -111 92 -187 38 -162 b 0 -51 4 -91 0 -72 b 262 186 0 58 122 179 m 366 131 b 352 134 362 133 357 134 b 219 81 321 134 269 115 b 47 -111 126 23 50 -62 b 47 -112 47 -111 47 -112 b 77 -136 47 -129 58 -136 b 264 -45 118 -136 194 -101 b 382 109 336 12 382 76 b 366 131 382 120 377 129 \"},v83:{x_min:-1.359375,x_max:847.96875,ha:865,o:\"m 488 1499 b 495 1500 490 1500 492 1500 b 541 1465 507 1500 521 1490 b 679 1078 622 1372 679 1210 b 677 1050 679 1068 677 1060 b 477 642 668 893 604 764 l 443 609 l 431 596 l 431 592 l 438 562 l 449 508 l 460 458 b 481 355 475 390 481 355 b 481 355 481 355 481 355 b 490 356 481 355 485 355 b 528 358 495 356 511 358 b 558 356 540 358 552 356 b 839 95 699 338 808 237 b 847 22 845 72 847 47 b 631 -303 847 -113 766 -242 b 620 -309 623 -308 620 -309 l 620 -310 b 631 -359 620 -310 626 -333 l 646 -435 l 660 -496 b 672 -588 668 -535 672 -563 b 664 -653 672 -610 669 -630 b 383 -875 630 -792 509 -875 b 201 -810 321 -875 257 -855 b 129 -680 151 -768 129 -730 b 274 -530 129 -592 200 -530 b 351 -553 300 -530 326 -538 b 412 -669 393 -582 412 -626 b 287 -805 412 -735 366 -800 l 279 -805 l 285 -809 b 383 -830 318 -823 351 -830 b 586 -718 464 -830 540 -789 b 626 -584 612 -678 626 -631 b 619 -528 626 -566 623 -548 b 612 -495 619 -526 616 -510 b 577 -324 590 -387 577 -324 b 577 -324 577 -324 577 -324 b 568 -326 575 -324 571 -324 b 528 -334 558 -328 537 -333 b 465 -338 506 -337 485 -338 b 24 -11 269 -338 87 -206 b -1 145 8 41 -1 93 b 96 442 -1 249 32 351 b 322 714 166 541 236 626 l 352 745 l 345 782 l 332 843 l 315 921 b 303 984 310 950 304 978 b 295 1082 298 1017 295 1049 b 413 1426 295 1208 336 1329 b 488 1499 436 1456 477 1496 m 549 1301 b 541 1301 547 1301 544 1301 b 411 1207 500 1301 447 1263 b 355 1004 374 1152 355 1079 b 359 942 355 984 356 963 b 371 881 362 927 363 917 l 385 818 b 392 782 389 799 392 784 l 392 782 b 434 828 393 782 424 816 b 607 1165 534 941 594 1060 b 608 1193 608 1175 608 1183 b 597 1270 608 1224 604 1254 b 549 1301 589 1286 571 1299 m 398 528 b 393 555 396 542 393 553 b 392 555 393 555 393 555 b 317 470 390 555 347 505 b 190 298 266 408 212 334 b 127 70 148 227 127 148 b 155 -77 127 19 137 -30 b 468 -303 209 -216 333 -303 b 519 -299 484 -303 502 -302 b 568 -284 541 -295 568 -287 l 568 -284 b 563 -263 568 -284 566 -274 l 534 -120 l 511 -13 l 496 61 l 480 133 b 469 187 472 176 469 187 b 468 188 469 187 469 188 b 416 162 462 188 430 172 b 337 13 364 126 337 69 b 413 -124 337 -40 363 -93 b 428 -144 424 -131 428 -137 b 428 -149 428 -145 428 -148 b 409 -166 426 -161 419 -166 b 394 -162 405 -166 400 -165 b 240 77 302 -122 240 -27 l 240 77 b 430 342 240 197 315 301 l 436 344 l 426 394 l 398 528 m 548 194 b 526 195 540 195 532 195 b 519 195 524 195 521 195 l 514 195 l 518 177 l 539 79 l 552 15 l 566 -48 l 594 -187 l 605 -240 b 612 -266 609 -254 611 -266 b 612 -266 612 -266 612 -266 b 641 -248 613 -266 630 -256 b 744 -98 692 -212 730 -156 b 751 -40 749 -79 751 -59 b 548 194 751 76 665 181 \"},v84:{x_min:25.859375,x_max:164.6875,ha:168,o:\"m 34 369 b 40 370 35 370 38 370 b 59 353 49 370 50 367 b 164 40 122 254 155 158 b 164 0 164 33 164 16 b 164 -40 164 -16 164 -34 b 59 -353 155 -158 122 -254 b 40 -371 53 -366 47 -371 b 34 -370 38 -371 36 -370 b 25 -358 28 -367 25 -363 b 31 -337 25 -352 27 -347 b 92 0 72 -234 92 -117 b 31 335 92 116 72 233 b 25 356 27 345 25 352 b 34 369 25 363 28 366 \"},v86:{x_min:-571.671875,x_max:570.3125,ha:582,o:\"m -386 173 b -381 174 -385 174 -383 174 b -370 173 -377 174 -372 173 b -281 86 -367 172 -347 151 b -196 0 -235 37 -196 0 b -126 84 -196 0 -164 37 b -50 174 -55 173 -57 172 b -44 174 -49 174 -47 174 b -35 173 -42 174 -38 173 b 53 86 -32 172 -12 151 b 138 0 100 37 138 0 b 208 84 140 0 170 37 b 284 174 279 173 277 172 b 289 174 285 174 288 174 b 299 173 294 174 298 173 b 462 11 303 172 338 134 l 475 -1 l 503 34 b 541 76 534 72 536 74 b 548 77 544 77 545 77 b 570 56 560 77 570 68 b 567 48 570 54 568 51 b 392 -172 564 41 397 -166 b 378 -176 387 -174 382 -176 b 368 -174 374 -176 371 -176 b 280 -87 367 -173 345 -152 b 194 0 234 -38 194 0 b 125 -86 194 0 163 -38 b 49 -174 54 -174 55 -173 b 43 -176 47 -176 46 -176 b 34 -174 40 -176 36 -174 b -54 -87 31 -173 10 -152 b -140 0 -102 -38 -140 0 b -209 -86 -141 0 -171 -38 b -285 -174 -280 -174 -279 -173 b -291 -176 -287 -176 -289 -176 b -300 -174 -295 -176 -299 -174 b -464 -12 -304 -173 -340 -137 l -476 0 l -504 -34 b -543 -77 -534 -73 -537 -76 b -549 -79 -545 -79 -547 -79 b -571 -58 -562 -79 -571 -69 b -568 -49 -571 -55 -570 -52 b -392 172 -566 -43 -396 167 b -386 173 -390 172 -387 173 \"},v8a:{x_min:-170.140625,x_max:168.78125,ha:172,o:\"m -160 567 b -122 567 -159 567 -149 567 l -87 567 l -84 566 b -74 553 -78 563 -77 560 b -20 366 -73 551 -49 466 b 31 186 8 267 31 186 b 85 371 31 186 55 269 b 140 559 114 473 138 557 b 153 567 141 564 148 567 b 168 559 159 567 166 564 b 168 555 168 557 168 557 b 92 281 168 548 159 513 b 14 13 50 134 14 13 b 0 0 14 6 6 0 b -17 15 -8 0 -17 8 b -93 283 -17 15 -51 136 b -170 552 -166 533 -170 548 b -170 553 -170 552 -170 552 b -160 567 -170 560 -167 564 \"},v8b:{x_min:0,x_max:319.859375,ha:326,o:\"m 149 508 b 159 509 152 509 155 509 b 186 494 170 509 181 503 b 190 440 190 487 190 488 l 190 430 l 190 377 l 242 377 l 251 377 b 303 373 298 377 296 377 b 319 345 314 367 319 356 b 304 319 319 335 314 324 b 250 315 296 315 299 315 l 242 315 l 190 315 l 190 262 l 190 252 b 186 198 190 204 190 205 b 159 183 179 188 170 183 b 132 198 148 183 138 188 b 127 252 127 205 127 204 l 127 262 l 127 315 l 76 315 l 68 315 b 14 319 20 315 21 315 b 0 347 4 324 0 335 b 14 373 0 356 4 367 b 68 377 21 377 20 377 l 76 377 l 127 377 l 127 430 l 127 440 b 132 494 127 488 127 487 b 149 508 136 501 142 505 \"},v8c:{x_min:-330.75,x_max:329.390625,ha:336,o:\"m -133 483 b -117 484 -127 484 -122 484 b 31 373 -51 484 9 440 b 35 348 34 365 35 356 b -25 285 35 313 10 285 b -87 331 -55 285 -76 302 b -167 402 -100 376 -133 402 b -191 398 -175 402 -183 401 b -227 341 -215 388 -227 369 b -225 320 -227 334 -227 327 b -13 74 -209 230 -125 133 b 6 65 -4 70 5 66 l 9 63 l 10 65 b 117 231 12 68 40 112 l 189 341 l 242 424 b 268 460 262 456 264 458 b 283 464 273 463 277 464 b 308 438 296 464 308 453 l 308 437 b 287 396 308 430 308 428 l 95 98 l 59 43 l 58 41 l 65 37 b 253 -156 151 -8 217 -77 b 281 -285 272 -199 281 -244 b 148 -481 281 -381 231 -463 b 115 -485 137 -484 126 -485 b -32 -376 51 -485 -9 -442 b -36 -349 -35 -366 -36 -358 b 25 -287 -36 -315 -12 -287 b 85 -333 54 -287 74 -302 b 166 -403 99 -377 133 -403 b 190 -399 174 -403 182 -402 b 225 -342 215 -390 225 -370 b 224 -322 225 -335 225 -328 b 12 -76 208 -231 125 -134 b -8 -66 2 -72 -6 -68 l -10 -65 l -12 -66 b -118 -231 -13 -68 -42 -113 l -190 -342 l -243 -426 b -269 -462 -264 -458 -265 -458 b -284 -466 -274 -464 -279 -466 b -310 -440 -298 -466 -310 -455 l -310 -438 b -288 -398 -310 -430 -308 -430 l -96 -99 l -59 -44 l -59 -43 l -66 -38 b -281 284 -198 33 -281 158 l -281 284 b -133 483 -281 392 -220 474 m 254 177 b 266 179 258 177 262 179 b 319 149 287 179 307 167 b 329 115 326 140 329 127 b 319 79 329 102 326 90 b 268 51 307 61 287 51 b 221 72 250 51 234 58 b 205 115 210 84 205 99 b 254 177 205 142 223 170 m -281 -54 b -269 -52 -277 -52 -273 -52 b -223 -73 -253 -52 -235 -59 b -206 -116 -212 -84 -206 -101 b -216 -151 -206 -129 -209 -141 b -269 -179 -228 -170 -249 -179 b -314 -159 -285 -179 -302 -173 b -330 -116 -325 -147 -330 -131 b -281 -54 -330 -88 -313 -61 \"},v8d:{x_min:-1.359375,x_max:255.890625,ha:261,o:\"m 118 514 b 127 517 121 517 122 517 b 147 505 136 517 142 513 l 148 502 l 148 403 b 148 306 148 351 148 306 b 174 315 149 306 160 310 l 200 324 l 205 323 b 223 312 213 323 220 319 l 225 308 l 225 260 b 225 245 225 255 225 249 b 220 204 225 208 224 209 b 179 188 216 199 215 199 l 148 177 l 148 124 l 148 70 l 189 84 b 236 98 219 94 230 98 b 247 94 240 98 243 97 b 255 52 254 88 255 87 b 255 33 255 47 255 40 l 254 -12 l 253 -15 b 249 -22 253 -18 250 -20 l 245 -24 l 196 -41 l 148 -58 l 148 -108 b 148 -158 148 -136 148 -158 b 174 -148 148 -158 160 -154 b 204 -140 198 -140 200 -140 l 204 -140 b 224 -152 213 -140 221 -145 b 225 -201 224 -155 225 -177 b 224 -254 225 -226 224 -251 b 157 -284 220 -262 220 -262 l 148 -288 l 148 -395 l 148 -503 l 147 -506 b 127 -519 142 -514 134 -519 b 107 -506 119 -519 111 -514 l 106 -503 l 106 -403 b 106 -303 106 -316 106 -303 b 104 -303 104 -303 104 -303 b 88 -310 104 -303 96 -306 l 63 -319 b 51 -322 59 -320 55 -322 b 36 -315 46 -322 40 -319 b 31 -273 32 -309 31 -312 b 31 -258 31 -269 31 -263 l 31 -210 l 34 -206 b 40 -198 35 -204 38 -199 b 74 -186 42 -197 57 -191 l 106 -173 l 106 -123 b 106 -97 106 -112 106 -104 b 106 -72 106 -76 106 -72 b 104 -72 106 -72 106 -72 b 20 -99 89 -79 23 -99 b 0 -84 10 -99 2 -93 b -1 -37 0 -81 -1 -59 b 0 11 -1 -15 0 9 b 58 40 4 22 2 22 l 106 56 l 106 109 b 106 123 106 115 106 119 b 106 162 106 147 106 162 b 81 155 106 162 93 159 b 50 147 65 149 55 147 b 36 152 43 147 40 148 b 31 194 32 158 31 156 b 31 209 31 198 31 204 l 31 256 l 34 260 b 76 281 38 269 38 269 l 106 292 l 106 396 l 106 502 l 107 505 b 118 514 110 509 114 513 \"},v8f:{x_min:-21.78125,x_max:362.0625,ha:369,o:\"m 302 1031 b 308 1032 304 1032 307 1032 b 330 1016 318 1032 325 1027 b 362 867 351 970 362 920 b 340 738 362 824 353 780 l 336 727 l 340 717 b 362 591 355 677 362 634 b 257 323 362 496 325 401 b 204 272 243 306 227 290 b 20 56 129 206 66 133 b -1 18 12 44 0 22 b -19 4 -4 9 -12 4 l -21 4 l -21 140 l -21 276 l -12 277 b 167 333 61 288 127 309 b 319 598 262 388 319 491 b 311 664 319 620 317 642 l 310 673 l 304 664 b 204 548 279 620 250 587 b 20 333 129 483 66 409 b -1 292 12 320 0 298 b -19 280 -4 285 -12 280 l -21 280 l -21 416 l -21 552 l -12 553 b 167 609 61 564 127 585 b 319 874 264 666 319 770 b 294 992 319 914 311 954 b 288 1011 288 1004 288 1007 b 302 1031 288 1021 294 1028 \"},v90:{x_min:-171.5,x_max:483.1875,ha:493,o:\"m -8 631 b -1 632 -6 632 -4 632 b 19 620 8 632 16 628 b 20 495 20 616 20 616 b 20 373 20 427 20 373 b 115 410 20 373 63 390 l 210 448 l 210 531 b 212 620 210 614 210 616 b 231 632 215 628 223 632 b 246 627 236 632 242 631 b 251 541 251 620 251 628 l 251 463 l 315 489 b 387 514 368 509 381 514 b 393 513 390 514 392 514 b 406 494 402 510 406 502 b 397 476 406 487 404 480 b 323 446 396 474 363 462 l 251 417 l 251 283 l 251 148 l 254 151 b 370 199 291 183 332 199 b 415 191 385 199 400 197 b 483 84 458 176 483 134 b 461 0 483 58 476 29 b 332 -142 439 -40 411 -72 l 255 -215 b 231 -229 240 -229 239 -229 b 216 -223 224 -229 220 -227 b 210 -158 210 -217 210 -223 b 210 -120 210 -148 210 -136 l 210 -29 l 205 -34 b 100 -142 182 -65 159 -88 l 23 -215 b -1 -229 9 -229 6 -229 b -19 -217 -9 -229 -16 -224 l -20 -215 l -21 48 l -21 310 l -83 287 b -152 262 -133 266 -145 262 b -157 263 -153 262 -155 262 b -171 283 -166 266 -171 274 b -161 301 -171 290 -167 297 b -91 328 -160 302 -129 315 l -21 356 l -21 487 l -20 617 l -19 621 b -8 631 -17 626 -12 630 m 210 288 b 210 401 210 351 210 401 b 114 365 209 401 167 384 l 20 327 l 20 238 l 20 148 l 21 151 b 140 199 59 183 102 199 b 206 180 164 199 187 192 l 209 177 b 209 177 209 177 209 177 b 210 288 210 177 210 199 m 110 131 b 96 133 106 133 100 133 b 89 133 93 133 91 133 b 24 87 63 129 40 113 l 20 80 l 20 -37 l 20 -156 l 23 -152 b 144 81 96 -72 144 20 l 144 83 b 110 131 144 113 134 126 m 341 131 b 328 133 337 133 332 133 b 322 133 326 133 323 133 b 257 87 296 129 273 113 l 251 80 l 251 -37 l 251 -156 l 255 -152 b 375 81 328 -72 375 20 l 375 83 b 341 131 375 113 367 126 \"},v92:{x_min:0,x_max:598.890625,ha:611,o:\"m 62 181 b 77 183 66 183 72 183 b 91 181 83 183 88 183 b 202 131 100 180 106 177 l 299 87 l 394 131 b 517 183 499 181 502 183 b 519 183 517 183 518 183 b 598 104 567 183 598 144 b 577 49 598 84 592 65 b 518 15 567 38 563 37 b 484 0 499 6 484 0 b 518 -16 484 -1 499 -8 b 577 -51 563 -38 567 -40 b 598 -105 592 -66 598 -86 b 519 -184 598 -145 567 -184 b 517 -184 518 -184 517 -184 b 394 -133 502 -184 499 -183 l 299 -88 l 202 -133 b 81 -184 99 -183 95 -184 b 77 -184 80 -184 78 -184 b 0 -105 29 -184 0 -145 b 20 -51 0 -86 5 -66 b 80 -16 29 -40 34 -38 b 114 -1 98 -8 114 -1 b 80 15 114 0 98 6 b 20 49 34 37 29 38 b 0 104 6 65 0 84 b 62 181 0 140 23 174 m 88 134 b 74 136 85 134 80 136 b 68 134 72 136 69 136 b 46 104 54 130 46 117 b 55 81 46 95 49 88 b 149 34 59 76 53 80 b 224 -1 190 15 224 0 b 144 -38 224 -1 187 -18 b 54 -84 59 -79 58 -79 b 46 -105 49 -90 46 -98 b 76 -137 46 -122 58 -137 b 78 -137 77 -137 77 -137 b 194 -86 87 -137 76 -141 b 298 -36 250 -58 298 -36 b 298 -36 298 -36 298 -36 b 402 -84 299 -36 345 -58 b 518 -137 522 -141 510 -137 b 521 -137 519 -137 519 -137 b 551 -105 539 -137 551 -122 b 541 -83 551 -98 548 -90 b 447 -36 537 -77 544 -81 b 374 -1 406 -16 374 -1 b 447 34 374 0 406 15 b 541 81 544 80 537 76 b 551 104 548 88 551 97 b 521 136 551 120 539 136 b 518 136 519 136 519 136 b 517 136 518 136 517 136 l 517 136 b 402 83 511 136 511 136 b 298 34 345 56 299 34 b 298 34 298 34 298 34 b 194 84 298 34 250 56 b 88 134 137 111 89 133 \"},v93:{x_min:0,x_max:438.28125,ha:447,o:\"m 212 205 b 219 205 213 205 216 205 b 239 183 228 205 231 204 b 421 -163 298 40 363 -83 b 438 -191 434 -180 438 -186 b 436 -197 438 -192 438 -195 b 424 -206 434 -204 431 -206 b 406 -201 420 -206 415 -205 b 216 -156 347 -172 281 -156 b 23 -205 148 -156 80 -173 b 14 -206 20 -206 17 -206 b 0 -191 6 -206 0 -201 b 6 -176 0 -187 1 -183 b 202 192 63 -104 142 45 b 212 205 205 199 208 202 m 264 48 l 249 81 l 243 94 l 242 91 b 89 -126 208 36 137 -66 b 81 -138 85 -133 81 -138 b 81 -138 81 -138 81 -138 b 81 -138 81 -138 81 -138 b 95 -133 81 -138 87 -136 b 280 -94 156 -108 221 -94 b 334 -98 299 -94 317 -95 b 343 -99 338 -99 343 -99 b 343 -99 343 -99 343 -99 b 338 -94 343 -99 341 -97 b 264 48 318 -58 287 1 \"},v94:{x_min:-149.71875,x_max:148.359375,ha:151,o:\"m -9 215 b 0 217 -6 217 -4 217 b 19 205 8 217 14 213 b 20 142 20 202 20 201 l 20 84 l 23 84 b 144 -27 81 74 129 30 b 148 -66 147 -40 148 -54 b 36 -213 148 -134 103 -197 b 0 -219 24 -217 12 -219 b -145 -104 -68 -219 -129 -173 b -149 -68 -148 -91 -149 -79 b -24 84 -149 6 -98 74 l -21 84 l -21 142 b -19 205 -20 201 -20 202 b -9 215 -17 209 -13 213 m -21 -15 b -23 41 -21 37 -21 41 b -23 41 -23 41 -23 41 b -76 11 -35 40 -62 26 b -108 -65 -98 -11 -108 -38 b -1 -176 -108 -122 -65 -176 b 107 -65 63 -176 107 -122 b 74 11 107 -38 96 -11 b 20 41 61 26 32 41 b 20 -15 20 41 20 15 b 19 -74 20 -72 20 -72 b 0 -87 14 -83 6 -87 b -19 -74 -8 -87 -16 -83 b -21 -15 -20 -72 -20 -72 \"},v95:{x_min:0,x_max:406.96875,ha:415,o:\"m 55 181 b 70 183 61 183 66 183 b 111 170 85 183 99 179 b 160 130 115 167 137 149 l 202 95 l 245 130 b 319 181 299 176 302 179 b 334 183 325 183 330 183 b 406 109 375 183 406 148 b 401 81 406 99 405 91 b 348 24 394 65 390 59 b 318 -1 332 11 318 0 b 348 -26 318 -1 332 -12 b 401 -83 390 -61 394 -66 b 406 -111 405 -93 406 -101 b 334 -184 406 -149 375 -184 b 319 -183 330 -184 325 -184 b 245 -131 302 -180 299 -177 l 202 -97 l 160 -131 b 85 -183 107 -177 103 -180 b 70 -184 80 -184 76 -184 b 0 -111 31 -184 0 -149 b 4 -83 0 -101 1 -93 b 58 -26 10 -66 16 -61 b 88 -1 74 -12 88 -1 b 58 24 88 0 74 11 b 10 69 23 54 17 59 b 0 109 2 81 0 95 b 55 181 0 142 21 173 m 83 133 b 72 136 78 136 76 136 b 57 131 66 136 61 134 b 46 109 49 126 46 117 b 50 93 46 104 47 98 b 107 45 51 91 77 70 b 160 0 137 20 160 0 b 107 -47 160 -1 137 -22 b 50 -94 77 -72 51 -93 b 46 -111 47 -99 46 -105 b 59 -134 46 -120 50 -130 b 72 -137 62 -136 68 -137 b 83 -136 76 -137 80 -136 b 144 -84 84 -134 107 -116 b 202 -36 176 -58 202 -36 b 261 -84 202 -36 230 -58 b 323 -136 299 -116 321 -134 b 334 -137 326 -136 330 -137 b 345 -134 338 -137 343 -136 b 360 -111 355 -130 360 -120 b 355 -94 360 -105 359 -99 b 299 -47 353 -93 329 -72 b 245 0 269 -22 245 -1 b 299 45 245 0 269 20 b 355 93 329 70 353 91 b 360 109 359 98 360 104 b 345 133 360 119 355 129 b 334 136 343 134 338 136 b 323 134 330 136 326 134 b 261 83 321 133 299 115 b 202 34 230 56 202 34 b 144 83 202 34 176 56 b 83 133 106 115 84 133 \"},v97:{x_min:-228.671875,x_max:227.3125,ha:232,o:\"m -217 487 l -213 488 l 0 488 l 212 488 l 216 487 b 225 476 220 484 224 480 l 227 473 l 227 244 l 227 15 l 225 12 b 206 0 223 4 215 0 b 197 1 204 0 200 0 b 187 12 193 4 189 6 l 186 15 l 186 138 l 186 262 l -1 262 l -187 262 l -187 138 l -187 15 l -189 12 b -208 0 -193 4 -200 0 b -227 12 -216 0 -223 4 l -228 15 l -228 244 l -228 473 l -227 476 b -217 487 -225 480 -221 484 \"},v9a:{x_min:-21.78125,x_max:367.5,ha:375,o:\"m 230 1031 b 238 1032 232 1032 235 1032 b 259 1014 245 1032 251 1027 b 367 662 330 906 367 782 b 364 602 367 641 367 621 b 232 317 352 488 304 384 b 57 120 155 245 103 187 b -1 18 31 84 6 40 b -19 4 -4 11 -12 4 l -21 4 l -21 159 l -21 315 l -16 315 b 96 335 10 315 62 324 b 315 695 227 380 315 527 b 313 738 315 709 314 724 b 224 991 304 825 273 916 b 216 1013 219 999 216 1007 b 230 1031 216 1021 220 1028 \"},v9b:{x_min:-24.5,x_max:313.0625,ha:319,o:\"m -24 -133 l -24 -5 l -20 -5 b -1 -19 -12 -5 -4 -11 b 142 -213 13 -61 74 -144 b 258 -376 196 -269 230 -315 b 313 -605 295 -449 313 -528 b 292 -742 313 -652 306 -699 b 288 -752 289 -748 288 -752 b 288 -752 288 -752 288 -752 b 292 -764 289 -753 291 -757 b 313 -907 306 -811 313 -860 b 292 -1045 313 -954 306 -1002 b 288 -1054 289 -1050 288 -1054 b 288 -1054 288 -1054 288 -1054 b 292 -1067 289 -1054 291 -1060 b 313 -1210 306 -1113 313 -1161 b 292 -1346 313 -1257 306 -1304 b 288 -1357 289 -1353 288 -1357 b 288 -1357 288 -1357 288 -1357 b 292 -1368 289 -1357 291 -1363 b 313 -1512 306 -1415 313 -1464 b 292 -1648 313 -1560 306 -1605 b 288 -1660 289 -1654 288 -1660 b 288 -1660 288 -1660 288 -1660 b 292 -1671 289 -1660 291 -1665 b 313 -1814 306 -1719 313 -1766 b 250 -2040 313 -1897 291 -1977 b 232 -2062 238 -2057 236 -2059 b 221 -2065 230 -2063 225 -2065 b 200 -2045 210 -2065 201 -2057 b 200 -2043 200 -2044 200 -2044 b 208 -2026 200 -2037 202 -2034 b 269 -1826 249 -1966 269 -1897 b 153 -1544 269 -1726 230 -1625 b -9 -1472 115 -1506 58 -1481 b -21 -1471 -14 -1471 -19 -1471 l -24 -1471 l -24 -1343 l -24 -1215 l -20 -1215 b -1 -1229 -12 -1215 -4 -1221 b 142 -1424 13 -1270 74 -1353 b 257 -1582 196 -1478 228 -1524 b 264 -1594 261 -1589 264 -1594 l 264 -1594 b 265 -1582 264 -1594 264 -1589 b 270 -1525 268 -1562 270 -1544 b 153 -1243 270 -1424 228 -1321 b -9 -1170 115 -1203 58 -1178 b -21 -1168 -14 -1170 -19 -1168 l -24 -1168 l -24 -1041 l -24 -913 l -20 -913 b -1 -927 -12 -913 -4 -918 b 142 -1121 13 -967 74 -1050 b 257 -1281 196 -1175 228 -1221 b 264 -1292 261 -1286 264 -1292 l 264 -1292 b 265 -1279 264 -1292 264 -1286 b 270 -1222 268 -1261 270 -1242 b 153 -941 270 -1121 228 -1018 b -9 -867 115 -900 58 -875 b -21 -866 -14 -867 -19 -866 l -24 -866 l -24 -738 l -24 -610 l -20 -610 b -1 -624 -12 -610 -4 -616 b 142 -818 13 -664 74 -749 b 257 -978 196 -873 228 -918 b 264 -989 261 -984 264 -989 l 264 -989 b 265 -977 264 -989 264 -984 b 270 -920 268 -959 270 -939 b 153 -638 270 -818 228 -716 b -9 -564 115 -598 58 -573 b -21 -563 -14 -564 -19 -563 l -24 -563 l -24 -435 l -24 -308 l -20 -308 b -1 -322 -12 -308 -4 -313 b 142 -516 13 -363 74 -446 b 257 -675 196 -571 228 -616 b 264 -687 261 -681 264 -687 l 264 -687 b 265 -674 264 -687 264 -681 b 270 -617 268 -656 270 -637 b 153 -335 270 -516 228 -413 b -9 -262 115 -295 58 -270 b -21 -260 -14 -262 -19 -260 l -24 -260 l -24 -133 \"},v9c:{x_min:-166.0625,x_max:-25.859375,ha:0,o:\"m -49 369 b -42 370 -46 369 -44 370 b -27 360 -36 370 -29 366 b -25 355 -27 359 -25 358 b -32 335 -25 351 -28 347 b -92 52 -66 248 -87 159 b -93 -1 -93 43 -93 20 b -92 -54 -93 -23 -93 -45 b -32 -337 -85 -162 -66 -251 b -25 -355 -27 -349 -25 -352 b -42 -371 -25 -365 -32 -371 b -61 -353 -50 -371 -51 -369 b -163 -63 -119 -262 -153 -165 b -166 -1 -166 -37 -166 -31 b -163 62 -166 30 -166 36 b -61 352 -153 163 -119 260 b -49 369 -54 365 -51 366 \"},v9e:{x_min:0,x_max:607.0625,ha:619,o:\"m 243 631 b 250 632 246 632 249 632 b 270 620 259 632 268 628 l 272 616 l 272 201 l 272 -212 l 270 -216 b 251 -229 268 -224 259 -229 b 227 -215 243 -229 240 -229 l 151 -142 b 32 -16 81 -80 53 -49 b 0 84 9 18 0 52 b 111 199 0 149 42 199 b 137 197 119 199 127 198 b 228 151 168 191 197 177 l 231 148 l 231 383 b 232 620 231 616 231 616 b 243 631 234 624 238 630 m 168 131 b 152 133 163 133 157 133 b 107 102 130 133 111 120 b 106 86 107 97 106 91 b 111 41 106 73 108 56 b 227 -152 125 -13 171 -90 l 231 -156 l 231 -37 l 231 80 l 225 87 b 168 131 210 111 190 126 m 347 631 b 353 632 348 632 351 632 b 374 620 363 632 371 628 b 375 383 375 616 375 616 l 375 148 l 377 151 b 492 199 415 183 454 199 b 537 191 507 199 522 197 b 607 84 582 176 607 134 b 583 0 607 58 598 29 b 455 -142 562 -40 533 -72 l 378 -215 b 355 -229 364 -229 362 -229 b 334 -216 345 -229 337 -224 l 333 -212 l 333 201 l 333 616 l 334 620 b 347 631 337 624 341 630 m 465 131 b 451 133 461 133 455 133 b 445 133 449 133 446 133 b 379 87 419 129 396 113 l 375 80 l 375 -37 l 375 -156 l 378 -152 b 499 81 451 -72 499 20 l 499 83 b 465 131 499 113 490 126 \"},va3:{x_min:58.53125,x_max:228.671875,ha:294,o:\"m 138 371 b 142 373 140 371 141 373 b 178 342 149 373 156 366 b 228 251 217 297 228 278 b 228 244 228 248 228 247 b 176 147 227 212 212 184 b 123 73 152 122 132 93 b 121 62 122 70 121 66 b 145 13 121 48 129 31 b 153 -2 151 6 153 1 b 149 -9 153 -5 152 -6 b 144 -11 148 -11 145 -11 b 129 -1 140 -11 136 -8 b 61 87 89 37 68 68 b 58 113 59 95 58 105 b 110 215 58 144 74 177 b 163 287 134 240 155 269 b 166 299 166 291 166 295 b 141 348 166 313 157 330 b 133 360 134 356 133 358 b 133 363 133 362 133 362 b 138 371 133 367 136 370 \"},va5:{x_min:0,x_max:349.8125,ha:357,o:\"m 88 302 b 103 303 93 302 98 303 b 202 224 149 303 191 270 b 205 199 204 216 205 208 b 178 129 205 173 196 147 l 175 126 l 182 127 b 307 249 236 142 284 190 b 313 259 308 254 311 258 b 329 267 317 265 323 267 b 349 247 340 267 349 259 b 201 -263 349 242 204 -258 b 182 -273 197 -270 190 -273 b 163 -260 174 -273 166 -269 b 161 -256 161 -259 161 -258 b 217 -59 161 -248 170 -220 b 272 129 247 43 272 127 b 272 129 272 129 272 129 b 264 122 272 129 268 126 b 140 80 227 94 183 80 b 36 115 102 80 65 91 b 0 194 10 136 0 165 b 88 302 0 244 32 292 \"},va9:{x_min:-24.5,x_max:314.421875,ha:321,o:\"m -24 -145 l -24 -5 l -20 -5 b 0 -23 -9 -5 -2 -12 b 27 -87 4 -38 14 -66 b 138 -220 53 -136 88 -177 b 235 -328 179 -255 208 -288 b 314 -592 287 -409 314 -501 b 292 -732 314 -639 307 -687 l 289 -742 l 294 -756 b 314 -896 307 -802 314 -849 b 292 -1035 314 -943 307 -991 l 289 -1045 l 294 -1057 b 314 -1197 307 -1104 314 -1152 b 292 -1338 314 -1246 307 -1292 l 289 -1347 l 294 -1360 b 314 -1500 307 -1407 314 -1454 b 273 -1689 314 -1565 300 -1628 b 250 -1712 265 -1710 261 -1712 b 228 -1691 236 -1712 228 -1704 l 228 -1685 l 234 -1675 b 270 -1507 258 -1621 270 -1564 b 98 -1193 270 -1381 209 -1261 b 40 -1174 76 -1179 58 -1174 b -10 -1189 24 -1174 8 -1178 b -20 -1192 -14 -1192 -16 -1192 l -24 -1192 l -24 -1052 l -24 -913 l -20 -913 b 0 -931 -9 -913 -2 -920 b 27 -995 4 -946 14 -974 b 138 -1128 53 -1043 88 -1085 b 257 -1275 190 -1172 228 -1220 b 262 -1283 259 -1279 262 -1283 l 262 -1283 b 269 -1249 264 -1282 268 -1260 b 270 -1206 270 -1233 270 -1220 b 98 -891 270 -1075 206 -957 b 40 -871 76 -877 58 -871 b -10 -886 24 -871 8 -875 b -20 -889 -14 -889 -16 -889 l -24 -889 l -24 -749 l -24 -610 l -20 -610 b 0 -628 -9 -610 -2 -617 b 27 -692 4 -644 14 -671 b 138 -825 53 -741 88 -782 b 257 -973 190 -870 228 -917 b 262 -981 259 -977 262 -981 l 262 -981 b 269 -946 264 -979 268 -957 b 270 -903 270 -931 270 -917 b 98 -588 270 -774 206 -655 b 40 -569 76 -574 58 -569 b -10 -584 24 -569 8 -574 b -20 -587 -14 -587 -16 -587 l -24 -587 l -24 -448 l -24 -308 l -20 -308 b 0 -326 -9 -308 -2 -315 b 27 -390 4 -341 14 -369 b 138 -523 53 -438 88 -480 b 257 -670 190 -567 228 -614 b 262 -678 259 -674 262 -678 b 262 -678 262 -678 262 -678 b 269 -644 264 -677 268 -656 b 270 -601 270 -628 270 -614 b 98 -285 270 -471 206 -352 b 40 -266 76 -273 58 -266 b -10 -281 24 -266 8 -272 b -20 -284 -14 -284 -16 -284 l -24 -284 l -24 -145 \"},vaa:{x_min:-1.359375,x_max:752.703125,ha:768,o:\"m 490 985 b 504 986 495 986 500 986 b 604 907 551 986 593 954 b 607 884 607 900 607 892 b 581 813 607 857 597 831 l 578 810 l 583 811 b 710 932 638 827 687 873 b 714 943 711 936 713 942 b 730 952 720 949 725 952 b 752 931 741 952 752 943 b 200 -946 752 927 204 -941 b 182 -957 197 -953 190 -957 b 163 -945 174 -957 166 -953 b 161 -939 161 -942 161 -942 b 217 -743 161 -931 170 -904 b 272 -555 247 -639 272 -555 b 272 -555 272 -555 272 -555 b 264 -560 272 -555 268 -557 b 140 -603 227 -589 182 -603 b 36 -567 102 -603 65 -592 b -1 -487 12 -548 -1 -517 b 17 -427 -1 -466 5 -445 b 103 -380 38 -395 70 -380 b 191 -433 137 -380 172 -398 b 205 -484 201 -448 205 -466 b 178 -553 205 -509 196 -535 l 175 -557 l 182 -555 b 307 -435 236 -539 284 -494 b 372 -213 308 -430 372 -215 b 372 -213 372 -213 372 -213 b 364 -219 372 -213 368 -216 b 240 -262 328 -247 283 -262 b 137 -226 202 -262 166 -249 b 99 -145 112 -206 99 -176 b 118 -84 99 -124 106 -104 b 204 -38 138 -54 171 -38 b 292 -91 238 -38 273 -56 b 306 -141 302 -106 306 -124 b 279 -212 306 -167 296 -194 l 276 -215 l 281 -213 b 408 -93 336 -198 385 -151 b 473 129 409 -88 473 127 b 473 129 473 129 473 129 b 465 122 473 129 469 126 b 341 80 428 94 383 80 b 236 115 303 80 266 91 b 200 195 213 136 200 165 b 217 256 200 217 206 238 b 304 303 239 287 272 303 b 393 249 338 303 374 285 b 406 199 402 234 406 217 b 379 129 406 173 397 148 l 377 126 l 382 127 b 509 248 436 142 485 190 b 574 470 510 254 574 469 b 574 470 574 470 574 470 b 566 464 574 470 570 467 b 442 421 529 435 484 421 b 337 458 404 421 367 433 b 300 538 314 477 300 508 b 318 598 300 559 306 580 b 404 645 340 630 372 645 b 494 592 439 645 475 627 b 507 541 502 577 507 559 b 480 471 507 516 498 489 l 477 467 l 483 470 b 608 589 537 485 586 531 b 675 811 611 595 675 810 b 675 811 675 811 675 811 b 666 806 675 811 671 809 b 543 763 628 777 585 763 b 438 799 504 763 468 775 b 401 878 412 820 401 849 b 490 985 401 928 434 977 \"},vab:{x_min:0,x_max:272.21875,ha:278,o:\"m 243 631 b 250 632 246 632 249 632 b 270 620 259 632 268 628 l 272 616 l 272 201 l 272 -212 l 270 -216 b 251 -229 268 -224 259 -229 b 227 -215 243 -229 240 -229 l 151 -142 b 32 -16 81 -80 53 -49 b 0 84 9 18 0 52 b 111 199 0 149 42 199 b 137 197 119 199 127 198 b 228 151 168 191 197 177 l 231 148 l 231 383 b 232 620 231 616 231 616 b 243 631 234 624 238 630 m 168 131 b 152 133 163 133 157 133 b 107 102 130 133 111 120 b 106 86 107 97 106 91 b 111 41 106 73 108 56 b 227 -152 125 -13 171 -90 l 231 -156 l 231 -37 l 231 80 l 225 87 b 168 131 210 111 190 126 \"},vad:{x_min:0,x_max:873.828125,ha:892,o:\"m 0 0 l 0 703 l 81 703 l 164 703 l 164 0 l 164 -705 l 81 -705 l 0 -705 l 0 0 m 225 0 l 225 703 l 246 703 l 268 703 l 268 366 l 268 30 l 274 36 b 314 79 284 44 302 63 b 413 302 357 137 392 213 b 432 327 419 324 421 327 b 449 306 443 327 447 322 b 611 115 457 195 529 115 b 651 122 624 115 638 117 b 728 316 705 140 724 188 b 729 388 728 342 729 366 b 671 635 729 533 711 602 b 581 662 649 652 616 662 b 477 637 545 662 510 653 l 475 635 l 477 634 b 503 627 488 632 495 631 b 545 556 532 612 545 584 b 491 480 545 524 526 491 b 465 474 481 476 473 474 b 379 563 417 474 379 516 b 389 602 379 576 382 588 b 541 691 409 641 479 681 b 582 694 555 692 568 694 b 865 462 714 694 834 598 b 873 392 871 440 873 416 b 865 317 873 367 871 341 b 639 84 839 194 748 101 b 612 83 630 83 620 83 b 511 116 577 83 543 94 b 504 120 509 119 506 120 b 504 120 504 120 504 120 b 469 59 504 120 488 93 l 432 -1 l 469 -61 b 504 -122 488 -94 504 -122 b 504 -122 504 -122 504 -122 b 511 -117 506 -122 509 -120 b 612 -84 543 -95 577 -84 b 665 -91 630 -84 647 -87 b 869 -338 771 -122 850 -216 b 873 -392 872 -356 873 -374 b 798 -595 873 -469 847 -539 b 581 -695 741 -662 660 -695 b 406 -626 517 -695 454 -671 b 381 -563 389 -607 381 -585 b 465 -477 381 -519 413 -477 b 545 -559 514 -477 545 -519 b 503 -628 545 -587 532 -613 b 477 -635 495 -632 488 -634 l 475 -637 l 477 -638 b 581 -663 510 -655 545 -663 b 671 -637 616 -663 649 -653 b 729 -391 711 -603 729 -534 b 728 -317 729 -367 728 -344 b 623 -117 722 -173 698 -124 b 611 -116 619 -116 615 -116 b 449 -308 528 -116 457 -198 b 432 -328 447 -323 443 -328 b 413 -303 421 -328 419 -326 b 314 -80 392 -215 357 -138 b 274 -37 302 -65 284 -45 l 268 -31 l 268 -367 l 268 -705 l 246 -705 l 225 -705 l 225 0 \"},vb1:{x_min:78.9375,x_max:485.921875,ha:417,o:\"m 362 378 b 378 380 367 380 372 380 b 472 348 415 380 453 367 b 485 315 481 338 485 327 b 462 273 485 298 477 281 b 439 267 454 269 446 267 b 398 290 424 267 409 274 b 344 319 385 309 364 319 b 281 269 315 319 289 301 b 279 262 280 266 279 262 b 276 256 279 260 277 258 b 274 249 276 254 274 251 b 238 127 273 248 257 192 b 201 4 217 61 201 5 b 166 -1 198 -1 200 -1 b 153 -1 163 -1 157 -1 b 141 -1 148 -1 144 -1 b 104 4 106 -1 107 -1 b 104 6 104 5 104 5 b 142 144 104 13 110 34 b 182 278 164 219 181 276 b 183 288 182 281 182 285 b 185 302 185 292 185 298 b 164 330 185 317 176 328 b 159 330 163 330 161 330 b 102 302 140 330 119 320 b 91 294 95 295 93 294 b 88 294 91 294 89 294 b 78 303 83 294 78 298 b 81 312 78 306 78 309 b 200 373 106 347 160 373 b 215 371 205 373 209 371 b 266 335 235 367 254 353 b 269 331 268 333 269 331 b 269 331 269 331 269 331 b 273 335 269 331 270 334 b 362 378 298 359 330 376 \"},vb3:{x_min:0,x_max:227.3125,ha:232,o:\"m 91 213 b 100 215 93 215 96 215 b 227 58 167 215 224 144 b 227 52 227 56 227 54 b 61 -201 227 -43 164 -138 b 29 -216 44 -212 36 -216 b 23 -210 27 -216 24 -213 b 21 -205 21 -208 21 -206 b 34 -192 21 -201 25 -197 b 122 -55 89 -161 122 -106 b 104 6 122 -33 117 -12 l 103 9 l 96 9 b 4 79 57 9 17 38 b 0 112 1 90 0 101 b 91 213 0 163 36 209 \"},vb4:{x_min:-597.53125,x_max:596.171875,ha:608,o:\"m -533 324 b -525 327 -530 326 -528 327 b -504 305 -514 327 -504 317 b -504 305 -504 305 -504 305 b -513 284 -504 299 -504 299 b -556 112 -541 226 -556 167 b -545 33 -556 84 -552 58 b -524 -20 -541 15 -532 -9 l -522 -23 l -491 15 l -413 111 b -355 174 -367 169 -363 174 b -351 174 -353 174 -352 174 b -254 86 -343 174 -348 179 b -168 -1 -208 37 -168 -1 b -100 84 -168 -1 -137 37 b -23 173 -28 173 -29 172 b -19 174 -21 174 -20 174 b -8 173 -14 174 -10 173 b 80 86 -5 172 13 151 b 166 -1 127 37 166 -1 b 235 84 166 -1 197 37 b 311 173 306 173 304 172 b 317 174 313 174 314 174 b 326 173 319 174 323 173 b 490 11 329 172 366 134 l 502 -1 l 530 34 b 568 76 560 72 563 74 b 575 77 570 77 573 77 b 596 56 586 77 596 68 b 594 48 596 54 596 51 b 417 -172 592 41 424 -166 b 405 -176 415 -174 409 -176 b 396 -174 401 -176 398 -176 b 307 -87 393 -173 372 -152 b 221 -1 259 -38 221 -1 b 152 -86 221 -1 190 -38 b 76 -176 81 -174 83 -173 b 70 -176 74 -176 73 -176 b 61 -174 66 -176 62 -174 b -27 -87 58 -173 38 -152 b -114 -1 -74 -38 -112 -1 b -182 -86 -114 -1 -145 -38 b -258 -176 -253 -174 -253 -173 b -264 -176 -259 -176 -262 -176 b -274 -174 -268 -176 -272 -174 b -438 -11 -277 -173 -348 -102 l -449 0 l -479 -37 b -524 -80 -513 -80 -514 -80 l -524 -80 b -553 -52 -534 -80 -540 -74 b -597 109 -583 -8 -597 48 b -560 280 -597 165 -585 224 b -533 324 -548 310 -540 322 \"},vb6:{x_min:0,x_max:556.6875,ha:568,o:\"m 289 545 b 298 546 292 545 295 546 b 318 533 306 546 315 541 b 319 428 319 530 319 528 l 319 327 l 334 327 b 526 223 412 326 485 285 b 543 172 537 206 543 190 b 447 76 543 122 503 76 b 445 76 446 76 446 76 b 359 165 394 77 359 119 b 368 205 359 179 362 192 b 441 251 382 233 412 251 b 455 249 446 251 451 251 b 460 248 458 249 460 248 b 460 248 460 248 460 248 b 454 254 460 249 458 251 b 334 295 419 280 378 294 l 319 295 l 319 4 l 319 -287 l 321 -285 b 328 -285 322 -285 325 -285 b 524 -99 424 -277 507 -198 b 541 -79 526 -84 530 -79 b 556 -97 551 -79 556 -84 b 548 -133 556 -105 553 -117 b 334 -317 521 -233 434 -306 b 322 -319 329 -317 323 -317 l 319 -319 l 319 -424 b 319 -471 319 -444 319 -459 b 313 -541 319 -544 318 -535 b 298 -548 308 -545 303 -548 b 279 -534 289 -548 281 -542 b 277 -424 277 -531 277 -530 l 277 -317 l 273 -317 b 13 -95 153 -305 51 -217 b 0 2 4 -62 0 -29 b 182 295 0 126 66 238 b 274 324 210 309 249 320 l 277 324 l 277 427 b 279 533 277 528 277 530 b 289 545 281 538 285 542 m 277 2 b 277 291 277 161 277 291 b 268 288 277 291 273 290 b 144 1 179 265 144 184 b 276 -284 144 -199 175 -267 l 277 -285 l 277 2 \"},vb7:{x_min:-176.9375,x_max:251.8125,ha:257,o:\"m -8 631 b -1 632 -6 632 -4 632 b 19 620 8 632 16 628 b 20 503 20 616 20 614 b 20 391 20 442 20 391 b 84 424 20 391 49 406 l 147 456 l 152 456 b 153 456 153 456 153 456 b 175 435 166 456 175 446 b 172 427 175 433 174 430 b 92 380 170 420 172 421 l 20 342 l 20 245 l 20 148 l 21 151 b 137 199 59 183 99 199 b 182 191 152 199 167 197 b 251 84 227 176 251 134 b 228 0 251 58 243 29 b 100 -142 206 -40 178 -72 l 23 -215 b 0 -229 9 -229 6 -229 b -20 -216 -9 -229 -17 -224 b -21 54 -21 -212 -21 -212 b -21 322 -21 201 -21 322 b -85 290 -21 322 -50 308 l -148 256 l -153 256 b -155 256 -155 256 -155 256 b -176 277 -167 256 -176 266 b -174 285 -176 280 -175 283 b -93 333 -171 294 -174 292 l -21 370 l -21 494 b -20 620 -21 616 -21 616 b -8 631 -17 624 -13 630 m 110 131 b 96 133 106 133 100 133 b 89 133 93 133 91 133 b 24 87 63 129 40 113 l 20 80 l 20 -37 l 20 -156 l 23 -152 b 144 81 96 -72 144 20 l 144 83 b 110 131 144 113 134 126 \"},vb9:{x_min:-122.5,x_max:121.140625,ha:124,o:\"m -16 145 b 0 147 -10 147 -5 147 b 121 -1 66 147 121 77 b 114 -49 121 -16 118 -33 b -1 -148 95 -112 47 -148 b -85 -106 -31 -148 -61 -134 b -122 -1 -110 -76 -122 -38 b -16 145 -122 68 -81 134 m 12 111 b 0 113 8 113 4 113 b -68 22 -29 113 -61 73 b -70 0 -69 15 -70 6 b -13 -113 -70 -49 -47 -98 b -1 -115 -9 -115 -5 -115 b 63 -40 24 -115 53 -83 b 68 -1 66 -27 68 -15 b 12 111 68 48 46 97 \"},vba:{x_min:-118.421875,x_max:597.53125,ha:381,o:\"m 460 574 b 464 574 461 574 462 574 b 488 574 470 574 481 574 b 500 573 491 574 498 574 b 594 503 543 570 588 538 b 597 488 596 498 597 494 b 528 417 597 449 564 417 b 502 423 519 417 510 419 b 465 481 477 434 465 458 b 488 528 465 499 472 516 b 490 530 490 530 490 530 b 490 530 490 530 490 530 b 468 517 488 530 475 523 b 349 340 419 485 377 420 b 347 330 348 334 347 330 b 383 328 347 328 363 328 b 428 326 423 328 424 328 b 442 302 438 320 442 312 b 430 281 442 294 438 285 b 385 276 424 277 426 276 l 377 276 l 332 276 l 330 269 b 178 -117 303 126 250 -9 b 1 -249 129 -194 69 -237 b -20 -251 -6 -251 -13 -251 b -114 -187 -65 -251 -100 -227 b -118 -156 -117 -177 -118 -166 b -51 -84 -118 -116 -91 -84 b -31 -87 -46 -84 -39 -86 b 16 -152 0 -95 16 -124 b -12 -205 16 -173 8 -194 b -16 -208 -14 -206 -16 -208 b -14 -208 -16 -208 -14 -208 b -9 -206 -14 -208 -12 -208 b 74 -124 23 -197 54 -166 b 172 224 98 -79 125 22 b 185 276 178 252 183 274 b 185 276 185 276 185 276 b 141 276 185 276 181 276 b 91 280 96 276 96 276 b 77 302 83 285 77 294 b 91 326 77 312 83 320 b 148 328 95 328 96 328 l 198 330 l 202 341 b 460 574 249 473 351 566 \"},vbf:{x_min:-53.078125,x_max:513.140625,ha:485,o:\"m 185 383 b 196 384 187 383 191 384 b 277 334 230 384 259 365 b 288 301 281 324 288 306 b 288 297 288 298 288 297 b 294 302 289 297 291 299 b 394 370 323 338 367 367 b 404 371 398 370 401 371 b 510 272 453 371 498 328 b 513 237 513 262 513 251 b 507 172 513 217 511 192 b 326 -34 487 59 412 -26 b 314 -36 322 -36 318 -36 b 274 -24 298 -36 283 -31 l 265 -16 b 224 44 246 -1 232 20 b 223 49 224 47 223 49 b 223 49 223 49 223 49 b 149 -197 221 48 149 -194 b 149 -198 149 -197 149 -198 b 170 -210 149 -202 155 -205 b 187 -215 174 -210 175 -212 b 204 -231 201 -219 204 -222 b 197 -245 204 -240 202 -242 l 194 -248 l 76 -248 l -42 -248 l -46 -245 b -53 -231 -51 -242 -53 -240 b -35 -215 -53 -222 -49 -217 b -13 -210 -21 -212 -20 -212 b -6 -208 -10 -209 -8 -208 b 0 -206 -6 -208 -2 -206 b 25 -188 13 -201 21 -195 b 163 280 28 -183 163 276 b 166 291 163 283 164 287 b 167 302 167 295 167 299 b 155 324 167 315 161 324 b 155 324 155 324 155 324 b 65 230 125 322 85 280 b 53 215 61 217 58 215 b 51 215 53 215 51 215 b 42 224 46 215 42 217 b 57 263 42 231 47 244 b 140 360 77 305 104 337 b 152 370 144 365 149 369 b 185 383 157 376 172 381 m 374 306 b 366 308 371 308 368 308 b 300 273 348 308 321 294 b 284 254 288 262 287 259 b 280 242 283 249 281 245 b 257 169 279 240 270 213 l 236 98 l 236 93 b 251 48 238 77 243 61 b 279 27 258 37 272 27 b 281 27 279 27 280 27 b 291 31 281 27 287 30 b 396 170 334 52 378 109 b 406 247 402 197 406 224 b 401 277 406 259 405 270 b 374 306 397 290 383 303 \"},vc3:{x_min:-10.890625,x_max:299.4375,ha:294,o:\"m 136 460 b 142 462 137 462 140 462 b 166 449 152 462 161 456 b 171 428 168 446 168 445 b 288 131 194 322 238 209 b 298 115 295 120 296 117 b 299 106 298 112 299 109 b 273 81 299 91 287 81 b 255 86 268 81 261 83 b 155 116 225 104 183 116 l 152 116 l 149 108 b 141 83 148 102 144 91 b 134 48 137 69 134 58 b 149 9 134 34 140 24 b 153 -1 152 5 153 1 b 149 -9 153 -5 152 -6 b 144 -11 148 -11 147 -11 b 122 2 138 -11 133 -6 b 95 61 104 20 95 38 b 107 108 95 74 99 90 b 108 113 107 111 108 112 b 107 113 108 113 108 113 b 102 113 106 113 104 113 b 31 86 76 108 53 98 b 14 80 24 81 20 80 b -10 106 0 80 -10 91 b 0 131 -10 115 -9 116 b 115 430 49 209 91 317 b 136 460 119 451 123 456 \"},vd0:{x_min:-10.890625,x_max:299.4375,ha:294,o:\"m 44 174 b 51 174 47 174 49 174 b 68 173 55 174 61 174 l 287 112 l 551 40 b 615 20 617 22 609 23 b 626 0 622 16 626 8 b 615 -22 626 -9 622 -18 b 613 -23 613 -23 613 -23 b 613 -23 613 -23 613 -23 b 287 -113 613 -24 597 -29 l 68 -174 b 53 -176 61 -176 57 -176 b 39 -172 47 -176 43 -174 b 27 -151 31 -167 27 -159 b 39 -129 27 -141 31 -133 b 230 -74 43 -124 20 -131 l 370 -36 l 468 -9 b 498 0 484 -4 498 -1 b 468 8 498 0 484 2 l 370 34 l 230 73 b 40 126 28 129 43 124 b 27 149 31 131 27 140 b 44 174 27 161 34 170 m 205 110 l 205 300 b 205 330 245 330 245 300 l 245 300 l 245 -300 b 245 -330 205 -330 205 -300 l 205 -300 l 205 110 l 345 90 m 345 90 l 345 330 b 345 360 385 360 385 330 l 385 330 l 385 -270 b 385 -300 345 -300 345 -270 l 345 -270 l 345 90 \"},vd1:{x_min:-20,x_max:320,ha:257,o:\"m -8 200 b -8 210 8 200 16 200 l 20 148 -199 l 23 -615 b 0 -629 9 -629 6 -629 l -21 -612 l -21 -201 l -21 216 l -20 200 m 16 200 l 310 0 l 240 0 l 16 140 l 16 -120 l 240 0 l 310 0 l 16 -200 \"},vd2:{x_min:0,x_max:430.75,ha:386,o:\"m 0 200 l 0 -200 l 430 -200 l 430 200 l 0 200 \"},vd3:{x_min:0,x_max:430.75,ha:386,o:\"m 0 200 l 0 -200 l 430 -200 l 430 200 l 0 200 l 50 150 l 380 150 l 380 -150 l 50 -150 l 50 150 \"},vd4:{x_min:0,x_max:430.75,ha:360,o:\"m 0 150 l 0 -150 l 430 -150 l 430 150 l 0 150 \"},vd5:{x_min:0,x_max:430.75,ha:360,o:\"m 0 150 l 0 -150 l 430 -150 l 430 150 l 0 150 l 50 100 l 380 100 l 380 -100 l 50 -100 l 50 100\"},vd6:{x_min:0,x_max:430.75,ha:360,o:\"m -146 537 b -138 538 -143 538 -141 538 b -118 525 -129 538 -121 533 b -117 390 -117 522 -117 521 b -115 259 -117 268 -117 259 b -115 259 -115 259 -115 259 b -59 272 -104 263 -62 272 b -39 259 -50 272 -42 267 b -37 209 -38 257 -37 233 b -39 159 -37 185 -38 162 b -85 138 -43 149 -44 149 l -117 131 l -117 21 b -115 -88 -117 -80 -117 -88 b -115 -88 -115 -88 -115 -88 b -59 -75 -104 -84 -62 -75 b -44 -81 -52 -75 -48 -77 b -38 -124 -38 -87 -38 -85 b -38 -138 -38 -124 -38 -138 b -38 -152 -38 -138 -38 -152 b -44 -195 -38 -191 -38 -190 b -85 -209 -48 -200 -48 -200 l -117 -217 l -117 -349 b -118 -486 -117 -481 -117 -482 b -138 -499 -121 -494 -129 -499 b -153 -493 -143 -499 -149 -497 b -159 -415 -158 -487 -159 -496 b -159 -355 -159 -398 -159 -379 b -159 -227 -159 -284 -159 -227 b -205 -238 -159 -227 -180 -232 b -250 -249 -230 -244 -250 -249 b -251 -386 -251 -249 -251 -311 b -252 -525 -251 -521 -251 -522 b -272 -538 -255 -534 -264 -538 b -287 -532 -277 -538 -283 -536 b -293 -452 -292 -527 -293 -536 b -293 -391 -293 -436 -293 -415 b -294 -260 -293 -269 -293 -260 b -294 -260 -294 -260 -294 -260 b -348 -272 -306 -264 -345 -272 b -368 -259 -357 -272 -365 -267 b -369 -209 -369 -257 -369 -233 b -368 -159 -369 -185 -369 -162 b -323 -139 -364 -149 -362 -148 l -293 -131 l -293 -22 b -294 87 -293 80 -293 87 b -294 87 -294 87 -294 87 b -348 75 -306 84 -345 75 b -368 88 -357 75 -365 80 b -369 138 -369 91 -369 114 b -368 188 -369 162 -369 186 b -323 209 -364 198 -362 199 l -293 216 l -293 349 b -292 486 -293 481 -293 482 b -272 499 -288 494 -280 499 b -257 493 -266 499 -261 497 b -251 414 -251 487 -251 496 b -251 354 -251 398 -251 378 b -251 226 -251 284 -251 226 b -205 238 -250 226 -230 231 b -159 249 -180 244 -159 249 b -159 385 -159 249 -159 310 b -157 525 -159 521 -159 522 b -146 537 -156 530 -151 535 z m -159 11 b -159 120 -159 98 -159 120 l -159 120 b -175 116 -160 120 -167 119 b -221 105 -184 114 -204 109 l -251 98 l -251 -12 b -251 -121 -251 -72 -251 -121 b -205 -110 -250 -121 -230 -116 b -159 -99 -180 -104 -159 -99 b -159 11 -159 -99 -159 -49 z m 89 517 b 97 519 92 518 94 519 b 117 505 106 519 114 513 b 119 376 119 502 119 501 l 119 249 l 145 258 b 176 267 169 266 172 267 b 177 267 176 267 177 267 b 196 255 186 267 192 263 l 197 252 l 197 205 b 197 181 197 195 197 187 b 193 149 197 153 197 153 b 152 131 190 144 187 143 l 119 120 l 119 10 b 119 -100 119 -62 119 -100 b 145 -91 120 -100 131 -96 b 173 -82 159 -86 171 -82 b 176 -81 174 -81 175 -81 b 196 -94 185 -81 193 -87 b 198 -151 197 -97 198 -125 b 197 -194 198 -172 197 -192 b 153 -218 193 -203 192 -204 l 119 -230 l 119 -367 l 118 -504 l 117 -507 b 97 -519 113 -514 105 -519 b 82 -512 92 -519 87 -517 b 76 -434 77 -507 76 -516 b 76 -374 76 -418 76 -398 b 76 -245 76 -303 76 -245 b 52 -254 76 -245 65 -249 b 19 -263 34 -260 25 -263 b 6 -257 13 -263 10 -261 b 0 -214 0 -251 0 -253 b 0 -200 0 -210 0 -205 b 0 -188 0 -196 0 -192 b 6 -143 0 -147 0 -149 b 46 -126 10 -139 10 -139 l 76 -115 l 76 -5 b 76 106 76 56 76 106 b 51 98 76 106 64 102 b 18 89 34 92 25 89 b 6 95 13 89 10 91 b 0 139 0 101 0 99 b 0 153 0 143 0 148 b 0 179 0 163 0 172 b 44 225 0 215 3 211 l 76 236 l 76 369 b 78 505 76 501 76 502 b 89 517 80 510 85 515 z \"},vd7:{x_min:0,x_max:430.75,ha:360,o:\"m 283 633 b 291 634 286 634 289 634 b 311 621 300 634 308 629 b 313 505 313 618 313 617 b 313 393 313 443 313 393 b 378 425 313 393 343 407 l 443 458 l 448 458 b 449 458 449 458 449 458 b 471 437 462 458 471 448 b 469 429 471 434 470 432 b 387 382 466 421 469 423 l 313 344 l 313 247 l 313 150 l 315 152 b 433 201 353 184 394 201 b 479 193 448 201 464 198 b 549 86 524 177 549 135 b 526 1 549 59 541 29 b 395 -143 504 -39 475 -71 b 316 -214 351 -182 341 -191 b 292 -229 302 -228 300 -229 b 272 -216 283 -229 275 -224 b 271 55 271 -212 271 -212 b 270 323 271 203 270 323 b 205 291 270 323 241 308 l 140 258 l 135 258 b 134 258 135 258 134 258 b 112 279 121 258 112 267 b 114 287 112 281 113 284 b 196 334 117 295 114 293 l 271 371 l 271 495 b 272 621 271 617 271 618 b 283 633 274 626 279 631 z m 404 133 b 391 134 400 134 395 134 b 384 134 388 134 386 134 b 318 88 358 130 335 114 l 313 81 l 313 -37 l 313 -156 l 316 -152 b 439 83 391 -71 439 22 l 439 84 b 404 133 439 115 430 128 z m -8 633 l -8 633 b 0 634 -6 634 -3 634 b 20 621 8 634 17 629 b 21 384 21 618 21 617 l 21 150 l 24 152 b 141 201 62 184 102 201 b 187 193 157 201 172 198 b 257 86 232 177 257 135 b 234 1 257 59 250 29 b 103 -143 212 -39 183 -71 b 24 -214 60 -182 49 -191 b 0 -229 10 -228 8 -229 b -20 -216 -9 -229 -17 -224 l -21 -212 l -21 203 l -21 618 l -20 621 b -8 633 -18 626 -13 631 z m 113 133 l 113 133 b 99 134 109 134 103 134 b 93 134 97 134 94 134 b 26 88 66 130 43 114 l 21 81 l 21 -37 l 21 -156 l 25 -152 b 148 83 99 -71 148 22 l 148 84 b 113 133 148 115 138 128 z \"}},cssFontWeight:\"normal\",ascender:1903,underlinePosition:-125,cssFontStyle:\"normal\",boundingBox:{yMin:-2065.375,xMin:-695.53125,yMax:1901.578125,xMax:1159.671875},resolution:1e3,descender:-2066,familyName:\"VexFlow-18\",lineHeight:4093,underlineThickness:50};function d(t,e,i,s,n,r){let o,a,h,l=0;function c(){return e+t[l++]*s}function u(){return i+t[l++]*n}for(;l<t.length;)switch(o=t[l++],o){case\"m\":case\"l\":r[o](c(),u());break;case\"q\":a=c(),h=u(),r.q(c(),u(),a,h);break;case\"b\":a=c(),h=u(),r.b(c(),u(),c(),u(),a,h)}}class f extends h{static loadMetrics(t,e,i){const n=t.glyphs[e];if(!n)throw new s.RERR(\"BadGlyph\",`Glyph ${e} does not exist in font.`);const r=n.x_min,o=n.x_max,a=n.ha;let h;if(n.o)return i?n.cached_outline?h=n.cached_outline:(h=n.o.split(\" \"),n.cached_outline=h):(n.cached_outline&&delete n.cached_outline,h=n.o.split(\" \")),{x_min:r,x_max:o,ha:a,outline:h};throw new s.RERR(\"BadGlyph\",`Glyph ${e} has no outline defined.`)}static renderGlyph(t,e,i,s,n,r){const o=72*s/(100*u.resolution),a=f.loadMetrics(u,n,!r);f.renderOutline(t,a.outline,o,e,i)}static renderOutline(t,e,i,s,n){t.beginPath(),t.moveTo(s,n),d(e,s,n,i,-i,{m:t.moveTo.bind(t),l:t.lineTo.bind(t),q:t.quadraticCurveTo.bind(t),b:t.bezierCurveTo.bind(t)}),t.fill()}static getOutlineBoundingBox(t,e,i,s){const n=new l;return d(t,i,s,e,-e,{m:n.addPoint.bind(n),l:n.addPoint.bind(n),q:n.addQuadraticCurve.bind(n),b:n.addBezierCurve.bind(n)}),new c(n.x1,n.y1,n.width(),n.height())}constructor(t,e,i){super(),this.setAttribute(\"type\",\"Glyph\"),this.code=t,this.point=e,this.options={cache:!0,font:u},this.metrics=null,this.x_shift=0,this.y_shift=0,this.originShift={x:0,y:0},i?this.setOptions(i):this.reset()}setOptions(t){s.Merge(this.options,t),this.reset()}setPoint(t){return this.point=t,this}setStave(t){return this.stave=t,this}setXShift(t){return this.x_shift=t,this}setYShift(t){return this.y_shift=t,this}reset(){this.scale=72*this.point/(100*this.options.font.resolution),this.metrics=f.loadMetrics(this.options.font,this.code,this.options.cache),this.bbox=f.getOutlineBoundingBox(this.metrics.outline,this.scale,0,0)}getMetrics(){if(!this.metrics)throw new s.RuntimeError(\"BadGlyph\",`Glyph ${this.code} is not initialized.`);return{x_min:this.metrics.x_min*this.scale,x_max:this.metrics.x_max*this.scale,width:this.bbox.getW(),height:this.bbox.getH()}}setOriginX(t){const{bbox:e}=this,i=(t-Math.abs(e.getX()/e.getW()))*e.getW();this.originShift.x=-i}setOriginY(t){const{bbox:e}=this,i=(t-Math.abs(e.getY()/e.getH()))*e.getH();this.originShift.y=-i}setOrigin(t,e){this.setOriginX(t),this.setOriginY(e)}render(t,e,i){if(!this.metrics)throw new s.RuntimeError(\"BadGlyph\",`Glyph ${this.code} is not initialized.`);const n=this.metrics.outline,r=this.scale;this.setRendered(),this.applyStyle(t),f.renderOutline(t,n,r,e+this.originShift.x,i+this.originShift.y),this.restoreStyle(t)}renderToStave(t){if(this.checkContext(),!this.metrics)throw new s.RuntimeError(\"BadGlyph\",`Glyph ${this.code} is not initialized.`);if(!this.stave)throw new s.RuntimeError(\"GlyphError\",\"No valid stave\");const e=this.metrics.outline,i=this.scale;this.setRendered(),this.applyStyle(),f.renderOutline(this.context,e,i,t+this.x_shift,this.stave.getYForGlyphs()+this.y_shift),this.restoreStyle()}}const m={STEM_WIDTH:1.5,STEM_HEIGHT:35,STAVE_LINE_THICKNESS:1,RESOLUTION:16384,DEFAULT_NOTATION_FONT_SCALE:39,DEFAULT_TABLATURE_FONT_SCALE:39,SLASH_NOTEHEAD_WIDTH:15,TEXT_HEIGHT_OFFSET_HACK:1,IsKerned:!0,clefProperties:t=>{if(!t)throw new s.RERR(\"BadArgument\",\"Invalid clef: \"+t);const e=m.clefProperties.values[t];if(!e)throw new s.RERR(\"BadArgument\",\"Invalid clef: \"+t);return e}};m.clefProperties.values={treble:{line_shift:0},bass:{line_shift:6},tenor:{line_shift:4},alto:{line_shift:3},soprano:{line_shift:1},percussion:{line_shift:0},\"mezzo-soprano\":{line_shift:2},\"baritone-c\":{line_shift:5},\"baritone-f\":{line_shift:5},subbass:{line_shift:7},french:{line_shift:-1}},m.keyProperties=(t,e,i)=>{void 0===e&&(e=\"treble\");const n={octave_shift:0};\"object\"==typeof i&&s.Merge(n,i);const r=t.split(\"/\");if(r.length<2)throw new s.RERR(\"BadArguments\",`Key must have note + octave and an optional glyph: ${t}`);const o=r[0].toUpperCase(),a=m.keyProperties.note_values[o];if(!a)throw new s.RERR(\"BadArguments\",\"Invalid key name: \"+o);a.octave&&(r[1]=a.octave);let h=parseInt(r[1],10);h+=-1*n.octave_shift;let l=(7*h-28+a.index)/2;l+=m.clefProperties(e).line_shift;let c=0;l<=0&&2*l%2==0&&(c=1),l>=6&&2*l%2==0&&(c=-1);const u=void 0!==a.int_val?12*h+a.int_val:null,d=a.code,f=a.shift_right;let p={};if(r.length>2&&r[2]){const t=r[2].toUpperCase();p=m.keyProperties.customNoteHeads[t]||{}}return{key:o,octave:h,line:l,int_value:u,accidental:a.accidental,code:d,stroke:c,shift_right:f,displaced:!1,...p}},m.keyProperties.note_values={C:{index:0,int_val:0,accidental:null},CN:{index:0,int_val:0,accidental:\"n\"},\"C#\":{index:0,int_val:1,accidental:\"#\"},\"C##\":{index:0,int_val:2,accidental:\"##\"},CB:{index:0,int_val:-1,accidental:\"b\"},CBB:{index:0,int_val:-2,accidental:\"bb\"},D:{index:1,int_val:2,accidental:null},DN:{index:1,int_val:2,accidental:\"n\"},\"D#\":{index:1,int_val:3,accidental:\"#\"},\"D##\":{index:1,int_val:4,accidental:\"##\"},DB:{index:1,int_val:1,accidental:\"b\"},DBB:{index:1,int_val:0,accidental:\"bb\"},E:{index:2,int_val:4,accidental:null},EN:{index:2,int_val:4,accidental:\"n\"},\"E#\":{index:2,int_val:5,accidental:\"#\"},\"E##\":{index:2,int_val:6,accidental:\"##\"},EB:{index:2,int_val:3,accidental:\"b\"},EBB:{index:2,int_val:2,accidental:\"bb\"},F:{index:3,int_val:5,accidental:null},FN:{index:3,int_val:5,accidental:\"n\"},\"F#\":{index:3,int_val:6,accidental:\"#\"},\"F##\":{index:3,int_val:7,accidental:\"##\"},FB:{index:3,int_val:4,accidental:\"b\"},FBB:{index:3,int_val:3,accidental:\"bb\"},G:{index:4,int_val:7,accidental:null},GN:{index:4,int_val:7,accidental:\"n\"},\"G#\":{index:4,int_val:8,accidental:\"#\"},\"G##\":{index:4,int_val:9,accidental:\"##\"},GB:{index:4,int_val:6,accidental:\"b\"},GBB:{index:4,int_val:5,accidental:\"bb\"},A:{index:5,int_val:9,accidental:null},AN:{index:5,int_val:9,accidental:\"n\"},\"A#\":{index:5,int_val:10,accidental:\"#\"},\"A##\":{index:5,int_val:11,accidental:\"##\"},AB:{index:5,int_val:8,accidental:\"b\"},ABB:{index:5,int_val:7,accidental:\"bb\"},B:{index:6,int_val:11,accidental:null},BN:{index:6,int_val:11,accidental:\"n\"},\"B#\":{index:6,int_val:12,accidental:\"#\"},\"B##\":{index:6,int_val:13,accidental:\"##\"},BB:{index:6,int_val:10,accidental:\"b\"},BBB:{index:6,int_val:9,accidental:\"bb\"},R:{index:6,int_val:9,rest:!0},X:{index:6,accidental:\"\",octave:4,code:\"v3e\",shift_right:5.5}},m.keyProperties.customNoteHeads={D0:{code:\"v27\",shift_right:0,stem_up_x_offset:0,stem_down_x_offset:0,stem_up_y_offset:-1,stem_down_y_offset:0},D1:{code:\"v2d\",shift_right:-.5},D2:{code:\"v22\",shift_right:-.5},D3:{code:\"v70\",shift_right:-.5},T0:{code:\"v49\",shift_right:-2,stem_up_y_offset:-4,stem_down_y_offset:4},T1:{code:\"v93\",shift_right:.5,stem_up_y_offset:-4,stem_down_y_offset:4},T2:{code:\"v40\",shift_right:.5,stem_up_y_offset:-4,stem_down_y_offset:4},T3:{code:\"v7d\",shift_right:.5,stem_up_y_offset:-4,stem_down_y_offset:4},X0:{code:\"v92\",stem_up_x_offset:-2,stem_down_x_offset:0,stem_up_y_offset:4,stem_down_y_offset:4},X1:{code:\"v95\",shift_right:-.5,stem_up_y_offset:4,stem_down_y_offset:4},X2:{code:\"v3e\",shift_right:.5,stem_up_y_offset:4,stem_down_y_offset:4},X3:{code:\"v3b\",shift_right:0,stem_up_x_offset:-1.2,stem_down_x_offset:0,stem_up_y_offset:-1,stem_down_y_offset:2},S1:{code:\"vd3\",shift_right:0},S2:{code:\"vd2\",shift_right:0},R1:{code:\"vd5\",shift_right:0},R2:{code:\"vd4\",shift_right:0}},m.integerToNote=t=>{if(void 0===t)throw new s.RERR(\"BadArguments\",\"Undefined integer for integerToNote\");if(t<-2)throw new s.RERR(\"BadArguments\",`integerToNote requires integer > -2: ${t}`);const e=m.integerToNote.table[t];if(!e)throw new s.RERR(\"BadArguments\",`Unknown note value for integer: ${t}`);return e},m.integerToNote.table={0:\"C\",1:\"C#\",2:\"D\",3:\"D#\",4:\"E\",5:\"F\",6:\"F#\",7:\"G\",8:\"G#\",9:\"A\",10:\"A#\",11:\"B\"},m.tabToGlyph=(t,e=1)=>{let i=null,s=0,n=0;if(\"X\"===t.toString().toUpperCase()){const t=new f(\"v7f\",m.DEFAULT_TABLATURE_FONT_SCALE).getMetrics();i=\"v7f\",s=t.width,n=-t.height/2}else s=m.textWidth(t.toString());return{text:t,code:i,getWidth:()=>s*e,shift_y:n}},m.textWidth=t=>7*t.toString().length,m.articulationCodes=t=>m.articulationCodes.articulations[t],m.articulationCodes.articulations={\"a.\":{code:\"v23\",between_lines:!0},av:{code:\"v28\",between_lines:!0},\"a>\":{code:\"v42\",between_lines:!0},\"a-\":{code:\"v25\",between_lines:!0},\"a^\":{code:\"va\",between_lines:!1},\"a+\":{code:\"v8b\",between_lines:!1},ao:{code:\"v94\",between_lines:!1},ah:{code:\"vb9\",between_lines:!1},\"a@a\":{code:\"v43\",between_lines:!1},\"a@u\":{code:\"v5b\",between_lines:!1},\"a|\":{code:\"v75\",between_lines:!1},am:{code:\"v97\",between_lines:!1},\"a,\":{code:\"vb3\",between_lines:!1}},m.accidentalCodes=t=>m.accidentalCodes.accidentals[t],m.accidentalCodes.accidentals={\"#\":{code:\"v18\",parenRightPaddingAdjustment:-1},\"##\":{code:\"v7f\",parenRightPaddingAdjustment:-1},b:{code:\"v44\",parenRightPaddingAdjustment:-2},bb:{code:\"v26\",parenRightPaddingAdjustment:-2},n:{code:\"v4e\",parenRightPaddingAdjustment:-1},\"{\":{code:\"v9c\",parenRightPaddingAdjustment:-1},\"}\":{code:\"v84\",parenRightPaddingAdjustment:-1},db:{code:\"v9e\",parenRightPaddingAdjustment:-1},d:{code:\"vab\",parenRightPaddingAdjustment:0},bbs:{code:\"v90\",parenRightPaddingAdjustment:-1},\"++\":{code:\"v51\",parenRightPaddingAdjustment:-1},\"+\":{code:\"v78\",parenRightPaddingAdjustment:-1},\"+-\":{code:\"v8d\",parenRightPaddingAdjustment:-1},\"++-\":{code:\"v7a\",parenRightPaddingAdjustment:-1},bs:{code:\"vb7\",parenRightPaddingAdjustment:-1},bss:{code:\"v39\",parenRightPaddingAdjustment:-1},o:{code:\"vd0\",parenRightPaddingAdjustment:-1},k:{code:\"vd1\",parenRightPaddingAdjustment:-1},ashs:{code:\"vd6\",parenRightPaddingAdjustment:-1},afhf:{code:\"vd7\",parenRightPaddingAdjustment:-1}},m.accidentalColumnsTable={1:{a:[1],b:[1]},2:{a:[1,2]},3:{a:[1,3,2],b:[1,2,1],second_on_bottom:[1,2,3]},4:{a:[1,3,4,2],b:[1,2,3,1],spaced_out_tetrachord:[1,2,1,2]},5:{a:[1,3,5,4,2],b:[1,2,4,3,1],spaced_out_pentachord:[1,2,3,2,1],very_spaced_out_pentachord:[1,2,1,2,1]},6:{a:[1,3,5,6,4,2],b:[1,2,4,5,3,1],spaced_out_hexachord:[1,3,2,1,3,2],very_spaced_out_hexachord:[1,2,1,2,1,2]}},m.ornamentCodes=t=>m.ornamentCodes.ornaments[t],m.ornamentCodes.ornaments={mordent:{code:\"v1e\"},mordent_inverted:{code:\"v45\"},turn:{code:\"v72\"},turn_inverted:{code:\"v33\"},tr:{code:\"v1f\"},upprall:{code:\"v60\"},downprall:{code:\"vb4\"},prallup:{code:\"v6d\"},pralldown:{code:\"v2c\"},upmordent:{code:\"v29\"},downmordent:{code:\"v68\"},lineprall:{code:\"v20\"},prallprall:{code:\"v86\"}},m.keySignature=t=>{const e=m.keySignature.keySpecs[t];if(!e)throw new s.RERR(\"BadKeySignature\",`Bad key signature spec: '${t}'`);if(!e.acc)return[];const i=m.keySignature.accidentalList(e.acc),n=[];for(let t=0;t<e.num;++t){const s=i[t];n.push({type:e.acc,line:s})}return n},m.keySignature.keySpecs={C:{acc:null,num:0},Am:{acc:null,num:0},F:{acc:\"b\",num:1},Dm:{acc:\"b\",num:1},Bb:{acc:\"b\",num:2},Gm:{acc:\"b\",num:2},Eb:{acc:\"b\",num:3},Cm:{acc:\"b\",num:3},Ab:{acc:\"b\",num:4},Fm:{acc:\"b\",num:4},Db:{acc:\"b\",num:5},Bbm:{acc:\"b\",num:5},Gb:{acc:\"b\",num:6},Ebm:{acc:\"b\",num:6},Cb:{acc:\"b\",num:7},Abm:{acc:\"b\",num:7},G:{acc:\"#\",num:1},Em:{acc:\"#\",num:1},D:{acc:\"#\",num:2},Bm:{acc:\"#\",num:2},A:{acc:\"#\",num:3},\"F#m\":{acc:\"#\",num:3},E:{acc:\"#\",num:4},\"C#m\":{acc:\"#\",num:4},B:{acc:\"#\",num:5},\"G#m\":{acc:\"#\",num:5},\"F#\":{acc:\"#\",num:6},\"D#m\":{acc:\"#\",num:6},\"C#\":{acc:\"#\",num:7},\"A#m\":{acc:\"#\",num:7}},m.unicode={sharp:String.fromCharCode(parseInt(\"266F\",16)),flat:String.fromCharCode(parseInt(\"266D\",16)),natural:String.fromCharCode(parseInt(\"266E\",16)),triangle:String.fromCharCode(parseInt(\"25B3\",16)),\"o-with-slash\":String.fromCharCode(parseInt(\"00F8\",16)),degrees:String.fromCharCode(parseInt(\"00B0\",16)),circle:String.fromCharCode(parseInt(\"25CB\",16))},m.keySignature.accidentalList=t=>({b:[2,.5,2.5,1,3,1.5,3.5],\"#\":[0,1.5,-.5,1,2.5,.5,2]}[t]),m.parseNoteDurationString=t=>{if(\"string\"!=typeof t)return null;const e=/(\\d*\\/?\\d+|[a-z])(d*)([nrhms]|$)/.exec(t);if(!e)return null;const i=e[1],s=e[2].length;let n=e[3];return 0===n.length&&(n=\"n\"),{duration:i,dots:s,type:n}},m.parseNoteStruct=t=>{const e=t.duration,i=m.parseNoteDurationString(e);if(!i)return null;let s=m.durationToTicks(i.duration);if(null==s)return null;let n=t.type;const r=[];if(n){if(!m.getGlyphProps.validTypes[n])return null}else n=i.type||\"n\",void 0!==t.keys&&t.keys.forEach((t,e)=>{const i=t.split(\"/\");i&&3===i.length&&(r[e]=i[2])});const o=t.dots?t.dots:i.dots;if(\"number\"!=typeof o)return null;let a=s;for(let t=0;t<o;t++){if(a<=1)return null;a/=2,s+=a}return{duration:i.duration,type:n,customTypes:r,dots:o,ticks:s}},m.sanitizeDuration=t=>{const e=m.durationAliases[t];if(void 0!==e&&(t=e),void 0===m.durationToTicks.durations[t])throw new s.RERR(\"BadArguments\",`The provided duration is not valid: ${t}`);return t},m.durationToFraction=t=>(new n).parse(m.sanitizeDuration(t)),m.durationToNumber=t=>m.durationToFraction(t).value(),m.durationToTicks=t=>{t=m.sanitizeDuration(t);const e=m.durationToTicks.durations[t];return void 0===e?null:e},m.durationToTicks.durations={\"1/2\":2*m.RESOLUTION,1:m.RESOLUTION/1,2:m.RESOLUTION/2,4:m.RESOLUTION/4,8:m.RESOLUTION/8,16:m.RESOLUTION/16,32:m.RESOLUTION/32,64:m.RESOLUTION/64,128:m.RESOLUTION/128,256:m.RESOLUTION/256},m.durationAliases={w:\"1\",h:\"2\",q:\"4\",b:\"256\"},m.getGlyphProps=(t,e)=>{t=m.sanitizeDuration(t);const i=m.getGlyphProps.duration_codes[t];if(void 0===i)return null;e||(e=\"n\");let s=i.type[e];if(void 0===s){const t=m.keyProperties.customNoteHeads[e.toUpperCase()];if(void 0===t)return null;s={code_head:t.code,...t}}return{...i.common,...s}},m.getGlyphProps.validTypes={n:{name:\"note\"},r:{name:\"rest\"},h:{name:\"harmonic\"},m:{name:\"muted\"},s:{name:\"slash\"}},m.getGlyphProps.duration_codes={\"1/2\":{common:{getWidth(t=m.DEFAULT_NOTATION_FONT_SCALE){return new f(this.code_head||\"v53\",t).getMetrics().width},stem:!1,stem_offset:0,flag:!1,stem_up_extension:-m.STEM_HEIGHT,stem_down_extension:-m.STEM_HEIGHT,tabnote_stem_up_extension:-m.STEM_HEIGHT,tabnote_stem_down_extension:-m.STEM_HEIGHT,dot_shiftY:0,line_above:0,line_below:0},type:{n:{code_head:\"v53\"},h:{code_head:\"v59\"},m:{code_head:\"vf\",stem_offset:0},r:{code_head:\"v31\",rest:!0,position:\"B/5\",dot_shiftY:.5},s:{getWidth:()=>m.SLASH_NOTEHEAD_WIDTH,position:\"B/4\"}}},1:{common:{getWidth(t=m.DEFAULT_NOTATION_FONT_SCALE){return new f(this.code_head||\"v1d\",t).getMetrics().width},stem:!1,stem_offset:0,flag:!1,stem_up_extension:-m.STEM_HEIGHT,stem_down_extension:-m.STEM_HEIGHT,tabnote_stem_up_extension:-m.STEM_HEIGHT,tabnote_stem_down_extension:-m.STEM_HEIGHT,dot_shiftY:0,line_above:0,line_below:0},type:{n:{code_head:\"v1d\"},h:{code_head:\"v46\"},m:{code_head:\"v92\",stem_offset:-3},r:{code_head:\"v5c\",rest:!0,position:\"D/5\",dot_shiftY:.5},s:{getWidth:()=>m.SLASH_NOTEHEAD_WIDTH,position:\"B/4\"}}},2:{common:{getWidth(t=m.DEFAULT_NOTATION_FONT_SCALE){return new f(this.code_head||\"v81\",t).getMetrics().width},stem:!0,stem_offset:0,flag:!1,stem_up_extension:0,stem_down_extension:0,tabnote_stem_up_extension:0,tabnote_stem_down_extension:0,dot_shiftY:0,line_above:0,line_below:0},type:{n:{code_head:\"v81\"},h:{code_head:\"v2d\"},m:{code_head:\"v95\",stem_offset:-3},r:{code_head:\"vc\",stem:!1,rest:!0,position:\"B/4\",dot_shiftY:-.5},s:{getWidth:()=>m.SLASH_NOTEHEAD_WIDTH,position:\"B/4\"}}},4:{common:{getWidth(t=m.DEFAULT_NOTATION_FONT_SCALE){return new f(this.code_head||\"vb\",t).getMetrics().width},stem:!0,stem_offset:0,flag:!1,stem_up_extension:0,stem_down_extension:0,tabnote_stem_up_extension:0,tabnote_stem_down_extension:0,dot_shiftY:0,line_above:0,line_below:0},type:{n:{code_head:\"vb\"},h:{code_head:\"v22\"},m:{code_head:\"v3e\",stem_offset:-3},r:{code_head:\"v7c\",stem:!1,rest:!0,position:\"B/4\",dot_shiftY:-.5,line_above:1.5,line_below:1.5},s:{getWidth:()=>m.SLASH_NOTEHEAD_WIDTH,position:\"B/4\"}}},8:{common:{getWidth(t=m.DEFAULT_NOTATION_FONT_SCALE){return new f(this.code_head||\"vb\",t).getMetrics().width},stem:!0,stem_offset:0,flag:!0,beam_count:1,code_flag_upstem:\"v54\",code_flag_downstem:\"v9a\",stem_up_extension:0,stem_down_extension:0,tabnote_stem_up_extension:0,tabnote_stem_down_extension:0,dot_shiftY:0,line_above:0,line_below:0},type:{n:{code_head:\"vb\"},h:{code_head:\"v22\"},m:{code_head:\"v3e\"},r:{code_head:\"va5\",stem:!1,flag:!1,rest:!0,position:\"B/4\",dot_shiftY:-.5,line_above:1,line_below:1},s:{getWidth:()=>m.SLASH_NOTEHEAD_WIDTH,position:\"B/4\"}}},16:{common:{beam_count:2,getWidth(t=m.DEFAULT_NOTATION_FONT_SCALE){return new f(this.code_head||\"vb\",t).getMetrics().width},stem:!0,stem_offset:0,flag:!0,code_flag_upstem:\"v3f\",code_flag_downstem:\"v8f\",stem_up_extension:0,stem_down_extension:0,tabnote_stem_up_extension:0,tabnote_stem_down_extension:0,dot_shiftY:0,line_above:0,line_below:0},type:{n:{code_head:\"vb\"},h:{code_head:\"v22\"},m:{code_head:\"v3e\"},r:{code_head:\"v3c\",stem:!1,flag:!1,rest:!0,position:\"B/4\",dot_shiftY:-.5,line_above:1,line_below:2},s:{getWidth:()=>m.SLASH_NOTEHEAD_WIDTH,position:\"B/4\"}}},32:{common:{beam_count:3,getWidth(t=m.DEFAULT_NOTATION_FONT_SCALE){return new f(this.code_head||\"vb\",t).getMetrics().width},stem:!0,stem_offset:0,flag:!0,code_flag_upstem:\"v47\",code_flag_downstem:\"v2a\",stem_up_extension:9,stem_down_extension:9,tabnote_stem_up_extension:8,tabnote_stem_down_extension:5,dot_shiftY:0,line_above:0,line_below:0},type:{n:{code_head:\"vb\"},h:{code_head:\"v22\"},m:{code_head:\"v3e\"},r:{code_head:\"v55\",stem:!1,flag:!1,rest:!0,position:\"B/4\",dot_shiftY:-1.5,line_above:2,line_below:2},s:{getWidth:()=>m.SLASH_NOTEHEAD_WIDTH,position:\"B/4\"}}},64:{common:{beam_count:4,getWidth(t=m.DEFAULT_NOTATION_FONT_SCALE){return new f(this.code_head||\"vb\",t).getMetrics().width},stem:!0,stem_offset:0,flag:!0,code_flag_upstem:\"va9\",code_flag_downstem:\"v58\",stem_up_extension:13,stem_down_extension:13,tabnote_stem_up_extension:12,tabnote_stem_down_extension:9,dot_shiftY:0,line_above:0,line_below:0},type:{n:{code_head:\"vb\"},h:{code_head:\"v22\"},m:{code_head:\"v3e\"},r:{code_head:\"v38\",stem:!1,flag:!1,rest:!0,position:\"B/4\",dot_shiftY:-1.5,line_above:2,line_below:3},s:{getWidth:()=>m.SLASH_NOTEHEAD_WIDTH,position:\"B/4\"}}},128:{common:{beam_count:5,getWidth(t=m.DEFAULT_NOTATION_FONT_SCALE){return new f(this.code_head||\"vb\",t).getMetrics().width},stem:!0,stem_offset:0,flag:!0,code_flag_upstem:\"v9b\",code_flag_downstem:\"v30\",stem_up_extension:22,stem_down_extension:22,tabnote_stem_up_extension:21,tabnote_stem_down_extension:18,dot_shiftY:0,line_above:0,line_below:0},type:{n:{code_head:\"vb\"},h:{code_head:\"v22\"},m:{code_head:\"v3e\"},r:{code_head:\"vaa\",stem:!1,flag:!1,rest:!0,position:\"B/4\",dot_shiftY:1.5,line_above:3,line_below:3},s:{getWidth:()=>m.SLASH_NOTEHEAD_WIDTH,position:\"B/4\"}}}},m.smufl={},m.smufl.to_code_points={bracketTop:\"v1b\",bracketBottom:\"v10\",barlineTick:\"v6f\",segno:\"v8c\",coda:\"v4d\",gClef:\"v83\",cClef:\"vad\",fClef:\"v79\",unpitchedPercussionClef1:\"v59\",\"6stringTabClef\":\"v2f\",timeSig0:\"v0\",timeSig1:\"v1\",timeSig2:\"v2\",timeSig3:\"v3\",timeSig4:\"v4\",timeSig5:\"v5\",timeSig6:\"v6\",timeSig7:\"v7\",timeSig8:\"v8\",timeSig9:\"v9\",timeSigCommon:\"v41\",timeSigCutCommon:\"vb6\",noteheadDoubleWhole:\"v53\",noteheadWhole:\"v1d\",noteheadHalf:\"v81\",noteheadBlack:\"vb\",noteheadXWhole:\"v92\",noteheadXHalf:\"v95\",noteheadXBlack:\"v3e\",noteheadCircleX:\"v3b\",noteheadTriangleUpWhole:\"v49\",noteheadTriangleUpHalf:\"v93\",noteheadTriangleUpBlack:\"v40\",noteheadDiamondWhole:\"v46\",noteheadDiamondHalf:\"v2d\",noteheadDiamondBlack:\"v22\",augmentationDot:\"v23\",tremolo1:\"v74\",flag8thUp:\"v54\",flag8thDown:\"v9a\",flag16thUp:\"v3f\",flag16thDown:\"v8f\",flag32ndUp:\"v47\",flag32ndDown:\"v2a\",flag64thUp:\"va9\",flag64thDown:\"v58\",flag128thUp:\"v9b\",flag128thDown:\"v30\",accidentalFlat:\"v44\",accidentalNatural:\"v4e\",accidentalSharp:\"v18\",accidentalDoubleSharp:\"v7f\",accidentalDoubleFlat:\"v26\",accidentalParensLeft:\"v9c\",accidentalParensRight:\"v84\",accidentalQuarterToneFlatStein:\"vab\",accidentalThreeQuarterTonesFlatZimmermann:\"v9e\",accidentalQuarterToneSharpStein:\"v78\",accidentalThreeQuarterTonesSharpStein:\"v51\",accidentalBuyukMucennebFlat:\"v39\",accidentalBakiyeFlat:\"vb7\",accidentalKomaSharp:\"v51\",accidentalKucukMucennebSharp:\"v8d\",accidentalKoron:\"vd1\",accidentalSori:\"vd0\",articAccentAbove:\"v42\",articAccentBelow:\"v42\",articTenutoAbove:\"v25\",articTenutoBelow:\"v25\",articStaccatoAbove:\"v23\",articStaccatoBelow:\"v23\",articStaccatissimoAbove:\"v28\",articMarcatoAbove:\"va\",fermataAbove:\"v43\",fermataBelow:\"v5b\",breathMarkComma:\"v6c\",breathMarkUpbow:\"v8a\",caesura:\"v34\",caesuraCurved:\"v4b\",restMaxima:\"v59\",restDoubleWhole:\"v31\",restWhole:\"v5c\",restHalf:\"vc\",restQuarter:\"v7c\",rest8th:\"va5\",rest16th:\"v3c\",rest32nd:\"v55\",rest64th:\"v38\",rest128th:\"vaa\",dynamicPiano:\"vbf\",dynamicMezzo:\"v62\",dynamicForte:\"vba\",dynamicRinforzando:\"vba\",dynamicSforzando:\"v4a\",dynamicZ:\"v80\",ornamentTrill:\"v1f\",ornamentTurn:\"v72\",ornamentTurnSlash:\"v33\",ornamentMordent:\"v45\",ornamentMordentInverted:\"v1e\",ornamentTremblement:\"v86\",ornamentPrecompAppoggTrill:\"v20\",ornamentPrecompSlideTrillDAnglebert:\"v60\",ornamentPrecompSlideTrillBach:\"v29\",ornamentPrecompTrillSuffixDandrieu:\"v6d\",ornamentPrecompDoubleCadenceUpperPrefix:\"vb4\",ornamentPrecompDoubleCadenceUpperPrefixTurn:\"v68\",ornamentPrecompTrillLowerSuffix:\"v2c\",stringsDownBow:\"v94\",stringsUpBow:\"v75\",stringsHarmonic:\"vb9\",pluckedSnapPizzicatoAbove:\"v94\",pluckedLeftHandPizzicato:\"v8b\",keyboardPedalPed:\"v36\",keyboardPedalUp:\"v5d\",pictChokeCymbal:\"vb3\",wiggleArpeggiatoUp:\"va3\",arrowheadBlackUp:\"vc3\",arrowheadBlackDown:\"v52\"},m.TIME4_4={num_beats:4,beat_value:4,resolution:m.RESOLUTION};class p{static get WIDTH(){return 600}static get HEIGHT(){return 400}static get CANVAS_BROWSER_SIZE_LIMIT(){return 32767}static SanitizeCanvasDims(t,e){return Math.max(t,e)>this.CANVAS_BROWSER_SIZE_LIMIT&&(s.W(\"Canvas dimensions exceed browser limit. Cropping to \"+this.CANVAS_BROWSER_SIZE_LIMIT),t>this.CANVAS_BROWSER_SIZE_LIMIT&&(t=this.CANVAS_BROWSER_SIZE_LIMIT),e>this.CANVAS_BROWSER_SIZE_LIMIT&&(e=this.CANVAS_BROWSER_SIZE_LIMIT)),[t,e]}constructor(t){this.vexFlowCanvasContext=t,t.canvas?this.canvas=t.canvas:this.canvas={width:p.WIDTH,height:p.HEIGHT}}clear(){this.vexFlowCanvasContext.clearRect(0,0,this.canvas.width,this.canvas.height)}openGroup(){}closeGroup(){}add(){}setFont(t,e,i){return this.vexFlowCanvasContext.font=(i||\"\")+\" \"+e+\"pt \"+t,this}setRawFont(t){return this.vexFlowCanvasContext.font=t,this}setFillStyle(t){return this.vexFlowCanvasContext.fillStyle=t,this}setBackgroundFillStyle(t){return this.background_fillStyle=t,this}setStrokeStyle(t){return this.vexFlowCanvasContext.strokeStyle=t,this}setShadowColor(t){return this.vexFlowCanvasContext.shadowColor=t,this}setShadowBlur(t){return this.vexFlowCanvasContext.shadowBlur=t,this}setLineWidth(t){return this.vexFlowCanvasContext.lineWidth=t,this}setLineCap(t){return this.vexFlowCanvasContext.lineCap=t,this}setLineDash(t){return this.vexFlowCanvasContext.lineDash=t,this}scale(t,e){return this.vexFlowCanvasContext.scale(parseFloat(t),parseFloat(e))}resize(t,e){return[t,e]=this.SanitizeCanvasDims(parseInt(t,10),parseInt(e,10)),this.vexFlowCanvasContext.resize(t,e)}rect(t,e,i,s){return this.vexFlowCanvasContext.rect(t,e,i,s)}fillRect(t,e,i,s){return this.vexFlowCanvasContext.fillRect(t,e,i,s)}clearRect(t,e,i,s){return this.vexFlowCanvasContext.clearRect(t,e,i,s)}beginPath(){return this.vexFlowCanvasContext.beginPath()}moveTo(t,e){return this.vexFlowCanvasContext.moveTo(t,e)}lineTo(t,e){return this.vexFlowCanvasContext.lineTo(t,e)}bezierCurveTo(t,e,i,s,n,r){return this.vexFlowCanvasContext.bezierCurveTo(t,e,i,s,n,r)}quadraticCurveTo(t,e,i,s){return this.vexFlowCanvasContext.quadraticCurveTo(t,e,i,s)}arc(t,e,i,s,n,r){return this.vexFlowCanvasContext.arc(t,e,i,s,n,r)}glow(){return this.vexFlowCanvasContext.glow()}fill(){return this.vexFlowCanvasContext.fill()}stroke(){return this.vexFlowCanvasContext.stroke()}closePath(){return this.vexFlowCanvasContext.closePath()}measureText(t){return this.vexFlowCanvasContext.measureText(t)}fillText(t,e,i){return this.vexFlowCanvasContext.fillText(t,e,i)}save(){return this.vexFlowCanvasContext.save()}restore(){return this.vexFlowCanvasContext.restore()}}class g{constructor(t){this.element=t,this.paper=Raphael(t),this.path=\"\",this.pen={x:0,y:0},this.lineWidth=1,this.state={scale:{x:1,y:1},font_family:\"Arial\",font_size:8,font_weight:800},this.attributes={\"stroke-width\":.3,fill:\"black\",stroke:\"black\",font:\"10pt Arial\"},this.background_attributes={\"stroke-width\":0,fill:\"white\",stroke:\"white\",font:\"10pt Arial\"},this.shadow_attributes={width:0,color:\"black\"},this.state_stack=[]}openGroup(){}closeGroup(){}add(){}setFont(t,e,i){return this.state.font_family=t,this.state.font_size=e,this.state.font_weight=i,this.attributes.font=(this.state.font_weight||\"\")+\" \"+this.state.font_size*this.state.scale.x+\"pt \"+this.state.font_family,this}setRawFont(t){return this.attributes.font=t,this}setFillStyle(t){return this.attributes.fill=t,this}setBackgroundFillStyle(t){return this.background_attributes.fill=t,this.background_attributes.stroke=t,this}setStrokeStyle(t){return this.attributes.stroke=t,this}setShadowColor(t){return this.shadow_attributes.color=t,this}setShadowBlur(t){return this.shadow_attributes.width=t,this}setLineWidth(t){this.attributes[\"stroke-width\"]=t,this.lineWidth=t}setLineDash(){return this}setLineCap(){return this}scale(t,e){return this.state.scale={x:t,y:e},this.attributes.transform=\"S\"+t+\",\"+e+\",0,0\",this.attributes.scale=t+\",\"+e+\",0,0\",this.attributes.font=this.state.font_size*this.state.scale.x+\"pt \"+this.state.font_family,this.background_attributes.transform=\"S\"+t+\",\"+e+\",0,0\",this.background_attributes.font=this.state.font_size*this.state.scale.x+\"pt \"+this.state.font_family,this}clear(){this.paper.clear()}resize(t,e){return this.element.style.width=t,this.paper.setSize(t,e),this}setViewBox(t){this.paper.canvas.setAttribute(\"viewBox\",t)}rect(t,e,i,s){return s<0&&(e+=s,s=-s),this.paper.rect(t,e,i-.5,s-.5).attr(this.attributes).attr(\"fill\",\"none\").attr(\"stroke-width\",this.lineWidth),this}fillRect(t,e,i,s){return s<0&&(e+=s,s=-s),this.paper.rect(t,e,i-.5,s-.5).attr(this.attributes),this}clearRect(t,e,i,s){return s<0&&(e+=s,s=-s),this.paper.rect(t,e,i-.5,s-.5).attr(this.background_attributes),this}beginPath(){return this.path=\"\",this.pen.x=0,this.pen.y=0,this}moveTo(t,e){return this.path+=\"M\"+t+\",\"+e,this.pen.x=t,this.pen.y=e,this}lineTo(t,e){return this.path+=\"L\"+t+\",\"+e,this.pen.x=t,this.pen.y=e,this}bezierCurveTo(t,e,i,s,n,r){return this.path+=\"C\"+t+\",\"+e+\",\"+i+\",\"+s+\",\"+n+\",\"+r,this.pen.x=n,this.pen.y=r,this}quadraticCurveTo(t,e,i,s){return this.path+=\"Q\"+t+\",\"+e+\",\"+i+\",\"+s,this.pen.x=i,this.pen.y=s,this}arc(t,e,i,s,n,r){function o(t){for(;t<0;)t+=2*Math.PI;for(;t>2*Math.PI;)t-=2*Math.PI;return t}if((s=o(s))>(n=o(n))){const t=s;s=n,n=t,r=!r}const a=n-s;return a>Math.PI?(this.arcHelper(t,e,i,s,s+a/2,r),this.arcHelper(t,e,i,s+a/2,n,r)):this.arcHelper(t,e,i,s,n,r),this}arcHelper(t,e,i,s,n,r){const o=t+i*Math.cos(s),a=e+i*Math.sin(s),h=t+i*Math.cos(n),l=e+i*Math.sin(n);let c=0,u=0;r?(u=1,n-s<Math.PI&&(c=1)):n-s>Math.PI&&(c=1),this.path+=\"M\"+o+\",\"+a+\",A\"+i+\",\"+i+\",0,\"+c+\",\"+u+\",\"+h+\",\"+l+\"M\"+this.pen.x+\",\"+this.pen.y}glow(){const t=this.paper.set();if(this.shadow_attributes.width>0){const e=this.shadow_attributes,i=e.width/2;for(let s=1;s<=i;s++)t.push(this.paper.path(this.path).attr({stroke:e.color,\"stroke-linejoin\":\"round\",\"stroke-linecap\":\"round\",\"stroke-width\":+(e.width/i*s).toFixed(3),opacity:+((e.opacity||.3)/i).toFixed(3),transform:this.attributes.transform,scale:this.attributes.scale}))}return t}fill(){const t=this.paper.path(this.path).attr(this.attributes).attr(\"stroke-width\",0);return this.glow(t),this}stroke(){const t=this.lineWidth*(this.state.scale.x+this.state.scale.y)/2,e=this.paper.path(this.path).attr(this.attributes).attr(\"fill\",\"none\").attr(\"stroke-width\",t);return this.glow(e),this}closePath(){return this.path+=\"Z\",this}measureText(t){const e=this.paper.text(0,0,t).attr(this.attributes).attr(\"fill\",\"none\").attr(\"stroke\",\"none\"),i=e.getBBox();return e.remove(),{width:i.width,height:i.height}}fillText(t,e,i){return this.paper.text(e+this.measureText(t).width/2,i-this.state.font_size/(2.25*this.state.scale.y),t).attr(this.attributes),this}save(){return this.state_stack.push({state:{font_family:this.state.font_family},attributes:{font:this.attributes.font,fill:this.attributes.fill,stroke:this.attributes.stroke,\"stroke-width\":this.attributes[\"stroke-width\"]},shadow_attributes:{width:this.shadow_attributes.width,color:this.shadow_attributes.color}}),this}restore(){const t=this.state_stack.pop();return this.state.font_family=t.state.font_family,this.attributes.font=t.attributes.font,this.attributes.fill=t.attributes.fill,this.attributes.stroke=t.attributes.stroke,this.attributes[\"stroke-width\"]=t.attributes[\"stroke-width\"],this.shadow_attributes.width=t.shadow_attributes.width,this.shadow_attributes.color=t.shadow_attributes.color,this}}const b={path:{x:!0,y:!0,width:!0,height:!0},rect:{},text:{width:!0,height:!0}};{const t={\"font-family\":!0,\"font-weight\":!0,\"font-style\":!0,\"font-size\":!0};s.Merge(b.rect,t),s.Merge(b.path,t)}class S{constructor(t){this.element=t,this.svgNS=\"http://www.w3.org/2000/svg\";const e=this.create(\"svg\");this.element.appendChild(e),this.svg=e,this.groups=[this.svg],this.parent=this.svg,this.path=\"\",this.pen={x:NaN,y:NaN},this.lineWidth=1,this.state={scale:{x:1,y:1},\"font-family\":\"Arial\",\"font-size\":\"8pt\",\"font-weight\":\"normal\"},this.attributes={\"stroke-width\":.3,fill:\"black\",stroke:\"black\",\"stroke-dasharray\":\"none\",\"font-family\":\"Arial\",\"font-size\":\"10pt\",\"font-weight\":\"normal\",\"font-style\":\"normal\"},this.background_attributes={\"stroke-width\":0,fill:\"white\",stroke:\"white\",\"stroke-dasharray\":\"none\",\"font-family\":\"Arial\",\"font-size\":\"10pt\",\"font-weight\":\"normal\",\"font-style\":\"normal\"},this.shadow_attributes={width:0,color:\"black\"},this.state_stack=[],this.iePolyfill()}create(t){return document.createElementNS(this.svgNS,t)}openGroup(t,e,i){const n=this.create(\"g\");return this.groups.push(n),this.parent.appendChild(n),this.parent=n,t&&n.setAttribute(\"class\",s.Prefix(t)),e&&n.setAttribute(\"id\",s.Prefix(e)),i&&i.pointerBBox&&n.setAttribute(\"pointer-events\",\"bounding-box\"),n}closeGroup(){this.groups.pop(),this.parent=this.groups[this.groups.length-1]}add(t){this.parent.appendChild(t)}iePolyfill(){\"undefined\"!=typeof navigator&&(this.ie=/MSIE 9/i.test(navigator.userAgent)||/MSIE 10/i.test(navigator.userAgent)||/rv:11\\.0/i.test(navigator.userAgent)||/Trident/i.test(navigator.userAgent))}setFont(t,e,i){let n=!1,r=!1,o=\"normal\";\"string\"==typeof i&&(-1!==i.indexOf(\"italic\")&&(i=i.replace(/italic/g,\"\"),r=!0),-1!==i.indexOf(\"bold\")&&(i=i.replace(/bold/g,\"\"),n=!0),i=i.replace(/ /g,\"\")),o=r?\"italic\":o;const a={\"font-family\":t,\"font-size\":e+\"pt\",\"font-weight\":i=void 0===(i=n?\"bold\":i)||\"\"===i?\"normal\":i,\"font-style\":o};return this.fontSize=Number(e),s.Merge(this.attributes,a),s.Merge(this.state,a),this}setRawFont(t){const e=(t=t.trim()).split(\" \");return this.attributes[\"font-family\"]=e[1],this.state[\"font-family\"]=e[1],this.attributes[\"font-size\"]=e[0],this.state[\"font-size\"]=e[0],this.fontSize=Number(e[0].match(/\\d+/)),this}setFillStyle(t){return this.attributes.fill=t,this}setBackgroundFillStyle(t){return this.background_attributes.fill=t,this.background_attributes.stroke=t,this}setStrokeStyle(t){return this.attributes.stroke=t,this}setShadowColor(t){return this.shadow_attributes.color=t,this}setShadowBlur(t){return this.shadow_attributes.width=t,this}setLineWidth(t){this.attributes[\"stroke-width\"]=t,this.lineWidth=t}setLineDash(t){if(\"[object Array]\"===Object.prototype.toString.call(t))return t=t.join(\", \"),this.attributes[\"stroke-dasharray\"]=t,this;throw new s.RERR(\"ArgumentError\",\"lineDash must be an array of integers.\")}setLineCap(t){return this.attributes[\"stroke-linecap\"]=t,this}resize(t,e){this.width=t,this.height=e,this.element.style.width=t;const i={width:t,height:e};return this.applyAttributes(this.svg,i),this.scale(this.state.scale.x,this.state.scale.y),this}scale(t,e){this.state.scale={x:t,y:e};const i=this.width/t,s=this.height/e;return this.setViewBox(0,0,i,s),this}setViewBox(...t){if(1===t.length){const[e]=t;this.svg.setAttribute(\"viewBox\",e)}else{const[e,i,s,n]=t,r=e+\" \"+i+\" \"+s+\" \"+n;this.svg.setAttribute(\"viewBox\",r)}}applyAttributes(t,e){const i=b[t.nodeName];return Object.keys(e).forEach(s=>{i&&i[s]||t.setAttributeNS(null,s,e[s])}),t}clear(){for(;this.svg.lastChild;)this.svg.removeChild(this.svg.lastChild);this.scale(this.state.scale.x,this.state.scale.y)}rect(t,e,i,n,r){n<0&&(e+=n,n*=-1);const o=this.create(\"rect\");return void 0===r&&(r={fill:\"none\",\"stroke-width\":this.lineWidth,stroke:\"black\"}),s.Merge(r,{x:t,y:e,width:i,height:n}),this.applyAttributes(o,r),this.add(o),this}fillRect(t,e,i,s){return s<0&&(e+=s,s*=-1),this.rect(t,e,i,s,this.attributes),this}clearRect(t,e,i,s){return this.rect(t,e,i,s,this.background_attributes),this}beginPath(){return this.path=\"\",this.pen.x=NaN,this.pen.y=NaN,this}moveTo(t,e){return this.path+=\"M\"+t+\" \"+e,this.pen.x=t,this.pen.y=e,this}lineTo(t,e){return this.path+=\"L\"+t+\" \"+e,this.pen.x=t,this.pen.y=e,this}bezierCurveTo(t,e,i,s,n,r){return this.path+=\"C\"+t+\" \"+e+\",\"+i+\" \"+s+\",\"+n+\" \"+r,this.pen.x=n,this.pen.y=r,this}quadraticCurveTo(t,e,i,s){return this.path+=\"Q\"+t+\" \"+e+\",\"+i+\" \"+s,this.pen.x=i,this.pen.y=s,this}arc(t,e,i,s,n,r){function o(t){for(;t<0;)t+=2*Math.PI;for(;t>2*Math.PI;)t-=2*Math.PI;return t}if((s=o(s))>(n=o(n))){const t=s;s=n,n=t,r=!r}const a=n-s;return a>Math.PI?(this.arcHelper(t,e,i,s,s+a/2,r),this.arcHelper(t,e,i,s+a/2,n,r)):this.arcHelper(t,e,i,s,n,r),this}arcHelper(t,e,i,s,n,r){const o=t+i*Math.cos(s),a=e+i*Math.sin(s),h=t+i*Math.cos(n),l=e+i*Math.sin(n);let c=0,u=0;r?(u=1,n-s<Math.PI&&(c=1)):n-s>Math.PI&&(c=1),this.path+=\"M\"+o+\" \"+a+\" A\"+i+\" \"+i+\" 0 \"+c+\" \"+u+\" \"+h+\" \"+l,isNaN(this.pen.x)||isNaN(this.pen.y)||(this.peth+=\"M\"+this.pen.x+\" \"+this.pen.y)}closePath(){return this.path+=\"Z\",this}glow(){if(this.shadow_attributes.width>0){const t=this.shadow_attributes,e=t.width/2;for(let i=1;i<=e;i++){const s={stroke:t.color,\"stroke-linejoin\":\"round\",\"stroke-linecap\":\"round\",\"stroke-width\":+(.4*t.width/e*i).toFixed(3),opacity:+((t.opacity||.3)/e).toFixed(3)},n=this.create(\"path\");s.d=this.path,this.applyAttributes(n,s),this.add(n)}}return this}fill(t){this.glow();const e=this.create(\"path\");return void 0===t&&(s.Merge(t={},this.attributes),t.stroke=\"none\"),t.d=this.path,this.applyAttributes(e,t),this.add(e),this}stroke(){this.glow();const t=this.create(\"path\"),e={};return s.Merge(e,this.attributes),e.fill=\"none\",e[\"stroke-width\"]=this.lineWidth,e.d=this.path,this.applyAttributes(t,e),this.add(t),this}measureText(t){const e=this.create(\"text\");if(\"function\"!=typeof e.getBBox)return{x:0,y:0,width:0,height:0};e.textContent=t,this.applyAttributes(e,this.attributes),this.svg.appendChild(e);let i=e.getBBox();return this.ie&&\"\"!==t&&\"italic\"===this.attributes[\"font-style\"]&&(i=this.ieMeasureTextFix(i,t)),this.svg.removeChild(e),i}ieMeasureTextFix(t){const e=1.196*Number(this.fontSize)+1.9598,i=t.width-e,s=t.height-1.5;return{x:t.x,y:t.y,width:i,height:s}}fillText(t,e,i){if(!t||t.length<=0)return;const n={};s.Merge(n,this.attributes),n.stroke=\"none\",n.x=e,n.y=i;const r=this.create(\"text\");r.textContent=t,this.applyAttributes(r,n),this.add(r)}save(){return this.state_stack.push({state:{\"font-family\":this.state[\"font-family\"],\"font-weight\":this.state[\"font-weight\"],\"font-style\":this.state[\"font-style\"],\"font-size\":this.state[\"font-size\"],scale:this.state.scale},attributes:{\"font-family\":this.attributes[\"font-family\"],\"font-weight\":this.attributes[\"font-weight\"],\"font-style\":this.attributes[\"font-style\"],\"font-size\":this.attributes[\"font-size\"],fill:this.attributes.fill,stroke:this.attributes.stroke,\"stroke-width\":this.attributes[\"stroke-width\"],\"stroke-dasharray\":this.attributes[\"stroke-dasharray\"]},shadow_attributes:{width:this.shadow_attributes.width,color:this.shadow_attributes.color},lineWidth:this.lineWidth}),this}restore(){const t=this.state_stack.pop();return this.state[\"font-family\"]=t.state[\"font-family\"],this.state[\"font-weight\"]=t.state[\"font-weight\"],this.state[\"font-style\"]=t.state[\"font-style\"],this.state[\"font-size\"]=t.state[\"font-size\"],this.state.scale=t.state.scale,this.attributes[\"font-family\"]=t.attributes[\"font-family\"],this.attributes[\"font-weight\"]=t.attributes[\"font-weight\"],this.attributes[\"font-style\"]=t.attributes[\"font-style\"],this.attributes[\"font-size\"]=t.attributes[\"font-size\"],this.attributes.fill=t.attributes.fill,this.attributes.stroke=t.attributes.stroke,this.attributes[\"stroke-width\"]=t.attributes[\"stroke-width\"],this.attributes[\"stroke-dasharray\"]=t.attributes[\"stroke-dasharray\"],this.shadow_attributes.width=t.shadow_attributes.width,this.shadow_attributes.color=t.shadow_attributes.color,this.lineWidth=t.lineWidth,this}}let y=null;class x{static get Backends(){return{CANVAS:1,RAPHAEL:2,SVG:3,VML:4}}static get LineEndType(){return{NONE:1,UP:2,DOWN:3}}static get USE_CANVAS_PROXY(){return!1}static get lastContext(){return y}static set lastContext(t){y=t}static buildContext(t,e,i,s,n){const r=new x(t,e);i&&s&&r.resize(i,s),n||(n=\"#FFF\");const o=r.getContext();return o.setBackgroundFillStyle(n),x.lastContext=o,o}static getCanvasContext(t,e,i,s){return x.buildContext(t,x.Backends.CANVAS,e,i,s)}static getRaphaelContext(t,e,i,s){return x.buildContext(t,x.Backends.RAPHAEL,e,i,s)}static getSVGContext(t,e,i,s){return x.buildContext(t,x.Backends.SVG,e,i,s)}static bolsterCanvasContext(t){if(x.USE_CANVAS_PROXY)return new p(t);return t.vexFlowCanvasContext=t,[\"clear\",\"setFont\",\"setRawFont\",\"setFillStyle\",\"setBackgroundFillStyle\",\"setStrokeStyle\",\"setShadowColor\",\"setShadowBlur\",\"setLineWidth\",\"setLineCap\",\"setLineDash\",\"openGroup\",\"closeGroup\",\"getGroup\"].forEach(e=>{t[e]=t[e]||p.prototype[e]}),t}static drawDashedLine(t,e,i,s,n,r){t.beginPath();const o=s-e,a=n-i,h=Math.atan2(a,o);let l=e,c=i;t.moveTo(e,i);let u=0,d=!0;for(;!(o<0?l<=s:l>=s)||!(a<0?c<=n:c>=n);){const e=r[u++%r.length],i=l+Math.cos(h)*e;l=o<0?Math.max(s,i):Math.min(s,i);const f=c+Math.sin(h)*e;c=a<0?Math.max(n,f):Math.min(n,f),d?t.lineTo(l,c):t.moveTo(l,c),d=!d}t.closePath(),t.stroke()}constructor(t,e){if(this.elementId=t,!this.elementId)throw new s.RERR(\"BadArgument\",\"Invalid id for renderer.\");if(this.element=document.getElementById(t),this.element||(this.element=t),this.ctx=null,this.paper=null,this.backend=e,this.backend===x.Backends.CANVAS){if(!this.element.getContext)throw new s.RERR(\"BadElement\",`Can't get canvas context from element: ${t}`);this.ctx=x.bolsterCanvasContext(this.element.getContext(\"2d\"))}else if(this.backend===x.Backends.RAPHAEL)this.ctx=new g(this.element);else{if(this.backend!==x.Backends.SVG)throw new s.RERR(\"InvalidBackend\",`No support for backend: ${this.backend}`);this.ctx=new S(this.element)}}resize(t,e){if(this.backend===x.Backends.CANVAS){if(!this.element.getContext)throw new s.RERR(\"BadElement\",`Can't get canvas context from element: ${this.elementId}`);[t,e]=p.SanitizeCanvasDims(t,e);const i=window.devicePixelRatio||1;this.element.width=t*i,this.element.height=e*i,this.element.style.width=t+\"px\",this.element.style.height=e+\"px\",this.ctx=x.bolsterCanvasContext(this.element.getContext(\"2d\")),this.ctx.scale(i,i)}else this.ctx.resize(t,e);return this}getContext(){return this.ctx}}class E extends h{static get CATEGORY(){return\"stem\"}static get UP(){return 1}static get DOWN(){return-1}static get WIDTH(){return m.STEM_WIDTH}static get HEIGHT(){return m.STEM_HEIGHT}constructor(t={}){super(),this.setAttribute(\"type\",\"Stem\"),this.x_begin=t.x_begin||0,this.x_end=t.x_end||0,this.y_top=t.y_top||0,this.y_bottom=t.y_bottom||0,this.stem_extension=t.stem_extension||0,this.stem_direction=t.stem_direction||0,this.hide=t.hide||!1,this.isStemlet=t.isStemlet||!1,this.stemletHeight=t.stemletHeight||0,this.renderHeightAdjustment=0,this.setOptions(t)}setOptions(t){this.stem_up_y_offset=t.stem_up_y_offset||0,this.stem_down_y_offset=t.stem_down_y_offset||0}setNoteHeadXBounds(t,e){return this.x_begin=t,this.x_end=e,this}setDirection(t){this.stem_direction=t}setExtension(t){this.stem_extension=t}getExtension(){return this.stem_extension}setYBounds(t,e){this.y_top=t,this.y_bottom=e}getCategory(){return E.CATEGORY}getHeight(){const t=this.stem_direction===E.UP?this.stem_up_y_offset:this.stem_down_y_offset;return(this.y_bottom-this.y_top)*this.stem_direction+(E.HEIGHT-t+this.stem_extension)*this.stem_direction}getBoundingBox(){throw new s.RERR(\"NotImplemented\",\"getBoundingBox() not implemented.\")}getExtents(){const t=this.stem_direction===E.UP,e=[this.y_top,this.y_bottom],i=E.HEIGHT+this.stem_extension,s=(t?Math.min:Math.max)(...e),n=(t?Math.max:Math.min)(...e);return{topY:s+i*-this.stem_direction,baseY:n}}setVisibility(t){return this.hide=!t,this}setStemlet(t,e){return this.isStemlet=t,this.stemletHeight=e,this}draw(){if(this.setRendered(),this.hide)return;const t=this.checkContext();let e,i;const n=this.stem_direction;n===E.DOWN?(e=this.x_begin,i=this.y_top+this.stem_down_y_offset):(e=this.x_end,i=this.y_bottom-this.stem_up_y_offset);const r=this.getHeight();!function(...t){E.DEBUG&&s.L(\"Vex.Flow.Stem\",t)}(\"Rendering stem - \",\"Top Y: \",this.y_top,\"Bottom Y: \",this.y_bottom);const o=this.isStemlet?r-this.stemletHeight*this.stem_direction:0;t.save(),this.applyStyle(t),t.beginPath(),t.setLineWidth(E.WIDTH),t.moveTo(e,i-o),t.lineTo(e,i-r-this.renderHeightAdjustment*n),t.stroke(),this.restoreStyle(t),t.restore()}}class v extends h{static get LOCATION_TOP(){return 1}static get LOCATION_BOTTOM(){return-1}static get NESTING_OFFSET(){return 15}constructor(t,e){if(super(),this.setAttribute(\"type\",\"Tuplet\"),!t||!t.length)throw new s.RuntimeError(\"BadArguments\",\"No notes provided for tuplet.\");this.options=s.Merge({},e),this.notes=t,this.num_notes=\"num_notes\"in this.options?this.options.num_notes:t.length,this.options.beats_occupied&&this.beatsOccupiedDeprecationWarning(),this.notes_occupied=this.options.notes_occupied||this.options.beats_occupied||2,\"bracketed\"in this.options?this.bracketed=this.options.bracketed:this.bracketed=t.some(t=>null===t.beam),this.ratioed=\"ratioed\"in this.options?this.options.ratioed:Math.abs(this.notes_occupied-this.num_notes)>1,this.point=28,this.y_pos=16,this.x_pos=100,this.width=200,this.location=this.options.location||v.LOCATION_TOP,ut.AlignRestsToNotes(t,!0,!0),this.resolveGlyphs(),this.attach()}attach(){for(let t=0;t<this.notes.length;t++){this.notes[t].setTuplet(this)}}detach(){for(let t=0;t<this.notes.length;t++){this.notes[t].resetTuplet(this)}}setBracketed(t){return this.bracketed=!!t,this}setRatioed(t){return this.ratioed=!!t,this}setTupletLocation(t){if(t){if(t!==v.LOCATION_TOP&&t!==v.LOCATION_BOTTOM)throw new s.RERR(\"BadArgument\",\"Invalid tuplet location: \"+t)}else t=v.LOCATION_TOP;return this.location=t,this}getNotes(){return this.notes}getNoteCount(){return this.num_notes}beatsOccupiedDeprecationWarning(){const t=[\"beats_occupied has been deprecated as an \",\"option for tuplets. Please use notes_occupied \",\"instead. Calls to getBeatsOccupied and \",\"setBeatsOccupied should now be routed to \",\"getNotesOccupied and setNotesOccupied instead\"].join(\"\");console&&console.warn?console.warn(t):console&&console.log(t)}getBeatsOccupied(){return this.beatsOccupiedDeprecationWarning(),this.getNotesOccupied()}setBeatsOccupied(t){return this.beatsOccupiedDeprecationWarning(),this.setNotesOccupied(t)}getNotesOccupied(){return this.notes_occupied}setNotesOccupied(t){this.detach(),this.notes_occupied=t,this.resolveGlyphs(),this.attach()}resolveGlyphs(){this.numerator_glyphs=[];let t=this.num_notes;for(;t>=1;)this.numerator_glyphs.unshift(new f(\"v\"+t%10,this.point)),t=parseInt(t/10,10);for(this.denom_glyphs=[],t=this.notes_occupied;t>=1;)this.denom_glyphs.unshift(new f(\"v\"+t%10,this.point)),t=parseInt(t/10,10)}getNestedTupletCount(){const t=this.location,e=this.notes[0];let i=n(e,t),s=n(e,t);function n(t,e){return t.tupletStack.filter(t=>t.location===e).length}return this.notes.forEach(e=>{const r=n(e,t);i=r>i?r:i,s=r<s?r:s}),i-s}getYPosition(){const t=this.getNestedTupletCount()*v.NESTING_OFFSET*-this.location,e=this.options.y_offset||0,i=this.notes[0];let s;if(this.location===v.LOCATION_TOP){s=i.getStave().getYForLine(0)-15;for(let t=0;t<this.notes.length;++t){const e=this.notes[t].getStemDirection()===E.UP?this.notes[t].getStemExtents().topY-10:this.notes[t].getStemExtents().baseY-20;e<s&&(s=e)}}else{s=i.getStave().getYForLine(4)+20;for(let t=0;t<this.notes.length;++t){const e=this.notes[t].getStemDirection()===E.UP?this.notes[t].getStemExtents().baseY+20:this.notes[t].getStemExtents().topY+10;e>s&&(s=e)}}return s+t+e}draw(){this.checkContext(),this.setRendered();const t=this.notes[0],e=this.notes[this.notes.length-1];this.bracketed?(this.x_pos=t.getTieLeftX()-5,this.width=e.getTieRightX()-this.x_pos+5):(this.x_pos=t.getStemX(),this.width=e.getStemX()-this.x_pos),this.y_pos=this.getYPosition();const i=(t,e)=>t+e.getMetrics().width;let s=this.numerator_glyphs.reduce(i,0);this.ratioed&&(s=this.denom_glyphs.reduce(i,s),s+=.32*this.point);const n=this.x_pos+this.width/2-s/2;if(this.bracketed){const t=this.width/2-s/2-5;t>0&&(this.context.fillRect(this.x_pos,this.y_pos,t,1),this.context.fillRect(this.x_pos+this.width/2+s/2+5,this.y_pos,t,1),this.context.fillRect(this.x_pos,this.y_pos+(this.location===v.LOCATION_BOTTOM),1,10*this.location),this.context.fillRect(this.x_pos+this.width,this.y_pos+(this.location===v.LOCATION_BOTTOM),1,10*this.location))}let r=0;if(this.numerator_glyphs.forEach(t=>{t.render(this.context,n+r,this.y_pos+this.point/3-2),r+=t.getMetrics().width}),this.ratioed){const t=n+r+.16*this.point,e=.06*this.point;this.context.beginPath(),this.context.arc(t,this.y_pos-.08*this.point,e,0,2*Math.PI,!0),this.context.closePath(),this.context.fill(),this.context.beginPath(),this.context.arc(t,this.y_pos+.12*this.point,e,0,2*Math.PI,!0),this.context.closePath(),this.context.fill(),r+=.32*this.point,this.denom_glyphs.forEach(t=>{t.render(this.context,n+r,this.y_pos+this.point/3-2),r+=t.getMetrics().width})}}}function _(t){let e=0;return t.forEach(t=>{t.keyProps&&t.keyProps.forEach(t=>{e+=t.line-3})}),e>=0?E.DOWN:E.UP}const w=\"L\",M=\"B\";class T extends h{static getDefaultBeamGroups(t){t&&\"c\"!==t||(t=\"4/4\");const e={\"1/2\":[\"1/2\"],\"2/2\":[\"1/2\"],\"3/2\":[\"1/2\"],\"4/2\":[\"1/2\"],\"1/4\":[\"1/4\"],\"2/4\":[\"1/4\"],\"3/4\":[\"1/4\"],\"4/4\":[\"1/4\"],\"1/8\":[\"1/8\"],\"2/8\":[\"2/8\"],\"3/8\":[\"3/8\"],\"4/8\":[\"2/8\"],\"1/16\":[\"1/16\"],\"2/16\":[\"2/16\"],\"3/16\":[\"3/16\"],\"4/16\":[\"2/16\"]}[t];if(void 0!==e)return e.map(t=>(new n).parse(t));{const e=parseInt(t.split(\"/\")[0],10),i=parseInt(t.split(\"/\")[1],10);if(e%3==0)return[new n(3,i)];if(i>4)return[new n(2,i)];if(i<=4)return[new n(1,i)]}return[new n(1,4)]}static applyAndGetBeams(t,e,i){return T.generateBeams(t.getTickables(),{groups:i,stem_direction:e})}static generateBeams(t,e){e||(e={}),e.groups&&e.groups.length||(e.groups=[new n(2,8)]);const i=e.groups.map(t=>{if(!t.multiply)throw new s.RuntimeError(\"InvalidBeamGroups\",\"The beam groups must be an array of Vex.Flow.Fractions\");return t.clone().multiply(m.RESOLUTION,1)}),r=t;let o=0,a=[],h=[];function l(){i.length-1>o?o+=1:o=0}!function(){let t=[];r.forEach(e=>{if(t=[],e.shouldIgnoreTicks())return a.push(h),void(h=t);h.push(e);const s=i[o].clone(),r=h.reduce((t,e)=>e.getTicks().clone().add(t),new n(0,1));const c=m.durationToNumber(e.duration)<8;c&&e.tuplet&&(s.numerator*=2),r.greaterThan(s)?(c||t.push(h.pop()),a.push(h),h=t,l()):r.equals(s)&&(a.push(h),h=t,l())}),h.length>0&&a.push(h)}(),function(){const t=[];a.forEach(i=>{let s=[];i.forEach((i,n,r)=>{const o=0===n||n===r.length-1,a=r[n-1],h=!e.beam_rests&&i.isRest(),l=e.beam_rests&&e.beam_middle_only&&i.isRest()&&o;let c=!1;if(e.maintain_stem_directions&&a&&!i.isRest()&&!a.isRest()){const t=a.getStemDirection();c=i.getStemDirection()!==t}const u=parseInt(i.duration,10)<8;h||l||c||u?(s.length>0&&t.push(s),s=c?[i]:[]):s.push(i)}),s.length>0&&t.push(s)}),a=t}(),a.forEach(t=>{let i;if(e.maintain_stem_directions){const e=function(t){for(let e=0;e<t.length;e++){const i=t[e];if(!i.isRest())return i}return!1}(t);i=e?e.getStemDirection():E.UP}else i=e.stem_direction?e.stem_direction:_(t);!function(t,e){t.forEach(t=>{t.setStemDirection(e)})}(t,i)});const c=a.filter(t=>{if(t.length>1){let e=!0;return t.forEach(t=>{t.getIntrinsicTicks()>=m.durationToTicks(\"4\")&&(e=!1)}),e}return!1}),u=function(){const t=[];return a.forEach(e=>{let i=null;e.forEach(e=>{e.tuplet&&i!==e.tuplet&&(i=e.tuplet,t.push(i))})}),t}(),d=[];return c.forEach(t=>{const i=new T(t);e.show_stemlets&&(i.render_options.show_stemlets=!0),e.secondary_breaks&&(i.render_options.secondary_break_ticks=m.durationToTicks(e.secondary_breaks)),!0===e.flat_beams&&(i.render_options.flat_beams=!0,i.render_options.flat_beam_offset=e.flat_beam_offset),d.push(i)}),u.forEach(t=>{const e=t.notes[0].stem_direction===E.DOWN?v.LOCATION_BOTTOM:v.LOCATION_TOP;t.setTupletLocation(e);let i=!1;for(let e=0;e<t.notes.length;e++){if(null===t.notes[e].beam){i=!0;break}}t.setBracketed(i)}),d}constructor(t,e){if(super(),this.setAttribute(\"type\",\"Beam\"),!t||t===[])throw new s.RuntimeError(\"BadArguments\",\"No notes provided for beam.\");if(1===t.length)throw new s.RuntimeError(\"BadArguments\",\"Too few notes for beam.\");if(this.ticks=t[0].getIntrinsicTicks(),this.ticks>=m.durationToTicks(\"4\"))throw new s.RuntimeError(\"BadArguments\",\"Beams can only be applied to notes shorter than a quarter note.\");let i,n;for(this.stem_direction=E.UP,i=0;i<t.length;++i)if(n=t[i],n.hasStem()){this.stem_direction=n.getStemDirection();break}let r=this.stem_direction;if(e&&\"stavenotes\"===t[0].getCategory())r=_(t);else if(e&&\"tabnotes\"===t[0].getCategory()){r=t.reduce((t,e)=>t+e.stem_direction,0)>-1?E.UP:E.DOWN}for(i=0;i<t.length;++i)n=t[i],e&&(n.setStemDirection(r),this.stem_direction=r),n.setBeam(this);this.postFormatted=!1,this.notes=t,this.beam_count=this.getBeamCount(),this.break_on_indices=[],this.render_options={beam_width:5,max_slope:.25,min_slope:-.25,slope_iterations:20,slope_cost:100,show_stemlets:!1,stemlet_extension:7,partial_beam_length:10,flat_beams:!1,min_flat_beam_offset:15}}getNotes(){return this.notes}getBeamCount(){return this.notes.map(t=>t.getGlyph().beam_count).reduce((t,e)=>e>t?e:t)}breakSecondaryAt(t){return this.break_on_indices=t,this}getSlopeY(t,e,i,s){return i+(t-e)*s}calculateSlope(){const{notes:t,stem_direction:e,render_options:{max_slope:i,min_slope:s,slope_iterations:n,slope_cost:r}}=this,o=t[0],a=((t,e)=>{const i=t.getStemExtents().topY,s=t.getStemX();return(e.getStemExtents().topY-i)/(e.getStemX()-s)})(o,t[t.length-1]),h=(i-s)/n;let l=Number.MAX_VALUE,c=0,u=0;for(let n=s;n<=i;n+=h){let i=0,s=0;for(let r=1;r<t.length;++r){const a=t[r],h=this.getSlopeY(a.getStemX(),o.getStemX(),o.getStemExtents().topY,n)+s,l=a.getStemExtents().topY;if(l*e<h*e){const t=Math.abs(l-h);s+=t*-e,i+=t*r}else i+=(l-h)*e}const h=a/2,d=r*Math.abs(h-n)+Math.abs(i);d<l&&(l=d,c=n,u=s)}this.slope=c,this.y_shift=u}calculateFlatSlope(){const{notes:t,stem_direction:e,render_options:{beam_width:i,min_flat_beam_offset:s,flat_beam_offset:n}}=this;let r=0,o=0,a=0,h=0;for(let i=0;i<t.length;i++){const s=t[i],n=s.getStemExtents().topY;r+=n,e===E.DOWN&&h<n?(h=n,o=Math.max(...s.getYs()),a=s.getBeamCount()):e===E.UP&&(0===h||h>n)&&(h=n,o=Math.min(...s.getYs()),a=s.getBeamCount())}let l=r/t.length;const c=s+a*(1.5*i),u=o+c*-e;e===E.DOWN&&l<u?l=o+c:e===E.UP&&l>u&&(l=o-c),n?(e===E.DOWN&&l>n||e===E.UP&&l<n)&&(this.render_options.flat_beam_offset=l):this.render_options.flat_beam_offset=l,this.slope=0,this.y_shift=0}getBeamYToDraw(){let t=this.notes[0].getStemExtents().topY;return this.render_options.flat_beams&&this.render_options.flat_beam_offset&&(t=this.render_options.flat_beam_offset),t}applyStemExtensions(){const{notes:t,slope:e,y_shift:i,stem_direction:s,beam_count:n,render_options:{show_stemlets:r,stemlet_extension:o,beam_width:a}}=this,h=t[0],l=this.getBeamYToDraw(),c=h.getStemX();for(let h=0;h<t.length;++h){const u=t[h],d=u.getStemX(),{topY:f}=u.getStemExtents(),m=this.getSlopeY(d,c,l,e)+i,p=u.getStem().getExtension(),g=s===E.UP?f-m:m-f;if(u.stem.setExtension(p+g),u.stem.renderHeightAdjustment=-E.WIDTH/2,u.isRest()&&r){const t=(n-1)*a*1.5+a;u.stem.setVisibility(!0).setStemlet(!0,t+o)}}}lookupBeamDirection(t,e,i,s){if(\"4\"===t)return w;const n=`${m.durationToNumber(t)/2}`,r=e<m.durationToTicks(n),o=s<m.durationToTicks(n),a=i<m.durationToTicks(n);return r&&o&&a?M:r&&!o&&a?w:!r&&o&&a?\"R\":this.lookupBeamDirection(n,e,i,s)}getBeamLines(t){const e=m.durationToTicks(t),i=[];let s=!1,n=null;const r=this.render_options.partial_beam_length;let o=!1,a=0;for(let h=0;h<this.notes.length;++h){const l=this.notes[h];a+=l.ticks.value();let c=!1;parseInt(t,10)>=8&&(c=-1!==this.break_on_indices.indexOf(h),this.render_options.secondary_break_ticks&&a>=this.render_options.secondary_break_ticks&&(a=0,c=!0));const u=l.getIntrinsicTicks()<e,d=l.getStemX()-E.WIDTH/2,f=this.notes[h-1],m=this.notes[h+1],p=m&&m.getIntrinsicTicks()<e,g=f&&f.getIntrinsicTicks()<e,b=f&&m&&u&&!g&&!p;if(u)if(s)n=i[i.length-1],n.end=d,c&&(s=!1,m&&!p&&null===n.end&&(n.end=n.start-r));else{if(n={start:d,end:null},s=!0,b){const e=f.getIntrinsicTicks(),i=m.getIntrinsicTicks(),s=l.getIntrinsicTicks(),o=this.lookupBeamDirection(t,e,s,i);[w,M].includes(o)?n.end=n.start-r:n.end=n.start+r}else p?c&&(n.end=n.start-r,s=!1):n.end=(o||0===h)&&m?n.start+r:n.start-r;i.push(n)}else s=!1;o=c}const h=i[i.length-1];return h&&null===h.end&&(h.end=h.start-r),i}drawStems(){this.notes.forEach(t=>{t.getStem()&&t.getStem().setContext(this.context).draw()},this)}drawBeamLines(){this.checkContext();const t=[\"4\",\"8\",\"16\",\"32\",\"64\"],e=this.notes[0];let i=this.getBeamYToDraw();const s=e.getStemX(),n=this.render_options.beam_width*this.stem_direction;for(let e=0;e<t.length;++e){const r=t[e],o=this.getBeamLines(r);for(let t=0;t<o.length;++t){const e=o[t],r=e.start,a=this.getSlopeY(r,s,i,this.slope),h=e.end,l=this.getSlopeY(h,s,i,this.slope);this.context.beginPath(),this.context.moveTo(r,a),this.context.lineTo(r,a+n),this.context.lineTo(h+1,l+n),this.context.lineTo(h+1,l),this.context.closePath(),this.context.fill()}i+=1.5*n}}preFormat(){return this}postFormat(){this.postFormatted||(\"tabnotes\"===this.notes[0].getCategory()||this.render_options.flat_beams?this.calculateFlatSlope():this.calculateSlope(),this.applyStemExtensions(),this.postFormatted=!0)}draw(){this.checkContext(),this.setRendered(),this.unbeamable||(this.postFormatted||this.postFormat(),this.drawStems(),this.applyStyle(),this.drawBeamLines(),this.restoreStyle())}}class P extends h{static get Mode(){return{STRICT:1,SOFT:2,FULL:3}}constructor(t){if(super(),this.setAttribute(\"type\",\"Voice\"),\"string\"==typeof t){const e=t.match(/(\\d+)\\/(\\d+)/);e&&(t={num_beats:e[1],beat_value:e[2],resolution:m.RESOLUTION})}this.time=s.Merge({num_beats:4,beat_value:4,resolution:m.RESOLUTION},t),this.totalTicks=new n(this.time.num_beats*(this.time.resolution/this.time.beat_value),1),this.resolutionMultiplier=1,this.tickables=[],this.ticksUsed=new n(0,1),this.smallestTickCount=this.totalTicks.clone(),this.largestTickWidth=0,this.stave=null,this.mode=P.Mode.STRICT,this.voiceGroup=null}getTotalTicks(){return this.totalTicks}getTicksUsed(){return this.ticksUsed}getLargestTickWidth(){return this.largestTickWidth}getSmallestTickCount(){return this.smallestTickCount}getTickables(){return this.tickables}getMode(){return this.mode}setMode(t){return this.mode=t,this}getResolutionMultiplier(){return this.resolutionMultiplier}getActualResolution(){return this.resolutionMultiplier*this.time.resolution}setStave(t){return this.stave=t,this.boundingBox=null,this}getBoundingBox(){let t,e,i,n;if(!this.boundingBox){if(!this.stave)throw new s.RERR(\"NoStave\",\"Can't get bounding box without stave.\");for(t=this.stave,e=null,n=0;n<this.tickables.length;++n)this.tickables[n].setStave(t),i=this.tickables[n].getBoundingBox(),i&&(e=e?e.mergeWith(i):i);this.boundingBox=e}return this.boundingBox}getVoiceGroup(){if(!this.voiceGroup)throw new s.RERR(\"NoVoiceGroup\",\"No voice group for voice.\");return this.voiceGroup}setVoiceGroup(t){return this.voiceGroup=t,this}setStrict(t){return this.mode=t?P.Mode.STRICT:P.Mode.SOFT,this}isComplete(){return this.mode!==P.Mode.STRICT&&this.mode!==P.Mode.FULL||this.ticksUsed.equals(this.totalTicks)}addTickable(t){if(!t.shouldIgnoreTicks()){const e=t.getTicks();if(this.ticksUsed.add(e),(this.mode===P.Mode.STRICT||this.mode===P.Mode.FULL)&&this.ticksUsed.greaterThan(this.totalTicks))throw this.ticksUsed.subtract(e),new s.RERR(\"BadArgument\",\"Too many ticks.\");e.lessThan(this.smallestTickCount)&&(this.smallestTickCount=e.clone()),this.resolutionMultiplier=this.ticksUsed.denominator,this.totalTicks.add(0,this.ticksUsed.denominator)}return this.tickables.push(t),t.setVoice(this),this}addTickables(t){for(let e=0;e<t.length;++e)this.addTickable(t[e]);return this}preFormat(){return this.preFormatted||(this.tickables.forEach(t=>{t.getStave()||t.setStave(this.stave)}),this.preFormatted=!0),this}draw(t=this.context,e=this.stave){this.setRendered();let i=null;for(let n=0;n<this.tickables.length;++n){const r=this.tickables[n];if(e&&r.setStave(e),!r.getStave())throw new s.RuntimeError(\"MissingStave\",\"The voice cannot draw tickables without staves.\");if(0===n&&(i=r.getBoundingBox()),n>0&&i){const t=r.getBoundingBox();t&&i.mergeWith(t)}r.setContext(t),r.drawWithStyle()}this.boundingBox=i}}function L(t,e,i,n,r){if(e!==A.type.BOLD_DOUBLE_LEFT&&e!==A.type.BOLD_DOUBLE_RIGHT)throw new s.RERR(\"InvalidConnector\",\"A REPEAT_BEGIN or REPEAT_END type must be provided.\");let o=3,a=3.5;e===A.type.BOLD_DOUBLE_RIGHT&&(o=-5,a=3),t.fillRect(i+o,n,1,r-n),t.fillRect(i-2,n,a,r-n)}class A extends h{static get type(){return{SINGLE_RIGHT:0,SINGLE_LEFT:1,SINGLE:1,DOUBLE:2,BRACE:3,BRACKET:4,BOLD_DOUBLE_LEFT:5,BOLD_DOUBLE_RIGHT:6,THIN_DOUBLE:7,NONE:8}}static get typeString(){return{singleRight:A.type.SINGLE_RIGHT,singleLeft:A.type.SINGLE_LEFT,single:A.type.SINGLE,double:A.type.DOUBLE,brace:A.type.BRACE,bracket:A.type.BRACKET,boldDoubleLeft:A.type.BOLD_DOUBLE_LEFT,boldDoubleRight:A.type.BOLD_DOUBLE_RIGHT,thinDouble:A.type.THIN_DOUBLE,none:A.type.NONE}}constructor(t,e){super(),this.setAttribute(\"type\",\"StaveConnector\"),this.thickness=m.STAVE_LINE_THICKNESS,this.width=3,this.top_stave=t,this.bottom_stave=e,this.type=A.type.DOUBLE,this.font={family:\"times\",size:16,weight:\"normal\"},this.x_shift=0,this.texts=[]}setType(t){return(t=\"string\"==typeof t?A.typeString[t]:t)>=A.type.SINGLE_RIGHT&&t<=A.type.NONE&&(this.type=t),this}setText(t,e){return this.texts.push({content:t,options:s.Merge({shift_x:0,shift_y:0},e)}),this}setFont(t){s.Merge(this.font,t)}setXShift(t){if(\"number\"!=typeof t)throw s.RERR(\"InvalidType\",\"x_shift must be a Number\");return this.x_shift=t,this}draw(){const t=this.checkContext();this.setRendered();let e=this.top_stave.getYForLine(0),i=this.bottom_stave.getYForLine(this.bottom_stave.getNumLines()-1)+this.thickness,n=this.width,r=this.top_stave.getX();(this.type===A.type.SINGLE_RIGHT||this.type===A.type.BOLD_DOUBLE_RIGHT||this.type===A.type.THIN_DOUBLE)&&(r=this.top_stave.getX()+this.top_stave.width);let o=i-e;switch(this.type){case A.type.SINGLE:case A.type.SINGLE_LEFT:case A.type.SINGLE_RIGHT:n=1;break;case A.type.DOUBLE:r-=this.width+2;break;case A.type.BRACE:{n=12;const s=this.top_stave.getX()-2+this.x_shift,r=e,a=s,h=i,l=s-n,c=r+o/2,u=l-.9*n,d=r+.2*o,f=s+1.1*n,m=c-.135*o,p=f,g=c+.135*o,b=u,S=h-.2*o,y=l-n,x=S,E=s+.4*n,v=c+.135*o,_=E,w=c-.135*o,M=y,T=d;t.beginPath(),t.moveTo(s,r),t.bezierCurveTo(u,d,f,m,l,c),t.bezierCurveTo(p,g,b,S,a,h),t.bezierCurveTo(y,x,E,v,l,c),t.bezierCurveTo(_,w,M,T,s,r),t.fill(),t.stroke();break}case A.type.BRACKET:e-=4,i+=4,o=i-e,f.renderGlyph(t,r-5,e-3,40,\"v1b\",!0),f.renderGlyph(t,r-5,i+3,40,\"v10\",!0),r-=this.width+2;break;case A.type.BOLD_DOUBLE_LEFT:L(t,this.type,r+this.x_shift,e,i);break;case A.type.BOLD_DOUBLE_RIGHT:L(t,this.type,r,e,i);break;case A.type.THIN_DOUBLE:n=1;break;case A.type.NONE:break;default:throw new s.RERR(\"InvalidType\",`The provided StaveConnector.type (${this.type}) is invalid`)}this.type!==A.type.BRACE&&this.type!==A.type.BOLD_DOUBLE_LEFT&&this.type!==A.type.BOLD_DOUBLE_RIGHT&&this.type!==A.type.NONE&&t.fillRect(r,e,n,o),this.type===A.type.THIN_DOUBLE&&t.fillRect(r-3,e,n,o),t.save(),t.lineWidth=2,t.setFont(this.font.family,this.font.size,this.font.weight);for(let e=0;e<this.texts.length;e++){const i=this.texts[e],s=t.measureText(\"\"+i.content).width,n=this.top_stave.getX()-s-24+i.options.shift_x,r=(this.top_stave.getYForLine(0)+this.bottom_stave.getBottomLineY())/2+i.options.shift_y;t.fillText(\"\"+i.content,n,r+4)}t.restore()}}class I extends h{constructor(){super(),this.setAttribute(\"type\",\"Tickable\"),this.ticks=new n(0,1),this.intrinsicTicks=0,this.tickMultiplier=new n(1,1),this.width=0,this.x_shift=0,this.voice=null,this.tickContext=null,this.modifierContext=null,this.modifiers=[],this.preFormatted=!1,this.postFormatted=!1,this.tuplet=null,this.tupletStack=[],this.align_center=!1,this.center_x_shift=0,this.ignore_ticks=!1,this.formatterMetrics={freedom:{left:0,right:0},duration:\"\",iterations:0,space:{used:0,mean:0,deviation:0}}}reset(){return this}getTicks(){return this.ticks}shouldIgnoreTicks(){return this.ignore_ticks}getWidth(){return this.width}getFormatterMetrics(){return this.formatterMetrics}setXShift(t){this.x_shift=t}getCenterXShift(){return this.isCenterAligned()?this.center_x_shift:0}isCenterAligned(){return this.align_center}setCenterAlignment(t){return this.align_center=t,this}getVoice(){if(!this.voice)throw new s.RERR(\"NoVoice\",\"Tickable has no voice.\");return this.voice}setVoice(t){this.voice=t}getTuplet(){return this.tuplet}resetTuplet(t){let e,i;if(t){const s=this.tupletStack.indexOf(t);return-1!==s&&(this.tupletStack.splice(s,1),e=t.getNoteCount(),i=t.getNotesOccupied(),this.applyTickMultiplier(e,i)),this}for(;this.tupletStack.length;)e=(t=this.tupletStack.pop()).getNoteCount(),i=t.getNotesOccupied(),this.applyTickMultiplier(e,i);return this}setTuplet(t){if(t){this.tupletStack.push(t);const e=t.getNoteCount(),i=t.getNotesOccupied();this.applyTickMultiplier(i,e)}return this.tuplet=t,this}addToModifierContext(t){this.modifierContext=t,this.preFormatted=!1}addModifier(t){return this.modifiers.push(t),this.preFormatted=!1,this}getModifiers(){return this.modifiers}setTickContext(t){this.tickContext=t,this.preFormatted=!1}preFormat(){this.preFormatted||(this.width=0,this.modifierContext&&(this.modifierContext.preFormat(),this.width+=this.modifierContext.getWidth()))}postFormat(){return this.postFormatted||(this.postFormatted=!0),this}getIntrinsicTicks(){return this.intrinsicTicks}setIntrinsicTicks(t){this.intrinsicTicks=t,this.ticks=this.tickMultiplier.clone().multiply(this.intrinsicTicks)}getTickMultiplier(){return this.tickMultiplier}applyTickMultiplier(t,e){this.tickMultiplier.multiply(t,e),this.ticks=this.tickMultiplier.clone().multiply(this.intrinsicTicks)}setDuration(t){const e=t.numerator*(m.RESOLUTION/t.denominator);this.ticks=this.tickMultiplier.clone().multiply(e),this.intrinsicTicks=this.ticks.value()}}class C extends I{static get CATEGORY(){return\"note\"}static get STAVEPADDING(){return 12}static plotMetrics(t,e,i){const n=e.getMetrics(),r=e.getAbsoluteX()-n.modLeftPx-n.extraLeftPx,o=e.getAbsoluteX()-n.extraLeftPx,a=e.getAbsoluteX(),h=e.getAbsoluteX()+n.noteWidth,l=e.getAbsoluteX()+n.noteWidth+n.extraRightPx,c=e.getAbsoluteX()+n.noteWidth+n.extraRightPx+n.modRightPx,u=c+e.getFormatterMetrics().freedom.right,d=c-r;t.save(),t.setFont(\"Arial\",8,\"\"),t.fillText(Math.round(d)+\"px\",r+e.getXShift(),i);const f=i+7;function m(i,s,n,r=f){t.beginPath(),t.setStrokeStyle(n),t.setFillStyle(n),t.setLineWidth(3),t.moveTo(i+e.getXShift(),r),t.lineTo(s+e.getXShift(),r),t.stroke()}m(r,o,\"red\"),m(o,a,\"#999\"),m(a,h,\"green\"),m(h,l,\"#999\"),m(l,c,\"red\"),m(c,u,\"#DD0\"),m(r-e.getXShift(),r,\"#BBB\"),s.drawDot(t,a+e.getXShift(),f,\"blue\");const p=e.getFormatterMetrics();if(p.iterations>0){const s=p.space.deviation,n=s>=0?\"+\":\"\";t.setFillStyle(\"red\"),t.fillText(n+Math.round(s),a+e.getXShift(),i-10)}t.restore()}constructor(t){if(super(),this.setAttribute(\"type\",\"Note\"),!t)throw new s.RuntimeError(\"BadArguments\",\"Note must have valid initialization data to identify duration and type.\");const e=m.parseNoteStruct(t);if(!e)throw new s.RuntimeError(\"BadArguments\",`Invalid note initialization object: ${JSON.stringify(t)}`);if(this.duration=e.duration,this.dots=e.dots,this.noteType=e.type,this.customTypes=e.customTypes,t.duration_override?this.setDuration(t.duration_override):this.setIntrinsicTicks(e.ticks),this.modifiers=[],this.glyph=m.getGlyphProps(this.duration,this.noteType),this.customGlyphs=this.customTypes.map(t=>m.getGlyphProps(this.duration,t)),this.positions&&(\"object\"!=typeof this.positions||!this.positions.length))throw new s.RuntimeError(\"BadArguments\",\"Note keys must be array type.\");this.playNote=null,this.tickContext=null,this.modifierContext=null,this.ignore_ticks=!1,this.width=0,this.extraLeftPx=0,this.extraRightPx=0,this.x_shift=0,this.left_modPx=0,this.right_modPx=0,this.voice=null,this.preFormatted=!1,this.ys=[],t.align_center&&this.setCenterAlignment(t.align_center),this.stave=null,this.render_options={annotation_spacing:5,stave_padding:C.STAVEPADDING}}getPlayNote(){return this.playNote}setPlayNote(t){return this.playNote=t,this}isRest(){return!1}addStroke(t,e){return e.setNote(this),e.setIndex(t),this.modifiers.push(e),this.setPreFormatted(!1),this}getStave(){return this.stave}setStave(t){return this.stave=t,this.setYs([t.getYForLine(0)]),this.context=this.stave.context,this}getCategory(){return C.CATEGORY}setContext(t){return this.context=t,this}getExtraLeftPx(){return this.extraLeftPx}getExtraRightPx(){return this.extraRightPx}setExtraLeftPx(t){return this.extraLeftPx=t,this}setExtraRightPx(t){return this.extraRightPx=t,this}shouldIgnoreTicks(){return this.ignore_ticks}getLineNumber(){return 0}getLineForRest(){return 0}getGlyph(){return this.glyph}getGlyphWidth(){return this.glyph.getWidth(this.render_options.glyph_font_scale)}setYs(t){return this.ys=t,this}getYs(){if(0===this.ys.length)throw new s.RERR(\"NoYValues\",\"No Y-values calculated for this note.\");return this.ys}getYForTopText(t){if(!this.stave)throw new s.RERR(\"NoStave\",\"No stave attached to this note.\");return this.stave.getYForTopText(t)}getBoundingBox(){return null}getVoice(){if(!this.voice)throw new s.RERR(\"NoVoice\",\"Note has no voice.\");return this.voice}setVoice(t){return this.voice=t,this.preFormatted=!1,this}getTickContext(){return this.tickContext}setTickContext(t){return this.tickContext=t,this.preFormatted=!1,this}getDuration(){return this.duration}isDotted(){return this.dots>0}hasStem(){return!1}getDots(){return this.dots}getNoteType(){return this.noteType}setBeam(){return this}setModifierContext(t){return this.modifierContext=t,this}addModifier(t,e=0){return t.setNote(this),t.setIndex(e),this.modifiers.push(t),this.setPreFormatted(!1),this}getModifierStartXY(){if(!this.preFormatted)throw new s.RERR(\"UnformattedNote\",\"Can't call GetModifierStartXY on an unformatted note\");return{x:this.getAbsoluteX(),y:this.ys[0]}}getMetrics(){if(!this.preFormatted)throw new s.RERR(\"UnformattedNote\",\"Can't call getMetrics on an unformatted note.\");let t=0,e=0;null!=this.modifierContext&&(t=this.modifierContext.state.left_shift,e=this.modifierContext.state.right_shift);const i=this.getWidth();return{width:i,noteWidth:i-t-e-this.extraLeftPx-this.extraRightPx,left_shift:this.x_shift,modLeftPx:t,modRightPx:e,extraLeftPx:this.extraLeftPx,extraRightPx:this.extraRightPx}}setWidth(t){this.width=t}getWidth(){if(!this.preFormatted)throw new s.RERR(\"UnformattedNote\",\"Can't call GetWidth on an unformatted note.\");return this.width+(this.modifierContext?this.modifierContext.getWidth():0)}setXShift(t){return this.x_shift=t,this}getXShift(){return this.x_shift}getX(){if(!this.tickContext)throw new s.RERR(\"NoTickContext\",\"Note needs a TickContext assigned for an X-Value\");return this.tickContext.getX()+this.x_shift}getAbsoluteX(){if(!this.tickContext)throw new s.RERR(\"NoTickContext\",\"Note needs a TickContext assigned for an X-Value\");let t=this.tickContext.getX();return this.stave&&(t+=this.stave.getNoteStartX()+this.render_options.stave_padding),this.isCenterAligned()&&(t+=this.getCenterXShift()),t}setPreFormatted(t){if(this.preFormatted=t,this.preFormatted){const t=this.tickContext.getExtraPx();this.left_modPx=Math.max(this.left_modPx,t.left),this.right_modPx=Math.max(this.right_modPx,t.right)}}}class R extends C{static get CATEGORY(){return\"notehead\"}constructor(t){if(super(t),this.setAttribute(\"type\",\"NoteHead\"),this.index=t.index,this.x=t.x||0,this.y=t.y||0,this.note_type=t.note_type,this.duration=t.duration,this.displaced=t.displaced||!1,this.stem_direction=t.stem_direction||k.STEM_UP,this.line=t.line,this.glyph=m.getGlyphProps(this.duration,this.note_type),!this.glyph)throw new s.RuntimeError(\"BadArguments\",`No glyph found for duration '${this.duration}' and type '${this.note_type}'`);this.glyph_code=this.glyph.code_head,this.x_shift=t.x_shift||0,t.custom_glyph_code&&(this.custom_glyph=!0,this.glyph_code=t.custom_glyph_code,this.stem_up_x_offset=t.stem_up_x_offset||0,this.stem_down_x_offset=t.stem_down_x_offset||0),this.style=t.style,this.slashed=t.slashed,s.Merge(this.render_options,{glyph_font_scale:t.glyph_font_scale||m.DEFAULT_NOTATION_FONT_SCALE,stroke_px:3}),this.setWidth(this.glyph.getWidth(this.render_options.glyph_font_scale))}getCategory(){return R.CATEGORY}getWidth(){return this.width}isDisplaced(){return!0===this.displaced}getGlyph(){return this.glyph}setX(t){return this.x=t,this}getY(){return this.y}setY(t){return this.y=t,this}getLine(){return this.line}setLine(t){return this.line=t,this}getAbsoluteX(){const t=this.preFormatted?super.getAbsoluteX():this.x,e=E.WIDTH/2;return t+(this.displaced?(this.width-e)*this.stem_direction:0)}getBoundingBox(){if(!this.preFormatted)throw new s.RERR(\"UnformattedNote\",\"Can't call getBoundingBox on an unformatted note.\");const t=this.stave.getSpacingBetweenLines(),e=t/2,i=this.y-e;return new m.BoundingBox(this.getAbsoluteX(),i,this.width,t)}setStave(t){const e=this.getLine();return this.stave=t,this.setY(t.getYForNote(e)),this.context=this.stave.context,this}preFormat(){if(this.preFormatted)return this;const t=this.getWidth()+this.extraLeftPx+this.extraRightPx;return this.setWidth(t),this.setPreFormatted(!0),this}draw(){this.checkContext(),this.setRendered();const t=this.context;let e=this.getAbsoluteX();this.custom_glyph&&(e+=this.stem_direction===E.UP?this.stem_up_x_offset:this.stem_down_x_offset);const i=this.y;!function(...t){R.DEBUG&&s.L(\"Vex.Flow.NoteHead\",t)}(\"Drawing note head '\",this.note_type,this.duration,\"' at\",e,i);const n=this.stem_direction,r=this.render_options.glyph_font_scale;if(this.style&&this.applyStyle(t),\"s\"===this.note_type){const s=this.stave.getSpacingBetweenLines();!function(t,e,i,s,n,r){const o=m.SLASH_NOTEHEAD_WIDTH;t.save(),t.setLineWidth(m.STEM_WIDTH);let a=!1;if(m.durationToNumber(e)>2&&(a=!0),a||(i-=m.STEM_WIDTH/2*n),t.beginPath(),t.moveTo(i,s+r),t.lineTo(i,s+1),t.lineTo(i+o,s-r),t.lineTo(i+o,s),t.lineTo(i,s+r),t.closePath(),a?t.fill():t.stroke(),m.durationToFraction(e).equals(.5)){const e=[-3,-1,o+1,o+3];for(let n=0;n<e.length;n++)t.beginPath(),t.moveTo(i+e[n],s-10),t.lineTo(i+e[n],s+11),t.stroke()}t.restore()}(t,this.duration,e,i,n,s)}else f.renderGlyph(t,e,i,r,this.glyph_code);this.style&&this.restoreStyle(t)}}class N extends C{constructor(t){super(t),this.setAttribute(\"type\",\"StemmableNote\"),this.stem=null,this.stemExtensionOverride=null,this.beam=null}getStem(){return this.stem}setStem(t){return this.stem=t,this}buildStem(){const t=new E;return this.setStem(t),this}buildFlag(){const{glyph:t,beam:e}=this,i=null===e;if(t&&t.flag&&i){const e=this.getStemDirection()===E.DOWN?t.code_flag_downstem:t.code_flag_upstem;this.flag=new f(e,this.render_options.glyph_font_scale)}}getTopGlyph(){return this.getStemDirection()===E.DOWN?this.customGlyphs[this.customGlyphs.length-1]:this.customGlyphs[0]}getStemLength(){return E.HEIGHT+this.getStemExtension()}getBeamCount(){const t=this.getGlyph();return t?t.beam_count:0}getStemMinumumLength(){let t=m.durationToFraction(this.duration).value()<=1?0:20;switch(this.duration){case\"8\":null==this.beam&&(t=35);break;case\"16\":t=null==this.beam?35:25;break;case\"32\":t=null==this.beam?45:35;break;case\"64\":t=null==this.beam?50:40;break;case\"128\":t=null==this.beam?55:45}return t}getStemDirection(){return this.stem_direction}setStemDirection(t){if(t||(t=E.UP),t!==E.UP&&t!==E.DOWN)throw new s.RERR(\"BadArgument\",`Invalid stem direction: ${t}`);if(this.stem_direction=t,this.stem){this.stem.setDirection(t),this.stem.setExtension(this.getStemExtension());const e=this.getTopGlyph()||this.getGlyph();this.stem.setOptions({stem_up_y_offset:e.stem_up_y_offset,stem_down_y_offset:e.stem_down_y_offset})}return this.reset(),this.flag&&this.buildFlag(),this.beam=null,this.preFormatted&&this.preFormat(),this}getStemX(){const t=this.getAbsoluteX()+this.x_shift,e=this.getAbsoluteX()+this.x_shift+this.getGlyphWidth();return this.stem_direction===E.DOWN?t:e}getCenterGlyphX(){return this.getAbsoluteX()+this.x_shift+this.getGlyphWidth()/2}getStemExtension(){const t=this.getGlyph();return null!=this.stemExtensionOverride?this.stemExtensionOverride:t?1===this.getStemDirection()?t.stem_up_extension:t.stem_down_extension:0}setStemLength(t){return this.stemExtensionOverride=t-E.HEIGHT,this}getStemExtents(){return this.stem.getExtents()}setBeam(t){return this.beam=t,this}getYForTopText(t){const e=this.getStemExtents();return this.hasStem()?Math.min(this.stave.getYForTopText(t),e.topY-this.render_options.annotation_spacing*(t+1)):this.stave.getYForTopText(t)}getYForBottomText(t){const e=this.getStemExtents();return this.hasStem()?Math.max(this.stave.getYForTopText(t),e.baseY+this.render_options.annotation_spacing*t):this.stave.getYForBottomText(t)}hasFlag(){return m.getGlyphProps(this.duration).flag&&!this.beam}postFormat(){return this.beam&&this.beam.postFormat(),this.postFormatted=!0,this}drawStem(t){this.checkContext(),this.setRendered(),this.setStem(new E(t)),this.stem.setContext(this.context).draw()}}class B extends h{static get CATEGORY(){return\"none\"}static get Position(){return{LEFT:1,RIGHT:2,ABOVE:3,BELOW:4}}static get PositionString(){return{above:B.Position.ABOVE,below:B.Position.BELOW,left:B.Position.LEFT,right:B.Position.RIGHT}}constructor(){super(),this.setAttribute(\"type\",\"Modifier\"),this.width=0,this.note=null,this.index=null,this.text_line=0,this.position=B.Position.LEFT,this.modifier_context=null,this.x_shift=0,this.y_shift=0,this.spacingFromNextModifier=0}getCategory(){return B.CATEGORY}getWidth(){return this.width}setWidth(t){return this.width=t,this}getNote(){return this.note}setNote(t){return this.note=t,this}getIndex(){return this.index}setIndex(t){return this.index=t,this}getModifierContext(){return this.modifier_context}setModifierContext(t){return this.modifier_context=t,this}getPosition(){return this.position}setPosition(t){return this.position=\"string\"==typeof t?B.PositionString[t]:t,this}setTextLine(t){return this.text_line=t,this}setYShift(t){return this.y_shift=t,this}setSpacingFromNextModifier(t){this.spacingFromNextModifier=t}getSpacingFromNextModifier(){return this.spacingFromNextModifier}setXShift(t){this.x_shift=0,this.position===B.Position.LEFT?this.x_shift-=t:this.x_shift+=t}getXShift(){return this.x_shift}draw(){throw this.checkContext(),new s.RERR(\"MethodNotImplemented\",\"draw() not implemented for this modifier.\")}alignSubNotesWithNote(t,e){const i=e.getTickContext(),s=i.getExtraPx(),n=i.getX()-s.left-s.extraLeft+this.getSpacingFromNextModifier();t.forEach(t=>{const i=t.getTickContext();t.setStave(e.stave),i.setXOffset(n)})}}class F extends B{static get CATEGORY(){return\"dots\"}static format(t,e){const i=e.right_shift;if(!t||0===t.length)return!1;const s=[],n={};for(let e=0;e<t.length;++e){const i=t[e],r=i.getNote();let o,a;\"function\"==typeof r.getKeyProps?(o=r.getKeyProps()[i.getIndex()],a=o.displaced?r.getExtraRightPx():0):(o={line:.5},a=0);const h=r.getAttribute(\"id\");s.push({line:o.line,note:r,note_id:h,dot:i}),n[h]=Math.max(n[h]||a,a)}s.sort((t,e)=>e.line-t.line);let r=i,o=0,a=null,h=null,l=null,c=0;for(let t=0;t<s.length;++t){const{dot:e,note:i,note_id:u,line:d}=s[t];d===a&&i===h||(r=n[u]),i.isRest()||d===a||(.5===Math.abs(d%1)?c=0:(c=.5,null==h||h.isRest()||a-d!=.5?d+c===l&&(c=-.5):c=-.5)),i.isRest()?e.dot_shiftY+=-c:e.dot_shiftY=-c,l=d+c,e.setXShift(r),r+=e.getWidth()+1,o=r>o?r:o,a=d,h=i}return e.right_shift+=o,!0}constructor(){super(),this.setAttribute(\"type\",\"Dot\"),this.note=null,this.index=null,this.position=B.Position.RIGHT,this.radius=2,this.setWidth(5),this.dot_shiftY=0}getCategory(){return F.CATEGORY}setNote(t){this.note=t,\"gracenotes\"===this.note.getCategory()&&(this.radius*=.5,this.setWidth(3))}setDotShiftY(t){return this.dot_shiftY=t,this}draw(){if(this.checkContext(),this.setRendered(),!this.note||null===this.index)throw new s.RERR(\"NoAttachedNote\",\"Can't draw dot without a note and index.\");const t=this.note.stave.options.spacing_between_lines_px,e=this.note.getModifierStartXY(this.position,this.index,{forceFlagRight:!0});\"tabnotes\"===this.note.getCategory()&&(e.y=this.note.getStemExtents().baseY);const i=e.x+this.x_shift+this.width-this.radius,n=e.y+this.y_shift+this.dot_shiftY*t,r=this.context;r.beginPath(),r.arc(i,n,this.radius,0,2*Math.PI,!1),r.fill()}}function D(t,e,i){const s=(e.isrest?0:1)*i;t.line+=s,t.maxLine+=s,t.minLine+=s,t.note.setKeyLine(0,t.note.getKeyLine(0)+s)}class k extends N{static get CATEGORY(){return\"stavenotes\"}static get STEM_UP(){return E.UP}static get STEM_DOWN(){return E.DOWN}static get DEFAULT_LEDGER_LINE_OFFSET(){return 3}static format(t,e){if(!t||t.length<2)return!1;if(t[0].getStave())return k.formatByY(t,e);const i=[];for(let e=0;e<t.length;e++){const s=t[e].getKeyProps(),n=s[0].line;let r=s[s.length-1].line;const o=t[e].getStemDirection(),a=t[e].getStemLength()/10,h=t[e].getStemMinumumLength()/10;let l;t[e].isRest()?(l=n+t[e].glyph.line_above,r=n-t[e].glyph.line_below):(l=1===o?s[s.length-1].line+a:s[s.length-1].line,r=1===o?s[0].line:s[0].line-a),i.push({line:s[0].line,maxLine:l,minLine:r,isrest:t[e].isRest(),stemDirection:o,stemMax:a,stemMin:h,voice_shift:t[e].getVoiceShiftWidth(),is_displaced:t[e].isDisplaced(),note:t[e]})}const n=i.length;let r=i[0];const o=n>2?i[1]:null;let a=n>2?i[2]:i[1];2===n&&-1===r.stemDirection&&1===a.stemDirection&&(r=i[1],a=i[0]);const h=Math.max(r.voice_shift,a.voice_shift);let l,c=0;if(2===n){const t=r.stemDirection===a.stemDirection?0:.5;return r.stemDirection===a.stemDirection&&r.minLine<=a.maxLine&&(r.isrest||(l=Math.abs(r.line-(a.maxLine+.5)),l=Math.max(l,r.stemMin),r.minLine=r.line-l,r.note.setStemLength(10*l))),r.minLine<=a.maxLine+t&&(r.isrest?D(r,a,1):a.isrest?D(a,r,-1):(c=h,r.stemDirection===a.stemDirection?r.note.setXShift(c+3):a.note.setXShift(c))),!0}if(null!==o&&o.minLine<a.maxLine+.5&&(o.isrest||(l=Math.abs(o.line-(a.maxLine+.5)),l=Math.max(l,o.stemMin),o.minLine=o.line-l,o.note.setStemLength(10*l))),o.isrest&&!r.isrest&&!a.isrest&&(r.minLine<=o.maxLine||o.minLine<=a.maxLine)){return o.maxLine-o.minLine<r.minLine-a.maxLine?function(t,e,i){const n=t.line-s.MidLine(e.minLine,i.maxLine);t.note.setKeyLine(0,t.note.getKeyLine(0)-n),t.line-=n,t.maxLine-=n,t.minLine-=n}(o,r,a):(c=h+3,o.note.setXShift(c)),!0}return r.isrest&&o.isrest&&a.isrest?(D(r,o,1),D(a,o,-1),!0):(o.isrest&&r.isrest&&o.minLine<=a.maxLine&&D(o,a,1),o.isrest&&a.isrest&&r.minLine<=o.maxLine&&D(o,r,-1),r.isrest&&r.minLine<=o.maxLine&&D(r,o,1),a.isrest&&o.minLine<=a.maxLine&&D(a,o,-1),(!r.isrest&&!o.isrest&&r.minLine<=o.maxLine+.5||!o.isrest&&!a.isrest&&o.minLine<=a.maxLine)&&(c=h+3,o.note.setXShift(c)),!0)}static formatByY(t,e){let i=!0;for(let e=0;e<t.length;e++)i=i&&null!=t[e].getStave();if(!i)throw new s.RERR(\"Stave Missing\",\"All notes must have a stave - Vex.Flow.ModifierContext.formatMultiVoice!\");let n=0;for(let e=0;e<t.length-1;e++){let i=t[e],s=t[e+1];i.getStemDirection()===E.DOWN&&(i=t[e+1],s=t[e]);const r=i.getKeyProps(),o=s.getKeyProps(),a=.5,h=i.getStave().getYForLine(5-r[0].line+a);s.getStave().getYForLine(5-o[o.length-1].line-a)-h<0&&(n=i.getVoiceShiftWidth()+2,s.setXShift(n))}e.right_shift+=n}static postFormat(t){return!!t&&(t.forEach(t=>t.postFormat()),!0)}constructor(t){if(super(t),this.setAttribute(\"type\",\"StaveNote\"),this.keys=t.keys,this.clef=t.clef,this.octave_shift=t.octave_shift,this.beam=null,this.glyph=m.getGlyphProps(this.duration,this.noteType),!this.glyph)throw new s.RuntimeError(\"BadArguments\",`Invalid note initialization data (No glyph found): ${JSON.stringify(t)}`);this.displaced=!1,this.dot_shiftY=0,this.keyProps=[],this.use_default_head_x=!1,this.note_heads=[],this.modifiers=[],s.Merge(this.render_options,{glyph_font_scale:t.glyph_font_scale||m.DEFAULT_NOTATION_FONT_SCALE,stroke_px:t.stroke_px||k.DEFAULT_LEDGER_LINE_OFFSET}),this.calculateKeyProps(),this.buildStem(),t.auto_stem?this.autoStem():this.setStemDirection(t.stem_direction),this.reset(),this.buildFlag()}reset(){super.reset();const t=this.note_heads.map(t=>t.getStyle());this.buildNoteHeads(),this.note_heads.forEach((e,i)=>e.setStyle(t[i])),this.stave&&this.note_heads.forEach(t=>t.setStave(this.stave)),this.calcExtraPx()}setBeam(t){return this.beam=t,this.calcExtraPx(),this}getCategory(){return k.CATEGORY}buildStem(){this.setStem(new E({hide:!!this.isRest()}))}buildNoteHeads(){this.note_heads=[];const t=this.getStemDirection(),e=this.getKeys();let i,s,n,r=null,o=null,a=!1;t===E.UP?(i=0,s=e.length,n=1):t===E.DOWN&&(i=e.length-1,s=-1,n=-1);for(let e=i;e!==s;e+=n){const i=this.keyProps[e],s=i.line;null===r?r=s:(o=Math.abs(r-s),0===o||.5===o?a=!a:(a=!1,this.use_default_head_x=!0)),r=s;const n=new R({duration:this.duration,note_type:this.noteType,displaced:a,stem_direction:t,custom_glyph_code:i.code,glyph_font_scale:this.render_options.glyph_font_scale,x_shift:i.shift_right,stem_up_x_offset:i.stem_up_x_offset,stem_down_x_offset:i.stem_down_x_offset,line:i.line});this.note_heads[e]=n}}autoStem(){this.minLine=this.keyProps[0].line,this.maxLine=this.keyProps[this.keyProps.length-1].line;const t=(this.minLine+this.maxLine)/2<3?E.UP:E.DOWN;this.setStemDirection(t)}calculateKeyProps(){let t=null;for(let e=0;e<this.keys.length;++e){const i=this.keys[e];this.glyph.rest&&(this.glyph.position=i);const n={octave_shift:this.octave_shift||0},r=m.keyProperties(i,this.clef,n);if(!r)throw new s.RuntimeError(\"BadArguments\",`Invalid key for note properties: ${i}`);\"R\"===r.key&&(\"1\"===this.duration||\"w\"===this.duration?r.line=4:r.line=3);const o=r.line;null===t?t=o:.5===Math.abs(t-o)&&(this.displaced=!0,r.displaced=!0,this.keyProps.length>0&&(this.keyProps[e-1].displaced=!0)),t=o,this.keyProps.push(r)}t=-1/0,this.keyProps.forEach(e=>{e.line<t&&s.W(\"Unsorted keys in note will be sorted. See https://github.com/0xfe/vexflow/issues/104 for details.\"),t=e.line}),this.keyProps.sort((t,e)=>t.line-e.line)}getBoundingBox(){if(!this.preFormatted)throw new s.RERR(\"UnformattedNote\",\"Can't call getBoundingBox on an unformatted note.\");const{width:t,modLeftPx:e,extraLeftPx:i}=this.getMetrics(),n=this.getAbsoluteX()-e-i;let r=0,o=0;const a=this.getStave().getSpacingBetweenLines()/2,h=2*a;if(this.isRest()){const t=this.ys[0],e=m.durationToFraction(this.duration);e.equals(1)||e.equals(2)?(r=t-a,o=t+a):(r=t-this.glyph.line_above*h,o=t+this.glyph.line_below*h)}else if(this.glyph.stem){const t=this.getStemExtents();t.baseY+=a*this.stem_direction,r=Math.min(t.topY,t.baseY),o=Math.max(t.topY,t.baseY)}else{r=null,o=null;for(let t=0;t<this.ys.length;++t){const e=this.ys[t];0===t?(r=e,o=e):(r=Math.min(e,r),o=Math.max(e,o))}r-=a,o+=a}return new c(n,r,t,o-r)}getLineNumber(t){if(!this.keyProps.length)throw new s.RERR(\"NoKeyProps\",\"Can't get bottom note line, because note is not initialized properly.\");let e=this.keyProps[0].line;for(let i=0;i<this.keyProps.length;i++){const s=this.keyProps[i].line;t?s>e&&(e=s):s<e&&(e=s)}return e}isRest(){return this.glyph.rest}isChord(){return!this.isRest()&&this.keys.length>1}hasStem(){return this.glyph.stem}hasFlag(){return super.hasFlag()&&!this.isRest()}getStemX(){return\"r\"===this.noteType?this.getCenterGlyphX():super.getStemX()+(t=this,E.WIDTH/(2*-t.getStemDirection()));var t}getYForTopText(t){const e=this.getStemExtents();return Math.min(this.stave.getYForTopText(t),e.topY-this.render_options.annotation_spacing*(t+1))}getYForBottomText(t){const e=this.getStemExtents();return Math.max(this.stave.getYForTopText(t),e.baseY+this.render_options.annotation_spacing*t)}setStave(t){super.setStave(t);const e=this.note_heads.map(e=>(e.setStave(t),e.getY()));if(this.setYs(e),this.stem){const{y_top:t,y_bottom:e}=this.getNoteHeadBounds();this.stem.setYBounds(t,e)}return this}getKeys(){return this.keys}getKeyProps(){return this.keyProps}isDisplaced(){return this.displaced}setNoteDisplaced(t){return this.displaced=t,this}getTieRightX(){let t=this.getAbsoluteX();return t+=this.getGlyphWidth()+this.x_shift+this.extraRightPx,this.modifierContext&&(t+=this.modifierContext.getExtraRightPx()),t}getTieLeftX(){let t=this.getAbsoluteX();return t+=this.x_shift-this.extraLeftPx,t}getLineForRest(){let t=this.keyProps[0].line;if(this.keyProps.length>1){const e=this.keyProps[this.keyProps.length-1].line,i=Math.max(t,e),n=Math.min(t,e);t=s.MidLine(i,n)}return t}getModifierStartXY(t,e,i){if(i=i||{},!this.preFormatted)throw new s.RERR(\"UnformattedNote\",\"Can't call GetModifierStartXY on an unformatted note\");if(0===this.ys.length)throw new s.RERR(\"NoYValues\",\"No Y-Values calculated for this note.\");const{ABOVE:n,BELOW:r,LEFT:o,RIGHT:a}=B.Position;let h=0;return t===o?h=-2:t===a?(h=this.getGlyphWidth()+this.x_shift+2,this.stem_direction===E.UP&&this.hasFlag()&&(i.forceFlagRight||((t,e)=>e===(t.getStemDirection()===E.UP?t.keyProps.length-1:0))(this,e))&&(h+=this.flag.getMetrics().width)):t!==r&&t!==n||(h=this.getGlyphWidth()/2),{x:this.getAbsoluteX()+h,y:this.ys[e]}}setStyle(t){super.setStyle(t),this.note_heads.forEach(e=>e.setStyle(t)),this.stem.setStyle(t)}setStemStyle(t){this.getStem().setStyle(t)}getStemStyle(){return this.stem.getStyle()}setLedgerLineStyle(t){this.ledgerLineStyle=t}getLedgerLineStyle(){return this.ledgerLineStyle}setFlagStyle(t){this.flagStyle=t}getFlagStyle(){return this.flagStyle}setKeyStyle(t,e){return this.note_heads[t].setStyle(e),this}setKeyLine(t,e){return this.keyProps[t].line=e,this.reset(),this}getKeyLine(t){return this.keyProps[t].line}addToModifierContext(t){this.setModifierContext(t);for(let t=0;t<this.modifiers.length;++t)this.modifierContext.addModifier(this.modifiers[t]);return this.modifierContext.addModifier(this),this.setPreFormatted(!1),this}addModifier(t,e){return e.setNote(this),e.setIndex(t),this.modifiers.push(e),this.setPreFormatted(!1),this}addAccidental(t,e){return this.addModifier(t,e)}addArticulation(t,e){return this.addModifier(t,e)}addAnnotation(t,e){return this.addModifier(t,e)}addDot(t){const e=new F;return e.setDotShiftY(this.glyph.dot_shiftY),this.dots++,this.addModifier(t,e)}addDotToAll(){for(let t=0;t<this.keys.length;++t)this.addDot(t);return this}getAccidentals(){return this.modifierContext.getModifiers(\"accidentals\")}getDots(){return this.modifierContext.getModifiers(\"dots\")}getVoiceShiftWidth(){return this.getGlyphWidth()*(this.displaced?2:1)}calcExtraPx(){this.setExtraLeftPx(this.displaced&&this.stem_direction===E.DOWN?this.getGlyphWidth():0),this.setExtraRightPx(!this.hasFlag()&&this.displaced&&this.stem_direction===E.UP?this.getGlyphWidth():0)}preFormat(){if(this.preFormatted)return;this.modifierContext&&this.modifierContext.preFormat();let t=this.getGlyphWidth()+this.extraLeftPx+this.extraRightPx;this.glyph.flag&&null===this.beam&&this.stem_direction===E.UP&&(t+=this.getGlyphWidth()),this.setWidth(t),this.setPreFormatted(!0)}getNoteHeadBounds(){let t=null,e=null,i=null,s=null,n=this.stave.getNumLines(),r=1,o=!1,a=!1,h=n,l=r;return this.note_heads.forEach(c=>{const u=c.getLine(),d=c.getY();(null===t||d<t)&&(t=d),(null===e||d>e)&&(e=d),null===s&&c.isDisplaced()&&(s=c.getAbsoluteX()),null!==i||c.isDisplaced()||(i=c.getAbsoluteX()),n=u>n?u:n,r=u<r?u:r,c.isDisplaced()?(o=!1===o?u:Math.max(u,o),a=!1===a?u:Math.min(u,a)):(h=Math.max(u,h),l=Math.min(u,l))},this),{y_top:t,y_bottom:e,displaced_x:s,non_displaced_x:i,highest_line:n,lowest_line:r,highest_displaced_line:o,lowest_displaced_line:a,highest_non_displaced_line:h,lowest_non_displaced_line:l}}getNoteHeadBeginX(){return this.getAbsoluteX()+this.x_shift}getNoteHeadEndX(){return this.getNoteHeadBeginX()+this.getGlyphWidth()}drawLedgerLines(){const{stave:t,glyph:e,render_options:{stroke_px:i},context:n}=this,r=e.getWidth()+2*i,o=2*(e.getWidth()+i)-E.WIDTH/2;if(this.isRest())return;if(!n)throw new s.RERR(\"NoCanvasContext\",\"Can't draw without a canvas context.\");const{highest_line:a,lowest_line:h,highest_displaced_line:l,highest_non_displaced_line:c,lowest_displaced_line:u,lowest_non_displaced_line:d,displaced_x:f,non_displaced_x:m}=this.getNoteHeadBounds(),p=Math.min(f,m),g=(t,e,s)=>{let a;a=s&&e?p-i:e?m-i:f-i;const h=e&&s?o:r;n.beginPath(),n.moveTo(a,t),n.lineTo(a+h,t),n.stroke()},b={...t.getStyle()||{},...this.getLedgerLineStyle()||{}};this.applyStyle(n,b);for(let e=6;e<=a;++e){const i=null!==m&&e<=c,s=null!==f&&e<=l;g(t.getYForNote(e),i,s)}for(let e=0;e>=h;--e){const i=null!==m&&e>=d,s=null!==f&&e>=u;g(t.getYForNote(e),i,s)}this.restoreStyle(n,b)}drawModifiers(){if(!this.context)throw new s.RERR(\"NoCanvasContext\",\"Can't draw without a canvas context.\");const t=this.context;t.openGroup(\"modifiers\");for(let e=0;e<this.modifiers.length;e++){const i=this.modifiers[e],s=this.note_heads[i.getIndex()],n=s.getStyle();s.applyStyle(t,n),i.setContext(t),i.drawWithStyle(),s.restoreStyle(t,n)}t.closeGroup()}drawFlag(){const{stem:t,beam:e,context:i}=this;if(!i)throw new s.RERR(\"NoCanvasContext\",\"Can't draw without a canvas context.\");const n=null===e;if(this.getGlyph().flag&&n){const{y_top:e,y_bottom:s}=this.getNoteHeadBounds(),n=t.getHeight(),r=this.getStemX(),o=this.getStemDirection()===E.DOWN?e-n+2:s-n-2;i.openGroup(\"flag\",null,{pointerBBox:!0}),this.applyStyle(i,this.getFlagStyle()||!1),this.flag.render(i,r,o),this.restoreStyle(i,this.getFlagStyle()||!1),i.closeGroup()}}drawNoteHeads(){this.note_heads.forEach(t=>{this.context.openGroup(\"notehead\",null,{pointerBBox:!0}),t.setContext(this.context).draw(),this.context.closeGroup()})}drawStem(t){if(!this.context)throw new s.RERR(\"NoCanvasContext\",\"Can't draw without a canvas context.\");t&&this.setStem(new E(t)),this.context.openGroup(\"stem\",null,{pointerBBox:!0}),this.stem.setContext(this.context).draw(),this.context.closeGroup()}draw(){if(!this.context)throw new s.RERR(\"NoCanvasContext\",\"Can't draw without a canvas context.\");if(!this.stave)throw new s.RERR(\"NoStave\",\"Can't draw without a stave.\");if(0===this.ys.length)throw new s.RERR(\"NoYValues\",\"Can't draw note without Y values.\");const t=this.getNoteHeadBeginX(),e=this.hasStem()&&!this.beam;this.note_heads.forEach(e=>e.setX(t));const i=this.getStemX();this.stem.setNoteHeadXBounds(i,i),function(...t){k.DEBUG&&s.L(\"Vex.Flow.StaveNote\",t)}(\"Rendering \",this.isChord()?\"chord :\":\"note :\",this.keys),this.drawLedgerLines(),this.applyStyle(),this.setAttribute(\"el\",this.context.openGroup(\"stavenote\",this.getAttribute(\"id\"))),this.context.openGroup(\"note\",null,{pointerBBox:!0}),e&&this.drawStem(),this.drawNoteHeads(),this.drawFlag(),this.context.closeGroup(),this.drawModifiers(),this.context.closeGroup(),this.restoreStyle(),this.setRendered()}}class O extends B{static get CATEGORY(){return\"frethandfinger\"}static format(t,e){const{left_shift:i,right_shift:s}=e;if(!t||0===t.length)return!1;const n=[];let r=null,o=0,a=0;for(let e=0;e<t.length;++e){const h=t[e],l=h.getNote(),c=h.getPosition(),u=l.getKeyProps()[h.getIndex()];if(l!==r){for(let t=0;t<l.keys.length;++t){const e=l.getKeyProps()[t];0===i&&(o=e.displaced?l.getExtraLeftPx():o),0===s&&(a=e.displaced?l.getExtraRightPx():a)}r=l}n.push({note:l,num:h,pos:c,line:u.line,shiftL:o,shiftR:a})}n.sort((t,e)=>e.line-t.line);let h=0,l=0,c=0,u=0,d=null,f=null;for(let t=0;t<n.length;++t){let e=0;const{note:r,pos:o,num:m,line:p,shiftL:g,shiftR:b}=n[t];p===d&&r===f||(h=i+g,l=s+b);const S=m.getWidth()+1;o===B.Position.LEFT?(m.setXShift(i+h),e=i+S,c=e>c?e:c):o===B.Position.RIGHT&&(m.setXShift(l),e=a+S,u=e>u?e:u),d=p,f=r}return e.left_shift+=c,e.right_shift+=u,!0}constructor(t){super(),this.setAttribute(\"type\",\"FretHandFinger\"),this.note=null,this.index=null,this.finger=t,this.width=7,this.position=B.Position.LEFT,this.x_shift=0,this.y_shift=0,this.x_offset=0,this.y_offset=0,this.font={family:\"sans-serif\",size:9,weight:\"bold\"}}getCategory(){return O.CATEGORY}setFretHandFinger(t){return this.finger=t,this}setOffsetX(t){return this.x_offset=t,this}setOffsetY(t){return this.y_offset=t,this}draw(){if(this.checkContext(),!this.note||null==this.index)throw new s.RERR(\"NoAttachedNote\",\"Can't draw string number without a note and index.\");this.setRendered();const t=this.context,e=this.note.getModifierStartXY(this.position,this.index);let i=e.x+this.x_shift+this.x_offset,n=e.y+this.y_shift+this.y_offset+5;switch(this.position){case B.Position.ABOVE:i-=4,n-=12;break;case B.Position.BELOW:i-=2,n+=10;break;case B.Position.LEFT:i-=this.width;break;case B.Position.RIGHT:i+=1;break;default:throw new s.RERR(\"InvalidPostion\",`The position ${this.position} does not exist`)}t.save(),t.setFont(this.font.family,this.font.size,this.font.weight),t.fillText(\"\"+this.finger,i,n),t.restore()}}class V{static get NUM_TONES(){return 12}static get roots(){return[\"c\",\"d\",\"e\",\"f\",\"g\",\"a\",\"b\"]}static get root_values(){return[0,2,4,5,7,9,11]}static get root_indices(){return{c:0,d:1,e:2,f:3,g:4,a:5,b:6}}static get canonical_notes(){return[\"c\",\"c#\",\"d\",\"d#\",\"e\",\"f\",\"f#\",\"g\",\"g#\",\"a\",\"a#\",\"b\"]}static get diatonic_intervals(){return[\"unison\",\"m2\",\"M2\",\"m3\",\"M3\",\"p4\",\"dim5\",\"p5\",\"m6\",\"M6\",\"b7\",\"M7\",\"octave\"]}static get diatonic_accidentals(){return{unison:{note:0,accidental:0},m2:{note:1,accidental:-1},M2:{note:1,accidental:0},m3:{note:2,accidental:-1},M3:{note:2,accidental:0},p4:{note:3,accidental:0},dim5:{note:4,accidental:-1},p5:{note:4,accidental:0},m6:{note:5,accidental:-1},M6:{note:5,accidental:0},b7:{note:6,accidental:-1},M7:{note:6,accidental:0},octave:{note:7,accidental:0}}}static get intervals(){return{u:0,unison:0,m2:1,b2:1,min2:1,S:1,H:1,2:2,M2:2,maj2:2,T:2,W:2,m3:3,b3:3,min3:3,M3:4,3:4,maj3:4,4:5,p4:5,\"#4\":6,b5:6,aug4:6,dim5:6,5:7,p5:7,\"#5\":8,b6:8,aug5:8,6:9,M6:9,maj6:9,b7:10,m7:10,min7:10,dom7:10,M7:11,maj7:11,8:12,octave:12}}static get scales(){return{major:[2,2,1,2,2,2,1],dorian:[2,1,2,2,2,1,2],mixolydian:[2,2,1,2,2,1,2],minor:[2,1,2,2,1,2,2]}}static get scaleTypes(){return{M:V.scales.major,m:V.scales.minor}}static get accidentals(){return[\"bb\",\"b\",\"n\",\"#\",\"##\"]}static get noteValues(){return{c:{root_index:0,int_val:0},cn:{root_index:0,int_val:0},\"c#\":{root_index:0,int_val:1},\"c##\":{root_index:0,int_val:2},cb:{root_index:0,int_val:11},cbb:{root_index:0,int_val:10},d:{root_index:1,int_val:2},dn:{root_index:1,int_val:2},\"d#\":{root_index:1,int_val:3},\"d##\":{root_index:1,int_val:4},db:{root_index:1,int_val:1},dbb:{root_index:1,int_val:0},e:{root_index:2,int_val:4},en:{root_index:2,int_val:4},\"e#\":{root_index:2,int_val:5},\"e##\":{root_index:2,int_val:6},eb:{root_index:2,int_val:3},ebb:{root_index:2,int_val:2},f:{root_index:3,int_val:5},fn:{root_index:3,int_val:5},\"f#\":{root_index:3,int_val:6},\"f##\":{root_index:3,int_val:7},fb:{root_index:3,int_val:4},fbb:{root_index:3,int_val:3},g:{root_index:4,int_val:7},gn:{root_index:4,int_val:7},\"g#\":{root_index:4,int_val:8},\"g##\":{root_index:4,int_val:9},gb:{root_index:4,int_val:6},gbb:{root_index:4,int_val:5},a:{root_index:5,int_val:9},an:{root_index:5,int_val:9},\"a#\":{root_index:5,int_val:10},\"a##\":{root_index:5,int_val:11},ab:{root_index:5,int_val:8},abb:{root_index:5,int_val:7},b:{root_index:6,int_val:11},bn:{root_index:6,int_val:11},\"b#\":{root_index:6,int_val:0},\"b##\":{root_index:6,int_val:1},bb:{root_index:6,int_val:10},bbb:{root_index:6,int_val:9}}}isValidNoteValue(t){return!(null==t||t<0||t>=V.NUM_TONES)}isValidIntervalValue(t){return this.isValidNoteValue(t)}getNoteParts(t){if(!t||t.length<1)throw new s.RERR(\"BadArguments\",\"Invalid note name: \"+t);if(t.length>3)throw new s.RERR(\"BadArguments\",\"Invalid note name: \"+t);const e=t.toLowerCase(),i=/^([cdefgab])(b|bb|n|#|##)?$/.exec(e);if(null!=i){return{root:i[1],accidental:i[2]}}throw new s.RERR(\"BadArguments\",\"Invalid note name: \"+t)}getKeyParts(t){if(!t||t.length<1)throw new s.RERR(\"BadArguments\",\"Invalid key: \"+t);const e=t.toLowerCase(),i=/^([cdefgab])(b|#)?(mel|harm|m|M)?$/.exec(e);if(null!=i){const t=i[1],e=i[2];let s=i[3];return s||(s=\"M\"),{root:t,accidental:e,type:s}}throw new s.RERR(\"BadArguments\",`Invalid key: ${t}`)}getNoteValue(t){const e=V.noteValues[t];if(null==e)throw new s.RERR(\"BadArguments\",`Invalid note name: ${t}`);return e.int_val}getIntervalValue(t){const e=V.intervals[t];if(null==e)throw new s.RERR(\"BadArguments\",`Invalid interval name: ${t}`);return e}getCanonicalNoteName(t){if(!this.isValidNoteValue(t))throw new s.RERR(\"BadArguments\",`Invalid note value: ${t}`);return V.canonical_notes[t]}getCanonicalIntervalName(t){if(!this.isValidIntervalValue(t))throw new s.RERR(\"BadArguments\",`Invalid interval value: ${t}`);return V.diatonic_intervals[t]}getRelativeNoteValue(t,e,i){if(null==i&&(i=1),1!==i&&-1!==i)throw new s.RERR(\"BadArguments\",`Invalid direction: ${i}`);let n=(t+i*e)%V.NUM_TONES;return n<0&&(n+=V.NUM_TONES),n}getRelativeNoteName(t,e){const i=this.getNoteParts(t),n=this.getNoteValue(i.root);let r=e-n;if(Math.abs(r)>V.NUM_TONES-3){let i=1;r>0&&(i=-1);const o=(e+1+(n+1))%V.NUM_TONES*i;if(Math.abs(o)>2)throw new s.RERR(\"BadArguments\",`Notes not related: ${t}, ${e})`);r=o}if(Math.abs(r)>2)throw new s.RERR(\"BadArguments\",`Notes not related: ${t}, ${e})`);let o=i.root;if(r>0)for(let t=1;t<=r;++t)o+=\"#\";else if(r<0)for(let t=-1;t>=r;--t)o+=\"b\";return o}getScaleTones(t,e){const i=[t];let s=t;for(let n=0;n<e.length;n+=1)s=this.getRelativeNoteValue(s,e[n]),s!==t&&i.push(s);return i}getIntervalBetween(t,e,i){if(null==i&&(i=1),1!==i&&-1!==i)throw new s.RERR(\"BadArguments\",`Invalid direction: ${i}`);if(!this.isValidNoteValue(t)||!this.isValidNoteValue(e))throw new s.RERR(\"BadArguments\",`Invalid notes: ${t}, ${e}`);let n=1===i?e-t:t-e;return n<0&&(n+=V.NUM_TONES),n}createScaleMap(t){const e=this.getKeyParts(t),i=V.scaleTypes[e.type];let n=e.root;if(e.accidental&&(n+=e.accidental),!i)throw new s.RERR(\"BadArguments\",\"Unsupported key type: \"+t);const r=this.getScaleTones(this.getNoteValue(n),i),o=V.root_indices[e.root],a={};for(let t=0;t<V.roots.length;++t){const e=(o+t)%V.roots.length,i=V.roots[e];let s=this.getRelativeNoteName(i,r[t]);1===s.length&&(s+=\"n\"),a[i]=s}return a}}function G(...t){z.DEBUG&&s.L(\"Vex.Flow.Accidental\",t)}const W=t=>t.getMetrics().width;class z extends B{static get CATEGORY(){return\"accidentals\"}static format(t,e){const i=e.left_shift+1;if(!t||0===t.length)return;const s=[];let n,r=null,o=0;for(let e=0;e<t.length;++e){const i=t[e],a=i.getNote(),h=a.getStave(),l=a.getKeyProps()[i.getIndex()];if(a!==r){for(let t=0;t<a.keys.length;++t)n=a.getKeyProps()[t],o=n.displaced?a.getExtraLeftPx():o;r=a}if(null!==h){const t=h.options.spacing_between_lines_px,e=h.getYForLine(l.line),n=Math.round(e/t*2)/2;s.push({y:e,line:n,shift:o,acc:i,lineSpace:t})}else s.push({line:l.line,shift:o,acc:i})}s.sort((t,e)=>e.line-t.line);const a=[];let h=0,l=null;for(let t=0;t<s.length;t++){const e=s[t];null!==l&&l===e.line||a.push({line:e.line,flatLine:!0,dblSharpLine:!0,numAcc:0,width:0}),\"b\"!==e.acc.type&&\"bb\"!==e.acc.type&&(a[a.length-1].flatLine=!1),\"##\"!==e.acc.type&&(a[a.length-1].dblSharpLine=!1),a[a.length-1].numAcc++,a[a.length-1].width+=e.acc.getWidth()+3,h=e.shift>h?e.shift:h,l=e.line}let c=0;for(let t=0;t<a.length;t++){let e=!1;const i=t;let s=t;for(;s+1<a.length&&!e;)this.checkCollision(a[s],a[s+1])?s++:e=!0;const n=t=>a[i+t],r=t=>t.map(n),o=(t,e)=>{const[i,s]=r([t,e]).map(t=>t.line);return i-s},h=(...t)=>t.map(r).every(t=>!this.checkCollision(...t)),l=s-i+1;let u,d,f=this.checkCollision(a[i],a[s])?\"a\":\"b\";switch(l){case 3:\"a\"===f&&.5===o(1,2)&&.5!==o(0,1)&&(f=\"second_on_bottom\");break;case 4:h([0,2],[1,3])&&(f=\"spaced_out_tetrachord\");break;case 5:\"b\"===f&&h([1,3])&&(f=\"spaced_out_pentachord\",h([0,2],[2,4])&&(f=\"very_spaced_out_pentachord\"));break;case 6:h([0,3],[1,4],[2,5])&&(f=\"spaced_out_hexachord\"),h([0,2],[2,4],[1,3],[3,5])&&(f=\"very_spaced_out_hexachord\")}if(l>=7){let e=2,i=!0;for(;!0===i;){i=!1;for(let t=0;t+e<a.length;t++)if(this.checkCollision(a[t],a[t+e])){i=!0,e++;break}}for(u=t;u<=s;u++)d=(u-t)%e+1,a[u].column=d,c=c>d?c:d}else for(u=t;u<=s;u++)d=m.accidentalColumnsTable[l][f][u-t],a[u].column=d,c=c>d?c:d;t=s}const u=[],d=[];for(let t=0;t<=c;t++)u[t]=0,d[t]=0;u[0]=h+i,d[0]=h+i,a.forEach(t=>{t.width>u[t.column]&&(u[t.column]=t.width)});for(let t=1;t<u.length;t++)d[t]=u[t]+d[t-1];const f=d[d.length-1];let p=0;a.forEach(t=>{let e=0;const i=p+t.numAcc;for(;p<i;p++){const i=d[t.column-1]+e;s[p].acc.setXShift(i),e+=s[p].acc.getWidth()+3,G(\"Line, accCount, shift: \",t.line,p,i)}}),e.left_shift+=f}static checkCollision(t,e){let i=e.line-t.line,s=3;i>0?(s=e.flatLine||e.dblSharpLine?2.5:3,t.dblSharpLine&&(i-=.5)):(s=t.flatLine||t.dblSharpLine?2.5:3,e.dblSharpLine&&(i-=.5));const n=Math.abs(i)<s;return G(\"Line_1, Line_2, Collision: \",t.line,e.line,n),n}static applyAccidentals(t,e){const i=[],s={};t.forEach(t=>{const e=new n(0,1);t.getTickables().forEach(t=>{if(t.shouldIgnoreTicks())return;const n=s[e.value()];n?n.push(t):(i.push(e.value()),s[e.value()]=[t]),e.add(t.getTicks())})});const r=new V;e||(e=\"C\");const o=r.createScaleMap(e);i.forEach(t=>{const e=s[t],i=[],n=t=>{t.isRest()||t.shouldIgnoreTicks()||(t.keys.forEach((e,s)=>{const n=r.getNoteParts(e.split(\"/\")[0]),a=n.accidental||\"n\",h=n.root+a,l=o[n.root]===h,c=i.indexOf(h)>-1;if(!l||l&&c){o[n.root]=h;const e=new z(a);t.addAccidental(s,e),i.push(h)}}),t.getModifiers().forEach(t=>{\"gracenotegroups\"===t.getCategory()&&t.getGraceNotes().forEach(n)}))};e.forEach(n)})}constructor(t=null){if(super(),this.setAttribute(\"type\",\"Accidental\"),G(\"New accidental: \",t),this.note=null,this.index=null,this.type=t,this.position=B.Position.LEFT,this.render_options={font_scale:38,stroke_px:3,parenLeftPadding:2,parenRightPadding:2},this.accidental=m.accidentalCodes(this.type),!this.accidental)throw new s.RERR(\"ArgumentError\",`Unknown accidental type: ${t}`);this.cautionary=!1,this.parenLeft=null,this.parenRight=null,this.reset()}reset(){const t=this.render_options.font_scale;this.glyph=new f(this.accidental.code,t),this.glyph.setOriginX(1),this.cautionary&&(this.parenLeft=new f(m.accidentalCodes(\"{\").code,t),this.parenRight=new f(m.accidentalCodes(\"}\").code,t),this.parenLeft.setOriginX(1),this.parenRight.setOriginX(1))}getCategory(){return z.CATEGORY}getWidth(){const t=this.cautionary?W(this.parenLeft)+W(this.parenRight)+this.render_options.parenLeftPadding+this.render_options.parenRightPadding:0;return W(this.glyph)+t}setNote(t){if(!t)throw new s.RERR(\"ArgumentError\",`Bad note value: ${t}`);this.note=t,\"gracenotes\"===this.note.getCategory()&&(this.render_options.font_scale=25,this.reset())}setAsCautionary(){return this.cautionary=!0,this.render_options.font_scale=28,this.reset(),this}draw(){const{context:t,type:e,position:i,note:n,index:r,cautionary:o,x_shift:a,y_shift:h,glyph:l,parenLeft:c,parenRight:u,render_options:{parenLeftPadding:d,parenRightPadding:f}}=this;if(this.checkContext(),!n||null==r)throw new s.RERR(\"NoAttachedNote\",\"Can't draw accidental without a note and index.\");const m=n.getModifierStartXY(i,r);let p=m.x+a;const g=m.y+h;G(\"Rendering: \",e,p,g),o?(u.render(t,p,g),p-=W(u),p-=f,p-=this.accidental.parenRightPaddingAdjustment,l.render(t,p,g),p-=W(l),p-=d,c.render(t,p,g)):l.render(t,p,g),this.setRendered()}}class U extends B{static get CATEGORY(){return\"notesubgroup\"}static format(t,e){if(!t||0===t.length)return!1;let i=0;for(let e=0;e<t.length;++e){const s=t[e];s.preFormat(),i+=s.getWidth()}return e.left_shift+=i,!0}constructor(t){return super(),this.setAttribute(\"type\",\"NoteSubGroup\"),this.note=null,this.index=null,this.position=B.Position.LEFT,this.subNotes=t,this.subNotes.forEach(t=>{t.ignore_ticks=!1}),this.width=0,this.preFormatted=!1,this.formatter=new ut,this.voice=new P({num_beats:4,beat_value:4,resolution:m.RESOLUTION}).setStrict(!1),this.voice.addTickables(this.subNotes),this}getCategory(){return U.CATEGORY}preFormat(){this.preFormatted||(this.formatter.joinVoices([this.voice]).format([this.voice],0),this.setWidth(this.formatter.getMinTotalWidth()),this.preFormatted=!0)}setNote(t){this.note=t}setWidth(t){this.width=t}getWidth(){return this.width}draw(){this.checkContext();const t=this.getNote();if(!t||null===this.index)throw new s.RuntimeError(\"NoAttachedNote\",\"Can't draw notes without a parent note and parent note index.\");this.setRendered(),this.alignSubNotesWithNote(this.subNotes,t),this.subNotes.forEach(t=>t.setContext(this.context).drawWithStyle())}}class H extends h{constructor(t,e){super(),this.setAttribute(\"type\",\"StaveTie\"),this.notes=t,this.context=null,this.text=e,this.direction=null,this.render_options={cp1:8,cp2:12,text_shift_x:0,first_x_shift:0,last_x_shift:0,y_shift:7,tie_spacing:0,font:{family:\"Arial\",size:10,style:\"\"}},this.font=this.render_options.font,this.setNotes(t)}setFont(t){return this.font=t,this}setDirection(t){return this.direction=t,this}setNotes(t){if(!t.first_note&&!t.last_note)throw new s.RuntimeError(\"BadArguments\",\"Tie needs to have either first_note or last_note set.\");if(t.first_indices||(t.first_indices=[0]),t.last_indices||(t.last_indices=[0]),t.first_indices.length!==t.last_indices.length)throw new s.RuntimeError(\"BadArguments\",\"Tied notes must have similar index sizes\");return this.first_note=t.first_note,this.first_indices=t.first_indices,this.last_note=t.last_note,this.last_indices=t.last_indices,this}isPartial(){return!this.first_note||!this.last_note}renderTie(t){if(0===t.first_ys.length||0===t.last_ys.length)throw new s.RERR(\"BadArguments\",\"No Y-values to render\");const e=this.context;let i=this.render_options.cp1,n=this.render_options.cp2;Math.abs(t.last_x_px-t.first_x_px)<10&&(i=2,n=8);const r=this.render_options.first_x_shift,o=this.render_options.last_x_shift,a=this.render_options.y_shift*t.direction;for(let h=0;h<this.first_indices.length;++h){const l=(t.last_x_px+o+(t.first_x_px+r))/2,c=t.first_ys[this.first_indices[h]]+a,u=t.last_ys[this.last_indices[h]]+a;if(isNaN(c)||isNaN(u))throw new s.RERR(\"BadArguments\",\"Bad indices for tie rendering.\");const d=(c+u)/2+i*t.direction,f=(c+u)/2+n*t.direction;e.beginPath(),e.moveTo(t.first_x_px+r,c),e.quadraticCurveTo(l,d,t.last_x_px+o,u),e.quadraticCurveTo(l,f,t.first_x_px+r,c),e.closePath(),e.fill()}}renderText(t,e){if(!this.text)return;let i=(t+e)/2;i-=this.context.measureText(this.text).width/2,this.context.save(),this.context.setFont(this.font.family,this.font.size,this.font.style),this.context.fillText(this.text,i+this.render_options.text_shift_x,(this.first_note||this.last_note).getStave().getYForTopText()-1),this.context.restore()}draw(){this.checkContext(),this.setRendered();const t=this.first_note,e=this.last_note;let i,s,n,r,o;return t?(i=t.getTieRightX()+this.render_options.tie_spacing,o=t.getStemDirection(),n=t.getYs()):(i=e.getStave().getTieStartX(),n=e.getYs(),this.first_indices=this.last_indices),e?(s=e.getTieLeftX()+this.render_options.tie_spacing,o=e.getStemDirection(),r=e.getYs()):(s=t.getStave().getTieEndX(),r=t.getYs(),this.last_indices=this.first_indices),this.direction&&(o=this.direction),this.renderTie({first_x_px:i,last_x_px:s,first_ys:n,last_ys:r,direction:o}),this.renderText(i,s),!0}}class Y extends H{static createHammeron(t){return new Y(t,\"H\")}static createPulloff(t){return new Y(t,\"P\")}constructor(t,e){super(t,e),this.setAttribute(\"type\",\"TabTie\"),this.render_options.cp1=9,this.render_options.cp2=11,this.render_options.y_shift=3,this.setNotes(t)}draw(){this.checkContext(),this.setRendered();const t=this.first_note,e=this.last_note;let i,s,n,r;return t?(i=t.getTieRightX()+this.render_options.tie_spacing,n=t.getYs()):(i=e.getStave().getTieStartX(),n=e.getYs(),this.first_indices=this.last_indices),e?(s=e.getTieLeftX()+this.render_options.tie_spacing,r=e.getYs()):(s=t.getStave().getTieEndX(),r=t.getYs(),this.last_indices=this.first_indices),this.renderTie({first_x_px:i,last_x_px:s,first_ys:n,last_ys:r,direction:-1}),this.renderText(i,s),!0}}class X extends B{static get CATEGORY(){return\"gracenotegroups\"}static format(t,e){if(!t||0===t.length)return!1;const i=[];let s=null,n=0;for(let e=0;e<t.length;++e){const r=t[e],o=r.getNote(),a=o.getCategory()===k.CATEGORY,h=a?4:0;if(a&&o!==s){for(let t=0;t<o.keys.length;++t){n=o.getKeyProps()[t].displaced?o.getExtraLeftPx():n}s=o}i.push({shift:n,gracenote_group:r,spacing:h})}let r,o=i[0].shift;for(let t=0;t<i.length;++t){const e=i[t].gracenote_group;e.preFormat(),r=e.getWidth()+i[t].spacing,o=Math.max(r,o)}for(let t=0;t<i.length;++t){const e=i[t].gracenote_group;r=e.getWidth()+i[t].spacing,e.setSpacingFromNextModifier(o-Math.min(r,o))}return e.left_shift+=o,!0}constructor(t,e){return super(),this.setAttribute(\"type\",\"GraceNoteGroup\"),this.note=null,this.index=null,this.position=B.Position.LEFT,this.grace_notes=t,this.width=0,this.preFormatted=!1,this.show_slur=e,this.slur=null,this.formatter=new ut,this.voice=new P({num_beats:4,beat_value:4,resolution:m.RESOLUTION}).setStrict(!1),this.render_options={slur_y_shift:0},this.beams=[],this.voice.addTickables(this.grace_notes),this}getCategory(){return X.CATEGORY}preFormat(){this.preFormatted||(this.formatter.joinVoices([this.voice]).format([this.voice],0),this.setWidth(this.formatter.getMinTotalWidth()),this.preFormatted=!0)}beamNotes(t){if((t=t||this.grace_notes).length>1){const e=new T(t);e.render_options.beam_width=3,e.render_options.partial_beam_length=4,this.beams.push(e)}return this}setNote(t){this.note=t}setWidth(t){this.width=t}getWidth(){return this.width}getGraceNotes(){return this.grace_notes}draw(){this.checkContext();const t=this.getNote();if(function(...t){X.DEBUG&&s.L(\"Vex.Flow.GraceNoteGroup\",t)}(\"Drawing grace note group for:\",t),!t||null===this.index)throw new s.RuntimeError(\"NoAttachedNote\",\"Can't draw grace note without a parent note and parent note index.\");if(this.setRendered(),this.alignSubNotesWithNote(this.getGraceNotes(),t),this.grace_notes.forEach(t=>{t.setContext(this.context).draw()}),this.beams.forEach(t=>{t.setContext(this.context).draw()}),this.show_slur){const e=this.getNote().getCategory()===k.CATEGORY,i=e?H:Y;this.slur=new i({last_note:this.grace_notes[0],first_note:t,first_indices:[0],last_indices:[0]}),this.slur.render_options.cp2=12,this.slur.render_options.y_shift=(e?7:5)+this.render_options.slur_y_shift,this.slur.setContext(this.context).draw()}}}class j extends B{static get CATEGORY(){return\"strokes\"}static get Type(){return{BRUSH_DOWN:1,BRUSH_UP:2,ROLL_DOWN:3,ROLL_UP:4,RASQUEDO_DOWN:5,RASQUEDO_UP:6,ARPEGGIO_DIRECTIONLESS:7}}static format(t,e){const i=e.left_shift;if(!t||0===t.length)return this;const s=t.map(t=>{const e=t.getNote();if(e instanceof k){const{line:i,displaced:s}=e.getKeyProps()[t.getIndex()];return{line:i,shift:s?e.getExtraLeftPx():0,stroke:t}}{const{str:i}=e.getPositions()[t.getIndex()];return{line:i,shift:0,stroke:t}}}),n=i,r=s.reduce((t,{stroke:e,shift:i})=>(e.setXShift(n+i),Math.max(e.getWidth()+0,t)),0);return e.left_shift+=r,!0}constructor(t,e){super(),this.setAttribute(\"type\",\"Stroke\"),this.note=null,this.options=s.Merge({},e),this.all_voices=!(\"all_voices\"in this.options)||this.options.all_voices,this.note_end=null,this.index=null,this.type=t,this.position=B.Position.LEFT,this.render_options={font_scale:38,stroke_px:3,stroke_spacing:10},this.font={family:\"serif\",size:10,weight:\"bold italic\"},this.setXShift(0),this.setWidth(10)}getCategory(){return j.CATEGORY}getPosition(){return this.position}addEndNote(t){return this.note_end=t,this}draw(){if(this.checkContext(),this.setRendered(),!this.note||null==this.index)throw new s.RERR(\"NoAttachedNote\",\"Can't draw stroke without a note and index.\");const t=this.note.getModifierStartXY(this.position,this.index);let e=this.note.getYs(),i=t.y,n=t.y;const r=t.x-5,o=this.note.stave.options.spacing_between_lines_px,a=this.getModifierContext().getModifiers(this.note.getCategory());for(let t=0;t<a.length;t++){e=a[t].getYs();for(let r=0;r<e.length;r++)(this.note===a[t]||this.all_voices)&&(i=s.Min(i,e[r]),n=s.Max(n,e[r]))}let h,l,c,u,d;switch(this.type){case j.Type.BRUSH_DOWN:h=\"vc3\",l=-3,c=i-o/2+10,n+=o/2;break;case j.Type.BRUSH_UP:h=\"v11\",l=.5,c=n+o/2,i-=o/2;break;case j.Type.ROLL_DOWN:case j.Type.RASQUEDO_DOWN:h=\"vc3\",l=-3,u=this.x_shift+l-2,this.note instanceof k?(i+=1.5*o,n+=(n-i)%2!=0?.5*o:o,c=i-o,d=n+o+2):(i+=1.5*o,n+=o,c=i-.75*o,d=n+.25*o);break;case j.Type.ROLL_UP:case j.Type.RASQUEDO_UP:h=\"v52\",l=-4,u=this.x_shift+l-1,this.note instanceof k?(c=o/2,i+=.5*o,(n-i)%2==0&&(n+=o/2),c=n+.5*o,d=i-1.25*o):(i+=.25*o,n+=.5*o,c=n+.25*o,d=i-o);break;case j.Type.ARPEGGIO_DIRECTIONLESS:i+=.5*o,n+=o;break;default:throw new s.RERR(\"InvalidType\",`The stroke type ${this.type} does not exist`)}if(this.type===j.Type.BRUSH_DOWN||this.type===j.Type.BRUSH_UP)this.context.fillRect(r+this.x_shift,i,1,n-i);else if(this.note instanceof k)for(let t=i;t<=n;t+=o)f.renderGlyph(this.context,r+this.x_shift-4,t,this.render_options.font_scale,\"va3\");else{let t;for(t=i;t<=n;t+=10)f.renderGlyph(this.context,r+this.x_shift-4,t,this.render_options.font_scale,\"va3\");this.type===j.Type.RASQUEDO_DOWN&&(d=t+.25*o)}this.type!==j.Type.ARPEGGIO_DIRECTIONLESS&&(f.renderGlyph(this.context,r+this.x_shift+l,c,this.render_options.font_scale,h),this.type!==j.Type.RASQUEDO_DOWN&&this.type!==j.Type.RASQUEDO_UP||(this.context.save(),this.context.setFont(this.font.family,this.font.size,this.font.weight),this.context.fillText(\"R\",r+u,d),this.context.restore()))}}class K extends B{static get CATEGORY(){return\"stringnumber\"}static format(t,e){const i=e.left_shift,s=e.right_shift;if(!t||0===t.length)return this;const n=[];let r,o,a,h,l,c=null,u=0,d=0;for(r=0;r<t.length;++r)for(o=t[r],a=o.getNote(),r=0;r<t.length;++r){o=t[r],a=o.getNote(),h=o.getPosition();const e=a.getKeyProps()[o.getIndex()];if(a!==c){for(let t=0;t<a.keys.length;++t)l=a.getKeyProps()[t],0===i&&(u=l.displaced?a.getExtraLeftPx():u),0===s&&(d=l.displaced?a.getExtraRightPx():d);c=a}n.push({pos:h,note:a,num:o,line:e.line,shiftL:u,shiftR:d})}n.sort((t,e)=>e.line-t.line);let f=0,m=0,p=0,g=0,b=null,S=null;for(r=0;r<n.length;++r){let t=0;a=n[r].note,h=n[r].pos,o=n[r].num;const e=n[r].line,l=n[r].shiftL,c=n[r].shiftR;e===b&&a===S||(f=i+l,m=s+c);const d=o.getWidth()+1;h===B.Position.LEFT?(o.setXShift(i),t=u+d,p=t>p?t:p):h===B.Position.RIGHT&&(o.setXShift(m),t+=d,g=t>g?t:g),b=e,S=a}return e.left_shift+=p,e.right_shift+=g,!0}constructor(t){super(),this.setAttribute(\"type\",\"StringNumber\"),this.note=null,this.last_note=null,this.index=null,this.string_number=t,this.setWidth(20),this.position=B.Position.ABOVE,this.x_shift=0,this.y_shift=0,this.x_offset=0,this.y_offset=0,this.dashed=!0,this.leg=x.LineEndType.NONE,this.radius=8,this.font={family:\"sans-serif\",size:10,weight:\"bold\"}}getCategory(){return K.CATEGORY}getNote(){return this.note}setNote(t){return this.note=t,this}getIndex(){return this.index}setIndex(t){return this.index=t,this}setLineEndType(t){return t>=x.LineEndType.NONE&&t<=x.LineEndType.DOWN&&(this.leg=t),this}setStringNumber(t){return this.string_number=t,this}setOffsetX(t){return this.x_offset=t,this}setOffsetY(t){return this.y_offset=t,this}setLastNote(t){return this.last_note=t,this}setDashed(t){return this.dashed=t,this}draw(){const t=this.checkContext();if(!this.note||null==this.index)throw new s.RERR(\"NoAttachedNote\",\"Can't draw string number without a note and index.\");this.setRendered();const e=this.note.stave.options.spacing_between_lines_px,i=this.note.getModifierStartXY(this.position,this.index);let n=i.x+this.x_shift+this.x_offset,r=i.y+this.y_shift+this.y_offset;switch(this.position){case B.Position.ABOVE:case B.Position.BELOW:{const t=this.note.getStemExtents();let s=t.topY,n=t.baseY+2;this.note.stem_direction===k.STEM_DOWN&&(s=t.baseY,n=t.topY-2),r=this.position===B.Position.ABOVE?this.note.hasStem()?s-1.75*e:i.y-1.75*e:this.note.hasStem()?n+1.5*e:i.y+1.75*e,r+=this.y_shift+this.y_offset;break}case B.Position.LEFT:n-=this.radius/2+5;break;case B.Position.RIGHT:n+=this.radius/2+6;break;default:throw new s.RERR(\"InvalidPosition\",`The position ${this.position} is invalid`)}t.save(),t.beginPath(),t.arc(n,r,this.radius,0,2*Math.PI,!1),t.lineWidth=1.5,t.stroke(),t.setFont(this.font.family,this.font.size,this.font.weight);const o=n-t.measureText(this.string_number).width/2;if(t.fillText(\"\"+this.string_number,o,r+4.5),null!=this.last_note){const e=this.last_note.getStemX()-this.note.getX()+5;let i,s;switch(t.strokeStyle=\"#000000\",t.lineCap=\"round\",t.lineWidth=.6,this.dashed?x.drawDashedLine(t,n+10,r,n+e,r,[3,3]):x.drawDashedLine(t,n+10,r,n+e,r,[3,0]),this.leg){case x.LineEndType.UP:i=-10,s=this.dashed?[3,3]:[3,0],x.drawDashedLine(t,n+e,r,n+e,r+i,s);break;case x.LineEndType.DOWN:i=10,s=this.dashed?[3,3]:[3,0],x.drawDashedLine(t,n+e,r,n+e,r+i,s)}}t.restore()}}const{ABOVE:q,BELOW:J}=B.Position,$=(t,e)=>.5*t(e/.5),Z=(t,e)=>e===q?t<=5:t>=1,Q=(t,e)=>Z(t,e)?e===q?Math.ceil:Math.floor:Math.round,tt=t=>{const e=t.getCategory();return\"stavenotes\"===e||\"gracenotes\"===e};class et extends B{static get CATEGORY(){return\"articulations\"}static get INITIAL_OFFSET(){return-.5}static format(t,e){if(!t||0===t.length)return!1;const i=(t,e,i)=>$(Q(e,i),t.glyph.getMetrics().height/10+.5);t.filter(t=>t.getPosition()===q).forEach(t=>{t.setTextLine(e.top_text_line),e.top_text_line+=i(t,e.top_text_line,q)}),t.filter(t=>t.getPosition()===J).forEach(t=>{t.setTextLine(e.text_line),e.text_line+=i(t,e.text_line,J)});const s=t.map(t=>t.getWidth()).reduce((t,e)=>Math.max(e,t));return e.left_shift+=s/2,e.right_shift+=s/2,!0}static easyScoreHook({articulations:t},e,i){if(!t)return;const s={staccato:\"a.\",tenuto:\"a-\"};t.split(\",\").map(t=>t.trim().split(\".\")).map(([t,e])=>{const n={type:s[t]};return e&&(n.position=B.PositionString[e]),i.getFactory().Articulation(n)}).map(t=>e.addModifier(0,t))}constructor(t){if(super(),this.setAttribute(\"type\",\"Articulation\"),this.note=null,this.index=null,this.type=t,this.position=J,this.render_options={font_scale:38},this.articulation=m.articulationCodes(this.type),!this.articulation)throw new s.RERR(\"ArgumentError\",`Articulation not found: ${this.type}`);this.glyph=new f(this.articulation.code,this.render_options.font_scale),this.setWidth(this.glyph.getMetrics().width)}getCategory(){return et.CATEGORY}draw(){const{note:t,index:e,position:i,glyph:n,articulation:{between_lines:r},text_line:o,context:a}=this;if(this.checkContext(),!t||null==e)throw new s.RERR(\"NoAttachedNote\",\"Can't draw Articulation without a note and index.\");this.setRendered();const h=t.getStave(),l=h.getSpacingBetweenLines(),c=\"tabnotes\"===t.getCategory(),{x:u}=t.getModifierStartXY(i,e),d=!r||c,f=((t,e)=>{const i=e===q&&t.getStemDirection()===E.UP||e===J&&t.getStemDirection()===E.DOWN;return tt(t)?t.hasStem()&&i?.5:1:t.hasStem()&&i?1:0})(t,i);let m={[q]:()=>{n.setOrigin(.5,1);const e=((t,e)=>{const i=t.getStave(),n=t.getStemDirection(),{topY:r,baseY:o}=t.getStemExtents();if(tt(t))return t.hasStem()?n===E.UP?r:o:Math.min(...t.getYs());if(\"tabnotes\"===t.getCategory())return t.hasStem()&&n===E.UP?r:i.getYForTopText(e);throw new s.RERR(\"UnknownCategory\",\"Only can get the top and bottom ys of stavenotes and tabnotes\")})(t,o)-(o+f)*l;return d?Math.min(h.getYForTopText(et.INITIAL_OFFSET),e):e},[J]:()=>{n.setOrigin(.5,0);const e=((t,e)=>{const i=t.getStave(),n=t.getStemDirection(),{topY:r,baseY:o}=t.getStemExtents();if(tt(t))return t.hasStem()?n===E.UP?o:r:Math.max(...t.getYs());if(\"tabnotes\"===t.getCategory())return t.hasStem()?n===E.UP?i.getYForBottomText(e):r:i.getYForBottomText(e);throw new s.RERR(\"UnknownCategory\",\"Only can get the top and bottom ys of stavenotes and tabnotes\")})(t,o)+(o+f)*l;return d?Math.max(h.getYForBottomText(et.INITIAL_OFFSET),e):e}}[i]();if(!c){const s=i===q?-1:1,o=c?t.positions[e].str:t.getKeyProps()[e].line,a=(t.getYs()[e]-m)/l+o,h=((t,e,i,s)=>{const n=$(Q(e,i),e);if(t&&Z(n,i)&&n%1==0){return n+.5*-s}return n})(r,a,i,s);Z(h,i)&&n.setOrigin(.5,.5),m+=Math.abs(h-a)*l*s}!function(...t){et.DEBUG&&s.L(\"Vex.Flow.Articulation\",t)}(`Rendering articulation at (x: ${u}, y: ${m})`),n.render(a,u,m)}}class it extends I{static getNextContext(t){const e=t.tContexts,i=e.indexOf(t);return e[i+1]}constructor(){super(),this.setAttribute(\"type\",\"TickContext\"),this.currentTick=new n(0,1),this.maxTicks=new n(0,1),this.minTicks=null,this.padding=3,this.x=0,this.xBase=0,this.xOffset=0,this.tickables=[],this.notePx=0,this.extraLeftPx=0,this.extraRightPx=0,this.tContexts=[]}getX(){return this.x}setX(t){return this.x=t,this.xBase=t,this.xOffset=0,this}getXBase(){return this.xBase}setXBase(t){this.xBase=t,this.x=t+this.xOffset}getXOffset(){return this.xOffset}setXOffset(t){this.xOffset=t,this.x=this.xBase+t}getWidth(){return this.width+2*this.padding}setPadding(t){return this.padding=t,this}getMaxTicks(){return this.maxTicks}getMinTicks(){return this.minTicks}getTickables(){return this.tickables}getCenterAlignedTickables(){return this.tickables.filter(t=>t.isCenterAligned())}getMetrics(){const{width:t,notePx:e,extraLeftPx:i,extraRightPx:s}=this;return{width:t,notePx:e,extraLeftPx:i,extraRightPx:s}}getCurrentTick(){return this.currentTick}setCurrentTick(t){this.currentTick=t,this.preFormatted=!1}getExtraPx(){let t=0,e=0,i=0,s=0;for(let n=0;n<this.tickables.length;n++){i=Math.max(this.tickables[n].extraLeftPx||0,i),s=Math.max(this.tickables[n].extraRightPx||0,s);const r=this.tickables[n].modifierContext;r&&null!=r&&(t=Math.max(t,r.state.left_shift),e=Math.max(e,r.state.right_shift))}return{left:t,right:e,extraLeft:i,extraRight:s}}addTickable(t){if(!t)throw new s.RERR(\"BadArgument\",\"Invalid tickable added.\");if(!t.shouldIgnoreTicks()){this.ignore_ticks=!1;const e=t.getTicks();e.greaterThan(this.maxTicks)&&(this.maxTicks=e.clone()),(null==this.minTicks||e.lessThan(this.minTicks))&&(this.minTicks=e.clone())}return t.setTickContext(this),this.tickables.push(t),this.preFormatted=!1,this}preFormat(){if(this.preFormatted)return this;for(let t=0;t<this.tickables.length;++t){const e=this.tickables[t];e.preFormat();const i=e.getMetrics();this.extraLeftPx=Math.max(this.extraLeftPx,i.extraLeftPx+i.modLeftPx),this.extraRightPx=Math.max(this.extraRightPx,i.extraRightPx+i.modRightPx),this.notePx=Math.max(this.notePx,i.noteWidth),this.width=this.notePx+this.extraLeftPx+this.extraRightPx}return this}postFormat(){return this.postFormatted||(this.postFormatted=!0),this}}class st extends B{static get CATEGORY(){return\"ornaments\"}static format(t,e){if(!t||0===t.length)return!1;let i=0;for(let s=0;s<t.length;++s){const n=t[s],r=2;i=Math.max(n.getWidth(),i),n.getPosition()===B.Position.ABOVE?(n.setTextLine(e.top_text_line),e.top_text_line+=r):(n.setTextLine(e.text_line),e.text_line+=r)}return e.left_shift+=i/2,e.right_shift+=i/2,!0}constructor(t){if(super(),this.setAttribute(\"type\",\"Ornament\"),this.note=null,this.index=null,this.type=t,this.position=B.Position.ABOVE,this.delayed=!1,this.accidentalUpper=null,this.accidentalLower=null,this.render_options={font_scale:38,accidentalLowerPadding:3,accidentalUpperPadding:3},this.ornament=m.ornamentCodes(this.type),!this.ornament)throw new s.RERR(\"ArgumentError\",`Ornament not found: '${this.type}'`);this.glyph=new f(this.ornament.code,this.render_options.font_scale),this.glyph.setOrigin(.5,1)}getCategory(){return st.CATEGORY}setDelayed(t){return this.delayed=t,this}setUpperAccidental(t){const e=this.render_options.font_scale/1.3;return this.accidentalUpper=new f(m.accidentalCodes(t).code,e),this.accidentalUpper.setOrigin(.5,1),this}setLowerAccidental(t){const e=this.render_options.font_scale/1.3;return this.accidentalLower=new f(m.accidentalCodes(t).code,e),this.accidentalLower.setOrigin(.5,1),this}draw(){if(this.checkContext(),!this.note||null==this.index)throw new s.RERR(\"NoAttachedNote\",\"Can't draw Ornament without a note and index.\");this.setRendered();const t=this.context,e=this.note.getStemDirection(),i=this.note.getStave(),n=this.note.getStem().getExtents();let r=e===k.STEM_DOWN?n.baseY:n.topY;\"tabnotes\"===this.note.getCategory()&&(this.note.hasStem()?e===k.STEM_DOWN&&(r=i.getYForTopText(this.text_line)):r=i.getYForTopText(this.text_line));const o=e===k.STEM_DOWN,a=i.getSpacingBetweenLines();let h=1;!o&&this.note.beam&&(h+=.5);const l=r-a*(this.text_line+h);let c=this.note.getModifierStartXY(this.position,this.index).x,u=Math.min(i.getYForTopText(this.text_line),l);if(u+=this.y_shift,this.delayed){let t=0;if(void 0!==this.delayXShift)t=this.delayXShift;else{t+=this.glyph.getMetrics().width/2;const e=it.getNextContext(this.note.getTickContext());t+=e?.5*(e.getX()-c):.5*(i.x+i.width-c),this.delayXShift=t}c+=t}!function(...t){st.DEBUG&&s.L(\"Vex.Flow.Ornament\",t)}(\"Rendering ornament: \",this.ornament,c,u),this.accidentalLower&&(this.accidentalLower.render(t,c,u),u-=this.accidentalLower.getMetrics().height,u-=this.render_options.accidentalLowerPadding),this.glyph.render(t,c,u),u-=this.glyph.getMetrics().height,this.accidentalUpper&&(u-=this.render_options.accidentalUpperPadding,this.accidentalUpper.render(t,c,u))}}class nt extends B{static get CATEGORY(){return\"annotations\"}static get Justify(){return{LEFT:1,CENTER:2,RIGHT:3,CENTER_STEM:4}}static get JustifyString(){return{left:nt.Justify.LEFT,right:nt.Justify.RIGHT,center:nt.Justify.CENTER,centerStem:nt.Justify.CENTER_STEM}}static get VerticalJustify(){return{TOP:1,CENTER:2,BOTTOM:3,CENTER_STEM:4}}static get VerticalJustifyString(){return{above:nt.VerticalJustify.TOP,top:nt.VerticalJustify.TOP,below:nt.VerticalJustify.BOTTOM,bottom:nt.VerticalJustify.BOTTOM,center:nt.VerticalJustify.CENTER,centerStem:nt.VerticalJustify.CENTER_STEM}}static format(t,e){if(!t||0===t.length)return!1;let i=0;for(let s=0;s<t.length;++s){const n=t[s];i=Math.max(n.getWidth(),i),n.getPosition()===B.Position.ABOVE?(n.setTextLine(e.top_text_line),e.top_text_line++):(n.setTextLine(e.text_line),e.text_line++)}return e.left_shift+=i/2,e.right_shift+=i/2,!0}constructor(t){super(),this.setAttribute(\"type\",\"Annotation\"),this.note=null,this.index=null,this.text=t,this.justification=nt.Justify.CENTER,this.vert_justification=nt.VerticalJustify.TOP,this.font={family:\"Arial\",size:10,weight:\"\"},this.setWidth(m.textWidth(t))}getCategory(){return nt.CATEGORY}setFont(t,e,i){return this.font={family:t,size:e,weight:i},this}setVerticalJustification(t){return this.vert_justification=\"string\"==typeof t?nt.VerticalJustifyString[t]:t,this}getJustification(){return this.justification}setJustification(t){return this.justification=\"string\"==typeof t?nt.JustifyString[t]:t,this}draw(){if(this.checkContext(),!this.note)throw new s.RERR(\"NoNoteForAnnotation\",\"Can't draw text annotation without an attached note.\");this.setRendered();const t=this.note.getModifierStartXY(B.Position.ABOVE,this.index);this.context.save(),this.context.setFont(this.font.family,this.font.size,this.font.weight);const e=this.context.measureText(this.text).width,i=this.context.measureText(\"m\").width;let n,r,o,a;n=this.justification===nt.Justify.LEFT?t.x:this.justification===nt.Justify.RIGHT?t.x-e:this.justification===nt.Justify.CENTER?t.x-e/2:this.note.getStemX()-e/2;const h=this.note.hasStem(),l=this.note.getStave();if(h&&(o=this.note.getStem().getExtents(),a=l.getSpacingBetweenLines()),this.vert_justification===nt.VerticalJustify.BOTTOM){if(r=l.getYForBottomText(this.text_line+m.TEXT_HEIGHT_OFFSET_HACK),h){const t=1===this.note.getStemDirection()?o.baseY:o.topY;r=Math.max(r,t+a*(this.text_line+2))}}else if(this.vert_justification===nt.VerticalJustify.CENTER){const t=this.note.getYForTopText(this.text_line)-1;r=t+(l.getYForBottomText(this.text_line)-t)/2+i/2}else if(this.vert_justification===nt.VerticalJustify.TOP)r=Math.min(l.getYForTopText(this.text_line),this.note.getYs()[0]-10),h&&(r=Math.min(r,o.topY-5-a*this.text_line));else{const t=this.note.getStemExtents();r=t.topY+(t.baseY-t.topY)/2+i/2}!function(...t){nt.DEBUG&&s.L(\"Vex.Flow.Annotation\",t)}(\"Rendering annotation: \",this.text,n,r),this.context.fillText(this.text,n,r),this.context.restore()}}class rt extends B{static get CATEGORY(){return\"bends\"}static get UP(){return 0}static get DOWN(){return 1}static format(t,e){if(!t||0===t.length)return!1;let i=0;const s=e.top_text_line;for(let e=0;e<t.length;++e){const n=t[e];n.setXShift(i),i=n.getWidth(),n.setTextLine(s)}return e.right_shift+=i,e.top_text_line+=1,!0}constructor(t,e,i){super(),this.setAttribute(\"type\",\"Bend\"),this.text=t,this.x_shift=0,this.release=e||!1,this.font=\"10pt Arial\",this.render_options={line_width:1.5,line_style:\"#777777\",bend_width:8,release_width:8},i?this.phrase=i:(this.phrase=[{type:rt.UP,text:this.text}],this.release&&this.phrase.push({type:rt.DOWN,text:\"\"})),this.updateWidth()}getCategory(){return rt.CATEGORY}setXShift(t){this.x_shift=t,this.updateWidth()}setFont(t){return this.font=t,this}getText(){return this.text}updateWidth(){const t=this;function e(e){let i;return i=t.context?t.context.measureText(e).width:m.textWidth(e),i}let i=0;for(let t=0;t<this.phrase.length;++t){const n=this.phrase[t];if(\"width\"in n)i+=n.width;else{const t=n.type===rt.UP?this.render_options.bend_width:this.render_options.release_width;n.width=s.Max(t,e(n.text))+3,n.draw_width=n.width/2,i+=n.width}}return this.setWidth(i+this.x_shift),this}draw(){if(this.checkContext(),!this.note||null==this.index)throw new s.RERR(\"NoNoteForBend\",\"Can't draw bend without a note or index.\");this.setRendered();const t=this.note.getModifierStartXY(B.Position.RIGHT,this.index);t.x+=3,t.y+=.5;const e=this.x_shift,i=this.context,n=this.note.getStave().getYForTopText(this.text_line)+3,r=this.note.getStave().getYForTopText(this.text_line)-1,o=this;function a(t,e,s,n){const r=t+s,a=e;i.save(),i.beginPath(),i.setLineWidth(o.render_options.line_width),i.setStrokeStyle(o.render_options.line_style),i.setFillStyle(o.render_options.line_style),i.moveTo(t,e),i.quadraticCurveTo(r,a,t+s,n),i.stroke(),i.restore()}function h(t,e,s,n){i.save(),i.beginPath(),i.setLineWidth(o.render_options.line_width),i.setStrokeStyle(o.render_options.line_style),i.setFillStyle(o.render_options.line_style),i.moveTo(t,n),i.quadraticCurveTo(t+s,n,t+s,e),i.stroke(),i.restore()}function l(t,e,s){const n=s||1;i.beginPath(),i.moveTo(t,e),i.lineTo(t-4,e+4*n),i.lineTo(t+4,e+4*n),i.closePath(),i.fill()}function c(t,e){i.save(),i.setRawFont(o.font);const s=t-i.measureText(e).width/2;i.fillText(e,s,r),i.restore()}let u=null,d=0;for(let i=0;i<this.phrase.length;++i){const s=this.phrase[i];0===i&&(s.draw_width+=e),d=s.draw_width+(u?u.draw_width:0)-(1===i?e:0),s.type===rt.UP&&(u&&u.type===rt.UP&&l(t.x,n),a(t.x,t.y,d,n)),s.type===rt.DOWN&&(u&&u.type===rt.UP&&h(t.x,t.y,d,n),u&&u.type===rt.DOWN&&(l(t.x,t.y,-1),h(t.x,t.y,d,n)),null===u&&(d=s.draw_width,h(t.x,t.y,d,n))),c(t.x+d,s.text),u=s,u.x=t.x,t.x+=d}u.type===rt.UP?l(u.x+d,n):u.type===rt.DOWN&&l(u.x+d,t.y,-1)}}class ot extends B{static get CATEGORY(){return\"vibratos\"}static format(t,e,i){if(!t||0===t.length)return!1;let s=e.top_text_line,n=0,r=e.right_shift-7;const o=i.getModifiers(rt.CATEGORY);o&&o.length>0&&s--;for(let e=0;e<t.length;++e){const i=t[e];i.setXShift(r),i.setTextLine(s),n+=i.getWidth(),r+=n}return e.right_shift+=n,e.top_text_line+=1,!0}constructor(){super(),this.setAttribute(\"type\",\"Vibrato\"),this.position=B.Position.RIGHT,this.render_options={harsh:!1,vibrato_width:20,wave_height:6,wave_width:4,wave_girth:2},this.setVibratoWidth(this.render_options.vibrato_width)}getCategory(){return ot.CATEGORY}setHarsh(t){return this.render_options.harsh=t,this}setVibratoWidth(t){return this.render_options.vibrato_width=t,this.setWidth(t),this}draw(){const t=this.checkContext();if(!this.note)throw new s.RERR(\"NoNoteForVibrato\",\"Can't draw vibrato without an attached note.\");this.setRendered();const e=this.note.getModifierStartXY(B.Position.RIGHT,this.index).x+this.x_shift,i=this.note.getYForTopText(this.text_line)+2;ot.renderVibrato(t,e,i,this.render_options)}static renderVibrato(t,e,i,s){const{harsh:n,vibrato_width:r,wave_width:o,wave_girth:a,wave_height:h}=s,l=r/o;let c;if(t.beginPath(),n){for(t.moveTo(e,i+a+1),c=0;c<l/2;++c)t.lineTo(e+o,i-h/2),e+=o,t.lineTo(e+o,i+h/2),e+=o;for(c=0;c<l/2;++c)t.lineTo(e-o,i-h/2+a+1),e-=o,t.lineTo(e-o,i+h/2+a+1),e-=o;t.fill()}else{for(t.moveTo(e,i+a),c=0;c<l/2;++c)t.quadraticCurveTo(e+o/2,i-h/2,e+o,i),e+=o,t.quadraticCurveTo(e+o/2,i+h/2,e+o,i),e+=o;for(c=0;c<l/2;++c)t.quadraticCurveTo(e-o/2,i+h/2+a,e-o,i+a),e-=o,t.quadraticCurveTo(e-o/2,i-h/2+a,e-o,i+a),e-=o;t.fill()}}}function at(...t){ht.DEBUG&&s.L(\"Vex.Flow.ModifierContext\",t)}class ht{constructor(){this.modifiers={},this.preFormatted=!1,this.postFormatted=!1,this.width=0,this.spacing=0,this.state={left_shift:0,right_shift:0,text_line:0,top_text_line:0},this.PREFORMAT=[k,F,O,z,j,X,U,K,et,st,nt,rt,ot],this.POSTFORMAT=[k]}addModifier(t){const e=t.getCategory();return this.modifiers[e]||(this.modifiers[e]=[]),this.modifiers[e].push(t),t.setModifierContext(this),this.preFormatted=!1,this}getModifiers(t){return this.modifiers[t]}getWidth(){return this.width}getExtraLeftPx(){return this.state.left_shift}getExtraRightPx(){return this.state.right_shift}getState(){return this.state}getMetrics(){if(!this.formatted)throw new s.RERR(\"UnformattedModifier\",\"Unformatted modifier has no metrics.\");return{width:this.state.left_shift+this.state.right_shift+this.spacing,spacing:this.spacing,extra_left_px:this.state.left_shift,extra_right_px:this.state.right_shift}}preFormat(){this.preFormatted||(this.PREFORMAT.forEach(t=>{at(\"Preformatting ModifierContext: \",t.CATEGORY),t.format(this.getModifiers(t.CATEGORY),this.state,this)}),this.width=this.state.left_shift+this.state.right_shift,this.preFormatted=!0)}postFormat(){this.postFormatted||this.POSTFORMAT.forEach(t=>{at(\"Postformatting ModifierContext: \",t.CATEGORY),t.postFormat(this.getModifiers(t.CATEGORY),this)})}}function lt(t,e,i,n){let r=e;for(i+=1;i<t.length;i+=1){const e=t[i];if(!e.isRest()&&!e.shouldIgnoreTicks()){r=e.getLineForRest();break}}if(n&&e!==r){const t=Math.max(e,r),i=Math.min(e,r);r=s.MidLine(t,i)}return r}function ct(t,e,i){if(!t||!t.length)throw new s.RERR(\"BadArgument\",\"No voices to format\");const r=t[0].getTotalTicks(),o=t.reduce((t,e)=>{if(!e.getTotalTicks().equals(r))throw new s.RERR(\"TickMismatch\",\"Voices should have same total note duration in ticks.\");if(e.getMode()===P.Mode.STRICT&&!e.isComplete())throw new s.RERR(\"IncompleteVoice\",\"Voice does not have enough notes.\");return Math.max(t,n.LCM(t,e.getResolutionMultiplier()))},1),a={},h=[],l=[];return t.forEach(t=>{const s=new n(0,o);t.getTickables().forEach(t=>{const n=s.numerator;if(!a[n]){const t=new e;l.push(t),a[n]=t}i(t,a[n]),h.push(n),s.add(t.getTicks())})}),{map:a,array:l,list:s.SortAndUnique(h,(t,e)=>t-e,(t,e)=>t===e),resolutionMultiplier:o}}class ut{static SimpleFormat(t,e=0,{paddingBetween:i=10}={}){t.reduce((t,e)=>{e.addToModifierContext(new ht);const s=(new it).addTickable(e).preFormat(),n=s.getExtraPx();return s.setX(t+n.left),t+s.getWidth()+n.right+i},e)}static plotDebugging(t,e,i,s,n){const r=i+C.STAVEPADDING,o=e.contextGaps;t.save(),t.setFont(\"Arial\",8,\"\"),o.gaps.forEach(e=>{var i,o,a;i=r+e.x1,o=r+e.x2,a=\"#aaa\",t.beginPath(),t.setStrokeStyle(a),t.setFillStyle(a),t.setLineWidth(1),t.fillRect(i,s,o-i,n-s),t.fillText(Math.round(e.x2-e.x1),r+e.x1,n+12)}),t.fillText(Math.round(o.total)+\"px\",r-20,n+12),t.setFillStyle(\"red\"),t.fillText(\"Loss: \"+e.lossHistory.map(t=>Math.round(t)),r-20,n+22),t.restore()}static FormatAndDraw(t,e,i,n){const r={auto_beam:!1,align_rests:!1};\"object\"==typeof n?s.Merge(r,n):\"boolean\"==typeof n&&(r.auto_beam=n);const o=new P(m.TIME4_4).setMode(P.Mode.SOFT).addTickables(i),a=r.auto_beam?T.applyAndGetBeams(o):[];return(new ut).joinVoices([o],{align_rests:r.align_rests}).formatToStave([o],e,{align_rests:r.align_rests,stave:e}),o.setStave(e).draw(t,e),a.forEach(e=>e.setContext(t).draw()),o.getBoundingBox()}static FormatAndDrawTab(t,e,i,n,r,o,a){const h={auto_beam:o,align_rests:!1};\"object\"==typeof a?s.Merge(h,a):\"boolean\"==typeof a&&(h.auto_beam=a);const l=new P(m.TIME4_4).setMode(P.Mode.SOFT).addTickables(r),c=new P(m.TIME4_4).setMode(P.Mode.SOFT).addTickables(n),u=h.auto_beam?T.applyAndGetBeams(l):[];(new ut).joinVoices([l],{align_rests:h.align_rests}).joinVoices([c]).formatToStave([l,c],i,{align_rests:h.align_rests}),l.draw(t,i),c.draw(t,e),u.forEach(e=>e.setContext(t).draw()),new A(i,e).setContext(t).draw()}static AlignRestsToNotes(t,e,i){return t.forEach((s,n)=>{if(s instanceof k&&s.isRest()){if(s.tuplet&&!i)return;const r=s.getGlyph().position.toUpperCase();if(\"R/4\"!==r&&\"B/4\"!==r)return;if(e||null!=s.beam){const e=s.getKeyProps()[0];if(0===n)e.line=lt(t,e.line,n,!1),s.setKeyLine(0,e.line);else if(n>0&&n<t.length){let i;t[n-1].isRest()?(i=t[n-1].getKeyProps()[0].line,e.line=i):(i=t[n-1].getLineForRest(),e.line=lt(t,i,n,!0)),s.setKeyLine(0,e.line)}}}}),this}constructor(){this.minTotalWidth=0,this.hasMinTotalWidth=!1,this.totalTicks=new n(0,1),this.tickContexts=null,this.modiferContexts=null,this.contextGaps={total:0,gaps:[]},this.voices=[]}alignRests(t,e){if(!t||!t.length)throw new s.RERR(\"BadArgument\",\"No voices to format rests\");t.forEach(t=>ut.AlignRestsToNotes(t.getTickables(),e))}preCalculateMinTotalWidth(t){if(this.hasMinTotalWidth)return this.minTotalWidth;if(!this.tickContexts){if(!t)throw new s.RERR(\"BadArgument\",\"'voices' required to run preCalculateMinTotalWidth\");this.createTickContexts(t)}const{list:e,map:i}=this.tickContexts;return this.minTotalWidth=e.map(t=>{const e=i[t];return e.preFormat(),e.getWidth()}).reduce((t,e)=>t+e,0),this.hasMinTotalWidth=!0,this.minTotalWidth}getMinTotalWidth(){if(!this.hasMinTotalWidth)throw new s.RERR(\"NoMinTotalWidth\",\"Call 'preCalculateMinTotalWidth' or 'preFormat' before calling 'getMinTotalWidth'\");return this.minTotalWidth}createModifierContexts(t){const e=ct(t,ht,(t,e)=>t.addToModifierContext(e));return this.modiferContexts=e,e}createTickContexts(t){const e=ct(t,it,(t,e)=>e.addTickable(t));return e.array.forEach(t=>{t.tContexts=e.array}),this.totalTicks=t[0].getTicksUsed().clone(),this.tickContexts=e,e}preFormat(t=0,e,i,s){const n=this.tickContexts,{list:r,map:o,resolutionMultiplier:a}=n;i&&s&&i.forEach(t=>t.setStave(s).preFormat());let h=0,l=0;const c=t/2;if(this.minTotalWidth=0,r.forEach(t=>{const i=o[t];e&&i.setContext(e),i.preFormat();const s=i.getWidth();this.minTotalWidth+=s;const n=i.getMetrics();h=h+l+n.extraLeftPx,i.setX(h),l=s-n.extraLeftPx}),this.minTotalWidth=h+l,this.hasMinTotalWidth=!0,t<=0)return;const u=(t-this.minTotalWidth)/(this.totalTicks.value()*a);let d=0;r.forEach((t,e)=>{const i=r[e-1]||0,s=o[t];d+=(t-i)*u,s.setX(s.getX()+d),s.getCenterAlignedTickables().forEach(t=>{t.center_x_shift=c-s.getX()})}),1!==r.length&&(this.justifyWidth=t,this.lossHistory=[],this.evaluate())}evaluate(){const t=this.justifyWidth;this.contextGaps={total:0,gaps:[]},this.tickContexts.list.forEach((t,e)=>{if(0===e)return;const i=this.tickContexts.list[e-1],s=this.tickContexts.map[i],n=this.tickContexts.map[t],r=s.getMetrics(),o=s.getX()+r.width,a=n.getX(),h=a-o;this.contextGaps.total+=h,this.contextGaps.gaps.push({x1:o,x2:a}),n.getFormatterMetrics().freedom.left=h,s.getFormatterMetrics().freedom.right=h});const e=this.durationStats={};this.voices.forEach(i=>{i.getTickables().forEach((i,s,n)=>{const r=i.getTicks().clone().simplify().toString(),o=i.getMetrics(),a=i.getFormatterMetrics(),h=i.getX()+o.noteWidth+o.modRightPx+o.extraRightPx;let l=0;if(s<n.length-1){const t=n[s+1],e=t.getMetrics();l=t.getX()-e.modLeftPx-e.extraLeftPx-h,a.space.used=t.getX()-i.getX(),t.getFormatterMetrics().freedom.left=l}else l=t-h,a.space.used=t-i.getX();a.freedom.right=l,function(t,i){const s=e[t];void 0===s?e[t]={mean:i,count:1}:(s.count+=1,s.mean=(s.mean+i)/2)}(r,a.space.used)})});let i=0;return this.voices.forEach(t=>{t.getTickables().forEach(t=>{const s=t.getTicks().clone().simplify().toString(),n=t.getFormatterMetrics();n.iterations+=1,n.space.deviation=n.space.used-e[s].mean,n.duration=s,n.space.mean=e[s].mean,i+=Math.pow(e[s].mean,2)})}),this.totalCost=Math.sqrt(i),this.lossHistory.push(this.totalCost),this}tune(){let t=0;return this.tickContexts.list.forEach((e,i,s)=>{const n=this.tickContexts.map[e],r=i>0?this.tickContexts.map[s[i-1]]:null,o=i<s.length-1?this.tickContexts.map[s[i+1]]:null;!function(t,e,i,s){t.setX(t.getX()+s),t.getFormatterMetrics().freedom.left+=s,t.getFormatterMetrics().freedom.right-=s,e&&(e.getFormatterMetrics().freedom.right+=s),i&&(i.getFormatterMetrics().freedom.left-=s)}(n,r,o,t);const a=-n.getTickables().map(t=>t.getFormatterMetrics().space.deviation).reduce((t,e)=>t+e);a>0?t=-Math.min(n.getFormatterMetrics().freedom.right,Math.abs(a)):a<0&&(t=o?Math.min(o.getFormatterMetrics().freedom.right,Math.abs(a)):0);const h=Math.min(5,Math.abs(t));t=t>0?h:-h}),this.evaluate()}postFormat(){const t=t=>t.list.forEach(e=>t.map[e].postFormat());return t(this.modiferContexts),t(this.tickContexts),this}joinVoices(t){return this.createModifierContexts(t),this.hasMinTotalWidth=!1,this}format(t,e,i){const n={align_rests:!1,context:null,stave:null};return s.Merge(n,i),this.voices=t,this.alignRests(t,n.align_rests),this.createTickContexts(t),this.preFormat(e,n.context,t,n.stave),n.stave&&this.postFormat(),this}formatToStave(t,e,i){const n=e.getNoteEndX()-e.getNoteStartX()-10;!function(...t){ut.DEBUG&&s.L(\"Vex.Flow.Formatter\",t)}(\"Formatting voices to width: \",n);const r={context:e.getContext()};return s.Merge(r,i),this.format(t,n,r)}}class dt extends h{static get Position(){return{LEFT:1,RIGHT:2,ABOVE:3,BELOW:4,BEGIN:5,END:6}}constructor(){super(),this.setAttribute(\"type\",\"StaveModifier\"),this.padding=10,this.position=dt.Position.ABOVE,this.layoutMetrics=null}getPosition(){return this.position}setPosition(t){return this.position=t,this}getStave(){return this.stave}setStave(t){return this.stave=t,this}getWidth(){return this.width}setWidth(t){return this.width=t,this}getX(){return this.x}setX(t){return this.x=t,this}getCategory(){return\"\"}makeSpacer(t){return{getContext:()=>!0,setStave(){},renderToStave(){},getMetrics:()=>({width:t})}}placeGlyphOnLine(t,e,i){t.setYShift(e.getYForLine(i)-e.getYForGlyphs())}getPadding(t){return void 0!==t&&t<2?0:this.padding}setPadding(t){return this.padding=t,this}setLayoutMetrics(t){return this.layoutMetrics=t,this}getLayoutMetrics(){return this.layoutMetrics}}class ft extends dt{static get CATEGORY(){return\"barlines\"}static get type(){return{SINGLE:1,DOUBLE:2,END:3,REPEAT_BEGIN:4,REPEAT_END:5,REPEAT_BOTH:6,NONE:7}}static get typeString(){return{single:ft.type.SINGLE,double:ft.type.DOUBLE,end:ft.type.END,repeatBegin:ft.type.REPEAT_BEGIN,repeatEnd:ft.type.REPEAT_END,repeatBoth:ft.type.REPEAT_BOTH,none:ft.type.NONE}}constructor(t){super(),this.setAttribute(\"type\",\"Barline\"),this.thickness=m.STAVE_LINE_THICKNESS;const e=ft.type;this.widths={},this.widths[e.SINGLE]=5,this.widths[e.DOUBLE]=5,this.widths[e.END]=5,this.widths[e.REPEAT_BEGIN]=5,this.widths[e.REPEAT_END]=5,this.widths[e.REPEAT_BOTH]=5,this.widths[e.NONE]=5,this.paddings={},this.paddings[e.SINGLE]=0,this.paddings[e.DOUBLE]=0,this.paddings[e.END]=0,this.paddings[e.REPEAT_BEGIN]=15,this.paddings[e.REPEAT_END]=15,this.paddings[e.REPEAT_BOTH]=15,this.paddings[e.NONE]=0,this.layoutMetricsMap={},this.layoutMetricsMap[e.SINGLE]={xMin:0,xMax:1,paddingLeft:5,paddingRight:5},this.layoutMetricsMap[e.DOUBLE]={xMin:-3,xMax:1,paddingLeft:5,paddingRight:5},this.layoutMetricsMap[e.END]={xMin:-5,xMax:1,paddingLeft:5,paddingRight:5},this.layoutMetricsMap[e.REPEAT_END]={xMin:-10,xMax:1,paddingLeft:5,paddingRight:5},this.layoutMetricsMap[e.REPEAT_BEGIN]={xMin:-2,xMax:10,paddingLeft:5,paddingRight:5},this.layoutMetricsMap[e.REPEAT_BOTH]={xMin:-10,xMax:10,paddingLeft:5,paddingRight:5},this.layoutMetricsMap[e.NONE]={xMin:0,xMax:0,paddingLeft:5,paddingRight:5},this.setPosition(dt.Position.BEGIN),this.setType(t)}getCategory(){return ft.CATEGORY}getType(){return this.type}setType(t){return this.type=\"string\"==typeof t?ft.typeString[t]:t,this.setWidth(this.widths[this.type]),this.setPadding(this.paddings[this.type]),this.setLayoutMetrics(this.layoutMetricsMap[this.type]),this}draw(t){switch(t.checkContext(),this.setRendered(),this.type){case ft.type.SINGLE:this.drawVerticalBar(t,this.x,!1);break;case ft.type.DOUBLE:this.drawVerticalBar(t,this.x,!0);break;case ft.type.END:this.drawVerticalEndBar(t,this.x);break;case ft.type.REPEAT_BEGIN:this.drawRepeatBar(t,this.x,!0),t.getX()!==this.x&&this.drawVerticalBar(t,t.getX());break;case ft.type.REPEAT_END:this.drawRepeatBar(t,this.x,!1);break;case ft.type.REPEAT_BOTH:this.drawRepeatBar(t,this.x,!1),this.drawRepeatBar(t,this.x,!0)}}drawVerticalBar(t,e,i){t.checkContext();const s=t.getTopLineTopY(),n=t.getBottomLineBottomY();i&&t.context.fillRect(e-3,s,1,n-s),t.context.fillRect(e,s,1,n-s)}drawVerticalEndBar(t,e){t.checkContext();const i=t.getTopLineTopY(),s=t.getBottomLineBottomY();t.context.fillRect(e-5,i,1,s-i),t.context.fillRect(e-2,i,3,s-i)}drawRepeatBar(t,e,i){t.checkContext();const s=t.getTopLineTopY(),n=t.getBottomLineBottomY();let r=3;i||(r=-5),t.context.fillRect(e+r,s,1,n-s),t.context.fillRect(e-2,s,3,n-s);i?r+=4:r-=4;const o=e+r+1;let a=(t.getNumLines()-1)*t.getSpacingBetweenLines();a=a/2-t.getSpacingBetweenLines()/2;let h=s+a+1;t.context.beginPath(),t.context.arc(o,h,2,0,2*Math.PI,!1),t.context.fill(),h+=t.getSpacingBetweenLines(),t.context.beginPath(),t.context.arc(o,h,2,0,2*Math.PI,!1),t.context.fill()}}class mt extends dt{static get CATEGORY(){return\"repetitions\"}static get type(){return{NONE:1,CODA_LEFT:2,CODA_RIGHT:3,SEGNO_LEFT:4,SEGNO_RIGHT:5,DC:6,DC_AL_CODA:7,DC_AL_FINE:8,DS:9,DS_AL_CODA:10,DS_AL_FINE:11,FINE:12}}constructor(t,e,i){super(),this.setAttribute(\"type\",\"Repetition\"),this.symbol_type=t,this.x=e,this.x_shift=0,this.y_shift=i,this.font={family:\"times\",size:12,weight:\"bold italic\"}}getCategory(){return mt.CATEGORY}setShiftX(t){return this.x_shift=t,this}setShiftY(t){return this.y_shift=t,this}draw(t,e){switch(this.setRendered(),this.symbol_type){case mt.type.CODA_RIGHT:this.drawCodaFixed(t,e+t.width);break;case mt.type.CODA_LEFT:this.drawSymbolText(t,e,\"Coda\",!0);break;case mt.type.SEGNO_LEFT:this.drawSignoFixed(t,e);break;case mt.type.SEGNO_RIGHT:this.drawSignoFixed(t,e+t.width);break;case mt.type.DC:this.drawSymbolText(t,e,\"D.C.\",!1);break;case mt.type.DC_AL_CODA:this.drawSymbolText(t,e,\"D.C. al\",!0);break;case mt.type.DC_AL_FINE:this.drawSymbolText(t,e,\"D.C. al Fine\",!1);break;case mt.type.DS:this.drawSymbolText(t,e,\"D.S.\",!1);break;case mt.type.DS_AL_CODA:this.drawSymbolText(t,e,\"D.S. al\",!0);break;case mt.type.DS_AL_FINE:this.drawSymbolText(t,e,\"D.S. al Fine\",!1);break;case mt.type.FINE:this.drawSymbolText(t,e,\"Fine\",!1)}return this}drawCodaFixed(t,e){const i=t.getYForTopText(t.options.num_lines)+this.y_shift;return f.renderGlyph(t.context,this.x+e+this.x_shift,i+25,40,\"v4d\",!0),this}drawSignoFixed(t,e){const i=t.getYForTopText(t.options.num_lines)+this.y_shift;return f.renderGlyph(t.context,this.x+e+this.x_shift,i+25,30,\"v8c\",!0),this}drawSymbolText(t,e,i,s){const n=t.checkContext();n.save(),n.setFont(this.font.family,this.font.size,this.font.weight);let r=0+this.x_shift,o=e+this.x_shift;this.symbol_type===mt.type.CODA_LEFT?(r=this.x+t.options.vertical_bar_width,o=r+n.measureText(i).width+12):(o=this.x+e+t.width-5+this.x_shift,r=o-+n.measureText(i).width-12);const a=t.getYForTopText(t.options.num_lines)+this.y_shift;return s&&f.renderGlyph(n,o,a,40,\"v4d\",!0),n.fillText(i,r,a+5),n.restore(),this}}class pt extends dt{static get CATEGORY(){return\"stavesection\"}constructor(t,e,i){super(),this.setAttribute(\"type\",\"StaveSection\"),this.setWidth(16),this.section=t,this.x=e,this.shift_x=0,this.shift_y=i,this.font={family:\"sans-serif\",size:12,weight:\"bold\"}}getCategory(){return pt.CATEGORY}setStaveSection(t){return this.section=t,this}setShiftX(t){return this.shift_x=t,this}setShiftY(t){return this.shift_y=t,this}draw(t,e){const i=t.checkContext();this.setRendered(),i.save(),i.lineWidth=2,i.setFont(this.font.family,this.font.size,this.font.weight);const s=i.measureText(\"\"+this.section).width;let n=s+6;n<18&&(n=18);const r=t.getYForTopText(3)+this.shift_y;let o=this.x+e;return i.beginPath(),i.lineWidth=2,i.rect(o,r,n,20),i.stroke(),o+=(n-s)/2,i.fillText(\"\"+this.section,o,r+16),i.restore(),this}}class gt extends dt{static get CATEGORY(){return\"stavetempo\"}constructor(t,e,i){super(),this.setAttribute(\"type\",\"StaveTempo\"),this.tempo=t,this.position=B.Position.ABOVE,this.x=e,this.shift_x=10,this.shift_y=i,this.font={family:\"times\",size:14,weight:\"bold\"},this.render_options={glyph_font_scale:30}}getCategory(){return gt.CATEGORY}setTempo(t){return this.tempo=t,this}setShiftX(t){return this.shift_x=t,this}setShiftY(t){return this.shift_y=t,this}draw(t,e){const i=t.checkContext();this.setRendered();const s=this.render_options,n=s.glyph_font_scale/38,r=this.tempo.name,o=this.tempo.duration,a=this.tempo.dots,h=this.tempo.bpm,l=this.font;let c=this.x+this.shift_x+e;const u=t.getYForTopText(1)+this.shift_y;if(i.save(),r&&(i.setFont(l.family,l.size,l.weight),i.fillText(r,c,u),c+=i.measureText(r).width),o&&h){i.setFont(l.family,l.size,\"normal\"),r&&(c+=i.measureText(\" \").width,i.fillText(\"(\",c,u),c+=i.measureText(\"(\").width);const t=m.getGlyphProps(o);if(c+=3*n,f.renderGlyph(i,c,u,s.glyph_font_scale,t.code_head),c+=t.getWidth()*n,t.stem){let e=30;t.beam_count&&(e+=3*(t.beam_count-1)),e*=n;const r=u-e;i.fillRect(c-n,r,n,e),t.flag&&(f.renderGlyph(i,c,r,s.glyph_font_scale,t.code_flag_upstem),a||(c+=6*n))}for(let t=0;t<a;t++)c+=6*n,i.beginPath(),i.arc(c,u+2*n,2*n,0,2*Math.PI,!1),i.fill();i.fillText(\" = \"+h+(r?\")\":\"\"),c+3*n,u)}return i.restore(),this}}class bt extends C{static get Justification(){return{LEFT:1,CENTER:2,RIGHT:3}}static get GLYPHS(){return{segno:{code:\"v8c\",point:40,x_shift:0,y_shift:-10},tr:{code:\"v1f\",point:40,x_shift:0,y_shift:0},mordent_upper:{code:\"v1e\",point:40,x_shift:0,y_shift:0},mordent_lower:{code:\"v45\",point:40,x_shift:0,y_shift:0},f:{code:\"vba\",point:40,x_shift:0,y_shift:0},p:{code:\"vbf\",point:40,x_shift:0,y_shift:0},m:{code:\"v62\",point:40,x_shift:0,y_shift:0},s:{code:\"v4a\",point:40,x_shift:0,y_shift:0},z:{code:\"v80\",point:40,x_shift:0,y_shift:0},coda:{code:\"v4d\",point:40,x_shift:0,y_shift:-8},pedal_open:{code:\"v36\",point:40,x_shift:0,y_shift:0},pedal_close:{code:\"v5d\",point:40,x_shift:0,y_shift:3},caesura_straight:{code:\"v34\",point:40,x_shift:0,y_shift:2},caesura_curved:{code:\"v4b\",point:40,x_shift:0,y_shift:2},breath:{code:\"v6c\",point:40,x_shift:0,y_shift:0},tick:{code:\"v6f\",point:50,x_shift:0,y_shift:0},turn:{code:\"v72\",point:40,x_shift:0,y_shift:0},turn_inverted:{code:\"v33\",point:40,x_shift:0,y_shift:0},mordent:{code:\"v1e\",point:40,x_shift:0,y_shift:0}}}constructor(t){if(super(t),this.setAttribute(\"type\",\"TextNote\"),this.text=t.text,this.superscript=t.superscript,this.subscript=t.subscript,this.glyph_type=t.glyph,this.glyph=null,this.font={family:\"Arial\",size:12,weight:\"\"},t.font&&(this.font=t.font),this.glyph_type){const t=bt.GLYPHS[this.glyph_type];if(!t)throw new s.RERR(\"Invalid glyph type: \"+this.glyph_type);this.glyph=new f(t.code,t.point,{cache:!1}),t.width?this.setWidth(t.width):this.setWidth(this.glyph.getMetrics().width),this.glyph_struct=t}else this.setWidth(m.textWidth(this.text));this.line=t.line||0,this.smooth=t.smooth||!1,this.ignore_ticks=t.ignore_ticks||!1,this.justification=bt.Justification.LEFT}setJustification(t){return this.justification=t,this}setLine(t){return this.line=t,this}preFormat(){this.checkContext(),this.preFormatted||(this.smooth?this.setWidth(0):this.glyph||this.setWidth(this.context.measureText(this.text).width),this.justification===bt.Justification.CENTER?this.extraLeftPx=this.width/2:this.justification===bt.Justification.RIGHT&&(this.extraLeftPx=this.width),this.setPreFormatted(!0))}draw(){if(this.checkContext(),!this.stave)throw new s.RERR(\"NoStave\",\"Can't draw without a stave.\");this.setRendered();const t=this.context;let e,i=this.getAbsoluteX();if(this.justification===bt.Justification.CENTER?i-=this.getWidth()/2:this.justification===bt.Justification.RIGHT&&(i-=this.getWidth()),this.glyph)e=this.stave.getYForLine(this.line+-3),this.glyph.render(this.context,i+this.glyph_struct.x_shift,e+this.glyph_struct.y_shift);else{e=this.stave.getYForLine(this.line+-3),this.applyStyle(t),t.setFont(this.font.family,this.font.size,this.font.weight),t.fillText(this.text,i,e);const s=t.measureText(\"M\").width,n=t.measureText(this.text).width;this.superscript&&(t.setFont(this.font.family,this.font.size/1.3,this.font.weight),t.fillText(this.superscript,i+n+2,e-s/2.2)),this.subscript&&(t.setFont(this.font.family,this.font.size/1.3,this.font.weight),t.fillText(this.subscript,i+n+2,e+s/2.2-1)),this.restoreStyle(t)}}}class St extends dt{static get CATEGORY(){return\"stavetext\"}constructor(t,e,i){super(),this.setAttribute(\"type\",\"StaveText\"),this.setWidth(16),this.text=t,this.position=e,this.options={shift_x:0,shift_y:0,justification:bt.Justification.CENTER},s.Merge(this.options,i),this.font={family:\"times\",size:16,weight:\"normal\"}}getCategory(){return St.CATEGORY}setStaveText(t){return this.text=t,this}setShiftX(t){return this.shift_x=t,this}setShiftY(t){return this.shift_y=t,this}setFont(t){s.Merge(this.font,t)}setText(t){this.text=t}draw(t){const e=t.checkContext();this.setRendered(),e.save(),e.lineWidth=2,e.setFont(this.font.family,this.font.size,this.font.weight);const i=e.measureText(\"\"+this.text).width;let n,r;const o=dt.Position,a=bt.Justification;switch(this.position){case o.LEFT:case o.RIGHT:r=(t.getYForLine(0)+t.getBottomLineY())/2+this.options.shift_y,n=this.position===o.LEFT?t.getX()-i-24+this.options.shift_x:t.getX()+t.getWidth()+24+this.options.shift_x;break;case o.ABOVE:case o.BELOW:n=t.getX()+this.options.shift_x,this.options.justification===a.CENTER?n+=t.getWidth()/2-i/2:this.options.justification===a.RIGHT&&(n+=t.getWidth()-i),r=this.position===o.ABOVE?t.getYForTopText(2)+this.options.shift_y:t.getYForBottomText(2)+this.options.shift_y;break;default:throw new s.RERR(\"InvalidPosition\",\"Value Must be in Modifier.Position.\")}return e.fillText(\"\"+this.text,n,r+4),e.restore(),this}}class yt extends dt{static get CATEGORY(){return\"clefs\"}static get types(){return{treble:{code:\"v83\",line:3},bass:{code:\"v79\",line:1},alto:{code:\"vad\",line:2},tenor:{code:\"vad\",line:1},percussion:{code:\"v59\",line:2},soprano:{code:\"vad\",line:4},\"mezzo-soprano\":{code:\"vad\",line:3},\"baritone-c\":{code:\"vad\",line:0},\"baritone-f\":{code:\"v79\",line:2},subbass:{code:\"v79\",line:0},french:{code:\"v83\",line:4},tab:{code:\"v2f\"}}}static get sizes(){return{default:{point:40,width:26},small:{point:32,width:20}}}static get annotations(){return{\"8va\":{code:\"v8\",sizes:{default:{point:20,attachments:{treble:{line:-1.2,x_shift:11}}},small:{point:18,attachments:{treble:{line:-.4,x_shift:8}}}}},\"8vb\":{code:\"v8\",sizes:{default:{point:20,attachments:{treble:{line:6.3,x_shift:10},bass:{line:4,x_shift:1}}},small:{point:18,attachments:{treble:{line:5.8,x_shift:6},bass:{line:3.5,x_shift:.5}}}}}}}constructor(t,e,i){super(),this.setAttribute(\"type\",\"Clef\"),this.setPosition(dt.Position.BEGIN),this.setType(t,e,i),this.setWidth(yt.sizes[this.size].width),function(...t){yt.DEBUG&&s.L(\"Vex.Flow.Clef\",t)}(\"Creating clef:\",t)}getCategory(){return yt.CATEGORY}setType(t,e,i){if(this.type=t,this.clef=yt.types[t],this.size=void 0===e?\"default\":e,this.clef.point=yt.sizes[this.size].point,this.glyph=new f(this.clef.code,this.clef.point),void 0!==i){const t=yt.annotations[i];this.annotation={code:t.code,point:t.sizes[this.size].point,line:t.sizes[this.size].attachments[this.type].line,x_shift:t.sizes[this.size].attachments[this.type].x_shift},this.attachment=new f(this.annotation.code,this.annotation.point),this.attachment.metrics.x_max=0,this.attachment.setXShift(this.annotation.x_shift)}else this.annotation=void 0;return this}getWidth(){if(\"tab\"===this.type&&!this.stave)throw new s.RERR(\"ClefError\",\"Can't get width without stave.\");return this.width}setStave(t){if(this.stave=t,\"tab\"!==this.type)return this;let e,i;const n=this.stave.getOptions().num_lines;switch(n){case 8:e=55,i=14;break;case 7:e=47,i=8;break;case 6:e=40,i=1;break;case 5:e=30,i=-6;break;case 4:e=23,i=-12;break;default:throw new s.RERR(\"ClefError\",`Invalid number of lines: ${n}`)}return this.glyph.setPoint(e),this.glyph.setYShift(i),this}draw(){if(!this.x)throw new s.RERR(\"ClefError\",\"Can't draw clef without x.\");if(!this.stave)throw new s.RERR(\"ClefError\",\"Can't draw clef without stave.\");this.setRendered(),this.glyph.setStave(this.stave),this.glyph.setContext(this.stave.context),void 0!==this.clef.line&&this.placeGlyphOnLine(this.glyph,this.stave,this.clef.line),this.glyph.renderToStave(this.x),void 0!==this.annotation&&(this.placeGlyphOnLine(this.attachment,this.stave,this.annotation.line),this.attachment.setStave(this.stave),this.attachment.setContext(this.stave.context),this.attachment.renderToStave(this.x))}}class xt extends dt{static get CATEGORY(){return\"keysignatures\"}static get accidentalSpacing(){return{\"#\":{above:6,below:4},b:{above:4,below:7},n:{above:4,below:1},\"##\":{above:6,below:4},bb:{above:4,below:7},db:{above:4,below:7},d:{above:4,below:7},bbs:{above:4,below:7},\"++\":{above:6,below:4},\"+\":{above:6,below:4},\"+-\":{above:6,below:4},\"++-\":{above:6,below:4},bs:{above:4,below:10},bss:{above:4,below:10}}}constructor(t,e,i){super(),this.setAttribute(\"type\",\"KeySignature\"),this.setKeySig(t,e,i),this.setPosition(dt.Position.BEGIN),this.glyphFontScale=38,this.glyphs=[],this.xPositions=[],this.paddingForced=!1}getCategory(){return xt.CATEGORY}convertToGlyph(t,e){const i=m.accidentalCodes(t.type),s=new f(i.code,this.glyphFontScale);let n=1;if(\"n\"===t.type&&e){const i=xt.accidentalSpacing[e.type];if(i){n=e.line>=t.line?i.above:i.below}}this.placeGlyphOnLine(s,this.stave,t.line),this.glyphs.push(s);const r=this.xPositions[this.xPositions.length-1],o=s.getMetrics().width+n;this.xPositions.push(r+o),this.width+=o}cancelKey(t){return this.formatted=!1,this.cancelKeySpec=t,this}convertToCancelAccList(t){const e=m.keySignature(t),i=this.accList.length>0&&e.length>0&&e[0].type!==this.accList[0].type,s=i?e.length:e.length-this.accList.length;if(s<1)return;const n=[];for(let t=0;t<s;t++){let r=t;i||(r=e.length-s+t);const o=e[r];n.push({type:\"n\",line:o.line})}return this.accList=n.concat(this.accList),{accList:n,type:e[0].type}}addToStave(t){return this.paddingForced=!0,t.addModifier(this),this}convertAccLines(t,e,i=this.accList){let s,n,r=0;switch(t){case\"soprano\":\"#\"===e?s=[2.5,.5,2,0,1.5,-.5,1]:r=-1;break;case\"mezzo-soprano\":\"b\"===e?s=[0,2,.5,2.5,1,3,1.5]:r=1.5;break;case\"alto\":r=.5;break;case\"tenor\":\"#\"===e?s=[3,1,2.5,.5,2,0,1.5]:r=-.5;break;case\"baritone-f\":case\"baritone-c\":\"b\"===e?s=[.5,2.5,1,3,1.5,3.5,2]:r=2;break;case\"bass\":case\"french\":r=1}if(void 0!==s)for(n=0;n<i.length;++n)i[n].line=s[n];else if(0!==r)for(n=0;n<i.length;++n)i[n].line+=r}getPadding(t){return this.formatted||this.format(),0===this.glyphs.length||!this.paddingForced&&t<2?0:this.padding}getWidth(){return this.formatted||this.format(),this.width}setKeySig(t,e,i){return this.formatted=!1,this.keySpec=t,this.cancelKeySpec=e,this.alterKeySpec=i,this}alterKey(t){return this.formatted=!1,this.alterKeySpec=t,this}convertToAlterAccList(t){const e=Math.min(t.length,this.accList.length);for(let i=0;i<e;++i)t[i]&&(this.accList[i].type=t[i])}format(){if(!this.stave)throw new s.RERR(\"KeySignatureError\",\"Can't draw key signature without stave.\");this.width=0,this.glyphs=[],this.xPositions=[0],this.accList=m.keySignature(this.keySpec);const t=this.accList,e=t.length>0?t[0].type:null;let i;if(this.cancelKeySpec&&(i=this.convertToCancelAccList(this.cancelKeySpec)),this.alterKeySpec&&this.convertToAlterAccList(this.alterKeySpec),this.accList.length>0){const s=(this.position===dt.Position.END?this.stave.endClef:this.stave.clef)||this.stave.clef;i&&this.convertAccLines(s,i.type,i.accList),this.convertAccLines(s,e,t);for(let t=0;t<this.accList.length;++t)this.convertToGlyph(this.accList[t],this.accList[t+1])}this.formatted=!0}draw(){if(!this.x)throw new s.RERR(\"KeySignatureError\",\"Can't draw key signature without x.\");if(!this.stave)throw new s.RERR(\"KeySignatureError\",\"Can't draw key signature without stave.\");this.formatted||this.format(),this.setRendered();for(let t=0;t<this.glyphs.length;t++){const e=this.glyphs[t],i=this.x+this.xPositions[t];e.setStave(this.stave),e.setContext(this.stave.context),e.renderToStave(i)}}}class Et extends dt{static get CATEGORY(){return\"timesignatures\"}static get glyphs(){return{C:{code:\"v41\",point:40,line:2},\"C|\":{code:\"vb6\",point:40,line:2}}}constructor(t=null,e=15,i=!0){if(super(),this.setAttribute(\"type\",\"TimeSignature\"),this.validate_args=i,null===t)return;const s=e;this.point=40,this.topLine=2,this.bottomLine=4,this.setPosition(dt.Position.BEGIN),this.setTimeSig(t),this.setWidth(this.timeSig.glyph.getMetrics().width),this.setPadding(s)}getCategory(){return Et.CATEGORY}parseTimeSpec(t){if(\"C\"===t||\"C|\"===t){const{line:e,code:i,point:s}=Et.glyphs[t];return{line:e,num:!1,glyph:new f(i,s)}}this.validate_args&&(t=>{const e=t.split(\"/\").filter(t=>\"\"!==t);if(2!==e.length)throw new s.RERR(\"BadTimeSignature\",`Invalid time spec: ${t}. Must be in the form \"<numerator>/<denominator>\"`);e.forEach(e=>{if(isNaN(Number(e)))throw new s.RERR(\"BadTimeSignature\",`Invalid time spec: ${t}. Must contain two valid numbers.`)})})(t);const[e,i]=t.split(\"/\").map(t=>t.split(\"\"));return{num:!0,glyph:this.makeTimeSignatureGlyph(e,i)}}makeTimeSignatureGlyph(t,e){const i=new f(\"v0\",this.point);i.topGlyphs=[],i.botGlyphs=[];let s=0;for(let e=0;e<t.length;++e){const n=t[e],r=new f(\"v\"+n,this.point);i.topGlyphs.push(r),s+=r.getMetrics().width}let n=0;for(let t=0;t<e.length;++t){const s=e[t],r=new f(\"v\"+s,this.point);i.botGlyphs.push(r),n+=r.getMetrics().width}const r=s>n?s:n,o=i.getMetrics().x_min;i.getMetrics=()=>({x_min:o,x_max:o+r,width:r});const a=(r-s)/2,h=(r-n)/2,l=this;return i.renderToStave=function(t){let e=t+a;for(let t=0;t<this.topGlyphs.length;++t){const i=this.topGlyphs[t];f.renderOutline(this.context,i.metrics.outline,i.scale,e+i.x_shift,this.stave.getYForLine(l.topLine)),e+=i.getMetrics().width}e=t+h;for(let t=0;t<this.botGlyphs.length;++t){const i=this.botGlyphs[t];l.placeGlyphOnLine(i,this.stave,i.line),f.renderOutline(this.context,i.metrics.outline,i.scale,e+i.x_shift,this.stave.getYForLine(l.bottomLine)),e+=i.getMetrics().width}},i}getTimeSig(){return this.timeSig}setTimeSig(t){return this.timeSig=this.parseTimeSpec(t),this}draw(){if(!this.x)throw new s.RERR(\"TimeSignatureError\",\"Can't draw time signature without x.\");if(!this.stave)throw new s.RERR(\"TimeSignatureError\",\"Can't draw time signature without stave.\");this.setRendered(),this.timeSig.glyph.setStave(this.stave),this.timeSig.glyph.setContext(this.stave.context),this.placeGlyphOnLine(this.timeSig.glyph,this.stave,this.timeSig.line),this.timeSig.glyph.renderToStave(this.x)}}class vt extends dt{static get CATEGORY(){return\"voltas\"}static get type(){return{NONE:1,BEGIN:2,MID:3,END:4,BEGIN_END:5}}constructor(t,e,i,s){super(),this.setAttribute(\"type\",\"Volta\"),this.volta=t,this.x=i,this.y_shift=s,this.number=e,this.font={family:\"sans-serif\",size:9,weight:\"bold\"}}getCategory(){return vt.CATEGORY}setShiftY(t){return this.y_shift=t,this}draw(t,e){const i=t.checkContext();this.setRendered();let s=t.width;const n=t.getYForTopText(t.options.num_lines)+this.y_shift,r=1.5*t.options.spacing_between_lines_px;switch(this.volta){case vt.type.BEGIN:i.fillRect(this.x+e,n,1,r);break;case vt.type.END:s-=5,i.fillRect(this.x+e+s,n,1,r);break;case vt.type.BEGIN_END:s-=3,i.fillRect(this.x+e,n,1,r),i.fillRect(this.x+e+s,n,1,r)}return this.volta!==vt.type.BEGIN&&this.volta!==vt.type.BEGIN_END||(i.save(),i.setFont(this.font.family,this.font.size,this.font.weight),i.fillText(this.number,this.x+e+5,n+15),i.restore()),i.fillRect(this.x+e,n,s,1),this}}class _t extends h{constructor(t,e,i,n){super(),this.setAttribute(\"type\",\"Stave\"),this.x=t,this.y=e,this.width=i,this.formatted=!1,this.start_x=t+5,this.end_x=t+i,this.modifiers=[],this.measure=0,this.clef=\"treble\",this.endClef=void 0,this.font={family:\"sans-serif\",size:8,weight:\"\"},this.options={vertical_bar_width:10,glyph_spacing_px:10,num_lines:5,fill_style:\"#999999\",left_bar:!0,right_bar:!0,spacing_between_lines_px:10,space_above_staff_ln:4,space_below_staff_ln:4,top_text_position:1},this.bounds={x:this.x,y:this.y,w:this.width,h:0},s.Merge(this.options,n),this.resetLines();const r=ft.type;this.addModifier(new ft(this.options.left_bar?r.SINGLE:r.NONE)),this.addEndModifier(new ft(this.options.right_bar?r.SINGLE:r.NONE))}space(t){return this.options.spacing_between_lines_px*t}resetLines(){this.options.line_config=[];for(let t=0;t<this.options.num_lines;t++)this.options.line_config.push({visible:!0});this.height=(this.options.num_lines+this.options.space_above_staff_ln)*this.options.spacing_between_lines_px,this.options.bottom_text_position=this.options.num_lines}getOptions(){return this.options}setNoteStartX(t){this.formatted||this.format(),this.start_x=t;const e=this.modifiers[0];return e.setX(this.start_x-e.getWidth()),this}getNoteStartX(){return this.formatted||this.format(),this.start_x}getNoteEndX(){return this.formatted||this.format(),this.end_x}getTieStartX(){return this.start_x}getTieEndX(){return this.x+this.width}getX(){return this.x}getNumLines(){return this.options.num_lines}setNumLines(t){return this.options.num_lines=parseInt(t,10),this.resetLines(),this}setY(t){return this.y=t,this}getTopLineTopY(){return this.getYForLine(0)-m.STAVE_LINE_THICKNESS/2}getBottomLineBottomY(){return this.getYForLine(this.getNumLines()-1)+m.STAVE_LINE_THICKNESS/2}setX(t){const e=t-this.x;this.formatted=!1,this.x=t,this.start_x+=e,this.end_x+=e;for(let t=0;t<this.modifiers.length;t++){const i=this.modifiers[t];void 0!==i.x&&(i.x+=e)}return this}setWidth(t){return this.formatted=!1,this.width=t,this.end_x=this.x+t,this}getWidth(){return this.width}getStyle(){return{fillStyle:this.options.fill_style,strokeStyle:this.options.fill_style,lineWidth:m.STAVE_LINE_THICKNESS,...this.style||{}}}setMeasure(t){return this.measure=t,this}getModifierXShift(t=0){if(\"number\"!=typeof t)throw new s.RERR(\"InvalidIndex\",\"Must be of number type\");if(this.formatted||this.format(),1===this.getModifiers(dt.Position.BEGIN).length)return 0;let e=this.start_x-this.x;const i=this.modifiers[0];return i.getType()===ft.type.REPEAT_BEGIN&&e>i.getWidth()&&(e-=i.getWidth()),e}setRepetitionTypeLeft(t,e){return this.modifiers.push(new mt(t,this.x,e)),this}setRepetitionTypeRight(t,e){return this.modifiers.push(new mt(t,this.x,e)),this}setVoltaType(t,e,i){return this.modifiers.push(new vt(t,e,this.x,i)),this}setSection(t,e){return this.modifiers.push(new pt(t,this.x,e)),this}setTempo(t,e){return this.modifiers.push(new gt(t,this.x,e)),this}setText(t,e,i){return this.modifiers.push(new St(t,e,i)),this}getHeight(){return this.height}getSpacingBetweenLines(){return this.options.spacing_between_lines_px}getBoundingBox(){return new c(this.x,this.y,this.width,this.getBottomY()-this.y)}getBottomY(){const t=this.options,e=t.spacing_between_lines_px;return this.getYForLine(t.num_lines)+t.space_below_staff_ln*e}getBottomLineY(){return this.getYForLine(this.options.num_lines)}getYForLine(t){const e=this.options,i=e.spacing_between_lines_px,s=e.space_above_staff_ln;return this.y+t*i+s*i}getLineForY(t){const e=this.options,i=e.spacing_between_lines_px,s=e.space_above_staff_ln;return(t-this.y)/i-s}getYForTopText(t){const e=t||0;return this.getYForLine(-e-this.options.top_text_position)}getYForBottomText(t){const e=t||0;return this.getYForLine(this.options.bottom_text_position+e)}getYForNote(t){const e=this.options,i=e.spacing_between_lines_px,s=e.space_above_staff_ln;return this.y+s*i+5*i-t*i}getYForGlyphs(){return this.getYForLine(3)}addModifier(t,e){return void 0!==e&&t.setPosition(e),t.setStave(this),this.formatted=!1,this.modifiers.push(t),this}addEndModifier(t){return this.addModifier(t,dt.Position.END),this}setBegBarType(t){const{SINGLE:e,REPEAT_BEGIN:i,NONE:s}=ft.type;return t!==e&&t!==i&&t!==s||(this.modifiers[0].setType(t),this.formatted=!1),this}setEndBarType(t){return t!==ft.type.REPEAT_BEGIN&&(this.modifiers[1].setType(t),this.formatted=!1),this}setClef(t,e,i,s){void 0===s&&(s=dt.Position.BEGIN),s===dt.Position.END?this.endClef=t:this.clef=t;const n=this.getModifiers(s,yt.CATEGORY);return 0===n.length?this.addClef(t,e,i,s):n[0].setType(t,e,i),this}setEndClef(t,e,i){return this.setClef(t,e,i,dt.Position.END),this}setKeySignature(t,e,i){void 0===i&&(i=dt.Position.BEGIN);const s=this.getModifiers(i,xt.CATEGORY);return 0===s.length?this.addKeySignature(t,e,i):s[0].setKeySig(t,e),this}setEndKeySignature(t,e){return this.setKeySignature(t,e,dt.Position.END),this}setTimeSignature(t,e,i){void 0===i&&(i=dt.Position.BEGIN);const s=this.getModifiers(i,Et.CATEGORY);return 0===s.length?this.addTimeSignature(t,e,i):s[0].setTimeSig(t),this}setEndTimeSignature(t,e){return this.setTimeSignature(t,e,dt.Position.END),this}addKeySignature(t,e,i){return void 0===i&&(i=dt.Position.BEGIN),this.addModifier(new xt(t,e).setPosition(i),i),this}addClef(t,e,i,s){return void 0===s||s===dt.Position.BEGIN?this.clef=t:s===dt.Position.END&&(this.endClef=t),this.addModifier(new yt(t,e,i),s),this}addEndClef(t,e,i){return this.addClef(t,e,i,dt.Position.END),this}addTimeSignature(t,e,i){return this.addModifier(new Et(t,e),i),this}addEndTimeSignature(t,e){return this.addTimeSignature(t,e,dt.Position.END),this}addTrebleGlyph(){return this.addClef(\"treble\"),this}getModifiers(t,e){return void 0===t&&void 0===e?this.modifiers:this.modifiers.filter(i=>!(void 0!==t&&t!==i.getPosition()||void 0!==e&&e!==i.getCategory()))}sortByCategory(t,e){for(let i=t.length-1;i>=0;i--)for(let s=0;s<i;s++)if(e[t[s].getCategory()]>e[t[s+1].getCategory()]){const e=t[s];t[s]=t[s+1],t[s+1]=e}}format(){const t=this.modifiers[0],e=this.modifiers[1],i=this.getModifiers(dt.Position.BEGIN),s=this.getModifiers(dt.Position.END);let n,r,o;this.sortByCategory(i,{barlines:0,clefs:1,keysignatures:2,timesignatures:3}),this.sortByCategory(s,{timesignatures:0,keysignatures:1,barlines:2,clefs:3}),i.length>1&&t.getType()===ft.type.REPEAT_BEGIN&&(i.push(i.splice(0,1)[0]),i.splice(0,0,new ft(ft.type.SINGLE))),s.indexOf(e)>0&&s.splice(0,0,new ft(ft.type.NONE));let a=0,h=this.x;for(let t=0;t<i.length;t++)o=i[t],r=o.getPadding(t+a),n=o.getWidth(),h+=r,o.setX(h),h+=n,r+n===0&&a--;this.start_x=h,h=this.x+this.width;const l={left:0,right:0,paddingRight:0,paddingLeft:0};let c=0;for(let t=0;t<s.length;t++){o=s[t],c=\"barlines\"===o.getCategory()?t:c,l.right=0,l.left=0,l.paddingRight=0,l.paddingLeft=0;const e=o.getLayoutMetrics();e?(0!==t&&(l.right=e.xMax||0,l.paddingRight=e.paddingRight||0),l.left=-e.xMin||0,l.paddingLeft=e.paddingLeft||0,t===s.length-1&&(l.paddingLeft=0)):(l.paddingRight=o.getPadding(t-c),0!==t&&(l.right=o.getWidth()),0===t&&(l.left=o.getWidth())),h-=l.paddingRight,h-=l.right,o.setX(h),h-=l.left,h-=l.paddingLeft}this.end_x=1===s.length?this.x+this.width:h,this.formatted=!0}draw(){this.checkContext(),this.setRendered(),this.formatted||this.format();const t=this.options.num_lines,e=this.width,i=this.x;let s;for(let n=0;n<t;n++)s=this.getYForLine(n),this.applyStyle(),this.options.line_config[n].visible&&(this.context.beginPath(),this.context.moveTo(i,s),this.context.lineTo(i+e,s),this.context.stroke()),this.restoreStyle();for(let t=0;t<this.modifiers.length;t++)\"function\"==typeof this.modifiers[t].draw&&(this.modifiers[t].applyStyle(this.context),this.modifiers[t].draw(this,this.getModifierXShift(t)),this.modifiers[t].restoreStyle(this.context));if(this.measure>0){this.context.save(),this.context.setFont(this.font.family,this.font.size,this.font.weight);const t=this.context.measureText(\"\"+this.measure).width;s=this.getYForTopText(0)+3,this.context.fillText(\"\"+this.measure,this.x-t/2,s),this.context.restore()}return this}drawVertical(t,e){this.drawVerticalFixed(this.x+t,e)}drawVerticalFixed(t,e){this.checkContext();const i=this.getYForLine(0),s=this.getYForLine(this.options.num_lines-1);e&&this.context.fillRect(t-3,i,1,s-i+1),this.context.fillRect(t,i,1,s-i+1)}drawVerticalBar(t){this.drawVerticalBarFixed(this.x+t,!1)}drawVerticalBarFixed(t){this.checkContext();const e=this.getYForLine(0),i=this.getYForLine(this.options.num_lines-1);this.context.fillRect(t,e,1,i-e+1)}getConfigForLines(){return this.options.line_config}setConfigForLine(t,e){if(t>=this.options.num_lines||t<0)throw new s.RERR(\"StaveConfigError\",\"The line number must be within the range of the number of lines in the Stave.\");if(void 0===e.visible)throw new s.RERR(\"StaveConfigError\",\"The line configuration object is missing the 'visible' property.\");if(\"boolean\"!=typeof e.visible)throw new s.RERR(\"StaveConfigError\",\"The line configuration objects 'visible' property must be true or false.\");return this.options.line_config[t]=e,this}setConfigForLines(t){if(t.length!==this.options.num_lines)throw new s.RERR(\"StaveConfigError\",\"The length of the lines configuration array must match the number of lines in the Stave\");for(const e in t)t[e]||(t[e]=this.options.line_config[e]),s.Merge(this.options.line_config[e],t[e]);return this.options.line_config=t,this}}class wt extends _t{constructor(t,e,i,n){const r={spacing_between_lines_px:13,num_lines:6,top_text_position:1};s.Merge(r,n),super(t,e,i,r),this.setAttribute(\"type\",\"TabStave\")}getYForGlyphs(){return this.getYForLine(2.5)}addTabGlyph(){return this.addClef(\"tab\"),this}}class Mt extends N{static get CATEGORY(){return\"tabnotes\"}constructor(t,e){if(super(t),this.setAttribute(\"type\",\"TabNote\"),this.ghost=!1,this.positions=t.positions,s.Merge(this.render_options,{glyph_font_scale:m.DEFAULT_TABLATURE_FONT_SCALE,draw_stem:e,draw_dots:e,draw_stem_through_stave:!1,y_shift:0,scale:1,font:\"10pt Arial\"}),this.glyph=m.getGlyphProps(this.duration,this.noteType),!this.glyph)throw new s.RuntimeError(\"BadArguments\",`Invalid note initialization data (No glyph found): ${JSON.stringify(t)}`);this.buildStem(),t.stem_direction?this.setStemDirection(t.stem_direction):this.setStemDirection(E.UP),this.ghost=!1,this.updateWidth()}reset(){this.stave&&this.setStave(this.stave)}getCategory(){return Mt.CATEGORY}setGhost(t){return this.ghost=t,this.updateWidth(),this}hasStem(){return this.render_options.draw_stem}getStemExtension(){const t=this.getGlyph();return null!=this.stem_extension_override?this.stem_extension_override:t?1===this.getStemDirection()?t.tabnote_stem_up_extension:t.tabnote_stem_down_extension:0}addDot(){const t=new F;return this.dots+=1,this.addModifier(t,0)}updateWidth(){this.glyphs=[],this.width=0;for(let t=0;t<this.positions.length;++t){let e=this.positions[t].fret;this.ghost&&(e=\"(\"+e+\")\");const i=m.tabToGlyph(e,this.render_options.scale);this.glyphs.push(i),this.width=Math.max(i.getWidth(),this.width)}this.glyph.getWidth=()=>this.width}setStave(t){let e;if(super.setStave(t),this.context=t.context,this.context){const t=this.context;for(this.width=0,e=0;e<this.glyphs.length;++e){const i=this.glyphs[e],s=\"\"+i.text;\"X\"!==s.toUpperCase()&&(t.save(),t.setRawFont(this.render_options.font),i.width=t.measureText(s).width,t.restore(),i.getWidth=()=>i.width),this.width=Math.max(i.getWidth(),this.width)}this.glyph.getWidth=()=>this.width}const i=this.positions.map(({str:e})=>t.getYForLine(e-1));return this.setYs(i),this.stem&&this.stem.setYBounds(this.getStemY(),this.getStemY()),this}getPositions(){return this.positions}addToModifierContext(t){this.setModifierContext(t);for(let t=0;t<this.modifiers.length;++t)this.modifierContext.addModifier(this.modifiers[t]);return this.modifierContext.addModifier(this),this.preFormatted=!1,this}getTieRightX(){let t=this.getAbsoluteX();return t+=this.glyph.getWidth()/2,t+=-this.width/2+this.width+2,t}getTieLeftX(){let t=this.getAbsoluteX();return t+=this.glyph.getWidth()/2,t-=this.width/2+2,t}getModifierStartXY(t,e){if(!this.preFormatted)throw new s.RERR(\"UnformattedNote\",\"Can't call GetModifierStartXY on an unformatted note\");if(0===this.ys.length)throw new s.RERR(\"NoYValues\",\"No Y-Values calculated for this note.\");let i=0;if(t===B.Position.LEFT)i=-2;else if(t===B.Position.RIGHT)i=this.width+2;else if(t===B.Position.BELOW||t===B.Position.ABOVE){i=this.glyph.getWidth()/2}return{x:this.getAbsoluteX()+i,y:this.ys[e]}}getLineForRest(){return this.positions[0].str}preFormat(){this.preFormatted||(this.modifierContext&&this.modifierContext.preFormat(),this.setPreFormatted(!0))}getStemX(){return this.getCenterGlyphX()}getStemY(){const t=this.stave.getNumLines()-.5,e=E.UP===this.stem_direction?-.5:t;return this.stave.getYForLine(e)}getStemExtents(){return this.stem.getExtents()}drawFlag(){const{beam:t,glyph:e,context:i,stem:s,stem_direction:n,render_options:{draw_stem:r,glyph_font_scale:o}}=this,a=null==t&&r;if(e.flag&&a){const t=this.getStemX()+1,r=this.getStemY()-s.getHeight(),a=n===E.DOWN?e.code_flag_downstem:e.code_flag_upstem;f.renderGlyph(i,t,r,o,a)}}drawModifiers(){this.modifiers.forEach(t=>{(\"dots\"!==t.getCategory()||this.render_options.draw_dots)&&(t.setContext(this.context),t.drawWithStyle())})}drawStemThrough(){const t=this.getStemX(),e=this.getStemY(),i=this.context,s=this.render_options.draw_stem_through_stave;if(this.render_options.draw_stem&&s){const s=function(t,e,i,s){const n=1!==s,r=-1!==s,o=i.getSpacingBetweenLines(),a=i.getNumLines(),h=[];return e.forEach(e=>{const l=e.indexOf(a)>-1,c=e.indexOf(1)>-1;if(n&&c||r&&l)return;1===e.length&&e.push(e[0]);const u=[];e.forEach((e,n,r)=>{const h=1===e,l=e===a;let c=i.getYForLine(e-1);0!==n||h?n!==r.length-1||l||(c+=o/2-1):c-=o/2-1,u.push(c),1===s&&h?u.push(t-2):-1===s&&l&&u.push(t+2)}),h.push(u.sort((t,e)=>t-e))}),h}(e,function(t,e){const i=[];let s=[];for(let n=1;n<=t;n++){e.indexOf(n)>-1?(i.push(s),s=[]):s.push(n)}return s.length>0&&i.push(s),i}(this.stave.getNumLines(),this.positions.map(t=>t.str)),this.getStave(),this.getStemDirection());i.save(),i.setLineWidth(E.WIDTH),s.forEach(e=>{0!==e.length&&(i.beginPath(),i.moveTo(t,e[0]),i.lineTo(t,e[e.length-1]),i.stroke(),i.closePath())}),i.restore()}}drawPositions(){const t=this.context,e=this.getAbsoluteX(),i=this.ys;for(let s=0;s<this.positions.length;++s){const n=i[s]+this.render_options.y_shift,r=this.glyphs[s],o=e+this.glyph.getWidth()/2-r.getWidth()/2;if(t.clearRect(o-2,n-3,r.getWidth()+4,6),r.code)f.renderGlyph(t,o,n,this.render_options.glyph_font_scale*this.render_options.scale,r.code);else{t.save(),t.setRawFont(this.render_options.font);const e=r.text.toString();t.fillText(e,o,n+5*this.render_options.scale),t.restore()}}}draw(){if(this.checkContext(),!this.stave)throw new s.RERR(\"NoStave\",\"Can't draw without a stave.\");if(0===this.ys.length)throw new s.RERR(\"NoYValues\",\"Can't draw note without Y values.\");this.setRendered();const t=null==this.beam&&this.render_options.draw_stem;this.drawPositions(),this.drawStemThrough();const e=this.getStemX();this.stem.setNoteHeadXBounds(e,e),t&&(this.context.openGroup(\"stem\",null,{pointerBBox:!0}),this.stem.setContext(this.context).draw(),this.context.closeGroup()),this.drawFlag(),this.drawModifiers()}}class Tt extends h{constructor(t){super(),this.setAttribute(\"type\",\"VibratoBracket\"),this.start=t.start,this.stop=t.stop,this.line=1,this.render_options={harsh:!1,wave_height:6,wave_width:4,wave_girth:2}}setLine(t){return this.line=t,this}setHarsh(t){return this.render_options.harsh=t,this}draw(){const t=this.context;this.setRendered();const e=this.start?this.start.getStave().getYForTopText(this.line):this.stop.getStave().getYForTopText(this.line),i=this.start?this.start.getAbsoluteX():this.stop.getStave().getTieStartX(),n=this.stop?this.stop.getAbsoluteX()-this.stop.getWidth()-5:this.start.getStave().getTieEndX()-10;this.render_options.vibrato_width=n-i,function(...t){Tt.DEBUG&&s.L(\"Vex.Flow.VibratoBracket\",t)}(\"Rendering VibratoBracket: start_x:\",i,\"stop_x:\",n,\"y:\",e),ot.renderVibrato(t,i,e,this.render_options)}}let Pt;class Lt extends h{constructor(t,e){super(),this.setAttribute(\"type\",\"MultiMeasureRest\"),this.render_options={show_number:!0,number_line:-.5,number_glyph_point:40,padding_left:void 0,padding_right:void 0,line:2,spacing_between_lines_px:10,line_thickness:void 0,serif_thickness:2,use_symbols:!1,symbol_spacing:void 0,semibrave_rest_glyph_scale:m.DEFAULT_NOTATION_FONT_SCALE},s.Merge(this.render_options,e),this.number_of_measures=t,this.xs={left:NaN,right:NaN}}getXs(){return this.xs}setStave(t){return this.stave=t,this}getStave(){return this.stave}drawLine(t,e,i,s){const n=this.stave.getYForLine(this.render_options.line),r=.1*(i-e);e+=r,i-=r;const o=this.render_options.serif_thickness;let a=.25*s;isNaN(this.render_options.line_thickness)||(a=.5*this.render_options.line_thickness),t.save(),t.beginPath(),t.moveTo(e,n-s),t.lineTo(e+o,n-s),t.lineTo(e+o,n-a),t.lineTo(i-o,n-a),t.lineTo(i-o,n-s),t.lineTo(i,n-s),t.lineTo(i,n+s),t.lineTo(i-o,n+s),t.lineTo(i-o,n+a),t.lineTo(e+o,n+a),t.lineTo(e+o,n+s),t.lineTo(e,n+s),t.closePath(),t.fill()}drawSymbols(t,e,i,s){const n=Math.floor(this.number_of_measures/4),r=this.number_of_measures%4,o=Math.floor(r/2),a=r%2,h=function(){if(!Pt){const t=new R({duration:\"w\",note_type:\"r\"});Pt={glyph_font_scale:t.render_options.glyph_font_scale,glyph_code:t.glyph_code,width:t.getWidth()}}return Pt}(),l=h.width*(this.render_options.semibrave_rest_glyph_scale/h.glyph_font_scale),c={2:{width:.5*l,height:s},1:{width:l}};let u=1.35*l;isNaN(this.render_options.symbol_spacing)||(u=this.render_options.symbol_spacing);let d=e+.5*(i-e)-.5*(n*c[2].width+o*c[2].width+a*c[1].width+(n+o+a-1)*u);const m=this.stave.getYForLine(this.render_options.line-1),p=this.stave.getYForLine(this.render_options.line),g=this.stave.getYForLine(this.render_options.line+1);t.save(),t.setStrokeStyle(\"none\"),t.setLineWidth(0);for(let e=0;e<n;++e)t.fillRect(d,p-c[2].height,c[2].width,c[2].height),t.fillRect(d,g-c[2].height,c[2].width,c[2].height),d+=c[2].width+u;for(let e=0;e<o;++e)t.fillRect(d,p-c[2].height,c[2].width,c[2].height),d+=c[2].width+u;for(let e=0;e<a;++e)f.renderGlyph(t,d,m,this.render_options.semibrave_rest_glyph_scale,h.glyph_code),d+=c[1].width+u;t.restore()}draw(){this.checkContext(),this.setRendered();const t=this.context,e=this.stave,i=this.render_options.spacing_between_lines_px;let s=e.getNoteStartX(),n=e.getNoteEndX();const r=e.getModifiers(dt.Position.BEGIN);if(1===r.length&&\"barlines\"===r[0].getCategory()&&(s-=r[0].getWidth()),isNaN(this.render_options.padding_left)||(s=e.getX()+this.render_options.padding_left),isNaN(this.render_options.padding_right)||(n=e.getX()+e.getWidth()-this.render_options.padding_right),this.xs.left=s,this.xs.right=n,this.render_options.use_symbols?this.drawSymbols(t,s,n,i):this.drawLine(t,s,n,i),this.render_options.show_number){const i=\"/\"+this.number_of_measures,r=new Et(null,void 0,!1);r.point=this.render_options.number_glyph_point,r.setTimeSig(i),r.setStave(e),r.x=s+.5*(n-s)-.5*r.timeSig.glyph.getMetrics().width,r.bottomLine=this.render_options.number_line,r.setContext(t).draw()}}}class At extends C{static get CATEGORY(){return\"clefnote\"}constructor(t,e,i){super({duration:\"b\"}),this.setAttribute(\"type\",\"ClefNote\"),this.setType(t,e,i),this.ignore_ticks=!0}setType(t,e,i){return this.type=t,this.clef_obj=new yt(t,e,i),this.clef=this.clef_obj.clef,this.glyph=new f(this.clef.code,this.clef.point),this.setWidth(this.glyph.getMetrics().width),this}getClef(){return this.clef}setContext(t){return this.context=t,this.glyph.setContext(this.context),this}getBoundingBox(){return super.getBoundingBox()}addToModifierContext(){return this}getCategory(){return At.CATEGORY}preFormat(){return this.setPreFormatted(!0),this}draw(){if(!this.stave)throw new s.RERR(\"NoStave\",\"Can't draw without a stave.\");this.glyph.getContext()||this.glyph.setContext(this.context),this.setRendered();const t=this.getAbsoluteX();if(this.glyph.setStave(this.stave),this.glyph.setYShift(this.stave.getYForLine(this.clef.line)-this.stave.getYForGlyphs()),this.glyph.renderToStave(t),void 0!==this.clef_obj.annotation){const e=new f(this.clef_obj.annotation.code,this.clef_obj.annotation.point);e.getContext()||e.setContext(this.context),e.setStave(this.stave),e.setYShift(this.stave.getYForLine(this.clef_obj.annotation.line)-this.stave.getYForGlyphs()),e.setXShift(this.clef_obj.annotation.x_shift),e.renderToStave(t)}}}class It extends C{constructor(t,e,i){super({duration:\"b\"}),this.setAttribute(\"type\",\"KeySigNote\"),this.keySignature=new xt(t,e,i),this.ignore_ticks=!0}getBoundingBox(){return super.getBoundingBox()}addToModifierContext(){return this}preFormat(){return this.setPreFormatted(!0),this.keySignature.setStave(this.stave),this.keySignature.format(),this.setWidth(this.keySignature.width),this}draw(){this.stave.checkContext(),this.setRendered(),this.keySignature.x=this.getAbsoluteX(),this.keySignature.setContext(this.context),this.keySignature.draw()}}class Ct extends C{constructor(t,e){super({duration:\"b\"}),this.setAttribute(\"type\",\"TimeSigNote\");const i=new Et(t,e);this.timeSig=i.getTimeSig(),this.setWidth(this.timeSig.glyph.getMetrics().width),this.ignore_ticks=!0}getBoundingBox(){return super.getBoundingBox()}addToModifierContext(){return this}preFormat(){return this.setPreFormatted(!0),this}draw(){this.stave.checkContext(),this.setRendered(),this.timeSig.glyph.getContext()||this.timeSig.glyph.setContext(this.context),this.timeSig.glyph.setStave(this.stave),this.timeSig.glyph.setYShift(this.stave.getYForLine(this.timeSig.line)-this.stave.getYForGlyphs()),this.timeSig.glyph.renderToStave(this.getAbsoluteX())}}class Rt extends Y{static get SLIDE_UP(){return 1}static get SLIDE_DOWN(){return-1}static createSlideUp(t){return new Rt(t,Rt.SLIDE_UP)}static createSlideDown(t){return new Rt(t,Rt.SLIDE_DOWN)}constructor(t,e){if(super(t,\"sl.\"),this.setAttribute(\"type\",\"TabSlide\"),!e){const i=t.first_note.getPositions()[0].fret,s=t.last_note.getPositions()[0].fret;e=parseInt(i,10)>parseInt(s,10)?Rt.SLIDE_DOWN:Rt.SLIDE_UP}this.slide_direction=e,this.render_options.cp1=11,this.render_options.cp2=14,this.render_options.y_shift=.5,this.setFont({font:\"Times\",size:10,style:\"bold italic\"}),this.setNotes(t)}renderTie(t){if(0===t.first_ys.length||0===t.last_ys.length)throw new s.RERR(\"BadArguments\",\"No Y-values to render\");const e=this.context,i=t.first_x_px,n=t.first_ys,r=t.last_x_px,o=this.slide_direction;if(o!==Rt.SLIDE_UP&&o!==Rt.SLIDE_DOWN)throw new s.RERR(\"BadSlide\",\"Invalid slide direction\");for(let t=0;t<this.first_indices.length;++t){const a=n[this.first_indices[t]]+this.render_options.y_shift;if(isNaN(a))throw new s.RERR(\"BadArguments\",\"Bad indices for slide rendering.\");e.beginPath(),e.moveTo(i,a+3*o),e.lineTo(r,a-3*o),e.closePath(),e.stroke()}this.setRendered()}}class Nt extends k{static get CATEGORY(){return\"gracenotes\"}static get LEDGER_LINE_OFFSET(){return 2}static get SCALE(){return.66}constructor(t){super(Object.assign(t,{glyph_font_scale:m.DEFAULT_NOTATION_FONT_SCALE*Nt.SCALE,stroke_px:Nt.LEDGER_LINE_OFFSET})),this.setAttribute(\"type\",\"GraceNote\"),this.slash=t.slash,this.slur=!0,this.buildNoteHeads(),this.width=3}getStemExtension(){if(null!=this.stem_extension_override)return this.stem_extension_override;const t=this.getGlyph();if(t){let e=super.getStemExtension();if(t.stem){const t=this.getStaveNoteScale();e=(E.HEIGHT+e)*t-E.HEIGHT}return e}return 0}getCategory(){return Nt.CATEGORY}getStaveNoteScale(){return this.render_options.glyph_font_scale/m.DEFAULT_NOTATION_FONT_SCALE}draw(){super.draw(),this.setRendered();const t=this.stem;if(this.slash&&t){const e=this.getStaveNoteScale(),i=e/.66;let s=void 0;const n=this.beam;if(n)n.postFormatted||n.postFormat(),s=this.calcBeamedNotesSlashBBox(8*i,8*i,{stem:6*i,beam:5*i});else{const n=this.getStemDirection(),r=this.getNoteHeadBounds(),o=t.getHeight();let a=this.getAbsoluteX(),h=n===m.Stem.DOWN?r.y_top-o:r.y_bottom-o;const l=n===m.Stem.DOWN?this.glyph.stem_down_extension:this.glyph.stem_up_extension;let c=m.STEM_HEIGHT;c-=c/2.8,c+=l,h+=c*e*n;const u=n===m.Stem.UP?{x1:1,y1:0,x2:13,y2:-9}:{x1:-4,y1:1,x2:13,y2:9};a+=u.x1*i,h+=u.y1*i,s={x1:a,y1:h,x2:a+u.x2*i,y2:h+u.y2*i}}const r=this.context;r.save(),r.setLineWidth(1*i),r.beginPath(),r.moveTo(s.x1,s.y1),r.lineTo(s.x2,s.y2),r.closePath(),r.stroke(),r.restore()}}calcBeamedNotesSlashBBox(t,e,i){const s=this.beam,n=s.slope,r=s.notes[s.notes.length-1]===this?-1:1,o=Math.atan(n*r),a=Math.cos(o)*e,h=Math.sin(o)*e;t*=this.getStemDirection();const l=Math.atan((h-t)/a),c=Math.cos(l)*i.stem*r,u=Math.sin(l)*i.stem,d=Math.cos(l)*i.beam*r,f=Math.sin(l)*i.beam,m=this.getStemX(),p=s.notes[0].getStemX(),g=this.beam.getBeamYToDraw()+(m-p)*n;return{x1:m-c,y1:g+t-u,x2:m+a*r+d,y2:g+h+f}}}class Bt extends Mt{static get CATEGORY(){return\"gracetabnotes\"}constructor(t){super(t,!1),this.setAttribute(\"type\",\"GraceTabNote\"),s.Merge(this.render_options,{y_shift:.3,scale:.6,font:\"7.5pt Arial\"}),this.updateWidth()}getCategory(){return Bt.CATEGORY}draw(){super.draw(),this.setRendered()}}class Ft{static get names(){return{standard:\"E/5,B/4,G/4,D/4,A/3,E/3\",dagdad:\"D/5,A/4,G/4,D/4,A/3,D/3\",dropd:\"E/5,B/4,G/4,D/4,A/3,D/3\",eb:\"Eb/5,Bb/4,Gb/4,Db/4,Ab/3,Db/3\",standardBanjo:\"D/5,B/4,G/4,D/4,G/5\"}}constructor(t=\"E/5,B/4,G/4,D/4,A/3,E/3,B/2,E/2\"){this.setTuning(t)}noteToInteger(t){return m.keyProperties(t).int_value}setTuning(t){Ft.names[t]&&(t=Ft.names[t]),this.tuningString=t,this.tuningValues=[],this.numStrings=0;const e=t.split(/\\s*,\\s*/);if(0===e.length)throw new s.RERR(\"BadArguments\",\"Invalid tuning string: \"+t);this.numStrings=e.length;for(let t=0;t<this.numStrings;++t)this.tuningValues[t]=this.noteToInteger(e[t])}getValueForString(t){const e=parseInt(t,10);if(e<1||e>this.numStrings)throw new s.RERR(\"BadArguments\",`String number must be between 1 and ${this.numStrings}:${t}`);return this.tuningValues[e-1]}getValueForFret(t,e){const i=this.getValueForString(e),n=parseInt(t,10);if(n<0)throw new s.RERR(\"BadArguments\",\"Fret number must be 0 or higher: \"+t);return i+n}getNoteForFret(t,e){const i=this.getValueForFret(t,e),s=Math.floor(i/12),n=i%12;return m.integerToNote(n)+\"/\"+s}}class Dt extends h{static get type(){return{CRESC:1,DECRESC:2}}static FormatByTicksAndDraw(t,e,i,n,r,o){const a=e.pixelsPerTick;if(null==a)throw new s.RuntimeError(\"BadArguments\",\"A valid Formatter must be provide to draw offsets by ticks.\");const h=a*o.left_shift_ticks,l=a*o.right_shift_ticks,c={height:o.height,y_shift:o.y_shift,left_shift_px:h,right_shift_px:l};new Dt({first_note:i.first_note,last_note:i.last_note},n).setContext(t).setRenderOptions(c).setPosition(r).draw()}constructor(t,e){super(),this.setAttribute(\"type\",\"StaveHairpin\"),this.notes=t,this.hairpin=e,this.position=B.Position.BELOW,this.render_options={height:10,y_shift:0,left_shift_px:0,right_shift_px:0},this.setNotes(t)}setPosition(t){return t!==B.Position.ABOVE&&t!==B.Position.BELOW||(this.position=t),this}setRenderOptions(t){return null!=t.height&&null!=t.y_shift&&null!=t.left_shift_px&&null!=t.right_shift_px&&(this.render_options=t),this}setNotes(t){if(!t.first_note&&!t.last_note)throw new s.RuntimeError(\"BadArguments\",\"Hairpin needs to have either first_note or last_note set.\");return this.first_note=t.first_note,this.last_note=t.last_note,this}renderHairpin(t){const e=this.checkContext();let i=this.render_options.y_shift+20,s=t.first_y;this.position===B.Position.ABOVE&&(i=30-i,s=t.first_y-t.staff_height);const n=this.render_options.left_shift_px,r=this.render_options.right_shift_px;switch(e.beginPath(),this.hairpin){case Dt.type.CRESC:e.moveTo(t.last_x+r,s+i),e.lineTo(t.first_x+n,s+this.render_options.height/2+i),e.lineTo(t.last_x+r,s+this.render_options.height+i);break;case Dt.type.DECRESC:e.moveTo(t.first_x+n,s+i),e.lineTo(t.last_x+r,s+this.render_options.height/2+i),e.lineTo(t.first_x+n,s+this.render_options.height+i)}e.stroke(),e.closePath()}draw(){this.checkContext(),this.setRendered();const t=this.first_note,e=this.last_note,i=t.getModifierStartXY(this.position,0),s=e.getModifierStartXY(this.position,0);return this.renderHairpin({first_x:i.x,last_x:s.x,first_y:t.getStave().y+t.getStave().height,last_y:e.getStave().y+e.getStave().height,staff_height:t.getStave().height}),!0}}class kt extends h{static get Position(){return{NEAR_HEAD:1,NEAR_TOP:2}}static get PositionString(){return{nearHead:kt.Position.NEAR_HEAD,nearTop:kt.Position.NEAR_TOP}}constructor(t,e,i){super(),this.setAttribute(\"type\",\"Curve\"),this.render_options={spacing:2,thickness:2,x_shift:0,y_shift:10,position:kt.Position.NEAR_HEAD,position_end:kt.Position.NEAR_HEAD,invert:!1,cps:[{x:0,y:10},{x:0,y:10}]},s.Merge(this.render_options,i),this.setNotes(t,e)}setNotes(t,e){if(!t&&!e)throw new s.RuntimeError(\"BadArguments\",\"Curve needs to have either first_note or last_note set.\");return this.from=t,this.to=e,this}isPartial(){return!this.from||!this.to}renderCurve(t){const e=this.context,i=this.render_options.cps,s=this.render_options.x_shift,n=this.render_options.y_shift*t.direction,r=t.first_x+s,o=t.first_y+n,a=t.last_x-s,h=t.last_y+n,l=this.render_options.thickness,c=(a-r)/(i.length+2);e.beginPath(),e.moveTo(r,o),e.bezierCurveTo(r+c+i[0].x,o+i[0].y*t.direction,a-c+i[1].x,h+i[1].y*t.direction,a,h),e.bezierCurveTo(a-c+i[1].x,h+(i[1].y+l)*t.direction,r+c+i[0].x,o+(i[0].y+l)*t.direction,r,o),e.stroke(),e.closePath(),e.fill()}draw(){this.checkContext(),this.setRendered();const t=this.from,e=this.to;let i,s,n,r,o,a=\"baseY\",h=\"baseY\";function l(t){return\"string\"==typeof t?kt.PositionString[t]:t}const c=l(this.render_options.position),u=l(this.render_options.position_end);return c===kt.Position.NEAR_TOP&&(a=\"topY\",h=\"topY\"),u===kt.Position.NEAR_HEAD?h=\"baseY\":u===kt.Position.NEAR_TOP&&(h=\"topY\"),t?(i=t.getTieRightX(),o=t.getStemDirection(),n=t.getStemExtents()[a]):(i=e.getStave().getTieStartX(),n=e.getStemExtents()[a]),e?(s=e.getTieLeftX(),o=e.getStemDirection(),r=e.getStemExtents()[h]):(s=t.getStave().getTieEndX(),r=t.getStemExtents()[h]),this.renderCurve({first_x:i,last_x:s,first_y:n,last_y:r,direction:o*(!0===this.render_options.invert?-1:1)}),!0}}function Ot(...t){Vt.DEBUG&&s.L(\"Vex.Flow.TextDynamics\",t)}class Vt extends C{static get GLYPHS(){return{f:{code:\"vba\",width:12},p:{code:\"vbf\",width:14},m:{code:\"v62\",width:17},s:{code:\"v4a\",width:10},z:{code:\"v80\",width:12},r:{code:\"vb1\",width:12}}}constructor(t){super(t),this.setAttribute(\"type\",\"TextDynamics\"),this.sequence=t.text.toLowerCase(),this.line=t.line||0,this.glyphs=[],s.Merge(this.render_options,{glyph_font_size:40}),Ot(\"New Dynamics Text: \",this.sequence)}setLine(t){return this.line=t,this}preFormat(){let t=0;return this.sequence.split(\"\").forEach(e=>{const i=Vt.GLYPHS[e];if(!i)throw new s.RERR(\"Invalid dynamics character: \"+e);const n=this.render_options.glyph_font_size,r=new f(i.code,n);this.glyphs.push(r),t+=i.width}),this.setWidth(t),this.preFormatted=!0,this}draw(){this.setRendered();const t=this.getAbsoluteX(),e=this.stave.getYForLine(this.line+-3);Ot(\"Rendering Dynamics: \",this.sequence);let i=t;this.glyphs.forEach((t,s)=>{const n=this.sequence[s];t.render(this.context,i,e),i+=Vt.GLYPHS[n].width})}}function Gt(t,e,i,s,n,r,o){t.beginPath(),t.moveTo(e,i),t.lineTo(s,n),t.lineTo(r,o),t.lineTo(e,i),t.closePath(),t.fill()}class Wt extends h{static get TextVerticalPosition(){return{TOP:1,BOTTOM:2}}static get TextJustification(){return{LEFT:1,CENTER:2,RIGHT:3}}constructor(t){super(),this.setAttribute(\"type\",\"StaveLine\"),this.notes=t,this.text=\"\",this.font={family:\"Arial\",size:10,weight:\"\"},this.render_options={padding_left:4,padding_right:3,line_width:1,line_dash:null,rounded_end:!0,color:null,draw_start_arrow:!1,draw_end_arrow:!1,arrowhead_length:10,arrowhead_angle:Math.PI/8,text_position_vertical:Wt.TextVerticalPosition.TOP,text_justification:Wt.TextJustification.CENTER},this.setNotes(t)}setFont(t){return this.font=t,this}setText(t){return this.text=t,this}setNotes(t){if(!t.first_note&&!t.last_note)throw new s.RuntimeError(\"BadArguments\",\"Notes needs to have either first_note or last_note set.\");if(t.first_indices||(t.first_indices=[0]),t.last_indices||(t.last_indices=[0]),t.first_indices.length!==t.last_indices.length)throw new s.RuntimeError(\"BadArguments\",\"Connected notes must have similar index sizes\");return this.first_note=t.first_note,this.first_indices=t.first_indices,this.last_note=t.last_note,this.last_indices=t.last_indices,this}applyLineStyle(){const t=this.checkContext(),e=this.render_options;e.line_dash&&t.setLineDash(e.line_dash),e.line_width&&t.setLineWidth(e.line_width),e.rounded_end?t.setLineCap(\"round\"):t.setLineCap(\"square\")}applyFontStyle(){const t=this.checkContext();this.font&&t.setFont(this.font.family,this.font.size,this.font.weight),this.render_options.color&&(t.setStrokeStyle(this.render_options.color),t.setFillStyle(this.render_options.color))}draw(){const t=this.checkContext();this.setRendered();const e=this.first_note,i=this.last_note,s=this.render_options;let n,r;t.save(),this.applyLineStyle(),this.first_indices.forEach((o,a)=>{const h=this.last_indices[a];n=e.getModifierStartXY(2,o),r=i.getModifierStartXY(1,h);const l=n.y>r.y;n.x+=e.getMetrics().modRightPx+s.padding_left,r.x-=i.getMetrics().modLeftPx+s.padding_right;const c=e.getGlyph().getWidth();e.getKeyProps()[o].displaced&&1===e.getStemDirection()&&(n.x+=c+s.padding_left),i.getKeyProps()[h].displaced&&-1===i.getStemDirection()&&(r.x-=c+s.padding_right),n.y+=l?-3:1,r.y+=l?2:0,function(t,e,i,s){const n=s.draw_start_arrow&&s.draw_end_arrow,r=e.x,o=e.y,a=i.x,h=i.y,l=Math.sqrt((a-r)*(a-r)+(h-o)*(h-o)),c=(l-s.arrowhead_length/3)/l;let u,d,f,m;s.draw_end_arrow||n?(u=Math.round(r+(a-r)*c),d=Math.round(o+(h-o)*c)):(u=a,d=h),s.draw_start_arrow||n?(f=r+(a-r)*(1-c),m=o+(h-o)*(1-c)):(f=r,m=o),s.color&&(t.setStrokeStyle(s.color),t.setFillStyle(s.color)),t.beginPath(),t.moveTo(f,m),t.lineTo(u,d),t.stroke(),t.closePath();const p=Math.atan2(h-o,a-r),g=Math.abs(s.arrowhead_length/Math.cos(s.arrowhead_angle));let b,S,y,x,E,v;(s.draw_end_arrow||n)&&(b=p+Math.PI+s.arrowhead_angle,y=a+Math.cos(b)*g,x=h+Math.sin(b)*g,S=p+Math.PI-s.arrowhead_angle,E=a+Math.cos(S)*g,v=h+Math.sin(S)*g,Gt(t,y,x,a,h,E,v)),(s.draw_start_arrow||n)&&(b=p+s.arrowhead_angle,y=r+Math.cos(b)*g,x=o+Math.sin(b)*g,S=p-s.arrowhead_angle,E=r+Math.cos(S)*g,v=o+Math.sin(S)*g,Gt(t,y,x,r,o,E,v))}(t,n,r,this.render_options)}),t.restore();const o=t.measureText(this.text).width,a=s.text_justification;let h,l=0;if(a===Wt.TextJustification.LEFT)l=n.x;else if(a===Wt.TextJustification.CENTER){l=(r.x-n.x)/2+n.x-o/2}else a===Wt.TextJustification.RIGHT&&(l=r.x-o);const c=s.text_position_vertical;return c===Wt.TextVerticalPosition.TOP?h=e.getStave().getYForTopText():c===Wt.TextVerticalPosition.BOTTOM&&(h=e.getStave().getYForBottomText(m.TEXT_HEIGHT_OFFSET_HACK)),t.save(),this.applyFontStyle(),t.fillText(this.text,l,h),t.restore(),this}}function zt(t,e,i,s,n){const r=Ut.GLYPHS[t];new f(r.code,n).render(e,i+r.x_shift,s+r.y_shift)}class Ut extends h{static get GLYPHS(){return{pedal_depress:{code:\"v36\",x_shift:-10,y_shift:0},pedal_release:{code:\"v5d\",x_shift:-2,y_shift:3}}}static get Styles(){return{TEXT:1,BRACKET:2,MIXED:3}}static get StylesString(){return{text:Ut.Styles.TEXT,bracket:Ut.Styles.BRACKET,mixed:Ut.Styles.MIXED}}static createSustain(t){return new Ut(t)}static createSostenuto(t){const e=new Ut(t);return e.setStyle(Ut.Styles.MIXED),e.setCustomText(\"Sost. Ped.\"),e}static createUnaCorda(t){const e=new Ut(t);return e.setStyle(Ut.Styles.TEXT),e.setCustomText(\"una corda\",\"tre corda\"),e}constructor(t){super(),this.setAttribute(\"type\",\"PedalMarking\"),this.notes=t,this.style=Ut.TEXT,this.line=0,this.custom_depress_text=\"\",this.custom_release_text=\"\",this.font={family:\"Times New Roman\",size:12,weight:\"italic bold\"},this.render_options={bracket_height:10,text_margin_right:6,bracket_line_width:1,glyph_point_size:40,color:\"black\"}}setCustomText(t,e){return this.custom_depress_text=t||\"\",this.custom_release_text=e||\"\",this}setStyle(t){if(t<1&&t>3)throw new s.RERR(\"InvalidParameter\",\"The style must be one found in PedalMarking.Styles\");return this.style=t,this}setLine(t){return this.line=t,this}drawBracketed(){const t=this.context;let e,i,n=!1;const r=this;this.notes.forEach((o,a,h)=>{n=!n;const l=o.getAbsoluteX(),c=o.getStave().getYForBottomText(r.line+3);if(l<e)throw new s.RERR(\"InvalidConfiguration\",\"The notes provided must be in order of ascending x positions\");const u=h[a+1]===o,d=h[a-1]===o;let f=0;if(n)if(f=d?5:0,r.style!==Ut.Styles.MIXED||d)t.beginPath(),t.moveTo(l,c-r.render_options.bracket_height),t.lineTo(l+f,c),t.stroke(),t.closePath();else if(r.custom_depress_text){const e=t.measureText(r.custom_depress_text).width;t.fillText(r.custom_depress_text,l-e/2,c),f=e/2+r.render_options.text_margin_right}else zt(\"pedal_depress\",t,l,c,r.render_options.glyph_point_size),f=20+r.render_options.text_margin_right;else f=u?-5:0,t.beginPath(),t.moveTo(e,i),t.lineTo(l+f,c),t.lineTo(l,c-r.render_options.bracket_height),t.stroke(),t.closePath();e=l+f,i=c})}drawText(){const t=this.context;let e=!1;const i=this,s=i.render_options.glyph_point_size;this.notes.forEach(n=>{e=!e;const r=n.getStave(),o=n.getAbsoluteX(),a=r.getYForBottomText(i.line+3);let h=0;e?i.custom_depress_text?(h=t.measureText(i.custom_depress_text).width,t.fillText(i.custom_depress_text,o-h/2,a)):zt(\"pedal_depress\",t,o,a,s):i.custom_release_text?(h=t.measureText(i.custom_release_text).width,t.fillText(i.custom_release_text,o-h/2,a)):zt(\"pedal_release\",t,o,a,s)})}draw(){const t=this.checkContext();this.setRendered(),t.save(),t.setStrokeStyle(this.render_options.color),t.setFillStyle(this.render_options.color),t.setFont(this.font.family,this.font.size,this.font.weight),function(...t){Ut.DEBUG&&s.L(\"Vex.Flow.PedalMarking\",t)}(\"Rendering Pedal Marking\"),this.style===Ut.Styles.BRACKET||this.style===Ut.Styles.MIXED?(t.setLineWidth(this.render_options.bracket_line_width),this.drawBracketed()):this.style===Ut.Styles.TEXT&&this.drawText(),t.restore()}}class Ht extends h{static get Positions(){return{TOP:1,BOTTOM:-1}}static get PositionString(){return{top:Ht.Positions.TOP,bottom:Ht.Positions.BOTTOM}}constructor({start:t,stop:e,text:i=\"\",superscript:s=\"\",position:n=Ht.Positions.TOP}){super(),this.setAttribute(\"type\",\"TextBracket\"),this.start=t,this.stop=e,this.text=i,this.superscript=s,this.position=\"string\"==typeof n?Ht.PositionString[n]:n,this.line=1,this.font={family:\"Serif\",size:15,weight:\"italic\"},this.render_options={dashed:!0,dash:[5],color:\"black\",line_width:1,show_bracket:!0,bracket_height:8,underline_superscript:!0}}applyStyle(t){return t.setFont(this.font.family,this.font.size,this.font.weight),t.setStrokeStyle(this.render_options.color),t.setFillStyle(this.render_options.color),t.setLineWidth(this.render_options.line_width),this}setDashed(t,e){return this.render_options.dashed=t,e&&(this.render_options.dash=e),this}setFont(t){return this.font={...this.font,...t},this}setLine(t){return this.line=t,this}draw(){const t=this.context;this.setRendered();let e=0;switch(this.position){case Ht.Positions.TOP:e=this.start.getStave().getYForTopText(this.line);break;case Ht.Positions.BOTTOM:e=this.start.getStave().getYForBottomText(this.line+m.TEXT_HEIGHT_OFFSET_HACK);break;default:throw new s.RERR(\"InvalidPosition\",`The position ${this.position} is invalid`)}const i={x:this.start.getAbsoluteX(),y:e},n={x:this.stop.getAbsoluteX(),y:e};!function(...t){Ht.DEBUG&&s.L(\"Vex.Flow.TextBracket\",t)}(\"Rendering TextBracket: start:\",i,\"stop:\",n,\"y:\",e);const r=this.render_options.bracket_height*this.position;t.save(),this.applyStyle(t),t.fillText(this.text,i.x,i.y);const o=t.measureText(this.text).width,a=t.measureText(\"M\").width,h=i.y-a/2.5;t.setFont(this.font.family,this.font.size/1.4,this.font.weight),t.fillText(this.superscript,i.x+o+1,h);const l=t.measureText(this.superscript).width,c=t.measureText(\"M\").width;let u=i.x,d=h;const f=n.x+this.stop.getGlyph().getWidth();this.position===Ht.Positions.TOP?(u+=o+l+5,d-=c/2.7):this.position===Ht.Positions.BOTTOM&&(d+=c/2.7,u+=o+2,this.render_options.underline_superscript||(u+=l)),this.render_options.dashed?(x.drawDashedLine(t,u,d,f,d,this.render_options.dash),this.render_options.show_bracket&&x.drawDashedLine(t,f,d+1*this.position,f,d+r,this.render_options.dash)):(t.beginPath(),t.moveTo(u,d),t.lineTo(f,d),this.render_options.show_bracket&&t.lineTo(f,d+r),t.stroke(),t.closePath()),t.restore()}}class Yt extends C{constructor(t=ft.type.SINGLE){super({duration:\"b\"}),this.setAttribute(\"type\",\"BarNote\"),this.metrics={widths:{}};const e=ft.type;this.metrics.widths={[e.SINGLE]:8,[e.DOUBLE]:12,[e.END]:15,[e.REPEAT_BEGIN]:14,[e.REPEAT_END]:14,[e.REPEAT_BOTH]:18,[e.NONE]:0},this.ignore_ticks=!0,this.setType(t)}getType(){return this.type}setType(t){return this.type=\"string\"==typeof t?ft.typeString[t]:t,this.setWidth(this.metrics.widths[this.type]),this}getBoundingBox(){return super.getBoundingBox()}addToModifierContext(){return this}preFormat(){return this.setPreFormatted(!0),this}draw(){if(this.checkContext(),!this.stave)throw new s.RERR(\"NoStave\",\"Can't draw without a stave.\");!function(...t){Yt.DEBUG&&s.L(\"Vex.Flow.BarNote\",t)}(\"Rendering bar line at: \",this.getAbsoluteX());const t=new ft(this.type);t.setX(this.getAbsoluteX()),t.draw(this.stave),this.setRendered()}}class Xt extends N{constructor(t){if(!t)throw new s.RuntimeError(\"BadArguments\",\"Ghost note must have valid initialization data to identify duration.\");let e;if(\"string\"==typeof t)e={duration:t};else{if(\"object\"!=typeof t)throw new s.RuntimeError(\"BadArguments\",\"Ghost note must have valid initialization data to identify duration.\");e=t}super(e),this.setAttribute(\"type\",\"GhostNote\"),this.setWidth(0)}isRest(){return!0}setStave(t){super.setStave(t)}addToModifierContext(){return this}preFormat(){return this.setPreFormatted(!0),this}draw(){if(!this.stave)throw new s.RERR(\"NoStave\",\"Can't draw without a stave.\");this.setRendered();for(let t=0;t<this.modifiers.length;++t){const e=this.modifiers[t];e.setContext(this.context),e.drawWithStyle()}}}class jt extends B{static get CATEGORY(){return\"tremolo\"}static get YOFFSETSTEMUP(){return-9}static get YOFFSETSTEMDOWN(){return-21}static get XOFFSETSTEMUP(){return 6}static get XOFFSETSTEMDOWN(){return-2}constructor(t){super(),this.setAttribute(\"type\",\"Tremolo\"),this.num=t,this.note=null,this.index=null,this.position=B.Position.CENTER,this.code=\"v74\"}getCategory(){return jt.CATEGORY}draw(){if(this.checkContext(),!this.note||null==this.index)throw new s.RERR(\"NoAttachedNote\",\"Can't draw Tremolo without a note and index.\");this.setRendered();const t=this.note.getStemDirection();this.y_spacing=4*t;let e=this.note.getModifierStartXY(this.position,this.index).x,i=this.note.stem.getExtents().topY;const n=\"gracenotes\"===this.note.getCategory()?Nt.SCALE:1;i+=t<0?jt.YOFFSETSTEMDOWN*n:jt.YOFFSETSTEMUP*n,this.font={family:\"Arial\",size:16*n,weight:\"\"},this.render_options={font_scale:35*n,stroke_px:3,stroke_spacing:10*n},e+=t<0?jt.XOFFSETSTEMDOWN:jt.XOFFSETSTEMUP;for(let t=0;t<this.num;++t)f.renderGlyph(this.context,e,i,this.render_options.font_scale,this.code),i+=this.y_spacing}}class Kt extends C{constructor(t){super(t),this.setAttribute(\"type\",\"Crescendo\"),this.decrescendo=!1,this.line=t.line||0,this.height=15,s.Merge(this.render_options,{extend_left:0,extend_right:0,y_shift:0})}setLine(t){return this.line=t,this}setHeight(t){return this.height=t,this}setDecrescendo(t){return this.decrescendo=t,this}preFormat(){return this.preFormatted=!0,this}draw(){this.checkContext(),this.setRendered();const t=this.getTickContext(),e=it.getNextContext(t),i=this.getAbsoluteX(),n=e?e.getX():this.stave.x+this.stave.width,r=this.stave.getYForLine(this.line+-3)+1;!function(...t){Kt.DEBUG&&s.L(\"Vex.Flow.Crescendo\",t)}(\"Drawing \",this.decrescendo?\"decrescendo \":\"crescendo \",this.height,\"x\",i-n),function(t,e){const i=e.begin_x,s=e.end_x,n=e.y,r=e.height/2;t.beginPath(),e.reverse?(t.moveTo(i,n-r),t.lineTo(s,n),t.lineTo(i,n+r)):(t.moveTo(s,n-r),t.lineTo(i,n),t.lineTo(s,n+r)),t.stroke(),t.closePath()}(this.context,{begin_x:i-this.render_options.extend_left,end_x:n+this.render_options.extend_right,y:r+this.render_options.y_shift,height:this.height,reverse:this.decrescendo})}}const qt=s.MakeException(\"ParserError\");function Jt(t){return void 0!==t.matchedString?t.matchedString:t.results?Jt(t.results):1===t.length?Jt(t[0]):0===t.length?null:t.map(Jt)}class $t{constructor(t){this.grammar=t}parse(t){this.line=t,this.pos=0,this.errorPos=-1;const e=this.expect(this.grammar.begin());return e.errorPos=this.errorPos,e}matchFail(t){-1===this.errorPos&&(this.errorPos=this.pos),this.pos=t}matchSuccess(){this.errorPos=-1}matchToken(t,e=!1){const i=e?new RegExp(\"^((\"+t+\"))\"):new RegExp(\"^((\"+t+\")\\\\s*)\"),s=this.line.slice(this.pos).match(i);return null!==s?{success:!0,matchedString:s[2],incrementPos:s[1].length,pos:this.pos}:{success:!1,pos:this.pos}}expectOne(t,e=!1){const i=[],s=this.pos;let n=!0,r=!1;e=!0===e||!0===t.maybe;for(let e=0;e<t.expect.length;e++){const s=t.expect[e],o=this.pos,a=this.expect(s);if(a.success){if(i.push(a),r=!0,t.or)break}else if(n=!1,!t.or){this.pos=o;break}}const o=t.or&&r||n,a=o||!0===e;return e&&!o&&(this.pos=s),a?this.matchSuccess():this.matchFail(s),{success:a,results:i,numMatches:o?1:0}}expectOneOrMore(t,e=!1){const i=[],s=this.pos;let n=0,r=!0;do{const e=this.expectOne(t);e.success?(n++,i.push(e.results)):r=!1}while(r);const o=n>0||!0===e;return!e||n>0||(this.pos=s),o?this.matchSuccess():this.matchFail(s),{success:o,results:i,numMatches:n}}expectZeroOrMore(t){return this.expectOneOrMore(t,!0)}expect(t){let e;if(function(...t){$t.DEBUG&&s.L(\"Vex.Flow.Parser\",t)}(\"Evaluating rules:\",t),!t)throw new qt(\"Invalid Rule: \"+t,t);const i=t.bind(this.grammar)();if(i.token)e=this.matchToken(i.token,!0===i.noSpace),e.success&&(this.pos+=e.incrementPos);else{if(!i.expect)throw new qt(\"Bad grammar! No `token` or `expect` property\",i);e=i.oneOrMore?this.expectOneOrMore(i):i.zeroOrMore?this.expectZeroOrMore(i):this.expectOne(i)}return e.matches=[],e.results&&e.results.forEach(t=>e.matches.push(Jt(t))),i.run&&e.success&&i.run(e),e}}function Zt(...t){ne.DEBUG&&s.L(\"Vex.Flow.EasyScore\",t)}const Qt=s.MakeException(\"EasyScoreError\");class te{constructor(t){this.builder=t}begin(){return this.LINE}LINE(){return{expect:[this.PIECE,this.PIECES,this.EOL]}}PIECE(){return{expect:[this.CHORDORNOTE,this.PARAMS],run:()=>this.builder.commitPiece()}}PIECES(){return{expect:[this.COMMA,this.PIECE],zeroOrMore:!0}}PARAMS(){return{expect:[this.DURATION,this.TYPE,this.DOTS,this.OPTS]}}CHORDORNOTE(){return{expect:[this.CHORD,this.SINGLENOTE],or:!0}}CHORD(){return{expect:[this.LPAREN,this.NOTES,this.RPAREN],run:t=>this.builder.addChord(t.matches[1])}}NOTES(){return{expect:[this.NOTE],oneOrMore:!0}}NOTE(){return{expect:[this.NOTENAME,this.ACCIDENTAL,this.OCTAVE]}}SINGLENOTE(){return{expect:[this.NOTENAME,this.ACCIDENTAL,this.OCTAVE],run:t=>this.builder.addSingleNote(t.matches[0],t.matches[1],t.matches[2])}}ACCIDENTAL(){return{expect:[this.ACCIDENTALS],maybe:!0}}DOTS(){return{expect:[this.DOT],zeroOrMore:!0,run:t=>this.builder.setNoteDots(t.matches[0])}}TYPE(){return{expect:[this.SLASH,this.MAYBESLASH,this.TYPES],maybe:!0,run:t=>this.builder.setNoteType(t.matches[2])}}DURATION(){return{expect:[this.SLASH,this.DURATIONS],maybe:!0,run:t=>this.builder.setNoteDuration(t.matches[1])}}OPTS(){return{expect:[this.LBRACKET,this.KEYVAL,this.KEYVALS,this.RBRACKET],maybe:!0}}KEYVALS(){return{expect:[this.COMMA,this.KEYVAL],zeroOrMore:!0}}KEYVAL(){return{expect:[this.KEY,this.EQUALS,this.VAL],run:t=>this.builder.addNoteOption(t.matches[0],t.matches[2].slice(1,-1))}}VAL(){return{expect:[this.SVAL,this.DVAL],or:!0}}KEY(){return{token:\"[a-zA-Z][a-zA-Z0-9]*\"}}DVAL(){return{token:'[\"][^\"]*[\"]'}}SVAL(){return{token:\"['][^']*[']\"}}NOTENAME(){return{token:\"[a-gA-G]\"}}OCTAVE(){return{token:\"[0-9]+\"}}ACCIDENTALS(){return{token:\"bbs|bb|bss|bs|b|db|d|##|#|n|\\\\+\\\\+-|\\\\+-|\\\\+\\\\+|\\\\+|k|o\"}}DURATIONS(){return{token:\"[0-9whq]+\"}}TYPES(){return{token:\"[rRsSxX]\"}}LPAREN(){return{token:\"[(]\"}}RPAREN(){return{token:\"[)]\"}}COMMA(){return{token:\"[,]\"}}DOT(){return{token:\"[.]\"}}SLASH(){return{token:\"[/]\"}}MAYBESLASH(){return{token:\"[/]?\"}}EQUALS(){return{token:\"[=]\"}}LBRACKET(){return{token:\"\\\\[\"}}RBRACKET(){return{token:\"\\\\]\"}}EOL(){return{token:\"$\"}}}class ee{constructor(t){this.factory=t,this.commitHooks=[],this.reset()}reset(t={}){this.options={stem:\"auto\",clef:\"treble\"},this.elements={notes:[],accidentals:[]},this.rollingDuration=\"8\",this.resetPiece(),Object.assign(this.options,t)}getFactory(){return this.factory}getElements(){return this.elements}addCommitHook(t){this.commitHooks.push(t)}resetPiece(){Zt(\"resetPiece\"),this.piece={chord:[],duration:this.rollingDuration,dots:0,type:void 0,options:{}}}setNoteDots(t){Zt(\"setNoteDots:\",t),t&&(this.piece.dots=t.length)}setNoteDuration(t){Zt(\"setNoteDuration:\",t),this.rollingDuration=this.piece.duration=t||this.rollingDuration}setNoteType(t){Zt(\"setNoteType:\",t),t&&(this.piece.type=t)}addNoteOption(t,e){Zt(\"addNoteOption: key:\",t,\"value:\",e),this.piece.options[t]=e}addNote(t,e,i){Zt(\"addNote:\",t,e,i),this.piece.chord.push({key:t,accid:e,octave:i})}addSingleNote(t,e,i){Zt(\"addSingleNote:\",t,e,i),this.addNote(t,e,i)}addChord(t){Zt(\"startChord\"),\"object\"!=typeof t[0]?this.addSingleNote(t[0]):t.forEach(t=>{t&&this.addNote(...t)}),Zt(\"endChord\")}commitPiece(){Zt(\"commitPiece\");const{factory:t}=this;if(!t)return;const e={...this.options,...this.piece.options},{stem:i,clef:s}=e,n=\"auto\"===i.toLowerCase(),r=n||\"up\"!==i.toLowerCase()?k.STEM_DOWN:k.STEM_UP,{chord:o,duration:a,dots:h,type:l}=this.piece,c=o.map(t=>t.key+\"/\"+t.octave),u=t.StaveNote({keys:c,duration:a,dots:h,type:l,clef:s,auto_stem:n});n||u.setStemDirection(r);const d=o.map(t=>t.accid||null);d.forEach((e,i)=>{e&&u.addAccidental(i,t.Accidental({type:e}))});for(let t=0;t<h;t++)u.addDotToAll();this.commitHooks.forEach(t=>t(e,u,this)),this.elements.notes.push(u),this.elements.accidentals.concat(d),this.resetPiece()}}function ie({id:t},e){void 0!==t&&e.setAttribute(\"id\",t)}function se(t,e){if(!t.class)return;t.class.split(/\\s*,\\s*/).forEach(t=>e.addClass(t))}class ne{constructor(t={}){this.setOptions(t),this.defaults={clef:\"treble\",time:\"4/4\",stem:\"auto\"}}set(t){return Object.assign(this.defaults,t),this}setOptions(t){return this.options={factory:null,builder:null,commitHooks:[ie,se,et.easyScoreHook],throwOnError:!1,...t},this.factory=this.options.factory,this.builder=this.options.builder||new ee(this.factory),this.grammar=new te(this.builder),this.parser=new $t(this.grammar),this.options.commitHooks.forEach(t=>this.addCommitHook(t)),this}setContext(t){return this.factory&&this.factory.setContext(t),this}parse(t,e={}){this.builder.reset(e);const i=this.parser.parse(t);if(!i.success&&this.options.throwOnError)throw new Qt(\"Error parsing line: \"+t,i);return i}beam(t,e={}){return this.factory.Beam({notes:t,options:e}),t}tuplet(t,e={}){return this.factory.Tuplet({notes:t,options:e}),t}notes(t,e={}){return e={clef:this.defaults.clef,stem:this.defaults.stem,...e},this.parse(t,e),this.builder.getElements().notes}voice(t,e){return e={time:this.defaults.time,...e},this.factory.Voice(e).addTickables(t)}addCommitHook(t){return this.builder.addCommitHook(t)}}const re=s.MakeException(\"FactoryError\");function oe(t={},e){const i=e.options;return(t=Object.assign(e,t)).options=Object.assign(i,t.options),t}class ae{constructor(t){!function(...t){ae.DEBUG&&s.L(\"Vex.Flow.Factory\",t)}(\"New factory: \",t);const e={stave:{space:10},renderer:{context:null,elementId:\"\",backend:x.Backends.SVG,width:500,height:200,background:\"#FFF\"},font:{face:\"Arial\",point:10,style:\"\"}};this.options=e,this.setOptions(t)}static newFromElementId(t,e=500,i=200){return new ae({renderer:{elementId:t,width:e,height:i}})}reset(){this.renderQ=[],this.systems=[],this.staves=[],this.voices=[],this.stave=null}getOptions(){return this.options}setOptions(t){for(const e of[\"stave\",\"renderer\",\"font\"])Object.assign(this.options[e],t[e]);(null!==this.options.renderer.elementId||this.options.renderer.context)&&this.initRenderer(),this.reset()}initRenderer(){const{elementId:t,backend:e,width:i,height:s,background:n}=this.options.renderer;if(\"\"===t)throw new re(\"HTML DOM element not set in Factory\");this.context=x.buildContext(t,e,i,s,n)}getContext(){return this.context}setContext(t){return this.context=t,this}getStave(){return this.stave}getVoices(){return this.voices}space(t){return this.options.stave.space*t}Stave(t){t=oe(t,{x:0,y:0,width:this.options.renderer.width-this.space(1),options:{spacing_between_lines_px:this.options.stave.space}});const e=new _t(t.x,t.y,t.width,t.options);return this.staves.push(e),e.setContext(this.context),this.stave=e,e}TabStave(t){t=oe(t,{x:0,y:0,width:this.options.renderer.width-this.space(1),options:{spacing_between_lines_px:1.3*this.options.stave.space}});const e=new wt(t.x,t.y,t.width,t.options);return this.staves.push(e),e.setContext(this.context),this.stave=e,e}StaveNote(t){const e=new k(t);return this.stave&&e.setStave(this.stave),e.setContext(this.context),this.renderQ.push(e),e}GhostNote(t){const e=new Xt(t);return this.stave&&e.setStave(this.stave),e.setContext(this.context),this.renderQ.push(e),e}TextNote(t){const e=new bt(t);return this.stave&&e.setStave(this.stave),e.setContext(this.context),this.renderQ.push(e),e}BarNote(t){t=oe(t,{type:\"single\",options:{}});const e=new Yt(t.type);return this.stave&&e.setStave(this.stave),e.setContext(this.context),this.renderQ.push(e),e}ClefNote(t){t=oe(t,{type:\"treble\",options:{size:\"default\"}});const e=new At(t.type,t.options.size,t.options.annotation);return this.stave&&e.setStave(this.stave),e.setContext(this.context),this.renderQ.push(e),e}TimeSigNote(t){t=oe(t,{time:\"4/4\",options:{}});const e=new Ct(t.time);return this.stave&&e.setStave(this.stave),e.setContext(this.context),this.renderQ.push(e),e}KeySigNote(t){const e=new It(t.key,t.cancelKey,t.alterKey);return this.stave&&e.setStave(this.stave),e.setContext(this.context),this.renderQ.push(e),e}TabNote(t){const e=new Mt(t);return this.stave&&e.setStave(this.stave),e.setContext(this.context),this.renderQ.push(e),e}GraceNote(t){const e=new Nt(t);return this.stave&&e.setStave(this.stave),e.setContext(this.context),e}GraceNoteGroup(t){const e=new X(t.notes,t.slur);return e.setContext(this.context),e}Accidental(t){t=oe(t,{type:null,options:{}});const e=new z(t.type);return e.setContext(this.context),e}Annotation(t){t=oe(t,{text:\"p\",vJustify:\"below\",hJustify:\"center\",fontFamily:\"Times\",fontSize:14,fontWeight:\"bold italic\",options:{}});const e=new nt(t.text);return e.setJustification(t.hJustify),e.setVerticalJustification(t.vJustify),e.setFont(t.fontFamily,t.fontSize,t.fontWeight),e.setContext(this.context),e}Articulation(t){t=oe(t,{type:\"a.\",position:\"above\",options:{}});const e=new et(t.type);return e.setPosition(t.position),e.setContext(this.context),e}TextDynamics(t){t=oe(t,{text:\"p\",duration:\"q\",dots:0,line:0,options:{}});const e=new Vt({text:t.text,line:t.line,duration:t.duration,dots:t.dots});return this.stave&&e.setStave(this.stave),e.setContext(this.context),this.renderQ.push(e),e}Fingering(t){t=oe(t,{number:\"0\",position:\"left\",options:{}});const e=new O(t.number);return e.setPosition(t.position),e.setContext(this.context),e}StringNumber(t){t=oe(t,{number:\"0\",position:\"left\",options:{}});const e=new K(t.number);return e.setPosition(t.position),e.setContext(this.context),e}TickContext(){return(new it).setContext(this.context)}ModifierContext(){return new ht}MultiMeasureRest(t){const e=new Lt(t.number_of_measures,t);return e.setContext(this.context),this.renderQ.push(e),e}Voice(t){t=oe(t,{time:\"4/4\",options:{}});const e=new P(t.time);return this.voices.push(e),e}StaveConnector(t){t=oe(t,{top_stave:null,bottom_stave:null,type:\"double\",options:{}});const e=new A(t.top_stave,t.bottom_stave);return e.setType(t.type).setContext(this.context),this.renderQ.push(e),e}Formatter(){return new ut}Tuplet(t){t=oe(t,{notes:[],options:{}});const e=new v(t.notes,t.options).setContext(this.context);return this.renderQ.push(e),e}Beam(t){t=oe(t,{notes:[],options:{autoStem:!1,secondaryBeamBreaks:[]}});const e=new T(t.notes,t.options.autoStem).setContext(this.context);return e.breakSecondaryAt(t.options.secondaryBeamBreaks),this.renderQ.push(e),e}Curve(t){t=oe(t,{from:null,to:null,options:{}});const e=new kt(t.from,t.to,t.options).setContext(this.context);return this.renderQ.push(e),e}StaveTie(t){t=oe(t,{from:null,to:null,first_indices:[0],last_indices:[0],text:null,options:{direction:void 0}});const e=new H({first_note:t.from,last_note:t.to,first_indices:t.first_indices,last_indices:t.last_indices},t.text);return t.options.direction&&e.setDirection(t.options.direction),e.setContext(this.context),this.renderQ.push(e),e}StaveLine(t){t=oe(t,{from:null,to:null,first_indices:[0],last_indices:[0],options:{}});const e=new Wt({first_note:t.from,last_note:t.to,first_indices:t.first_indices,last_indices:t.last_indices});return t.options.text&&e.setText(t.options.text),t.options.font&&e.setFont(t.options.font),e.setContext(this.context),this.renderQ.push(e),e}VibratoBracket(t){t=oe(t,{from:null,to:null,options:{harsh:!1}});const e=new Tt({start:t.from,stop:t.to});return t.options.line&&e.setLine(t.options.line),t.options.harsh&&e.setHarsh(t.options.harsh),e.setContext(this.context),this.renderQ.push(e),e}TextBracket(t){t=oe(t,{from:null,to:null,text:\"\",options:{superscript:\"\",position:1}});const e=new Ht({start:t.from,stop:t.to,text:t.text,superscript:t.options.superscript,position:t.options.position});return t.options.line&&e.setLine(t.options.line),t.options.font&&e.setFont(t.options.font),e.setContext(this.context),this.renderQ.push(e),e}System(t={}){t.factory=this;const e=new le(t).setContext(this.context);return this.systems.push(e),e}EasyScore(t={}){return t.factory=this,new ne(t)}PedalMarking(t={}){t=oe(t,{notes:[],options:{style:\"mixed\"}});const e=new Ut(t.notes);return e.setStyle(Ut.StylesString[t.options.style]),e.setContext(this.context),this.renderQ.push(e),e}NoteSubGroup(t={}){t=oe(t,{notes:[],options:{}});const e=new U(t.notes);return e.setContext(this.context),e}draw(){this.systems.forEach(t=>t.setContext(this.context).format()),this.staves.forEach(t=>t.setContext(this.context).draw()),this.voices.forEach(t=>t.setContext(this.context).draw()),this.renderQ.forEach(t=>{t.isRendered()||t.setContext(this.context).draw()}),this.systems.forEach(t=>t.setContext(this.context).draw()),this.reset()}}function he(t,e){const i=e.options;return(t=Object.assign(e,t)).options=Object.assign(i,t.options),t}class le extends h{constructor(t={}){super(),this.setAttribute(\"type\",\"System\"),this.setOptions(t),this.parts=[]}setOptions(t={}){this.options=he(t,{x:10,y:10,width:500,connector:null,spaceBetweenStaves:12,factory:null,debugFormatter:!1,formatIterations:0,options:{}}),this.factory=this.options.factory||new ae({renderer:{el:null}})}setContext(t){return super.setContext(t),this.factory.setContext(t),this}addConnector(t=\"double\"){return this.connector=this.factory.StaveConnector({top_stave:this.parts[0].stave,bottom_stave:this.parts[this.parts.length-1].stave,type:t}),this.connector}addStave(t){return(t=he(t,{stave:null,voices:[],spaceAbove:0,spaceBelow:0,debugNoteMetrics:!1,options:{left_bar:!1}})).stave||(t.stave=this.factory.Stave({x:this.options.x,y:this.options.y,width:this.options.width,options:t.options})),t.voices.forEach(e=>e.setContext(this.context).setStave(t.stave).getTickables().forEach(e=>e.setStave(t.stave))),this.parts.push(t),t.stave}format(){const t=new ut;this.formatter=t;let e=this.options.y,i=0,s=[];const n=[];this.parts.forEach(r=>{e+=r.stave.space(r.spaceAbove),r.stave.setY(e),t.joinVoices(r.voices),e+=r.stave.space(r.spaceBelow),e+=r.stave.space(this.options.spaceBetweenStaves),r.debugNoteMetrics&&(n.push({y:e,voice:r.voices[0]}),e+=15),s=s.concat(r.voices),i=Math.max(i,r.stave.getNoteStartX())}),this.parts.forEach(t=>t.stave.setNoteStartX(i));const r=this.options.width-(i-this.options.x)-C.STAVEPADDING;t.format(s,r);for(let e=0;e<this.options.formatIterations;e++)t.tune();this.startX=i,this.debugNoteMetricsYs=n,this.lastY=e}draw(){const t=this.checkContext();this.setRendered(),this.options.debugFormatter&&ut.plotDebugging(t,this.formatter,this.startX,this.options.y,this.lastY),this.debugNoteMetricsYs.forEach(e=>{e.voice.getTickables().forEach(i=>C.plotMetrics(t,i,e.y))})}}(s.Flow=m).Element=h,s.Flow.Fraction=n,s.Flow.Renderer=x,s.Flow.Formatter=ut,s.Flow.Music=V,s.Flow.Glyph=f,s.Flow.Stave=_t,s.Flow.StaveNote=k,s.Flow.StaveModifier=dt,s.Flow.StaveTempo=gt,s.Flow.Voice=P,s.Flow.Accidental=z,s.Flow.Beam=T,s.Flow.StaveTie=H,s.Flow.TabStave=wt,s.Flow.TabNote=Mt,s.Flow.Bend=rt,s.Flow.Vibrato=ot,s.Flow.VibratoBracket=Tt,s.Flow.Note=C,s.Flow.ModifierContext=ht,s.Flow.MultiMeasureRest=Lt,s.Flow.TickContext=it,s.Flow.Articulation=et,s.Flow.Annotation=nt,s.Flow.Barline=ft,s.Flow.NoteHead=R,s.Flow.StaveConnector=A,s.Flow.ClefNote=At,s.Flow.KeySignature=xt,s.Flow.KeySigNote=It,s.Flow.TimeSignature=Et,s.Flow.TimeSigNote=Ct,s.Flow.Stem=E,s.Flow.TabTie=Y,s.Flow.Clef=yt,s.Flow.Dot=F,s.Flow.Modifier=B,s.Flow.TabSlide=Rt,s.Flow.Tuplet=v,s.Flow.GraceNote=Nt,s.Flow.GraceTabNote=Bt,s.Flow.Tuning=Ft,s.Flow.KeyManager=class{constructor(t){this.music=new V,this.setKey(t)}setKey(t){return this.key=t,this.reset(),this}getKey(){return this.key}reset(){if(this.keyParts=this.music.getKeyParts(this.key),this.keyString=this.keyParts.root,this.keyParts.accidental&&(this.keyString+=this.keyParts.accidental),!V.scaleTypes[this.keyParts.type])throw new s.RERR(\"BadArguments\",`Unsupported key type: ${this.key}`);this.scale=this.music.getScaleTones(this.music.getNoteValue(this.keyString),V.scaleTypes[this.keyParts.type]),this.scaleMap={},this.scaleMapByValue={},this.originalScaleMapByValue={};const t=V.root_indices[this.keyParts.root];for(let e=0;e<V.roots.length;++e){const i=(t+e)%V.roots.length,s=V.roots[i],n=this.music.getRelativeNoteName(s,this.scale[e]);this.scaleMap[s]=n,this.scaleMapByValue[this.scale[e]]=n,this.originalScaleMapByValue[this.scale[e]]=n}return this}getAccidental(t){const e=this.music.getKeyParts(t).root,i=this.music.getNoteParts(this.scaleMap[e]);return{note:this.scaleMap[e],accidental:i.accidental}}selectNote(t){t=t.toLowerCase();const e=this.music.getNoteParts(t),i=this.scaleMap[e.root],s=this.music.getNoteParts(i);if(i===t)return{note:i,accidental:e.accidental,change:!1};const n=this.scaleMapByValue[this.music.getNoteValue(t)];if(null!=n)return{note:n,accidental:this.music.getNoteParts(n).accidental,change:!1};const r=this.originalScaleMapByValue[this.music.getNoteValue(t)];return null!=r?(this.scaleMap[s.root]=r,delete this.scaleMapByValue[this.music.getNoteValue(i)],this.scaleMapByValue[this.music.getNoteValue(t)]=r,{note:r,accidental:this.music.getNoteParts(r).accidental,change:!0}):s.root===t?(delete this.scaleMapByValue[this.music.getNoteValue(this.scaleMap[e.root])],this.scaleMapByValue[this.music.getNoteValue(s.root)]=s.root,this.scaleMap[s.root]=s.root,{note:s.root,accidental:null,change:!0}):(delete this.scaleMapByValue[this.music.getNoteValue(this.scaleMap[e.root])],this.scaleMapByValue[this.music.getNoteValue(t)]=t,delete this.scaleMap[s.root],this.scaleMap[s.root]=t,{note:t,accidental:e.accidental,change:!0})}},s.Flow.StaveHairpin=Dt,s.Flow.BoundingBox=c,s.Flow.Stroke=j,s.Flow.TextNote=bt,s.Flow.Curve=kt,s.Flow.TextDynamics=Vt,s.Flow.StaveLine=Wt,s.Flow.Ornament=st,s.Flow.PedalMarking=Ut,s.Flow.TextBracket=Ht,s.Flow.FretHandFinger=O,s.Flow.Repetition=mt,s.Flow.BarNote=Yt,s.Flow.GhostNote=Xt,s.Flow.NoteSubGroup=U,s.Flow.GraceNoteGroup=X,s.Flow.Tremolo=jt,s.Flow.StringNumber=K,s.Flow.Crescendo=Kt,s.Flow.Volta=vt,s.Flow.Font=u,s.Flow.System=le,s.Flow.Factory=ae,s.Flow.Parser=$t,s.Flow.EasyScore=ne,s.Flow.Registry=a;e.default=s},function(t,e,i){\"use strict\";Object.defineProperty(e,\"__esModule\",{value:!0});e.MusicSheetReadingException=class{constructor(t,e){this.message=t,e&&(this.message+=\" \"+e.toString())}};e.ArgumentOutOfRangeException=class{constructor(t){this.message=t}};e.InvalidEnumArgumentException=class{constructor(t){this.message=t}}},function(t,e,i){\"use strict\";Object.defineProperty(e,\"__esModule\",{value:!0});var s=i(9),n=function(){function t(t){this.table={},this.nElements=0,this.toStr=t||s.defaultToString}return t.prototype.getValue=function(t){var e=this.table[\"$\"+this.toStr(t)];if(!s.isUndefined(e))return e.value},t.prototype.setValue=function(t,e){if(!s.isUndefined(t)&&!s.isUndefined(e)){var i,n=\"$\"+this.toStr(t),r=this.table[n];return s.isUndefined(r)?(this.nElements++,i=void 0):i=r.value,this.table[n]={key:t,value:e},i}},t.prototype.remove=function(t){var e=\"$\"+this.toStr(t),i=this.table[e];if(!s.isUndefined(i))return delete this.table[e],this.nElements--,i.value},t.prototype.keys=function(){var t=[];for(var e in this.table)if(s.has(this.table,e)){var i=this.table[e];t.push(i.key)}return t},t.prototype.values=function(){var t=[];for(var e in this.table)if(s.has(this.table,e)){var i=this.table[e];t.push(i.value)}return t},t.prototype.forEach=function(t){for(var e in this.table)if(s.has(this.table,e)){var i=this.table[e];if(!1===t(i.key,i.value))return}},t.prototype.containsKey=function(t){return!s.isUndefined(this.getValue(t))},t.prototype.clear=function(){this.table={},this.nElements=0},t.prototype.size=function(){return this.nElements},t.prototype.isEmpty=function(){return this.nElements<=0},t.prototype.toString=function(){var t=\"{\";return this.forEach((function(e,i){t+=\"\\n\\t\"+e+\" : \"+i})),t+\"\\n}\"},t}();e.default=n},function(t,e,i){\"use strict\";Object.defineProperty(e,\"__esModule\",{value:!0});const s=i(7);e.Label=class{constructor(t=\"\",e=s.TextAlignmentEnum.CenterBottom,i){this.text=t,this.textAlignment=e,this.font=i,this.fontFamily=void 0}ToString(){return this.text}}},function(t,e,i){\"use strict\";var s=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,\"__esModule\",{value:!0});const n=i(55),r=i(0),o=i(30),a=i(8),h=i(31),l=i(16),c=i(89),u=i(4),d=i(25),f=i(22),m=i(7),p=i(15),g=i(37),b=i(3),S=i(91),y=i(92),x=i(8),E=s(i(1)),v=s(i(12)),_=i(20),w=i(13),M=i(48),T=i(6),P=i(56),L=i(57),A=i(58),I=i(33),C=i(49),R=i(41),N=i(94);class B{constructor(){this.staffEntriesWithGraphicalTies=[],this.staffEntriesWithOrnaments=[],this.staffEntriesWithChordSymbols=[],this.staffLinesWithLyricWords=[],this.graphicalLyricWords=[]}static get TextMeasurer(){return B.textMeasurer}static set TextMeasurer(t){B.textMeasurer=t}get leadSheet(){return this.graphicalMusicSheet.LeadSheet}static setMeasuresMinStaffEntriesWidth(t,e){for(let i=0,s=t.length;i<s;++i){t[i].minimumStaffEntriesWidth=e}}initialize(t){this.graphicalMusicSheet=t,this.rules=t.ParentMusicSheet.Rules,this.prepareGraphicalMusicSheet()}prepareGraphicalMusicSheet(){const t=this.graphicalMusicSheet.ParentMusicSheet;this.staffEntriesWithGraphicalTies=[],this.staffEntriesWithOrnaments=[],this.staffEntriesWithChordSymbols=[],this.staffLinesWithLyricWords=[],this.graphicalMusicSheet.Initialize();const e=this.graphicalMusicSheet.MeasureList,i=this.createAccidentalCalculators(),s=this.graphicalMusicSheet.initializeActiveClefs(),n=[],r=t.getCompleteNumberOfStaves(),o=[];for(let t=0;t<r;t++)o.push(void 0);for(let r=0,a=t.SourceMeasures.length;r<a;++r){const a=t.SourceMeasures[r],h=this.createGraphicalMeasuresForSourceMeasure(a,i,n,o,s);e.push(h)}this.handleStaffEntries(),this.calculateVerticalContainersList(),this.setIndicesToVerticalGraphicalContainers()}calculate(){this.musicSystems=[],this.clearSystemsAndMeasures(),this.clearRecreatedObjects(),this.createGraphicalTies(),this.calculateSheetLabelBoundingBoxes(),this.calculateXLayout(this.graphicalMusicSheet,this.maxInstrNameLabelLength()),this.graphicalMusicSheet.MusicPages.length=0,this.calculateMusicSystems(),n.GraphicalMusicSheet.transformRelativeToAbsolutePosition(this.graphicalMusicSheet)}calculateXLayout(t,e){let i=0;const s=this.rules.MaxInstructionsConstValue;if(this.graphicalMusicSheet.MeasureList.length>0){let t=this.graphicalMusicSheet.MeasureList[0],n=this.calculateMeasureXLayout(t);n=this.calculateMeasureWidthFromLyrics(t,n),B.setMeasuresMinStaffEntriesWidth(t,n),i=1.2*n+e+s;for(let e=1;e<this.graphicalMusicSheet.MeasureList.length;e++)t=this.graphicalMusicSheet.MeasureList[e],n=this.calculateMeasureXLayout(t),n=this.calculateMeasureWidthFromLyrics(t,n),B.setMeasuresMinStaffEntriesWidth(t,n),i=Math.max(i,1.2*n+s)}this.graphicalMusicSheet.MinAllowedSystemWidth=i}calculateMeasureWidthFromLyrics(t,e){throw new Error(\"abstract, not implemented\")}formatMeasures(){throw new Error(\"abstract, not implemented\")}calculateMeasureXLayout(t){throw new Error(\"abstract, not implemented\")}initGraphicalMeasuresCreation(){throw new Error(\"abstract, not implemented\")}handleBeam(t,e,i){throw new Error(\"abstract, not implemented\")}handleTiedGraphicalNote(t,e,i,s,n,r,o,a){throw new Error(\"abstract, not implemented\")}handleVoiceEntryLyrics(t,e,i){throw new Error(\"abstract, not implemented\")}handleVoiceEntryOrnaments(t,e,i){throw new Error(\"abstract, not implemented\")}handleVoiceEntryArticulations(t,e,i){throw new Error(\"abstract, not implemented\")}handleVoiceEntryTechnicalInstructions(t,e,i){throw new Error(\"abstract, not implemented\")}handleTuplet(t,e,i){throw new Error(\"abstract, not implemented\")}layoutVoiceEntry(t,e,i,s){throw new Error(\"abstract, not implemented\")}layoutStaffEntry(t){throw new Error(\"abstract, not implemented\")}createGraphicalTie(t,e,i,s,n){throw new Error(\"abstract, not implemented\")}updateStaffLineBorders(t){throw new Error(\"abstract, not implemented\")}calculateMeasureNumberPlacement(t){const e=t.StaffLines[0];let i=e.Measures[0].MeasureNumber,s=0;for(const n of e.Measures)0!==n.MeasureNumber&&1!==n.MeasureNumber||(i=n.MeasureNumber),s=n!==e.Measures[0]&&this.rules.MeasureNumberLabelXOffset?this.rules.MeasureNumberLabelXOffset:0,n.MeasureNumber!==i&&n.MeasureNumber!==i+this.rules.MeasureNumberLabelOffset||n.parentSourceMeasure.ImplicitMeasure||((1!==n.MeasureNumber||1===n.MeasureNumber&&n!==e.Measures[0])&&this.calculateSingleMeasureNumberPlacement(n,e,t,s),i=n.MeasureNumber)}calculateSingleMeasureNumberPlacement(t,e,i,s=0){const n=t.MeasureNumber.toString(),r=new w.Label(n),o=new f.GraphicalLabel(r,this.rules.MeasureNumberLabelHeight,m.TextAlignmentEnum.LeftBottom,this.rules),a=e.SkyBottomLineCalculator;o.setLabelPositionAndShapeBorders(),o.PositionAndShape.Parent=i.PositionAndShape;const h=e.PositionAndShape.RelativePosition.x+t.PositionAndShape.RelativePosition.x-o.PositionAndShape.BorderMarginLeft+s;let l,c=h,d=h-o.PositionAndShape.BorderLeft+o.PositionAndShape.BorderRight;c-=e.PositionAndShape.RelativePosition.x,d-=e.PositionAndShape.RelativePosition.x;const p=c+.5,g=d-.5,b=a.getSkyLineMinInRange(p,g);if(t===e.Measures[0]){let t=0;if(i.GroupBrackets.length>0)for(const e of i.GroupBrackets)t=Math.min(t,e.PositionAndShape.BorderTop);l=Math.min(b,t)}else l=b;l=Math.min(0,l),o.PositionAndShape.RelativePosition=new u.PointF2D(h,l),a.updateSkyLineInRange(c,d,l+o.PositionAndShape.BorderMarginTop),i.MeasureNumberLabels.push(o)}layoutGraphicalTie(t,e){throw new Error(\"abstract, not implemented\")}calculateSingleStaffLineLyricsPosition(t,e){let i=0,s=this.rules.StaffHeight;const n=[],r=t.SkyBottomLineCalculator;let o=t.Measures.length;for(let e=0;e<o;++e){const o=t.Measures[e],a=o.PositionAndShape.RelativePosition,h=o.staffEntries.length;for(let t=0;t<h;++t){const e=o.staffEntries[t];if(e.LyricsEntries.length>0){n.push(e),i=Math.max(i,e.LyricsEntries.length);const t=e.PositionAndShape.RelativePosition.x+a.x;let o=Number.MAX_VALUE,h=Number.MIN_VALUE;for(let i=0;i<e.LyricsEntries.length;i++){const s=e.LyricsEntries[i].GraphicalLabel;o=Math.min(o,t+s.PositionAndShape.BorderMarginLeft),h=Math.max(h,t+s.PositionAndShape.BorderMarginRight)}const l=r.getBottomLineMaxInRange(o,h);s=Math.max(s,l)}}}let a=0;o=n.length;for(const t of n)for(let i=0;i<t.LyricsEntries.length;i++){const n=t.LyricsEntries[i],r=n.GraphicalLabel,o=n.LyricsEntry.VerseNumber,h=e.indexOf(o);let l=s+this.rules.LyricsHeight+this.rules.VerticalBetweenLyricsDistance+(this.rules.VerticalBetweenLyricsDistance+this.rules.LyricsHeight)*h;this.leadSheet&&(l=3.4+(this.rules.VerticalBetweenLyricsDistance+this.rules.LyricsHeight)*h);const c=r.PositionAndShape.RelativePosition.x;r.PositionAndShape.RelativePosition=new u.PointF2D(c,l),a=Math.max(a,l)}if(n.length>0){const e=t.PositionAndShape.Size.width;let i=n[0].PositionAndShape.RelativePosition.x+n[0].PositionAndShape.BorderMarginLeft+n[0].parentMeasure.PositionAndShape.RelativePosition.x;i=i>e?e:i,r.updateBottomLineInRange(i,e,a)}return n}calculateLyricsExtendsAndDashes(t){for(let e=0,i=t.length;e<i;++e){const i=t[e];for(let t=0;t<i.LyricsEntries.length;t++){const e=i.LyricsEntries[t];e.ParentLyricWord&&e.ParentLyricWord.GraphicalLyricsEntries[e.ParentLyricWord.GraphicalLyricsEntries.length-1]!==e&&this.calculateSingleLyricWord(e),e.LyricsEntry.extend&&this.calculateLyricExtend(e)}}}calculateSingleOctaveShift(t,e,i,s){throw new Error(\"abstract, not implemented\")}calculateWordRepetitionInstruction(t,e){throw new Error(\"abstract, not implemented\")}calculateMoodAndUnknownExpression(t,e,i){var s;const n=t.AbsoluteTimestamp,r=this.graphicalMusicSheet.MeasureList[e];let o=new u.PointF2D;if(t.MoodList.length>0||t.UnknownList.length>0){let e=\"\";for(let i=0,s=t.EntriesList.length;i<s;++i){const s=t.EntriesList[i];\"\"!==s.prefix&&(e+=\"\"===e?s.prefix:\" \"+s.prefix),e+=\"\"===e?s.label:\" \"+s.label}const a=r[i].ParentStaffLine;if(!a)return void E.default.debug(\"MusicSheetCalculator.calculateMoodAndUnknownExpression: staffLine undefined. Returning.\");o=this.getRelativePositionInStaffLineFromTimestamp(n,i,a,null==a?void 0:a.isPartOfMultiStaffInstrument()),Math.abs(o.x-0)<1e-4&&(o.x=r[i].beginInstructionsWidth+this.rules.RhythmRightMargin);const h=this.rules.UnknownTextHeight,l=t.getPlacementOfFirstEntry(),c=this.calculateLabel(a,o,e,t.getFontstyleOfFirstEntry(),l,h),u=new N.GraphicalUnknownExpression(a,c,l,null===(s=r[i])||void 0===s?void 0:s.parentSourceMeasure,t);a.AbstractExpressions.push(u)}}clearRecreatedObjects(){for(let t=0,e=this.staffEntriesWithGraphicalTies.length;t<e;++t){this.staffEntriesWithGraphicalTies[t].GraphicalTies.length=0}this.staffEntriesWithGraphicalTies.length=0}handleStaffEntryLink(t,e){E.default.debug(\"handleStaffEntryLink not implemented\")}calculateMusicSystems(){if(!this.graphicalMusicSheet.MeasureList)return;const t=this.graphicalMusicSheet.MeasureList;if(!t)return;this.rules.MinMeasureToDrawIndex>t.length-1&&(E.default.debug(\"minimum measure to draw index out of range. resetting min measure index to limit.\"),this.rules.MinMeasureToDrawIndex=t.length-1);const e=[];for(let i=this.rules.MinMeasureToDrawIndex,s=t.length;i<s&&i<=this.rules.MaxMeasureToDrawIndex;++i){const s=[];for(let e=0,n=t[i].length;e<n;++e){const n=t[i][e];if(n.isVisible()&&(s.push(n),this.rules.ColoringEnabled))for(const t of n.staffEntries)for(const e of t.graphicalVoiceEntries)e.color()}e.push(s)}let i=0;for(let t=0,s=e.length;t<s;++t){const s=e[t];i=Math.max(s.length,i);break}if(0===i)return;const s=new c.MusicSystemBuilder;if(s.initialize(this.graphicalMusicSheet,e,i),this.musicSystems=s.buildMusicSystems(),this.formatMeasures(),this.leadSheet||(this.optimizeRestPlacement(),this.calculateStaffEntryArticulationMarks(),this.rules.RenderSlurs&&this.calculateTieCurves()),this.calculateSkyBottomLines(),this.calculateTupletNumbers(),this.rules.RenderMeasureNumbers)for(let t=0,e=this.musicSystems.length;t<e;++t){const e=this.musicSystems[t];this.calculateMeasureNumberPlacement(e)}!this.leadSheet&&this.rules.RenderSlurs&&this.calculateSlurs(),this.leadSheet||this.calculateOrnaments(),this.calculateChordSymbols(),this.leadSheet||(this.calculateDynamicExpressions(),this.calculateMoodAndUnknownExpressions(),this.calculateExpressionAlignements(),this.calculateOctaveShifts(),this.calculateWordRepetitionInstructions()),this.calculateRepetitionEndings(),this.leadSheet||this.calculateTempoExpressions(),this.calculateLyricsPosition();for(let t=0,e=this.musicSystems.length;t<e;++t){const e=this.musicSystems[t];for(let t=0,i=e.StaffLines.length;t<i;++t){const i=e.StaffLines[t];this.updateStaffLineBorders(i)}}s.calculateSystemYLayout(),this.calculateComments(),this.calculateMarkedAreas();for(let t=0,e=this.graphicalMusicSheet.MusicPages.length;t<e;++t){const e=this.graphicalMusicSheet.MusicPages[t];for(let i=0,s=e.MusicSystems.length;i<s;++i){const s=0===t&&0===i,n=e.MusicSystems[i];n.setMusicSystemLabelsYPosition(),this.leadSheet?n===n.Parent.MusicSystems[0]&&n.createSystemLeftLine(this.rules.SystemThinLineWidth,this.rules.SystemLabelsRightMargin,s):(n.setYPositionsToVerticalLineObjectsAndCreateLines(this.rules),n.createSystemLeftLine(this.rules.SystemThinLineWidth,this.rules.SystemLabelsRightMargin,s),n.createInstrumentBrackets(this.graphicalMusicSheet.ParentMusicSheet.Instruments,this.rules.StaffHeight),n.createGroupBrackets(this.graphicalMusicSheet.ParentMusicSheet.InstrumentalGroups,this.rules.StaffHeight,0),n.alignBeginInstructions()),n.calculateBorders(this.rules)}const i=e.MusicSystems[0].PositionAndShape.BorderTop;for(let t=0,s=e.MusicSystems.length;t<s;++t){const s=e.MusicSystems[t];s.PositionAndShape.RelativePosition=new u.PointF2D(s.PositionAndShape.RelativePosition.x,s.PositionAndShape.RelativePosition.y-i)}for(let t=0,i=e.MusicSystems.length;t<i;++t){const i=e.MusicSystems[t];for(let t=0,e=i.StaffLines.length;t<e;++t){i.StaffLines[t].addActivitySymbolClickArea()}}e.PositionAndShape.calculateTopBottomBorders(),e===this.graphicalMusicSheet.MusicPages[0]&&this.calculatePageLabels(e),e.PositionAndShape.calculateTopBottomBorders()}}calculateMarkedAreas(){}calculateComments(){}calculateChordSymbols(){for(const t of this.musicSystems)for(const e of t.StaffLines){const t=e.SkyBottomLineCalculator;for(const i of e.Measures)for(const e of i.staffEntries)if(e.graphicalChordContainers&&0!==e.graphicalChordContainers.length)for(const i of e.graphicalChordContainers){const s=e.PositionAndShape,n=i.PositionAndShape,r=n.BorderMarginLeft+s.AbsolutePosition.x,o=n.BorderMarginRight+s.AbsolutePosition.x;t.updateSkyLineInRange(r,o,s.BorderMarginTop)}}}layoutMeasureWithWholeRest(t,e,i){}layoutBeams(t){}layoutArticulationMarks(t,e,i){}layoutOrnament(t,e,i){}calculateRestNotePlacementWithinGraphicalBeam(t,e,i,s,n){}calculateTupletNumbers(){}calculateSlurs(){}calculateDynamicExpressionsForMultiExpression(t,e,i){}calculateGraphicalVerbalContinuousDynamic(t,e){const i=t.Label,s=e.x+i.PositionAndShape.BorderMarginLeft,n=e.x+i.PositionAndShape.BorderMarginRight,r=t.ContinuousDynamic.Placement,o=t.ParentStaffLine.SkyBottomLineCalculator;let a;r===T.PlacementEnum.Below?(a=o.getBottomLineMaxInRange(s,n),i.PositionAndShape.RelativePosition=new u.PointF2D(e.x,a-i.PositionAndShape.BorderMarginTop)):(a=o.getSkyLineMinInRange(s,n),i.PositionAndShape.RelativePosition=new u.PointF2D(e.x,a-i.PositionAndShape.BorderMarginBottom))}calculateGraphicalContinuousDynamic(t,e){const i=t.ParentStaffLine.ParentStaff.idInMusicSheet,s=this.graphicalMusicSheet.getGraphicalMeasureFromSourceMeasureAndIndex(t.ContinuousDynamic.EndMultiExpression.SourceMeasureParent,i);if(!s)return void E.default.warn(\"MusicSheetCalculator.calculateGraphicalContinuousDynamic: No endMeasure found\");t.EndMeasure=s;const n=t.ParentStaffLine,o=s.ParentStaffLine,a=o&&n===o;let h=!1;o?h=null==o?void 0:o.isPartOfMultiStaffInstrument():n&&(h=null==n?void 0:n.isPartOfMultiStaffInstrument());const l=r.Fraction.createFromFraction(t.ContinuousDynamic.EndMultiExpression.AbsoluteTimestamp),c=this.getRelativePositionInStaffLineFromTimestamp(l,i,o,h,0),u=n.ParentMusicSystem,d=u.StaffLines.indexOf(n),f=n.SkyBottomLineCalculator,m=t.ContinuousDynamic.Placement;let p=void 0;a&&c.x-e.x<this.rules.WedgeMinLength&&(c.x=e.x+this.rules.WedgeMinLength);const g=e.x,b=o.Measures[0].beginInstructionsWidth-this.rules.WedgeHorizontalMargin-2;let S=0,y=0;a?S=c.x:(S=n.PositionAndShape.Size.width,y=c.x,p=new C.GraphicalContinuousDynamicExpression(t.ContinuousDynamic,o,s.parentSourceMeasure),p.IsSplittedPart=!0,t.IsSplittedPart=!0);let x=0,v=0;if(m===T.PlacementEnum.Below){let e=0;if(d<u.StaffLines.length-1&&(e=d+1),e>d){const t=u.StaffLines[e].PositionAndShape.RelativePosition.y-n.PositionAndShape.RelativePosition.y-this.rules.StaffHeight;x=this.rules.StaffHeight+t/2}else x=this.rules.WedgePlacementBelowY;x-=this.rules.WedgeOpeningLength/2,a||(v=x);let i=f.getBottomLineMaxInRange(g,S);i>x&&(x=i);const s=!1;if(d<u.StaffLines.length-1){const i=n.findClosestStaffEntry(S),r=n.findClosestStaffEntry(g);if(r&&i){r.parentVerticalContainer;if(s){const i=u.StaffLines[e],s=i.SkyBottomLineCalculator.getSkyLineMinInRange(g,S),r=i.PositionAndShape.RelativePosition.y-n.PositionAndShape.RelativePosition.y+s;x=r-this.rules.WedgeOpeningLength>this.rules.StaffHeight?r-this.rules.WedgeVerticalMargin:this.rules.StaffHeight+this.rules.WedgeOpeningLength,t.NotToBeRemoved=!0}}}a||(i=o.SkyBottomLineCalculator.getBottomLineMaxInRange(b,y),i>v&&(v=i),v+=this.rules.WedgeOpeningLength/2,v+=this.rules.WedgeVerticalMargin),s||(x+=this.rules.WedgeOpeningLength/2,x+=this.rules.WedgeVerticalMargin)}else if(m===T.PlacementEnum.Above){if(1===n.ParentStaff.ParentInstrument.Staves.length)x=this.rules.WedgePlacementAboveY;else{let t=0;d>0&&(t=d-1);const e=u.StaffLines[t];x=-(n.PositionAndShape.RelativePosition.y-e.PositionAndShape.RelativePosition.y-this.rules.StaffHeight)/2}x+=this.rules.WedgeOpeningLength/2,a||(v=x);let t=f.getSkyLineMinInRange(g,S);t<x&&(x=t);const e=!1;if(n.ParentStaff.ParentInstrument.Staves.length>1&&d>0){const t=n.findClosestStaffEntry(g),i=n.findClosestStaffEntry(S);if(t&&i){t.parentVerticalContainer;const i=d-1;if(e){const t=u.StaffLines[i],e=t.SkyBottomLineCalculator.getBottomLineMaxInRange(g,S);x=(n.PositionAndShape.RelativePosition.y-t.PositionAndShape.RelativePosition.y-e-this.rules.StaffHeight)/2+this.rules.StaffHeight}}}a||(t=o.SkyBottomLineCalculator.getSkyLineMinInRange(b,y),t<v&&(v=t),v-=this.rules.WedgeOpeningLength/2),e||(x-=this.rules.WedgeOpeningLength/2,x-=this.rules.WedgeVerticalMargin),a||(v-=this.rules.WedgeVerticalMargin)}t.Lines.clear(),t.ContinuousDynamic.DynamicType===I.ContDynamicEnum.crescendo?a?(t.createCrescendoLines(g,S,x),t.calcPsi()):(t.createFirstHalfCrescendoLines(g,S,x),t.calcPsi(),p.createSecondHalfCrescendoLines(b,y,v),p.calcPsi()):t.ContinuousDynamic.DynamicType===I.ContDynamicEnum.diminuendo&&(a?(t.createDiminuendoLines(g,S,x),t.calcPsi()):(t.createFirstHalfDiminuendoLines(g,S,x),t.calcPsi(),p.createSecondHalfDiminuendoLines(b,y,v),p.calcPsi()))}calculateGraphicalInstantaneousDynamicExpression(t,e){const i=t.ParentStaffLine;if(!i)return;const s=e.x+t.PositionAndShape.BorderMarginLeft,n=e.x+t.PositionAndShape.BorderMarginRight,r=i.SkyBottomLineCalculator;let o=0;if(t.Placement===T.PlacementEnum.Above){const a=r.getSkyLineMinInRange(s,n);if(i.isPartOfMultiStaffInstrument()&&i.ParentStaff!==i.ParentStaff.ParentInstrument.Staves[0]){const e=i.ParentMusicSystem.StaffLines[i.ParentMusicSystem.StaffLines.indexOf(i)-1],s=i.PositionAndShape.RelativePosition.y-e.PositionAndShape.RelativePosition.y-this.rules.StaffHeight;o=a>-s/2?-s/2:a-t.PositionAndShape.BorderMarginBottom}else o=a-t.PositionAndShape.BorderMarginBottom;t.PositionAndShape.RelativePosition=new u.PointF2D(e.x,o)}else if(t.Placement===T.PlacementEnum.Below){const a=r.getBottomLineMaxInRange(s,n),h=i.ParentStaff.ParentInstrument.Staves[i.ParentStaff.ParentInstrument.Staves.length-1];if(i.isPartOfMultiStaffInstrument()&&i.ParentStaff!==h){const e=i.ParentMusicSystem.StaffLines[i.ParentMusicSystem.StaffLines.indexOf(i)+1].PositionAndShape.RelativePosition.y-i.PositionAndShape.RelativePosition.y-this.rules.StaffHeight;o=a+t.PositionAndShape.BorderMarginBottom<this.rules.StaffHeight+e/2?this.rules.StaffHeight+e/2:a-t.PositionAndShape.BorderMarginTop}else o=a-t.PositionAndShape.BorderMarginTop;t.PositionAndShape.RelativePosition=new u.PointF2D(e.x,o)}t.updateSkyBottomLine()}calcGraphicalRepetitionEndingsRecursively(t){}layoutSingleRepetitionEnding(t,e,i,s,n,r){}calculateLabel(t,e,i,s,n,r,o=m.TextAlignmentEnum.CenterBottom){const a=new w.Label(i,o);a.fontStyle=s,a.fontHeight=r;const h=new f.GraphicalLabel(a,r,a.textAlignment,this.rules,t.PositionAndShape);n===T.PlacementEnum.Below&&(h.Label.textAlignment=m.TextAlignmentEnum.LeftTop),h.setLabelPositionAndShapeBorders(),h.PositionAndShape.BorderMarginBottom*=1.1,h.PositionAndShape.BorderMarginTop*=1.1,h.PositionAndShape.BorderMarginLeft*=1.1,h.PositionAndShape.BorderMarginRight*=1.1;let l,c=e.x+h.PositionAndShape.BorderMarginLeft,d=e.x+h.PositionAndShape.BorderMarginRight;d>t.PositionAndShape.Size.width&&(d=t.PositionAndShape.Size.width-this.rules.MeasureRightMargin,c=d-h.PositionAndShape.MarginSize.width,e.x=c-h.PositionAndShape.BorderMarginLeft);const p=t.SkyBottomLineCalculator;return l=n===T.PlacementEnum.Below?p.getBottomLineMaxInRange(c,d):p.getSkyLineMinInRange(c,d),h.PositionAndShape.RelativePosition=new u.PointF2D(e.x,l),n===T.PlacementEnum.Below?p.updateBottomLineInRange(c,d,h.PositionAndShape.BorderMarginBottom+l):p.updateSkyLineInRange(c,d,h.PositionAndShape.BorderMarginTop+l),h}calculateTempoExpressionsForMultiTempoExpression(t,e,i){const s=r.Fraction.plus(t.AbsoluteTimestamp,e.Timestamp),n=this.graphicalMusicSheet.MeasureList[i];let o=new u.PointF2D;if(e.ContinuousTempo||e.InstantaneousTempo){if(this.rules.MinMeasureToDrawIndex>0)return;let t=n[0].ParentStaffLine,i=n[0].PositionAndShape.RelativePosition.x,r=0;for(let e=0;e<n.length;e++)if(n[e].ParentStaffLine&&0!==n[e].ParentStaffLine.Measures.length&&n[e].ParentStaffLine.Measures.length>0){t=n[e].ParentStaffLine,i=n[e].PositionAndShape.RelativePosition.x,r=e;break}if(o=this.getRelativePositionInStaffLineFromTimestamp(s,r,t,t.isPartOfMultiStaffInstrument(),i),e.EntriesList.length>0&&e.EntriesList[0].Expression instanceof L.InstantaneousTempoExpression){if(e.EntriesList[0].Expression.Placement=T.PlacementEnum.Above,t.Measures[0].staffEntries.length>0&&0===Math.abs(o.x-t.Measures[0].staffEntries[0].PositionAndShape.RelativePosition.x)&&t.ParentMusicSystem===this.musicSystems[0]){const e=t.Measures[0].FirstInstructionStaffEntry;if(e){const t=e.GraphicalInstructions.last();o.x=t.PositionAndShape.RelativePosition.x}this.rules.CompactMode&&(o.x=t.PositionAndShape.RelativePosition.x+t.Measures[0].PositionAndShape.RelativePosition.x)}}for(const i of e.EntriesList){let s=m.TextAlignmentEnum.CenterBottom;this.rules.CompactMode&&(s=m.TextAlignmentEnum.LeftBottom);const n=this.calculateLabel(t,o,i.label,e.getFontstyleOfFirstEntry(),i.Expression.Placement,this.rules.UnknownTextHeight,s);if(i.Expression instanceof L.InstantaneousTempoExpression){for(const e of t.AbstractExpressions)e instanceof P.GraphicalInstantaneousTempoExpression&&(e.SourceExpression.Label,i.Expression.Label);if(new P.GraphicalInstantaneousTempoExpression(i.Expression,n).ParentStaffLine||E.default.warn(\"Adding staffline didn't work\"),this.rules.MetronomeMarksDrawn&&i.Expression.Enum===L.TempoEnum.metronomeMark){this.createMetronomeMark(i.Expression);continue}}else i.Expression,A.ContinuousTempoExpression}}}createMetronomeMark(t){throw new Error(\"abstract, not implemented\")}graphicalMeasureCreatedCalculations(t){}clearSystemsAndMeasures(){for(let t=0,e=this.graphicalMusicSheet.MusicPages.length;t<e;++t){const e=this.graphicalMusicSheet.MusicPages[t];for(let t=0,i=e.MusicSystems.length;t<i;++t){const i=e.MusicSystems[t];for(let t=0,e=i.StaffLines.length;t<e;++t){const e=i.StaffLines[t];for(let t=0,i=e.Measures.length;t<i;++t){const i=e.Measures[t];if(i.FirstInstructionStaffEntry){const t=i.PositionAndShape.ChildElements.indexOf(i.FirstInstructionStaffEntry.PositionAndShape);t>-1&&i.PositionAndShape.ChildElements.splice(t,1),i.FirstInstructionStaffEntry=void 0,i.beginInstructionsWidth=0}if(i.LastInstructionStaffEntry){const t=i.PositionAndShape.ChildElements.indexOf(i.LastInstructionStaffEntry.PositionAndShape);t>-1&&i.PositionAndShape.ChildElements.splice(t,1),i.LastInstructionStaffEntry=void 0,i.endInstructionsWidth=0}}e.Measures=[],e.PositionAndShape.ChildElements=[]}i.StaffLines.length=0,i.PositionAndShape.ChildElements=[]}e.MusicSystems=[],e.PositionAndShape.ChildElements=[]}this.graphicalMusicSheet.MusicPages=[]}handleVoiceEntry(t,e,i,s,n,r,o,a,h,c){t.StemDirectionXml!==l.StemDirectionType.Undefined&&this.rules.SetWantedStemDirectionByXml&&void 0!==t.StemDirectionXml?t.WantedStemDirection=t.StemDirectionXml:this.calculateStemDirectionFromVoices(t);const u=e.findOrCreateGraphicalVoiceEntry(t);u.octaveShiftValue=a;const d=e.tabStaffEntry;let f;d&&(f=d.findOrCreateGraphicalVoiceEntry(t));for(let s=0,l=t.Notes.length;s<l;++s){const l=t.Notes[s];if(!l)continue;if(void 0!==c&&void 0!==c.Link&&void 0!==h&&h.indexOf(l)>-1)continue;let m;if(t.IsGrace)m=B.symbolFactory.createGraceNote(l,u,n,a);else{m=B.symbolFactory.createNote(l,u,n,a,void 0);const e=t.ParentSourceStaffEntry.ParentStaff.StafflineCount;m=B.stafflineNoteCalculator.positionNote(m,n,e)}if(l.Pitch&&this.checkNoteForAccidental(m,i,n,a),this.resetYPositionForLeadSheet(m.PositionAndShape),e.addGraphicalNoteToListAtCorrectYPosition(u,m),m.PositionAndShape.calculateBoundingBox(),this.leadSheet||(void 0!==l.NoteBeam&&l.PrintObject&&this.handleBeam(m,l.NoteBeam,o),void 0!==l.NoteTuplet&&l.PrintObject&&this.handleTuplet(m,l.NoteTuplet,r)),f){const t=B.symbolFactory.createNote(l,f,n,a,void 0);d.addGraphicalNoteToListAtCorrectYPosition(f,t),t.PositionAndShape.calculateBoundingBox(),this.leadSheet||l.NoteTuplet&&this.handleTuplet(t,l.NoteTuplet,r)}}return t.Articulations.length>0&&this.handleVoiceEntryArticulations(t.Articulations,t,e),t.TechnicalInstructions.length>0&&this.handleVoiceEntryTechnicalInstructions(t.TechnicalInstructions,t,e),t.LyricsEntries.size()>0&&this.handleVoiceEntryLyrics(t,e,s),t.OrnamentContainer&&this.handleVoiceEntryOrnaments(t.OrnamentContainer,t,e),a}resetYPositionForLeadSheet(t){this.leadSheet&&(t.RelativePosition=new u.PointF2D(t.RelativePosition.x,0))}layoutVoiceEntries(t){if(t.PositionAndShape.RelativePosition=new u.PointF2D(0,0),!this.leadSheet)for(const e of t.graphicalVoiceEntries){const i=e.notes;if(0===i.length)continue;const s=i[0].sourceNote.ParentVoiceEntry,n=void 0!==i[0].sourceNote.Pitch;this.layoutVoiceEntry(s,i,t,n)}}maxInstrNameLabelLength(){let t=0;for(const e of this.graphicalMusicSheet.ParentMusicSheet.Instruments)if(e.Voices.length>0&&e.Voices[0].Visible){let i=e.NameLabel;this.rules.RenderPartNames||(i=new w.Label(\"\",i.textAlignment,i.font));const s=new f.GraphicalLabel(i,this.rules.InstrumentLabelTextHeight,m.TextAlignmentEnum.LeftCenter,this.rules);s.setLabelPositionAndShapeBorders(),t=Math.max(t,s.PositionAndShape.MarginSize.width)}return this.rules.RenderPartNames?t:0}calculateSheetLabelBoundingBoxes(){const t=this.graphicalMusicSheet.ParentMusicSheet,e=this.rules.DefaultColorTitle;if(void 0!==t.Title&&this.rules.RenderTitle){const i=new f.GraphicalLabel(t.Title,this.rules.SheetTitleHeight,m.TextAlignmentEnum.CenterBottom,this.rules);i.Label.colorDefault=e,this.graphicalMusicSheet.Title=i,i.setLabelPositionAndShapeBorders()}else this.rules.RenderTitle||(this.graphicalMusicSheet.Title=void 0);if(void 0!==t.Subtitle&&this.rules.RenderSubtitle){const i=new f.GraphicalLabel(t.Subtitle,this.rules.SheetSubtitleHeight,m.TextAlignmentEnum.CenterCenter,this.rules);i.Label.colorDefault=e,this.graphicalMusicSheet.Subtitle=i,i.setLabelPositionAndShapeBorders()}else this.rules.RenderSubtitle||(this.graphicalMusicSheet.Subtitle=void 0);if(void 0!==t.Composer&&this.rules.RenderComposer){const i=new f.GraphicalLabel(t.Composer,this.rules.SheetComposerHeight,m.TextAlignmentEnum.RightCenter,this.rules);i.Label.colorDefault=e,this.graphicalMusicSheet.Composer=i,i.setLabelPositionAndShapeBorders()}else this.rules.RenderComposer||(this.graphicalMusicSheet.Composer=void 0);if(void 0!==t.Lyricist&&this.rules.RenderLyricist){const i=new f.GraphicalLabel(t.Lyricist,this.rules.SheetAuthorHeight,m.TextAlignmentEnum.LeftCenter,this.rules);i.Label.colorDefault=e,this.graphicalMusicSheet.Lyricist=i,i.setLabelPositionAndShapeBorders()}else this.rules.RenderLyricist||(this.graphicalMusicSheet.Lyricist=void 0)}checkMeasuresForWholeRestNotes(){for(let t=0,e=this.musicSystems.length;t<e;++t){const e=this.musicSystems[t];for(let t=0,i=e.StaffLines.length;t<i;++t){const i=e.StaffLines[t];for(let t=0,e=i.Measures.length;t<e;++t){const e=i.Measures[t];if(1===e.staffEntries.length){const t=e.staffEntries[0];if(t.graphicalVoiceEntries.length>0&&1===t.graphicalVoiceEntries[0].notes.length){const i=t.graphicalVoiceEntries[0].notes[0];!i.sourceNote.Pitch&&new r.Fraction(1,2).lt(i.sourceNote.Length)&&this.layoutMeasureWithWholeRest(i,t,e)}}}}}}optimizeRestNotePlacement(t,e){if(0===t.graphicalVoiceEntries.length)return;const i=t.graphicalVoiceEntries[0].notes;if(0===i.length)return;const s=i[0],n=s.sourceNote.isRest();if(2===t.graphicalVoiceEntries.length){let e=!1;const i=t.graphicalVoiceEntries[1].notes;if(i.length>0){e=i[0].sourceNote.isRest()}n&&e?this.calculateTwoRestNotesPlacementWithCollisionDetection(t):(n||e)&&this.calculateRestNotePlacementWithCollisionDetectionFromGraphicalNote(t)}else if(n&&t!==e.staffEntries[0]&&t!==e.staffEntries[e.staffEntries.length-1]){const i=e.staffEntries.indexOf(t),n=e.staffEntries[i-1],r=e.staffEntries[i+1];if(1===n.graphicalVoiceEntries.length){const e=n.graphicalVoiceEntries[0].notes[0];if(void 0!==e.sourceNote.NoteBeam&&1===r.graphicalVoiceEntries.length){const i=r.graphicalVoiceEntries[0].notes[0];void 0!==i.sourceNote.NoteBeam&&e.sourceNote.NoteBeam===i.sourceNote.NoteBeam&&(this.calculateRestNotePlacementWithinGraphicalBeam(t,s,e,r,i),t.PositionAndShape.calculateBoundingBox())}}}}getRelativePositionInStaffLineFromTimestamp(t,e,i,s,n=0){let o=new u.PointF2D,a=void 0,h=void 0;const l=this.graphicalMusicSheet.VerticalGraphicalStaffEntryContainers.length,c=this.graphicalMusicSheet.GetInterpolatedIndexInVerticalContainers(t),d=Math.min(Math.floor(c),l-1),f=Math.min(Math.ceil(c),l-1);if(d<0||e<0)return o;if(a=this.getFirstLeftNotNullStaffEntryFromContainer(d,e,s),h=this.getFirstRightNotNullStaffEntryFromContainer(f,e,s),a&&h){let e=a.parentMeasure.PositionAndShape.RelativePosition.x;n>0&&(e=n);let s=a.PositionAndShape.RelativePosition.x+e,l=h.PositionAndShape.RelativePosition.x+h.parentMeasure.PositionAndShape.RelativePosition.x;n>0&&(l=h.PositionAndShape.RelativePosition.x+e);let c=0;if(a!==h){const e=a.getAbsoluteTimestamp(),i=h.getAbsoluteTimestamp();c=r.Fraction.minus(t,e).RealValue/r.Fraction.minus(i,e).RealValue}a.parentMeasure.ParentStaffLine!==h.parentMeasure.ParentStaffLine&&(a.parentMeasure.ParentStaffLine===i?l=i.PositionAndShape.Size.width:s=i.PositionAndShape.RelativePosition.x),o=new u.PointF2D(s+(l-s)*c,0)}return o}getRelativeXPositionFromTimestamp(t){const e=this.graphicalMusicSheet.VerticalGraphicalStaffEntryContainers.length,i=this.graphicalMusicSheet.GetInterpolatedIndexInVerticalContainers(t),s=Math.max(0,Math.min(Math.round(i),e-1)),n=this.graphicalMusicSheet.VerticalGraphicalStaffEntryContainers[s].getFirstNonNullStaffEntry();return n.PositionAndShape.RelativePosition.x+n.parentMeasure.PositionAndShape.RelativePosition.x}calculatePageLabels(t){this.rules.RenderSingleHorizontalStaffline&&(t.PositionAndShape.BorderRight=t.PositionAndShape.Size.width,t.PositionAndShape.calculateBoundingBox(),this.graphicalMusicSheet.ParentMusicSheet.pageWidth=t.PositionAndShape.Size.width);let e=10;if(t.MusicSystems.length>0){const i=t.MusicSystems[0];e=i.PositionAndShape.RelativePosition.y+i.PositionAndShape.BorderTop}if(this.graphicalMusicSheet.Title){const e=this.graphicalMusicSheet.Title;e.PositionAndShape.Parent=t.PositionAndShape;const i=new u.PointF2D;i.x=this.graphicalMusicSheet.ParentMusicSheet.pageWidth/2,i.y=this.rules.TitleTopDistance+this.rules.SheetTitleHeight,e.PositionAndShape.RelativePosition=i,t.Labels.push(e)}if(this.graphicalMusicSheet.Subtitle){const e=this.graphicalMusicSheet.Subtitle;e.PositionAndShape.Parent=t.PositionAndShape;const i=new u.PointF2D;i.x=this.graphicalMusicSheet.ParentMusicSheet.pageWidth/2,i.y=this.rules.TitleTopDistance+this.rules.SheetTitleHeight+this.rules.SheetMinimumDistanceBetweenTitleAndSubtitle,e.PositionAndShape.RelativePosition=i,t.Labels.push(e)}const i=this.graphicalMusicSheet.Composer;if(i){i.PositionAndShape.Parent=t.PositionAndShape,i.setLabelPositionAndShapeBorders();const s=new u.PointF2D;s.x=this.graphicalMusicSheet.ParentMusicSheet.pageWidth-this.rules.PageRightMargin,s.y=e-this.rules.SystemComposerDistance,i.PositionAndShape.RelativePosition=s,t.Labels.push(i)}const s=this.graphicalMusicSheet.Lyricist;if(s){s.PositionAndShape.Parent=t.PositionAndShape,s.setLabelPositionAndShapeBorders();const i=new u.PointF2D;i.x=this.rules.PageLeftMargin,i.y=e-this.rules.SystemComposerDistance,s.PositionAndShape.RelativePosition=i,t.Labels.push(s)}}createGraphicalTies(){for(let t=0;t<this.graphicalMusicSheet.ParentMusicSheet.SourceMeasures.length;t++){const e=this.graphicalMusicSheet.ParentMusicSheet.SourceMeasures[t];for(let i=0;i<e.CompleteNumberOfStaves;i++)for(let s=0;s<e.VerticalSourceStaffEntryContainers.length;s++){const n=e.VerticalSourceStaffEntryContainers[s].StaffEntries[i];if(n){const e=this.graphicalMusicSheet.findGraphicalStaffEntryFromMeasureList(i,t,n);for(let s=0,r=n.VoiceEntries.length;s<r;++s){const r=n.VoiceEntries[s];for(let s=0,n=r.Notes.length;s<n;++s){const n=r.Notes[s];if(n.NoteTie){const s=n.NoteTie;this.handleTie(s,e,i,t)}}}}}}}handleTie(t,e,i,s){let n=e,r=n.findEndTieGraphicalNoteFromNote(t.StartNote),o=void 0,a=void 0;for(let e=1;e<t.Notes.length;e++)if(r=n.findEndTieGraphicalNoteFromNote(t.Notes[e-1]),o=this.graphicalMusicSheet.GetGraphicalFromSourceStaffEntry(t.Notes[e].ParentStaffEntry),o){if(a=o.findEndTieGraphicalNoteFromNote(t.Notes[e]),void 0!==r&&void 0!==a&&o){if(!r.sourceNote.PrintObject||!a.sourceNote.PrintObject)continue;const e=this.createGraphicalTie(t,n,o,r,a);n.GraphicalTies.push(e),this.staffEntriesWithGraphicalTies.indexOf(n)>=0&&this.staffEntriesWithGraphicalTies.push(n)}n=o}}createAccidentalCalculators(){const t=[],e=this.graphicalMusicSheet.ParentMusicSheet.getFirstSourceMeasure();if(e)for(let i=0;i<e.CompleteNumberOfStaves;i++){const s=new y.AccidentalCalculator;if(t.push(s),e.FirstInstructionsStaffEntries[i])for(let t=0,n=e.FirstInstructionsStaffEntries[i].Instructions.length;t<n;++t){const n=e.FirstInstructionsStaffEntries[i].Instructions[t];if(n instanceof p.KeyInstruction){const t=n;s.ActiveKeyInstruction=t}}}return t}calculateVerticalContainersList(){const t=this.graphicalMusicSheet.MeasureList[0].length;for(let e=0;e<this.graphicalMusicSheet.MeasureList.length;e++)for(let i=0;i<t;i++){const t=this.graphicalMusicSheet.MeasureList[e][i];for(let e=0,s=t.staffEntries.length;e<s;++e){const s=t.staffEntries[e],n=this.graphicalMusicSheet.getOrCreateVerticalContainer(s.getAbsoluteTimestamp());n&&(n.StaffEntries[i]=s,s.parentVerticalContainer=n)}}}setIndicesToVerticalGraphicalContainers(){for(let t=0;t<this.graphicalMusicSheet.VerticalGraphicalStaffEntryContainers.length;t++)this.graphicalMusicSheet.VerticalGraphicalStaffEntryContainers[t].Index=t}createGraphicalMeasuresForSourceMeasure(t,e,i,s,n){this.initGraphicalMeasuresCreation();const r=[],o=[],a=[],h=[];for(let l=0;l<t.CompleteNumberOfStaves;l++){const c=this.createGraphicalMeasure(t,a,o,e[l],n,s,i,l,h);this.graphicalMeasureCreatedCalculations(c),r.push(c)}return t.VerticalMeasureList=r,r}createGraphicalMeasure(t,e,i,s,n,c,u,f,m){var g;const b=this.graphicalMusicSheet.ParentMusicSheet.getStaffFromIndex(f);let y=void 0;if(void 0!==this.rules.PercussionOneLineCutoff&&0!==this.rules.PercussionOneLineCutoff&&n[f].ClefType===a.ClefEnum.percussion&&(-1===this.rules.PercussionOneLineCutoff||b.ParentInstrument.SubInstruments.length<this.rules.PercussionOneLineCutoff)&&(b.StafflineCount=1),n[f].ClefType===a.ClefEnum.TAB?(b.isTab=!0,y=B.symbolFactory.createTabStaffMeasure(t,b)):y=B.symbolFactory.createGraphicalMeasure(t,b),y.hasError=t.getErrorInMeasure(f),t.FirstInstructionsStaffEntries[f])for(let e=0,i=t.FirstInstructionsStaffEntries[f].Instructions.length;e<i;++e){const i=t.FirstInstructionsStaffEntries[f].Instructions[e];if(i instanceof p.KeyInstruction){const t=p.KeyInstruction.copy(i);0!==this.graphicalMusicSheet.ParentMusicSheet.Transpose&&y.ParentStaff.ParentInstrument.MidiInstrumentId!==x.MidiInstrument.Percussion&&B.transposeCalculator&&B.transposeCalculator.transposeKey(t,this.graphicalMusicSheet.ParentMusicSheet.Transpose),s.ActiveKeyInstruction=t}}for(let e=0,i=t.StaffLinkedExpressions[f].length;e<i;++e){const i=t.StaffLinkedExpressions[f][e];if(i.OctaveShiftStart){const e=i.OctaveShiftStart;let s=null===(g=null==e?void 0:e.ParentEndMultiExpression)||void 0===g?void 0:g.AbsoluteTimestamp;if(!(null==e?void 0:e.ParentEndMultiExpression)){s=r.Fraction.plus(t.AbsoluteTimestamp,t.Duration)}c[f]=new S.OctaveShiftParams(e,null==i?void 0:i.AbsoluteTimestamp,s)}}for(let r=0;r<t.VerticalSourceStaffEntryContainers.length;r++){const o=t.VerticalSourceStaffEntryContainers[r].StaffEntries[f];if(o){for(let t=0,e=o.Instructions.length;t<e;++t){const e=o.Instructions[t];e instanceof a.ClefInstruction&&(n[f]=e)}const t=B.symbolFactory.createStaffEntry(o,y);r<y.staffEntries.length?y.addGraphicalStaffEntryAtTimestamp(t):y.addGraphicalStaffEntry(t);const l=[];o.Link&&(o.findLinkedNotes(l),this.handleStaffEntryLink(t,m));let d=h.OctaveEnum.NONE;c[f]&&c[f].getAbsoluteStartTimestamp.lte(o.AbsoluteTimestamp)&&o.AbsoluteTimestamp.lte(c[f].getAbsoluteEndTimestamp)&&(d=c[f].getOpenOctaveShift.Type);for(let r=0,a=o.VoiceEntries.length;r<a;++r){const a=o.VoiceEntries[r];d=this.handleVoiceEntry(a,t,s,u,n[f],e,i,d,l,o)}if(o.Instructions.length>0){const e=o.Instructions[0];B.symbolFactory.createInStaffClef(t,e)}o.ChordContainers&&o.ChordContainers.length>0&&(o.ParentStaff.ParentInstrument.HasChordSymbols=!0,B.symbolFactory.createChordSymbols(o,t,s.ActiveKeyInstruction,this.graphicalMusicSheet.ParentMusicSheet.Transpose))}}if(s.doCalculationsAtEndOfMeasure(),t.LastInstructionsStaffEntries[f]){const e=t.LastInstructionsStaffEntries[f];for(let t=0,i=e.Instructions.length;t<i;++t){const i=e.Instructions[t];i instanceof a.ClefInstruction&&(n[f]=i)}}for(let e=0,i=t.StaffLinkedExpressions[f].length;e<i;++e){const i=t.StaffLinkedExpressions[f][e];void 0!==i.OctaveShiftEnd&&void 0!==c[f]&&i.OctaveShiftEnd===c[f].getOpenOctaveShift&&(c[f]=void 0)}for(const t of y.staffEntries)for(const e of t.graphicalVoiceEntries)this.setBeamNotesWantedStemDirections(e.parentVoiceEntry);if(this.rules.FillEmptyMeasuresWithWholeRest>=1&&0===y.staffEntries.length){const e=new d.SourceStaffEntry(new M.VerticalSourceStaffEntryContainer(y.parentSourceMeasure,y.parentSourceMeasure.AbsoluteTimestamp,y.parentSourceMeasure.CompleteNumberOfStaves),b),i=new l.VoiceEntry(new r.Fraction(0,1),b.Voices[0],e),s=new o.Note(i,e,r.Fraction.createFromFraction(t.Duration),void 0);s.PrintObject=this.rules.FillEmptyMeasuresWithWholeRest===R.FillEmptyMeasuresWithWholeRests.YesVisible,i.Notes.push(s);const c=B.symbolFactory.createStaffEntry(e,y);y.addGraphicalStaffEntry(c),c.relInMeasureTimestamp=i.Timestamp;const u=B.symbolFactory.createVoiceEntry(i,c);c.graphicalVoiceEntries.push(u);let m=B.symbolFactory.createNote(s,u,new a.ClefInstruction,h.OctaveEnum.NONE,void 0);const p=i.ParentSourceStaffEntry.ParentStaff.StafflineCount;m=B.stafflineNoteCalculator.positionNote(m,n[f],p),u.notes.push(m)}return y}checkNoteForAccidental(t,e,i,s){let n=t.sourceNote.Pitch;const r=this.graphicalMusicSheet.ParentMusicSheet.Transpose;0!==r&&t.sourceNote.ParentStaffEntry.ParentStaff.ParentInstrument.MidiInstrumentId!==x.MidiInstrument.Percussion&&(n=t.Transpose(e.ActiveKeyInstruction,i,r,s)),t.sourceNote.halfTone=n.getHalfTone(),e.checkAccidental(t,n)}handleStaffEntries(){for(let t=0,e=this.graphicalMusicSheet.MeasureList.length;t<e;++t){const e=this.graphicalMusicSheet.MeasureList[t];for(let t=0,i=e.length;t<i;++t){const i=e[t];for(const t of i.staffEntries)void 0!==t.parentMeasure&&t.graphicalVoiceEntries.length>0&&t.graphicalVoiceEntries[0].notes.length>0&&(this.layoutVoiceEntries(t),this.layoutStaffEntry(t))}}}calculateSkyBottomLines(){for(const t of this.musicSystems)for(const e of t.StaffLines)e.SkyBottomLineCalculator.calculateLines()}calculateExpressionAlignements(){}calculateStaffEntryArticulationMarks(){for(let t=0,e=this.musicSystems.length;t<e;++t){const e=this.musicSystems[t];for(let t=0,i=e.StaffLines.length;t<i;++t){const i=e.StaffLines[t];for(let t=0,e=i.Measures.length;t<e;++t){const e=i.Measures[t];for(let t=0,i=e.staffEntries.length;t<i;++t){const i=e.staffEntries[t];for(let t=0,e=i.sourceStaffEntry.VoiceEntries.length;t<e;++t){const e=i.sourceStaffEntry.VoiceEntries[t];e.Articulations.length>0&&this.layoutArticulationMarks(e.Articulations,e,i)}}}}}}calculateOrnaments(){for(let t=0,e=this.musicSystems.length;t<e;++t){const e=this.musicSystems[t];for(let t=0,i=e.StaffLines.length;t<i;++t){const i=e.StaffLines[t];for(let t=0,e=i.Measures.length;t<e;++t){const e=i.Measures[t];for(let t=0,i=e.staffEntries.length;t<i;++t){const i=e.staffEntries[t];for(let t=0,e=i.sourceStaffEntry.VoiceEntries.length;t<e;++t){const e=i.sourceStaffEntry.VoiceEntries[t];if(e.OrnamentContainer){if(e.hasTie()&&!i.relInMeasureTimestamp.Equals(e.Timestamp))continue;this.layoutOrnament(e.OrnamentContainer,e,i),-1===this.staffEntriesWithOrnaments.indexOf(i)&&this.staffEntriesWithOrnaments.push(i)}}}}}}}optimizeRestPlacement(){for(let t=0,e=this.musicSystems.length;t<e;++t){const e=this.musicSystems[t];for(let t=0,i=e.StaffLines.length;t<i;++t){const i=e.StaffLines[t];for(let t=0,e=i.Measures.length;t<e;++t){const e=i.Measures[t];for(let t=0,i=e.staffEntries.length;t<i;++t){const i=e.staffEntries[t];this.optimizeRestNotePlacement(i,e)}}}}}calculateTwoRestNotesPlacementWithCollisionDetection(t){const e=t.graphicalVoiceEntries[0].notes[0],i=t.graphicalVoiceEntries[1].notes[0];i.PositionAndShape.RelativePosition=new u.PointF2D(0,2.5),t.PositionAndShape.calculateAbsolutePositionsRecursiveWithoutTopelement(),e.PositionAndShape.computeNonOverlappingPositionWithMargin(t.PositionAndShape,b.ColDirEnum.Up,new u.PointF2D(0,i.PositionAndShape.RelativePosition.y));const s=e.PositionAndShape.RelativePosition;s.y-=1,e.PositionAndShape.RelativePosition=s,t.PositionAndShape.calculateBoundingBox()}calculateRestNotePlacementWithCollisionDetectionFromGraphicalNote(t){let e,i;t.graphicalVoiceEntries[0].notes[0].sourceNote.isRest()?(e=t.graphicalVoiceEntries[0].notes[0],i=t.graphicalVoiceEntries[1].notes):(i=t.graphicalVoiceEntries[0].notes,e=t.graphicalVoiceEntries[1].notes[0]);let s=!1;t.PositionAndShape.calculateAbsolutePositionsRecursiveWithoutTopelement();for(let t=0,n=i.length;t<n;++t){const n=i[t];if(e.PositionAndShape.marginCollisionDetection(n.PositionAndShape)){s=!0;break}}if(s)if(e.sourceNote.ParentVoiceEntry.ParentVoice instanceof g.LinkedVoice){const t=i[0].PositionAndShape.BorderMarginBottom+i[0].PositionAndShape.RelativePosition.y;e.PositionAndShape.RelativePosition=new u.PointF2D(0,t-e.PositionAndShape.BorderMarginTop+.5)}else{const t=i[i.length-1],s=t.PositionAndShape.BorderMarginTop+t.PositionAndShape.RelativePosition.y;if(i[0].sourceNote.ParentVoiceEntry.ParentVoice instanceof g.LinkedVoice)e.PositionAndShape.RelativePosition=new u.PointF2D(0,s-e.PositionAndShape.BorderMarginBottom-.5);else{const t=i[0].PositionAndShape.BorderMarginBottom+i[0].PositionAndShape.RelativePosition.y;e.PositionAndShape.RelativePosition=t<2?new u.PointF2D(0,t-e.PositionAndShape.BorderMarginTop+.5):new u.PointF2D(0,s-e.PositionAndShape.BorderMarginBottom-0)}}t.PositionAndShape.calculateBoundingBox()}calculateTieCurves(){for(let t=0,e=this.musicSystems.length;t<e;++t){const e=this.musicSystems[t];for(let t=0,i=e.StaffLines.length;t<i;++t){const i=e.StaffLines[t];for(let t=0,e=i.Measures.length;t<e;++t){const e=i.Measures[t];for(let t=0,i=e.staffEntries.length;t<i;++t){const i=e.staffEntries[t],s=i.GraphicalTies;for(let t=0,e=s.length;t<e;++t){const e=s[t];if(void 0!==e.StartNote&&e.StartNote.parentVoiceEntry.parentStaffEntry===i){const t=e.StartNote.parentVoiceEntry.parentStaffEntry.parentMeasure.ParentStaffLine!==e.EndNote.parentVoiceEntry.parentStaffEntry.parentMeasure.ParentStaffLine;this.layoutGraphicalTie(e,t)}}}}}}}calculateLyricsPosition(){const t=new v.default;for(let t=0,e=this.graphicalMusicSheet.ParentMusicSheet.Instruments.length;t<e;++t){const e=this.graphicalMusicSheet.ParentMusicSheet.Instruments[t];e.HasLyrics&&e.LyricVersesNumbers.length>0&&e.LyricVersesNumbers.sort()}for(let e=0,i=this.musicSystems.length;e<i;++e){const i=this.musicSystems[e];for(let e=0,s=i.StaffLines.length;e<s;++e){const s=i.StaffLines[e],n=this.calculateSingleStaffLineLyricsPosition(s,s.ParentStaff.ParentInstrument.LyricVersesNumbers);t.setValue(s,n),this.calculateLyricsExtendsAndDashes(t.getValue(s))}}for(let e=0,i=this.musicSystems.length;e<i;++e){const i=this.musicSystems[e];for(let e=0,s=i.StaffLines.length;e<s;++e){const s=i.StaffLines[e];this.calculateLyricsExtendsAndDashes(t.getValue(s))}}}calculateSingleLyricWord(t){const e=t.ParentLyricWord,i=e.GraphicalLyricsEntries.indexOf(t);let s=void 0;if(i>=0&&(s=e.GraphicalLyricsEntries[i+1]),!s)return;const n=t.StaffEntryParent.parentMeasure.ParentStaffLine,r=s.StaffEntryParent.parentMeasure.ParentStaffLine,o=t.StaffEntryParent,a=s.StaffEntryParent;if(t.StaffEntryParent.parentMeasure.ParentStaffLine===s.StaffEntryParent.parentMeasure.ParentStaffLine){const e=o.parentMeasure.PositionAndShape.RelativePosition.x+o.PositionAndShape.RelativePosition.x+t.GraphicalLabel.PositionAndShape.RelativePosition.x+t.GraphicalLabel.PositionAndShape.BorderMarginRight,i=a.parentMeasure.PositionAndShape.RelativePosition.x+a.PositionAndShape.RelativePosition.x+t.GraphicalLabel.PositionAndShape.RelativePosition.x+s.GraphicalLabel.PositionAndShape.BorderMarginLeft,r=t.GraphicalLabel.PositionAndShape.RelativePosition.y;let h=1;i-e>3*this.rules.MinimumDistanceBetweenDashes&&(h=Math.floor((i-e)/this.rules.MinimumDistanceBetweenDashes)-1),1===h?this.calculateSingleDashForLyricWord(n,e,i,r):this.calculateDashes(n,e,i,r)}else{const e=o.parentMeasure.PositionAndShape.RelativePosition.x+o.PositionAndShape.RelativePosition.x+t.GraphicalLabel.PositionAndShape.BorderMarginRight,i=n.Measures[n.Measures.length-1],h=i.PositionAndShape.RelativePosition.x+i.PositionAndShape.Size.width;let l=t.GraphicalLabel.PositionAndShape.RelativePosition.y;if(this.calculateDashes(n,e,h,l),r&&r.Measures[0]&&a.parentMeasure.ParentStaffLine&&(a!==a.parentMeasure.staffEntries[0]||a.parentMeasure!==a.parentMeasure.ParentStaffLine.Measures[0])){const t=r.Measures[0].staffEntries[0].PositionAndShape.RelativePosition.x,e=a.parentMeasure.PositionAndShape.RelativePosition.x+a.PositionAndShape.RelativePosition.x+s.GraphicalLabel.PositionAndShape.BorderMarginLeft;l=s.GraphicalLabel.PositionAndShape.RelativePosition.y,this.calculateDashes(r,t,e,l)}}}calculateDashes(t,e,i,s){let n=i-e;if(n<3*this.rules.MinimumDistanceBetweenDashes)this.calculateSingleDashForLyricWord(t,e,i,s);else{const r=Math.floor(n/this.rules.MinimumDistanceBetweenDashes)-1,o=n/(r+1);let a=0;for(e+=o,i-=o;a<=Math.floor(r/2)&&i>e;)n=this.calculateRightAndLeftDashesForLyricWord(t,e,i,s),e+=o,i-=o,a++;n>2*o&&this.calculateSingleDashForLyricWord(t,e,i,s)}}calculateSingleDashForLyricWord(t,e,i,s){const n=new w.Label(\"-\"),r=new f.GraphicalLabel(n,this.rules.LyricsHeight,m.TextAlignmentEnum.CenterBottom,this.rules);r.setLabelPositionAndShapeBorders(),t.LyricsDashes.push(r),-1===this.staffLinesWithLyricWords.indexOf(t)&&this.staffLinesWithLyricWords.push(t),r.PositionAndShape.Parent=t.PositionAndShape;const o=new u.PointF2D(e+(i-e)/2,s);r.PositionAndShape.RelativePosition=o}calculateLyricExtend(t){let e=t.GraphicalLabel.PositionAndShape.RelativePosition.y;const i=t.StaffEntryParent,s=i.parentMeasure.ParentStaffLine;let n=void 0,r=void 0;const o=i.parentMeasure.ParentStaff.idInMusicSheet;for(let t=i.parentVerticalContainer.Index+1;t<this.graphicalMusicSheet.VerticalGraphicalStaffEntryContainers.length;++t){const e=this.graphicalMusicSheet.VerticalGraphicalStaffEntryContainers[t].StaffEntries[o];if(e){if(e.hasOnlyRests())break;if(e.LyricsEntries.length>0)break;n=e,r=n.parentMeasure.ParentStaffLine}}if(n)if(s===r){const r=i.parentMeasure.PositionAndShape.RelativePosition.x+i.PositionAndShape.RelativePosition.x+t.GraphicalLabel.PositionAndShape.BorderMarginRight,o=n.parentMeasure.PositionAndShape.RelativePosition.x+n.PositionAndShape.RelativePosition.x+n.PositionAndShape.BorderMarginRight;e-=t.GraphicalLabel.PositionAndShape.Size.height/4,this.calculateSingleLyricWordWithUnderscore(s,r,o,e)}else{const o=s.Measures[s.Measures.length-1].PositionAndShape,a=i.parentMeasure.PositionAndShape.RelativePosition.x+i.PositionAndShape.RelativePosition.x+t.GraphicalLabel.PositionAndShape.BorderMarginRight,h=o.RelativePosition.x+o.Size.width;if(e-=t.GraphicalLabel.PositionAndShape.Size.height/4,this.calculateSingleLyricWordWithUnderscore(s,a,h,e),!n)return;if(n!==n.parentMeasure.staffEntries[0]||n.parentMeasure!==n.parentMeasure.ParentStaffLine.Measures[0]){const t=r.Measures[0].staffEntries[0].PositionAndShape.RelativePosition.x,i=n.parentMeasure.PositionAndShape.RelativePosition.x+n.PositionAndShape.RelativePosition.x+n.PositionAndShape.BorderMarginRight;this.calculateSingleLyricWordWithUnderscore(r,t,i,e)}}}calculateSingleLyricWordWithUnderscore(t,e,i,s){const n=new u.PointF2D(e,s),r=new u.PointF2D(i,s),o=new _.GraphicalLine(n,r,this.rules.LyricUnderscoreLineWidth);t.LyricLines.push(o),-1===this.staffLinesWithLyricWords.indexOf(t)&&this.staffLinesWithLyricWords.push(t)}calculateRightAndLeftDashesForLyricWord(t,e,i,s){const n=new w.Label(\"-\"),r=new f.GraphicalLabel(n,this.rules.LyricsHeight,m.TextAlignmentEnum.CenterBottom,this.rules);r.setLabelPositionAndShapeBorders(),t.LyricsDashes.push(r),-1===this.staffLinesWithLyricWords.indexOf(t)&&this.staffLinesWithLyricWords.push(t),r.PositionAndShape.Parent=t.PositionAndShape;const o=new u.PointF2D(e,s);r.PositionAndShape.RelativePosition=o;const a=new w.Label(\"-\"),h=new f.GraphicalLabel(a,this.rules.LyricsHeight,m.TextAlignmentEnum.CenterBottom,this.rules);h.setLabelPositionAndShapeBorders(),t.LyricsDashes.push(h),h.PositionAndShape.Parent=t.PositionAndShape;const l=new u.PointF2D(i,s);return h.PositionAndShape.RelativePosition=l,h.PositionAndShape.RelativePosition.x-r.PositionAndShape.RelativePosition.x}calculateDynamicExpressions(){const t=Math.min(this.graphicalMusicSheet.ParentMusicSheet.SourceMeasures.length-1,this.rules.MaxMeasureToDrawIndex);for(let e=Math.min(this.rules.MinMeasureToDrawIndex,this.graphicalMusicSheet.ParentMusicSheet.SourceMeasures.length);e<=t;e++){const t=this.graphicalMusicSheet.ParentMusicSheet.SourceMeasures[e];for(let i=0;i<t.StaffLinkedExpressions.length;i++)if(this.graphicalMusicSheet.MeasureList[e][i].ParentStaff.ParentInstrument.Visible)for(let s=0;s<t.StaffLinkedExpressions[i].length;s++)(void 0!==t.StaffLinkedExpressions[i][s].InstantaneousDynamic||void 0!==t.StaffLinkedExpressions[i][s].StartingContinuousDynamic&&t.StaffLinkedExpressions[i][s].StartingContinuousDynamic.StartMultiExpression===t.StaffLinkedExpressions[i][s]&&0===t.StaffLinkedExpressions[i][s].UnknownList.length)&&this.calculateDynamicExpressionsForMultiExpression(t.StaffLinkedExpressions[i][s],e,i)}}calculateOctaveShifts(){for(let t=0;t<this.graphicalMusicSheet.ParentMusicSheet.SourceMeasures.length;t++){const e=this.graphicalMusicSheet.ParentMusicSheet.SourceMeasures[t];for(let i=0;i<e.StaffLinkedExpressions.length;i++)if(this.graphicalMusicSheet.MeasureList[t][i].ParentStaff.ParentInstrument.Visible)for(let s=0;s<e.StaffLinkedExpressions[i].length;s++)e.StaffLinkedExpressions[i][s].OctaveShiftStart&&this.calculateSingleOctaveShift(e,e.StaffLinkedExpressions[i][s],t,i)}}getFirstLeftNotNullStaffEntryFromContainer(t,e,i){if(this.graphicalMusicSheet.VerticalGraphicalStaffEntryContainers[t].StaffEntries[e])return this.graphicalMusicSheet.VerticalGraphicalStaffEntryContainers[t].StaffEntries[e];for(let i=t-1;i>=0;i--)if(this.graphicalMusicSheet.VerticalGraphicalStaffEntryContainers[i].StaffEntries[e])return this.graphicalMusicSheet.VerticalGraphicalStaffEntryContainers[i].StaffEntries[e]}getFirstRightNotNullStaffEntryFromContainer(t,e,i){if(this.graphicalMusicSheet.VerticalGraphicalStaffEntryContainers[t].StaffEntries[e])return this.graphicalMusicSheet.VerticalGraphicalStaffEntryContainers[t].StaffEntries[e];for(let i=t+1;i<this.graphicalMusicSheet.VerticalGraphicalStaffEntryContainers.length;i++)if(this.graphicalMusicSheet.VerticalGraphicalStaffEntryContainers[i].StaffEntries[e])return this.graphicalMusicSheet.VerticalGraphicalStaffEntryContainers[i].StaffEntries[e]}calculateWordRepetitionInstructions(){for(let t=0;t<this.graphicalMusicSheet.ParentMusicSheet.SourceMeasures.length;t++){const e=this.graphicalMusicSheet.ParentMusicSheet.SourceMeasures[t];for(let i=0,s=e.FirstRepetitionInstructions.length;i<s;++i){const s=e.FirstRepetitionInstructions[i];this.calculateWordRepetitionInstruction(s,t)}for(let i=0,s=e.LastRepetitionInstructions.length;i<s;++i){const s=e.LastRepetitionInstructions[i];this.calculateWordRepetitionInstruction(s,t)}}}calculateRepetitionEndings(){const t=this.graphicalMusicSheet.ParentMusicSheet;for(let e=0,i=t.Repetitions.length;e<i;++e){const i=t.Repetitions[e];this.calcGraphicalRepetitionEndingsRecursively(i)}}calculateTempoExpressions(){const t=Math.min(this.graphicalMusicSheet.ParentMusicSheet.SourceMeasures.length-1,this.rules.MaxMeasureToDrawIndex);for(let e=this.rules.MinMeasureToDrawIndex;e<=t;e++){const t=this.graphicalMusicSheet.ParentMusicSheet.SourceMeasures[e];for(let i=0;i<t.TempoExpressions.length;i++)this.calculateTempoExpressionsForMultiTempoExpression(t,t.TempoExpressions[i],e)}}calculateMoodAndUnknownExpressions(){for(let t=0;t<this.graphicalMusicSheet.ParentMusicSheet.SourceMeasures.length;t++){const e=this.graphicalMusicSheet.ParentMusicSheet.SourceMeasures[t];for(let i=0;i<e.StaffLinkedExpressions.length;i++)if(this.graphicalMusicSheet.MeasureList[t][i].ParentStaff.ParentInstrument.Visible)for(let s=0;s<e.StaffLinkedExpressions[i].length;s++)(e.StaffLinkedExpressions[i][s].MoodList.length>0||e.StaffLinkedExpressions[i][s].UnknownList.length>0)&&this.calculateMoodAndUnknownExpression(e.StaffLinkedExpressions[i][s],t,i)}}calculateStemDirectionFromVoices(t){if(void 0!==t.ParentSourceStaffEntry.Link)return t===t.ParentSourceStaffEntry.VoiceEntries[0]?void(t.WantedStemDirection=l.StemDirectionType.Up):void(t.WantedStemDirection=l.StemDirectionType.Down);t.ParentVoice instanceof g.LinkedVoice?t.WantedStemDirection=l.StemDirectionType.Down:t.ParentSourceStaffEntry.VoiceEntries.length>1&&(t.WantedStemDirection=l.StemDirectionType.Up)}setBeamNotesWantedStemDirections(t){if(t.WantedStemDirection===l.StemDirectionType.Undefined&&t.Notes.length>0){const e=t.Notes[0].NoteBeam;if(e)for(const i of e.Notes)if(i.ParentVoiceEntry!==t&&i.ParentVoiceEntry.WantedStemDirection!==l.StemDirectionType.Undefined){t.WantedStemDirection=i.ParentVoiceEntry.WantedStemDirection;break}}}}e.MusicSheetCalculator=B},function(t,e,i){\"use strict\";Object.defineProperty(e,\"__esModule\",{value:!0});const s=i(45),n=i(2),r=i(2);class o extends s.AbstractNotationInstruction{constructor(t,e=0,i=a.major){super(t),this.Key=e,this.mode=i,this.alteratedNotes=this.calcAlteratedNotes()}static copy(t){return new o(t.parent,t.Key,t.Mode)}static getAllPossibleMajorKeyInstructions(){const t=[];for(let e=-7;e<7;e++){const i=new o(void 0,e,a.major);t.push(i)}return t}get Key(){return this.keyType}set Key(t){this.keyType=t,this.alteratedNotes=this.calcAlteratedNotes()}get Mode(){return this.mode}set Mode(t){this.mode=t}get AlteratedNotes(){return this.alteratedNotes}calcAlteratedNotes(){const t=[];if(this.keyType>0)for(let e=0;e<this.keyType;e++)t.push(o.sharpPositionList[e]);else if(this.keyType<0)for(let e=0;e<-this.keyType;e++)t.push(o.flatPositionList[e]);return t}willAlterateNote(t){return this.alteratedNotes.indexOf(t)>=0}getAlterationForPitch(t){return this.keyType>0&&this.alteratedNotes.indexOf(t.FundamentalNote)<=this.keyType?r.AccidentalEnum.SHARP:this.keyType<0&&this.alteratedNotes.indexOf(t.FundamentalNote)<=Math.abs(this.keyType)?r.AccidentalEnum.FLAT:r.AccidentalEnum.NONE}ToString(){return\"Key: \"+this.keyType+this.mode}OperatorEquals(t){return this===t||!(!this||!t)&&(this.Key===t.Key&&this.Mode===t.Mode)}OperatorNotEqual(t){return!this.OperatorEquals(t)}}e.KeyInstruction=o,o.sharpPositionList=[n.NoteEnum.F,n.NoteEnum.C,n.NoteEnum.G,n.NoteEnum.D,n.NoteEnum.A,n.NoteEnum.E,n.NoteEnum.B],o.flatPositionList=[n.NoteEnum.B,n.NoteEnum.E,n.NoteEnum.A,n.NoteEnum.D,n.NoteEnum.G,n.NoteEnum.C,n.NoteEnum.F];var a;e.NoteEnumToHalfToneLink=class{constructor(t,e){this.note=t,this.halfTone=e}},function(t){t[t.major=0]=\"major\",t[t.minor=1]=\"minor\",t[t.none=2]=\"none\",t[t.dorian=3]=\"dorian\",t[t.phrygian=4]=\"phrygian\",t[t.lydian=5]=\"lydian\",t[t.mixolydian=6]=\"mixolydian\",t[t.aeolian=7]=\"aeolian\",t[t.ionian=8]=\"ionian\",t[t.locrian=9]=\"locrian\"}(a=e.KeyEnum||(e.KeyEnum={}))},function(t,e,i){\"use strict\";var s=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,\"__esModule\",{value:!0});const n=i(0),r=i(30),o=i(2),a=i(46),h=i(2),l=s(i(12));class c{constructor(t,e,i,s=!1,n=!1,r=!1){this.notes=[],this.articulations=[],this.technicalInstructions=[],this.lyricsEntries=new l.default,this.wantedStemDirection=d.Undefined,this.stemDirectionXml=d.Undefined,this.stemDirection=d.Undefined,this.timestamp=t,this.parentVoice=e,this.parentSourceStaffEntry=i,this.isGrace=s,this.graceAfterMainNote=!1,this.graceNoteSlash=n,this.graceSlur=r}get ParentSourceStaffEntry(){return this.parentSourceStaffEntry}get ParentVoice(){return this.parentVoice}get Timestamp(){return this.timestamp}set Timestamp(t){this.timestamp=t}get Notes(){return this.notes}get IsGrace(){return this.isGrace}set IsGrace(t){this.isGrace=t}get GraceAfterMainNote(){return this.graceAfterMainNote}set GraceAfterMainNote(t){this.graceAfterMainNote=t}get GraceNoteSlash(){return this.graceNoteSlash}set GraceNoteSlash(t){this.graceNoteSlash=t}get GraceSlur(){return this.graceSlur}set GraceSlur(t){this.graceSlur=t}get Articulations(){return this.articulations}get TechnicalInstructions(){return this.technicalInstructions}get LyricsEntries(){return this.lyricsEntries}get Arpeggio(){return this.arpeggio}set Arpeggio(t){this.arpeggio=t}get OrnamentContainer(){return this.ornamentContainer}set OrnamentContainer(t){this.ornamentContainer=t}set WantedStemDirection(t){this.wantedStemDirection=t}get WantedStemDirection(){return this.wantedStemDirection}set StemDirectionXml(t){this.stemDirectionXml=t}get StemDirectionXml(){return this.stemDirectionXml}set StemDirection(t){this.stemDirection=t}get StemDirection(){return this.stemDirection}get StemColorXml(){return this.stemColorXml}set StemColorXml(t){this.stemColorXml=t}get StemColor(){return this.stemColor}set StemColor(t){this.stemColor=t}static isSupportedArticulation(t){switch(t){case u.accent:case u.strongaccent:case u.invertedstrongaccent:case u.staccato:case u.staccatissimo:case u.spiccato:case u.tenuto:case u.fermata:case u.invertedfermata:case u.breathmark:case u.caesura:case u.lefthandpizzicato:case u.naturalharmonic:case u.snappizzicato:case u.upbow:case u.downbow:return!0;default:return!1}}hasTie(){for(let t=0,e=this.Notes.length;t<e;++t){if(this.Notes[t].NoteTie)return!0}return!1}hasSlur(){for(let t=0,e=this.Notes.length;t<e;++t){if(this.Notes[t].NoteSlurs.length>0)return!0}return!1}isStaccato(){for(let t=0,e=this.Articulations.length;t<e;++t){if(this.Articulations[t]===u.staccato)return!0}return!1}isAccent(){for(let t=0,e=this.Articulations.length;t<e;++t){const e=this.Articulations[t];if(e===u.accent||e===u.strongaccent)return!0}return!1}getVerseNumberForLyricEntry(t){let e=1;return this.lyricsEntries.forEach((i,s)=>{t===s&&(e=i)}),e}createVoiceEntriesForOrnament(t,e){t||(t=this);const i=[];if(!t.ornamentContainer)return;const s=this.notes[0],r=s.Length,o=t.ParentVoice,l=t.Timestamp;let c=n.Fraction.createFromFraction(l);switch(t.ornamentContainer.GetOrnament){case a.OrnamentEnum.Trill:{const a=new n.Fraction(r.Numerator,8*r.Denominator),u=s.Pitch.getTransposedPitch(1);let d=e.getAlterationForPitch(u);t.OrnamentContainer.AccidentalAbove!==h.AccidentalEnum.NONE&&(d=t.ornamentContainer.AccidentalAbove);for(let t=0;t<8;t++)c=n.Fraction.plus(l,new n.Fraction(t*a.Numerator,a.Denominator)),t%2==0?this.createBaseVoiceEntry(c,a,o,s,i):this.createAlteratedVoiceEntry(c,a,o,u,d,i);break}case a.OrnamentEnum.Turn:{const t=new n.Fraction(r.Numerator,4*r.Denominator),a=s.Pitch.getTransposedPitch(-1),h=e.getAlterationForPitch(a),l=s.Pitch.getTransposedPitch(1),u=e.getAlterationForPitch(l);this.createAlteratedVoiceEntry(c,t,o,l,u,i),c.Add(t),this.createBaseVoiceEntry(c,t,o,s,i),c.Add(t),this.createAlteratedVoiceEntry(c,t,o,a,h,i),c.Add(t),this.createBaseVoiceEntry(c,t,o,s,i);break}case a.OrnamentEnum.InvertedTurn:{const t=new n.Fraction(r.Numerator,4*r.Denominator),a=s.Pitch.getTransposedPitch(-1),h=e.getAlterationForPitch(a),l=s.Pitch.getTransposedPitch(1),u=e.getAlterationForPitch(l);this.createAlteratedVoiceEntry(c,t,o,a,h,i),c.Add(t),this.createBaseVoiceEntry(c,t,o,s,i),c.Add(t),this.createAlteratedVoiceEntry(c,t,o,l,u,i),c.Add(t),this.createBaseVoiceEntry(c,t,o,s,i);break}case a.OrnamentEnum.DelayedTurn:{const t=new n.Fraction(r.Numerator,2*r.Denominator),a=s.Pitch.getTransposedPitch(-1),h=e.getAlterationForPitch(a),u=s.Pitch.getTransposedPitch(1),d=e.getAlterationForPitch(u);this.createBaseVoiceEntry(c,t,o,s,i),c=n.Fraction.plus(l,t),t.Denominator=8*r.Denominator,this.createAlteratedVoiceEntry(c,t,o,u,d,i),c.Add(t),this.createBaseVoiceEntry(c,t,o,s,i),c.Add(t),this.createAlteratedVoiceEntry(c,t,o,a,h,i),c.Add(t),this.createBaseVoiceEntry(c,t,o,s,i);break}case a.OrnamentEnum.DelayedInvertedTurn:{const t=new n.Fraction(r.Numerator,2*r.Denominator),a=s.Pitch.getTransposedPitch(-1),h=e.getAlterationForPitch(a),u=s.Pitch.getTransposedPitch(1),d=e.getAlterationForPitch(u);this.createBaseVoiceEntry(c,t,o,s,i),c=n.Fraction.plus(l,t),t.Denominator=8*r.Denominator,this.createAlteratedVoiceEntry(c,t,o,a,h,i),c.Add(t),this.createBaseVoiceEntry(c,t,o,s,i),c.Add(t),this.createAlteratedVoiceEntry(c,t,o,u,d,i),c.Add(t),this.createBaseVoiceEntry(c,t,o,s,i);break}case a.OrnamentEnum.Mordent:{const t=new n.Fraction(r.Numerator,4*r.Denominator),a=s.Pitch.getTransposedPitch(1),h=e.getAlterationForPitch(a);this.createBaseVoiceEntry(c,t,o,s,i),c.Add(t),this.createAlteratedVoiceEntry(c,t,o,a,h,i),t.Denominator=2*r.Denominator,c=n.Fraction.plus(l,t),this.createBaseVoiceEntry(c,t,o,s,i);break}case a.OrnamentEnum.InvertedMordent:{const t=new n.Fraction(r.Numerator,4*r.Denominator),a=s.Pitch.getTransposedPitch(-1),h=e.getAlterationForPitch(a);this.createBaseVoiceEntry(c,t,o,s,i),c.Add(t),this.createAlteratedVoiceEntry(c,t,o,a,h,i),t.Denominator=2*r.Denominator,c=n.Fraction.plus(l,t),this.createBaseVoiceEntry(c,t,o,s,i);break}default:throw new RangeError}return i}createBaseVoiceEntry(t,e,i,s,n){const a=new c(t,i,s.ParentStaffEntry),h=new o.Pitch(s.Pitch.FundamentalNote,s.Pitch.Octave,s.Pitch.Accidental),l=new r.Note(a,void 0,e,h);a.Notes.push(l),n.push(a)}createAlteratedVoiceEntry(t,e,i,s,n,a){const h=new c(t,i,void 0),l=new o.Pitch(s.FundamentalNote,s.Octave,n),u=new r.Note(h,void 0,e,l);h.Notes.push(u),a.push(h)}}var u,d;e.VoiceEntry=c,function(t){t[t.accent=0]=\"accent\",t[t.strongaccent=1]=\"strongaccent\",t[t.invertedstrongaccent=2]=\"invertedstrongaccent\",t[t.staccato=3]=\"staccato\",t[t.staccatissimo=4]=\"staccatissimo\",t[t.spiccato=5]=\"spiccato\",t[t.tenuto=6]=\"tenuto\",t[t.fermata=7]=\"fermata\",t[t.invertedfermata=8]=\"invertedfermata\",t[t.breathmark=9]=\"breathmark\",t[t.caesura=10]=\"caesura\",t[t.lefthandpizzicato=11]=\"lefthandpizzicato\",t[t.naturalharmonic=12]=\"naturalharmonic\",t[t.snappizzicato=13]=\"snappizzicato\",t[t.upbow=14]=\"upbow\",t[t.downbow=15]=\"downbow\",t[t.scoop=16]=\"scoop\",t[t.plop=17]=\"plop\",t[t.doit=18]=\"doit\",t[t.falloff=19]=\"falloff\",t[t.stress=20]=\"stress\",t[t.unstress=21]=\"unstress\",t[t.detachedlegato=22]=\"detachedlegato\",t[t.otherarticulation=23]=\"otherarticulation\"}(u=e.ArticulationEnum||(e.ArticulationEnum={})),function(t){t[t.Undefined=-1]=\"Undefined\",t[t.Up=0]=\"Up\",t[t.Down=1]=\"Down\",t[t.None=2]=\"None\",t[t.Double=3]=\"Double\"}(d=e.StemDirectionType||(e.StemDirectionType={}))},function(t,e,i){\"use strict\";Object.defineProperty(e,\"__esModule\",{value:!0});const s=i(45);class n extends s.AbstractNotationInstruction{constructor(t,e){super(void 0),this.rhythm=t,this.numerator=t.Numerator,this.denominator=t.Denominator,this.symbolEnum=e}get Rhythm(){return this.rhythm}set Rhythm(t){this.rhythm=t}get SymbolEnum(){return this.symbolEnum}set SymbolEnum(t){this.symbolEnum=t}clone(){return new n(this.rhythm.clone(),this.symbolEnum)}OperatorEquals(t){return this===t||!(!this||!t)&&(this.numerator===t.numerator&&this.denominator===t.denominator)}OperatorNotEqual(t){return!(this===t)}ToString(){return\"Rhythm: \"+this.rhythm.toString()}}e.RhythmInstruction=n,function(t){t[t.NONE=0]=\"NONE\",t[t.COMMON=1]=\"COMMON\",t[t.CUT=2]=\"CUT\"}(e.RhythmSymbolEnum||(e.RhythmSymbolEnum={}))},function(t,e,i){\"use strict\";var s=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,\"__esModule\",{value:!0});const n=s(i(10)),r=i(8),o=i(2),a=i(17),h=i(15),l=i(2),c=i(2),u=i(32),d=i(23),f=i(87),m=i(21),p=s(i(1)),g=i(16),b=i(36),S=i(46),y=i(62),x=i(19),E=i(39);class v{static duration(t,e){const i=t.RealValue;return i>=1?\"w\":i<1&&i>=.5?e&&i>.5?\"w\":\"h\":i<.5&&i>=.25?e&&i>.25?\"h\":\"q\":i<.25&&i>=.125?e&&i>.125?\"q\":\"8\":i<.125&&i>=.0625?e&&i>.0625?\"8\":\"16\":i<.0625&&i>=.03125?e&&i>.03125?\"16\":\"32\":i<.03125&&i>=.015625?e&&i>.015625?\"32\":\"64\":e?\"64\":\"128\"}static pitch(t,e){const i=c.NoteEnum[e.FundamentalNote].toLowerCase(),s=o.Pitch.accidentalVexflow(e.Accidental),n=e.Octave-t.Clef().OctaveOffset+3,r=t.sourceNote.Notehead;let a=\"\";return r&&(a=this.NoteHeadCode(r)),[i+\"n/\"+n+a,s,t.Clef()]}static NoteHeadCode(t){const e=t.Filled?\"2\":\"1\";switch(t.Shape){case y.NoteHeadShape.NORMAL:return\"\";case y.NoteHeadShape.DIAMOND:return\"/D\"+e;case y.NoteHeadShape.TRIANGLE:return\"/T\"+e;case y.NoteHeadShape.X:return\"/X\"+e;case y.NoteHeadShape.CIRCLEX:return\"/X3\";case y.NoteHeadShape.RECTANGLE:return\"/R\"+e;case y.NoteHeadShape.SQUARE:return\"/S\"+e;case y.NoteHeadShape.SLASH:default:return\"\"}}static GhostNote(t){return new n.default.Flow.GhostNote({duration:v.duration(t,!1)})}static StaveNote(t){var e,i;const s=t.notes.reverse(),r=t.parentStaffEntry.parentMeasure.parentSourceMeasure.Rules,o=s[0];let a=[];const h=[],l=o.graphicalNoteLength,c=void 0!==o.sourceNote.NoteTuplet;let u=v.duration(l,c);void 0!==o.sourceNote.TypeLength&&o.sourceNote.TypeLength!==l&&(u=v.duration(o.sourceNote.TypeLength,c));let d,f=void 0,m=o.numberOfDots,p=!1,b=0,S=!1,E=!1;for(const t of s){if(m<t.numberOfDots&&(m=t.numberOfDots),t.sourceNote.isRest()){if(E=!0,a=[\"b/4\"],t.parentVoiceEntry.parentStaffEntry.parentMeasure.parentSourceMeasure.Duration.RealValue<=l.RealValue&&(a=[\"d/5\"],u=\"w\",m=0,p=!0,b=r.WholeRestXShiftVexflow*x.unitInPixels),t.sourceNote.ParentStaff.Voices.length>1){let s=0;for(let e=0;e<t.sourceNote.ParentStaffEntry.VoiceEntries.length;e++)t.sourceNote.ParentStaffEntry.VoiceEntries[e].Notes[0].PrintObject&&s++;if(s>1)switch(null===(i=null===(e=t.sourceNote.ParentVoiceEntry)||void 0===e?void 0:e.ParentVoice)||void 0===i?void 0:i.VoiceId){case 1:a=[\"e/5\"];break;case 2:a=[\"f/4\"]}}break}t.sourceNote.Notehead&&t.sourceNote.Notehead.Shape===y.NoteHeadShape.SLASH&&(S=!0);const s=t.vfpitch;if(a.push(s[0]),h.push(s[1]),!f){f=v.Clef(s[2]).type}}for(let t=0,e=m;t<e;++t)u+=\"d\";S&&(u+=\"s\"),E&&(u+=\"r\");const _={align_center:p,auto_stem:!0,clef:f,duration:u,keys:a,slash:t.parentVoiceEntry.GraceNoteSlash},w=t.notes[0].sourceNote;if(w.IsCueNote&&(_.glyph_font_scale=n.default.Flow.DEFAULT_NOTATION_FONT_SCALE*n.default.Flow.GraceNote.SCALE,_.stroke_px=n.default.Flow.GraceNote.LEDGER_LINE_OFFSET),d=t.parentVoiceEntry.IsGrace||t.notes[0].sourceNote.IsCueNote?new n.default.Flow.GraceNote(_):new n.default.Flow.StaveNote(_),(r.LedgerLineWidth||r.LedgerLineStrokeStyle)&&(d.ledgerLineStyle||(d.ledgerLineStyle={}),r.LedgerLineWidth&&(d.ledgerLineStyle.lineWidth=r.LedgerLineWidth),r.LedgerLineStrokeStyle&&(d.ledgerLineStyle.strokeStyle=r.LedgerLineStrokeStyle)),r.ColoringEnabled){const e=r.DefaultColorStem;let i=t.parentVoiceEntry.StemColor;!i&&e&&(i=e);const s={fillStyle:i,strokeStyle:i};i&&(t.parentVoiceEntry.StemColor=i,d.setStemStyle(s),d.flag&&r.ColorFlags&&d.setFlagStyle(s))}if(d.x_shift=b,t.parentVoiceEntry.IsGrace&&t.notes[0].sourceNote.NoteBeam&&(t.parentVoiceEntry.WantedStemDirection=t.notes[0].sourceNote.NoteBeam.Notes[0].ParentVoiceEntry.WantedStemDirection),t.parentVoiceEntry){switch(t.parentVoiceEntry.WantedStemDirection){case g.StemDirectionType.Up:d.setStemDirection(n.default.Flow.Stem.UP);break;case g.StemDirectionType.Down:d.setStemDirection(n.default.Flow.Stem.DOWN)}}for(let t=0,e=s.length;t<e;t+=1){if(s[t].setIndex(d,t),h[t]){if(\"++\"===h[t]){d.addAccidental(t,new n.default.Flow.Accidental(\"##\")),d.addAccidental(t,new n.default.Flow.Accidental(\"#\"));continue}if(\"bbs\"===h[t]){d.addAccidental(t,new n.default.Flow.Accidental(\"bb\")),d.addAccidental(t,new n.default.Flow.Accidental(\"b\"));continue}d.addAccidental(t,new n.default.Flow.Accidental(h[t]))}const e=s[t].sourceNote.TremoloStrokes;e>0&&d.addModifier(t,new n.default.Flow.Tremolo(e))}if(.25===w.Length.RealValue&&w.Notehead&&!1===w.Notehead.Filled){const t=d.getKeyProps();for(let e=0;e<t.length;e++)t[e].code=\"v81\"}for(let t=0,e=m;t<e;++t)d.addDotToAll();return d}static generateArticulations(t,e){if(!t||\"GhostNote\"===t.getAttribute(\"type\"))return;let i=3;t.getStemDirection()===n.default.Flow.Stem.UP&&(i=4);for(const s of e){let e=void 0;switch(s){case g.ArticulationEnum.accent:e=new n.default.Flow.Articulation(\"a>\");break;case g.ArticulationEnum.downbow:e=new n.default.Flow.Articulation(\"am\");break;case g.ArticulationEnum.fermata:e=new n.default.Flow.Articulation(\"a@a\"),i=3;break;case g.ArticulationEnum.invertedfermata:e=new n.default.Flow.Articulation(\"a@u\"),i=4;break;case g.ArticulationEnum.lefthandpizzicato:e=new n.default.Flow.Articulation(\"a+\");break;case g.ArticulationEnum.snappizzicato:e=new n.default.Flow.Articulation(\"ao\");break;case g.ArticulationEnum.staccatissimo:e=new n.default.Flow.Articulation(\"av\");break;case g.ArticulationEnum.staccato:e=new n.default.Flow.Articulation(\"a.\");break;case g.ArticulationEnum.tenuto:e=new n.default.Flow.Articulation(\"a-\");break;case g.ArticulationEnum.upbow:e=new n.default.Flow.Articulation(\"a|\");break;case g.ArticulationEnum.strongaccent:e=new n.default.Flow.Articulation(\"a^\")}e&&(e.setPosition(i),t.addModifier(0,e))}}static generateOrnaments(t,e){let i=3;t.getStemDirection()===n.default.Flow.Stem.UP&&(i=4);let s=void 0;switch(e.GetOrnament){case S.OrnamentEnum.DelayedInvertedTurn:s=new n.default.Flow.Ornament(\"turn_inverted\"),s.setDelayed(!0);break;case S.OrnamentEnum.DelayedTurn:s=new n.default.Flow.Ornament(\"turn\"),s.setDelayed(!0);break;case S.OrnamentEnum.InvertedMordent:s=new n.default.Flow.Ornament(\"mordent_inverted\"),s.setDelayed(!1);break;case S.OrnamentEnum.InvertedTurn:s=new n.default.Flow.Ornament(\"turn_inverted\"),s.setDelayed(!1);break;case S.OrnamentEnum.Mordent:s=new n.default.Flow.Ornament(\"mordent\"),s.setDelayed(!1);break;case S.OrnamentEnum.Trill:s=new n.default.Flow.Ornament(\"tr\"),s.setDelayed(!1);break;case S.OrnamentEnum.Turn:s=new n.default.Flow.Ornament(\"turn\"),s.setDelayed(!1);break;default:return void p.default.warn(\"unhandled OrnamentEnum type: \"+e.GetOrnament)}s&&(e.AccidentalBelow!==l.AccidentalEnum.NONE&&s.setLowerAccidental(o.Pitch.accidentalVexflow(e.AccidentalBelow)),e.AccidentalAbove!==l.AccidentalEnum.NONE&&s.setUpperAccidental(o.Pitch.accidentalVexflow(e.AccidentalAbove)),s.setPosition(i),t.addModifier(0,s))}static StrokeTypeFromArpeggioType(t){switch(t){case E.ArpeggioType.ARPEGGIO_DIRECTIONLESS:return 7;case E.ArpeggioType.BRUSH_DOWN:return 2;case E.ArpeggioType.BRUSH_UP:return 1;case E.ArpeggioType.RASQUEDO_DOWN:return 6;case E.ArpeggioType.RASQUEDO_UP:return 5;case E.ArpeggioType.ROLL_DOWN:return 4;case E.ArpeggioType.ROLL_UP:return 3;default:return 7}}static CreateTabNote(t){const e=[],i=t.notes[0].graphicalNoteLength,s=void 0!==t.notes[0].sourceNote.NoteTuplet;let r=v.duration(i,s),o=0;for(const i of t.notes){const t=i.sourceNote,s={str:t.StringNumber,fret:t.FretNumber};e.push(s),o<i.numberOfDots&&(o=i.numberOfDots)}for(let t=0,e=o;t<e;++t)r+=\"d\";return new n.default.Flow.TabNote({duration:r,positions:e})}static Clef(t,e=\"default\"){let i,s;switch(\"default\"!==e&&\"small\"!==e&&(p.default.warn(`Invalid VexFlow clef size \"${e}\" specified. Using \"default\".`),e=\"default\"),t.ClefType){case r.ClefEnum.G:switch(t.Line){case 1:i=\"french\";break;case 2:i=\"treble\";break;default:i=\"treble\",p.default.error(`Clef ${r.ClefEnum[t.ClefType]} on line ${t.Line} not supported by VexFlow. Using default value \"${i}\".`)}break;case r.ClefEnum.F:switch(t.Line){case 4:i=\"bass\";break;case 3:i=\"baritone-f\";break;case 5:i=\"subbass\";break;default:i=\"bass\",p.default.error(`Clef ${r.ClefEnum[t.ClefType]} on line ${t.Line} not supported by VexFlow. Using default value \"${i}\".`)}break;case r.ClefEnum.C:switch(t.Line){case 3:i=\"alto\";break;case 4:i=\"tenor\";break;case 1:i=\"soprano\";break;case 2:i=\"mezzo-soprano\";break;default:i=\"alto\",p.default.error(`Clef ${r.ClefEnum[t.ClefType]} on line ${t.Line} not supported by VexFlow. Using default value \"${i}\".`)}break;case r.ClefEnum.percussion:i=\"percussion\";break;case r.ClefEnum.TAB:i=\"treble\"}return 1===t.OctaveOffset&&\"bass\"!==i?s=\"8va\":-1===t.OctaveOffset&&(s=\"8vb\"),{type:i,size:e,annotation:s}}static TimeSignature(t){let e;switch(t.SymbolEnum){case a.RhythmSymbolEnum.NONE:e=t.Rhythm.Numerator+\"/\"+t.Rhythm.Denominator;break;case a.RhythmSymbolEnum.COMMON:e=\"C\";break;case a.RhythmSymbolEnum.CUT:e=\"C|\"}return new n.default.Flow.TimeSignature(e)}static keySignature(t){if(!t)return;let e;switch(t.Mode){case h.KeyEnum.minor:e=v.minorMap[t.Key]+\"m\";break;case h.KeyEnum.major:case h.KeyEnum.none:e=v.majorMap[t.Key];break;default:e=\"C\"}return e}static line(t,e){switch(t){case u.SystemLinesEnum.SingleThin:return e===b.SystemLinePosition.MeasureBegin?1:0;case u.SystemLinesEnum.DoubleThin:return 2;case u.SystemLinesEnum.ThinBold:return 6;case u.SystemLinesEnum.BoldThinDots:return 5;case u.SystemLinesEnum.DotsThinBold:case u.SystemLinesEnum.DotsBoldBoldDots:return 6;case u.SystemLinesEnum.None:return 8}}static font(t,e=d.FontStyles.Regular,i=f.Fonts.TimesNewRoman,s,n){let r=\"normal\",o=\"normal\",a=`'${s.DefaultFontFamily}'`;switch(e){case d.FontStyles.Bold:o=\"bold\";break;case d.FontStyles.Italic:r=\"italic\";break;case d.FontStyles.BoldItalic:r=\"italic\",o=\"bold\";break;case d.FontStyles.Underlined:}switch(i){case f.Fonts.Kokila:}return n&&\"default\"!==n&&(a=`'${n}'`),r+\" \"+o+\" \"+Math.floor(t)+\"px \"+a}static fontStyle(t){switch(t){case d.FontStyles.Bold:return\"bold\";case d.FontStyles.Italic:return\"italic\";case d.FontStyles.BoldItalic:return\"italic bold\";default:return\"normal\"}}static style(t){return m.OUTLINE_AND_FILL_STYLE_DICT.getValue(t)}}e.VexFlowConverter=v,v.majorMap={\"-1\":\"F\",\"-2\":\"Bb\",\"-3\":\"Eb\",\"-4\":\"Ab\",\"-5\":\"Db\",\"-6\":\"Gb\",\"-7\":\"Cb\",\"-8\":\"Fb\",0:\"C\",1:\"G\",2:\"D\",3:\"A\",4:\"E\",5:\"B\",6:\"F#\",7:\"C#\",8:\"G#\"},v.minorMap={\"-1\":\"D\",\"-2\":\"G\",\"-3\":\"C\",\"-4\":\"F\",\"-5\":\"Bb\",\"-6\":\"Eb\",\"-7\":\"Ab\",\"-8\":\"Db\",0:\"A\",1:\"E\",2:\"B\",3:\"F#\",4:\"C#\",5:\"G#\",6:\"D#\",7:\"A#\",8:\"E#\"}},function(t,e,i){\"use strict\";Object.defineProperty(e,\"__esModule\",{value:!0});const s=i(101),n=i(52),r=i(4),o=i(64),a=i(21),h=i(6),l=i(56),c=i(65),u=i(1),d=i(49),f=i(28),m=i(94);e.unitInPixels=10;class p extends s.MusicSheetDrawer{constructor(t=new f.DrawingParameters){super(new o.VexFlowTextMeasurer(t.Rules),t),this.backends=[],this.zoom=1,this.pageIdx=0}get Backends(){return this.backends}drawSheet(t){this.pageIdx=0;for(const e of t.MusicPages){const t=this.backends[this.pageIdx];t.graphicalMusicPage=e,t.scale(this.zoom),this.pageIdx+=1}this.pageIdx=0,this.backend=this.backends[0],super.drawSheet(t)}drawPage(t){this.backend=this.backends[t.PageNumber-1],super.drawPage(t),this.pageIdx+=1,this.backend=this.backends[this.pageIdx]}clear(){for(const t of this.backends)t.clear()}setZoom(t){this.zoom=t}calculatePixelDistance(t){return t*e.unitInPixels}drawStaffLine(t){super.drawStaffLine(t);const e=t.PositionAndShape.AbsolutePosition;this.rules.RenderSlurs&&this.drawSlurs(t,e)}drawSlurs(t,e){for(const i of t.GraphicalSlurs)i.slur.isCrossed()||this.drawSlur(i,e)}drawSlur(t,e){const i=[],s=new r.PointF2D(t.bezierStartPt.x+e.x,t.bezierStartPt.y+e.y),n=new r.PointF2D(t.bezierStartControlPt.x+e.x,t.bezierStartControlPt.y+e.y),o=new r.PointF2D(t.bezierEndControlPt.x+e.x,t.bezierEndControlPt.y+e.y),a=new r.PointF2D(t.bezierEndPt.x+e.x,t.bezierEndPt.y+e.y);i.push(this.applyScreenTransformation(s)),i.push(this.applyScreenTransformation(n)),i.push(this.applyScreenTransformation(o)),i.push(this.applyScreenTransformation(a)),t.placement===h.PlacementEnum.Above?(s.y-=.05,n.y-=.3,o.y-=.3,a.y-=.05):(s.y+=.05,n.y+=.3,o.y+=.3,a.y+=.05),i.push(this.applyScreenTransformation(s)),i.push(this.applyScreenTransformation(n)),i.push(this.applyScreenTransformation(o)),i.push(this.applyScreenTransformation(a)),this.backend.renderCurve(i)}drawMeasure(t){t.setAbsoluteCoordinates(t.PositionAndShape.AbsolutePosition.x*e.unitInPixels,t.PositionAndShape.AbsolutePosition.y*e.unitInPixels);try{t.draw(this.backend.getContext())}catch(t){u.warn(\"VexFlowMusicSheetDrawer.drawMeasure\",t)}for(const e of t.staffEntries)this.drawStaffEntry(e)}drawLine(t,i,s=\"#FF0000FF\",n=.2){t=this.applyScreenTransformation(t),i=this.applyScreenTransformation(i),this.backend.renderLine(t,i,s,n*e.unitInPixels)}DrawOverlayLine(t,i,s,n=\"#FF0000FF\",r=.2){if(!s.PageNumber||s.PageNumber>this.backends.length||s.PageNumber<1)return void console.log(\"VexFlowMusicSheetDrawer.drawOverlayLine: invalid page number / music page number doesn't correspond to an existing backend.\");const o=s.PageNumber-1,a=this.backends[o];t=this.applyScreenTransformation(t),i=this.applyScreenTransformation(i),a.renderLine(t,i,n,r*e.unitInPixels)}drawSkyLine(t){const e=t.PositionAndShape.AbsolutePosition,i=t.PositionAndShape.Size.width;this.drawSampledLine(t.SkyLine,e,i)}drawBottomLine(t){const e=new r.PointF2D(t.PositionAndShape.AbsolutePosition.x,t.PositionAndShape.AbsolutePosition.y),i=t.PositionAndShape.Size.width;this.drawSampledLine(t.BottomLine,e,i,\"#0000FFFF\")}drawSampledLine(t,e,i,s=\"#FF0000FF\"){const n=[];let o=0;for(let e=0;e<t.length;e++)t[e]!==o&&(n.push(e),o=t[e]);const a=e;if(n.length>0){const e=this.rules.SamplingUnit;let o,h,l=new r.PointF2D(a.x,a.y),c=new r.PointF2D(n[0]/e+a.x,a.y);this.drawLine(l,c,s),t[0]>=0&&(o=new r.PointF2D(n[0]/e+a.x,a.y),h=new r.PointF2D(n[0]/e+a.x,a.y+t[n[0]]),this.drawLine(o,h,s));for(let i=1;i<n.length;i++)l=new r.PointF2D(n[i-1]/e+a.x,a.y+t[n[i-1]]),c=new r.PointF2D(n[i]/e+a.x,a.y+t[n[i-1]]),this.drawLine(l,c,s),o=new r.PointF2D(n[i]/e+a.x,a.y+t[n[i-1]]),h=new r.PointF2D(n[i]/e+a.x,a.y+t[n[i]]),this.drawLine(o,h,s);n[n.length-1]<t.length?(l=new r.PointF2D(n[n.length-1]/e+a.x,a.y+t[n[n.length-1]]),c=new r.PointF2D(a.x+i,a.y+t[n[n.length-1]]),this.drawLine(l,c,s)):(l=new r.PointF2D(n[n.length-1]/e+a.x,a.y),c=new r.PointF2D(a.x+i,a.y),this.drawLine(l,c,s))}else{const t=new r.PointF2D(a.x,a.y),e=new r.PointF2D(a.x+i,a.y);this.drawLine(t,e,s)}}drawStaffEntry(t){if(void 0!==t.graphicalChordContainers&&t.graphicalChordContainers.length>0)for(const e of t.graphicalChordContainers)this.drawLabel(e.GetGraphicalLabel,a.GraphicalLayers.Notes);this.rules.RenderLyrics&&t.LyricsEntries.length>0&&this.drawLyrics(t.LyricsEntries,a.GraphicalLayers.Notes)}drawLyrics(t,e){t.forEach(t=>this.drawLabel(t.GraphicalLabel,e))}drawInstrumentBrace(t,e){t.draw(this.backend.getContext())}drawGroupBracket(t,e){t.draw(this.backend.getContext())}drawOctaveShifts(t){for(const e of t.OctaveShifts)if(e){const t=e,i=this.backend.getContext(),s=t.getTextBracket();s.setContext(i),s.draw()}}drawExpressions(t){for(const e of t.AbstractExpressions)e instanceof c.GraphicalInstantaneousDynamicExpression?this.drawInstantaneousDynamic(e):e instanceof l.GraphicalInstantaneousTempoExpression?this.drawLabel(e.GraphicalLabel,a.GraphicalLayers.Notes):e instanceof d.GraphicalContinuousDynamicExpression?this.drawContinuousDynamic(e):e instanceof m.GraphicalUnknownExpression?this.drawLabel(e.Label,a.GraphicalLayers.Notes):u.warn(\"Unkown type of expression!\")}drawInstantaneousDynamic(t){this.drawLabel(t.Label,a.GraphicalLayers.Notes)}drawContinuousDynamic(t){if(t.IsVerbal)this.drawLabel(t.Label,a.GraphicalLayers.Notes);else for(const e of t.Lines){const i=new r.PointF2D(t.ParentStaffLine.PositionAndShape.AbsolutePosition.x+e.Start.x,t.ParentStaffLine.PositionAndShape.AbsolutePosition.y+e.Start.y),s=new r.PointF2D(t.ParentStaffLine.PositionAndShape.AbsolutePosition.x+e.End.x,t.ParentStaffLine.PositionAndShape.AbsolutePosition.y+e.End.y);this.drawLine(i,s,\"black\",e.Width)}}renderLabel(t,i,s,n,r,o){const a=t.Label.fontHeight*e.unitInPixels,{font:h,text:l}=t.Label;let c;this.rules.ColoringEnabled&&(c=t.Label.colorDefault,c||(c=this.rules.DefaultColorLabel));let{fontStyle:u,fontFamily:d}=t.Label;u||(u=this.rules.DefaultFontStyle),d||(d=this.rules.DefaultFontFamily),this.backend.renderText(a,u,h,l,r,o,c,t.Label.fontFamily)}renderRectangle(t,e,i,s){this.backend.renderRectangle(t,i,s)}applyScreenTransformation(t){return new r.PointF2D(t.x*e.unitInPixels,t.y*e.unitInPixels)}applyScreenTransformationForRect(t){return new n.RectangleF2D(t.x*e.unitInPixels,t.y*e.unitInPixels,t.width*e.unitInPixels,t.height*e.unitInPixels)}}e.VexFlowMusicSheetDrawer=p},function(t,e,i){\"use strict\";Object.defineProperty(e,\"__esModule\",{value:!0});const s=i(21);e.GraphicalLine=class{constructor(t,e,i=0,n=s.OutlineAndFillStyleEnum.BaseWritingColor){this.start=t,this.end=e,this.width=i,this.styleId=n}get Start(){return this.start}set Start(t){this.start=t}get End(){return this.end}set End(t){this.end=t}get Width(){return this.width}set Width(t){this.width=t}}},function(t,e,i){\"use strict\";Object.defineProperty(e,\"__esModule\",{value:!0});const s=i(43);var n;!function(t){t[t.BaseWritingColor=0]=\"BaseWritingColor\",t[t.FollowingCursor=1]=\"FollowingCursor\",t[t.AlternativeFollowingCursor=2]=\"AlternativeFollowingCursor\",t[t.PlaybackCursor=3]=\"PlaybackCursor\",t[t.Highlighted=4]=\"Highlighted\",t[t.ErrorUnderlay=5]=\"ErrorUnderlay\",t[t.Selected=6]=\"Selected\",t[t.SelectionSymbol=7]=\"SelectionSymbol\",t[t.DebugColor1=8]=\"DebugColor1\",t[t.DebugColor2=9]=\"DebugColor2\",t[t.DebugColor3=10]=\"DebugColor3\",t[t.SplitScreenDivision=11]=\"SplitScreenDivision\",t[t.GreyTransparentOverlay=12]=\"GreyTransparentOverlay\",t[t.MarkedArea1=13]=\"MarkedArea1\",t[t.MarkedArea2=14]=\"MarkedArea2\",t[t.MarkedArea3=15]=\"MarkedArea3\",t[t.MarkedArea4=16]=\"MarkedArea4\",t[t.MarkedArea5=17]=\"MarkedArea5\",t[t.MarkedArea6=18]=\"MarkedArea6\",t[t.MarkedArea7=19]=\"MarkedArea7\",t[t.MarkedArea8=20]=\"MarkedArea8\",t[t.MarkedArea9=21]=\"MarkedArea9\",t[t.MarkedArea10=22]=\"MarkedArea10\",t[t.Comment1=23]=\"Comment1\",t[t.Comment2=24]=\"Comment2\",t[t.Comment3=25]=\"Comment3\",t[t.Comment4=26]=\"Comment4\",t[t.Comment5=27]=\"Comment5\",t[t.Comment6=28]=\"Comment6\",t[t.Comment7=29]=\"Comment7\",t[t.Comment8=30]=\"Comment8\",t[t.Comment9=31]=\"Comment9\",t[t.Comment10=32]=\"Comment10\"}(n=e.OutlineAndFillStyleEnum||(e.OutlineAndFillStyleEnum={})),e.OUTLINE_AND_FILL_STYLE_DICT=new s.Dictionary,e.OUTLINE_AND_FILL_STYLE_DICT.setValue(n.BaseWritingColor,\"Thistle\"),e.OUTLINE_AND_FILL_STYLE_DICT.setValue(n.FollowingCursor,\"Aqua\"),e.OUTLINE_AND_FILL_STYLE_DICT.setValue(n.AlternativeFollowingCursor,\"Azure\"),e.OUTLINE_AND_FILL_STYLE_DICT.setValue(n.PlaybackCursor,\"Bisque\"),e.OUTLINE_AND_FILL_STYLE_DICT.setValue(n.Highlighted,\"CadetBlue\"),e.OUTLINE_AND_FILL_STYLE_DICT.setValue(n.ErrorUnderlay,\"DarkBlue\"),e.OUTLINE_AND_FILL_STYLE_DICT.setValue(n.Selected,\"DarkGoldenRod\"),e.OUTLINE_AND_FILL_STYLE_DICT.setValue(n.SelectionSymbol,\"BlanchedAlmond\"),e.OUTLINE_AND_FILL_STYLE_DICT.setValue(n.DebugColor1,\"Chartreuse\"),e.OUTLINE_AND_FILL_STYLE_DICT.setValue(n.DebugColor2,\"DarkGreen\"),e.OUTLINE_AND_FILL_STYLE_DICT.setValue(n.DebugColor3,\"DarkOrange\"),e.OUTLINE_AND_FILL_STYLE_DICT.setValue(n.SplitScreenDivision,\"FireBrick\"),e.OUTLINE_AND_FILL_STYLE_DICT.setValue(n.GreyTransparentOverlay,\"DarkSalmon\"),e.OUTLINE_AND_FILL_STYLE_DICT.setValue(n.MarkedArea1,\"DarkSeaGreen\"),e.OUTLINE_AND_FILL_STYLE_DICT.setValue(n.MarkedArea2,\"DarkOrchid\"),e.OUTLINE_AND_FILL_STYLE_DICT.setValue(n.MarkedArea3,\"Aquamarine\"),e.OUTLINE_AND_FILL_STYLE_DICT.setValue(n.MarkedArea4,\"DarkKhaki\"),e.OUTLINE_AND_FILL_STYLE_DICT.setValue(n.MarkedArea5,\"ForestGreen\"),e.OUTLINE_AND_FILL_STYLE_DICT.setValue(n.MarkedArea6,\"AliceBlue\"),e.OUTLINE_AND_FILL_STYLE_DICT.setValue(n.MarkedArea7,\"DeepPink\"),e.OUTLINE_AND_FILL_STYLE_DICT.setValue(n.MarkedArea8,\"Coral\"),e.OUTLINE_AND_FILL_STYLE_DICT.setValue(n.MarkedArea9,\"DarkOliveGreen\"),e.OUTLINE_AND_FILL_STYLE_DICT.setValue(n.MarkedArea10,\"Chocolate\"),e.OUTLINE_AND_FILL_STYLE_DICT.setValue(n.Comment1,\"DodgerBlue\"),e.OUTLINE_AND_FILL_STYLE_DICT.setValue(n.Comment2,\"Blue\"),e.OUTLINE_AND_FILL_STYLE_DICT.setValue(n.Comment3,\"Beige\"),e.OUTLINE_AND_FILL_STYLE_DICT.setValue(n.Comment4,\"Crimson\"),e.OUTLINE_AND_FILL_STYLE_DICT.setValue(n.Comment5,\"Fuchsia\"),e.OUTLINE_AND_FILL_STYLE_DICT.setValue(n.Comment6,\"Brown\"),e.OUTLINE_AND_FILL_STYLE_DICT.setValue(n.Comment7,\"BlanchedAlmond\"),e.OUTLINE_AND_FILL_STYLE_DICT.setValue(n.Comment8,\"CornflowerBlue\"),e.OUTLINE_AND_FILL_STYLE_DICT.setValue(n.Comment9,\"Cornsilk\"),e.OUTLINE_AND_FILL_STYLE_DICT.setValue(n.Comment10,\"DarkGrey\"),function(t){t[t.MarkedArea=0]=\"MarkedArea\",t[t.Comment=1]=\"Comment\"}(e.StyleSets||(e.StyleSets={})),function(t){t[t.Background=0]=\"Background\",t[t.Highlight=1]=\"Highlight\",t[t.MeasureError=2]=\"MeasureError\",t[t.SelectionSymbol=3]=\"SelectionSymbol\",t[t.Cursor=4]=\"Cursor\",t[t.PSI_Debug=5]=\"PSI_Debug\",t[t.Notes=6]=\"Notes\",t[t.Comment=7]=\"Comment\",t[t.Debug_above=8]=\"Debug_above\"}(e.GraphicalLayers||(e.GraphicalLayers={})),function(t){t[t.Normal=0]=\"Normal\",t[t.Selected=1]=\"Selected\",t[t.Follow_Confirmed=2]=\"Follow_Confirmed\",t[t.QFeedback_NotFound=3]=\"QFeedback_NotFound\",t[t.QFeedback_OK=4]=\"QFeedback_OK\",t[t.QFeedback_Perfect=5]=\"QFeedback_Perfect\",t[t.Debug1=6]=\"Debug1\",t[t.Debug2=7]=\"Debug2\",t[t.Debug3=8]=\"Debug3\"}(e.NoteState||(e.NoteState={})),function(t){t.C=\"#d82c6b\",t.D=\"#F89D15\",t.E=\"#FFE21A\",t.F=\"#4dbd5c\",t.G=\"#009D96\",t.A=\"#43469d\",t.B=\"#76429c\",t.Rest=\"#000000\"}(e.AutoColorSet||(e.AutoColorSet={}))},function(t,e,i){\"use strict\";Object.defineProperty(e,\"__esModule\",{value:!0});const s=i(7),n=i(3),r=i(90),o=i(14);class a extends r.Clickable{constructor(t,e,i,s,r){super(),this.label=t,this.boundingBox=new n.BoundingBox(this,r),this.label.fontHeight=e,this.label.textAlignment=i,this.rules=s}get Label(){return this.label}toString(){return`${this.label.text} (${this.boundingBox.RelativePosition.x},${this.boundingBox.RelativePosition.y})`}setLabelPositionAndShapeBorders(){var t,e;if(\"\"===this.Label.text.trim())return;const i=null!==(e=null===(t=this.rules)||void 0===t?void 0:t.LabelMarginBorderFactor)&&void 0!==e?e:.1,n=o.MusicSheetCalculator.TextMeasurer.computeTextWidthToHeightRatio(this.Label.text,this.Label.font,this.Label.fontStyle,this.label.fontFamily),r=this.Label.fontHeight,a=r*n,h=this.PositionAndShape;switch(this.Label.textAlignment){case s.TextAlignmentEnum.CenterBottom:h.BorderTop=-r,h.BorderLeft=-a/2,h.BorderBottom=0,h.BorderRight=a/2;break;case s.TextAlignmentEnum.CenterCenter:h.BorderTop=-r/2,h.BorderLeft=-a/2,h.BorderBottom=r/2,h.BorderRight=a/2;break;case s.TextAlignmentEnum.CenterTop:h.BorderTop=0,h.BorderLeft=-a/2,h.BorderBottom=r,h.BorderRight=a/2;break;case s.TextAlignmentEnum.LeftBottom:h.BorderTop=-r,h.BorderLeft=0,h.BorderBottom=0,h.BorderRight=a;break;case s.TextAlignmentEnum.LeftCenter:h.BorderTop=-r/2,h.BorderLeft=0,h.BorderBottom=r/2,h.BorderRight=a;break;case s.TextAlignmentEnum.LeftTop:h.BorderTop=0,h.BorderLeft=0,h.BorderBottom=r,h.BorderRight=a;break;case s.TextAlignmentEnum.RightBottom:h.BorderTop=-r,h.BorderLeft=-a,h.BorderBottom=0,h.BorderRight=0;break;case s.TextAlignmentEnum.RightCenter:h.BorderTop=-r/2,h.BorderLeft=-a,h.BorderBottom=r/2,h.BorderRight=0;break;case s.TextAlignmentEnum.RightTop:h.BorderTop=0,h.BorderLeft=-a,h.BorderBottom=r,h.BorderRight=0}h.BorderMarginTop=h.BorderTop-r*i,h.BorderMarginLeft=h.BorderLeft-r*i,h.BorderMarginBottom=h.BorderBottom+r*i,h.BorderMarginRight=h.BorderRight+r*i}}e.GraphicalLabel=a},function(t,e,i){\"use strict\";Object.defineProperty(e,\"__esModule\",{value:!0}),function(t){t[t.Regular=0]=\"Regular\",t[t.Bold=1]=\"Bold\",t[t.Italic=2]=\"Italic\",t[t.BoldItalic=3]=\"BoldItalic\",t[t.Underlined=4]=\"Underlined\"}(e.FontStyles||(e.FontStyles={}))},function(t,e,i){\"use strict\";Object.defineProperty(e,\"__esModule\",{value:!0}),Array.prototype.last||(Array.prototype.last=function(){return this[this.length-1]}),Array.prototype.clear||(Array.prototype.clear=function(){this.length=0}),Array.prototype.contains||(Array.prototype.contains=function(t){return-1!==this.indexOf(t)});e.CollectionUtil=class{static contains2(t,e){for(let i=0;i<t.length;i++)if(t[i]===e)return!0;return!1}static last(t){return t[t.length-1]}static removeDictElementIfTrue(t,e,i){const s=[];e.forEach((function(e,n){i(t,e,n)&&s.push(e)}));for(let t=0;t<s.length;t++)e.remove(s[t])}static getLastElement(t){return t[t.length-1]}static binarySearch(t,e,i,s=0,n=t.length-1){let r=1;for(;s<n;){r=Math.floor((s+n)/2);const o=i(t[r],e);if(0===o)return r;o<0&&(s=r+1),0<o&&(n=r)}return-r}}},function(t,e,i){\"use strict\";Object.defineProperty(e,\"__esModule\",{value:!0});const s=i(0),n=i(8),r=i(15),o=i(17);e.SourceStaffEntry=class{constructor(t,e){this.voiceEntries=[],this.instructions=[],this.chordSymbolContainers=[],this.verticalContainerParent=t,this.parentStaff=e}get ParentStaff(){return this.parentStaff}get VerticalContainerParent(){return this.verticalContainerParent}get Timestamp(){if(this.VerticalContainerParent)return this.VerticalContainerParent.Timestamp}get AbsoluteTimestamp(){if(this.VerticalContainerParent)return s.Fraction.plus(this.VerticalContainerParent.ParentMeasure.AbsoluteTimestamp,this.VerticalContainerParent.Timestamp)}get VoiceEntries(){return this.voiceEntries}set VoiceEntries(t){this.voiceEntries=t}get Link(){return this.staffEntryLink}set Link(t){this.staffEntryLink=t}get Instructions(){return this.instructions}set Instructions(t){this.instructions=t}get ChordContainers(){return this.chordSymbolContainers}set ChordContainers(t){this.chordSymbolContainers=t}removeAllInstructionsOfTypeClefInstruction(){let t=0,e=0;for(;t<this.instructions.length;)this.instructions[t]instanceof n.ClefInstruction?(this.instructions.splice(t,1),e++):t++;return e}removeFirstInstructionOfTypeClefInstruction(){for(let t=0;t<this.instructions.length;t++)if(this.instructions[t]instanceof n.ClefInstruction)return this.instructions.splice(t,1),!0;return!1}removeAllInstructionsOfTypeKeyInstruction(){let t=0,e=0;for(;t<this.instructions.length;)this.instructions[t]instanceof r.KeyInstruction?(this.instructions.splice(t,1),e++):t++;return e}removeFirstInstructionOfTypeKeyInstruction(){for(let t=0;t<this.instructions.length;t++)if(this.instructions[t]instanceof r.KeyInstruction)return this.instructions.splice(t,1),!0;return!1}removeAllInstructionsOfTypeRhythmInstruction(){let t=0,e=0;for(;t<this.instructions.length;)this.instructions[t]instanceof o.RhythmInstruction?(this.instructions.splice(t,1),e++):t++;return e}removeFirstInstructionOfTypeRhythmInstruction(){for(let t=0;t<this.instructions.length;t++)if(this.instructions[t]instanceof o.RhythmInstruction)return this.instructions.splice(t,1),!0;return!1}calculateMinNoteLength(){let t=new s.Fraction(Number.MAX_VALUE,1);for(let e=0,i=this.VoiceEntries.length;e<i;++e){const i=this.VoiceEntries[e];for(let e=0,s=i.Notes.length;e<s;++e){const s=i.Notes[e];s.Length.lt(t)&&(t=s.Length)}}return t}calculateMaxNoteLength(){let t=new s.Fraction(0,1);for(let e=0,i=this.VoiceEntries.length;e<i;++e){const i=this.VoiceEntries[e];for(let e=0,n=i.Notes.length;e<n;++e){const n=i.Notes[e];if(n.NoteTie){const e=s.Fraction.createFromFraction(n.Length);let i=!1;for(const t of n.NoteTie.Notes)t!==n?i&&e.Add(t.Length):i=!0;t.lt(e)&&(t=e)}else t.lt(n.Length)&&(t=n.Length)}}return t}hasNotes(){for(let t=0,e=this.VoiceEntries.length;t<e;++t){if(this.VoiceEntries[t].Notes.length>0)return!0}return!1}hasTie(){for(let t=0,e=this.VoiceEntries.length;t<e;++t){if(this.VoiceEntries[t].hasTie())return!0}return!1}findLinkedNotes(t){for(let e=0,i=this.voiceEntries.length;e<i;++e){const i=this.voiceEntries[e];for(let e=0,s=i.Notes.length;e<s;++e){const s=i.Notes[e];s.ParentStaffEntry===this&&t.push(s)}}}}},function(t,e,i){\"use strict\";Object.defineProperty(e,\"__esModule\",{value:!0});e.RepetitionInstructionComparer=class{static Compare(t,e){if(void 0!==t.parentRepetition&&e.parentRepetition){if(t.alignment===n.End&&e.alignment===n.End){if(t.parentRepetition.StartIndex<e.parentRepetition.StartIndex)return 1;if(t.parentRepetition.StartIndex>e.parentRepetition.StartIndex)return-1}if(t.alignment===n.Begin&&e.alignment===n.Begin){if(t.parentRepetition.EndIndex<e.parentRepetition.EndIndex)return 1;if(t.parentRepetition.EndIndex>e.parentRepetition.EndIndex)return-1}}return 0}};var s,n;e.RepetitionInstruction=class{constructor(t,e,i=n.End,s,r){this.endingIndices=void 0,this.measureIndex=t,r&&(this.endingIndices=r.slice()),this.type=e,this.alignment=i,this.parentRepetition=s}CompareTo(t){const e=t;if(this.measureIndex>e.measureIndex)return 1;if(this.measureIndex<e.measureIndex)return-1;if(this.alignment===n.Begin){if(e.alignment===n.End)return-1;switch(this.type){case s.Ending:return 1;case s.StartLine:return e.type===s.Ending?-1:1;case s.Coda:case s.Segno:return e.type===s.Coda?1:-1}}else{if(e.alignment===n.Begin)return 1;switch(this.type){case s.Ending:return-1;case s.Fine:case s.ToCoda:return e.type===s.Ending?1:-1;case s.ForwardJump:switch(e.type){case s.Ending:case s.Fine:case s.ToCoda:return 1}return-1;case s.DalSegnoAlFine:case s.DaCapoAlFine:case s.DalSegnoAlCoda:case s.DaCapoAlCoda:case s.DaCapo:case s.DalSegno:case s.BackJumpLine:return 1}}return 0}equals(t){if(this.measureIndex!==t.measureIndex||this.type!==t.type||this.alignment!==t.alignment)return!1;if(this.endingIndices===t.endingIndices)return!0;if(!this.endingIndices||!t.endingIndices||this.endingIndices.length!==t.endingIndices.length)return!1;for(let e=0;e<this.endingIndices.length;e++)if(this.endingIndices[e]!==t.endingIndices[e])return!1;return!0}},function(t){t[t.StartLine=0]=\"StartLine\",t[t.ForwardJump=1]=\"ForwardJump\",t[t.BackJumpLine=2]=\"BackJumpLine\",t[t.Ending=3]=\"Ending\",t[t.DaCapo=4]=\"DaCapo\",t[t.DalSegno=5]=\"DalSegno\",t[t.Fine=6]=\"Fine\",t[t.ToCoda=7]=\"ToCoda\",t[t.DalSegnoAlFine=8]=\"DalSegnoAlFine\",t[t.DaCapoAlFine=9]=\"DaCapoAlFine\",t[t.DalSegnoAlCoda=10]=\"DalSegnoAlCoda\",t[t.DaCapoAlCoda=11]=\"DaCapoAlCoda\",t[t.Coda=12]=\"Coda\",t[t.Segno=13]=\"Segno\",t[t.None=14]=\"None\"}(s=e.RepetitionInstructionEnum||(e.RepetitionInstructionEnum={})),function(t){t[t.Begin=0]=\"Begin\",t[t.End=1]=\"End\"}(n=e.AlignmentType||(e.AlignmentType={}))},function(t,e,i){\"use strict\";Object.defineProperty(e,\"__esModule\",{value:!0});e.ITextTranslation=class{static translateText(t,e){if(!this.defaultTextTranslation)return e}}},function(t,e,i){\"use strict\";Object.defineProperty(e,\"__esModule\",{value:!0});const s=i(29),n=i(6);var r;!function(t){t[t.XML=0]=\"XML\",t[t.AutoColoring=1]=\"AutoColoring\",t[t.CustomColorSet=2]=\"CustomColorSet\"}(e.ColoringModes||(e.ColoringModes={})),function(t){t.allon=\"allon\",t.compact=\"compact\",t.compacttight=\"compacttight\",t.default=\"default\",t.leadsheet=\"leadsheet\",t.preview=\"preview\",t.thumbnail=\"thumbnail\"}(r=e.DrawingParametersEnum||(e.DrawingParametersEnum={}));e.DrawingParameters=class{constructor(t=r.default){this.rules=new s.EngravingRules,this.drawTitle=!0,this.drawSubtitle=!0,this.drawLyricist=!0,this.drawComposer=!0,this.drawCredits=!0,this.drawPartNames=!0,this.fingeringPosition=n.PlacementEnum.Left,this.drawHiddenNotes=!1,this.DrawingParametersEnum=t}set DrawingParametersEnum(t){switch(this.drawingParametersEnum=t,t){case r.allon:this.setForAllOn();break;case r.thumbnail:this.setForThumbnail();break;case r.leadsheet:this.setForLeadsheet();break;case r.compact:this.setForCompactMode();break;case r.compacttight:this.setForCompactTightMode();break;case r.default:default:this.setForDefault()}}get DrawingParametersEnum(){return this.drawingParametersEnum}setForAllOn(){this.drawHighlights=!0,this.drawErrors=!0,this.drawSelectionStartSymbol=!0,this.drawSelectionEndSymbol=!0,this.drawCursors=!0,this.drawActivitySymbols=!0,this.drawScrollIndicator=!0,this.drawComments=!0,this.drawMarkedAreas=!0,this.DrawTitle=!0,this.DrawSubtitle=!0,this.DrawComposer=!0,this.DrawLyricist=!0,this.drawCredits=!0,this.DrawPartNames=!0,this.drawHiddenNotes=!0,this.rules.CompactMode=!1}setForDefault(){this.setForAllOn(),this.drawHiddenNotes=!1}setForThumbnail(){this.drawHighlights=!1,this.drawErrors=!1,this.drawSelectionStartSymbol=!1,this.drawSelectionStartSymbol=!1,this.drawCursors=!1,this.drawActivitySymbols=!1,this.drawScrollIndicator=!1,this.drawComments=!0,this.drawMarkedAreas=!0,this.drawHiddenNotes=!1}setForCompactMode(){this.setForDefault(),this.rules.CompactMode=!0,this.DrawCredits=!1,this.drawHiddenNotes=!1}setForCompactTightMode(){this.setForCompactMode(),this.DrawPartNames=!1,this.rules.MinSkyBottomDistBetweenStaves=1,this.rules.MinSkyBottomDistBetweenSystems=2,this.rules.BetweenStaffDistance=2.5,this.rules.StaffDistance=3.5,this.rules.MinimumDistanceBetweenSystems=1,this.rules.PageBottomMargin=1,this.rules.PageLeftMargin=2,this.rules.PageRightMargin=2}setForLeadsheet(){this.drawHighlights=!1,this.drawErrors=!1,this.drawSelectionStartSymbol=!0,this.drawSelectionEndSymbol=!0,this.drawCursors=!0,this.drawActivitySymbols=!1,this.drawScrollIndicator=!0,this.drawComments=!0,this.drawMarkedAreas=!0}get DrawCredits(){return this.drawCredits}set DrawCredits(t){this.drawCredits=t,this.DrawComposer=t,this.DrawTitle=t,this.DrawSubtitle=t,this.DrawLyricist=t}get DrawTitle(){return this.drawTitle}set DrawTitle(t){this.drawTitle=t,this.rules.RenderTitle=t,t||(this.DrawSubtitle=!1)}get DrawSubtitle(){return this.drawSubtitle}set DrawSubtitle(t){this.drawSubtitle=t,this.rules.RenderSubtitle=t,t&&(this.DrawTitle=!0)}get DrawComposer(){return this.drawComposer}set DrawComposer(t){this.drawComposer=t,this.rules.RenderComposer=t}get DrawLyricist(){return this.drawLyricist}set DrawLyricist(t){this.drawLyricist=t,this.rules.RenderLyricist=t}get DrawPartNames(){return this.drawPartNames}set DrawPartNames(t){this.drawPartNames=t,this.rules.RenderPartNames=t,this.rules.RenderPartNames||(this.rules.RenderPartAbbreviations=!1)}get FingeringPosition(){return this.fingeringPosition}set FingeringPosition(t){this.fingeringPosition=t,this.rules.FingeringPosition=t}get Rules(){return this.rules}set Rules(t){this.rules=t}}},function(t,e,i){\"use strict\";var s=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,\"__esModule\",{value:!0});const n=i(42),r=s(i(1)),o=i(7),a=i(6),h=i(41),l=i(28),c=i(43),u=i(86),d=i(44);class f{constructor(){this.noteDistances=[1,1,1.3,1.6,2,2.5,3,4],this.noteDistancesScalingFactors=[1,2,4,8,16,32,64,128],this.durationDistanceDict={},this.durationScalingDistanceDict={},this.samplingUnit=3*f.unit,this.sheetTitleHeight=4,this.sheetSubtitleHeight=2,this.sheetMinimumDistanceBetweenTitleAndSubtitle=1,this.sheetComposerHeight=2,this.sheetAuthorHeight=2,this.compactMode=!1,this.pagePlacementEnum=n.PagePlacementEnum.Down,this.pageHeight=100001,this.pageTopMargin=5,this.pageTopMarginNarrow=0,this.pageBottomMargin=5,this.pageLeftMargin=5,this.pageRightMargin=5,this.titleTopDistance=9,this.titleBottomDistance=1,this.staffDistance=7,this.betweenStaffDistance=5,this.minimumStaffLineDistance=4,this.minSkyBottomDistBetweenStaves=1,this.staffHeight=4,this.tabStaffInterlineHeight=1.1111,this.betweenStaffLinesDistance=f.unit,this.systemLeftMargin=0,this.systemRightMargin=0,this.firstSystemMargin=15,this.systemLabelsRightMargin=2,this.systemComposerDistance=2,this.instrumentLabelTextHeight=2,this.minimumDistanceBetweenSystems=7,this.minSkyBottomDistBetweenSystems=5,this.lastSystemMaxScalingFactor=1.4,this.autoBeamNotes=!1,this.autoBeamOptions={beam_middle_rests_only:!1,beam_rests:!1,maintain_stem_directions:!1},this.beamWidth=f.unit/2,this.beamSpaceWidth=f.unit/3,this.beamForwardLength=1.25*f.unit,this.clefLeftMargin=.5,this.clefRightMargin=.75,this.percussionOneLineCutoff=4,this.percussionForceVoicesOneLineCutoff=3,this.betweenKeySymbolsDistance=.2,this.keyRightMargin=.75,this.rhythmRightMargin=1.25,this.showRhythmAgainAfterPartEndOrFinalBarline=!0,this.inStaffClefScalingFactor=.8,this.distanceBetweenNaturalAndSymbolWhenCancelling=.4,this.noteHelperLinesOffset=.25,this.measureLeftMargin=.7,this.measureRightMargin=0,this.distanceBetweenLastInstructionAndRepetitionBarline=1,this.arpeggioDistance=.6,this.staccatoShorteningFactor=2,this.idealStemLength=3,this.stemNoteHeadBorderYOffset=.2,this.stemWidth=.13,this.stemMargin=.2,this.stemMinLength=2.5,this.stemMaxLength=4.5,this.beamSlopeMaxAngle=10,this.stemMinAllowedDistanceBetweenNoteHeadAndBeamLine=1,this.setWantedStemDirectionByXml=!0,this.graceNoteScalingFactor=.6,this.graceNoteXOffset=.2,this.wedgeOpeningLength=1.2,this.wedgeMeasureEndOpeningLength=.75,this.wedgeMeasureBeginOpeningLength=.75,this.wedgePlacementAboveY=-1.5,this.wedgePlacementBelowY=1.5,this.wedgeHorizontalMargin=.6,this.wedgeVerticalMargin=.5,this.distanceOffsetBetweenTwoHorizontallyCrossedWedges=.3,this.wedgeMinLength=2,this.distanceBetweenAdjacentDynamics=.75,this.tempoChangeMeasureValidity=4,this.tempoContinousFactor=.7,this.staccatoScalingFactor=.8,this.betweenDotsDistance=.8,this.ornamentAccidentalScalingFactor=.65,this.chordSymbolTextHeight=2,this.chordSymbolXSpacing=1,this.chordSymbolYOffset=2,this.chordSymbolLabelTexts=new c.Dictionary,this.resetChordSymbolLabelTexts(this.chordSymbolLabelTexts),this.measureNumberLabelHeight=1.5*f.unit,this.measureNumberLabelOffset=2,this.measureNumberLabelXOffset=-.5,this.tupletsRatioed=!1,this.tupletsBracketed=!1,this.tripletsBracketed=!1,this.tupletNumberLabelHeight=1.5*f.unit,this.tupletNumberYOffset=.5,this.labelMarginBorderFactor=.1,this.tupletVerticalLineLength=.5,this.bezierCurveStepSize=1e3,this.calculateCurveParametersArrays(),this.tieGhostObjectWidth=.75,this.tieYPositionOffsetFactor=.3,this.minimumNeededXspaceForTieGhostObject=1,this.tieHeightMinimum=.28,this.tieHeightMaximum=1.2,this.tieHeightInterpolationK=.0288,this.tieHeightInterpolationD=.136,this.slurNoteHeadYOffset=.5,this.slurStemXOffset=.3,this.slurSlopeMaxAngle=15,this.slurTangentMinAngle=30,this.slurTangentMaxAngle=80,this.slursStartingAtSameStaffEntryYOffset=.8,this.repetitionEndingLabelHeight=2,this.repetitionEndingLabelXOffset=.5,this.repetitionEndingLabelYOffset=.3,this.repetitionEndingLineYLowerOffset=.5,this.repetitionEndingLineYUpperOffset=.3,this.voltaOffset=2.5,this.lyricsAlignmentStandard=o.TextAlignmentEnum.LeftBottom,this.lyricsHeight=2,this.lyricsYOffsetToStaffHeight=3,this.verticalBetweenLyricsDistance=.5,this.horizontalBetweenLyricsDistance=.2,this.betweenSyllableMaximumDistance=10,this.betweenSyllableMinimumDistance=.5,this.lyricOverlapAllowedIntoNextMeasure=3.4,this.minimumDistanceBetweenDashes=10,this.instantaneousTempoTextHeight=2.3,this.continuousDynamicTextHeight=2.3,this.moodTextHeight=2.3,this.unknownTextHeight=2,this.continuousTempoTextHeight=2.3,this.dynamicExpressionMaxDistance=2,this.dynamicExpressionSpacer=.5,this.staffLineWidth=.12,this.ledgerLineWidth=void 0,this.ledgerLineStrokeStyle=void 0,this.wedgeLineWidth=.12,this.tupletLineWidth=.12,this.lyricUnderscoreLineWidth=.12,this.systemThinLineWidth=.12,this.systemBoldLineWidth=f.unit/2,this.systemRepetitionEndingLineWidth=.12,this.systemDotWidth=f.unit/5,this.distanceBetweenVerticalSystemLines=.35,this.distanceBetweenDotAndLine=.7,this.octaveShiftLineWidth=.12,this.octaveShiftVerticalLineLength=f.unit,this.graceLineWidth=this.staffLineWidth*this.GraceNoteScalingFactor,this.minimumCrossedBeamDifferenceMargin=1e-4,this.displacedNoteMargin=.1,this.minNoteDistance=2,this.subMeasureXSpacingThreshold=35,this.measureDynamicsMaxScalingFactor=2.5,this.wholeRestXShiftVexflow=-2.5,this.metronomeMarksDrawn=!0,this.metronomeMarkXShift=-6,this.metronomeMarkYShift=-.5,this.alignRests=h.AlignRestOption.Never,this.fillEmptyMeasuresWithWholeRest=h.FillEmptyMeasuresWithWholeRests.No,this.arpeggiosGoAcrossVoices=!1,this.renderArpeggios=!0,this.renderSlurs=!0,this.coloringMode=l.ColoringModes.XML,this.coloringEnabled=!0,this.colorStemsLikeNoteheads=!1,this.colorBeams=!0,this.colorFlags=!0,this.defaultColorNotehead=\"#000000\",this.defaultColorRest=this.defaultColorNotehead,this.defaultColorStem=this.defaultColorNotehead,this.defaultColorLabel=this.defaultColorNotehead,this.defaultColorTitle=this.defaultColorNotehead,this.defaultFontFamily=\"Times New Roman\",this.defaultFontStyle=u.FontStyles.Regular,this.maxMeasureToDrawIndex=Number.MAX_VALUE,this.minMeasureToDrawIndex=0,this.renderComposer=!0,this.renderTitle=!0,this.renderSubtitle=!0,this.renderLyricist=!0,this.renderPartNames=!0,this.renderPartAbbreviations=!0,this.renderFingerings=!0,this.renderMeasureNumbers=!0,this.renderLyrics=!0,this.fingeringPosition=a.PlacementEnum.Left,this.fingeringInsideStafflines=!1,this.fingeringLabelFontHeight=1.7,this.fingeringOffsetX=0,this.newSystemAtXMLNewSystemAttribute=!1,this.newPageAtXMLNewPageAttribute=!1,this.restoreCursorAfterRerender=!0,f.FixStafflineBoundingBox=!1,this.pageFormat=m.UndefinedPageFormat,this.pageBackgroundColor=void 0,this.renderSingleHorizontalStaffline=!1,this.populateDictionaries();try{this.maxInstructionsConstValue=this.ClefLeftMargin+this.ClefRightMargin+this.KeyRightMargin+this.RhythmRightMargin+11}catch(t){r.default.info(\"EngravingRules()\",t)}}static get FixStafflineBoundingBox(){return f.fixStafflineBoundingBox}static set FixStafflineBoundingBox(t){f.fixStafflineBoundingBox=t}get SamplingUnit(){return this.samplingUnit}get SheetTitleHeight(){return this.sheetTitleHeight}set SheetTitleHeight(t){this.sheetTitleHeight=t}get SheetSubtitleHeight(){return this.sheetSubtitleHeight}set SheetSubtitleHeight(t){this.sheetSubtitleHeight=t}get SheetMinimumDistanceBetweenTitleAndSubtitle(){return this.sheetMinimumDistanceBetweenTitleAndSubtitle}set SheetMinimumDistanceBetweenTitleAndSubtitle(t){this.sheetMinimumDistanceBetweenTitleAndSubtitle=t}get SheetComposerHeight(){return this.sheetComposerHeight}set SheetComposerHeight(t){this.sheetComposerHeight=t}get SheetAuthorHeight(){return this.sheetAuthorHeight}set SheetAuthorHeight(t){this.sheetAuthorHeight=t}get PagePlacement(){return this.pagePlacementEnum}set PagePlacement(t){this.pagePlacementEnum=t}get CompactMode(){return this.compactMode}set CompactMode(t){this.compactMode=t}get PageHeight(){return this.pageHeight}set PageHeight(t){this.pageHeight=t}get PageTopMargin(){return this.pageTopMargin}set PageTopMargin(t){this.pageTopMargin=t}get PageTopMarginNarrow(){return this.pageTopMarginNarrow}set PageTopMarginNarrow(t){this.pageTopMarginNarrow=t}get PageBottomMargin(){return this.pageBottomMargin}set PageBottomMargin(t){this.pageBottomMargin=t}get PageLeftMargin(){return this.pageLeftMargin}set PageLeftMargin(t){this.pageLeftMargin=t}get PageRightMargin(){return this.pageRightMargin}set PageRightMargin(t){this.pageRightMargin=t}get TitleTopDistance(){return this.titleTopDistance}set TitleTopDistance(t){this.titleTopDistance=t}get TitleBottomDistance(){return this.titleBottomDistance}set TitleBottomDistance(t){this.titleBottomDistance=t}get SystemComposerDistance(){return this.systemComposerDistance}set SystemComposerDistance(t){this.systemComposerDistance=t}get InstrumentLabelTextHeight(){return this.instrumentLabelTextHeight}set InstrumentLabelTextHeight(t){this.instrumentLabelTextHeight=t}get SystemLeftMargin(){return this.systemLeftMargin}set SystemLeftMargin(t){this.systemLeftMargin=t}get SystemRightMargin(){return this.systemRightMargin}set SystemRightMargin(t){this.systemRightMargin=t}get FirstSystemMargin(){return this.firstSystemMargin}set FirstSystemMargin(t){this.firstSystemMargin=t}get SystemLabelsRightMargin(){return this.systemLabelsRightMargin}set SystemLabelsRightMargin(t){this.systemLabelsRightMargin=t}get MinimumDistanceBetweenSystems(){return this.minimumDistanceBetweenSystems}set MinimumDistanceBetweenSystems(t){this.minimumDistanceBetweenSystems=t}get MinSkyBottomDistBetweenSystems(){return this.minSkyBottomDistBetweenSystems}set MinSkyBottomDistBetweenSystems(t){this.minSkyBottomDistBetweenSystems=t}get LastSystemMaxScalingFactor(){return this.lastSystemMaxScalingFactor}set LastSystemMaxScalingFactor(t){this.lastSystemMaxScalingFactor=t}get StaffDistance(){return this.staffDistance}set StaffDistance(t){this.staffDistance=t}get BetweenStaffDistance(){return this.betweenStaffDistance}set BetweenStaffDistance(t){this.betweenStaffDistance=t}get StaffHeight(){return this.staffHeight}set StaffHeight(t){this.staffHeight=t}get TabStaffInterlineHeight(){return this.tabStaffInterlineHeight}set TabStaffInterlineHeight(t){this.tabStaffInterlineHeight=t}get BetweenStaffLinesDistance(){return this.betweenStaffLinesDistance}set BetweenStaffLinesDistance(t){this.betweenStaffLinesDistance=t}get AutoBeamNotes(){return this.autoBeamNotes}set AutoBeamNotes(t){this.autoBeamNotes=t}get AutoBeamOptions(){return this.autoBeamOptions}set AutoBeamOptions(t){this.autoBeamOptions=t}get BeamWidth(){return this.beamWidth}set BeamWidth(t){this.beamWidth=t}get BeamSpaceWidth(){return this.beamSpaceWidth}set BeamSpaceWidth(t){this.beamSpaceWidth=t}get BeamForwardLength(){return this.beamForwardLength}set BeamForwardLength(t){this.beamForwardLength=t}get BetweenKeySymbolsDistance(){return this.betweenKeySymbolsDistance}set BetweenKeySymbolsDistance(t){this.betweenKeySymbolsDistance=t}get ClefLeftMargin(){return this.clefLeftMargin}set ClefLeftMargin(t){this.clefLeftMargin=t}get ClefRightMargin(){return this.clefRightMargin}set ClefRightMargin(t){this.clefRightMargin=t}get PercussionOneLineCutoff(){return this.percussionOneLineCutoff}set PercussionOneLineCutoff(t){this.percussionOneLineCutoff=t}get PercussionForceVoicesOneLineCutoff(){return this.percussionForceVoicesOneLineCutoff}set PercussionForceVoicesOneLineCutoff(t){this.percussionForceVoicesOneLineCutoff=t}get KeyRightMargin(){return this.keyRightMargin}set KeyRightMargin(t){this.keyRightMargin=t}get RhythmRightMargin(){return this.rhythmRightMargin}set RhythmRightMargin(t){this.rhythmRightMargin=t}get ShowRhythmAgainAfterPartEndOrFinalBarline(){return this.showRhythmAgainAfterPartEndOrFinalBarline}set ShowRhythmAgainAfterPartEndOrFinalBarline(t){this.showRhythmAgainAfterPartEndOrFinalBarline=t}get InStaffClefScalingFactor(){return this.inStaffClefScalingFactor}set InStaffClefScalingFactor(t){this.inStaffClefScalingFactor=t}get DistanceBetweenNaturalAndSymbolWhenCancelling(){return this.distanceBetweenNaturalAndSymbolWhenCancelling}set DistanceBetweenNaturalAndSymbolWhenCancelling(t){this.distanceBetweenNaturalAndSymbolWhenCancelling=t}get NoteHelperLinesOffset(){return this.noteHelperLinesOffset}set NoteHelperLinesOffset(t){this.noteHelperLinesOffset=t}get MeasureLeftMargin(){return this.measureLeftMargin}set MeasureLeftMargin(t){this.measureLeftMargin=t}get MeasureRightMargin(){return this.measureRightMargin}set MeasureRightMargin(t){this.measureRightMargin=t}get DistanceBetweenLastInstructionAndRepetitionBarline(){return this.distanceBetweenLastInstructionAndRepetitionBarline}set DistanceBetweenLastInstructionAndRepetitionBarline(t){this.distanceBetweenLastInstructionAndRepetitionBarline=t}get ArpeggioDistance(){return this.arpeggioDistance}set ArpeggioDistance(t){this.arpeggioDistance=t}get StaccatoShorteningFactor(){return this.staccatoShorteningFactor}set StaccatoShorteningFactor(t){this.staccatoShorteningFactor=t}get IdealStemLength(){return this.idealStemLength}set IdealStemLength(t){this.idealStemLength=t}get StemNoteHeadBorderYOffset(){return this.stemNoteHeadBorderYOffset}set StemNoteHeadBorderYOffset(t){this.stemNoteHeadBorderYOffset=t}get StemWidth(){return this.stemWidth}set StemWidth(t){this.stemWidth=t}get StemMargin(){return this.stemMargin}set StemMargin(t){this.stemMargin=t}get StemMinLength(){return this.stemMinLength}set StemMinLength(t){this.stemMinLength=t}get StemMaxLength(){return this.stemMaxLength}set StemMaxLength(t){this.stemMaxLength=t}get BeamSlopeMaxAngle(){return this.beamSlopeMaxAngle}set BeamSlopeMaxAngle(t){this.beamSlopeMaxAngle=t}get StemMinAllowedDistanceBetweenNoteHeadAndBeamLine(){return this.stemMinAllowedDistanceBetweenNoteHeadAndBeamLine}set StemMinAllowedDistanceBetweenNoteHeadAndBeamLine(t){this.stemMinAllowedDistanceBetweenNoteHeadAndBeamLine=t}get SetWantedStemDirectionByXml(){return this.setWantedStemDirectionByXml}set SetWantedStemDirectionByXml(t){this.setWantedStemDirectionByXml=t}get GraceNoteScalingFactor(){return this.graceNoteScalingFactor}set GraceNoteScalingFactor(t){this.graceNoteScalingFactor=t}get GraceNoteXOffset(){return this.graceNoteXOffset}set GraceNoteXOffset(t){this.graceNoteXOffset=t}get WedgeOpeningLength(){return this.wedgeOpeningLength}set WedgeOpeningLength(t){this.wedgeOpeningLength=t}get WedgeMeasureEndOpeningLength(){return this.wedgeMeasureEndOpeningLength}set WedgeMeasureEndOpeningLength(t){this.wedgeMeasureEndOpeningLength=t}get WedgeMeasureBeginOpeningLength(){return this.wedgeMeasureBeginOpeningLength}set WedgeMeasureBeginOpeningLength(t){this.wedgeMeasureBeginOpeningLength=t}get WedgePlacementAboveY(){return this.wedgePlacementAboveY}set WedgePlacementAboveY(t){this.wedgePlacementAboveY=t}get WedgePlacementBelowY(){return this.wedgePlacementBelowY}set WedgePlacementBelowY(t){this.wedgePlacementBelowY=t}get WedgeHorizontalMargin(){return this.wedgeHorizontalMargin}set WedgeHorizontalMargin(t){this.wedgeHorizontalMargin=t}get WedgeVerticalMargin(){return this.wedgeVerticalMargin}set WedgeVerticalMargin(t){this.wedgeVerticalMargin=t}get DistanceOffsetBetweenTwoHorizontallyCrossedWedges(){return this.distanceOffsetBetweenTwoHorizontallyCrossedWedges}set DistanceOffsetBetweenTwoHorizontallyCrossedWedges(t){this.distanceOffsetBetweenTwoHorizontallyCrossedWedges=t}get WedgeMinLength(){return this.wedgeMinLength}set WedgeMinLength(t){this.wedgeMinLength=t}get DistanceBetweenAdjacentDynamics(){return this.distanceBetweenAdjacentDynamics}set DistanceBetweenAdjacentDynamics(t){this.distanceBetweenAdjacentDynamics=t}get TempoChangeMeasureValidity(){return this.tempoChangeMeasureValidity}set TempoChangeMeasureValidity(t){this.tempoChangeMeasureValidity=t}get TempoContinousFactor(){return this.tempoContinousFactor}set TempoContinousFactor(t){this.tempoContinousFactor=t}get StaccatoScalingFactor(){return this.staccatoScalingFactor}set StaccatoScalingFactor(t){this.staccatoScalingFactor=t}get BetweenDotsDistance(){return this.betweenDotsDistance}set BetweenDotsDistance(t){this.betweenDotsDistance=t}get OrnamentAccidentalScalingFactor(){return this.ornamentAccidentalScalingFactor}set OrnamentAccidentalScalingFactor(t){this.ornamentAccidentalScalingFactor=t}get ChordSymbolTextHeight(){return this.chordSymbolTextHeight}set ChordSymbolTextHeight(t){this.chordSymbolTextHeight=t}get ChordSymbolXSpacing(){return this.chordSymbolXSpacing}set ChordSymbolXSpacing(t){this.chordSymbolXSpacing=t}get ChordSymbolYOffset(){return this.chordSymbolYOffset}set ChordSymbolYOffset(t){this.chordSymbolYOffset=t}setChordSymbolLabelText(t,e){this.chordSymbolLabelTexts.setValue(t,e)}get ChordSymbolLabelTexts(){return this.chordSymbolLabelTexts}set ChordSymbolLabelTexts(t){this.chordSymbolLabelTexts=t}get MeasureNumberLabelHeight(){return this.measureNumberLabelHeight}set MeasureNumberLabelHeight(t){this.measureNumberLabelHeight=t}get MeasureNumberLabelOffset(){return this.measureNumberLabelOffset}set MeasureNumberLabelOffset(t){this.measureNumberLabelOffset=t}get MeasureNumberLabelXOffset(){return this.measureNumberLabelXOffset}set MeasureNumberLabelXOffset(t){this.measureNumberLabelXOffset=t}get TupletsRatioed(){return this.tupletsRatioed}set TupletsRatioed(t){this.tupletsRatioed=t}get TupletsBracketed(){return this.tupletsBracketed}set TupletsBracketed(t){this.tupletsBracketed=t}get TripletsBracketed(){return this.tripletsBracketed}set TripletsBracketed(t){this.tripletsBracketed=t}get TupletNumberLabelHeight(){return this.tupletNumberLabelHeight}set TupletNumberLabelHeight(t){this.tupletNumberLabelHeight=t}get TupletNumberYOffset(){return this.tupletNumberYOffset}set TupletNumberYOffset(t){this.tupletNumberYOffset=t}get LabelMarginBorderFactor(){return this.labelMarginBorderFactor}set LabelMarginBorderFactor(t){this.labelMarginBorderFactor=t}get TupletVerticalLineLength(){return this.tupletVerticalLineLength}set TupletVerticalLineLength(t){this.tupletVerticalLineLength=t}get RepetitionEndingLabelHeight(){return this.repetitionEndingLabelHeight}set RepetitionEndingLabelHeight(t){this.repetitionEndingLabelHeight=t}get RepetitionEndingLabelXOffset(){return this.repetitionEndingLabelXOffset}set RepetitionEndingLabelXOffset(t){this.repetitionEndingLabelXOffset=t}get RepetitionEndingLabelYOffset(){return this.repetitionEndingLabelYOffset}set RepetitionEndingLabelYOffset(t){this.repetitionEndingLabelYOffset=t}get RepetitionEndingLineYLowerOffset(){return this.repetitionEndingLineYLowerOffset}set RepetitionEndingLineYLowerOffset(t){this.repetitionEndingLineYLowerOffset=t}get RepetitionEndingLineYUpperOffset(){return this.repetitionEndingLineYUpperOffset}set RepetitionEndingLineYUpperOffset(t){this.repetitionEndingLineYUpperOffset=t}get VoltaOffset(){return this.voltaOffset}set VoltaOffset(t){this.voltaOffset=t}get LyricsAlignmentStandard(){return this.lyricsAlignmentStandard}set LyricsAlignmentStandard(t){this.lyricsAlignmentStandard=t}get LyricsHeight(){return this.lyricsHeight}set LyricsHeight(t){this.lyricsHeight=t}get LyricsYOffsetToStaffHeight(){return this.lyricsYOffsetToStaffHeight}set LyricsYOffsetToStaffHeight(t){this.lyricsYOffsetToStaffHeight=t}get VerticalBetweenLyricsDistance(){return this.verticalBetweenLyricsDistance}set VerticalBetweenLyricsDistance(t){this.verticalBetweenLyricsDistance=t}get HorizontalBetweenLyricsDistance(){return this.horizontalBetweenLyricsDistance}set HorizontalBetweenLyricsDistance(t){this.horizontalBetweenLyricsDistance=t}get BetweenSyllableMaximumDistance(){return this.betweenSyllableMaximumDistance}set BetweenSyllableMaximumDistance(t){this.betweenSyllableMaximumDistance=t}get BetweenSyllableMinimumDistance(){return this.betweenSyllableMinimumDistance}set BetweenSyllableMinimumDistance(t){this.betweenSyllableMinimumDistance=t}get LyricOverlapAllowedIntoNextMeasure(){return this.lyricOverlapAllowedIntoNextMeasure}set LyricOverlapAllowedIntoNextMeasure(t){this.lyricOverlapAllowedIntoNextMeasure=t}get MinimumDistanceBetweenDashes(){return this.minimumDistanceBetweenDashes}set MinimumDistanceBetweenDashes(t){this.minimumDistanceBetweenDashes=t}get BezierCurveStepSize(){return this.bezierCurveStepSize}set BezierCurveStepSize(t){this.bezierCurveStepSize=t}get TPow3(){return this.tPower3}set TPow3(t){this.tPower3=t}get OneMinusTPow3(){return this.oneMinusTPower3}set OneMinusTPow3(t){this.oneMinusTPower3=t}get BezierFactorOne(){return this.factorOne}set BezierFactorOne(t){this.factorOne=t}get BezierFactorTwo(){return this.factorTwo}set BezierFactorTwo(t){this.factorTwo=t}get TieGhostObjectWidth(){return this.tieGhostObjectWidth}set TieGhostObjectWidth(t){this.tieGhostObjectWidth=t}get TieYPositionOffsetFactor(){return this.tieYPositionOffsetFactor}set TieYPositionOffsetFactor(t){this.tieYPositionOffsetFactor=t}get MinimumNeededXspaceForTieGhostObject(){return this.minimumNeededXspaceForTieGhostObject}set MinimumNeededXspaceForTieGhostObject(t){this.minimumNeededXspaceForTieGhostObject=t}get TieHeightMinimum(){return this.tieHeightMinimum}set TieHeightMinimum(t){this.tieHeightMinimum=t}get TieHeightMaximum(){return this.tieHeightMaximum}set TieHeightMaximum(t){this.tieHeightMaximum=t}get TieHeightInterpolationK(){return this.tieHeightInterpolationK}set TieHeightInterpolationK(t){this.tieHeightInterpolationK=t}get TieHeightInterpolationD(){return this.tieHeightInterpolationD}set TieHeightInterpolationD(t){this.tieHeightInterpolationD=t}get SlurNoteHeadYOffset(){return this.slurNoteHeadYOffset}set SlurNoteHeadYOffset(t){this.slurNoteHeadYOffset=t}get SlurStemXOffset(){return this.slurStemXOffset}set SlurStemXOffset(t){this.slurStemXOffset=t}get SlurSlopeMaxAngle(){return this.slurSlopeMaxAngle}set SlurSlopeMaxAngle(t){this.slurSlopeMaxAngle=t}get SlurTangentMinAngle(){return this.slurTangentMinAngle}set SlurTangentMinAngle(t){this.slurTangentMinAngle=t}get SlurTangentMaxAngle(){return this.slurTangentMaxAngle}set SlurTangentMaxAngle(t){this.slurTangentMaxAngle=t}get SlursStartingAtSameStaffEntryYOffset(){return this.slursStartingAtSameStaffEntryYOffset}set SlursStartingAtSameStaffEntryYOffset(t){this.slursStartingAtSameStaffEntryYOffset=t}get InstantaneousTempoTextHeight(){return this.instantaneousTempoTextHeight}set InstantaneousTempoTextHeight(t){this.instantaneousTempoTextHeight=t}get ContinuousDynamicTextHeight(){return this.continuousDynamicTextHeight}set ContinuousDynamicTextHeight(t){this.continuousDynamicTextHeight=t}get MoodTextHeight(){return this.moodTextHeight}set MoodTextHeight(t){this.moodTextHeight=t}get ContinuousTempoTextHeight(){return this.continuousTempoTextHeight}set ContinuousTempoTextHeight(t){this.continuousTempoTextHeight=t}get DynamicExpressionMaxDistance(){return this.dynamicExpressionMaxDistance}set DynamicExpressionMaxDistance(t){this.dynamicExpressionMaxDistance=t}get DynamicExpressionSpacer(){return this.dynamicExpressionSpacer}set DynamicExpressionSpacer(t){this.dynamicExpressionSpacer=t}get UnknownTextHeight(){return this.unknownTextHeight}set UnknownTextHeight(t){this.unknownTextHeight=t}get StaffLineWidth(){return this.staffLineWidth}set StaffLineWidth(t){this.staffLineWidth=t}get LedgerLineWidth(){return this.ledgerLineWidth}set LedgerLineWidth(t){this.ledgerLineWidth=t}get LedgerLineStrokeStyle(){return this.ledgerLineStrokeStyle}set LedgerLineStrokeStyle(t){this.ledgerLineStrokeStyle=t}get WedgeLineWidth(){return this.wedgeLineWidth}set WedgeLineWidth(t){this.wedgeLineWidth=t}get TupletLineWidth(){return this.tupletLineWidth}set TupletLineWidth(t){this.tupletLineWidth=t}get LyricUnderscoreLineWidth(){return this.lyricUnderscoreLineWidth}set LyricUnderscoreLineWidth(t){this.lyricUnderscoreLineWidth=t}get SystemThinLineWidth(){return this.systemThinLineWidth}set SystemThinLineWidth(t){this.systemThinLineWidth=t}get SystemBoldLineWidth(){return this.systemBoldLineWidth}set SystemBoldLineWidth(t){this.systemBoldLineWidth=t}get SystemRepetitionEndingLineWidth(){return this.systemRepetitionEndingLineWidth}set SystemRepetitionEndingLineWidth(t){this.systemRepetitionEndingLineWidth=t}get SystemDotWidth(){return this.systemDotWidth}set SystemDotWidth(t){this.systemDotWidth=t}get DistanceBetweenVerticalSystemLines(){return this.distanceBetweenVerticalSystemLines}set DistanceBetweenVerticalSystemLines(t){this.distanceBetweenVerticalSystemLines=t}get DistanceBetweenDotAndLine(){return this.distanceBetweenDotAndLine}set DistanceBetweenDotAndLine(t){this.distanceBetweenDotAndLine=t}get OctaveShiftLineWidth(){return this.octaveShiftLineWidth}set OctaveShiftLineWidth(t){this.octaveShiftLineWidth=t}get OctaveShiftVerticalLineLength(){return this.octaveShiftVerticalLineLength}set OctaveShiftVerticalLineLength(t){this.octaveShiftVerticalLineLength=t}get GraceLineWidth(){return this.graceLineWidth}set GraceLineWidth(t){this.graceLineWidth=t}get MinimumStaffLineDistance(){return this.minimumStaffLineDistance}set MinimumStaffLineDistance(t){this.minimumStaffLineDistance=t}get MinSkyBottomDistBetweenStaves(){return this.minSkyBottomDistBetweenStaves}set MinSkyBottomDistBetweenStaves(t){this.minSkyBottomDistBetweenStaves=t}get MinimumCrossedBeamDifferenceMargin(){return this.minimumCrossedBeamDifferenceMargin}set MinimumCrossedBeamDifferenceMargin(t){this.minimumCrossedBeamDifferenceMargin=t}get DisplacedNoteMargin(){return this.displacedNoteMargin}set DisplacedNoteMargin(t){this.displacedNoteMargin=t}get MinNoteDistance(){return this.minNoteDistance}set MinNoteDistance(t){this.minNoteDistance=t}get SubMeasureXSpacingThreshold(){return this.subMeasureXSpacingThreshold}set SubMeasureXSpacingThreshold(t){this.subMeasureXSpacingThreshold=t}get MeasureDynamicsMaxScalingFactor(){return this.measureDynamicsMaxScalingFactor}set MeasureDynamicsMaxScalingFactor(t){this.measureDynamicsMaxScalingFactor=t}get WholeRestXShiftVexflow(){return this.wholeRestXShiftVexflow}set WholeRestXShiftVexflow(t){this.wholeRestXShiftVexflow=t}get MetronomeMarksDrawn(){return this.metronomeMarksDrawn}set MetronomeMarksDrawn(t){this.metronomeMarksDrawn=t}get MetronomeMarkXShift(){return this.metronomeMarkXShift}set MetronomeMarkXShift(t){this.metronomeMarkXShift=t}get MetronomeMarkYShift(){return this.metronomeMarkYShift}set MetronomeMarkYShift(t){this.metronomeMarkYShift=t}get MaxInstructionsConstValue(){return this.maxInstructionsConstValue}set MaxInstructionsConstValue(t){this.maxInstructionsConstValue=t}get NoteDistances(){return this.noteDistances}set NoteDistances(t){this.noteDistances=t}get NoteDistancesScalingFactors(){return this.noteDistancesScalingFactors}set NoteDistancesScalingFactors(t){this.noteDistancesScalingFactors=t}get DurationDistanceDict(){return this.durationDistanceDict}get DurationScalingDistanceDict(){return this.durationScalingDistanceDict}get AlignRests(){return this.alignRests}set AlignRests(t){this.alignRests=t}get FillEmptyMeasuresWithWholeRest(){return this.fillEmptyMeasuresWithWholeRest}set FillEmptyMeasuresWithWholeRest(t){this.fillEmptyMeasuresWithWholeRest=t}get ArpeggiosGoAcrossVoices(){return this.arpeggiosGoAcrossVoices}set ArpeggiosGoAcrossVoices(t){this.arpeggiosGoAcrossVoices=t}get RenderArpeggios(){return this.renderArpeggios}set RenderArpeggios(t){this.renderArpeggios=t}get RenderSlurs(){return this.renderSlurs}set RenderSlurs(t){this.renderSlurs=t}get ColoringMode(){return this.coloringMode}set ColoringMode(t){this.coloringMode=t}get ColoringEnabled(){return this.coloringEnabled}set ColoringEnabled(t){this.coloringEnabled=t}get ColorStemsLikeNoteheads(){return this.colorStemsLikeNoteheads}set ColorStemsLikeNoteheads(t){this.colorStemsLikeNoteheads=t}get ColorFlags(){return this.colorFlags}set ColorFlags(t){this.colorFlags=t}get ColorBeams(){return this.colorBeams}set ColorBeams(t){this.colorBeams=t}get ColoringSetCurrent(){return this.coloringSetCustom}set ColoringSetCurrent(t){this.coloringSetCustom=t}get DefaultColorNotehead(){return this.defaultColorNotehead}set DefaultColorNotehead(t){this.defaultColorNotehead=t}get DefaultColorRest(){return this.defaultColorRest}set DefaultColorRest(t){this.defaultColorRest=t}get DefaultColorStem(){return this.defaultColorStem}set DefaultColorStem(t){this.defaultColorStem=t}get DefaultColorLabel(){return this.defaultColorLabel}set DefaultColorLabel(t){this.defaultColorLabel=t}get DefaultColorTitle(){return this.defaultColorTitle}set DefaultColorTitle(t){this.defaultColorTitle=t}get DefaultFontFamily(){return this.defaultFontFamily}set DefaultFontFamily(t){this.defaultFontFamily=t}get DefaultFontStyle(){return this.defaultFontStyle}set DefaultFontStyle(t){this.defaultFontStyle=t}get MaxMeasureToDrawIndex(){return this.maxMeasureToDrawIndex}set MaxMeasureToDrawIndex(t){this.maxMeasureToDrawIndex=t}get MinMeasureToDrawIndex(){return this.minMeasureToDrawIndex}set MinMeasureToDrawIndex(t){this.minMeasureToDrawIndex=t}get RenderComposer(){return this.renderComposer}set RenderComposer(t){this.renderComposer=t}get RenderTitle(){return this.renderTitle}set RenderTitle(t){this.renderTitle=t}get RenderSubtitle(){return this.renderSubtitle}set RenderSubtitle(t){this.renderSubtitle=t}get RenderLyricist(){return this.renderLyricist}set RenderLyricist(t){this.renderLyricist=t}get RenderPartNames(){return this.renderPartNames}set RenderPartNames(t){this.renderPartNames=t,this.renderPartNames||(this.renderPartAbbreviations=!1)}get RenderPartAbbreviations(){return this.renderPartAbbreviations}set RenderPartAbbreviations(t){this.renderPartAbbreviations=t}get RenderFingerings(){return this.renderFingerings}set RenderFingerings(t){this.renderFingerings=t}get RenderMeasureNumbers(){return this.renderMeasureNumbers}set RenderMeasureNumbers(t){this.renderMeasureNumbers=t}get RenderLyrics(){return this.renderLyrics}set RenderLyrics(t){this.renderLyrics=t}get FingeringPosition(){return this.fingeringPosition}set FingeringPosition(t){this.fingeringPosition=t}get FingeringInsideStafflines(){return this.fingeringInsideStafflines}set FingeringInsideStafflines(t){this.fingeringInsideStafflines=t}get FingeringLabelFontHeight(){return this.fingeringLabelFontHeight}set FingeringLabelFontHeight(t){this.fingeringLabelFontHeight=t}get FingeringOffsetX(){return this.fingeringOffsetX}set FingeringOffsetX(t){this.fingeringOffsetX=t}get NewSystemAtXMLNewSystemAttribute(){return this.newSystemAtXMLNewSystemAttribute}set NewSystemAtXMLNewSystemAttribute(t){this.newSystemAtXMLNewSystemAttribute=t}get NewPageAtXMLNewPageAttribute(){return this.newPageAtXMLNewPageAttribute}set NewPageAtXMLNewPageAttribute(t){this.newPageAtXMLNewPageAttribute=t}get PageFormat(){return this.pageFormat}set PageFormat(t){this.pageFormat=t}get PageBackgroundColor(){return this.pageBackgroundColor}set PageBackgroundColor(t){this.pageBackgroundColor=t}get RenderSingleHorizontalStaffline(){return this.renderSingleHorizontalStaffline}set RenderSingleHorizontalStaffline(t){this.renderSingleHorizontalStaffline=t}get RestoreCursorAfterRerender(){return this.restoreCursorAfterRerender}set RestoreCursorAfterRerender(t){this.restoreCursorAfterRerender=t}resetChordSymbolLabelTexts(t){return t.setValue(d.ChordSymbolEnum.minor,\"m\"),t.setValue(d.ChordSymbolEnum.augmented,\"aug\"),t.setValue(d.ChordSymbolEnum.diminished,\"dim\"),t.setValue(d.ChordSymbolEnum.dominant,\"7\"),t.setValue(d.ChordSymbolEnum.majorseventh,\"maj7\"),t.setValue(d.ChordSymbolEnum.minorseventh,\"m7\"),t.setValue(d.ChordSymbolEnum.diminishedseventh,\"dim7\"),t.setValue(d.ChordSymbolEnum.augmentedseventh,\"aug7\"),t.setValue(d.ChordSymbolEnum.halfdiminished,\"m7b5\"),t.setValue(d.ChordSymbolEnum.majorminor,\"m(maj7)\"),t.setValue(d.ChordSymbolEnum.majorsixth,\"maj6\"),t.setValue(d.ChordSymbolEnum.minorsixth,\"m6\"),t.setValue(d.ChordSymbolEnum.dominantninth,\"9\"),t.setValue(d.ChordSymbolEnum.majorninth,\"maj9\"),t.setValue(d.ChordSymbolEnum.minorninth,\"m9\"),t.setValue(d.ChordSymbolEnum.dominant11th,\"11\"),t.setValue(d.ChordSymbolEnum.major11th,\"maj11\"),t.setValue(d.ChordSymbolEnum.minor11th,\"m11\"),t.setValue(d.ChordSymbolEnum.dominant13th,\"13\"),t.setValue(d.ChordSymbolEnum.major13th,\"maj13\"),t.setValue(d.ChordSymbolEnum.minor13th,\"m13\"),t.setValue(d.ChordSymbolEnum.suspendedsecond,\"sus2\"),t.setValue(d.ChordSymbolEnum.suspendedfourth,\"sus4\"),t.setValue(d.ChordSymbolEnum.power,\"5\"),t}populateDictionaries(){for(let t=0;t<this.noteDistances.length;t++)switch(t){case 0:this.durationDistanceDict[.015625]=this.noteDistances[t],this.durationScalingDistanceDict[.015625]=this.noteDistancesScalingFactors[t];break;case 1:this.durationDistanceDict[.03125]=this.noteDistances[t],this.durationScalingDistanceDict[.03125]=this.noteDistancesScalingFactors[t];break;case 2:this.durationDistanceDict[.0625]=this.noteDistances[t],this.durationScalingDistanceDict[.0625]=this.noteDistancesScalingFactors[t];break;case 3:this.durationDistanceDict[.125]=this.noteDistances[t],this.durationScalingDistanceDict[.125]=this.noteDistancesScalingFactors[t];break;case 4:this.durationDistanceDict[.25]=this.noteDistances[t],this.durationScalingDistanceDict[.25]=this.noteDistancesScalingFactors[t];break;case 5:this.durationDistanceDict[.5]=this.noteDistances[t],this.durationScalingDistanceDict[.5]=this.noteDistancesScalingFactors[t];break;case 6:this.durationDistanceDict[1]=this.noteDistances[t],this.durationScalingDistanceDict[1]=this.noteDistancesScalingFactors[t];break;case 7:this.durationDistanceDict[2]=this.noteDistances[t],this.durationScalingDistanceDict[2]=this.noteDistancesScalingFactors[t]}}calculateCurveParametersArrays(){this.tPower3=new Array(this.bezierCurveStepSize),this.oneMinusTPower3=new Array(this.bezierCurveStepSize),this.factorOne=new Array(this.bezierCurveStepSize),this.factorTwo=new Array(this.bezierCurveStepSize);for(let t=0;t<this.bezierCurveStepSize;t++){const e=t/this.bezierCurveStepSize;this.tPower3[t]=Math.pow(e,3),this.oneMinusTPower3[t]=Math.pow(1-e,3),this.factorOne[t]=3*Math.pow(1-e,2)*e,this.factorTwo[t]=3*(1-e)*Math.pow(e,2)}}}e.EngravingRules=f,f.unit=1;class m{constructor(t,e,i=\"noIdStringGiven\"){this.width=t,this.height=e,this.idString=i}get aspectRatio(){return this.IsUndefined?0:this.width/this.height}get IsUndefined(){return void 0===this.width||void 0===this.height||0===this.height||0===this.width}static get UndefinedPageFormat(){return new m(0,0)}Equals(t){return!!t&&(t.width===this.width&&t.height===this.height)}}e.PageFormat=m},function(t,e,i){\"use strict\";Object.defineProperty(e,\"__esModule\",{value:!0});const s=i(0);e.Note=class{constructor(t,e,i,s){this.slurs=[],this.playbackInstrumentId=void 0,this.notehead=void 0,this.printObject=!0,this.voiceEntry=t,this.parentStaffEntry=e,this.length=i,this.pitch=s,this.halfTone=s?s.getHalfTone():0}get ParentVoiceEntry(){return this.voiceEntry}set ParentVoiceEntry(t){this.voiceEntry=t}get ParentStaffEntry(){return this.parentStaffEntry}get ParentStaff(){return this.parentStaffEntry.ParentStaff}get Length(){return this.length}set Length(t){this.length=t}get TypeLength(){return this.typeLength}set TypeLength(t){this.typeLength=t}get NoteTypeXml(){return this.noteTypeXml}set NoteTypeXml(t){this.noteTypeXml=t}get NormalNotes(){return this.normalNotes}set NormalNotes(t){this.normalNotes=t}get Pitch(){return this.pitch}get NoteBeam(){return this.beam}set NoteBeam(t){this.beam=t}set Notehead(t){this.notehead=t}get Notehead(){return this.notehead}get NoteTuplet(){return this.tuplet}set NoteTuplet(t){this.tuplet=t}get NoteTie(){return this.tie}set NoteTie(t){this.tie=t}get NoteSlurs(){return this.slurs}set NoteSlurs(t){this.slurs=t}get PlaybackInstrumentId(){return this.playbackInstrumentId}set PlaybackInstrumentId(t){this.playbackInstrumentId=t}get PrintObject(){return this.printObject}set PrintObject(t){this.printObject=t}get Arpeggio(){return this.arpeggio}set Arpeggio(t){this.arpeggio=t}get IsCueNote(){return this.isCueNote}set IsCueNote(t){this.isCueNote=t}get StemDirectionXml(){return this.stemDirectionXml}set StemDirectionXml(t){this.stemDirectionXml=t}get TremoloStrokes(){return this.tremoloStrokes}set TremoloStrokes(t){this.tremoloStrokes=t}get StemColorXml(){return this.stemColorXml}set StemColorXml(t){this.stemColorXml=t}get NoteheadColorXml(){return this.noteheadColorXml}set NoteheadColorXml(t){this.noteheadColorXml=t}get NoteheadColor(){return this.noteheadColor}set NoteheadColor(t){this.noteheadColor=t}get NoteheadColorCurrentlyRendered(){return this.noteheadColorCurrentlyRendered}set NoteheadColorCurrentlyRendered(t){this.noteheadColorCurrentlyRendered=t}isRest(){return void 0===this.Pitch||null===this.Pitch}isWholeRest(){return this.isRest()&&this.Length.RealValue===this.ParentStaffEntry.VerticalContainerParent.ParentMeasure.ActiveTimeSignature.RealValue}ToString(){return this.pitch?this.Pitch.ToString()+\", length: \"+this.length.toString():\"rest note, length: \"+this.length.toString()}getAbsoluteTimestamp(){return s.Fraction.plus(this.voiceEntry.Timestamp,this.parentStaffEntry.VerticalContainerParent.ParentMeasure.AbsoluteTimestamp)}checkForDoubleSlur(t){for(let e=0,i=this.slurs.length;e<i;++e){const i=this.slurs[e];if(void 0!==i.StartNote&&void 0!==i.EndNote&&void 0!==t.StartNote&&t.StartNote===i.StartNote&&i.EndNote===this)return!0}return!1}},function(t){t[t.Normal=0]=\"Normal\",t[t.Grace=1]=\"Grace\",t[t.Cue=2]=\"Cue\"}(e.Appearance||(e.Appearance={}))},function(t,e,i){\"use strict\";Object.defineProperty(e,\"__esModule\",{value:!0});const s=i(2);var n;e.OctaveShift=class{constructor(t,e){this.setOctaveShiftValue(t,e)}get Type(){return this.octaveValue}set Type(t){this.octaveValue=t}get StaffNumber(){return this.staffNumber}set StaffNumber(t){this.staffNumber=t}get ParentStartMultiExpression(){return this.startMultiExpression}set ParentStartMultiExpression(t){this.startMultiExpression=t}get ParentEndMultiExpression(){return this.endMultiExpression}set ParentEndMultiExpression(t){this.endMultiExpression=t}setOctaveShiftValue(t,e){this.octaveValue=1===e&&\"down\"===t?n.VA8:1===e&&\"up\"===t?n.VB8:2===e&&\"down\"===t?n.MA15:2===e&&\"up\"===t?n.MB15:n.NONE}static getPitchFromOctaveShift(t,e){let i=t.Octave;switch(e){case n.VA8:i-=1;break;case n.VB8:i+=1;break;case n.MA15:i-=2;break;case n.MB15:i+=2;break;case n.NONE:default:i+=0}return new s.Pitch(t.FundamentalNote,i,t.Accidental)}},function(t){t[t.VA8=0]=\"VA8\",t[t.VB8=1]=\"VB8\",t[t.MA15=2]=\"MA15\",t[t.MB15=3]=\"MB15\",t[t.NONE=4]=\"NONE\"}(n=e.OctaveEnum||(e.OctaveEnum={}))},function(t,e,i){\"use strict\";var s;Object.defineProperty(e,\"__esModule\",{value:!0}),function(t){t[t.SingleThin=0]=\"SingleThin\",t[t.DoubleThin=1]=\"DoubleThin\",t[t.ThinBold=2]=\"ThinBold\",t[t.BoldThinDots=3]=\"BoldThinDots\",t[t.DotsThinBold=4]=\"DotsThinBold\",t[t.DotsBoldBoldDots=5]=\"DotsBoldBoldDots\",t[t.None=6]=\"None\",t[t.Dotted=7]=\"Dotted\",t[t.Dashed=8]=\"Dashed\",t[t.Bold=9]=\"Bold\",t[t.BoldThin=10]=\"BoldThin\",t[t.DoubleBold=11]=\"DoubleBold\",t[t.Tick=12]=\"Tick\",t[t.Short=13]=\"Short\"}(s=e.SystemLinesEnum||(e.SystemLinesEnum={}));e.SystemLinesEnumHelper=class{static xmlBarlineStyleToSystemLinesEnum(t){return\"regular\"===t?s.SingleThin:\"dotted\"===t?s.Dotted:\"dashed\"===t?s.Dashed:\"heavy\"===t?s.Bold:\"light-light\"===t?s.DoubleThin:\"light-heavy\"===t?s.ThinBold:\"heavy-light\"===t?s.BoldThin:\"heavy-heavy\"===t?s.DoubleBold:\"tick\"===t?s.Tick:\"short\"===t?s.Short:\"none\"===t?s.None:s.SingleThin}}},function(t,e,i){\"use strict\";Object.defineProperty(e,\"__esModule\",{value:!0});const s=i(6),n=i(0);class r extends s.AbstractExpression{constructor(t,e,i,s,n=\"\"){super(e),super.parentMeasure=s,this.dynamicType=t,this.label=n,this.staffNumber=i,this.startVolume=-1,this.endVolume=-1,\"\"!==n&&this.setType()}get DynamicType(){return this.dynamicType}set DynamicType(t){this.dynamicType=t}get StartMultiExpression(){return this.startMultiExpression}set StartMultiExpression(t){this.startMultiExpression=t}get EndMultiExpression(){return this.endMultiExpression}set EndMultiExpression(t){this.endMultiExpression=t}get Placement(){return this.placement}set Placement(t){this.placement=t}get StartVolume(){return this.startVolume}set StartVolume(t){this.startVolume=t}get EndVolume(){return this.endVolume}set EndVolume(t){this.endVolume=t}get StaffNumber(){return this.staffNumber}set StaffNumber(t){this.staffNumber=t}get Label(){return this.label}set Label(t){this.label=t,this.setType()}static isInputStringContinuousDynamic(t){return!!t&&(r.isStringInStringList(r.listContinuousDynamicIncreasing,t)||r.isStringInStringList(r.listContinuousDynamicDecreasing,t))}getInterpolatedDynamic(t){const e=this.StartMultiExpression.AbsoluteTimestamp;let i;if(i=this.EndMultiExpression?this.EndMultiExpression.AbsoluteTimestamp:n.Fraction.plus(this.startMultiExpression.SourceMeasureParent.AbsoluteTimestamp,this.startMultiExpression.SourceMeasureParent.Duration),t.lt(e))return-1;if(i.lt(t))return-2;const s=n.Fraction.minus(t,e).RealValue/n.Fraction.minus(i,e).RealValue;return Math.max(0,Math.min(99.9,this.startVolume+(this.endVolume-this.startVolume)*s))}isWedge(){return!this.label}setType(){r.isStringInStringList(r.listContinuousDynamicIncreasing,this.label)?this.dynamicType=o.crescendo:r.isStringInStringList(r.listContinuousDynamicDecreasing,this.label)&&(this.dynamicType=o.diminuendo)}}var o;e.ContinuousDynamicExpression=r,r.listContinuousDynamicIncreasing=[\"crescendo\",\"cresc\",\"cresc.\",\"cres.\"],r.listContinuousDynamicDecreasing=[\"decrescendo\",\"decresc\",\"decr.\",\"diminuendo\",\"dim.\",\"dim\"],function(t){t[t.crescendo=0]=\"crescendo\",t[t.diminuendo=1]=\"diminuendo\"}(o=e.ContDynamicEnum||(e.ContDynamicEnum={}))},function(t,e,i){\"use strict\";function s(t){for(var i in t)e.hasOwnProperty(i)||(e[i]=t[i])}Object.defineProperty(e,\"__esModule\",{value:!0}),s(i(78)),s(i(79)),s(i(41)),s(i(156))},function(t,e,i){\"use strict\";Object.defineProperty(e,\"__esModule\",{value:!0});var s=i(9);function n(t,e,i){for(var n=i||s.defaultEquals,r=t.length,o=0;o<r;o++)if(n(t[o],e))return o;return-1}e.indexOf=n,e.lastIndexOf=function(t,e,i){for(var n=i||s.defaultEquals,r=t.length-1;r>=0;r--)if(n(t[r],e))return r;return-1},e.contains=function(t,e,i){return n(t,e,i)>=0},e.remove=function(t,e,i){var s=n(t,e,i);return!(s<0)&&(t.splice(s,1),!0)},e.frequency=function(t,e,i){for(var n=i||s.defaultEquals,r=t.length,o=0,a=0;a<r;a++)n(t[a],e)&&o++;return o},e.equals=function(t,e,i){var n=i||s.defaultEquals;if(t.length!==e.length)return!1;for(var r=t.length,o=0;o<r;o++)if(!n(t[o],e[o]))return!1;return!0},e.copy=function(t){return t.concat()},e.swap=function(t,e,i){if(e<0||e>=t.length||i<0||i>=t.length)return!1;var s=t[e];return t[e]=t[i],t[i]=s,!0},e.toString=function(t){return\"[\"+t.toString()+\"]\"},e.forEach=function(t,e){for(var i=0,s=t;i<s.length;i++){if(!1===e(s[i]))return}}},function(t,e,i){\"use strict\";Object.defineProperty(e,\"__esModule\",{value:!0}),function(t){t[t.MeasureBegin=0]=\"MeasureBegin\",t[t.MeasureEnd=1]=\"MeasureEnd\"}(e.SystemLinePosition||(e.SystemLinePosition={}))},function(t,e,i){\"use strict\";Object.defineProperty(e,\"__esModule\",{value:!0});const s=i(47);class n extends s.Voice{constructor(t,e,i){super(t,e),this.master=i}get Master(){return this.master}}e.LinkedVoice=n},function(t,e,i){\"use strict\";Object.defineProperty(e,\"__esModule\",{value:!0});const s=i(5),n=i(3);class r extends s.GraphicalObject{constructor(t,e,i){super(),this.expression=e,this.parentMeasure=i,this.boundingBox=new n.BoundingBox(this,t.PositionAndShape),this.parentStaffLine=t,this.parentStaffLine.AbstractExpressions.push(this),this.rules=t.ParentMusicSystem.rules}get Label(){return this.label}get ParentStaffLine(){return this.parentStaffLine}get SourceExpression(){return this.expression}get Placement(){return this.expression.Placement}}e.AbstractGraphicalExpression=r},function(t,e,i){\"use strict\";function s(t){for(var i in t)e.hasOwnProperty(i)||(e[i]=t[i])}Object.defineProperty(e,\"__esModule\",{value:!0}),s(i(103)),s(i(104)),s(i(44)),s(i(37)),s(i(30)),s(i(62)),s(i(105)),s(i(46)),s(i(66)),s(i(25)),s(i(99)),s(i(126)),s(i(75)),s(i(127)),s(i(48)),s(i(47)),s(i(16)),s(i(168)),s(i(30)),s(i(105)),s(i(66)),s(i(25)),s(i(48)),s(i(75))},function(t,e){var i;i=function(){return this}();try{i=i||new Function(\"return this\")()}catch(t){\"object\"==typeof window&&(i=window)}t.exports=i},function(t,e,i){\"use strict\";Object.defineProperty(e,\"__esModule\",{value:!0});const s=i(28);var n;!function(t){t[t.Never=0]=\"Never\",t[t.Always=1]=\"Always\",t[t.Auto=2]=\"Auto\"}(e.AlignRestOption||(e.AlignRestOption={})),function(t){t[t.No=0]=\"No\",t[t.YesVisible=1]=\"YesVisible\",t[t.YesInvisible=2]=\"YesInvisible\"}(e.FillEmptyMeasuresWithWholeRests||(e.FillEmptyMeasuresWithWholeRests={})),function(t){t[t.SVG=0]=\"SVG\",t[t.Canvas=1]=\"Canvas\"}(n=e.BackendType||(e.BackendType={}));e.OSMDOptions=class{static OSMDOptionsStandard(){return{autoResize:!0,backend:\"svg\",drawingParameters:s.DrawingParametersEnum.default}}static BackendTypeFromString(t){return t&&\"canvas\"===t.toLowerCase()?n.Canvas:n.SVG}}},function(t,e,i){\"use strict\";Object.defineProperty(e,\"__esModule\",{value:!0});const s=i(3),n=i(5),r=i(4);class o extends n.GraphicalObject{constructor(t){super(),this.musicSystems=[],this.labels=[],this.parent=t,this.boundingBox=new s.BoundingBox(this,void 0)}get MusicSystems(){return this.musicSystems}set MusicSystems(t){this.musicSystems=t}get Labels(){return this.labels}set Labels(t){this.labels=t}get Parent(){return this.parent}set Parent(t){this.parent=t}get PageNumber(){return this.pageNumber}set PageNumber(t){this.pageNumber=t}setMusicPageAbsolutePosition(t,e){return new r.PointF2D(0,0)}}e.GraphicalMusicPage=o,function(t){t[t.Down=0]=\"Down\",t[t.Right=1]=\"Right\",t[t.RightDown=2]=\"RightDown\"}(e.PagePlacementEnum||(e.PagePlacementEnum={}))},function(t,e,i){\"use strict\";Object.defineProperty(e,\"__esModule\",{value:!0});var s=i(35);e.arrays=s;var n=i(149);e.Bag=n.default;var r=i(150);e.BSTree=r.default;var o=i(82);e.BSTreeKV=o.default;var a=i(12);e.Dictionary=a.default;var h=i(84);e.Heap=h.default;var l=i(151);e.LinkedDictionary=l.default;var c=i(54);e.LinkedList=c.default;var u=i(152);e.MultiDictionary=u.default;var d=i(85);e.FactoryDictionary=d.default;var f=i(85);e.DefaultDictionary=f.default;var m=i(83);e.Queue=m.default;var p=i(153);e.PriorityQueue=p.default;var g=i(81);e.Set=g.default;var b=i(154);e.Stack=b.default;var S=i(155);e.MultiRootTree=S.default;var y=i(9);e.util=y},function(t,e,i){\"use strict\";Object.defineProperty(e,\"__esModule\",{value:!0});const s=i(2),n=i(14),r=i(2);e.ChordSymbolContainer=class{constructor(t,e,i,s,n){this.rootPitch=t,this.chordKind=e,this.bassPitch=i,this.degree=s,this.rules=n}get RootPitch(){return this.rootPitch}get ChordKind(){return this.chordKind}get BassPitch(){return this.bassPitch}get ChordDegree(){return this.degree}static calculateChordText(t,e,i){let a=t.RootPitch;n.MusicSheetCalculator.transposeCalculator&&(a=n.MusicSheetCalculator.transposeCalculator.transposePitch(t.RootPitch,i,e));let h=s.Pitch.getNoteEnumString(a.FundamentalNote);if(a.Accidental!==r.AccidentalEnum.NONE&&(h+=this.getTextForAccidental(a.Accidental)),h+=t.getTextFromChordKindEnum(t.ChordKind),t.ChordDegree)switch(t.ChordDegree.text){case o.add:h+=\"add\",h+=t.ChordDegree.value.toString();break;case o.alter:t.ChordDegree.alteration!==r.AccidentalEnum.NONE&&(h+=this.getTextForAccidental(t.ChordDegree.alteration)),h+=t.ChordDegree.value.toString();break;case o.subtract:h+=\"(omit\",h+=t.ChordDegree.value.toString(),h+=\")\"}if(t.BassPitch){let r=t.BassPitch;n.MusicSheetCalculator.transposeCalculator&&(r=n.MusicSheetCalculator.transposeCalculator.transposePitch(t.BassPitch,i,e)),h+=\"/\",h+=s.Pitch.getNoteEnumString(r.FundamentalNote),h+=this.getTextForAccidental(r.Accidental)}return h}static getTextForAccidental(t){let e=\"\";switch(t){case r.AccidentalEnum.DOUBLEFLAT:e+=\"bb\";break;case r.AccidentalEnum.FLAT:e+=\"b\";break;case r.AccidentalEnum.SHARP:e+=\"#\";break;case r.AccidentalEnum.DOUBLESHARP:e+=\"x\"}return e}getTextFromChordKindEnum(t){var e;return null!==(e=this.rules.ChordSymbolLabelTexts.getValue(t))&&void 0!==e?e:\"\"}};var o;e.Degree=class{constructor(t,e,i){this.value=t,this.alteration=e,this.text=i}},function(t){t[t.add=0]=\"add\",t[t.alter=1]=\"alter\",t[t.subtract=2]=\"subtract\"}(o=e.ChordDegreeText||(e.ChordDegreeText={})),function(t){t[t.major=0]=\"major\",t[t.minor=1]=\"minor\",t[t.augmented=2]=\"augmented\",t[t.diminished=3]=\"diminished\",t[t.dominant=4]=\"dominant\",t[t.majorseventh=5]=\"majorseventh\",t[t.minorseventh=6]=\"minorseventh\",t[t.diminishedseventh=7]=\"diminishedseventh\",t[t.augmentedseventh=8]=\"augmentedseventh\",t[t.halfdiminished=9]=\"halfdiminished\",t[t.majorminor=10]=\"majorminor\",t[t.majorsixth=11]=\"majorsixth\",t[t.minorsixth=12]=\"minorsixth\",t[t.dominantninth=13]=\"dominantninth\",t[t.majorninth=14]=\"majorninth\",t[t.minorninth=15]=\"minorninth\",t[t.dominant11th=16]=\"dominant11th\",t[t.major11th=17]=\"major11th\",t[t.minor11th=18]=\"minor11th\",t[t.dominant13th=19]=\"dominant13th\",t[t.major13th=20]=\"major13th\",t[t.minor13th=21]=\"minor13th\",t[t.suspendedsecond=22]=\"suspendedsecond\",t[t.suspendedfourth=23]=\"suspendedfourth\",t[t.Neapolitan=24]=\"Neapolitan\",t[t.Italian=25]=\"Italian\",t[t.French=26]=\"French\",t[t.German=27]=\"German\",t[t.pedal=28]=\"pedal\",t[t.power=29]=\"power\",t[t.Tristan=30]=\"Tristan\"}(e.ChordSymbolEnum||(e.ChordSymbolEnum={}))},function(t,e,i){\"use strict\";Object.defineProperty(e,\"__esModule\",{value:!0});e.AbstractNotationInstruction=class{constructor(t){this.printObject=!0,this.parent=t}get Parent(){return this.parent}set Parent(t){this.parent=t}get PrintObject(){return this.printObject}set PrintObject(t){this.printObject=t}}},function(t,e,i){\"use strict\";Object.defineProperty(e,\"__esModule\",{value:!0});const s=i(2);e.OrnamentContainer=class{constructor(t){this.accidentalAbove=s.AccidentalEnum.NONE,this.accidentalBelow=s.AccidentalEnum.NONE,this.ornament=t}get GetOrnament(){return this.ornament}get AccidentalAbove(){return this.accidentalAbove}set AccidentalAbove(t){this.accidentalAbove=t}get AccidentalBelow(){return this.accidentalBelow}set AccidentalBelow(t){this.accidentalBelow=t}},function(t){t[t.Trill=0]=\"Trill\",t[t.Turn=1]=\"Turn\",t[t.InvertedTurn=2]=\"InvertedTurn\",t[t.DelayedTurn=3]=\"DelayedTurn\",t[t.DelayedInvertedTurn=4]=\"DelayedInvertedTurn\",t[t.Mordent=5]=\"Mordent\",t[t.InvertedMordent=6]=\"InvertedMordent\"}(e.OrnamentEnum||(e.OrnamentEnum={}))},function(t,e,i){\"use strict\";Object.defineProperty(e,\"__esModule\",{value:!0});e.Voice=class{constructor(t,e){this.voiceEntries=[],this.volume=1,this.parent=t,this.visible=!0,this.audible=!0,this.following=!0,this.voiceId=e}get VoiceEntries(){return this.voiceEntries}get Parent(){return this.parent}get Visible(){return this.visible}set Visible(t){this.visible=t}get Audible(){return this.audible}set Audible(t){this.audible=t}get Following(){return this.following}set Following(t){this.following=t}get VoiceId(){return this.voiceId}get Volume(){return this.volume}set Volume(t){this.volume=t}}},function(t,e,i){\"use strict\";Object.defineProperty(e,\"__esModule\",{value:!0});const s=i(0);e.VerticalSourceStaffEntryContainer=class{constructor(t,e,i){this.staffEntries=[],this.comments=[],this.timestamp=e,this.staffEntries=new Array(i),this.parentMeasure=t}$get$(t){return this.staffEntries[t]}$set$(t,e){this.staffEntries[t]=e}get Timestamp(){return this.timestamp}set Timestamp(t){this.timestamp=t}get StaffEntries(){return this.staffEntries}set StaffEntries(t){this.staffEntries=t}get Comments(){return this.comments}set Comments(t){this.comments=t}get ParentMeasure(){return this.parentMeasure}set ParentMeasure(t){this.parentMeasure=t}getAbsoluteTimestamp(){return s.Fraction.plus(this.timestamp,this.parentMeasure.AbsoluteTimestamp)}}},function(t,e,i){\"use strict\";var s=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,\"__esModule\",{value:!0});const n=i(20),r=i(33),o=i(4),a=i(38),h=i(6),l=s(i(1));class c extends a.AbstractGraphicalExpression{constructor(t,e,i){super(e,t,i),this.lines=[],this.isSplittedPart=!1,this.notToBeRemoved=!1}get StartMeasure(){return this.startMeasure}set StartMeasure(t){this.startMeasure=t}get EndMeasure(){return this.endMeasure}set EndMeasure(t){this.endMeasure=t}get EndStaffLine(){return this.endMeasure?this.endMeasure.ParentStaffLine:void 0}get IsSplittedPart(){return this.isSplittedPart}set IsSplittedPart(t){this.isSplittedPart=t}get IsVerbal(){return this.ContinuousDynamic.Label&&this.ContinuousDynamic.Label.length>0}get NotToBeRemoved(){return this.notToBeRemoved}set NotToBeRemoved(t){this.notToBeRemoved=t}get Lines(){return this.lines}get ContinuousDynamic(){return this.SourceExpression}updateSkyBottomLine(){var t;const e=this.parentStaffLine.SkyBottomLineCalculator,i=this.IsVerbal?this.label.PositionAndShape.RelativePosition.x+this.label.PositionAndShape.BorderMarginLeft:0,s=this.IsVerbal?this.label.PositionAndShape.RelativePosition.x+this.label.PositionAndShape.BorderMarginRight:0;switch(!this.IsVerbal&&this.lines.length<2&&l.default.warn(\"Not enough lines for SkyBottomLine calculation\"),this.IsVerbal||this.ContinuousDynamic.DynamicType!==r.ContDynamicEnum.crescendo&&this.ContinuousDynamic.DynamicType!==r.ContDynamicEnum.diminuendo&&l.default.warn(\"GraphicalContinuousDynamicExpression.updateSkyBottomLine(): unhandled continuous dynamic type. start measure: \"+(null===(t=this.startMeasure)||void 0===t?void 0:t.MeasureNumber)),this.Placement){case h.PlacementEnum.Above:if(this.IsVerbal){const t=this.label.PositionAndShape.BorderMarginTop+this.label.PositionAndShape.RelativePosition.y;e.updateSkyLineInRange(i,s,t)}else this.ContinuousDynamic.DynamicType===r.ContDynamicEnum.crescendo?e.updateSkyLineWithWedge(this.lines[0].Start,this.lines[0].End):this.ContinuousDynamic.DynamicType===r.ContDynamicEnum.diminuendo&&e.updateSkyLineWithWedge(this.lines[0].End,this.lines[0].Start);break;case h.PlacementEnum.Below:if(this.IsVerbal){const t=this.label.PositionAndShape.BorderMarginBottom+this.label.PositionAndShape.RelativePosition.y;e.updateBottomLineInRange(i,s,t)}else this.ContinuousDynamic.DynamicType===r.ContDynamicEnum.crescendo?e.updateBottomLineWithWedge(this.lines[1].Start,this.lines[1].End):this.ContinuousDynamic.DynamicType===r.ContDynamicEnum.diminuendo&&e.updateBottomLineWithWedge(this.lines[1].End,this.lines[1].Start);break;default:l.default.error(\"Placement for GraphicalContinuousDynamicExpression is unknown\")}}createCrescendoLines(t,e,i,s=this.rules.WedgeOpeningLength,n=this.rules.WedgeLineWidth){const r=new o.PointF2D(t,i),a=new o.PointF2D(e,i-s/2),h=new o.PointF2D(e,i+s/2);this.addWedgeLines(r,a,h,n)}createFirstHalfCrescendoLines(t,e,i,s=this.rules.WedgeMeasureEndOpeningLength,n=this.rules.WedgeLineWidth){const r=new o.PointF2D(t,i),a=new o.PointF2D(e,i-s/2),h=new o.PointF2D(e,i+s/2);this.addWedgeLines(r,a,h,n)}createSecondHalfCrescendoLines(t,e,i,s=this.rules.WedgeMeasureBeginOpeningLength,n=this.rules.WedgeOpeningLength,r=this.rules.WedgeLineWidth){const a=new o.PointF2D(t,i-s/2),h=new o.PointF2D(t,i+s/2),l=new o.PointF2D(e,i-n/2),c=new o.PointF2D(e,i+n/2);this.addDoubleLines(a,l,h,c,r)}recalculateCrescendoLines(t,e,i){const s=Math.abs(this.lines[0].Start.y-this.lines[1].Start.y)>1e-4;this.lines.clear(),s?this.createSecondHalfCrescendoLines(t,e,i):this.isSplittedPart?this.createFirstHalfCrescendoLines(t,e,i):this.createCrescendoLines(t,e,i)}createDiminuendoLines(t,e,i,s=this.rules.WedgeOpeningLength,n=this.rules.WedgeLineWidth){const r=new o.PointF2D(t,i-s/2),a=new o.PointF2D(t,i+s/2),h=new o.PointF2D(e,i);this.addWedgeLines(h,r,a,n)}createFirstHalfDiminuendoLines(t,e,i,s=this.rules.WedgeOpeningLength,n=this.rules.WedgeMeasureEndOpeningLength,r=this.rules.WedgeLineWidth){const a=new o.PointF2D(t,i-s/2),h=new o.PointF2D(t,i+s/2),l=new o.PointF2D(e,i-n/2),c=new o.PointF2D(e,i+n/2);this.addDoubleLines(a,l,h,c,r)}createSecondHalfDiminuendoLines(t,e,i,s=this.rules.WedgeMeasureBeginOpeningLength,n=this.rules.WedgeLineWidth){const r=new o.PointF2D(t,i-s/2),a=new o.PointF2D(t,i+s/2),h=new o.PointF2D(e,i);this.addWedgeLines(h,r,a,n)}recalculateDiminuendoLines(t,e,i){const s=Math.abs(this.lines[0].End.y-this.lines[1].End.y)>1e-4;this.lines.clear(),s?this.createFirstHalfDiminuendoLines(t,e,i):this.isSplittedPart?this.createSecondHalfDiminuendoLines(t,e,i):this.createDiminuendoLines(t,e,i)}calcPsi(){this.IsVerbal?this.PositionAndShape.calculateBoundingBox():(this.PositionAndShape.RelativePosition=this.lines[0].Start,this.PositionAndShape.BorderMarginTop=this.lines[0].End.y-this.lines[0].Start.y,this.PositionAndShape.BorderMarginBottom=this.lines[1].End.y-this.lines[1].Start.y,this.PositionAndShape.Center.y=(this.PositionAndShape.BorderMarginTop+this.PositionAndShape.BorderMarginBottom)/2,this.ContinuousDynamic.DynamicType===r.ContDynamicEnum.crescendo?(this.PositionAndShape.BorderMarginLeft=0,this.PositionAndShape.BorderMarginRight=this.lines[0].End.x-this.lines[0].Start.x):(this.PositionAndShape.BorderMarginLeft=this.lines[0].End.x-this.lines[0].Start.x,this.PositionAndShape.BorderMarginRight=0))}cleanUp(){this.lines.clear()}shiftYPosition(t){this.IsVerbal?(this.PositionAndShape.RelativePosition.y+=t,this.PositionAndShape.calculateBoundingBox()):(this.lines[0].Start.y+=t,this.lines[0].End.y+=t,this.lines[1].End.y+=t)}squeeze(t){if(this.IsVerbal)return;Math.abs(this.lines[0].End.x-this.lines[0].Start.x)<Math.abs(t)||(this.ContinuousDynamic.DynamicType===r.ContDynamicEnum.crescendo?t>0?this.lines[0].Start.x+=t:(this.lines[0].End.x+=t,this.lines[1].End.x+=t):t<0?this.lines[0].Start.x+=t:(this.lines[0].End.x+=t,this.lines[1].End.x+=t),this.calcPsi())}addWedgeLines(t,e,i,s){const r=new n.GraphicalLine(t,e,s),o=new n.GraphicalLine(t,i,s);this.lines.push(r),this.lines.push(o)}addDoubleLines(t,e,i,s,r){const o=new n.GraphicalLine(t,e,r),a=new n.GraphicalLine(i,s,r);this.lines.push(o),this.lines.push(a)}}e.GraphicalContinuousDynamicExpression=c},function(t,e,i){\"use strict\";function s(t){for(var i in t)e.hasOwnProperty(i)||(e[i]=t[i])}Object.defineProperty(e,\"__esModule\",{value:!0}),s(i(38)),s(i(157)),s(i(92)),s(i(106)),s(i(3)),s(i(90)),s(i(21)),s(i(102)),s(i(28)),s(i(29)),s(i(107)),s(i(158)),s(i(49)),s(i(108)),s(i(65)),s(i(56)),s(i(22)),s(i(20)),s(i(109)),s(i(110)),s(i(159)),s(i(111)),s(i(42)),s(i(55)),s(i(112)),s(i(5)),s(i(113)),s(i(160)),s(i(114)),s(i(115)),s(i(162)),s(i(116)),s(i(117)),s(i(14)),s(i(101)),s(i(63)),s(i(98)),s(i(89)),s(i(91)),s(i(163)),s(i(164)),s(i(118)),s(i(119)),s(i(53)),s(i(100)),s(i(36)),s(i(32)),s(i(88)),s(i(165))},function(t,e,i){\"use strict\";var s=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,\"__esModule\",{value:!0});const n=i(6),r=i(166),o=i(11),a=s(i(1));class h extends n.AbstractExpression{constructor(t,e,i,s,n){super(i),super.parentMeasure=n,this.dynamicEnum=l[t.toLowerCase()],this.soundDynamic=e,this.staffNumber=s}get ParentMultiExpression(){return this.multiExpression}set ParentMultiExpression(t){this.multiExpression=t}get DynEnum(){return this.dynamicEnum}set DynEnum(t){this.dynamicEnum=t}get SoundDynamic(){return this.soundDynamic}set SoundDynamic(t){this.soundDynamic=t}get Placement(){return this.placement}set Placement(t){this.placement=t}get StaffNumber(){return this.staffNumber}set StaffNumber(t){this.staffNumber=t}get Length(){return Math.abs(this.length)<1e-4&&(this.length=this.calculateLength()),this.length}get MidiVolume(){return 127*h.dynamicToRelativeVolumeDict[this.dynamicEnum]}static isInputStringInstantaneousDynamic(t){return!!t&&h.isStringInStringList(h.listInstantaneousDynamics,t)}getDynamicExpressionSymbol(t){switch(t){case\"p\":return r.DynamicExpressionSymbolEnum.p;case\"f\":return r.DynamicExpressionSymbolEnum.f;case\"s\":return r.DynamicExpressionSymbolEnum.s;case\"z\":return r.DynamicExpressionSymbolEnum.z;case\"m\":return r.DynamicExpressionSymbolEnum.m;case\"r\":return r.DynamicExpressionSymbolEnum.r;default:throw new o.InvalidEnumArgumentException(\"unknown DynamicExpressionSymbolEnum: \"+t)}}calculateLength(){return a.default.debug(\"[Andrea] instantaneousDynamicExpression: not implemented: calculateLength!\"),0}}var l;e.InstantaneousDynamicExpression=h,h.dynamicToRelativeVolumeDict={f:92/127,ff:108/127,fff:124/127,ffff:125/127,fffff:126/127,ffffff:1,fp:.5,fz:.5,mf:76/127,mp:60/127,p:44/127,pp:28/127,ppp:12/127,pppp:10/127,ppppp:8/127,pppppp:6/127,rf:.5,rfz:.5,sf:.5,sff:.5,sffz:.5,sfp:.5,sfpp:.5,sfz:.5},h.listInstantaneousDynamics=[\"pppppp\",\"ppppp\",\"pppp\",\"ppp\",\"pp\",\"p\",\"ffffff\",\"fffff\",\"ffff\",\"fff\",\"ff\",\"f\",\"mf\",\"mp\",\"sf\",\"sff\",\"sp\",\"spp\",\"fp\",\"rf\",\"rfz\",\"sfz\",\"sffz\",\"fz\"],function(t){t[t.pppppp=0]=\"pppppp\",t[t.ppppp=1]=\"ppppp\",t[t.pppp=2]=\"pppp\",t[t.ppp=3]=\"ppp\",t[t.pp=4]=\"pp\",t[t.p=5]=\"p\",t[t.mp=6]=\"mp\",t[t.mf=7]=\"mf\",t[t.f=8]=\"f\",t[t.ff=9]=\"ff\",t[t.fff=10]=\"fff\",t[t.ffff=11]=\"ffff\",t[t.fffff=12]=\"fffff\",t[t.ffffff=13]=\"ffffff\",t[t.sf=14]=\"sf\",t[t.sff=15]=\"sff\",t[t.sfp=16]=\"sfp\",t[t.sfpp=17]=\"sfpp\",t[t.fp=18]=\"fp\",t[t.rf=19]=\"rf\",t[t.rfz=20]=\"rfz\",t[t.sfz=21]=\"sfz\",t[t.sffz=22]=\"sffz\",t[t.fz=23]=\"fz\",t[t.other=24]=\"other\"}(l=e.DynamicEnum||(e.DynamicEnum={}))},function(t,e,i){\"use strict\";Object.defineProperty(e,\"__esModule\",{value:!0});const s=i(80),n=i(4);class r{constructor(t,e,i,s){this.x=0,this.y=0,this.width=0,this.height=0,this.x=t,this.y=e,this.width=i,this.height=s}static createFromLocationAndSize(t,e){return new r(t.x,t.y,e.width,e.height)}get Location(){return new n.PointF2D(this.x,this.y)}get Size(){return new s.SizeF2D(this.width,this.height)}}e.RectangleF2D=r},function(t,e,i){\"use strict\";Object.defineProperty(e,\"__esModule\",{value:!0});const s=i(5),n=i(3);class r extends s.GraphicalObject{constructor(t){super(),this.parentStaffLine=t;const e=t.PositionAndShape;this.boundingBox=new n.BoundingBox(this,e),this.boundingBox.BorderRight=6,this.boundingBox.BorderBottom=4.5,this.boundingBox.BorderLeft=-1.5,this.boundingBox.BorderTop=-1.5}}e.StaffLineActivitySymbol=r},function(t,e,i){\"use strict\";Object.defineProperty(e,\"__esModule\",{value:!0});var s=i(9),n=i(35),r=function(){function t(){this.firstNode=null,this.lastNode=null,this.nElements=0}return t.prototype.add=function(t,e){if(s.isUndefined(e)&&(e=this.nElements),e<0||e>this.nElements||s.isUndefined(t))return!1;var i=this.createNode(t);if(0===this.nElements||null===this.lastNode)this.firstNode=i,this.lastNode=i;else if(e===this.nElements)this.lastNode.next=i,this.lastNode=i;else if(0===e)i.next=this.firstNode,this.firstNode=i;else{var n=this.nodeAtIndex(e-1);if(null===n)return!1;i.next=n.next,n.next=i}return this.nElements++,!0},t.prototype.first=function(){if(null!==this.firstNode)return this.firstNode.element},t.prototype.last=function(){if(null!==this.lastNode)return this.lastNode.element},t.prototype.elementAtIndex=function(t){var e=this.nodeAtIndex(t);if(null!==e)return e.element},t.prototype.indexOf=function(t,e){var i=e||s.defaultEquals;if(s.isUndefined(t))return-1;for(var n=this.firstNode,r=0;null!==n;){if(i(n.element,t))return r;r++,n=n.next}return-1},t.prototype.contains=function(t,e){return this.indexOf(t,e)>=0},t.prototype.remove=function(t,e){var i=e||s.defaultEquals;if(this.nElements<1||s.isUndefined(t))return!1;for(var n=null,r=this.firstNode;null!==r;){if(i(r.element,t))return null===n?(this.firstNode=r.next,r===this.lastNode&&(this.lastNode=null)):r===this.lastNode?(this.lastNode=n,n.next=r.next,r.next=null):(n.next=r.next,r.next=null),this.nElements--,!0;n=r,r=r.next}return!1},t.prototype.clear=function(){this.firstNode=null,this.lastNode=null,this.nElements=0},t.prototype.equals=function(e,i){var n=i||s.defaultEquals;return e instanceof t&&(this.size()===e.size()&&this.equalsAux(this.firstNode,e.firstNode,n))},t.prototype.equalsAux=function(t,e,i){for(;null!==t&&null!==e;){if(!i(t.element,e.element))return!1;t=t.next,e=e.next}return!0},t.prototype.removeElementAtIndex=function(t){if(!(t<0||t>=this.nElements||null===this.firstNode||null===this.lastNode)){var e;if(1===this.nElements)e=this.firstNode.element,this.firstNode=null,this.lastNode=null;else{var i=this.nodeAtIndex(t-1);null===i?(e=this.firstNode.element,this.firstNode=this.firstNode.next):i.next===this.lastNode&&(e=this.lastNode.element,this.lastNode=i),null!==i&&null!==i.next&&(e=i.next.element,i.next=i.next.next)}return this.nElements--,e}},t.prototype.forEach=function(t){for(var e=this.firstNode;null!==e&&!1!==t(e.element);)e=e.next},t.prototype.reverse=function(){for(var t=null,e=this.firstNode,i=null;null!==e;)i=e.next,e.next=t,t=e,e=i;i=this.firstNode,this.firstNode=this.lastNode,this.lastNode=i},t.prototype.toArray=function(){for(var t=[],e=this.firstNode;null!==e;)t.push(e.element),e=e.next;return t},t.prototype.size=function(){return this.nElements},t.prototype.isEmpty=function(){return this.nElements<=0},t.prototype.toString=function(){return n.toString(this.toArray())},t.prototype.nodeAtIndex=function(t){if(t<0||t>=this.nElements)return null;if(t===this.nElements-1)return this.lastNode;for(var e=this.firstNode,i=0;i<t&&null!==e;i++)e=e.next;return e},t.prototype.createNode=function(t){return{element:t,next:null}},t}();e.default=r},function(t,e,i){\"use strict\";var s=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,\"__esModule\",{value:!0});const n=i(88),r=i(20),o=i(4),a=i(8),h=i(15),l=i(0),c=i(3),u=s(i(1)),d=i(24);e.GraphicalMusicSheet=class{constructor(t,e){this.musicPages=[],this.measureList=[],this.verticalGraphicalStaffEntryContainers=[],this.cursors=[],this.leadSheet=!1,this.musicSheet=t,this.numberOfStaves=this.musicSheet.Staves.length,this.calculator=e,this.calculator.initialize(this)}get ParentMusicSheet(){return this.musicSheet}get GetCalculator(){return this.calculator}get MusicPages(){return this.musicPages}set MusicPages(t){this.musicPages=t}get MeasureList(){return this.measureList}set MeasureList(t){this.measureList=t}get VerticalGraphicalStaffEntryContainers(){return this.verticalGraphicalStaffEntryContainers}set VerticalGraphicalStaffEntryContainers(t){this.verticalGraphicalStaffEntryContainers=t}get Title(){return this.title}set Title(t){this.title=t}get Subtitle(){return this.subtitle}set Subtitle(t){this.subtitle=t}get Composer(){return this.composer}set Composer(t){this.composer=t}get Lyricist(){return this.lyricist}set Lyricist(t){this.lyricist=t}get Cursors(){return this.cursors}get SelectionStartSymbol(){return this.selectionStartSymbol}get SelectionEndSymbol(){return this.selectionEndSymbol}get MinAllowedSystemWidth(){return this.minAllowedSystemWidth}set MinAllowedSystemWidth(t){this.minAllowedSystemWidth=t}get NumberOfStaves(){return this.numberOfStaves}get LeadSheet(){return this.leadSheet}set LeadSheet(t){this.leadSheet=t}static transformRelativeToAbsolutePosition(t){for(let e=0;e<t.MusicPages.length;e++){const i=t.MusicPages[e].setMusicPageAbsolutePosition(e,t.ParentMusicSheet.Rules);t.MusicPages[e].PositionAndShape.calculateAbsolutePositionsRecursive(i.x,i.y)}}Initialize(){this.verticalGraphicalStaffEntryContainers=[],this.musicPages=[],this.measureList=[]}reCalculate(){this.calculator.calculate()}prepare(){this.calculator.prepareGraphicalMusicSheet()}EnforceRedrawOfMusicSystems(){for(let t=0,e=this.musicPages.length;t<e;++t){const e=this.musicPages[t];for(let t=0,i=e.MusicSystems.length;t<i;++t){e.MusicSystems[t].needsToBeRedrawn=!0}}}getClickedObject(t){for(let e=0,i=this.MusicPages.length;e<i;++e){return this.MusicPages[e].PositionAndShape.getClickedObjectOfType(t)}}findGraphicalStaffEntryFromMeasureList(t,e,i){for(let s=e;s<this.measureList.length;s++){const e=this.measureList[s][t];for(let t=0,s=e.staffEntries.length;t<s;++t){const s=e.staffEntries[t];if(s.sourceStaffEntry===i)return s}}}findNextGraphicalStaffEntry(t,e,i){const s=i.parentMeasure,n=s.staffEntries.indexOf(i);if(n<s.staffEntries.length-1)return s.staffEntries[n+1];if(e<this.measureList.length-1){const i=this.measureList[e+1][t];if(i.staffEntries.length>0)return i.staffEntries[0]}}getFirstVisibleMeasuresListFromIndices(t,e){const i=[],s=this.measureList[0].length;for(let n=t;n<=e;n++)for(let t=0;t<s;t++)if(this.measureList[n][t].isVisible()){i.push(this.measureList[n][t]);break}return i}orderMeasuresByStaffLine(t){const e=[];let i=[];e.push(i);for(let s=0;s<t.length;s++)0===s?i.push(t[0]):(t[s].ParentStaffLine===t[s-1].ParentStaffLine||(-1===e.indexOf(i)&&e.push(i),i=[],e.push(i)),i.push(t[s]));return e}initializeActiveClefs(){const t=[],e=this.musicSheet.getFirstSourceMeasure();if(e)for(let i=0;i<e.CompleteNumberOfStaves;i++){let s=new a.ClefInstruction;if(e.FirstInstructionsStaffEntries[i])for(let t=0,n=e.FirstInstructionsStaffEntries[i].Instructions.length;t<n;++t){const n=e.FirstInstructionsStaffEntries[i].Instructions[t];n instanceof a.ClefInstruction&&(s=n)}t.push(s)}return t}GetMainKey(){const t=this.musicSheet.getFirstSourceMeasure();if(t)for(let e=0;e<t.CompleteNumberOfStaves;e++)for(let i=0,s=t.FirstInstructionsStaffEntries[e].Instructions.length;i<s;++i){const s=t.FirstInstructionsStaffEntries[e].Instructions[i];if(s instanceof h.KeyInstruction)return s}}getOrCreateVerticalContainer(t){if(0===this.verticalGraphicalStaffEntryContainers.length||d.CollectionUtil.getLastElement(this.verticalGraphicalStaffEntryContainers).AbsoluteTimestamp.lt(t)){const e=new n.VerticalGraphicalStaffEntryContainer(this.numberOfStaves,t);return this.verticalGraphicalStaffEntryContainers.push(e),e}for(let e=this.verticalGraphicalStaffEntryContainers.length-1;e>=0;e--){if(this.verticalGraphicalStaffEntryContainers[e].AbsoluteTimestamp.lt(t)){const i=new n.VerticalGraphicalStaffEntryContainer(this.numberOfStaves,t);return this.verticalGraphicalStaffEntryContainers.splice(e+1,0,i),i}if(this.verticalGraphicalStaffEntryContainers[e].AbsoluteTimestamp.Equals(t))return this.verticalGraphicalStaffEntryContainers[e]}}GetVerticalContainerFromTimestamp(t,e=0){const i=d.CollectionUtil.binarySearch(this.verticalGraphicalStaffEntryContainers,new n.VerticalGraphicalStaffEntryContainer(0,t),n.VerticalGraphicalStaffEntryContainer.compareByTimestamp,e);if(i>=0)return this.verticalGraphicalStaffEntryContainers[i]}GetInterpolatedIndexInVerticalContainers(t){const e=this.verticalGraphicalStaffEntryContainers;let i,s=0,n=e.length-1,r=void 0,o=void 0;if(t.lte(e[e.length-1].AbsoluteTimestamp)){for(;n-s>1;){const i=Math.floor((n+s)/2);if(e[s].AbsoluteTimestamp.Equals(t)){n=s;break}if(e[n].AbsoluteTimestamp.Equals(t)){s=n;break}if(e[i].AbsoluteTimestamp.Equals(t))return this.verticalGraphicalStaffEntryContainers.indexOf(e[i]);t.lt(e[i].AbsoluteTimestamp)?n=i:s=i}if(s===n)return this.verticalGraphicalStaffEntryContainers.indexOf(e[s]);r=e[s].AbsoluteTimestamp,o=e[n].AbsoluteTimestamp}else r=e[e.length-1].AbsoluteTimestamp,o=l.Fraction.plus(this.getLongestStaffEntryDuration(e.length-1),r),n=e.length;const a=o.RealValue-r.RealValue;return i=n-(o.RealValue-t.RealValue)/a,Math.min(i,this.verticalGraphicalStaffEntryContainers.length)}getVisibleStavesIndicesFromSourceMeasure(t){const e=[],i=[];for(let i=0,s=t.length;i<s;++i){const s=t[i].ParentStaff.ParentInstrument;-1===e.indexOf(s)&&e.push(s)}for(let t=0,s=e.length;t<s;++t){const s=e[t],n=this.musicSheet.getGlobalStaffIndexOfFirstStaff(s);for(let t=0;t<s.Staves.length;t++)i.push(n+t)}return i}getGraphicalMeasureFromSourceMeasureAndIndex(t,e){for(let i=0;i<this.measureList.length;i++)if(this.measureList[i][0].parentSourceMeasure===t)return this.measureList[i][e]}getLastGraphicalMeasureFromIndex(t,e=!0){let i=this.measureList.length-1;return e&&(i=Math.min(i,this.musicSheet.Rules.MaxMeasureToDrawIndex)),this.measureList[i][t]}getMeasureIndex(t,e,i){for(e=0,0;e<this.measureList.length;e++)for(let i=0,s=this.measureList[e].length;i<s;++i){if(this.measureList[e][i]===t)return!0}return!1}GetNearestNote(t,e){const i=[],s=new c.BoundingBox;s.BorderLeft=t.x-10,s.BorderTop=t.y-10,s.BorderRight=t.x+10,s.BorderBottom=t.y+10,s.AbsolutePosition=new o.PointF2D(0,0);for(let n=0,r=this.MusicPages.length;n<r;++n){const r=this.MusicPages[n].PositionAndShape.getObjectsInRegion(s);if(r)for(let s=0,n=r.length;s<n;++s){const n=r[s];Math.abs(n.PositionAndShape.AbsolutePosition.x-t.x)<e.x&&Math.abs(n.PositionAndShape.AbsolutePosition.y-t.y)<e.y&&i.push(n)}}let n=void 0;for(let e=0,s=i.length;e<s;++e){const s=i[e];if(void 0===n)n=s;else{if(!s.parentVoiceEntry.parentStaffEntry.relInMeasureTimestamp)continue;this.CalculateDistance(s.PositionAndShape.AbsolutePosition,t)<this.CalculateDistance(n.PositionAndShape.AbsolutePosition,t)&&(n=s)}}if(n)return n}GetClickableLabel(t){const e=new c.BoundingBox;e.BorderLeft=t.x-4,e.BorderTop=t.y-4,e.BorderRight=t.x+4,e.BorderBottom=t.y+4,e.AbsolutePosition=new o.PointF2D(0,0);for(let t=0,i=this.MusicPages.length;t<i;++t){const i=this.MusicPages[t].PositionAndShape.getObjectsInRegion(e);if(1===i.length)for(let t=0,e=i.length;t<e;++t){return i[t]}}}GetNearestStaffEntry(t){const e=[],i=new c.BoundingBox(void 0);i.BorderLeft=t.x-10,i.BorderTop=t.y-10,i.BorderRight=t.x+10,i.BorderBottom=t.y+10,i.AbsolutePosition=new o.PointF2D(0,0);for(let t=0,s=this.MusicPages.length;t<s;++t){const s=this.MusicPages[t].PositionAndShape.getObjectsInRegion(i,!1);if(s&&0!==s.length)for(let t=0,i=s.length;t<i;++t){const i=s[t];e.push(i)}}let s=void 0;for(let i=0,n=e.length;i<n;++i){const n=e[i];if(void 0===s)s=n;else{if(!n.relInMeasureTimestamp)continue;this.CalculateDistance(n.PositionAndShape.AbsolutePosition,t)<this.CalculateDistance(s.PositionAndShape.AbsolutePosition,t)&&(s=n)}}if(s)return s}GetPossibleCommentAnchor(t){const e=this.GetNearestStaffEntry(t);if(e)return e.sourceStaffEntry}getClickedObjectOfType(t){for(let e=0,i=this.musicPages.length;e<i;++e){const i=this.musicPages[e].PositionAndShape.getClickedObjectOfType(t);if(i)return i}}tryGetTimestampFromPosition(t){const e=this.getClickedObjectOfType(t);if(e)return e.getAbsoluteTimestamp()}tryGetClickableLabel(t){try{return this.GetClickableLabel(t)}catch(e){u.default.info(\"GraphicalMusicSheet.tryGetClickableObject\",\"positionOnMusicSheet: \"+t,e)}}tryGetTimeStampFromPosition(t){try{const e=this.GetNearestStaffEntry(t);if(!e)return;return e.getAbsoluteTimestamp()}catch(e){u.default.info(\"GraphicalMusicSheet.tryGetTimeStampFromPosition\",\"positionOnMusicSheet: \"+t,e)}}getStaffEntry(t){const e=this.VerticalGraphicalStaffEntryContainers[t];let i=void 0;try{for(let t=0,s=e.StaffEntries.length;t<s;++t){const s=e.StaffEntries[t];s&&s.sourceStaffEntry.ParentStaff.ParentInstrument.Visible&&(i?s.PositionAndShape&&i.PositionAndShape&&i.PositionAndShape.RelativePosition.x>s.PositionAndShape.RelativePosition.x&&(i=s):i=s)}}catch(t){u.default.info(\"GraphicalMusicSheet.getStaffEntry\",t)}return i}GetPreviousVisibleContainerIndex(t){for(let e=t-1;e>=0;e--){const t=this.verticalGraphicalStaffEntryContainers[e].StaffEntries;for(let i=0,s=t.length;i<s;++i){const s=t[i];if(s&&s.sourceStaffEntry.ParentStaff.ParentInstrument.Visible)return e}}return-1}GetNextVisibleContainerIndex(t){for(let e=t+1;e<this.verticalGraphicalStaffEntryContainers.length;++e){const t=this.verticalGraphicalStaffEntryContainers[e].StaffEntries;for(let i=0,s=t.length;i<s;++i){const s=t[i];if(s&&s.sourceStaffEntry.ParentStaff.ParentInstrument.Visible)return e}}return-1}findClosestLeftStaffEntry(t,e){let i=void 0,s=Math.floor(t);s=Math.min(this.VerticalGraphicalStaffEntryContainers.length-1,s);for(let t=s;t>=0;t--)if(i=this.getStaffEntry(t),i){if(!e)return i;if(i.sourceStaffEntry.ParentStaff.ParentInstrument.Visible)return i}}findClosestRightStaffEntry(t,e){let i=void 0;for(let s=Math.max(0,Math.ceil(t));s<this.VerticalGraphicalStaffEntryContainers.length;s++)if(i=this.getStaffEntry(s),i){if(!e)return i;if(i.sourceStaffEntry.ParentStaff.ParentInstrument.Visible)return i}}calculateCursorLineAtTimestamp(t,e){const i=this.calculateXPositionFromTimestamp(t),s=i[0],n=i[1];if(!n||0===n.StaffLines.length)return;const a=n.PositionAndShape.AbsolutePosition.y,h=d.CollectionUtil.last(n.StaffLines).PositionAndShape.RelativePosition.y+4;return new r.GraphicalLine(new o.PointF2D(s,a),new o.PointF2D(s,a+h),3,e)}calculateXPositionFromTimestamp(t){var e,i,s,n;let r=void 0;const o=this.GetInterpolatedIndexInVerticalContainers(t),a=this.findClosestLeftStaffEntry(o,!0),h=this.findClosestRightStaffEntry(o,!0),c=t.RealValue;if(!a&&!h)return[0,void 0];let u=void 0;u=a?null===(e=a.parentMeasure.ParentStaffLine)||void 0===e?void 0:e.ParentMusicSystem:null===(i=h.parentMeasure.ParentStaffLine)||void 0===i?void 0:i.ParentMusicSystem;let d=void 0;if(d=h?null===(s=h.parentMeasure.ParentStaffLine)||void 0===s?void 0:s.ParentMusicSystem:null===(n=a.parentMeasure.ParentStaffLine)||void 0===n?void 0:n.ParentMusicSystem,u===d){let t,e,i;if(r=u,a)if(h)e=a.PositionAndShape.AbsolutePosition.x,i=h.PositionAndShape.AbsolutePosition.x,t=a===h?0:(c-a.getAbsoluteTimestamp().RealValue)/(h.getAbsoluteTimestamp().RealValue-a.getAbsoluteTimestamp().RealValue);else{e=a.PositionAndShape.AbsolutePosition.x,i=r.GetRightBorderAbsoluteXPosition();const s=a.parentMeasure.parentSourceMeasure;t=(c-a.getAbsoluteTimestamp().RealValue)/(l.Fraction.plus(s.AbsoluteTimestamp,s.Duration).RealValue-a.getAbsoluteTimestamp().RealValue)}else e=i=h.PositionAndShape.AbsolutePosition.x,t=0;return t=Math.min(1,Math.max(0,t)),[e+t*(i-e),r]}{const t=h.parentMeasure.parentSourceMeasure.AbsoluteTimestamp.RealValue;let e,i;if(c<t){r=u;const s=a.PositionAndShape.AbsolutePosition.x,n=r.GetRightBorderAbsoluteXPosition();e=(c-a.getAbsoluteTimestamp().RealValue)/(t-a.getAbsoluteTimestamp().RealValue),e=Math.min(1,Math.max(0,e)),i=s+e*(n-s)}else{r=d;const s=h.PositionAndShape.AbsolutePosition.x,n=r.GetLeftBorderAbsoluteXPosition();e=(c-t)/(h.getAbsoluteTimestamp().RealValue-t),e=Math.min(1,Math.max(0,e)),i=n+e*(s-n)}return[i,r]}}GetNumberOfVisibleInstruments(){let t=0;for(let e=0,i=this.musicSheet.Instruments.length;e<i;++e){!0===this.musicSheet.Instruments[e].Visible&&t++}return t}GetNumberOfFollowedInstruments(){let t=0;for(let e=0,i=this.musicSheet.Instruments.length;e<i;++e){!0===this.musicSheet.Instruments[e].Following&&t++}return t}GetGraphicalFromSourceStaffEntry(t){return t.VerticalContainerParent.ParentMeasure.VerticalMeasureList[t.ParentStaff.idInMusicSheet].findGraphicalStaffEntryFromTimestamp(t.Timestamp)}CalculateDistance(t,e){const i=t.x-e.x,s=t.y-e.y;return i*i+s*s}getLongestStaffEntryDuration(t){let e=new l.Fraction(0,1);for(const i of this.verticalGraphicalStaffEntryContainers[t].StaffEntries){if(!i)continue;const t=i.findStaffEntryMaxNoteLength();e.lt(t)&&(e=t)}return e}};e.SystemImageProperties=class{}},function(t,e,i){\"use strict\";Object.defineProperty(e,\"__esModule\",{value:!0});const s=i(38);class n extends s.AbstractGraphicalExpression{constructor(t,e){super(e.PositionAndShape.Parent.DataObject,t,t.parentMeasure),this.label=e}get GraphicalLabel(){return this.label}updateSkyBottomLine(){}}e.GraphicalInstantaneousTempoExpression=n},function(t,e,i){\"use strict\";Object.defineProperty(e,\"__esModule\",{value:!0});const s=i(93),n=i(11),r=i(0);class o extends s.AbstractTempoExpression{constructor(t,e,i,s,n,r=!1){super(t,e,i,n),this.setTempoAndTempoType(s)}static getDefaultValueForTempoType(t){switch(t){case a.larghissimo:return 20;case a.grave:return 30;case a.lento:return 48;case a.largo:return 52;case a.larghetto:return 63;case a.adagio:return 70;case a.adagietto:return 75;case a.andanteModerato:return 88;case a.andante:return 92;case a.andantino:return 96;case a.moderato:return 106;case a.allegretto:return 112;case a.allegroModerato:return 118;case a.allegro:return 130;case a.vivace:return 140;case a.vivacissimo:return 155;case a.allegrissimo:return 170;case a.presto:return 184;case a.prestissimo:return 200;default:throw new n.ArgumentOutOfRangeException(\"tempoEnum\")}}static isInputStringInstantaneousTempo(t){return!!t&&(o.isStringInStringList(o.listInstantaneousTempoLarghissimo,t)||o.isStringInStringList(o.listInstantaneousTempoGrave,t)||o.isStringInStringList(o.listInstantaneousTempoLento,t)||o.isStringInStringList(o.listInstantaneousTempoLargo,t)||o.isStringInStringList(o.listInstantaneousTempoLarghetto,t)||o.isStringInStringList(o.listInstantaneousTempoAdagio,t)||o.isStringInStringList(o.listInstantaneousTempoAdagietto,t)||o.isStringInStringList(o.listInstantaneousTempoAndanteModerato,t)||o.isStringInStringList(o.listInstantaneousTempoAndante,t)||o.isStringInStringList(o.listInstantaneousTempoAndantino,t)||o.isStringInStringList(o.listInstantaneousTempoModerato,t)||o.isStringInStringList(o.listInstantaneousTempoAllegretto,t)||o.isStringInStringList(o.listInstantaneousTempoAllegroModerato,t)||o.isStringInStringList(o.listInstantaneousTempoAllegro,t)||o.isStringInStringList(o.listInstantaneousTempoVivace,t)||o.isStringInStringList(o.listInstantaneousTempoVivacissimo,t)||o.isStringInStringList(o.listInstantaneousTempoAllegrissimo,t)||o.isStringInStringList(o.listInstantaneousTempoPresto,t)||o.isStringInStringList(o.listInstantaneousTempoPrestissimo,t)||o.isStringInStringList(o.listInstantaneousTempoChangesGeneral,t))}get Label(){return this.label}set Label(t){this.label=t}get Placement(){return this.placement}set Placement(t){this.placement=t}get StaffNumber(){return this.staffNumber}set StaffNumber(t){this.staffNumber=t}get Enum(){return this.tempoEnum}get TempoInBpm(){return this.tempoInBpm}set TempoInBpm(t){this.tempoInBpm=t}get ParentMultiTempoExpression(){return this.parentMultiTempoExpression}getAbsoluteTimestamp(){return r.Fraction.plus(this.ParentMultiTempoExpression.SourceMeasureParent.AbsoluteTimestamp,this.ParentMultiTempoExpression.Timestamp)}getAbsoluteFloatTimestamp(){return r.Fraction.plus(this.ParentMultiTempoExpression.SourceMeasureParent.AbsoluteTimestamp,this.ParentMultiTempoExpression.Timestamp).RealValue}setTempoAndTempoType(t){return this.label?o.isStringInStringList(o.listInstantaneousTempoLarghissimo,this.label)?(0===t&&(t=o.getDefaultValueForTempoType(a.larghissimo)),this.tempoInBpm=t,void(this.tempoEnum=a.larghissimo)):o.isStringInStringList(o.listInstantaneousTempoGrave,this.label)?(0===t&&(t=o.getDefaultValueForTempoType(a.grave)),this.tempoInBpm=t,void(this.tempoEnum=a.grave)):o.isStringInStringList(o.listInstantaneousTempoLento,this.label)?(0===t&&(t=o.getDefaultValueForTempoType(a.lento)),this.tempoInBpm=t,void(this.tempoEnum=a.lento)):o.isStringInStringList(o.listInstantaneousTempoLargo,this.label)?(0===t&&(t=o.getDefaultValueForTempoType(a.largo)),this.tempoInBpm=t,void(this.tempoEnum=a.largo)):o.isStringInStringList(o.listInstantaneousTempoLarghetto,this.label)?(0===t&&(t=o.getDefaultValueForTempoType(a.larghetto)),this.tempoInBpm=t,void(this.tempoEnum=a.larghetto)):o.isStringInStringList(o.listInstantaneousTempoAdagio,this.label)?(0===t&&(t=o.getDefaultValueForTempoType(a.adagio)),this.tempoInBpm=t,void(this.tempoEnum=a.adagio)):o.isStringInStringList(o.listInstantaneousTempoAdagietto,this.label)?(0===t&&(t=o.getDefaultValueForTempoType(a.adagietto)),this.tempoInBpm=t,void(this.tempoEnum=a.adagietto)):o.isStringInStringList(o.listInstantaneousTempoAndanteModerato,this.label)?(0===t&&(t=o.getDefaultValueForTempoType(a.andanteModerato)),this.tempoInBpm=t,void(this.tempoEnum=a.andanteModerato)):o.isStringInStringList(o.listInstantaneousTempoAndante,this.label)?(0===t&&(t=o.getDefaultValueForTempoType(a.andante)),this.tempoInBpm=t,void(this.tempoEnum=a.andante)):o.isStringInStringList(o.listInstantaneousTempoAndantino,this.label)?(0===t&&(t=o.getDefaultValueForTempoType(a.andantino)),this.tempoInBpm=t,void(this.tempoEnum=a.andantino)):o.isStringInStringList(o.listInstantaneousTempoModerato,this.label)?(0===t&&(t=o.getDefaultValueForTempoType(a.moderato)),this.tempoInBpm=t,void(this.tempoEnum=a.moderato)):o.isStringInStringList(o.listInstantaneousTempoAllegretto,this.label)?(0===t&&(t=o.getDefaultValueForTempoType(a.allegretto)),this.tempoInBpm=t,void(this.tempoEnum=a.allegretto)):o.isStringInStringList(o.listInstantaneousTempoAllegroModerato,this.label)?(0===t&&(t=o.getDefaultValueForTempoType(a.allegroModerato)),this.tempoInBpm=t,void(this.tempoEnum=a.allegroModerato)):o.isStringInStringList(o.listInstantaneousTempoAllegro,this.label)?(0===t&&(t=o.getDefaultValueForTempoType(a.allegro)),this.tempoInBpm=t,void(this.tempoEnum=a.allegro)):o.isStringInStringList(o.listInstantaneousTempoVivace,this.label)?(0===t&&(t=o.getDefaultValueForTempoType(a.vivace)),this.tempoInBpm=t,void(this.tempoEnum=a.vivace)):o.isStringInStringList(o.listInstantaneousTempoVivacissimo,this.label)?(0===t&&(t=o.getDefaultValueForTempoType(a.vivacissimo)),this.tempoInBpm=t,void(this.tempoEnum=a.vivacissimo)):o.isStringInStringList(o.listInstantaneousTempoAllegrissimo,this.label)?(0===t&&(t=o.getDefaultValueForTempoType(a.allegrissimo)),this.tempoInBpm=t,void(this.tempoEnum=a.allegrissimo)):o.isStringInStringList(o.listInstantaneousTempoPresto,this.label)?(0===t&&(t=o.getDefaultValueForTempoType(a.presto)),this.tempoInBpm=t,void(this.tempoEnum=a.presto)):o.isStringInStringList(o.listInstantaneousTempoPrestissimo,this.label)?(0===t&&(t=o.getDefaultValueForTempoType(a.prestissimo)),this.tempoInBpm=t,void(this.tempoEnum=a.prestissimo)):o.isStringInStringList(o.listInstantaneousTempoAddons,this.label)?(this.tempoInBpm=0,void(this.tempoEnum=a.addon)):o.isStringInStringList(o.listInstantaneousTempoChangesGeneral,this.label)?(this.tempoInBpm=0,void(this.tempoEnum=a.changes)):void 0:(this.tempoInBpm=t,void(this.tempoEnum=a.metronomeMark))}}var a;e.InstantaneousTempoExpression=o,o.listInstantaneousTempoLarghissimo=[\"Larghissimo\",\"Sehr breit\",\"very, very slow\"],o.listInstantaneousTempoGrave=[\"Grave\",\"Schwer\",\"slow and solemn\"],o.listInstantaneousTempoLento=[\"Lento\",\"Lent\",\"Langsam\",\"slowly\"],o.listInstantaneousTempoLargo=[\"Largo\",\"Breit\",\"broadly\"],o.listInstantaneousTempoLarghetto=[\"Larghetto\",\"Etwas breit\",\"rather broadly\"],o.listInstantaneousTempoAdagio=[\"Adagio\",\"Langsam\",\"Ruhig\",\"slow and stately\"],o.listInstantaneousTempoAdagietto=[\"Adagietto\",\"Ziemlich ruhig\",\"Ziemlich langsam\",\"rather slow\"],o.listInstantaneousTempoAndanteModerato=[\"Andante moderato\"],o.listInstantaneousTempoAndante=[\"Andante\",\"Gehend\",\"Schreitend\",\"at a walking pace\"],o.listInstantaneousTempoAndantino=[\"Andantino\"],o.listInstantaneousTempoModerato=[\"Moderato\",\"Mig\",\"Modr\",\"moderately\"],o.listInstantaneousTempoAllegretto=[\"Allegretto\",\"fast\"],o.listInstantaneousTempoAllegroModerato=[\"Allegro moderato\"],o.listInstantaneousTempoAllegro=[\"Allegro\",\"Rapide\",\"Vite\",\"Rasch\",\"Schnell\",\"Frhlich\"],o.listInstantaneousTempoVivace=[\"Vivace\",\"Lebhaft\",\"Lebendig\",\"lively and fast\"],o.listInstantaneousTempoVivacissimo=[\"Vivacissimo\",\"Sehr lebhaft\",\"Sehr lebendig\"],o.listInstantaneousTempoAllegrissimo=[\"Allegrissimo\",\"very fast\"],o.listInstantaneousTempoPresto=[\"Presto\",\"Sehr schnell\",\"Geschwind\"],o.listInstantaneousTempoPrestissimo=[\"Prestissimo\",\"uerst schnell\"],o.listInstantaneousTempoChangesGeneral=[\"tempo primo\",\"a tempo\",\"tempo i\",\"rubato\",\"doppio movimento\"],o.listInstantaneousTempoAddons=[\"assai\",\"amoroso\",\"cantabile\",\"con brio\",\"con dolore\",\"con espressione\",\"con fuoco\",\"con moto\",\"con spirito\",\"spiritoso\",\"espressivo\",\"giocoso\",\"giusto\",\"grazioso\",\"lesto\",\"lugubre\",\"maestoso\",\"ma non troppo\",\"marcato\",\"molto\",\"morendo\",\"mosso\",\"non tanto\",\"piu\",\"un poco\",\"poco\",\"quasi\",\"risoluto\",\"scherzando\",\"sostenuto\",\"teneramente\",\"tempo giusto\",\"tranquillo\",\"sehr\",\"lieblich\",\"liebevoll\",\"mit Leidenschaft\",\"mit Liebe\",\"amours\",\"gesanglich\",\"mit Schwung\",\"mit Feuer\",\"mit Schmerz\",\"mit Ausdruck\",\"mit Bewegung\",\"geistvoll\",\"ausdrucksvoll\",\"freudig\",\"verspielt\",\"angemessen\",\"grazis\",\"mit Grazie\",\"flink\",\"behnde\",\"traurig\",\"klagend\",\"majesttisch\",\"aber nicht zu sehr\",\"markant\",\"gemigt\",\"viel\",\"sehr\",\"ersterbend\",\"bewegt\",\"nicht zu sehr\",\"mehr\",\"ein wenig\",\"gleichsam\",\"entschlossen\",\"zupackend\",\"heiter\",\"nachdrcklich\",\"getragen\",\"gewichtig\",\"zart\",\"zrtlich\",\"im angemessenen Zeitma\",\"ruhig\",\"ein wenig\",\"alla marcia\",\"ad libitum\",\"alla breve\"],function(t){t[t.none=0]=\"none\",t[t.larghissimo=1]=\"larghissimo\",t[t.grave=2]=\"grave\",t[t.lento=3]=\"lento\",t[t.largo=4]=\"largo\",t[t.larghetto=5]=\"larghetto\",t[t.adagio=6]=\"adagio\",t[t.adagietto=7]=\"adagietto\",t[t.andanteModerato=8]=\"andanteModerato\",t[t.andante=9]=\"andante\",t[t.andantino=10]=\"andantino\",t[t.moderato=11]=\"moderato\",t[t.allegretto=12]=\"allegretto\",t[t.allegroModerato=13]=\"allegroModerato\",t[t.allegro=14]=\"allegro\",t[t.vivace=15]=\"vivace\",t[t.vivacissimo=16]=\"vivacissimo\",t[t.allegrissimo=17]=\"allegrissimo\",t[t.presto=18]=\"presto\",t[t.prestissimo=19]=\"prestissimo\",t[t.lastRealTempo=20]=\"lastRealTempo\",t[t.addon=21]=\"addon\",t[t.changes=22]=\"changes\",t[t.metronomeMark=23]=\"metronomeMark\"}(a=e.TempoEnum||(e.TempoEnum={}))},function(t,e,i){\"use strict\";Object.defineProperty(e,\"__esModule\",{value:!0});const s=i(0),n=i(93);class r extends n.AbstractTempoExpression{constructor(t,e,i,s){super(t,e,i,s),this.setTempoType()}static isInputStringContinuousTempo(t){return!!t&&(r.isStringInStringList(r.listContinuousTempoFaster,t)||r.isStringInStringList(r.listContinuousTempoSlower,t))}static isIncreasingTempo(t){return t<=o.piuMosso}static isDecreasingTempo(t){return t>=o.allargando&&t<=o.ritenuto}get TempoType(){return this.tempoType}set TempoType(t){this.tempoType=t}get StartTempo(){return this.startTempo}set StartTempo(t){this.startTempo=t}get EndTempo(){return this.endTempo}set EndTempo(t){this.endTempo=t}get AbsoluteEndTimestamp(){return this.absoluteEndTimestamp}set AbsoluteEndTimestamp(t){this.absoluteEndTimestamp=t}get AbsoluteTimestamp(){return this.ParentMultiTempoExpression.AbsoluteTimestamp}getAbsoluteFloatTimestamp(){return this.ParentMultiTempoExpression.AbsoluteTimestamp.RealValue}getInterpolatedTempo(t){const e=s.Fraction.plus(this.parentMultiTempoExpression.SourceMeasureParent.AbsoluteTimestamp,this.parentMultiTempoExpression.Timestamp);if(t.lt(e))return-1;if(this.absoluteEndTimestamp.lt(t))return-2;const i=s.Fraction.minus(t,e).RealValue/s.Fraction.minus(this.absoluteEndTimestamp,e).RealValue;return Math.max(0,Math.min(250,this.startTempo+(this.endTempo-this.startTempo)*i))}setTempoType(){r.isStringInStringList(r.listContinuousTempoFaster,this.label)?this.tempoType=o.accelerando:r.isStringInStringList(r.listContinuousTempoSlower,this.label)&&(this.tempoType=o.ritardando)}}var o;e.ContinuousTempoExpression=r,r.listContinuousTempoFaster=[\"accelerando\",\"piu mosso\",\"poco piu\",\"stretto\"],r.listContinuousTempoSlower=[\"poco meno\",\"meno mosso\",\"piu lento\",\"calando\",\"allargando\",\"rallentando\",\"ritardando\",\"ritenuto\",\"ritard.\",\"ritard\",\"rit.\",\"rit\",\"riten.\",\"riten\"],function(t){t[t.accelerando=0]=\"accelerando\",t[t.stretto=1]=\"stretto\",t[t.stringendo=2]=\"stringendo\",t[t.mosso=3]=\"mosso\",t[t.piuMosso=4]=\"piuMosso\",t[t.allargando=5]=\"allargando\",t[t.calando=6]=\"calando\",t[t.menoMosso=7]=\"menoMosso\",t[t.rallentando=8]=\"rallentando\",t[t.ritardando=9]=\"ritardando\",t[t.ritard=10]=\"ritard\",t[t.rit=11]=\"rit\",t[t.ritenuto=12]=\"ritenuto\",t[t.rubato=13]=\"rubato\",t[t.precipitando=14]=\"precipitando\"}(o=e.ContinuousTempoType||(e.ContinuousTempoType={}))},function(t,e,i){\"use strict\";Object.defineProperty(e,\"__esModule\",{value:!0});class s{constructor(t){if(this.hasAttributes=!1,!t)throw new Error(\"IXmlElement: expected Element, got undefined\");this.elem=t,this.name=t.nodeName.toLowerCase(),t.hasAttributes()&&(this.hasAttributes=!0,this.firstAttribute=t.attributes[0]),this.hasElements=t.hasChildNodes(),1===t.childNodes.length&&t.childNodes[0].nodeType===Node.TEXT_NODE?this.value=t.childNodes[0].nodeValue:this.value=\"\"}attribute(t){return this.elem.attributes.getNamedItem(t)}attributes(){if(!this.attrs){const t=this.elem.attributes,e=[];for(let i=0;i<t.length;i+=1)e.push(t[i]);this.attrs=e}return this.attrs}element(t){const e=this.elem.childNodes;for(let i=0,n=e.length;i<n;i+=1){const n=e[i];if(n.nodeType===Node.ELEMENT_NODE&&n.nodeName.toLowerCase()===t)return new s(n)}}elements(t){const e=this.elem.childNodes,i=[],n=!t;n||(t=t.toLowerCase());for(let r=0;r<e.length;r+=1){const o=e[r];o.nodeType!==Node.ELEMENT_NODE||!n&&o.nodeName.toLowerCase()!==t||i.push(new s(o))}return i}}e.IXmlElement=s},function(t,e,i){\"use strict\";Object.defineProperty(e,\"__esModule\",{value:!0});const s=i(61),n=i(13),r=i(99);class o extends s.InstrumentalGroup{constructor(t,e,i,s){super(void 0,i,s),this.transpose=0,this.voices=[],this.staves=[],this.hasLyrics=!1,this.hasChordSymbols=!1,this.lyricVersesNumbers=[],this.subInstruments=[],this.id=t,this.idString=e,this.nameLabel=new n.Label(e)}get Voices(){return this.voices}get Staves(){return this.staves}get NameLabel(){return this.nameLabel}get HasLyrics(){return this.hasLyrics}set HasLyrics(t){this.hasLyrics=t}get HasChordSymbols(){return this.hasChordSymbols}set HasChordSymbols(t){this.hasChordSymbols=t}get LyricVersesNumbers(){return this.lyricVersesNumbers}set LyricVersesNumbers(t){this.lyricVersesNumbers=t}get Name(){return this.nameLabel.text}set Name(t){this.nameLabel.text=t}get IdString(){return this.idString}get Id(){return this.id}get MidiInstrumentId(){return this.subInstruments[0].midiInstrumentID}set MidiInstrumentId(t){this.subInstruments[0].midiInstrumentID=t}get Volume(){return this.subInstruments[0].volume}set Volume(t){for(let e=0,i=this.subInstruments.length;e<i;++e){this.subInstruments[e].volume=t}}get PlaybackTranspose(){return this.playbackTranspose}set PlaybackTranspose(t){this.playbackTranspose=t}get SubInstruments(){return this.subInstruments}getSubInstrument(t){for(let e=0,i=this.subInstruments.length;e<i;++e){const i=this.subInstruments[e];if(i.idString===t)return i}}get PartAbbreviation(){return this.partAbbreviation}set PartAbbreviation(t){this.partAbbreviation=t}get Visible(){return this.voices.length>0&&this.Voices[0].Visible}set Visible(t){for(let e=0,i=this.Voices.length;e<i;++e){this.Voices[e].Visible=t}}get Audible(){let t=!1;for(let e=0,i=this.Voices.length;e<i;++e){const i=this.Voices[e];t=t||i.Audible}return t}set Audible(t){for(let e=0,i=this.Voices.length;e<i;++e){this.Voices[e].Audible=t}for(let e=0,i=this.staves.length;e<i;++e){this.staves[e].audible=t}}get Following(){let t=!1;for(let e=0,i=this.Voices.length;e<i;++e){const i=this.Voices[e];t=t||i.Following}return t}set Following(t){for(let e=0,i=this.Voices.length;e<i;++e){this.Voices[e].Following=t}for(let e=0,i=this.staves.length;e<i;++e){this.staves[e].following=t}}SetVoiceAudible(t,e){for(let i=0,s=this.Voices.length;i<s;++i){const s=this.Voices[i];if(s.VoiceId===t){s.Audible=e;break}}}SetVoiceFollowing(t,e){for(let i=0,s=this.Voices.length;i<s;++i){const s=this.Voices[i];if(s.VoiceId===t){s.Following=e;break}}}SetStaffAudible(t,e){const i=this.staves[t-1];if(i.audible=e,e)for(let t=0,e=i.Voices.length;t<e;++t){i.Voices[t].Audible=!0}else for(let e=0,s=i.Voices.length;e<s;++e){const s=i.Voices[e];let n=!1;for(let e=0,i=this.Staves.length;e<i;++e){const i=this.Staves[e];if(i.Id!==t&&i.audible)for(let t=0,e=i.Voices.length;t<e;++t){i.Voices[t]===s&&(n=!0)}}n||(s.Audible=!1)}}SetStaffFollow(t,e){const i=this.staves[t-1];if(i.following=e,e)for(let t=0,e=i.Voices.length;t<e;++t){i.Voices[t].Following=!0}else for(let e=0,s=i.Voices.length;e<s;++e){const s=i.Voices[e];let n=!1;for(let e=0,i=this.Staves.length;e<i;++e){const i=this.Staves[e];if(i.Id!==t&&i.following)for(let t=0,e=i.Voices.length;t<e;++t){i.Voices[t]===s&&(n=!0)}}n||(s.Following=!1)}}areAllVoiceVisible(){for(const t of this.Voices)if(!t.Visible)return!1;return!0}createStaves(t){for(let e=0;e<t;e++)this.staves.push(new r.Staff(this,e+1))}toString(){return`${this.Name} , id: ${this.id}, idstring: ${this.idString}`}}e.Instrument=o},function(t,e,i){\"use strict\";Object.defineProperty(e,\"__esModule\",{value:!0});e.InstrumentalGroup=class{constructor(t,e,i){this.instrumentalGroups=[],this.name=t,this.musicSheet=e,this.parent=i}get InstrumentalGroups(){return this.instrumentalGroups}get Parent(){return this.parent}get Name(){return this.name}set Name(t){this.name=t}get GetMusicSheet(){return this.musicSheet}}},function(t,e,i){\"use strict\";var s=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,\"__esModule\",{value:!0});const n=s(i(1));class r{constructor(t,e,i){this.sourceNote=t,this.setShapeFromXml(e,i)}setShapeFromXml(t,e){this.shape=r.ShapeTypeXmlToShape(t);let i=e;void 0===i&&(this.sourceNote?i=this.sourceNote.Length.Denominator>2:(n.default.warn(\"notehead: sourceNote and filledXmlAttribute undefined.\"),i=!0)),this.filled=i}get SourceNote(){return this.sourceNote}get Shape(){return this.shape}get Filled(){return this.filled}static ShapeTypeXmlToShape(t){switch(t.toLowerCase()){case\"normal\":return o.NORMAL;case\"x\":return o.X;case\"slash\":return o.SLASH;case\"diamond\":return o.DIAMOND;case\"square\":case\"la\":return o.SQUARE;case\"do\":case\"triangle\":return o.TRIANGLE;case\"rectangle\":return o.RECTANGLE;case\"circle-x\":return o.CIRCLEX;default:return n.default.info(\"unsupported/unhandled xml notehead '\"+t+\"'. Using normal notehead.\"),o.NORMAL}}}var o;e.Notehead=r,function(t){t[t.CIRCLEX=0]=\"CIRCLEX\",t[t.DIAMOND=1]=\"DIAMOND\",t[t.NORMAL=2]=\"NORMAL\",t[t.RECTANGLE=3]=\"RECTANGLE\",t[t.SLASH=4]=\"SLASH\",t[t.SQUARE=5]=\"SQUARE\",t[t.TRIANGLE=6]=\"TRIANGLE\",t[t.X=7]=\"X\"}(o=e.NoteHeadShape||(e.NoteHeadShape={}))},function(t,e,i){\"use strict\";Object.defineProperty(e,\"__esModule\",{value:!0}),function(t){t[t.Unused_first_Symbol=0]=\"Unused_first_Symbol\",t[t.BLACK_HEAD=1]=\"BLACK_HEAD\",t[t.UPWARDS_TAIL=2]=\"UPWARDS_TAIL\",t[t.DOWNWARDS_TAIL=3]=\"DOWNWARDS_TAIL\",t[t.UPWARDS_DOUBLE_TAIL=4]=\"UPWARDS_DOUBLE_TAIL\",t[t.DOWNWARDS_DOUBLE_TAIL=5]=\"DOWNWARDS_DOUBLE_TAIL\",t[t.UPWARDS_TRIPLE_TAIL=6]=\"UPWARDS_TRIPLE_TAIL\",t[t.DOWNWARDS_TRIPLE_TAIL=7]=\"DOWNWARDS_TRIPLE_TAIL\",t[t.UPWARDS_QUAD_TAIL=8]=\"UPWARDS_QUAD_TAIL\",t[t.DOWNWARDS_QUAD_TAIL=9]=\"DOWNWARDS_QUAD_TAIL\",t[t.ROUND_HEAD=10]=\"ROUND_HEAD\",t[t.WHITE_HEAD=11]=\"WHITE_HEAD\",t[t.G_CLEF=12]=\"G_CLEF\",t[t.F_CLEF=13]=\"F_CLEF\",t[t.C_CLEF=14]=\"C_CLEF\",t[t.BREVE=15]=\"BREVE\",t[t.BREVE_REST=16]=\"BREVE_REST\",t[t.COMMON_TIME=17]=\"COMMON_TIME\",t[t.CUT_TIME=18]=\"CUT_TIME\",t[t.WHOLE_REST=19]=\"WHOLE_REST\",t[t.HALF_REST=20]=\"HALF_REST\",t[t.QUARTER_REST=21]=\"QUARTER_REST\",t[t.EIGHTH_REST=22]=\"EIGHTH_REST\",t[t.SIXTEENTH_REST=23]=\"SIXTEENTH_REST\",t[t.THIRTYSECOND_REST=24]=\"THIRTYSECOND_REST\",t[t.SIXTYFOURTH_REST=25]=\"SIXTYFOURTH_REST\",t[t.FLAT=26]=\"FLAT\",t[t.SHARP=27]=\"SHARP\",t[t.NATURAL=28]=\"NATURAL\",t[t.DOUBLE_FLAT=29]=\"DOUBLE_FLAT\",t[t.DOUBLE_SHARP=30]=\"DOUBLE_SHARP\",t[t.ZERO=31]=\"ZERO\",t[t.ONE=32]=\"ONE\",t[t.TWO=33]=\"TWO\",t[t.THREE=34]=\"THREE\",t[t.FOUR=35]=\"FOUR\",t[t.FIVE=36]=\"FIVE\",t[t.SIX=37]=\"SIX\",t[t.SEVEN=38]=\"SEVEN\",t[t.EIGHT=39]=\"EIGHT\",t[t.NINE=40]=\"NINE\",t[t.DOT=41]=\"DOT\",t[t.FERMATA=42]=\"FERMATA\",t[t.INVERTED_FERMATA=43]=\"INVERTED_FERMATA\",t[t.SPICCATO=44]=\"SPICCATO\",t[t.TENUTO=45]=\"TENUTO\",t[t.MARCATO=46]=\"MARCATO\",t[t.MARCATISSIMO=47]=\"MARCATISSIMO\",t[t.INVERTED_MARCATISSIMO=48]=\"INVERTED_MARCATISSIMO\",t[t.P=49]=\"P\",t[t.F=50]=\"F\",t[t.S=51]=\"S\",t[t.Z=52]=\"Z\",t[t.M=53]=\"M\",t[t.R=54]=\"R\",t[t.SEGNO=55]=\"SEGNO\",t[t.CODA=56]=\"CODA\",t[t.DRUM_CLEF=57]=\"DRUM_CLEF\",t[t.G_CLEF_SUB8=58]=\"G_CLEF_SUB8\",t[t.G_CLEF_SUPER8=59]=\"G_CLEF_SUPER8\",t[t.G_CLEF_SUB15=60]=\"G_CLEF_SUB15\",t[t.G_CLEF_SUPER15=61]=\"G_CLEF_SUPER15\",t[t.F_CLEF_SUB8=62]=\"F_CLEF_SUB8\",t[t.F_CLEF_SUPER8=63]=\"F_CLEF_SUPER8\",t[t.F_CLEF_SUB15=64]=\"F_CLEF_SUB15\",t[t.F_CLEF_SUPER15=65]=\"F_CLEF_SUPER15\",t[t.DOWN_BOW=66]=\"DOWN_BOW\",t[t.MORDENT=67]=\"MORDENT\",t[t.INVERTED_MORDENT=68]=\"INVERTED_MORDENT\",t[t.TURN=69]=\"TURN\",t[t.INVERTED_TURN=70]=\"INVERTED_TURN\",t[t.LEFTHAND_PIZZICATO=71]=\"LEFTHAND_PIZZICATO\",t[t.RELEASE_PED=72]=\"RELEASE_PED\",t[t.ENGAGE_PED=73]=\"ENGAGE_PED\",t[t.VA8=74]=\"VA8\",t[t.VB8=75]=\"VB8\",t[t.TRILL=76]=\"TRILL\",t[t.MA15=77]=\"MA15\",t[t.MB15=78]=\"MB15\",t[t.HIGH=79]=\"HIGH\",t[t.PLAY=80]=\"PLAY\",t[t.MIC=81]=\"MIC\",t[t.SNAP_PIZZICATO=82]=\"SNAP_PIZZICATO\",t[t.NATURAL_HARMONIC=83]=\"NATURAL_HARMONIC\",t[t.EditPen=84]=\"EditPen\"}(e.MusicSymbol||(e.MusicSymbol={}))},function(t,e,i){\"use strict\";Object.defineProperty(e,\"__esModule\",{value:!0});const s=i(18);e.VexFlowTextMeasurer=class{constructor(t){this.fontSize=20,this.fontSizeStandard=this.fontSize;const e=document.createElement(\"canvas\");this.context=e.getContext(\"2d\"),this.rules=t}computeTextWidthToHeightRatio(t,e,i,n,r=this.fontSize){return this.context.font=s.VexFlowConverter.font(r,i,e,this.rules,n),this.context.measureText(t).width/r}setFontSize(t=this.fontSizeStandard){return this.fontSize=t,t}}},function(t,e,i){\"use strict\";var s=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,\"__esModule\",{value:!0});const n=i(38),r=i(6),o=s(i(1));class a extends n.AbstractGraphicalExpression{constructor(t,e,i){super(e,t,i.parentSourceMeasure),this.mInstantaneousDynamicExpression=t,this.mMeasure=i}updateSkyBottomLine(){const t=this.parentStaffLine.SkyBottomLineCalculator,e=this.PositionAndShape.RelativePosition.x+this.PositionAndShape.BorderMarginLeft,i=this.PositionAndShape.RelativePosition.x+this.PositionAndShape.BorderMarginRight;let s=0;switch(this.Placement){case r.PlacementEnum.Above:s=this.PositionAndShape.RelativePosition.y+this.PositionAndShape.BorderMarginTop,t.updateSkyLineInRange(e,i,s);break;case r.PlacementEnum.Below:s=this.PositionAndShape.RelativePosition.y+this.PositionAndShape.BorderMarginBottom,t.updateBottomLineInRange(e,i,s);break;default:o.default.error(\"Placement for GraphicalInstantaneousDynamicExpression is unknown\")}}}e.GraphicalInstantaneousDynamicExpression=a},function(t,e,i){\"use strict\";Object.defineProperty(e,\"__esModule\",{value:!0});const s=i(0),n=i(48),r=i(25),o=i(26),a=i(16),h=i(15),l=i(50);e.SourceMeasure=class{constructor(t,e){this.printNewSystemXml=!1,this.printNewPageXml=!1,this.staffLinkedExpressions=[],this.tempoExpressions=[],this.verticalSourceStaffEntryContainers=[],this.graphicalMeasureErrors=[],this.firstRepetitionInstructions=[],this.lastRepetitionInstructions=[],this.completeNumberOfStaves=t,this.implicitMeasure=!1,this.hasEndLine=!1,this.endingBarStyleXml=\"\",this.endingBarStyleEnum=l.SystemLinesEnum.SingleThin,this.firstInstructionsStaffEntries=new Array(t),this.lastInstructionsStaffEntries=new Array(t),this.rules=e,this.TempoInBPM=0;for(let e=0;e<t;e++)this.graphicalMeasureErrors.push(!1),this.staffLinkedExpressions.push([])}get MeasureNumber(){return this.measureNumber}set MeasureNumber(t){this.measureNumber=t}get AbsoluteTimestamp(){return this.absoluteTimestamp}set AbsoluteTimestamp(t){this.absoluteTimestamp=t}get CompleteNumberOfStaves(){return this.completeNumberOfStaves}get Duration(){return this.duration}set Duration(t){this.duration=t}get ActiveTimeSignature(){return this.activeTimeSignature}set ActiveTimeSignature(t){this.activeTimeSignature=t}get ImplicitMeasure(){return this.implicitMeasure}set ImplicitMeasure(t){this.implicitMeasure=t}get HasEndLine(){return this.hasEndLine}set HasEndLine(t){this.hasEndLine=t}get StaffLinkedExpressions(){return this.staffLinkedExpressions}get TempoExpressions(){return this.tempoExpressions}get VerticalSourceStaffEntryContainers(){return this.verticalSourceStaffEntryContainers}get FirstInstructionsStaffEntries(){return this.firstInstructionsStaffEntries}get LastInstructionsStaffEntries(){return this.lastInstructionsStaffEntries}get FirstRepetitionInstructions(){return this.firstRepetitionInstructions}get LastRepetitionInstructions(){return this.lastRepetitionInstructions}getErrorInMeasure(t){return this.graphicalMeasureErrors[t]}setErrorInGraphicalMeasure(t,e){this.graphicalMeasureErrors[t]=e}getNextMeasure(t){return t[this.measureListIndex+1]}getPreviousMeasure(t){if(this.measureListIndex>1)return t[this.measureListIndex-1]}get Rules(){return this.rules}get VerticalMeasureList(){return this.verticalMeasureList}set VerticalMeasureList(t){this.verticalMeasureList=t}get TempoInBPM(){return this.tempoInBPM}set TempoInBPM(t){this.tempoInBPM=t}findOrCreateStaffEntry(t,e,i){let s,o=void 0;for(const e of this.verticalSourceStaffEntryContainers)if(e.Timestamp.Equals(t)){s=e;break}if(s)return s.StaffEntries[e]?o=s.StaffEntries[e]:(o=new r.SourceStaffEntry(s,i),s.StaffEntries[e]=o),{createdNewContainer:!1,staffEntry:o};const a=this.verticalSourceStaffEntryContainers[this.verticalSourceStaffEntryContainers.length-1];if(0===this.verticalSourceStaffEntryContainers.length||a.Timestamp.lt(t)){const s=new n.VerticalSourceStaffEntryContainer(this,t.clone(),this.completeNumberOfStaves);this.verticalSourceStaffEntryContainers.push(s),o=new r.SourceStaffEntry(s,i),s.StaffEntries[e]=o}else for(let s=this.verticalSourceStaffEntryContainers.length-1;s>=0;s--){if(this.verticalSourceStaffEntryContainers[s].Timestamp.lt(t)){const a=new n.VerticalSourceStaffEntryContainer(this,t.clone(),this.completeNumberOfStaves);this.verticalSourceStaffEntryContainers.splice(s+1,0,a),o=new r.SourceStaffEntry(a,i),a.StaffEntries[e]=o;break}if(0===s){const a=new n.VerticalSourceStaffEntryContainer(this,t.clone(),this.completeNumberOfStaves);this.verticalSourceStaffEntryContainers.splice(s,0,a),o=new r.SourceStaffEntry(a,i),a.StaffEntries[e]=o;break}}return{createdNewContainer:!0,staffEntry:o}}findOrCreateVoiceEntry(t,e){let i=void 0,s=!1;for(const s of t.VoiceEntries)if(s.ParentVoice===e){i=s;break}return i||(i=new a.VoiceEntry(t.Timestamp,e,t),t.VoiceEntries.push(i),s=!0),{createdVoiceEntry:s,voiceEntry:i}}getPreviousSourceStaffEntryFromIndex(t,e){for(let i=e-1;i>=0;i--)if(this.verticalSourceStaffEntryContainers[i][t])return this.verticalSourceStaffEntryContainers[i][t]}getVerticalContainerIndexByTimestamp(t){for(let e=0,i=this.VerticalSourceStaffEntryContainers.length;e<i;++e)if(this.VerticalSourceStaffEntryContainers[e].Timestamp.Equals(t))return e;return-1}getVerticalContainerByTimestamp(t){for(let e=0,i=this.VerticalSourceStaffEntryContainers.length;e<i;++e){const i=this.VerticalSourceStaffEntryContainers[e];if(i.Timestamp.Equals(t))return i}}checkForEmptyVerticalContainer(t){let e=0;for(let i=0;i<this.completeNumberOfStaves;i++)this.verticalSourceStaffEntryContainers[t][i]||e++;e===this.completeNumberOfStaves&&this.verticalSourceStaffEntryContainers.splice(t,1)}reverseCheck(t,e){let i=new s.Fraction(0,1);const n=[];for(let e=0;e<t.Instruments.length;e++){let i=new s.Fraction(0,1);const r=t.getGlobalStaffIndexOfFirstStaff(t.Instruments[e]);for(let n=0;n<t.Instruments[e].Staves.length;n++){const t=this.getLastSourceStaffEntryForInstrument(r+n);if(void 0!==t&&!t.hasTie()){for(let e=this.verticalSourceStaffEntryContainers.indexOf(t.VerticalContainerParent)-1;e>=0;e--){const t=this.verticalSourceStaffEntryContainers[e][r+n];if(void 0!==t&&t.hasTie()&&i.lt(s.Fraction.plus(t.Timestamp,t.calculateMaxNoteLength()))){i=s.Fraction.plus(t.Timestamp,t.calculateMaxNoteLength());break}}}}n.push(i)}for(let t=0,e=n.length;t<e;++t){const e=n[t];i.lt(e)&&(i=e)}return s.Fraction.max(i,e)}calculateInstrumentsDuration(t,e){const i=[];for(let n=0;n<t.Instruments.length;n++){let r=new s.Fraction(0,1);const o=t.getGlobalStaffIndexOfFirstStaff(t.Instruments[n]);for(let e=0;e<t.Instruments[n].Staves.length;e++){const t=this.getLastSourceStaffEntryForInstrument(o+e);void 0!==t&&t.Timestamp&&r.lt(s.Fraction.plus(t.Timestamp,t.calculateMaxNoteLength()))&&(r=s.Fraction.plus(t.Timestamp,t.calculateMaxNoteLength()))}r.lt(e[n])&&(r=e[n]),i.push(r)}return i}getEntriesPerStaff(t){const e=[];for(const i of this.VerticalSourceStaffEntryContainers){const s=i.StaffEntries[t];s&&e.push(s)}return e}hasBeginInstructions(){for(let t=0,e=this.FirstInstructionsStaffEntries.length;t<e;t++){const e=this.FirstInstructionsStaffEntries[t];if(void 0!==e&&e.Instructions.length>0)return!0}return!1}beginsWithLineRepetition(){for(let t=0,e=this.FirstRepetitionInstructions.length;t<e;++t){const e=this.FirstRepetitionInstructions[t];if(e.type===o.RepetitionInstructionEnum.StartLine)return!0;if(void 0!==e.parentRepetition&&e===e.parentRepetition.startMarker&&!e.parentRepetition.FromWords)return!0}return!1}endsWithLineRepetition(){for(let t=0,e=this.LastRepetitionInstructions.length;t<e;++t){const e=this.LastRepetitionInstructions[t];if(e.type===o.RepetitionInstructionEnum.BackJumpLine)return!0;const i=e.parentRepetition;if(i&&!i.FromWords)for(let t=0,s=i.BackwardJumpInstructions.length;t<s;++t){if(e===i.BackwardJumpInstructions[t])return!0}}return!1}beginsWithWordRepetition(){for(let t=0,e=this.FirstRepetitionInstructions.length;t<e;++t){const e=this.FirstRepetitionInstructions[t];if(void 0!==e.parentRepetition&&e===e.parentRepetition.startMarker&&e.parentRepetition.FromWords)return!0}return!1}endsWithWordRepetition(){for(let t=0,e=this.LastRepetitionInstructions.length;t<e;++t){const e=this.LastRepetitionInstructions[t],i=e.parentRepetition;if(i&&i.FromWords){for(let t=0,s=i.BackwardJumpInstructions.length;t<s;++t){if(e===i.BackwardJumpInstructions[t])return!0}if(e===i.forwardJumpInstruction)return!0}}return!1}beginsRepetitionEnding(){for(const t of this.FirstRepetitionInstructions)if(t.type===o.RepetitionInstructionEnum.Ending&&t.alignment===o.AlignmentType.Begin)return!0;return!1}endsRepetitionEnding(){for(const t of this.LastRepetitionInstructions)if(t.type===o.RepetitionInstructionEnum.Ending&&t.alignment===o.AlignmentType.End)return!0;return!1}getKeyInstruction(t){if(this.FirstInstructionsStaffEntries[t]){const e=this.FirstInstructionsStaffEntries[t];for(let t=0,i=e.Instructions.length;t<i;++t){const i=e.Instructions[t];if(i instanceof h.KeyInstruction)return i}}}getLastSourceStaffEntryForInstrument(t){let e;for(let i=this.verticalSourceStaffEntryContainers.length-1;i>=0&&(e=this.verticalSourceStaffEntryContainers[i].StaffEntries[t],!e);i--);return e}}},function(t,e,i){\"use strict\";Object.defineProperty(e,\"__esModule\",{value:!0});const s=i(49),n=i(22),r=i(13),o=i(7),a=i(23);class h extends s.GraphicalContinuousDynamicExpression{constructor(t,e,i,s){if(super(t,e,i),this.IsVerbal){const e=new r.Label(t.Label);this.label=new n.GraphicalLabel(e,s||this.rules.ContinuousDynamicTextHeight,o.TextAlignmentEnum.LeftCenter,this.rules,this.PositionAndShape),this.label.Label.fontStyle=a.FontStyles.Italic,this.label.setLabelPositionAndShapeBorders(),this.PositionAndShape.calculateBoundingBox()}}}e.VexFlowContinuousDynamicExpression=h},function(t,e,i){\"use strict\";var s=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,\"__esModule\",{value:!0});const n=s(i(10)),r=i(69),o=i(18),a=i(34),h=i(42);class l extends r.VexFlowBackend{constructor(t){super(),this.rules=t}getVexflowBackendType(){return 1}getOSMDBackendType(){return a.BackendType.Canvas}initialize(t){this.canvas=document.createElement(\"canvas\"),this.graphicalMusicPage||(this.graphicalMusicPage=new h.GraphicalMusicPage(void 0),this.graphicalMusicPage.PageNumber=1),this.canvas.id=\"osmdCanvasVexFlowBackendCanvas\"+this.graphicalMusicPage.PageNumber,this.inner=document.createElement(\"div\"),this.inner.style.position=\"relative\",this.canvas.style.zIndex=\"0\",this.inner.appendChild(this.canvas),t.appendChild(this.inner),this.renderer=new n.default.Flow.Renderer(this.canvas,this.getVexflowBackendType()),this.ctx=this.renderer.getContext()}initializeHeadless(t=300,e=300){this.graphicalMusicPage||(this.graphicalMusicPage=new h.GraphicalMusicPage(void 0),this.graphicalMusicPage.PageNumber=1),this.canvas=document.createElement(\"canvas\"),this.canvas.width=t,this.canvas.height=e,this.renderer=new n.default.Flow.Renderer(this.canvas,this.getVexflowBackendType()),this.ctx=this.renderer.getContext()}getContext(){return this.ctx}clear(){this.ctx.clearRect(0,0,this.canvas.width,this.canvas.height),this.rules.PageBackgroundColor&&(this.ctx.save(),this.ctx.setFillStyle(this.rules.PageBackgroundColor),this.ctx.fillRect(0,0,this.canvas.width,this.canvas.height),this.ctx.restore())}scale(t){this.ctx.scale(t,t)}translate(t,e){this.CanvasRenderingCtx.translate(t,e)}renderText(t,e,i,s,n,r,a,h){const l=this.CanvasRenderingCtx.font;this.CanvasRenderingCtx.save(),this.CanvasRenderingCtx.font=o.VexFlowConverter.font(t,e,i,this.rules,h),this.CanvasRenderingCtx.fillStyle=a,this.CanvasRenderingCtx.strokeStyle=a,this.CanvasRenderingCtx.fillText(s,r.x,r.y+n),this.CanvasRenderingCtx.restore(),this.CanvasRenderingCtx.font=l}renderRectangle(t,e,i=1){const s=this.CanvasRenderingCtx.fillStyle;this.CanvasRenderingCtx.fillStyle=o.VexFlowConverter.style(e),this.CanvasRenderingCtx.globalAlpha=i,this.ctx.fillRect(t.x,t.y,t.width,t.height),this.CanvasRenderingCtx.fillStyle=s,this.CanvasRenderingCtx.globalAlpha=1}renderLine(t,e,i=\"#FF0000FF\",s=2){const n=this.CanvasRenderingCtx.strokeStyle;this.CanvasRenderingCtx.strokeStyle=i,this.CanvasRenderingCtx.beginPath(),this.CanvasRenderingCtx.moveTo(t.x,t.y),this.CanvasRenderingCtx.lineTo(e.x,e.y),this.CanvasRenderingCtx.stroke(),this.CanvasRenderingCtx.strokeStyle=n}renderCurve(t){this.ctx.beginPath(),this.ctx.moveTo(t[0].x,t[0].y),this.ctx.bezierCurveTo(t[1].x,t[1].y,t[2].x,t[2].y,t[3].x,t[3].y),this.ctx.lineTo(t[7].x,t[7].y),this.ctx.bezierCurveTo(t[6].x,t[6].y,t[5].x,t[5].y,t[4].x,t[4].y),this.ctx.lineTo(t[0].x,t[0].y),this.ctx.closePath(),this.ctx.fill()}get CanvasRenderingCtx(){return this.ctx.vexFlowCanvasContext}}e.CanvasVexFlowBackend=l},function(t,e,i){\"use strict\";var s=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,\"__esModule\",{value:!0});s(i(10));e.VexFlowBackends=class{};e.VexFlowBackend=class{getInnerElement(){return this.inner}getCanvas(){return this.canvas}getRenderElement(){let t=this.canvas;return 1===this.getVexflowBackendType()&&(t=this.inner),t}getRenderer(){return this.renderer}removeAllChildrenFromContainer(t){for(;0!==t.children.length;)t.removeChild(t.children.item(0))}removeFromContainer(t){const e=this.getRenderElement();for(let i=0;i<t.children.length;i++)if(t.children.item(i)===e){t.removeChild(e);break}}resize(t,e){this.renderer.resize(t,e)}}},function(t,e,i){\"use strict\";Object.defineProperty(e,\"__esModule\",{value:!0});const s=i(112),n=i(18),r=i(31);class o extends s.GraphicalNote{constructor(t,e,i,s=r.OctaveEnum.NONE,o){if(super(t,e,o),this.clef=i,this.octaveShift=s,t.Pitch){const e=r.OctaveShift.getPitchFromOctaveShift(t.Pitch,s);this.vfpitch=n.VexFlowConverter.pitch(this,e),this.vfpitch[1]=void 0}}setAccidental(t){const e=r.OctaveShift.getPitchFromOctaveShift(t,this.octaveShift);this.vfpitch=n.VexFlowConverter.pitch(this,e)}Transpose(t,e,i,s){const o=super.Transpose(t,e,i,s),a=r.OctaveShift.getPitchFromOctaveShift(o,this.octaveShift);return this.vfpitch=n.VexFlowConverter.pitch(this,a),this.vfpitch[1]=void 0,a}setIndex(t,e){this.vfnote=[t,e]}Clef(){return this.clef}getSVGId(){return this.vfnote[0].getAttribute(\"id\")}getSVGGElement(){return this.vfnote[0].getAttribute(\"el\")}}e.VexFlowGraphicalNote=o},function(t,e,i){\"use strict\";var s=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,\"__esModule\",{value:!0});const n=s(i(10)),r=i(5),o=i(3),a=i(19);class h extends r.GraphicalObject{constructor(t,e,i=0){super(),this.PositionAndShape=new o.BoundingBox(this,t.ParentMusicSystem.PositionAndShape);const s=t.Measures[0],n=e.Measures[0];this.addConnector(s.getVFStave(),n.getVFStave(),4,i)}draw(t){this.vexflowConnector.setContext(t).draw();const e=this.vexflowConnector,i=e.top_stave.getYForLine(0),s=e.bottom_stave.getYForLine(e.bottom_stave.getNumLines()-1)+e.thickness;this.PositionAndShape.AbsolutePosition.x=(e.top_stave.getX()-2+e.x_shift)/a.unitInPixels,this.PositionAndShape.AbsolutePosition.y=i/a.unitInPixels,this.PositionAndShape.Size.height=(s-i)/a.unitInPixels,this.PositionAndShape.Size.width=12/a.unitInPixels}addConnector(t,e,i,s){this.vexflowConnector=new n.default.Flow.StaveConnector(t,e).setType(i).setXShift(-5*s)}}e.VexFlowInstrumentBracket=h},function(t,e,i){\"use strict\";var s=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,\"__esModule\",{value:!0});const n=s(i(10)),r=i(111),o=i(32),a=i(8),h=i(18);var l=n.default.Flow.NoteSubGroup;const c=s(i(1)),u=i(19),d=i(26),f=i(36),m=i(16),p=i(73),g=i(0),b=i(37),S=i(74),y=i(6),x=i(39);class E extends r.GraphicalMeasure{constructor(t,e,i){super(t,e,i),this.octaveOffset=3,this.vfVoices={},this.vfTies=[],this.vfRepetitionWords=[],this.connectors=[],this.beams={},this.tuplets={},this.vftuplets={},this.minimumStaffEntriesWidth=-1,i?this.rules=i.ParentMusicSystem.rules:e&&(this.rules=e.Rules),this.resetLayout()}setAbsoluteCoordinates(t,e){this.stave.setX(t).setY(e)}resetLayout(){this.stave=new n.default.Flow.Stave(0,0,0,{space_above_staff_ln:0,space_below_staff_ln:0}),this.ParentStaff&&this.setLineNumber(this.ParentStaff.StafflineCount),this.stave.setBegBarType(7),this.parentSourceMeasure&&this.parentSourceMeasure.endingBarStyleEnum===o.SystemLinesEnum.None&&this.stave.setEndBarType(7),this.updateInstructionWidth()}clean(){this.vfTies.length=0,this.connectors=[],this.resetLayout()}getLineWidth(t){switch(t){case o.SystemLinesEnum.BoldThinDots:case o.SystemLinesEnum.DotsThinBold:case o.SystemLinesEnum.DotsBoldBoldDots:return 10/u.unitInPixels;default:return 0}}addClefAtBegin(t){if(this.octaveOffset=t.OctaveOffset,t.ClefType===a.ClefEnum.TAB)this.stave.addClef(\"tab\",void 0,void 0,void 0);else{const e=h.VexFlowConverter.Clef(t,\"default\");this.stave.addClef(e.type,e.size,e.annotation,5)}this.updateInstructionWidth()}setLineNumber(t){5!==t&&(0===t?(this.stave.setNumLines(0),this.stave.getBottomLineY=function(){return this.getYForLine(this.options.num_lines)}):1===t?(this.stave.options.line_config=[{visible:!1},{visible:!1},{visible:!0},{visible:!1},{visible:!1}],this.stave.getBottomLineY=function(){return this.getYForLine(2)}):2===t?(this.stave.options.line_config=[{visible:!1},{visible:!1},{visible:!0},{visible:!0},{visible:!1}],this.stave.getBottomLineY=function(){return this.getYForLine(3)}):3===t?(this.stave.options.line_config=[{visible:!1},{visible:!0},{visible:!0},{visible:!0},{visible:!1}],this.stave.getBottomLineY=function(){return this.getYForLine(2)}):(this.stave.setNumLines(t),this.stave.getBottomLineY=function(){return this.getYForLine(this.options.num_lines)}))}addKeyAtBegin(t,e,i){this.stave.setKeySignature(h.VexFlowConverter.keySignature(t),h.VexFlowConverter.keySignature(e),void 0),this.updateInstructionWidth()}addRhythmAtBegin(t){const e=h.VexFlowConverter.TimeSignature(t);this.stave.addModifier(e,5),this.updateInstructionWidth()}addClefAtEnd(t){const e=h.VexFlowConverter.Clef(t,\"small\");this.stave.setEndClef(e.type,e.size,e.annotation),this.updateInstructionWidth()}addMeasureLine(t,e){switch(e){case f.SystemLinePosition.MeasureBegin:switch(t){case o.SystemLinesEnum.BoldThinDots:this.stave.setBegBarType(4)}break;case f.SystemLinePosition.MeasureEnd:switch(t){case o.SystemLinesEnum.DotsBoldBoldDots:this.stave.setEndBarType(6);break;case o.SystemLinesEnum.DotsThinBold:this.stave.setEndBarType(5);break;case o.SystemLinesEnum.DoubleThin:this.stave.setEndBarType(2);break;case o.SystemLinesEnum.ThinBold:this.stave.setEndBarType(3);break;case o.SystemLinesEnum.None:this.stave.setEndBarType(7)}}}addMeasureNumber(){const t=this.MeasureNumber.toString(),e=v.ABOVE;this.stave.setText(t,e,{justification:1,shift_x:0,shift_y:0})}addWordRepetition(t){let e=void 0,i=6;switch(t.type){case d.RepetitionInstructionEnum.Segno:e=4,i=5;break;case d.RepetitionInstructionEnum.Coda:e=2,i=5;break;case d.RepetitionInstructionEnum.DaCapo:e=6;break;case d.RepetitionInstructionEnum.DalSegno:e=9;break;case d.RepetitionInstructionEnum.Fine:e=12;break;case d.RepetitionInstructionEnum.ToCoda:break;case d.RepetitionInstructionEnum.DaCapoAlFine:e=8;break;case d.RepetitionInstructionEnum.DaCapoAlCoda:e=7;break;case d.RepetitionInstructionEnum.DalSegnoAlFine:e=11;break;case d.RepetitionInstructionEnum.DalSegnoAlCoda:e=10}e?this.stave.addModifier(new n.default.Flow.Repetition(e,0,0),i):this.addVolta(t)}addVolta(t){let e=2;if(t.type===d.RepetitionInstructionEnum.Ending){switch(t.alignment){case d.AlignmentType.Begin:e=this.parentSourceMeasure.endsRepetitionEnding()?5:2;break;case d.AlignmentType.End:if(this.parentSourceMeasure.beginsRepetitionEnding())return;e=4}const i=this.ParentStaffLine.SkyBottomLineCalculator,s=this.PositionAndShape.AbsolutePosition.x+this.PositionAndShape.BorderMarginLeft+.4,n=this.PositionAndShape.AbsolutePosition.x+this.PositionAndShape.BorderMarginRight,r=i.getSkyLineMinInRange(s,n)-2;let o=-6.1+this.rules.VoltaOffset,a=this.rules.VoltaOffset;if(r<o){a+=r-o,o=r}a*=10,this.stave.setVoltaType(e,t.endingIndices[0],a),i.updateSkyLineInRange(s,n,o)}}setWidth(t){super.setWidth(t),this.stave.setWidth(t*u.unitInPixels)}layoutSymbols(){}draw(t){this.stave.setContext(t).draw();for(const e in this.vfVoices)this.vfVoices.hasOwnProperty(e)&&(t.save(),this.vfVoices[e].draw(t,this.stave),t.restore());for(const e in this.vfbeams)if(this.vfbeams.hasOwnProperty(e))for(const i of this.vfbeams[e])i.setContext(t).draw();if(this.autoVfBeams)for(const e of this.autoVfBeams)e.setContext(t).draw();if(this.autoTupletVfBeams)for(const e of this.autoTupletVfBeams)e.setContext(t).draw();for(const e in this.vftuplets)if(this.vftuplets.hasOwnProperty(e))for(const i of this.vftuplets[e])i.setContext(t).draw();for(const e of this.vfTies)e.setContext(t).draw();for(const e of this.connectors)e.setContext(t).draw()}format(){this.formatVoices&&this.formatVoices((this.PositionAndShape.Size.width-this.beginInstructionsWidth-this.endInstructionsWidth)*u.unitInPixels)}getVoicesWithinMeasure(){const t=[];for(const e of this.staffEntries)for(const i of e.graphicalVoiceEntries)-1===t.indexOf(i.parentVoiceEntry.ParentVoice)&&t.push(i.parentVoiceEntry.ParentVoice);return t}getGraphicalVoiceEntriesPerVoice(t){const e=[];for(const i of this.staffEntries)for(const s of i.graphicalVoiceEntries)s.parentVoiceEntry.ParentVoice===t&&e.push(s);return e}getRestFilledVexFlowStaveNotesPerVoice(t){let e=void 0;const i=this.getGraphicalVoiceEntriesPerVoice(t);for(let t=0,s=i.length;t<s;++t){const s=i[t],n=s.notes[0].sourceNote.getAbsoluteTimestamp();let r=new g.Fraction;for(const t of s.notes){const e=g.Fraction.plus(t.sourceNote.getAbsoluteTimestamp(),t.sourceNote.Length);r.lt(e)&&(r=e)}if(e){const s=g.Fraction.minus(n,e);if(s.RealValue>0){c.default.trace(`Ghost Found in between (measure ${this.MeasureNumber})`);const e=h.VexFlowConverter.GhostNote(s),n=new p.VexFlowVoiceEntry(void 0,void 0);n.vfStaveNote=e,i.splice(t,0,n),t++}}else{const e=g.Fraction.minus(n,this.parentSourceMeasure.AbsoluteTimestamp);if(e.RealValue>0){c.default.trace(`Ghost Found at start (measure ${this.MeasureNumber})`);const s=h.VexFlowConverter.GhostNote(e),n=new p.VexFlowVoiceEntry(void 0,void 0);n.vfStaveNote=s,i.splice(0,0,n),t++}}e=r}const s=g.Fraction.plus(this.parentSourceMeasure.AbsoluteTimestamp,this.parentSourceMeasure.Duration),n=g.Fraction.minus(s,e);if(n.RealValue>0){c.default.trace(`Ghost Found at end (measure ${this.MeasureNumber})`);const t=h.VexFlowConverter.GhostNote(n),e=new p.VexFlowVoiceEntry(void 0,void 0);e.vfStaveNote=t,i.push(e)}return i}handleBeam(t,e){const i=t.sourceNote.ParentVoiceEntry.ParentVoice.VoiceId;let s,n=this.beams[i];n||(n=this.beams[i]=[]);for(const t of n)t[0]===e&&(s=t);s||(s=[e,[]],n.push(s));const r=t.parentVoiceEntry;s[1].indexOf(r)<0&&s[1].push(r)}handleTuplet(t,e){const i=t.sourceNote.ParentVoiceEntry.ParentVoice.VoiceId;e=t.sourceNote.NoteTuplet;let s,n=this.tuplets[i];n||(n=this.tuplets[i]=[]);for(const t of n)t[0]===e&&(s=t);s||(s=[e,[]],n.push(s));const r=t.parentVoiceEntry;s[1].indexOf(r)<0&&s[1].push(r)}finalizeBeams(){this.vfbeams={};const t=[];for(const e in this.beams)if(this.beams.hasOwnProperty(e)){let i=this.vfbeams[e];i||(i=this.vfbeams[e]=[]);for(const s of this.beams[e]){let e=!1;for(const t of s[0].Notes)if(t.Length.RealValue>=new g.Fraction(1,4).RealValue&&(!t.TypeLength||t.TypeLength.RealValue>.125)){e=!0;break}if(e){c.default.debug(\"Beam between note >= quarter, likely tremolo, currently unsupported. continuing.\");continue}const r=[],o=s[0],a=s[1];let h=!0;for(const t of a)t.parentVoiceEntry.ParentVoice===o.Notes[0].ParentVoiceEntry.ParentVoice&&(h=t.parentVoiceEntry.WantedStemDirection===m.StemDirectionType.Undefined);let l,u=!1;const d=[];for(const e of a){const i=e.vfStaveNote;i&&(r.push(i),t.push(i)),e.parentVoiceEntry.IsGrace&&(u=!0),e.parentVoiceEntry.StemColor&&this.rules.ColoringEnabled&&d.push(e.parentVoiceEntry.StemColor)}if(r.length>1){const t=new n.default.Flow.Beam(r,h);if(u&&(t.render_options.beam_width=3,t.render_options.partial_beam_length=4),d.length>=2&&this.rules.ColorBeams){l=d[0];for(const t of d)if(t!==l){l=void 0;break}t.setStyle({fillStyle:l,strokeStyle:l})}i.push(t)}else c.default.debug(\"Warning! Beam with no notes!\")}}this.rules.AutoBeamNotes&&this.autoBeamNotes(t)}autoBeamNotes(t){let e,i=[],s=[],r=[];this.autoTupletVfBeams=[];const o=[];this.autoVfBeams=[];let a=this.parentSourceMeasure.ActiveTimeSignature;a||(a=this.parentSourceMeasure.Duration);for(const h of this.staffEntries)for(const l of h.graphicalVoiceEntries){const c=l.vfStaveNote,u=l.notes[0],d=h.relInMeasureTimestamp.isOnBeat(a),f=s.length>=2,m=u.sourceNote.Length.RealValue-new g.Fraction(1,4).RealValue>-g.Fraction.FloatInaccuracyTolerance,p=l.parentVoiceEntry.IsGrace||m||t.contains(c);if(p||d){if(f){for(const t of s)i.push(t);o.push(i.slice()),i=[]}if(s=[],p)continue}const b=l.notes[0].sourceNote.NoteTuplet;if(b){let t=!1;for(const e of b.Notes){for(const i of e)if(i.NoteTypeXml>=x.NoteType.QUARTER||i.ParentVoiceEntry.IsGrace||i.isRest()&&!this.rules.AutoBeamOptions.beam_rests){t=!0;break}if(t)break}e?e!==b&&(r.length>1&&this.autoTupletVfBeams.push(new n.default.Flow.Beam(r,!0)),r=[],e=b):e=b,t||r.push(c)}else e=void 0,s.push(c)}if(r.length>=2&&this.autoTupletVfBeams.push(new n.default.Flow.Beam(r,!0)),s.length>=2){for(const t of s)i.push(t);o.push(i)}const h=this.rules.AutoBeamOptions,l={beam_middle_only:h.beam_middle_rests_only,beam_rests:h.beam_rests,maintain_stem_directions:h.maintain_stem_directions};if(h.groups&&h.groups.length){const t=[];for(const e of h.groups)t.push(new n.default.Flow.Fraction(e[0],e[1]));l.groups=t}for(const t of o){const e=n.default.Flow.Beam.generateBeams(t,l);for(const t of e)this.autoVfBeams.push(t)}}finalizeTuplets(){this.vftuplets={};for(const t in this.tuplets)if(this.tuplets.hasOwnProperty(t)){let e=this.vftuplets[t];e||(e=this.vftuplets[t]=[]);for(const i of this.tuplets[t]){const t=[],s=i[1];for(const e of s)t.push(e.vfStaveNote);if(t.length>1){const s=i[0],r=s.Notes[0][0].NormalNotes,o=s.Bracket||3===s.TupletLabelNumber&&this.rules.TripletsBracketed||3!==s.TupletLabelNumber&&this.rules.TupletsBracketed;e.push(new n.default.Flow.Tuplet(t,{bracketed:o,notes_occupied:r,num_notes:s.TupletLabelNumber,ratioed:this.rules.TupletsRatioed}))}else c.default.debug(\"Warning! Tuplet with no notes! Trying to ignore, but this is a serious problem.\")}}}layoutStaffEntry(t){}graphicalMeasureCreatedCalculations(){let t,e=[];for(const i of this.staffEntries){t=!1,e=[];for(const s of i.graphicalVoiceEntries)if(s.parentVoiceEntry.IsGrace)e.push(s),t||(t=s.parentVoiceEntry.GraceSlur);else if(s.notes[0].sourceNote.PrintObject,s.vfStaveNote=h.VexFlowConverter.StaveNote(s),e.length>0){const i=[];for(let t=0;t<e.length;t++){const s=e[t],n=h.VexFlowConverter.StaveNote(s);s.vfStaveNote=n,i.push(n)}const r=new n.default.Flow.GraceNoteGroup(i,t);s.vfStaveNote.addModifier(0,r),e=[]}}if(e.length>0)for(const t of e)t.vfStaveNote=h.VexFlowConverter.StaveNote(t),t.parentVoiceEntry.GraceAfterMainNote=!0;this.finalizeBeams(),this.finalizeTuplets();const i=this.getVoicesWithinMeasure();for(const t of i){if(!t)continue;const e=!(t instanceof b.LinkedVoice);this.vfVoices[t.VoiceId]=new n.default.Flow.Voice({beat_value:this.parentSourceMeasure.Duration.Denominator,num_beats:this.parentSourceMeasure.Duration.Numerator,resolution:n.default.Flow.RESOLUTION}).setMode(2);const i=this.getRestFilledVexFlowStaveNotesPerVoice(t);for(const s of i){if(s.parentVoiceEntry&&s.parentVoiceEntry.IsGrace&&!s.parentVoiceEntry.GraceAfterMainNote)continue;const i=s;if(0!==s.notes.length&&s.notes[0]&&s.notes[0].sourceNote.PrintObject){if(e){const t=i.parentStaffEntry;if(t&&t.vfClefBefore){const e=new l([t.vfClefBefore]);i.vfStaveNote.getCategory&&\"stavenotes\"===i.vfStaveNote.getCategory()&&i.vfStaveNote.addModifier(0,e)}}if(s.parentVoiceEntry&&this.rules.RenderFingerings&&this.createFingerings(s),s.parentVoiceEntry&&s.parentVoiceEntry.Arpeggio){const t=s.parentVoiceEntry.Arpeggio;if(s.notes&&s.notes.length>1){const e=h.VexFlowConverter.StrokeTypeFromArpeggioType(t.type),s=new n.default.Flow.Stroke(e,{all_voices:this.rules.ArpeggiosGoAcrossVoices});this.rules.RenderArpeggios&&i.vfStaveNote.addStroke(0,s)}else c.default.debug(`[OSMD] arpeggio in measure ${this.MeasureNumber} could not be drawn.\\n                        voice entry had less than two notes, arpeggio is likely between voice entries, not currently supported in Vexflow.`)}this.vfVoices[t.VoiceId].addTickable(i.vfStaveNote)}else this.vfVoices[t.VoiceId].addTickable(i.vfStaveNote)}}this.createArticulations(),this.createOrnaments(),this.setStemDirectionFromVexFlow()}setStemDirectionFromVexFlow(){for(const t of this.staffEntries)for(const e of t.graphicalVoiceEntries)for(const t of e.notes){const i=t.vfnote;if(i&&i[0])switch(i[0].getStemDirection()){case n.default.Flow.Stem.UP:e.parentVoiceEntry.StemDirection=m.StemDirectionType.Up;break;case n.default.Flow.Stem.DOWN:e.parentVoiceEntry.StemDirection=m.StemDirectionType.Down}}}createArticulations(){for(let t=0,e=this.staffEntries.length;t<e;++t){const e=this.staffEntries[t].graphicalVoiceEntries;for(const t of e){const e=t.vfStaveNote;h.VexFlowConverter.generateArticulations(e,t.notes[0].sourceNote.ParentVoiceEntry.Articulations)}}}createOrnaments(){for(let t=0,e=this.staffEntries.length;t<e;++t){const e=this.staffEntries[t].graphicalVoiceEntries;for(const t in e)if(e.hasOwnProperty(t)){const i=e[t].vfStaveNote,s=e[t].notes[0].sourceNote.ParentVoiceEntry.OrnamentContainer;s&&h.VexFlowConverter.generateOrnaments(i,s)}}}createFingerings(t){const e=t,i=t.parentVoiceEntry.TechnicalInstructions;let s=0;for(const t of i)t.type===S.TechnicalInstructionType.Fingering&&s++;let r=-1;for(const o of i){if(o.type!==S.TechnicalInstructionType.Fingering)continue;r++;let i,a=this.rules.FingeringPosition;switch(o.placement!==y.PlacementEnum.NotYetDefined&&(a=o.placement),a){default:case y.PlacementEnum.Left:i=1;break;case y.PlacementEnum.Right:i=2;break;case y.PlacementEnum.Above:i=3;break;case y.PlacementEnum.Below:i=4;break;case y.PlacementEnum.NotYetDefined:const e=t.parentStaffEntry.sourceStaffEntry.ParentStaff;t.notes.length>1||t.parentStaffEntry.graphicalVoiceEntries.length>1?i=1:0===e.idInMusicSheet?(i=3,a=y.PlacementEnum.Above):(i=4,a=y.PlacementEnum.Below)}const h=new n.default.Flow.FretHandFinger(o.value);if(h.setPosition(i),h.setOffsetX(this.rules.FingeringOffsetX),a===y.PlacementEnum.Above||a===y.PlacementEnum.Below){const t=a===y.PlacementEnum.Above?-1:1,l=a===y.PlacementEnum.Above?r:s-1-r;if(this.rules.FingeringInsideStafflines&&s>1){const e=h.getWidth()/2,i=2.5*s;h.setOffsetY(t*(l+i)*e)}else if(!this.rules.FingeringInsideStafflines){const s=new n.default.Flow.StringNumber(o.value);s.radius=0,s.setPosition(i),s.setOffsetY(t*l*s.getWidth()*2/3),e.vfStaveNote.addModifier(r,s);continue}}\"tabnotes\"===e.vfStaveNote.getCategory()||e.vfStaveNote.addModifier(r,h)}}lineTo(t,e){const i=new n.default.Flow.StaveConnector(t.getVFStave(),this.stave);i.setType(e),this.connectors.push(i)}getVFStave(){return this.stave}updateInstructionWidth(){let t=0,e=0;const i=this.stave.getModifiers();for(const s of i)s.getPosition()===v.BEGIN?t+=s.getWidth()+s.getPadding(void 0):s.getPosition()===v.END&&(e+=s.getWidth()+s.getPadding(void 0));this.beginInstructionsWidth=t/u.unitInPixels,this.endInstructionsWidth=e/u.unitInPixels}}var v;e.VexFlowMeasure=E,function(t){t[t.LEFT=1]=\"LEFT\",t[t.RIGHT=2]=\"RIGHT\",t[t.ABOVE=3]=\"ABOVE\",t[t.BELOW=4]=\"BELOW\",t[t.BEGIN=5]=\"BEGIN\",t[t.END=6]=\"END\"}(v=e.StavePositionEnum||(e.StavePositionEnum={}))},function(t,e,i){\"use strict\";Object.defineProperty(e,\"__esModule\",{value:!0});const s=i(117),n=i(19),r=i(28);class o extends s.GraphicalVoiceEntry{constructor(t,e){super(t,e)}applyBordersFromVexflow(){const t=this.vfStaveNote;if(!t.getNoteHeadBeginX)return;const e=t.getBoundingBox(),i=t.getNoteHeadBeginX()-e.x;this.PositionAndShape.RelativePosition.y=e.y/n.unitInPixels,this.PositionAndShape.BorderTop=0,this.PositionAndShape.BorderBottom=e.h/n.unitInPixels,this.PositionAndShape.BorderLeft=-(i+t.width/2)/n.unitInPixels,this.PositionAndShape.BorderRight=(e.w-i)/n.unitInPixels}set vfStaveNote(t){this.mVexFlowStaveNote=t}get vfStaveNote(){return this.mVexFlowStaveNote}color(){const t=this.rules.DefaultColorNotehead,e=this.rules.DefaultColorRest,i=this.rules.DefaultColorStem;let s,n;const o=this.vfStaveNote;for(let i=0;i<this.notes.length;i++){const a=this.notes[i];if(n=a.sourceNote.NoteheadColor,s=n,this.rules.ColoringMode===r.ColoringModes.AutoColoring||this.rules.ColoringMode===r.ColoringModes.CustomColorSet)if(a.sourceNote.isRest())s=this.rules.ColoringSetCurrent.getValue(-1);else{const t=a.sourceNote.Pitch.FundamentalNote;s=this.rules.ColoringSetCurrent.getValue(t)}if(a.sourceNote.PrintObject?s&&\"#000000\"!==s||(s=this.rules.DefaultColorNotehead):s=\"#00000000\",!n&&this.rules.ColoringMode===r.ColoringModes.XML&&a.sourceNote.PrintObject&&(!a.sourceNote.isRest()&&t?s=t:a.sourceNote.isRest()&&e&&(s=e)),s&&a.sourceNote.PrintObject)a.sourceNote.NoteheadColorCurrentlyRendered=s;else if(!s)continue;if(this.rules.ColoringEnabled&&a.sourceNote.NoteBeam&&this.rules.ColorBeams){const t=a.sourceNote.NoteBeam.Notes;let e=!0;for(let i=0;i<t.length;i++)t[i].NoteheadColorCurrentlyRendered!==s&&(e=!1);e&&null!==o.beam&&o.beam.setStyle&&o.beam.setStyle({fillStyle:s,strokeStyle:s})}if(o&&o.note_heads){const t=o.note_heads[i];t&&t.setStyle({fillStyle:s,strokeStyle:s})}}let a=i;this.rules.ColoringEnabled&&(a=this.parentVoiceEntry.StemColor,a&&\"#000000\"!==a||(a=i),this.rules.ColorStemsLikeNoteheads&&s&&(a=s));let h=!0;for(const t of this.parentVoiceEntry.Notes)if(t.PrintObject){h=!1;break}h&&(a=\"#00000000\");const l={fillStyle:a,strokeStyle:a};o&&o.setStemStyle&&(h||(this.parentVoiceEntry.StemColor=a),o.setStemStyle(l),o.flag&&o.setFlagStyle&&this.rules.ColorFlags&&o.setFlagStyle(l))}}e.VexFlowVoiceEntry=o},function(t,e,i){\"use strict\";Object.defineProperty(e,\"__esModule\",{value:!0}),function(t){t[t.Fingering=0]=\"Fingering\"}(e.TechnicalInstructionType||(e.TechnicalInstructionType={}));e.TechnicalInstruction=class{}},function(t,e,i){\"use strict\";Object.defineProperty(e,\"__esModule\",{value:!0});const s=i(0);e.Tie=class{constructor(t){this.notes=[],this.AddNote(t)}get Notes(){return this.notes}get StartNote(){return this.notes[0]}get Duration(){const t=new s.Fraction;for(const e of this.notes)t.Add(e.Length);return t}get Pitch(){return this.StartNote.Pitch}AddNote(t){this.notes.push(t),t.NoteTie=this}}},function(t,e,i){\"use strict\";Object.defineProperty(e,\"__esModule\",{value:!0});e.PartListEntry=class{constructor(t){this.enrolledTimestamps=[],this.visible=!0,this.musicSheet=t}get Visible(){return this.visible}set Visible(t){this.visible=t}getFirstSourceMeasure(){return this.musicSheet.SourceMeasures[this.startIndex]}getLastSourceMeasure(){return this.musicSheet.SourceMeasures[this.endIndex]}}},function(t,e,i){\"use strict\";function s(t){for(var i in t)e.hasOwnProperty(i)||(e[i]=t[i])}Object.defineProperty(e,\"__esModule\",{value:!0}),s(i(34)),s(i(147)),s(i(194)),s(i(128))},function(t,e,i){\"use strict\";Object.defineProperty(e,\"__esModule\",{value:!0});e.AJAX=class{static ajax(t){let e;const i=t.indexOf(\".mxl\")>-1?\"text/plain; charset=x-user-defined\":\"application/xml\";if(XMLHttpRequest)e=new XMLHttpRequest;else{if(!ActiveXObject)return Promise.reject(new Error(\"XMLHttp not supported.\"));e=new ActiveXObject(\"Microsoft.XMLHTTP\")}return new Promise((s,n)=>{e.onreadystatechange=()=>{e.readyState===XMLHttpRequest.DONE&&(200===e.status||0===e.status&&e.responseText?s(e.responseText):n(new Error(\"Could not retrieve requested URL \"+e.status)))},e.ontimeout=t=>{n(new Error(\"Server request Timeout\"))},e.overrideMimeType(i),e.open(\"GET\",t,!0),e.send()})}}},function(t,e,i){\"use strict\";Object.defineProperty(e,\"__esModule\",{value:!0});const s=i(77);e.Cursor=class{constructor(t,e){this.hidden=!0,this.container=t,this.openSheetMusicDisplay=e,this.rules=this.openSheetMusicDisplay.EngravingRules;let i=0;for(this.cursorElementId=\"cursorImg-0\";document.getElementById(this.cursorElementId);)i++,this.cursorElementId=`cursorImg-${i}`;const s=document.createElement(\"img\");s.id=this.cursorElementId,s.style.position=\"absolute\",s.style.zIndex=\"-1\",this.cursorElement=s,this.container.appendChild(s)}init(t,e){this.manager=t,this.graphic=e,this.reset(),this.hidden=!0,this.hide()}show(){this.hidden=!1,this.resetIterator(),this.update()}resetIterator(){if(!this.openSheetMusicDisplay.Sheet||!this.openSheetMusicDisplay.Sheet.SourceMeasures)return void console.log(\"OSMD.Cursor.resetIterator(): sheet or measures were null/undefined.\");const t=this.openSheetMusicDisplay.Sheet.SourceMeasures.length-1;let e=this.rules.MinMeasureToDrawIndex;e=Math.min(e,t);let i=this.rules.MaxMeasureToDrawIndex;if(i=Math.min(i,t),this.openSheetMusicDisplay.Sheet&&this.openSheetMusicDisplay.Sheet.SourceMeasures.length>e&&(this.openSheetMusicDisplay.Sheet.SelectionStart=this.openSheetMusicDisplay.Sheet.SourceMeasures[e].AbsoluteTimestamp),this.openSheetMusicDisplay.Sheet&&this.openSheetMusicDisplay.Sheet.SourceMeasures.length>i){const t=this.openSheetMusicDisplay.Sheet.SourceMeasures[i];this.openSheetMusicDisplay.Sheet.SelectionEnd=s.Fraction.plus(t.AbsoluteTimestamp,t.Duration)}this.iterator=this.manager.getIterator()}getStaffEntryFromVoiceEntry(t){const e=t.ParentSourceStaffEntry.VerticalContainerParent.ParentMeasure.measureListIndex,i=t.ParentSourceStaffEntry.ParentStaff.idInMusicSheet;return this.graphic.findGraphicalStaffEntryFromMeasureList(i,e,t.ParentSourceStaffEntry)}update(){if(this.hidden||void 0===this.hidden||null===this.hidden)return;const t=this.iterator,e=t.CurrentVisibleVoiceEntries();if(t.EndReached||!t.CurrentVoiceEntries||0===e.length)return;let i=0,s=0,n=0;const r=e.map(t=>this.getStaffEntryFromVoiceEntry(t)).sort((t,e)=>{var i,s,n,r;return(null===(s=null===(i=null==t?void 0:t.PositionAndShape)||void 0===i?void 0:i.AbsolutePosition)||void 0===s?void 0:s.x)<=(null===(r=null===(n=null==e?void 0:e.PositionAndShape)||void 0===n?void 0:n.AbsolutePosition)||void 0===r?void 0:r.x)?-1:1})[0];i=r.PositionAndShape.AbsolutePosition.x;const o=r.parentMeasure.ParentMusicSystem;if(!o)return;s=o.PositionAndShape.AbsolutePosition.y+o.StaffLines[0].PositionAndShape.RelativePosition.y;const a=o.StaffLines[o.StaffLines.length-1];n=o.PositionAndShape.AbsolutePosition.y+a.PositionAndShape.RelativePosition.y+a.StaffHeight-s;const h=this.cursorElement;h.style.top=10*s*this.openSheetMusicDisplay.zoom+\"px\",h.style.left=10*(i-1.5)*this.openSheetMusicDisplay.zoom+\"px\",h.height=10*n*this.openSheetMusicDisplay.zoom;const l=30*this.openSheetMusicDisplay.zoom;if(l!==h.width&&(h.width=l,this.updateStyle(l)),this.openSheetMusicDisplay.FollowCursor){const t=this.cursorElement.getBoundingClientRect().top;this.cursorElement.scrollIntoView({behavior:t<1e3?\"smooth\":\"auto\",block:\"center\"})}this.cursorElement.style.display=\"\"}hide(){this.cursorElement.style.display=\"none\",this.hidden=!0}next(){this.iterator.moveToNext(),this.update()}reset(){this.resetIterator(),this.update()}updateStyle(t,e=\"#33e02f\"){const i=document.createElement(\"canvas\");i.width=this.cursorElement.width,i.height=1;const s=i.getContext(\"2d\");s.globalAlpha=.5;const n=s.createLinearGradient(0,0,this.cursorElement.width,0);n.addColorStop(0,\"white\"),n.addColorStop(.2,e),n.addColorStop(.8,e),n.addColorStop(1,\"white\"),s.fillStyle=n,s.fillRect(0,0,t,1),this.cursorElement.src=i.toDataURL(\"image/png\")}get Iterator(){return this.iterator}get Hidden(){return this.hidden}VoicesUnderCursor(t){return this.iterator.CurrentVisibleVoiceEntries(t)}NotesUnderCursor(t){const e=this.VoicesUnderCursor(t),i=[];return e.forEach(t=>{i.push.apply(i,t.Notes)}),i}}},function(t,e,i){\"use strict\";Object.defineProperty(e,\"__esModule\",{value:!0});e.SizeF2D=class{constructor(t=0,e=0){this.width=t,this.height=e}}},function(t,e,i){\"use strict\";Object.defineProperty(e,\"__esModule\",{value:!0});var s=i(9),n=i(35),r=i(12),o=function(){function t(t){this.dictionary=new r.default(t)}return t.prototype.contains=function(t){return this.dictionary.containsKey(t)},t.prototype.add=function(t){return!this.contains(t)&&!s.isUndefined(t)&&(this.dictionary.setValue(t,t),!0)},t.prototype.intersection=function(t){var e=this;this.forEach((function(i){return t.contains(i)||e.remove(i),!0}))},t.prototype.union=function(t){var e=this;t.forEach((function(t){return e.add(t),!0}))},t.prototype.difference=function(t){var e=this;t.forEach((function(t){return e.remove(t),!0}))},t.prototype.isSubsetOf=function(t){if(this.size()>t.size())return!1;var e=!0;return this.forEach((function(i){return!!t.contains(i)||(e=!1,!1)})),e},t.prototype.remove=function(t){return!!this.contains(t)&&(this.dictionary.remove(t),!0)},t.prototype.forEach=function(t){this.dictionary.forEach((function(e,i){return t(i)}))},t.prototype.toArray=function(){return this.dictionary.values()},t.prototype.isEmpty=function(){return this.dictionary.isEmpty()},t.prototype.size=function(){return this.dictionary.size()},t.prototype.clear=function(){this.dictionary.clear()},t.prototype.toString=function(){return n.toString(this.toArray())},t}();e.default=o},function(t,e,i){\"use strict\";Object.defineProperty(e,\"__esModule\",{value:!0});var s=i(9),n=i(83),r=function(){function t(t){this.root=null,this.compare=t||s.defaultCompare,this.nElements=0}return t.prototype.add=function(t){return!s.isUndefined(t)&&(null!==this.insertNode(this.createNode(t))&&(this.nElements++,!0))},t.prototype.clear=function(){this.root=null,this.nElements=0},t.prototype.isEmpty=function(){return 0===this.nElements},t.prototype.size=function(){return this.nElements},t.prototype.contains=function(t){return!s.isUndefined(t)&&null!==this.searchNode(this.root,t)},t.prototype.search=function(t){var e=this.searchNode(this.root,t);if(null!==e)return e.element},t.prototype.remove=function(t){var e=this.searchNode(this.root,t);return null!==e&&(this.removeNode(e),this.nElements--,!0)},t.prototype.inorderTraversal=function(t){this.inorderTraversalAux(this.root,t,{stop:!1})},t.prototype.preorderTraversal=function(t){this.preorderTraversalAux(this.root,t,{stop:!1})},t.prototype.postorderTraversal=function(t){this.postorderTraversalAux(this.root,t,{stop:!1})},t.prototype.levelTraversal=function(t){this.levelTraversalAux(this.root,t)},t.prototype.minimum=function(){if(!this.isEmpty()&&null!==this.root)return this.minimumAux(this.root).element},t.prototype.maximum=function(){if(!this.isEmpty()&&null!==this.root)return this.maximumAux(this.root).element},t.prototype.forEach=function(t){this.inorderTraversal(t)},t.prototype.toArray=function(){var t=[];return this.inorderTraversal((function(e){return t.push(e),!0})),t},t.prototype.height=function(){return this.heightAux(this.root)},t.prototype.searchNode=function(t,e){for(var i=1;null!==t&&0!==i;)(i=this.compare(e,t.element))<0?t=t.leftCh:i>0&&(t=t.rightCh);return t},t.prototype.transplant=function(t,e){null===t.parent?this.root=e:t===t.parent.leftCh?t.parent.leftCh=e:t.parent.rightCh=e,null!==e&&(e.parent=t.parent)},t.prototype.removeNode=function(t){if(null===t.leftCh)this.transplant(t,t.rightCh);else if(null===t.rightCh)this.transplant(t,t.leftCh);else{var e=this.minimumAux(t.rightCh);e.parent!==t&&(this.transplant(e,e.rightCh),e.rightCh=t.rightCh,e.rightCh.parent=e),this.transplant(t,e),e.leftCh=t.leftCh,e.leftCh.parent=e}},t.prototype.inorderTraversalAux=function(t,e,i){null===t||i.stop||(this.inorderTraversalAux(t.leftCh,e,i),i.stop||(i.stop=!1===e(t.element),i.stop||this.inorderTraversalAux(t.rightCh,e,i)))},t.prototype.levelTraversalAux=function(t,e){var i=new n.default;for(null!==t&&i.enqueue(t),t=i.dequeue()||null;null!=t;){if(!1===e(t.element))return;null!==t.leftCh&&i.enqueue(t.leftCh),null!==t.rightCh&&i.enqueue(t.rightCh),t=i.dequeue()||null}},t.prototype.preorderTraversalAux=function(t,e,i){null===t||i.stop||(i.stop=!1===e(t.element),i.stop||(this.preorderTraversalAux(t.leftCh,e,i),i.stop||this.preorderTraversalAux(t.rightCh,e,i)))},t.prototype.postorderTraversalAux=function(t,e,i){null===t||i.stop||(this.postorderTraversalAux(t.leftCh,e,i),i.stop||(this.postorderTraversalAux(t.rightCh,e,i),i.stop||(i.stop=!1===e(t.element))))},t.prototype.minimumAux=function(t){for(;null!=t&&null!==t.leftCh;)t=t.leftCh;return t},t.prototype.maximumAux=function(t){for(;null!=t&&null!==t.rightCh;)t=t.rightCh;return t},t.prototype.heightAux=function(t){return null===t?-1:Math.max(this.heightAux(t.leftCh),this.heightAux(t.rightCh))+1},t.prototype.insertNode=function(t){for(var e=null,i=this.root;null!==i;){var s=this.compare(t.element,i.element);if(0===s)return null;s<0?(e=i,i=i.leftCh):(e=i,i=i.rightCh)}return t.parent=e,null===e?this.root=t:this.compare(t.element,e.element)<0?e.leftCh=t:e.rightCh=t,t},t.prototype.createNode=function(t){return{element:t,leftCh:null,rightCh:null,parent:null}},t}();e.default=r},function(t,e,i){\"use strict\";Object.defineProperty(e,\"__esModule\",{value:!0});var s=i(54),n=function(){function t(){this.list=new s.default}return t.prototype.enqueue=function(t){return this.list.add(t)},t.prototype.add=function(t){return this.list.add(t)},t.prototype.dequeue=function(){if(0!==this.list.size()){var t=this.list.first();return this.list.removeElementAtIndex(0),t}},t.prototype.peek=function(){if(0!==this.list.size())return this.list.first()},t.prototype.size=function(){return this.list.size()},t.prototype.contains=function(t,e){return this.list.contains(t,e)},t.prototype.isEmpty=function(){return this.list.size()<=0},t.prototype.clear=function(){this.list.clear()},t.prototype.forEach=function(t){this.list.forEach(t)},t}();e.default=n},function(t,e,i){\"use strict\";Object.defineProperty(e,\"__esModule\",{value:!0});var s=i(9),n=i(35),r=function(){function t(t){this.data=[],this.compare=t||s.defaultCompare}return t.prototype.leftChildIndex=function(t){return 2*t+1},t.prototype.rightChildIndex=function(t){return 2*t+2},t.prototype.parentIndex=function(t){return Math.floor((t-1)/2)},t.prototype.minIndex=function(t,e){return e>=this.data.length?t>=this.data.length?-1:t:this.compare(this.data[t],this.data[e])<=0?t:e},t.prototype.siftUp=function(t){for(var e=this.parentIndex(t);t>0&&this.compare(this.data[e],this.data[t])>0;)n.swap(this.data,e,t),t=e,e=this.parentIndex(t)},t.prototype.siftDown=function(t){for(var e=this.minIndex(this.leftChildIndex(t),this.rightChildIndex(t));e>=0&&this.compare(this.data[t],this.data[e])>0;)n.swap(this.data,e,t),t=e,e=this.minIndex(this.leftChildIndex(t),this.rightChildIndex(t))},t.prototype.peek=function(){return this.data.length>0?this.data[0]:void 0},t.prototype.add=function(t){return!s.isUndefined(t)&&(this.data.push(t),this.siftUp(this.data.length-1),!0)},t.prototype.removeRoot=function(){if(this.data.length>0){var t=this.data[0];return this.data[0]=this.data[this.data.length-1],this.data.splice(this.data.length-1,1),this.data.length>0&&this.siftDown(0),t}},t.prototype.contains=function(t){var e=s.compareToEquals(this.compare);return n.contains(this.data,t,e)},t.prototype.size=function(){return this.data.length},t.prototype.isEmpty=function(){return this.data.length<=0},t.prototype.clear=function(){this.data.length=0},t.prototype.forEach=function(t){n.forEach(this.data,t)},t}();e.default=r},function(t,e,i){\"use strict\";var s,n=this&&this.__extends||(s=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])},function(t,e){function i(){this.constructor=t}s(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,\"__esModule\",{value:!0});var r=i(12),o=i(9),a=function(t){function e(e,i){var s=t.call(this,i)||this;return s.defaultFactoryFunction=e,s}return n(e,t),e.prototype.setDefault=function(e,i){var s=t.prototype.getValue.call(this,e);return o.isUndefined(s)?(this.setValue(e,i),i):s},e.prototype.getValue=function(t){return this.setDefault(t,this.defaultFactoryFunction())},e}(r.default);e.default=a},function(t,e,i){\"use strict\";function s(t){for(var i in t)e.hasOwnProperty(i)||(e[i]=t[i])}Object.defineProperty(e,\"__esModule\",{value:!0}),s(i(23)),s(i(87)),s(i(7))},function(t,e,i){\"use strict\";Object.defineProperty(e,\"__esModule\",{value:!0}),function(t){t[t.TimesNewRoman=0]=\"TimesNewRoman\",t[t.Kokila=1]=\"Kokila\"}(e.Fonts||(e.Fonts={}))},function(t,e,i){\"use strict\";Object.defineProperty(e,\"__esModule\",{value:!0});e.VerticalGraphicalStaffEntryContainer=class{constructor(t,e){this.staffEntries=[],this.absoluteTimestamp=e,this.staffEntries=new Array(t)}get Index(){return this.index}set Index(t){this.index=t}get AbsoluteTimestamp(){return this.absoluteTimestamp}get StaffEntries(){return this.staffEntries}set StaffEntries(t){this.staffEntries=t}static compareByTimestamp(t,e){const i=t.absoluteTimestamp.RealValue,s=e.absoluteTimestamp.RealValue;return i<s?-1:i>s?1:0}getFirstNonNullStaffEntry(){for(let t=0,e=this.staffEntries.length;t<e;++t){const e=this.staffEntries[t];if(e)return e}}}},function(t,e,i){\"use strict\";Object.defineProperty(e,\"__esModule\",{value:!0});const s=i(42),n=i(17),r=i(15),o=i(8),a=i(4),h=i(20),l=i(32),c=i(14),u=i(8),d=i(24),f=i(36);e.MusicSystemBuilder=class{constructor(){this.musicSystems=[],this.globalSystemIndex=0,this.leadSheet=!1}initialize(t,e,i){this.leadSheet=t.LeadSheet,this.graphicalMusicSheet=t,this.rules=this.graphicalMusicSheet.ParentMusicSheet.Rules,this.measureList=e,this.numberOfVisibleStaffLines=i,this.activeRhythm=new Array(this.numberOfVisibleStaffLines),this.activeKeys=new Array(this.numberOfVisibleStaffLines),this.activeClefs=new Array(this.numberOfVisibleStaffLines),this.initializeActiveInstructions(this.measureList[0])}buildMusicSystems(){const t=this.getFullPageSystemWidth();let e=!1;this.measureListIndex=0,this.currentSystemParams=new m,this.currentSystemParams.currentSystem=this.initMusicSystem();let i=0;for(let t=0,e=this.measureList.length;t<e;++t)this.measureList[t].length>0&&i++;for(;this.measureListIndex<i;){const i=this.measureList[this.measureListIndex];for(let t=0,e=i.length;t<e;++t)i[t].resetLayout();const s=i[0].parentSourceMeasure,n=s.HasEndLine,r=this.currentSystemParams.IsSystemStartMeasure(),o=s===this.graphicalMusicSheet.ParentMusicSheet.getFirstSourceMeasure();let a=this.rules.MeasureLeftMargin,h=0;const l=this.getMeasureStartLine();if(a+=this.getLineWidth(i[0],l,r),!this.leadSheet){let t=!1;e&&this.rules.ShowRhythmAgainAfterPartEndOrFinalBarline&&(t=!0),a+=this.addBeginInstructions(i,r,o||t),h+=this.addEndInstructions(i)}let c=0;for(let t=0;t<this.numberOfVisibleStaffLines;t++)c=Math.max(c,i[t].minimumStaffEntriesWidth);const u=this.getMeasureEndLine();h+=this.getLineWidth(i[0],u,r);let d=this.rules.MeasureLeftMargin,f=void 0;if(this.measureListIndex+1<this.measureList.length){const t=this.measureList[this.measureListIndex+1];f=t[0].parentSourceMeasure,f.hasBeginInstructions()&&(d+=this.addBeginInstructions(t,!1,!1))}const m=a+h+c,p=this.currentSystemParams.currentWidth+m+d<t,g=this.rules.NewPageAtXMLNewPageAttribute&&s.printNewPageXml,b=g||this.rules.NewSystemAtXMLNewSystemAttribute&&s.printNewSystemXml;r||p&&!b?(this.addMeasureToSystem(i,l,u,m,a,c,h),this.updateActiveClefs(s,i),this.measureListIndex++,n&&this.finalizeCurrentAndCreateNewSystem(i,!0,!1),e=n):this.finalizeCurrentAndCreateNewSystem(i,!1,!0,g)}return this.currentSystemParams.systemMeasures.length>0&&this.finalizeCurrentAndCreateNewSystem(this.measureList[this.measureList.length-1],!0,!1),this.musicSystems}calculateSystemYLayout(){for(const t of this.musicSystems)this.optimizeDistanceBetweenStaffLines(t);this.calculateMusicSystemsRelativePositions()}setMeasureWidth(t,e,i,s){for(let n=0,r=t.length;n<r;++n){const r=t[n];r.setWidth(e),i>0&&(r.beginInstructionsWidth=i),s>0&&(r.endInstructionsWidth=s)}}finalizeCurrentAndCreateNewSystem(t,e=!1,i=!0,s=!1){this.currentSystemParams.currentSystem.breaksPage=s,this.adaptRepetitionLineWithIfNeeded(),void 0!==t&&i&&this.checkAndCreateExtraInstructionMeasure(t),this.stretchMusicSystem(e),this.currentSystemParams=new m,void 0!==t&&this.measureListIndex<this.measureList.length&&(this.currentSystemParams.currentSystem=this.initMusicSystem())}adaptRepetitionLineWithIfNeeded(){const t=this.currentSystemParams.systemMeasures;if(t.length>=1){const e=this.currentSystemParams.currentSystem.GraphicalMeasures[this.currentSystemParams.currentSystem.GraphicalMeasures.length-1],i=t[t.length-1];let s=0;i.endLine===l.SystemLinesEnum.DotsBoldBoldDots&&(i.endLine=l.SystemLinesEnum.DotsThinBold,s=e[0].getLineWidth(l.SystemLinesEnum.DotsBoldBoldDots)/2-e[0].getLineWidth(l.SystemLinesEnum.DotsThinBold)),this.currentSystemParams.currentSystemFixWidth-=s;for(let t=0,i=e.length;t<i;++t){e[t].endInstructionsWidth-=s}}}addMeasureToSystem(t,e,i,s,n,r,o){this.currentSystemParams.systemMeasures.push({beginLine:e,endLine:i}),this.setMeasureWidth(t,s,n,o),this.addStaveMeasuresToSystem(t),this.currentSystemParams.currentWidth+=s,this.currentSystemParams.currentSystemFixWidth+=n+o,this.currentSystemParams.currentSystemVarWidth+=r,this.currentSystemParams.systemMeasureIndex++}initMusicSystem(){const t=c.MusicSheetCalculator.symbolFactory.createMusicSystem(this.globalSystemIndex++,this.rules);return this.musicSystems.push(t),this.layoutSystemStaves(t),t.createMusicSystemLabel(this.rules.InstrumentLabelTextHeight,this.rules.SystemLabelsRightMargin,this.rules.LabelMarginBorderFactor,1===this.musicSystems.length),t}getFullPageSystemWidth(){return this.graphicalMusicSheet.ParentMusicSheet.pageWidth-this.rules.PageLeftMargin-this.rules.PageRightMargin-this.rules.SystemLeftMargin-this.rules.SystemRightMargin}layoutSystemStaves(t){const e=this.getFullPageSystemWidth(),i=t.PositionAndShape;i.BorderLeft=0,i.BorderRight=e,i.BorderTop=0;const s=[],n=this.graphicalMusicSheet.ParentMusicSheet.Instruments;for(let t=0,e=n.length;t<e;++t){const e=n[t];if(0!==e.Voices.length&&e.Visible)for(let t=0,i=e.Staves.length;t<i;++t){const i=e.Staves[t];s.push(i)}}let r=!1;if(this.leadSheet)for(let t=0,e=s.length;t<e;++t){if(s[t].ParentInstrument.LyricVersesNumbers.length>1){r=!0;break}}let o=0;for(let e=0;e<s.length;e++)if(this.addStaffLineToMusicSystem(t,o,s[e]),o+=this.rules.StaffHeight,e+1<s.length){let t=0;t=this.leadSheet&&!r?2.5:s[e].ParentInstrument===s[e+1].ParentInstrument?this.rules.BetweenStaffDistance:this.rules.StaffDistance,o+=t}i.BorderBottom=o}addStaffLineToMusicSystem(t,e,i){if(t){const s=c.MusicSheetCalculator.symbolFactory.createStaffLine(t,i);t.StaffLines.push(s);const n=s.PositionAndShape,r=new a.PointF2D;t!==this.musicSystems[0]||this.rules.CompactMode?(r.x=0,n.BorderRight=t.PositionAndShape.Size.width):(r.x=this.rules.FirstSystemMargin,n.BorderRight=t.PositionAndShape.Size.width-this.rules.FirstSystemMargin),r.y=e,n.RelativePosition=r,n.BorderLeft=0,n.BorderTop=0,n.BorderBottom=this.rules.StaffHeight;for(let t=0;t<5;t++){const e=new a.PointF2D;e.x=0,e.y=t*this.rules.StaffHeight/4;const i=new a.PointF2D;i.x=s.PositionAndShape.Size.width,i.y=t*this.rules.StaffHeight/4,this.leadSheet&&(e.y=i.y=0),s.StaffLines[t]=new h.GraphicalLine(e,i,this.rules.StaffLineWidth)}}}initializeActiveInstructions(t){const e=this.graphicalMusicSheet.ParentMusicSheet.getFirstSourceMeasure();if(e){this.visibleStaffIndices=this.graphicalMusicSheet.getVisibleStavesIndicesFromSourceMeasure(t);for(let t=0,i=this.visibleStaffIndices.length;t<i;t++){const i=this.visibleStaffIndices[t],s=this.graphicalMusicSheet.getGraphicalMeasureFromSourceMeasureAndIndex(e,i);this.activeClefs[t]=e.FirstInstructionsStaffEntries[i].Instructions[0];let n=r.KeyInstruction.copy(e.FirstInstructionsStaffEntries[i].Instructions[1]);n=this.transposeKeyInstruction(n,s),this.activeKeys[t]=n,this.activeRhythm[t]=e.FirstInstructionsStaffEntries[i].Instructions[2]}}}transposeKeyInstruction(t,e){return 0!==this.graphicalMusicSheet.ParentMusicSheet.Transpose&&e.ParentStaff.ParentInstrument.MidiInstrumentId!==u.MidiInstrument.Percussion&&void 0!==c.MusicSheetCalculator.transposeCalculator&&c.MusicSheetCalculator.transposeCalculator.transposeKey(t,this.graphicalMusicSheet.ParentMusicSheet.Transpose),t}addBeginInstructions(t,e,i){const s=t.length;if(0===s)return 0;let n=0;const r=t[0].parentSourceMeasure;for(let o=0;o<s;++o){const s=t[o],a=this.visibleStaffIndices[o],h=r.FirstInstructionsStaffEntries[a],l=this.AddInstructionsAtMeasureBegin(h,s,o,i,e);n=Math.max(n,l)}return n}addEndInstructions(t){const e=t.length;if(0===e)return 0;let i=.5;const s=t[0].parentSourceMeasure;for(let n=0;n<e;n++){const e=t[n],r=this.visibleStaffIndices[n],o=s.LastInstructionsStaffEntries[r],a=this.addInstructionsAtMeasureEnd(o,e);i=Math.max(i,a)}return i}AddInstructionsAtMeasureBegin(t,e,i,s,a){let h=0,l=void 0,c=void 0,u=void 0;if(t)for(let e=0,i=t.Instructions.length;e<i;++e){const i=t.Instructions[e];i instanceof o.ClefInstruction?l=i:i instanceof r.KeyInstruction?c=i:i instanceof n.RhythmInstruction&&(u=i)}a&&(l||(l=this.activeClefs[i]),c||(c=this.activeKeys[i]),s&&!u&&(u=this.activeRhythm[i]));let d=!1,f=!1,m=!1;if(l?(e.addClefAtBegin(l),d=!0):l=this.activeClefs[i],c){c=this.transposeKeyInstruction(c,e);const t=a?void 0:this.activeKeys[i];e.addKeyAtBegin(c,t,l),f=!0}return void 0!==u&&u.PrintObject&&(e.addRhythmAtBegin(u),m=!0),(d||f||m)&&(h+=e.beginInstructionsWidth,m&&(h+=this.rules.RhythmRightMargin)),h}addInstructionsAtMeasureEnd(t,e){if(!t||!t.Instructions||0===t.Instructions.length)return 0;for(let i=0,s=t.Instructions.length;i<s;++i){const s=t.Instructions[i];if(s instanceof o.ClefInstruction){const t=s;e.addClefAtEnd(t)}}return this.rules.MeasureRightMargin+e.endInstructionsWidth}updateActiveClefs(t,e){for(let i=0,s=e.length;i<s;i++){const e=this.visibleStaffIndices[i],s=t.FirstInstructionsStaffEntries[e];if(s)for(let t=0,e=s.Instructions.length;t<e;++t){const e=s.Instructions[t];e instanceof o.ClefInstruction?this.activeClefs[i]=e:e instanceof r.KeyInstruction?this.activeKeys[i]=e:e instanceof n.RhythmInstruction&&(this.activeRhythm[i]=e)}const a=t.getEntriesPerStaff(e);for(let t=0,e=a.length;t<e;++t){const e=a[t];if(e.Instructions)for(let t=0,s=e.Instructions.length;t<s;++t){const s=e.Instructions[t];s instanceof o.ClefInstruction&&(this.activeClefs[i]=s)}}const h=t.LastInstructionsStaffEntries[e];if(h){const t=h.Instructions;for(let e=0,s=t.length;e<s;++e){const s=t[e];s instanceof o.ClefInstruction&&(this.activeClefs[i]=s)}}}}checkAndCreateExtraInstructionMeasure(t){const e=t[0].parentSourceMeasure.FirstInstructionsStaffEntries,i=[];for(let s=0,n=t.length;s<n;++s){const n=t[s];i.push(e[n.ParentStaff.idInMusicSheet])}let s=0;for(let t=0,e=i.length;t<e;++t){const e=i[t];if(!e)continue;const o=e.Instructions;let a=void 0,h=void 0;for(let e=0,i=o.length;e<i;++e){const i=o[e];i instanceof r.KeyInstruction&&i.Key!==this.activeKeys[t].Key&&(a=i),i instanceof n.RhythmInstruction&&i!==this.activeRhythm[t]&&(h=i)}if(void 0!==a||h){const e=this.addExtraInstructionMeasure(t,a,h);s=Math.max(s,e)}}s>0&&(this.currentSystemParams.systemMeasures.push({beginLine:l.SystemLinesEnum.None,endLine:l.SystemLinesEnum.None}),this.currentSystemParams.currentWidth+=s,this.currentSystemParams.currentSystemFixWidth+=s)}addExtraInstructionMeasure(t,e,i){const s=this.currentSystemParams.currentSystem,n=c.MusicSheetCalculator.symbolFactory.createExtraGraphicalMeasure(s.StaffLines[t]);[].push(n),e&&n.addKeyAtBegin(e,this.activeKeys[t],this.activeClefs[t]),void 0!==i&&i.PrintObject&&n.addRhythmAtBegin(i),n.PositionAndShape.BorderLeft=0,n.PositionAndShape.BorderTop=0,n.PositionAndShape.BorderBottom=this.rules.StaffHeight;const r=this.rules.MeasureLeftMargin+n.beginInstructionsWidth+this.rules.MeasureRightMargin;return n.PositionAndShape.BorderRight=r,s.StaffLines[t].Measures.push(n),r}addStaveMeasuresToSystem(t){if(t[0]){const e=[];for(let i=0;i<t.length;i++)e.push(t[i]);const i=this.currentSystemParams.currentSystem;for(let t=0;t<this.numberOfVisibleStaffLines;t++){const s=e[t];i.StaffLines[t].Measures.push(s),s.ParentStaffLine=i.StaffLines[t]}i.AddGraphicalMeasures(e)}}getMeasureStartLine(){if(this.thisMeasureBeginsLineRepetition()){const t=this.currentSystemParams.IsSystemStartMeasure(),e=0===this.measureListIndex;if(this.previousMeasureEndsLineRepetition()&&!t)return l.SystemLinesEnum.DotsBoldBoldDots;if(!e)return l.SystemLinesEnum.BoldThinDots}return l.SystemLinesEnum.None}getMeasureEndLine(){let t=void 0;try{t=this.measureList[this.measureListIndex][0].parentSourceMeasure}finally{}return this.nextMeasureBeginsLineRepetition()&&this.thisMeasureEndsLineRepetition()?l.SystemLinesEnum.DotsBoldBoldDots:this.thisMeasureEndsLineRepetition()?l.SystemLinesEnum.DotsThinBold:this.nextMeasureHasKeyInstructionChange()||this.thisMeasureEndsWordRepetition()||this.nextMeasureBeginsWordRepetition()?l.SystemLinesEnum.DoubleThin:t&&void 0!==t.endingBarStyleEnum?t.endingBarStyleEnum:l.SystemLinesEnum.SingleThin}getLineWidth(t,e,i){let s=t.getLineWidth(e);return e===l.SystemLinesEnum.DotsBoldBoldDots&&(s/=2),i&&e===l.SystemLinesEnum.BoldThinDots&&(s+=this.rules.DistanceBetweenLastInstructionAndRepetitionBarline),s}previousMeasureEndsLineRepetition(){if(0===this.measureListIndex)return!1;for(let t=0,e=this.measureList[this.measureListIndex-1].length;t<e;++t){if(this.measureList[this.measureListIndex-1][t].endsWithLineRepetition())return!0}return!1}thisMeasureBeginsLineRepetition(){for(let t=0,e=this.measureList[this.measureListIndex].length;t<e;++t){if(this.measureList[this.measureListIndex][t].beginsWithLineRepetition())return!0}return!1}nextMeasureBeginsLineRepetition(){const t=this.measureListIndex+1;if(t>=this.graphicalMusicSheet.ParentMusicSheet.SourceMeasures.length||!this.measureList[t])return!1;for(let e=0,i=this.measureList[t].length;e<i;++e){if(this.measureList[t][e].beginsWithLineRepetition())return!0}return!1}thisMeasureEndsLineRepetition(){for(let t=0,e=this.measureList[this.measureListIndex].length;t<e;++t){if(this.measureList[this.measureListIndex][t].endsWithLineRepetition())return!0}return!1}nextMeasureBeginsWordRepetition(){const t=this.measureListIndex+1;if(t>=this.graphicalMusicSheet.ParentMusicSheet.SourceMeasures.length||t>this.measureList.length-1)return!1;for(let e=0,i=this.measureList[t].length;e<i;++e){if(this.measureList[t][e].beginsWithWordRepetition())return!0}return!1}thisMeasureEndsWordRepetition(){for(let t=0,e=this.measureList[this.measureListIndex].length;t<e;++t){if(this.measureList[this.measureListIndex][t].endsWithWordRepetition())return!0}return!1}nextMeasureHasKeyInstructionChange(){return void 0!==this.getNextMeasureKeyInstruction()}getNextMeasureKeyInstruction(){if(this.measureListIndex<this.measureList.length-1)for(let t=0;t<this.measureList[this.measureListIndex].length;t++){const e=this.measureList[this.measureListIndex+1][t].parentSourceMeasure;if(!e)return;return e.getKeyInstruction(this.visibleStaffIndices[t])}}calculateXScalingFactor(t,e){if(Math.abs(e-0)<1e-5||Math.abs(t-0)<1e-5)return 1;let i;return i=this.currentSystemParams.currentSystem.StaffLines[0].PositionAndShape.Size.width,(i-t)/e}stretchMusicSystem(t){let e=this.calculateXScalingFactor(this.currentSystemParams.currentSystemFixWidth,this.currentSystemParams.currentSystemVarWidth);t&&(e=Math.min(e,this.rules.LastSystemMaxScalingFactor));const i=this.currentSystemParams.currentSystem;for(let t=0,s=i.StaffLines.length;t<s;++t){const s=i.StaffLines[t];let n=0;for(let t=0;t<s.Measures.length;t++){const r=s.Measures[t];if(r.setPositionInStaffline(n),r.setWidth(r.beginInstructionsWidth+r.minimumStaffEntriesWidth*e+r.endInstructionsWidth),t<this.currentSystemParams.systemMeasures.length){const e=this.currentSystemParams.systemMeasures[t].beginLine,s=r.getLineWidth(l.SystemLinesEnum.BoldThinDots);switch(e){case l.SystemLinesEnum.BoldThinDots:let o=n;0===t&&(o=n+r.beginInstructionsWidth-s),i.createVerticalLineForMeasure(o,s,e,f.SystemLinePosition.MeasureBegin,t,r)}}if(r.staffEntriesScaleFactor=e,r.layoutSymbols(),!(t+1<this.currentSystemParams.systemMeasures.length&&this.currentSystemParams.systemMeasures[t+1].beginLine===l.SystemLinesEnum.BoldThinDots)){let e=l.SystemLinesEnum.SingleThin;t<this.currentSystemParams.systemMeasures.length&&(e=this.currentSystemParams.systemMeasures[t].endLine);const s=r.getLineWidth(e);let n=r.PositionAndShape.RelativePosition.x+r.PositionAndShape.BorderRight-s;e===l.SystemLinesEnum.DotsBoldBoldDots&&(n-=s/2),i.createVerticalLineForMeasure(n,s,e,f.SystemLinePosition.MeasureEnd,t,r)}n=r.PositionAndShape.RelativePosition.x+r.PositionAndShape.BorderRight}}t&&this.decreaseMusicSystemBorders()}decreaseMusicSystemBorders(){const t=this.currentSystemParams.currentSystem,e=d.CollectionUtil.last(t.StaffLines[0].Measures).PositionAndShape,i=e.RelativePosition.x+e.Size.width;for(let e=0,s=t.StaffLines.length;e<s;++e){const s=t.StaffLines[e];s.PositionAndShape.BorderRight=i;for(let t=0,e=s.StaffLines.length;t<e;++t){const e=s.StaffLines[t];e.End=new a.PointF2D(i,e.End.y)}}t.PositionAndShape.BorderRight=i+this.currentSystemParams.maxLabelLength+this.rules.SystemLabelsRightMargin}updateStaffLinesRelativePosition(t,e,i){for(let s=e;s<t.StaffLines.length;s++)t.StaffLines[s].PositionAndShape.RelativePosition.y=i;t.PositionAndShape.BorderBottom+=i}createMusicPage(){const t=new s.GraphicalMusicPage(this.graphicalMusicSheet);return this.graphicalMusicSheet.MusicPages.push(t),t.PageNumber=this.graphicalMusicSheet.MusicPages.length,t.PositionAndShape.BorderLeft=0,t.PositionAndShape.BorderRight=this.graphicalMusicSheet.ParentMusicSheet.pageWidth,t.PositionAndShape.BorderTop=0,t.PositionAndShape.BorderBottom=this.rules.PageHeight,t.PositionAndShape.RelativePosition=new a.PointF2D(0,0),t}addSystemToPage(t,e){t.MusicSystems.push(e),e.Parent=t}optimizeDistanceBetweenStaffLines(t){if(!t.checkStaffEntriesForStaffEntryLink())for(let e=0;e<t.StaffLines.length-1;e++){const i=t.StaffLines[e].BottomLine,s=t.StaffLines[e+1].SkyLine;let n=0;for(let t=0;t<i.length;t++){const e=i[t],r=Math.max(0,t-6),o=Math.min(s.length-1,t+6);let a=0;for(let t=r;t<=o;t++)a=Math.min(a,s[t]);const h=e-a;n=Math.max(h,n)}n+=this.rules.MinSkyBottomDistBetweenStaves,n=Math.max(n,this.rules.StaffHeight+this.rules.MinimumStaffLineDistance);const r=n+t.StaffLines[e].PositionAndShape.RelativePosition.y;this.updateStaffLinesRelativePosition(t,e+1,r)}const e=t.StaffLines[0];t.PositionAndShape.BorderTop=e.PositionAndShape.RelativePosition.y+e.PositionAndShape.BorderTop;const i=t.StaffLines[t.StaffLines.length-1];t.PositionAndShape.BorderBottom=i.PositionAndShape.RelativePosition.y+i.PositionAndShape.BorderBottom}calculateMusicSystemsRelativePositions(){let t=this.createMusicPage(),e=0,i=this.musicSystems[0],s=0;for(let n=0;n<this.musicSystems.length;n++)if(i=this.musicSystems[n],0===t.MusicSystems.length){this.addSystemToPage(t,i),e=this.rules.CompactMode?this.rules.PageTopMarginNarrow:this.rules.PageTopMargin,1===this.graphicalMusicSheet.MusicPages.length&&this.rules.RenderTitle&&(e+=this.rules.TitleTopDistance+this.rules.SheetTitleHeight+this.rules.TitleBottomDistance),e+=-i.PositionAndShape.BorderTop;const n=new a.PointF2D(this.rules.PageLeftMargin+this.rules.SystemLeftMargin,e);i.PositionAndShape.RelativePosition=n,e+i.PositionAndShape.BorderBottom>this.rules.PageHeight-this.rules.PageBottomMargin&&(s++,s<=4&&console.log(`warning: could not fit a single system on page ${t.PageNumber}`+` and measure number ${i.GraphicalMeasures[0][0].MeasureNumber}.\\n                            The PageFormat may be too small for this sheet.\"\\n                            Will not give further warnings for all pages, only total.`))}else{const s=this.musicSystems[n-1],r=s.StaffLines[s.StaffLines.length-1],o=r.PositionAndShape;let h=this.findReqiredDistanceWithSkyBottomLine(s,i);h+=this.rules.MinSkyBottomDistBetweenSystems,h=Math.max(h,this.rules.MinimumDistanceBetweenSystems+r.StaffHeight);const l=e+o.RelativePosition.y+h,c=l+i.PositionAndShape.BorderMarginBottom;if(this.rules.NewPageAtXMLNewPageAttribute&&s.breaksPage||!(c<this.rules.PageHeight-this.rules.PageBottomMargin)){t=this.createMusicPage(),n-=1;continue}{this.addSystemToPage(t,i),e=l;const s=new a.PointF2D(this.rules.PageLeftMargin+this.rules.SystemLeftMargin,e);i.PositionAndShape.RelativePosition=s}}s>0&&console.log(`total amount of pages that couldn't fit a single music system: ${s} of ${t.PageNumber}`)}findReqiredDistanceWithSkyBottomLine(t,e){const i=t.StaffLines[t.StaffLines.length-1],s=e.StaffLines[0],n=i.BottomLine,r=s.SkyLine,o=i.PositionAndShape,a=s.PositionAndShape,h=1/this.rules.SamplingUnit;let l=0;for(let t=0;t<n.length;t++){const e=n[t],i=t+Math.round((o.RelativePosition.x-a.RelativePosition.x)*h);if(i<0)continue;if(i>=r.length)break;const s=Math.max(0,i-6),c=Math.min(r.length-1,i+6);let u=0;for(let t=s;t<=c;t++)u=Math.min(u,r[t]);const d=e-u;l=Math.max(d,l)}return 0===l&&(l=o.BorderBottom-a.BorderTop),l}};class m{constructor(){this.systemMeasures=[],this.systemMeasureIndex=0,this.currentWidth=0,this.currentSystemFixWidth=0,this.currentSystemVarWidth=0,this.maxLabelLength=0}IsSystemStartMeasure(){return 0===this.systemMeasureIndex}}e.SystemBuildParameters=m;e.MeasureBuildParameters=class{}},function(t,e,i){\"use strict\";Object.defineProperty(e,\"__esModule\",{value:!0});const s=i(5);class n extends s.GraphicalObject{}e.Clickable=n},function(t,e,i){\"use strict\";Object.defineProperty(e,\"__esModule\",{value:!0});e.OctaveShiftParams=class{constructor(t,e,i){this.getOpenOctaveShift=t,this.getAbsoluteStartTimestamp=e,this.getAbsoluteEndTimestamp=i}}},function(t,e,i){\"use strict\";var s=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,\"__esModule\",{value:!0});const n=i(2),r=i(2),o=s(i(12)),a=i(14);e.AccidentalCalculator=class{constructor(){this.keySignatureNoteAlterationsDict=new o.default,this.currentAlterationsComparedToKeyInstructionList=[],this.currentInMeasureNoteAlterationsDict=new o.default}get ActiveKeyInstruction(){return this.activeKeyInstruction}set ActiveKeyInstruction(t){this.activeKeyInstruction=t,this.reactOnKeyInstructionChange()}doCalculationsAtEndOfMeasure(){this.currentInMeasureNoteAlterationsDict.clear();for(const t of this.keySignatureNoteAlterationsDict.keys())this.currentInMeasureNoteAlterationsDict.setValue(t,this.keySignatureNoteAlterationsDict.getValue(t))}checkAccidental(t,e){if(!e)return;const i=e.FundamentalNote+12*e.Octave,s=this.currentAlterationsComparedToKeyInstructionList.indexOf(i)>=0;this.currentInMeasureNoteAlterationsDict.containsKey(i)?(s&&this.currentAlterationsComparedToKeyInstructionList.splice(this.currentAlterationsComparedToKeyInstructionList.indexOf(i),1),this.currentInMeasureNoteAlterationsDict.getValue(i)!==e.AccidentalHalfTones&&(this.keySignatureNoteAlterationsDict.containsKey(i)&&this.keySignatureNoteAlterationsDict.getValue(i)!==e.AccidentalHalfTones?(this.currentAlterationsComparedToKeyInstructionList.push(i),this.currentInMeasureNoteAlterationsDict.setValue(i,e.AccidentalHalfTones)):this.currentInMeasureNoteAlterationsDict.remove(i),e.Accidental===n.AccidentalEnum.NONE&&(e=new r.Pitch(e.FundamentalNote,e.Octave,n.AccidentalEnum.NATURAL)),a.MusicSheetCalculator.symbolFactory.addGraphicalAccidental(t,e))):e.Accidental!==n.AccidentalEnum.NONE?(s||this.currentAlterationsComparedToKeyInstructionList.push(i),this.currentInMeasureNoteAlterationsDict.setValue(i,e.AccidentalHalfTones),a.MusicSheetCalculator.symbolFactory.addGraphicalAccidental(t,e)):s&&(e=new r.Pitch(e.FundamentalNote,e.Octave,n.AccidentalEnum.NATURAL),this.currentAlterationsComparedToKeyInstructionList.splice(this.currentAlterationsComparedToKeyInstructionList.indexOf(i),1),a.MusicSheetCalculator.symbolFactory.addGraphicalAccidental(t,e))}reactOnKeyInstructionChange(){const t=this.activeKeyInstruction.AlteratedNotes;let e;e=this.activeKeyInstruction.Key>0?n.AccidentalEnum.SHARP:n.AccidentalEnum.FLAT,this.keySignatureNoteAlterationsDict.clear(),this.currentAlterationsComparedToKeyInstructionList.length=0;for(let i=-9;i<9;i++)for(let s=0;s<t.length;s++)this.keySignatureNoteAlterationsDict.setValue(t[s]+12*i,r.Pitch.HalfTonesFromAccidental(e));this.doCalculationsAtEndOfMeasure()}}},function(t,e,i){\"use strict\";Object.defineProperty(e,\"__esModule\",{value:!0});const s=i(6);class n extends s.AbstractExpression{constructor(t,e,i,s){super(e),this.label=t,this.staffNumber=i,this.parentMultiTempoExpression=s}get Label(){return this.label}set Label(t){this.label=t}get Placement(){return this.placement}set Placement(t){this.placement=t}get StaffNumber(){return this.staffNumber}set StaffNumber(t){this.staffNumber=t}get ParentMultiTempoExpression(){return this.parentMultiTempoExpression}static isStringInStringList(t,e){for(const i of t)if(n.stringContainsSeparatedWord(e.toLowerCase().trim(),i.toLowerCase().trim()))return!0;return!1}static stringContainsSeparatedWord(t,e){return t===e||-1!==t.indexOf(\" \"+e)||-1!==t.indexOf(e+\" \")}}e.AbstractTempoExpression=n},function(t,e,i){\"use strict\";var s=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,\"__esModule\",{value:!0});const n=i(38),r=i(6),o=s(i(1));class a extends n.AbstractGraphicalExpression{constructor(t,e,i,s,n){super(t,new r.AbstractExpression(i),s),this.label=e,this.sourceMultiExpression=n}updateSkyBottomLine(){const t=this.parentStaffLine.SkyBottomLineCalculator,e=this.label.PositionAndShape.RelativePosition.x+this.label.PositionAndShape.BorderMarginLeft,i=this.label.PositionAndShape.RelativePosition.x+this.label.PositionAndShape.BorderMarginRight;switch(this.Placement){case r.PlacementEnum.Above:const s=this.label.PositionAndShape.BorderMarginTop+this.label.PositionAndShape.RelativePosition.y;t.updateSkyLineInRange(e,i,s);break;case r.PlacementEnum.Below:const n=this.label.PositionAndShape.BorderMarginBottom+this.label.PositionAndShape.RelativePosition.y;t.updateBottomLineInRange(e,i,n);break;default:o.default.error(\"Placement for GraphicalUnknownExpression is unknown\")}}}e.GraphicalUnknownExpression=a},function(t,e,i){\"use strict\";var s=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,\"__esModule\",{value:!0});const n=i(14),r=i(96),o=i(116),a=i(64),h=s(i(10)),l=s(i(1)),c=i(19),u=i(109),d=i(110),f=i(123),m=i(121),p=i(7),g=i(114),b=i(67),S=i(34),y=i(170);class x extends n.MusicSheetCalculator{constructor(t){super(),this.beamsNeedUpdate=!1,this.rules=t,n.MusicSheetCalculator.symbolFactory=new r.VexFlowGraphicalSymbolFactory,n.MusicSheetCalculator.TextMeasurer=new a.VexFlowTextMeasurer(this.rules),n.MusicSheetCalculator.stafflineNoteCalculator=new y.VexflowStafflineNoteCalculator(this.rules)}clearRecreatedObjects(){super.clearRecreatedObjects(),n.MusicSheetCalculator.stafflineNoteCalculator=new y.VexflowStafflineNoteCalculator(this.rules);for(const t of this.graphicalMusicSheet.MeasureList)for(const e of t)e.clean()}formatMeasures(){for(const t of this.graphicalMusicSheet.MeasureList){t[0].format();for(const e of t){for(const t of e.staffEntries)t.calculateXPosition();this.beamsNeedUpdate&&e.finalizeBeams()}}this.beamsNeedUpdate=!1}calculateMeasureXLayout(t){const e=[];for(const i of t)e.push(i);t=e;const i=[],s=new h.default.Flow.Formatter;for(const e of t){const t=e.vfVoices,n=[];for(const e in t)t.hasOwnProperty(e)&&(n.push(t[e]),i.push(t[e]));0!==n.length?s.joinVoices(n):l.default.debug(\"Found a measure with no voices. Continuing anyway.\",t)}let r=12;if(i.length>0){r=s.preCalculateMinTotalWidth(i)/c.unitInPixels+5,n.MusicSheetCalculator.setMeasuresMinStaffEntriesWidth(t,r);const e=t=>{s.format(i,t)},o=t=>{s.format(i,t,{align_rests:!0,context:void 0})};for(const i of t){if(this.rules.AlignRests===S.AlignRestOption.Never)i.formatVoices=e;else if(this.rules.AlignRests===S.AlignRestOption.Always)i.formatVoices=o;else if(this.rules.AlignRests===S.AlignRestOption.Auto){let t=!1;for(const e of i.staffEntries){let i=0,s=0;for(const n of e.graphicalVoiceEntries)if(n.parentVoiceEntry.IsGrace||n&&n.notes&&n.notes[0]&&n.notes[0].sourceNote&&n.notes[0].sourceNote.PrintObject&&i++,n&&n.notes&&n.notes[0]&&n.notes[0].sourceNote&&n.notes[0].sourceNote.isRest()&&n.notes[0].sourceNote.PrintObject&&s++,i>1&&s>=1){t=!0;break}if(t)break}i.formatVoices=t?o:e}if(i===t[0]){i.formatVoices(r*c.unitInPixels)}}}for(const e of t)for(const t of e.staffEntries)t.calculateXPosition();return r}calculateMeasureWidthFromLyrics(t,e){let i=1;for(const s of t){const t={};for(let n=0;n<s.staffEntries.length;n++){const r=s.staffEntries[n];if(0!==r.LyricsEntries.length)for(let n=0;n<r.LyricsEntries.length;n++){const o=r.LyricsEntries[n],a=o.GraphicalLabel.Label.textAlignment;let h=this.rules.HorizontalBetweenLyricsDistance,l=this.rules.LyricOverlapAllowedIntoNextMeasure;if(o.ParentLyricWord){o.LyricsEntry.SyllableIndex>0&&(h=this.rules.BetweenSyllableMinimumDistance,p.TextAlignment.IsCenterAligned(o.GraphicalLabel.Label.textAlignment)&&(h+=1));const t=o.ParentLyricWord.GetLyricWord.Syllables;t.length>1&&o.LyricsEntry.SyllableIndex<t.length-1&&(void 0===this.dashSpace&&(this.dashSpace=1.5),l-=this.dashSpace)}const c=o.GraphicalLabel.PositionAndShape,u=c.Size.width,d=r.PositionAndShape.RelativePosition.x+c.BorderMarginLeft;let f,m,g,b;t[n]&&t[n].extend,t[n]&&(m=d-t[n].lyricsXPosition);const S=e*i;p.TextAlignment.IsCenterAligned(a)?(l/=4,g=S-d,b=u/2-l,t[n]&&(f=t[n].labelWidth/2+u/2+h)):p.TextAlignment.IsLeft(a)&&(g=S-d,b=u-l,t[n]&&(f=t[n].labelWidth+h));let y=1;const x=b/g;let E=1;if(t[n]){const e=t[n].sourceNoteDuration;E=f/m,e.Denominator>4&&(E*=1.1)}y=Math.max(x,E),i=Math.max(i,y),t[n]={extend:o.LyricsEntry.extend,labelWidth:u,lyricsXPosition:d,measureNumber:s.MeasureNumber,sourceNoteDuration:o.LyricsEntry.Parent.Notes[0].Length,text:o.LyricsEntry.Text}}}}return e*i}createGraphicalTie(t,e,i,s,n){return new o.GraphicalTie(t,s,n)}updateStaffLineBorders(t){t.SkyBottomLineCalculator.updateStaffLineBorders()}graphicalMeasureCreatedCalculations(t){t.rules=this.rules,t.graphicalMeasureCreatedCalculations()}layoutVoiceEntry(t,e,i,s){}layoutStaffEntry(t){t.parentMeasure.layoutStaffEntry(t)}initGraphicalMeasuresCreation(){}layoutArticulationMarks(t,e,i){}layoutGraphicalTie(t,e){const i=t.StartNote,s=t.EndNote;let n=void 0,r=0;i&&i.vfnote&&i.vfnote.length>=2&&(n=i.vfnote[0],r=i.vfnote[1]);let o=void 0,a=0;if(s&&s.vfnote&&s.vfnote.length>=2&&(o=s.vfnote[0],a=s.vfnote[1]),e){if(n){const t=new h.default.Flow.StaveTie({first_indices:[r],first_note:n});i.parentVoiceEntry.parentStaffEntry.parentMeasure.vfTies.push(t)}if(o){const t=new h.default.Flow.StaveTie({last_indices:[a],last_note:o});s.parentVoiceEntry.parentStaffEntry.parentMeasure.vfTies.push(t)}}else if(n||o){const t=new h.default.Flow.StaveTie({first_indices:[r],first_note:n,last_indices:[a],last_note:o});s.parentVoiceEntry.parentStaffEntry.parentMeasure.vfTies.push(t)}}calculateDynamicExpressionsForMultiExpression(t,e,i){if(e<this.rules.MinMeasureToDrawIndex||e>this.rules.MaxMeasureToDrawIndex)return;const s=t.AbsoluteTimestamp,n=this.graphicalMusicSheet.MeasureList[e],r=n[i].ParentStaffLine,o=n[i],a=this.getRelativePositionInStaffLineFromTimestamp(s,i,r,null==r?void 0:r.isPartOfMultiStaffInstrument()),h=a;if(a.x<=0&&(h.x=o.beginInstructionsWidth+this.rules.RhythmRightMargin),t.InstantaneousDynamic){const e=new m.VexFlowInstantaneousDynamicExpression(t.InstantaneousDynamic,r,o);this.calculateGraphicalInstantaneousDynamicExpression(e,h)}if(t.StartingContinuousDynamic){const e=t.StartingContinuousDynamic,i=new b.VexFlowContinuousDynamicExpression(t.StartingContinuousDynamic,r,o.parentSourceMeasure);if(i.StartMeasure=o,!i.IsVerbal&&e.EndMultiExpression)try{this.calculateGraphicalContinuousDynamic(i,h)}catch(t){}else i.IsVerbal?this.calculateGraphicalVerbalContinuousDynamic(i,h):l.default.warn(\"This continuous dynamic is not covered\")}}createMetronomeMark(t){const e=this.graphicalMusicSheet.MeasureList[0][0].getVFStave();e.setTempo({bpm:t.TempoInBpm,dots:t.dotted,duration:\"q\"},this.rules.MetronomeMarkYShift*c.unitInPixels),e.getModifiers()[e.getModifiers().length-1].setShiftX(this.rules.MetronomeMarkXShift*c.unitInPixels);const i=this.graphicalMusicSheet.MeasureList[0][0].ParentStaffLine.SkyLine;i[0]=Math.min(i[0],-4.5+this.rules.MetronomeMarkYShift)}calculateSingleOctaveShift(t,e,i,s){var n;const r=e.OctaveShiftStart,o=r.ParentStartMultiExpression.Timestamp,a=null===(n=r.ParentEndMultiExpression)||void 0===n?void 0:n.Timestamp,h=this.rules.MinMeasureToDrawIndex,c=this.rules.MaxMeasureToDrawIndex;let u=this.graphicalMusicSheet.MeasureList[i][s].ParentStaffLine;u||(u=this.graphicalMusicSheet.MeasureList[h][s].ParentStaffLine);let d=void 0;d=r.ParentEndMultiExpression?this.graphicalMusicSheet.getGraphicalMeasureFromSourceMeasureAndIndex(r.ParentEndMultiExpression.SourceMeasureParent,s):this.graphicalMusicSheet.getLastGraphicalMeasureFromIndex(s,!0),d.MeasureNumber>c+1&&(d=this.graphicalMusicSheet.getLastGraphicalMeasureFromIndex(s,!0));let m=void 0;if(m=r.ParentEndMultiExpression?this.graphicalMusicSheet.getGraphicalMeasureFromSourceMeasureAndIndex(r.ParentStartMultiExpression.SourceMeasureParent,s):this.graphicalMusicSheet.MeasureList[h][s],m.MeasureNumber<h+1&&(m=this.graphicalMusicSheet.MeasureList[h][s]),m.MeasureNumber<h+1||m.MeasureNumber>c+1||d.MeasureNumber<h+1||d.MeasureNumber>c+1)return;let p=d.ParentStaffLine;if(p||(p=u),d&&u&&p){const t=new f.VexFlowOctaveShift(r,u.PositionAndShape);t.getStartNote()||t.setStartNote(m.staffEntries[0]),t.getStartNote()||t.setEndNote(d.staffEntries.last()),u.OctaveShifts.push(t);let e=m.findGraphicalStaffEntryFromTimestamp(o);e||(e=m.staffEntries[0]);let i=d.findGraphicalStaffEntryFromTimestamp(a);if(i||(i=d.staffEntries[d.staffEntries.length-1]),t.setStartNote(e),p!==u){t.endsOnDifferentStaffLine=!0;let s=u.Measures[u.Measures.length-1];s||(s=d);const n=s.staffEntries[s.staffEntries.length-1];t.setEndNote(n);const o=new f.VexFlowOctaveShift(r,d.PositionAndShape);p.OctaveShifts.push(o);let a=p.Measures[0];a||(a=m);const h=a.staffEntries[0];o.setStartNote(h),o.setEndNote(i),this.calculateOctaveShiftSkyBottomLine(e,n,t,u),this.calculateOctaveShiftSkyBottomLine(h,i,o,p)}else t.setEndNote(i),this.calculateOctaveShiftSkyBottomLine(e,i,t,u)}else l.default.warn(\"End measure or staffLines for octave shift are undefined! This should not happen!\")}calculateOctaveShiftSkyBottomLine(t,e,i,s){const n=t.PositionAndShape.AbsolutePosition.x-t.PositionAndShape.Size.width/2,r=e.PositionAndShape.AbsolutePosition.x+e.PositionAndShape.Size.width/2;i.PositionAndShape.Size.width=n-r;const o=i.getTextBracket(),a=o.font.size/10;if(1===o.position){const t=Math.ceil(s.SkyBottomLineCalculator.getSkyLineMinInRange(n,r));if(t===1/0)return;o.start.getStave().options.top_text_position=Math.abs(t),s.SkyBottomLineCalculator.updateSkyLineInRange(n,r,t-2*a)}else{const t=s.SkyBottomLineCalculator.getBottomLineMaxInRange(n,r);if(t===1/0)return;o.start.getStave().options.bottom_text_position=t,s.SkyBottomLineCalculator.updateBottomLineInRange(n,r,t+1.5*a)}}calculateWordRepetitionInstruction(t,e){let i=void 0;const s=this.graphicalMusicSheet.MeasureList[e];for(let t=0,e=s.length;t<e;++t){const e=s[t];if(e.ParentStaffLine&&e.ParentStaff.ParentInstrument.Visible){i=e;break}}i&&i.addWordRepetition(t)}calculateExpressionAlignements(){for(const t of this.musicSystems)for(const e of t.StaffLines)try{e.AlignmentManager.alignDynamicExpressions(),e.AbstractExpressions.forEach(t=>{t.updateSkyBottomLine()})}catch(t){}}handleTiedGraphicalNote(t,e,i,s,n,r,o,a){}handleBeam(t,e,i){t.parentVoiceEntry.parentStaffEntry.parentMeasure.handleBeam(t,e)}handleVoiceEntryLyrics(t,e,i){t.LyricsEntries.forEach((t,s)=>{const n=new u.GraphicalLyricEntry(s,e,this.rules.LyricsHeight,this.rules.StaffHeight);if(e.LyricsEntries.push(n),n.GraphicalLabel.setLabelPositionAndShapeBorders(),s.Word){const t=s.Word.Syllables.indexOf(s);let e=i.indexOf(s.Word);if(-1===e&&(i.push(s.Word),e=i.indexOf(s.Word)),0===this.graphicalLyricWords.length||e>this.graphicalLyricWords.length-1){const e=new d.GraphicalLyricWord(s.Word);n.ParentLyricWord=e,e.GraphicalLyricsEntries[t]=n,this.graphicalLyricWords.push(e)}else{const s=this.graphicalLyricWords[e];n.ParentLyricWord=s,s.GraphicalLyricsEntries[t]=n,s.isFilled()&&(i.splice(e,1),this.graphicalLyricWords.splice(this.graphicalLyricWords.indexOf(s),1))}}})}handleVoiceEntryOrnaments(t,e,i){}handleVoiceEntryArticulations(t,e,i){}handleVoiceEntryTechnicalInstructions(t,e,i){}handleTuplet(t,e,i){t.parentVoiceEntry.parentStaffEntry.parentMeasure.handleTuplet(t,e)}findIndexGraphicalSlurFromSlur(t,e){for(let i=0;i<t.length;i++)if(t[i].slur===e)return i;return-1}calculateSlurs(){const t={};for(const e of this.graphicalMusicSheet.MeasureList[0])t[e.ParentStaff.idInMusicSheet]=[];for(const e of this.musicSystems)for(const i of e.StaffLines){const e=t[i.ParentStaff.idInMusicSheet];for(let t=0;t<e.length;t++){const s=e[t],n=new g.GraphicalSlur(s.slur);i.addSlurToStaffline(n),e[t]=n}for(const t of i.Measures)for(const s of t.staffEntries){for(const t of s.graphicalVoiceEntries)for(const n of t.notes)for(const t of n.sourceNote.NoteSlurs)if(t.EndNote&&t.StartNote){if(t.StartNote===n.sourceNote){if(n.sourceNote.NoteTie&&n.parentVoiceEntry.parentStaffEntry.getAbsoluteTimestamp()!==n.sourceNote.NoteTie.StartNote.getAbsoluteTimestamp())break;const s=new g.GraphicalSlur(t);e.push(s),i.addSlurToStaffline(s)}if(t.EndNote===n.sourceNote){const i=this.findIndexGraphicalSlurFromSlur(e,t);if(i>=0){const t=e[i];-1===t.staffEntries.indexOf(s)&&t.staffEntries.push(s),e.splice(i,1)}}}for(const t of e)-1===t.staffEntries.indexOf(s)&&t.staffEntries.push(s)}}for(const t of this.musicSystems)for(const e of t.StaffLines){const t=e.GraphicalSlurs.sort(g.GraphicalSlur.Compare);for(const e of t)e.slur.isCrossed()||e.calculateCurve(this.rules)}}}e.VexFlowMusicSheetCalculator=x},function(t,e,i){\"use strict\";var s=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,\"__esModule\",{value:!0});const n=s(i(10)),r=i(97),o=i(72),a=i(124),h=i(31),l=i(70),c=i(107),u=i(73),d=i(18),f=i(169),m=i(125);e.VexFlowGraphicalSymbolFactory=class{createMusicSystem(t,e){return new r.VexFlowMusicSystem(t,e)}createStaffLine(t,e){return new m.VexFlowStaffLine(t,e)}createGraphicalMeasure(t,e,i=!1){return new o.VexFlowMeasure(e,t,void 0)}createTabStaffMeasure(t,e){return new f.VexFlowTabMeasure(e,t)}createExtraGraphicalMeasure(t){return new o.VexFlowMeasure(t.ParentStaff,void 0,t)}createStaffEntry(t,e){return new a.VexFlowStaffEntry(e,t,void 0)}createVoiceEntry(t,e){return new u.VexFlowVoiceEntry(t,e)}createNote(t,e,i,s=h.OctaveEnum.NONE,n){return new l.VexFlowGraphicalNote(t,e,i,s,n)}createGraceNote(t,e,i,s=h.OctaveEnum.NONE){return new l.VexFlowGraphicalNote(t,e,i,s)}addGraphicalAccidental(t,e){t.setAccidental(e)}addFermataAtTiedEndNote(t,e){}createInStaffClef(t,e){const i=t,s=d.VexFlowConverter.Clef(e,\"small\");i.vfClefBefore=new n.default.Flow.ClefNote(s.type,s.size,s.annotation)}createChordSymbols(t,e,i,s){const n=e.parentMeasure.parentSourceMeasure.Rules;let r=0;const o=n.ChordSymbolXSpacing;for(const a of t.ChordContainers){const t=new c.GraphicalChordSymbolContainer(a,e.PositionAndShape,n.ChordSymbolTextHeight,i,s,e.parentMeasure.parentSourceMeasure.Rules),h=t.GetGraphicalLabel;h.PositionAndShape.RelativePosition.y-=n.ChordSymbolYOffset,h.PositionAndShape.RelativePosition.x+=r,h.setLabelPositionAndShapeBorders(),t.PositionAndShape.calculateBoundingBox(),e.graphicalChordContainers.push(t),r+=h.PositionAndShape.Size.width+o}}createGraphicalTechnicalInstruction(t,e){}}},function(t,e,i){\"use strict\";Object.defineProperty(e,\"__esModule\",{value:!0});const s=i(98),n=i(100),r=i(18),o=i(71),a=i(122);class h extends s.MusicSystem{constructor(t,e){super(t),this.rules=e}calculateBorders(t){if(0===this.staffLines.length)return;const e=this.calcBracketsWidth();this.boundingBox.BorderLeft=-e,this.boundingBox.BorderMarginLeft=-e,this.boundingBox.XBordersHaveBeenSet=!0;const i=this.staffLines[0].SkyBottomLineCalculator.getSkyLineMin();this.boundingBox.BorderTop=i,this.boundingBox.BorderMarginTop=i;const s=this.staffLines[this.staffLines.length-1],n=s.SkyBottomLineCalculator.getBottomLineMax()+s.PositionAndShape.RelativePosition.y;this.boundingBox.BorderBottom=n,this.boundingBox.BorderMarginBottom=n,this.boundingBox.XBordersHaveBeenSet=!0,this.boundingBox.YBordersHaveBeenSet=!0}createSystemLine(t,e,i,s,o,a,h){return a.addMeasureLine(i,s),h&&(h.lineTo(a,r.VexFlowConverter.line(i,s)),h.addMeasureLine(i,s)),new n.SystemLine(i,s,this,a,h)}createInstrumentBracket(t,e){const i=t,s=e,n=new a.VexFlowInstrumentBrace(i,s);this.InstrumentBrackets.push(n)}createGroupBracket(t,e,i){const s=t,n=e;if(0===i){const t=new o.VexFlowInstrumentBracket(s,n,i);this.GroupBrackets.push(t)}else{const t=new a.VexFlowInstrumentBrace(s,n,i);this.GroupBrackets.push(t)}}}e.VexFlowMusicSystem=h},function(t,e,i){\"use strict\";var s=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,\"__esModule\",{value:!0});const n=i(60),r=i(3),o=i(0),a=i(7),h=i(22),l=i(5),c=i(4),u=i(32),d=s(i(12)),f=i(36),m=i(13);class p extends l.GraphicalObject{constructor(t){super(),this.needsToBeRedrawn=!0,this.staffLines=[],this.graphicalMeasures=[],this.labels=new d.default,this.measureNumberLabels=[],this.objectsToRedraw=[],this.instrumentBrackets=[],this.groupBrackets=[],this.graphicalMarkedAreas=[],this.graphicalComments=[],this.systemLines=[],this.breaksPage=!1,this.id=t,this.boundingBox=new r.BoundingBox(this),this.maxLabelLength=0}get Parent(){return this.parent}set Parent(t){if(this.parent){const t=this.parent.MusicSystems.indexOf(this,0);t>-1&&this.parent.MusicSystems.splice(t,1)}this.parent=t,this.boundingBox.Parent=t.PositionAndShape}get NextSystem(){const t=this.Parent.MusicSystems.indexOf(this);return t!==this.Parent.MusicSystems.length?this.Parent.MusicSystems[t+1]:void 0}get StaffLines(){return this.staffLines}get GraphicalMeasures(){return this.graphicalMeasures}get MeasureNumberLabels(){return this.measureNumberLabels}get Labels(){return this.labels.values()}get ObjectsToRedraw(){return this.objectsToRedraw}get InstrumentBrackets(){return this.instrumentBrackets}get GroupBrackets(){return this.groupBrackets}get GraphicalMarkedAreas(){return this.graphicalMarkedAreas}get GraphicalComments(){return this.graphicalComments}get SystemLines(){return this.systemLines}get Id(){return this.id}createSystemLeftLine(t,e,i){let s=-t/2;i&&(s=this.maxLabelLength+e-t/2);const n=this.staffLines[0].Measures[0];let r=void 0;this.staffLines.length>1&&(r=this.staffLines[this.staffLines.length-1].Measures[0]);const o=this.createSystemLine(s,t,u.SystemLinesEnum.SingleThin,f.SystemLinePosition.MeasureBegin,this,n,r);this.SystemLines.push(o),o.PositionAndShape.RelativePosition=new c.PointF2D(s,0),o.PositionAndShape.BorderLeft=0,o.PositionAndShape.BorderRight=t,o.PositionAndShape.BorderTop=0,o.PositionAndShape.BorderBottom=this.boundingBox.Size.height,this.createLinesForSystemLine(o)}createVerticalLineForMeasure(t,e,i,s,n,r){const o=r.ParentStaffLine,a=new c.PointF2D(o.PositionAndShape.RelativePosition.x,o.PositionAndShape.RelativePosition.y),h=o.ParentStaff.ParentInstrument.Staves;if(o.ParentStaff===h[0]){let l=void 0;h.length>1&&(l=this.getBottomStaffLine(o).Measures[n]);const u=this.createSystemLine(t,e,i,s,this,r,l),d=a.x+t;u.PositionAndShape.RelativePosition=new c.PointF2D(d,0),u.PositionAndShape.BorderLeft=0,u.PositionAndShape.BorderRight=e,this.SystemLines.push(u)}}setYPositionsToVerticalLineObjectsAndCreateLines(t){}calculateBorders(t){}alignBeginInstructions(){}GetLeftBorderAbsoluteXPosition(){return this.StaffLines[0].PositionAndShape.AbsolutePosition.x+this.StaffLines[0].Measures[0].beginInstructionsWidth}GetRightBorderAbsoluteXPosition(){return this.StaffLines[0].PositionAndShape.AbsolutePosition.x+this.StaffLines[0].StaffLines[0].End.x}AddGraphicalMeasures(t){for(let e=0,i=t.length;e<i;++e){t[e].ParentMusicSystem=this}this.graphicalMeasures.push(t)}GetSystemsFirstTimeStamp(){return this.graphicalMeasures[0][0].parentSourceMeasure.AbsoluteTimestamp}GetSystemsLastTimeStamp(){const t=this.graphicalMeasures[this.graphicalMeasures.length-1][0].parentSourceMeasure;return o.Fraction.plus(t.AbsoluteTimestamp,t.Duration)}createInstrumentBrackets(t,e){for(let e=0,i=t.length;e<i;++e){const i=t[e];if(i.Staves.length>1){let t=void 0,e=void 0;for(let s=0,n=this.staffLines.length;s<n;++s){const n=this.staffLines[s];n.ParentStaff===i.Staves[0]&&(t=n),n.ParentStaff===i.Staves[i.Staves.length-1]&&(e=n)}t&&e&&this.createInstrumentBracket(t,e)}}}createGroupBrackets(t,e,i){for(let s=0,n=t.length;s<n;++s){const n=t[s];if(n.InstrumentalGroups.length<1)continue;const r=this.findFirstVisibleInstrumentInInstrumentalGroup(n),o=this.findLastVisibleInstrumentInInstrumentalGroup(n);if(!r||!o)continue;let a=void 0,h=void 0;for(let t=0,e=this.staffLines.length;t<e;++t){const e=this.staffLines[t];e.ParentStaff===r.Staves[0]&&(a=e),e.ParentStaff===o.Staves[0]&&(h=e)}a&&h&&this.createGroupBracket(a,h,i),n.InstrumentalGroups.length<1||this.createGroupBrackets(n.InstrumentalGroups,e,i+1)}}createMusicSystemLabel(t,e,i,s=!1){for(let i=0,n=this.staffLines.length;i<n;++i){const n=this.staffLines[i].ParentStaff.ParentInstrument;let r;if(s)r=n.NameLabel,this.rules.RenderPartNames||(r=new m.Label(\"\",n.NameLabel.textAlignment,n.NameLabel.font),e=0);else{if(!this.rules.RenderPartAbbreviations||1===this.staffLines.length||!n.PartAbbreviation||\"\"===n.PartAbbreviation)return;const t=n.PartAbbreviation;r=new m.Label(t,n.NameLabel.textAlignment,n.NameLabel.font)}const o=new h.GraphicalLabel(r,t,a.TextAlignmentEnum.LeftCenter,this.rules,this.boundingBox);o.setLabelPositionAndShapeBorders(),this.labels.setValue(n,o)}this.maxLabelLength=0;const n=this.labels.values();for(let t=0,e=n.length;t<e;++t){const e=n[t];e.PositionAndShape.Size.width>this.maxLabelLength&&(this.maxLabelLength=e.PositionAndShape.Size.width)}this.updateMusicSystemStaffLineXPosition(e)}setMusicSystemLabelsYPosition(){this.labels.forEach((t,e)=>{let i=0,s=0;for(let e=0;e<this.staffLines.length;e++)if(this.staffLines[e].ParentStaff.ParentInstrument===t){for(let n=e;n<this.staffLines.length;n++){const e=this.staffLines[n];if(e.ParentStaff.ParentInstrument!==t)break;i+=e.PositionAndShape.RelativePosition.y,s++}break}s>0&&(e.PositionAndShape.RelativePosition=new c.PointF2D(0,i/s+2))})}checkStaffEntriesForStaffEntryLink(){let t=!1,e=!1;for(let i=0;i<this.staffLines.length-1;i++){for(let e=0,s=this.staffLines[i].Measures.length;e<s;++e){const s=this.staffLines[i].Measures[e];for(let e=0,i=s.staffEntries.length;e<i;++e){s.staffEntries[e].sourceStaffEntry.Link&&(t=!0)}}for(let t=0,s=this.staffLines[i+1].Measures.length;t<s;++t){const s=this.staffLines[i+1].Measures[t];for(let t=0,i=s.staffEntries.length;t<i;++t){s.staffEntries[t].sourceStaffEntry.Link&&(e=!0)}}}return!(!t||!e)}getBottomStaffLine(t){const e=t.ParentStaff.ParentInstrument.Staves,i=e[e.length-1];for(const e of t.ParentMusicSystem.staffLines)if(e.ParentStaff===i)return e}createSystemLine(t,e,i,s,n,r,o){throw new Error(\"not implemented\")}createLinesForSystemLine(t){}calcBracketsWidth(){let t=0;for(let e=0,i=this.GroupBrackets.length;e<i;++e){const i=this.GroupBrackets[e];t=Math.max(t,i.PositionAndShape.Size.width)}for(let e=0,i=this.InstrumentBrackets.length;e<i;++e){const i=this.InstrumentBrackets[e];t=Math.max(t,i.PositionAndShape.Size.width)}return t}createInstrumentBracket(t,e){}createGroupBracket(t,e,i){}findFirstVisibleInstrumentInInstrumentalGroup(t){for(let e=0,i=t.InstrumentalGroups.length;e<i;++e){const i=t.InstrumentalGroups[e];if(!(i instanceof n.Instrument))return this.findFirstVisibleInstrumentInInstrumentalGroup(i);if(!0===i.Visible)return i}}findLastVisibleInstrumentInInstrumentalGroup(t){let e;for(let i=t.InstrumentalGroups.length-1;i>=0;i--){if(e=t.InstrumentalGroups[i],!(e instanceof n.Instrument))return this.findLastVisibleInstrumentInInstrumentalGroup(e);if(!0===e.Visible)return e}}updateMusicSystemStaffLineXPosition(t){for(let e=0,i=this.StaffLines.length;e<i;++e){const i=this.StaffLines[e],s=i.PositionAndShape.RelativePosition;s.x=this.maxLabelLength+t,i.PositionAndShape.RelativePosition=s,i.PositionAndShape.BorderRight=this.boundingBox.Size.width-this.maxLabelLength-t;for(let t=0;t<i.StaffLines.length;t++){const e=new c.PointF2D(i.PositionAndShape.Size.width,i.StaffLines[t].End.y);i.StaffLines[t].End=e}}}}e.MusicSystem=p},function(t,e,i){\"use strict\";Object.defineProperty(e,\"__esModule\",{value:!0});e.Staff=class{constructor(t,e){this.isTab=!1,this.voices=[],this.volume=1,this.stafflineCount=5,this.parentInstrument=t,this.id=e,this.audible=!0,this.following=!0}get ParentInstrument(){return this.parentInstrument}set ParentInstrument(t){this.parentInstrument=t}get Voices(){return this.voices}get Id(){return this.id}get Volume(){return this.volume}set Volume(t){this.volume=t}get StafflineCount(){return this.stafflineCount}set StafflineCount(t){this.stafflineCount=t}}},function(t,e,i){\"use strict\";Object.defineProperty(e,\"__esModule\",{value:!0});const s=i(32),n=i(3),r=i(5);class o extends r.GraphicalObject{constructor(t,e,i,s,r){super(),this.lineType=t,this.linePosition=e,this.parentMusicSystem=i,this.topMeasure=s,this.bottomMeasure=r,this.parentTopStaffLine=s.ParentStaffLine,this.boundingBox=new n.BoundingBox(this,i.PositionAndShape)}static getObjectWidthForLineType(t,e){switch(e){case s.SystemLinesEnum.SingleThin:return t.SystemThinLineWidth;case s.SystemLinesEnum.DoubleThin:return 2*t.SystemThinLineWidth+t.DistanceBetweenVerticalSystemLines;case s.SystemLinesEnum.ThinBold:return t.SystemThinLineWidth+t.SystemBoldLineWidth+t.DistanceBetweenVerticalSystemLines;case s.SystemLinesEnum.BoldThinDots:case s.SystemLinesEnum.DotsThinBold:return t.SystemThinLineWidth+t.SystemBoldLineWidth+t.DistanceBetweenVerticalSystemLines+t.SystemDotWidth+t.DistanceBetweenDotAndLine;case s.SystemLinesEnum.DotsBoldBoldDots:return 2*t.SystemBoldLineWidth+2*t.SystemDotWidth+2*t.DistanceBetweenDotAndLine+t.DistanceBetweenVerticalSystemLines;default:return 0}}}e.SystemLine=o},function(t,e,i){\"use strict\";Object.defineProperty(e,\"__esModule\",{value:!0});const s=i(3),n=i(21),r=i(20),o=i(52),a=i(4),h=i(22),l=i(13),c=i(7),u=i(11),d=i(63),f=i(102);e.MusicSheetDrawer=class{constructor(t,e){this.drawableBoundingBoxElement=!1,this.skyLineVisible=!1,this.bottomLineVisible=!1,this.phonicScoreMode=f.PhonicScoreModes.Manual,this.textMeasurer=t,this.splitScreenLineColor=-1,this.drawingParameters=e}set Mode(t){this.phonicScoreMode=t}drawSheet(t){if(this.graphicalMusicSheet=t,this.rules=t.ParentMusicSheet.Rules,this.drawSplitScreenLine(),this.drawingParameters.drawCursors)for(const e of t.Cursors){if(!e)continue;const t=new s.BoundingBox(e);t.AbsolutePosition=e.Start,t.BorderBottom=e.End.y-e.Start.y,t.BorderRight=e.Width/2,t.BorderLeft=-e.Width/2,this.isVisible(t)&&this.drawLineAsVerticalRectangle(e,n.GraphicalLayers.Cursor)}this.drawingParameters.drawScrollIndicator&&this.drawScrollIndicator();for(const t of this.graphicalMusicSheet.MusicPages)this.drawPage(t)}drawLineAsHorizontalRectangle(t,e){let i=new o.RectangleF2D(t.Start.x,t.End.y-t.Width/2,t.End.x-t.Start.x,t.Width);i=this.applyScreenTransformationForRect(i),this.renderRectangle(i,e,t.styleId)}drawLineAsVerticalRectangle(t,e){const i=t.Start,s=t.Width;let n=new o.RectangleF2D(i.x-s/2,i.y,s,t.End.y-i.y);n=this.applyScreenTransformationForRect(n),this.renderRectangle(n,e,t.styleId)}drawLineAsHorizontalRectangleWithOffset(t,e,i){const s=new a.PointF2D(t.Start.x+e.x,t.Start.y+e.y),n=new a.PointF2D(t.End.x+e.x,t.End.y+e.y),r=t.Width;let h=new o.RectangleF2D(s.x,n.y-r/2,n.x-s.x,r);h=this.applyScreenTransformationForRect(h),this.renderRectangle(h,i,t.styleId)}drawLineAsVerticalRectangleWithOffset(t,e,i){const s=new a.PointF2D(t.Start.x+e.x,t.Start.y+e.y),n=new a.PointF2D(t.End.x+e.x,t.End.y+e.y),r=t.Width;let h=new o.RectangleF2D(s.x,s.y,r,n.y-s.y);h=this.applyScreenTransformationForRect(h),this.renderRectangle(h,i,t.styleId)}drawRectangle(t,e){const i=t.PositionAndShape;let s=new o.RectangleF2D(i.AbsolutePosition.x,i.AbsolutePosition.y,i.BorderRight,i.BorderBottom);s=this.applyScreenTransformationForRect(s),this.renderRectangle(s,e,t.style)}calculatePixelDistance(t){throw new Error(\"not implemented\")}drawLabel(t,e){if(!this.isVisible(t.PositionAndShape))return;const i=t.Label;if(\"\"===i.text.trim())return;const s=this.applyScreenTransformation(t.PositionAndShape.AbsolutePosition),n=this.calculatePixelDistance(i.fontHeight),r=n*this.textMeasurer.computeTextWidthToHeightRatio(i.text,i.font,i.fontStyle),o=Math.ceil(r),a=Math.ceil(1.2*n);switch(i.textAlignment){case c.TextAlignmentEnum.LeftTop:break;case c.TextAlignmentEnum.LeftCenter:s.y-=a/2;break;case c.TextAlignmentEnum.LeftBottom:s.y-=a;break;case c.TextAlignmentEnum.CenterTop:s.x-=o/2;break;case c.TextAlignmentEnum.CenterCenter:s.x-=o/2,s.y-=a/2;break;case c.TextAlignmentEnum.CenterBottom:s.x-=o/2,s.y-=a;break;case c.TextAlignmentEnum.RightTop:s.x-=o;break;case c.TextAlignmentEnum.RightCenter:s.x-=o,s.y-=a/2;break;case c.TextAlignmentEnum.RightBottom:s.x-=o,s.y-=a;break;default:throw new u.ArgumentOutOfRangeException(\"\")}this.renderLabel(t,e,o,a,n,s)}applyScreenTransformation(t){throw new Error(\"not implemented\")}applyScreenTransformations(t){const e=[];for(const i of t)e.push(this.applyScreenTransformation(i));return e}applyScreenTransformationForRect(t){throw new Error(\"not implemented\")}drawSplitScreenLine(){}renderRectangle(t,e,i,s=1){throw new Error(\"not implemented\")}drawScrollIndicator(){}drawSelectionStartSymbol(t){}drawSelectionEndSymbol(t){}renderLabel(t,e,i,s,n,r){throw new Error(\"not implemented\")}renderSystemToScreen(t,e,i){}drawMeasure(t){throw new Error(\"not implemented\")}drawSkyLine(t){}drawBottomLine(t){}drawInstrumentBrace(t,e){}drawGroupBracket(t,e){}isVisible(t){return!0}drawMusicSystem(t){const e=this.getSystemAbsBoundingRect(t),i=this.getSytemBoundingBoxInPixels(e);this.drawMusicSystemComponents(t,i,e)}getSytemBoundingBoxInPixels(t){const e=this.applyScreenTransformationForRect(t);return e.x=Math.round(e.x),e.y=Math.round(e.y),e}getSystemAbsBoundingRect(t){const e=t.PositionAndShape.BoundingRectangle;return new o.RectangleF2D(t.PositionAndShape.AbsolutePosition.x+t.PositionAndShape.BorderLeft-1,t.PositionAndShape.AbsolutePosition.y+t.PositionAndShape.BorderTop-1,e.width+6,e.height+2)}drawMusicSystemComponents(t,e,i){const s=this.graphicalMusicSheet.SelectionStartSymbol,r=this.graphicalMusicSheet.SelectionEndSymbol;this.drawingParameters.drawSelectionStartSymbol&&void 0!==s&&this.isVisible(s.PositionAndShape)&&this.drawSelectionStartSymbol(s),this.drawingParameters.drawSelectionEndSymbol&&void 0!==r&&this.isVisible(r.PositionAndShape)&&this.drawSelectionEndSymbol(r);for(const e of t.StaffLines)this.drawStaffLine(e),this.rules.RenderLyrics&&(e.LyricsDashes.length>0&&this.drawDashes(e.LyricsDashes),e.LyricLines.length>0&&this.drawLyricLines(e.LyricLines,e));for(const e of t.SystemLines)this.drawSystemLineObject(e);if(t.Parent===t.Parent.Parent.MusicPages[0])for(const e of t.Labels)this.drawLabel(e,n.GraphicalLayers.Notes);for(const e of t.InstrumentBrackets)this.drawInstrumentBrace(e,t);for(const e of t.GroupBrackets)this.drawGroupBracket(e,t);if(!this.leadSheet)for(const e of t.MeasureNumberLabels)this.drawLabel(e,n.GraphicalLayers.Notes);for(const e of t.StaffLines)this.drawStaffLineSymbols(e);this.drawingParameters.drawMarkedAreas&&this.drawMarkedAreas(t),this.drawingParameters.drawComments&&this.drawComment(t)}activateSystemRendering(t,e,i,s){return!0}drawSystemLineObject(t){}drawStaffLine(t){for(const e of t.Measures)this.drawMeasure(e);this.rules.RenderLyrics&&t.LyricsDashes.length>0&&this.drawDashes(t.LyricsDashes),this.drawOctaveShifts(t),this.drawExpressions(t),this.skyLineVisible&&this.drawSkyLine(t),this.bottomLineVisible&&this.drawBottomLine(t)}drawLyricLines(t,e){e.LyricLines.forEach(t=>{t.Start.y+=e.PositionAndShape.AbsolutePosition.y,t.End.y+=e.PositionAndShape.AbsolutePosition.y,t.Start.x+=e.PositionAndShape.AbsolutePosition.x,t.End.x+=e.PositionAndShape.AbsolutePosition.x,this.drawGraphicalLine(t,this.rules.LyricUnderscoreLineWidth)})}drawExpressions(t){}drawGraphicalLine(t,e,i=\"black\"){this.drawLine(t.Start,t.End,i,e)}drawLine(t,e,i=\"#FF0000FF\",s){}drawDashes(t){t.forEach(t=>this.drawLabel(t,n.GraphicalLayers.Notes))}drawOctaveShifts(t){}drawStaffLines(t){if(t.StaffLines){const e=t.PositionAndShape.AbsolutePosition;for(let i=0;i<5;i++)this.drawLineAsHorizontalRectangleWithOffset(t.StaffLines[i],e,n.GraphicalLayers.Notes)}}drawInstantaneousDynamic(t){throw new Error(\"not implemented\")}drawContinuousDynamic(t){throw new Error(\"not implemented\")}drawSymbol(t,e,i,s=1,r=n.GraphicalLayers.Notes){}get leadSheet(){return this.graphicalMusicSheet.LeadSheet}set leadSheet(t){this.graphicalMusicSheet.LeadSheet=t}drawPage(t){if(this.isVisible(t.PositionAndShape)){for(const e of t.MusicSystems)this.isVisible(e.PositionAndShape)&&this.drawMusicSystem(e);if(t===t.Parent.MusicPages[0])for(const e of t.Labels)this.drawLabel(e,n.GraphicalLayers.Notes);this.drawableBoundingBoxElement&&this.drawBoundingBoxes(t.PositionAndShape,0,this.drawableBoundingBoxElement)}}drawBoundingBoxes(t,e=0,i=\"all\"){const s=t.DataObject.constructor.name;if(s===i||\"all\"===i){let i=new o.RectangleF2D(t.AbsolutePosition.x+t.BorderMarginLeft,t.AbsolutePosition.y+t.BorderMarginTop,t.BorderMarginRight-t.BorderMarginLeft,t.BorderMarginBottom-t.BorderMarginTop);this.drawLineAsHorizontalRectangle(new r.GraphicalLine(new a.PointF2D(t.AbsolutePosition.x-1,t.AbsolutePosition.y),new a.PointF2D(t.AbsolutePosition.x+1,t.AbsolutePosition.y),.1,n.OutlineAndFillStyleEnum.BaseWritingColor),e-1),this.drawLineAsVerticalRectangle(new r.GraphicalLine(new a.PointF2D(t.AbsolutePosition.x,t.AbsolutePosition.y-1),new a.PointF2D(t.AbsolutePosition.x,t.AbsolutePosition.y+1),.1,n.OutlineAndFillStyleEnum.BaseWritingColor),e-1),i=this.applyScreenTransformationForRect(i),this.renderRectangle(i,n.GraphicalLayers.Background,e,.5);const u=new l.Label(s);this.renderLabel(new h.GraphicalLabel(u,.8,c.TextAlignmentEnum.CenterCenter,this.rules),e,i.width,i.height,i.height,new a.PointF2D(i.x,i.y+12))}e++,t.ChildElements.forEach(t=>this.drawBoundingBoxes(t,e,i))}drawMarkedAreas(t){for(const e of t.GraphicalMarkedAreas)e&&(e.systemRectangle&&this.drawRectangle(e.systemRectangle,n.GraphicalLayers.Background),e.settings&&this.drawLabel(e.settings,n.GraphicalLayers.Comment),e.labelRectangle&&this.drawRectangle(e.labelRectangle,n.GraphicalLayers.Background),e.label&&this.drawLabel(e.label,n.GraphicalLayers.Comment))}drawComment(t){for(const e of t.GraphicalComments)e&&(e.settings&&this.drawLabel(e.settings,n.GraphicalLayers.Comment),e.label&&this.drawLabel(e.label,n.GraphicalLayers.Comment))}drawStaffLineSymbols(t){const e=t.ParentStaff.ParentInstrument,i=t.PositionAndShape.AbsolutePosition.x,s=t.PositionAndShape.AbsolutePosition.y+2,o=t.PositionAndShape.BorderRight;e.highlight&&this.drawingParameters.drawHighlights&&this.drawLineAsHorizontalRectangle(new r.GraphicalLine(new a.PointF2D(i,s),new a.PointF2D(i+o,s),4,n.OutlineAndFillStyleEnum.Highlighted),n.GraphicalLayers.Highlight);let h=f.MusicSymbolDrawingStyle.Disabled,l=d.MusicSymbol.PLAY,c=this.drawingParameters.drawActivitySymbols;switch(this.phonicScoreMode){case f.PhonicScoreModes.Midi:l=d.MusicSymbol.PLAY,this.midiPlaybackAvailable&&t.ParentStaff.audible&&(h=f.MusicSymbolDrawingStyle.PlaybackSymbols);break;case f.PhonicScoreModes.Following:l=d.MusicSymbol.MIC,t.ParentStaff.following&&(h=f.MusicSymbolDrawingStyle.FollowSymbols);break;default:c=!1}if(c){const t=new a.PointF2D(i+o+2,s);this.drawSymbol(l,h,t)}if(this.drawingParameters.drawErrors)for(const e of t.Measures){const t=e.PositionAndShape,i=t.AbsolutePosition.x,s=t.AbsolutePosition.y+2;e.hasError&&this.graphicalMusicSheet.ParentMusicSheet.DrawErroneousMeasures&&this.drawLineAsHorizontalRectangle(new r.GraphicalLine(new a.PointF2D(i,s),new a.PointF2D(i+t.BorderRight,s),4,n.OutlineAndFillStyleEnum.ErrorUnderlay),n.GraphicalLayers.MeasureError)}}}},function(t,e,i){\"use strict\";Object.defineProperty(e,\"__esModule\",{value:!0}),function(t){t[t.All=0]=\"All\",t[t.NoOverlays=1]=\"NoOverlays\",t[t.Leadsheet=2]=\"Leadsheet\"}(e.DrawingMode||(e.DrawingMode={})),function(t){t[t.Normal=0]=\"Normal\",t[t.Disabled=1]=\"Disabled\",t[t.Selected=2]=\"Selected\",t[t.Clickable=3]=\"Clickable\",t[t.PlaybackSymbols=4]=\"PlaybackSymbols\",t[t.FollowSymbols=5]=\"FollowSymbols\",t[t.QFeedbackNotFound=6]=\"QFeedbackNotFound\",t[t.QFeedbackOk=7]=\"QFeedbackOk\",t[t.QFeedbackPerfect=8]=\"QFeedbackPerfect\",t[t.Debug1=9]=\"Debug1\",t[t.Debug2=10]=\"Debug2\",t[t.Debug3=11]=\"Debug3\"}(e.MusicSymbolDrawingStyle||(e.MusicSymbolDrawingStyle={})),function(t){t[t.Following=0]=\"Following\",t[t.Midi=1]=\"Midi\",t[t.Manual=2]=\"Manual\"}(e.PhonicScoreModes||(e.PhonicScoreModes={}))},function(t,e,i){\"use strict\";Object.defineProperty(e,\"__esModule\",{value:!0});var s;e.Arpeggio=class{constructor(t,e=s.ARPEGGIO_DIRECTIONLESS){this.parentVoiceEntry=t,this.type=e,this.notes=[]}addNote(t){this.notes.push(t),t.Arpeggio=this}},function(t){t[t.BRUSH_DOWN=1]=\"BRUSH_DOWN\",t[t.BRUSH_UP=2]=\"BRUSH_UP\",t[t.ROLL_DOWN=3]=\"ROLL_DOWN\",t[t.ROLL_UP=4]=\"ROLL_UP\",t[t.RASQUEDO_DOWN=5]=\"RASQUEDO_DOWN\",t[t.RASQUEDO_UP=6]=\"RASQUEDO_UP\",t[t.ARPEGGIO_DIRECTIONLESS=7]=\"ARPEGGIO_DIRECTIONLESS\"}(s=e.ArpeggioType||(e.ArpeggioType={}))},function(t,e,i){\"use strict\";Object.defineProperty(e,\"__esModule\",{value:!0});e.Beam=class{constructor(){this.notes=[],this.extendedNoteList=[]}get Notes(){return this.notes}set Notes(t){this.notes=t}get ExtendedNoteList(){return this.extendedNoteList}set ExtendedNoteList(t){this.extendedNoteList=t}addNoteToBeam(t){t&&(t.NoteBeam=this,this.notes.push(t),this.extendedNoteList.push(t))}},function(t){t[t.BeamNone=-1]=\"BeamNone\",t[t.BeamBegin=0]=\"BeamBegin\",t[t.BeamContinue=1]=\"BeamContinue\",t[t.BeamEnd=2]=\"BeamEnd\",t[t.BeamForward=3]=\"BeamForward\",t[t.BeamBackward=4]=\"BeamBackward\"}(e.BeamEnum||(e.BeamEnum={}))},function(t,e,i){\"use strict\";var s;Object.defineProperty(e,\"__esModule\",{value:!0}),function(t){t[t.UNDEFINED=0]=\"UNDEFINED\",t[t._1024th=1]=\"_1024th\",t[t._512th=2]=\"_512th\",t[t._256th=3]=\"_256th\",t[t._128th=4]=\"_128th\",t[t._64th=5]=\"_64th\",t[t._32nd=6]=\"_32nd\",t[t._16th=7]=\"_16th\",t[t.EIGTH=8]=\"EIGTH\",t[t.QUARTER=9]=\"QUARTER\",t[t.HALF=10]=\"HALF\",t[t.WHOLE=11]=\"WHOLE\",t[t.BREVE=12]=\"BREVE\",t[t.LONG=13]=\"LONG\",t[t.MAXIMA=14]=\"MAXIMA\"}(s=e.NoteType||(e.NoteType={}));class n{static NoteTypeToString(t){return this.NoteTypeXmlValues[t]}static StringToNoteType(t){const e=this.NoteTypeXmlValues.indexOf(t);return-1!==e?e:s.UNDEFINED}}e.NoteTypeHandler=n,n.NoteTypeXmlValues=[\"\",\"1024th\",\"512th\",\"256th\",\"128th\",\"64th\",\"32nd\",\"16th\",\"eigth\",\"quarter\",\"half\",\"whole\",\"breve\",\"long\",\"maxima\"]},function(t,e,i){\"use strict\";Object.defineProperty(e,\"__esModule\",{value:!0});const s=i(67),n=i(4);e.AlignmentManager=class{constructor(t){this.parentStaffline=t,this.rules=this.parentStaffline.ParentMusicSystem.rules}alignDynamicExpressions(){var t,e;const i=[];let n=new Array;for(let s=0;s<this.parentStaffline.AbstractExpressions.length-1;s++){const r=this.parentStaffline.AbstractExpressions[s],o=this.parentStaffline.AbstractExpressions[s+1];if((null===(t=null==r?void 0:r.SourceExpression)||void 0===t?void 0:t.Placement)===(null===(e=null==o?void 0:o.SourceExpression)||void 0===e?void 0:e.Placement)){const t=this.getDistance(r.PositionAndShape,o.PositionAndShape);Math.abs(t.x)<this.rules.DynamicExpressionMaxDistance?(-1===n.indexOf(r)&&n.push(r),n.push(o)):(i.push(n),n=new Array)}}i.push(n);for(const t of i)if(t.length>0){const e=t.map(t=>t.PositionAndShape.Center.y),i=Math.max(...e);for(let n=0;n<t.length;n++){const r=t[n],o=e[n]-i;if(r instanceof s.VexFlowContinuousDynamicExpression?(r.shiftYPosition(-o),r.calcPsi()):(r.PositionAndShape.RelativePosition.y-=.8*o,r.PositionAndShape.calculateBoundingBox()),r.squeeze){const e=n<t.length-1?t[n+1]:void 0,i=n>0?t[n-1]:void 0;if(e){const t=this.getOverlap(r.PositionAndShape,e.PositionAndShape);r.squeeze(-(t.x+this.rules.DynamicExpressionSpacer))}if(i){const t=this.getOverlap(i.PositionAndShape,r.PositionAndShape);r.squeeze(t.x+this.rules.DynamicExpressionSpacer)}}}}}getDistance(t,e){const i=t.RelativePosition.x+t.BorderMarginRight,s=e.RelativePosition.x+e.BorderMarginLeft,r=t.RelativePosition.y+t.BorderMarginBottom,o=e.RelativePosition.y+e.BorderMarginTop;return new n.PointF2D(s-i,o-r)}getOverlap(t,e){return new n.PointF2D(t.RelativePosition.x+t.BorderMarginRight-(e.RelativePosition.x+e.BorderMarginLeft),t.RelativePosition.y+t.BorderMarginBottom-(e.RelativePosition.y+e.BorderMarginTop))}}},function(t,e,i){\"use strict\";Object.defineProperty(e,\"__esModule\",{value:!0});const s=i(7),n=i(13),r=i(22),o=i(44),a=i(3),h=i(5),l=i(4);class c extends h.GraphicalObject{constructor(t,e,i,s,n,r){super(),this.chordSymbolContainer=t,this.boundingBox=new a.BoundingBox(this,e),this.calculateLabel(i,n,s),this.rules=r}get GetChordSymbolContainer(){return this.chordSymbolContainer}get GetGraphicalLabel(){return this.graphicalLabel}calculateLabel(t,e,i){const a=o.ChordSymbolContainer.calculateChordText(this.chordSymbolContainer,e,i);this.graphicalLabel=new r.GraphicalLabel(new n.Label(a),t,s.TextAlignmentEnum.CenterBottom,this.rules,this.boundingBox),this.graphicalLabel.PositionAndShape.RelativePosition=new l.PointF2D(0,0)}}e.GraphicalChordSymbolContainer=c},function(t,e,i){\"use strict\";Object.defineProperty(e,\"__esModule\",{value:!0});const s=i(4);class n{constructor(){n.tPow3=new Array(n.bezierCurveStepSize),n.oneMinusTPow3=new Array(n.bezierCurveStepSize),n.bezierFactorOne=new Array(n.bezierCurveStepSize),n.bezierFactorTwo=new Array(n.bezierCurveStepSize);for(let t=0;t<n.bezierCurveStepSize;t++){const e=t/n.bezierCurveStepSize;n.tPow3[t]=Math.pow(e,3),n.oneMinusTPow3[t]=Math.pow(1-e,3),n.bezierFactorOne[t]=3*Math.pow(1-e,2)*e,n.bezierFactorTwo[t]=3*(1-e)*Math.pow(e,2)}}calculateCurvePointAtIndex(t){const e=Math.round(t*n.bezierCurveStepSize);return e<0||e>=n.bezierCurveStepSize?new s.PointF2D:new s.PointF2D(n.oneMinusTPow3[e]*this.bezierStartPt.x+n.bezierFactorOne[e]*this.bezierStartControlPt.x+n.bezierFactorTwo[e]*this.bezierEndControlPt.x+n.tPow3[e]*this.bezierEndPt.x,n.oneMinusTPow3[e]*this.bezierStartPt.y+n.bezierFactorOne[e]*this.bezierStartControlPt.y+n.bezierFactorTwo[e]*this.bezierEndControlPt.y+n.tPow3[e]*this.bezierEndPt.y)}}e.GraphicalCurve=n,n.bezierCurveStepSize=1e3},function(t,e,i){\"use strict\";Object.defineProperty(e,\"__esModule\",{value:!0});const s=i(22),n=i(13),r=i(4),o=i(7);e.GraphicalLyricEntry=class{constructor(t,e,i,a){this.lyricsEntry=t,this.graphicalStaffEntry=e;const h=e.parentMeasure.parentSourceMeasure.Rules.LyricsAlignmentStandard;t.Text.length>=4&&t.Parent.Notes[0].Length.Denominator>4&&o.TextAlignmentEnum.LeftBottom;const l=new n.Label(t.Text);this.graphicalLabel=new s.GraphicalLabel(l,i,h,this.graphicalStaffEntry.parentMeasure.parentSourceMeasure.Rules,e.PositionAndShape),this.graphicalLabel.PositionAndShape.RelativePosition=new r.PointF2D(0,a),h===o.TextAlignmentEnum.LeftBottom&&(this.graphicalLabel.PositionAndShape.RelativePosition.x-=1)}get LyricsEntry(){return this.lyricsEntry}get ParentLyricWord(){return this.graphicalLyricWord}set ParentLyricWord(t){this.graphicalLyricWord=t}get GraphicalLabel(){return this.graphicalLabel}set GraphicalLabel(t){this.graphicalLabel=t}get StaffEntryParent(){return this.graphicalStaffEntry}set StaffEntryParent(t){this.graphicalStaffEntry=t}}},function(t,e,i){\"use strict\";Object.defineProperty(e,\"__esModule\",{value:!0});e.GraphicalLyricWord=class{constructor(t){this.graphicalLyricsEntries=[],this.lyricWord=t,this.initialize()}get GetLyricWord(){return this.lyricWord}get GraphicalLyricsEntries(){return this.graphicalLyricsEntries}set GraphicalLyricsEntries(t){this.graphicalLyricsEntries=t}isFilled(){for(let t=0;t<this.graphicalLyricsEntries.length;t++)if(!this.graphicalLyricsEntries[t])return!1;return!0}initialize(){for(let t=0;t<this.lyricWord.Syllables.length;t++)this.graphicalLyricsEntries.push(void 0)}}},function(t,e,i){\"use strict\";Object.defineProperty(e,\"__esModule\",{value:!0});const s=i(5),n=i(0),r=i(3),o=i(4);class a extends s.GraphicalObject{constructor(t,e,i){super(),this.measureNumber=-1,this.parentStaff=t,this.parentSourceMeasure=e,this.parentStaffLine=i,i?(this.parentStaff=i.ParentStaff,this.PositionAndShape=new r.BoundingBox(this,i.PositionAndShape)):this.PositionAndShape=new r.BoundingBox(this),this.PositionAndShape.BorderBottom=4,this.parentSourceMeasure&&(this.measureNumber=this.parentSourceMeasure.MeasureNumber),this.staffEntries=[]}get ParentStaff(){return this.parentStaff}get ParentMusicSystem(){return this.parentMusicSystem}set ParentMusicSystem(t){this.parentMusicSystem=t}get MeasureNumber(){return this.measureNumber}get FirstInstructionStaffEntry(){return this.firstInstructionStaffEntry}set FirstInstructionStaffEntry(t){this.firstInstructionStaffEntry=t}get LastInstructionStaffEntry(){return this.lastInstructionStaffEntry}set LastInstructionStaffEntry(t){this.lastInstructionStaffEntry=t}get ParentStaffLine(){return this.parentStaffLine}set ParentStaffLine(t){this.parentStaffLine=t,this.parentStaffLine&&(this.PositionAndShape.Parent=this.parentStaffLine.PositionAndShape)}resetLayout(){throw new Error(\"not implemented\")}getLineWidth(t){throw new Error(\"not implemented\")}addClefAtBegin(t){throw new Error(\"not implemented\")}addKeyAtBegin(t,e,i){throw new Error(\"not implemented\")}addRhythmAtBegin(t){throw new Error(\"not implemented\")}addClefAtEnd(t){throw new Error(\"not implemented\")}setPositionInStaffline(t){this.PositionAndShape.RelativePosition=new o.PointF2D(t,0)}setWidth(t){this.PositionAndShape.BorderRight=t}layoutSymbols(){throw new Error(\"not implemented\")}findGraphicalStaffEntryFromTimestamp(t){var e;for(let i=0,s=this.staffEntries.length;i<s;++i){const s=this.staffEntries[i];if(null===(e=s.relInMeasureTimestamp)||void 0===e?void 0:e.Equals(t))return s}}findGraphicalStaffEntryFromVerticalContainerTimestamp(t){for(let e=0,i=this.staffEntries.length;e<i;++e){const i=this.staffEntries[e];if(i.sourceStaffEntry.VerticalContainerParent.getAbsoluteTimestamp().Equals(t))return i}}hasSameDurationWithSourceMeasureParent(){const t=new n.Fraction(0,1);for(let e=0,i=this.staffEntries.length;e<i;++e){const i=this.staffEntries[e];t.Add(i.findStaffEntryMinNoteLength())}return t.Equals(this.parentSourceMeasure.Duration)}hasMultipleVoices(){if(0===this.staffEntries.length)return!1;const t=[];for(let e=0,i=this.staffEntries.length;e<i;++e){const i=this.staffEntries[e];for(let e=0,s=i.sourceStaffEntry.VoiceEntries.length;e<s;++e){const s=i.sourceStaffEntry.VoiceEntries[e];t.indexOf(s.ParentVoice)<0&&t.push(s.ParentVoice)}}return t.length>1}isVisible(){return this.ParentStaff.ParentInstrument.Visible}getGraphicalMeasureDurationFromStaffEntries(){let t=new n.Fraction(0,1);const e=[];for(let t=0,i=this.staffEntries.length;t<i;++t){const i=this.staffEntries[t];for(let t=0,s=i.sourceStaffEntry.VoiceEntries.length;t<s;++t){const s=i.sourceStaffEntry.VoiceEntries[t];e.indexOf(s.ParentVoice)<0&&e.push(s.ParentVoice)}}for(let i=0,s=e.length;i<s;++i){const s=e[i],r=new n.Fraction(0,1);for(const t of this.staffEntries)for(const e of t.graphicalVoiceEntries)e.parentVoiceEntry.ParentVoice===s&&e.notes.length>0&&r.Add(e.notes[0].graphicalNoteLength);t.lt(r)&&(t=n.Fraction.createFromFraction(r))}return t}addGraphicalStaffEntry(t){this.staffEntries.push(t)}addGraphicalStaffEntryAtTimestamp(t){if(t)if(0===this.staffEntries.length||this.staffEntries[this.staffEntries.length-1].relInMeasureTimestamp.lt(t.relInMeasureTimestamp))this.staffEntries.push(t);else for(let e=this.staffEntries.length-1;e>=0;e--){if(this.staffEntries[e].relInMeasureTimestamp.lt(t.relInMeasureTimestamp)){this.staffEntries.splice(e+1,0,t);break}0===e&&this.staffEntries.splice(e,0,t)}}beginsWithLineRepetition(){const t=this.parentSourceMeasure;return!!t&&t.beginsWithLineRepetition()}endsWithLineRepetition(){const t=this.parentSourceMeasure;return!!t&&t.endsWithLineRepetition()}beginsWithWordRepetition(){const t=this.parentSourceMeasure;return!!t&&t.beginsWithWordRepetition()}endsWithWordRepetition(){const t=this.parentSourceMeasure;return!!t&&t.endsWithWordRepetition()}}e.GraphicalMeasure=a},function(t,e,i){\"use strict\";Object.defineProperty(e,\"__esModule\",{value:!0});const s=i(5),n=i(14),r=i(3);class o extends s.GraphicalObject{constructor(t,e,i){super(),this.sourceNote=t,this.parentVoiceEntry=e,this.PositionAndShape=new r.BoundingBox(this,e.PositionAndShape),this.graphicalNoteLength=i||t.Length,this.numberOfDots=this.calculateNumberOfNeededDots(this.graphicalNoteLength)}Transpose(t,e,i,s){let r=this.sourceNote.Pitch;return n.MusicSheetCalculator.transposeCalculator&&(r=n.MusicSheetCalculator.transposeCalculator.transposePitch(this.sourceNote.Pitch,t,i)),r}calculateNumberOfNeededDots(t){let e=1,i=2;const s=t.GetExpandedNumerator();if(!this.sourceNote||!this.sourceNote.NoteTuplet)for(;i<s;)e++,i=Math.pow(2,e);return Math.min(3,e-1)}get ParentMusicPage(){return this.parentVoiceEntry.parentStaffEntry.parentMeasure.ParentMusicSystem.Parent}}e.GraphicalNote=o},function(t,e,i){\"use strict\";Object.defineProperty(e,\"__esModule\",{value:!0});const s=i(5),n=i(31),r=i(3),o=i(63),a=i(11);class h extends s.GraphicalObject{constructor(t,e){super(),this.getOctaveShift=t,this.setSymbol(),this.PositionAndShape=new r.BoundingBox(this,e)}setSymbol(){switch(this.getOctaveShift.Type){case n.OctaveEnum.VA8:this.octaveSymbol=o.MusicSymbol.VA8;break;case n.OctaveEnum.VB8:this.octaveSymbol=o.MusicSymbol.VB8;break;case n.OctaveEnum.MA15:this.octaveSymbol=o.MusicSymbol.MA15;break;case n.OctaveEnum.MB15:this.octaveSymbol=o.MusicSymbol.MB15;break;default:throw new a.ArgumentOutOfRangeException(\"\")}}}e.GraphicalOctaveShift=h},function(t,e,i){\"use strict\";Object.defineProperty(e,\"__esModule\",{value:!0});const s=i(4),n=i(108),r=i(6),o=i(161),a=i(37),h=i(0),l=i(16);class c extends n.GraphicalCurve{constructor(t){super(),this.staffEntries=[],this.slur=t}static Compare(t,e){if(t.staffEntries.length<1)return-1;if(e.staffEntries.length<1)return 1;const i=h.Fraction.minus(t.staffEntries[t.staffEntries.length-1].getAbsoluteTimestamp(),t.staffEntries[0].getAbsoluteTimestamp()),s=h.Fraction.minus(e.staffEntries[e.staffEntries.length-1].getAbsoluteTimestamp(),e.staffEntries[0].getAbsoluteTimestamp());return i.RealValue>s.RealValue?1:s.RealValue>i.RealValue?-1:0}calculateCurve(t){const e=this.staffEntries[0],i=this.staffEntries[this.staffEntries.length-1];let n=e.findGraphicalNoteFromNote(this.slur.StartNote);!n&&this.graceStart&&(n=e.findGraphicalNoteFromGraceNote(this.slur.StartNote)),n||(n=e.findEndTieGraphicalNoteFromNoteWithStartingSlur(this.slur.StartNote,this.slur));let a=i.findGraphicalNoteFromNote(this.slur.EndNote);!a&&this.graceEnd&&(a=i.findGraphicalNoteFromGraceNote(this.slur.EndNote));const h=e.parentMeasure.ParentStaffLine,l=h.SkyBottomLineCalculator;this.calculatePlacement(l,h);const c=this.calculateStartAndEnd(n,a,h,t,l),u=c.startX,d=c.endX;let f=c.startY,m=c.endY;const p=t.SlurTangentMinAngle,g=t.SlurTangentMaxAngle;let b,S,y;if(this.placement===r.PlacementEnum.Above){f-=t.SlurNoteHeadYOffset,m-=t.SlurNoteHeadYOffset,b=new s.PointF2D(u,f),S=new s.PointF2D(d,m);const e=new s.PointF2D(this.staffEntries[0].parentMeasure.PositionAndShape.RelativePosition.x+this.staffEntries[0].PositionAndShape.RelativePosition.x,f);n?e.x+=this.staffEntries[0].PositionAndShape.BorderRight:e.x=this.staffEntries[0].parentMeasure.beginInstructionsWidth,this.graceStart&&(e.x+=i.PositionAndShape.RelativePosition.x);const r=new s.PointF2D(this.staffEntries[this.staffEntries.length-1].parentMeasure.PositionAndShape.RelativePosition.x+this.staffEntries[this.staffEntries.length-1].PositionAndShape.RelativePosition.x,m);if(a?r.x+=this.staffEntries[this.staffEntries.length-1].PositionAndShape.BorderLeft:r.x=this.staffEntries[this.staffEntries.length-1].parentMeasure.PositionAndShape.RelativePosition.x+this.staffEntries[this.staffEntries.length-1].parentMeasure.PositionAndShape.Size.width,this.graceEnd&&(r.x+=i.staffEntryParent.PositionAndShape.RelativePosition.x),y=this.calculateTopPoints(e,r,h,l),0===y.length){const t=new s.PointF2D((r.x-e.x)/2+e.x,(r.y-e.y)/2+e.y);y.push(t)}const c=Math.atan((m-f)/(d-u)),x=new s.PointF2D(0,0);let E,v,_=new s.PointF2D(d-u,-(m-f));E=o.Matrix2D.getRotationMatrix(c),v=E.getTransposeMatrix(),_=E.vectorMultiplication(_);const w=this.calculateTranslatedAndRotatedPointListAbove(y,u,f,E),M=this.calculateMaxLeftSlope(w,x,_),T=this.calculateMaxRightSlope(w,x,_),P=x.y-x.x*M,L=_.y-_.x*T,A=new s.PointF2D;let I=!1;Math.abs(Math.abs(M)-Math.abs(T))<1e-4?(A.x=_.x/2,A.y=0,I=!0):(A.x=(L-P)/(M-T),A.y=M*A.x+P);const C=p,R=-p;I||this.calculateAngles(C,R,M,T,g);const N=this.calculateControlPoints(_.x,C,R,w);let B=N.leftControlPoint,F=N.rightControlPoint;B=v.vectorMultiplication(B),B.x+=u,B.y=-B.y+f,F=v.vectorMultiplication(F),F.x+=u,F.y=-F.y+f,this.bezierStartPt=b,this.bezierStartControlPt=B,this.bezierEndControlPt=F,this.bezierEndPt=S;const D=h.SkyLine.length,k=l.getLeftIndexForPointX(this.bezierStartPt.x,D),O=l.getLeftIndexForPointX(this.bezierEndPt.x,D),V=this.bezierEndPt.x-this.bezierStartPt.x,G=l.SamplingUnit;for(let t=k;t<O;t++){const e=t/G-this.bezierStartPt.x,i=this.calculateCurvePointAtIndex(Math.abs(e)/V);let s=l.getLeftIndexForPointX(i.x,D);s>=k&&(h.SkyLine[s]=Math.min(h.SkyLine[s],i.y)),s++,s<D&&(h.SkyLine[s]=Math.min(h.SkyLine[s],i.y))}}else{f+=t.SlurNoteHeadYOffset,m+=t.SlurNoteHeadYOffset,b=new s.PointF2D(u,f),S=new s.PointF2D(d,m);const e=new s.PointF2D(this.staffEntries[0].parentMeasure.PositionAndShape.RelativePosition.x+this.staffEntries[0].PositionAndShape.RelativePosition.x,f);n?e.x+=this.staffEntries[0].PositionAndShape.BorderRight:e.x=this.staffEntries[0].parentMeasure.beginInstructionsWidth,this.graceStart&&(e.x+=i.PositionAndShape.RelativePosition.x);const r=new s.PointF2D(this.staffEntries[this.staffEntries.length-1].parentMeasure.PositionAndShape.RelativePosition.x+this.staffEntries[this.staffEntries.length-1].PositionAndShape.RelativePosition.x,m);if(a?r.x+=this.staffEntries[this.staffEntries.length-1].PositionAndShape.BorderLeft:r.x=this.staffEntries[this.staffEntries.length-1].parentMeasure.PositionAndShape.RelativePosition.x+this.staffEntries[this.staffEntries.length-1].parentMeasure.PositionAndShape.Size.width,this.graceEnd&&(r.x+=i.staffEntryParent.PositionAndShape.RelativePosition.x),y=this.calculateBottomPoints(e,r,h,l),0===y.length){const t=new s.PointF2D((r.x-e.x)/2+e.x,(r.y-e.y)/2+e.y);y.push(t)}const c=Math.atan((m-f)/(d-u)),x=new s.PointF2D(0,0);let E,v,_=new s.PointF2D(d-u,m-f);E=o.Matrix2D.getRotationMatrix(-c),v=E.getTransposeMatrix(),_=E.vectorMultiplication(_);const w=this.calculateTranslatedAndRotatedPointListBelow(y,u,f,E),M=this.calculateMaxLeftSlope(w,x,_),T=this.calculateMaxRightSlope(w,x,_),P=x.y-x.x*M,L=_.y-_.x*T,A=new s.PointF2D;let I=!1;Math.abs(Math.abs(M)-Math.abs(T))<1e-4?(A.x=_.x/2,A.y=0,I=!0):(A.x=(L-P)/(M-T),A.y=M*A.x+P);const C=p,R=-p;I||this.calculateAngles(C,R,M,T,g);const N=this.calculateControlPoints(_.x,C,R,w);let B=N.leftControlPoint,F=N.rightControlPoint;B=v.vectorMultiplication(B),B.x+=u,B.y+=f,F=v.vectorMultiplication(F),F.x+=u,F.y+=f,this.bezierStartPt=b,this.bezierStartControlPt=B,this.bezierEndControlPt=F,this.bezierEndPt=S;const D=h.BottomLine.length,k=l.getLeftIndexForPointX(this.bezierStartPt.x,D),O=l.getLeftIndexForPointX(this.bezierEndPt.x,D),V=this.bezierEndPt.x-this.bezierStartPt.x,G=l.SamplingUnit;for(let t=k;t<O;t++){const e=t/G-this.bezierStartPt.x,i=this.calculateCurvePointAtIndex(Math.abs(e)/V);let s=l.getLeftIndexForPointX(i.x,D);s>=k&&(h.BottomLine[s]=Math.max(h.BottomLine[s],i.y)),s++,s<D&&(h.BottomLine[s]=Math.max(h.BottomLine[s],i.y))}}}calculateStartAndEnd(t,e,i,s,n){let o=0,a=0,h=0,c=0;if(t){o=t.PositionAndShape.RelativePosition.x+t.parentVoiceEntry.parentStaffEntry.PositionAndShape.RelativePosition.x+t.parentVoiceEntry.parentStaffEntry.parentMeasure.PositionAndShape.RelativePosition.x,this.graceStart&&(o+=t.parentVoiceEntry.parentStaffEntry.staffEntryParent.PositionAndShape.RelativePosition.x);const e=t.parentVoiceEntry;a=this.placement===r.PlacementEnum.Above?e.PositionAndShape.RelativePosition.y+e.PositionAndShape.BorderTop:e.PositionAndShape.RelativePosition.y+e.PositionAndShape.BorderBottom,e.parentVoiceEntry.StemDirection===l.StemDirectionType.Down&&this.placement===r.PlacementEnum.Below&&(o-=.5),e.parentVoiceEntry.StemDirection===l.StemDirectionType.Up&&this.placement===r.PlacementEnum.Above&&(o+=.5)}else o=i.Measures[0].beginInstructionsWidth;if(e){h=e.PositionAndShape.RelativePosition.x+e.parentVoiceEntry.parentStaffEntry.PositionAndShape.RelativePosition.x+e.parentVoiceEntry.parentStaffEntry.parentMeasure.PositionAndShape.RelativePosition.x,this.graceEnd&&(h+=e.parentVoiceEntry.parentStaffEntry.staffEntryParent.PositionAndShape.RelativePosition.x);const t=e.parentVoiceEntry;c=this.placement===r.PlacementEnum.Above?t.PositionAndShape.RelativePosition.y+t.PositionAndShape.BorderTop:t.PositionAndShape.RelativePosition.y+t.PositionAndShape.BorderBottom,t.parentVoiceEntry.StemDirection===l.StemDirectionType.Down&&this.placement===r.PlacementEnum.Below&&(h-=.5),t.parentVoiceEntry.StemDirection===l.StemDirectionType.Up&&this.placement===r.PlacementEnum.Above&&(h+=.5)}else h=i.PositionAndShape.Size.width;return t||e||(a=0,c=0),t||(a=c),e||(c=a),this.slur.startNoteHasMoreStartingSlurs()&&this.slur.isSlurLonger()&&(this.placement===r.PlacementEnum.Above?a-=s.SlursStartingAtSameStaffEntryYOffset:a+=s.SlursStartingAtSameStaffEntryYOffset),this.slur.endNoteHasMoreEndingSlurs()&&this.slur.isSlurLonger()&&(this.placement===r.PlacementEnum.Above?c-=s.SlursStartingAtSameStaffEntryYOffset:c+=s.SlursStartingAtSameStaffEntryYOffset),{startX:o,startY:a,endX:h,endY:c}}calculatePlacement(t,e){for(let t=0,e=this.staffEntries.length;t<e;++t){if(this.staffEntries[t].parentMeasure.hasMultipleVoices())return void(this.slur.StartNote.ParentVoiceEntry.ParentVoice instanceof a.LinkedVoice||this.slur.EndNote.ParentVoiceEntry.ParentVoice instanceof a.LinkedVoice?this.placement=r.PlacementEnum.Below:this.placement=r.PlacementEnum.Above)}for(let t=0,e=this.staffEntries.length;t<e;++t){if(this.staffEntries[t].LyricsEntries.length>0)return void(this.placement=r.PlacementEnum.Above)}const i=this.staffEntries[0],s=this.staffEntries[this.staffEntries.length-1],n=i.graphicalVoiceEntries[0].parentVoiceEntry.StemDirection;if(n===s.graphicalVoiceEntries[0].parentVoiceEntry.StemDirection)this.placement=n===l.StemDirectionType.Up?r.PlacementEnum.Below:r.PlacementEnum.Above;else{let n=i.PositionAndShape.BorderLeft+i.PositionAndShape.RelativePosition.x+i.parentMeasure.PositionAndShape.RelativePosition.x,o=s.PositionAndShape.BorderRight+s.PositionAndShape.RelativePosition.x+s.parentMeasure.PositionAndShape.RelativePosition.x;this.graceStart&&(n+=s.PositionAndShape.RelativePosition.x),this.graceEnd&&(o+=s.staffEntryParent.PositionAndShape.RelativePosition.x);const a=-1*t.getSkyLineMinInRange(n,o),h=t.getBottomLineMaxInRange(n,o)-e.StaffHeight;this.placement=h>a?r.PlacementEnum.Above:r.PlacementEnum.Below}}calculateTopPoints(t,e,i,n){const r=[];let o=n.getRightIndexForPointX(t.x,i.SkyLine.length),a=n.getLeftIndexForPointX(e.x,i.SkyLine.length);o<0&&(o=0),a>=i.SkyLine.length&&(a=i.SkyLine.length-1);for(let t=o;t<a;t++){const e=new s.PointF2D((.5+t)/n.SamplingUnit,i.SkyLine[t]);r.push(e)}return r}calculateBottomPoints(t,e,i,n){const r=[];let o=n.getRightIndexForPointX(t.x,i.BottomLine.length),a=n.getLeftIndexForPointX(e.x,i.BottomLine.length);o<0&&(o=0),a>=i.BottomLine.length&&(a=i.BottomLine.length-1);for(let t=o;t<a;t++){const e=new s.PointF2D((.5+t)/n.SamplingUnit,i.BottomLine[t]);r.push(e)}return r}calculateMaxLeftSlope(t,e,i){let s=-Number.MAX_VALUE;const n=e.x,r=e.y;for(let e=0;e<t.length;e++)Math.abs(t[e].y-Number.MAX_VALUE)<1e-4||Math.abs(t[e].y- -Number.MAX_VALUE)<1e-4||(s=Math.max(s,(t[e].y-r)/(t[e].x-n)));return s=Math.max(s,Math.abs(i.y-r)/(i.x-n)),s}calculateMaxRightSlope(t,e,i){let s=Number.MAX_VALUE;const n=i.x,r=i.y;for(let e=0;e<t.length;e++)Math.abs(t[e].y-Number.MAX_VALUE)<1e-4||Math.abs(t[e].y- -Number.MAX_VALUE)<1e-4||(s=Math.min(s,(r-t[e].y)/(n-t[e].x)));return s=Math.min(s,(r-e.y)/(n-e.x)),s}getPointListMaxY(t){let e=-Number.MAX_VALUE;for(let i=0,s=t.length;i<s;++i){const s=t[i];Math.abs(s.y- -Number.MAX_VALUE)<1e-4||Math.abs(s.y-Number.MAX_VALUE)<1e-4||(e=Math.max(e,s.y))}return e}calculateTranslatedAndRotatedPointListAbove(t,e,i,n){const r=[];for(let o=0;o<t.length;o++){if(Math.abs(t[o].y-Number.MAX_VALUE)<1e-4||Math.abs(t[o].y- -Number.MAX_VALUE)<1e-4)continue;let a=new s.PointF2D(t[o].x-e,-(t[o].y-i));a=n.vectorMultiplication(a),r.push(a)}return r}calculateTranslatedAndRotatedPointListBelow(t,e,i,n){const r=[];for(let o=0;o<t.length;o++){if(Math.abs(t[o].y-Number.MAX_VALUE)<1e-4||Math.abs(t[o].y- -Number.MAX_VALUE)<1e-4)continue;let a=new s.PointF2D(t[o].x-e,t[o].y-i);a=n.vectorMultiplication(a),r.push(a)}return r}calculateHeightWidthRatio(t,e){if(0===e.length)return 0;return Math.max(0,this.getPointListMaxY(e))/t}calculateControlPoints(t,e,i,n){const r=this.calculateHeightWidthRatio(t,n),o=t*(c.k*r+c.d),a=new s.PointF2D;a.x=o*Math.cos(e*c.degreesToRadiansFactor),a.y=o*Math.sin(e*c.degreesToRadiansFactor);const h=new s.PointF2D;return h.x=t-o*Math.cos(i*c.degreesToRadiansFactor),h.y=-o*Math.sin(i*c.degreesToRadiansFactor),{leftControlPoint:a,rightControlPoint:h}}calculateAngles(t,e,i,s,n){let r=Math.atan(i)/c.degreesToRadiansFactor;i>0?r+=20:r-=20;let o=Math.atan(s)/c.degreesToRadiansFactor;s<0?o-=20:o+=20,t=Math.min(Math.max(t,r),n),e=Math.max(Math.min(e,o),-n)}}e.GraphicalSlur=c,c.degreesToRadiansFactor=Math.PI/180,c.k=.9,c.d=.2},function(t,e,i){\"use strict\";Object.defineProperty(e,\"__esModule\",{value:!0});const s=i(3),n=i(0),r=i(5),o=i(24),a=i(14);class h extends r.GraphicalObject{constructor(t,e,i){super(),this.graphicalChordContainers=[],this.tabStaffEntry=void 0,this.graphicalInstructions=[],this.graphicalTies=[],this.lyricsEntries=[],this.parentMeasure=t,this.graphicalVoiceEntries=[],this.sourceStaffEntry=e,i?(this.staffEntryParent=i,this.parentVerticalContainer=i.parentVerticalContainer,this.PositionAndShape=new s.BoundingBox(this,i.PositionAndShape)):this.PositionAndShape=new s.BoundingBox(this,t.PositionAndShape),e&&(this.relInMeasureTimestamp=e.Timestamp)}get GraphicalInstructions(){return this.graphicalInstructions}get GraphicalTies(){return this.graphicalTies}get LyricsEntries(){return this.lyricsEntries}set LyricsEntries(t){this.lyricsEntries=t}getAbsoluteTimestamp(){const t=this.parentMeasure.parentSourceMeasure.AbsoluteTimestamp.clone();return this.relInMeasureTimestamp&&t.Add(this.relInMeasureTimestamp),t}findEndTieGraphicalNoteFromNote(t){for(const e of this.graphicalVoiceEntries)for(const i of e.notes){const e=i.sourceNote;if(!e.isRest()&&e.Pitch.FundamentalNote===t.Pitch.FundamentalNote&&e.Pitch.Octave===t.Pitch.Octave&&e.getAbsoluteTimestamp().Equals(t.getAbsoluteTimestamp()))return i}}findEndTieGraphicalNoteFromNoteWithStartingSlur(t,e){if(t)for(const i of this.graphicalVoiceEntries)if(i.parentVoiceEntry===t.ParentVoiceEntry)for(const t of i.notes){const i=t.sourceNote;if(i.NoteTie&&-1!==i.NoteSlurs.indexOf(e))return t}}findGraphicalNoteFromGraceNote(t){if(t)for(const e of this.graphicalVoiceEntries)if(e.parentVoiceEntry===t.ParentVoiceEntry)for(const i of e.notes)if(i.sourceNote===t)return i}findGraphicalNoteFromNote(t){if(t)for(const e of this.graphicalVoiceEntries)if(e.parentVoiceEntry===t.ParentVoiceEntry)for(const i of e.notes)if(i.sourceNote===t&&this.getAbsoluteTimestamp().Equals(t.getAbsoluteTimestamp()))return i}getGraphicalNoteDurationFromVoice(t){for(const e of this.graphicalVoiceEntries)if(e.parentVoiceEntry.ParentVoice===t)return e.notes[0].graphicalNoteLength;return new n.Fraction(0,1)}findVoiceEntryGraphicalNotes(t){for(const e of this.graphicalVoiceEntries)if(e.parentVoiceEntry===t)return e.notes}isVoiceEntryPartOfLinkedVoiceEntry(t){if(this.sourceStaffEntry.Link)for(let e=0,i=this.sourceStaffEntry.Link.LinkStaffEntries.length;e<i;++e){const i=this.sourceStaffEntry.Link.LinkStaffEntries[e];if(-1!==i.VoiceEntries.indexOf(t)&&i!==this.sourceStaffEntry)return!0}return!1}findStaffEntryMinNoteLength(){let t=new n.Fraction(Number.MAX_VALUE,1);for(const e of this.graphicalVoiceEntries)for(const i of e.notes){const e=i.graphicalNoteLength;e.lt(t)&&e.GetExpandedNumerator()>0&&(t=e)}return t}findStaffEntryMaxNoteLength(){let t=new n.Fraction(0,1);for(const e of this.graphicalVoiceEntries)for(const i of e.notes){const e=i.graphicalNoteLength;t.lt(e)&&e.GetExpandedNumerator()>0&&(t=e)}return t}findOrCreateGraphicalVoiceEntry(t){for(const e of this.graphicalVoiceEntries)if(e.parentVoiceEntry===t)return e;const e=a.MusicSheetCalculator.symbolFactory.createVoiceEntry(t,this);return this.graphicalVoiceEntries.push(e),e}findOrCreateGraphicalVoiceEntryFromGraphicalNote(t){for(const e of this.graphicalVoiceEntries)if(e===t.parentVoiceEntry)return e;const e=a.MusicSheetCalculator.symbolFactory.createVoiceEntry(t.sourceNote.ParentVoiceEntry,this);return this.graphicalVoiceEntries.push(e),e}addGraphicalNoteToListAtCorrectYPosition(t,e){const i=t.notes;if(0===i.length||e.PositionAndShape.RelativePosition.y<o.CollectionUtil.last(i).PositionAndShape.RelativePosition.y)i.push(e);else for(let t=i.length-1;t>=0;t--){if(i[t].PositionAndShape.RelativePosition.y>e.PositionAndShape.RelativePosition.y){i.splice(t+1,0,e);break}if(0===t){i.splice(0,0,e);break}}}hasOnlyRests(){for(const t of this.graphicalVoiceEntries)for(const e of t.notes){if(!e.sourceNote.isRest())return!1}return!0}}e.GraphicalStaffEntry=h},function(t,e,i){\"use strict\";Object.defineProperty(e,\"__esModule\",{value:!0});e.GraphicalTie=class{constructor(t,e,i){this.tie=t,this.startNote=e,this.endNote=i}get GetTie(){return this.tie}get StartNote(){return this.startNote}set StartNote(t){this.startNote=t}get EndNote(){return this.endNote}set EndNote(t){this.endNote=t}}},function(t,e,i){\"use strict\";Object.defineProperty(e,\"__esModule\",{value:!0});const s=i(5),n=i(3),r=i(29);class o extends s.GraphicalObject{constructor(t,e){super(),this.parentVoiceEntry=t,this.parentStaffEntry=e,this.PositionAndShape=new n.BoundingBox(this,e?e.PositionAndShape:void 0,!0),this.notes=[],this.rules=e?e.parentMeasure.parentSourceMeasure.Rules:new r.EngravingRules}sort(){this.notes.sort((t,e)=>e.sourceNote.Pitch.getHalfTone()-t.sourceNote.Pitch.getHalfTone())}color(){}}e.GraphicalVoiceEntry=o},function(t,e,i){\"use strict\";var s=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,\"__esModule\",{value:!0});const n=i(4),r=i(68),o=i(19),a=s(i(1));e.SkyBottomLineCalculator=class{constructor(t){this.mStaffLineParent=t,this.mRules=t.ParentMusicSystem.rules}calculateLines(){const t=Math.max(Math.ceil(this.StaffLineParent.PositionAndShape.Size.width*this.SamplingUnit),1);this.mSkyLine=[],this.mBottomLine=[];const e=new r.CanvasVexFlowBackend(this.StaffLineParent.ParentMusicSystem.rules);for(const t of this.StaffLineParent.Measures){t.PositionAndShape.calculateAbsolutePositionsRecursive(0,0);const i=t.getVFStave();e.initializeHeadless(i.getWidth());const s=e.getContext(),r=e.getCanvas(),o=r.width,h=r.height;i.setY(i.y+100);const l=i.getWidth();i.setWidth(o),t.format(),i.setWidth(l);try{t.draw(s)}catch(t){a.default.warn(\"SkyBottomLineCalculator.calculateLines.draw\",t)}const c=s.getImageData(0,0,o,h),u=4,d=Math.max(Math.ceil(t.PositionAndShape.Size.width*this.mRules.SamplingUnit),1),f=new Array(d),m=new Array(d);for(let t=0;t<o;t++){for(let e=0;e<h;e++){const i=e*o*u+t*u;if(c.data[i+3]>0){f[t]=e;break}}for(let e=h;e>0;e--){const i=e*o*u+t*u;if(c.data[i+3]>0){m[t]=e;break}}}if(this.mSkyLine.push(...f),this.mBottomLine.push(...m),!1){f.forEach((t,i)=>this.drawPixel(new n.PointF2D(i,t),e)),m.forEach((t,i)=>this.drawPixel(new n.PointF2D(i,t),e,\"blue\"));const t=r.toDataURL(\"image/png\");document.write('<img src=\"'+t+'\"/>')}e.clear()}const i=this.mSkyLine.length/t,s=[],h=[];for(let e=0;e<this.mSkyLine.length&&s.length!==t;e+=i){const t=Math.min(this.mSkyLine.length,e+i);let n=this.mSkyLine.slice(e,t+1);s.push(Math.min(...n)),n=this.mBottomLine.slice(e,t+1),h.push(Math.max(...n))}this.mSkyLine=s,this.mBottomLine=h,this.mSkyLine.length!==t&&a.default.debug(`SkyLine calculation was not correct (${this.mSkyLine.length} instead of ${t})`),this.mSkyLine=this.mSkyLine.map(t=>(t-Math.max(...this.mSkyLine))/o.unitInPixels+this.StaffLineParent.TopLineOffset),this.mBottomLine=this.mBottomLine.map(t=>(t-Math.min(...this.mBottomLine))/o.unitInPixels+this.StaffLineParent.BottomLineOffset)}drawPixel(t,e,i=\"#FF0000FF\"){const s=e.getContext(),n=s.fillStyle;s.fillStyle=i,s.fillRect(t.x,t.y,2,2),s.fillStyle=n}updateSkyLineWithWedge(t,e){let i=Math.floor(t.x*this.SamplingUnit),s=Math.ceil(e.x*this.SamplingUnit),n=(e.y-t.y)/(e.x-t.x);s-i<=1&&(s++,n=0),i<0&&(i=0),i>=this.BottomLine.length&&(i=this.BottomLine.length-1),s<0&&(s=0),s>=this.BottomLine.length&&(s=this.BottomLine.length),this.SkyLine[i]=t.y;for(let t=i+1;t<Math.min(s,this.SkyLine.length);t++)this.SkyLine[t]=this.SkyLine[t-1]+n/this.SamplingUnit}updateBottomLineWithWedge(t,e){let i=Math.floor(t.x*this.SamplingUnit),s=Math.ceil(e.x*this.SamplingUnit),n=(e.y-t.y)/(e.x-t.x);s-i<=1&&(s++,n=0),i<0&&(i=0),i>=this.BottomLine.length&&(i=this.BottomLine.length-1),s<0&&(s=0),s>=this.BottomLine.length&&(s=this.BottomLine.length),this.BottomLine[i]=t.y;for(let t=i+1;t<s;t++)this.BottomLine[t]=this.BottomLine[t-1]+n/this.SamplingUnit}updateSkyLineInRange(t,e,i){this.updateInRange(this.mSkyLine,t,e,i)}updateBottomLineInRange(t,e,i){this.updateInRange(this.BottomLine,t,e,i)}resetSkyLineInRange(t,e){this.updateInRange(this.SkyLine,t,e)}resetBottomLineInRange(t,e){this.setInRange(this.BottomLine,t,e)}setSkyLineWithValue(t){this.SkyLine.forEach(e=>t)}setBottomLineWithValue(t){this.BottomLine.forEach(e=>t)}getLeftIndexForPointX(t,e){const i=Math.floor(t*this.SamplingUnit);return i<0?0:i>=e?e-1:i}getRightIndexForPointX(t,e){const i=Math.ceil(t*this.SamplingUnit);return i<0?0:i>=e?e-1:i}updateStaffLineBorders(){this.mStaffLineParent.PositionAndShape.BorderTop=this.getSkyLineMin(),this.mStaffLineParent.PositionAndShape.BorderMarginTop=this.getSkyLineMin(),this.mStaffLineParent.PositionAndShape.BorderBottom=this.getBottomLineMax(),this.mStaffLineParent.PositionAndShape.BorderMarginBottom=this.getBottomLineMax()}getSkyLineMin(){return Math.min(...this.SkyLine.filter(t=>!isNaN(t)))}getSkyLineMinAtPoint(t){const e=Math.round(t*this.SamplingUnit);return this.mSkyLine[e]}getSkyLineMinInRange(t,e){return this.getMinInRange(this.SkyLine,t,e)}getBottomLineMax(){return Math.max(...this.BottomLine.filter(t=>!isNaN(t)))}getBottomLineMaxAtPoint(t){const e=Math.round(t*this.SamplingUnit);return this.mBottomLine[e]}getBottomLineMaxInRange(t,e){return this.getMaxInRange(this.BottomLine,t,e)}getBottomLineMaxInBoundingBox(t){const e=Math.floor(t.AbsolutePosition.x+t.BorderLeft),i=Math.ceil(t.AbsolutePosition.x+t.BorderRight);return this.getMaxInRange(this.mBottomLine,e,i)}updateWithBoundingBoxRecursivly(t){if(t.ChildElements&&t.ChildElements.length>0)this.updateWithBoundingBoxRecursivly(t);else{const e=t.BorderTop+t.AbsolutePosition.y,i=t.BorderBottom+t.AbsolutePosition.y;if(e<0){const i=Math.floor(t.AbsolutePosition.x+t.BorderLeft),s=Math.ceil(t.AbsolutePosition.x+t.BorderRight);this.updateInRange(this.mSkyLine,i,s,e)}else if(i>this.StaffLineParent.StaffHeight){const e=Math.floor(t.AbsolutePosition.x+t.BorderLeft),s=Math.ceil(t.AbsolutePosition.x+t.BorderRight);this.updateInRange(this.mBottomLine,e,s,i)}}}updateInRange(t,e=0,i=t.length,s=0){if(e=Math.floor(e*this.SamplingUnit),(i=Math.ceil(i*this.SamplingUnit))<e)throw new Error(\"start index of line is greater then the end index\");e<0&&(e=0),i>t.length&&(i=t.length);for(let n=e;n<i;n++)t[n]=Math.abs(s)>Math.abs(t[n])?s:t[n]}setInRange(t,e=0,i=t.length,s=0){if(e=Math.floor(e*this.SamplingUnit),(i=Math.ceil(i*this.SamplingUnit))<e)throw new Error(\"start index of line is greater then the end index\");e<0&&(e=0),i>t.length&&(i=t.length);for(let n=e;n<i;n++)t[n]=s}getMinInRange(t,e,i){return e=Math.floor(e*this.SamplingUnit),i=Math.ceil(i*this.SamplingUnit),t?(e<0&&(e=0),e>=t.length&&(e=t.length-1),i<0&&(i=0),i>=t.length&&(i=t.length),e>=0&&i<=t.length?Math.min(...t.slice(e,i+1)):void 0):Number.MAX_VALUE}getMaxInRange(t,e,i){return e=Math.floor(e*this.SamplingUnit),i=Math.ceil(i*this.SamplingUnit),t?(e<0&&(e=0),e>=t.length&&(e=t.length-1),i<0&&(i=0),i>=t.length&&(i=t.length),e>=0&&i<=t.length?Math.max(...t.slice(e,i+1)):void 0):Number.MIN_VALUE}get SamplingUnit(){return this.mRules.SamplingUnit}get StaffLineParent(){return this.mStaffLineParent}get SkyLine(){return this.mSkyLine}get BottomLine(){return this.mBottomLine}}},function(t,e,i){\"use strict\";Object.defineProperty(e,\"__esModule\",{value:!0});const s=i(3),n=i(5),r=i(53),o=i(4),a=i(118);class h extends n.GraphicalObject{constructor(t,e){super(),this.measures=[],this.staffLines=new Array(5),this.octaveShifts=[],this.lyricLines=[],this.lyricsDashes=[],this.abstractExpressions=[],this.graphicalSlurs=[],this.parentMusicSystem=t,this.parentStaff=e,this.boundingBox=new s.BoundingBox(this,t.PositionAndShape),this.skyBottomLine=new a.SkyBottomLineCalculator(this),this.staffHeight=this.parentMusicSystem.rules.StaffHeight,this.topLineOffset=0,this.bottomLineOffset=4,this.calculateStaffLineOffsets()}calculateStaffLineOffsets(){if(this.ParentStaff.isTab)switch(this.ParentStaff.StafflineCount){case 5:this.staffHeight=this.bottomLineOffset=6*this.ParentStaff.ParentInstrument.GetMusicSheet.Rules.TabStaffInterlineHeight;break;default:this.staffHeight=this.bottomLineOffset=this.ParentStaff.ParentInstrument.GetMusicSheet.Rules.TabStaffInterlineHeight*this.ParentStaff.StafflineCount}else switch(this.ParentStaff.StafflineCount){case 4:this.bottomLineOffset=1;break;case 3:this.topLineOffset=1,this.bottomLineOffset=1;break;case 2:this.topLineOffset=2,this.bottomLineOffset=1;break;case 1:this.topLineOffset=2,this.bottomLineOffset=2}}get Measures(){return this.measures}set Measures(t){this.measures=t}get StaffLines(){return this.staffLines}set StaffLines(t){this.staffLines=t}get NextStaffLine(){const t=this.parentMusicSystem.StaffLines.indexOf(this);return t!==this.parentMusicSystem.StaffLines.length?this.parentMusicSystem.StaffLines[t+1]:void 0}get LyricLines(){return this.lyricLines}get AbstractExpressions(){return this.abstractExpressions}set AbstractExpressions(t){this.abstractExpressions=t}set LyricLines(t){this.lyricLines=t}get LyricsDashes(){return this.lyricsDashes}set LyricsDashes(t){this.lyricsDashes=t}get ParentMusicSystem(){return this.parentMusicSystem}set ParentMusicSystem(t){this.parentMusicSystem=t}get ParentStaff(){return this.parentStaff}set ParentStaff(t){this.parentStaff=t}get SkyBottomLineCalculator(){return this.skyBottomLine}get SkyLine(){return this.skyBottomLine.SkyLine}get BottomLine(){return this.skyBottomLine.BottomLine}get OctaveShifts(){return this.octaveShifts}set OctaveShifts(t){this.octaveShifts=t}get StaffHeight(){return this.staffHeight}get TopLineOffset(){return this.topLineOffset}get BottomLineOffset(){return this.bottomLineOffset}get GraphicalSlurs(){return this.graphicalSlurs}addSlurToStaffline(t){this.graphicalSlurs.push(t)}addActivitySymbolClickArea(){const t=new r.StaffLineActivitySymbol(this),e=this.PositionAndShape;t.PositionAndShape.RelativePosition=new o.PointF2D(e.RelativePosition.x+e.BorderRight+.5,e.RelativePosition.y+.5),t.PositionAndShape.Parent=this.parentMusicSystem.PositionAndShape}isPartOfMultiStaffInstrument(){return this.parentStaff.ParentInstrument.Staves.length>1}findClosestStaffEntry(t){let e=void 0;for(let i=0,s=this.Measures.length;i<s;++i){const s=this.Measures[i];for(let i=0,n=s.staffEntries.length;i<n;++i){const n=s.staffEntries[i];Math.abs(n.PositionAndShape.RelativePosition.x-t+s.PositionAndShape.RelativePosition.x)<5&&(e=n)}}return e}}e.StaffLine=h},function(t,e,i){\"use strict\";var s=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,\"__esModule\",{value:!0});const n=s(i(10)),r=i(69),o=i(18),a=i(23),h=i(34);class l extends r.VexFlowBackend{constructor(t){super(),this.rules=t}getVexflowBackendType(){return 3}getOSMDBackendType(){return h.BackendType.SVG}initialize(t){this.canvas=document.createElement(\"div\"),this.inner=this.canvas,this.inner.style.position=\"relative\",this.canvas.style.zIndex=\"0\",t.appendChild(this.inner),this.renderer=new n.default.Flow.Renderer(this.canvas,this.getVexflowBackendType()),this.ctx=this.renderer.getContext()}getContext(){return this.ctx}getSvgElement(){return this.ctx.svg}clear(){if(!this.ctx)return;const t=this.ctx.svg;for(;t.lastChild;)t.removeChild(t.lastChild);this.rules.PageBackgroundColor&&(this.ctx.save(),this.ctx.setFillStyle(this.rules.PageBackgroundColor),this.ctx.fillRect(0,0,this.canvas.offsetWidth,this.canvas.offsetHeight),this.ctx.restore())}scale(t){this.ctx.scale(t,t)}translate(t,e){}renderText(t,e,i,s,n,r,h,l){this.ctx.save(),h&&(this.ctx.attributes.fill=h,this.ctx.attributes.stroke=h);let c=l;l&&\"default\"!==l||(c=this.rules.DefaultFontFamily),this.ctx.setFont(c,t,o.VexFlowConverter.fontStyle(e)),this.ctx.attributes[\"font-size\"]=`${t}px`,this.ctx.state[\"font-size\"]=`${t}px`;let u=\"normal\",d=\"normal\";switch(e){case a.FontStyles.Bold:u=\"bold\";break;case a.FontStyles.Italic:d=\"italic\";break;case a.FontStyles.BoldItalic:u=\"bold\",d=\"italic\";break;default:u=\"normal\"}this.ctx.attributes[\"font-weight\"]=u,this.ctx.state[\"font-weight\"]=u,this.ctx.attributes[\"font-style\"]=d,this.ctx.state[\"font-style\"]=d,this.ctx.fillText(s,r.x,r.y+n),this.ctx.restore()}renderRectangle(t,e,i=1){this.ctx.save(),this.ctx.attributes.fill=o.VexFlowConverter.style(e),this.ctx.attributes[\"fill-opacity\"]=i,this.ctx.fillRect(t.x,t.y,t.width,t.height),this.ctx.restore(),this.ctx.attributes[\"fill-opacity\"]=1}renderLine(t,e,i=\"#FF0000FF\",s=2){this.ctx.save(),this.ctx.beginPath(),this.ctx.moveTo(t.x,t.y),this.ctx.lineTo(e.x,e.y),this.ctx.attributes.stroke=i,this.ctx.lineWidth=s,this.ctx.stroke(),this.ctx.restore()}renderCurve(t){this.ctx.beginPath(),this.ctx.moveTo(t[0].x,t[0].y),this.ctx.bezierCurveTo(t[1].x,t[1].y,t[2].x,t[2].y,t[3].x,t[3].y),this.ctx.lineTo(t[7].x,t[7].y),this.ctx.bezierCurveTo(t[6].x,t[6].y,t[5].x,t[5].y,t[4].x,t[4].y),this.ctx.lineTo(t[0].x,t[0].y),this.ctx.closePath(),this.ctx.fill()}}e.SvgVexFlowBackend=l},function(t,e,i){\"use strict\";Object.defineProperty(e,\"__esModule\",{value:!0});const s=i(65),n=i(51),r=i(22),o=i(13),a=i(7),h=i(23);class l extends s.GraphicalInstantaneousDynamicExpression{constructor(t,e,i){super(t,e,i);const s=new o.Label(this.Expression);this.label=new r.GraphicalLabel(s,this.rules.ContinuousDynamicTextHeight,a.TextAlignmentEnum.CenterCenter,this.rules,this.PositionAndShape),this.label.Label.fontStyle=h.FontStyles.BoldItalic,this.label.setLabelPositionAndShapeBorders(),this.PositionAndShape.calculateBoundingBox()}get InstantaneousDynamic(){return this.mInstantaneousDynamicExpression}get Expression(){return n.DynamicEnum[this.mInstantaneousDynamicExpression.DynEnum]}}e.VexFlowInstantaneousDynamicExpression=l},function(t,e,i){\"use strict\";var s=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,\"__esModule\",{value:!0});s(i(10));const n=i(71);class r extends n.VexFlowInstrumentBracket{constructor(t,e,i=0){super(t,e,i),this.vexflowConnector.setType(3)}}e.VexFlowInstrumentBrace=r},function(t,e,i){\"use strict\";var s=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,\"__esModule\",{value:!0});const n=s(i(10)),r=i(113),o=i(31),a=s(i(1));class h extends r.GraphicalOctaveShift{constructor(t,e){switch(super(t,e),t.Type){case o.OctaveEnum.VA8:this.position=1,this.supscript=\"va\",this.text=\"8\";break;case o.OctaveEnum.MA15:this.position=1,this.supscript=\"ma\",this.text=\"15\";break;case o.OctaveEnum.VB8:this.position=-1,this.supscript=\"vb\",this.text=\"8\";break;case o.OctaveEnum.MB15:this.position=-1,this.supscript=\"mb\",this.text=\"15\";break;default:a.default.error(\"Unknown or NONE octaveshift. This should not be called!\")}}setStartNote(t){this.startNote=t.graphicalVoiceEntries[0].vfStaveNote}setEndNote(t){this.endNote=t.graphicalVoiceEntries[0].vfStaveNote}getStartNote(){return this.startNote}getEndNote(){return this.endNote}getTextBracket(){return new n.default.Flow.TextBracket({position:this.position,start:this.startNote,stop:this.endNote,superscript:this.supscript,text:this.text})}}e.VexFlowOctaveShift=h},function(t,e,i){\"use strict\";Object.defineProperty(e,\"__esModule\",{value:!0});const s=i(115),n=i(19);class r extends s.GraphicalStaffEntry{constructor(t,e,i){super(t,e,i)}calculateXPosition(){const t=this.parentMeasure.getVFStave();let e=0;for(const i of this.graphicalVoiceEntries)if(i.vfStaveNote){if(i.vfStaveNote.setStave(t),!i.vfStaveNote.preFormatted)continue;i.applyBordersFromVexflow(),this.parentMeasure.ParentStaff.isTab?this.PositionAndShape.RelativePosition.x=(i.vfStaveNote.getAbsoluteX()+i.vfStaveNote.glyph.getWidth())/n.unitInPixels:this.PositionAndShape.RelativePosition.x=i.vfStaveNote.getBoundingBox().getX()/n.unitInPixels;const s=i.notes[0].sourceNote;s.isRest()&&s.Length.RealValue===this.parentMeasure.parentSourceMeasure.ActiveTimeSignature.RealValue&&(this.PositionAndShape.RelativePosition.x+=this.parentMeasure.parentSourceMeasure.Rules.WholeRestXShiftVexflow-.1,i.PositionAndShape.BorderLeft=-.7,i.PositionAndShape.BorderRight=.7),i.PositionAndShape.BorderLeft<e&&(e=i.PositionAndShape.BorderLeft)}this.PositionAndShape.RelativePosition.x-=e,this.PositionAndShape.calculateBoundingBox()}}e.VexFlowStaffEntry=r},function(t,e,i){\"use strict\";Object.defineProperty(e,\"__esModule\",{value:!0});const s=i(119),n=i(106);class r extends s.StaffLine{constructor(t,e){super(t,e),this.slursInVFStaffLine=[],this.alignmentManager=new n.AlignmentManager(this)}get SlursInVFStaffLine(){return this.slursInVFStaffLine}addVFSlurToVFStaffline(t){this.slursInVFStaffLine.push(t)}get AlignmentManager(){return this.alignmentManager}}e.VexFlowStaffLine=r},function(t,e,i){\"use strict\";Object.defineProperty(e,\"__esModule\",{value:!0});e.StaffEntryLink=class{constructor(t){this.linkStaffEntries=[],this.voiceEntry=t}get GetVoiceEntry(){return this.voiceEntry}get LinkStaffEntries(){return this.linkStaffEntries}set LinkStaffEntries(t){this.linkStaffEntries=t}}},function(t,e,i){\"use strict\";Object.defineProperty(e,\"__esModule\",{value:!0});e.Tuplet=class{constructor(t,e=!1){this.notes=[],this.fractions=[],this.tupletLabelNumber=t,this.bracket=e}get TupletLabelNumber(){return this.tupletLabelNumber}set TupletLabelNumber(t){this.tupletLabelNumber=t}get Notes(){return this.notes}set Notes(t){this.notes=t}get Fractions(){return this.fractions}set Fractions(t){this.fractions=t}get Bracket(){return this.bracket}set Bracket(t){this.bracket=t}getNoteIndex(t){for(let e=this.notes.length-1;e>=0;e--)for(let i=0;i<this.notes[e].length;i++)if(t===this.notes[e][i])return e;return 0}}},function(t,e,i){\"use strict\";function s(t){for(var i in t)e.hasOwnProperty(i)||(e[i]=t[i])}Object.defineProperty(e,\"__esModule\",{value:!0}),s(i(0)),s(i(2)),s(i(86)),s(i(171))},function(t,e,i){\"use strict\";var s=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,\"__esModule\",{value:!0});const n=i(59),r=s(i(172));e.MXLHelper=class{static MXLtoIXmlElement(t){const e=new r.default;return e.loadAsync(t).then(t=>e.file(\"META-INF/container.xml\").async(\"text\"),t=>{throw t}).then(t=>{const i=(new DOMParser).parseFromString(t,\"text/xml\").getElementsByTagName(\"rootfile\")[0].getAttribute(\"full-path\");return e.file(i).async(\"text\")},t=>{throw t}).then(t=>{const e=(new DOMParser).parseFromString(t,\"text/xml\"),i=new n.IXmlElement(e.documentElement);return Promise.resolve(i)},t=>{throw t}).then(t=>t,t=>{throw new Error(\"extractSheetFromMxl: \"+t.message)})}static MXLtoXMLstring(t){const e=new r.default;return e.loadAsync(t).then(t=>e.file(\"META-INF/container.xml\").async(\"text\"),t=>{throw t}).then(t=>{const i=(new DOMParser).parseFromString(t,\"text/xml\").getElementsByTagName(\"rootfile\")[0].getAttribute(\"full-path\");return e.file(i).async(\"text\")},t=>{throw t})}}},function(t,e,i){\"use strict\";var s=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,\"__esModule\",{value:!0});const n=i(131),r=i(66),o=i(0),a=i(134),h=i(60),l=i(27),c=i(11),u=s(i(1)),d=i(17),f=i(17),m=i(25),p=i(61),g=i(143),b=i(8),S=i(13),y=i(144),x=i(50);class E{constructor(t,e=new x.EngravingRules){this.completeNumberOfStaves=0,this.afterSheetReadingModules=t||[],this.repetitionInstructionReader=y.MusicSymbolModuleFactory.createRepetitionInstructionReader(),this.repetitionCalculator=y.MusicSymbolModuleFactory.createRepetitionCalculator(),this.rules=e}get CompleteNumberOfStaves(){return this.completeNumberOfStaves}static doCalculationsAfterDurationHasBeenSet(t){for(const e of t)e.doCalculationsAfterDurationHasBeenSet()}createMusicSheet(t,e){try{return this._createMusicSheet(t,e)}catch(t){return void u.default.error(\"MusicSheetReader.CreateMusicSheet\",t)}}_removeFromArray(t,e){const i=t.indexOf(e);-1!==i&&t.splice(i,1)}trimString(t){return t.replace(/^\\s+|\\s+$/g,\"\")}_lastElement(t){return t[t.length-1]}_createMusicSheet(t,e){const i=[];let s=0;if(this.musicSheet=new n.MusicSheet,this.musicSheet.Path=e,this.musicSheet.Rules=this.rules,!t)throw new c.MusicSheetReadingException(\"Undefined root element\");this.pushSheetLabels(t,e);const a=t.element(\"part-list\");if(!a)throw new c.MusicSheetReadingException(\"Undefined partListNode\");const h=t.elements(\"part\"),u=a.elements();this.initializeReading(u,h,i);let d=!0;this.currentFraction=new o.Fraction(0,1);let f=!1,m=t.element(\"identification\");for(m&&(m=m.element(\"encoding\")),m&&(m=m.element(\"software\")),void 0!==m&&\"Guitar Pro 5\"===m.value&&(f=!0);d;){void 0!==this.currentMeasure&&this.currentMeasure.HasEndLine&&(s=0),this.currentMeasure=new r.SourceMeasure(this.completeNumberOfStaves,this.musicSheet.Rules);for(const t of i)try{d=d&&t.readNextXmlMeasure(this.currentMeasure,this.currentFraction,f)}catch(t){const e=l.ITextTranslation.translateText(\"ReaderErrorMessages/InstrumentError\",\"Error while reading instruments.\");throw new c.MusicSheetReadingException(e,t)}d&&(this.musicSheet.addMeasure(this.currentMeasure),this.checkIfRhythmInstructionsAreSetAndEqual(i),this.checkSourceMeasureForNullEntries(),s=this.setSourceMeasureDuration(i,s),E.doCalculationsAfterDurationHasBeenSet(i),this.currentMeasure.AbsoluteTimestamp=this.currentFraction.clone(),this.musicSheet.SheetErrors.finalizeMeasure(this.currentMeasure.MeasureNumber),this.currentFraction.Add(this.currentMeasure.Duration),this.previousMeasure=this.currentMeasure)}this.repetitionInstructionReader&&(this.repetitionInstructionReader.removeRedundantInstructions(),this.repetitionCalculator&&this.repetitionCalculator.calculateRepetitions(this.musicSheet,this.repetitionInstructionReader.repetitionInstructions)),this.musicSheet.checkForInstrumentWithNoVoice(),this.musicSheet.fillStaffList();for(let t=0,e=this.afterSheetReadingModules.length;t<e;++t){this.afterSheetReadingModules[t].calculate(this.musicSheet)}return this.musicSheet.DefaultStartTempoInBpm=this.musicSheet.SourceMeasures[0].TempoInBPM,this.musicSheet.userStartTempoInBPM=this.musicSheet.userStartTempoInBPM||this.musicSheet.DefaultStartTempoInBpm,this.musicSheet}initializeReading(t,e,i){const s=this.createInstrumentGroups(t);this.completeNumberOfStaves=this.getCompleteNumberOfStavesFromXml(e),0!==e.length&&(this.repetitionInstructionReader.MusicSheet=this.musicSheet,this.currentFraction=new o.Fraction(0,1),this.currentMeasure=void 0,this.previousMeasure=void 0);let n=0;for(const t of e){const e=t.attribute(\"id\");if(e){const r=s[e.value],o=t.elements(\"measure\");let h=1;try{h=this.getInstrumentNumberOfStavesFromXml(t)}catch(t){const e=l.ITextTranslation.translateText(\"ReaderErrorMessages/InstrumentStavesNumberError\",\"Invalid number of staves at instrument: \");this.musicSheet.SheetErrors.push(e+r.Name);continue}r.createStaves(h),i.push(new a.InstrumentReader(this.repetitionInstructionReader,o,r)),this.repetitionInstructionReader&&(this.repetitionInstructionReader.xmlMeasureList[n]=o),n++}}}checkIfRhythmInstructionsAreSetAndEqual(t){const e=[];for(let t=0;t<this.completeNumberOfStaves;t++)if(this.currentMeasure.FirstInstructionsStaffEntries[t]){const i=this.currentMeasure.FirstInstructionsStaffEntries[t].Instructions[this.currentMeasure.FirstInstructionsStaffEntries[t].Instructions.length-1];i instanceof d.RhythmInstruction&&e.push(i)}let i=0,s=-1;for(let t=0,n=e.length;t<n;++t){const n=e[t];if(n.Rhythm.RealValue>i){if(this.areRhythmInstructionsMixed(e)&&n.SymbolEnum!==f.RhythmSymbolEnum.NONE)continue;i=n.Rhythm.RealValue,s=e.indexOf(n)}}if(e.length>0&&e.length<this.completeNumberOfStaves){const i=e[s].clone();for(let t=0;t<this.completeNumberOfStaves;t++)void 0===this.currentMeasure.FirstInstructionsStaffEntries[t]||this._lastElement(this.currentMeasure.FirstInstructionsStaffEntries[t].Instructions)instanceof d.RhythmInstruction||(this.currentMeasure.FirstInstructionsStaffEntries[t].removeAllInstructionsOfTypeRhythmInstruction(),this.currentMeasure.FirstInstructionsStaffEntries[t].Instructions.push(i.clone())),this.currentMeasure.FirstInstructionsStaffEntries[t]||(this.currentMeasure.FirstInstructionsStaffEntries[t]=new m.SourceStaffEntry(void 0,void 0),this.currentMeasure.FirstInstructionsStaffEntries[t].Instructions.push(i.clone()));for(let e=0,s=t.length;e<s;++e){t[e].ActiveRhythm=i}}if(0===e.length&&this.currentMeasure===this.musicSheet.SourceMeasures[0]){const e=new d.RhythmInstruction(new o.Fraction(4,4,0,!1),f.RhythmSymbolEnum.NONE);for(let t=0;t<this.completeNumberOfStaves;t++)this.currentMeasure.FirstInstructionsStaffEntries[t]?this.currentMeasure.FirstInstructionsStaffEntries[t].removeAllInstructionsOfTypeRhythmInstruction():this.currentMeasure.FirstInstructionsStaffEntries[t]=new m.SourceStaffEntry(void 0,void 0),this.currentMeasure.FirstInstructionsStaffEntries[t].Instructions.push(e);for(let i=0,s=t.length;i<s;++i){t[i].ActiveRhythm=e}}for(let t=0,n=e.length;t<n;++t){const n=e[t];if(n.Rhythm.RealValue<i&&this._lastElement(this.currentMeasure.FirstInstructionsStaffEntries[e.indexOf(n)].Instructions)instanceof d.RhythmInstruction){const t=this.currentMeasure.FirstInstructionsStaffEntries[e.indexOf(n)].Instructions;t[t.length-1]=e[s].clone()}Math.abs(n.Rhythm.RealValue-i)<1e-6&&n.SymbolEnum!==f.RhythmSymbolEnum.NONE&&this.areRhythmInstructionsMixed(e)&&(n.SymbolEnum=f.RhythmSymbolEnum.NONE)}}areRhythmInstructionsMixed(t){for(let e=1;e<t.length;e++)if(Math.abs(t[e].Rhythm.RealValue-t[0].Rhythm.RealValue)<1e-6&&t[e].SymbolEnum!==t[0].SymbolEnum)return!0;return!1}setSourceMeasureDuration(t,e){let i=new o.Fraction(0,1);const s=[];for(const e of t){s.push(e.MaxTieNoteFraction);const t=e.ActiveRhythm.Rhythm;i.lt(t)&&(i=new o.Fraction(t.Numerator,t.Denominator,0,!1))}const n=this.currentMeasure.calculateInstrumentsDuration(this.musicSheet,s);let r=new o.Fraction(0,1);for(const t of n)r.lt(t)&&(r=t);o.Fraction.Equal(r,i)?this.checkFractionsForEquivalence(r,i):r.lt(i)&&(r=this.currentMeasure.reverseCheck(this.musicSheet,r),this.checkFractionsForEquivalence(r,i)),this.currentMeasure.ImplicitMeasure=this.checkIfMeasureIsImplicit(r,i),this.currentMeasure.ImplicitMeasure||e++,this.currentMeasure.Duration=r,this.currentMeasure.ActiveTimeSignature=i,this.currentMeasure.MeasureNumber=e;for(let t=0;t<n.length;t++){const e=n[t];if(this.currentMeasure.ImplicitMeasure&&e!==r||!o.Fraction.Equal(e,i)&&!this.allInstrumentsHaveSameDuration(n,r)){const e=this.musicSheet.getGlobalStaffIndexOfFirstStaff(this.musicSheet.Instruments[t]);for(let i=0;i<this.musicSheet.Instruments[t].Staves.length;i++)if(!this.graphicalMeasureIsEmpty(e+i)){this.currentMeasure.setErrorInGraphicalMeasure(e+i,!0);const t=l.ITextTranslation.translateText(\"ReaderErrorMessages/MissingNotesError\",\"Given Notes don't correspond to measure duration.\");this.musicSheet.SheetErrors.pushMeasureError(t)}}}return e}checkFractionsForEquivalence(t,e){if(e.Denominator>t.Denominator){const i=e.Denominator/t.Denominator;t.expand(i)}}checkIfMeasureIsImplicit(t,e){return!(this.previousMeasure||!t.lt(e))||!!this.previousMeasure&&o.Fraction.plus(this.previousMeasure.Duration,t).Equals(e)}allInstrumentsHaveSameDuration(t,e){let i=0;for(let s=0,n=t.length;s<n;++s){t[s].Equals(e)&&i++}return i===t.length&&e!==new o.Fraction(0,1)}graphicalMeasureIsEmpty(t){let e=0;for(let i=0;i<this.currentMeasure.VerticalSourceStaffEntryContainers.length;i++)this.currentMeasure.VerticalSourceStaffEntryContainers[i].StaffEntries[t]||e++;return e===this.currentMeasure.VerticalSourceStaffEntryContainers.length}checkSourceMeasureForNullEntries(){for(let t=this.currentMeasure.VerticalSourceStaffEntryContainers.length-1;t>=0;t--)for(let e=this.currentMeasure.VerticalSourceStaffEntryContainers[t].StaffEntries.length-1;e>=0;e--){const i=this.currentMeasure.VerticalSourceStaffEntryContainers[t].StaffEntries[e];if(i)for(let t=i.VoiceEntries.length-1;t>=0;t--){const e=i.VoiceEntries[t];0===e.Notes.length&&(this._removeFromArray(e.ParentVoice.VoiceEntries,e),this._removeFromArray(i.VoiceEntries,e))}void 0!==i&&0===i.VoiceEntries.length&&(this.currentMeasure.VerticalSourceStaffEntryContainers[t].StaffEntries[e]=void 0)}for(let t=this.currentMeasure.VerticalSourceStaffEntryContainers.length-1;t>=0;t--){let e=0;for(let i=0,s=this.currentMeasure.VerticalSourceStaffEntryContainers[t].StaffEntries.length;i<s;++i){this.currentMeasure.VerticalSourceStaffEntryContainers[t].StaffEntries[i]||e++}e===this.currentMeasure.VerticalSourceStaffEntryContainers[t].StaffEntries.length&&this._removeFromArray(this.currentMeasure.VerticalSourceStaffEntryContainers,this.currentMeasure.VerticalSourceStaffEntryContainers[t])}}pushSheetLabels(t,e){this.readComposer(t),this.readTitle(t);try{this.musicSheet.Title&&this.musicSheet.Composer||this.readTitleAndComposerFromCredits(t)}catch(t){u.default.info(\"MusicSheetReader.pushSheetLabels\",\"readTitleAndComposerFromCredits\",t)}try{if(!this.musicSheet.Title){const t=Math.max(0,e.lastIndexOf(\"/\"),e.lastIndexOf(\"\\\\\")),i=e.substr(t).split(\".\",1);this.musicSheet.Title=new S.Label(i[0])}}catch(t){u.default.info(\"MusicSheetReader.pushSheetLabels\",\"read title from file name\",t)}}presentAttrsWithValue(t,e){for(const i of t.attributes())if(i.value===e)return!0;return!1}readComposer(t){const e=t.element(\"identification\");if(e){const t=e.elements(\"creator\");for(let e=0,i=t.length;e<i;++e){const i=t[e];if(i.hasAttributes){if(this.presentAttrsWithValue(i,\"composer\")){this.musicSheet.Composer=new S.Label(this.trimString(i.value));continue}(this.presentAttrsWithValue(i,\"lyricist\")||this.presentAttrsWithValue(i,\"poet\"))&&(this.musicSheet.Lyricist=new S.Label(this.trimString(i.value)))}}}}readTitleAndComposerFromCredits(t){const e=this.computeSystemYCoordinates(t);if(0===e)return;let i=1,s=void 0,n=0,r=void 0,o=void 0;const a=t.elements(\"credit\");for(let t=0,h=a.length;t<h;++t){const h=a[t];if(!h.attribute(\"page\"))return;if(\"1\"===h.attribute(\"page\").value){let t=void 0;if(h){if(t=h.element(\"credit-words\"),!t.attribute(\"justify\"))break;const a=t.attribute(\"justify\").value,l=t.attribute(\"default-y\").value,c=parseFloat(l);if(c>e){if(!this.musicSheet.Title){const e=t.attribute(\"font-size\").value,n=parseFloat(e);i<n&&(i=n,s=t.value)}if(this.musicSheet.Subtitle||\"right\"!==a&&\"left\"!==a&&n<c&&(n=c,o?(r=o,o=t.value):o=t.value),void 0===this.musicSheet.Composer||!this.musicSheet.Lyricist)switch(a){case\"right\":this.musicSheet.Composer=new S.Label(this.trimString(t.value));break;case\"left\":this.musicSheet.Lyricist=new S.Label(this.trimString(t.value))}}}}}!this.musicSheet.Title&&s&&(this.musicSheet.Title=new S.Label(this.trimString(s))),!this.musicSheet.Subtitle&&r&&(this.musicSheet.Subtitle=new S.Label(this.trimString(r)))}computeSystemYCoordinates(t){if(!t.element(\"defaults\"))return 0;let e=0,i=0;try{const i=t.element(\"defaults\").element(\"page-layout\").element(\"page-height\").value;e=parseFloat(i)}catch(t){return u.default.info(\"MusicSheetReader.computeSystemYCoordinates(): couldn't find page height, not reading title/composer.\"),0}let s=!1;const n=t.elements(\"part\");for(let t=0,e=n.length;t<e;++t){const e=n[t].elements(\"measure\");for(let t=0,n=e.length;t<n;++t){const n=e[t];if(n.element(\"print\")){const t=n.element(\"print\").elements(\"system-layout\");for(let e=0,n=t.length;e<n;++e){const n=t[e];if(n.element(\"top-system-distance\")){const t=n.element(\"top-system-distance\").value;i=parseFloat(t),s=!0;break}}break}}if(s)break}if(t.element(\"defaults\").element(\"system-layout\")){if(t.element(\"defaults\").element(\"system-layout\").element(\"top-system-distance\")){const e=t.element(\"defaults\").element(\"system-layout\").element(\"top-system-distance\").value;i=parseFloat(e)}}return 0===i?0:e-i}readTitle(t){const e=t.element(\"work\");let i=void 0;e&&(i=e.element(\"work-title\"),i&&i.value&&(this.musicSheet.Title=new S.Label(this.trimString(i.value))));const s=t.element(\"movement-title\");let n=\"\";if(s&&(this.musicSheet.Title?n=this.trimString(s.value):this.musicSheet.Title=new S.Label(this.trimString(s.value))),e){const t=e.element(\"work-number\");if(t){const e=t.value;e&&(n=\"\"===n?e:n+\", \"+e)}}n&&(this.musicSheet.Subtitle=new S.Label(n))}createInstrumentGroups(t){let e=0;const i={};let s;try{const n=t;for(let t=0,r=n.length;t<r;++t){const r=n[t];if(\"score-part\"===r.name){const t=r.attribute(\"id\").value,n=new h.Instrument(e,t,this.musicSheet,s);e++;const o=r.elements();for(let t=0,e=o.length;t<e;++t){const e=o[t];try{if(\"part-name\"===e.name)n.Name=e.value;else if(\"part-abbreviation\"===e.name)n.PartAbbreviation=e.value;else if(\"score-instrument\"===e.name){const t=new g.SubInstrument(n);t.idString=e.firstAttribute.value,n.SubInstruments.push(t);const i=e.element(\"instrument-name\");i&&(t.name=i.value,t.setMidiInstrument(i.value))}else if(\"midi-instrument\"===e.name){let t=n.getSubInstrument(e.firstAttribute.value);for(let i=0,s=n.SubInstruments.length;i<s;++i){const s=n.SubInstruments[i];if(s.idString===e.value){t=s;break}}const i=e.elements();for(let e=0,s=i.length;e<s;++e){const s=i[e];try{if(\"midi-channel\"===s.name)10===parseInt(s.value,10)&&(n.MidiInstrumentId=b.MidiInstrument.Percussion);else if(\"midi-program\"===s.name)n.SubInstruments.length>0&&n.MidiInstrumentId!==b.MidiInstrument.Percussion&&(t.midiInstrumentID=Math.max(0,parseInt(s.value,10)-1));else if(\"midi-unpitched\"===s.name)t.fixedKey=Math.max(0,parseInt(s.value,10));else if(\"volume\"===s.name)try{const e=parseFloat(s.value);t.volume=e/127}catch(t){u.default.debug(\"ExpressionReader.readExpressionParameters\",\"read volume\",t)}else if(\"pan\"===s.name)try{const e=parseFloat(s.value);t.pan=e/64}catch(t){u.default.debug(\"ExpressionReader.readExpressionParameters\",\"read pan\",t)}}catch(t){u.default.info(\"MusicSheetReader.createInstrumentGroups midi settings: \",t)}}}}catch(t){u.default.info(\"MusicSheetReader.createInstrumentGroups: \",t)}}if(0===n.SubInstruments.length){const t=new g.SubInstrument(n);n.SubInstruments.push(t)}i[t]=n,s?(s.InstrumentalGroups.push(n),this.musicSheet.Instruments.push(n)):(this.musicSheet.InstrumentalGroups.push(n),this.musicSheet.Instruments.push(n))}else if(\"part-group\"===r.name&&\"start\"===r.attribute(\"type\").value){const t=new p.InstrumentalGroup(\"group\",this.musicSheet,s);s?s.InstrumentalGroups.push(t):this.musicSheet.InstrumentalGroups.push(t),s=t}else if(\"part-group\"===r.name&&\"stop\"===r.attribute(\"type\").value&&s){if(1===s.InstrumentalGroups.length){const t=s.InstrumentalGroups[0];s.Parent?(s.Parent.InstrumentalGroups.push(t),this._removeFromArray(s.Parent.InstrumentalGroups,s)):(this.musicSheet.InstrumentalGroups.push(t),this._removeFromArray(this.musicSheet.InstrumentalGroups,s))}s=s.Parent}}}catch(t){const e=l.ITextTranslation.translateText(\"ReaderErrorMessages/InstrumentError\",\"Error while reading Instruments\");throw new c.MusicSheetReadingException(e,t)}for(let t=0,e=this.musicSheet.Instruments.length;t<e;++t){const e=this.musicSheet.Instruments[t];e.Name||(e.Name=\"Instr. \"+e.IdString)}return i}getCompleteNumberOfStavesFromXml(t){let e=0;for(const i of t){const t=i.elements(\"measure\");if(t.length>0){const i=t[0];if(i){let t=i.element(\"attributes\");t&&(t=t.element(\"staves\")),t?e+=parseInt(t.value,10):e++}}}if(isNaN(e)||e<=0){const t=l.ITextTranslation.translateText(\"ReaderErrorMessages/StaffError\",\"Invalid number of staves.\");throw new c.MusicSheetReadingException(t)}return e}getInstrumentNumberOfStavesFromXml(t){let e=0;const i=t.element(\"measure\");if(i){const t=i.element(\"attributes\");let s=void 0;t&&(s=t.element(\"staves\")),e=t&&s?parseInt(s.value,10):1}if(isNaN(e)||e<=0){const t=l.ITextTranslation.translateText(\"ReaderErrorMessages/StaffError\",\"Invalid number of Staves.\");throw new c.MusicSheetReadingException(t)}return e}}e.MusicSheetReader=E},function(t,e,i){\"use strict\";var s=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,\"__esModule\",{value:!0});const n=i(0),r=i(179),o=i(132),a=i(47),h=i(182),l=i(29),c=i(21),u=s(i(1));class d{}e.PlaybackSettings=d;class f{constructor(){this.idString=\"random idString, not initialized\",this.sourceMeasures=[],this.repetitions=[],this.dynListStaves=[],this.timestampSortedDynamicExpressionsList=[],this.timestampSortedTempoExpressionsList=[],this.instrumentalGroups=[],this.instruments=[],this.musicPartManager=void 0,this.musicSheetErrors=new h.MusicSheetErrors,this.staves=[],this.transpose=0,this.defaultStartTempoInBpm=0,this.drawErroneousMeasures=!1,this.hasBeenOpenedForTheFirstTime=!1,this.currentEnrolledPosition=new n.Fraction(0,1),this.playbackSettings=new d,this.playbackSettings.rhythm=new n.Fraction(4,4,0,!1),this.userStartTempoInBPM=100,this.pageWidth=120,this.MusicPartManager=new r.MusicPartManager(this),this.hasBPMInfo=!1}static getIndexFromStaff(t){return t.idInMusicSheet}get SourceMeasures(){return this.sourceMeasures}set SourceMeasures(t){this.sourceMeasures=t}get Repetitions(){return this.repetitions}set Repetitions(t){this.repetitions=t}get DynListStaves(){return this.dynListStaves}get TimestampSortedTempoExpressionsList(){return this.timestampSortedTempoExpressionsList}get TimestampSortedDynamicExpressionsList(){return this.timestampSortedDynamicExpressionsList}get InstrumentalGroups(){return this.instrumentalGroups}get Parts(){return this.instruments}get Instruments(){return this.instruments}get SheetPlaybackSetting(){return this.playbackSettings}set SheetPlaybackSetting(t){this.playbackSettings=t}get DrawErroneousMeasures(){return this.drawErroneousMeasures}set DrawErroneousMeasures(t){this.drawErroneousMeasures=t}get HasBeenOpenedForTheFirstTime(){return this.hasBeenOpenedForTheFirstTime}set HasBeenOpenedForTheFirstTime(t){this.hasBeenOpenedForTheFirstTime=t}InitializeStartTempoInBPM(t){this.userStartTempoInBPM=t}get DefaultStartTempoInBpm(){return this.defaultStartTempoInBpm}set DefaultStartTempoInBpm(t){this.defaultStartTempoInBpm=t,this.InitializeStartTempoInBPM(t)}get Path(){return this.path}set Path(t){this.path=t}get Staves(){return this.staves}get TitleString(){return this.title?this.title.text:\"\"}get SubtitleString(){return this.subtitle?this.subtitle.text:\"\"}get ComposerString(){return this.composer?this.composer.text:\"\"}get LyricistString(){return this.lyricist?this.lyricist.text:\"\"}get Title(){return this.title}set Title(t){this.title=t}get Subtitle(){return this.subtitle}set Subtitle(t){this.subtitle=t}get Composer(){return this.composer}set Composer(t){this.composer=t}get Lyricist(){return this.lyricist}set Lyricist(t){this.lyricist=t}get Rules(){return this.rules||(u.default.debug(\"warning: sheet.Rules was undefined. Creating new EngravingRules.\"),this.rules=new l.EngravingRules),this.rules}set Rules(t){this.rules=t}get SheetErrors(){return this.musicSheetErrors}get SelectionStart(){return this.selectionStart}set SelectionStart(t){this.selectionStart=t.clone(),this.currentEnrolledPosition=t.clone()}get SelectionEnd(){return this.selectionEnd}set SelectionEnd(t){this.selectionEnd=t}set HasBPMInfo(t){this.hasBPMInfo=t}get HasBPMInfo(){return this.hasBPMInfo}addMeasure(t){this.sourceMeasures.push(t),t.measureListIndex=this.sourceMeasures.length-1}checkForInstrumentWithNoVoice(){for(let t=0,e=this.instruments.length;t<e;++t){const e=this.instruments[t];if(0===e.Voices.length){const t=new a.Voice(e,1);e.Voices.push(t)}}}getStaffFromIndex(t){return this.staves[t]}fillStaffList(){let t=0;for(let e=0,i=this.instruments.length;e<i;++e){const i=this.instruments[e];for(let e=0,s=i.Staves.length;e<s;++e){const s=i.Staves[e];s.idInMusicSheet=t,this.staves.push(s),t++}}}get MusicPartManager(){return this.musicPartManager}set MusicPartManager(t){this.musicPartManager=t}getCompleteNumberOfStaves(){let t=0;for(let e=0,i=this.instruments.length;e<i;++e){t+=this.instruments[e].Staves.length}return t}getListOfMeasuresFromIndeces(t,e){const i=[];for(let s=t;s<=e;s++)i.push(this.sourceMeasures[s]);return i}getNextSourceMeasure(t){const e=this.sourceMeasures.indexOf(t);return e===this.sourceMeasures.length-1?t:this.sourceMeasures[e+1]}getFirstSourceMeasure(){return this.sourceMeasures[0]}getLastSourceMeasure(){return this.sourceMeasures[this.sourceMeasures.length-1]}resetAllNoteStates(){const t=this.MusicPartManager.getIterator();for(;!t.EndReached&&t.CurrentVoiceEntries;){for(let e=0,i=t.CurrentVoiceEntries.length;e<i;++e){const i=t.CurrentVoiceEntries[e];for(let t=0,e=i.Notes.length;t<e;++t){i.Notes[t].state=c.NoteState.Normal}}t.moveToNext()}}getMusicSheetInstrumentIndex(t){return this.Instruments.indexOf(t)}getGlobalStaffIndexOfFirstStaff(t){const e=this.getMusicSheetInstrumentIndex(t);let i=0;for(let t=0;t<e;t++)i+=this.Instruments[t].Staves.length;return i}setRepetitionNewUserNumberOfRepetitions(t,e){let i=0;for(let s=0;s<this.repetitions.length;s++)if(this.repetitions[s]instanceof o.Repetition){if(t===i){this.repetitions[s].UserNumberOfRepetitions=e;break}i++}}getRepetitionByIndex(t){let e=0;for(let i=0;i<this.repetitions.length;i++)if(this.repetitions[i]instanceof o.Repetition){if(t===e)return this.repetitions[i];e++}}CompareTo(t){return this.Title.text.localeCompare(t.Title.text)}get Errors(){return this.musicSheetErrors.measureErrors}get FirstMeasureNumber(){try{return this.getFirstSourceMeasure().MeasureNumber}catch(t){return u.default.info(\"MusicSheet.FirstMeasureNumber: \",t),0}}get LastMeasureNumber(){try{return this.getLastSourceMeasure().MeasureNumber}catch(t){return u.default.info(\"MusicSheet.LastMeasureNumber: \",t),0}}get CurrentEnrolledPosition(){return this.currentEnrolledPosition.clone()}set CurrentEnrolledPosition(t){this.currentEnrolledPosition=t.clone()}get Transpose(){return this.transpose}set Transpose(t){this.transpose=t}get FullNameString(){return this.ComposerString+\" \"+this.TitleString}get IdString(){return this.idString}set IdString(t){this.idString=t}getEnrolledSelectionStartTimeStampWorkaround(){const t=this.MusicPartManager.getIterator(this.SelectionStart);return n.Fraction.createFromFraction(t.CurrentEnrolledTimestamp)}get SheetEndTimestamp(){const t=this.getLastSourceMeasure();return n.Fraction.plus(t.AbsoluteTimestamp,t.Duration)}getSourceMeasureFromTimeStamp(t){for(let e=0,i=this.sourceMeasures.length;e<i;++e){const i=this.sourceMeasures[e];for(let e=0,s=i.VerticalSourceStaffEntryContainers.length;e<s;++e){const s=i.VerticalSourceStaffEntryContainers[e];if(t.Equals(s.getAbsoluteTimestamp()))return i}}return this.findSourceMeasureFromTimeStamp(t)}findSourceMeasureFromTimeStamp(t){for(const e of this.sourceMeasures)if(e.AbsoluteTimestamp.lte(t)&&t.lt(n.Fraction.plus(e.AbsoluteTimestamp,e.Duration)))return e}getVisibleInstruments(){const t=[];for(let e=0,i=this.Instruments.length;e<i;++e){const i=this.Instruments[e];i.Voices.length>0&&i.Voices[0].Visible&&t.push(i)}return t}}e.MusicSheet=f,f.defaultTitle=\"[no title given]\"},function(t,e,i){\"use strict\";var s=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,\"__esModule\",{value:!0});const n=i(133),r=i(0),o=i(76),a=s(i(1));class h extends o.PartListEntry{constructor(t,e){super(t),this.backwardJumpInstructions=[],this.endingParts=[],this.endingIndexDict={},this.userNumberOfRepetitions=0,this.visibles=[],this.fromWords=!1,this.repetitonIterationOrder=[],this.numberOfEndings=1,this.musicSheet2=t,this.virtualOverallRepetition=e}get BackwardJumpInstructions(){return this.backwardJumpInstructions}get EndingIndexDict(){return this.endingIndexDict}get EndingParts(){return this.endingParts}get Visibles(){return this.visibles}set Visibles(t){this.visibles=t}get DefaultNumberOfRepetitions(){let t=2;return this.virtualOverallRepetition&&(t=1),Math.max(t,Object.keys(this.endingIndexDict).length,this.checkRepetitionForMultipleLyricVerses())}get UserNumberOfRepetitions(){return this.userNumberOfRepetitions}set UserNumberOfRepetitions(t){this.userNumberOfRepetitions=t,this.repetitonIterationOrder=[];const e=this.userNumberOfRepetitions-this.NumberOfEndings;for(let t=1;t<=this.userNumberOfRepetitions;t++)t<=e?this.repetitonIterationOrder.push(1):this.repetitonIterationOrder.push(t-e)}getForwardJumpTargetForIteration(t){const e=this.repetitonIterationOrder[t-1];return this.endingIndexDict[e]?this.endingIndexDict[e].part.StartIndex:-1}getBackwardJumpTarget(){return this.startMarker.measureIndex}SetEndingStartIndex(t,e){const i=new l(new n.SourceMusicPart(this.musicSheet2,e,e));this.endingParts.push(i);for(const e of t)try{this.endingIndexDict[e]=i,i.endingIndices.push(e),this.numberOfEndings<e&&(this.numberOfEndings=e)}catch(t){a.default.error(\"Repetition: Exception.\",t)}}setEndingEndIndex(t,e){this.endingIndexDict[t]&&this.endingIndexDict[t].part.setEndIndex(e)}get NumberOfEndings(){return this.numberOfEndings}get FromWords(){return this.fromWords}set FromWords(t){this.fromWords=t}get AbsoluteTimestamp(){return r.Fraction.createFromFraction(this.musicSheet2.SourceMeasures[this.startMarker.measureIndex].AbsoluteTimestamp)}get StartIndex(){return this.startMarker.measureIndex}get EndIndex(){if(0===this.BackwardJumpInstructions.length)return this.StartIndex;let t=this.backwardJumpInstructions[this.backwardJumpInstructions.length-1].measureIndex;return this.endingIndexDict[this.NumberOfEndings]&&(t=Math.max(this.endingIndexDict[this.NumberOfEndings].part.EndIndex,t)),t}checkRepetitionForMultipleLyricVerses(){let t=0;const e=this.StartIndex,i=this.EndIndex;for(let s=e;s<=i;s++){const e=this.musicSheet2.SourceMeasures[s];for(let i=0;i<e.CompleteNumberOfStaves;i++)for(const s of e.VerticalSourceStaffEntryContainers[i].StaffEntries)if(s){let e=0;for(const t of s.VoiceEntries)e+=Object.keys(t.LyricsEntries).length;t=Math.max(t,e)}}return t}get FirstSourceMeasureNumber(){return this.getFirstSourceMeasure().MeasureNumber}get LastSourceMeasureNumber(){return this.getLastSourceMeasure().MeasureNumber}}e.Repetition=h;class l{constructor(t){this.endingIndices=[],this.part=t}ToString(){return this.endingIndices.join(\", \")}}e.RepetitionEndingPart=l},function(t,e,i){\"use strict\";Object.defineProperty(e,\"__esModule\",{value:!0});const s=i(76),n=i(0);class r extends s.PartListEntry{constructor(t,e,i){super(t),this.musicSheet=t,this.startIndex=e,this.endIndex=i}get MeasuresCount(){return this.endIndex-this.startIndex+1}get StartIndex(){return this.startIndex}get EndIndex(){return this.endIndex}get ParentRepetition(){return this.parentRepetition}set ParentRepetition(t){this.parentRepetition=t}get AbsoluteTimestamp(){return n.Fraction.createFromFraction(this.musicSheet.SourceMeasures[this.startIndex].AbsoluteTimestamp)}setStartIndex(t){this.startIndex=t}setEndIndex(t){this.endIndex=t}}e.SourceMusicPart=r},function(t,e,i){\"use strict\";var s=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,\"__esModule\",{value:!0});const n=i(135),r=i(25),o=i(8),a=i(15),h=i(17),l=i(0),c=i(27),u=i(11),d=i(8),f=i(17),m=i(15),p=s(i(1)),g=i(8),b=i(138),S=i(139),y=i(142),x=i(16),E=i(39),v=i(50);e.InstrumentReader=class{constructor(t,e,i){this.voiceGeneratorsDict={},this.staffMainVoiceGeneratorDict={},this.divisions=0,this.currentClefNumber=1,this.currentXmlMeasureIndex=0,this.activeKeyHasBeenInitialized=!1,this.abstractInstructions=[],this.openChordSymbolContainers=[],this.repetitionInstructionReader=t,this.xmlMeasureList=e,this.musicSheet=i.GetMusicSheet,this.instrument=i,this.activeClefs=new Array(i.Staves.length),this.activeClefsHaveBeenInitialized=new Array(i.Staves.length);for(let t=0;t<i.Staves.length;t++)this.activeClefsHaveBeenInitialized[t]=!1;this.createExpressionGenerators(i.Staves.length),this.slurReader=new y.SlurReader(this.musicSheet)}get ActiveKey(){return this.activeKey}get MaxTieNoteFraction(){return this.maxTieNoteFraction}get ActiveRhythm(){return this.activeRhythm}set ActiveRhythm(t){this.activeRhythm=t}readNextXmlMeasure(t,e,i){var s;if(this.currentXmlMeasureIndex>=this.xmlMeasureList.length)return!1;this.currentMeasure=t,this.inSourceMeasureInstrumentIndex=this.musicSheet.getGlobalStaffIndexOfFirstStaff(this.instrument),this.repetitionInstructionReader&&this.repetitionInstructionReader.prepareReadingMeasure(t,this.currentXmlMeasureIndex);let n=new l.Fraction(0,1),r=new l.Fraction(0,1),o=!1;this.maxTieNoteFraction=new l.Fraction(0,1);let a=!1;try{const h=this.xmlMeasureList[this.currentXmlMeasureIndex].elements();for(const d of h)if(\"print\"===d.name){const e=d.attribute(\"new-system\");\"yes\"===(null==e?void 0:e.value)&&(t.printNewSystemXml=!0);const i=d.attribute(\"new-page\");\"yes\"===(null==i?void 0:i.value)&&(t.printNewPageXml=!0)}else if(\"note\"===d.name){let t=!0;d.hasAttributes&&d.attribute(\"print-object\")&&\"no\"===d.attribute(\"print-object\").value&&(t=!1);let s=1;this.instrument.Staves.length>1&&d.element(\"staff\")&&(s=parseInt(d.element(\"staff\").value,10),isNaN(s)&&(p.default.debug(\"InstrumentReader.readNextXmlMeasure.get staff number\"),s=1)),this.currentStaff=this.instrument.Staves[s-1];const o=void 0!==d.element(\"chord\");if(d.element(\"voice\")){const t=parseInt(d.element(\"voice\").value,10);this.currentVoiceGenerator=this.getOrCreateVoiceGenerator(t,s-1)}else o&&this.currentVoiceGenerator||(this.currentVoiceGenerator=this.getOrCreateVoiceGenerator(1,s-1));let h=0,u=new l.Fraction(0,1),f=2,m=void 0,g=!1;if(d.element(\"duration\")){if(h=parseInt(d.element(\"duration\").value,10),isNaN(h)){const t=c.ITextTranslation.translateText(\"ReaderErrorMessages/NoteDurationError\",\"Invalid Note Duration.\");this.musicSheet.SheetErrors.pushMeasureError(t),p.default.debug(\"InstrumentReader.readNextXmlMeasure\",t);continue}if(u=new l.Fraction(h,4*this.divisions),0===h?u=this.getNoteDurationFromTypeNode(d):m=this.getNoteDurationFromTypeNode(d),d.element(\"time-modification\")){u=this.getNoteDurationForTuplet(d);const t=d.element(\"time-modification\");t&&t.element(\"normal-notes\")&&(f=parseInt(t.element(\"normal-notes\").value,10)),g=!0}}const b=void 0!==d.element(\"rest\"),S=d.element(\"notations\"),y=void 0!==d.element(\"grace\")||0===h||o&&a;let v=!1,_=!1;if(y){const t=d.element(\"grace\");if(t&&t.attributes()&&t.attribute(\"slash\")){\"yes\"===t.attribute(\"slash\").value&&(v=!0)}u=this.getNoteDurationFromTypeNode(d);const e=d.element(\"notations\");e&&e.element(\"slur\")&&(_=!0)}let w=!1;d.element(\"cue\")&&(w=!0);const M=d.element(\"type\");let T=E.NoteType.UNDEFINED;if(M){const t=M.attribute(\"size\");null!=t&&\"cue\"===t.value&&(w=!0),T=E.NoteTypeHandler.StringToNoteType(M.value)}let P,L=x.StemDirectionType.Undefined;const A=d.element(\"stem\");if(A){switch(A.value){case\"down\":L=x.StemDirectionType.Down;break;case\"up\":L=x.StemDirectionType.Up;break;case\"double\":L=x.StemDirectionType.Double;break;case\"none\":L=x.StemDirectionType.None;break;default:L=x.StemDirectionType.Undefined}const t=A.attribute(\"color\");t&&(P=this.parseXmlColor(t.value))}let I,C=0;if(S){const t=S.element(\"ornaments\");if(t){const e=t.element(\"tremolo\");if(e){const t=e.attribute(\"type\");if(t&&\"single\"===t.value){const t=parseInt(e.value,10);t>0&&(C=t)}}}}const R=d.element(\"notehead\");if(R){const t=R.attribute(\"color\");t&&(I=this.parseXmlColor(t.value))}let N;const B=d.attribute(\"color\");B&&(N=this.parseXmlColor(B.value),I||(I=N),P||(P=N));let F=n.clone();o&&(F=r.clone()),this.currentStaffEntry=this.currentMeasure.findOrCreateStaffEntry(F,this.inSourceMeasureInstrumentIndex+s-1,this.currentStaff).staffEntry,(!this.currentVoiceGenerator.hasVoiceEntry()||!o&&!y&&!a||y&&!a||y&&!o||!y&&a)&&this.currentVoiceGenerator.createVoiceEntry(F,this.currentStaffEntry,!b&&!y,y,v,_),y||o||(r=n.clone(),n.Add(u)),o&&void 0!==this.currentStaffEntry&&this.currentStaffEntry.ParentStaff!==this.currentStaff&&(this.currentStaffEntry=this.currentVoiceGenerator.checkForStaffEntryLink(this.inSourceMeasureInstrumentIndex+s-1,this.currentStaff,this.currentStaffEntry,this.currentMeasure));const D=void 0!==this.currentStaffEntry&&void 0!==this.currentStaffEntry.Timestamp&&this.currentStaffEntry.Timestamp.Equals(new l.Fraction(0,1))&&!this.currentStaffEntry.hasNotes();if(this.saveAbstractInstructionList(this.instrument.Staves.length,D),0!==this.openChordSymbolContainers.length&&(this.currentStaffEntry.ChordContainers=this.openChordSymbolContainers,this.openChordSymbolContainers=[]),this.activeRhythm,g||y||(u=new l.Fraction(h,4*this.divisions)),this.currentVoiceGenerator.read(d,u,m,T,f,b,this.currentStaffEntry,this.currentMeasure,e,this.maxTieNoteFraction,o,i,t,w,L,C,P,I),void 0!==S&&S.element(\"dynamics\")){const t=this.expressionReaders[this.readExpressionStaffNumber(d)-1];t&&(t.readExpressionParameters(d,this.instrument,this.divisions,n,r,this.currentMeasure.MeasureNumber,!1),t.read(d,this.currentMeasure,r))}a=y}else if(\"attributes\"===d.name){const t=d.element(\"divisions\");if(t&&(this.divisions=parseInt(t.value,10),isNaN(this.divisions))){const t=c.ITextTranslation.translateText(\"ReaderErrorMessages/DivisionError\",\"Invalid divisions value at Instrument: \");if(p.default.debug(\"InstrumentReader.readNextXmlMeasure\",t),this.divisions=this.readDivisionsFromNotes(),!(this.divisions>0))throw o=!0,new u.MusicSheetReadingException(t+this.instrument.Name);this.musicSheet.SheetErrors.push(t+this.instrument.Name)}if(!d.element(\"divisions\")&&0===this.divisions&&0===this.currentXmlMeasureIndex){const t=c.ITextTranslation.translateText(\"ReaderErrorMessages/DivisionError\",\"Invalid divisions value at Instrument: \");if(this.divisions=this.readDivisionsFromNotes(),!(this.divisions>0))throw o=!0,new u.MusicSheetReadingException(t+this.instrument.Name);this.musicSheet.SheetErrors.push(t+this.instrument.Name)}this.addAbstractInstruction(d,i),n.Equals(new l.Fraction(0,1))&&this.isAttributesNodeAtBeginOfMeasure(this.xmlMeasureList[this.currentXmlMeasureIndex],d)&&this.saveAbstractInstructionList(this.instrument.Staves.length,!0),this.isAttributesNodeAtEndOfMeasure(this.xmlMeasureList[this.currentXmlMeasureIndex],d)&&this.saveClefInstructionAtEndOfMeasure();const e=d.element(\"staff-details\");if(e){const t=e.element(\"staff-lines\");if(t){let i=1;const s=e.attribute(\"number\");s&&(i=parseInt(s.value,10)),this.instrument.Staves[i-1].StafflineCount=parseInt(t.value,10)}}}else if(\"forward\"===d.name){const t=parseInt(d.element(\"duration\").value,10);n.Add(new l.Fraction(t,4*this.divisions))}else if(\"backup\"===d.name){const t=parseInt(d.element(\"duration\").value,10);n.Sub(new l.Fraction(t,4*this.divisions)),n.IsNegative()&&(n=new l.Fraction(0,1)),r.Sub(new l.Fraction(t,4*this.divisions)),r.IsNegative()&&(r=new l.Fraction(0,1))}else if(\"direction\"===d.name){const t=d.element(\"direction-type\");let e=Math.min(1,n.RealValue);void 0!==this.activeRhythm&&this.activeRhythm.Rhythm&&(e/=this.activeRhythm.Rhythm.RealValue);let i=!1;if(this.repetitionInstructionReader&&(i=this.repetitionInstructionReader.handleRepetitionInstructionsFromWordsOrSymbols(t,e)),!i){let e=this.expressionReaders[0];const i=this.readExpressionStaffNumber(d)-1;i<this.expressionReaders.length&&(e=this.expressionReaders[i]),e&&(t.element(\"octave-shift\")&&(e.readExpressionParameters(d,this.instrument,this.divisions,n,r,this.currentMeasure.MeasureNumber,!0),e.addOctaveShift(d,this.currentMeasure,r.clone())),e.readExpressionParameters(d,this.instrument,this.divisions,n,r,this.currentMeasure.MeasureNumber,!1),e.read(d,this.currentMeasure,n))}}else if(\"barline\"===d.name){if(this.repetitionInstructionReader){this.repetitionInstructionReader.handleLineRepetitionInstructions(d)&&(this.currentMeasure.HasEndLine=!0)}const t=d.attribute(\"location\");if(t&&\"right\"===t.value){const t=null===(s=d.element(\"bar-style\"))||void 0===s?void 0:s.value;t&&(this.currentMeasure.endingBarStyleXml=t,this.currentMeasure.endingBarStyleEnum=v.SystemLinesEnumHelper.xmlBarlineStyleToSystemLinesEnum(t))}}else\"sound\"===d.name||\"harmony\"===d.name&&this.openChordSymbolContainers.push(b.ChordSymbolReader.readChordSymbol(d,this.musicSheet,this.activeKey));for(const t in this.voiceGeneratorsDict)if(this.voiceGeneratorsDict.hasOwnProperty(t)){this.voiceGeneratorsDict[t].checkForOpenBeam()}if(this.currentXmlMeasureIndex===this.xmlMeasureList.length-1){for(let t=0;t<this.instrument.Staves.length;t++)this.activeClefsHaveBeenInitialized[t]||this.createDefaultClefInstruction(this.musicSheet.getGlobalStaffIndexOfFirstStaff(this.instrument)+t);this.activeKeyHasBeenInitialized||this.createDefaultKeyInstruction();for(let t=0;t<this.expressionReaders.length;t++){const e=this.expressionReaders[t];e&&e.checkForOpenExpressions(this.currentMeasure,n)}}this.musicSheet.HasBPMInfo?0===t.TempoInBPM&&(this.currentMeasure.TempoInBPM=this.previousMeasure.TempoInBPM):this.currentMeasure.TempoInBPM=120}catch(t){if(o)throw new u.MusicSheetReadingException(t.Message);const e=c.ITextTranslation.translateText(\"ReaderErrorMessages/MeasureError\",\"Error while reading Measure.\");this.musicSheet.SheetErrors.pushMeasureError(e),p.default.debug(\"InstrumentReader.readNextXmlMeasure\",e,t)}return this.previousMeasure=this.currentMeasure,this.currentXmlMeasureIndex+=1,!0}parseXmlColor(t){if(t)return 7===t.length?t:9===t.length?\"#\"+t.substr(3):void 0}doCalculationsAfterDurationHasBeenSet(){for(const t in this.voiceGeneratorsDict)this.voiceGeneratorsDict.hasOwnProperty(t)&&this.voiceGeneratorsDict[t].checkOpenTies()}getOrCreateVoiceGenerator(t,e){const i=this.instrument.Staves[e];let s=this.voiceGeneratorsDict[t];if(s)-1===i.Voices.indexOf(s.GetVoice)&&i.Voices.push(s.GetVoice);else{const r=this.staffMainVoiceGeneratorDict[e];r?(s=new n.VoiceGenerator(this.instrument,t,this.slurReader,r.GetVoice),i.Voices.push(s.GetVoice),this.voiceGeneratorsDict[t]=s):(s=new n.VoiceGenerator(this.instrument,t,this.slurReader),i.Voices.push(s.GetVoice),this.voiceGeneratorsDict[t]=s,this.staffMainVoiceGeneratorDict[e]=s)}return s}createExpressionGenerators(t){this.expressionReaders=new Array(t);for(let e=0;e<t;e++)this.expressionReaders[e]=new S.ExpressionReader(this.musicSheet,this.instrument,e+1)}createDefaultClefInstruction(t){let e;e=this.musicSheet.SourceMeasures.length>0?this.musicSheet.SourceMeasures[0]:this.currentMeasure;const i=new o.ClefInstruction(d.ClefEnum.G,0,2);let s;e.FirstInstructionsStaffEntries[t]?(s=e.FirstInstructionsStaffEntries[t],s.removeFirstInstructionOfTypeClefInstruction()):(s=new r.SourceStaffEntry(void 0,void 0),e.FirstInstructionsStaffEntries[t]=s),i.Parent=s,s.Instructions.splice(0,0,i)}createDefaultKeyInstruction(){let t;t=this.musicSheet.SourceMeasures.length>0?this.musicSheet.SourceMeasures[0]:this.currentMeasure;const e=new a.KeyInstruction(void 0,0,m.KeyEnum.major);for(let i=this.inSourceMeasureInstrumentIndex;i<this.inSourceMeasureInstrumentIndex+this.instrument.Staves.length;i++)if(t.FirstInstructionsStaffEntries[i]){const s=t.FirstInstructionsStaffEntries[i];e.Parent=s,s.removeFirstInstructionOfTypeKeyInstruction(),s.Instructions[0]instanceof o.ClefInstruction?s.Instructions.splice(1,0,e):s.Instructions.splice(0,0,e)}else{const s=new r.SourceStaffEntry(void 0,void 0);t.FirstInstructionsStaffEntries[i]=s,e.Parent=s,s.Instructions.push(e)}}isAttributesNodeAtBeginOfMeasure(t,e){const i=t.elements(),s=i.indexOf(e);if(s>0&&\"backup\"===i[s-1].name)return!0;let n=-1;for(let t=0;t<i.length;t++)if(\"note\"===i[t].name){n=t;break}return s<n&&n>0||n<0}isAttributesNodeAtEndOfMeasure(t,e){const i=t.elements().slice();let s=0;for(let t=0;t<i.length;t++)if(i[t]===e){s=t;break}let n=0;for(let t=s;t<i.length;t++)if(\"note\"===i[t].name){n=t;break}return s>n}getNoteDurationFromTypeNode(t){const e=t.element(\"type\");if(e){const t=e.value;return this.currentVoiceGenerator.getNoteDurationFromType(t)}return new l.Fraction(0,4*this.divisions)}addAbstractInstruction(t,e){if(t.element(\"divisions\")&&1===t.elements().length)return;const i=t.element(\"transpose\");if(i){const t=i.element(\"chromatic\");t&&(this.instrument.PlaybackTranspose=parseInt(t.value,10))}const s=t.elements(\"clef\");let n;if(s.length>0)for(let t=0,e=s.length;t<e;++t){const e=s[t];let i=d.ClefEnum.G,r=2,a=1,h=0;const l=e.element(\"line\");if(l)try{r=parseInt(l.value,10)}catch(t){n=c.ITextTranslation.translateText(\"ReaderErrorMessages/ClefLineError\",\"Invalid clef line given -> using default clef line.\"),this.musicSheet.SheetErrors.pushMeasureError(n),r=2,p.default.debug(\"InstrumentReader.addAbstractInstruction\",n,t)}const u=e.element(\"sign\");if(u)try{i=d.ClefEnum[u.value],o.ClefInstruction.isSupportedClef(i)||(n=c.ITextTranslation.translateText(\"ReaderErrorMessages/ClefError\",\"Unsupported clef found -> using default clef.\"),this.musicSheet.SheetErrors.pushMeasureError(n),i=d.ClefEnum.G,r=2),i===d.ClefEnum.TAB&&(h=-1)}catch(t){n=c.ITextTranslation.translateText(\"ReaderErrorMessages/ClefError\",\"Invalid clef found -> using default clef.\"),this.musicSheet.SheetErrors.pushMeasureError(n),i=d.ClefEnum.G,r=2,p.default.debug(\"InstrumentReader.addAbstractInstruction\",n,t)}const f=e.element(\"clef-octave-change\");if(f)try{h=parseInt(f.value,10)}catch(t){n=c.ITextTranslation.translateText(\"ReaderErrorMessages/ClefOctaveError\",\"Invalid clef octave found -> using default clef octave.\"),this.musicSheet.SheetErrors.pushMeasureError(n),h=0}if(e.hasAttributes&&\"number\"===e.attributes()[0].name)try{a=parseInt(e.attributes()[0].value,10),a>this.currentClefNumber&&(a=this.currentClefNumber),this.currentClefNumber=a+1}catch(t){n=c.ITextTranslation.translateText(\"ReaderErrorMessages/ClefError\",\"Invalid clef found -> using default clef.\"),this.musicSheet.SheetErrors.pushMeasureError(n),a=1,this.currentClefNumber=a+1}const m=new o.ClefInstruction(i,h,r);this.abstractInstructions.push([a,m])}if(void 0!==t.element(\"key\")&&this.instrument.MidiInstrumentId!==g.MidiInstrument.Percussion){let e=0;const i=t.element(\"key\").element(\"fifths\");if(i)try{e=parseInt(i.value,10)}catch(t){n=c.ITextTranslation.translateText(\"ReaderErrorMessages/KeyError\",\"Invalid key found -> set to default.\"),this.musicSheet.SheetErrors.pushMeasureError(n),e=0,p.default.debug(\"InstrumentReader.addAbstractInstruction\",n,t)}let s=m.KeyEnum.none,r=t.element(\"key\");if(r&&(r=r.element(\"mode\")),r)try{s=m.KeyEnum[r.value]}catch(t){n=c.ITextTranslation.translateText(\"ReaderErrorMessages/KeyError\",\"Invalid key found -> set to default.\"),this.musicSheet.SheetErrors.pushMeasureError(n),s=m.KeyEnum.major,p.default.debug(\"InstrumentReader.addAbstractInstruction\",n,t)}const o=new a.KeyInstruction(void 0,e,s);this.abstractInstructions.push([1,o])}if(t.element(\"time\")){const e=t.element(\"time\");let i=f.RhythmSymbolEnum.NONE,s=!0;if(void 0!==e&&e.hasAttributes){const t=e.attribute(\"symbol\");t&&(\"common\"===t.value?i=f.RhythmSymbolEnum.COMMON:\"cut\"===t.value&&(i=f.RhythmSymbolEnum.CUT));const n=e.attribute(\"print-object\");n&&\"no\"===n.value&&(s=!1)}let r=0,o=0;const a=e&&void 0!==e.element(\"senza-misura\"),u=t.elements(\"time\"),d=[],m=[];for(let t=0,e=u.length;t<e;++t){const e=u[t];d.push.apply(d,e.elements(\"beats\")),m.push.apply(m,e.elements(\"beat-type\"))}if(a)this.abstractInstructions.push([1,new h.RhythmInstruction(new l.Fraction(4,4,0,!1),f.RhythmSymbolEnum.NONE)]);else{try{if(void 0!==d&&d.length>0&&void 0!==m&&d.length===m.length){const t=d.length,e=new Array(t);let i=0;for(let s=0;s<t;s++){const t=d[s].value;let n=0,r=0;if(-1!==t.indexOf(\"+\")){const e=t.split(\"+\");for(let t=0,i=e.length;t<i;++t)n+=parseInt(e[t],10)}else n=parseInt(t,10);r=parseInt(m[s].value,10),i=Math.max(i,r),e[s]=new l.Fraction(n,r,0,!1)}for(let s=0;s<t;s++)e[s].Denominator===i?r+=e[s].Numerator:r+=i/e[s].Denominator*e[s].Numerator;o=i}else r=parseInt(t.element(\"time\").element(\"beats\").value,10),o=parseInt(t.element(\"time\").element(\"beat-type\").value,10)}catch(t){n=c.ITextTranslation.translateText(\"ReaderErrorMessages/RhythmError\",\"Invalid rhythm found -> set to default.\"),this.musicSheet.SheetErrors.pushMeasureError(n),r=4,o=4,p.default.debug(\"InstrumentReader.addAbstractInstruction\",n,t)}const e=new h.RhythmInstruction(new l.Fraction(r,o,0,!1),i);e.PrintObject=s,this.abstractInstructions.push([1,e])}}}saveAbstractInstructionList(t,e){for(let i=this.abstractInstructions.length-1;i>=0;i--){const s=this.abstractInstructions[i],n=s[0],l=s[1];if(l instanceof o.ClefInstruction){const t=l;if(0===this.currentXmlMeasureIndex||n<=this.activeClefs.length&&t!==this.activeClefs[n-1])if(e||void 0===this.currentStaffEntry||this.currentStaffEntry.hasNotes()||n-1!==this.instrument.Staves.indexOf(this.currentStaffEntry.ParentStaff)){if(e){let e;if(this.currentMeasure){const s=t,a=this.inSourceMeasureInstrumentIndex+n-1,h=this.currentMeasure.FirstInstructionsStaffEntries[a];if(0===this.currentXmlMeasureIndex)if(h)if(void 0===this.currentMeasure.FirstInstructionsStaffEntries[a]||h.Instructions[0]instanceof o.ClefInstruction){const t=new r.SourceStaffEntry(void 0,void 0);this.currentMeasure.LastInstructionsStaffEntries[a]=t,s.Parent=t,t.Instructions.push(s)}else e=h,s.Parent=e,e.removeFirstInstructionOfTypeClefInstruction(),e.Instructions.splice(0,0,s),this.activeClefsHaveBeenInitialized[n-1]=!0;else e=new r.SourceStaffEntry(void 0,void 0),this.currentMeasure.FirstInstructionsStaffEntries[a]=e,s.Parent=e,e.Instructions.push(s),this.activeClefsHaveBeenInitialized[n-1]=!0;else if(this.activeClefsHaveBeenInitialized[n-1]){const t=new r.SourceStaffEntry(void 0,void 0);this.previousMeasure.LastInstructionsStaffEntries[a]=t,s.Parent=t,t.Instructions.push(s)}else{const t=this.musicSheet.SourceMeasures[0];t.FirstInstructionsStaffEntries[a]?(e=t.FirstInstructionsStaffEntries[a],e.removeFirstInstructionOfTypeClefInstruction()):e=new r.SourceStaffEntry(void 0,void 0),s.Parent=e,e.Instructions.splice(0,0,s),this.activeClefsHaveBeenInitialized[n-1]=!0}this.activeClefs[n-1]=t,this.abstractInstructions.splice(i,1)}}}else{const e=t;e.Parent=this.currentStaffEntry,this.currentStaffEntry.removeFirstInstructionOfTypeClefInstruction(),this.currentStaffEntry.Instructions.push(e),this.activeClefs[n-1]=t,this.abstractInstructions.splice(i,1)}else n<=this.activeClefs.length&&t===this.activeClefs[n-1]&&this.abstractInstructions.splice(i,1)}if(l instanceof a.KeyInstruction){const e=l;if(this.activeKey&&this.activeKey.Key===e.Key)this.abstractInstructions.splice(i,1);else{let s;if(this.activeKey=e,this.abstractInstructions.splice(i,1),this.activeKeyHasBeenInitialized?s=this.currentMeasure:(this.activeKeyHasBeenInitialized=!0,s=this.currentXmlMeasureIndex>0?this.musicSheet.SourceMeasures[0]:this.currentMeasure),s)for(let i=this.inSourceMeasureInstrumentIndex;i<this.inSourceMeasureInstrumentIndex+t;i++){const t=e;if(s.FirstInstructionsStaffEntries[i]){const e=s.FirstInstructionsStaffEntries[i];t.Parent=e,e.removeFirstInstructionOfTypeKeyInstruction(),0===e.Instructions.length?e.Instructions.push(t):e.Instructions[0]instanceof o.ClefInstruction?e.Instructions.splice(1,0,t):e.Instructions.splice(0,0,t)}else{const e=new r.SourceStaffEntry(void 0,void 0);s.FirstInstructionsStaffEntries[i]=e,t.Parent=e,e.Instructions.push(t)}}}}if(l instanceof h.RhythmInstruction){const e=l;if(this.activeRhythm&&this.activeRhythm===e)this.abstractInstructions.splice(i,1);else if(this.activeRhythm=e,this.abstractInstructions.splice(i,1),this.currentMeasure)for(let i=this.inSourceMeasureInstrumentIndex;i<this.inSourceMeasureInstrumentIndex+t;i++){const t=e;let s;this.currentMeasure.FirstInstructionsStaffEntries[i]?(s=this.currentMeasure.FirstInstructionsStaffEntries[i],s.removeFirstInstructionOfTypeRhythmInstruction()):(s=new r.SourceStaffEntry(void 0,void 0),this.currentMeasure.FirstInstructionsStaffEntries[i]=s),t.Parent=s,s.Instructions.push(t)}}}}saveClefInstructionAtEndOfMeasure(){for(let t=this.abstractInstructions.length-1;t>=0;t--){const e=this.abstractInstructions[t][0],i=this.abstractInstructions[t][1];if(i instanceof o.ClefInstruction){const s=i;if(!this.activeClefs[e-1]||s.ClefType!==this.activeClefs[e-1].ClefType||s.ClefType===this.activeClefs[e-1].ClefType&&s.Line!==this.activeClefs[e-1].Line){const i=new r.SourceStaffEntry(void 0,void 0);this.currentMeasure.LastInstructionsStaffEntries[this.inSourceMeasureInstrumentIndex+e-1]=i;const n=s;n.Parent=i,i.Instructions.push(n),this.activeClefs[e-1]=s,this.abstractInstructions.splice(t,1)}}}}getNoteDurationForTuplet(t){let e=new l.Fraction(0,1);const i=this.getNoteDurationFromTypeNode(t);if(t.element(\"time-modification\")){const s=t.element(\"time-modification\");if(s&&void 0!==s.element(\"actual-notes\")&&s.element(\"normal-notes\")){const t=s.element(\"actual-notes\"),n=s.element(\"normal-notes\");if(void 0!==t&&n){const s=parseInt(t.value,10),r=parseInt(n.value,10);e=new l.Fraction(r*i.Numerator,s*i.Denominator)}}}return e}readExpressionStaffNumber(t){let e=1;if(t.element(\"staff\")){const i=t.element(\"staff\");if(i)try{e=parseInt(i.value,10)}catch(t){const i=c.ITextTranslation.translateText(\"ReaderErrorMessages/ExpressionStaffError\",\"Invalid Expression staff number -> set to default.\");this.musicSheet.SheetErrors.pushMeasureError(i),e=1,p.default.debug(\"InstrumentReader.readExpressionStaffNumber\",i,t)}}return e}readDivisionsFromNotes(){let t=0,e=this.currentXmlMeasureIndex,i=!1;for(;!i;){const s=this.xmlMeasureList[e].elements();for(let e=0,n=s.length;e<n;++e){const n=s[e];if(\"note\"===n.name&&!n.element(\"time-modification\")){const e=n.element(\"duration\"),i=n.element(\"type\");if(void 0!==e&&i){const s=i.value;let n=0;try{n=parseInt(e.value,10)}catch(t){p.default.debug(\"InstrumentReader.readDivisionsFromNotes\",t);continue}switch(s){case\"1024th\":t=n/4*1024;break;case\"512th\":t=n/4*512;break;case\"256th\":t=n/4*256;break;case\"128th\":t=n/4*128;break;case\"64th\":t=n/4*64;break;case\"32nd\":t=n/4*32;break;case\"16th\":t=n/4*16;break;case\"eighth\":t=n/4*8;break;case\"quarter\":t=n/4*4;break;case\"half\":t=n/4*2;break;case\"whole\":t=n/4;break;case\"breve\":t=n/4/2;break;case\"long\":t=n/4/4;break;case\"maxima\":t=n/4/8}}}if(t>0){i=!0;break}}if(0===t&&(e++,e===this.xmlMeasureList.length)){const t=c.ITextTranslation.translateText(\"ReaderErrorMEssages/DivisionsError\",\"Invalid divisions value at Instrument: \");throw new u.MusicSheetReadingException(t+this.instrument.Name)}}return t}}},function(t,e,i){\"use strict\";var s=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,\"__esModule\",{value:!0});const n=i(37),r=i(47),o=i(16),a=i(30),h=i(25),l=i(104),c=i(75),u=i(127),d=i(0),f=i(27),m=i(136),p=i(11),g=i(2),b=i(2),S=i(126),y=s(i(1)),x=i(2),E=i(24),v=i(137),_=i(62),w=i(103),M=i(185);e.VoiceGenerator=class{constructor(t,e,i,s){this.lastBeamTag=\"\",this.openTieDict={},this.currentOctaveShift=0,this.tupletDict={},this.openTupletNumber=0,this.musicSheet=t.GetMusicSheet,this.slurReader=i,this.voice=s?new n.LinkedVoice(t,e,s):new r.Voice(t,e),t.Voices.push(this.voice),this.lyricsReader=new m.LyricsReader(this.musicSheet),this.articulationReader=new v.ArticulationReader}get GetVoice(){return this.voice}get OctaveShift(){return this.currentOctaveShift}set OctaveShift(t){this.currentOctaveShift=t}createVoiceEntry(t,e,i,s=!1,n=!1,r=!1){this.currentVoiceEntry=new o.VoiceEntry(t.clone(),this.voice,e,s,n,r),i&&this.voice.VoiceEntries.push(this.currentVoiceEntry),-1===e.VoiceEntries.indexOf(this.currentVoiceEntry)&&e.VoiceEntries.push(this.currentVoiceEntry)}read(t,e,i,s,n,r,o,a,h,l,c,u,m,p,g,b,S,y){this.currentStaffEntry=o,this.currentMeasure=a;try{this.currentNote=r?this.addRestNote(e,s,m,p,y):this.addSingleNote(t,e,s,i,n,c,u,m,p,g,b,S,y);const o=t.elements(\"lyric\");void 0!==this.lyricsReader&&o&&(this.lyricsReader.addLyricEntry(o,this.currentVoiceEntry),this.voice.Parent.HasLyrics=!0);let a=!1;const f=t.element(\"notations\");if(f){this.articulationReader&&this.readArticulations(f,this.currentVoiceEntry);const e=f.elements(\"slur\");void 0!==this.slurReader&&e.length>0&&!this.currentNote.ParentVoiceEntry.IsGrace&&this.slurReader.addSlur(e,this.currentNote);const i=f.elements(\"tuplet\");i.length>0&&(this.openTupletNumber=this.addTuplet(t,i),a=!0);const s=f.element(\"arpeggiate\");if(void 0!==s&&!this.currentVoiceEntry.IsGrace){let t;if(this.currentVoiceEntry.Arpeggio)t=this.currentVoiceEntry.Arpeggio;else{let e=!1;for(const i of this.currentStaffEntry.VoiceEntries)if(i.Arpeggio){e=!0,t=i.Arpeggio;break}if(!e){let e=w.ArpeggioType.ARPEGGIO_DIRECTIONLESS;const i=s.attribute(\"direction\");if(null!==i)switch(i.value){case\"up\":e=w.ArpeggioType.ROLL_UP;break;case\"down\":e=w.ArpeggioType.ROLL_DOWN;break;default:e=w.ArpeggioType.ARPEGGIO_DIRECTIONLESS}t=new w.Arpeggio(this.currentVoiceEntry,e),this.currentVoiceEntry.Arpeggio=t}}t.addNote(this.currentNote)}const n=f.elements(\"tied\");n.length>0&&this.addTie(n,h,l);const r=this.openTieDict;for(const t in r)if(r.hasOwnProperty(t)){const e=r[t];d.Fraction.plus(e.StartNote.ParentStaffEntry.Timestamp,e.Duration).lt(this.currentStaffEntry.Timestamp)&&delete r[t]}}void 0===t.element(\"time-modification\")||a||this.handleTimeModificationNode(t)}catch(t){const e=f.ITextTranslation.translateText(\"ReaderErrorMessages/NoteError\",\"Ignored erroneous Note.\");this.musicSheet.SheetErrors.pushMeasureError(e)}return this.currentNote}checkForStaffEntryLink(t,e,i,s){const n=new S.StaffEntryLink(this.currentVoiceEntry);n.LinkStaffEntries.push(i),i.Link=n;const r=this.currentVoiceEntry.Timestamp.clone(),o=s.getVerticalContainerByTimestamp(r);return(i=o.StaffEntries[t])||(i=new h.SourceStaffEntry(o,e),o.StaffEntries[t]=i),i.VoiceEntries.push(this.currentVoiceEntry),n.LinkStaffEntries.push(i),i.Link=n,i}checkForOpenBeam(){void 0!==this.openBeam&&this.currentNote&&this.handleOpenBeam()}checkOpenTies(){const t=this.openTieDict;for(const e in t)if(t.hasOwnProperty(e)){const i=t[e];d.Fraction.plus(i.StartNote.ParentStaffEntry.Timestamp,i.Duration).lt(i.StartNote.ParentStaffEntry.VerticalContainerParent.ParentMeasure.Duration)&&delete t[e]}}hasVoiceEntry(){return void 0!==this.currentVoiceEntry}getNoteDurationFromType(t){switch(t){case\"1024th\":return new d.Fraction(1,1024);case\"512th\":return new d.Fraction(1,512);case\"256th\":return new d.Fraction(1,256);case\"128th\":return new d.Fraction(1,128);case\"64th\":return new d.Fraction(1,64);case\"32th\":case\"32nd\":return new d.Fraction(1,32);case\"16th\":return new d.Fraction(1,16);case\"eighth\":return new d.Fraction(1,8);case\"quarter\":return new d.Fraction(1,4);case\"half\":return new d.Fraction(1,2);case\"whole\":return new d.Fraction(1,1);case\"breve\":return new d.Fraction(2,1);case\"long\":return new d.Fraction(4,1);case\"maxima\":return new d.Fraction(8,1);default:{const t=f.ITextTranslation.translateText(\"ReaderErrorMessages/NoteDurationError\",\"Invalid note duration.\");throw new p.MusicSheetReadingException(t)}}}readArticulations(t,e){const i=t.element(\"articulations\");i&&this.articulationReader.addArticulationExpression(i,e);const s=t.element(\"fermata\");s&&this.articulationReader.addFermata(s,e);const n=t.element(\"technical\");n&&this.articulationReader.addTechnicalArticulations(n,e);const r=t.element(\"ornaments\");r&&this.articulationReader.addOrnament(r,e)}addSingleNote(t,e,i,s,n,r,o,h,l,c,u,m,S){let E=0,v=g.AccidentalEnum.NONE,w=b.NoteEnum.C,T=0,P=void 0,L=void 0,A=void 0;const I=t.elements();for(let t=0,e=I.length;t<e;++t){const e=I[t];try{if(\"pitch\"===e.name){const t=e.elements();for(let e=0,i=t.length;e<i;++e){const i=t[e];L=void 0,A=void 0;try{if(\"step\"===i.name){if(w=b.NoteEnum[i.value],void 0===w){const t=f.ITextTranslation.translateText(\"ReaderErrorMessages/NotePitchError\",\"Invalid pitch while reading note.\");throw this.musicSheet.SheetErrors.pushMeasureError(t),new p.MusicSheetReadingException(t,void 0)}}else if(\"alter\"===i.name){if(E=parseFloat(i.value),isNaN(E)){const t=f.ITextTranslation.translateText(\"ReaderErrorMessages/NoteAlterationError\",\"Invalid alteration while reading note.\");throw this.musicSheet.SheetErrors.pushMeasureError(t),new p.MusicSheetReadingException(t,void 0)}v=x.Pitch.AccidentalFromHalfTones(E)}else if(\"octave\"===i.name&&(T=parseInt(i.value,10),isNaN(T))){const t=f.ITextTranslation.translateText(\"ReaderErrorMessages/NoteOctaveError\",\"Invalid octave value while reading note.\");throw this.musicSheet.SheetErrors.pushMeasureError(t),new p.MusicSheetReadingException(t,void 0)}}catch(t){y.default.info(\"VoiceGenerator.addSingleNote read Step: \",t.message)}}}else if(\"accidental\"===e.name){\"natural\"===e.value&&(v=g.AccidentalEnum.NATURAL)}else if(\"unpitched\"===e.name){const t=e.element(\"display-step\");t&&(w=b.NoteEnum[t.value.toUpperCase()]);const i=e.element(\"display-octave\");i&&(T=parseInt(i.value,10),o&&(T+=1))}else\"instrument\"===e.name?e.firstAttribute&&(P=e.firstAttribute.value):\"notehead\"===e.name&&(L=e.value,null!==e.attribute(\"filled\")&&(A=\"yes\"===e.attribute(\"filled\").value))}catch(t){y.default.info(\"VoiceGenerator.addSingleNote: \",t)}}T-=x.Pitch.OctaveXmlDifference;const C=new x.Pitch(w,T,v),R=d.Fraction.createFromFraction(e);let N=void 0,B=-1,F=-1;const D=t.element(\"notations\");if(D){const t=D.element(\"technical\");if(t){const e=t.element(\"string\");e&&(B=parseInt(e.value,10));const i=t.element(\"fret\");i&&(F=parseInt(i.value,10))}}return N=B<0||F<0?new a.Note(this.currentVoiceEntry,this.currentStaffEntry,R,C):new M.TabNote(this.currentVoiceEntry,this.currentStaffEntry,R,C,B,F),N.TypeLength=s,N.NoteTypeXml=i,N.NormalNotes=n,N.PrintObject=h,N.IsCueNote=l,N.StemDirectionXml=c,N.TremoloStrokes=u,(void 0!==L&&\"normal\"!==L||void 0!==A)&&(N.Notehead=new _.Notehead(N,L,A)),N.NoteheadColorXml=S,N.NoteheadColor=S,N.PlaybackInstrumentId=P,this.currentVoiceEntry.Notes.push(N),this.currentVoiceEntry.StemDirectionXml=c,m&&(this.currentVoiceEntry.StemColorXml=m,this.currentVoiceEntry.StemColor=m,N.StemColorXml=m),t.elements(\"beam\")&&!r&&this.createBeam(t,N),N}addRestNote(t,e,i,s,n){const r=d.Fraction.createFromFraction(t),o=new a.Note(this.currentVoiceEntry,this.currentStaffEntry,r,void 0);return o.NoteTypeXml=e,o.PrintObject=i,o.IsCueNote=s,o.NoteheadColorXml=n,o.NoteheadColor=n,this.currentVoiceEntry.Notes.push(o),this.openBeam&&this.openBeam.ExtendedNoteList.push(o),o}createBeam(t,e){try{const i=t.element(\"beam\");let s=void 0;if(void 0!==i&&i.hasAttributes&&(s=i.attribute(\"number\")),s){const i=parseInt(s.value,10),n=t.elements(\"beam\"),r=n[0].value;1===i&&n&&(\"begin\"===r&&this.lastBeamTag!==r&&(this.openBeam&&this.handleOpenBeam(),this.openBeam=new l.Beam),this.lastBeamTag=r);let o=!1;if(!this.openBeam)return;for(let t=0,e=this.openBeam.Notes.length;t<e;++t){const e=this.openBeam.Notes[t];this.currentVoiceEntry===e.ParentVoiceEntry&&(o=!0)}o||(this.openBeam.addNoteToBeam(e),\"end\"===r&&1===i&&(this.openBeam=void 0))}}catch(t){const e=f.ITextTranslation.translateText(\"ReaderErrorMessages/BeamError\",\"Error while reading beam.\");throw this.musicSheet.SheetErrors.pushMeasureError(e),new p.MusicSheetReadingException(\"\",t)}}handleOpenBeam(){if(1===this.openBeam.Notes.length){return this.openBeam.Notes[0].NoteBeam=void 0,void(this.openBeam=void 0)}if(this.currentNote===E.CollectionUtil.last(this.openBeam.Notes))this.openBeam=void 0;else{const t=E.CollectionUtil.last(this.openBeam.Notes).ParentStaffEntry,e=this.currentMeasure.getVerticalContainerIndexByTimestamp(t.Timestamp),i=t.VerticalContainerParent.StaffEntries.indexOf(t);if(e<this.currentMeasure.VerticalSourceStaffEntryContainers.length-1){const t=this.currentMeasure.VerticalSourceStaffEntryContainers[e+1].StaffEntries[i];if(t)for(let e=0,i=t.VoiceEntries.length;e<i;++e){const i=t.VoiceEntries[e];if(i.ParentVoice===this.voice){const t=i.Notes[0];t.Length.lte(new d.Fraction(1,8))?(this.openBeam.addNoteToBeam(t),this.openBeam=void 0):this.openBeam=void 0}}}else this.openBeam=void 0}}addTuplet(t,e){let i=!1;if(void 0!==e&&e.length>1){let s=t.element(\"time-modification\");s&&(s=s.element(\"actual-notes\"));const n=e;for(let e=0,r=n.length;e<r;++e){const r=n[e];if(void 0!==r&&r.attributes()){const e=r.attribute(\"bracket\");e&&\"yes\"===e.value&&(i=!0);const n=r.attribute(\"type\");if(n&&\"start\"===n.value){let e=1;r.attribute(\"number\")&&(e=parseInt(r.attribute(\"number\").value,10));let n=0;if(s&&(n=parseInt(s.value,10),isNaN(n))){const t=f.ITextTranslation.translateText(\"ReaderErrorMessages/TupletNoteDurationError\",\"Invalid tuplet note duration.\");throw this.musicSheet.SheetErrors.pushMeasureError(t),new p.MusicSheetReadingException(t,void 0)}const o=new u.Tuplet(n,i);this.tupletDict[e]&&(delete this.tupletDict[e],0===Object.keys(this.tupletDict).length?this.openTupletNumber=0:Object.keys(this.tupletDict).length>1&&this.openTupletNumber--),this.tupletDict[e]=o;const a=[];a.push(this.currentNote),o.Notes.push(a),o.Fractions.push(this.getTupletNoteDurationFromType(t)),this.currentNote.NoteTuplet=o,this.openTupletNumber=e}else if(\"stop\"===n.value){let e=1;r.attribute(\"number\")&&(e=parseInt(r.attribute(\"number\").value,10));const i=this.tupletDict[e];if(i){const s=[];s.push(this.currentNote),i.Notes.push(s),i.Fractions.push(this.getTupletNoteDurationFromType(t)),this.currentNote.NoteTuplet=i,delete this.tupletDict[e],0===Object.keys(this.tupletDict).length?this.openTupletNumber=0:Object.keys(this.tupletDict).length>1&&this.openTupletNumber--}}}}}else if(e[0]){const s=e[0];if(s.hasAttributes){const e=s.attribute(\"type\").value;let n=1;s.attribute(\"number\")&&(n=parseInt(s.attribute(\"number\").value,10));const r=isNaN(n),o=s.attribute(\"bracket\");if(o&&\"yes\"===o.value&&(i=!0),\"start\"===e){let e=0,s=t.element(\"time-modification\");if(s&&(s=s.element(\"actual-notes\")),s&&(e=parseInt(s.value,10),isNaN(e))){const t=f.ITextTranslation.translateText(\"ReaderErrorMessages/TupletNoteDurationError\",\"Invalid tuplet note duration.\");throw this.musicSheet.SheetErrors.pushMeasureError(t),new p.MusicSheetReadingException(t)}r&&(this.openTupletNumber++,n=this.openTupletNumber);let o=this.tupletDict[n];o||(o=this.tupletDict[n]=new u.Tuplet(e,i));const a=[];a.push(this.currentNote),o.Notes.push(a),o.Fractions.push(this.getTupletNoteDurationFromType(t)),this.currentNote.NoteTuplet=o,this.openTupletNumber=n}else if(\"stop\"===e){r&&(n=this.openTupletNumber);const e=this.tupletDict[this.openTupletNumber];if(e){const i=[];i.push(this.currentNote),e.Notes.push(i),e.Fractions.push(this.getTupletNoteDurationFromType(t)),this.currentNote.NoteTuplet=e,0===Object.keys(this.tupletDict).length?this.openTupletNumber=0:Object.keys(this.tupletDict).length>1&&this.openTupletNumber--,delete this.tupletDict[n]}}}}return this.openTupletNumber}handleTimeModificationNode(t){if(this.tupletDict[this.openTupletNumber])try{const e=this.tupletDict[this.openTupletNumber],i=E.CollectionUtil.last(e.Notes);let s;i[0].ParentVoiceEntry.Timestamp.Equals(this.currentVoiceEntry.Timestamp)?s=i:(s=[],e.Notes.push(s),e.Fractions.push(this.getTupletNoteDurationFromType(t))),s.push(this.currentNote),this.currentNote.NoteTuplet=e}catch(t){const e=f.ITextTranslation.translateText(\"ReaderErrorMessages/TupletNumberError\",\"Invalid tuplet number.\");throw this.musicSheet.SheetErrors.pushMeasureError(e),t}else if(this.currentVoiceEntry.Notes.length>0){const t=this.currentVoiceEntry.Notes[0];if(t.NoteTuplet){const e=t.NoteTuplet;E.CollectionUtil.last(e.Notes).push(this.currentNote),this.currentNote.NoteTuplet=e}}}addTie(t,e,i){if(t)if(1===t.length){const e=t[0];if(void 0!==e&&e.attributes()){const t=e.attribute(\"type\").value;try{if(\"start\"===t){const t=this.findCurrentNoteInTieDict(this.currentNote);t<0&&delete this.openTieDict[t];const e=this.getNextAvailableNumberForTie(),i=new c.Tie(this.currentNote);this.openTieDict[e]=i}else if(\"stop\"===t){const t=this.findCurrentNoteInTieDict(this.currentNote),e=this.openTieDict[t];e&&(e.AddNote(this.currentNote),i.lt(d.Fraction.plus(this.currentStaffEntry.Timestamp,this.currentNote.Length))&&(i=d.Fraction.plus(this.currentStaffEntry.Timestamp,this.currentNote.Length)),delete this.openTieDict[t])}}catch(t){const e=f.ITextTranslation.translateText(\"ReaderErrorMessages/TieError\",\"Error while reading tie.\");this.musicSheet.SheetErrors.pushMeasureError(e)}}}else if(2===t.length){const t=this.findCurrentNoteInTieDict(this.currentNote);if(t>=0){this.openTieDict[t].AddNote(this.currentNote),i.lt(d.Fraction.plus(this.currentStaffEntry.Timestamp,this.currentNote.Length))&&(i=d.Fraction.plus(this.currentStaffEntry.Timestamp,this.currentNote.Length))}}}getNextAvailableNumberForTie(){const t=Object.keys(this.openTieDict);if(0===t.length)return 1;t.sort((t,e)=>+t-+e);for(let e=0;e<t.length;e++)if(\"\"+(e+1)!==t[e])return e+1;return+t[t.length-1]+1}findCurrentNoteInTieDict(t){const e=this.openTieDict;for(const i in e)if(e.hasOwnProperty(i)){const s=e[i];if(s.Pitch.FundamentalNote===t.Pitch.FundamentalNote&&s.Pitch.Octave===t.Pitch.Octave)return+i}return-1}getTupletNoteDurationFromType(t){if(t.element(\"type\")){const e=t.element(\"type\");if(e){const t=e.value;try{return this.getNoteDurationFromType(t)}catch(t){const e=f.ITextTranslation.translateText(\"ReaderErrorMessages/NoteDurationError\",\"Invalid note duration.\");throw this.musicSheet.SheetErrors.pushMeasureError(e),new p.MusicSheetReadingException(\"\",t)}}}}}},function(t,e,i){\"use strict\";Object.defineProperty(e,\"__esModule\",{value:!0});const s=i(183),n=i(184),r=i(27);e.LyricsReader=class{constructor(t){this.openLyricWords={},this.musicSheet=t}addLyricEntry(t,e){if(t){const i=t;for(let t=0,o=i.length;t<o;++t){const o=i[t];try{let t=\"single\";if(o.element(\"text\")){let i=o.element(\"text\");if(o.element(\"syllabic\")&&(t=o.element(\"syllabic\").value),i){const a=i.value;if(void 0!==o.element(\"elision\")&&\"-\"===a){const e=o.elements();let s=0;for(let t=0;t<e.length;t++){if(\"elision\"===e[t].name){s=t;break}}let n=void 0,r=void 0;if(s>0)for(let t=s;t<e.length;t++){const i=e[t];\"text\"===i.name&&(n=i),\"syllabic\"===i.name&&(r=i)}void 0!==n&&r&&(i=n,t=\"middle\")}let h=1,l=!1;if(void 0!==o.attributes()&&o.attribute(\"number\")){try{h=parseInt(o.attribute(\"number\").value,10)}catch(t){l=!0}if(l=l||isNaN(h),l)try{const t=o.attribute(\"number\").value.toLowerCase().split(\"verse\");t.length>1&&(h=parseInt(t[1],10))}catch(t){const e=r.ITextTranslation.translateText(\"ReaderErrorMessages/LyricVerseNumberError\",\"Invalid lyric verse number\");this.musicSheet.SheetErrors.pushMeasureError(e);continue}}let c=void 0;if(\"single\"===t||\"end\"===t){if(this.openLyricWords[h]){this.currentLyricWord=this.openLyricWords[h];const t=this.currentLyricWord.Syllables.length;c=new n.LyricsEntry(a,h,this.currentLyricWord,e,t),this.currentLyricWord.Syllables.push(c),delete this.openLyricWords[h],this.currentLyricWord=void 0}else c=new n.LyricsEntry(a,h,void 0,e);c.extend=void 0!==o.element(\"extend\")}else if(\"begin\"===t)this.openLyricWords[h]&&(delete this.openLyricWords[h],this.currentLyricWord=void 0),this.currentLyricWord=new s.LyricWord,this.openLyricWords[h]=this.currentLyricWord,c=new n.LyricsEntry(a,h,this.currentLyricWord,e,0),this.currentLyricWord.Syllables.push(c);else if(\"middle\"===t)if(this.openLyricWords[h]){this.currentLyricWord=this.openLyricWords[h];const t=this.currentLyricWord.Syllables.length;c=new n.LyricsEntry(a,h,this.currentLyricWord,e,t),this.currentLyricWord.Syllables.push(c)}else c=new n.LyricsEntry(a,h,void 0,e);c&&(e.LyricsEntries[h]||e.LyricsEntries.setValue(h,c),e.ParentVoice.Parent.LyricVersesNumbers[h]||e.ParentVoice.Parent.LyricVersesNumbers.push(h))}}}catch(t){const e=r.ITextTranslation.translateText(\"ReaderErrorMessages/LyricError\",\"Error while reading lyric entry.\");this.musicSheet.SheetErrors.pushMeasureError(e);continue}}e.ParentVoice.Parent.LyricVersesNumbers=e.ParentVoice.Parent.LyricVersesNumbers.filter((t,e,i)=>i.indexOf(t)===e)}}}},function(t,e,i){\"use strict\";var s=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,\"__esModule\",{value:!0});const n=i(16),r=s(i(1)),o=i(74),a=i(46),h=i(6),l=i(2);e.ArticulationReader=class{getAccEnumFromString(t){switch(t){case\"sharp\":return l.AccidentalEnum.SHARP;case\"flat\":return l.AccidentalEnum.FLAT;case\"natural\":return l.AccidentalEnum.NATURAL;case\"double-sharp\":case\"sharp-sharp\":return l.AccidentalEnum.DOUBLESHARP;case\"double-flat\":case\"flat-flat\":return l.AccidentalEnum.DOUBLEFLAT;case\"quarter-sharp\":return l.AccidentalEnum.QUARTERTONESHARP;case\"quarter-flat\":return l.AccidentalEnum.QUARTERTONEFLAT;case\"triple-sharp\":return l.AccidentalEnum.TRIPLESHARP;case\"triple-flat\":return l.AccidentalEnum.TRIPLEFLAT;default:return l.AccidentalEnum.NONE}}addArticulationExpression(t,e){if(void 0!==t&&t.elements().length>0){const i=t.elements();for(let t=0,s=i.length;t<s;++t){const s=i[t].name;try{s.replace(\"-\",\"\");const t=n.ArticulationEnum[s];n.VoiceEntry.isSupportedArticulation(t)&&(\"staccato\"===s&&e.Articulations.length>0&&e.Articulations[0]!==n.ArticulationEnum.staccato&&e.Articulations.splice(0,0,t),-1===e.Articulations.indexOf(t)&&e.Articulations.push(t))}catch(t){const e=\"Invalid note articulation.\";return void r.default.debug(\"addArticulationExpression\",e,t)}}}}addFermata(t,e){let i=n.ArticulationEnum.fermata;t.attributes().length>0&&t.attribute(\"type\")&&\"inverted\"===t.attribute(\"type\").value&&(i=n.ArticulationEnum.invertedfermata),e.Articulations.push(i)}addTechnicalArticulations(t,e){const i={\"down-bow\":n.ArticulationEnum.downbow,\"open-string\":n.ArticulationEnum.naturalharmonic,\"snap-pizzicato\":n.ArticulationEnum.snappizzicato,stopped:n.ArticulationEnum.lefthandpizzicato,\"up-bow\":n.ArticulationEnum.upbow};for(const s in i){if(!i.hasOwnProperty(s))continue;const n=i[s];t.element(s)&&-1===e.Articulations.indexOf(n)&&e.Articulations.push(n)}const s=t.element(\"fingering\");if(s){const t=new o.TechnicalInstruction;t.type=o.TechnicalInstructionType.Fingering,t.value=s.value,t.placement=h.PlacementEnum.NotYetDefined;const i=s.attribute(\"placement\");if(null!=i)switch(i.value){case\"above\":t.placement=h.PlacementEnum.Above;break;case\"below\":t.placement=h.PlacementEnum.Below;break;case\"left\":t.placement=h.PlacementEnum.Left;break;case\"right\":t.placement=h.PlacementEnum.Right;break;default:t.placement=h.PlacementEnum.NotYetDefined}e.TechnicalInstructions.push(t)}}addOrnament(t,e){if(t){let i=void 0;const s={\"delayed-inverted-turn\":a.OrnamentEnum.DelayedInvertedTurn,\"delayed-turn\":a.OrnamentEnum.DelayedTurn,\"inverted-mordent\":a.OrnamentEnum.InvertedMordent,\"inverted-turn\":a.OrnamentEnum.InvertedTurn,mordent:a.OrnamentEnum.Mordent,\"trill-mark\":a.OrnamentEnum.Trill,turn:a.OrnamentEnum.Turn};for(const e in s){if(!s.hasOwnProperty(e))continue;t.element(e)&&(i=new a.OrnamentContainer(s[e]))}if(i){const s=t.elements(\"accidental-mark\");if(s){let t=h.PlacementEnum.Below,e=l.AccidentalEnum.NONE;const n=s;for(let s=0,r=n.length;s<r;++s){const r=n[s];let o=r.value;e=this.getAccEnumFromString(o);const a=r.attribute(\"placement\");r.hasAttributes&&a&&(o=a.value,\"above\"===o?t=h.PlacementEnum.Above:\"below\"===o&&(t=h.PlacementEnum.Below)),t===h.PlacementEnum.Above?i.AccidentalAbove=e:t===h.PlacementEnum.Below&&(i.AccidentalBelow=e)}}e.OrnamentContainer=i}}}}},function(t,e,i){\"use strict\";var s=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,\"__esModule\",{value:!0});const n=i(44),r=i(2),o=i(27),a=s(i(1));e.ChordSymbolReader=class{static readChordSymbol(t,e,i){const s=t.element(\"root\"),h=t.element(\"kind\"),l=h.attribute(\"text\");if(!s||!h)return;const c=s.element(\"root-step\"),u=s.element(\"root-alter\");if(!c)return;let d;try{d=r.NoteEnum[c.value.trim()]}catch(t){const i=o.ITextTranslation.translateText(\"ReaderErrorMessages/ChordSymbolError\",\"Invalid chord symbol\");return e.SheetErrors.pushMeasureError(i),void a.default.debug(\"InstrumentReader.readChordSymbol\",i,t)}let f=r.AccidentalEnum.NONE;if(u)try{f=r.Pitch.AccidentalFromHalfTones(parseInt(u.value,void 0))}catch(t){const i=o.ITextTranslation.translateText(\"ReaderErrorMessages/ChordSymbolError\",\"Invalid chord symbol\");e.SheetErrors.pushMeasureError(i),a.default.debug(\"InstrumentReader.readChordSymbol\",i,t)}const m=new r.Pitch(d,1,f);let p,g=h.value.trim().replace(\"-\",\"\");if(l)switch(l.value){case\"aug\":g=\"augmented\";break;case\"dim\":g=\"diminished\"}try{p=n.ChordSymbolEnum[g]}catch(t){const i=o.ITextTranslation.translateText(\"ReaderErrorMessages/ChordSymbolError\",\"Invalid chord symbol\");return e.SheetErrors.pushMeasureError(i),void a.default.debug(\"InstrumentReader.readChordSymbol\",i,t)}let b=void 0;const S=t.element(\"bass\");if(S){const t=S.element(\"bass-step\"),i=S.element(\"bass-alter\");let s=r.NoteEnum.C;if(t)try{s=r.NoteEnum[t.value.trim()]}catch(t){const i=o.ITextTranslation.translateText(\"ReaderErrorMessages/ChordSymbolError\",\"Invalid chord symbol\");return e.SheetErrors.pushMeasureError(i),void a.default.debug(\"InstrumentReader.readChordSymbol\",i,t)}let n=r.AccidentalEnum.NONE;if(i)try{n=r.Pitch.AccidentalFromHalfTones(parseInt(i.value,void 0))}catch(t){const i=o.ITextTranslation.translateText(\"ReaderErrorMessages/ChordSymbolError\",\"Invalid chord symbol\");e.SheetErrors.pushMeasureError(i),a.default.debug(\"InstrumentReader.readChordSymbol\",i,t)}b=new r.Pitch(s,1,n)}let y=void 0;const x=t.element(\"degree\");if(x){const t=x.element(\"degree-value\"),i=x.element(\"degree-alter\"),s=x.element(\"degree-type\");if(!t||!i||!s)return;let h,l,c;try{h=parseInt(t.value.trim(),void 0)}catch(t){const i=o.ITextTranslation.translateText(\"ReaderErrorMessages/ChordSymbolError\",\"Invalid chord symbol\");return e.SheetErrors.pushMeasureError(i),void a.default.debug(\"InstrumentReader.readChordSymbol\",i,t)}try{l=r.Pitch.AccidentalFromHalfTones(parseInt(i.value,void 0))}catch(t){const i=o.ITextTranslation.translateText(\"ReaderErrorMessages/ChordSymbolError\",\"Invalid chord symbol\");return e.SheetErrors.pushMeasureError(i),void a.default.debug(\"InstrumentReader.readChordSymbol\",i,t)}try{c=n.ChordDegreeText[s.value.trim().toLowerCase()]}catch(t){const i=o.ITextTranslation.translateText(\"ReaderErrorMessages/ChordSymbolError\",\"Invalid chord symbol\");return e.SheetErrors.pushMeasureError(i),void a.default.debug(\"InstrumentReader.readChordSymbol\",i,t)}y=new n.Degree(h,l,c)}return new n.ChordSymbolContainer(m,p,b,y,e.Rules)}}},function(t,e,i){\"use strict\";var s=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,\"__esModule\",{value:!0});const n=i(0),r=i(186),o=i(33),a=i(58),h=i(51),l=i(31),c=i(187),u=i(57),d=i(140),f=i(141),m=i(6),p=i(7),g=i(27),b=s(i(1));e.ExpressionReader=class{constructor(t,e,i){this.musicSheet=t,this.staffNumber=i,this.globalStaffIndex=t.getGlobalStaffIndexOfFirstStaff(e)+(i-1),this.initialize()}readExpressionParameters(t,e,i,s,r,o,a){this.initialize();const h=t.element(\"offset\");if(void 0!==h&&!a)try{this.offsetDivisions=parseInt(h.value,10)}catch(t){const e=\"ReaderErrorMessages/ExpressionOffsetError, Invalid expression offset -> set to default.\";b.default.debug(\"ExpressionReader.readExpressionParameters\",e,t),this.musicSheet.SheetErrors.pushMeasureError(e),this.offsetDivisions=0}this.directionTimestamp=n.Fraction.createFromFraction(s);let l=new n.Fraction(Math.abs(this.offsetDivisions),4*i);this.offsetDivisions>0?s.RealValue>0?(l=n.Fraction.multiply(n.Fraction.minus(s,r),l),this.directionTimestamp=n.Fraction.plus(l,s)):this.directionTimestamp=n.Fraction.createFromFraction(l):this.offsetDivisions<0&&(s.RealValue>0?(l=n.Fraction.multiply(n.Fraction.minus(s,r),l),this.directionTimestamp=n.Fraction.minus(s,l)):this.directionTimestamp=n.Fraction.createFromFraction(l));const c=t.attribute(\"placement\");if(null!=c)try{const t=c.value;\"below\"===t?this.placement=m.PlacementEnum.Below:\"above\"===t&&(this.placement=m.PlacementEnum.Above)}catch(t){const e=g.ITextTranslation.translateText(\"ReaderErrorMessages/ExpressionPlacementError\",\"Invalid expression placement -> set to default.\");b.default.debug(\"ExpressionReader.readExpressionParameters\",e,t),this.musicSheet.SheetErrors.pushMeasureError(e),this.placement=m.PlacementEnum.Below}if(this.placement===m.PlacementEnum.NotYetDefined)try{const e=t.element(\"direction-type\");if(e){const t=e.element(\"dynamics\");if(t){const e=t.attribute(\"default-y\");null!=e&&this.readExpressionPlacement(e,\"read dynamics y pos\")}const i=e.element(\"wedge\");if(i){const t=i.attribute(\"default-y\");null!=t&&this.readExpressionPlacement(t,\"read wedge y pos\")}const s=e.element(\"words\");if(s){const t=s.attribute(\"default-y\");null!=t&&this.readExpressionPlacement(t,\"read words y pos\")}}}catch(t){const e=g.ITextTranslation.translateText(\"ReaderErrorMessages/ExpressionPlacementError\",\"Invalid expression placement -> set to default.\");b.default.debug(\"ExpressionReader.readExpressionParameters\",e,t),this.musicSheet.SheetErrors.pushMeasureError(e),this.placement=m.PlacementEnum.Below}this.placement===m.PlacementEnum.NotYetDefined&&(e.Staves.length>1?this.placement=m.PlacementEnum.Below:e.HasLyrics?this.placement=m.PlacementEnum.Above:this.placement=m.PlacementEnum.Below)}read(t,e,i){let s=!1,r=!1;const o=t.element(\"sound\");if(o){const t=o.attribute(\"tempo\"),i=o.attribute(\"dynamics\");if(t){const i=t.value.match(/\\d+/);this.soundTempo=void 0!==i?parseInt(i[0],10):100,e.TempoInBPM=this.soundTempo,this.musicSheet.HasBPMInfo=!0,s=!0}if(i){const t=i.value.match(/\\d+/);this.soundDynamic=void 0!==t?parseInt(t[0],10):100,r=!0}}const a=t.element(\"direction-type\");if(!a)return;let h=a.element(\"metronome\");if(h){const t=h.element(\"beat-unit\"),s=void 0!==h.element(\"beat-unit-dot\"),r=h.element(\"per-minute\");if(void 0!==t&&r){h.hasAttributes&&void 0!==h.attribute(\"default-x\")&&(this.directionTimestamp=n.Fraction.createFromFraction(i));const o=parseInt(r.value,10);this.createNewTempoExpressionIfNeeded(e);const a=new u.InstantaneousTempoExpression(void 0,this.placement,this.staffNumber,o,this.currentMultiTempoExpression,!0);this.soundTempo=o,e.TempoInBPM=this.soundTempo,this.musicSheet.HasBPMInfo=!0,a.dotted=s,a.beatUnit=t.value,this.currentMultiTempoExpression.addExpression(a,\"\"),this.currentMultiTempoExpression.CombinedExpressionsText=\"test\"}}else if(h=a.element(\"dynamics\"),h){const s=void 0!==t.element(\"notations\");this.interpretInstantaneousDynamics(h,e,i,s)}else if(h=a.element(\"words\"),h)if(s){this.createNewTempoExpressionIfNeeded(e),this.currentMultiTempoExpression.CombinedExpressionsText=h.value;const t=new u.InstantaneousTempoExpression(h.value,this.placement,this.staffNumber,this.soundTempo,this.currentMultiTempoExpression);this.currentMultiTempoExpression.addExpression(t,\"\")}else r||this.interpretWords(h,e,i);else h=a.element(\"wedge\"),h&&this.interpretWedge(h,e,i,e.MeasureNumber)}checkForOpenExpressions(t,e){this.openContinuousDynamicExpression&&(this.createNewMultiExpressionIfNeeded(t,e),this.closeOpenContinuousDynamic()),this.openContinuousTempoExpression&&this.closeOpenContinuousTempo(n.Fraction.plus(t.AbsoluteTimestamp,e))}addOctaveShift(t,e,i){let s=1;const n=t.element(\"staff\");if(n)try{s=parseInt(n.value,10)}catch(t){const e=g.ITextTranslation.translateText(\"ReaderErrorMessages/OctaveShiftStaffError\",\"Invalid octave shift staff number -> set to default\");this.musicSheet.SheetErrors.pushMeasureError(e),s=1,b.default.debug(\"ExpressionReader.addOctaveShift\",e,t)}const r=t.element(\"direction-type\");if(r){const t=r.element(\"octave-shift\");if(void 0!==t&&t.hasAttributes)try{if(t.attribute(\"size\")){const n=parseInt(t.attribute(\"size\").value,10);let r=0;if(8===n?r=1:15===n&&(r=2),t.attribute(\"type\")){const n=t.attribute(\"type\").value;if(\"up\"===n||\"down\"===n){const t=new l.OctaveShift(n,r);t.StaffNumber=s,this.createNewMultiExpressionIfNeeded(e),this.getMultiExpression.OctaveShiftStart=t,t.ParentStartMultiExpression=this.getMultiExpression,this.openOctaveShift=t}else\"stop\"===n&&this.openOctaveShift&&(this.createNewMultiExpressionIfNeeded(e,i),this.getMultiExpression.OctaveShiftEnd=this.openOctaveShift,this.openOctaveShift.ParentEndMultiExpression=this.getMultiExpression,this.openOctaveShift=void 0)}}}catch(t){const e=g.ITextTranslation.translateText(\"ReaderErrorMessages/OctaveShiftError\",\"Error while reading octave shift.\");this.musicSheet.SheetErrors.pushMeasureError(e),b.default.debug(\"ExpressionReader.addOctaveShift\",e,t)}}}initialize(){this.placement=m.PlacementEnum.NotYetDefined,this.soundTempo=0,this.soundDynamic=0,this.offsetDivisions=0}readExpressionPlacement(t,e){try{const e=parseInt(t.value,10);e<0?this.placement=m.PlacementEnum.Below:e>0&&(this.placement=m.PlacementEnum.Above)}catch(t){b.default.debug(\"ExpressionReader.readExpressionParameters\",e,t)}}interpretInstantaneousDynamics(t,e,i,s){if(t.hasElements){t.hasAttributes&&t.attribute(\"default-x\")&&(this.directionTimestamp=n.Fraction.createFromFraction(i));let r=t.elements()[0].name;if(\"other-dynamics\"===r&&(r=t.elements()[0].value),r){s?this.createNewMultiExpressionIfNeeded(e,n.Fraction.createFromFraction(i)):this.createNewMultiExpressionIfNeeded(e),void 0!==this.openContinuousDynamicExpression&&this.openContinuousDynamicExpression.StartMultiExpression!==this.getMultiExpression&&this.closeOpenContinuousDynamic();const t=new h.InstantaneousDynamicExpression(r,this.soundDynamic,this.placement,this.staffNumber,e);this.getMultiExpression.addExpression(t,\"\"),this.initialize(),this.activeInstantaneousDynamic?this.activeInstantaneousDynamic.DynEnum=t.DynEnum:this.activeInstantaneousDynamic=new h.InstantaneousDynamicExpression(r,0,m.PlacementEnum.NotYetDefined,1,e)}}}interpretWords(t,e,i){const s=t.value;if(s.length>0){if(t.hasAttributes&&t.attribute(\"default-x\")&&(this.directionTimestamp=n.Fraction.createFromFraction(i)),this.checkIfWordsNodeIsRepetitionInstruction(s))return;this.fillMultiOrTempoExpression(s,e),this.initialize()}}interpretWedge(t,e,i,s){void 0!==t&&t.hasAttributes&&t.attribute(\"default-x\")&&(this.directionTimestamp=n.Fraction.createFromFraction(i)),this.createNewMultiExpressionIfNeeded(e),this.addWedge(t,e),this.initialize()}createNewMultiExpressionIfNeeded(t,e){e||(e=this.directionTimestamp),(!this.getMultiExpression||this.getMultiExpression&&(this.getMultiExpression.SourceMeasureParent!==t||this.getMultiExpression.SourceMeasureParent===t&&this.getMultiExpression.Timestamp!==e))&&(this.getMultiExpression=new c.MultiExpression(t,n.Fraction.createFromFraction(e)),t.StaffLinkedExpressions[this.globalStaffIndex].push(this.getMultiExpression))}createNewTempoExpressionIfNeeded(t){this.currentMultiTempoExpression&&this.currentMultiTempoExpression.SourceMeasureParent===t&&this.currentMultiTempoExpression.Timestamp===this.directionTimestamp||(this.currentMultiTempoExpression=new r.MultiTempoExpression(t,n.Fraction.createFromFraction(this.directionTimestamp)),t.TempoExpressions.push(this.currentMultiTempoExpression))}addWedge(t,e){if(void 0!==t&&t.hasAttributes){const i=t.attribute(\"type\").value.toLowerCase();try{if(\"crescendo\"===i||\"diminuendo\"===i){const t=new o.ContinuousDynamicExpression(o.ContDynamicEnum[i],this.placement,this.staffNumber,e);this.openContinuousDynamicExpression&&this.closeOpenContinuousDynamic(),this.openContinuousDynamicExpression=t,this.getMultiExpression.StartingContinuousDynamic=t,t.StartMultiExpression=this.getMultiExpression,void 0!==this.activeInstantaneousDynamic&&this.activeInstantaneousDynamic.StaffNumber===t.StaffNumber&&(this.activeInstantaneousDynamic=void 0)}else\"stop\"===i&&this.openContinuousDynamicExpression&&this.closeOpenContinuousDynamic()}catch(t){const e=\"ReaderErrorMessages/WedgeError, Error while reading Crescendo / Diminuendo.\";this.musicSheet.SheetErrors.pushMeasureError(e),b.default.debug(\"ExpressionReader.addWedge\",e,t)}}}fillMultiOrTempoExpression(t,e){if(!t)return;const i=t.trim();this.createExpressionFromString(\"\",i,e,t)}createExpressionFromString(t,e,i,s){if(u.InstantaneousTempoExpression.isInputStringInstantaneousTempo(e)||a.ContinuousTempoExpression.isInputStringContinuousTempo(e)){if(i.TempoExpressions.length>0)for(let t=0,s=i.TempoExpressions.length;t<s;++t){const s=i.TempoExpressions[t];if(s.Timestamp===this.directionTimestamp&&void 0!==s.InstantaneousTempo&&-1!==s.InstantaneousTempo.Label.indexOf(e))return!1}if(this.createNewTempoExpressionIfNeeded(i),this.currentMultiTempoExpression.CombinedExpressionsText=s,u.InstantaneousTempoExpression.isInputStringInstantaneousTempo(e)){const i=new u.InstantaneousTempoExpression(e,this.placement,this.staffNumber,this.soundTempo,this.currentMultiTempoExpression);return this.currentMultiTempoExpression.addExpression(i,t),!0}if(a.ContinuousTempoExpression.isInputStringContinuousTempo(e)){const i=new a.ContinuousTempoExpression(e,this.placement,this.staffNumber,this.currentMultiTempoExpression);return this.currentMultiTempoExpression.addExpression(i,t),!0}}if(h.InstantaneousDynamicExpression.isInputStringInstantaneousDynamic(e)||o.ContinuousDynamicExpression.isInputStringContinuousDynamic(e)){if(this.createNewMultiExpressionIfNeeded(i),h.InstantaneousDynamicExpression.isInputStringInstantaneousDynamic(e)){void 0===this.openContinuousDynamicExpression||this.openContinuousDynamicExpression.EndMultiExpression||this.closeOpenContinuousDynamic();const s=new h.InstantaneousDynamicExpression(e,this.soundDynamic,this.placement,this.staffNumber,i);return this.getMultiExpression.addExpression(s,t),!0}if(o.ContinuousDynamicExpression.isInputStringContinuousDynamic(e)){const s=new o.ContinuousDynamicExpression(void 0,this.placement,this.staffNumber,i,e);return void 0===this.openContinuousDynamicExpression||this.openContinuousDynamicExpression.EndMultiExpression||this.closeOpenContinuousDynamic(),void 0!==this.activeInstantaneousDynamic&&this.activeInstantaneousDynamic.StaffNumber===s.StaffNumber&&(this.activeInstantaneousDynamic=void 0),this.openContinuousDynamicExpression=s,s.StartMultiExpression=this.getMultiExpression,this.getMultiExpression.addExpression(s,t),!0}}if(d.MoodExpression.isInputStringMood(e)){this.createNewMultiExpressionIfNeeded(i);const s=new d.MoodExpression(e,this.placement,this.staffNumber);return this.getMultiExpression.addExpression(s,t),!0}if(this.createNewMultiExpressionIfNeeded(i),i.TempoExpressions.length>0)for(let t=0,s=i.TempoExpressions.length;t<s;++t){const s=i.TempoExpressions[t];if(s.Timestamp===this.directionTimestamp&&void 0!==s.InstantaneousTempo&&s.EntriesList.length>0&&!this.hasDigit(e)&&this.globalStaffIndex>0){if(s.EntriesList[0].label.indexOf(e)>=0)return!1;break}}let n=p.TextAlignmentEnum.CenterBottom;this.musicSheet.Rules.CompactMode&&(n=p.TextAlignmentEnum.LeftBottom);const r=new f.UnknownExpression(e,this.placement,n,this.staffNumber);return this.getMultiExpression.addExpression(r,t),!1}closeOpenContinuousDynamic(){this.openContinuousDynamicExpression.EndMultiExpression=this.getMultiExpression,this.getMultiExpression.EndingContinuousDynamic=this.openContinuousDynamicExpression,this.openContinuousDynamicExpression=void 0}closeOpenContinuousTempo(t){this.openContinuousTempoExpression.AbsoluteEndTimestamp=t,this.openContinuousTempoExpression=void 0}checkIfWordsNodeIsRepetitionInstruction(t){return\"coda\"===(t=t.trim().toLowerCase())||\"tocoda\"===t||\"to coda\"===t||\"fine\"===t||\"d.c.\"===t||\"dacapo\"===t||\"da capo\"===t||\"d.s.\"===t||\"dalsegno\"===t||\"dal segno\"===t||\"d.c. al fine\"===t||\"d.s. al fine\"===t||\"d.c. al coda\"===t||\"d.s. al coda\"===t}hasDigit(t){return/\\d/.test(t)}}},function(t,e,i){\"use strict\";Object.defineProperty(e,\"__esModule\",{value:!0});const s=i(6);class n extends s.AbstractExpression{constructor(t,e,i){super(e),this.label=t,this.staffNumber=i,this.setMoodType()}static isInputStringMood(t){return!!t&&(n.isStringInStringList(n.listMoodAffettuoso,t)||n.isStringInStringList(n.listMoodAgitato,t)||n.isStringInStringList(n.listMoodAnimato,t)||n.isStringInStringList(n.listMoodAppassionato,t)||n.isStringInStringList(n.listMoodBrillante,t)||n.isStringInStringList(n.listMoodCantabile,t)||n.isStringInStringList(n.listMoodDolce,t)||n.isStringInStringList(n.listMoodEnergico,t)||n.isStringInStringList(n.listMoodEroico,t)||n.isStringInStringList(n.listMoodEspressivo,t)||n.isStringInStringList(n.listMoodFurioso,t)||n.isStringInStringList(n.listMoodGiocoso,t)||n.isStringInStringList(n.listMoodGioioso,t)||n.isStringInStringList(n.listMoodGrandioso,t)||n.isStringInStringList(n.listMoodGrazioso,t)||n.isStringInStringList(n.listMoodLacrimoso,t)||n.isStringInStringList(n.listMoodLeggiero,t)||n.isStringInStringList(n.listMoodMaestoso,t)||n.isStringInStringList(n.listMoodMalinconico,t)||n.isStringInStringList(n.listMoodMarcato,t)||n.isStringInStringList(n.listMoodMarziale,t)||n.isStringInStringList(n.listMoodMesto,t)||n.isStringInStringList(n.listMoodMorendo,t)||n.isStringInStringList(n.listMoodNobilmente,t)||n.isStringInStringList(n.listMoodPatetico,t)||n.isStringInStringList(n.listMoodPesante,t)||n.isStringInStringList(n.listMoodSaltando,t)||n.isStringInStringList(n.listMoodSautille,t)||n.isStringInStringList(n.listMoodScherzando,t)||n.isStringInStringList(n.listMoodSostenuto,t)||n.isStringInStringList(n.listMoodSpiccato,t)||n.isStringInStringList(n.listMoodTenerezza,t)||n.isStringInStringList(n.listMoodTranquillamente,t)||n.isStringInStringList(n.listMoodTrionfante,t))}get Label(){return this.label}set Label(t){this.label=t}get Mood(){return this.moodType}set Mood(t){this.moodType=t}get StaffNumber(){return this.staffNumber}set StaffNumber(t){this.staffNumber=t}get Placement(){return this.placement}set Placement(t){this.placement=t}setMoodType(){n.isStringInStringList(n.listMoodAffettuoso,this.label)?this.moodType=r.Affettuoso:n.isStringInStringList(n.listMoodAgitato,this.label)?this.moodType=r.Agitato:n.isStringInStringList(n.listMoodAnimato,this.label)?this.moodType=r.Animato:n.isStringInStringList(n.listMoodAppassionato,this.label)?this.moodType=r.Appassionato:n.isStringInStringList(n.listMoodBrillante,this.label)?this.moodType=r.Brillante:n.isStringInStringList(n.listMoodCantabile,this.label)?this.moodType=r.Cantabile:n.isStringInStringList(n.listMoodDolce,this.label)?this.moodType=r.Dolce:n.isStringInStringList(n.listMoodEnergico,this.label)?this.moodType=r.Energico:n.isStringInStringList(n.listMoodEroico,this.label)?this.moodType=r.Eroico:n.isStringInStringList(n.listMoodEspressivo,this.label)?this.moodType=r.Espressivo:n.isStringInStringList(n.listMoodFurioso,this.label)?this.moodType=r.Furioso:n.isStringInStringList(n.listMoodGiocoso,this.label)?this.moodType=r.Giocoso:n.isStringInStringList(n.listMoodGioioso,this.label)?this.moodType=r.Gioioso:n.isStringInStringList(n.listMoodGrandioso,this.label)?this.moodType=r.Grandioso:n.isStringInStringList(n.listMoodGrazioso,this.label)?this.moodType=r.Grazioso:n.isStringInStringList(n.listMoodLacrimoso,this.label)?this.moodType=r.Lacrimoso:n.isStringInStringList(n.listMoodLeggiero,this.label)?this.moodType=r.Leggiero:n.isStringInStringList(n.listMoodMaestoso,this.label)?this.moodType=r.Maestoso:n.isStringInStringList(n.listMoodMalinconico,this.label)?this.moodType=r.Malinconico:n.isStringInStringList(n.listMoodMarcato,this.label)?this.moodType=r.Marcato:n.isStringInStringList(n.listMoodMarziale,this.label)?this.moodType=r.Marziale:n.isStringInStringList(n.listMoodMesto,this.label)?this.moodType=r.Mesto:n.isStringInStringList(n.listMoodMorendo,this.label)?this.moodType=r.Morendo:n.isStringInStringList(n.listMoodNobilmente,this.label)?this.moodType=r.Nobilmente:n.isStringInStringList(n.listMoodPatetico,this.label)?this.moodType=r.Patetico:n.isStringInStringList(n.listMoodPesante,this.label)?this.moodType=r.Pesante:n.isStringInStringList(n.listMoodSaltando,this.label)?this.moodType=r.Saltando:n.isStringInStringList(n.listMoodSautille,this.label)?this.moodType=r.Sautille:n.isStringInStringList(n.listMoodScherzando,this.label)?this.moodType=r.Scherzando:n.isStringInStringList(n.listMoodSostenuto,this.label)?this.moodType=r.Sostenuto:n.isStringInStringList(n.listMoodSpiccato,this.label)?this.moodType=r.Spiccato:n.isStringInStringList(n.listMoodTenerezza,this.label)?this.moodType=r.Tenerezza:n.isStringInStringList(n.listMoodTranquillamente,this.label)?this.moodType=r.Tranquillamente:n.isStringInStringList(n.listMoodTrionfante,this.label)&&(this.moodType=r.Trionfante)}}var r;e.MoodExpression=n,n.listMoodAffettuoso=[\"affettuoso\"],n.listMoodAgitato=[\"agitato\"],n.listMoodAppassionato=[\"appassionato\"],n.listMoodAnimato=[\"animato\",\"lively\"],n.listMoodBrillante=[\"brillante\"],n.listMoodCantabile=[\"cantabile\"],n.listMoodDolce=[\"dolce\"],n.listMoodEnergico=[\"energico\"],n.listMoodEroico=[\"eroico\"],n.listMoodEspressivo=[\"espressivo\"],n.listMoodFurioso=[\"furioso\"],n.listMoodGiocoso=[\"giocoso\"],n.listMoodGioioso=[\"gioioso\"],n.listMoodLacrimoso=[\"lacrimoso\"],n.listMoodGrandioso=[\"grandioso\"],n.listMoodGrazioso=[\"grazioso\"],n.listMoodLeggiero=[\"leggiero\"],n.listMoodMaestoso=[\"maestoso\"],n.listMoodMalinconico=[\"malinconico\"],n.listMoodMarcato=[\"marcato\"],n.listMoodMarziale=[\"marziale\"],n.listMoodMesto=[\"mesto\"],n.listMoodMorendo=[\"morendo\"],n.listMoodNobilmente=[\"nobilmente\"],n.listMoodPatetico=[\"patetico\"],n.listMoodPesante=[\"pesante\"],n.listMoodSautille=[\"sautille\"],n.listMoodSaltando=[\"saltando\"],n.listMoodScherzando=[\"scherzando\"],n.listMoodSostenuto=[\"sostenuto\"],n.listMoodSpiccato=[\"spiccato\"],n.listMoodTenerezza=[\"tenerezza\"],n.listMoodTranquillamente=[\"tranquillamente\"],n.listMoodTrionfante=[\"trionfante\"],function(t){t[t.Affettuoso=0]=\"Affettuoso\",t[t.Agitato=1]=\"Agitato\",t[t.Appassionato=2]=\"Appassionato\",t[t.Animato=3]=\"Animato\",t[t.Brillante=4]=\"Brillante\",t[t.Cantabile=5]=\"Cantabile\",t[t.Dolce=6]=\"Dolce\",t[t.Energico=7]=\"Energico\",t[t.Eroico=8]=\"Eroico\",t[t.Espressivo=9]=\"Espressivo\",t[t.Furioso=10]=\"Furioso\",t[t.Giocoso=11]=\"Giocoso\",t[t.Gioioso=12]=\"Gioioso\",t[t.Lacrimoso=13]=\"Lacrimoso\",t[t.Grandioso=14]=\"Grandioso\",t[t.Grazioso=15]=\"Grazioso\",t[t.Leggiero=16]=\"Leggiero\",t[t.Maestoso=17]=\"Maestoso\",t[t.Malinconico=18]=\"Malinconico\",t[t.Marcato=19]=\"Marcato\",t[t.Marziale=20]=\"Marziale\",t[t.Mesto=21]=\"Mesto\",t[t.Morendo=22]=\"Morendo\",t[t.Nobilmente=23]=\"Nobilmente\",t[t.Patetico=24]=\"Patetico\",t[t.Pesante=25]=\"Pesante\",t[t.Sautille=26]=\"Sautille\",t[t.Saltando=27]=\"Saltando\",t[t.Scherzando=28]=\"Scherzando\",t[t.Sostenuto=29]=\"Sostenuto\",t[t.Spiccato=30]=\"Spiccato\",t[t.Tenerezza=31]=\"Tenerezza\",t[t.Tranquillamente=32]=\"Tranquillamente\",t[t.Trionfante=33]=\"Trionfante\",t[t.Vivace=34]=\"Vivace\"}(r=e.MoodEnum||(e.MoodEnum={}))},function(t,e,i){\"use strict\";Object.defineProperty(e,\"__esModule\",{value:!0});const s=i(6),n=i(7);class r extends s.AbstractExpression{constructor(t,e,i,s){super(e),this.label=t,this.staffNumber=s,void 0===i&&(i=n.TextAlignmentEnum.LeftBottom),this.textAlignment=i}get Label(){return this.label}get Placement(){return this.placement}set Placement(t){this.placement=t}get StaffNumber(){return this.staffNumber}set StaffNumber(t){this.staffNumber=t}get TextAlignment(){return this.textAlignment}}e.UnknownExpression=r},function(t,e,i){\"use strict\";var s=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,\"__esModule\",{value:!0});const n=i(188),r=s(i(1)),o=i(27);e.SlurReader=class{constructor(t){this.openSlurDict={},this.musicSheet=t}addSlur(t,e){try{if(t)for(const i of t)if(i.attributes().length>0){const t=i.attribute(\"type\").value;let s=1;try{i.attribute(\"number\")&&(s=parseInt(i.attribute(\"number\").value,10))}catch(t){r.default.debug(\"VoiceGenerator.addSlur number: \",t)}if(\"start\"===t){let t=this.openSlurDict[s];t||(t=new n.Slur,this.openSlurDict[s]=t),t.StartNote=e}else if(\"stop\"===t){const t=this.openSlurDict[s];if(t){if(t.EndNote=e,!e.checkForDoubleSlur(t)){e.NoteSlurs.push(t),t.StartNote.NoteSlurs.push(t)}delete this.openSlurDict[s]}}}}catch(t){const e=o.ITextTranslation.translateText(\"ReaderErrorMessages/SlurError\",\"Error while reading slur.\");this.musicSheet.SheetErrors.pushMeasureError(e)}}}},function(t,e,i){\"use strict\";var s=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,\"__esModule\",{value:!0});const n=i(8),r=s(i(1));class o{constructor(t){this.parentInstrument=t,this.fixedKey=-1,this.name=this.parseMidiInstrument(this.parentInstrument.Name),this.midiInstrumentID=o.midiInstrument[this.name],this.volume=1}get ParentInstrument(){return this.parentInstrument}static isPianoInstrument(t){return t===n.MidiInstrument.Acoustic_Grand_Piano||t===n.MidiInstrument.Bright_Acoustic_Piano||t===n.MidiInstrument.Electric_Grand_Piano||t===n.MidiInstrument.Electric_Piano_1||t===n.MidiInstrument.Electric_Piano_2}setMidiInstrument(t){this.midiInstrumentID=o.midiInstrument[this.parseMidiInstrument(t)]}parseMidiInstrument(t){try{if(t){const e=t.toLowerCase().trim();for(const t in o.midiInstrument)if(-1!==e.indexOf(t))return t}if(this.parentInstrument.Name){const t=this.parentInstrument.Name.toLowerCase().trim();for(const e in o.midiInstrument)if(-1!==t.indexOf(e))return e}}catch(t){r.default.error(\"Error parsing MIDI Instrument. Default to Grand Piano.\")}return\"unnamed\"}}e.SubInstrument=o,o.midiInstrument={alt:n.MidiInstrument.Synth_Voice,alto:n.MidiInstrument.Synth_Voice,banjo:n.MidiInstrument.Banjo,bariton:n.MidiInstrument.Synth_Voice,baritone:n.MidiInstrument.Synth_Voice,bass:n.MidiInstrument.Synth_Voice,\"blockflte\":n.MidiInstrument.Recorder,brass:n.MidiInstrument.Trombone,bratsche:n.MidiInstrument.Viola,cello:n.MidiInstrument.Cello,clarinet:n.MidiInstrument.Clarinet,contrabass:n.MidiInstrument.Contrabass,drums:n.MidiInstrument.Percussion,flute:n.MidiInstrument.Flute,\"flte\":n.MidiInstrument.Flute,frenchhorn:n.MidiInstrument.French_Horn,gitarre:n.MidiInstrument.Acoustic_Guitar_nylon,guitar:n.MidiInstrument.Acoustic_Guitar_nylon,harfe:n.MidiInstrument.Orchestral_Harp,harp:n.MidiInstrument.Orchestral_Harp,klarinette:n.MidiInstrument.Clarinet,klavier:n.MidiInstrument.Acoustic_Grand_Piano,kontrabass:n.MidiInstrument.Contrabass,oboe:n.MidiInstrument.Oboe,organ:n.MidiInstrument.Church_Organ,orgel:n.MidiInstrument.Church_Organ,orgue:n.MidiInstrument.Church_Organ,percussion:n.MidiInstrument.Percussion,piano:n.MidiInstrument.Acoustic_Grand_Piano,piccolo:n.MidiInstrument.Piccolo,posaune:n.MidiInstrument.Trombone,recorder:n.MidiInstrument.Recorder,sax:n.MidiInstrument.Tenor_Sax,schlagwerk:n.MidiInstrument.Percussion,schlagzeug:n.MidiInstrument.Percussion,sopran:n.MidiInstrument.Synth_Voice,steeldrum:n.MidiInstrument.Steel_Drums,streicher:n.MidiInstrument.String_Ensemble_1,strings:n.MidiInstrument.String_Ensemble_1,tenor:n.MidiInstrument.Synth_Voice,tpt:n.MidiInstrument.Trumpet,trombone:n.MidiInstrument.Trombone,trompete:n.MidiInstrument.Trumpet,trumpet:n.MidiInstrument.Trumpet,tuba:n.MidiInstrument.Tuba,unnamed:n.MidiInstrument.Acoustic_Grand_Piano,viola:n.MidiInstrument.Viola,violin:n.MidiInstrument.Violin,\"violon-c\":n.MidiInstrument.Cello,\"violon.\":n.MidiInstrument.Violin,voice:n.MidiInstrument.Synth_Voice,woodblock:n.MidiInstrument.Woodblock}},function(t,e,i){\"use strict\";Object.defineProperty(e,\"__esModule\",{value:!0});const s=i(145),n=i(146);e.MusicSymbolModuleFactory=class{static createRepetitionInstructionReader(){return new s.RepetitionInstructionReader}static createRepetitionCalculator(){return new n.RepetitionCalculator}}},function(t,e,i){\"use strict\";Object.defineProperty(e,\"__esModule\",{value:!0});const s=i(26),n=i(26),r=i(189);e.RepetitionInstructionReader=class{set MusicSheet(t){this.musicSheet=t,this.xmlMeasureList=new Array(this.musicSheet.Instruments.length),this.repetitionInstructions=[]}prepareReadingMeasure(t,e){this.currentMeasureIndex=e}handleLineRepetitionInstructions(t){let e=!1;if(t.elements().length>0){let i=\"\",n=!1,r=\"\",o=\"\",a=\"\";const h=[],l=t.element(\"bar-style\");l&&(a=l.value),i=t.attributes().length>0&&t.attribute(\"location\")?t.attribute(\"location\").value:\"right\";const c=t.elements();for(let t=0,e=c.length;t<e;++t){const e=c[t];if(\"repeat\"===e.name&&e.hasAttributes)n=!0,r=e.attribute(\"direction\").value;else if(\"ending\"===e.name&&e.hasAttributes&&void 0!==e.attribute(\"type\")&&e.attribute(\"number\")){o=e.attribute(\"type\").value;const t=e.attribute(\"number\").value.split(\"[,+]\");for(let e=0,i=t.length;e<i;++e){const i=t[e],s=i.match(\"[0-9]\");if(-1!==i.search(\"-\")&&2===s.length){const t=parseInt(s[0],10),e=parseInt(s[1],10);for(let i=t;i<=e;i++)h.push(i)}else for(let t=0,e=s.length;t<e;++t){const e=s[t];h.push(parseInt(e,10))}}}}if(\"light-heavy\"!==a||0!==h.length||n||(e=!0),n||h.length>0)if(\"left\"===i){if(\"start\"===o){const t=new s.RepetitionInstruction(this.currentMeasureIndex,s.RepetitionInstructionEnum.Ending,s.AlignmentType.Begin,void 0,h);this.addInstruction(this.repetitionInstructions,t)}if(\"forward\"===r){const t=new s.RepetitionInstruction(this.currentMeasureIndex,s.RepetitionInstructionEnum.StartLine);this.addInstruction(this.repetitionInstructions,t)}}else{if(\"stop\"===o){const t=new s.RepetitionInstruction(this.currentMeasureIndex,s.RepetitionInstructionEnum.Ending,s.AlignmentType.End,void 0,h);this.addInstruction(this.repetitionInstructions,t)}if(\"backward\"===r){const t=new s.RepetitionInstruction(this.currentMeasureIndex,s.RepetitionInstructionEnum.BackJumpLine);this.addInstruction(this.repetitionInstructions,t)}}}return e}handleRepetitionInstructionsFromWordsOrSymbols(t,e){const i=t.element(\"words\");if(i){const t=\"d\\\\s?\\\\.s\\\\.\",n=i.value.trim().toLowerCase();if(r.StringUtil.StringContainsSeparatedWord(n,t+\" al fine\")){let t=this.currentMeasureIndex;e<.5&&this.currentMeasureIndex<this.xmlMeasureList[0].length-1&&t--;const i=new s.RepetitionInstruction(t,s.RepetitionInstructionEnum.DalSegnoAlFine);return this.addInstruction(this.repetitionInstructions,i),!0}const o=\"d\\\\.\\\\s?c\\\\.\";if(r.StringUtil.StringContainsSeparatedWord(n,o+\" al coda\")){let t=this.currentMeasureIndex;e<.5&&t--;const i=new s.RepetitionInstruction(t,s.RepetitionInstructionEnum.DalSegnoAlCoda);return this.addInstruction(this.repetitionInstructions,i),!0}if(r.StringUtil.StringContainsSeparatedWord(n,o+\" al fine\")){let t=this.currentMeasureIndex;e<.5&&this.currentMeasureIndex<this.xmlMeasureList[0].length-1&&t--;const i=new s.RepetitionInstruction(t,s.RepetitionInstructionEnum.DaCapoAlFine);return this.addInstruction(this.repetitionInstructions,i),!0}if(r.StringUtil.StringContainsSeparatedWord(n,o+\" al coda\")){let t=this.currentMeasureIndex;e<.5&&t--;const i=new s.RepetitionInstruction(t,s.RepetitionInstructionEnum.DaCapoAlCoda);return this.addInstruction(this.repetitionInstructions,i),!0}if(r.StringUtil.StringContainsSeparatedWord(n,o)||r.StringUtil.StringContainsSeparatedWord(n,\"da\\\\s?capo\")){let t=this.currentMeasureIndex;e<.5&&this.currentMeasureIndex<this.xmlMeasureList[0].length-1&&t--;const i=new s.RepetitionInstruction(t,s.RepetitionInstructionEnum.DaCapo);return this.addInstruction(this.repetitionInstructions,i),!0}if(r.StringUtil.StringContainsSeparatedWord(n,t)||r.StringUtil.StringContainsSeparatedWord(n,\"dal\\\\s?segno\")){let t=this.currentMeasureIndex;e<.5&&this.currentMeasureIndex<this.xmlMeasureList[0].length-1&&t--;const i=new s.RepetitionInstruction(t,s.RepetitionInstructionEnum.DalSegno);return this.addInstruction(this.repetitionInstructions,i),!0}if(r.StringUtil.StringContainsSeparatedWord(n,\"to\\\\s?coda\")||r.StringUtil.StringContainsSeparatedWord(n,\"a (la )?coda\")){let t=this.currentMeasureIndex;e<.5&&t--;const i=new s.RepetitionInstruction(t,s.RepetitionInstructionEnum.ToCoda);return this.addInstruction(this.repetitionInstructions,i),!0}if(r.StringUtil.StringContainsSeparatedWord(n,\"fine\")){let t=this.currentMeasureIndex;e<.5&&t--;const i=new s.RepetitionInstruction(t,s.RepetitionInstructionEnum.Fine);return this.addInstruction(this.repetitionInstructions,i),!0}if(r.StringUtil.StringContainsSeparatedWord(n,\"coda\")){let t=this.currentMeasureIndex;e>.5&&t++;const i=new s.RepetitionInstruction(t,s.RepetitionInstructionEnum.Coda);return this.addInstruction(this.repetitionInstructions,i),!0}if(r.StringUtil.StringContainsSeparatedWord(n,\"segno\")){let t=this.currentMeasureIndex;e>.5&&t++;const i=new s.RepetitionInstruction(t,s.RepetitionInstructionEnum.Segno);return this.addInstruction(this.repetitionInstructions,i),!0}}else{if(t.element(\"segno\")){let t=this.currentMeasureIndex;e>.5&&t++;const i=new s.RepetitionInstruction(t,s.RepetitionInstructionEnum.Segno);return this.addInstruction(this.repetitionInstructions,i),!0}if(t.element(\"coda\")){let t=this.currentMeasureIndex;e>.5&&t++;const i=new s.RepetitionInstruction(t,s.RepetitionInstructionEnum.Coda);return this.addInstruction(this.repetitionInstructions,i),!0}}return!1}removeRedundantInstructions(){let t=0,e=0,i=0,r=0;for(let n=0;n<this.repetitionInstructions.length;n++){const o=this.repetitionInstructions[n];switch(o.type){case s.RepetitionInstructionEnum.Coda:i>0&&this.findInstructionInPreviousMeasure(n,o.measureIndex,s.RepetitionInstructionEnum.ToCoda)&&(o.type=s.RepetitionInstructionEnum.None),0===e&&0===i&&(o.type=s.RepetitionInstructionEnum.ToCoda,o.alignment=s.AlignmentType.End,o.measureIndex--);break;case s.RepetitionInstructionEnum.Segno:if(t-r>0){let t=!1;for(let n=0,r=this.repetitionInstructions.length;n<r;++n){const r=this.repetitionInstructions[n];if(o.measureIndex-r.measureIndex==1)switch(r.type){case s.RepetitionInstructionEnum.BackJumpLine:r.type=i-e>0?s.RepetitionInstructionEnum.DalSegnoAlCoda:s.RepetitionInstructionEnum.DalSegno,o.type=s.RepetitionInstructionEnum.None,t=!0;break;case s.RepetitionInstructionEnum.DalSegno:case s.RepetitionInstructionEnum.DalSegnoAlFine:case s.RepetitionInstructionEnum.DalSegnoAlCoda:o.type=s.RepetitionInstructionEnum.None,t=!0}if(t)break}if(t)break;o.type=i-e>0?s.RepetitionInstructionEnum.DalSegnoAlCoda:s.RepetitionInstructionEnum.DalSegno,o.alignment=s.AlignmentType.End,o.measureIndex--}}if(this.backwardSearchForPreviousIdenticalInstruction(n,o)||o.type===s.RepetitionInstructionEnum.None)this.repetitionInstructions.splice(n,1),n--;else switch(o.type){case s.RepetitionInstructionEnum.Fine:break;case s.RepetitionInstructionEnum.ToCoda:i++;break;case s.RepetitionInstructionEnum.Coda:e++;break;case s.RepetitionInstructionEnum.Segno:t++;break;case s.RepetitionInstructionEnum.DalSegnoAlFine:case s.RepetitionInstructionEnum.DalSegnoAlCoda:r++}}this.repetitionInstructions.sort(n.RepetitionInstructionComparer.Compare)}findInstructionInPreviousMeasure(t,e,i){for(let s=t-1;s>=0;s--){const t=this.repetitionInstructions[s];if(e-t.measureIndex==1&&t.type===i)return!0}return!1}backwardSearchForPreviousIdenticalInstruction(t,e){for(let i=t-1;i>=0;i--){if(this.repetitionInstructions[i].equals(e))return!0}return!1}addInstruction(t,e){let i=!0;for(let s=0,n=t.length;s<n;++s){const n=t[s];if(e.equals(n)){i=!1;break}}i&&t.push(e)}}},function(t,e,i){\"use strict\";Object.defineProperty(e,\"__esModule\",{value:!0});const s=i(26),n=i(26),r=i(11);e.RepetitionCalculator=class{constructor(){this.repetitionInstructions=[]}calculateRepetitions(t,e){this.musicSheet=t,this.repetitionInstructions=e;const i=this.musicSheet.SourceMeasures;for(let t=0,e=this.repetitionInstructions.length;t<e;++t){const e=this.repetitionInstructions[t];this.currentMeasureIndex=e.measureIndex,this.currentMeasure=i[this.currentMeasureIndex],this.handleRepetitionInstructions(e)}for(let t=0,e=this.musicSheet.SourceMeasures.length;t<e;++t){const e=this.musicSheet.SourceMeasures[t];e.FirstRepetitionInstructions.length>1&&e.FirstRepetitionInstructions.sort(n.RepetitionInstructionComparer.Compare),e.LastRepetitionInstructions.length>1&&e.LastRepetitionInstructions.sort(n.RepetitionInstructionComparer.Compare)}}handleRepetitionInstructions(t){if(!this.currentMeasure)return!1;switch(t.type){case s.RepetitionInstructionEnum.StartLine:this.currentMeasure.FirstRepetitionInstructions.push(t);break;case s.RepetitionInstructionEnum.BackJumpLine:this.currentMeasure.LastRepetitionInstructions.push(t);break;case s.RepetitionInstructionEnum.Ending:if(t.alignment===s.AlignmentType.Begin)this.currentMeasure.FirstRepetitionInstructions.push(t);else for(let e=0,i=t.endingIndices.length;e<i;++e)this.currentMeasure.LastRepetitionInstructions.push(t);break;case s.RepetitionInstructionEnum.Segno:this.currentMeasure.FirstRepetitionInstructions.push(t);break;case s.RepetitionInstructionEnum.Fine:case s.RepetitionInstructionEnum.ToCoda:case s.RepetitionInstructionEnum.Coda:case s.RepetitionInstructionEnum.DaCapo:case s.RepetitionInstructionEnum.DalSegno:case s.RepetitionInstructionEnum.DalSegnoAlFine:case s.RepetitionInstructionEnum.DaCapoAlFine:case s.RepetitionInstructionEnum.DalSegnoAlCoda:case s.RepetitionInstructionEnum.DaCapoAlCoda:this.currentMeasure.LastRepetitionInstructions.push(t);break;case s.RepetitionInstructionEnum.None:break;default:throw new r.ArgumentOutOfRangeException(\"currentRepetitionInstruction\")}return!0}}},function(t,e,i){\"use strict\";function s(t){for(var i in t)e.hasOwnProperty(i)||(e[i]=t[i])}Object.defineProperty(e,\"__esModule\",{value:!0}),s(i(11)),s(i(60)),s(i(61)),s(i(13)),s(i(131)),s(i(143)),s(i(39)),s(i(190)),s(i(192)),s(i(50))},function(t,e){var i,s,n=t.exports={};function r(){throw new Error(\"setTimeout has not been defined\")}function o(){throw new Error(\"clearTimeout has not been defined\")}function a(t){if(i===setTimeout)return setTimeout(t,0);if((i===r||!i)&&setTimeout)return i=setTimeout,setTimeout(t,0);try{return i(t,0)}catch(e){try{return i.call(null,t,0)}catch(e){return i.call(this,t,0)}}}!function(){try{i=\"function\"==typeof setTimeout?setTimeout:r}catch(t){i=r}try{s=\"function\"==typeof clearTimeout?clearTimeout:o}catch(t){s=o}}();var h,l=[],c=!1,u=-1;function d(){c&&h&&(c=!1,h.length?l=h.concat(l):u=-1,l.length&&f())}function f(){if(!c){var t=a(d);c=!0;for(var e=l.length;e;){for(h=l,l=[];++u<e;)h&&h[u].run();u=-1,e=l.length}h=null,c=!1,function(t){if(s===clearTimeout)return clearTimeout(t);if((s===o||!s)&&clearTimeout)return s=clearTimeout,clearTimeout(t);try{s(t)}catch(e){try{return s.call(null,t)}catch(e){return s.call(this,t)}}}(t)}}function m(t,e){this.fun=t,this.array=e}function p(){}n.nextTick=function(t){var e=new Array(arguments.length-1);if(arguments.length>1)for(var i=1;i<arguments.length;i++)e[i-1]=arguments[i];l.push(new m(t,e)),1!==l.length||c||a(f)},m.prototype.run=function(){this.fun.apply(null,this.array)},n.title=\"browser\",n.browser=!0,n.env={},n.argv=[],n.version=\"\",n.versions={},n.on=p,n.addListener=p,n.once=p,n.off=p,n.removeListener=p,n.removeAllListeners=p,n.emit=p,n.prependListener=p,n.prependOnceListener=p,n.listeners=function(t){return[]},n.binding=function(t){throw new Error(\"process.binding is not supported\")},n.cwd=function(){return\"/\"},n.chdir=function(t){throw new Error(\"process.chdir is not supported\")},n.umask=function(){return 0}},function(t,e,i){\"use strict\";Object.defineProperty(e,\"__esModule\",{value:!0});var s=i(9),n=i(12),r=i(81),o=function(){function t(t){this.toStrF=t||s.defaultToString,this.dictionary=new n.default(this.toStrF),this.nElements=0}return t.prototype.add=function(t,e){if(void 0===e&&(e=1),s.isUndefined(t)||e<=0)return!1;if(this.contains(t))this.dictionary.getValue(t).copies+=e;else{var i={value:t,copies:e};this.dictionary.setValue(t,i)}return this.nElements+=e,!0},t.prototype.count=function(t){return this.contains(t)?this.dictionary.getValue(t).copies:0},t.prototype.contains=function(t){return this.dictionary.containsKey(t)},t.prototype.remove=function(t,e){if(void 0===e&&(e=1),s.isUndefined(t)||e<=0)return!1;if(this.contains(t)){var i=this.dictionary.getValue(t);return e>i.copies?this.nElements-=i.copies:this.nElements-=e,i.copies-=e,i.copies<=0&&this.dictionary.remove(t),!0}return!1},t.prototype.toArray=function(){for(var t=[],e=0,i=this.dictionary.values();e<i.length;e++)for(var s=i[e],n=s.value,r=s.copies,o=0;o<r;o++)t.push(n);return t},t.prototype.toSet=function(){for(var t=new r.default(this.toStrF),e=0,i=this.dictionary.values();e<i.length;e++){var s=i[e].value;t.add(s)}return t},t.prototype.forEach=function(t){this.dictionary.forEach((function(e,i){for(var s=i.value,n=i.copies,r=0;r<n;r++)if(!1===t(s))return!1;return!0}))},t.prototype.size=function(){return this.nElements},t.prototype.isEmpty=function(){return 0===this.nElements},t.prototype.clear=function(){this.nElements=0,this.dictionary.clear()},t}();e.default=o},function(t,e,i){\"use strict\";var s,n=this&&this.__extends||(s=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])},function(t,e){function i(){this.constructor=t}s(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,\"__esModule\",{value:!0});var r=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return n(e,t),e}(i(82).default);e.default=r},function(t,e,i){\"use strict\";var s,n=this&&this.__extends||(s=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])},function(t,e){function i(){this.constructor=t}s(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,\"__esModule\",{value:!0});var r=i(12),o=i(9),a=function(){function t(t,e){this.key=t,this.value=e}return t.prototype.unlink=function(){this.prev.next=this.next,this.next.prev=this.prev},t}(),h=function(){function t(){this.key=null,this.value=null}return t.prototype.unlink=function(){this.prev.next=this.next,this.next.prev=this.prev},t}();var l=function(t){function e(e){var i=t.call(this,e)||this;return i.head=new h,i.tail=new h,i.head.next=i.tail,i.tail.prev=i.head,i}return n(e,t),e.prototype.appendToTail=function(t){var e=this.tail.prev;e.next=t,t.prev=e,t.next=this.tail,this.tail.prev=t},e.prototype.getLinkedDictionaryPair=function(t){if(!o.isUndefined(t)){var e=\"$\"+this.toStr(t);return this.table[e]}},e.prototype.getValue=function(t){var e=this.getLinkedDictionaryPair(t);if(!o.isUndefined(e))return e.value},e.prototype.remove=function(e){var i=this.getLinkedDictionaryPair(e);if(!o.isUndefined(i))return t.prototype.remove.call(this,e),i.unlink(),i.value},e.prototype.clear=function(){t.prototype.clear.call(this),this.head.next=this.tail,this.tail.prev=this.head},e.prototype.replace=function(t,e){var i=\"$\"+this.toStr(e.key);e.next=t.next,e.prev=t.prev,this.remove(t.key),e.prev.next=e,e.next.prev=e,this.table[i]=e,++this.nElements},e.prototype.setValue=function(t,e){if(!o.isUndefined(t)&&!o.isUndefined(e)){var i=this.getLinkedDictionaryPair(t),s=new a(t,e),n=\"$\"+this.toStr(t);return o.isUndefined(i)?(this.appendToTail(s),this.table[n]=s,void++this.nElements):(this.replace(i,s),i.value)}},e.prototype.keys=function(){var t=[];return this.forEach((function(e,i){t.push(e)})),t},e.prototype.values=function(){var t=[];return this.forEach((function(e,i){t.push(i)})),t},e.prototype.forEach=function(t){for(var e=this.head.next;e.next;){if(!1===t(e.key,e.value))return;e=e.next}},e}(r.default);e.default=l},function(t,e,i){\"use strict\";Object.defineProperty(e,\"__esModule\",{value:!0});var s=i(9),n=i(12),r=i(35),o=function(){function t(t,e,i){void 0===i&&(i=!1),this.dict=new n.default(t),this.equalsF=e||s.defaultEquals,this.allowDuplicate=i}return t.prototype.getValue=function(t){var e=this.dict.getValue(t);return s.isUndefined(e)?[]:r.copy(e)},t.prototype.setValue=function(t,e){if(s.isUndefined(t)||s.isUndefined(e))return!1;var i=this.dict.getValue(t);return s.isUndefined(i)?(this.dict.setValue(t,[e]),!0):!(!this.allowDuplicate&&r.contains(i,e,this.equalsF))&&(i.push(e),!0)},t.prototype.remove=function(t,e){if(s.isUndefined(e)){var i=this.dict.remove(t);return!s.isUndefined(i)}var n=this.dict.getValue(t);return!(s.isUndefined(n)||!r.remove(n,e,this.equalsF))&&(0===n.length&&this.dict.remove(t),!0)},t.prototype.keys=function(){return this.dict.keys()},t.prototype.values=function(){for(var t=[],e=0,i=this.dict.values();e<i.length;e++)for(var s=0,n=i[e];s<n.length;s++){var r=n[s];t.push(r)}return t},t.prototype.containsKey=function(t){return this.dict.containsKey(t)},t.prototype.clear=function(){this.dict.clear()},t.prototype.size=function(){return this.dict.size()},t.prototype.isEmpty=function(){return this.dict.isEmpty()},t}();e.default=o},function(t,e,i){\"use strict\";Object.defineProperty(e,\"__esModule\",{value:!0});var s=i(9),n=i(84),r=function(){function t(t){this.heap=new n.default(s.reverseCompareFunction(t))}return t.prototype.enqueue=function(t){return this.heap.add(t)},t.prototype.add=function(t){return this.heap.add(t)},t.prototype.dequeue=function(){if(0!==this.heap.size()){var t=this.heap.peek();return this.heap.removeRoot(),t}},t.prototype.peek=function(){return this.heap.peek()},t.prototype.contains=function(t){return this.heap.contains(t)},t.prototype.isEmpty=function(){return this.heap.isEmpty()},t.prototype.size=function(){return this.heap.size()},t.prototype.clear=function(){this.heap.clear()},t.prototype.forEach=function(t){this.heap.forEach(t)},t}();e.default=r},function(t,e,i){\"use strict\";Object.defineProperty(e,\"__esModule\",{value:!0});var s=i(54),n=function(){function t(){this.list=new s.default}return t.prototype.push=function(t){return this.list.add(t,0)},t.prototype.add=function(t){return this.list.add(t,0)},t.prototype.pop=function(){return this.list.removeElementAtIndex(0)},t.prototype.peek=function(){return this.list.first()},t.prototype.size=function(){return this.list.size()},t.prototype.contains=function(t,e){return this.list.contains(t,e)},t.prototype.isEmpty=function(){return this.list.isEmpty()},t.prototype.clear=function(){this.list.clear()},t.prototype.forEach=function(t){this.list.forEach(t)},t}();e.default=n},function(t,e,i){\"use strict\";var s;Object.defineProperty(e,\"__esModule\",{value:!0}),function(t){t[t.BEFORE=0]=\"BEFORE\",t[t.AFTER=1]=\"AFTER\",t[t.INSIDE_AT_END=2]=\"INSIDE_AT_END\",t[t.INSIDE_AT_START=3]=\"INSIDE_AT_START\"}(s||(s={}));var n=function(){function t(t,e){void 0===t&&(t=[]),void 0===e&&(e={}),this.rootIds=t,this.nodes=e,this.initRootIds(),this.initNodes()}return t.prototype.initRootIds=function(){for(var t=0,e=this.rootIds;t<e.length;t++){var i=e[t];this.createEmptyNodeIfNotExist(i)}},t.prototype.initNodes=function(){for(var t in this.nodes)if(this.nodes.hasOwnProperty(t))for(var e=0,i=this.nodes[t];e<i.length;e++){var s=i[e];this.createEmptyNodeIfNotExist(s)}},t.prototype.createEmptyNodeIfNotExist=function(t){this.nodes[t]||(this.nodes[t]=[])},t.prototype.getRootIds=function(){return this.rootIds.slice()},t.prototype.getNodes=function(){var t={};for(var e in this.nodes)this.nodes.hasOwnProperty(e)&&(t[e]=this.nodes[e].slice());return t},t.prototype.getObject=function(){return{rootIds:this.getRootIds(),nodes:this.getNodes()}},t.prototype.toObject=function(){return this.getObject()},t.prototype.flatten=function(){for(var t=this,e=[],i=0;i<this.rootIds.length;i++){var s=this.rootIds[i];e.push({id:s,level:0,hasParent:!1,childrenCount:0}),h(s,this.nodes,e,0)}for(var n=0,r=e;n<r.length;n++){var o=r[n];o.childrenCount=a(o.id)}return e;function a(e){return t.nodes[e]?t.nodes[e].length:0}function h(t,e,i,s){if(void 0===s&&(s=0),t&&e&&i&&e[t]){s++;for(var n=e[t],r=0;r<n.length;r++){var o=n[r];i.push({id:o,level:s,hasParent:!0}),h(o,e,i,s)}s--}}},t.prototype.moveIdBeforeId=function(t,e){return this.moveId(t,e,s.BEFORE)},t.prototype.moveIdAfterId=function(t,e){return this.moveId(t,e,s.AFTER)},t.prototype.moveIdIntoId=function(t,e,i){return void 0===i&&(i=!0),i?this.moveId(t,e,s.INSIDE_AT_START):this.moveId(t,e,s.INSIDE_AT_END)},t.prototype.swapRootIdWithRootId=function(t,e){var i=this.findRootId(t),s=this.findRootId(e);this.swapRootPositionWithRootPosition(i,s)},t.prototype.swapRootPositionWithRootPosition=function(t,e){var i=this.rootIds[e];this.rootIds[e]=this.rootIds[t],this.rootIds[t]=i},t.prototype.deleteId=function(t){this.rootDeleteId(t),this.nodeAndSubNodesDelete(t),this.nodeRefrencesDelete(t)},t.prototype.insertIdBeforeId=function(t,e){var i=this.findRootId(t);for(var s in i>-1&&this.insertIdIntoRoot(e,i),this.nodes)if(this.nodes.hasOwnProperty(s)){var n=this.findNodeId(s,t);n>-1&&this.insertIdIntoNode(s,e,n)}},t.prototype.insertIdAfterId=function(t,e){var i=this.findRootId(t);for(var s in i>-1&&this.insertIdIntoRoot(e,i+1),this.nodes)if(this.nodes.hasOwnProperty(s)){var n=this.findNodeId(s,t);n>-1&&this.insertIdIntoNode(s,e,n+1)}},t.prototype.insertIdIntoId=function(t,e){this.nodeInsertAtEnd(t,e),this.nodes[e]=[]},t.prototype.insertIdIntoRoot=function(t,e){if(void 0===e)this.rootInsertAtEnd(t);else if(e<0){var i=this.rootIds.length;this.rootIds.splice(e+i+1,0,t)}else this.rootIds.splice(e,0,t);this.nodes[t]=this.nodes[t]||[]},t.prototype.insertIdIntoNode=function(t,e,i){if(this.nodes[t]=this.nodes[t]||[],this.nodes[e]=this.nodes[e]||[],void 0===i)this.nodeInsertAtEnd(t,e);else if(i<0){var s=this.nodes[t].length;this.nodes[t].splice(i+s+1,0,e)}else this.nodes[t].splice(i,0,e)},t.prototype.moveId=function(t,e,i){var n=t,r=this.findRootId(n);for(var o in this.nodes[e]&&e,this.nodes)if(this.nodes.hasOwnProperty(o)){this.findNodeId(o,e);break}var a=e,h=this.findRootId(a);for(var o in this.nodes[e]&&e,this.nodes)if(this.nodes.hasOwnProperty(o)){this.findNodeId(o,e);break}if(r>-1)if(h>-1)switch(this.rootDelete(r),h>r&&h--,i){case s.BEFORE:this.insertIdIntoRoot(n,h);break;case s.AFTER:this.insertIdIntoRoot(n,h+1);break;case s.INSIDE_AT_START:this.nodeInsertAtStart(a,n);break;case s.INSIDE_AT_END:this.nodeInsertAtEnd(a,n)}else for(var o in this.rootDelete(r),this.nodes){if(this.nodes.hasOwnProperty(o))if((l=this.findNodeId(o,a))>-1){switch(i){case s.BEFORE:this.insertIdIntoNode(o,n,l);break;case s.AFTER:this.insertIdIntoNode(o,n,l+1);break;case s.INSIDE_AT_START:this.nodeInsertAtStart(a,n);break;case s.INSIDE_AT_END:this.nodeInsertAtEnd(a,n)}break}}else if(h>-1){for(var o in this.nodes){if(this.nodes.hasOwnProperty(o))if((l=this.findNodeId(o,n))>-1){this.nodeDeleteAtIndex(o,l);break}}switch(i){case s.BEFORE:this.insertIdIntoRoot(n,h);break;case s.AFTER:this.insertIdIntoRoot(n,h+1);break;case s.INSIDE_AT_START:this.nodeInsertAtStart(a,n);break;case s.INSIDE_AT_END:this.nodeInsertAtEnd(a,n)}}else{for(var o in this.nodes){if(this.nodes.hasOwnProperty(o))if((l=this.findNodeId(o,n))>-1){this.nodeDeleteAtIndex(o,l);break}}for(var o in this.nodes){var l;if(this.nodes.hasOwnProperty(o))if((l=this.findNodeId(o,a))>-1){switch(i){case s.BEFORE:this.insertIdIntoNode(o,n,l);break;case s.AFTER:this.insertIdIntoNode(o,n,l+1);break;case s.INSIDE_AT_START:this.nodeInsertAtStart(a,n);break;case s.INSIDE_AT_END:this.nodeInsertAtEnd(a,n)}break}}}},t.prototype.swapArrayElements=function(t,e,i){var s=t[e];return t[e]=t[i],t[i]=s,t},t.prototype.rootDeleteId=function(t){var e=this.findRootId(t);e>-1&&this.rootDelete(e)},t.prototype.nodeAndSubNodesDelete=function(t){for(var e=[],i=0;i<this.nodes[t].length;i++){var s=this.nodes[t][i];this.nodeAndSubNodesDelete(s),e.push(t)}this.nodeDelete(t);for(i=0;i<e.length;i++)this.nodeDelete(e[i])},t.prototype.nodeRefrencesDelete=function(t){for(var e in this.nodes)if(this.nodes.hasOwnProperty(e))for(var i=0;i<this.nodes[e].length;i++){this.nodes[e][i]===t&&this.nodeDeleteAtIndex(e,i)}},t.prototype.nodeDelete=function(t){delete this.nodes[t]},t.prototype.findRootId=function(t){return this.rootIds.indexOf(t)},t.prototype.findNodeId=function(t,e){return this.nodes[t].indexOf(e)},t.prototype.findNode=function(t){return this.nodes[t]},t.prototype.nodeInsertAtStart=function(t,e){this.nodes[t].unshift(e)},t.prototype.nodeInsertAtEnd=function(t,e){this.nodes[t].push(e)},t.prototype.rootDelete=function(t){this.rootIds.splice(t,1)},t.prototype.nodeDeleteAtIndex=function(t,e){this.nodes[t].splice(e,1)},t.prototype.rootInsertAtStart=function(t){this.rootIds.unshift(t)},t.prototype.rootInsertAtEnd=function(t){this.rootIds.push(t)},t}();e.default=n},function(t,e,i){\"use strict\";var s=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,\"__esModule\",{value:!0});const n=i(59),r=i(95),o=i(130),a=i(55),h=i(14),l=i(19),c=i(120),u=i(68),d=i(79),f=i(129),m=i(78),p=s(i(1)),g=i(28),b=i(41),S=i(29),y=i(6),x=i(43),E=i(77),v=i(147);class _{constructor(t,e=b.OSMDOptions.OSMDOptionsStandard()){if(this.version=\"0.8.2-release\",this.zoom=1,this.zoomUpdated=!1,\"string\"==typeof t?this.container=document.getElementById(t):t&&\"appendChild\"in t&&(this.container=t),!this.container)throw new Error(\"Please pass a valid div container to OpenSheetMusicDisplay\");void 0===e.autoResize&&(e.autoResize=!0),this.backendType=b.BackendType.SVG,this.setOptions(e)}load(t){if(this.reset(),\"string\"==typeof t){const e=t,i=this;if(\"PK\u0003\u0004\"===e.substr(0,4))return p.default.debug(\"[OSMD] This is a zip file, unpack it first: \"+e),f.MXLHelper.MXLtoXMLstring(e).then(t=>i.load(t),t=>{throw p.default.debug(t),new Error(\"OpenSheetMusicDisplay: Invalid MXL file\")});if(\"\"===e.substr(0,3))return p.default.debug(\"[OSMD] UTF with BOM detected, truncate first three bytes and pass along: \"+e),i.load(e.substr(3));let s=e;if(/^\\s/.test(s)&&(s=s.trim()),s.substr(0,6).includes(\"<?xml\")){p.default.debug(\"[OSMD] Finally parsing XML content, length: \"+s.length),t=(new DOMParser).parseFromString(s,\"application/xml\")}else{if(s.length<2083)return p.default.debug(\"[OSMD] Retrieve the file at the given URL: \"+s),m.AJAX.ajax(s).then(t=>i.load(t),t=>{throw t});console.error(\"[OSMD] osmd.load(string): Could not process string. Did not find <?xml at beginning.\")}}if(!t||!t.nodeName)return Promise.reject(new Error(\"OpenSheetMusicDisplay: The document which was provided is invalid\"));const e=t,i=e.childNodes;let s;p.default.debug(\"[OSMD] load(), Document url: \"+e.URL);for(let t=0,e=i.length;t<e;t+=1){const e=i[t];if(e.nodeType===Node.ELEMENT_NODE&&\"score-partwise\"===e.nodeName.toLowerCase()){s=e;break}}if(!s)return console.error(\"Could not parse MusicXML, no valid partwise element found\"),Promise.reject(new Error(\"OpenSheetMusicDisplay: Document is not a valid 'partwise' MusicXML\"));const r=new n.IXmlElement(s),a=new o.MusicSheetReader(void 0,this.rules);return this.sheet=a.createMusicSheet(r,\"Untitled Score\"),void 0===this.sheet?Promise.reject(new Error(\"given music sheet was incomplete or could not be loaded.\")):(p.default.info(`[OSMD] Loaded sheet ${this.sheet.TitleString} successfully.`),this.needBackendUpdate=!0,this.updateGraphic(),Promise.resolve({}))}updateGraphic(){const t=new r.VexFlowMusicSheetCalculator(this.rules);this.graphic=new a.GraphicalMusicSheet(this.sheet,t),this.drawingParameters.drawCursors&&this.cursor&&this.cursor.init(this.sheet.MusicPartManager,this.graphic)}render(){if(!this.graphic)throw new Error(\"OpenSheetMusicDisplay: Before rendering a music sheet, please load a MusicXML file\");this.drawer&&this.drawer.clear();let t=this.container.offsetWidth;this.rules.RenderSingleHorizontalStaffline&&(t=32767),this.sheet.pageWidth=t/this.zoom/10,this.rules.PageFormat&&!this.rules.PageFormat.IsUndefined?(this.rules.PageHeight=this.sheet.pageWidth/this.rules.PageFormat.aspectRatio,p.default.debug(\"[OSMD] PageHeight: \"+this.rules.PageHeight)):(p.default.debug(\"[OSMD] endless/undefined pageformat, id: \"+this.rules.PageFormat.idString),this.rules.PageHeight=100001),this.graphic.reCalculate(),this.drawingParameters.drawCursors&&(this.graphic.Cursors.length=0),this.createOrRefreshRenderBackend(),this.needBackendUpdate=!1,this.drawer.setZoom(this.zoom),this.drawer.drawSheet(this.graphic),this.enableOrDisableCursor(this.drawingParameters.drawCursors),this.drawingParameters.drawCursors&&this.cursor&&this.cursor.update(),this.zoomUpdated=!1}createOrRefreshRenderBackend(){this.drawer&&this.drawer.Backends&&(this.drawer.Backends[0]&&this.drawer.Backends[0].removeAllChildrenFromContainer(this.container),this.drawer.Backends.clear()),this.drawingParameters.Rules=this.rules,this.drawer=new l.VexFlowMusicSheetDrawer(this.drawingParameters),this.drawer.drawableBoundingBoxElement=this.DrawBoundingBox,this.drawer.bottomLineVisible=this.drawBottomLine,this.drawer.skyLineVisible=this.drawSkyLine;let t,e=this.container.offsetWidth;this.rules.RenderSingleHorizontalStaffline&&(e=10*this.graphic.MusicPages[0].PositionAndShape.Size.width*this.zoom);for(const i of this.graphic.MusicPages){const s=this.createBackend(this.backendType,i),n=\" exceeds CanvasBackend limit of 32767. Cutting off score.\";s.getOSMDBackendType()===b.BackendType.Canvas&&e>32767&&(console.log(\"[OSMD] Warning: width of \"+e+n),e=32767),t=this.rules.PageFormat&&!this.rules.PageFormat.IsUndefined?e/this.rules.PageFormat.aspectRatio:(i.PositionAndShape.Size.height+15)*this.zoom*10,s.getOSMDBackendType()===b.BackendType.Canvas&&t>32767&&(console.log(\"[OSMD] Warning: height of \"+t+n),t=Math.min(t,32767)),s.resize(e,t),s.clear(),this.drawer.Backends.push(s)}}IsReadyToRender(){return void 0!==this.graphic}clear(){this.drawer.clear(),this.reset()}setOptions(t){if(this.rules||(this.rules=new S.EngravingRules),this.drawingParameters||(this.drawingParameters=new g.DrawingParameters,this.drawingParameters.Rules=this.rules),null==t)return void p.default.warn(\"warning: osmd.setOptions() called without an options parameter, has no effect.\\nexample usage: osmd.setOptions({drawCredits: false, drawPartNames: false})\");t.drawingParameters&&(this.drawingParameters.DrawingParametersEnum=g.DrawingParametersEnum[t.drawingParameters.toLowerCase()]);let e=!this.drawer||!this.drawer.Backends||this.drawer.Backends.length<1;if(void 0!==t.backend){const i=b.OSMDOptions.BackendTypeFromString(t.backend);e=e||this.backendType!==i,this.backendType=i}this.needBackendUpdate=e,void 0!==t.autoBeam&&(this.rules.AutoBeamNotes=t.autoBeam);const i=t.autoBeamOptions;if(i&&(void 0===i.maintain_stem_directions&&(i.maintain_stem_directions=!1),this.rules.AutoBeamOptions=i,i.groups&&i.groups.length))for(const t of i.groups)if(2!==t.length)throw new Error(\"Each fraction in autoBeamOptions.groups must be of length 2, e.g. [3,4] for beaming three fourths\");void 0!==t.percussionOneLineCutoff&&(this.rules.PercussionOneLineCutoff=t.percussionOneLineCutoff),0!==this.rules.PercussionOneLineCutoff&&void 0!==t.percussionForceVoicesOneLineCutoff&&(this.rules.PercussionForceVoicesOneLineCutoff=t.percussionForceVoicesOneLineCutoff),void 0!==t.alignRests&&(this.rules.AlignRests=t.alignRests),void 0!==t.coloringMode&&this.setColoringMode(t),void 0!==t.coloringEnabled&&(this.rules.ColoringEnabled=t.coloringEnabled),void 0!==t.colorStemsLikeNoteheads&&(this.rules.ColorStemsLikeNoteheads=t.colorStemsLikeNoteheads),t.disableCursor&&(this.drawingParameters.drawCursors=!1),t.drawHiddenNotes&&(this.drawingParameters.drawHiddenNotes=!0),void 0!==t.drawCredits&&(this.drawingParameters.DrawCredits=t.drawCredits),void 0!==t.drawComposer&&(this.drawingParameters.DrawComposer=t.drawComposer),void 0!==t.drawTitle&&(this.drawingParameters.DrawTitle=t.drawTitle),void 0!==t.drawSubtitle&&(this.drawingParameters.DrawSubtitle=t.drawSubtitle),void 0!==t.drawLyricist&&(this.drawingParameters.DrawLyricist=t.drawLyricist),void 0!==t.drawMetronomeMarks&&(this.rules.MetronomeMarksDrawn=t.drawMetronomeMarks),void 0!==t.drawPartNames&&(this.drawingParameters.DrawPartNames=t.drawPartNames,t.drawPartAbbreviations||(this.rules.RenderPartAbbreviations=t.drawPartNames)),void 0!==t.drawPartAbbreviations&&(this.rules.RenderPartAbbreviations=t.drawPartAbbreviations),!1===t.drawFingerings&&(this.rules.RenderFingerings=!1),void 0!==t.drawMeasureNumbers&&(this.rules.RenderMeasureNumbers=t.drawMeasureNumbers),void 0!==t.drawLyrics&&(this.rules.RenderLyrics=t.drawLyrics),void 0!==t.drawSlurs&&(this.rules.RenderSlurs=t.drawSlurs),void 0!==t.measureNumberInterval&&(this.rules.MeasureNumberLabelOffset=t.measureNumberInterval),void 0!==t.fingeringPosition&&(this.rules.FingeringPosition=y.AbstractExpression.PlacementEnumFromString(t.fingeringPosition)),void 0!==t.fingeringInsideStafflines&&(this.rules.FingeringInsideStafflines=t.fingeringInsideStafflines),void 0!==t.newSystemFromXML&&(this.rules.NewSystemAtXMLNewSystemAttribute=t.newSystemFromXML),void 0!==t.newPageFromXML&&(this.rules.NewPageAtXMLNewPageAttribute=t.newPageFromXML),void 0!==t.fillEmptyMeasuresWithWholeRest&&(this.rules.FillEmptyMeasuresWithWholeRest=t.fillEmptyMeasuresWithWholeRest),void 0!==t.followCursor&&(this.FollowCursor=t.followCursor),void 0!==t.setWantedStemDirectionByXml&&(this.rules.SetWantedStemDirectionByXml=t.setWantedStemDirectionByXml),t.defaultColorNotehead&&(this.rules.DefaultColorNotehead=t.defaultColorNotehead),t.defaultColorRest&&(this.rules.DefaultColorRest=t.defaultColorRest),t.defaultColorStem&&(this.rules.DefaultColorStem=t.defaultColorStem),t.defaultColorLabel&&(this.rules.DefaultColorLabel=t.defaultColorLabel),t.defaultColorTitle&&(this.rules.DefaultColorTitle=t.defaultColorTitle),t.defaultFontFamily&&(this.rules.DefaultFontFamily=t.defaultFontFamily),t.defaultFontStyle&&(this.rules.DefaultFontStyle=t.defaultFontStyle),t.drawUpToMeasureNumber&&(this.rules.MaxMeasureToDrawIndex=t.drawUpToMeasureNumber-1),t.drawFromMeasureNumber&&(this.rules.MinMeasureToDrawIndex=t.drawFromMeasureNumber-1),t.tupletsRatioed&&(this.rules.TupletsRatioed=!0),t.tupletsBracketed&&(this.rules.TupletsBracketed=!0),t.tripletsBracketed&&(this.rules.TripletsBracketed=!0),t.autoResize?(this.resizeHandlerAttached||this.autoResize(),this.autoResizeEnabled=!0):!1===t.autoResize&&(this.autoResizeEnabled=!1),void 0!==t.pageFormat&&this.setPageFormat(t.pageFormat),void 0!==t.pageBackgroundColor&&(this.rules.PageBackgroundColor=t.pageBackgroundColor),void 0!==t.renderSingleHorizontalStaffline&&(this.rules.RenderSingleHorizontalStaffline=t.renderSingleHorizontalStaffline)}setColoringMode(t){if(t.coloringMode===g.ColoringModes.XML)return void(this.rules.ColoringMode=g.ColoringModes.XML);const e=[E.NoteEnum.C,E.NoteEnum.D,E.NoteEnum.E,E.NoteEnum.F,E.NoteEnum.G,E.NoteEnum.A,E.NoteEnum.B,-1];let i;if(t.coloringMode===g.ColoringModes.CustomColorSet){if(!t.coloringSetCustom||8!==t.coloringSetCustom.length)throw new Error(\"Invalid amount of colors: With coloringModes.customColorSet, you have to provide a coloringSetCustom parameter with 8 strings (C to B, rest note).\");for(const e of t.coloringSetCustom){if(!/^\\#[0-9a-fA-F]{6}$/.test(e))throw new Error(\"One of the color strings in options.coloringSetCustom was not a valid HTML Hex color:\\n\"+e)}i=t.coloringSetCustom}else if(t.coloringMode===g.ColoringModes.AutoColoring){i=[];const t=Object.keys(v.AutoColorSet);for(let e=0;e<t.length;e++)i.push(v.AutoColorSet[t[e]])}const s=new x.Dictionary;for(let t=0;t<e.length;t++)s.setValue(e[t],i[t]);s.setValue(-1,i[7]),this.rules.ColoringSetCurrent=s,this.rules.ColoringMode=t.coloringMode}setLogLevel(t){switch(t){case\"trace\":p.default.setLevel(p.default.levels.TRACE);break;case\"debug\":p.default.setLevel(p.default.levels.DEBUG);break;case\"info\":p.default.setLevel(p.default.levels.INFO);break;case\"warn\":p.default.setLevel(p.default.levels.WARN);break;case\"error\":p.default.setLevel(p.default.levels.ERROR);break;default:p.default.warn(`Could not set log level to ${t}. Using warn instead.`),p.default.setLevel(p.default.levels.WARN)}}getLogLevel(){return p.default.getLevel()}reset(){this.drawingParameters.drawCursors&&this.cursor&&this.cursor.hide(),this.sheet=void 0,this.graphic=void 0,this.zoom=1}autoResize(){const t=this;this.handleResize(()=>{},()=>{var e;(null===(e=this.graphic)||void 0===e?void 0:e.GetCalculator)instanceof r.VexFlowMusicSheetCalculator&&(this.graphic.GetCalculator.beamsNeedUpdate=!0),t.IsReadyToRender()&&t.render()})}handleResize(t,e){let i,s=void 0;const n=this;function r(){n.AutoResizeEnabled&&(i=(new Date).getTime(),s||(t(),i=(new Date).getTime(),s=window.setTimeout(o,200)))}function o(){s=void 0,window.clearTimeout(s),(new Date).getTime()-i<200?s=window.setTimeout(o,200):e()}window.attachEvent?window.attachEvent(\"onresize\",r):window.addEventListener(\"resize\",r),this.resizeHandlerAttached=!0,window.setTimeout(t,0),window.setTimeout(e,1)}enableOrDisableCursor(t){var e,i,s,n;if(this.drawingParameters.drawCursors=t,t){const t=null===(e=this.cursor)||void 0===e?void 0:e.Hidden,r=null===(i=this.cursor)||void 0===i?void 0:i.Iterator;(null===(n=null===(s=this.drawer)||void 0===s?void 0:s.Backends)||void 0===n?void 0:n.length)>=1&&this.drawer.Backends[0].getRenderElement()&&(this.cursor=new d.Cursor(this.drawer.Backends[0].getRenderElement(),this)),this.sheet&&this.graphic&&this.cursor&&this.cursor.init(this.sheet.MusicPartManager,this.graphic),this.rules.RestoreCursorAfterRerender&&(this.cursor.hidden=t,r&&(this.cursor.iterator=r))}else{if(!this.cursor)return;this.cursor.hide()}}createBackend(t,e){let i;return i=void 0===t||t===b.BackendType.SVG?new c.SvgVexFlowBackend(this.rules):new u.CanvasVexFlowBackend(this.rules),i.graphicalMusicPage=e,i.initialize(this.container),i}static StringToPageFormat(t){let e=S.PageFormat.UndefinedPageFormat;if(t.match(\"^[0-9]+x[0-9]+$\")){const i=t.split(\"x\"),s=Number.parseInt(i[0],10),n=Number.parseInt(i[1],10);s>0&&s<32768&&n>0&&n<32768&&(e=new S.PageFormat(s,n,`customPageFormat${t}`))}return t=(t=(t=t.replace(\" \",\"_\")).replace(\"Landscape\",\"L\")).replace(\"Portrait\",\"P\"),_.PageFormatStandards.hasOwnProperty(t)?(e=_.PageFormatStandards[t],e):e}setPageFormat(t){const e=_.StringToPageFormat(t);this.needBackendUpdate=!e.Equals(this.rules.PageFormat),this.rules.PageFormat=e}setCustomPageFormat(t,e){if(t>0&&e>0){const i=new S.PageFormat(t,e);this.rules.PageFormat=i}}set DrawSkyLine(t){this.drawSkyLine=t,this.drawer&&(this.drawer.skyLineVisible=t)}get DrawSkyLine(){return this.drawer.skyLineVisible}set DrawBottomLine(t){this.drawBottomLine=t,this.drawer&&(this.drawer.bottomLineVisible=t)}get DrawBottomLine(){return this.drawer.bottomLineVisible}set DrawBoundingBox(t){this.drawBoundingBox=t,this.drawer.drawableBoundingBoxElement=t,this.render()}get DrawBoundingBox(){return this.drawBoundingBox}get AutoResizeEnabled(){return this.autoResizeEnabled}set AutoResizeEnabled(t){this.autoResizeEnabled=t}set Zoom(t){var e;this.zoom=t,this.zoomUpdated=!0,(null===(e=this.graphic)||void 0===e?void 0:e.GetCalculator)instanceof r.VexFlowMusicSheetCalculator&&(this.graphic.GetCalculator.beamsNeedUpdate=this.zoomUpdated)}set FollowCursor(t){this.followCursor=t}get FollowCursor(){return this.followCursor}set TransposeCalculator(t){h.MusicSheetCalculator.transposeCalculator=t}get TransposeCalculator(){return h.MusicSheetCalculator.transposeCalculator}get Sheet(){return this.sheet}get Drawer(){return this.drawer}get GraphicSheet(){return this.graphic}get DrawingParameters(){return this.drawingParameters}get EngravingRules(){return this.rules}get Version(){return this.version}}e.OpenSheetMusicDisplay=_,_.PageFormatStandards={A3_L:new S.PageFormat(420,297,\"A3_L\"),A3_P:new S.PageFormat(297,420,\"A3_P\"),A4_L:new S.PageFormat(297,210,\"A4_L\"),A4_P:new S.PageFormat(210,297,\"A4_P\"),A5_L:new S.PageFormat(210,148,\"A5_L\"),A5_P:new S.PageFormat(148,210,\"A5_P\"),A6_L:new S.PageFormat(148,105,\"A6_L\"),A6_P:new S.PageFormat(105,148,\"A6_P\"),Endless:S.PageFormat.UndefinedPageFormat,Letter_L:new S.PageFormat(279.4,215.9,\"Letter_L\"),Letter_P:new S.PageFormat(215.9,279.4,\"Letter_P\")}},function(t,e,i){\"use strict\";Object.defineProperty(e,\"__esModule\",{value:!0});const s=i(5);class n extends s.GraphicalObject{constructor(t){super(),this.parent=t}get Parent(){return this.parent}set Parent(t){this.parent=t}}e.AbstractGraphicalInstruction=n},function(t,e,i){\"use strict\";Object.defineProperty(e,\"__esModule\",{value:!0});e.GraphicalComment=class{constructor(t,e){this.label=t,this.settings=e}}},function(t,e,i){\"use strict\";Object.defineProperty(e,\"__esModule\",{value:!0});e.GraphicalMarkedArea=class{constructor(t,e,i,s){this.systemRectangle=t,this.labelRectangle=e,this.label=i,this.settings=s}}},function(t,e,i){\"use strict\";Object.defineProperty(e,\"__esModule\",{value:!0});const s=i(3),n=i(5);class r extends n.GraphicalObject{constructor(t,e,i,n){super(),this.boundingBox=new s.BoundingBox(i),this.boundingBox.RelativePosition=t,this.boundingBox.BorderRight=e.x-t.x,this.boundingBox.BorderBottom=e.y-t.y,this.style=n}}e.GraphicalRectangle=r},function(t,e,i){\"use strict\";Object.defineProperty(e,\"__esModule\",{value:!0});const s=i(4);class n{constructor(){this.matrix=[];for(let t=0;t<2;t++){this.matrix[t]=[];for(let e=0;e<2;e++)this.matrix[t][e]=0}}static getRotationMatrix(t){const e=new n,i=Math.cos(t),s=Math.sin(t);return e.matrix[0][0]=i,e.matrix[0][1]=-s,e.matrix[1][0]=s,e.matrix[1][1]=i,e}scalarMultiplication(t){for(let e=0;e<2;e++)for(let i=0;i<2;i++)this.matrix[e][i]*=t}getTransposeMatrix(){const t=new n;for(let e=0;e<2;e++)for(let i=0;i<2;i++)t.matrix[e][i]=this.matrix[i][e];return t}vectorMultiplication(t){const e=new s.PointF2D;return e.x=t.x*this.matrix[0][0]+t.y*this.matrix[0][1],e.y=t.x*this.matrix[1][0]+t.y*this.matrix[1][1],e}}e.Matrix2D=n},function(t,e,i){\"use strict\";Object.defineProperty(e,\"__esModule\",{value:!0});e.GraphicalStaffEntryLink=class{constructor(t){this.graphicalLinkedStaffEntries=[],this.staffEntryLink=t,this.initialize()}get GetStaffEntryLink(){return this.staffEntryLink}get GraphicalLinkedStaffEntries(){return this.graphicalLinkedStaffEntries}set GraphicalLinkedStaffEntries(t){this.graphicalLinkedStaffEntries=t}isFilled(){for(let t=0;t<this.graphicalLinkedStaffEntries.length;t++)if(!this.graphicalLinkedStaffEntries[t])return!1;return!0}getLinkedStaffEntriesGraphicalNotes(t){if(-1!==this.graphicalLinkedStaffEntries.indexOf(t)){const t=[];for(let e=0,i=this.graphicalLinkedStaffEntries.length;e<i;++e){const i=this.graphicalLinkedStaffEntries[e];for(const e of i.graphicalVoiceEntries)for(const i of e.notes)i.sourceNote.ParentStaffEntry.Link&&i.sourceNote.ParentVoiceEntry===this.staffEntryLink.GetVoiceEntry&&t.push(i)}return t}}initialize(){for(let t=0,e=this.staffEntryLink.LinkStaffEntries.length;t<e;++t)this.graphicalLinkedStaffEntries.push(void 0)}}},function(t,e,i){\"use strict\";Object.defineProperty(e,\"__esModule\",{value:!0});const s=i(5),n=i(21),r=i(4),o=i(3),a=i(20),h=i(24);class l extends s.GraphicalObject{constructor(t,e){super();const i=e,s=t.PositionAndShape.AbsolutePosition.y,l=h.CollectionUtil.last(t.StaffLines).PositionAndShape.RelativePosition.y+4;this.verticalLine=new a.GraphicalLine(new r.PointF2D(i,s),new r.PointF2D(i,s+l),.4,n.OutlineAndFillStyleEnum.SelectionSymbol);for(let e=0,n=t.StaffLines.length;e<n;++e){const n=t.StaffLines[e],o=new r.PointF2D(i,s+n.PositionAndShape.RelativePosition.y),a=new Array(3);o.y-=.2,a[0].x=o.x-3,a[0].y=o.y+1.2,a[1].x=o.x-2,a[1].y=o.y+.4,a[2].x=o.x-2,a[2].y=o.y+2,this.arrows.push(a);const h=new Array(8),l=.8;o.x-=.1,o.y+=.3;const c=.2;h[0].x=o.x-2,h[0].y=o.y+1.5-c,h[1].x=o.x-1,h[1].y=o.y+1.5-c,h[2].x=o.x-1,h[2].y=o.y+2.5,h[3].x=o.x-2,h[3].y=o.y+2.5,h[4].x=h[0].x,h[4].y=h[0].y-l,h[5].x=h[4].x+l+1,h[5].y=h[4].y,h[6].x=h[5].x,h[6].y=h[3].y+l,h[7].x=h[3].x,h[7].y=h[6].y,this.arrowlines.push(h)}this.boundingBox=new o.BoundingBox(this),this.boundingBox.AbsolutePosition=new r.PointF2D(i,s),this.boundingBox.BorderLeft=-.4,this.boundingBox.BorderRight=4,this.boundingBox.BorderBottom=l}}e.SelectionEndSymbol=l},function(t,e,i){\"use strict\";Object.defineProperty(e,\"__esModule\",{value:!0});const s=i(4),n=i(21),r=i(20),o=i(5),a=i(3),h=i(24);class l extends o.GraphicalObject{constructor(t,e){super();const i=e,o=t.PositionAndShape.AbsolutePosition.y,l=h.CollectionUtil.last(t.StaffLines).PositionAndShape.RelativePosition.y+4;this.verticalLine=new r.GraphicalLine(new s.PointF2D(i,o),new s.PointF2D(i,o+l),.4,n.OutlineAndFillStyleEnum.SelectionSymbol);for(let e=0,n=t.StaffLines.length;e<n;++e){const n=t.StaffLines[e],r=new s.PointF2D(i,o+n.PositionAndShape.RelativePosition.y),a=new Array(7);a[0].x=r.x+4,a[0].y=r.y+2,a[1].x=r.x+2.5,a[1].y=r.y+.5,a[2].x=r.x+2.5,a[2].y=r.y+1.3,a[3].x=r.x+1,a[3].y=r.y+1.3,a[4].x=r.x+1,a[4].y=r.y+2.7,a[5].x=r.x+2.5,a[5].y=r.y+2.7,a[6].x=r.x+2.5,a[6].y=r.y+3.5,this.arrows.push(a)}this.boundingBox=new a.BoundingBox(this),this.boundingBox.AbsolutePosition=new s.PointF2D(i,o),this.boundingBox.BorderLeft=-.4,this.boundingBox.BorderRight=4,this.boundingBox.BorderBottom=l}}e.SelectionStartSymbol=l},function(t,e,i){\"use strict\";function s(t){for(var i in t)e.hasOwnProperty(i)||(e[i]=t[i])}Object.defineProperty(e,\"__esModule\",{value:!0}),s(i(68)),s(i(120)),s(i(69)),s(i(67)),s(i(18)),s(i(70)),s(i(96)),s(i(121)),s(i(122)),s(i(71)),s(i(72)),s(i(95)),s(i(19)),s(i(97)),s(i(123)),s(i(167)),s(i(124)),s(i(125)),s(i(64)),s(i(73))},function(t,e,i){\"use strict\";Object.defineProperty(e,\"__esModule\",{value:!0}),function(t){t[t.p=0]=\"p\",t[t.f=1]=\"f\",t[t.s=2]=\"s\",t[t.z=3]=\"z\",t[t.m=4]=\"m\",t[t.r=5]=\"r\"}(e.DynamicExpressionSymbolEnum||(e.DynamicExpressionSymbolEnum={}))},function(t,e,i){\"use strict\";var s=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,\"__esModule\",{value:!0});const n=s(i(10));var r;!function(t){t[t.NEAR_HEAD=1]=\"NEAR_HEAD\",t[t.NEAR_TOP=2]=\"NEAR_TOP\"}(r=e.CurvePositionEnum||(e.CurvePositionEnum={}));class o{constructor(t){this.vfStartNote=void 0,this.vfEndNote=void 0,this.parentSlur=t}static createFromVexflowSlur(t){return new o(t.parentSlur)}get vfSlur(){return this.parentSlur}curve_Options(){return{cps:[{x:0,y:10},{x:0,y:10}],invert:!1,position:r.NEAR_TOP,position_end:r.NEAR_TOP,spacing:2,thickness:2,x_shift:0,y_shift:10}}createVexFlowCurve(){this.vfCurve=new n.default.Flow.Curve(this.vfStartNote,this.vfEndNote,void 0)}}e.VexFlowSlur=o},function(t,e,i){\"use strict\";function s(t){for(var i in t)e.hasOwnProperty(i)||(e[i]=t[i])}Object.defineProperty(e,\"__esModule\",{value:!0}),s(i(45)),s(i(8)),s(i(15)),s(i(26)),s(i(17)),s(i(74))},function(t,e,i){\"use strict\";var s=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,\"__esModule\",{value:!0});const n=s(i(10)),r=i(72),o=i(18),a=s(i(1));class h extends r.VexFlowMeasure{constructor(t,e,i){super(t,e,i)}resetLayout(){this.stave=new n.default.Flow.TabStave(0,0,0,{space_above_staff_ln:0,space_below_staff_ln:0}),this.updateInstructionWidth()}graphicalMeasureCreatedCalculations(){for(let t=0,e=this.staffEntries.length;t<e;++t){const e=this.staffEntries[t];for(const t of e.graphicalVoiceEntries)t.notes[0].sourceNote.isRest()?t.vfStaveNote=o.VexFlowConverter.GhostNote(t.notes[0].sourceNote.Length):t.vfStaveNote=o.VexFlowConverter.CreateTabNote(t)}this.finalizeTuplets();const t=this.getVoicesWithinMeasure();for(const e of t){if(!e)continue;this.vfVoices[e.VoiceId]=new n.default.Flow.Voice({beat_value:this.parentSourceMeasure.Duration.Denominator,num_beats:this.parentSourceMeasure.Duration.Numerator,resolution:n.default.Flow.RESOLUTION}).setMode(2);const t=this.getRestFilledVexFlowStaveNotesPerVoice(e);for(const i of t){if(i.parentVoiceEntry&&i.parentVoiceEntry.IsGrace&&!i.parentVoiceEntry.GraceAfterMainNote)continue;const t=i;if(0!==i.notes.length&&i.notes[0]&&i.notes[0].sourceNote.PrintObject){if(i.parentVoiceEntry&&this.rules.RenderFingerings&&this.createFingerings(i),i.parentVoiceEntry&&i.parentVoiceEntry.Arpeggio){const e=i.parentVoiceEntry.Arpeggio;if(i.notes&&i.notes.length>1){const i=o.VexFlowConverter.StrokeTypeFromArpeggioType(e.type),s=new n.default.Flow.Stroke(i,{all_voices:this.rules.ArpeggiosGoAcrossVoices});this.rules.RenderArpeggios&&t.vfStaveNote.addStroke(0,s)}else a.default.debug(`[OSMD] arpeggio in measure ${this.MeasureNumber} could not be drawn.\\n                        voice entry had less than two notes, arpeggio is likely between voice entries, not currently supported in Vexflow.`)}this.vfVoices[e.VoiceId].addTickable(t.vfStaveNote)}else this.vfVoices[e.VoiceId].addTickable(t.vfStaveNote)}}}}e.VexFlowTabMeasure=h},function(t,e,i){\"use strict\";Object.defineProperty(e,\"__esModule\",{value:!0});const s=i(39),n=i(128),r=i(70),o=i(43);e.VexflowStafflineNoteCalculator=class{constructor(t){this.instrumentVoiceMapping=new o.Dictionary,this.voiceIdx=0,this.rules=t}positionNote(t,e,i){if(!(t instanceof r.VexFlowGraphicalNote)||e.ClefType!==s.ClefEnum.percussion||t.sourceNote.isRest()||i>1||0===this.rules.PercussionOneLineCutoff)return t;const a=this.rules.PercussionForceVoicesOneLineCutoff,h=void 0!==a&&0!==a&&(-1===a||t.sourceNote.ParentStaff.ParentInstrument.SubInstruments.length<a),l=t.sourceNote.PlaybackInstrumentId,c=t.parentVoiceEntry.parentVoiceEntry.ParentVoice.VoiceId;let u=void 0;this.instrumentVoiceMapping.containsKey(l)?u=this.instrumentVoiceMapping.getValue(l):(u=new o.Dictionary,this.instrumentVoiceMapping.setValue(l,u));let d=n.NoteEnum.B,f=1;const m=t;if(!h)if(u.containsKey(c)){const t=u.getValue(c);d=t.note,f=t.octave}else{switch(this.voiceIdx%5){case 1:d=n.NoteEnum.A;break;case 2:d=n.NoteEnum.F;break;case 3:d=n.NoteEnum.D;break;case 4:d=n.NoteEnum.B,f=0;break;default:d=n.NoteEnum.C,f=2}this.voiceIdx++,u.setValue(c,{note:d,octave:f})}return m.setAccidental(new n.Pitch(d,f,n.AccidentalEnum.NONE)),t}}},function(t,e,i){\"use strict\";function s(t){for(var i in t)e.hasOwnProperty(i)||(e[i]=t[i])}Object.defineProperty(e,\"__esModule\",{value:!0}),s(i(129)),s(i(59))},function(t,e,i){(function(e,i,s){t.exports=function t(e,i,s){function n(o,a){if(!i[o]){if(!e[o]){if(r)return r(o,!0);var h=new Error(\"Cannot find module '\"+o+\"'\");throw h.code=\"MODULE_NOT_FOUND\",h}var l=i[o]={exports:{}};e[o][0].call(l.exports,(function(t){return n(e[o][1][t]||t)}),l,l.exports,t,e,i,s)}return i[o].exports}for(var r=!1,o=0;o<s.length;o++)n(s[o]);return n}({1:[function(t,e,i){\"use strict\";var s=t(\"./utils\"),n=t(\"./support\"),r=\"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=\";i.encode=function(t){for(var e,i,n,o,a,h,l,c=[],u=0,d=t.length,f=d,m=\"string\"!==s.getTypeOf(t);u<t.length;)f=d-u,n=m?(e=t[u++],i=u<d?t[u++]:0,u<d?t[u++]:0):(e=t.charCodeAt(u++),i=u<d?t.charCodeAt(u++):0,u<d?t.charCodeAt(u++):0),o=e>>2,a=(3&e)<<4|i>>4,h=1<f?(15&i)<<2|n>>6:64,l=2<f?63&n:64,c.push(r.charAt(o)+r.charAt(a)+r.charAt(h)+r.charAt(l));return c.join(\"\")},i.decode=function(t){var e,i,s,o,a,h,l=0,c=0,u=\"data:\";if(t.substr(0,u.length)===u)throw new Error(\"Invalid base64 input, it looks like a data url.\");var d,f=3*(t=t.replace(/[^A-Za-z0-9\\+\\/\\=]/g,\"\")).length/4;if(t.charAt(t.length-1)===r.charAt(64)&&f--,t.charAt(t.length-2)===r.charAt(64)&&f--,f%1!=0)throw new Error(\"Invalid base64 input, bad content length.\");for(d=n.uint8array?new Uint8Array(0|f):new Array(0|f);l<t.length;)e=r.indexOf(t.charAt(l++))<<2|(o=r.indexOf(t.charAt(l++)))>>4,i=(15&o)<<4|(a=r.indexOf(t.charAt(l++)))>>2,s=(3&a)<<6|(h=r.indexOf(t.charAt(l++))),d[c++]=e,64!==a&&(d[c++]=i),64!==h&&(d[c++]=s);return d}},{\"./support\":30,\"./utils\":32}],2:[function(t,e,i){\"use strict\";var s=t(\"./external\"),n=t(\"./stream/DataWorker\"),r=t(\"./stream/DataLengthProbe\"),o=t(\"./stream/Crc32Probe\");function a(t,e,i,s,n){this.compressedSize=t,this.uncompressedSize=e,this.crc32=i,this.compression=s,this.compressedContent=n}r=t(\"./stream/DataLengthProbe\"),a.prototype={getContentWorker:function(){var t=new n(s.Promise.resolve(this.compressedContent)).pipe(this.compression.uncompressWorker()).pipe(new r(\"data_length\")),e=this;return t.on(\"end\",(function(){if(this.streamInfo.data_length!==e.uncompressedSize)throw new Error(\"Bug : uncompressed data size mismatch\")})),t},getCompressedWorker:function(){return new n(s.Promise.resolve(this.compressedContent)).withStreamInfo(\"compressedSize\",this.compressedSize).withStreamInfo(\"uncompressedSize\",this.uncompressedSize).withStreamInfo(\"crc32\",this.crc32).withStreamInfo(\"compression\",this.compression)}},a.createWorkerFrom=function(t,e,i){return t.pipe(new o).pipe(new r(\"uncompressedSize\")).pipe(e.compressWorker(i)).pipe(new r(\"compressedSize\")).withStreamInfo(\"compression\",e)},e.exports=a},{\"./external\":6,\"./stream/Crc32Probe\":25,\"./stream/DataLengthProbe\":26,\"./stream/DataWorker\":27}],3:[function(t,e,i){\"use strict\";var s=t(\"./stream/GenericWorker\");i.STORE={magic:\"\\0\\0\",compressWorker:function(t){return new s(\"STORE compression\")},uncompressWorker:function(){return new s(\"STORE decompression\")}},i.DEFLATE=t(\"./flate\")},{\"./flate\":7,\"./stream/GenericWorker\":28}],4:[function(t,e,i){\"use strict\";var s=t(\"./utils\"),n=function(){for(var t,e=[],i=0;i<256;i++){t=i;for(var s=0;s<8;s++)t=1&t?3988292384^t>>>1:t>>>1;e[i]=t}return e}();e.exports=function(t,e){return void 0!==t&&t.length?\"string\"!==s.getTypeOf(t)?function(t,e,i,s){var r=n,o=0+i;t^=-1;for(var a=0;a<o;a++)t=t>>>8^r[255&(t^e[a])];return-1^t}(0|e,t,t.length):function(t,e,i,s){var r=n,o=0+i;t^=-1;for(var a=0;a<o;a++)t=t>>>8^r[255&(t^e.charCodeAt(a))];return-1^t}(0|e,t,t.length):0}},{\"./utils\":32}],5:[function(t,e,i){\"use strict\";i.base64=!1,i.binary=!1,i.dir=!1,i.createFolders=!0,i.date=null,i.compression=null,i.compressionOptions=null,i.comment=null,i.unixPermissions=null,i.dosPermissions=null},{}],6:[function(t,e,i){\"use strict\";var s;s=\"undefined\"!=typeof Promise?Promise:t(\"lie\"),e.exports={Promise:s}},{lie:37}],7:[function(t,e,i){\"use strict\";var s=\"undefined\"!=typeof Uint8Array&&\"undefined\"!=typeof Uint16Array&&\"undefined\"!=typeof Uint32Array,n=t(\"pako\"),r=t(\"./utils\"),o=t(\"./stream/GenericWorker\"),a=s?\"uint8array\":\"array\";function h(t,e){o.call(this,\"FlateWorker/\"+t),this._pako=null,this._pakoAction=t,this._pakoOptions=e,this.meta={}}i.magic=\"\\b\\0\",r.inherits(h,o),h.prototype.processChunk=function(t){this.meta=t.meta,null===this._pako&&this._createPako(),this._pako.push(r.transformTo(a,t.data),!1)},h.prototype.flush=function(){o.prototype.flush.call(this),null===this._pako&&this._createPako(),this._pako.push([],!0)},h.prototype.cleanUp=function(){o.prototype.cleanUp.call(this),this._pako=null},h.prototype._createPako=function(){this._pako=new n[this._pakoAction]({raw:!0,level:this._pakoOptions.level||-1});var t=this;this._pako.onData=function(e){t.push({data:e,meta:t.meta})}},i.compressWorker=function(t){return new h(\"Deflate\",t)},i.uncompressWorker=function(){return new h(\"Inflate\",{})}},{\"./stream/GenericWorker\":28,\"./utils\":32,pako:38}],8:[function(t,e,i){\"use strict\";function s(t,e){var i,s=\"\";for(i=0;i<e;i++)s+=String.fromCharCode(255&t),t>>>=8;return s}function n(t,e,i,n,o,c){var u,d,f=t.file,m=t.compression,p=c!==a.utf8encode,g=r.transformTo(\"string\",c(f.name)),b=r.transformTo(\"string\",a.utf8encode(f.name)),S=f.comment,y=r.transformTo(\"string\",c(S)),x=r.transformTo(\"string\",a.utf8encode(S)),E=b.length!==f.name.length,v=x.length!==S.length,_=\"\",w=\"\",M=\"\",T=f.dir,P=f.date,L={crc32:0,compressedSize:0,uncompressedSize:0};e&&!i||(L.crc32=t.crc32,L.compressedSize=t.compressedSize,L.uncompressedSize=t.uncompressedSize);var A=0;e&&(A|=8),p||!E&&!v||(A|=2048);var I=0,C=0;T&&(I|=16),\"UNIX\"===o?(C=798,I|=function(t,e){var i=t;return t||(i=e?16893:33204),(65535&i)<<16}(f.unixPermissions,T)):(C=20,I|=function(t){return 63&(t||0)}(f.dosPermissions)),u=P.getUTCHours(),u<<=6,u|=P.getUTCMinutes(),u<<=5,u|=P.getUTCSeconds()/2,d=P.getUTCFullYear()-1980,d<<=4,d|=P.getUTCMonth()+1,d<<=5,d|=P.getUTCDate(),E&&(w=s(1,1)+s(h(g),4)+b,_+=\"up\"+s(w.length,2)+w),v&&(M=s(1,1)+s(h(y),4)+x,_+=\"uc\"+s(M.length,2)+M);var R=\"\";return R+=\"\\n\\0\",R+=s(A,2),R+=m.magic,R+=s(u,2),R+=s(d,2),R+=s(L.crc32,4),R+=s(L.compressedSize,4),R+=s(L.uncompressedSize,4),R+=s(g.length,2),R+=s(_.length,2),{fileRecord:l.LOCAL_FILE_HEADER+R+g+_,dirRecord:l.CENTRAL_FILE_HEADER+s(C,2)+R+s(y.length,2)+\"\\0\\0\\0\\0\"+s(I,4)+s(n,4)+g+_+y}}var r=t(\"../utils\"),o=t(\"../stream/GenericWorker\"),a=t(\"../utf8\"),h=t(\"../crc32\"),l=t(\"../signature\");function c(t,e,i,s){o.call(this,\"ZipFileWorker\"),this.bytesWritten=0,this.zipComment=e,this.zipPlatform=i,this.encodeFileName=s,this.streamFiles=t,this.accumulate=!1,this.contentBuffer=[],this.dirRecords=[],this.currentSourceOffset=0,this.entriesCount=0,this.currentFile=null,this._sources=[]}r.inherits(c,o),c.prototype.push=function(t){var e=t.meta.percent||0,i=this.entriesCount,s=this._sources.length;this.accumulate?this.contentBuffer.push(t):(this.bytesWritten+=t.data.length,o.prototype.push.call(this,{data:t.data,meta:{currentFile:this.currentFile,percent:i?(e+100*(i-s-1))/i:100}}))},c.prototype.openedSource=function(t){this.currentSourceOffset=this.bytesWritten,this.currentFile=t.file.name;var e=this.streamFiles&&!t.file.dir;if(e){var i=n(t,e,!1,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);this.push({data:i.fileRecord,meta:{percent:0}})}else this.accumulate=!0},c.prototype.closedSource=function(t){this.accumulate=!1;var e=this.streamFiles&&!t.file.dir,i=n(t,e,!0,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);if(this.dirRecords.push(i.dirRecord),e)this.push({data:function(t){return l.DATA_DESCRIPTOR+s(t.crc32,4)+s(t.compressedSize,4)+s(t.uncompressedSize,4)}(t),meta:{percent:100}});else for(this.push({data:i.fileRecord,meta:{percent:0}});this.contentBuffer.length;)this.push(this.contentBuffer.shift());this.currentFile=null},c.prototype.flush=function(){for(var t=this.bytesWritten,e=0;e<this.dirRecords.length;e++)this.push({data:this.dirRecords[e],meta:{percent:100}});var i=this.bytesWritten-t,n=function(t,e,i,n,o){var a=r.transformTo(\"string\",o(n));return l.CENTRAL_DIRECTORY_END+\"\\0\\0\\0\\0\"+s(t,2)+s(t,2)+s(e,4)+s(i,4)+s(a.length,2)+a}(this.dirRecords.length,i,t,this.zipComment,this.encodeFileName);this.push({data:n,meta:{percent:100}})},c.prototype.prepareNextSource=function(){this.previous=this._sources.shift(),this.openedSource(this.previous.streamInfo),this.isPaused?this.previous.pause():this.previous.resume()},c.prototype.registerPrevious=function(t){this._sources.push(t);var e=this;return t.on(\"data\",(function(t){e.processChunk(t)})),t.on(\"end\",(function(){e.closedSource(e.previous.streamInfo),e._sources.length?e.prepareNextSource():e.end()})),t.on(\"error\",(function(t){e.error(t)})),this},c.prototype.resume=function(){return!!o.prototype.resume.call(this)&&(!this.previous&&this._sources.length?(this.prepareNextSource(),!0):this.previous||this._sources.length||this.generatedError?void 0:(this.end(),!0))},c.prototype.error=function(t){var e=this._sources;if(!o.prototype.error.call(this,t))return!1;for(var i=0;i<e.length;i++)try{e[i].error(t)}catch(t){}return!0},c.prototype.lock=function(){o.prototype.lock.call(this);for(var t=this._sources,e=0;e<t.length;e++)t[e].lock()},e.exports=c},{\"../crc32\":4,\"../signature\":23,\"../stream/GenericWorker\":28,\"../utf8\":31,\"../utils\":32}],9:[function(t,e,i){\"use strict\";var s=t(\"../compressions\"),n=t(\"./ZipFileWorker\");i.generateWorker=function(t,e,i){var r=new n(e.streamFiles,i,e.platform,e.encodeFileName),o=0;try{t.forEach((function(t,i){o++;var n=function(t,e){var i=t||e,n=s[i];if(!n)throw new Error(i+\" is not a valid compression method !\");return n}(i.options.compression,e.compression),a=i.options.compressionOptions||e.compressionOptions||{},h=i.dir,l=i.date;i._compressWorker(n,a).withStreamInfo(\"file\",{name:t,dir:h,date:l,comment:i.comment||\"\",unixPermissions:i.unixPermissions,dosPermissions:i.dosPermissions}).pipe(r)})),r.entriesCount=o}catch(t){r.error(t)}return r}},{\"../compressions\":3,\"./ZipFileWorker\":8}],10:[function(t,e,i){\"use strict\";function s(){if(!(this instanceof s))return new s;if(arguments.length)throw new Error(\"The constructor with parameters has been removed in JSZip 3.0, please check the upgrade guide.\");this.files={},this.comment=null,this.root=\"\",this.clone=function(){var t=new s;for(var e in this)\"function\"!=typeof this[e]&&(t[e]=this[e]);return t}}(s.prototype=t(\"./object\")).loadAsync=t(\"./load\"),s.support=t(\"./support\"),s.defaults=t(\"./defaults\"),s.version=\"3.4.0\",s.loadAsync=function(t,e){return(new s).loadAsync(t,e)},s.external=t(\"./external\"),e.exports=s},{\"./defaults\":5,\"./external\":6,\"./load\":11,\"./object\":15,\"./support\":30}],11:[function(t,e,i){\"use strict\";var s=t(\"./utils\"),n=t(\"./external\"),r=t(\"./utf8\"),o=(s=t(\"./utils\"),t(\"./zipEntries\")),a=t(\"./stream/Crc32Probe\"),h=t(\"./nodejsUtils\");function l(t){return new n.Promise((function(e,i){var s=t.decompressed.getContentWorker().pipe(new a);s.on(\"error\",(function(t){i(t)})).on(\"end\",(function(){s.streamInfo.crc32!==t.decompressed.crc32?i(new Error(\"Corrupted zip : CRC32 mismatch\")):e()})).resume()}))}e.exports=function(t,e){var i=this;return e=s.extend(e||{},{base64:!1,checkCRC32:!1,optimizedBinaryString:!1,createFolders:!1,decodeFileName:r.utf8decode}),h.isNode&&h.isStream(t)?n.Promise.reject(new Error(\"JSZip can't accept a stream when loading a zip file.\")):s.prepareContent(\"the loaded zip file\",t,!0,e.optimizedBinaryString,e.base64).then((function(t){var i=new o(e);return i.load(t),i})).then((function(t){var i=[n.Promise.resolve(t)],s=t.files;if(e.checkCRC32)for(var r=0;r<s.length;r++)i.push(l(s[r]));return n.Promise.all(i)})).then((function(t){for(var s=t.shift(),n=s.files,r=0;r<n.length;r++){var o=n[r];i.file(o.fileNameStr,o.decompressed,{binary:!0,optimizedBinaryString:!0,date:o.date,dir:o.dir,comment:o.fileCommentStr.length?o.fileCommentStr:null,unixPermissions:o.unixPermissions,dosPermissions:o.dosPermissions,createFolders:e.createFolders})}return s.zipComment.length&&(i.comment=s.zipComment),i}))}},{\"./external\":6,\"./nodejsUtils\":14,\"./stream/Crc32Probe\":25,\"./utf8\":31,\"./utils\":32,\"./zipEntries\":33}],12:[function(t,e,i){\"use strict\";var s=t(\"../utils\"),n=t(\"../stream/GenericWorker\");function r(t,e){n.call(this,\"Nodejs stream input adapter for \"+t),this._upstreamEnded=!1,this._bindStream(e)}s.inherits(r,n),r.prototype._bindStream=function(t){var e=this;(this._stream=t).pause(),t.on(\"data\",(function(t){e.push({data:t,meta:{percent:0}})})).on(\"error\",(function(t){e.isPaused?this.generatedError=t:e.error(t)})).on(\"end\",(function(){e.isPaused?e._upstreamEnded=!0:e.end()}))},r.prototype.pause=function(){return!!n.prototype.pause.call(this)&&(this._stream.pause(),!0)},r.prototype.resume=function(){return!!n.prototype.resume.call(this)&&(this._upstreamEnded?this.end():this._stream.resume(),!0)},e.exports=r},{\"../stream/GenericWorker\":28,\"../utils\":32}],13:[function(t,e,i){\"use strict\";var s=t(\"readable-stream\").Readable;function n(t,e,i){s.call(this,e),this._helper=t;var n=this;t.on(\"data\",(function(t,e){n.push(t)||n._helper.pause(),i&&i(e)})).on(\"error\",(function(t){n.emit(\"error\",t)})).on(\"end\",(function(){n.push(null)}))}t(\"../utils\").inherits(n,s),n.prototype._read=function(){this._helper.resume()},e.exports=n},{\"../utils\":32,\"readable-stream\":16}],14:[function(t,i,s){\"use strict\";i.exports={isNode:void 0!==e,newBufferFrom:function(t,i){if(e.from&&e.from!==Uint8Array.from)return e.from(t,i);if(\"number\"==typeof t)throw new Error('The \"data\" argument must not be a number');return new e(t,i)},allocBuffer:function(t){if(e.alloc)return e.alloc(t);var i=new e(t);return i.fill(0),i},isBuffer:function(t){return e.isBuffer(t)},isStream:function(t){return t&&\"function\"==typeof t.on&&\"function\"==typeof t.pause&&\"function\"==typeof t.resume}}},{}],15:[function(t,e,i){\"use strict\";function s(t,e,i){var s,n=r.getTypeOf(e),a=r.extend(i||{},h);a.date=a.date||new Date,null!==a.compression&&(a.compression=a.compression.toUpperCase()),\"string\"==typeof a.unixPermissions&&(a.unixPermissions=parseInt(a.unixPermissions,8)),a.unixPermissions&&16384&a.unixPermissions&&(a.dir=!0),a.dosPermissions&&16&a.dosPermissions&&(a.dir=!0),a.dir&&(t=p(t)),a.createFolders&&(s=m(t))&&g.call(this,s,!0);var u,b=\"string\"===n&&!1===a.binary&&!1===a.base64;i&&void 0!==i.binary||(a.binary=!b),(e instanceof l&&0===e.uncompressedSize||a.dir||!e||0===e.length)&&(a.base64=!1,a.binary=!0,e=\"\",a.compression=\"STORE\",n=\"string\"),u=e instanceof l||e instanceof o?e:d.isNode&&d.isStream(e)?new f(t,e):r.prepareContent(t,e,a.binary,a.optimizedBinaryString,a.base64);var S=new c(t,u,a);this.files[t]=S}var n=t(\"./utf8\"),r=t(\"./utils\"),o=t(\"./stream/GenericWorker\"),a=t(\"./stream/StreamHelper\"),h=t(\"./defaults\"),l=t(\"./compressedObject\"),c=t(\"./zipObject\"),u=t(\"./generate\"),d=t(\"./nodejsUtils\"),f=t(\"./nodejs/NodejsStreamInputAdapter\"),m=function(t){\"/\"===t.slice(-1)&&(t=t.substring(0,t.length-1));var e=t.lastIndexOf(\"/\");return 0<e?t.substring(0,e):\"\"},p=function(t){return\"/\"!==t.slice(-1)&&(t+=\"/\"),t},g=function(t,e){return e=void 0!==e?e:h.createFolders,t=p(t),this.files[t]||s.call(this,t,null,{dir:!0,createFolders:e}),this.files[t]};function b(t){return\"[object RegExp]\"===Object.prototype.toString.call(t)}var S={load:function(){throw new Error(\"This method has been removed in JSZip 3.0, please check the upgrade guide.\")},forEach:function(t){var e,i,s;for(e in this.files)this.files.hasOwnProperty(e)&&(s=this.files[e],(i=e.slice(this.root.length,e.length))&&e.slice(0,this.root.length)===this.root&&t(i,s))},filter:function(t){var e=[];return this.forEach((function(i,s){t(i,s)&&e.push(s)})),e},file:function(t,e,i){if(1!==arguments.length)return t=this.root+t,s.call(this,t,e,i),this;if(b(t)){var n=t;return this.filter((function(t,e){return!e.dir&&n.test(t)}))}var r=this.files[this.root+t];return r&&!r.dir?r:null},folder:function(t){if(!t)return this;if(b(t))return this.filter((function(e,i){return i.dir&&t.test(e)}));var e=this.root+t,i=g.call(this,e),s=this.clone();return s.root=i.name,s},remove:function(t){t=this.root+t;var e=this.files[t];if(e||(\"/\"!==t.slice(-1)&&(t+=\"/\"),e=this.files[t]),e&&!e.dir)delete this.files[t];else for(var i=this.filter((function(e,i){return i.name.slice(0,t.length)===t})),s=0;s<i.length;s++)delete this.files[i[s].name];return this},generate:function(t){throw new Error(\"This method has been removed in JSZip 3.0, please check the upgrade guide.\")},generateInternalStream:function(t){var e,i={};try{if((i=r.extend(t||{},{streamFiles:!1,compression:\"STORE\",compressionOptions:null,type:\"\",platform:\"DOS\",comment:null,mimeType:\"application/zip\",encodeFileName:n.utf8encode})).type=i.type.toLowerCase(),i.compression=i.compression.toUpperCase(),\"binarystring\"===i.type&&(i.type=\"string\"),!i.type)throw new Error(\"No output type specified.\");r.checkSupport(i.type),\"darwin\"!==i.platform&&\"freebsd\"!==i.platform&&\"linux\"!==i.platform&&\"sunos\"!==i.platform||(i.platform=\"UNIX\"),\"win32\"===i.platform&&(i.platform=\"DOS\");var s=i.comment||this.comment||\"\";e=u.generateWorker(this,i,s)}catch(t){(e=new o(\"error\")).error(t)}return new a(e,i.type||\"string\",i.mimeType)},generateAsync:function(t,e){return this.generateInternalStream(t).accumulate(e)},generateNodeStream:function(t,e){return(t=t||{}).type||(t.type=\"nodebuffer\"),this.generateInternalStream(t).toNodejsStream(e)}};e.exports=S},{\"./compressedObject\":2,\"./defaults\":5,\"./generate\":9,\"./nodejs/NodejsStreamInputAdapter\":12,\"./nodejsUtils\":14,\"./stream/GenericWorker\":28,\"./stream/StreamHelper\":29,\"./utf8\":31,\"./utils\":32,\"./zipObject\":35}],16:[function(t,e,i){e.exports=t(\"stream\")},{stream:void 0}],17:[function(t,e,i){\"use strict\";var s=t(\"./DataReader\");function n(t){s.call(this,t);for(var e=0;e<this.data.length;e++)t[e]=255&t[e]}t(\"../utils\").inherits(n,s),n.prototype.byteAt=function(t){return this.data[this.zero+t]},n.prototype.lastIndexOfSignature=function(t){for(var e=t.charCodeAt(0),i=t.charCodeAt(1),s=t.charCodeAt(2),n=t.charCodeAt(3),r=this.length-4;0<=r;--r)if(this.data[r]===e&&this.data[r+1]===i&&this.data[r+2]===s&&this.data[r+3]===n)return r-this.zero;return-1},n.prototype.readAndCheckSignature=function(t){var e=t.charCodeAt(0),i=t.charCodeAt(1),s=t.charCodeAt(2),n=t.charCodeAt(3),r=this.readData(4);return e===r[0]&&i===r[1]&&s===r[2]&&n===r[3]},n.prototype.readData=function(t){if(this.checkOffset(t),0===t)return[];var e=this.data.slice(this.zero+this.index,this.zero+this.index+t);return this.index+=t,e},e.exports=n},{\"../utils\":32,\"./DataReader\":18}],18:[function(t,e,i){\"use strict\";var s=t(\"../utils\");function n(t){this.data=t,this.length=t.length,this.index=0,this.zero=0}n.prototype={checkOffset:function(t){this.checkIndex(this.index+t)},checkIndex:function(t){if(this.length<this.zero+t||t<0)throw new Error(\"End of data reached (data length = \"+this.length+\", asked index = \"+t+\"). Corrupted zip ?\")},setIndex:function(t){this.checkIndex(t),this.index=t},skip:function(t){this.setIndex(this.index+t)},byteAt:function(t){},readInt:function(t){var e,i=0;for(this.checkOffset(t),e=this.index+t-1;e>=this.index;e--)i=(i<<8)+this.byteAt(e);return this.index+=t,i},readString:function(t){return s.transformTo(\"string\",this.readData(t))},readData:function(t){},lastIndexOfSignature:function(t){},readAndCheckSignature:function(t){},readDate:function(){var t=this.readInt(4);return new Date(Date.UTC(1980+(t>>25&127),(t>>21&15)-1,t>>16&31,t>>11&31,t>>5&63,(31&t)<<1))}},e.exports=n},{\"../utils\":32}],19:[function(t,e,i){\"use strict\";var s=t(\"./Uint8ArrayReader\");function n(t){s.call(this,t)}t(\"../utils\").inherits(n,s),n.prototype.readData=function(t){this.checkOffset(t);var e=this.data.slice(this.zero+this.index,this.zero+this.index+t);return this.index+=t,e},e.exports=n},{\"../utils\":32,\"./Uint8ArrayReader\":21}],20:[function(t,e,i){\"use strict\";var s=t(\"./DataReader\");function n(t){s.call(this,t)}t(\"../utils\").inherits(n,s),n.prototype.byteAt=function(t){return this.data.charCodeAt(this.zero+t)},n.prototype.lastIndexOfSignature=function(t){return this.data.lastIndexOf(t)-this.zero},n.prototype.readAndCheckSignature=function(t){return t===this.readData(4)},n.prototype.readData=function(t){this.checkOffset(t);var e=this.data.slice(this.zero+this.index,this.zero+this.index+t);return this.index+=t,e},e.exports=n},{\"../utils\":32,\"./DataReader\":18}],21:[function(t,e,i){\"use strict\";var s=t(\"./ArrayReader\");function n(t){s.call(this,t)}t(\"../utils\").inherits(n,s),n.prototype.readData=function(t){if(this.checkOffset(t),0===t)return new Uint8Array(0);var e=this.data.subarray(this.zero+this.index,this.zero+this.index+t);return this.index+=t,e},e.exports=n},{\"../utils\":32,\"./ArrayReader\":17}],22:[function(t,e,i){\"use strict\";var s=t(\"../utils\"),n=t(\"../support\"),r=t(\"./ArrayReader\"),o=t(\"./StringReader\"),a=t(\"./NodeBufferReader\"),h=t(\"./Uint8ArrayReader\");e.exports=function(t){var e=s.getTypeOf(t);return s.checkSupport(e),\"string\"!==e||n.uint8array?\"nodebuffer\"===e?new a(t):n.uint8array?new h(s.transformTo(\"uint8array\",t)):new r(s.transformTo(\"array\",t)):new o(t)}},{\"../support\":30,\"../utils\":32,\"./ArrayReader\":17,\"./NodeBufferReader\":19,\"./StringReader\":20,\"./Uint8ArrayReader\":21}],23:[function(t,e,i){\"use strict\";i.LOCAL_FILE_HEADER=\"PK\u0003\u0004\",i.CENTRAL_FILE_HEADER=\"PK\u0001\u0002\",i.CENTRAL_DIRECTORY_END=\"PK\u0005\u0006\",i.ZIP64_CENTRAL_DIRECTORY_LOCATOR=\"PK\u0006\u0007\",i.ZIP64_CENTRAL_DIRECTORY_END=\"PK\u0006\u0006\",i.DATA_DESCRIPTOR=\"PK\u0007\\b\"},{}],24:[function(t,e,i){\"use strict\";var s=t(\"./GenericWorker\"),n=t(\"../utils\");function r(t){s.call(this,\"ConvertWorker to \"+t),this.destType=t}n.inherits(r,s),r.prototype.processChunk=function(t){this.push({data:n.transformTo(this.destType,t.data),meta:t.meta})},e.exports=r},{\"../utils\":32,\"./GenericWorker\":28}],25:[function(t,e,i){\"use strict\";var s=t(\"./GenericWorker\"),n=t(\"../crc32\");function r(){s.call(this,\"Crc32Probe\"),this.withStreamInfo(\"crc32\",0)}t(\"../utils\").inherits(r,s),r.prototype.processChunk=function(t){this.streamInfo.crc32=n(t.data,this.streamInfo.crc32||0),this.push(t)},e.exports=r},{\"../crc32\":4,\"../utils\":32,\"./GenericWorker\":28}],26:[function(t,e,i){\"use strict\";var s=t(\"../utils\"),n=t(\"./GenericWorker\");function r(t){n.call(this,\"DataLengthProbe for \"+t),this.propName=t,this.withStreamInfo(t,0)}s.inherits(r,n),r.prototype.processChunk=function(t){if(t){var e=this.streamInfo[this.propName]||0;this.streamInfo[this.propName]=e+t.data.length}n.prototype.processChunk.call(this,t)},e.exports=r},{\"../utils\":32,\"./GenericWorker\":28}],27:[function(t,e,i){\"use strict\";var s=t(\"../utils\"),n=t(\"./GenericWorker\");function r(t){n.call(this,\"DataWorker\");var e=this;this.dataIsReady=!1,this.index=0,this.max=0,this.data=null,this.type=\"\",this._tickScheduled=!1,t.then((function(t){e.dataIsReady=!0,e.data=t,e.max=t&&t.length||0,e.type=s.getTypeOf(t),e.isPaused||e._tickAndRepeat()}),(function(t){e.error(t)}))}s.inherits(r,n),r.prototype.cleanUp=function(){n.prototype.cleanUp.call(this),this.data=null},r.prototype.resume=function(){return!!n.prototype.resume.call(this)&&(!this._tickScheduled&&this.dataIsReady&&(this._tickScheduled=!0,s.delay(this._tickAndRepeat,[],this)),!0)},r.prototype._tickAndRepeat=function(){this._tickScheduled=!1,this.isPaused||this.isFinished||(this._tick(),this.isFinished||(s.delay(this._tickAndRepeat,[],this),this._tickScheduled=!0))},r.prototype._tick=function(){if(this.isPaused||this.isFinished)return!1;var t=null,e=Math.min(this.max,this.index+16384);if(this.index>=this.max)return this.end();switch(this.type){case\"string\":t=this.data.substring(this.index,e);break;case\"uint8array\":t=this.data.subarray(this.index,e);break;case\"array\":case\"nodebuffer\":t=this.data.slice(this.index,e)}return this.index=e,this.push({data:t,meta:{percent:this.max?this.index/this.max*100:0}})},e.exports=r},{\"../utils\":32,\"./GenericWorker\":28}],28:[function(t,e,i){\"use strict\";function s(t){this.name=t||\"default\",this.streamInfo={},this.generatedError=null,this.extraStreamInfo={},this.isPaused=!0,this.isFinished=!1,this.isLocked=!1,this._listeners={data:[],end:[],error:[]},this.previous=null}s.prototype={push:function(t){this.emit(\"data\",t)},end:function(){if(this.isFinished)return!1;this.flush();try{this.emit(\"end\"),this.cleanUp(),this.isFinished=!0}catch(t){this.emit(\"error\",t)}return!0},error:function(t){return!this.isFinished&&(this.isPaused?this.generatedError=t:(this.isFinished=!0,this.emit(\"error\",t),this.previous&&this.previous.error(t),this.cleanUp()),!0)},on:function(t,e){return this._listeners[t].push(e),this},cleanUp:function(){this.streamInfo=this.generatedError=this.extraStreamInfo=null,this._listeners=[]},emit:function(t,e){if(this._listeners[t])for(var i=0;i<this._listeners[t].length;i++)this._listeners[t][i].call(this,e)},pipe:function(t){return t.registerPrevious(this)},registerPrevious:function(t){if(this.isLocked)throw new Error(\"The stream '\"+this+\"' has already been used.\");this.streamInfo=t.streamInfo,this.mergeStreamInfo(),this.previous=t;var e=this;return t.on(\"data\",(function(t){e.processChunk(t)})),t.on(\"end\",(function(){e.end()})),t.on(\"error\",(function(t){e.error(t)})),this},pause:function(){return!this.isPaused&&!this.isFinished&&(this.isPaused=!0,this.previous&&this.previous.pause(),!0)},resume:function(){if(!this.isPaused||this.isFinished)return!1;var t=this.isPaused=!1;return this.generatedError&&(this.error(this.generatedError),t=!0),this.previous&&this.previous.resume(),!t},flush:function(){},processChunk:function(t){this.push(t)},withStreamInfo:function(t,e){return this.extraStreamInfo[t]=e,this.mergeStreamInfo(),this},mergeStreamInfo:function(){for(var t in this.extraStreamInfo)this.extraStreamInfo.hasOwnProperty(t)&&(this.streamInfo[t]=this.extraStreamInfo[t])},lock:function(){if(this.isLocked)throw new Error(\"The stream '\"+this+\"' has already been used.\");this.isLocked=!0,this.previous&&this.previous.lock()},toString:function(){var t=\"Worker \"+this.name;return this.previous?this.previous+\" -> \"+t:t}},e.exports=s},{}],29:[function(t,i,s){\"use strict\";var n=t(\"../utils\"),r=t(\"./ConvertWorker\"),o=t(\"./GenericWorker\"),a=t(\"../base64\"),h=t(\"../support\"),l=t(\"../external\"),c=null;if(h.nodestream)try{c=t(\"../nodejs/NodejsStreamOutputAdapter\")}catch(t){}function u(t,e,i){var s=e;switch(e){case\"blob\":case\"arraybuffer\":s=\"uint8array\";break;case\"base64\":s=\"string\"}try{this._internalType=s,this._outputType=e,this._mimeType=i,n.checkSupport(s),this._worker=t.pipe(new r(s)),t.lock()}catch(t){this._worker=new o(\"error\"),this._worker.error(t)}}u.prototype={accumulate:function(t){return function(t,i){return new l.Promise((function(s,r){var o=[],h=t._internalType,l=t._outputType,c=t._mimeType;t.on(\"data\",(function(t,e){o.push(t),i&&i(e)})).on(\"error\",(function(t){o=[],r(t)})).on(\"end\",(function(){try{var t=function(t,e,i){switch(t){case\"blob\":return n.newBlob(n.transformTo(\"arraybuffer\",e),i);case\"base64\":return a.encode(e);default:return n.transformTo(t,e)}}(l,function(t,i){var s,n=0,r=null,o=0;for(s=0;s<i.length;s++)o+=i[s].length;switch(t){case\"string\":return i.join(\"\");case\"array\":return Array.prototype.concat.apply([],i);case\"uint8array\":for(r=new Uint8Array(o),s=0;s<i.length;s++)r.set(i[s],n),n+=i[s].length;return r;case\"nodebuffer\":return e.concat(i);default:throw new Error(\"concat : unsupported type '\"+t+\"'\")}}(h,o),c);s(t)}catch(t){r(t)}o=[]})).resume()}))}(this,t)},on:function(t,e){var i=this;return\"data\"===t?this._worker.on(t,(function(t){e.call(i,t.data,t.meta)})):this._worker.on(t,(function(){n.delay(e,arguments,i)})),this},resume:function(){return n.delay(this._worker.resume,[],this._worker),this},pause:function(){return this._worker.pause(),this},toNodejsStream:function(t){if(n.checkSupport(\"nodestream\"),\"nodebuffer\"!==this._outputType)throw new Error(this._outputType+\" is not supported by this method\");return new c(this,{objectMode:\"nodebuffer\"!==this._outputType},t)}},i.exports=u},{\"../base64\":1,\"../external\":6,\"../nodejs/NodejsStreamOutputAdapter\":13,\"../support\":30,\"../utils\":32,\"./ConvertWorker\":24,\"./GenericWorker\":28}],30:[function(t,i,s){\"use strict\";if(s.base64=!0,s.array=!0,s.string=!0,s.arraybuffer=\"undefined\"!=typeof ArrayBuffer&&\"undefined\"!=typeof Uint8Array,s.nodebuffer=void 0!==e,s.uint8array=\"undefined\"!=typeof Uint8Array,\"undefined\"==typeof ArrayBuffer)s.blob=!1;else{var n=new ArrayBuffer(0);try{s.blob=0===new Blob([n],{type:\"application/zip\"}).size}catch(t){try{var r=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);r.append(n),s.blob=0===r.getBlob(\"application/zip\").size}catch(t){s.blob=!1}}}try{s.nodestream=!!t(\"readable-stream\").Readable}catch(t){s.nodestream=!1}},{\"readable-stream\":16}],31:[function(t,e,i){\"use strict\";for(var s=t(\"./utils\"),n=t(\"./support\"),r=t(\"./nodejsUtils\"),o=t(\"./stream/GenericWorker\"),a=new Array(256),h=0;h<256;h++)a[h]=252<=h?6:248<=h?5:240<=h?4:224<=h?3:192<=h?2:1;function l(){o.call(this,\"utf-8 decode\"),this.leftOver=null}function c(){o.call(this,\"utf-8 encode\")}a[254]=a[254]=1,i.utf8encode=function(t){return n.nodebuffer?r.newBufferFrom(t,\"utf-8\"):function(t){var e,i,s,r,o,a=t.length,h=0;for(r=0;r<a;r++)55296==(64512&(i=t.charCodeAt(r)))&&r+1<a&&56320==(64512&(s=t.charCodeAt(r+1)))&&(i=65536+(i-55296<<10)+(s-56320),r++),h+=i<128?1:i<2048?2:i<65536?3:4;for(e=n.uint8array?new Uint8Array(h):new Array(h),r=o=0;o<h;r++)55296==(64512&(i=t.charCodeAt(r)))&&r+1<a&&56320==(64512&(s=t.charCodeAt(r+1)))&&(i=65536+(i-55296<<10)+(s-56320),r++),i<128?e[o++]=i:(i<2048?e[o++]=192|i>>>6:(i<65536?e[o++]=224|i>>>12:(e[o++]=240|i>>>18,e[o++]=128|i>>>12&63),e[o++]=128|i>>>6&63),e[o++]=128|63&i);return e}(t)},i.utf8decode=function(t){return n.nodebuffer?s.transformTo(\"nodebuffer\",t).toString(\"utf-8\"):function(t){var e,i,n,r,o=t.length,h=new Array(2*o);for(e=i=0;e<o;)if((n=t[e++])<128)h[i++]=n;else if(4<(r=a[n]))h[i++]=65533,e+=r-1;else{for(n&=2===r?31:3===r?15:7;1<r&&e<o;)n=n<<6|63&t[e++],r--;1<r?h[i++]=65533:n<65536?h[i++]=n:(n-=65536,h[i++]=55296|n>>10&1023,h[i++]=56320|1023&n)}return h.length!==i&&(h.subarray?h=h.subarray(0,i):h.length=i),s.applyFromCharCode(h)}(t=s.transformTo(n.uint8array?\"uint8array\":\"array\",t))},s.inherits(l,o),l.prototype.processChunk=function(t){var e=s.transformTo(n.uint8array?\"uint8array\":\"array\",t.data);if(this.leftOver&&this.leftOver.length){if(n.uint8array){var r=e;(e=new Uint8Array(r.length+this.leftOver.length)).set(this.leftOver,0),e.set(r,this.leftOver.length)}else e=this.leftOver.concat(e);this.leftOver=null}var o=function(t,e){var i;for((e=e||t.length)>t.length&&(e=t.length),i=e-1;0<=i&&128==(192&t[i]);)i--;return i<0||0===i?e:i+a[t[i]]>e?i:e}(e),h=e;o!==e.length&&(n.uint8array?(h=e.subarray(0,o),this.leftOver=e.subarray(o,e.length)):(h=e.slice(0,o),this.leftOver=e.slice(o,e.length))),this.push({data:i.utf8decode(h),meta:t.meta})},l.prototype.flush=function(){this.leftOver&&this.leftOver.length&&(this.push({data:i.utf8decode(this.leftOver),meta:{}}),this.leftOver=null)},i.Utf8DecodeWorker=l,s.inherits(c,o),c.prototype.processChunk=function(t){this.push({data:i.utf8encode(t.data),meta:t.meta})},i.Utf8EncodeWorker=c},{\"./nodejsUtils\":14,\"./stream/GenericWorker\":28,\"./support\":30,\"./utils\":32}],32:[function(t,e,i){\"use strict\";var s=t(\"./support\"),n=t(\"./base64\"),r=t(\"./nodejsUtils\"),o=t(\"set-immediate-shim\"),a=t(\"./external\");function h(t){return t}function l(t,e){for(var i=0;i<t.length;++i)e[i]=255&t.charCodeAt(i);return e}i.newBlob=function(t,e){i.checkSupport(\"blob\");try{return new Blob([t],{type:e})}catch(i){try{var s=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);return s.append(t),s.getBlob(e)}catch(t){throw new Error(\"Bug : can't construct the Blob.\")}}};var c={stringifyByChunk:function(t,e,i){var s=[],n=0,r=t.length;if(r<=i)return String.fromCharCode.apply(null,t);for(;n<r;)\"array\"===e||\"nodebuffer\"===e?s.push(String.fromCharCode.apply(null,t.slice(n,Math.min(n+i,r)))):s.push(String.fromCharCode.apply(null,t.subarray(n,Math.min(n+i,r)))),n+=i;return s.join(\"\")},stringifyByChar:function(t){for(var e=\"\",i=0;i<t.length;i++)e+=String.fromCharCode(t[i]);return e},applyCanBeUsed:{uint8array:function(){try{return s.uint8array&&1===String.fromCharCode.apply(null,new Uint8Array(1)).length}catch(t){return!1}}(),nodebuffer:function(){try{return s.nodebuffer&&1===String.fromCharCode.apply(null,r.allocBuffer(1)).length}catch(t){return!1}}()}};function u(t){var e=65536,s=i.getTypeOf(t),n=!0;if(\"uint8array\"===s?n=c.applyCanBeUsed.uint8array:\"nodebuffer\"===s&&(n=c.applyCanBeUsed.nodebuffer),n)for(;1<e;)try{return c.stringifyByChunk(t,s,e)}catch(t){e=Math.floor(e/2)}return c.stringifyByChar(t)}function d(t,e){for(var i=0;i<t.length;i++)e[i]=t[i];return e}i.applyFromCharCode=u;var f={};f.string={string:h,array:function(t){return l(t,new Array(t.length))},arraybuffer:function(t){return f.string.uint8array(t).buffer},uint8array:function(t){return l(t,new Uint8Array(t.length))},nodebuffer:function(t){return l(t,r.allocBuffer(t.length))}},f.array={string:u,array:h,arraybuffer:function(t){return new Uint8Array(t).buffer},uint8array:function(t){return new Uint8Array(t)},nodebuffer:function(t){return r.newBufferFrom(t)}},f.arraybuffer={string:function(t){return u(new Uint8Array(t))},array:function(t){return d(new Uint8Array(t),new Array(t.byteLength))},arraybuffer:h,uint8array:function(t){return new Uint8Array(t)},nodebuffer:function(t){return r.newBufferFrom(new Uint8Array(t))}},f.uint8array={string:u,array:function(t){return d(t,new Array(t.length))},arraybuffer:function(t){return t.buffer},uint8array:h,nodebuffer:function(t){return r.newBufferFrom(t)}},f.nodebuffer={string:u,array:function(t){return d(t,new Array(t.length))},arraybuffer:function(t){return f.nodebuffer.uint8array(t).buffer},uint8array:function(t){return d(t,new Uint8Array(t.length))},nodebuffer:h},i.transformTo=function(t,e){if(e=e||\"\",!t)return e;i.checkSupport(t);var s=i.getTypeOf(e);return f[s][t](e)},i.getTypeOf=function(t){return\"string\"==typeof t?\"string\":\"[object Array]\"===Object.prototype.toString.call(t)?\"array\":s.nodebuffer&&r.isBuffer(t)?\"nodebuffer\":s.uint8array&&t instanceof Uint8Array?\"uint8array\":s.arraybuffer&&t instanceof ArrayBuffer?\"arraybuffer\":void 0},i.checkSupport=function(t){if(!s[t.toLowerCase()])throw new Error(t+\" is not supported by this platform\")},i.MAX_VALUE_16BITS=65535,i.MAX_VALUE_32BITS=-1,i.pretty=function(t){var e,i,s=\"\";for(i=0;i<(t||\"\").length;i++)s+=\"\\\\x\"+((e=t.charCodeAt(i))<16?\"0\":\"\")+e.toString(16).toUpperCase();return s},i.delay=function(t,e,i){o((function(){t.apply(i||null,e||[])}))},i.inherits=function(t,e){function i(){}i.prototype=e.prototype,t.prototype=new i},i.extend=function(){var t,e,i={};for(t=0;t<arguments.length;t++)for(e in arguments[t])arguments[t].hasOwnProperty(e)&&void 0===i[e]&&(i[e]=arguments[t][e]);return i},i.prepareContent=function(t,e,r,o,h){return a.Promise.resolve(e).then((function(t){return s.blob&&(t instanceof Blob||-1!==[\"[object File]\",\"[object Blob]\"].indexOf(Object.prototype.toString.call(t)))&&\"undefined\"!=typeof FileReader?new a.Promise((function(e,i){var s=new FileReader;s.onload=function(t){e(t.target.result)},s.onerror=function(t){i(t.target.error)},s.readAsArrayBuffer(t)})):t})).then((function(e){var c=i.getTypeOf(e);return c?(\"arraybuffer\"===c?e=i.transformTo(\"uint8array\",e):\"string\"===c&&(h?e=n.decode(e):r&&!0!==o&&(e=function(t){return l(t,s.uint8array?new Uint8Array(t.length):new Array(t.length))}(e))),e):a.Promise.reject(new Error(\"Can't read the data of '\"+t+\"'. Is it in a supported JavaScript type (String, Blob, ArrayBuffer, etc) ?\"))}))}},{\"./base64\":1,\"./external\":6,\"./nodejsUtils\":14,\"./support\":30,\"set-immediate-shim\":54}],33:[function(t,e,i){\"use strict\";var s=t(\"./reader/readerFor\"),n=t(\"./utils\"),r=t(\"./signature\"),o=t(\"./zipEntry\"),a=(t(\"./utf8\"),t(\"./support\"));function h(t){this.files=[],this.loadOptions=t}h.prototype={checkSignature:function(t){if(!this.reader.readAndCheckSignature(t)){this.reader.index-=4;var e=this.reader.readString(4);throw new Error(\"Corrupted zip or bug: unexpected signature (\"+n.pretty(e)+\", expected \"+n.pretty(t)+\")\")}},isSignature:function(t,e){var i=this.reader.index;this.reader.setIndex(t);var s=this.reader.readString(4)===e;return this.reader.setIndex(i),s},readBlockEndOfCentral:function(){this.diskNumber=this.reader.readInt(2),this.diskWithCentralDirStart=this.reader.readInt(2),this.centralDirRecordsOnThisDisk=this.reader.readInt(2),this.centralDirRecords=this.reader.readInt(2),this.centralDirSize=this.reader.readInt(4),this.centralDirOffset=this.reader.readInt(4),this.zipCommentLength=this.reader.readInt(2);var t=this.reader.readData(this.zipCommentLength),e=a.uint8array?\"uint8array\":\"array\",i=n.transformTo(e,t);this.zipComment=this.loadOptions.decodeFileName(i)},readBlockZip64EndOfCentral:function(){this.zip64EndOfCentralSize=this.reader.readInt(8),this.reader.skip(4),this.diskNumber=this.reader.readInt(4),this.diskWithCentralDirStart=this.reader.readInt(4),this.centralDirRecordsOnThisDisk=this.reader.readInt(8),this.centralDirRecords=this.reader.readInt(8),this.centralDirSize=this.reader.readInt(8),this.centralDirOffset=this.reader.readInt(8),this.zip64ExtensibleData={};for(var t,e,i,s=this.zip64EndOfCentralSize-44;0<s;)t=this.reader.readInt(2),e=this.reader.readInt(4),i=this.reader.readData(e),this.zip64ExtensibleData[t]={id:t,length:e,value:i}},readBlockZip64EndOfCentralLocator:function(){if(this.diskWithZip64CentralDirStart=this.reader.readInt(4),this.relativeOffsetEndOfZip64CentralDir=this.reader.readInt(8),this.disksCount=this.reader.readInt(4),1<this.disksCount)throw new Error(\"Multi-volumes zip are not supported\")},readLocalFiles:function(){var t,e;for(t=0;t<this.files.length;t++)e=this.files[t],this.reader.setIndex(e.localHeaderOffset),this.checkSignature(r.LOCAL_FILE_HEADER),e.readLocalPart(this.reader),e.handleUTF8(),e.processAttributes()},readCentralDir:function(){var t;for(this.reader.setIndex(this.centralDirOffset);this.reader.readAndCheckSignature(r.CENTRAL_FILE_HEADER);)(t=new o({zip64:this.zip64},this.loadOptions)).readCentralPart(this.reader),this.files.push(t);if(this.centralDirRecords!==this.files.length&&0!==this.centralDirRecords&&0===this.files.length)throw new Error(\"Corrupted zip or bug: expected \"+this.centralDirRecords+\" records in central dir, got \"+this.files.length)},readEndOfCentral:function(){var t=this.reader.lastIndexOfSignature(r.CENTRAL_DIRECTORY_END);if(t<0)throw this.isSignature(0,r.LOCAL_FILE_HEADER)?new Error(\"Corrupted zip: can't find end of central directory\"):new Error(\"Can't find end of central directory : is this a zip file ? If it is, see https://stuk.github.io/jszip/documentation/howto/read_zip.html\");this.reader.setIndex(t);var e=t;if(this.checkSignature(r.CENTRAL_DIRECTORY_END),this.readBlockEndOfCentral(),this.diskNumber===n.MAX_VALUE_16BITS||this.diskWithCentralDirStart===n.MAX_VALUE_16BITS||this.centralDirRecordsOnThisDisk===n.MAX_VALUE_16BITS||this.centralDirRecords===n.MAX_VALUE_16BITS||this.centralDirSize===n.MAX_VALUE_32BITS||this.centralDirOffset===n.MAX_VALUE_32BITS){if(this.zip64=!0,(t=this.reader.lastIndexOfSignature(r.ZIP64_CENTRAL_DIRECTORY_LOCATOR))<0)throw new Error(\"Corrupted zip: can't find the ZIP64 end of central directory locator\");if(this.reader.setIndex(t),this.checkSignature(r.ZIP64_CENTRAL_DIRECTORY_LOCATOR),this.readBlockZip64EndOfCentralLocator(),!this.isSignature(this.relativeOffsetEndOfZip64CentralDir,r.ZIP64_CENTRAL_DIRECTORY_END)&&(this.relativeOffsetEndOfZip64CentralDir=this.reader.lastIndexOfSignature(r.ZIP64_CENTRAL_DIRECTORY_END),this.relativeOffsetEndOfZip64CentralDir<0))throw new Error(\"Corrupted zip: can't find the ZIP64 end of central directory\");this.reader.setIndex(this.relativeOffsetEndOfZip64CentralDir),this.checkSignature(r.ZIP64_CENTRAL_DIRECTORY_END),this.readBlockZip64EndOfCentral()}var i=this.centralDirOffset+this.centralDirSize;this.zip64&&(i+=20,i+=12+this.zip64EndOfCentralSize);var s=e-i;if(0<s)this.isSignature(e,r.CENTRAL_FILE_HEADER)||(this.reader.zero=s);else if(s<0)throw new Error(\"Corrupted zip: missing \"+Math.abs(s)+\" bytes.\")},prepareReader:function(t){this.reader=s(t)},load:function(t){this.prepareReader(t),this.readEndOfCentral(),this.readCentralDir(),this.readLocalFiles()}},e.exports=h},{\"./reader/readerFor\":22,\"./signature\":23,\"./support\":30,\"./utf8\":31,\"./utils\":32,\"./zipEntry\":34}],34:[function(t,e,i){\"use strict\";var s=t(\"./reader/readerFor\"),n=t(\"./utils\"),r=t(\"./compressedObject\"),o=t(\"./crc32\"),a=t(\"./utf8\"),h=t(\"./compressions\"),l=t(\"./support\");function c(t,e){this.options=t,this.loadOptions=e}c.prototype={isEncrypted:function(){return 1==(1&this.bitFlag)},useUTF8:function(){return 2048==(2048&this.bitFlag)},readLocalPart:function(t){var e,i;if(t.skip(22),this.fileNameLength=t.readInt(2),i=t.readInt(2),this.fileName=t.readData(this.fileNameLength),t.skip(i),-1===this.compressedSize||-1===this.uncompressedSize)throw new Error(\"Bug or corrupted zip : didn't get enough information from the central directory (compressedSize === -1 || uncompressedSize === -1)\");if(null===(e=function(t){for(var e in h)if(h.hasOwnProperty(e)&&h[e].magic===t)return h[e];return null}(this.compressionMethod)))throw new Error(\"Corrupted zip : compression \"+n.pretty(this.compressionMethod)+\" unknown (inner file : \"+n.transformTo(\"string\",this.fileName)+\")\");this.decompressed=new r(this.compressedSize,this.uncompressedSize,this.crc32,e,t.readData(this.compressedSize))},readCentralPart:function(t){this.versionMadeBy=t.readInt(2),t.skip(2),this.bitFlag=t.readInt(2),this.compressionMethod=t.readString(2),this.date=t.readDate(),this.crc32=t.readInt(4),this.compressedSize=t.readInt(4),this.uncompressedSize=t.readInt(4);var e=t.readInt(2);if(this.extraFieldsLength=t.readInt(2),this.fileCommentLength=t.readInt(2),this.diskNumberStart=t.readInt(2),this.internalFileAttributes=t.readInt(2),this.externalFileAttributes=t.readInt(4),this.localHeaderOffset=t.readInt(4),this.isEncrypted())throw new Error(\"Encrypted zip are not supported\");t.skip(e),this.readExtraFields(t),this.parseZIP64ExtraField(t),this.fileComment=t.readData(this.fileCommentLength)},processAttributes:function(){this.unixPermissions=null,this.dosPermissions=null;var t=this.versionMadeBy>>8;this.dir=!!(16&this.externalFileAttributes),0==t&&(this.dosPermissions=63&this.externalFileAttributes),3==t&&(this.unixPermissions=this.externalFileAttributes>>16&65535),this.dir||\"/\"!==this.fileNameStr.slice(-1)||(this.dir=!0)},parseZIP64ExtraField:function(t){if(this.extraFields[1]){var e=s(this.extraFields[1].value);this.uncompressedSize===n.MAX_VALUE_32BITS&&(this.uncompressedSize=e.readInt(8)),this.compressedSize===n.MAX_VALUE_32BITS&&(this.compressedSize=e.readInt(8)),this.localHeaderOffset===n.MAX_VALUE_32BITS&&(this.localHeaderOffset=e.readInt(8)),this.diskNumberStart===n.MAX_VALUE_32BITS&&(this.diskNumberStart=e.readInt(4))}},readExtraFields:function(t){var e,i,s,n=t.index+this.extraFieldsLength;for(this.extraFields||(this.extraFields={});t.index<n;)e=t.readInt(2),i=t.readInt(2),s=t.readData(i),this.extraFields[e]={id:e,length:i,value:s}},handleUTF8:function(){var t=l.uint8array?\"uint8array\":\"array\";if(this.useUTF8())this.fileNameStr=a.utf8decode(this.fileName),this.fileCommentStr=a.utf8decode(this.fileComment);else{var e=this.findExtraFieldUnicodePath();if(null!==e)this.fileNameStr=e;else{var i=n.transformTo(t,this.fileName);this.fileNameStr=this.loadOptions.decodeFileName(i)}var s=this.findExtraFieldUnicodeComment();if(null!==s)this.fileCommentStr=s;else{var r=n.transformTo(t,this.fileComment);this.fileCommentStr=this.loadOptions.decodeFileName(r)}}},findExtraFieldUnicodePath:function(){var t=this.extraFields[28789];if(t){var e=s(t.value);return 1!==e.readInt(1)||o(this.fileName)!==e.readInt(4)?null:a.utf8decode(e.readData(t.length-5))}return null},findExtraFieldUnicodeComment:function(){var t=this.extraFields[25461];if(t){var e=s(t.value);return 1!==e.readInt(1)||o(this.fileComment)!==e.readInt(4)?null:a.utf8decode(e.readData(t.length-5))}return null}},e.exports=c},{\"./compressedObject\":2,\"./compressions\":3,\"./crc32\":4,\"./reader/readerFor\":22,\"./support\":30,\"./utf8\":31,\"./utils\":32}],35:[function(t,e,i){\"use strict\";function s(t,e,i){this.name=t,this.dir=i.dir,this.date=i.date,this.comment=i.comment,this.unixPermissions=i.unixPermissions,this.dosPermissions=i.dosPermissions,this._data=e,this._dataBinary=i.binary,this.options={compression:i.compression,compressionOptions:i.compressionOptions}}var n=t(\"./stream/StreamHelper\"),r=t(\"./stream/DataWorker\"),o=t(\"./utf8\"),a=t(\"./compressedObject\"),h=t(\"./stream/GenericWorker\");s.prototype={internalStream:function(t){var e=null,i=\"string\";try{if(!t)throw new Error(\"No output type specified.\");var s=\"string\"===(i=t.toLowerCase())||\"text\"===i;\"binarystring\"!==i&&\"text\"!==i||(i=\"string\"),e=this._decompressWorker();var r=!this._dataBinary;r&&!s&&(e=e.pipe(new o.Utf8EncodeWorker)),!r&&s&&(e=e.pipe(new o.Utf8DecodeWorker))}catch(t){(e=new h(\"error\")).error(t)}return new n(e,i,\"\")},async:function(t,e){return this.internalStream(t).accumulate(e)},nodeStream:function(t,e){return this.internalStream(t||\"nodebuffer\").toNodejsStream(e)},_compressWorker:function(t,e){if(this._data instanceof a&&this._data.compression.magic===t.magic)return this._data.getCompressedWorker();var i=this._decompressWorker();return this._dataBinary||(i=i.pipe(new o.Utf8EncodeWorker)),a.createWorkerFrom(i,t,e)},_decompressWorker:function(){return this._data instanceof a?this._data.getContentWorker():this._data instanceof h?this._data:new r(this._data)}};for(var l=[\"asText\",\"asBinary\",\"asNodeBuffer\",\"asUint8Array\",\"asArrayBuffer\"],c=function(){throw new Error(\"This method has been removed in JSZip 3.0, please check the upgrade guide.\")},u=0;u<l.length;u++)s.prototype[l[u]]=c;e.exports=s},{\"./compressedObject\":2,\"./stream/DataWorker\":27,\"./stream/GenericWorker\":28,\"./stream/StreamHelper\":29,\"./utf8\":31}],36:[function(t,e,s){(function(t){\"use strict\";var i,s,n=t.MutationObserver||t.WebKitMutationObserver;if(n){var r=0,o=new n(c),a=t.document.createTextNode(\"\");o.observe(a,{characterData:!0}),i=function(){a.data=r=++r%2}}else if(t.setImmediate||void 0===t.MessageChannel)i=\"document\"in t&&\"onreadystatechange\"in t.document.createElement(\"script\")?function(){var e=t.document.createElement(\"script\");e.onreadystatechange=function(){c(),e.onreadystatechange=null,e.parentNode.removeChild(e),e=null},t.document.documentElement.appendChild(e)}:function(){setTimeout(c,0)};else{var h=new t.MessageChannel;h.port1.onmessage=c,i=function(){h.port2.postMessage(0)}}var l=[];function c(){var t,e;s=!0;for(var i=l.length;i;){for(e=l,l=[],t=-1;++t<i;)e[t]();i=l.length}s=!1}e.exports=function(t){1!==l.push(t)||s||i()}}).call(this,void 0!==i?i:\"undefined\"!=typeof self?self:\"undefined\"!=typeof window?window:{})},{}],37:[function(t,e,i){\"use strict\";var s=t(\"immediate\");function n(){}var r={},o=[\"REJECTED\"],a=[\"FULFILLED\"],h=[\"PENDING\"];function l(t){if(\"function\"!=typeof t)throw new TypeError(\"resolver must be a function\");this.state=h,this.queue=[],this.outcome=void 0,t!==n&&f(this,t)}function c(t,e,i){this.promise=t,\"function\"==typeof e&&(this.onFulfilled=e,this.callFulfilled=this.otherCallFulfilled),\"function\"==typeof i&&(this.onRejected=i,this.callRejected=this.otherCallRejected)}function u(t,e,i){s((function(){var s;try{s=e(i)}catch(s){return r.reject(t,s)}s===t?r.reject(t,new TypeError(\"Cannot resolve promise with itself\")):r.resolve(t,s)}))}function d(t){var e=t&&t.then;if(t&&(\"object\"==typeof t||\"function\"==typeof t)&&\"function\"==typeof e)return function(){e.apply(t,arguments)}}function f(t,e){var i=!1;function s(e){i||(i=!0,r.reject(t,e))}function n(e){i||(i=!0,r.resolve(t,e))}var o=m((function(){e(n,s)}));\"error\"===o.status&&s(o.value)}function m(t,e){var i={};try{i.value=t(e),i.status=\"success\"}catch(t){i.status=\"error\",i.value=t}return i}(e.exports=l).prototype.finally=function(t){if(\"function\"!=typeof t)return this;var e=this.constructor;return this.then((function(i){return e.resolve(t()).then((function(){return i}))}),(function(i){return e.resolve(t()).then((function(){throw i}))}))},l.prototype.catch=function(t){return this.then(null,t)},l.prototype.then=function(t,e){if(\"function\"!=typeof t&&this.state===a||\"function\"!=typeof e&&this.state===o)return this;var i=new this.constructor(n);return this.state!==h?u(i,this.state===a?t:e,this.outcome):this.queue.push(new c(i,t,e)),i},c.prototype.callFulfilled=function(t){r.resolve(this.promise,t)},c.prototype.otherCallFulfilled=function(t){u(this.promise,this.onFulfilled,t)},c.prototype.callRejected=function(t){r.reject(this.promise,t)},c.prototype.otherCallRejected=function(t){u(this.promise,this.onRejected,t)},r.resolve=function(t,e){var i=m(d,e);if(\"error\"===i.status)return r.reject(t,i.value);var s=i.value;if(s)f(t,s);else{t.state=a,t.outcome=e;for(var n=-1,o=t.queue.length;++n<o;)t.queue[n].callFulfilled(e)}return t},r.reject=function(t,e){t.state=o,t.outcome=e;for(var i=-1,s=t.queue.length;++i<s;)t.queue[i].callRejected(e);return t},l.resolve=function(t){return t instanceof this?t:r.resolve(new this(n),t)},l.reject=function(t){var e=new this(n);return r.reject(e,t)},l.all=function(t){var e=this;if(\"[object Array]\"!==Object.prototype.toString.call(t))return this.reject(new TypeError(\"must be an array\"));var i=t.length,s=!1;if(!i)return this.resolve([]);for(var o=new Array(i),a=0,h=-1,l=new this(n);++h<i;)c(t[h],h);return l;function c(t,n){e.resolve(t).then((function(t){o[n]=t,++a!==i||s||(s=!0,r.resolve(l,o))}),(function(t){s||(s=!0,r.reject(l,t))}))}},l.race=function(t){if(\"[object Array]\"!==Object.prototype.toString.call(t))return this.reject(new TypeError(\"must be an array\"));var e=t.length,i=!1;if(!e)return this.resolve([]);for(var s,o=-1,a=new this(n);++o<e;)s=t[o],this.resolve(s).then((function(t){i||(i=!0,r.resolve(a,t))}),(function(t){i||(i=!0,r.reject(a,t))}));return a}},{immediate:36}],38:[function(t,e,i){\"use strict\";var s={};(0,t(\"./lib/utils/common\").assign)(s,t(\"./lib/deflate\"),t(\"./lib/inflate\"),t(\"./lib/zlib/constants\")),e.exports=s},{\"./lib/deflate\":39,\"./lib/inflate\":40,\"./lib/utils/common\":41,\"./lib/zlib/constants\":44}],39:[function(t,e,i){\"use strict\";var s=t(\"./zlib/deflate\"),n=t(\"./utils/common\"),r=t(\"./utils/strings\"),o=t(\"./zlib/messages\"),a=t(\"./zlib/zstream\"),h=Object.prototype.toString;function l(t){if(!(this instanceof l))return new l(t);this.options=n.assign({level:-1,method:8,chunkSize:16384,windowBits:15,memLevel:8,strategy:0,to:\"\"},t||{});var e=this.options;e.raw&&0<e.windowBits?e.windowBits=-e.windowBits:e.gzip&&0<e.windowBits&&e.windowBits<16&&(e.windowBits+=16),this.err=0,this.msg=\"\",this.ended=!1,this.chunks=[],this.strm=new a,this.strm.avail_out=0;var i=s.deflateInit2(this.strm,e.level,e.method,e.windowBits,e.memLevel,e.strategy);if(0!==i)throw new Error(o[i]);if(e.header&&s.deflateSetHeader(this.strm,e.header),e.dictionary){var c;if(c=\"string\"==typeof e.dictionary?r.string2buf(e.dictionary):\"[object ArrayBuffer]\"===h.call(e.dictionary)?new Uint8Array(e.dictionary):e.dictionary,0!==(i=s.deflateSetDictionary(this.strm,c)))throw new Error(o[i]);this._dict_set=!0}}function c(t,e){var i=new l(e);if(i.push(t,!0),i.err)throw i.msg||o[i.err];return i.result}l.prototype.push=function(t,e){var i,o,a=this.strm,l=this.options.chunkSize;if(this.ended)return!1;o=e===~~e?e:!0===e?4:0,\"string\"==typeof t?a.input=r.string2buf(t):\"[object ArrayBuffer]\"===h.call(t)?a.input=new Uint8Array(t):a.input=t,a.next_in=0,a.avail_in=a.input.length;do{if(0===a.avail_out&&(a.output=new n.Buf8(l),a.next_out=0,a.avail_out=l),1!==(i=s.deflate(a,o))&&0!==i)return this.onEnd(i),!(this.ended=!0);0!==a.avail_out&&(0!==a.avail_in||4!==o&&2!==o)||(\"string\"===this.options.to?this.onData(r.buf2binstring(n.shrinkBuf(a.output,a.next_out))):this.onData(n.shrinkBuf(a.output,a.next_out)))}while((0<a.avail_in||0===a.avail_out)&&1!==i);return 4===o?(i=s.deflateEnd(this.strm),this.onEnd(i),this.ended=!0,0===i):2!==o||(this.onEnd(0),!(a.avail_out=0))},l.prototype.onData=function(t){this.chunks.push(t)},l.prototype.onEnd=function(t){0===t&&(\"string\"===this.options.to?this.result=this.chunks.join(\"\"):this.result=n.flattenChunks(this.chunks)),this.chunks=[],this.err=t,this.msg=this.strm.msg},i.Deflate=l,i.deflate=c,i.deflateRaw=function(t,e){return(e=e||{}).raw=!0,c(t,e)},i.gzip=function(t,e){return(e=e||{}).gzip=!0,c(t,e)}},{\"./utils/common\":41,\"./utils/strings\":42,\"./zlib/deflate\":46,\"./zlib/messages\":51,\"./zlib/zstream\":53}],40:[function(t,e,i){\"use strict\";var s=t(\"./zlib/inflate\"),n=t(\"./utils/common\"),r=t(\"./utils/strings\"),o=t(\"./zlib/constants\"),a=t(\"./zlib/messages\"),h=t(\"./zlib/zstream\"),l=t(\"./zlib/gzheader\"),c=Object.prototype.toString;function u(t){if(!(this instanceof u))return new u(t);this.options=n.assign({chunkSize:16384,windowBits:0,to:\"\"},t||{});var e=this.options;e.raw&&0<=e.windowBits&&e.windowBits<16&&(e.windowBits=-e.windowBits,0===e.windowBits&&(e.windowBits=-15)),!(0<=e.windowBits&&e.windowBits<16)||t&&t.windowBits||(e.windowBits+=32),15<e.windowBits&&e.windowBits<48&&0==(15&e.windowBits)&&(e.windowBits|=15),this.err=0,this.msg=\"\",this.ended=!1,this.chunks=[],this.strm=new h,this.strm.avail_out=0;var i=s.inflateInit2(this.strm,e.windowBits);if(i!==o.Z_OK)throw new Error(a[i]);this.header=new l,s.inflateGetHeader(this.strm,this.header)}function d(t,e){var i=new u(e);if(i.push(t,!0),i.err)throw i.msg||a[i.err];return i.result}u.prototype.push=function(t,e){var i,a,h,l,u,d,f=this.strm,m=this.options.chunkSize,p=this.options.dictionary,g=!1;if(this.ended)return!1;a=e===~~e?e:!0===e?o.Z_FINISH:o.Z_NO_FLUSH,\"string\"==typeof t?f.input=r.binstring2buf(t):\"[object ArrayBuffer]\"===c.call(t)?f.input=new Uint8Array(t):f.input=t,f.next_in=0,f.avail_in=f.input.length;do{if(0===f.avail_out&&(f.output=new n.Buf8(m),f.next_out=0,f.avail_out=m),(i=s.inflate(f,o.Z_NO_FLUSH))===o.Z_NEED_DICT&&p&&(d=\"string\"==typeof p?r.string2buf(p):\"[object ArrayBuffer]\"===c.call(p)?new Uint8Array(p):p,i=s.inflateSetDictionary(this.strm,d)),i===o.Z_BUF_ERROR&&!0===g&&(i=o.Z_OK,g=!1),i!==o.Z_STREAM_END&&i!==o.Z_OK)return this.onEnd(i),!(this.ended=!0);f.next_out&&(0!==f.avail_out&&i!==o.Z_STREAM_END&&(0!==f.avail_in||a!==o.Z_FINISH&&a!==o.Z_SYNC_FLUSH)||(\"string\"===this.options.to?(h=r.utf8border(f.output,f.next_out),l=f.next_out-h,u=r.buf2string(f.output,h),f.next_out=l,f.avail_out=m-l,l&&n.arraySet(f.output,f.output,h,l,0),this.onData(u)):this.onData(n.shrinkBuf(f.output,f.next_out)))),0===f.avail_in&&0===f.avail_out&&(g=!0)}while((0<f.avail_in||0===f.avail_out)&&i!==o.Z_STREAM_END);return i===o.Z_STREAM_END&&(a=o.Z_FINISH),a===o.Z_FINISH?(i=s.inflateEnd(this.strm),this.onEnd(i),this.ended=!0,i===o.Z_OK):a!==o.Z_SYNC_FLUSH||(this.onEnd(o.Z_OK),!(f.avail_out=0))},u.prototype.onData=function(t){this.chunks.push(t)},u.prototype.onEnd=function(t){t===o.Z_OK&&(\"string\"===this.options.to?this.result=this.chunks.join(\"\"):this.result=n.flattenChunks(this.chunks)),this.chunks=[],this.err=t,this.msg=this.strm.msg},i.Inflate=u,i.inflate=d,i.inflateRaw=function(t,e){return(e=e||{}).raw=!0,d(t,e)},i.ungzip=d},{\"./utils/common\":41,\"./utils/strings\":42,\"./zlib/constants\":44,\"./zlib/gzheader\":47,\"./zlib/inflate\":49,\"./zlib/messages\":51,\"./zlib/zstream\":53}],41:[function(t,e,i){\"use strict\";var s=\"undefined\"!=typeof Uint8Array&&\"undefined\"!=typeof Uint16Array&&\"undefined\"!=typeof Int32Array;i.assign=function(t){for(var e=Array.prototype.slice.call(arguments,1);e.length;){var i=e.shift();if(i){if(\"object\"!=typeof i)throw new TypeError(i+\"must be non-object\");for(var s in i)i.hasOwnProperty(s)&&(t[s]=i[s])}}return t},i.shrinkBuf=function(t,e){return t.length===e?t:t.subarray?t.subarray(0,e):(t.length=e,t)};var n={arraySet:function(t,e,i,s,n){if(e.subarray&&t.subarray)t.set(e.subarray(i,i+s),n);else for(var r=0;r<s;r++)t[n+r]=e[i+r]},flattenChunks:function(t){var e,i,s,n,r,o;for(e=s=0,i=t.length;e<i;e++)s+=t[e].length;for(o=new Uint8Array(s),e=n=0,i=t.length;e<i;e++)r=t[e],o.set(r,n),n+=r.length;return o}},r={arraySet:function(t,e,i,s,n){for(var r=0;r<s;r++)t[n+r]=e[i+r]},flattenChunks:function(t){return[].concat.apply([],t)}};i.setTyped=function(t){t?(i.Buf8=Uint8Array,i.Buf16=Uint16Array,i.Buf32=Int32Array,i.assign(i,n)):(i.Buf8=Array,i.Buf16=Array,i.Buf32=Array,i.assign(i,r))},i.setTyped(s)},{}],42:[function(t,e,i){\"use strict\";var s=t(\"./common\"),n=!0,r=!0;try{String.fromCharCode.apply(null,[0])}catch(t){n=!1}try{String.fromCharCode.apply(null,new Uint8Array(1))}catch(t){r=!1}for(var o=new s.Buf8(256),a=0;a<256;a++)o[a]=252<=a?6:248<=a?5:240<=a?4:224<=a?3:192<=a?2:1;function h(t,e){if(e<65537&&(t.subarray&&r||!t.subarray&&n))return String.fromCharCode.apply(null,s.shrinkBuf(t,e));for(var i=\"\",o=0;o<e;o++)i+=String.fromCharCode(t[o]);return i}o[254]=o[254]=1,i.string2buf=function(t){var e,i,n,r,o,a=t.length,h=0;for(r=0;r<a;r++)55296==(64512&(i=t.charCodeAt(r)))&&r+1<a&&56320==(64512&(n=t.charCodeAt(r+1)))&&(i=65536+(i-55296<<10)+(n-56320),r++),h+=i<128?1:i<2048?2:i<65536?3:4;for(e=new s.Buf8(h),r=o=0;o<h;r++)55296==(64512&(i=t.charCodeAt(r)))&&r+1<a&&56320==(64512&(n=t.charCodeAt(r+1)))&&(i=65536+(i-55296<<10)+(n-56320),r++),i<128?e[o++]=i:(i<2048?e[o++]=192|i>>>6:(i<65536?e[o++]=224|i>>>12:(e[o++]=240|i>>>18,e[o++]=128|i>>>12&63),e[o++]=128|i>>>6&63),e[o++]=128|63&i);return e},i.buf2binstring=function(t){return h(t,t.length)},i.binstring2buf=function(t){for(var e=new s.Buf8(t.length),i=0,n=e.length;i<n;i++)e[i]=t.charCodeAt(i);return e},i.buf2string=function(t,e){var i,s,n,r,a=e||t.length,l=new Array(2*a);for(i=s=0;i<a;)if((n=t[i++])<128)l[s++]=n;else if(4<(r=o[n]))l[s++]=65533,i+=r-1;else{for(n&=2===r?31:3===r?15:7;1<r&&i<a;)n=n<<6|63&t[i++],r--;1<r?l[s++]=65533:n<65536?l[s++]=n:(n-=65536,l[s++]=55296|n>>10&1023,l[s++]=56320|1023&n)}return h(l,s)},i.utf8border=function(t,e){var i;for((e=e||t.length)>t.length&&(e=t.length),i=e-1;0<=i&&128==(192&t[i]);)i--;return i<0||0===i?e:i+o[t[i]]>e?i:e}},{\"./common\":41}],43:[function(t,e,i){\"use strict\";e.exports=function(t,e,i,s){for(var n=65535&t|0,r=t>>>16&65535|0,o=0;0!==i;){for(i-=o=2e3<i?2e3:i;r=r+(n=n+e[s++]|0)|0,--o;);n%=65521,r%=65521}return n|r<<16|0}},{}],44:[function(t,e,i){\"use strict\";e.exports={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8}},{}],45:[function(t,e,i){\"use strict\";var s=function(){for(var t,e=[],i=0;i<256;i++){t=i;for(var s=0;s<8;s++)t=1&t?3988292384^t>>>1:t>>>1;e[i]=t}return e}();e.exports=function(t,e,i,n){var r=s,o=n+i;t^=-1;for(var a=n;a<o;a++)t=t>>>8^r[255&(t^e[a])];return-1^t}},{}],46:[function(t,e,i){\"use strict\";var s,n=t(\"../utils/common\"),r=t(\"./trees\"),o=t(\"./adler32\"),a=t(\"./crc32\"),h=t(\"./messages\"),l=-2,c=258,u=262,d=113;function f(t,e){return t.msg=h[e],e}function m(t){return(t<<1)-(4<t?9:0)}function p(t){for(var e=t.length;0<=--e;)t[e]=0}function g(t){var e=t.state,i=e.pending;i>t.avail_out&&(i=t.avail_out),0!==i&&(n.arraySet(t.output,e.pending_buf,e.pending_out,i,t.next_out),t.next_out+=i,e.pending_out+=i,t.total_out+=i,t.avail_out-=i,e.pending-=i,0===e.pending&&(e.pending_out=0))}function b(t,e){r._tr_flush_block(t,0<=t.block_start?t.block_start:-1,t.strstart-t.block_start,e),t.block_start=t.strstart,g(t.strm)}function S(t,e){t.pending_buf[t.pending++]=e}function y(t,e){t.pending_buf[t.pending++]=e>>>8&255,t.pending_buf[t.pending++]=255&e}function x(t,e){var i,s,n=t.max_chain_length,r=t.strstart,o=t.prev_length,a=t.nice_match,h=t.strstart>t.w_size-u?t.strstart-(t.w_size-u):0,l=t.window,d=t.w_mask,f=t.prev,m=t.strstart+c,p=l[r+o-1],g=l[r+o];t.prev_length>=t.good_match&&(n>>=2),a>t.lookahead&&(a=t.lookahead);do{if(l[(i=e)+o]===g&&l[i+o-1]===p&&l[i]===l[r]&&l[++i]===l[r+1]){r+=2,i++;do{}while(l[++r]===l[++i]&&l[++r]===l[++i]&&l[++r]===l[++i]&&l[++r]===l[++i]&&l[++r]===l[++i]&&l[++r]===l[++i]&&l[++r]===l[++i]&&l[++r]===l[++i]&&r<m);if(s=c-(m-r),r=m-c,o<s){if(t.match_start=e,a<=(o=s))break;p=l[r+o-1],g=l[r+o]}}}while((e=f[e&d])>h&&0!=--n);return o<=t.lookahead?o:t.lookahead}function E(t){var e,i,s,r,h,l,c,d,f,m,p=t.w_size;do{if(r=t.window_size-t.lookahead-t.strstart,t.strstart>=p+(p-u)){for(n.arraySet(t.window,t.window,p,p,0),t.match_start-=p,t.strstart-=p,t.block_start-=p,e=i=t.hash_size;s=t.head[--e],t.head[e]=p<=s?s-p:0,--i;);for(e=i=p;s=t.prev[--e],t.prev[e]=p<=s?s-p:0,--i;);r+=p}if(0===t.strm.avail_in)break;if(l=t.strm,c=t.window,d=t.strstart+t.lookahead,m=void 0,(f=r)<(m=l.avail_in)&&(m=f),i=0===m?0:(l.avail_in-=m,n.arraySet(c,l.input,l.next_in,m,d),1===l.state.wrap?l.adler=o(l.adler,c,m,d):2===l.state.wrap&&(l.adler=a(l.adler,c,m,d)),l.next_in+=m,l.total_in+=m,m),t.lookahead+=i,t.lookahead+t.insert>=3)for(h=t.strstart-t.insert,t.ins_h=t.window[h],t.ins_h=(t.ins_h<<t.hash_shift^t.window[h+1])&t.hash_mask;t.insert&&(t.ins_h=(t.ins_h<<t.hash_shift^t.window[h+3-1])&t.hash_mask,t.prev[h&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=h,h++,t.insert--,!(t.lookahead+t.insert<3)););}while(t.lookahead<u&&0!==t.strm.avail_in)}function v(t,e){for(var i,s;;){if(t.lookahead<u){if(E(t),t.lookahead<u&&0===e)return 1;if(0===t.lookahead)break}if(i=0,t.lookahead>=3&&(t.ins_h=(t.ins_h<<t.hash_shift^t.window[t.strstart+3-1])&t.hash_mask,i=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart),0!==i&&t.strstart-i<=t.w_size-u&&(t.match_length=x(t,i)),t.match_length>=3)if(s=r._tr_tally(t,t.strstart-t.match_start,t.match_length-3),t.lookahead-=t.match_length,t.match_length<=t.max_lazy_match&&t.lookahead>=3){for(t.match_length--;t.strstart++,t.ins_h=(t.ins_h<<t.hash_shift^t.window[t.strstart+3-1])&t.hash_mask,i=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart,0!=--t.match_length;);t.strstart++}else t.strstart+=t.match_length,t.match_length=0,t.ins_h=t.window[t.strstart],t.ins_h=(t.ins_h<<t.hash_shift^t.window[t.strstart+1])&t.hash_mask;else s=r._tr_tally(t,0,t.window[t.strstart]),t.lookahead--,t.strstart++;if(s&&(b(t,!1),0===t.strm.avail_out))return 1}return t.insert=t.strstart<2?t.strstart:2,4===e?(b(t,!0),0===t.strm.avail_out?3:4):t.last_lit&&(b(t,!1),0===t.strm.avail_out)?1:2}function _(t,e){for(var i,s,n;;){if(t.lookahead<u){if(E(t),t.lookahead<u&&0===e)return 1;if(0===t.lookahead)break}if(i=0,t.lookahead>=3&&(t.ins_h=(t.ins_h<<t.hash_shift^t.window[t.strstart+3-1])&t.hash_mask,i=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart),t.prev_length=t.match_length,t.prev_match=t.match_start,t.match_length=2,0!==i&&t.prev_length<t.max_lazy_match&&t.strstart-i<=t.w_size-u&&(t.match_length=x(t,i),t.match_length<=5&&(1===t.strategy||3===t.match_length&&4096<t.strstart-t.match_start)&&(t.match_length=2)),t.prev_length>=3&&t.match_length<=t.prev_length){for(n=t.strstart+t.lookahead-3,s=r._tr_tally(t,t.strstart-1-t.prev_match,t.prev_length-3),t.lookahead-=t.prev_length-1,t.prev_length-=2;++t.strstart<=n&&(t.ins_h=(t.ins_h<<t.hash_shift^t.window[t.strstart+3-1])&t.hash_mask,i=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart),0!=--t.prev_length;);if(t.match_available=0,t.match_length=2,t.strstart++,s&&(b(t,!1),0===t.strm.avail_out))return 1}else if(t.match_available){if((s=r._tr_tally(t,0,t.window[t.strstart-1]))&&b(t,!1),t.strstart++,t.lookahead--,0===t.strm.avail_out)return 1}else t.match_available=1,t.strstart++,t.lookahead--}return t.match_available&&(s=r._tr_tally(t,0,t.window[t.strstart-1]),t.match_available=0),t.insert=t.strstart<2?t.strstart:2,4===e?(b(t,!0),0===t.strm.avail_out?3:4):t.last_lit&&(b(t,!1),0===t.strm.avail_out)?1:2}function w(t,e,i,s,n){this.good_length=t,this.max_lazy=e,this.nice_length=i,this.max_chain=s,this.func=n}function M(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=8,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new n.Buf16(1146),this.dyn_dtree=new n.Buf16(122),this.bl_tree=new n.Buf16(78),p(this.dyn_ltree),p(this.dyn_dtree),p(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new n.Buf16(16),this.heap=new n.Buf16(573),p(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new n.Buf16(573),p(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}function T(t){var e;return t&&t.state?(t.total_in=t.total_out=0,t.data_type=2,(e=t.state).pending=0,e.pending_out=0,e.wrap<0&&(e.wrap=-e.wrap),e.status=e.wrap?42:d,t.adler=2===e.wrap?0:1,e.last_flush=0,r._tr_init(e),0):f(t,l)}function P(t){var e=T(t);return 0===e&&function(t){t.window_size=2*t.w_size,p(t.head),t.max_lazy_match=s[t.level].max_lazy,t.good_match=s[t.level].good_length,t.nice_match=s[t.level].nice_length,t.max_chain_length=s[t.level].max_chain,t.strstart=0,t.block_start=0,t.lookahead=0,t.insert=0,t.match_length=t.prev_length=2,t.match_available=0,t.ins_h=0}(t.state),e}function L(t,e,i,s,r,o){if(!t)return l;var a=1;if(-1===e&&(e=6),s<0?(a=0,s=-s):15<s&&(a=2,s-=16),r<1||9<r||8!==i||s<8||15<s||e<0||9<e||o<0||4<o)return f(t,l);8===s&&(s=9);var h=new M;return(t.state=h).strm=t,h.wrap=a,h.gzhead=null,h.w_bits=s,h.w_size=1<<h.w_bits,h.w_mask=h.w_size-1,h.hash_bits=r+7,h.hash_size=1<<h.hash_bits,h.hash_mask=h.hash_size-1,h.hash_shift=~~((h.hash_bits+3-1)/3),h.window=new n.Buf8(2*h.w_size),h.head=new n.Buf16(h.hash_size),h.prev=new n.Buf16(h.w_size),h.lit_bufsize=1<<r+6,h.pending_buf_size=4*h.lit_bufsize,h.pending_buf=new n.Buf8(h.pending_buf_size),h.d_buf=1*h.lit_bufsize,h.l_buf=3*h.lit_bufsize,h.level=e,h.strategy=o,h.method=i,P(t)}s=[new w(0,0,0,0,(function(t,e){var i=65535;for(i>t.pending_buf_size-5&&(i=t.pending_buf_size-5);;){if(t.lookahead<=1){if(E(t),0===t.lookahead&&0===e)return 1;if(0===t.lookahead)break}t.strstart+=t.lookahead,t.lookahead=0;var s=t.block_start+i;if((0===t.strstart||t.strstart>=s)&&(t.lookahead=t.strstart-s,t.strstart=s,b(t,!1),0===t.strm.avail_out))return 1;if(t.strstart-t.block_start>=t.w_size-u&&(b(t,!1),0===t.strm.avail_out))return 1}return t.insert=0,4===e?(b(t,!0),0===t.strm.avail_out?3:4):(t.strstart>t.block_start&&(b(t,!1),t.strm.avail_out),1)})),new w(4,4,8,4,v),new w(4,5,16,8,v),new w(4,6,32,32,v),new w(4,4,16,16,_),new w(8,16,32,32,_),new w(8,16,128,128,_),new w(8,32,128,256,_),new w(32,128,258,1024,_),new w(32,258,258,4096,_)],i.deflateInit=function(t,e){return L(t,e,8,15,8,0)},i.deflateInit2=L,i.deflateReset=P,i.deflateResetKeep=T,i.deflateSetHeader=function(t,e){return t&&t.state?2!==t.state.wrap?l:(t.state.gzhead=e,0):l},i.deflate=function(t,e){var i,n,o,h;if(!t||!t.state||5<e||e<0)return t?f(t,l):l;if(n=t.state,!t.output||!t.input&&0!==t.avail_in||666===n.status&&4!==e)return f(t,0===t.avail_out?-5:l);if(n.strm=t,i=n.last_flush,n.last_flush=e,42===n.status)if(2===n.wrap)t.adler=0,S(n,31),S(n,139),S(n,8),n.gzhead?(S(n,(n.gzhead.text?1:0)+(n.gzhead.hcrc?2:0)+(n.gzhead.extra?4:0)+(n.gzhead.name?8:0)+(n.gzhead.comment?16:0)),S(n,255&n.gzhead.time),S(n,n.gzhead.time>>8&255),S(n,n.gzhead.time>>16&255),S(n,n.gzhead.time>>24&255),S(n,9===n.level?2:2<=n.strategy||n.level<2?4:0),S(n,255&n.gzhead.os),n.gzhead.extra&&n.gzhead.extra.length&&(S(n,255&n.gzhead.extra.length),S(n,n.gzhead.extra.length>>8&255)),n.gzhead.hcrc&&(t.adler=a(t.adler,n.pending_buf,n.pending,0)),n.gzindex=0,n.status=69):(S(n,0),S(n,0),S(n,0),S(n,0),S(n,0),S(n,9===n.level?2:2<=n.strategy||n.level<2?4:0),S(n,3),n.status=d);else{var u=8+(n.w_bits-8<<4)<<8;u|=(2<=n.strategy||n.level<2?0:n.level<6?1:6===n.level?2:3)<<6,0!==n.strstart&&(u|=32),u+=31-u%31,n.status=d,y(n,u),0!==n.strstart&&(y(n,t.adler>>>16),y(n,65535&t.adler)),t.adler=1}if(69===n.status)if(n.gzhead.extra){for(o=n.pending;n.gzindex<(65535&n.gzhead.extra.length)&&(n.pending!==n.pending_buf_size||(n.gzhead.hcrc&&n.pending>o&&(t.adler=a(t.adler,n.pending_buf,n.pending-o,o)),g(t),o=n.pending,n.pending!==n.pending_buf_size));)S(n,255&n.gzhead.extra[n.gzindex]),n.gzindex++;n.gzhead.hcrc&&n.pending>o&&(t.adler=a(t.adler,n.pending_buf,n.pending-o,o)),n.gzindex===n.gzhead.extra.length&&(n.gzindex=0,n.status=73)}else n.status=73;if(73===n.status)if(n.gzhead.name){o=n.pending;do{if(n.pending===n.pending_buf_size&&(n.gzhead.hcrc&&n.pending>o&&(t.adler=a(t.adler,n.pending_buf,n.pending-o,o)),g(t),o=n.pending,n.pending===n.pending_buf_size)){h=1;break}h=n.gzindex<n.gzhead.name.length?255&n.gzhead.name.charCodeAt(n.gzindex++):0,S(n,h)}while(0!==h);n.gzhead.hcrc&&n.pending>o&&(t.adler=a(t.adler,n.pending_buf,n.pending-o,o)),0===h&&(n.gzindex=0,n.status=91)}else n.status=91;if(91===n.status)if(n.gzhead.comment){o=n.pending;do{if(n.pending===n.pending_buf_size&&(n.gzhead.hcrc&&n.pending>o&&(t.adler=a(t.adler,n.pending_buf,n.pending-o,o)),g(t),o=n.pending,n.pending===n.pending_buf_size)){h=1;break}h=n.gzindex<n.gzhead.comment.length?255&n.gzhead.comment.charCodeAt(n.gzindex++):0,S(n,h)}while(0!==h);n.gzhead.hcrc&&n.pending>o&&(t.adler=a(t.adler,n.pending_buf,n.pending-o,o)),0===h&&(n.status=103)}else n.status=103;if(103===n.status&&(n.gzhead.hcrc?(n.pending+2>n.pending_buf_size&&g(t),n.pending+2<=n.pending_buf_size&&(S(n,255&t.adler),S(n,t.adler>>8&255),t.adler=0,n.status=d)):n.status=d),0!==n.pending){if(g(t),0===t.avail_out)return n.last_flush=-1,0}else if(0===t.avail_in&&m(e)<=m(i)&&4!==e)return f(t,-5);if(666===n.status&&0!==t.avail_in)return f(t,-5);if(0!==t.avail_in||0!==n.lookahead||0!==e&&666!==n.status){var x=2===n.strategy?function(t,e){for(var i;;){if(0===t.lookahead&&(E(t),0===t.lookahead)){if(0===e)return 1;break}if(t.match_length=0,i=r._tr_tally(t,0,t.window[t.strstart]),t.lookahead--,t.strstart++,i&&(b(t,!1),0===t.strm.avail_out))return 1}return t.insert=0,4===e?(b(t,!0),0===t.strm.avail_out?3:4):t.last_lit&&(b(t,!1),0===t.strm.avail_out)?1:2}(n,e):3===n.strategy?function(t,e){for(var i,s,n,o,a=t.window;;){if(t.lookahead<=c){if(E(t),t.lookahead<=c&&0===e)return 1;if(0===t.lookahead)break}if(t.match_length=0,t.lookahead>=3&&0<t.strstart&&(s=a[n=t.strstart-1])===a[++n]&&s===a[++n]&&s===a[++n]){o=t.strstart+c;do{}while(s===a[++n]&&s===a[++n]&&s===a[++n]&&s===a[++n]&&s===a[++n]&&s===a[++n]&&s===a[++n]&&s===a[++n]&&n<o);t.match_length=c-(o-n),t.match_length>t.lookahead&&(t.match_length=t.lookahead)}if(t.match_length>=3?(i=r._tr_tally(t,1,t.match_length-3),t.lookahead-=t.match_length,t.strstart+=t.match_length,t.match_length=0):(i=r._tr_tally(t,0,t.window[t.strstart]),t.lookahead--,t.strstart++),i&&(b(t,!1),0===t.strm.avail_out))return 1}return t.insert=0,4===e?(b(t,!0),0===t.strm.avail_out?3:4):t.last_lit&&(b(t,!1),0===t.strm.avail_out)?1:2}(n,e):s[n.level].func(n,e);if(3!==x&&4!==x||(n.status=666),1===x||3===x)return 0===t.avail_out&&(n.last_flush=-1),0;if(2===x&&(1===e?r._tr_align(n):5!==e&&(r._tr_stored_block(n,0,0,!1),3===e&&(p(n.head),0===n.lookahead&&(n.strstart=0,n.block_start=0,n.insert=0))),g(t),0===t.avail_out))return n.last_flush=-1,0}return 4!==e?0:n.wrap<=0?1:(2===n.wrap?(S(n,255&t.adler),S(n,t.adler>>8&255),S(n,t.adler>>16&255),S(n,t.adler>>24&255),S(n,255&t.total_in),S(n,t.total_in>>8&255),S(n,t.total_in>>16&255),S(n,t.total_in>>24&255)):(y(n,t.adler>>>16),y(n,65535&t.adler)),g(t),0<n.wrap&&(n.wrap=-n.wrap),0!==n.pending?0:1)},i.deflateEnd=function(t){var e;return t&&t.state?42!==(e=t.state.status)&&69!==e&&73!==e&&91!==e&&103!==e&&e!==d&&666!==e?f(t,l):(t.state=null,e===d?f(t,-3):0):l},i.deflateSetDictionary=function(t,e){var i,s,r,a,h,c,u,d,f=e.length;if(!t||!t.state)return l;if(2===(a=(i=t.state).wrap)||1===a&&42!==i.status||i.lookahead)return l;for(1===a&&(t.adler=o(t.adler,e,f,0)),i.wrap=0,f>=i.w_size&&(0===a&&(p(i.head),i.strstart=0,i.block_start=0,i.insert=0),d=new n.Buf8(i.w_size),n.arraySet(d,e,f-i.w_size,i.w_size,0),e=d,f=i.w_size),h=t.avail_in,c=t.next_in,u=t.input,t.avail_in=f,t.next_in=0,t.input=e,E(i);i.lookahead>=3;){for(s=i.strstart,r=i.lookahead-2;i.ins_h=(i.ins_h<<i.hash_shift^i.window[s+3-1])&i.hash_mask,i.prev[s&i.w_mask]=i.head[i.ins_h],i.head[i.ins_h]=s,s++,--r;);i.strstart=s,i.lookahead=2,E(i)}return i.strstart+=i.lookahead,i.block_start=i.strstart,i.insert=i.lookahead,i.lookahead=0,i.match_length=i.prev_length=2,i.match_available=0,t.next_in=c,t.input=u,t.avail_in=h,i.wrap=a,0},i.deflateInfo=\"pako deflate (from Nodeca project)\"},{\"../utils/common\":41,\"./adler32\":43,\"./crc32\":45,\"./messages\":51,\"./trees\":52}],47:[function(t,e,i){\"use strict\";e.exports=function(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name=\"\",this.comment=\"\",this.hcrc=0,this.done=!1}},{}],48:[function(t,e,i){\"use strict\";e.exports=function(t,e){var i,s,n,r,o,a,h,l,c,u,d,f,m,p,g,b,S,y,x,E,v,_,w,M,T;i=t.state,s=t.next_in,M=t.input,n=s+(t.avail_in-5),r=t.next_out,T=t.output,o=r-(e-t.avail_out),a=r+(t.avail_out-257),h=i.dmax,l=i.wsize,c=i.whave,u=i.wnext,d=i.window,f=i.hold,m=i.bits,p=i.lencode,g=i.distcode,b=(1<<i.lenbits)-1,S=(1<<i.distbits)-1;t:do{m<15&&(f+=M[s++]<<m,m+=8,f+=M[s++]<<m,m+=8),y=p[f&b];e:for(;;){if(f>>>=x=y>>>24,m-=x,0==(x=y>>>16&255))T[r++]=65535&y;else{if(!(16&x)){if(0==(64&x)){y=p[(65535&y)+(f&(1<<x)-1)];continue e}if(32&x){i.mode=12;break t}t.msg=\"invalid literal/length code\",i.mode=30;break t}E=65535&y,(x&=15)&&(m<x&&(f+=M[s++]<<m,m+=8),E+=f&(1<<x)-1,f>>>=x,m-=x),m<15&&(f+=M[s++]<<m,m+=8,f+=M[s++]<<m,m+=8),y=g[f&S];i:for(;;){if(f>>>=x=y>>>24,m-=x,!(16&(x=y>>>16&255))){if(0==(64&x)){y=g[(65535&y)+(f&(1<<x)-1)];continue i}t.msg=\"invalid distance code\",i.mode=30;break t}if(v=65535&y,m<(x&=15)&&(f+=M[s++]<<m,(m+=8)<x&&(f+=M[s++]<<m,m+=8)),h<(v+=f&(1<<x)-1)){t.msg=\"invalid distance too far back\",i.mode=30;break t}if(f>>>=x,m-=x,(x=r-o)<v){if(c<(x=v-x)&&i.sane){t.msg=\"invalid distance too far back\",i.mode=30;break t}if(w=d,(_=0)===u){if(_+=l-x,x<E){for(E-=x;T[r++]=d[_++],--x;);_=r-v,w=T}}else if(u<x){if(_+=l+u-x,(x-=u)<E){for(E-=x;T[r++]=d[_++],--x;);if(_=0,u<E){for(E-=x=u;T[r++]=d[_++],--x;);_=r-v,w=T}}}else if(_+=u-x,x<E){for(E-=x;T[r++]=d[_++],--x;);_=r-v,w=T}for(;2<E;)T[r++]=w[_++],T[r++]=w[_++],T[r++]=w[_++],E-=3;E&&(T[r++]=w[_++],1<E&&(T[r++]=w[_++]))}else{for(_=r-v;T[r++]=T[_++],T[r++]=T[_++],T[r++]=T[_++],2<(E-=3););E&&(T[r++]=T[_++],1<E&&(T[r++]=T[_++]))}break}}break}}while(s<n&&r<a);s-=E=m>>3,f&=(1<<(m-=E<<3))-1,t.next_in=s,t.next_out=r,t.avail_in=s<n?n-s+5:5-(s-n),t.avail_out=r<a?a-r+257:257-(r-a),i.hold=f,i.bits=m}},{}],49:[function(t,e,i){\"use strict\";var s=t(\"../utils/common\"),n=t(\"./adler32\"),r=t(\"./crc32\"),o=t(\"./inffast\"),a=t(\"./inftrees\"),h=-2;function l(t){return(t>>>24&255)+(t>>>8&65280)+((65280&t)<<8)+((255&t)<<24)}function c(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new s.Buf16(320),this.work=new s.Buf16(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}function u(t){var e;return t&&t.state?(e=t.state,t.total_in=t.total_out=e.total=0,t.msg=\"\",e.wrap&&(t.adler=1&e.wrap),e.mode=1,e.last=0,e.havedict=0,e.dmax=32768,e.head=null,e.hold=0,e.bits=0,e.lencode=e.lendyn=new s.Buf32(852),e.distcode=e.distdyn=new s.Buf32(592),e.sane=1,e.back=-1,0):h}function d(t){var e;return t&&t.state?((e=t.state).wsize=0,e.whave=0,e.wnext=0,u(t)):h}function f(t,e){var i,s;return t&&t.state?(s=t.state,e<0?(i=0,e=-e):(i=1+(e>>4),e<48&&(e&=15)),e&&(e<8||15<e)?h:(null!==s.window&&s.wbits!==e&&(s.window=null),s.wrap=i,s.wbits=e,d(t))):h}function m(t,e){var i,s;return t?(s=new c,(t.state=s).window=null,0!==(i=f(t,e))&&(t.state=null),i):h}var p,g,b=!0;function S(t){if(b){var e;for(p=new s.Buf32(512),g=new s.Buf32(32),e=0;e<144;)t.lens[e++]=8;for(;e<256;)t.lens[e++]=9;for(;e<280;)t.lens[e++]=7;for(;e<288;)t.lens[e++]=8;for(a(1,t.lens,0,288,p,0,t.work,{bits:9}),e=0;e<32;)t.lens[e++]=5;a(2,t.lens,0,32,g,0,t.work,{bits:5}),b=!1}t.lencode=p,t.lenbits=9,t.distcode=g,t.distbits=5}function y(t,e,i,n){var r,o=t.state;return null===o.window&&(o.wsize=1<<o.wbits,o.wnext=0,o.whave=0,o.window=new s.Buf8(o.wsize)),n>=o.wsize?(s.arraySet(o.window,e,i-o.wsize,o.wsize,0),o.wnext=0,o.whave=o.wsize):(n<(r=o.wsize-o.wnext)&&(r=n),s.arraySet(o.window,e,i-n,r,o.wnext),(n-=r)?(s.arraySet(o.window,e,i-n,n,0),o.wnext=n,o.whave=o.wsize):(o.wnext+=r,o.wnext===o.wsize&&(o.wnext=0),o.whave<o.wsize&&(o.whave+=r))),0}i.inflateReset=d,i.inflateReset2=f,i.inflateResetKeep=u,i.inflateInit=function(t){return m(t,15)},i.inflateInit2=m,i.inflate=function(t,e){var i,c,u,d,f,m,p,g,b,x,E,v,_,w,M,T,P,L,A,I,C,R,N,B,F=0,D=new s.Buf8(4),k=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!t||!t.state||!t.output||!t.input&&0!==t.avail_in)return h;12===(i=t.state).mode&&(i.mode=13),f=t.next_out,u=t.output,p=t.avail_out,d=t.next_in,c=t.input,m=t.avail_in,g=i.hold,b=i.bits,x=m,E=p,R=0;t:for(;;)switch(i.mode){case 1:if(0===i.wrap){i.mode=13;break}for(;b<16;){if(0===m)break t;m--,g+=c[d++]<<b,b+=8}if(2&i.wrap&&35615===g){D[i.check=0]=255&g,D[1]=g>>>8&255,i.check=r(i.check,D,2,0),b=g=0,i.mode=2;break}if(i.flags=0,i.head&&(i.head.done=!1),!(1&i.wrap)||(((255&g)<<8)+(g>>8))%31){t.msg=\"incorrect header check\",i.mode=30;break}if(8!=(15&g)){t.msg=\"unknown compression method\",i.mode=30;break}if(b-=4,C=8+(15&(g>>>=4)),0===i.wbits)i.wbits=C;else if(C>i.wbits){t.msg=\"invalid window size\",i.mode=30;break}i.dmax=1<<C,t.adler=i.check=1,i.mode=512&g?10:12,b=g=0;break;case 2:for(;b<16;){if(0===m)break t;m--,g+=c[d++]<<b,b+=8}if(i.flags=g,8!=(255&i.flags)){t.msg=\"unknown compression method\",i.mode=30;break}if(57344&i.flags){t.msg=\"unknown header flags set\",i.mode=30;break}i.head&&(i.head.text=g>>8&1),512&i.flags&&(D[0]=255&g,D[1]=g>>>8&255,i.check=r(i.check,D,2,0)),b=g=0,i.mode=3;case 3:for(;b<32;){if(0===m)break t;m--,g+=c[d++]<<b,b+=8}i.head&&(i.head.time=g),512&i.flags&&(D[0]=255&g,D[1]=g>>>8&255,D[2]=g>>>16&255,D[3]=g>>>24&255,i.check=r(i.check,D,4,0)),b=g=0,i.mode=4;case 4:for(;b<16;){if(0===m)break t;m--,g+=c[d++]<<b,b+=8}i.head&&(i.head.xflags=255&g,i.head.os=g>>8),512&i.flags&&(D[0]=255&g,D[1]=g>>>8&255,i.check=r(i.check,D,2,0)),b=g=0,i.mode=5;case 5:if(1024&i.flags){for(;b<16;){if(0===m)break t;m--,g+=c[d++]<<b,b+=8}i.length=g,i.head&&(i.head.extra_len=g),512&i.flags&&(D[0]=255&g,D[1]=g>>>8&255,i.check=r(i.check,D,2,0)),b=g=0}else i.head&&(i.head.extra=null);i.mode=6;case 6:if(1024&i.flags&&(m<(v=i.length)&&(v=m),v&&(i.head&&(C=i.head.extra_len-i.length,i.head.extra||(i.head.extra=new Array(i.head.extra_len)),s.arraySet(i.head.extra,c,d,v,C)),512&i.flags&&(i.check=r(i.check,c,v,d)),m-=v,d+=v,i.length-=v),i.length))break t;i.length=0,i.mode=7;case 7:if(2048&i.flags){if(0===m)break t;for(v=0;C=c[d+v++],i.head&&C&&i.length<65536&&(i.head.name+=String.fromCharCode(C)),C&&v<m;);if(512&i.flags&&(i.check=r(i.check,c,v,d)),m-=v,d+=v,C)break t}else i.head&&(i.head.name=null);i.length=0,i.mode=8;case 8:if(4096&i.flags){if(0===m)break t;for(v=0;C=c[d+v++],i.head&&C&&i.length<65536&&(i.head.comment+=String.fromCharCode(C)),C&&v<m;);if(512&i.flags&&(i.check=r(i.check,c,v,d)),m-=v,d+=v,C)break t}else i.head&&(i.head.comment=null);i.mode=9;case 9:if(512&i.flags){for(;b<16;){if(0===m)break t;m--,g+=c[d++]<<b,b+=8}if(g!==(65535&i.check)){t.msg=\"header crc mismatch\",i.mode=30;break}b=g=0}i.head&&(i.head.hcrc=i.flags>>9&1,i.head.done=!0),t.adler=i.check=0,i.mode=12;break;case 10:for(;b<32;){if(0===m)break t;m--,g+=c[d++]<<b,b+=8}t.adler=i.check=l(g),b=g=0,i.mode=11;case 11:if(0===i.havedict)return t.next_out=f,t.avail_out=p,t.next_in=d,t.avail_in=m,i.hold=g,i.bits=b,2;t.adler=i.check=1,i.mode=12;case 12:if(5===e||6===e)break t;case 13:if(i.last){g>>>=7&b,b-=7&b,i.mode=27;break}for(;b<3;){if(0===m)break t;m--,g+=c[d++]<<b,b+=8}switch(i.last=1&g,b-=1,3&(g>>>=1)){case 0:i.mode=14;break;case 1:if(S(i),i.mode=20,6!==e)break;g>>>=2,b-=2;break t;case 2:i.mode=17;break;case 3:t.msg=\"invalid block type\",i.mode=30}g>>>=2,b-=2;break;case 14:for(g>>>=7&b,b-=7&b;b<32;){if(0===m)break t;m--,g+=c[d++]<<b,b+=8}if((65535&g)!=(g>>>16^65535)){t.msg=\"invalid stored block lengths\",i.mode=30;break}if(i.length=65535&g,b=g=0,i.mode=15,6===e)break t;case 15:i.mode=16;case 16:if(v=i.length){if(m<v&&(v=m),p<v&&(v=p),0===v)break t;s.arraySet(u,c,d,v,f),m-=v,d+=v,p-=v,f+=v,i.length-=v;break}i.mode=12;break;case 17:for(;b<14;){if(0===m)break t;m--,g+=c[d++]<<b,b+=8}if(i.nlen=257+(31&g),g>>>=5,b-=5,i.ndist=1+(31&g),g>>>=5,b-=5,i.ncode=4+(15&g),g>>>=4,b-=4,286<i.nlen||30<i.ndist){t.msg=\"too many length or distance symbols\",i.mode=30;break}i.have=0,i.mode=18;case 18:for(;i.have<i.ncode;){for(;b<3;){if(0===m)break t;m--,g+=c[d++]<<b,b+=8}i.lens[k[i.have++]]=7&g,g>>>=3,b-=3}for(;i.have<19;)i.lens[k[i.have++]]=0;if(i.lencode=i.lendyn,i.lenbits=7,N={bits:i.lenbits},R=a(0,i.lens,0,19,i.lencode,0,i.work,N),i.lenbits=N.bits,R){t.msg=\"invalid code lengths set\",i.mode=30;break}i.have=0,i.mode=19;case 19:for(;i.have<i.nlen+i.ndist;){for(;T=(F=i.lencode[g&(1<<i.lenbits)-1])>>>16&255,P=65535&F,!((M=F>>>24)<=b);){if(0===m)break t;m--,g+=c[d++]<<b,b+=8}if(P<16)g>>>=M,b-=M,i.lens[i.have++]=P;else{if(16===P){for(B=M+2;b<B;){if(0===m)break t;m--,g+=c[d++]<<b,b+=8}if(g>>>=M,b-=M,0===i.have){t.msg=\"invalid bit length repeat\",i.mode=30;break}C=i.lens[i.have-1],v=3+(3&g),g>>>=2,b-=2}else if(17===P){for(B=M+3;b<B;){if(0===m)break t;m--,g+=c[d++]<<b,b+=8}b-=M,C=0,v=3+(7&(g>>>=M)),g>>>=3,b-=3}else{for(B=M+7;b<B;){if(0===m)break t;m--,g+=c[d++]<<b,b+=8}b-=M,C=0,v=11+(127&(g>>>=M)),g>>>=7,b-=7}if(i.have+v>i.nlen+i.ndist){t.msg=\"invalid bit length repeat\",i.mode=30;break}for(;v--;)i.lens[i.have++]=C}}if(30===i.mode)break;if(0===i.lens[256]){t.msg=\"invalid code -- missing end-of-block\",i.mode=30;break}if(i.lenbits=9,N={bits:i.lenbits},R=a(1,i.lens,0,i.nlen,i.lencode,0,i.work,N),i.lenbits=N.bits,R){t.msg=\"invalid literal/lengths set\",i.mode=30;break}if(i.distbits=6,i.distcode=i.distdyn,N={bits:i.distbits},R=a(2,i.lens,i.nlen,i.ndist,i.distcode,0,i.work,N),i.distbits=N.bits,R){t.msg=\"invalid distances set\",i.mode=30;break}if(i.mode=20,6===e)break t;case 20:i.mode=21;case 21:if(6<=m&&258<=p){t.next_out=f,t.avail_out=p,t.next_in=d,t.avail_in=m,i.hold=g,i.bits=b,o(t,E),f=t.next_out,u=t.output,p=t.avail_out,d=t.next_in,c=t.input,m=t.avail_in,g=i.hold,b=i.bits,12===i.mode&&(i.back=-1);break}for(i.back=0;T=(F=i.lencode[g&(1<<i.lenbits)-1])>>>16&255,P=65535&F,!((M=F>>>24)<=b);){if(0===m)break t;m--,g+=c[d++]<<b,b+=8}if(T&&0==(240&T)){for(L=M,A=T,I=P;T=(F=i.lencode[I+((g&(1<<L+A)-1)>>L)])>>>16&255,P=65535&F,!(L+(M=F>>>24)<=b);){if(0===m)break t;m--,g+=c[d++]<<b,b+=8}g>>>=L,b-=L,i.back+=L}if(g>>>=M,b-=M,i.back+=M,i.length=P,0===T){i.mode=26;break}if(32&T){i.back=-1,i.mode=12;break}if(64&T){t.msg=\"invalid literal/length code\",i.mode=30;break}i.extra=15&T,i.mode=22;case 22:if(i.extra){for(B=i.extra;b<B;){if(0===m)break t;m--,g+=c[d++]<<b,b+=8}i.length+=g&(1<<i.extra)-1,g>>>=i.extra,b-=i.extra,i.back+=i.extra}i.was=i.length,i.mode=23;case 23:for(;T=(F=i.distcode[g&(1<<i.distbits)-1])>>>16&255,P=65535&F,!((M=F>>>24)<=b);){if(0===m)break t;m--,g+=c[d++]<<b,b+=8}if(0==(240&T)){for(L=M,A=T,I=P;T=(F=i.distcode[I+((g&(1<<L+A)-1)>>L)])>>>16&255,P=65535&F,!(L+(M=F>>>24)<=b);){if(0===m)break t;m--,g+=c[d++]<<b,b+=8}g>>>=L,b-=L,i.back+=L}if(g>>>=M,b-=M,i.back+=M,64&T){t.msg=\"invalid distance code\",i.mode=30;break}i.offset=P,i.extra=15&T,i.mode=24;case 24:if(i.extra){for(B=i.extra;b<B;){if(0===m)break t;m--,g+=c[d++]<<b,b+=8}i.offset+=g&(1<<i.extra)-1,g>>>=i.extra,b-=i.extra,i.back+=i.extra}if(i.offset>i.dmax){t.msg=\"invalid distance too far back\",i.mode=30;break}i.mode=25;case 25:if(0===p)break t;if(v=E-p,i.offset>v){if((v=i.offset-v)>i.whave&&i.sane){t.msg=\"invalid distance too far back\",i.mode=30;break}_=v>i.wnext?(v-=i.wnext,i.wsize-v):i.wnext-v,v>i.length&&(v=i.length),w=i.window}else w=u,_=f-i.offset,v=i.length;for(p<v&&(v=p),p-=v,i.length-=v;u[f++]=w[_++],--v;);0===i.length&&(i.mode=21);break;case 26:if(0===p)break t;u[f++]=i.length,p--,i.mode=21;break;case 27:if(i.wrap){for(;b<32;){if(0===m)break t;m--,g|=c[d++]<<b,b+=8}if(E-=p,t.total_out+=E,i.total+=E,E&&(t.adler=i.check=i.flags?r(i.check,u,E,f-E):n(i.check,u,E,f-E)),E=p,(i.flags?g:l(g))!==i.check){t.msg=\"incorrect data check\",i.mode=30;break}b=g=0}i.mode=28;case 28:if(i.wrap&&i.flags){for(;b<32;){if(0===m)break t;m--,g+=c[d++]<<b,b+=8}if(g!==(4294967295&i.total)){t.msg=\"incorrect length check\",i.mode=30;break}b=g=0}i.mode=29;case 29:R=1;break t;case 30:R=-3;break t;case 31:return-4;case 32:default:return h}return t.next_out=f,t.avail_out=p,t.next_in=d,t.avail_in=m,i.hold=g,i.bits=b,(i.wsize||E!==t.avail_out&&i.mode<30&&(i.mode<27||4!==e))&&y(t,t.output,t.next_out,E-t.avail_out)?(i.mode=31,-4):(x-=t.avail_in,E-=t.avail_out,t.total_in+=x,t.total_out+=E,i.total+=E,i.wrap&&E&&(t.adler=i.check=i.flags?r(i.check,u,E,t.next_out-E):n(i.check,u,E,t.next_out-E)),t.data_type=i.bits+(i.last?64:0)+(12===i.mode?128:0)+(20===i.mode||15===i.mode?256:0),(0==x&&0===E||4===e)&&0===R&&(R=-5),R)},i.inflateEnd=function(t){if(!t||!t.state)return h;var e=t.state;return e.window&&(e.window=null),t.state=null,0},i.inflateGetHeader=function(t,e){var i;return t&&t.state?0==(2&(i=t.state).wrap)?h:((i.head=e).done=!1,0):h},i.inflateSetDictionary=function(t,e){var i,s=e.length;return t&&t.state?0!==(i=t.state).wrap&&11!==i.mode?h:11===i.mode&&n(1,e,s,0)!==i.check?-3:y(t,e,s,s)?(i.mode=31,-4):(i.havedict=1,0):h},i.inflateInfo=\"pako inflate (from Nodeca project)\"},{\"../utils/common\":41,\"./adler32\":43,\"./crc32\":45,\"./inffast\":48,\"./inftrees\":50}],50:[function(t,e,i){\"use strict\";var s=t(\"../utils/common\"),n=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],r=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],o=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],a=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64];e.exports=function(t,e,i,h,l,c,u,d){var f,m,p,g,b,S,y,x,E,v=d.bits,_=0,w=0,M=0,T=0,P=0,L=0,A=0,I=0,C=0,R=0,N=null,B=0,F=new s.Buf16(16),D=new s.Buf16(16),k=null,O=0;for(_=0;_<=15;_++)F[_]=0;for(w=0;w<h;w++)F[e[i+w]]++;for(P=v,T=15;1<=T&&0===F[T];T--);if(T<P&&(P=T),0===T)return l[c++]=20971520,l[c++]=20971520,d.bits=1,0;for(M=1;M<T&&0===F[M];M++);for(P<M&&(P=M),_=I=1;_<=15;_++)if(I<<=1,(I-=F[_])<0)return-1;if(0<I&&(0===t||1!==T))return-1;for(D[1]=0,_=1;_<15;_++)D[_+1]=D[_]+F[_];for(w=0;w<h;w++)0!==e[i+w]&&(u[D[e[i+w]]++]=w);if(S=0===t?(N=k=u,19):1===t?(N=n,B-=257,k=r,O-=257,256):(N=o,k=a,-1),_=M,b=c,A=w=R=0,p=-1,g=(C=1<<(L=P))-1,1===t&&852<C||2===t&&592<C)return 1;for(;;){for(y=_-A,E=u[w]<S?(x=0,u[w]):u[w]>S?(x=k[O+u[w]],N[B+u[w]]):(x=96,0),f=1<<_-A,M=m=1<<L;l[b+(R>>A)+(m-=f)]=y<<24|x<<16|E|0,0!==m;);for(f=1<<_-1;R&f;)f>>=1;if(0!==f?(R&=f-1,R+=f):R=0,w++,0==--F[_]){if(_===T)break;_=e[i+u[w]]}if(P<_&&(R&g)!==p){for(0===A&&(A=P),b+=M,I=1<<(L=_-A);L+A<T&&!((I-=F[L+A])<=0);)L++,I<<=1;if(C+=1<<L,1===t&&852<C||2===t&&592<C)return 1;l[p=R&g]=P<<24|L<<16|b-c|0}}return 0!==R&&(l[b+R]=_-A<<24|64<<16|0),d.bits=P,0}},{\"../utils/common\":41}],51:[function(t,e,i){\"use strict\";e.exports={2:\"need dictionary\",1:\"stream end\",0:\"\",\"-1\":\"file error\",\"-2\":\"stream error\",\"-3\":\"data error\",\"-4\":\"insufficient memory\",\"-5\":\"buffer error\",\"-6\":\"incompatible version\"}},{}],52:[function(t,e,i){\"use strict\";var s=t(\"../utils/common\");function n(t){for(var e=t.length;0<=--e;)t[e]=0}var r=256,o=286,a=30,h=15,l=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],c=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],u=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],d=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],f=new Array(576);n(f);var m=new Array(60);n(m);var p=new Array(512);n(p);var g=new Array(256);n(g);var b=new Array(29);n(b);var S,y,x,E=new Array(a);function v(t,e,i,s,n){this.static_tree=t,this.extra_bits=e,this.extra_base=i,this.elems=s,this.max_length=n,this.has_stree=t&&t.length}function _(t,e){this.dyn_tree=t,this.max_code=0,this.stat_desc=e}function w(t){return t<256?p[t]:p[256+(t>>>7)]}function M(t,e){t.pending_buf[t.pending++]=255&e,t.pending_buf[t.pending++]=e>>>8&255}function T(t,e,i){t.bi_valid>16-i?(t.bi_buf|=e<<t.bi_valid&65535,M(t,t.bi_buf),t.bi_buf=e>>16-t.bi_valid,t.bi_valid+=i-16):(t.bi_buf|=e<<t.bi_valid&65535,t.bi_valid+=i)}function P(t,e,i){T(t,i[2*e],i[2*e+1])}function L(t,e){for(var i=0;i|=1&t,t>>>=1,i<<=1,0<--e;);return i>>>1}function A(t,e,i){var s,n,r=new Array(16),o=0;for(s=1;s<=h;s++)r[s]=o=o+i[s-1]<<1;for(n=0;n<=e;n++){var a=t[2*n+1];0!==a&&(t[2*n]=L(r[a]++,a))}}function I(t){var e;for(e=0;e<o;e++)t.dyn_ltree[2*e]=0;for(e=0;e<a;e++)t.dyn_dtree[2*e]=0;for(e=0;e<19;e++)t.bl_tree[2*e]=0;t.dyn_ltree[512]=1,t.opt_len=t.static_len=0,t.last_lit=t.matches=0}function C(t){8<t.bi_valid?M(t,t.bi_buf):0<t.bi_valid&&(t.pending_buf[t.pending++]=t.bi_buf),t.bi_buf=0,t.bi_valid=0}function R(t,e,i,s){var n=2*e,r=2*i;return t[n]<t[r]||t[n]===t[r]&&s[e]<=s[i]}function N(t,e,i){for(var s=t.heap[i],n=i<<1;n<=t.heap_len&&(n<t.heap_len&&R(e,t.heap[n+1],t.heap[n],t.depth)&&n++,!R(e,s,t.heap[n],t.depth));)t.heap[i]=t.heap[n],i=n,n<<=1;t.heap[i]=s}function B(t,e,i){var s,n,o,a,h=0;if(0!==t.last_lit)for(;s=t.pending_buf[t.d_buf+2*h]<<8|t.pending_buf[t.d_buf+2*h+1],n=t.pending_buf[t.l_buf+h],h++,0===s?P(t,n,e):(P(t,(o=g[n])+r+1,e),0!==(a=l[o])&&T(t,n-=b[o],a),P(t,o=w(--s),i),0!==(a=c[o])&&T(t,s-=E[o],a)),h<t.last_lit;);P(t,256,e)}function F(t,e){var i,s,n,r=e.dyn_tree,o=e.stat_desc.static_tree,a=e.stat_desc.has_stree,l=e.stat_desc.elems,c=-1;for(t.heap_len=0,t.heap_max=573,i=0;i<l;i++)0!==r[2*i]?(t.heap[++t.heap_len]=c=i,t.depth[i]=0):r[2*i+1]=0;for(;t.heap_len<2;)r[2*(n=t.heap[++t.heap_len]=c<2?++c:0)]=1,t.depth[n]=0,t.opt_len--,a&&(t.static_len-=o[2*n+1]);for(e.max_code=c,i=t.heap_len>>1;1<=i;i--)N(t,r,i);for(n=l;i=t.heap[1],t.heap[1]=t.heap[t.heap_len--],N(t,r,1),s=t.heap[1],t.heap[--t.heap_max]=i,t.heap[--t.heap_max]=s,r[2*n]=r[2*i]+r[2*s],t.depth[n]=(t.depth[i]>=t.depth[s]?t.depth[i]:t.depth[s])+1,r[2*i+1]=r[2*s+1]=n,t.heap[1]=n++,N(t,r,1),2<=t.heap_len;);t.heap[--t.heap_max]=t.heap[1],function(t,e){var i,s,n,r,o,a,l=e.dyn_tree,c=e.max_code,u=e.stat_desc.static_tree,d=e.stat_desc.has_stree,f=e.stat_desc.extra_bits,m=e.stat_desc.extra_base,p=e.stat_desc.max_length,g=0;for(r=0;r<=h;r++)t.bl_count[r]=0;for(l[2*t.heap[t.heap_max]+1]=0,i=t.heap_max+1;i<573;i++)p<(r=l[2*l[2*(s=t.heap[i])+1]+1]+1)&&(r=p,g++),l[2*s+1]=r,c<s||(t.bl_count[r]++,o=0,m<=s&&(o=f[s-m]),a=l[2*s],t.opt_len+=a*(r+o),d&&(t.static_len+=a*(u[2*s+1]+o)));if(0!==g){do{for(r=p-1;0===t.bl_count[r];)r--;t.bl_count[r]--,t.bl_count[r+1]+=2,t.bl_count[p]--,g-=2}while(0<g);for(r=p;0!==r;r--)for(s=t.bl_count[r];0!==s;)c<(n=t.heap[--i])||(l[2*n+1]!==r&&(t.opt_len+=(r-l[2*n+1])*l[2*n],l[2*n+1]=r),s--)}}(t,e),A(r,c,t.bl_count)}function D(t,e,i){var s,n,r=-1,o=e[1],a=0,h=7,l=4;for(0===o&&(h=138,l=3),e[2*(i+1)+1]=65535,s=0;s<=i;s++)n=o,o=e[2*(s+1)+1],++a<h&&n===o||(a<l?t.bl_tree[2*n]+=a:0!==n?(n!==r&&t.bl_tree[2*n]++,t.bl_tree[32]++):a<=10?t.bl_tree[34]++:t.bl_tree[36]++,r=n,l=(a=0)===o?(h=138,3):n===o?(h=6,3):(h=7,4))}function k(t,e,i){var s,n,r=-1,o=e[1],a=0,h=7,l=4;for(0===o&&(h=138,l=3),s=0;s<=i;s++)if(n=o,o=e[2*(s+1)+1],!(++a<h&&n===o)){if(a<l)for(;P(t,n,t.bl_tree),0!=--a;);else 0!==n?(n!==r&&(P(t,n,t.bl_tree),a--),P(t,16,t.bl_tree),T(t,a-3,2)):a<=10?(P(t,17,t.bl_tree),T(t,a-3,3)):(P(t,18,t.bl_tree),T(t,a-11,7));r=n,l=(a=0)===o?(h=138,3):n===o?(h=6,3):(h=7,4)}}n(E);var O=!1;function V(t,e,i,n){T(t,0+(n?1:0),3),function(t,e,i,n){C(t),M(t,i),M(t,~i),s.arraySet(t.pending_buf,t.window,e,i,t.pending),t.pending+=i}(t,e,i)}i._tr_init=function(t){O||(function(){var t,e,i,s,n,r=new Array(16);for(s=i=0;s<28;s++)for(b[s]=i,t=0;t<1<<l[s];t++)g[i++]=s;for(g[i-1]=s,s=n=0;s<16;s++)for(E[s]=n,t=0;t<1<<c[s];t++)p[n++]=s;for(n>>=7;s<a;s++)for(E[s]=n<<7,t=0;t<1<<c[s]-7;t++)p[256+n++]=s;for(e=0;e<=h;e++)r[e]=0;for(t=0;t<=143;)f[2*t+1]=8,t++,r[8]++;for(;t<=255;)f[2*t+1]=9,t++,r[9]++;for(;t<=279;)f[2*t+1]=7,t++,r[7]++;for(;t<=287;)f[2*t+1]=8,t++,r[8]++;for(A(f,287,r),t=0;t<a;t++)m[2*t+1]=5,m[2*t]=L(t,5);S=new v(f,l,257,o,h),y=new v(m,c,0,a,h),x=new v(new Array(0),u,0,19,7)}(),O=!0),t.l_desc=new _(t.dyn_ltree,S),t.d_desc=new _(t.dyn_dtree,y),t.bl_desc=new _(t.bl_tree,x),t.bi_buf=0,t.bi_valid=0,I(t)},i._tr_stored_block=V,i._tr_flush_block=function(t,e,i,s){var n,o,a=0;0<t.level?(2===t.strm.data_type&&(t.strm.data_type=function(t){var e,i=4093624447;for(e=0;e<=31;e++,i>>>=1)if(1&i&&0!==t.dyn_ltree[2*e])return 0;if(0!==t.dyn_ltree[18]||0!==t.dyn_ltree[20]||0!==t.dyn_ltree[26])return 1;for(e=32;e<r;e++)if(0!==t.dyn_ltree[2*e])return 1;return 0}(t)),F(t,t.l_desc),F(t,t.d_desc),a=function(t){var e;for(D(t,t.dyn_ltree,t.l_desc.max_code),D(t,t.dyn_dtree,t.d_desc.max_code),F(t,t.bl_desc),e=18;3<=e&&0===t.bl_tree[2*d[e]+1];e--);return t.opt_len+=3*(e+1)+5+5+4,e}(t),n=t.opt_len+3+7>>>3,(o=t.static_len+3+7>>>3)<=n&&(n=o)):n=o=i+5,i+4<=n&&-1!==e?V(t,e,i,s):4===t.strategy||o===n?(T(t,2+(s?1:0),3),B(t,f,m)):(T(t,4+(s?1:0),3),function(t,e,i,s){var n;for(T(t,e-257,5),T(t,i-1,5),T(t,s-4,4),n=0;n<s;n++)T(t,t.bl_tree[2*d[n]+1],3);k(t,t.dyn_ltree,e-1),k(t,t.dyn_dtree,i-1)}(t,t.l_desc.max_code+1,t.d_desc.max_code+1,a+1),B(t,t.dyn_ltree,t.dyn_dtree)),I(t),s&&C(t)},i._tr_tally=function(t,e,i){return t.pending_buf[t.d_buf+2*t.last_lit]=e>>>8&255,t.pending_buf[t.d_buf+2*t.last_lit+1]=255&e,t.pending_buf[t.l_buf+t.last_lit]=255&i,t.last_lit++,0===e?t.dyn_ltree[2*i]++:(t.matches++,e--,t.dyn_ltree[2*(g[i]+r+1)]++,t.dyn_dtree[2*w(e)]++),t.last_lit===t.lit_bufsize-1},i._tr_align=function(t){T(t,2,3),P(t,256,f),function(t){16===t.bi_valid?(M(t,t.bi_buf),t.bi_buf=0,t.bi_valid=0):8<=t.bi_valid&&(t.pending_buf[t.pending++]=255&t.bi_buf,t.bi_buf>>=8,t.bi_valid-=8)}(t)}},{\"../utils/common\":41}],53:[function(t,e,i){\"use strict\";e.exports=function(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg=\"\",this.state=null,this.data_type=2,this.adler=0}},{}],54:[function(t,e,i){\"use strict\";e.exports=\"function\"==typeof s?s:function(){var t=[].slice.apply(arguments);t.splice(1,0,0),setTimeout.apply(null,t)}},{}]},{},[10])(10)}).call(this,i(173).Buffer,i(40),i(177).setImmediate)},function(t,e,i){\"use strict\";(function(t){\n/*!\n * The buffer module from node.js, for the browser.\n *\n * @author   Feross Aboukhadijeh <http://feross.org>\n * @license  MIT\n */\nvar s=i(174),n=i(175),r=i(176);function o(){return h.TYPED_ARRAY_SUPPORT?2147483647:1073741823}function a(t,e){if(o()<e)throw new RangeError(\"Invalid typed array length\");return h.TYPED_ARRAY_SUPPORT?(t=new Uint8Array(e)).__proto__=h.prototype:(null===t&&(t=new h(e)),t.length=e),t}function h(t,e,i){if(!(h.TYPED_ARRAY_SUPPORT||this instanceof h))return new h(t,e,i);if(\"number\"==typeof t){if(\"string\"==typeof e)throw new Error(\"If encoding is specified then the first argument must be a string\");return u(this,t)}return l(this,t,e,i)}function l(t,e,i,s){if(\"number\"==typeof e)throw new TypeError('\"value\" argument must not be a number');return\"undefined\"!=typeof ArrayBuffer&&e instanceof ArrayBuffer?function(t,e,i,s){if(e.byteLength,i<0||e.byteLength<i)throw new RangeError(\"'offset' is out of bounds\");if(e.byteLength<i+(s||0))throw new RangeError(\"'length' is out of bounds\");e=void 0===i&&void 0===s?new Uint8Array(e):void 0===s?new Uint8Array(e,i):new Uint8Array(e,i,s);h.TYPED_ARRAY_SUPPORT?(t=e).__proto__=h.prototype:t=d(t,e);return t}(t,e,i,s):\"string\"==typeof e?function(t,e,i){\"string\"==typeof i&&\"\"!==i||(i=\"utf8\");if(!h.isEncoding(i))throw new TypeError('\"encoding\" must be a valid string encoding');var s=0|m(e,i),n=(t=a(t,s)).write(e,i);n!==s&&(t=t.slice(0,n));return t}(t,e,i):function(t,e){if(h.isBuffer(e)){var i=0|f(e.length);return 0===(t=a(t,i)).length||e.copy(t,0,0,i),t}if(e){if(\"undefined\"!=typeof ArrayBuffer&&e.buffer instanceof ArrayBuffer||\"length\"in e)return\"number\"!=typeof e.length||(s=e.length)!=s?a(t,0):d(t,e);if(\"Buffer\"===e.type&&r(e.data))return d(t,e.data)}var s;throw new TypeError(\"First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.\")}(t,e)}function c(t){if(\"number\"!=typeof t)throw new TypeError('\"size\" argument must be a number');if(t<0)throw new RangeError('\"size\" argument must not be negative')}function u(t,e){if(c(e),t=a(t,e<0?0:0|f(e)),!h.TYPED_ARRAY_SUPPORT)for(var i=0;i<e;++i)t[i]=0;return t}function d(t,e){var i=e.length<0?0:0|f(e.length);t=a(t,i);for(var s=0;s<i;s+=1)t[s]=255&e[s];return t}function f(t){if(t>=o())throw new RangeError(\"Attempt to allocate Buffer larger than maximum size: 0x\"+o().toString(16)+\" bytes\");return 0|t}function m(t,e){if(h.isBuffer(t))return t.length;if(\"undefined\"!=typeof ArrayBuffer&&\"function\"==typeof ArrayBuffer.isView&&(ArrayBuffer.isView(t)||t instanceof ArrayBuffer))return t.byteLength;\"string\"!=typeof t&&(t=\"\"+t);var i=t.length;if(0===i)return 0;for(var s=!1;;)switch(e){case\"ascii\":case\"latin1\":case\"binary\":return i;case\"utf8\":case\"utf-8\":case void 0:return G(t).length;case\"ucs2\":case\"ucs-2\":case\"utf16le\":case\"utf-16le\":return 2*i;case\"hex\":return i>>>1;case\"base64\":return W(t).length;default:if(s)return G(t).length;e=(\"\"+e).toLowerCase(),s=!0}}function p(t,e,i){var s=!1;if((void 0===e||e<0)&&(e=0),e>this.length)return\"\";if((void 0===i||i>this.length)&&(i=this.length),i<=0)return\"\";if((i>>>=0)<=(e>>>=0))return\"\";for(t||(t=\"utf8\");;)switch(t){case\"hex\":return A(this,e,i);case\"utf8\":case\"utf-8\":return T(this,e,i);case\"ascii\":return P(this,e,i);case\"latin1\":case\"binary\":return L(this,e,i);case\"base64\":return M(this,e,i);case\"ucs2\":case\"ucs-2\":case\"utf16le\":case\"utf-16le\":return I(this,e,i);default:if(s)throw new TypeError(\"Unknown encoding: \"+t);t=(t+\"\").toLowerCase(),s=!0}}function g(t,e,i){var s=t[e];t[e]=t[i],t[i]=s}function b(t,e,i,s,n){if(0===t.length)return-1;if(\"string\"==typeof i?(s=i,i=0):i>2147483647?i=2147483647:i<-2147483648&&(i=-2147483648),i=+i,isNaN(i)&&(i=n?0:t.length-1),i<0&&(i=t.length+i),i>=t.length){if(n)return-1;i=t.length-1}else if(i<0){if(!n)return-1;i=0}if(\"string\"==typeof e&&(e=h.from(e,s)),h.isBuffer(e))return 0===e.length?-1:S(t,e,i,s,n);if(\"number\"==typeof e)return e&=255,h.TYPED_ARRAY_SUPPORT&&\"function\"==typeof Uint8Array.prototype.indexOf?n?Uint8Array.prototype.indexOf.call(t,e,i):Uint8Array.prototype.lastIndexOf.call(t,e,i):S(t,[e],i,s,n);throw new TypeError(\"val must be string, number or Buffer\")}function S(t,e,i,s,n){var r,o=1,a=t.length,h=e.length;if(void 0!==s&&(\"ucs2\"===(s=String(s).toLowerCase())||\"ucs-2\"===s||\"utf16le\"===s||\"utf-16le\"===s)){if(t.length<2||e.length<2)return-1;o=2,a/=2,h/=2,i/=2}function l(t,e){return 1===o?t[e]:t.readUInt16BE(e*o)}if(n){var c=-1;for(r=i;r<a;r++)if(l(t,r)===l(e,-1===c?0:r-c)){if(-1===c&&(c=r),r-c+1===h)return c*o}else-1!==c&&(r-=r-c),c=-1}else for(i+h>a&&(i=a-h),r=i;r>=0;r--){for(var u=!0,d=0;d<h;d++)if(l(t,r+d)!==l(e,d)){u=!1;break}if(u)return r}return-1}function y(t,e,i,s){i=Number(i)||0;var n=t.length-i;s?(s=Number(s))>n&&(s=n):s=n;var r=e.length;if(r%2!=0)throw new TypeError(\"Invalid hex string\");s>r/2&&(s=r/2);for(var o=0;o<s;++o){var a=parseInt(e.substr(2*o,2),16);if(isNaN(a))return o;t[i+o]=a}return o}function x(t,e,i,s){return z(G(e,t.length-i),t,i,s)}function E(t,e,i,s){return z(function(t){for(var e=[],i=0;i<t.length;++i)e.push(255&t.charCodeAt(i));return e}(e),t,i,s)}function v(t,e,i,s){return E(t,e,i,s)}function _(t,e,i,s){return z(W(e),t,i,s)}function w(t,e,i,s){return z(function(t,e){for(var i,s,n,r=[],o=0;o<t.length&&!((e-=2)<0);++o)i=t.charCodeAt(o),s=i>>8,n=i%256,r.push(n),r.push(s);return r}(e,t.length-i),t,i,s)}function M(t,e,i){return 0===e&&i===t.length?s.fromByteArray(t):s.fromByteArray(t.slice(e,i))}function T(t,e,i){i=Math.min(t.length,i);for(var s=[],n=e;n<i;){var r,o,a,h,l=t[n],c=null,u=l>239?4:l>223?3:l>191?2:1;if(n+u<=i)switch(u){case 1:l<128&&(c=l);break;case 2:128==(192&(r=t[n+1]))&&(h=(31&l)<<6|63&r)>127&&(c=h);break;case 3:r=t[n+1],o=t[n+2],128==(192&r)&&128==(192&o)&&(h=(15&l)<<12|(63&r)<<6|63&o)>2047&&(h<55296||h>57343)&&(c=h);break;case 4:r=t[n+1],o=t[n+2],a=t[n+3],128==(192&r)&&128==(192&o)&&128==(192&a)&&(h=(15&l)<<18|(63&r)<<12|(63&o)<<6|63&a)>65535&&h<1114112&&(c=h)}null===c?(c=65533,u=1):c>65535&&(c-=65536,s.push(c>>>10&1023|55296),c=56320|1023&c),s.push(c),n+=u}return function(t){var e=t.length;if(e<=4096)return String.fromCharCode.apply(String,t);var i=\"\",s=0;for(;s<e;)i+=String.fromCharCode.apply(String,t.slice(s,s+=4096));return i}(s)}e.Buffer=h,e.SlowBuffer=function(t){+t!=t&&(t=0);return h.alloc(+t)},e.INSPECT_MAX_BYTES=50,h.TYPED_ARRAY_SUPPORT=void 0!==t.TYPED_ARRAY_SUPPORT?t.TYPED_ARRAY_SUPPORT:function(){try{var t=new Uint8Array(1);return t.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},42===t.foo()&&\"function\"==typeof t.subarray&&0===t.subarray(1,1).byteLength}catch(t){return!1}}(),e.kMaxLength=o(),h.poolSize=8192,h._augment=function(t){return t.__proto__=h.prototype,t},h.from=function(t,e,i){return l(null,t,e,i)},h.TYPED_ARRAY_SUPPORT&&(h.prototype.__proto__=Uint8Array.prototype,h.__proto__=Uint8Array,\"undefined\"!=typeof Symbol&&Symbol.species&&h[Symbol.species]===h&&Object.defineProperty(h,Symbol.species,{value:null,configurable:!0})),h.alloc=function(t,e,i){return function(t,e,i,s){return c(e),e<=0?a(t,e):void 0!==i?\"string\"==typeof s?a(t,e).fill(i,s):a(t,e).fill(i):a(t,e)}(null,t,e,i)},h.allocUnsafe=function(t){return u(null,t)},h.allocUnsafeSlow=function(t){return u(null,t)},h.isBuffer=function(t){return!(null==t||!t._isBuffer)},h.compare=function(t,e){if(!h.isBuffer(t)||!h.isBuffer(e))throw new TypeError(\"Arguments must be Buffers\");if(t===e)return 0;for(var i=t.length,s=e.length,n=0,r=Math.min(i,s);n<r;++n)if(t[n]!==e[n]){i=t[n],s=e[n];break}return i<s?-1:s<i?1:0},h.isEncoding=function(t){switch(String(t).toLowerCase()){case\"hex\":case\"utf8\":case\"utf-8\":case\"ascii\":case\"latin1\":case\"binary\":case\"base64\":case\"ucs2\":case\"ucs-2\":case\"utf16le\":case\"utf-16le\":return!0;default:return!1}},h.concat=function(t,e){if(!r(t))throw new TypeError('\"list\" argument must be an Array of Buffers');if(0===t.length)return h.alloc(0);var i;if(void 0===e)for(e=0,i=0;i<t.length;++i)e+=t[i].length;var s=h.allocUnsafe(e),n=0;for(i=0;i<t.length;++i){var o=t[i];if(!h.isBuffer(o))throw new TypeError('\"list\" argument must be an Array of Buffers');o.copy(s,n),n+=o.length}return s},h.byteLength=m,h.prototype._isBuffer=!0,h.prototype.swap16=function(){var t=this.length;if(t%2!=0)throw new RangeError(\"Buffer size must be a multiple of 16-bits\");for(var e=0;e<t;e+=2)g(this,e,e+1);return this},h.prototype.swap32=function(){var t=this.length;if(t%4!=0)throw new RangeError(\"Buffer size must be a multiple of 32-bits\");for(var e=0;e<t;e+=4)g(this,e,e+3),g(this,e+1,e+2);return this},h.prototype.swap64=function(){var t=this.length;if(t%8!=0)throw new RangeError(\"Buffer size must be a multiple of 64-bits\");for(var e=0;e<t;e+=8)g(this,e,e+7),g(this,e+1,e+6),g(this,e+2,e+5),g(this,e+3,e+4);return this},h.prototype.toString=function(){var t=0|this.length;return 0===t?\"\":0===arguments.length?T(this,0,t):p.apply(this,arguments)},h.prototype.equals=function(t){if(!h.isBuffer(t))throw new TypeError(\"Argument must be a Buffer\");return this===t||0===h.compare(this,t)},h.prototype.inspect=function(){var t=\"\",i=e.INSPECT_MAX_BYTES;return this.length>0&&(t=this.toString(\"hex\",0,i).match(/.{2}/g).join(\" \"),this.length>i&&(t+=\" ... \")),\"<Buffer \"+t+\">\"},h.prototype.compare=function(t,e,i,s,n){if(!h.isBuffer(t))throw new TypeError(\"Argument must be a Buffer\");if(void 0===e&&(e=0),void 0===i&&(i=t?t.length:0),void 0===s&&(s=0),void 0===n&&(n=this.length),e<0||i>t.length||s<0||n>this.length)throw new RangeError(\"out of range index\");if(s>=n&&e>=i)return 0;if(s>=n)return-1;if(e>=i)return 1;if(this===t)return 0;for(var r=(n>>>=0)-(s>>>=0),o=(i>>>=0)-(e>>>=0),a=Math.min(r,o),l=this.slice(s,n),c=t.slice(e,i),u=0;u<a;++u)if(l[u]!==c[u]){r=l[u],o=c[u];break}return r<o?-1:o<r?1:0},h.prototype.includes=function(t,e,i){return-1!==this.indexOf(t,e,i)},h.prototype.indexOf=function(t,e,i){return b(this,t,e,i,!0)},h.prototype.lastIndexOf=function(t,e,i){return b(this,t,e,i,!1)},h.prototype.write=function(t,e,i,s){if(void 0===e)s=\"utf8\",i=this.length,e=0;else if(void 0===i&&\"string\"==typeof e)s=e,i=this.length,e=0;else{if(!isFinite(e))throw new Error(\"Buffer.write(string, encoding, offset[, length]) is no longer supported\");e|=0,isFinite(i)?(i|=0,void 0===s&&(s=\"utf8\")):(s=i,i=void 0)}var n=this.length-e;if((void 0===i||i>n)&&(i=n),t.length>0&&(i<0||e<0)||e>this.length)throw new RangeError(\"Attempt to write outside buffer bounds\");s||(s=\"utf8\");for(var r=!1;;)switch(s){case\"hex\":return y(this,t,e,i);case\"utf8\":case\"utf-8\":return x(this,t,e,i);case\"ascii\":return E(this,t,e,i);case\"latin1\":case\"binary\":return v(this,t,e,i);case\"base64\":return _(this,t,e,i);case\"ucs2\":case\"ucs-2\":case\"utf16le\":case\"utf-16le\":return w(this,t,e,i);default:if(r)throw new TypeError(\"Unknown encoding: \"+s);s=(\"\"+s).toLowerCase(),r=!0}},h.prototype.toJSON=function(){return{type:\"Buffer\",data:Array.prototype.slice.call(this._arr||this,0)}};function P(t,e,i){var s=\"\";i=Math.min(t.length,i);for(var n=e;n<i;++n)s+=String.fromCharCode(127&t[n]);return s}function L(t,e,i){var s=\"\";i=Math.min(t.length,i);for(var n=e;n<i;++n)s+=String.fromCharCode(t[n]);return s}function A(t,e,i){var s=t.length;(!e||e<0)&&(e=0),(!i||i<0||i>s)&&(i=s);for(var n=\"\",r=e;r<i;++r)n+=V(t[r]);return n}function I(t,e,i){for(var s=t.slice(e,i),n=\"\",r=0;r<s.length;r+=2)n+=String.fromCharCode(s[r]+256*s[r+1]);return n}function C(t,e,i){if(t%1!=0||t<0)throw new RangeError(\"offset is not uint\");if(t+e>i)throw new RangeError(\"Trying to access beyond buffer length\")}function R(t,e,i,s,n,r){if(!h.isBuffer(t))throw new TypeError('\"buffer\" argument must be a Buffer instance');if(e>n||e<r)throw new RangeError('\"value\" argument is out of bounds');if(i+s>t.length)throw new RangeError(\"Index out of range\")}function N(t,e,i,s){e<0&&(e=65535+e+1);for(var n=0,r=Math.min(t.length-i,2);n<r;++n)t[i+n]=(e&255<<8*(s?n:1-n))>>>8*(s?n:1-n)}function B(t,e,i,s){e<0&&(e=4294967295+e+1);for(var n=0,r=Math.min(t.length-i,4);n<r;++n)t[i+n]=e>>>8*(s?n:3-n)&255}function F(t,e,i,s,n,r){if(i+s>t.length)throw new RangeError(\"Index out of range\");if(i<0)throw new RangeError(\"Index out of range\")}function D(t,e,i,s,r){return r||F(t,0,i,4),n.write(t,e,i,s,23,4),i+4}function k(t,e,i,s,r){return r||F(t,0,i,8),n.write(t,e,i,s,52,8),i+8}h.prototype.slice=function(t,e){var i,s=this.length;if((t=~~t)<0?(t+=s)<0&&(t=0):t>s&&(t=s),(e=void 0===e?s:~~e)<0?(e+=s)<0&&(e=0):e>s&&(e=s),e<t&&(e=t),h.TYPED_ARRAY_SUPPORT)(i=this.subarray(t,e)).__proto__=h.prototype;else{var n=e-t;i=new h(n,void 0);for(var r=0;r<n;++r)i[r]=this[r+t]}return i},h.prototype.readUIntLE=function(t,e,i){t|=0,e|=0,i||C(t,e,this.length);for(var s=this[t],n=1,r=0;++r<e&&(n*=256);)s+=this[t+r]*n;return s},h.prototype.readUIntBE=function(t,e,i){t|=0,e|=0,i||C(t,e,this.length);for(var s=this[t+--e],n=1;e>0&&(n*=256);)s+=this[t+--e]*n;return s},h.prototype.readUInt8=function(t,e){return e||C(t,1,this.length),this[t]},h.prototype.readUInt16LE=function(t,e){return e||C(t,2,this.length),this[t]|this[t+1]<<8},h.prototype.readUInt16BE=function(t,e){return e||C(t,2,this.length),this[t]<<8|this[t+1]},h.prototype.readUInt32LE=function(t,e){return e||C(t,4,this.length),(this[t]|this[t+1]<<8|this[t+2]<<16)+16777216*this[t+3]},h.prototype.readUInt32BE=function(t,e){return e||C(t,4,this.length),16777216*this[t]+(this[t+1]<<16|this[t+2]<<8|this[t+3])},h.prototype.readIntLE=function(t,e,i){t|=0,e|=0,i||C(t,e,this.length);for(var s=this[t],n=1,r=0;++r<e&&(n*=256);)s+=this[t+r]*n;return s>=(n*=128)&&(s-=Math.pow(2,8*e)),s},h.prototype.readIntBE=function(t,e,i){t|=0,e|=0,i||C(t,e,this.length);for(var s=e,n=1,r=this[t+--s];s>0&&(n*=256);)r+=this[t+--s]*n;return r>=(n*=128)&&(r-=Math.pow(2,8*e)),r},h.prototype.readInt8=function(t,e){return e||C(t,1,this.length),128&this[t]?-1*(255-this[t]+1):this[t]},h.prototype.readInt16LE=function(t,e){e||C(t,2,this.length);var i=this[t]|this[t+1]<<8;return 32768&i?4294901760|i:i},h.prototype.readInt16BE=function(t,e){e||C(t,2,this.length);var i=this[t+1]|this[t]<<8;return 32768&i?4294901760|i:i},h.prototype.readInt32LE=function(t,e){return e||C(t,4,this.length),this[t]|this[t+1]<<8|this[t+2]<<16|this[t+3]<<24},h.prototype.readInt32BE=function(t,e){return e||C(t,4,this.length),this[t]<<24|this[t+1]<<16|this[t+2]<<8|this[t+3]},h.prototype.readFloatLE=function(t,e){return e||C(t,4,this.length),n.read(this,t,!0,23,4)},h.prototype.readFloatBE=function(t,e){return e||C(t,4,this.length),n.read(this,t,!1,23,4)},h.prototype.readDoubleLE=function(t,e){return e||C(t,8,this.length),n.read(this,t,!0,52,8)},h.prototype.readDoubleBE=function(t,e){return e||C(t,8,this.length),n.read(this,t,!1,52,8)},h.prototype.writeUIntLE=function(t,e,i,s){(t=+t,e|=0,i|=0,s)||R(this,t,e,i,Math.pow(2,8*i)-1,0);var n=1,r=0;for(this[e]=255&t;++r<i&&(n*=256);)this[e+r]=t/n&255;return e+i},h.prototype.writeUIntBE=function(t,e,i,s){(t=+t,e|=0,i|=0,s)||R(this,t,e,i,Math.pow(2,8*i)-1,0);var n=i-1,r=1;for(this[e+n]=255&t;--n>=0&&(r*=256);)this[e+n]=t/r&255;return e+i},h.prototype.writeUInt8=function(t,e,i){return t=+t,e|=0,i||R(this,t,e,1,255,0),h.TYPED_ARRAY_SUPPORT||(t=Math.floor(t)),this[e]=255&t,e+1},h.prototype.writeUInt16LE=function(t,e,i){return t=+t,e|=0,i||R(this,t,e,2,65535,0),h.TYPED_ARRAY_SUPPORT?(this[e]=255&t,this[e+1]=t>>>8):N(this,t,e,!0),e+2},h.prototype.writeUInt16BE=function(t,e,i){return t=+t,e|=0,i||R(this,t,e,2,65535,0),h.TYPED_ARRAY_SUPPORT?(this[e]=t>>>8,this[e+1]=255&t):N(this,t,e,!1),e+2},h.prototype.writeUInt32LE=function(t,e,i){return t=+t,e|=0,i||R(this,t,e,4,4294967295,0),h.TYPED_ARRAY_SUPPORT?(this[e+3]=t>>>24,this[e+2]=t>>>16,this[e+1]=t>>>8,this[e]=255&t):B(this,t,e,!0),e+4},h.prototype.writeUInt32BE=function(t,e,i){return t=+t,e|=0,i||R(this,t,e,4,4294967295,0),h.TYPED_ARRAY_SUPPORT?(this[e]=t>>>24,this[e+1]=t>>>16,this[e+2]=t>>>8,this[e+3]=255&t):B(this,t,e,!1),e+4},h.prototype.writeIntLE=function(t,e,i,s){if(t=+t,e|=0,!s){var n=Math.pow(2,8*i-1);R(this,t,e,i,n-1,-n)}var r=0,o=1,a=0;for(this[e]=255&t;++r<i&&(o*=256);)t<0&&0===a&&0!==this[e+r-1]&&(a=1),this[e+r]=(t/o>>0)-a&255;return e+i},h.prototype.writeIntBE=function(t,e,i,s){if(t=+t,e|=0,!s){var n=Math.pow(2,8*i-1);R(this,t,e,i,n-1,-n)}var r=i-1,o=1,a=0;for(this[e+r]=255&t;--r>=0&&(o*=256);)t<0&&0===a&&0!==this[e+r+1]&&(a=1),this[e+r]=(t/o>>0)-a&255;return e+i},h.prototype.writeInt8=function(t,e,i){return t=+t,e|=0,i||R(this,t,e,1,127,-128),h.TYPED_ARRAY_SUPPORT||(t=Math.floor(t)),t<0&&(t=255+t+1),this[e]=255&t,e+1},h.prototype.writeInt16LE=function(t,e,i){return t=+t,e|=0,i||R(this,t,e,2,32767,-32768),h.TYPED_ARRAY_SUPPORT?(this[e]=255&t,this[e+1]=t>>>8):N(this,t,e,!0),e+2},h.prototype.writeInt16BE=function(t,e,i){return t=+t,e|=0,i||R(this,t,e,2,32767,-32768),h.TYPED_ARRAY_SUPPORT?(this[e]=t>>>8,this[e+1]=255&t):N(this,t,e,!1),e+2},h.prototype.writeInt32LE=function(t,e,i){return t=+t,e|=0,i||R(this,t,e,4,2147483647,-2147483648),h.TYPED_ARRAY_SUPPORT?(this[e]=255&t,this[e+1]=t>>>8,this[e+2]=t>>>16,this[e+3]=t>>>24):B(this,t,e,!0),e+4},h.prototype.writeInt32BE=function(t,e,i){return t=+t,e|=0,i||R(this,t,e,4,2147483647,-2147483648),t<0&&(t=4294967295+t+1),h.TYPED_ARRAY_SUPPORT?(this[e]=t>>>24,this[e+1]=t>>>16,this[e+2]=t>>>8,this[e+3]=255&t):B(this,t,e,!1),e+4},h.prototype.writeFloatLE=function(t,e,i){return D(this,t,e,!0,i)},h.prototype.writeFloatBE=function(t,e,i){return D(this,t,e,!1,i)},h.prototype.writeDoubleLE=function(t,e,i){return k(this,t,e,!0,i)},h.prototype.writeDoubleBE=function(t,e,i){return k(this,t,e,!1,i)},h.prototype.copy=function(t,e,i,s){if(i||(i=0),s||0===s||(s=this.length),e>=t.length&&(e=t.length),e||(e=0),s>0&&s<i&&(s=i),s===i)return 0;if(0===t.length||0===this.length)return 0;if(e<0)throw new RangeError(\"targetStart out of bounds\");if(i<0||i>=this.length)throw new RangeError(\"sourceStart out of bounds\");if(s<0)throw new RangeError(\"sourceEnd out of bounds\");s>this.length&&(s=this.length),t.length-e<s-i&&(s=t.length-e+i);var n,r=s-i;if(this===t&&i<e&&e<s)for(n=r-1;n>=0;--n)t[n+e]=this[n+i];else if(r<1e3||!h.TYPED_ARRAY_SUPPORT)for(n=0;n<r;++n)t[n+e]=this[n+i];else Uint8Array.prototype.set.call(t,this.subarray(i,i+r),e);return r},h.prototype.fill=function(t,e,i,s){if(\"string\"==typeof t){if(\"string\"==typeof e?(s=e,e=0,i=this.length):\"string\"==typeof i&&(s=i,i=this.length),1===t.length){var n=t.charCodeAt(0);n<256&&(t=n)}if(void 0!==s&&\"string\"!=typeof s)throw new TypeError(\"encoding must be a string\");if(\"string\"==typeof s&&!h.isEncoding(s))throw new TypeError(\"Unknown encoding: \"+s)}else\"number\"==typeof t&&(t&=255);if(e<0||this.length<e||this.length<i)throw new RangeError(\"Out of range index\");if(i<=e)return this;var r;if(e>>>=0,i=void 0===i?this.length:i>>>0,t||(t=0),\"number\"==typeof t)for(r=e;r<i;++r)this[r]=t;else{var o=h.isBuffer(t)?t:G(new h(t,s).toString()),a=o.length;for(r=0;r<i-e;++r)this[r+e]=o[r%a]}return this};var O=/[^+\\/0-9A-Za-z-_]/g;function V(t){return t<16?\"0\"+t.toString(16):t.toString(16)}function G(t,e){var i;e=e||1/0;for(var s=t.length,n=null,r=[],o=0;o<s;++o){if((i=t.charCodeAt(o))>55295&&i<57344){if(!n){if(i>56319){(e-=3)>-1&&r.push(239,191,189);continue}if(o+1===s){(e-=3)>-1&&r.push(239,191,189);continue}n=i;continue}if(i<56320){(e-=3)>-1&&r.push(239,191,189),n=i;continue}i=65536+(n-55296<<10|i-56320)}else n&&(e-=3)>-1&&r.push(239,191,189);if(n=null,i<128){if((e-=1)<0)break;r.push(i)}else if(i<2048){if((e-=2)<0)break;r.push(i>>6|192,63&i|128)}else if(i<65536){if((e-=3)<0)break;r.push(i>>12|224,i>>6&63|128,63&i|128)}else{if(!(i<1114112))throw new Error(\"Invalid code point\");if((e-=4)<0)break;r.push(i>>18|240,i>>12&63|128,i>>6&63|128,63&i|128)}}return r}function W(t){return s.toByteArray(function(t){if((t=function(t){return t.trim?t.trim():t.replace(/^\\s+|\\s+$/g,\"\")}(t).replace(O,\"\")).length<2)return\"\";for(;t.length%4!=0;)t+=\"=\";return t}(t))}function z(t,e,i,s){for(var n=0;n<s&&!(n+i>=e.length||n>=t.length);++n)e[n+i]=t[n];return n}}).call(this,i(40))},function(t,e,i){\"use strict\";e.byteLength=function(t){var e=l(t),i=e[0],s=e[1];return 3*(i+s)/4-s},e.toByteArray=function(t){var e,i,s=l(t),o=s[0],a=s[1],h=new r(function(t,e,i){return 3*(e+i)/4-i}(0,o,a)),c=0,u=a>0?o-4:o;for(i=0;i<u;i+=4)e=n[t.charCodeAt(i)]<<18|n[t.charCodeAt(i+1)]<<12|n[t.charCodeAt(i+2)]<<6|n[t.charCodeAt(i+3)],h[c++]=e>>16&255,h[c++]=e>>8&255,h[c++]=255&e;2===a&&(e=n[t.charCodeAt(i)]<<2|n[t.charCodeAt(i+1)]>>4,h[c++]=255&e);1===a&&(e=n[t.charCodeAt(i)]<<10|n[t.charCodeAt(i+1)]<<4|n[t.charCodeAt(i+2)]>>2,h[c++]=e>>8&255,h[c++]=255&e);return h},e.fromByteArray=function(t){for(var e,i=t.length,n=i%3,r=[],o=0,a=i-n;o<a;o+=16383)r.push(c(t,o,o+16383>a?a:o+16383));1===n?(e=t[i-1],r.push(s[e>>2]+s[e<<4&63]+\"==\")):2===n&&(e=(t[i-2]<<8)+t[i-1],r.push(s[e>>10]+s[e>>4&63]+s[e<<2&63]+\"=\"));return r.join(\"\")};for(var s=[],n=[],r=\"undefined\"!=typeof Uint8Array?Uint8Array:Array,o=\"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/\",a=0,h=o.length;a<h;++a)s[a]=o[a],n[o.charCodeAt(a)]=a;function l(t){var e=t.length;if(e%4>0)throw new Error(\"Invalid string. Length must be a multiple of 4\");var i=t.indexOf(\"=\");return-1===i&&(i=e),[i,i===e?0:4-i%4]}function c(t,e,i){for(var n,r,o=[],a=e;a<i;a+=3)n=(t[a]<<16&16711680)+(t[a+1]<<8&65280)+(255&t[a+2]),o.push(s[(r=n)>>18&63]+s[r>>12&63]+s[r>>6&63]+s[63&r]);return o.join(\"\")}n[\"-\".charCodeAt(0)]=62,n[\"_\".charCodeAt(0)]=63},function(t,e){e.read=function(t,e,i,s,n){var r,o,a=8*n-s-1,h=(1<<a)-1,l=h>>1,c=-7,u=i?n-1:0,d=i?-1:1,f=t[e+u];for(u+=d,r=f&(1<<-c)-1,f>>=-c,c+=a;c>0;r=256*r+t[e+u],u+=d,c-=8);for(o=r&(1<<-c)-1,r>>=-c,c+=s;c>0;o=256*o+t[e+u],u+=d,c-=8);if(0===r)r=1-l;else{if(r===h)return o?NaN:1/0*(f?-1:1);o+=Math.pow(2,s),r-=l}return(f?-1:1)*o*Math.pow(2,r-s)},e.write=function(t,e,i,s,n,r){var o,a,h,l=8*r-n-1,c=(1<<l)-1,u=c>>1,d=23===n?Math.pow(2,-24)-Math.pow(2,-77):0,f=s?0:r-1,m=s?1:-1,p=e<0||0===e&&1/e<0?1:0;for(e=Math.abs(e),isNaN(e)||e===1/0?(a=isNaN(e)?1:0,o=c):(o=Math.floor(Math.log(e)/Math.LN2),e*(h=Math.pow(2,-o))<1&&(o--,h*=2),(e+=o+u>=1?d/h:d*Math.pow(2,1-u))*h>=2&&(o++,h/=2),o+u>=c?(a=0,o=c):o+u>=1?(a=(e*h-1)*Math.pow(2,n),o+=u):(a=e*Math.pow(2,u-1)*Math.pow(2,n),o=0));n>=8;t[i+f]=255&a,f+=m,a/=256,n-=8);for(o=o<<n|a,l+=n;l>0;t[i+f]=255&o,f+=m,o/=256,l-=8);t[i+f-m]|=128*p}},function(t,e){var i={}.toString;t.exports=Array.isArray||function(t){return\"[object Array]\"==i.call(t)}},function(t,e,i){(function(t){var s=void 0!==t&&t||\"undefined\"!=typeof self&&self||window,n=Function.prototype.apply;function r(t,e){this._id=t,this._clearFn=e}e.setTimeout=function(){return new r(n.call(setTimeout,s,arguments),clearTimeout)},e.setInterval=function(){return new r(n.call(setInterval,s,arguments),clearInterval)},e.clearTimeout=e.clearInterval=function(t){t&&t.close()},r.prototype.unref=r.prototype.ref=function(){},r.prototype.close=function(){this._clearFn.call(s,this._id)},e.enroll=function(t,e){clearTimeout(t._idleTimeoutId),t._idleTimeout=e},e.unenroll=function(t){clearTimeout(t._idleTimeoutId),t._idleTimeout=-1},e._unrefActive=e.active=function(t){clearTimeout(t._idleTimeoutId);var e=t._idleTimeout;e>=0&&(t._idleTimeoutId=setTimeout((function(){t._onTimeout&&t._onTimeout()}),e))},i(178),e.setImmediate=\"undefined\"!=typeof self&&self.setImmediate||void 0!==t&&t.setImmediate||this&&this.setImmediate,e.clearImmediate=\"undefined\"!=typeof self&&self.clearImmediate||void 0!==t&&t.clearImmediate||this&&this.clearImmediate}).call(this,i(40))},function(t,e,i){(function(t,e){!function(t,i){\"use strict\";if(!t.setImmediate){var s,n,r,o,a,h=1,l={},c=!1,u=t.document,d=Object.getPrototypeOf&&Object.getPrototypeOf(t);d=d&&d.setTimeout?d:t,\"[object process]\"==={}.toString.call(t.process)?s=function(t){e.nextTick((function(){m(t)}))}:!function(){if(t.postMessage&&!t.importScripts){var e=!0,i=t.onmessage;return t.onmessage=function(){e=!1},t.postMessage(\"\",\"*\"),t.onmessage=i,e}}()?t.MessageChannel?((r=new MessageChannel).port1.onmessage=function(t){m(t.data)},s=function(t){r.port2.postMessage(t)}):u&&\"onreadystatechange\"in u.createElement(\"script\")?(n=u.documentElement,s=function(t){var e=u.createElement(\"script\");e.onreadystatechange=function(){m(t),e.onreadystatechange=null,n.removeChild(e),e=null},n.appendChild(e)}):s=function(t){setTimeout(m,0,t)}:(o=\"setImmediate$\"+Math.random()+\"$\",a=function(e){e.source===t&&\"string\"==typeof e.data&&0===e.data.indexOf(o)&&m(+e.data.slice(o.length))},t.addEventListener?t.addEventListener(\"message\",a,!1):t.attachEvent(\"onmessage\",a),s=function(e){t.postMessage(o+e,\"*\")}),d.setImmediate=function(t){\"function\"!=typeof t&&(t=new Function(\"\"+t));for(var e=new Array(arguments.length-1),i=0;i<e.length;i++)e[i]=arguments[i+1];var n={callback:t,args:e};return l[h]=n,s(h),h++},d.clearImmediate=f}function f(t){delete l[t]}function m(t){if(c)setTimeout(m,0,t);else{var e=l[t];if(e){c=!0;try{!function(t){var e=t.callback,i=t.args;switch(i.length){case 0:e();break;case 1:e(i[0]);break;case 2:e(i[0],i[1]);break;case 3:e(i[0],i[1],i[2]);break;default:e.apply(void 0,i)}}(e)}finally{f(t),c=!1}}}}}(\"undefined\"==typeof self?void 0===t?this:t:self)}).call(this,i(40),i(148))},function(t,e,i){\"use strict\";Object.defineProperty(e,\"__esModule\",{value:!0});const s=i(0),n=i(180);e.MusicPartManager=class{constructor(t){this.musicSheet=t}reInit(){this.init()}init(){this.parts=this.musicSheet.Repetitions.slice(),this.sheetStart=this.musicSheet.SelectionStart=new s.Fraction(0,1),this.sheetEnd=this.musicSheet.SelectionEnd=this.musicSheet.SheetEndTimestamp,this.calcMapping()}getCurrentRepetitionTimestampTransform(t){let e=void 0;for(let i=this.timestamps.length-1;i>=0;i--)if(e=this.timestamps[i],t.gte(e.$from))return e;return this.timestamps[0]}absoluteEnrolledToSheetTimestamp(t){if(0===this.timestamps.length)return t;const e=this.getCurrentRepetitionTimestampTransform(t);return s.Fraction.plus(t,s.Fraction.minus(e.to,e.$from))}get Parts(){return this.parts}get MusicSheet(){return this.musicSheet}getIterator(t){return t?new n.MusicPartManagerIterator(this,t,void 0):new n.MusicPartManagerIterator(this,this.musicSheet.SelectionStart,this.musicSheet.SelectionEnd)}setSelectionStart(t){this.musicSheet.SelectionStart=t,this.musicSheet.SelectionEnd=void 0}setSelectionRange(t,e){this.musicSheet.SelectionStart=null!=t?t:this.sheetStart,this.musicSheet.SelectionEnd=null!=e?e:this.sheetEnd}calcMapping(){const t=[],e=this.getIterator();let i=e.CurrentRepetition,s=new r(e.CurrentEnrolledTimestamp.clone(),e.CurrentSourceTimestamp.clone(),void 0,0);for(t.push(s);!e.EndReached;){if(e.JumpOccurred||i!==e.CurrentRepetition){if(i=e.CurrentRepetition,e.backJumpOccurred){const i=e.JumpResponsibleRepetition;s.nextBackJump=e.CurrentEnrolledTimestamp,s.curRepetition=i,s.curRepetitionIteration=e.CurrentJumpResponsibleRepetitionIterationBeforeJump;for(let e=this.timestamps.length-2;e>=0&&(!t[e].to.lt(i.AbsoluteTimestamp)&&!t[e].curRepetition);e--)t[e].nextBackJump=s.nextBackJump,t[e].curRepetition=i,t[e].curRepetitionIteration=s.curRepetitionIteration}s=new r(e.CurrentEnrolledTimestamp.clone(),e.CurrentSourceTimestamp.clone(),void 0,0),t.push(s)}e.moveToNext()}this.timestamps=t}};class r{constructor(t,e,i,s){this.$from=t,this.to=e,this.curRepetition=i,this.curRepetitionIteration=s,this.nextBackJump=void 0,this.nextForwardJump=void 0}}e.TimestampTransform=r},function(t,e,i){\"use strict\";var s=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,\"__esModule\",{value:!0});const n=i(0),r=i(181),o=i(17),a=i(33),h=s(i(1));class l{constructor(t,e,i){this.currentMeasureIndex=0,this.currentPartIndex=0,this.currentVoiceEntryIndex=-1,this.currentDynamicEntryIndex=0,this.currentTempoEntryIndex=0,this.currentDynamicChangingExpressions=[],this.currentRepetition=void 0,this.endReached=!1,this.frontReached=!1,this.currentTimeStamp=new n.Fraction(0,1),this.currentEnrolledMeasureTimestamp=new n.Fraction(0,1),this.currentVerticalContainerInMeasureTimestamp=new n.Fraction(0,1),this.jumpResponsibleRepetition=void 0,this.activeDynamicExpressions=[];try{this.frontReached=!0,this.manager=t,this.currentVoiceEntries=void 0,this.frontReached=!1;for(const e of t.MusicSheet.Repetitions)this.setRepetitionIterationCount(e,1);if(this.activeDynamicExpressions=new Array(t.MusicSheet.getCompleteNumberOfStaves()),this.currentMeasure=this.manager.MusicSheet.SourceMeasures[0],!e)return;do{this.moveToNext()}while((!this.currentVoiceEntries||this.currentTimeStamp.lt(e))&&!this.endReached);for(let t=0;t<this.activeDynamicExpressions.length;t++)if(this.activeDynamicExpressions[t])if(this.activeDynamicExpressions[t]instanceof a.ContinuousDynamicExpression){const e=this.activeDynamicExpressions[t];this.currentDynamicChangingExpressions.push(new r.DynamicsContainer(e,t))}else{const e=this.activeDynamicExpressions[t];this.currentDynamicChangingExpressions.push(new r.DynamicsContainer(e,t))}this.currentTempoChangingExpression=this.activeTempoExpression}catch(t){h.default.info(\"MusicPartManagerIterator: \"+t)}}get EndReached(){return this.endReached}get FrontReached(){return this.frontReached}get CurrentMeasure(){return this.currentMeasure}get CurrentRepetition(){return this.currentRepetition}get CurrentRepetitionIteration(){return this.CurrentRepetition?this.getRepetitionIterationCount(this.CurrentRepetition):0}get CurrentJumpResponsibleRepetitionIterationBeforeJump(){return this.jumpResponsibleRepetition?this.getRepetitionIterationCount(this.jumpResponsibleRepetition)-1:0}get CurrentVoiceEntries(){return this.currentVoiceEntries}get CurrentMeasureIndex(){return this.currentMeasureIndex}get CurrentEnrolledTimestamp(){return n.Fraction.plus(this.currentEnrolledMeasureTimestamp,this.currentVerticalContainerInMeasureTimestamp)}get CurrentSourceTimestamp(){return this.currentTimeStamp}get JumpOccurred(){return this.backJumpOccurred||this.forwardJumpOccurred}get ActiveTempoExpression(){return this.activeTempoExpression}get ActiveDynamicExpressions(){return this.activeDynamicExpressions}get CurrentTempoChangingExpression(){return this.currentTempoChangingExpression}get JumpResponsibleRepetition(){return this.jumpResponsibleRepetition}clone(t){const e=new l(this.manager,t);return e.currentVoiceEntryIndex=this.currentVoiceEntryIndex,e.currentMappingPart=this.currentMappingPart,e.currentPartIndex=this.currentPartIndex,e.currentVoiceEntries=this.currentVoiceEntries,e.endReached=this.endReached,e.frontReached=this.frontReached,e}CurrentVisibleVoiceEntries(t){const e=[];if(!this.currentVoiceEntries)return e;if(t){for(const i of this.currentVoiceEntries)if(i.ParentVoice.Parent.IdString===t.IdString)return this.getVisibleEntries(i,e),e}else for(const t of this.currentVoiceEntries)this.getVisibleEntries(t,e);return e}CurrentAudibleVoiceEntries(t){const e=[];if(!this.currentVoiceEntries)return e;if(t){for(const i of this.currentVoiceEntries)if(i.ParentVoice.Parent.IdString===t.IdString)return this.getAudibleEntries(i,e),e}else for(const t of this.currentVoiceEntries)this.getAudibleEntries(t,e);return e}getCurrentDynamicChangingExpressions(){return this.currentDynamicChangingExpressions}CurrentScoreFollowingVoiceEntries(t){const e=[];if(!this.currentVoiceEntries)return e;if(t){for(const i of this.currentVoiceEntries)if(i.ParentVoice.Parent.IdString===t.IdString)return this.getScoreFollowingEntries(i,e),e}else for(const t of this.currentVoiceEntries)this.getScoreFollowingEntries(t,e);return e}moveToNext(){this.forwardJumpOccurred=this.backJumpOccurred=!1,this.endReached||(this.currentVoiceEntries&&(this.currentVoiceEntries=[]),this.recursiveMove(),this.currentMeasure||(this.currentTimeStamp=new n.Fraction(99999,1)))}moveToNextVisibleVoiceEntry(t){for(;!this.endReached;)if(this.moveToNext(),this.checkEntries(t))return}resetRepetitionIterationCount(t){return this.setRepetitionIterationCount(t,1),1}incrementRepetitionIterationCount(t){return-1===this.repetitionIterationCountDictKeys.indexOf(t)?this.setRepetitionIterationCount(t,1):this.setRepetitionIterationCount(t,this.getRepetitionIterationCount(t)+1)}setRepetitionIterationCount(t,e){const i=this.repetitionIterationCountDictKeys.indexOf(t);return-1===i?(this.repetitionIterationCountDictKeys.push(t),this.repetitionIterationCountDictValues.push(e)):this.repetitionIterationCountDictValues[i]=e,e}getRepetitionIterationCount(t){const e=this.repetitionIterationCountDictKeys.indexOf(t);if(-1!==e)return this.repetitionIterationCountDictValues[e]}handleRepetitionsAtMeasureBegin(){for(let t=0,e=this.currentMeasure.FirstRepetitionInstructions.length;t<e;++t){const e=this.currentMeasure.FirstRepetitionInstructions[t];if(!e.parentRepetition)continue;const i=e.parentRepetition;this.currentRepetition=i,i.StartIndex===this.currentMeasureIndex&&void 0!==this.JumpResponsibleRepetition&&i!==this.JumpResponsibleRepetition&&i.StartIndex>=this.JumpResponsibleRepetition.StartIndex&&i.EndIndex<=this.JumpResponsibleRepetition.EndIndex&&this.resetRepetitionIterationCount(i)}}handleRepetitionsAtMeasureEnd(){for(let t=0,e=this.currentMeasure.LastRepetitionInstructions.length;t<e;++t){const e=this.currentMeasure.LastRepetitionInstructions[t],i=e.parentRepetition;if(i){if(i.BackwardJumpInstructions.indexOf(e)>-1&&this.getRepetitionIterationCount(i)<i.UserNumberOfRepetitions)return this.doBackJump(i),void(this.backJumpOccurred=!0);if(e===i.forwardJumpInstruction){void 0!==this.JumpResponsibleRepetition&&i!==this.JumpResponsibleRepetition&&i.StartIndex>=this.JumpResponsibleRepetition.StartIndex&&i.EndIndex<=this.JumpResponsibleRepetition.EndIndex&&this.resetRepetitionIterationCount(i);const t=i.getForwardJumpTargetForIteration(this.getRepetitionIterationCount(i));if(t>=0)return this.currentMeasureIndex=t,this.currentMeasure=this.manager.MusicSheet.SourceMeasures[this.currentMeasureIndex],this.currentVoiceEntryIndex=-1,this.jumpResponsibleRepetition=i,void(this.forwardJumpOccurred=!0);-2===t&&(this.endReached=!0)}}}this.currentMeasureIndex++,void 0!==this.JumpResponsibleRepetition&&this.currentMeasureIndex>this.JumpResponsibleRepetition.EndIndex&&(this.jumpResponsibleRepetition=void 0)}doBackJump(t){this.currentMeasureIndex=t.getBackwardJumpTarget(),this.currentMeasure=this.manager.MusicSheet.SourceMeasures[this.currentMeasureIndex],this.currentVoiceEntryIndex=-1,this.incrementRepetitionIterationCount(t),this.jumpResponsibleRepetition=t}activateCurrentRhythmInstructions(){if(void 0!==this.currentMeasure&&this.currentMeasure.FirstInstructionsStaffEntries.length>0&&void 0!==this.currentMeasure.FirstInstructionsStaffEntries[0]){const t=this.currentMeasure.FirstInstructionsStaffEntries[0].Instructions;for(let e=0,i=t.length;e<i;++e){const i=t[e];i instanceof o.RhythmInstruction&&(this.manager.MusicSheet.SheetPlaybackSetting.rhythm=i.Rhythm)}}}activateCurrentDynamicOrTempoInstructions(){const t=this.manager.MusicSheet.TimestampSortedDynamicExpressionsList;for(;this.currentDynamicEntryIndex>0&&(this.currentDynamicEntryIndex>=t.length||this.CurrentSourceTimestamp.lte(t[this.currentDynamicEntryIndex].parMultiExpression().AbsoluteTimestamp));)this.currentDynamicEntryIndex--;for(;this.currentDynamicEntryIndex<t.length&&t[this.currentDynamicEntryIndex].parMultiExpression().AbsoluteTimestamp.lt(this.CurrentSourceTimestamp);)this.currentDynamicEntryIndex++;for(;this.currentDynamicEntryIndex<t.length&&t[this.currentDynamicEntryIndex].parMultiExpression().AbsoluteTimestamp.Equals(this.CurrentSourceTimestamp);){const e=t[this.currentDynamicEntryIndex],i=e.staffNumber;this.CurrentSourceTimestamp.Equals(e.parMultiExpression().AbsoluteTimestamp)&&(e.continuousDynamicExpression?this.activeDynamicExpressions[i]=e.continuousDynamicExpression:e.instantaneousDynamicExpression&&(this.activeDynamicExpressions[i]=e.instantaneousDynamicExpression)),this.currentDynamicEntryIndex++}this.currentDynamicChangingExpressions=[];for(let t=0;t<this.activeDynamicExpressions.length;t++)if(this.activeDynamicExpressions[t]){let e,i;if(this.activeDynamicExpressions[t]instanceof a.ContinuousDynamicExpression){const s=this.activeDynamicExpressions[t];e=s.StartMultiExpression.AbsoluteTimestamp,i=s.EndMultiExpression.AbsoluteTimestamp,e.lte(this.CurrentSourceTimestamp)&&this.CurrentSourceTimestamp.lte(i)&&this.currentDynamicChangingExpressions.push(new r.DynamicsContainer(s,t))}else{const e=this.activeDynamicExpressions[t];this.CurrentSourceTimestamp.Equals(e.ParentMultiExpression.AbsoluteTimestamp)&&this.currentDynamicChangingExpressions.push(new r.DynamicsContainer(e,t))}}const e=this.manager.MusicSheet.TimestampSortedTempoExpressionsList;for(;this.currentTempoEntryIndex>0&&(this.currentTempoEntryIndex>=e.length||this.CurrentSourceTimestamp.lte(e[this.currentTempoEntryIndex].AbsoluteTimestamp));)this.currentTempoEntryIndex--;for(;this.currentTempoEntryIndex<e.length&&e[this.currentTempoEntryIndex].AbsoluteTimestamp.lt(this.CurrentSourceTimestamp);)this.currentTempoEntryIndex++;for(;this.currentTempoEntryIndex<e.length&&e[this.currentTempoEntryIndex].AbsoluteTimestamp.Equals(this.CurrentSourceTimestamp);)this.activeTempoExpression=e[this.currentTempoEntryIndex],this.currentTempoEntryIndex++;if(this.currentTempoChangingExpression=void 0,this.activeTempoExpression){let t=this.activeTempoExpression.AbsoluteTimestamp;this.activeTempoExpression.ContinuousTempo&&(t=this.activeTempoExpression.ContinuousTempo.AbsoluteEndTimestamp),(this.activeTempoExpression.AbsoluteTimestamp.lte(this.CurrentSourceTimestamp)||this.CurrentSourceTimestamp.lte(t))&&(this.currentTempoChangingExpression=this.activeTempoExpression)}}recursiveMove(){if(this.currentVoiceEntryIndex++,0===this.currentVoiceEntryIndex&&(this.handleRepetitionsAtMeasureBegin(),this.activateCurrentRhythmInstructions()),this.currentVoiceEntryIndex>=0&&this.currentVoiceEntryIndex<this.currentMeasure.VerticalSourceStaffEntryContainers.length){const t=this.currentMeasure.VerticalSourceStaffEntryContainers[this.currentVoiceEntryIndex];this.currentVoiceEntries=this.getVoiceEntries(t),this.currentVerticalContainerInMeasureTimestamp=t.Timestamp,this.currentTimeStamp=n.Fraction.plus(this.currentMeasure.AbsoluteTimestamp,this.currentVerticalContainerInMeasureTimestamp);const e=this.manager.MusicSheet.SelectionEnd;return e&&this.currentTimeStamp.gte(e)&&(this.endReached=!0),void this.activateCurrentDynamicOrTempoInstructions()}if(this.currentEnrolledMeasureTimestamp.Add(this.currentMeasure.Duration),this.handleRepetitionsAtMeasureEnd(),this.currentMeasureIndex>=0&&this.currentMeasureIndex<this.manager.MusicSheet.SourceMeasures.length)return this.currentMeasure=this.manager.MusicSheet.SourceMeasures[this.currentMeasureIndex],this.currentTimeStamp=n.Fraction.plus(this.currentMeasure.AbsoluteTimestamp,this.currentVerticalContainerInMeasureTimestamp),this.currentVoiceEntryIndex=-1,void this.recursiveMove();this.currentVerticalContainerInMeasureTimestamp=new n.Fraction,this.currentMeasure=void 0,this.currentVoiceEntries=void 0,this.endReached=!0}checkEntries(t){const e=this.CurrentVisibleVoiceEntries();if(e.length>0){if(!t)return!0;for(let t=0,i=e.length;t<i;++t){if(e[t].Notes[0].Pitch)return!0}}return!1}getVisibleEntries(t,e){t.ParentVoice.Visible&&e.push(t)}getAudibleEntries(t,e){t.ParentVoice.Audible&&e.push(t)}getScoreFollowingEntries(t,e){t.ParentVoice.Following&&t.ParentVoice.Parent.Following&&e.push(t)}getVoiceEntries(t){const e=[];for(const i of t.StaffEntries)if(i)for(const t of i.VoiceEntries)e.push(t);return e}}e.MusicPartManagerIterator=l},function(t,e,i){\"use strict\";Object.defineProperty(e,\"__esModule\",{value:!0});const s=i(33),n=i(51);e.DynamicsContainer=class{constructor(t,e){t instanceof s.ContinuousDynamicExpression?this.continuousDynamicExpression=t:t instanceof n.InstantaneousDynamicExpression&&(this.instantaneousDynamicExpression=t),this.staffNumber=e}parMultiExpression(){return this.continuousDynamicExpression?this.continuousDynamicExpression.StartMultiExpression:this.instantaneousDynamicExpression?this.instantaneousDynamicExpression.ParentMultiExpression:void 0}CompareTo(t){return this.parMultiExpression().AbsoluteTimestamp.CompareTo(t.parMultiExpression().AbsoluteTimestamp)}}},function(t,e,i){\"use strict\";Object.defineProperty(e,\"__esModule\",{value:!0});e.MusicSheetErrors=class{constructor(){this.measureErrors={},this.errors=[],this.tempErrors=[]}finalizeMeasure(t){let e=this.measureErrors[t];e||(e=[]),this.measureErrors[t]=e.concat(this.tempErrors),this.tempErrors=[]}pushMeasureError(t){this.tempErrors.push(t)}push(t){this.errors.push(t)}}},function(t,e,i){\"use strict\";Object.defineProperty(e,\"__esModule\",{value:!0});e.LyricWord=class{constructor(){this.syllables=[]}get Syllables(){return this.syllables}containsVoiceEntry(t){for(let e=0,i=this.Syllables.length;e<i;++e){if(this.Syllables[e].Parent===t)return!0}return!1}findLyricEntryInVoiceEntry(t){for(let e=0,i=this.Syllables.length;e<i;++e){const i=this.Syllables[e];if(i.Parent===t)return i}}}},function(t,e,i){\"use strict\";Object.defineProperty(e,\"__esModule\",{value:!0});e.LyricsEntry=class{constructor(t,e,i,s,n=-1){this.text=t,this.word=i,this.parent=s,this.verseNumber=e,n>=0&&(this.syllableIndex=n)}get Text(){return this.text}set Text(t){this.text=t}get Word(){return this.word}get Parent(){return this.parent}set Parent(t){this.parent=t}get VerseNumber(){return this.verseNumber}get SyllableIndex(){return this.syllableIndex}}},function(t,e,i){\"use strict\";Object.defineProperty(e,\"__esModule\",{value:!0});const s=i(30);class n extends s.Note{constructor(t,e,i,s,n,r){super(t,e,i,s),this.stringNumber=n,this.fretNumber=r}get StringNumber(){return this.stringNumber}get FretNumber(){return this.fretNumber}}e.TabNote=n},function(t,e,i){\"use strict\";Object.defineProperty(e,\"__esModule\",{value:!0});const s=i(0),n=i(57),r=i(6),o=i(23),a=i(58);e.MultiTempoExpression=class{constructor(t,e){this.expressions=[],this.sourceMeasure=t,this.timestamp=e}get Timestamp(){return this.timestamp}get AbsoluteTimestamp(){return s.Fraction.plus(this.sourceMeasure.AbsoluteTimestamp,this.timestamp)}get SourceMeasureParent(){return this.sourceMeasure}set SourceMeasureParent(t){this.sourceMeasure=t}get InstantaneousTempo(){return this.instantaneousTempo}get ContinuousTempo(){return this.continuousTempo}get EntriesList(){return this.expressions}get CombinedExpressionsText(){return this.combinedExpressionsText}set CombinedExpressionsText(t){this.combinedExpressionsText=t}getPlacementOfFirstEntry(){let t=r.PlacementEnum.Above;return this.expressions.length>0&&(this.expressions[0].Expression instanceof n.InstantaneousTempoExpression||this.expressions[0].Expression instanceof a.ContinuousTempoExpression)&&(t=this.expressions[0].Expression.Placement),t}getFontstyleOfFirstEntry(){let t=o.FontStyles.Regular;return this.expressions[0].Expression instanceof n.InstantaneousTempoExpression?t=o.FontStyles.Bold:this.expressions[0].Expression instanceof a.ContinuousTempoExpression&&(t=o.FontStyles.Italic),t}addExpression(t,e){if(this.checkIfAlreadyExists(t))return;t instanceof n.InstantaneousTempoExpression?this.instantaneousTempo=t:t instanceof a.ContinuousTempoExpression&&(this.continuousTempo=t);const i=new h;i.prefix=e,i.Expression=t,i.label=t.Label,this.expressions.push(i)}CompareTo(t){return this.Timestamp.RealValue>t.Timestamp.RealValue?1:this.Timestamp.RealValue<t.Timestamp.RealValue?-1:0}checkIfAlreadyExists(t){for(const e of this.expressions)if(e.label===t.Label)return!0;return!1}};class h{get Expression(){return this.expression}set Expression(t){this.expression=t}}e.TempoExpressionEntry=h},function(t,e,i){\"use strict\";Object.defineProperty(e,\"__esModule\",{value:!0});const s=i(0),n=i(51),r=i(33),o=i(140),a=i(141),h=i(6),l=i(23);e.MultiExpression=class{constructor(t,e){this.unknownList=[],this.moodList=[],this.expressions=[],this.sourceMeasure=t,this.timestamp=e}get SourceMeasureParent(){return this.sourceMeasure}set SourceMeasureParent(t){this.sourceMeasure=t}get StaffNumber(){return this.staffNumber}set StaffNumber(t){this.staffNumber=t}get Timestamp(){return this.timestamp}set Timestamp(t){this.timestamp=t}get AbsoluteTimestamp(){return s.Fraction.plus(this.timestamp,this.sourceMeasure.AbsoluteTimestamp)}get InstantaneousDynamic(){return this.instantaneousDynamic}set InstantaneousDynamic(t){this.instantaneousDynamic=t}get EndingContinuousDynamic(){return this.endingContinuousDynamic}set EndingContinuousDynamic(t){this.endingContinuousDynamic=t}get StartingContinuousDynamic(){return this.startingContinuousDynamic}set StartingContinuousDynamic(t){this.startingContinuousDynamic=t}get MoodList(){return this.moodList}get UnknownList(){return this.unknownList}get EntriesList(){return this.expressions}get OctaveShiftStart(){return this.octaveShiftStart}set OctaveShiftStart(t){this.octaveShiftStart=t}get OctaveShiftEnd(){return this.octaveShiftEnd}set OctaveShiftEnd(t){this.octaveShiftEnd=t}get CombinedExpressionsText(){return this.combinedExpressionsText}set CombinedExpressionsText(t){this.combinedExpressionsText=t}getPlacementOfFirstEntry(){let t=h.PlacementEnum.Above;return this.expressions.length>0&&(this.expressions[0].expression instanceof n.InstantaneousDynamicExpression||this.expressions[0].expression instanceof r.ContinuousDynamicExpression||this.expressions[0].expression instanceof o.MoodExpression||this.expressions[0].expression instanceof a.UnknownExpression)&&(t=this.expressions[0].expression.Placement),t}getFontstyleOfFirstEntry(){let t=l.FontStyles.Regular;return this.expressions.length>0&&(this.expressions[0].expression instanceof r.ContinuousDynamicExpression||this.expressions[0].expression instanceof o.MoodExpression?t=l.FontStyles.Italic:this.expressions[0].expression instanceof a.UnknownExpression&&(t=l.FontStyles.Regular)),t}addExpression(t,e){t instanceof n.InstantaneousDynamicExpression?(this.instantaneousDynamic&&this.removeExpressionFromEntryList(this.InstantaneousDynamic),this.instantaneousDynamic=t,this.instantaneousDynamic.ParentMultiExpression=this):t instanceof r.ContinuousDynamicExpression?this.startingContinuousDynamic=t:t instanceof o.MoodExpression?this.moodList.push(t):t instanceof a.UnknownExpression&&this.unknownList.push(t),this.addExpressionToEntryList(t,e)}CompareTo(t){return this.Timestamp.RealValue>t.Timestamp.RealValue?1:this.Timestamp.RealValue<t.Timestamp.RealValue?-1:0}addExpressionToEntryList(t,e){const i=new c;i.prefix=e,i.expression=t,t instanceof r.ContinuousDynamicExpression||t instanceof o.MoodExpression||t instanceof a.UnknownExpression?i.label=t.Label:i.label=\"\",this.expressions.push(i)}removeExpressionFromEntryList(t){for(let e=0,i=this.expressions.length;e<i;++e){if(this.expressions[e].expression===t){this.expressions.splice(e,1);break}}}};class c{}e.MultiExpressionEntry=c},function(t,e,i){\"use strict\";Object.defineProperty(e,\"__esModule\",{value:!0});const s=i(0);e.Slur=class{constructor(){}get StartNote(){return this.startNote}set StartNote(t){this.startNote=t}get EndNote(){return this.endNote}set EndNote(t){this.endNote=t}startNoteHasMoreStartingSlurs(){if(!this.startNote)return!1;for(let t=0,e=this.startNote.NoteSlurs.length;t<e;++t){const e=this.startNote.NoteSlurs[t];if(e!==this&&e.StartNote===this.startNote)return!0}return!1}endNoteHasMoreEndingSlurs(){if(!this.endNote)return!1;for(let t=0,e=this.endNote.NoteSlurs.length;t<e;++t){const e=this.endNote.NoteSlurs[t];if(e!==this&&e.EndNote===this.endNote)return!0}return!1}isCrossed(){return this.startNote.ParentStaffEntry.ParentStaff!==this.endNote.ParentStaffEntry.ParentStaff}isSlurLonger(){if(!this.endNote||!this.startNote)return!1;const t=s.Fraction.minus(this.endNote.getAbsoluteTimestamp(),this.startNote.getAbsoluteTimestamp());for(let e=0,i=this.startNote.NoteSlurs.length;e<i;++e){const i=this.startNote.NoteSlurs[e];if(i!==this&&void 0!==i.EndNote&&void 0!==i.StartNote&&-1===s.Fraction.minus(i.EndNote.getAbsoluteTimestamp(),i.StartNote.getAbsoluteTimestamp()).CompareTo(t))return!0}for(let e=0,i=this.endNote.NoteSlurs.length;e<i;++e){const i=this.endNote.NoteSlurs[e];if(i!==this&&void 0!==i.EndNote&&void 0!==i.StartNote&&s.Fraction.minus(i.EndNote.getAbsoluteTimestamp(),i.StartNote.getAbsoluteTimestamp()).CompareTo(t))return!0}return!1}}},function(t,e,i){\"use strict\";Object.defineProperty(e,\"__esModule\",{value:!0});e.StringUtil=class{static StringContainsSeparatedWord(t,e){return!!new RegExp(\"( |^)\"+e+\"([ .]|$)\").test(t)}}},function(t,e,i){\"use strict\";function s(t){for(var i in t)e.hasOwnProperty(i)||(e[i]=t[i])}Object.defineProperty(e,\"__esModule\",{value:!0}),s(i(191)),s(i(76)),s(i(132)),s(i(133))},function(t,e,i){\"use strict\";Object.defineProperty(e,\"__esModule\",{value:!0});e.MappingSourceMusicPart=class{constructor(t,e,i,s=-1,n=!1){this.repetitionRun=-1,this.sourceMusicPart=t,this.parentPartListEntry=i,this.startTimestamp=e.clone(),this.repetitionRun=s,this.parentRepetition=i,this.isEnding=n}get IsRepetition(){return void 0!==this.parentRepetition}get IsEnding(){return this.isEnding}get IsLastRepetitionRun(){return this.IsRepetition&&this.repetitionRun+1===this.parentRepetition.UserNumberOfRepetitions}get RepetitionRun(){return this.repetitionRun}get ParentPartListEntry(){return this.parentPartListEntry}get SourceMusicPart(){return this.sourceMusicPart}get StartTimestamp(){return this.startTimestamp}CompareTo(t){return t?this.startTimestamp.CompareTo(t.startTimestamp):1}}},function(t,e,i){\"use strict\";function s(t){for(var i in t)e.hasOwnProperty(i)||(e[i]=t[i])}Object.defineProperty(e,\"__esModule\",{value:!0}),s(i(134)),s(i(130)),s(i(144)),s(i(135)),s(i(193))},function(t,e,i){\"use strict\";function s(t){for(var i in t)e.hasOwnProperty(i)||(e[i]=t[i])}Object.defineProperty(e,\"__esModule\",{value:!0}),s(i(137)),s(i(138)),s(i(139)),s(i(136)),s(i(146)),s(i(145)),s(i(142))},function(t,e,i){\"use strict\";function s(t){for(var i in t)e.hasOwnProperty(i)||(e[i]=t[i])}Object.defineProperty(e,\"__esModule\",{value:!0}),s(i(24)),s(i(195))},function(t,e,i){\"use strict\";Object.defineProperty(e,\"__esModule\",{value:!0});class s{static log(t,e){return Math.log(e)/Math.log(t)}static log10(t){return s.log(10,t)}static meanSimple(t){let e=0;for(let i=0;i<t.length;i++)e+=t[i];return e/t.length}static meanWeighted(t,e){if(t.length!==e.length||0===t.length)return 0;let i=0,s=0;for(let n=0;n<t.length;n++){const r=e[n];i+=t[n]*r,s+=r}return i/s}}e.PSMath=s}])}));//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvb3BlbnNoZWV0bXVzaWNkaXNwbGF5L2J1aWxkL29wZW5zaGVldG11c2ljZGlzcGxheS5taW4uanMuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvb3BlbnNoZWV0bXVzaWNkaXNwbGF5L2J1aWxkL29wZW5zaGVldG11c2ljZGlzcGxheS5taW4uanM/MjkzOCJdLCJzb3VyY2VzQ29udGVudCI6WyIhZnVuY3Rpb24odCxlKXtcIm9iamVjdFwiPT10eXBlb2YgZXhwb3J0cyYmXCJvYmplY3RcIj09dHlwZW9mIG1vZHVsZT9tb2R1bGUuZXhwb3J0cz1lKCk6XCJmdW5jdGlvblwiPT10eXBlb2YgZGVmaW5lJiZkZWZpbmUuYW1kP2RlZmluZShbXSxlKTpcIm9iamVjdFwiPT10eXBlb2YgZXhwb3J0cz9leHBvcnRzLm9wZW5zaGVldG11c2ljZGlzcGxheT1lKCk6dC5vcGVuc2hlZXRtdXNpY2Rpc3BsYXk9ZSgpfSh3aW5kb3csKGZ1bmN0aW9uKCl7cmV0dXJuIGZ1bmN0aW9uKHQpe3ZhciBlPXt9O2Z1bmN0aW9uIGkocyl7aWYoZVtzXSlyZXR1cm4gZVtzXS5leHBvcnRzO3ZhciBuPWVbc109e2k6cyxsOiExLGV4cG9ydHM6e319O3JldHVybiB0W3NdLmNhbGwobi5leHBvcnRzLG4sbi5leHBvcnRzLGkpLG4ubD0hMCxuLmV4cG9ydHN9cmV0dXJuIGkubT10LGkuYz1lLGkuZD1mdW5jdGlvbih0LGUscyl7aS5vKHQsZSl8fE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LGUse2VudW1lcmFibGU6ITAsZ2V0OnN9KX0saS5yPWZ1bmN0aW9uKHQpe1widW5kZWZpbmVkXCIhPXR5cGVvZiBTeW1ib2wmJlN5bWJvbC50b1N0cmluZ1RhZyYmT2JqZWN0LmRlZmluZVByb3BlcnR5KHQsU3ltYm9sLnRvU3RyaW5nVGFnLHt2YWx1ZTpcIk1vZHVsZVwifSksT2JqZWN0LmRlZmluZVByb3BlcnR5KHQsXCJfX2VzTW9kdWxlXCIse3ZhbHVlOiEwfSl9LGkudD1mdW5jdGlvbih0LGUpe2lmKDEmZSYmKHQ9aSh0KSksOCZlKXJldHVybiB0O2lmKDQmZSYmXCJvYmplY3RcIj09dHlwZW9mIHQmJnQmJnQuX19lc01vZHVsZSlyZXR1cm4gdDt2YXIgcz1PYmplY3QuY3JlYXRlKG51bGwpO2lmKGkucihzKSxPYmplY3QuZGVmaW5lUHJvcGVydHkocyxcImRlZmF1bHRcIix7ZW51bWVyYWJsZTohMCx2YWx1ZTp0fSksMiZlJiZcInN0cmluZ1wiIT10eXBlb2YgdClmb3IodmFyIG4gaW4gdClpLmQocyxuLGZ1bmN0aW9uKGUpe3JldHVybiB0W2VdfS5iaW5kKG51bGwsbikpO3JldHVybiBzfSxpLm49ZnVuY3Rpb24odCl7dmFyIGU9dCYmdC5fX2VzTW9kdWxlP2Z1bmN0aW9uKCl7cmV0dXJuIHQuZGVmYXVsdH06ZnVuY3Rpb24oKXtyZXR1cm4gdH07cmV0dXJuIGkuZChlLFwiYVwiLGUpLGV9LGkubz1mdW5jdGlvbih0LGUpe3JldHVybiBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwodCxlKX0saS5wPVwiXCIsaShpLnM9NzcpfShbZnVuY3Rpb24odCxlLGkpe1widXNlIHN0cmljdFwiO09iamVjdC5kZWZpbmVQcm9wZXJ0eShlLFwiX19lc01vZHVsZVwiLHt2YWx1ZTohMH0pO2NsYXNzIHN7Y29uc3RydWN0b3IodD0wLGU9MSxpPTAscz0hMCl7dGhpcy5udW1lcmF0b3I9MCx0aGlzLmRlbm9taW5hdG9yPTEsdGhpcy53aG9sZVZhbHVlPTAsdGhpcy5udW1lcmF0b3I9dCx0aGlzLmRlbm9taW5hdG9yPWUsdGhpcy53aG9sZVZhbHVlPWkscyYmdGhpcy5zaW1wbGlmeSgpLHRoaXMuc2V0UmVhbFZhbHVlKCl9c3RhdGljIG1heCh0LGUpe3JldHVybiB0LlJlYWxWYWx1ZT5lLlJlYWxWYWx1ZT90OmV9c3RhdGljIEVxdWFsKHQsZSl7cmV0dXJuIHQud2hvbGVWYWx1ZT09PWUud2hvbGVWYWx1ZSYmdC5EZW5vbWluYXRvcj09PWUuRGVub21pbmF0b3ImJnQuTnVtZXJhdG9yPT09ZS5OdW1lcmF0b3J9c3RhdGljIGNyZWF0ZUZyb21GcmFjdGlvbih0KXtyZXR1cm4gbmV3IHModC5udW1lcmF0b3IsdC5kZW5vbWluYXRvcix0Lndob2xlVmFsdWUsITEpfXN0YXRpYyBwbHVzKHQsZSl7Y29uc3QgaT10LmNsb25lKCk7cmV0dXJuIGkuQWRkKGUpLGl9c3RhdGljIG1pbnVzKHQsZSl7Y29uc3QgaT10LmNsb25lKCk7cmV0dXJuIGkuU3ViKGUpLGl9c3RhdGljIG11bHRpcGx5KHQsZSl7cmV0dXJuIG5ldyBzKCh0Lndob2xlVmFsdWUqdC5kZW5vbWluYXRvcit0Lm51bWVyYXRvcikqKGUud2hvbGVWYWx1ZSplLmRlbm9taW5hdG9yK2UubnVtZXJhdG9yKSx0LmRlbm9taW5hdG9yKmUuZGVub21pbmF0b3IpfXN0YXRpYyBncmVhdGVzdENvbW1vbkRlbm9taW5hdG9yKHQsZSl7aWYoMD09PXQpcmV0dXJuIGU7aWYoMT09PWUpcmV0dXJuIDE7Zm9yKDswIT09ZTspdD5lP3QtPWU6ZS09dDtyZXR1cm4gdH10b1N0cmluZygpe2xldCB0PXRoaXMubnVtZXJhdG9yK1wiL1wiK3RoaXMuZGVub21pbmF0b3I7cmV0dXJuIDAhPT10aGlzLndob2xlVmFsdWUmJih0PXRoaXMud2hvbGVWYWx1ZStcIiBcIit0KSx0fWNsb25lKCl7cmV0dXJuIG5ldyBzKHRoaXMubnVtZXJhdG9yLHRoaXMuZGVub21pbmF0b3IsdGhpcy53aG9sZVZhbHVlLCExKX1nZXQgTnVtZXJhdG9yKCl7cmV0dXJuIHRoaXMubnVtZXJhdG9yfXNldCBOdW1lcmF0b3IodCl7dGhpcy5udW1lcmF0b3IhPT10JiYodGhpcy5udW1lcmF0b3I9dCx0aGlzLnNpbXBsaWZ5KCksdGhpcy5zZXRSZWFsVmFsdWUoKSl9Z2V0IERlbm9taW5hdG9yKCl7cmV0dXJuIHRoaXMuZGVub21pbmF0b3J9c2V0IERlbm9taW5hdG9yKHQpe3RoaXMuZGVub21pbmF0b3IhPT10JiYodGhpcy5kZW5vbWluYXRvcj10LDAhPT10aGlzLm51bWVyYXRvciYmdGhpcy5zaW1wbGlmeSgpLHRoaXMuc2V0UmVhbFZhbHVlKCkpfWdldCBXaG9sZVZhbHVlKCl7cmV0dXJuIHRoaXMud2hvbGVWYWx1ZX1zZXQgV2hvbGVWYWx1ZSh0KXt0aGlzLndob2xlVmFsdWUhPT10JiYodGhpcy53aG9sZVZhbHVlPXQsdGhpcy5zZXRSZWFsVmFsdWUoKSl9R2V0RXhwYW5kZWROdW1lcmF0b3IoKXtyZXR1cm4gdGhpcy53aG9sZVZhbHVlKnRoaXMuZGVub21pbmF0b3IrdGhpcy5udW1lcmF0b3J9SXNOZWdhdGl2ZSgpe3JldHVybiB0aGlzLnJlYWxWYWx1ZTwwfWdldCBSZWFsVmFsdWUoKXtyZXR1cm4gdGhpcy5yZWFsVmFsdWV9ZXhwYW5kKHQpe3RoaXMubnVtZXJhdG9yKj10LHRoaXMuZGVub21pbmF0b3IqPXQsMCE9PXRoaXMud2hvbGVWYWx1ZSYmKHRoaXMubnVtZXJhdG9yKz10aGlzLndob2xlVmFsdWUqdGhpcy5kZW5vbWluYXRvcix0aGlzLndob2xlVmFsdWU9MCl9QWRkKHQpe3RoaXMubnVtZXJhdG9yPSh0aGlzLndob2xlVmFsdWUqdGhpcy5kZW5vbWluYXRvcit0aGlzLm51bWVyYXRvcikqdC5kZW5vbWluYXRvcisodC53aG9sZVZhbHVlKnQuZGVub21pbmF0b3IrdC5udW1lcmF0b3IpKnRoaXMuZGVub21pbmF0b3IsdGhpcy5kZW5vbWluYXRvcj10aGlzLmRlbm9taW5hdG9yKnQuZGVub21pbmF0b3IsdGhpcy53aG9sZVZhbHVlPTAsdGhpcy5zaW1wbGlmeSgpLHRoaXMuc2V0UmVhbFZhbHVlKCl9U3ViKHQpe3RoaXMubnVtZXJhdG9yPSh0aGlzLndob2xlVmFsdWUqdGhpcy5kZW5vbWluYXRvcit0aGlzLm51bWVyYXRvcikqdC5kZW5vbWluYXRvci0odC53aG9sZVZhbHVlKnQuZGVub21pbmF0b3IrdC5udW1lcmF0b3IpKnRoaXMuZGVub21pbmF0b3IsdGhpcy5kZW5vbWluYXRvcj10aGlzLmRlbm9taW5hdG9yKnQuZGVub21pbmF0b3IsdGhpcy53aG9sZVZhbHVlPTAsdGhpcy5zaW1wbGlmeSgpLHRoaXMuc2V0UmVhbFZhbHVlKCl9UXVhbnRpemUodCl7aWYodGhpcy5kZW5vbWluYXRvcjw9dClyZXR1cm4gdGhpcztjb25zdCBlPW5ldyBzKHRoaXMubnVtZXJhdG9yKzEsdGhpcy5kZW5vbWluYXRvcix0aGlzLndob2xlVmFsdWUpO2Zvcig7ZS5EZW5vbWluYXRvcj50OyllLk51bWVyYXRvcisrO2lmKHRoaXMubnVtZXJhdG9yPnRoaXMuZGVub21pbmF0b3Ipe2NvbnN0IGk9bmV3IHModGhpcy5udW1lcmF0b3ItMSx0aGlzLmRlbm9taW5hdG9yLHRoaXMud2hvbGVWYWx1ZSk7Zm9yKDtpLkRlbm9taW5hdG9yPnQ7KWkuTnVtZXJhdG9yLS07aWYoaS5EZW5vbWluYXRvcjxlLkRlbm9taW5hdG9yKXJldHVybiBpfXJldHVybiBlfUVxdWFscyh0KXtyZXR1cm4gdGhpcy5yZWFsVmFsdWU9PT0obnVsbD09dD92b2lkIDA6dC5yZWFsVmFsdWUpfUNvbXBhcmVUbyh0KXtjb25zdCBlPXRoaXMucmVhbFZhbHVlLXQucmVhbFZhbHVlO3JldHVybiBlP2U8MD8tMToxOjB9bHQodCl7cmV0dXJuIHRoaXMucmVhbFZhbHVlPHQucmVhbFZhbHVlfWx0ZSh0KXtyZXR1cm4gdGhpcy5yZWFsVmFsdWU8PXQucmVhbFZhbHVlfWd0KHQpe3JldHVybiF0aGlzLmx0ZSh0KX1ndGUodCl7cmV0dXJuIXRoaXMubHQodCl9c2V0UmVhbFZhbHVlKCl7dGhpcy5yZWFsVmFsdWU9dGhpcy53aG9sZVZhbHVlK3RoaXMubnVtZXJhdG9yL3RoaXMuZGVub21pbmF0b3J9c2ltcGxpZnkoKXtpZigwPT09dGhpcy5udW1lcmF0b3IpcmV0dXJuIHZvaWQodGhpcy5kZW5vbWluYXRvcj0xKTtjb25zdCB0PXMuZ3JlYXRlc3RDb21tb25EZW5vbWluYXRvcihNYXRoLmFicyh0aGlzLm51bWVyYXRvciksTWF0aC5hYnModGhpcy5kZW5vbWluYXRvcikpO3RoaXMubnVtZXJhdG9yLz10LHRoaXMuZGVub21pbmF0b3IvPXQ7Y29uc3QgZT1NYXRoLmZsb29yKHRoaXMubnVtZXJhdG9yL3RoaXMuZGVub21pbmF0b3IpO2lmKDAhPT1lJiYodGhpcy53aG9sZVZhbHVlKz1lLHRoaXMubnVtZXJhdG9yLT1lKnRoaXMuZGVub21pbmF0b3IsMD09PXRoaXMubnVtZXJhdG9yJiYodGhpcy5kZW5vbWluYXRvcj0xKSksdGhpcy5kZW5vbWluYXRvcj5zLm1heGltdW1BbGxvd2VkTnVtYmVyKXtjb25zdCB0PXRoaXMuZGVub21pbmF0b3Ivcy5tYXhpbXVtQWxsb3dlZE51bWJlcjt0aGlzLm51bWVyYXRvcj1NYXRoLnJvdW5kKHRoaXMubnVtZXJhdG9yL3QpLHRoaXMuZGVub21pbmF0b3I9TWF0aC5yb3VuZCh0aGlzLmRlbm9taW5hdG9yL3QpfWlmKHRoaXMubnVtZXJhdG9yPnMubWF4aW11bUFsbG93ZWROdW1iZXIpe2NvbnN0IHQ9dGhpcy5udW1lcmF0b3Ivcy5tYXhpbXVtQWxsb3dlZE51bWJlcjt0aGlzLm51bWVyYXRvcj1NYXRoLnJvdW5kKHRoaXMubnVtZXJhdG9yL3QpLHRoaXMuZGVub21pbmF0b3I9TWF0aC5yb3VuZCh0aGlzLmRlbm9taW5hdG9yL3QpfX1pc09uQmVhdCh0KXtjb25zdCBlPXRoaXMuZGlzdGFuY2VGcm9tQmVhdCh0KTtyZXR1cm4gTWF0aC5hYnMoZSk8cy5GbG9hdEluYWNjdXJhY3lUb2xlcmFuY2V9ZGlzdGFuY2VGcm9tQmVhdCh0KXtjb25zdCBlPW5ldyBzKDEsdC5EZW5vbWluYXRvcik7cmV0dXJuIHRoaXMuUmVhbFZhbHVlJWUuUmVhbFZhbHVlfX1lLkZyYWN0aW9uPXMscy5tYXhpbXVtQWxsb3dlZE51bWJlcj00NjM0MCxzLkZsb2F0SW5hY2N1cmFjeVRvbGVyYW5jZT0xZS00fSxmdW5jdGlvbih0LGUsaSl7dmFyIHMsbjshZnVuY3Rpb24ocixvKXtcInVzZSBzdHJpY3RcIjt2b2lkIDA9PT0obj1cImZ1bmN0aW9uXCI9PXR5cGVvZihzPWZ1bmN0aW9uKCl7dmFyIHQ9ZnVuY3Rpb24oKXt9LGU9XCJ1bmRlZmluZWRcIiE9dHlwZW9mIHdpbmRvdyYmdm9pZCAwIT09d2luZG93Lm5hdmlnYXRvciYmL1RyaWRlbnRcXC98TVNJRSAvLnRlc3Qod2luZG93Lm5hdmlnYXRvci51c2VyQWdlbnQpLGk9W1widHJhY2VcIixcImRlYnVnXCIsXCJpbmZvXCIsXCJ3YXJuXCIsXCJlcnJvclwiXTtmdW5jdGlvbiBzKHQsZSl7dmFyIGk9dFtlXTtpZihcImZ1bmN0aW9uXCI9PXR5cGVvZiBpLmJpbmQpcmV0dXJuIGkuYmluZCh0KTt0cnl7cmV0dXJuIEZ1bmN0aW9uLnByb3RvdHlwZS5iaW5kLmNhbGwoaSx0KX1jYXRjaChlKXtyZXR1cm4gZnVuY3Rpb24oKXtyZXR1cm4gRnVuY3Rpb24ucHJvdG90eXBlLmFwcGx5LmFwcGx5KGksW3QsYXJndW1lbnRzXSl9fX1mdW5jdGlvbiBuKCl7Y29uc29sZS5sb2cmJihjb25zb2xlLmxvZy5hcHBseT9jb25zb2xlLmxvZy5hcHBseShjb25zb2xlLGFyZ3VtZW50cyk6RnVuY3Rpb24ucHJvdG90eXBlLmFwcGx5LmFwcGx5KGNvbnNvbGUubG9nLFtjb25zb2xlLGFyZ3VtZW50c10pKSxjb25zb2xlLnRyYWNlJiZjb25zb2xlLnRyYWNlKCl9ZnVuY3Rpb24gcihpKXtyZXR1cm5cImRlYnVnXCI9PT1pJiYoaT1cImxvZ1wiKSxcInVuZGVmaW5lZFwiIT10eXBlb2YgY29uc29sZSYmKFwidHJhY2VcIj09PWkmJmU/bjp2b2lkIDAhPT1jb25zb2xlW2ldP3MoY29uc29sZSxpKTp2b2lkIDAhPT1jb25zb2xlLmxvZz9zKGNvbnNvbGUsXCJsb2dcIik6dCl9ZnVuY3Rpb24gbyhlLHMpe2Zvcih2YXIgbj0wO248aS5sZW5ndGg7bisrKXt2YXIgcj1pW25dO3RoaXNbcl09bjxlP3Q6dGhpcy5tZXRob2RGYWN0b3J5KHIsZSxzKX10aGlzLmxvZz10aGlzLmRlYnVnfWZ1bmN0aW9uIGEodCxlLGkpe3JldHVybiBmdW5jdGlvbigpe1widW5kZWZpbmVkXCIhPXR5cGVvZiBjb25zb2xlJiYoby5jYWxsKHRoaXMsZSxpKSx0aGlzW3RdLmFwcGx5KHRoaXMsYXJndW1lbnRzKSl9fWZ1bmN0aW9uIGgodCxlLGkpe3JldHVybiByKHQpfHxhLmFwcGx5KHRoaXMsYXJndW1lbnRzKX1mdW5jdGlvbiBsKHQsZSxzKXt2YXIgbixyPXRoaXMsYT1cImxvZ2xldmVsXCI7ZnVuY3Rpb24gbCgpe3ZhciB0O2lmKFwidW5kZWZpbmVkXCIhPXR5cGVvZiB3aW5kb3cpe3RyeXt0PXdpbmRvdy5sb2NhbFN0b3JhZ2VbYV19Y2F0Y2godCl7fWlmKHZvaWQgMD09PXQpdHJ5e3ZhciBlPXdpbmRvdy5kb2N1bWVudC5jb29raWUsaT1lLmluZGV4T2YoZW5jb2RlVVJJQ29tcG9uZW50KGEpK1wiPVwiKTstMSE9PWkmJih0PS9eKFteO10rKS8uZXhlYyhlLnNsaWNlKGkpKVsxXSl9Y2F0Y2godCl7fXJldHVybiB2b2lkIDA9PT1yLmxldmVsc1t0XSYmKHQ9dm9pZCAwKSx0fX10JiYoYSs9XCI6XCIrdCksci5uYW1lPXQsci5sZXZlbHM9e1RSQUNFOjAsREVCVUc6MSxJTkZPOjIsV0FSTjozLEVSUk9SOjQsU0lMRU5UOjV9LHIubWV0aG9kRmFjdG9yeT1zfHxoLHIuZ2V0TGV2ZWw9ZnVuY3Rpb24oKXtyZXR1cm4gbn0sci5zZXRMZXZlbD1mdW5jdGlvbihlLHMpe2lmKFwic3RyaW5nXCI9PXR5cGVvZiBlJiZ2b2lkIDAhPT1yLmxldmVsc1tlLnRvVXBwZXJDYXNlKCldJiYoZT1yLmxldmVsc1tlLnRvVXBwZXJDYXNlKCldKSwhKFwibnVtYmVyXCI9PXR5cGVvZiBlJiZlPj0wJiZlPD1yLmxldmVscy5TSUxFTlQpKXRocm93XCJsb2cuc2V0TGV2ZWwoKSBjYWxsZWQgd2l0aCBpbnZhbGlkIGxldmVsOiBcIitlO2lmKG49ZSwhMSE9PXMmJmZ1bmN0aW9uKHQpe3ZhciBlPShpW3RdfHxcInNpbGVudFwiKS50b1VwcGVyQ2FzZSgpO2lmKFwidW5kZWZpbmVkXCIhPXR5cGVvZiB3aW5kb3cpe3RyeXtyZXR1cm4gdm9pZCh3aW5kb3cubG9jYWxTdG9yYWdlW2FdPWUpfWNhdGNoKHQpe310cnl7d2luZG93LmRvY3VtZW50LmNvb2tpZT1lbmNvZGVVUklDb21wb25lbnQoYSkrXCI9XCIrZStcIjtcIn1jYXRjaCh0KXt9fX0oZSksby5jYWxsKHIsZSx0KSxcInVuZGVmaW5lZFwiPT10eXBlb2YgY29uc29sZSYmZTxyLmxldmVscy5TSUxFTlQpcmV0dXJuXCJObyBjb25zb2xlIGF2YWlsYWJsZSBmb3IgbG9nZ2luZ1wifSxyLnNldERlZmF1bHRMZXZlbD1mdW5jdGlvbih0KXtsKCl8fHIuc2V0TGV2ZWwodCwhMSl9LHIuZW5hYmxlQWxsPWZ1bmN0aW9uKHQpe3Iuc2V0TGV2ZWwoci5sZXZlbHMuVFJBQ0UsdCl9LHIuZGlzYWJsZUFsbD1mdW5jdGlvbih0KXtyLnNldExldmVsKHIubGV2ZWxzLlNJTEVOVCx0KX07dmFyIGM9bCgpO251bGw9PWMmJihjPW51bGw9PWU/XCJXQVJOXCI6ZSksci5zZXRMZXZlbChjLCExKX12YXIgYz1uZXcgbCx1PXt9O2MuZ2V0TG9nZ2VyPWZ1bmN0aW9uKHQpe2lmKFwic3RyaW5nXCIhPXR5cGVvZiB0fHxcIlwiPT09dCl0aHJvdyBuZXcgVHlwZUVycm9yKFwiWW91IG11c3Qgc3VwcGx5IGEgbmFtZSB3aGVuIGNyZWF0aW5nIGEgbG9nZ2VyLlwiKTt2YXIgZT11W3RdO3JldHVybiBlfHwoZT11W3RdPW5ldyBsKHQsYy5nZXRMZXZlbCgpLGMubWV0aG9kRmFjdG9yeSkpLGV9O3ZhciBkPVwidW5kZWZpbmVkXCIhPXR5cGVvZiB3aW5kb3c/d2luZG93LmxvZzp2b2lkIDA7cmV0dXJuIGMubm9Db25mbGljdD1mdW5jdGlvbigpe3JldHVyblwidW5kZWZpbmVkXCIhPXR5cGVvZiB3aW5kb3cmJndpbmRvdy5sb2c9PT1jJiYod2luZG93LmxvZz1kKSxjfSxjLmdldExvZ2dlcnM9ZnVuY3Rpb24oKXtyZXR1cm4gdX0sY30pP3MuY2FsbChlLGksZSx0KTpzKXx8KHQuZXhwb3J0cz1uKX0oKX0sZnVuY3Rpb24odCxlLGkpe1widXNlIHN0cmljdFwiO3ZhciBzLG47T2JqZWN0LmRlZmluZVByb3BlcnR5KGUsXCJfX2VzTW9kdWxlXCIse3ZhbHVlOiEwfSksZnVuY3Rpb24odCl7dFt0LkM9MF09XCJDXCIsdFt0LkQ9Ml09XCJEXCIsdFt0LkU9NF09XCJFXCIsdFt0LkY9NV09XCJGXCIsdFt0Lkc9N109XCJHXCIsdFt0LkE9OV09XCJBXCIsdFt0LkI9MTFdPVwiQlwifShzPWUuTm90ZUVudW18fChlLk5vdGVFbnVtPXt9KSksZnVuY3Rpb24odCl7dFt0LlNIQVJQPTBdPVwiU0hBUlBcIix0W3QuRkxBVD0xXT1cIkZMQVRcIix0W3QuTk9ORT0yXT1cIk5PTkVcIix0W3QuTkFUVVJBTD0zXT1cIk5BVFVSQUxcIix0W3QuRE9VQkxFU0hBUlA9NF09XCJET1VCTEVTSEFSUFwiLHRbdC5ET1VCTEVGTEFUPTVdPVwiRE9VQkxFRkxBVFwiLHRbdC5UUklQTEVTSEFSUD02XT1cIlRSSVBMRVNIQVJQXCIsdFt0LlRSSVBMRUZMQVQ9N109XCJUUklQTEVGTEFUXCIsdFt0LlFVQVJURVJUT05FU0hBUlA9OF09XCJRVUFSVEVSVE9ORVNIQVJQXCIsdFt0LlFVQVJURVJUT05FRkxBVD05XT1cIlFVQVJURVJUT05FRkxBVFwifShuPWUuQWNjaWRlbnRhbEVudW18fChlLkFjY2lkZW50YWxFbnVtPXt9KSk7Y2xhc3Mgcntjb25zdHJ1Y3Rvcih0LGUsaSl7dGhpcy5hY2NpZGVudGFsPW4uTk9ORSx0aGlzLmZ1bmRhbWVudGFsTm90ZT10LHRoaXMub2N0YXZlPWUsdGhpcy5hY2NpZGVudGFsPWksdGhpcy5oYWxmVG9uZT10KzEyKihlK3Iub2N0WG1sRGlmZikrci5IYWxmVG9uZXNGcm9tQWNjaWRlbnRhbChpKSx0aGlzLmZyZXF1ZW5jeT1yLmNhbGNGcmVxdWVuY3kodGhpcyl9c3RhdGljIGdldE5vdGVFbnVtU3RyaW5nKHQpe3N3aXRjaCh0KXtjYXNlIHMuQzpyZXR1cm5cIkNcIjtjYXNlIHMuRDpyZXR1cm5cIkRcIjtjYXNlIHMuRTpyZXR1cm5cIkVcIjtjYXNlIHMuRjpyZXR1cm5cIkZcIjtjYXNlIHMuRzpyZXR1cm5cIkdcIjtjYXNlIHMuQTpyZXR1cm5cIkFcIjtjYXNlIHMuQjpyZXR1cm5cIkJcIjtkZWZhdWx0OnJldHVyblwiXCJ9fXN0YXRpYyBDYWxjdWxhdGVUcmFuc3Bvc2VkSGFsZlRvbmUodCxlKXtjb25zdCBpPXQuZnVuZGFtZW50YWxOb3RlK3QuQWNjaWRlbnRhbEhhbGZUb25lcytlO3JldHVybiByLldyYXBBcm91bmRDaGVjayhpLDEyKX1zdGF0aWMgV3JhcEFyb3VuZENoZWNrKHQsZSl7bGV0IGk9MDtmb3IoO3Q8MDspdCs9ZSxpLS07Zm9yKDt0Pj1lOyl0LT1lLGkrKztyZXR1cm57b3ZlcmZsb3c6aSx2YWx1ZTp0fX1zdGF0aWMgY2FsY0ZyZXF1ZW5jeSh0KXtsZXQgZSxpPTA7aWYodCBpbnN0YW5jZW9mIHIpe2NvbnN0IG49dDtpPW4ub2N0YXZlLTEsZT1uLmZ1bmRhbWVudGFsTm90ZS1zLkErbi5BY2NpZGVudGFsSGFsZlRvbmVzfWVsc2UgaWYoXCJudW1iZXJcIj09dHlwZW9mIHQpe2U9dC01N31yZXR1cm4gNDQwKk1hdGgucG93KDIsaSkqTWF0aC5wb3coMixlLzEyKX1zdGF0aWMgY2FsY0ZyYWN0aW9uYWxLZXkodCl7cmV0dXJuIE1hdGgubG9nKHQvNDQwKS9NYXRoLkxOMTAqci5oYWxmdG9uZUZhY3Rvcis1N31zdGF0aWMgZnJvbUZyZXF1ZW5jeSh0KXtjb25zdCBlPXIuY2FsY0ZyYWN0aW9uYWxLZXkodCkrLjUsaT1NYXRoLmZsb29yKGUvMTIpLXIub2N0WG1sRGlmZixzPU1hdGguZmxvb3IoZSklMTI7bGV0IG89cyxhPW4uTk9ORTtyZXR1cm4tMT09PXRoaXMucGl0Y2hFbnVtVmFsdWVzLmluZGV4T2YobykmJihvPXMtMSxhPW4uU0hBUlApLG5ldyByKG8saSxhKX1zdGF0aWMgZnJvbUhhbGZ0b25lKHQpe2NvbnN0IGU9TWF0aC5mbG9vcih0LzEyKS1yLm9jdFhtbERpZmYsaT10JTEyO2xldCBzPWksbz1uLk5PTkU7cmV0dXJuLTE9PT10aGlzLnBpdGNoRW51bVZhbHVlcy5pbmRleE9mKHMpJiYocz1pLTEsbz1uLlNIQVJQKSxuZXcgcihzLGUsbyl9c3RhdGljIGNlaWxpbmcodCl7bGV0IGU9dCU9MTI7cmV0dXJuLTE9PT10aGlzLnBpdGNoRW51bVZhbHVlcy5pbmRleE9mKGUpJiYoZT10KzEpLGV9c3RhdGljIGZsb29yKHQpe2xldCBlPXQlPTEyO3JldHVybi0xPT09dGhpcy5waXRjaEVudW1WYWx1ZXMuaW5kZXhPZihlKSYmKGU9dC0xKSxlfXN0YXRpYyBIYWxmVG9uZXNGcm9tQWNjaWRlbnRhbCh0KXtzd2l0Y2godCl7Y2FzZSBuLk5PTkU6cmV0dXJuIDA7Y2FzZSBuLlNIQVJQOnJldHVybiAxO2Nhc2Ugbi5GTEFUOnJldHVybi0xO2Nhc2Ugbi5OQVRVUkFMOnJldHVybiAwO2Nhc2Ugbi5ET1VCTEVTSEFSUDpyZXR1cm4gMjtjYXNlIG4uRE9VQkxFRkxBVDpyZXR1cm4tMjtjYXNlIG4uUVVBUlRFUlRPTkVTSEFSUDpyZXR1cm4uNTtjYXNlIG4uUVVBUlRFUlRPTkVGTEFUOnJldHVybi0uNTtjYXNlIG4uVFJJUExFU0hBUlA6cmV0dXJuIDM7Y2FzZSBuLlRSSVBMRUZMQVQ6cmV0dXJuLTM7ZGVmYXVsdDp0aHJvdyBuZXcgRXJyb3IoXCJVbmhhbmRsZWQgQWNjaWRlbnRhbEVudW0gdmFsdWVcIil9fXN0YXRpYyBBY2NpZGVudGFsRnJvbUhhbGZUb25lcyh0KXtzd2l0Y2godCl7Y2FzZSAwOnJldHVybiBuLk5PTkU7Y2FzZSAxOnJldHVybiBuLlNIQVJQO2Nhc2UtMTpyZXR1cm4gbi5GTEFUO2Nhc2UgMjpyZXR1cm4gbi5ET1VCTEVTSEFSUDtjYXNlLTI6cmV0dXJuIG4uRE9VQkxFRkxBVDtjYXNlLjU6cmV0dXJuIG4uUVVBUlRFUlRPTkVTSEFSUDtjYXNlLS41OnJldHVybiBuLlFVQVJURVJUT05FRkxBVDtjYXNlIDM6cmV0dXJuIG4uVFJJUExFU0hBUlA7Y2FzZS0zOnJldHVybiBuLlRSSVBMRUZMQVQ7ZGVmYXVsdDpyZXR1cm4gdD4wJiZ0PDE/bi5RVUFSVEVSVE9ORVNIQVJQOnQ8MCYmdD4tMT9uLlFVQVJURVJUT05FRkxBVDpuLlFVQVJURVJUT05FU0hBUlB9fXN0YXRpYyBhY2NpZGVudGFsVmV4Zmxvdyh0KXtsZXQgZTtzd2l0Y2godCl7Y2FzZSBuLk5BVFVSQUw6ZT1cIm5cIjticmVhaztjYXNlIG4uRkxBVDplPVwiYlwiO2JyZWFrO2Nhc2Ugbi5TSEFSUDplPVwiI1wiO2JyZWFrO2Nhc2Ugbi5ET1VCTEVTSEFSUDplPVwiIyNcIjticmVhaztjYXNlIG4uVFJJUExFU0hBUlA6ZT1cIisrXCI7YnJlYWs7Y2FzZSBuLkRPVUJMRUZMQVQ6ZT1cImJiXCI7YnJlYWs7Y2FzZSBuLlRSSVBMRUZMQVQ6ZT1cImJic1wiO2JyZWFrO2Nhc2Ugbi5RVUFSVEVSVE9ORVNIQVJQOmU9XCIrXCI7YnJlYWs7Y2FzZSBuLlFVQVJURVJUT05FRkxBVDplPVwiZFwifXJldHVybiBlfWdldCBBY2NpZGVudGFsSGFsZlRvbmVzKCl7cmV0dXJuIHIuSGFsZlRvbmVzRnJvbUFjY2lkZW50YWwodGhpcy5hY2NpZGVudGFsKX1nZXQgT2N0YXZlKCl7cmV0dXJuIHRoaXMub2N0YXZlfWdldCBGdW5kYW1lbnRhbE5vdGUoKXtyZXR1cm4gdGhpcy5mdW5kYW1lbnRhbE5vdGV9Z2V0IEFjY2lkZW50YWwoKXtyZXR1cm4gdGhpcy5hY2NpZGVudGFsfWdldCBGcmVxdWVuY3koKXtyZXR1cm4gdGhpcy5mcmVxdWVuY3l9c3RhdGljIGdldCBPY3RhdmVYbWxEaWZmZXJlbmNlKCl7cmV0dXJuIHIub2N0WG1sRGlmZn1nZXRIYWxmVG9uZSgpe3JldHVybiB0aGlzLmhhbGZUb25lfWdldFRyYW5zcG9zZWRQaXRjaCh0KXtpZih0PjEyKXRocm93IG5ldyBFcnJvcihcInJld3JpdGUgdGhpcyBtZXRob2QgdG8gaGFuZGxlIGJpZ2dlciBvY3RhdmUgY2hhbmdlcyBvciBkb24ndCB1c2UgaXMgd2l0aCBiaWdnZXIgb2N0YXZlIGNoYW5nZXMhXCIpO3JldHVybiB0PjA/dGhpcy5nZXRIaWdoZXJQaXRjaEJ5VHJhbnNwb3NlRmFjdG9yKHQpOnQ8MD90aGlzLmdldExvd2VyUGl0Y2hCeVRyYW5zcG9zZUZhY3RvcigtdCk6dGhpc31Eb0VuaGFybW9uaWNDaGFuZ2UoKXtzd2l0Y2godGhpcy5hY2NpZGVudGFsKXtjYXNlIG4uRkxBVDpjYXNlIG4uRE9VQkxFRkxBVDp0aGlzLmZ1bmRhbWVudGFsTm90ZT10aGlzLmdldFByZXZpb3VzRnVuZGFtZW50YWxOb3RlKHRoaXMuZnVuZGFtZW50YWxOb3RlKSx0aGlzLmFjY2lkZW50YWw9ci5BY2NpZGVudGFsRnJvbUhhbGZUb25lcyh0aGlzLmhhbGZUb25lLSh0aGlzLmZ1bmRhbWVudGFsTm90ZSsxMioodGhpcy5vY3RhdmUrci5vY3RYbWxEaWZmKSkpO2JyZWFrO2Nhc2Ugbi5TSEFSUDpjYXNlIG4uRE9VQkxFU0hBUlA6dGhpcy5mdW5kYW1lbnRhbE5vdGU9dGhpcy5nZXROZXh0RnVuZGFtZW50YWxOb3RlKHRoaXMuZnVuZGFtZW50YWxOb3RlKSx0aGlzLmFjY2lkZW50YWw9ci5BY2NpZGVudGFsRnJvbUhhbGZUb25lcyh0aGlzLmhhbGZUb25lLSh0aGlzLmZ1bmRhbWVudGFsTm90ZSsxMioodGhpcy5vY3RhdmUrci5vY3RYbWxEaWZmKSkpO2JyZWFrO2RlZmF1bHQ6cmV0dXJufX1Ub1N0cmluZygpe2xldCB0PXIuYWNjaWRlbnRhbFZleGZsb3codGhpcy5hY2NpZGVudGFsKTtyZXR1cm4gdHx8KHQ9XCJcIiksXCJLZXk6IFwiK3IuZ2V0Tm90ZUVudW1TdHJpbmcodGhpcy5mdW5kYW1lbnRhbE5vdGUpK3QrXCIsIE5vdGU6IFwiK3RoaXMuZnVuZGFtZW50YWxOb3RlK1wiLCBvY3RhdmU6IFwiK3RoaXMub2N0YXZlLnRvU3RyaW5nKCl9T3BlcmF0b3JFcXVhbHModCl7cmV0dXJuISghdGhpc3x8IXQpJiYodGhpcy5GdW5kYW1lbnRhbE5vdGU9PT10LkZ1bmRhbWVudGFsTm90ZSYmdGhpcy5PY3RhdmU9PT10Lk9jdGF2ZSYmdGhpcy5BY2NpZGVudGFsPT09dC5BY2NpZGVudGFsKX1PcGVyYXRvck5vdEVxdWFsKHQpe3JldHVybiEodGhpcz09PXQpfWdldEhpZ2hlclBpdGNoQnlUcmFuc3Bvc2VGYWN0b3IodCl7Y29uc3QgZT1yLnBpdGNoRW51bVZhbHVlcy5pbmRleE9mKHRoaXMuZnVuZGFtZW50YWxOb3RlKTtsZXQgaSxzPXRoaXMub2N0YXZlO3JldHVybiBlK3Q+ci5waXRjaEVudW1WYWx1ZXMubGVuZ3RoLTE/KGk9ci5waXRjaEVudW1WYWx1ZXNbZSt0LXIucGl0Y2hFbnVtVmFsdWVzLmxlbmd0aF0scysrKTppPXIucGl0Y2hFbnVtVmFsdWVzW2UrdF0sbmV3IHIoaSxzLG4uTk9ORSl9Z2V0TG93ZXJQaXRjaEJ5VHJhbnNwb3NlRmFjdG9yKHQpe2NvbnN0IGU9ci5waXRjaEVudW1WYWx1ZXMuaW5kZXhPZih0aGlzLmZ1bmRhbWVudGFsTm90ZSk7bGV0IGkscz10aGlzLm9jdGF2ZTtyZXR1cm4gZS10PDA/KGk9ci5waXRjaEVudW1WYWx1ZXNbci5waXRjaEVudW1WYWx1ZXMubGVuZ3RoK2UtdF0scy0tKTppPXIucGl0Y2hFbnVtVmFsdWVzW2UtdF0sbmV3IHIoaSxzLG4uTk9ORSl9Z2V0TmV4dEZ1bmRhbWVudGFsTm90ZSh0KXtsZXQgZT1yLnBpdGNoRW51bVZhbHVlcy5pbmRleE9mKHQpO3JldHVybiBlPShlKzEpJXIucGl0Y2hFbnVtVmFsdWVzLmxlbmd0aCxyLnBpdGNoRW51bVZhbHVlc1tlXX1nZXRQcmV2aW91c0Z1bmRhbWVudGFsTm90ZSh0KXtjb25zdCBlPXIucGl0Y2hFbnVtVmFsdWVzLmluZGV4T2YodCk7cmV0dXJuIGU+MD9yLnBpdGNoRW51bVZhbHVlc1tlLTFdOnIucGl0Y2hFbnVtVmFsdWVzW3IucGl0Y2hFbnVtVmFsdWVzLmxlbmd0aC0xXX19ZS5QaXRjaD1yLHIucGl0Y2hFbnVtVmFsdWVzPVtzLkMscy5ELHMuRSxzLkYscy5HLHMuQSxzLkJdLHIuaGFsZnRvbmVGYWN0b3I9MTIvKE1hdGguTE4yL01hdGguTE4xMCksci5vY3RYbWxEaWZmPTN9LGZ1bmN0aW9uKHQsZSxpKXtcInVzZSBzdHJpY3RcIjt2YXIgcz10aGlzJiZ0aGlzLl9faW1wb3J0RGVmYXVsdHx8ZnVuY3Rpb24odCl7cmV0dXJuIHQmJnQuX19lc01vZHVsZT90OntkZWZhdWx0OnR9fTtPYmplY3QuZGVmaW5lUHJvcGVydHkoZSxcIl9fZXNNb2R1bGVcIix7dmFsdWU6ITB9KTtjb25zdCBuPXMoaSgxKSkscj1pKDExKSxvPWkoNCksYT1pKDgwKSxoPWkoNTIpLGw9aSg1MyksYz1pKDI5KTt2YXIgdTtlLkJvdW5kaW5nQm94PWNsYXNze2NvbnN0cnVjdG9yKHQsZSxpPSExKXt0aGlzLmlzU3ltYm9sPSExLHRoaXMucmVsYXRpdmVQb3NpdGlvbkhhc0JlZW5TZXQ9ITEsdGhpcy54Qm9yZGVyc0hhdmVCZWVuU2V0PSExLHRoaXMueUJvcmRlcnNIYXZlQmVlblNldD0hMSx0aGlzLmFic29sdXRlUG9zaXRpb249bmV3IG8uUG9pbnRGMkQsdGhpcy5yZWxhdGl2ZVBvc2l0aW9uPW5ldyBvLlBvaW50RjJELHRoaXMuc2l6ZT1uZXcgYS5TaXplRjJELHRoaXMubWFyZ2luU2l6ZT1uZXcgYS5TaXplRjJELHRoaXMudXBwZXJMZWZ0Q29ybmVyPW5ldyBvLlBvaW50RjJELHRoaXMudXBwZXJMZWZ0TWFyZ2luQ29ybmVyPW5ldyBvLlBvaW50RjJELHRoaXMuYm9yZGVyTGVmdD0wLHRoaXMuYm9yZGVyUmlnaHQ9MCx0aGlzLmJvcmRlclRvcD0wLHRoaXMuYm9yZGVyQm90dG9tPTAsdGhpcy5ib3JkZXJNYXJnaW5MZWZ0PTAsdGhpcy5ib3JkZXJNYXJnaW5SaWdodD0wLHRoaXMuYm9yZGVyTWFyZ2luVG9wPTAsdGhpcy5ib3JkZXJNYXJnaW5Cb3R0b209MCx0aGlzLmNoaWxkRWxlbWVudHM9W10sdGhpcy5wYXJlbnQ9ZSx0aGlzLmRhdGFPYmplY3Q9dCx0aGlzLmlzU3ltYm9sPWksdGhpcy54Qm9yZGVyc0hhdmVCZWVuU2V0PSExLHRoaXMueUJvcmRlcnNIYXZlQmVlblNldD0hMSxlJiYodGhpcy5QYXJlbnQ9ZSl9Z2V0IFJlbGF0aXZlUG9zaXRpb25IYXNCZWVuU2V0KCl7cmV0dXJuIHRoaXMucmVsYXRpdmVQb3NpdGlvbkhhc0JlZW5TZXR9Z2V0IFhCb3JkZXJzSGF2ZUJlZW5TZXQoKXtyZXR1cm4gdGhpcy54Qm9yZGVyc0hhdmVCZWVuU2V0fXNldCBYQm9yZGVyc0hhdmVCZWVuU2V0KHQpe3RoaXMueEJvcmRlcnNIYXZlQmVlblNldD10fWdldCBZQm9yZGVyc0hhdmVCZWVuU2V0KCl7cmV0dXJuIHRoaXMueUJvcmRlcnNIYXZlQmVlblNldH1zZXQgWUJvcmRlcnNIYXZlQmVlblNldCh0KXt0aGlzLnlCb3JkZXJzSGF2ZUJlZW5TZXQ9dH1nZXQgQWJzb2x1dGVQb3NpdGlvbigpe3JldHVybiB0aGlzLmFic29sdXRlUG9zaXRpb259c2V0IEFic29sdXRlUG9zaXRpb24odCl7dGhpcy5hYnNvbHV0ZVBvc2l0aW9uPXR9Z2V0IFJlbGF0aXZlUG9zaXRpb24oKXtyZXR1cm4gdGhpcy5yZWxhdGl2ZVBvc2l0aW9ufXNldCBSZWxhdGl2ZVBvc2l0aW9uKHQpe3RoaXMucmVsYXRpdmVQb3NpdGlvbj10LHRoaXMucmVsYXRpdmVQb3NpdGlvbkhhc0JlZW5TZXQ9ITB9Z2V0IFNpemUoKXtyZXR1cm4gdGhpcy5zaXplfXNldCBTaXplKHQpe3RoaXMuc2l6ZT10fWdldCBNYXJnaW5TaXplKCl7cmV0dXJuIHRoaXMubWFyZ2luU2l6ZX1nZXQgVXBwZXJMZWZ0Q29ybmVyKCl7cmV0dXJuIHRoaXMudXBwZXJMZWZ0Q29ybmVyfWdldCBVcHBlckxlZnRNYXJnaW5Db3JuZXIoKXtyZXR1cm4gdGhpcy51cHBlckxlZnRNYXJnaW5Db3JuZXJ9Z2V0IEJvcmRlckxlZnQoKXtyZXR1cm4gdGhpcy5ib3JkZXJMZWZ0fXNldCBCb3JkZXJMZWZ0KHQpe3RoaXMuYm9yZGVyTGVmdD10LHRoaXMuY2FsY3VsYXRlUmVjdGFuZ2xlKCl9Z2V0IEJvcmRlclJpZ2h0KCl7cmV0dXJuIHRoaXMuYm9yZGVyUmlnaHR9c2V0IEJvcmRlclJpZ2h0KHQpe3RoaXMuYm9yZGVyUmlnaHQ9dCx0aGlzLmNhbGN1bGF0ZVJlY3RhbmdsZSgpfWdldCBCb3JkZXJUb3AoKXtyZXR1cm4gdGhpcy5ib3JkZXJUb3B9c2V0IEJvcmRlclRvcCh0KXt0aGlzLmJvcmRlclRvcD10LHRoaXMuY2FsY3VsYXRlUmVjdGFuZ2xlKCl9Z2V0IEJvcmRlckJvdHRvbSgpe3JldHVybiB0aGlzLmJvcmRlckJvdHRvbX1zZXQgQm9yZGVyQm90dG9tKHQpe3RoaXMuYm9yZGVyQm90dG9tPXQsdGhpcy5jYWxjdWxhdGVSZWN0YW5nbGUoKX1nZXQgQm9yZGVyTWFyZ2luTGVmdCgpe3JldHVybiB0aGlzLmJvcmRlck1hcmdpbkxlZnQ+dGhpcy5ib3JkZXJMZWZ0P3RoaXMuYm9yZGVyTGVmdDp0aGlzLmJvcmRlck1hcmdpbkxlZnR9c2V0IEJvcmRlck1hcmdpbkxlZnQodCl7dGhpcy5ib3JkZXJNYXJnaW5MZWZ0PXQsdGhpcy5jYWxjdWxhdGVNYXJnaW5SZWN0YW5nbGUoKX1nZXQgQm9yZGVyTWFyZ2luUmlnaHQoKXtyZXR1cm4gdGhpcy5ib3JkZXJNYXJnaW5SaWdodDx0aGlzLmJvcmRlclJpZ2h0P3RoaXMuYm9yZGVyUmlnaHQ6dGhpcy5ib3JkZXJNYXJnaW5SaWdodH1zZXQgQm9yZGVyTWFyZ2luUmlnaHQodCl7dGhpcy5ib3JkZXJNYXJnaW5SaWdodD10LHRoaXMuY2FsY3VsYXRlTWFyZ2luUmVjdGFuZ2xlKCl9Z2V0IEJvcmRlck1hcmdpblRvcCgpe3JldHVybiB0aGlzLmJvcmRlck1hcmdpblRvcD50aGlzLmJvcmRlclRvcD90aGlzLmJvcmRlclRvcDp0aGlzLmJvcmRlck1hcmdpblRvcH1zZXQgQm9yZGVyTWFyZ2luVG9wKHQpe3RoaXMuYm9yZGVyTWFyZ2luVG9wPXQsdGhpcy5jYWxjdWxhdGVNYXJnaW5SZWN0YW5nbGUoKX1nZXQgQm9yZGVyTWFyZ2luQm90dG9tKCl7cmV0dXJuIHRoaXMuYm9yZGVyTWFyZ2luQm90dG9tPHRoaXMuYm9yZGVyQm90dG9tP3RoaXMuYm9yZGVyQm90dG9tOnRoaXMuYm9yZGVyTWFyZ2luQm90dG9tfXNldCBCb3JkZXJNYXJnaW5Cb3R0b20odCl7dGhpcy5ib3JkZXJNYXJnaW5Cb3R0b209dCx0aGlzLmNhbGN1bGF0ZU1hcmdpblJlY3RhbmdsZSgpfWdldCBCb3VuZGluZ1JlY3RhbmdsZSgpe3JldHVybiB0aGlzLmJvdW5kaW5nUmVjdGFuZ2xlfWdldCBCb3VuZGluZ01hcmdpblJlY3RhbmdsZSgpe3JldHVybiB0aGlzLmJvdW5kaW5nTWFyZ2luUmVjdGFuZ2xlfWdldCBDaGlsZEVsZW1lbnRzKCl7cmV0dXJuIHRoaXMuY2hpbGRFbGVtZW50c31zZXQgQ2hpbGRFbGVtZW50cyh0KXt0aGlzLmNoaWxkRWxlbWVudHM9dH1nZXQgUGFyZW50KCl7cmV0dXJuIHRoaXMucGFyZW50fXNldCBQYXJlbnQodCl7aWYodGhpcy5wYXJlbnQpe2NvbnN0IHQ9dGhpcy5wYXJlbnQuQ2hpbGRFbGVtZW50cy5pbmRleE9mKHRoaXMsMCk7dD4tMSYmdGhpcy5wYXJlbnQuQ2hpbGRFbGVtZW50cy5zcGxpY2UodCwxKX10aGlzLnBhcmVudD10LHRoaXMucGFyZW50LkNoaWxkRWxlbWVudHMuaW5kZXhPZih0aGlzKT4tMT9uLmRlZmF1bHQuZXJyb3IoXCJCb3VuZGluZ0JveCBvZiBcIit0aGlzLmRhdGFPYmplY3QuY29uc3RydWN0b3IubmFtZStcIiBhbHJlYWR5IGluIGNoaWxkcmVuIGxpc3Qgb2YgXCIrdGhpcy5wYXJlbnQuZGF0YU9iamVjdC5jb25zdHJ1Y3Rvci5uYW1lK1wiJ3MgQm91bmRpbmdCb3hcIik6dGhpcy5wYXJlbnQuQ2hpbGRFbGVtZW50cy5wdXNoKHRoaXMpfWdldCBEYXRhT2JqZWN0KCl7cmV0dXJuIHRoaXMuZGF0YU9iamVjdH1nZXQgQ2VudGVyKCl7cmV0dXJuIG5ldyBvLlBvaW50RjJEKHRoaXMuUmVsYXRpdmVQb3NpdGlvbi54Kyh0aGlzLkJvcmRlck1hcmdpblJpZ2h0K3RoaXMuQm9yZGVyTWFyZ2luTGVmdCksdGhpcy5SZWxhdGl2ZVBvc2l0aW9uLnkrKHRoaXMuQm9yZGVyTWFyZ2luQm90dG9tK3RoaXMuQm9yZGVyTWFyZ2luVG9wKSl9c2V0QWJzb2x1dGVQb3NpdGlvbkZyb21QYXJlbnQoKXt0aGlzLnBhcmVudD8odGhpcy5hYnNvbHV0ZVBvc2l0aW9uLng9dGhpcy5wYXJlbnQuQWJzb2x1dGVQb3NpdGlvbi54K3RoaXMucmVsYXRpdmVQb3NpdGlvbi54LHRoaXMuYWJzb2x1dGVQb3NpdGlvbi55PXRoaXMucGFyZW50LkFic29sdXRlUG9zaXRpb24ueSt0aGlzLnJlbGF0aXZlUG9zaXRpb24ueSk6dGhpcy5hYnNvbHV0ZVBvc2l0aW9uPXRoaXMucmVsYXRpdmVQb3NpdGlvbn1jYWxjdWxhdGVBYnNvbHV0ZVBvc2l0aW9uKCl7dGhpcy5hYnNvbHV0ZVBvc2l0aW9uLng9dGhpcy5yZWxhdGl2ZVBvc2l0aW9uLngsdGhpcy5hYnNvbHV0ZVBvc2l0aW9uLnk9dGhpcy5yZWxhdGl2ZVBvc2l0aW9uLnk7bGV0IHQ9dGhpcy5wYXJlbnQ7Zm9yKDt0Oyl0aGlzLmFic29sdXRlUG9zaXRpb24ueCs9dC5yZWxhdGl2ZVBvc2l0aW9uLngsdGhpcy5hYnNvbHV0ZVBvc2l0aW9uLnkrPXQucmVsYXRpdmVQb3NpdGlvbi55LHQ9dC5wYXJlbnR9Y2FsY3VsYXRlQWJzb2x1dGVQb3NpdGlvbnNSZWN1cnNpdmVXaXRob3V0VG9wZWxlbWVudCgpe3RoaXMuYWJzb2x1dGVQb3NpdGlvbi54PTAsdGhpcy5hYnNvbHV0ZVBvc2l0aW9uLnk9MDtmb3IobGV0IHQ9MCxlPXRoaXMuQ2hpbGRFbGVtZW50cy5sZW5ndGg7dDxlOysrdCl7dGhpcy5DaGlsZEVsZW1lbnRzW3RdLmNhbGN1bGF0ZUFic29sdXRlUG9zaXRpb25zUmVjdXJzaXZlKHRoaXMuYWJzb2x1dGVQb3NpdGlvbi54LHRoaXMuYWJzb2x1dGVQb3NpdGlvbi55KX19Y2FsY3VsYXRlQWJzb2x1dGVQb3NpdGlvbnNSZWN1cnNpdmUodCxlKXt0aGlzLmFic29sdXRlUG9zaXRpb24ueD10aGlzLnJlbGF0aXZlUG9zaXRpb24ueCt0LHRoaXMuYWJzb2x1dGVQb3NpdGlvbi55PXRoaXMucmVsYXRpdmVQb3NpdGlvbi55K2U7Zm9yKGxldCB0PTAsZT10aGlzLkNoaWxkRWxlbWVudHMubGVuZ3RoO3Q8ZTsrK3Qpe3RoaXMuQ2hpbGRFbGVtZW50c1t0XS5jYWxjdWxhdGVBYnNvbHV0ZVBvc2l0aW9uc1JlY3Vyc2l2ZSh0aGlzLmFic29sdXRlUG9zaXRpb24ueCx0aGlzLmFic29sdXRlUG9zaXRpb24ueSl9fWNhbGN1bGF0ZUFic29sdXRlUG9zaXRpb25zT2ZDaGlsZHJlbigpe2ZvcihsZXQgdD0wLGU9dGhpcy5DaGlsZEVsZW1lbnRzLmxlbmd0aDt0PGU7Kyt0KXt0aGlzLkNoaWxkRWxlbWVudHNbdF0uY2FsY3VsYXRlQWJzb2x1dGVQb3NpdGlvbnNSZWN1cnNpdmUodGhpcy5hYnNvbHV0ZVBvc2l0aW9uLngsdGhpcy5hYnNvbHV0ZVBvc2l0aW9uLnkpfX1jYWxjdWxhdGVCb3VuZGluZ0JveCgpe2lmKDA9PT10aGlzLmNoaWxkRWxlbWVudHMubGVuZ3RoKXJldHVybjtmb3IobGV0IHQ9MCxlPXRoaXMuQ2hpbGRFbGVtZW50cy5sZW5ndGg7dDxlOysrdCl7dGhpcy5DaGlsZEVsZW1lbnRzW3RdLmNhbGN1bGF0ZUJvdW5kaW5nQm94KCl9bGV0IHQ9TnVtYmVyLk1BWF9WQUxVRSxlPU51bWJlci5NSU5fVkFMVUUsaT1OdW1iZXIuTUFYX1ZBTFVFLHM9TnVtYmVyLk1JTl9WQUxVRSxuPU51bWJlci5NQVhfVkFMVUUscj1OdW1iZXIuTUlOX1ZBTFVFLG89TnVtYmVyLk1BWF9WQUxVRSxhPU51bWJlci5NSU5fVkFMVUU7dGhpcy5pc1N5bWJvbCYmKHQ9dGhpcy5ib3JkZXJMZWZ0LGU9dGhpcy5ib3JkZXJSaWdodCxpPXRoaXMuYm9yZGVyVG9wLHM9dGhpcy5ib3JkZXJCb3R0b20sbj10aGlzLmJvcmRlck1hcmdpbkxlZnQscj10aGlzLmJvcmRlck1hcmdpblJpZ2h0LG89dGhpcy5ib3JkZXJNYXJnaW5Ub3AsYT10aGlzLmJvcmRlck1hcmdpbkJvdHRvbSk7Zm9yKGxldCBoPTAsbD10aGlzLkNoaWxkRWxlbWVudHMubGVuZ3RoO2g8bDsrK2gpe2NvbnN0IGw9dGhpcy5DaGlsZEVsZW1lbnRzW2hdO3Q9TWF0aC5taW4odCxsLnJlbGF0aXZlUG9zaXRpb24ueCtsLmJvcmRlckxlZnQpLGU9TWF0aC5tYXgoZSxsLnJlbGF0aXZlUG9zaXRpb24ueCtsLmJvcmRlclJpZ2h0KSxpPU1hdGgubWluKGksbC5yZWxhdGl2ZVBvc2l0aW9uLnkrbC5ib3JkZXJUb3ApLHM9TWF0aC5tYXgocyxsLnJlbGF0aXZlUG9zaXRpb24ueStsLmJvcmRlckJvdHRvbSksbj1NYXRoLm1pbihuLGwucmVsYXRpdmVQb3NpdGlvbi54K2wuYm9yZGVyTWFyZ2luTGVmdCkscj1NYXRoLm1heChyLGwucmVsYXRpdmVQb3NpdGlvbi54K2wuYm9yZGVyTWFyZ2luUmlnaHQpLG89TWF0aC5taW4obyxsLnJlbGF0aXZlUG9zaXRpb24ueStsLmJvcmRlck1hcmdpblRvcCksYT1NYXRoLm1heChhLGwucmVsYXRpdmVQb3NpdGlvbi55K2wuYm9yZGVyTWFyZ2luQm90dG9tKX10aGlzLmJvcmRlckxlZnQ9dCx0aGlzLmJvcmRlclJpZ2h0PWUsdGhpcy5ib3JkZXJUb3A9aSx0aGlzLmJvcmRlckJvdHRvbT1zLHRoaXMuYm9yZGVyTWFyZ2luTGVmdD1uLHRoaXMuYm9yZGVyTWFyZ2luUmlnaHQ9cix0aGlzLmJvcmRlck1hcmdpblRvcD1vLHRoaXMuYm9yZGVyTWFyZ2luQm90dG9tPWEsdGhpcy5jYWxjdWxhdGVSZWN0YW5nbGUoKSx0aGlzLmNhbGN1bGF0ZU1hcmdpblJlY3RhbmdsZSgpLHRoaXMueEJvcmRlcnNIYXZlQmVlblNldD0hMCx0aGlzLnlCb3JkZXJzSGF2ZUJlZW5TZXQ9ITB9Y2FsY3VsYXRlVG9wQm90dG9tQm9yZGVycygpe2lmKDA9PT10aGlzLmNoaWxkRWxlbWVudHMubGVuZ3RoKXJldHVybjtmb3IobGV0IHQ9MCxlPXRoaXMuQ2hpbGRFbGVtZW50cy5sZW5ndGg7dDxlOysrdCl7dGhpcy5DaGlsZEVsZW1lbnRzW3RdLmNhbGN1bGF0ZVRvcEJvdHRvbUJvcmRlcnMoKX1sZXQgdD1OdW1iZXIuTUFYX1ZBTFVFLGU9TnVtYmVyLk1JTl9WQUxVRSxpPU51bWJlci5NQVhfVkFMVUUscz1OdW1iZXIuTUlOX1ZBTFVFO3RoaXMueUJvcmRlcnNIYXZlQmVlblNldCYmKHQ9dGhpcy5ib3JkZXJUb3AsZT10aGlzLmJvcmRlckJvdHRvbSxpPXRoaXMuYm9yZGVyTWFyZ2luVG9wLHM9dGhpcy5ib3JkZXJNYXJnaW5Cb3R0b20pO2ZvcihsZXQgbj0wLHI9dGhpcy5DaGlsZEVsZW1lbnRzLmxlbmd0aDtuPHI7KytuKXtjb25zdCByPXRoaXMuQ2hpbGRFbGVtZW50c1tuXTt0PU1hdGgubWluKHQsci5yZWxhdGl2ZVBvc2l0aW9uLnkrci5ib3JkZXJUb3ApLGMuRW5ncmF2aW5nUnVsZXMuRml4U3RhZmZsaW5lQm91bmRpbmdCb3gmJnIuZGF0YU9iamVjdCBpbnN0YW5jZW9mIGwuU3RhZmZMaW5lQWN0aXZpdHlTeW1ib2x8fChlPU1hdGgubWF4KGUsci5yZWxhdGl2ZVBvc2l0aW9uLnkrci5ib3JkZXJCb3R0b20pKSxpPU1hdGgubWluKGksci5yZWxhdGl2ZVBvc2l0aW9uLnkrci5ib3JkZXJNYXJnaW5Ub3ApLHM9TWF0aC5tYXgocyxyLnJlbGF0aXZlUG9zaXRpb24ueStyLmJvcmRlck1hcmdpbkJvdHRvbSl9dGhpcy5ib3JkZXJUb3A9dCx0aGlzLmJvcmRlckJvdHRvbT1lLHRoaXMuYm9yZGVyTWFyZ2luVG9wPWksdGhpcy5ib3JkZXJNYXJnaW5Cb3R0b209cyx0aGlzLmNhbGN1bGF0ZVJlY3RhbmdsZSgpLHRoaXMuY2FsY3VsYXRlTWFyZ2luUmVjdGFuZ2xlKCl9Y29tcHV0ZU5vbk92ZXJsYXBwaW5nUG9zaXRpb25XaXRoTWFyZ2luKHQsZSxpKXt0aGlzLlJlbGF0aXZlUG9zaXRpb249bmV3IG8uUG9pbnRGMkQoaS54LGkueSksdGhpcy5zZXRBYnNvbHV0ZVBvc2l0aW9uRnJvbVBhcmVudCgpO2xldCBzPTAsbj0hMTtkb3tzd2l0Y2goZSl7Y2FzZSB1LkxlZnQ6Y2FzZSB1LlJpZ2h0OnM9dGhpcy5yZWxhdGl2ZVBvc2l0aW9uLngsdC5jYWxjdWxhdGVNYXJnaW5Qb3NpdGlvbkFsb25nRGlyZWN0aW9uKHRoaXMsZSksbj1NYXRoLmFicyhzLXRoaXMucmVsYXRpdmVQb3NpdGlvbi54KT4uMDAxO2JyZWFrO2Nhc2UgdS5VcDpjYXNlIHUuRG93bjpzPXRoaXMucmVsYXRpdmVQb3NpdGlvbi55LHQuY2FsY3VsYXRlTWFyZ2luUG9zaXRpb25BbG9uZ0RpcmVjdGlvbih0aGlzLGUpLG49TWF0aC5hYnMocy10aGlzLnJlbGF0aXZlUG9zaXRpb24ueSk+LjAwMTticmVhaztkZWZhdWx0OnRocm93IG5ldyByLkFyZ3VtZW50T3V0T2ZSYW5nZUV4Y2VwdGlvbihcImRpcmVjdGlvblwiKX19d2hpbGUobil9Y29sbGlzaW9uRGV0ZWN0aW9uKHQpe2NvbnN0IGU9TWF0aC5taW4odGhpcy5BYnNvbHV0ZVBvc2l0aW9uLngrdGhpcy5ib3JkZXJSaWdodCx0LmFic29sdXRlUG9zaXRpb24ueCt0LmJvcmRlclJpZ2h0KS1NYXRoLm1heCh0aGlzLkFic29sdXRlUG9zaXRpb24ueCt0aGlzLmJvcmRlckxlZnQsdC5hYnNvbHV0ZVBvc2l0aW9uLngrdC5ib3JkZXJMZWZ0KSxpPU1hdGgubWluKHRoaXMuQWJzb2x1dGVQb3NpdGlvbi55K3RoaXMuYm9yZGVyQm90dG9tLHQuYWJzb2x1dGVQb3NpdGlvbi55K3QuYm9yZGVyQm90dG9tKS1NYXRoLm1heCh0aGlzLkFic29sdXRlUG9zaXRpb24ueSt0aGlzLmJvcmRlclRvcCx0LmFic29sdXRlUG9zaXRpb24ueSt0LmJvcmRlclRvcCk7cmV0dXJuIGU+MCYmaT4wfWxpZXNJbnNpZGVCb3JkZXJzKHQpe2NvbnN0IGU9dGhpcy5BYnNvbHV0ZVBvc2l0aW9uLngrdGhpcy5ib3JkZXJMZWZ0PD10LmFic29sdXRlUG9zaXRpb24ueCt0LmJvcmRlckxlZnQmJnQuYWJzb2x1dGVQb3NpdGlvbi54K3QuYm9yZGVyTGVmdDw9dGhpcy5BYnNvbHV0ZVBvc2l0aW9uLngrdGhpcy5ib3JkZXJSaWdodCxpPXRoaXMuQWJzb2x1dGVQb3NpdGlvbi54K3RoaXMuYm9yZGVyTGVmdDw9dC5hYnNvbHV0ZVBvc2l0aW9uLngrdC5ib3JkZXJSaWdodCYmdC5hYnNvbHV0ZVBvc2l0aW9uLngrdC5ib3JkZXJSaWdodDw9dGhpcy5BYnNvbHV0ZVBvc2l0aW9uLngrdGhpcy5ib3JkZXJSaWdodDtpZihlJiZpKXtjb25zdCBlPXRoaXMuQWJzb2x1dGVQb3NpdGlvbi55K3RoaXMuYm9yZGVyVG9wPD10LmFic29sdXRlUG9zaXRpb24ueSt0LmJvcmRlclRvcCYmdC5hYnNvbHV0ZVBvc2l0aW9uLnkrdC5ib3JkZXJUb3A8PXRoaXMuQWJzb2x1dGVQb3NpdGlvbi55K3RoaXMuYm9yZGVyQm90dG9tLGk9dGhpcy5BYnNvbHV0ZVBvc2l0aW9uLnkrdGhpcy5ib3JkZXJUb3A8PXQuYWJzb2x1dGVQb3NpdGlvbi55K3QuYm9yZGVyQm90dG9tJiZ0LmFic29sdXRlUG9zaXRpb24ueSt0LmJvcmRlckJvdHRvbTw9dGhpcy5BYnNvbHV0ZVBvc2l0aW9uLnkrdGhpcy5ib3JkZXJCb3R0b207aWYoZSYmaSlyZXR1cm4hMH1yZXR1cm4hMX1wb2ludExpZXNJbnNpZGVCb3JkZXJzKHQpe2lmKHRoaXMuQWJzb2x1dGVQb3NpdGlvbi54K3RoaXMuYm9yZGVyTGVmdDw9dC54JiZ0Lng8PXRoaXMuQWJzb2x1dGVQb3NpdGlvbi54K3RoaXMuYm9yZGVyUmlnaHQpe2lmKHRoaXMuQWJzb2x1dGVQb3NpdGlvbi55K3RoaXMuYm9yZGVyVG9wPD10LnkmJnQueTw9dGhpcy5BYnNvbHV0ZVBvc2l0aW9uLnkrdGhpcy5ib3JkZXJCb3R0b20pcmV0dXJuITB9cmV0dXJuITF9bWFyZ2luQ29sbGlzaW9uRGV0ZWN0aW9uKHQpe2NvbnN0IGU9TWF0aC5taW4odGhpcy5BYnNvbHV0ZVBvc2l0aW9uLngrdGhpcy5ib3JkZXJNYXJnaW5SaWdodCx0LmFic29sdXRlUG9zaXRpb24ueCt0LmJvcmRlck1hcmdpblJpZ2h0KS1NYXRoLm1heCh0aGlzLkFic29sdXRlUG9zaXRpb24ueCt0aGlzLmJvcmRlck1hcmdpbkxlZnQsdC5hYnNvbHV0ZVBvc2l0aW9uLngrdC5ib3JkZXJNYXJnaW5MZWZ0KSxpPU1hdGgubWluKHRoaXMuQWJzb2x1dGVQb3NpdGlvbi55K3RoaXMuYm9yZGVyTWFyZ2luQm90dG9tLHQuYWJzb2x1dGVQb3NpdGlvbi55K3QuYm9yZGVyTWFyZ2luQm90dG9tKS1NYXRoLm1heCh0aGlzLkFic29sdXRlUG9zaXRpb24ueSt0aGlzLmJvcmRlck1hcmdpblRvcCx0LmFic29sdXRlUG9zaXRpb24ueSt0LmJvcmRlck1hcmdpblRvcCk7cmV0dXJuIGU+MCYmaT4wfWxpZXNJbnNpZGVNYXJnaW5zKHQpe2NvbnN0IGU9dGhpcy5BYnNvbHV0ZVBvc2l0aW9uLngrdGhpcy5ib3JkZXJNYXJnaW5MZWZ0PD10LmFic29sdXRlUG9zaXRpb24ueCt0LmJvcmRlck1hcmdpbkxlZnQmJnQuYWJzb2x1dGVQb3NpdGlvbi54K3QuYm9yZGVyTWFyZ2luTGVmdDw9dGhpcy5BYnNvbHV0ZVBvc2l0aW9uLngrdGhpcy5ib3JkZXJNYXJnaW5SaWdodCxpPXRoaXMuQWJzb2x1dGVQb3NpdGlvbi54K3RoaXMuYm9yZGVyTWFyZ2luTGVmdDw9dC5hYnNvbHV0ZVBvc2l0aW9uLngrdC5ib3JkZXJNYXJnaW5SaWdodCYmdC5hYnNvbHV0ZVBvc2l0aW9uLngrdC5ib3JkZXJNYXJnaW5SaWdodDw9dGhpcy5BYnNvbHV0ZVBvc2l0aW9uLngrdGhpcy5ib3JkZXJNYXJnaW5SaWdodDtpZihlJiZpKXtjb25zdCBlPXRoaXMuQWJzb2x1dGVQb3NpdGlvbi55K3RoaXMuYm9yZGVyTWFyZ2luVG9wPD10LmFic29sdXRlUG9zaXRpb24ueSt0LmJvcmRlck1hcmdpblRvcCYmdC5hYnNvbHV0ZVBvc2l0aW9uLnkrdC5ib3JkZXJNYXJnaW5Ub3A8PXRoaXMuQWJzb2x1dGVQb3NpdGlvbi55K3RoaXMuYm9yZGVyTWFyZ2luQm90dG9tLGk9dGhpcy5BYnNvbHV0ZVBvc2l0aW9uLnkrdGhpcy5ib3JkZXJNYXJnaW5Ub3A8PXQuYWJzb2x1dGVQb3NpdGlvbi55K3QuYm9yZGVyTWFyZ2luQm90dG9tJiZ0LmFic29sdXRlUG9zaXRpb24ueSt0LmJvcmRlck1hcmdpbkJvdHRvbTw9dGhpcy5BYnNvbHV0ZVBvc2l0aW9uLnkrdGhpcy5ib3JkZXJNYXJnaW5Cb3R0b207aWYoZSYmaSlyZXR1cm4hMH1yZXR1cm4hMX1wb2ludExpZXNJbnNpZGVNYXJnaW5zKHQpe2lmKHRoaXMuQWJzb2x1dGVQb3NpdGlvbi54K3RoaXMuYm9yZGVyTWFyZ2luTGVmdDw9dC54JiZ0Lng8PXRoaXMuQWJzb2x1dGVQb3NpdGlvbi54K3RoaXMuYm9yZGVyTWFyZ2luUmlnaHQpe2lmKHRoaXMuQWJzb2x1dGVQb3NpdGlvbi55K3RoaXMuYm9yZGVyTWFyZ2luVG9wPD10LnkmJnQueTw9dGhpcy5BYnNvbHV0ZVBvc2l0aW9uLnkrdGhpcy5ib3JkZXJNYXJnaW5Cb3R0b20pcmV0dXJuITB9cmV0dXJuITF9Y29tcHV0ZU5vbk92ZXJsYXBwaW5nUG9zaXRpb24odCxlLGkpe3RoaXMuUmVsYXRpdmVQb3NpdGlvbj1uZXcgby5Qb2ludEYyRChpLngsaS55KSx0aGlzLnNldEFic29sdXRlUG9zaXRpb25Gcm9tUGFyZW50KCk7bGV0IHM9MCxuPSExO2Rve3N3aXRjaChlKXtjYXNlIHUuTGVmdDpjYXNlIHUuUmlnaHQ6cz10aGlzLnJlbGF0aXZlUG9zaXRpb24ueCx0LmNhbGN1bGF0ZVBvc2l0aW9uQWxvbmdEaXJlY3Rpb24odGhpcyxlKSxuPU1hdGguYWJzKHMtdGhpcy5yZWxhdGl2ZVBvc2l0aW9uLngpPjFlLTQ7YnJlYWs7Y2FzZSB1LlVwOmNhc2UgdS5Eb3duOnM9dGhpcy5yZWxhdGl2ZVBvc2l0aW9uLnksdC5jYWxjdWxhdGVQb3NpdGlvbkFsb25nRGlyZWN0aW9uKHRoaXMsZSksbj1NYXRoLmFicyhzLXRoaXMucmVsYXRpdmVQb3NpdGlvbi55KT4xZS00O2JyZWFrO2RlZmF1bHQ6dGhyb3cgbmV3IHIuQXJndW1lbnRPdXRPZlJhbmdlRXhjZXB0aW9uKFwiZGlyZWN0aW9uXCIpfX13aGlsZShuKX1nZXRDbGlja2VkT2JqZWN0T2ZUeXBlKHQpe2NvbnN0IGU9dGhpcy5kYXRhT2JqZWN0O2lmKHRoaXMucG9pbnRMaWVzSW5zaWRlQm9yZGVycyh0KSYmZSlyZXR1cm4gZTtmb3IobGV0IGU9MCxpPXRoaXMuY2hpbGRFbGVtZW50cy5sZW5ndGg7ZTxpOysrZSl7Y29uc3QgaT10aGlzLmNoaWxkRWxlbWVudHNbZV0uZ2V0Q2xpY2tlZE9iamVjdE9mVHlwZSh0KTtpZihpKXJldHVybiBpfX1nZXRPYmplY3RzSW5SZWdpb24odCxlPSEwKXtpZih0aGlzLmRhdGFPYmplY3QpaWYoZSl7aWYodC5saWVzSW5zaWRlQm9yZGVycyh0aGlzKSlyZXR1cm5bdGhpcy5kYXRhT2JqZWN0XX1lbHNlIGlmKHQuY29sbGlzaW9uRGV0ZWN0aW9uKHRoaXMpKXJldHVyblt0aGlzLmRhdGFPYmplY3RdO2NvbnN0IGk9W107Zm9yKGNvbnN0IHMgb2YgdGhpcy5jaGlsZEVsZW1lbnRzKWkuY29uY2F0KHMuZ2V0T2JqZWN0c0luUmVnaW9uKHQsZSkpO3JldHVybiBpfWNhbGN1bGF0ZVJlY3RhbmdsZSgpe3RoaXMudXBwZXJMZWZ0Q29ybmVyPW5ldyBvLlBvaW50RjJEKHRoaXMuQm9yZGVyTGVmdCx0aGlzLkJvcmRlclRvcCksdGhpcy5zaXplPW5ldyBhLlNpemVGMkQodGhpcy5Cb3JkZXJSaWdodC10aGlzLkJvcmRlckxlZnQsdGhpcy5Cb3JkZXJCb3R0b20tdGhpcy5Cb3JkZXJUb3ApLHRoaXMuYm91bmRpbmdSZWN0YW5nbGU9aC5SZWN0YW5nbGVGMkQuY3JlYXRlRnJvbUxvY2F0aW9uQW5kU2l6ZSh0aGlzLnVwcGVyTGVmdENvcm5lcix0aGlzLnNpemUpfWNhbGN1bGF0ZU1hcmdpblJlY3RhbmdsZSgpe3RoaXMudXBwZXJMZWZ0TWFyZ2luQ29ybmVyPW5ldyBvLlBvaW50RjJEKHRoaXMuQm9yZGVyTWFyZ2luTGVmdCx0aGlzLkJvcmRlck1hcmdpblRvcCksdGhpcy5tYXJnaW5TaXplPW5ldyBhLlNpemVGMkQodGhpcy5Cb3JkZXJNYXJnaW5SaWdodC10aGlzLkJvcmRlck1hcmdpbkxlZnQsdGhpcy5Cb3JkZXJNYXJnaW5Cb3R0b20tdGhpcy5Cb3JkZXJNYXJnaW5Ub3ApLHRoaXMuYm91bmRpbmdNYXJnaW5SZWN0YW5nbGU9aC5SZWN0YW5nbGVGMkQuY3JlYXRlRnJvbUxvY2F0aW9uQW5kU2l6ZSh0aGlzLnVwcGVyTGVmdE1hcmdpbkNvcm5lcix0aGlzLm1hcmdpblNpemUpfWNhbGN1bGF0ZU1hcmdpblBvc2l0aW9uQWxvbmdEaXJlY3Rpb24odCxlKXtpZih0aGlzIT09dCl7aWYodGhpcy5pc1N5bWJvbCYmdGhpcy5tYXJnaW5Db2xsaXNpb25EZXRlY3Rpb24odCkpe2xldCBpPTA7c3dpdGNoKGUpe2Nhc2UgdS5MZWZ0OnJldHVybiBpPXRoaXMuYWJzb2x1dGVQb3NpdGlvbi54K3RoaXMuYm9yZGVyTWFyZ2luTGVmdC0odC5hYnNvbHV0ZVBvc2l0aW9uLngrdC5ib3JkZXJNYXJnaW5SaWdodCksdC5yZWxhdGl2ZVBvc2l0aW9uLngrPWksdm9pZCh0LmFic29sdXRlUG9zaXRpb24ueCs9aSk7Y2FzZSB1LlJpZ2h0OnJldHVybiBpPXRoaXMuYWJzb2x1dGVQb3NpdGlvbi54K3RoaXMuYm9yZGVyTWFyZ2luUmlnaHQtKHQuYWJzb2x1dGVQb3NpdGlvbi54K3QuYm9yZGVyTWFyZ2luTGVmdCksdC5yZWxhdGl2ZVBvc2l0aW9uLngrPWksdm9pZCh0LmFic29sdXRlUG9zaXRpb24ueCs9aSk7Y2FzZSB1LlVwOnJldHVybiBpPXRoaXMuYWJzb2x1dGVQb3NpdGlvbi55K3RoaXMuYm9yZGVyTWFyZ2luVG9wLSh0LmFic29sdXRlUG9zaXRpb24ueSt0LmJvcmRlck1hcmdpbkJvdHRvbSksdC5yZWxhdGl2ZVBvc2l0aW9uLnkrPWksdm9pZCh0LmFic29sdXRlUG9zaXRpb24ueSs9aSk7Y2FzZSB1LkRvd246cmV0dXJuIGk9dGhpcy5hYnNvbHV0ZVBvc2l0aW9uLnkrdGhpcy5ib3JkZXJNYXJnaW5Cb3R0b20tKHQuYWJzb2x1dGVQb3NpdGlvbi55K3QuYm9yZGVyTWFyZ2luVG9wKSx0LnJlbGF0aXZlUG9zaXRpb24ueSs9aSx2b2lkKHQuYWJzb2x1dGVQb3NpdGlvbi55Kz1pKTtkZWZhdWx0OnRocm93IG5ldyByLkFyZ3VtZW50T3V0T2ZSYW5nZUV4Y2VwdGlvbihcImRpcmVjdGlvblwiKX19Zm9yKGxldCBpPTAscz10aGlzLkNoaWxkRWxlbWVudHMubGVuZ3RoO2k8czsrK2kpe3RoaXMuQ2hpbGRFbGVtZW50c1tpXS5jYWxjdWxhdGVNYXJnaW5Qb3NpdGlvbkFsb25nRGlyZWN0aW9uKHQsZSl9fX1jYWxjdWxhdGVQb3NpdGlvbkFsb25nRGlyZWN0aW9uKHQsZSl7aWYodGhpcyE9PXQpe2lmKHRoaXMuaXNTeW1ib2wmJnRoaXMuY29sbGlzaW9uRGV0ZWN0aW9uKHQpKXtsZXQgaTtzd2l0Y2goZSl7Y2FzZSB1LkxlZnQ6cmV0dXJuIGk9dGhpcy5hYnNvbHV0ZVBvc2l0aW9uLngrdGhpcy5ib3JkZXJMZWZ0LSh0LmFic29sdXRlUG9zaXRpb24ueCt0LmJvcmRlclJpZ2h0KSx0LnJlbGF0aXZlUG9zaXRpb24ueCs9aSx2b2lkKHQuYWJzb2x1dGVQb3NpdGlvbi54Kz1pKTtjYXNlIHUuUmlnaHQ6cmV0dXJuIGk9dGhpcy5hYnNvbHV0ZVBvc2l0aW9uLngrdGhpcy5ib3JkZXJSaWdodC0odC5hYnNvbHV0ZVBvc2l0aW9uLngrdC5ib3JkZXJMZWZ0KSx0LnJlbGF0aXZlUG9zaXRpb24ueCs9aSx2b2lkKHQuYWJzb2x1dGVQb3NpdGlvbi54Kz1pKTtjYXNlIHUuVXA6cmV0dXJuIGk9dGhpcy5hYnNvbHV0ZVBvc2l0aW9uLnkrdGhpcy5ib3JkZXJUb3AtKHQuYWJzb2x1dGVQb3NpdGlvbi55K3QuYm9yZGVyQm90dG9tKSx0LnJlbGF0aXZlUG9zaXRpb24ueSs9aSx2b2lkKHQuYWJzb2x1dGVQb3NpdGlvbi55Kz1pKTtjYXNlIHUuRG93bjpyZXR1cm4gaT10aGlzLmFic29sdXRlUG9zaXRpb24ueSt0aGlzLmJvcmRlckJvdHRvbS0odC5hYnNvbHV0ZVBvc2l0aW9uLnkrdC5ib3JkZXJUb3ApLHQucmVsYXRpdmVQb3NpdGlvbi55Kz1pLHZvaWQodC5hYnNvbHV0ZVBvc2l0aW9uLnkrPWkpO2RlZmF1bHQ6dGhyb3cgbmV3IHIuQXJndW1lbnRPdXRPZlJhbmdlRXhjZXB0aW9uKFwiZGlyZWN0aW9uXCIpfX1mb3IobGV0IGk9MCxzPXRoaXMuQ2hpbGRFbGVtZW50cy5sZW5ndGg7aTxzOysraSl7dGhpcy5DaGlsZEVsZW1lbnRzW2ldLmNhbGN1bGF0ZVBvc2l0aW9uQWxvbmdEaXJlY3Rpb24odCxlKX19fX0sZnVuY3Rpb24odCl7dFt0LkxlZnQ9MF09XCJMZWZ0XCIsdFt0LlJpZ2h0PTFdPVwiUmlnaHRcIix0W3QuVXA9Ml09XCJVcFwiLHRbdC5Eb3duPTNdPVwiRG93blwifSh1PWUuQ29sRGlyRW51bXx8KGUuQ29sRGlyRW51bT17fSkpfSxmdW5jdGlvbih0LGUsaSl7XCJ1c2Ugc3RyaWN0XCI7T2JqZWN0LmRlZmluZVByb3BlcnR5KGUsXCJfX2VzTW9kdWxlXCIse3ZhbHVlOiEwfSk7Y2xhc3Mgc3tjb25zdHJ1Y3Rvcih0PTAsZT0wKXt0aGlzLng9MCx0aGlzLnk9MCx0aGlzLng9dCx0aGlzLnk9ZX1zdGF0aWMgZ2V0IEVtcHR5KCl7cmV0dXJuIG5ldyBzfXN0YXRpYyBwb2ludHNBcmVFcXVhbCh0LGUpe3JldHVybiB0Lng9PT1lLngmJnQueT09PWUueX1Ub1N0cmluZygpe3JldHVyblwiW1wiK3RoaXMueCtcIiwgXCIrdGhpcy55K1wiXVwifX1lLlBvaW50RjJEPXN9LGZ1bmN0aW9uKHQsZSxpKXtcInVzZSBzdHJpY3RcIjtPYmplY3QuZGVmaW5lUHJvcGVydHkoZSxcIl9fZXNNb2R1bGVcIix7dmFsdWU6ITB9KTtlLkdyYXBoaWNhbE9iamVjdD1jbGFzc3tnZXQgUG9zaXRpb25BbmRTaGFwZSgpe3JldHVybiB0aGlzLmJvdW5kaW5nQm94fXNldCBQb3NpdGlvbkFuZFNoYXBlKHQpe3RoaXMuYm91bmRpbmdCb3g9dH19fSxmdW5jdGlvbih0LGUsaSl7XCJ1c2Ugc3RyaWN0XCI7T2JqZWN0LmRlZmluZVByb3BlcnR5KGUsXCJfX2VzTW9kdWxlXCIse3ZhbHVlOiEwfSk7dmFyIHM7ZS5BYnN0cmFjdEV4cHJlc3Npb249Y2xhc3N7Y29uc3RydWN0b3IodCl7dGhpcy5wbGFjZW1lbnQ9dH1zdGF0aWMgaXNTdHJpbmdJblN0cmluZ0xpc3QodCxlKXtmb3IobGV0IGk9MCxzPXQubGVuZ3RoO2k8czsrK2kpe2NvbnN0IHM9dFtpXTtpZihlLnRvTG93ZXJDYXNlKCk9PT1zLnRvTG93ZXJDYXNlKCkudHJpbSgpKXJldHVybiEwfXJldHVybiExfWdldCBQbGFjZW1lbnQoKXtyZXR1cm4gdGhpcy5wbGFjZW1lbnR9c3RhdGljIFBsYWNlbWVudEVudW1Gcm9tU3RyaW5nKHQpe3N3aXRjaCh0LnRvTG93ZXJDYXNlKCkpe2Nhc2VcImFib3ZlXCI6cmV0dXJuIHMuQWJvdmU7Y2FzZVwiYmVsb3dcIjpyZXR1cm4gcy5CZWxvdztjYXNlXCJsZWZ0XCI6cmV0dXJuIHMuTGVmdDtjYXNlXCJyaWdodFwiOnJldHVybiBzLlJpZ2h0O2Nhc2VcImF1dG9cIjpkZWZhdWx0OnJldHVybiBzLk5vdFlldERlZmluZWR9fX0sZnVuY3Rpb24odCl7dFt0LkFib3ZlPTBdPVwiQWJvdmVcIix0W3QuQmVsb3c9MV09XCJCZWxvd1wiLHRbdC5MZWZ0PTJdPVwiTGVmdFwiLHRbdC5SaWdodD0zXT1cIlJpZ2h0XCIsdFt0Lk5vdFlldERlZmluZWQ9NF09XCJOb3RZZXREZWZpbmVkXCJ9KHM9ZS5QbGFjZW1lbnRFbnVtfHwoZS5QbGFjZW1lbnRFbnVtPXt9KSl9LGZ1bmN0aW9uKHQsZSxpKXtcInVzZSBzdHJpY3RcIjt2YXIgcztPYmplY3QuZGVmaW5lUHJvcGVydHkoZSxcIl9fZXNNb2R1bGVcIix7dmFsdWU6ITB9KSxmdW5jdGlvbih0KXt0W3QuTGVmdFRvcD0wXT1cIkxlZnRUb3BcIix0W3QuTGVmdENlbnRlcj0xXT1cIkxlZnRDZW50ZXJcIix0W3QuTGVmdEJvdHRvbT0yXT1cIkxlZnRCb3R0b21cIix0W3QuQ2VudGVyVG9wPTNdPVwiQ2VudGVyVG9wXCIsdFt0LkNlbnRlckNlbnRlcj00XT1cIkNlbnRlckNlbnRlclwiLHRbdC5DZW50ZXJCb3R0b209NV09XCJDZW50ZXJCb3R0b21cIix0W3QuUmlnaHRUb3A9Nl09XCJSaWdodFRvcFwiLHRbdC5SaWdodENlbnRlcj03XT1cIlJpZ2h0Q2VudGVyXCIsdFt0LlJpZ2h0Qm90dG9tPThdPVwiUmlnaHRCb3R0b21cIn0ocz1lLlRleHRBbGlnbm1lbnRFbnVtfHwoZS5UZXh0QWxpZ25tZW50RW51bT17fSkpO2UuVGV4dEFsaWdubWVudD1jbGFzc3tzdGF0aWMgSXNMZWZ0KHQpe3JldHVybiB0PT09cy5MZWZ0VG9wfHx0PT09cy5MZWZ0Q2VudGVyfHx0PT09cy5MZWZ0Qm90dG9tfXN0YXRpYyBJc0NlbnRlckFsaWduZWQodCl7cmV0dXJuIHQ9PT1zLkNlbnRlclRvcHx8dD09PXMuQ2VudGVyQ2VudGVyfHx0PT09cy5DZW50ZXJCb3R0b219c3RhdGljIElzUmlnaHQodCl7cmV0dXJuIHQ9PT1zLlJpZ2h0VG9wfHx0PT09cy5SaWdodENlbnRlcnx8dD09PXMuUmlnaHRCb3R0b219fX0sZnVuY3Rpb24odCxlLGkpe1widXNlIHN0cmljdFwiO09iamVjdC5kZWZpbmVQcm9wZXJ0eShlLFwiX19lc01vZHVsZVwiLHt2YWx1ZTohMH0pO2NvbnN0IHM9aSgyKSxuPWkoNDUpLHI9aSgyKSxvPWkoMiksYT1pKDExKTtjbGFzcyBoIGV4dGVuZHMgbi5BYnN0cmFjdE5vdGF0aW9uSW5zdHJ1Y3Rpb257Y29uc3RydWN0b3IodD1sLkcsZT0wLGk9Mil7c3VwZXIodm9pZCAwKSx0aGlzLmNsZWZUeXBlPWwuRyx0aGlzLmxpbmU9Mix0aGlzLm9jdGF2ZU9mZnNldD0wLHRoaXMubGluZT1pLHRoaXMuY2xlZlR5cGU9dCx0aGlzLm9jdGF2ZU9mZnNldD1lLHRoaXMuY2FsY1BhcmFtZXRlcnMoKX1zdGF0aWMgZ2V0RGVmYXVsdENsZWZGcm9tTWlkaUluc3RydW1lbnQodCl7c3dpdGNoKHQpe2Nhc2UgYy5BY291c3RpY19HcmFuZF9QaWFubzpjYXNlIGMuRWxlY3RyaWNfQmFzc19maW5nZXI6Y2FzZSBjLkVsZWN0cmljX0Jhc3NfcGljazpjYXNlIGMuRnJldGxlc3NfQmFzczpjYXNlIGMuU2xhcF9CYXNzXzE6Y2FzZSBjLlNsYXBfQmFzc18yOmNhc2UgYy5TeW50aF9CYXNzXzE6Y2FzZSBjLlN5bnRoX0Jhc3NfMjpjYXNlIGMuQ29udHJhYmFzczpyZXR1cm4gbmV3IGgobC5GLDAsNCk7ZGVmYXVsdDpyZXR1cm4gbmV3IGgobC5HLDAsMil9fXN0YXRpYyBnZXRBbGxQb3NzaWJsZUNsZWZzKCl7Y29uc3QgdD1bXTtmb3IobGV0IGU9MDtlPD0yO2UrKyl7Y29uc3QgaT1uZXcgaChsLkcsZSwyKTt0LnB1c2goaSl9Zm9yKGxldCBlPS0yO2U8PTA7ZSsrKXtjb25zdCBpPW5ldyBoKGwuRixlLDQpO3QucHVzaChpKX1yZXR1cm4gdH1zdGF0aWMgaXNTdXBwb3J0ZWRDbGVmKHQpe3N3aXRjaCh0KXtjYXNlIGwuRzpjYXNlIGwuRjpjYXNlIGwuQzpjYXNlIGwucGVyY3Vzc2lvbjpjYXNlIGwuVEFCOnJldHVybiEwO2RlZmF1bHQ6cmV0dXJuITF9fWdldCBDbGVmVHlwZSgpe3JldHVybiB0aGlzLmNsZWZUeXBlfXNldCBDbGVmVHlwZSh0KXt0aGlzLmNsZWZUeXBlPXR9Z2V0IExpbmUoKXtyZXR1cm4gdGhpcy5saW5lfXNldCBMaW5lKHQpe3RoaXMubGluZT10fWdldCBPY3RhdmVPZmZzZXQoKXtyZXR1cm4gdGhpcy5vY3RhdmVPZmZzZXR9c2V0IE9jdGF2ZU9mZnNldCh0KXt0aGlzLm9jdGF2ZU9mZnNldD10fWdldCBDbGVmUGl0Y2goKXtyZXR1cm4gdGhpcy5jbGVmUGl0Y2h9c2V0IENsZWZQaXRjaCh0KXt0aGlzLmNsZWZQaXRjaD10fWdldCBSZWZlcmVuY2VDeVBvc2l0aW9uKCl7cmV0dXJuIHRoaXMucmVmZXJlbmNlQ3lQb3NpdGlvbn1zZXQgUmVmZXJlbmNlQ3lQb3NpdGlvbih0KXt0aGlzLnJlZmVyZW5jZUN5UG9zaXRpb249dH1FcXVhbHModCl7cmV0dXJuIHRoaXM9PT10fHwhKCF0aGlzfHwhdCkmJih0aGlzLmNsZWZQaXRjaD09PXQuY2xlZlBpdGNoJiZ0aGlzLkxpbmU9PT10LkxpbmUpfU5vdEVxdWFsKHQpe3JldHVybiF0aGlzLkVxdWFscyh0KX1Ub1N0cmluZygpe3JldHVyblwiQ2xlZlR5cGU6IFwiK3RoaXMuY2xlZlR5cGV9Y2FsY1BhcmFtZXRlcnMoKXtzd2l0Y2godGhpcy5jbGVmVHlwZSl7Y2FzZSBsLkc6dGhpcy5jbGVmUGl0Y2g9bmV3IHMuUGl0Y2goci5Ob3RlRW51bS5HLDErdGhpcy5vY3RhdmVPZmZzZXQsby5BY2NpZGVudGFsRW51bS5OT05FKSx0aGlzLnJlZmVyZW5jZUN5UG9zaXRpb249NS10aGlzLmxpbmUrMjticmVhaztjYXNlIGwuRjp0aGlzLmNsZWZQaXRjaD1uZXcgcy5QaXRjaChyLk5vdGVFbnVtLkYsMCt0aGlzLm9jdGF2ZU9mZnNldCxvLkFjY2lkZW50YWxFbnVtLk5PTkUpLHRoaXMucmVmZXJlbmNlQ3lQb3NpdGlvbj01LXRoaXMubGluZSsxLjU7YnJlYWs7Y2FzZSBsLkM6dGhpcy5jbGVmUGl0Y2g9bmV3IHMuUGl0Y2goci5Ob3RlRW51bS5DLDErdGhpcy5vY3RhdmVPZmZzZXQsby5BY2NpZGVudGFsRW51bS5OT05FKSx0aGlzLnJlZmVyZW5jZUN5UG9zaXRpb249NS10aGlzLmxpbmU7YnJlYWs7Y2FzZSBsLnBlcmN1c3Npb246dGhpcy5jbGVmUGl0Y2g9bmV3IHMuUGl0Y2goci5Ob3RlRW51bS5DLDIsby5BY2NpZGVudGFsRW51bS5OT05FKSx0aGlzLnJlZmVyZW5jZUN5UG9zaXRpb249MjticmVhaztjYXNlIGwuVEFCOnRoaXMuY2xlZlBpdGNoPW5ldyBzLlBpdGNoKHIuTm90ZUVudW0uRywwLG8uQWNjaWRlbnRhbEVudW0uTk9ORSksdGhpcy5yZWZlcmVuY2VDeVBvc2l0aW9uPTA7YnJlYWs7ZGVmYXVsdDp0aHJvdyBuZXcgYS5Bcmd1bWVudE91dE9mUmFuZ2VFeGNlcHRpb24oXCJjbGVmVHlwZVwiKX19fXZhciBsLGM7ZS5DbGVmSW5zdHJ1Y3Rpb249aCxmdW5jdGlvbih0KXt0W3QuRz0wXT1cIkdcIix0W3QuRj0xXT1cIkZcIix0W3QuQz0yXT1cIkNcIix0W3QucGVyY3Vzc2lvbj0zXT1cInBlcmN1c3Npb25cIix0W3QuVEFCPTRdPVwiVEFCXCJ9KGw9ZS5DbGVmRW51bXx8KGUuQ2xlZkVudW09e30pKSxmdW5jdGlvbih0KXt0W3QuTm9uZT0tMV09XCJOb25lXCIsdFt0LkFjb3VzdGljX0dyYW5kX1BpYW5vPTBdPVwiQWNvdXN0aWNfR3JhbmRfUGlhbm9cIix0W3QuQnJpZ2h0X0Fjb3VzdGljX1BpYW5vPTFdPVwiQnJpZ2h0X0Fjb3VzdGljX1BpYW5vXCIsdFt0LkVsZWN0cmljX0dyYW5kX1BpYW5vPTJdPVwiRWxlY3RyaWNfR3JhbmRfUGlhbm9cIix0W3QuSG9ua3lfdG9ua19QaWFubz0zXT1cIkhvbmt5X3RvbmtfUGlhbm9cIix0W3QuRWxlY3RyaWNfUGlhbm9fMT00XT1cIkVsZWN0cmljX1BpYW5vXzFcIix0W3QuRWxlY3RyaWNfUGlhbm9fMj01XT1cIkVsZWN0cmljX1BpYW5vXzJcIix0W3QuSGFycHNpY2hvcmQ9Nl09XCJIYXJwc2ljaG9yZFwiLHRbdC5DbGF2aW5ldD03XT1cIkNsYXZpbmV0XCIsdFt0LkNlbGVzdGE9OF09XCJDZWxlc3RhXCIsdFt0Lkdsb2NrZW5zcGllbD05XT1cIkdsb2NrZW5zcGllbFwiLHRbdC5NdXNpY19Cb3g9MTBdPVwiTXVzaWNfQm94XCIsdFt0LlZpYnJhcGhvbmU9MTFdPVwiVmlicmFwaG9uZVwiLHRbdC5NYXJpbWJhPTEyXT1cIk1hcmltYmFcIix0W3QuWHlsb3Bob25lPTEzXT1cIlh5bG9waG9uZVwiLHRbdC5UdWJ1bGFyX0JlbGxzPTE0XT1cIlR1YnVsYXJfQmVsbHNcIix0W3QuRHVsY2ltZXI9MTVdPVwiRHVsY2ltZXJcIix0W3QuRHJhd2Jhcl9Pcmdhbj0xNl09XCJEcmF3YmFyX09yZ2FuXCIsdFt0LlBlcmN1c3NpdmVfT3JnYW49MTddPVwiUGVyY3Vzc2l2ZV9PcmdhblwiLHRbdC5Sb2NrX09yZ2FuPTE4XT1cIlJvY2tfT3JnYW5cIix0W3QuQ2h1cmNoX09yZ2FuPTE5XT1cIkNodXJjaF9PcmdhblwiLHRbdC5SZWVkX09yZ2FuPTIwXT1cIlJlZWRfT3JnYW5cIix0W3QuQWNjb3JkaW9uPTIxXT1cIkFjY29yZGlvblwiLHRbdC5IYXJtb25pY2E9MjJdPVwiSGFybW9uaWNhXCIsdFt0LlRhbmdvX0FjY29yZGlvbj0yM109XCJUYW5nb19BY2NvcmRpb25cIix0W3QuQWNvdXN0aWNfR3VpdGFyX255bG9uPTI0XT1cIkFjb3VzdGljX0d1aXRhcl9ueWxvblwiLHRbdC5BY291c3RpY19HdWl0YXJfc3RlZWw9MjVdPVwiQWNvdXN0aWNfR3VpdGFyX3N0ZWVsXCIsdFt0LkVsZWN0cmljX0d1aXRhcl9qYXp6PTI2XT1cIkVsZWN0cmljX0d1aXRhcl9qYXp6XCIsdFt0LkVsZWN0cmljX0d1aXRhcl9jbGVhbj0yN109XCJFbGVjdHJpY19HdWl0YXJfY2xlYW5cIix0W3QuRWxlY3RyaWNfR3VpdGFyX211dGVkPTI4XT1cIkVsZWN0cmljX0d1aXRhcl9tdXRlZFwiLHRbdC5PdmVyZHJpdmVuX0d1aXRhcj0yOV09XCJPdmVyZHJpdmVuX0d1aXRhclwiLHRbdC5EaXN0b3J0aW9uX0d1aXRhcj0zMF09XCJEaXN0b3J0aW9uX0d1aXRhclwiLHRbdC5HdWl0YXJfaGFybW9uaWNzPTMxXT1cIkd1aXRhcl9oYXJtb25pY3NcIix0W3QuQWNvdXN0aWNfQmFzcz0zMl09XCJBY291c3RpY19CYXNzXCIsdFt0LkVsZWN0cmljX0Jhc3NfZmluZ2VyPTMzXT1cIkVsZWN0cmljX0Jhc3NfZmluZ2VyXCIsdFt0LkVsZWN0cmljX0Jhc3NfcGljaz0zNF09XCJFbGVjdHJpY19CYXNzX3BpY2tcIix0W3QuRnJldGxlc3NfQmFzcz0zNV09XCJGcmV0bGVzc19CYXNzXCIsdFt0LlNsYXBfQmFzc18xPTM2XT1cIlNsYXBfQmFzc18xXCIsdFt0LlNsYXBfQmFzc18yPTM3XT1cIlNsYXBfQmFzc18yXCIsdFt0LlN5bnRoX0Jhc3NfMT0zOF09XCJTeW50aF9CYXNzXzFcIix0W3QuU3ludGhfQmFzc18yPTM5XT1cIlN5bnRoX0Jhc3NfMlwiLHRbdC5WaW9saW49NDBdPVwiVmlvbGluXCIsdFt0LlZpb2xhPTQxXT1cIlZpb2xhXCIsdFt0LkNlbGxvPTQyXT1cIkNlbGxvXCIsdFt0LkNvbnRyYWJhc3M9NDNdPVwiQ29udHJhYmFzc1wiLHRbdC5UcmVtb2xvX1N0cmluZ3M9NDRdPVwiVHJlbW9sb19TdHJpbmdzXCIsdFt0LlBpenppY2F0b19TdHJpbmdzPTQ1XT1cIlBpenppY2F0b19TdHJpbmdzXCIsdFt0Lk9yY2hlc3RyYWxfSGFycD00Nl09XCJPcmNoZXN0cmFsX0hhcnBcIix0W3QuVGltcGFuaT00N109XCJUaW1wYW5pXCIsdFt0LlN0cmluZ19FbnNlbWJsZV8xPTQ4XT1cIlN0cmluZ19FbnNlbWJsZV8xXCIsdFt0LlN0cmluZ19FbnNlbWJsZV8yPTQ5XT1cIlN0cmluZ19FbnNlbWJsZV8yXCIsdFt0LlN5bnRoX1N0cmluZ3NfMT01MF09XCJTeW50aF9TdHJpbmdzXzFcIix0W3QuU3ludGhfU3RyaW5nc18yPTUxXT1cIlN5bnRoX1N0cmluZ3NfMlwiLHRbdC5DaG9pcl9BYWhzPTUyXT1cIkNob2lyX0FhaHNcIix0W3QuVm9pY2VfT29ocz01M109XCJWb2ljZV9Pb2hzXCIsdFt0LlN5bnRoX1ZvaWNlPTU0XT1cIlN5bnRoX1ZvaWNlXCIsdFt0Lk9yY2hlc3RyYV9IaXQ9NTVdPVwiT3JjaGVzdHJhX0hpdFwiLHRbdC5UcnVtcGV0PTU2XT1cIlRydW1wZXRcIix0W3QuVHJvbWJvbmU9NTddPVwiVHJvbWJvbmVcIix0W3QuVHViYT01OF09XCJUdWJhXCIsdFt0Lk11dGVkX1RydW1wZXQ9NTldPVwiTXV0ZWRfVHJ1bXBldFwiLHRbdC5GcmVuY2hfSG9ybj02MF09XCJGcmVuY2hfSG9yblwiLHRbdC5CcmFzc19TZWN0aW9uPTYxXT1cIkJyYXNzX1NlY3Rpb25cIix0W3QuU3ludGhfQnJhc3NfMT02Ml09XCJTeW50aF9CcmFzc18xXCIsdFt0LlN5bnRoX0JyYXNzXzI9NjNdPVwiU3ludGhfQnJhc3NfMlwiLHRbdC5Tb3ByYW5vX1NheD02NF09XCJTb3ByYW5vX1NheFwiLHRbdC5BbHRvX1NheD02NV09XCJBbHRvX1NheFwiLHRbdC5UZW5vcl9TYXg9NjZdPVwiVGVub3JfU2F4XCIsdFt0LkJhcml0b25lX1NheD02N109XCJCYXJpdG9uZV9TYXhcIix0W3QuT2JvZT02OF09XCJPYm9lXCIsdFt0LkVuZ2xpc2hfSG9ybj02OV09XCJFbmdsaXNoX0hvcm5cIix0W3QuQmFzc29vbj03MF09XCJCYXNzb29uXCIsdFt0LkNsYXJpbmV0PTcxXT1cIkNsYXJpbmV0XCIsdFt0LlBpY2NvbG89NzJdPVwiUGljY29sb1wiLHRbdC5GbHV0ZT03M109XCJGbHV0ZVwiLHRbdC5SZWNvcmRlcj03NF09XCJSZWNvcmRlclwiLHRbdC5QYW5fRmx1dGU9NzVdPVwiUGFuX0ZsdXRlXCIsdFt0LkJsb3duX0JvdHRsZT03Nl09XCJCbG93bl9Cb3R0bGVcIix0W3QuU2hha3VoYWNoaT03N109XCJTaGFrdWhhY2hpXCIsdFt0LldoaXN0bGU9NzhdPVwiV2hpc3RsZVwiLHRbdC5PY2FyaW5hPTc5XT1cIk9jYXJpbmFcIix0W3QuTGVhZF8xX3NxdWFyZT04MF09XCJMZWFkXzFfc3F1YXJlXCIsdFt0LkxlYWRfMl9zYXd0b290aD04MV09XCJMZWFkXzJfc2F3dG9vdGhcIix0W3QuTGVhZF8zX2NhbGxpb3BlPTgyXT1cIkxlYWRfM19jYWxsaW9wZVwiLHRbdC5MZWFkXzRfY2hpZmY9ODNdPVwiTGVhZF80X2NoaWZmXCIsdFt0LkxlYWRfNV9jaGFyYW5nPTg0XT1cIkxlYWRfNV9jaGFyYW5nXCIsdFt0LkxlYWRfNl92b2ljZT04NV09XCJMZWFkXzZfdm9pY2VcIix0W3QuTGVhZF83X2ZpZnRocz04Nl09XCJMZWFkXzdfZmlmdGhzXCIsdFt0LkxlYWRfOF9iYXNzX2xlYWQ9ODddPVwiTGVhZF84X2Jhc3NfbGVhZFwiLHRbdC5QYWRfMV9uZXdfYWdlPTg4XT1cIlBhZF8xX25ld19hZ2VcIix0W3QuUGFkXzJfd2FybT04OV09XCJQYWRfMl93YXJtXCIsdFt0LlBhZF8zX3BvbHlzeW50aD05MF09XCJQYWRfM19wb2x5c3ludGhcIix0W3QuUGFkXzRfY2hvaXI9OTFdPVwiUGFkXzRfY2hvaXJcIix0W3QuUGFkXzVfYm93ZWQ9OTJdPVwiUGFkXzVfYm93ZWRcIix0W3QuUGFkXzZfbWV0YWxsaWM9OTNdPVwiUGFkXzZfbWV0YWxsaWNcIix0W3QuUGFkXzdfaGFsbz05NF09XCJQYWRfN19oYWxvXCIsdFt0LlBhZF84X3N3ZWVwPTk1XT1cIlBhZF84X3N3ZWVwXCIsdFt0LkZYXzFfcmFpbj05Nl09XCJGWF8xX3JhaW5cIix0W3QuRlhfMl9zb3VuZHRyYWNrPTk3XT1cIkZYXzJfc291bmR0cmFja1wiLHRbdC5GWF8zX2NyeXN0YWw9OThdPVwiRlhfM19jcnlzdGFsXCIsdFt0LkZYXzRfYXRtb3NwaGVyZT05OV09XCJGWF80X2F0bW9zcGhlcmVcIix0W3QuRlhfNV9icmlnaHRuZXNzPTEwMF09XCJGWF81X2JyaWdodG5lc3NcIix0W3QuRlhfNl9nb2JsaW5zPTEwMV09XCJGWF82X2dvYmxpbnNcIix0W3QuRlhfN19lY2hvZXM9MTAyXT1cIkZYXzdfZWNob2VzXCIsdFt0LkZYXzhfc2NpZmk9MTAzXT1cIkZYXzhfc2NpZmlcIix0W3QuU2l0YXI9MTA0XT1cIlNpdGFyXCIsdFt0LkJhbmpvPTEwNV09XCJCYW5qb1wiLHRbdC5TaGFtaXNlbj0xMDZdPVwiU2hhbWlzZW5cIix0W3QuS290bz0xMDddPVwiS290b1wiLHRbdC5LYWxpbWJhPTEwOF09XCJLYWxpbWJhXCIsdFt0LkJhZ19waXBlPTEwOV09XCJCYWdfcGlwZVwiLHRbdC5GaWRkbGU9MTEwXT1cIkZpZGRsZVwiLHRbdC5TaGFuYWk9MTExXT1cIlNoYW5haVwiLHRbdC5UaW5rbGVfQmVsbD0xMTJdPVwiVGlua2xlX0JlbGxcIix0W3QuQWdvZ289MTEzXT1cIkFnb2dvXCIsdFt0LlN0ZWVsX0RydW1zPTExNF09XCJTdGVlbF9EcnVtc1wiLHRbdC5Xb29kYmxvY2s9MTE1XT1cIldvb2RibG9ja1wiLHRbdC5UYWlrb19EcnVtPTExNl09XCJUYWlrb19EcnVtXCIsdFt0Lk1lbG9kaWNfVG9tPTExN109XCJNZWxvZGljX1RvbVwiLHRbdC5TeW50aF9EcnVtPTExOF09XCJTeW50aF9EcnVtXCIsdFt0LlJldmVyc2VfQ3ltYmFsPTExOV09XCJSZXZlcnNlX0N5bWJhbFwiLHRbdC5HdWl0YXJfRnJldF9Ob2lzZT0xMjBdPVwiR3VpdGFyX0ZyZXRfTm9pc2VcIix0W3QuQnJlYXRoX05vaXNlPTEyMV09XCJCcmVhdGhfTm9pc2VcIix0W3QuU2Vhc2hvcmU9MTIyXT1cIlNlYXNob3JlXCIsdFt0LkJpcmRfVHdlZXQ9MTIzXT1cIkJpcmRfVHdlZXRcIix0W3QuVGVsZXBob25lX1Jpbmc9MTI0XT1cIlRlbGVwaG9uZV9SaW5nXCIsdFt0LkhlbGljb3B0ZXI9MTI1XT1cIkhlbGljb3B0ZXJcIix0W3QuQXBwbGF1c2U9MTI2XT1cIkFwcGxhdXNlXCIsdFt0Lkd1bnNob3Q9MTI3XT1cIkd1bnNob3RcIix0W3QuUGVyY3Vzc2lvbj0xMjhdPVwiUGVyY3Vzc2lvblwifShjPWUuTWlkaUluc3RydW1lbnR8fChlLk1pZGlJbnN0cnVtZW50PXt9KSl9LGZ1bmN0aW9uKHQsZSxpKXtcInVzZSBzdHJpY3RcIjtPYmplY3QuZGVmaW5lUHJvcGVydHkoZSxcIl9fZXNNb2R1bGVcIix7dmFsdWU6ITB9KTt2YXIgcz1PYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5O2Z1bmN0aW9uIG4odCl7cmV0dXJuXCJmdW5jdGlvblwiPT10eXBlb2YgdH1mdW5jdGlvbiByKHQpe3JldHVybiB2b2lkIDA9PT10fWZ1bmN0aW9uIG8odCl7cmV0dXJuXCJbb2JqZWN0IFN0cmluZ11cIj09PU9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbCh0KX1lLmhhcz1mdW5jdGlvbih0LGUpe3JldHVybiBzLmNhbGwodCxlKX0sZS5kZWZhdWx0Q29tcGFyZT1mdW5jdGlvbih0LGUpe3JldHVybiB0PGU/LTE6dD09PWU/MDoxfSxlLmRlZmF1bHRFcXVhbHM9ZnVuY3Rpb24odCxlKXtyZXR1cm4gdD09PWV9LGUuZGVmYXVsdFRvU3RyaW5nPWZ1bmN0aW9uKHQpe3JldHVybiBudWxsPT09dD9cIkNPTExFQ1RJT05fTlVMTFwiOnIodCk/XCJDT0xMRUNUSU9OX1VOREVGSU5FRFwiOm8odCk/XCIkc1wiK3Q6XCIkb1wiK3QudG9TdHJpbmcoKX0sZS5tYWtlU3RyaW5nPWZ1bmN0aW9uKHQsaSl7aWYodm9pZCAwPT09aSYmKGk9XCIsXCIpLG51bGw9PT10KXJldHVyblwiQ09MTEVDVElPTl9OVUxMXCI7aWYocih0KSlyZXR1cm5cIkNPTExFQ1RJT05fVU5ERUZJTkVEXCI7aWYobyh0KSlyZXR1cm4gdC50b1N0cmluZygpO3ZhciBzPVwie1wiLG49ITA7Zm9yKHZhciBhIGluIHQpZS5oYXModCxhKSYmKG4/bj0hMTpzKz1pLHM9cythK1wiOlwiK3RbYV0pO3JldHVybiBzK1wifVwifSxlLmlzRnVuY3Rpb249bixlLmlzVW5kZWZpbmVkPXIsZS5pc1N0cmluZz1vLGUucmV2ZXJzZUNvbXBhcmVGdW5jdGlvbj1mdW5jdGlvbih0KXtyZXR1cm4gcih0KXx8IW4odCk/ZnVuY3Rpb24odCxlKXtyZXR1cm4gdDxlPzE6dD09PWU/MDotMX06ZnVuY3Rpb24oZSxpKXtyZXR1cm4tMSp0KGUsaSl9fSxlLmNvbXBhcmVUb0VxdWFscz1mdW5jdGlvbih0KXtyZXR1cm4gZnVuY3Rpb24oZSxpKXtyZXR1cm4gMD09PXQoZSxpKX19fSxmdW5jdGlvbih0LGUsaSl7XCJ1c2Ugc3RyaWN0XCI7aS5yKGUpO2NvbnN0IHM9KCk9Pnt9O3MuTD0odCxlKT0+e2lmKCFlKXJldHVybjtjb25zdCBpPUFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKGUpLmpvaW4oXCIgXCIpO3dpbmRvdy5jb25zb2xlLmxvZyh0K1wiOiBcIitpKX0scy5NYWtlRXhjZXB0aW9uPXQ9PmNsYXNzIGV4dGVuZHMgRXJyb3J7Y29uc3RydWN0b3IoZSxpKXtzdXBlcihlKSx0aGlzLm5hbWU9dCx0aGlzLm1lc3NhZ2U9ZSx0aGlzLmRhdGE9aX19O3MuUkVSUj1zLlJ1bnRpbWVFcnJvcj1jbGFzc3tjb25zdHJ1Y3Rvcih0LGUpe3RoaXMuY29kZT10LHRoaXMubWVzc2FnZT1lfXRvU3RyaW5nKCl7cmV0dXJuXCJbUnVudGltZUVycm9yXSBcIit0aGlzLmNvZGUrXCI6XCIrdGhpcy5tZXNzYWdlfX0scy5NZXJnZT0odCxlKT0+e2Zvcihjb25zdCBpIGluIGUpdFtpXT1lW2ldO3JldHVybiB0fSxzLk1pbj1NYXRoLm1pbixzLk1heD1NYXRoLm1heCxzLmZvckVhY2g9KHQsZSk9Pntmb3IobGV0IGk9MDtpPHQubGVuZ3RoO2krKyllKHRbaV0saSl9LHMuUm91bmROPSh0LGUpPT50JWU+PWUvMj9wYXJzZUludCh0L2UsMTApKmUrZTpwYXJzZUludCh0L2UsMTApKmUscy5NaWRMaW5lPSh0LGUpPT57bGV0IGk9ZSsodC1lKS8yO3JldHVybiBpJTI+MCYmKGk9cy5Sb3VuZE4oMTAqaSw1KS8xMCksaX0scy5Tb3J0QW5kVW5pcXVlPSh0LGUsaSk9PntpZih0Lmxlbmd0aD4xKXtjb25zdCBzPVtdO2xldCBuO3Quc29ydChlKTtmb3IobGV0IGU9MDtlPHQubGVuZ3RoOysrZSkwIT09ZSYmaSh0W2VdLG4pfHxzLnB1c2godFtlXSksbj10W2VdO3JldHVybiBzfXJldHVybiB0fSxzLkNvbnRhaW5zPSh0LGUpPT57bGV0IGk9dC5sZW5ndGg7Zm9yKDtpLS07KWlmKHRbaV09PT1lKXJldHVybiEwO3JldHVybiExfSxzLmdldENhbnZhc0NvbnRleHQ9dD0+e2lmKCF0KXRocm93IG5ldyBzLlJFUlIoXCJCYWRBcmd1bWVudFwiLFwiSW52YWxpZCBjYW52YXMgc2VsZWN0b3I6IFwiK3QpO2NvbnN0IGU9ZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQodCk7aWYoIWV8fCFlLmdldENvbnRleHQpdGhyb3cgbmV3IHMuUkVSUihcIlVuc3VwcG9ydGVkQnJvd3NlckVycm9yXCIsXCJUaGlzIGJyb3dzZXIgZG9lcyBub3Qgc3VwcG9ydCBIVE1MNSBDYW52YXNcIik7cmV0dXJuIGUuZ2V0Q29udGV4dChcIjJkXCIpfSxzLmRyYXdEb3Q9KHQsZSxpLHM9XCIjNTVcIik9Pnt0LnNhdmUoKSx0LnNldEZpbGxTdHlsZShzKSx0LmJlZ2luUGF0aCgpLHQuYXJjKGUsaSwzLDAsMipNYXRoLlBJLCEwKSx0LmNsb3NlUGF0aCgpLHQuZmlsbCgpLHQucmVzdG9yZSgpfSxzLkJNPSh0LGUpPT57Y29uc3QgaT0obmV3IERhdGUpLmdldFRpbWUoKTtlKCk7Y29uc3Qgbj0obmV3IERhdGUpLmdldFRpbWUoKS1pO3MuTCh0K24rXCJtc1wiKX0scy5TdGFja1RyYWNlPSgpPT4obmV3IEVycm9yKS5zdGFjayxzLlc9KC4uLnQpPT57Y29uc3QgZT10LmpvaW4oXCIgXCIpO3dpbmRvdy5jb25zb2xlLmxvZyhcIldhcm5pbmc6IFwiLGUscy5TdGFja1RyYWNlKCkpfSwocy5QcmVmaXg9dD0+cy5QcmVmaXgucHJlZml4K3QpLnByZWZpeD1cInZmLVwiO2NsYXNzIG57c3RhdGljIEdDRCh0LGUpe2lmKFwibnVtYmVyXCIhPXR5cGVvZiB0fHxcIm51bWJlclwiIT10eXBlb2YgZSl0aHJvdyBuZXcgcy5SRVJSKFwiQmFkQXJndW1lbnRcIixgSW52YWxpZCBudW1iZXJzOiAke3R9LCAke2V9YCk7bGV0IGk7Zm9yKDswIT09ZTspaT1lLGU9dCVlLHQ9aTtyZXR1cm4gdH1zdGF0aWMgTENNKHQsZSl7cmV0dXJuIHQqZS9uLkdDRCh0LGUpfXN0YXRpYyBMQ01NKHQpe2lmKDA9PT10Lmxlbmd0aClyZXR1cm4gMDtpZigxPT09dC5sZW5ndGgpcmV0dXJuIHRbMF07aWYoMj09PXQubGVuZ3RoKXJldHVybiBuLkxDTSh0WzBdLHRbMV0pO3tjb25zdCBlPXRbMF07cmV0dXJuIHQuc2hpZnQoKSxuLkxDTShlLG4uTENNTSh0KSl9fWNvbnN0cnVjdG9yKHQsZSl7dGhpcy5zZXQodCxlKX1zZXQodCxlKXtyZXR1cm4gdGhpcy5udW1lcmF0b3I9dm9pZCAwPT09dD8xOnQsdGhpcy5kZW5vbWluYXRvcj12b2lkIDA9PT1lPzE6ZSx0aGlzfXZhbHVlKCl7cmV0dXJuIHRoaXMubnVtZXJhdG9yL3RoaXMuZGVub21pbmF0b3J9c2ltcGxpZnkoKXtsZXQgdD10aGlzLm51bWVyYXRvcixlPXRoaXMuZGVub21pbmF0b3I7Y29uc3QgaT1uLkdDRCh0LGUpO3JldHVybiB0Lz1pLGUvPWksZTwwJiYoZT0tZSx0PS10KSx0aGlzLnNldCh0LGUpfWFkZCh0LGUpe2xldCBpLHM7dCBpbnN0YW5jZW9mIG4/KGk9dC5udW1lcmF0b3Iscz10LmRlbm9taW5hdG9yKTooaT12b2lkIDAhPT10P3Q6MCxzPXZvaWQgMCE9PWU/ZToxKTtjb25zdCByPW4uTENNKHRoaXMuZGVub21pbmF0b3Iscyksbz1yL3RoaXMuZGVub21pbmF0b3IsYT1yL3MsaD10aGlzLm51bWVyYXRvcipvK2kqYTtyZXR1cm4gdGhpcy5zZXQoaCxyKX1zdWJ0cmFjdCh0LGUpe2xldCBpLHM7dCBpbnN0YW5jZW9mIG4/KGk9dC5udW1lcmF0b3Iscz10LmRlbm9taW5hdG9yKTooaT12b2lkIDAhPT10P3Q6MCxzPXZvaWQgMCE9PWU/ZToxKTtjb25zdCByPW4uTENNKHRoaXMuZGVub21pbmF0b3Iscyksbz1yL3RoaXMuZGVub21pbmF0b3IsYT1yL3MsaD10aGlzLm51bWVyYXRvcipvLWkqYTtyZXR1cm4gdGhpcy5zZXQoaCxyKX1tdWx0aXBseSh0LGUpe2xldCBpLHM7cmV0dXJuIHQgaW5zdGFuY2VvZiBuPyhpPXQubnVtZXJhdG9yLHM9dC5kZW5vbWluYXRvcik6KGk9dm9pZCAwIT09dD90OjEscz12b2lkIDAhPT1lP2U6MSksdGhpcy5zZXQodGhpcy5udW1lcmF0b3IqaSx0aGlzLmRlbm9taW5hdG9yKnMpfWRpdmlkZSh0LGUpe2xldCBpLHM7cmV0dXJuIHQgaW5zdGFuY2VvZiBuPyhpPXQubnVtZXJhdG9yLHM9dC5kZW5vbWluYXRvcik6KGk9dm9pZCAwIT09dD90OjEscz12b2lkIDAhPT1lP2U6MSksdGhpcy5zZXQodGhpcy5udW1lcmF0b3Iqcyx0aGlzLmRlbm9taW5hdG9yKmkpfWVxdWFscyh0KXtjb25zdCBlPW4uX19jb21wYXJlQS5jb3B5KHQpLnNpbXBsaWZ5KCksaT1uLl9fY29tcGFyZUIuY29weSh0aGlzKS5zaW1wbGlmeSgpO3JldHVybiBlLm51bWVyYXRvcj09PWkubnVtZXJhdG9yJiZlLmRlbm9taW5hdG9yPT09aS5kZW5vbWluYXRvcn1ncmVhdGVyVGhhbih0KXtjb25zdCBlPW4uX19jb21wYXJlQi5jb3B5KHRoaXMpO3JldHVybiBlLnN1YnRyYWN0KHQpLGUubnVtZXJhdG9yPjB9Z3JlYXRlclRoYW5FcXVhbHModCl7Y29uc3QgZT1uLl9fY29tcGFyZUIuY29weSh0aGlzKTtyZXR1cm4gZS5zdWJ0cmFjdCh0KSxlLm51bWVyYXRvcj49MH1sZXNzVGhhbih0KXtyZXR1cm4hdGhpcy5ncmVhdGVyVGhhbkVxdWFscyh0KX1sZXNzVGhhbkVxdWFscyh0KXtyZXR1cm4hdGhpcy5ncmVhdGVyVGhhbih0KX1jbG9uZSgpe3JldHVybiBuZXcgbih0aGlzLm51bWVyYXRvcix0aGlzLmRlbm9taW5hdG9yKX1jb3B5KHQpe3JldHVyblwibnVtYmVyXCI9PXR5cGVvZiB0P3RoaXMuc2V0KHR8fDAsMSk6dGhpcy5zZXQodC5udW1lcmF0b3IsdC5kZW5vbWluYXRvcil9cXVvdGllbnQoKXtyZXR1cm4gTWF0aC5mbG9vcih0aGlzLm51bWVyYXRvci90aGlzLmRlbm9taW5hdG9yKX1mcmFjdGlvbigpe3JldHVybiB0aGlzLm51bWVyYXRvciV0aGlzLmRlbm9taW5hdG9yfWFicygpe3JldHVybiB0aGlzLmRlbm9taW5hdG9yPU1hdGguYWJzKHRoaXMuZGVub21pbmF0b3IpLHRoaXMubnVtZXJhdG9yPU1hdGguYWJzKHRoaXMubnVtZXJhdG9yKSx0aGlzfXRvU3RyaW5nKCl7cmV0dXJuIHRoaXMubnVtZXJhdG9yK1wiL1wiK3RoaXMuZGVub21pbmF0b3J9dG9TaW1wbGlmaWVkU3RyaW5nKCl7cmV0dXJuIG4uX190bXAuY29weSh0aGlzKS5zaW1wbGlmeSgpLnRvU3RyaW5nKCl9dG9NaXhlZFN0cmluZygpe2xldCB0PVwiXCI7Y29uc3QgZT10aGlzLnF1b3RpZW50KCksaT1uLl9fdG1wLmNvcHkodGhpcyk7cmV0dXJuIGU8MD9pLmFicygpLmZyYWN0aW9uKCk6aS5mcmFjdGlvbigpLDAhPT1lPyh0Kz1lLDAhPT1pLm51bWVyYXRvciYmKHQrPVwiIFwiK2kudG9TaW1wbGlmaWVkU3RyaW5nKCkpKTp0PTA9PT1pLm51bWVyYXRvcj9cIjBcIjppLnRvU2ltcGxpZmllZFN0cmluZygpLHR9cGFyc2UodCl7Y29uc3QgZT10LnNwbGl0KFwiL1wiKSxpPXBhcnNlSW50KGVbMF0sMTApLHM9ZVsxXT9wYXJzZUludChlWzFdLDEwKToxO3JldHVybiB0aGlzLnNldChpLHMpfX1uLl9fY29tcGFyZUE9bmV3IG4sbi5fX2NvbXBhcmVCPW5ldyBuLG4uX190bXA9bmV3IG47Y29uc3Qgcj1zLk1ha2VFeGNlcHRpb24oXCJSZWdpc3RyeUVycm9yXCIpO2Z1bmN0aW9uIG8odCxlLGkscyxuKXt0W2VdW2ldfHwodFtlXVtpXT17fSksdFtlXVtpXVtzXT1ufWNsYXNzIGF7c3RhdGljIGdldCBJTkRFWEVTKCl7cmV0dXJuW1widHlwZVwiXX1jb25zdHJ1Y3Rvcigpe3RoaXMuY2xlYXIoKX1zdGF0aWMgZW5hYmxlRGVmYXVsdFJlZ2lzdHJ5KHQpe2EuZGVmYXVsdFJlZ2lzdHJ5PXR9c3RhdGljIGdldERlZmF1bHRSZWdpc3RyeSgpe3JldHVybiBhLmRlZmF1bHRSZWdpc3RyeX1zdGF0aWMgZGlzYWJsZURlZmF1bHRSZWdpc3RyeSgpe2EuZGVmYXVsdFJlZ2lzdHJ5PW51bGx9Y2xlYXIoKXtyZXR1cm4gdGhpcy5pbmRleD17aWQ6e30sdHlwZTp7fSxjbGFzczp7fX0sdGhpc311cGRhdGVJbmRleCh7aWQ6dCxuYW1lOmUsdmFsdWU6aSxvbGRWYWx1ZTpzfSl7Y29uc3Qgbj10aGlzLmdldEVsZW1lbnRCeUlkKHQpO251bGwhPT1zJiZ0aGlzLmluZGV4W2VdW3NdJiZkZWxldGUgdGhpcy5pbmRleFtlXVtzXVt0XSxudWxsIT09aSYmbyh0aGlzLmluZGV4LGUsaSxuLmdldEF0dHJpYnV0ZShcImlkXCIpLG4pfXJlZ2lzdGVyKHQsZSl7aWYoIShlPWV8fHQuZ2V0QXR0cmlidXRlKFwiaWRcIikpKXRocm93IG5ldyByKFwiQ2FuJ3QgYWRkIGVsZW1lbnQgd2l0aG91dCBgaWRgIGF0dHJpYnV0ZSB0byByZWdpc3RyeVwiLHQpO3JldHVybiB0LnNldEF0dHJpYnV0ZShcImlkXCIsZSksbyh0aGlzLmluZGV4LFwiaWRcIixlLGUsdCksYS5JTkRFWEVTLmZvckVhY2goaT0+e3RoaXMudXBkYXRlSW5kZXgoe2lkOmUsbmFtZTppLHZhbHVlOnQuZ2V0QXR0cmlidXRlKGkpLG9sZFZhbHVlOm51bGx9KX0pLHQub25SZWdpc3Rlcih0aGlzKSx0aGlzfWdldEVsZW1lbnRCeUlkKHQpe3JldHVybiB0aGlzLmluZGV4LmlkW3RdP3RoaXMuaW5kZXguaWRbdF1bdF06bnVsbH1nZXRFbGVtZW50c0J5QXR0cmlidXRlKHQsZSl7Y29uc3QgaT10aGlzLmluZGV4W3RdO3JldHVybiBpJiZpW2VdP09iamVjdC5rZXlzKGlbZV0pLm1hcCh0PT5pW2VdW3RdKTpbXX1nZXRFbGVtZW50c0J5VHlwZSh0KXtyZXR1cm4gdGhpcy5nZXRFbGVtZW50c0J5QXR0cmlidXRlKFwidHlwZVwiLHQpfWdldEVsZW1lbnRzQnlDbGFzcyh0KXtyZXR1cm4gdGhpcy5nZXRFbGVtZW50c0J5QXR0cmlidXRlKFwiY2xhc3NcIix0KX1vblVwZGF0ZSh7aWQ6dCxuYW1lOmUsdmFsdWU6aSxvbGRWYWx1ZTpzfSl7cmV0dXJuIGZ1bmN0aW9uKHQsZSl7cmV0dXJuIHQuZmlsdGVyKHQ9PnQ9PT1lKS5sZW5ndGg+MH0oYS5JTkRFWEVTLmNvbmNhdChbXCJpZFwiLFwiY2xhc3NcIl0pLGUpPyh0aGlzLnVwZGF0ZUluZGV4KHtpZDp0LG5hbWU6ZSx2YWx1ZTppLG9sZFZhbHVlOnN9KSx0aGlzKTp0aGlzfX1hLmRlZmF1bHRSZWdpc3RyeT1udWxsO2NsYXNzIGh7c3RhdGljIG5ld0lEKCl7cmV0dXJuXCJhdXRvXCIraC5JRCsrfWNvbnN0cnVjdG9yKHt0eXBlOnR9PXt9KXt0aGlzLmF0dHJzPXtpZDpoLm5ld0lEKCksZWw6bnVsbCx0eXBlOnR8fFwiQmFzZVwiLGNsYXNzZXM6e319LHRoaXMuYm91bmRpbmdCb3g9bnVsbCx0aGlzLmNvbnRleHQ9bnVsbCx0aGlzLnJlbmRlcmVkPSExLGEuZ2V0RGVmYXVsdFJlZ2lzdHJ5KCkmJmEuZ2V0RGVmYXVsdFJlZ2lzdHJ5KCkucmVnaXN0ZXIodGhpcyl9c2V0U3R5bGUodCl7cmV0dXJuIHRoaXMuc3R5bGU9dCx0aGlzfWdldFN0eWxlKCl7cmV0dXJuIHRoaXMuc3R5bGV9YXBwbHlTdHlsZSh0PXRoaXMuY29udGV4dCxlPXRoaXMuZ2V0U3R5bGUoKSl7cmV0dXJuIGU/KHQuc2F2ZSgpLGUuc2hhZG93Q29sb3ImJnQuc2V0U2hhZG93Q29sb3IoZS5zaGFkb3dDb2xvciksZS5zaGFkb3dCbHVyJiZ0LnNldFNoYWRvd0JsdXIoZS5zaGFkb3dCbHVyKSxlLmZpbGxTdHlsZSYmdC5zZXRGaWxsU3R5bGUoZS5maWxsU3R5bGUpLGUuc3Ryb2tlU3R5bGUmJnQuc2V0U3Ryb2tlU3R5bGUoZS5zdHJva2VTdHlsZSksZS5saW5lV2lkdGgmJnQuc2V0TGluZVdpZHRoKGUubGluZVdpZHRoKSx0aGlzKTp0aGlzfXJlc3RvcmVTdHlsZSh0PXRoaXMuY29udGV4dCxlPXRoaXMuZ2V0U3R5bGUoKSl7cmV0dXJuIGU/KHQucmVzdG9yZSgpLHRoaXMpOnRoaXN9ZHJhd1dpdGhTdHlsZSgpe3RoaXMuY2hlY2tDb250ZXh0KCksdGhpcy5hcHBseVN0eWxlKCksdGhpcy5kcmF3KCksdGhpcy5yZXN0b3JlU3R5bGUoKX1oYXNDbGFzcyh0KXtyZXR1cm4hMD09PXRoaXMuYXR0cnMuY2xhc3Nlc1t0XX1hZGRDbGFzcyh0KXtyZXR1cm4gdGhpcy5hdHRycy5jbGFzc2VzW3RdPSEwLHRoaXMucmVnaXN0cnkmJnRoaXMucmVnaXN0cnkub25VcGRhdGUoe2lkOnRoaXMuZ2V0QXR0cmlidXRlKFwiaWRcIiksbmFtZTpcImNsYXNzXCIsdmFsdWU6dCxvbGRWYWx1ZTpudWxsfSksdGhpc31yZW1vdmVDbGFzcyh0KXtyZXR1cm4gZGVsZXRlIHRoaXMuYXR0cnMuY2xhc3Nlc1t0XSx0aGlzLnJlZ2lzdHJ5JiZ0aGlzLnJlZ2lzdHJ5Lm9uVXBkYXRlKHtpZDp0aGlzLmdldEF0dHJpYnV0ZShcImlkXCIpLG5hbWU6XCJjbGFzc1wiLHZhbHVlOm51bGwsb2xkVmFsdWU6dH0pLHRoaXN9b25SZWdpc3Rlcih0KXtyZXR1cm4gdGhpcy5yZWdpc3RyeT10LHRoaXN9aXNSZW5kZXJlZCgpe3JldHVybiB0aGlzLnJlbmRlcmVkfXNldFJlbmRlcmVkKHQ9ITApe3JldHVybiB0aGlzLnJlbmRlcmVkPXQsdGhpc31nZXRBdHRyaWJ1dGVzKCl7cmV0dXJuIHRoaXMuYXR0cnN9Z2V0QXR0cmlidXRlKHQpe3JldHVybiB0aGlzLmF0dHJzW3RdfXNldEF0dHJpYnV0ZSh0LGUpe2NvbnN0IGk9dGhpcy5hdHRycy5pZCxzPXRoaXMuYXR0cnNbdF07cmV0dXJuIHRoaXMuYXR0cnNbdF09ZSx0aGlzLnJlZ2lzdHJ5JiZ0aGlzLnJlZ2lzdHJ5Lm9uVXBkYXRlKHtpZDppLG5hbWU6dCx2YWx1ZTplLG9sZFZhbHVlOnN9KSx0aGlzfWdldENvbnRleHQoKXtyZXR1cm4gdGhpcy5jb250ZXh0fXNldENvbnRleHQodCl7cmV0dXJuIHRoaXMuY29udGV4dD10LHRoaXN9Z2V0Qm91bmRpbmdCb3goKXtyZXR1cm4gdGhpcy5ib3VuZGluZ0JveH1jaGVja0NvbnRleHQoKXtpZighdGhpcy5jb250ZXh0KXRocm93IG5ldyBzLlJFUlIoXCJOb0NvbnRleHRcIixcIk5vIHJlbmRlcmluZyBjb250ZXh0IGF0dGFjaGVkIHRvIGluc3RhbmNlXCIpO3JldHVybiB0aGlzLmNvbnRleHR9fWguSUQ9MWUzO2NsYXNzIGx7Y29uc3RydWN0b3IodCxlLGkscyl7dGhpcy54MT1OdW1iZXIuTmFOLHRoaXMueTE9TnVtYmVyLk5hTix0aGlzLngyPU51bWJlci5OYU4sdGhpcy55Mj1OdW1iZXIuTmFOLHRoaXMuYWRkUG9pbnQodCxlKSx0aGlzLmFkZFBvaW50KGkscyl9d2lkdGgoKXtyZXR1cm4gdGhpcy54Mi10aGlzLngxfWhlaWdodCgpe3JldHVybiB0aGlzLnkyLXRoaXMueTF9YWRkUG9pbnQodCxlKXtudWxsIT10JiYoKGlzTmFOKHRoaXMueDEpfHxpc05hTih0aGlzLngyKSkmJih0aGlzLngxPXQsdGhpcy54Mj10KSx0PHRoaXMueDEmJih0aGlzLngxPXQpLHQ+dGhpcy54MiYmKHRoaXMueDI9dCkpLG51bGwhPWUmJigoaXNOYU4odGhpcy55MSl8fGlzTmFOKHRoaXMueTIpKSYmKHRoaXMueTE9ZSx0aGlzLnkyPWUpLGU8dGhpcy55MSYmKHRoaXMueTE9ZSksZT50aGlzLnkyJiYodGhpcy55Mj1lKSl9YWRkWCh0KXt0aGlzLmFkZFBvaW50KHQsbnVsbCl9YWRkWSh0KXt0aGlzLmFkZFBvaW50KG51bGwsdCl9YWRkUXVhZHJhdGljQ3VydmUodCxlLGkscyxuLHIpe2NvbnN0IG89dCsyLzMqKGktdCksYT1lKzIvMyoocy1lKSxoPW8rMS8zKihuLXQpLGw9YSsxLzMqKHItZSk7dGhpcy5hZGRCZXppZXJDdXJ2ZSh0LGUsbyxhLGgsbCxuLHIpfWFkZEJlemllckN1cnZlKHQsZSxpLHMsbixyLG8sYSl7Y29uc3QgaD1bdCxlXSxsPVtpLHNdLGM9W24scl0sdT1bbyxhXTtsZXQgZDt0aGlzLmFkZFBvaW50KGhbMF0saFsxXSksdGhpcy5hZGRQb2ludCh1WzBdLHVbMV0pO2NvbnN0IGY9KHQsZSk9Pk1hdGgucG93KDEtdCwzKSpoW2VdKzMqTWF0aC5wb3coMS10LDIpKnQqbFtlXSszKigxLXQpKk1hdGgucG93KHQsMikqY1tlXStNYXRoLnBvdyh0LDMpKnVbZV07Zm9yKGQ9MDtkPD0xO2QrKyl7Y29uc3QgdD02KmhbZF0tMTIqbFtkXSs2KmNbZF0sZT0tMypoW2RdKzkqbFtkXS05KmNbZF0rMyp1W2RdLGk9MypsW2RdLTMqaFtkXTtpZigwPT09ZSl7aWYoMD09PXQpY29udGludWU7Y29uc3QgZT0taS90OzA8ZSYmZTwxJiYoMD09PWQmJnRoaXMuYWRkWChmKGUsZCkpLDE9PT1kJiZ0aGlzLmFkZFkoZihlLGQpKSk7Y29udGludWV9Y29uc3Qgcz1NYXRoLnBvdyh0LDIpLTQqaSplO2lmKHM8MCljb250aW51ZTtjb25zdCBuPSgtdCtNYXRoLnNxcnQocykpLygyKmUpOzA8biYmbjwxJiYoMD09PWQmJnRoaXMuYWRkWChmKG4sZCkpLDE9PT1kJiZ0aGlzLmFkZFkoZihuLGQpKSk7Y29uc3Qgcj0oLXQtTWF0aC5zcXJ0KHMpKS8oMiplKTswPHImJnI8MSYmKDA9PT1kJiZ0aGlzLmFkZFgoZihyLGQpKSwxPT09ZCYmdGhpcy5hZGRZKGYocixkKSkpfX19Y2xhc3MgY3tzdGF0aWMgY29weSh0KXtyZXR1cm4gbmV3IGModC54LHQueSx0LncsdC5oKX1jb25zdHJ1Y3Rvcih0LGUsaSxzKXt0aGlzLng9dCx0aGlzLnk9ZSx0aGlzLnc9aSx0aGlzLmg9c31nZXRYKCl7cmV0dXJuIHRoaXMueH1nZXRZKCl7cmV0dXJuIHRoaXMueX1nZXRXKCl7cmV0dXJuIHRoaXMud31nZXRIKCl7cmV0dXJuIHRoaXMuaH1zZXRYKHQpe3JldHVybiB0aGlzLng9dCx0aGlzfXNldFkodCl7cmV0dXJuIHRoaXMueT10LHRoaXN9c2V0Vyh0KXtyZXR1cm4gdGhpcy53PXQsdGhpc31zZXRIKHQpe3JldHVybiB0aGlzLmg9dCx0aGlzfW1vdmUodCxlKXt0aGlzLngrPXQsdGhpcy55Kz1lfWNsb25lKCl7cmV0dXJuIGMuY29weSh0aGlzKX1tZXJnZVdpdGgodCxlKXtjb25zdCBpPXQscz10aGlzLng8aS54P3RoaXMueDppLngsbj10aGlzLnk8aS55P3RoaXMueTppLnkscj1NYXRoLm1heCh0aGlzLngrdGhpcy53LGkueCtpLncpLXMsbz1NYXRoLm1heCh0aGlzLnkrdGhpcy5oLGkueStpLmgpLW47cmV0dXJuIHRoaXMueD1zLHRoaXMueT1uLHRoaXMudz1yLHRoaXMuaD1vLGUmJnRoaXMuZHJhdyhlKSx0aGlzfWRyYXcodCxlLGkpe2V8fChlPTApLGl8fChpPTApLHQucmVjdCh0aGlzLngrZSx0aGlzLnkraSx0aGlzLncsdGhpcy5oKSx0LnN0cm9rZSgpfX1jb25zdCB1PXtnbHlwaHM6e3YwOnt4X21pbjowLHhfbWF4OjUxNC41LGhhOjUyNSxvOlwibSAyMzYgNjQ4IGIgMjQ2IDY0OCAyMzggNjQ4IDI0MiA2NDggYiAyODggNjQ2IDI2MSA2NDggMjgzIDY0OCBiIDQ3MiA1MTMgMzY0IDYzNCA0MjggNTg3IGIgNTE0IDM0NyA1MDIgNDY0IDUxNCA0MTMgYiA0NjIgMTYzIDUxNCAyNzIgNDk5IDIxNyBiIDI1NyA0NCA0MDkgODMgMzMzIDQ0IGIgNTAgMTYzIDE4MSA0NCAxMDMgODMgYiAwIDM0NyAxNCAyMTcgMCAyNzIgYiA0MCA1MTMgMCA0MTMgMTIgNDY0IGIgMjM2IDY0OCA4NyA1OTEgMTU1IDYzOCBtIDI3NyA2MTQgYiAyNTMgNjE2IDI3MyA2MTYgMjYxIDYxNiBiIDI0MiA2MTYgMjQ3IDYxNiAyNDMgNjE2IGIgMTcwIDQ5OSAxOTMgNjA5IDE4MSA1ODkgYiAxNTkgMzQ4IDE2MyA0NDYgMTU5IDM5OCBiIDE2NiAyMjIgMTU5IDMwOCAxNjEgMjY2IGIgMjAxIDkxIDE3NCAxMzggMTgzIDEwNiBiIDI1NyA3NiAyMTUgODEgMjM1IDc2IGIgMzExIDkxIDI3NyA3NiAyOTkgODEgYiAzNDcgMjIyIDMzMCAxMDYgMzM4IDEzOCBiIDM1MyAzNDggMzUyIDI2NiAzNTMgMzA4IGIgMzQ0IDQ5OSAzNTMgMzk4IDM1MSA0NDYgYiAyNzcgNjE0IDMzMyA1ODcgMzIyIDYwNiBtIDI1NyAtMSBsIDI1OCAtMSBsIDI1NSAtMSBsIDI1NyAtMSBtIDI1NyA2NzMgbCAyNTggNjczIGwgMjU1IDY3MyBsIDI1NyA2NzMgXCJ9LHYxOnt4X21pbjotMS4zNTkzNzUseF9tYXg6MzQ0LjM1OTM3NSxoYTozNTEsbzpcIm0gMTI2IDYzNyBsIDEyOSA2MzggbCAxOTggNjM4IGwgMjY2IDYzOCBsIDI2OSA2MzUgYiAyNzQgNjMxIDI3MiA2MzQgMjczIDYzMiBsIDI3NyA2MjcgbCAyNzcgMzk1IGIgMjc5IDE1NiAyNzcgMjMwIDI3NyAxNjEgYiAzMjkgODggMjgxIDEyMyAyOTUgMTA2IGIgMzQ0IDY5IDM0MSA4MSAzNDQgNzkgYiAzMzcgNTUgMzQ0IDYyIDM0MyA1OSBsIDMzMyA1NCBsIDE5NyA1NCBsIDYxIDU0IGwgNTggNTUgYiA1MCA2OSA1MyA1OSA1MCA2MiBiIDY1IDg4IDUwIDc5IDUzIDgxIGIgODAgOTcgNzIgOTEgNzQgOTMgYiAxMTcgMTU2IDEwMyAxMTMgMTEyIDEyOSBiIDExNyAzNDUgMTE3IDE2MSAxMTcgMjIyIGwgMTE3IDUyOCBsIDEwMCA1MDMgbCAzOCA0MDYgYiAxNCAzODMgMjQgMzg0IDIzIDM4MyBiIC0xIDM5OCA1IDM4MyAtMSAzOTAgYiA0IDQxNSAtMSA0MDMgMSA0MDkgYiAxNiA0MzcgNSA0MTYgMTAgNDI2IGwgNzIgNTM5IGwgMTAwIDU5NiBiIDEyMSA2MzIgMTE5IDYzMSAxMTkgNjMxIGIgMTI2IDYzNyAxMjIgNjM0IDEyNSA2MzUgbSAxNzEgLTEgbCAxNzIgLTEgbCAxNzAgLTEgbCAxNzEgLTEgbSAxNzEgNjczIGwgMTcyIDY3MyBsIDE3MCA2NzMgbCAxNzEgNjczIFwifSx2Mjp7eF9taW46LTEuMzU5Mzc1LHhfbWF4OjQ1OC42ODc1LGhhOjQ2OCxvOlwibSAxOTcgNjQ4IGIgMjE2IDY0OCAyMDEgNjQ4IDIwOCA2NDggYiAyNTggNjQ2IDIzMiA2NDggMjUzIDY0OCBiIDQxOSA1NDYgMzMzIDYzNyAzOTMgNTk5IGIgNDMyIDQ4OSA0MjggNTI4IDQzMiA1MDkgYiAzNTYgMzQyIDQzMiA0NDAgNDA1IDM4NCBiIDIzNSAyNzggMzIyIDMxMyAyODggMjk1IGIgNjkgMTcwIDE2NiAyNTYgMTA3IDIxNyBiIDY5IDE2OSA2OSAxNzAgNjkgMTY5IGIgNjkgMTY5IDY5IDE2OSA2OSAxNjkgYiA3NCAxNzMgNjkgMTY5IDcyIDE3MCBiIDIwOSAyMjIgMTEyIDIwNCAxNjMgMjIyIGIgMzEwIDE5NSAyNDcgMjIyIDI3NCAyMTUgYiAzNzEgMTc5IDMzMiAxODQgMzUyIDE3OSBiIDM5NiAxODEgMzc5IDE3OSAzODcgMTc5IGIgNDI4IDIwMiA0MDkgMTg0IDQyMyAxOTQgYiA0NDIgMjEyIDQzMSAyMDkgNDM2IDIxMiBiIDQ1OCAxOTcgNDUwIDIxMiA0NTggMjA2IGIgNDQxIDE0OCA0NTggMTkwIDQ0OSAxNjUgYiAyOTkgNDQgNDA5IDg0IDM1MyA0NCBiIDI4OCA0NSAyOTUgNDQgMjkyIDQ0IGIgMjUwIDYxIDI3NCA0NSAyNjggNDkgYiAxMjIgOTkgMjEyIDg2IDE2NCA5OSBiIDczIDkxIDEwNCA5OSA4OCA5NyBiIDI4IDYzIDUzIDg0IDM0IDcyIGIgMTQgNTQgMjUgNTYgMjAgNTQgYiAxIDYyIDkgNTQgNCA1NiBsIC0xIDY1IGwgLTEgNzkgYiAwIDk5IC0xIDkxIDAgOTUgYiAyIDExMyAxIDEwMiAyIDEwOCBiIDE2NCAzMDkgMjAgMTk3IDgxIDI3MiBiIDI4NSA0NzAgMjMyIDM0MSAyNzcgMzk4IGIgMjg3IDQ4NyAyODcgNDc2IDI4NyA0ODEgYiAxNzEgNTk1IDI4NyA1NTEgMjM5IDU5NSBiIDE1NSA1OTUgMTY2IDU5NSAxNjAgNTk1IGIgMTQyIDU5MiAxNDUgNTk0IDE0MiA1OTQgYiAxNDUgNTg5IDE0MiA1OTIgMTQyIDU5MSBiIDE3OSA1MjcgMTY4IDU3NiAxNzkgNTUxIGIgMTMyIDQ1NSAxNzkgNDk2IDE2MyA0NjcgYiAxMDQgNDUxIDEyMiA0NTIgMTEyIDQ1MSBiIDI3IDUzMCA2MiA0NTEgMjcgNDg3IGIgMjkgNTU1IDI3IDUzOCAyNyA1NDYgYiAxOTcgNjQ4IDQ0IDYwMSAxMTUgNjM5IG0gMjI4IC0xIGwgMjMwIC0xIGwgMjI3IC0xIGwgMjI4IC0xIG0gMjI4IDY3MyBsIDIzMCA2NzMgbCAyMjcgNjczIGwgMjI4IDY3MyBcIn0sdjM6e3hfbWluOi0xLjM1OTM3NSx4X21heDo0MDkuNjg3NSxoYTo0MTgsbzpcIm0gMTc0IDY0OCBiIDE5MSA2NDggMTc2IDY0OCAxODMgNjQ4IGIgMjI1IDY0OCAyMDQgNjQ4IDIyMCA2NDggYiA0MDIgNTIzIDMxNyA2MzggMzg5IDU4OCBiIDQwNCA1MDMgNDA0IDUxNyA0MDQgNTEwIGIgNDAyIDQ4NCA0MDQgNDk1IDQwNCA0ODggYiAyNjQgMzczIDM4OSA0MzcgMzM0IDM5NCBiIDI1NyAzNzAgMjU5IDM3MSAyNTcgMzcxIGIgMjU3IDM3MCAyNTcgMzcwIDI1NyAzNzAgYiAyNjQgMzY5IDI1OCAzNzAgMjYxIDM2OSBiIDQwOSAyMDIgMzU5IDMzNCA0MDkgMjY3IGIgMzE4IDcyIDQwOSAxNTIgMzgxIDEwNCBiIDIwMCA0MyAyODEgNTIgMjQwIDQzIGIgMjMgMTEzIDEzNCA0MyA2OSA2OCBiIDAgMTY5IDYgMTI5IDAgMTQ5IGIgNzcgMjQ5IDAgMjEwIDI5IDI0OSBsIDc3IDI0OSBiIDE1MiAxNzQgMTI1IDI0OSAxNTIgMjEyIGIgMTAzIDEwMiAxNTIgMTQ1IDEzNyAxMTYgYiAxMDMgMTAyIDEwMyAxMDIgMTAzIDEwMiBiIDE0NyA5NCAxMDMgMTAxIDEzMiA5NSBiIDE1MyA5NCAxNDkgOTQgMTUxIDk0IGIgMjY1IDIwNiAyMTkgOTQgMjY1IDE0MSBiIDI2NCAyMjYgMjY1IDIxMyAyNjUgMjE5IGIgMTQ3IDM1NSAyNTMgMjk5IDIwNCAzNTMgYiAxMjYgMzcxIDEzMyAzNTYgMTI2IDM2MiBiIDE0NyAzODggMTI2IDM4MyAxMzIgMzg4IGIgMjU0IDQ3NCAxOTYgMzkxIDIzOCA0MjQgYiAyNTkgNTAyIDI1OCA0ODQgMjU5IDQ5NCBiIDE4MiA1OTIgMjU5IDU0NCAyMjggNTgyIGIgMTU2IDU5NSAxNzUgNTk1IDE2NiA1OTUgYiAxMTUgNTkyIDE0MiA1OTUgMTI5IDU5NCBsIDExMSA1OTEgbCAxMTUgNTg4IGIgMTUyIDUyNCAxNDEgNTc0IDE1MiA1NDkgYiA5MiA0NDkgMTUyIDQ5MSAxMzAgNDU4IGIgNzYgNDQ4IDg3IDQ0OCA4MSA0NDggYiAtMSA1MzAgMzIgNDQ4IC0xIDQ4OCBiIDIwIDU4MSAtMSA1NDggNSA1NjYgYiAxNzQgNjQ4IDU1IDYxOSAxMDggNjQxIG0gMjA0IC0xIGwgMjA1IC0xIGwgMjAyIC0xIGwgMjA0IC0xIG0gMjA0IDY3MyBsIDIwNSA2NzMgbCAyMDIgNjczIGwgMjA0IDY3MyBcIn0sdjQ6e3hfbWluOjAseF9tYXg6NDY4LjIxODc1LGhhOjQ3OCxvOlwibSAxNzQgNjM3IGIgMjMyIDYzOCAxNzUgNjM4IDE4OSA2MzggYiAyNzcgNjM4IDI0NSA2MzggMjU5IDYzOCBsIDM3OCA2MzggbCAzODEgNjM1IGIgMzg5IDYyMyAzODYgNjMyIDM4OSA2MjcgYiAzODIgNjA5IDM4OSA2MTcgMzg2IDYxMyBiIDM2NiA1ODkgMzgxIDYwNiAzNzIgNTk4IGwgMzEzIDUyOCBsIDI0NSA0NTEgbCAyMDkgNDEwIGwgMTU1IDM0OCBsIDg0IDI2NyBiIDU5IDI0MCA3MiAyNTIgNTkgMjQwIGIgNTkgMjQwIDU5IDI0MCA1OSAyNDAgYiAxNTEgMjM4IDU5IDIzOCA2OCAyMzggbCAyNDIgMjM4IGwgMjQyIDMwMyBiIDI0MyAzNzEgMjQyIDM2OSAyNDIgMzcwIGIgMjg5IDQyNiAyNDUgMzc0IDI1NCAzODUgbCAzMDMgNDQxIGwgMzE3IDQ1NiBsIDMzOCA0ODMgbCAzNjAgNTA2IGwgMzcxIDUyMCBiIDM4NiA1MjcgMzc1IDUyNiAzODEgNTI3IGIgNDAwIDUxOSAzOTIgNTI3IDM5NyA1MjQgYiA0MDEgNDQwIDQwMSA1MTYgNDAxIDUxNCBiIDQwMSAzNzcgNDAxIDQyMyA0MDEgNDAyIGwgNDAxIDIzOCBsIDQyNiAyMzggYiA0NTMgMjM3IDQ0OSAyMzggNDUwIDIzOCBiIDQ2NSAyMTcgNDYxIDIzNCA0NjUgMjI2IGIgNDYwIDIwMiA0NjUgMjEyIDQ2NCAyMDYgYiA0MjYgMTk3IDQ1NCAxOTcgNDUzIDE5NyBsIDQwMSAxOTcgbCA0MDEgMTgwIGIgNDUxIDg4IDQwMiAxMjkgNDEyIDEwOSBiIDQ2OCA2OSA0NjUgODEgNDY4IDc5IGIgNDYxIDU1IDQ2OCA2MiA0NjYgNTkgbCA0NTggNTQgbCAzMjEgNTQgbCAxODUgNTQgbCAxODIgNTUgYiAxNzUgNjkgMTc2IDU5IDE3NSA2MiBiIDE5MSA4OCAxNzUgNzkgMTc2IDgxIGIgMjQwIDE4MCAyMzAgMTA5IDI0MCAxMjkgbCAyNDAgMTk3IGwgMTI1IDE5NyBiIDczIDE5NSAxMDQgMTk1IDg3IDE5NSBiIDggMTk3IDEwIDE5NSA5IDE5NyBiIDAgMjEyIDIgMTk5IDAgMjA1IGIgMCAyMTIgMCAyMTIgMCAyMTIgYiAyMCAyNDIgMCAyMTkgMCAyMTkgYiAxNjMgNjEwIDEwNCAzNDQgMTYzIDQ5MiBiIDE3NCA2MzcgMTYzIDYyOCAxNjYgNjM0IG0gMjM0IC0xIGwgMjM1IC0xIGwgMjMyIC0xIGwgMjM0IC0xIG0gMjM0IDY3MyBsIDIzNSA2NzMgbCAyMzIgNjczIGwgMjM0IDY3MyBcIn0sdjU6e3hfbWluOjAseF9tYXg6NDA5LjY4NzUsaGE6NDE4LG86XCJtIDQ3IDYzNyBiIDUzIDYzOCA0OSA2MzggNTAgNjM4IGIgNjkgNjM0IDU1IDYzOCA2MSA2MzcgYiAyMTAgNjEwIDExNCA2MTkgMTYxIDYxMCBiIDM2MyA2MzQgMjU5IDYxMCAzMTEgNjE5IGIgMzgyIDYzOCAzNzIgNjM3IDM3OCA2MzggYiAzOTIgNjM0IDM4NiA2MzggMzg5IDYzNyBiIDM5NyA2MjMgMzk2IDYzMCAzOTcgNjI3IGIgMzkzIDYxMCAzOTcgNjIwIDM5NiA2MTYgYiAyOTggNTA1IDM2OCA1NTIgMzM4IDUyMCBiIDIxMiA0OTQgMjc3IDQ5OCAyNDYgNDk0IGIgNjUgNTE3IDE2MyA0OTQgMTA2IDUwMiBiIDYxIDUxNyA2MiA1MTcgNjEgNTE3IGIgNjEgNTE3IDYxIDUxNyA2MSA1MTcgYiA1MSA0MDggNjEgNTE3IDUxIDQxMiBiIDUxIDQwOCA1MSA0MDggNTEgNDA4IGIgNTEgNDA4IDUxIDQwOCA1MSA0MDggYiA2MSA0MTIgNTMgNDA4IDU1IDQwOSBiIDEyNSA0MzQgODAgNDIxIDEwMyA0MzAgYiAxODUgNDQxIDE0NSA0NDAgMTY2IDQ0MSBiIDQwOSAyNDQgMzEwIDQ0MSA0MDkgMzUzIGIgNDAxIDE5MSA0MDkgMjI3IDQwNiAyMDkgYiAxOTcgNDMgMzc1IDEwNSAyODcgNDMgYiAxNTkgNDcgMTgzIDQzIDE3MSA0NCBiIDIzIDEyMyAxMTIgNTYgNjEgODYgYiAwIDE4MCA2IDE0MCAwIDE1OSBiIDc2IDI2MCAwIDIyMCAzMSAyNjAgYiA5MiAyNTkgODEgMjYwIDg3IDI1OSBiIDE1MiAxODMgMTMyIDI1MSAxNTIgMjE2IGIgMTAwIDExMiAxNTIgMTUyIDEzNCAxMjIgYiA5NSAxMTEgOTggMTEyIDk1IDExMSBiIDk1IDExMSA5NSAxMTEgOTUgMTExIGIgMTI5IDk4IDk1IDEwOSAxMTkgMTAxIGIgMTQ4IDk3IDEzNiA5NyAxNDEgOTcgYiAyNjQgMjM1IDIwNiA5NyAyNjEgMTU4IGIgMjY1IDI0OCAyNjUgMjQwIDI2NSAyNDQgYiAyMTAgMzk4IDI2NSAzMTIgMjQzIDM3MyBiIDE3OSA0MDggMjAxIDQwNiAxOTQgNDA4IGIgMTc0IDQwOCAxNzggNDA4IDE3NiA0MDggYiA1MyAzNjkgMTMwIDQwOCA4OCAzOTQgYiAzNCAzNTkgMzkgMzU5IDM4IDM1OSBiIDE3IDM3NCAyNCAzNTkgMTcgMzY1IGIgMzkgNjI4IDE3IDM4NCAzOCA2MjUgYiA0NyA2MzcgNDAgNjMxIDQzIDYzNSBtIDIwNCAtMSBsIDIwNSAtMSBsIDIwMiAtMSBsIDIwNCAtMSBtIDIwNCA2NzMgbCAyMDUgNjczIGwgMjAyIDY3MyBsIDIwNCA2NzMgXCJ9LHY2Ont4X21pbjowLHhfbWF4OjQ3NS4wMzEyNSxoYTo0ODUsbzpcIm0gMjU1IDY0OCBiIDI3NCA2NDggMjU5IDY0OCAyNjYgNjQ4IGIgMzE0IDY0NiAyODggNjQ4IDMwNyA2NDggYiA0NTAgNTU1IDM3NCA2MzcgNDM4IDU5NCBiIDQ1NCA1MzAgNDUzIDU0NiA0NTQgNTM4IGIgMzc1IDQ1MSA0NTQgNDg1IDQxNiA0NTEgYiAzMjggNDY3IDM1OSA0NTEgMzQzIDQ1NSBiIDMwMCA1MjYgMzEwIDQ4MyAzMDAgNTAzIGIgMzUyIDU5OCAzMDAgNTU3IDMxOSA1ODkgYiAzNTYgNTk5IDM1NSA1OTggMzU2IDU5OSBiIDM1MiA2MDIgMzU2IDU5OSAzNTUgNjAxIGIgMjg4IDYxNiAzMzAgNjEyIDMwOCA2MTYgYiAyMTAgNTg0IDI1NyA2MTYgMjMwIDYwNSBiIDE2NCA0MzMgMTg5IDU1OSAxNzQgNTA4IGIgMTYwIDM3NCAxNjMgNDE1IDE2MCAzODEgYiAxNjAgMzc0IDE2MCAzNzQgMTYwIDM3NCBiIDE2MCAzNzQgMTYwIDM3NCAxNjAgMzc0IGIgMTY4IDM3NyAxNjAgMzc0IDE2NCAzNzYgYiAyNTggMzk1IDIwMCAzOTAgMjI4IDM5NSBiIDM2NiAzNjcgMjk0IDM5NSAzMjggMzg3IGIgNDc1IDIyMyA0MzYgMzMzIDQ3NSAyODMgYiA0NzIgMTk3IDQ3NSAyMTUgNDczIDIwNiBiIDM0OSA2NSA0NjIgMTQxIDQxOSA5NSBiIDI1OSA0MyAzMTcgNTEgMjg4IDQzIGIgMTY3IDY5IDIzMCA0MyAyMDAgNTIgYiA0IDI5MCA4MCAxMTMgMjAgMTk1IGIgMCAzNDkgMSAzMDkgMCAzMjggYiAyMCA0NjcgMCAzOTEgNiA0MzMgYiAyNTUgNjQ4IDU4IDU2MyAxNTUgNjM3IG0gMjY5IDM2MyBiIDI1NyAzNjMgMjY1IDM2MyAyNjEgMzYzIGIgMjEwIDM0NSAyMzYgMzYzIDIyMCAzNTYgYiAxODYgMjI2IDE5NiAzMjQgMTg2IDI3MiBiIDE4NyAxOTggMTg2IDIxNiAxODYgMjA2IGIgMjEzIDk1IDE5MSAxNTEgMjAyIDExMiBiIDI1NyA3NiAyMjEgODMgMjM4IDc2IGIgMjcwIDc3IDI2MSA3NiAyNjYgNzYgYiAzMjEgMTU2IDI5OSA4MSAzMTAgOTkgYiAzMjkgMjI5IDMyNiAxODMgMzI5IDIwNiBiIDMyMSAzMDEgMzI5IDI1MiAzMjYgMjc0IGIgMjY5IDM2MyAzMTEgMzQyIDI5OCAzNTkgbSAyMzYgLTEgbCAyMzggLTEgbCAyMzUgLTEgbCAyMzYgLTEgbSAyMzYgNjczIGwgMjM4IDY3MyBsIDIzNSA2NzMgbCAyMzYgNjczIFwifSx2Nzp7eF9taW46MCx4X21heDo0NDIuMzU5Mzc1LGhhOjQ1MSxvOlwibSAxNDcgNjQ4IGIgMTY2IDY0OSAxNTMgNjQ5IDE2MCA2NDkgYiAzMTMgNTk4IDIxNyA2NDkgMjczIDYzMCBiIDM0MCA1ODcgMzIzIDU4OCAzMjggNTg3IGwgMzQxIDU4NyBiIDQxMiA2MjggMzY3IDU4NyAzOTAgNjAxIGIgNDI3IDYzOCA0MTYgNjM1IDQyMSA2MzggYiA0MzkgNjMyIDQzMSA2MzggNDM1IDYzNyBiIDQ0MiA2MjMgNDQxIDYzMCA0NDIgNjI4IGIgNDMwIDU2OSA0NDIgNjE2IDQzOSA2MDMgYiAzNTIgMzY5IDQwOCA0OTIgMzc3IDQxMCBiIDMwMCAyNTkgMzI1IDMyNCAzMTMgMjk4IGIgMjczIDg0IDI4MyAyMDUgMjczIDE0MCBiIDI2NSA1NSAyNzMgNjUgMjcyIDU5IGwgMjYxIDU0IGwgMTgxIDU0IGwgOTkgNTQgbCA5NiA1NSBiIDkxIDYxIDk1IDU2IDkyIDU5IGwgODkgNjMgbCA4OSA3NyBiIDE0NyAyNjMgODkgMTMzIDExMSAyMDIgYiAyNjEgNDAxIDE3NiAzMTMgMjEyIDM1NSBiIDM3OCA1NDEgMzE1IDQ0OSAzNDkgNDg5IGwgMzgyIDU0OCBsIDM3NSA1NDQgYiAyNDAgNDk1IDMzMyA1MTIgMjg1IDQ5NSBiIDEyOSA1MzUgMTk4IDQ5NSAxNjAgNTA5IGIgODQgNTYwIDEwOCA1NTIgOTUgNTYwIGIgNzYgNTU5IDgxIDU2MCA3OCA1NjAgYiAzMSA0ODcgNTkgNTU1IDQzIDUzMCBiIDE0IDQ3MCAyNyA0NzMgMjQgNDcwIGIgMSA0NzcgOCA0NzAgNCA0NzEgbCAwIDQ4MCBsIDAgNTUzIGwgMCA2MjcgbCAxIDYzMCBiIDE2IDYzOCA0IDYzNSA5IDYzOCBiIDIzIDYzNSAxNyA2MzggMjAgNjM3IGIgNDkgNjI2IDM2IDYyNiAzOSA2MjYgYiA5NiA2MzggNTkgNjI2IDgwIDYzMCBiIDEwNCA2MzkgOTkgNjM4IDEwMiA2MzkgYiAxMTcgNjQ0IDEwNyA2NDEgMTEyIDY0MiBiIDE0NyA2NDggMTI1IDY0NSAxMzcgNjQ4IG0gMjIwIC0xIGwgMjIxIC0xIGwgMjE5IC0xIGwgMjIwIC0xIG0gMjIwIDY3MyBsIDIyMSA2NzMgbCAyMTkgNjczIGwgMjIwIDY3MyBcIn0sdjg6e3hfbWluOjAseF9tYXg6NDg4LjY0MDYyNSxoYTo0OTksbzpcIm0gMjE3IDY0OCBiIDI0NSA2NDkgMjI1IDY0OCAyMzUgNjQ5IGIgNDUzIDUxNiAzNDMgNjQ5IDQzMCA1OTUgYiA0NTggNDc4IDQ1NSA1MDMgNDU4IDQ5MSBiIDQxMiAzNzAgNDU4IDQ0MCA0NDEgMzk4IGIgNDExIDM2OSA0MTIgMzY5IDQxMSAzNjkgYiA0MTUgMzY1IDQxMSAzNjcgNDEyIDM2NyBiIDQ4OCAyMzEgNDYyIDMzMSA0ODggMjgxIGIgNDcyIDE2NSA0ODggMjA4IDQ4MyAxODYgYiAyNDMgNDMgNDM0IDg2IDMzOCA0MyBiIDYzIDEwNCAxNzggNDMgMTEyIDYyIGIgMCAyMzMgMjAgMTQwIDAgMTg2IGIgNzMgMzY1IDAgMjgzIDI0IDMzMSBsIDc3IDM2OSBsIDcyIDM3NCBiIDI5IDQ3NiA0MiA0MDYgMjkgNDQxIGIgMjE3IDY0OCAyOSA1NTcgMTAzIDYzNSBtIDI1OCA2MDUgYiAyNDIgNjA2IDI1MyA2MDUgMjQ3IDYwNiBiIDE1NyA1NTIgMTk4IDYwNiAxNTcgNTgwIGIgMTYwIDU0MSAxNTcgNTQ4IDE1OSA1NDQgYiAzMTkgNDEzIDE3NiA1MDMgMjQyIDQ1MiBsIDMzNyA0MDMgbCAzMzggNDA2IGIgMzU5IDQ3NiAzNTIgNDI4IDM1OSA0NTIgYiAyNTggNjA1IDM1OSA1MzcgMzE4IDU5NSBtIDEzOCAzMjYgYiAxMzAgMzMwIDEzNCAzMjggMTMwIDMzMCBiIDEzMCAzMzAgMTMwIDMzMCAxMzAgMzMwIGIgMTA3IDMwNSAxMjcgMzMwIDExMiAzMTMgYiA4NCAyMzEgOTEgMjgxIDg0IDI1NiBiIDI0MyA4NiA4NCAxNTYgMTUxIDg2IGIgMjQ5IDg3IDI0NSA4NiAyNDYgODcgYiAzNDcgMTU2IDMwMyA4OCAzNDcgMTIwIGIgMzQ0IDE3MiAzNDcgMTYyIDM0NSAxNjcgYiAxNTYgMzE5IDMyNSAyMjcgMjU3IDI4MSBiIDEzOCAzMjYgMTUxIDMyMiAxNDQgMzI0IG0gMjQzIC0xIGwgMjQ1IC0xIGwgMjQyIC0xIGwgMjQzIC0xIG0gMjQzIDY3MyBsIDI0NSA2NzMgbCAyNDIgNjczIGwgMjQzIDY3MyBcIn0sdjk6e3hfbWluOjAseF9tYXg6NDc1LjAzMTI1LGhhOjQ4NSxvOlwibSAxOTEgNjQ2IGIgMjEyIDY0OSAxOTggNjQ4IDIwNSA2NDkgYiAyNTUgNjQ0IDIyNyA2NDkgMjQzIDY0NiBiIDQ1OCA0NDggMzQ4IDYxNiA0MjggNTM5IGIgNDc1IDM0MiA0NjkgNDE1IDQ3NSAzNzggYiA0NjAgMjQ0IDQ3NSAzMDggNDY5IDI3NCBiIDE5MyA0NCA0MjEgMTI0IDMwMyA0NCBiIDkxIDY5IDE1NyA0NCAxMjIgNTEgYiAxOSAxNjEgNDMgOTcgMTkgMTI2IGIgMjEgMTgxIDE5IDE2NyAyMCAxNzQgYiA5OCAyNDEgMzIgMjIwIDY1IDI0MSBiIDE3MCAxODYgMTI5IDI0MSAxNjAgMjIzIGIgMTcyIDE2NiAxNzEgMTc5IDE3MiAxNzMgYiAxMjEgOTQgMTcyIDEzNCAxNTIgMTAyIGIgMTE3IDkzIDExOCA5NCAxMTcgOTMgYiAxMjEgOTAgMTE3IDkzIDExOCA5MSBiIDE4NSA3NiAxNDIgODAgMTY0IDc2IGIgMjcwIDExOSAyMjAgNzYgMjUxIDkxIGIgMzA4IDI1OSAyODcgMTQ1IDMwMCAxOTQgYiAzMTMgMzE3IDMxMCAyNzcgMzEzIDMxMCBiIDMxMyAzMTcgMzEzIDMxNyAzMTMgMzE3IGIgMzEzIDMxNyAzMTMgMzE3IDMxMyAzMTcgYiAzMDQgMzE1IDMxMyAzMTcgMzA4IDMxNiBiIDIxNiAyOTUgMjczIDMwMiAyNDUgMjk1IGIgMTQ1IDMwOCAxOTMgMjk1IDE3MCAyOTkgYiAxOSAzOTggODggMzI3IDQyIDM2MCBiIDAgNDY5IDUgNDIwIDAgNDQ0IGIgMjQgNTUxIDAgNDk2IDggNTI2IGIgMTkxIDY0NiA1NCA1OTYgMTI1IDYzNyBtIDIyNyA2MTQgYiAyMTUgNjE2IDIyNCA2MTYgMjIwIDYxNiBiIDIwMiA2MTQgMjEwIDYxNiAyMDYgNjE2IGIgMTUyIDUzNSAxNzQgNjEwIDE2MyA1OTIgYiAxNDQgNDYzIDE0NyA1MDkgMTQ0IDQ4NSBiIDE1MiAzOTEgMTQ0IDQ0MCAxNDcgNDE3IGIgMjE2IDMyOCAxNjMgMzQ0IDE3OSAzMjggYiAyODAgMzkxIDI1MyAzMjggMjY5IDM0NCBiIDI4OCA0NjMgMjg1IDQxNyAyODggNDQwIGIgMjgwIDUzNSAyODggNDg1IDI4NSA1MDkgYiAyMjcgNjE0IDI2OSA1OTQgMjU4IDYxMCBtIDIzNiAtMSBsIDIzOCAtMSBsIDIzNSAtMSBsIDIzNiAtMSBtIDIzNiA2NzMgbCAyMzggNjczIGwgMjM1IDY3MyBsIDIzNiA2NzMgXCJ9LHZhOnt4X21pbjotMTQ5LjcxODc1LHhfbWF4OjE0OC4zNTkzNzUsaGE6MTUxLG86XCJtIC04IC0xIGIgLTEgMCAtNSAtMSAtNCAwIGIgMTYgLTExIDUgMCAxMyAtNCBiIDgzIC0xODYgMTcgLTEyIDQ3IC05MCBsIDE0OCAtMzU4IGwgMTQ4IC0zNjMgYiAxMjcgLTM4NSAxNDggLTM3NiAxMzggLTM4NSBiIDExMiAtMzc4IDEyMiAtMzg1IDExOCAtMzgzIGIgNTQgLTIyNiAxMTAgLTM3NCAxMTQgLTM4NSBiIDAgLTgxIDI0IC0xNDcgMCAtODEgYiAtNTUgLTIyNiAtMSAtODEgLTI1IC0xNDcgYiAtMTE0IC0zNzggLTExNSAtMzg1IC0xMTEgLTM3NCBiIC0xMjkgLTM4NSAtMTE5IC0zODMgLTEyMyAtMzg1IGIgLTE0OSAtMzYzIC0xNDAgLTM4NSAtMTQ5IC0zNzYgbCAtMTQ5IC0zNTggbCAtODQgLTE4NiBiIC0xOSAtMTEgLTQ5IC05MCAtMTkgLTEyIGIgLTggLTEgLTE3IC04IC0xMiAtNCBcIn0sdmI6e3hfbWluOjAseF9tYXg6NDI4Ljc1LGhhOjQzOCxvOlwibSAyNjIgMTg2IGIgMjczIDE4NiAyNjYgMTg2IDI3MiAxODYgYiAyNzQgMTg2IDI3MyAxODYgMjc0IDE4NiBiIDI4NSAxODYgMjc0IDE4NiAyODAgMTg2IGIgNDI4IDQ4IDM3NSAxODEgNDI4IDEyMiBiIDM4NiAtNjggNDI4IDEyIDQxNiAtMjkgYiAxNTUgLTE4NyAzMjkgLTE0NSAyMzYgLTE4NyBiIDEyIC0xMTEgOTIgLTE4NyAzOCAtMTYyIGIgMCAtNTEgNCAtOTEgMCAtNzIgYiAyNjIgMTg2IDAgNTggMTIyIDE3OSBcIn0sdmM6e3hfbWluOjAseF9tYXg6NDQ3LjgxMjUsaGE6NDU3LG86XCJtIDAgODYgbCAwIDE3MyBsIDIyMyAxNzMgbCA0NDcgMTczIGwgNDQ3IDg2IGwgNDQ3IDAgbCAyMjMgMCBsIDAgMCBsIDAgODYgXCJ9LHZmOnt4X21pbjowLHhfbWF4OjM3MC4yMTg3NSxoYTozNzgsbzpcIm0gMCAwIGwgMCAyNzcgbCA2MSAyNzcgbCAxMjIgMjc3IGwgMTIyIDAgbCAxMjIgLTI3OCBsIDYxIC0yNzggbCAwIC0yNzggbCAwIDAgbSAyNDYgLTEgbCAyNDYgMjc3IGwgMzA4IDI3NyBsIDM3MCAyNzcgbCAzNzAgLTEgbCAzNzAgLTI3OCBsIDMwOCAtMjc4IGwgMjQ2IC0yNzggbCAyNDYgLTEgXCJ9LHYxMDp7eF9taW46MCx4X21heDo1NTkuNDIxODc1LGhhOjU3MSxvOlwibSA1IDEyNyBiIDE0IDEyNyA2IDEyNyA5IDEyNyBiIDUxIDEyNiAyNSAxMjcgNDMgMTI3IGIgMTc1IDk4IDkzIDEyMiAxMzggMTEyIGwgMTg2IDk0IGIgMjc5IDUxIDIxMCA4NiAyNTUgNjUgYiAyODUgNDcgMjgwIDUxIDI4MyA0OCBiIDMxOSAyNyAyOTEgNDQgMzExIDMxIGwgMzI2IDIyIGIgMzU5IDAgMzMyIDE5IDM1MiA0IGwgMzY3IC02IGIgMzcxIC05IDM2OCAtNiAzNzAgLTggbCAzNzkgLTE1IGIgMzg3IC0yMiAzODMgLTE4IDM4NiAtMjAgbCAzOTggLTMwIGwgNDExIC00MCBsIDQxNyAtNDcgbCA0MjcgLTU1IGwgNDM0IC02MSBiIDQ0MSAtNjYgNDM2IC02MiA0MzkgLTY1IGwgNDQ2IC03MiBsIDQ1MyAtNzcgbCA0NjIgLTg3IGIgNTU4IC0xODggNDkwIC0xMTMgNTQ5IC0xNzYgYiA1NTkgLTE5NSA1NTkgLTE5MSA1NTkgLTE5NCBiIDU0OCAtMjA1IDU1OSAtMjAxIDU1NSAtMjA1IGIgNTQxIC0yMDQgNTQ3IC0yMDUgNTQ0IC0yMDUgYiA1MzQgLTE5OCA1MzkgLTIwMSA1MzYgLTE5OSBsIDUyNSAtMTkxIGIgNDgxIC0xNjIgNTE4IC0xODcgNDkwIC0xNjcgYiA0NzIgLTE1NSA0NzcgLTE1OSA0NzIgLTE1NiBiIDQ2OCAtMTUyIDQ3MCAtMTU1IDQ2OSAtMTU0IGIgNDYxIC0xNDkgNDY2IC0xNTIgNDY0IC0xNTEgYiA0MjggLTEzMCA0NTQgLTE0NSA0NDEgLTEzNyBiIDM3MSAtOTkgNDEzIC0xMjIgMzcyIC05OSBiIDM2MyAtOTUgMzcxIC05OSAzNjcgLTk4IGIgMzUzIC05MSAzNTcgLTk0IDM1MyAtOTEgYiAzNDggLTkwIDM1MyAtOTEgMzUyIC05MSBiIDMzMiAtODEgMzQzIC04NyAzNDEgLTg2IGIgMjcgLTEyIDIzMCAtMzcgMTI3IC0xMyBiIDAgLTUgNCAtMTEgMiAtMTEgYiAwIDU4IDAgLTIgMCAyNyBiIDAgMTIyIDAgODggMCAxMjAgYiA1IDEyNyAxIDEyNCA0IDEyNiBcIn0sdjExOnt4X21pbjotMTU1LjE3MTg3NSx4X21heDoxNTMuODEyNSxoYToxNTcsbzpcIm0gLTEzNyAzNTMgYiAtMTMwIDM1MyAtMTM2IDM1MyAtMTMzIDM1MyBiIC0xMTIgMzQ5IC0xMjUgMzUzIC0xMTkgMzUyIGIgLTEwMCAzNDIgLTExMCAzNDcgLTEwNCAzNDQgYiAwIDMxNyAtNjkgMzI2IC0zNSAzMTcgYiAxMTEgMzQ5IDM4IDMxNyA3NiAzMjggYiAxMjkgMzUzIDExNyAzNTIgMTIzIDM1MyBiIDE1MyAzMjcgMTQyIDM1MyAxNTMgMzQ0IGIgMTQ0IDMwMiAxNTMgMzIwIDE1MyAzMTcgYiAyNyA2IDkzIDIyNiA1MCAxMTMgYiAyMSAtMTMgMjQgLTExIDI0IC0xMSBiIDAgLTI2IDE3IC0yMiA4IC0yNiBiIC0yNCAtMTIgLTkgLTI2IC0xOSAtMjIgYiAtMjggNSAtMjQgLTkgLTI3IC0yIGIgLTE0NSAzMDIgLTUzIDExNyAtOTUgMjI0IGIgLTE1NSAzMjcgLTE1NSAzMTcgLTE1NSAzMjAgYiAtMTM3IDM1MyAtMTU1IDM0MCAtMTQ4IDM0OSBcIn0sdjE4Ont4X21pbjowLHhfbWF4OjMyMy45Mzc1LGhhOjMzMSxvOlwibSAyMTcgNTM1IGIgMjI1IDUzNyAyMjAgNTM3IDIyMSA1MzcgYiAyNDUgNTI0IDIzNSA1MzcgMjQyIDUzMyBsIDI0NiA1MjEgbCAyNDcgMzkwIGwgMjQ3IDI1OCBsIDI3MyAyNjUgYiAzMDYgMjcwIDI4OCAyNjkgMjk5IDI3MCBiIDMyMiAyNTkgMzE1IDI3MCAzMTkgMjY3IGIgMzIzIDIwOCAzMjMgMjU2IDMyMyAyMzMgYiAzMjIgMTU4IDMyMyAxODQgMzIzIDE1OSBiIDI4OCAxNDAgMzE4IDE0OCAzMTUgMTQ3IGIgMjQ3IDEzMCAyNTQgMTMxIDI0NyAxMzAgYiAyNDcgNjUgMjQ3IDEzMCAyNDcgMTA0IGIgMjQ3IDIwIDI0NyA1MSAyNDcgMzYgbCAyNDcgLTg4IGwgMjczIC04MSBiIDMwNiAtNzYgMjg5IC03NyAyOTkgLTc2IGIgMzE4IC04MSAzMTEgLTc2IDMxNSAtNzcgYiAzMjMgLTEyMyAzMjMgLTg3IDMyMyAtODYgbCAzMjMgLTEzOCBsIDMyMyAtMTU0IGIgMzE4IC0xOTUgMzIzIC0xOTEgMzIzIC0xOTAgYiAyNjkgLTIxMCAzMTQgLTE5OSAzMTUgLTE5OSBiIDI0OSAtMjE2IDI1OSAtMjEzIDI1MCAtMjE2IGwgMjQ3IC0yMTYgbCAyNDcgLTM0OSBsIDI0NiAtNDgzIGwgMjQ1IC00ODcgYiAyMjUgLTQ5OSAyNDIgLTQ5NSAyMzQgLTQ5OSBiIDIwNiAtNDg3IDIxOSAtNDk5IDIxMCAtNDk1IGwgMjA1IC00ODMgbCAyMDUgLTM1NSBsIDIwNSAtMjI3IGwgMjA0IC0yMjcgbCAxODEgLTIzMyBsIDEzOCAtMjQ0IGIgMTE3IC0yNDkgMTI3IC0yNDcgMTE3IC0yNDkgYiAxMTUgLTM4NSAxMTUgLTI0OSAxMTUgLTI1NiBsIDExNSAtNTIzIGwgMTE0IC01MjYgYiA5NSAtNTM4IDExMCAtNTM0IDEwMiAtNTM4IGIgNzQgLTUyNiA4NyAtNTM4IDc4IC01MzQgbCA3MyAtNTIzIGwgNzMgLTM5MSBiIDcyIC0yNjAgNzMgLTI2OSA3MyAtMjYwIGIgNzIgLTI2MCA3MiAtMjYwIDcyIC0yNjAgYiAxOSAtMjczIDYxIC0yNjMgMjMgLTI3MyBiIDAgLTI2MCAxMCAtMjczIDQgLTI2NyBiIDAgLTIwOSAwIC0yNTYgMCAtMjU2IGwgMCAtMTYyIGwgMSAtMTU4IGIgNjEgLTEzNCA1IC0xNDggNSAtMTQ4IGwgNzMgLTEzMSBsIDczIC0yMiBiIDcyIDg2IDczIDc5IDczIDg2IGIgNzIgODYgNzIgODYgNzIgODYgYiAxOSA3NCA2MSA4MyAyMyA3NCBiIDAgODYgMTAgNzQgNCA3OSBiIDAgMTM3IDAgOTAgMCA5MCBsIDAgMTg0IGwgMSAxODggYiA2MSAyMTIgNSAxOTggNSAxOTggbCA3MyAyMTUgbCA3MyAzNDggbCA3MyA0ODEgbCA3NCA0ODUgYiA5NSA0OTggNzggNDkyIDg3IDQ5OCBiIDEwMyA0OTUgOTggNDk4IDEwMCA0OTYgYiAxMTQgNDg1IDEwNyA0OTQgMTExIDQ4OSBsIDExNSA0ODEgbCAxMTUgMzUzIGwgMTE1IDIyNiBsIDEyMSAyMjYgYiAxNTkgMjM1IDEyMyAyMjcgMTQxIDIzMSBsIDE5OCAyNDcgbCAyMDUgMjQ4IGwgMjA1IDM4NCBsIDIwNSA1MjEgbCAyMDYgNTI0IGIgMjE3IDUzNSAyMDkgNTI4IDIxMiA1MzMgbSAyMDUgOSBiIDIwNSAxMTkgMjA1IDcwIDIwNSAxMTkgbCAyMDUgMTE5IGIgMTgyIDExMyAyMDQgMTE5IDE5NCAxMTYgbCAxMzggMTAyIGIgMTE3IDk3IDEyNyA5OSAxMTcgOTcgYiAxMTUgLTEyIDExNSA5NyAxMTUgOTEgbCAxMTUgLTEyMiBsIDEyMSAtMTIwIGIgMTU5IC0xMTEgMTIzIC0xMTkgMTQxIC0xMTUgbCAxOTggLTEwMSBsIDIwNSAtOTggbCAyMDUgOSBcIn0sdjFiOnt4X21pbjowLHhfbWF4OjU1OS40MjE4NzUsaGE6NTcxLG86XCJtIDU0NCAyMDQgYiA1NDggMjA0IDU0NSAyMDQgNTQ3IDIwNCBiIDU1OSAxOTQgNTU1IDIwNCA1NTkgMTk5IGIgNTU5IDE5MCA1NTkgMTkyIDU1OSAxOTEgYiA1MzAgMTU2IDU1OSAxODggNTU2IDE4NCBiIDQ2MiA4NiA1MTAgMTM0IDQ4MSAxMDQgYiA0NTMgNzYgNDU4IDgxIDQ1NCA3NyBsIDQ0NiA3MCBsIDQ0MSA2NSBiIDQzNCA1OSA0MzkgNjMgNDM2IDYxIGwgNDI3IDU0IGIgNDA5IDM3IDQyNiA1MSA0MTYgNDQgYiAzOTIgMjMgMzk4IDI5IDM5NCAyNiBiIDM4NyAxOSAzODkgMjIgMzg3IDIwIGIgMzc5IDEzIDM4NiAxOSAzODMgMTYgbCAzNzEgOCBsIDM2NyA1IGwgMzU5IC0xIGwgMzM3IC0xNiBiIDI4NSAtNDggMzE5IC0yOSAyOTggLTQxIGwgMjc5IC01MiBiIDE4NiAtOTUgMjU1IC02NiAyMTAgLTg3IGwgMTc1IC05OSBiIDIzIC0xMjkgMTI3IC0xMTcgNjggLTEyOSBiIDE3IC0xMjkgMjAgLTEyOSAxOSAtMTI5IGIgMSAtMTIzIDIgLTEyOSAyIC0xMjkgYiAwIC00OSAwIC0xMjIgMCAtODMgYiAwIDQgMCAtMjIgMCAxIGIgMjcgMTEgMiA5IDQgOSBiIDE4NSAzMSA3OCAxMiAxNDUgMjAgYiAxOTggMzQgMTg2IDMxIDE5MyAzMyBiIDMxNCA3MyAyMzQgNDQgMjc3IDU4IGIgMzQ5IDg4IDMyOCA3OSAzNDAgODQgYiAzNTMgOTAgMzUyIDkwIDM1MyA5MCBiIDM2MyA5NCAzNTMgOTAgMzU3IDkzIGIgMzcxIDk4IDM2NyA5NyAzNzEgOTggYiA0MjggMTI5IDM3MiA5OCA0MTMgMTIwIGIgNDYxIDE0OCA0NDEgMTM2IDQ1NCAxNDQgYiA0NjggMTUxIDQ2NCAxNDkgNDY2IDE1MSBiIDQ3MiAxNTQgNDY5IDE1MiA0NzAgMTU0IGIgNDgxIDE2MSA0NzMgMTU1IDQ3NyAxNTggYiA1MjUgMTkwIDQ5MCAxNjYgNTE4IDE4NiBsIDUzNCAxOTcgYiA1NDAgMjAxIDUzNiAxOTggNTM5IDE5OSBiIDU0NCAyMDQgNTQxIDIwMiA1NDQgMjA0IFwifSx2MWQ6e3hfbWluOjAseF9tYXg6NjE5LjMxMjUsaGE6NjMyLG86XCJtIDI3NCAxODQgYiAzMDcgMTg2IDI4NSAxODYgMjk2IDE4NiBiIDYxNiAyMiA0NjUgMTg2IDU5NyAxMTYgYiA2MTkgLTEgNjE3IDEzIDYxOSA1IGIgMzA4IC0xODcgNjE5IC0xMDQgNDgzIC0xODcgYiAwIC0xIDEzMyAtMTg3IDAgLTEwMiBiIDUgMzYgMCAxMSAxIDIzIGIgMjc0IDE4NCAyOSAxMTUgMTQxIDE3NiBtIDI4OSAxNjEgYiAyNzIgMTYyIDI4NCAxNjIgMjc3IDE2MiBiIDE3MSA0MSAyMDkgMTYyIDE3MSAxMDggYiAyMDUgLTczIDE3MSA1IDE4MiAtMzQgYiAzNDUgLTE2MyAyNDMgLTEzMyAyOTggLTE2MyBiIDQzNiAtOTggMzg1IC0xNjMgNDIwIC0xNDIgYiA0NDYgLTQzIDQ0MyAtODAgNDQ2IC02MiBiIDI4OSAxNjEgNDQ2IDQ3IDM3NyAxNDcgXCJ9LHYxZTp7eF9taW46LTQwMi44OTA2MjUseF9tYXg6NDAxLjUzMTI1LGhhOjQxMCxvOlwibSAtMjE5IDE3MyBiIC0yMTMgMTc0IC0yMTcgMTc0IC0yMTUgMTc0IGIgLTIwMiAxNzMgLTIwOSAxNzQgLTIwNSAxNzMgYiAtMTE0IDg2IC0yMDAgMTcyIC0xNzkgMTUxIGIgLTI4IDAgLTY2IDM3IC0yOCAwIGIgNDAgODQgLTI4IDAgMiAzNyBiIDExNyAxNzQgMTExIDE3MyAxMTAgMTcyIGIgMTIyIDE3NCAxMTggMTc0IDExOSAxNzQgYiAxMzIgMTczIDEyNSAxNzQgMTI5IDE3MyBiIDI5NSAxMSAxMzQgMTcyIDE3MSAxMzQgbCAzMDcgLTEgbCAzMzYgMzQgYiAzNzQgNzYgMzY2IDcyIDM2OCA3NCBiIDM4MSA3NyAzNzUgNzcgMzc4IDc3IGIgNDAxIDU2IDM5MiA3NyA0MDEgNjggYiA0MDAgNDggNDAxIDU0IDQwMSA1MSBiIDIyMyAtMTcyIDM5NyA0MSAyMzAgLTE2NiBiIDIxMCAtMTc2IDIyMCAtMTc0IDIxNSAtMTc2IGIgMjAxIC0xNzQgMjA2IC0xNzYgMjA0IC0xNzYgYiAxMTIgLTg3IDE5OCAtMTczIDE3OCAtMTUyIGIgMjcgMCA2NSAtMzggMjcgMCBiIC00MiAtODYgMjcgMCAtNCAtMzggYiAtMTE4IC0xNzQgLTExMiAtMTc0IC0xMTEgLTE3MyBiIC0xMjMgLTE3NiAtMTE5IC0xNzYgLTEyMSAtMTc2IGIgLTEzMyAtMTc0IC0xMjYgLTE3NiAtMTMwIC0xNzQgYiAtMjk2IC0xMiAtMTM2IC0xNzMgLTE3MiAtMTM3IGwgLTMwOCAwIGwgLTMzNyAtMzQgYiAtMzc1IC03NyAtMzY3IC03MyAtMzcwIC03NiBiIC0zODIgLTc5IC0zNzcgLTc5IC0zNzkgLTc5IGIgLTQwMiAtNTggLTM5MyAtNzkgLTQwMiAtNjkgYiAtNDAxIC00OSAtNDAyIC01NSAtNDAyIC01MiBiIC0yMjQgMTcyIC0zOTggLTQzIC0yMjggMTY3IGIgLTIxOSAxNzMgLTIyMyAxNzIgLTIyMCAxNzMgXCJ9LHYxZjp7eF9taW46LTM0MC4yODEyNSx4X21heDozMzguOTIxODc1LGhhOjM0NixvOlwibSAtMzIgNTIwIGIgLTI5IDUyMSAtMzEgNTIwIC0zMSA1MjEgYiAtMjMgNTE5IC0yNyA1MjEgLTI0IDUyMCBiIC0yMCA1MTMgLTIxIDUxNyAtMjAgNTE2IGIgLTIxIDUwNiAtMjAgNTEyIC0yMCA1MDkgYiAtMzEgNDc0IC0yMyA1MDIgLTI3IDQ4OCBsIC01MyA0MDIgbCAtNjYgMzUyIGwgLTY4IDM0OSBsIC01NyAzNDkgYiAtMzIgMzUxIC01MSAzNDkgLTQwIDM1MSBiIDEyMyAzNzAgMTkgMzUyIDc0IDM1OSBiIDEzNyAzNzEgMTI3IDM3MCAxMzMgMzcxIGIgMTcwIDM1NiAxNTIgMzcxIDE2NCAzNjYgYiAxNzEgMzU1IDE3MCAzNTUgMTcwIDM1NSBiIDIxNiAzNjYgMTc0IDM1NSAxODMgMzU4IGIgMjgwIDM3OCAyNjggMzc3IDI2NiAzNzcgYiAyODcgMzc4IDI4MyAzNzggMjg0IDM3OCBiIDMzMiAzNDkgMzA3IDM3OCAzMjIgMzY5IGIgMzM4IDMxOSAzMzYgMzQxIDMzOCAzMzAgYiAzMzIgMzAxIDMzOCAzMTAgMzM2IDMwMiBiIDI0MiAyODAgMzI5IDI5OSAyNDYgMjgwIGIgMjQyIDI4MCAyNDIgMjgwIDI0MiAyODAgYiAyMzUgMjg4IDIzNiAyODAgMjM1IDI4MyBiIDIzNSAyOTIgMjM1IDI5MCAyMzUgMjkxIGIgMjM2IDMwMiAyMzYgMjk3IDIzNiAyOTkgYiAyMjAgMzM3IDIzNiAzMTYgMjMwIDMzMCBsIDIxNiAzNDAgbCAyMTAgMzM1IGIgMTU5IDI3NiAxODkgMzIyIDE3MiAzMDEgYiAxMTggMTQ5IDE1MiAyNjUgMTU2IDI3NCBiIDgxIDM0IDg0IDM2IDg1IDM2IGIgLTggMTMgNzggMzMgLTQgMTMgYiAtOCAxMyAtOCAxMyAtOCAxMyBiIC0xNCAyMCAtMTIgMTUgLTE0IDE1IGIgLTggNDQgLTE0IDI0IC0xMiAzMSBiIC0yIDY2IC01IDU1IC0yIDY1IGIgLTIgNjYgLTIgNjYgLTIgNjYgbCAtMiA2NiBiIC00MyA0MSAtMiA2NiAtMjEgNTUgYiAtMTE0IDQgLTk4IDggLTk4IDggYiAtMTQ0IDAgLTEyMyAwIC0xMzQgMCBiIC0yNDIgOTkgLTE5NyAwIC0yNDIgNDMgYiAtMjQyIDEwOSAtMjQyIDEwMiAtMjQyIDEwNSBiIC0yMTIgMjE5IC0yNDAgMTIyIC0yNDIgMTE2IGIgLTE4NSAzMTIgLTE5NyAyNzAgLTE4NSAzMTIgbCAtMTg1IDMxMiBiIC0xODkgMzEyIC0xODUgMzEyIC0xODYgMzEyIGIgLTI1OSAzMTIgLTIwMCAzMTIgLTIyNyAzMTIgYiAtMzIxIDMxMCAtMjkxIDMxMiAtMzEwIDMxMCBiIC0zMzQgMzEyIC0zMzAgMzEwIC0zMzQgMzEyIGIgLTM0MCAzMTkgLTMzOCAzMTMgLTM0MCAzMTYgYiAtMzM2IDMyNiAtMzQwIDMyMiAtMzM4IDMyNCBiIC0yOTEgMzM3IC0zMzQgMzI2IC0zMTQgMzMxIGwgLTI0NyAzNDcgbCAtMjEwIDM0OCBiIC0xNzIgMzQ4IC0xOTAgMzQ4IC0xNzIgMzQ4IGIgLTE2OCAzNjMgLTE3MiAzNDggLTE3MSAzNTUgYiAtMTQ1IDQ0MiAtMTUxIDQyNCAtMTQ1IDQ0MSBiIC0xMzMgNDUyIC0xNDQgNDQ0IC0xNDAgNDQ2IGwgLTc3IDQ4OSBiIC0zMiA1MjAgLTUzIDUwNiAtMzIgNTIwIG0gNTcgMzM0IGIgNTMgMzM1IDU1IDMzNSA1NCAzMzUgYiA0NCAzMzQgNTAgMzM1IDQ5IDMzNSBiIC03MCAzMTYgOCAzMjYgLTI4IDMyMCBiIC03OCAzMDkgLTc4IDMxNiAtNzggMzE2IGIgLTEwOCAyMDIgLTgwIDMwNSAtODggMjc0IGIgLTE0MSA4MSAtMTM2IDExMiAtMTQxIDkzIGIgLTE0MCA3NCAtMTQxIDc5IC0xNDEgNzcgYiAtMTE3IDQ5IC0xMzcgNTkgLTEyNyA0OSBiIC0xMDcgNTIgLTExNCA0OSAtMTEwIDUxIGIgMTYgMTI3IC0xMDYgNTQgMTQgMTI2IGIgNDIgMjE3IDE2IDEyNyA0MiAyMTUgYiA0OSAyNDEgNDIgMjIyIDQ0IDIyOSBiIDczIDMyMCA1MyAyNTEgNzMgMzE3IGIgNTcgMzM0IDczIDMyNyA2NSAzMzMgXCJ9LHYyMDp7eF9taW46LTU3MS42NzE4NzUseF9tYXg6NTcwLjMxMjUsaGE6NTgyLG86XCJtIC01NTkgMzUxIGIgLTU1MSAzNTIgLTU1NiAzNTIgLTU1MyAzNTIgYiAtNTMwIDMzOCAtNTQzIDM1MiAtNTMzIDM0OCBiIC01MjkgMTY5IC01MzAgMzM3IC01MjkgMjkxIGwgLTUyOSAxIGwgLTUwNyAyNyBsIC00NDEgMTEyIGIgLTM4MiAxNzQgLTM5NCAxNjkgLTM5MCAxNzQgYiAtMzc4IDE3NCAtMzgxIDE3NCAtMzc5IDE3NCBiIC0yODEgODYgLTM3MCAxNzQgLTM3NSAxNzkgYiAtMTk2IDAgLTIzNCAzNyAtMTk2IDAgYiAtMTI2IDg0IC0xOTYgMCAtMTY0IDM3IGIgLTUwIDE3NCAtNTUgMTczIC01NyAxNzIgYiAtNDQgMTc0IC00OSAxNzQgLTQ3IDE3NCBiIC0zNSAxNzMgLTQyIDE3NCAtMzggMTczIGIgNTMgODYgLTMyIDE3MiAtMTIgMTUxIGIgMTM4IDAgMTAwIDM3IDEzOCAwIGIgMjA4IDg0IDE0MCAwIDE3MCAzNyBiIDI4NCAxNzQgMjc5IDE3MyAyNzkgMTcyIGIgMjg5IDE3NCAyODUgMTc0IDI4OCAxNzQgYiAzMDAgMTczIDI5NCAxNzQgMjk4IDE3MyBiIDQ2MiAxMSAzMDMgMTcyIDM0MCAxMzQgbCA0NzUgLTEgbCA1MDMgMzQgYiA1NDEgNzYgNTM0IDcyIDUzNiA3NCBiIDU0OCA3NyA1NDQgNzcgNTQ1IDc3IGIgNTcwIDU2IDU2MCA3NyA1NzAgNjggYiA1NjcgNDggNTcwIDU0IDU2OCA1MSBiIDM5MiAtMTcyIDU2NCA0MSAzOTcgLTE2NiBiIDM3OCAtMTc2IDM4NyAtMTc0IDM4MiAtMTc2IGIgMzY4IC0xNzQgMzc1IC0xNzYgMzcxIC0xNzYgYiAyODAgLTg3IDM2NyAtMTczIDM0NyAtMTUyIGIgMTk0IDAgMjM0IC0zOCAxOTQgMCBiIDEyNiAtODYgMTk0IDAgMTYzIC0zOCBiIDQ5IC0xNzQgNTQgLTE3NCA1NSAtMTczIGIgNDQgLTE3NiA0NyAtMTc2IDQ2IC0xNzYgYiAzNCAtMTc0IDQwIC0xNzYgMzYgLTE3NCBiIC01NCAtODcgMzEgLTE3MyAxMCAtMTUyIGIgLTE0MCAwIC0xMDIgLTM4IC0xNDAgMCBiIC0yMDkgLTg2IC0xNDAgMCAtMTcxIC0zOCBiIC0yODUgLTE3NCAtMjgwIC0xNzQgLTI3OSAtMTczIGIgLTI5MSAtMTc2IC0yODcgLTE3NiAtMjg4IC0xNzYgYiAtMzAwIC0xNzQgLTI5NCAtMTc2IC0yOTggLTE3NCBiIC00NjQgLTExIC0zMDMgLTE3MyAtMzc0IC0xMDIgbCAtNDc2IDAgbCAtNTA2IC0zNyBiIC01MzkgLTc2IC01MjggLTY1IC01MzcgLTc0IGIgLTU1MSAtODAgLTU0MyAtNzkgLTU0NyAtODAgYiAtNTcwIC02OCAtNTU4IC04MCAtNTY2IC03NiBsIC01NzEgLTY1IGwgLTU3MSAxMzYgYiAtNTcwIDM0MCAtNTcxIDMzMSAtNTcxIDMzNyBiIC01NTkgMzUxIC01NjggMzQ0IC01NjQgMzQ4IFwifSx2MjI6e3hfbWluOjAseF9tYXg6NDMyLjgyODEyNSxoYTo0NDIsbzpcIm0gMjA5IDE4NiBiIDIxMyAxODcgMjEwIDE4NyAyMTIgMTg3IGIgMjE2IDE4NyAyMTUgMTg3IDIxNiAxODcgYiAyMjQgMTc0IDIxNiAxODYgMjIwIDE4MCBiIDQyMCAtMSAyNjkgMTA1IDMzOCA0MyBiIDQzMiAtMTIgNDMxIC04IDQzMiAtOSBiIDQyMSAtMjMgNDMyIC0xNSA0MzIgLTE2IGIgMjI4IC0xODAgMzQ1IC03MCAyNjQgLTEzNyBiIDIxOSAtMTg4IDIyMSAtMTg4IDIyMSAtMTg4IGwgMjE5IC0xODggYiAyMDggLTE3NyAyMTUgLTE4OCAyMTUgLTE4OCBiIDEwIDEgMTYzIC0xMDYgOTMgLTQ0IGIgMCAxMSAwIDYgMCA4IGIgMTAgMjIgMCAxMyAwIDE1IGIgMjAyIDE3OSA4NyA2OSAxNjcgMTM2IGIgMjA5IDE4NiAyMDYgMTgzIDIwOSAxODYgXCJ9LHYyMzp7eF9taW46MCx4X21heDoxMzMuMzkwNjI1LGhhOjEzNixvOlwibSA1NCA2NiBiIDY1IDY4IDU4IDY4IDYxIDY4IGIgMTIyIDM3IDg4IDY4IDExMCA1NiBiIDEzMyAtMSAxMzAgMjYgMTMzIDEyIGIgMTA0IC01OCAxMzMgLTIzIDEyMyAtNDQgYiA2NiAtNjkgOTIgLTY1IDc4IC02OSBiIDEwIC0zOCA0NCAtNjkgMjMgLTU4IGIgMCAtMSAyIC0yNyAwIC0xMyBiIDU0IDY2IDAgMzAgMjAgNjEgXCJ9LHYyNTp7eF9taW46MCx4X21heDozMTguNSxoYTozMjUsbzpcIm0gMjAgMzc2IGIgMTY3IDM3NyAyMyAzNzcgOTYgMzc3IGIgMjk2IDM3NiAyMzEgMzc3IDI5NCAzNzcgYiAzMTggMzQ3IDMxMSAzNzEgMzE4IDM1OSBiIDI5NiAzMTYgMzE4IDMzMyAzMTEgMzIwIGIgMTU5IDMxNSAyOTQgMzE1IDIyNyAzMTUgYiAyMSAzMTYgOTEgMzE1IDI0IDMxNSBiIDAgMzQ1IDYgMzIwIDAgMzMzIGIgMjAgMzc2IDAgMzU5IDYgMzcxIFwifSx2MjY6e3hfbWluOi0yMS43ODEyNSx4X21heDo0ODMuMTg3NSxoYTo0OTMsbzpcIm0gLTggNjMxIGIgLTEgNjMyIC02IDYzMiAtNCA2MzIgYiAxOSA2MjAgOCA2MzIgMTYgNjI4IGIgMjAgMzgzIDIwIDYxNiAyMCA2MTYgbCAyMCAxNDggbCAyMSAxNTEgYiAxNDAgMTk5IDU5IDE4MyAxMDIgMTk5IGIgMjA2IDE3OSAxNjQgMTk5IDE4NyAxOTIgbCAyMTAgMTc2IGwgMjEwIDM5NiBsIDIxMCA2MTcgbCAyMTIgNjIxIGIgMjMxIDYzMiAyMTYgNjI4IDIyMyA2MzIgYiAyNTAgNjIwIDIzOSA2MzIgMjQ3IDYyOCBiIDI1MSAzODMgMjUxIDYxNiAyNTEgNjE2IGwgMjUxIDE0OCBsIDI1NCAxNTEgYiAzNzAgMTk5IDI5MSAxODMgMzMyIDE5OSBiIDQxNSAxOTEgMzg1IDE5OSA0MDAgMTk3IGIgNDgzIDg0IDQ1OCAxNzYgNDgzIDEzNCBiIDQ2MSAwIDQ4MyA1OCA0NzYgMjkgYiAzMzIgLTE0MiA0MzkgLTQwIDQxMSAtNzIgbCAyNTUgLTIxNSBiIDIzMSAtMjI5IDI0MCAtMjI5IDIzOSAtMjI5IGIgMjE2IC0yMjMgMjI0IC0yMjkgMjIwIC0yMjcgYiAyMTAgLTE1OCAyMTAgLTIxNyAyMTAgLTIyMyBiIDIxMCAtMTIwIDIxMCAtMTQ4IDIxMCAtMTM2IGwgMjEwIC0yOSBsIDIwNSAtMzQgYiAxMDAgLTE0MiAxODIgLTY1IDE1OSAtODggbCAyMyAtMjE1IGIgLTEgLTIyOSA5IC0yMjkgNiAtMjI5IGIgLTIwIC0yMTYgLTkgLTIyOSAtMTcgLTIyNCBsIC0yMSAtMjEyIGwgLTIxIDIwMSBsIC0yMSA2MTYgbCAtMjAgNjIwIGIgLTggNjMxIC0xNyA2MjQgLTEzIDYzMCBtIDExMCAxMzEgYiA5NiAxMzMgMTA2IDEzMyAxMDAgMTMzIGIgODkgMTMzIDkzIDEzMyA5MSAxMzMgYiAyNCA4NyA2MyAxMjkgNDAgMTEzIGwgMjAgODAgbCAyMCAtMzcgbCAyMCAtMTU2IGwgMjMgLTE1MiBiIDE0NCA4MSA5NiAtNzIgMTQ0IDIwIGwgMTQ0IDgzIGIgMTEwIDEzMSAxNDQgMTEzIDEzNCAxMjYgbSAzNDEgMTMxIGIgMzI4IDEzMyAzMzcgMTMzIDMzMiAxMzMgYiAzMjIgMTMzIDMyNiAxMzMgMzIzIDEzMyBiIDI1NyA4NyAyOTYgMTI5IDI3MyAxMTMgbCAyNTEgODAgbCAyNTEgLTM3IGwgMjUxIC0xNTYgbCAyNTUgLTE1MiBiIDM3NSA4MSAzMjggLTcyIDM3NSAyMCBsIDM3NSA4MyBiIDM0MSAxMzEgMzc1IDExMyAzNjcgMTI2IFwifSx2Mjc6e3hfbWluOjAseF9tYXg6NDMyLjgyODEyNSxoYTo0NDIsbzpcIm0gMjA4IDE4NCBiIDIxMyAxODcgMjA5IDE4NiAyMTIgMTg3IGIgMjI0IDE3NiAyMTcgMTg3IDIyMSAxODMgYiAyNDUgMTQ3IDIyNSAxNzIgMjM1IDE1OSBiIDQxOSAtMSAyODggOTAgMzQ3IDM4IGIgNDMxIC04IDQyNCAtNCA0MzEgLTggYiA0MzIgLTEyIDQzMiAtOSA0MzIgLTExIGIgNDMwIC0xOCA0MzIgLTEzIDQzMiAtMTYgYiAzNjQgLTYxIDQyNCAtMjAgMzgzIC00NyBiIDIyNSAtMTgzIDMwNyAtMTAyIDI1MCAtMTUyIGIgMjIzIC0xODcgMjI0IC0xODQgMjIzIC0xODcgYiAyMjAgLTE4OCAyMjEgLTE4OCAyMjAgLTE4OCBiIDIwOCAtMTc2IDIxNiAtMTg4IDIxMCAtMTg0IGIgMTg3IC0xNDggMjA1IC0xNzMgMTk3IC0xNTkgYiAxMiAwIDE0NCAtOTAgODQgLTM4IGIgMCAxMSA0IDUgMCA4IGIgMTYgMjQgMCAxMyA0IDE4IGIgMTgzIDE1OCA4MyA2OSAxNDEgMTE1IGIgMjA4IDE4NCAxOTQgMTY5IDE5OCAxNzMgbSAxODMgMTA1IGIgMTc2IDExMyAxODEgMTA5IDE3NiAxMTMgYiAxNzIgMTA5IDE3NiAxMTMgMTc1IDExMiBiIDkyIDQ1IDE0OSA5MCAxMTcgNjIgbCA4OCA0MSBsIDEwMiAzMSBiIDI0NyAtMTA1IDE2MCAtNiAyMTAgLTU1IGwgMjU0IC0xMTUgbCAyNTcgLTExMiBsIDI2OSAtMTAyIGIgMzQwIC00NSAyODcgLTg3IDMxOSAtNjEgbCAzNDQgLTQzIGwgMzMwIC0zMyBiIDE4MyAxMDUgMjcyIDYgMjIxIDU0IFwifSx2Mjg6e3hfbWluOi03My41LHhfbWF4OjcyLjE0MDYyNSxoYTo3NCxvOlwibSAtNzIgMjUyIGwgLTczIDI1NCBsIDAgMjU0IGwgNzIgMjU0IGwgNzAgMjUyIGIgMCAtMSA3MCAyNDggMCAtMSBiIC03MiAyNTIgLTEgLTEgLTcyIDI0OCBcIn0sdjI5Ont4X21pbjotNTkwLjcxODc1LHhfbWF4OjU4OS4zNTkzNzUsaGE6NjAxLG86XCJtIDE3NSAyNzMgYiAxODIgMjc0IDE3OCAyNzMgMTgxIDI3NCBiIDIwMiAyNjIgMTkwIDI3NCAxOTggMjY5IGIgMjA0IDE1OCAyMDQgMjU5IDIwNCAyNTkgbCAyMDQgNTYgbCAyNTAgMTEyIGIgMzAzIDE3NCAyOTYgMTcyIDI5OCAxNzIgYiAzMDggMTc0IDMwNCAxNzQgMzA3IDE3NCBiIDMxOCAxNzMgMzEzIDE3NCAzMTcgMTczIGIgNDgxIDExIDMyMiAxNzIgMzU3IDEzNCBsIDQ5NCAtMSBsIDUyMiAzNCBiIDU2MCA3NiA1NTMgNzIgNTU1IDc0IGIgNTY3IDc3IDU2MyA3NyA1NjQgNzcgYiA1ODkgNTYgNTc5IDc3IDU4OSA2OCBiIDU4NiA0OCA1ODkgNTQgNTg4IDUxIGIgNDExIC0xNzIgNTgzIDQxIDQxNiAtMTY2IGIgMzk3IC0xNzYgNDA2IC0xNzQgNDAxIC0xNzYgYiAzODcgLTE3NCAzOTMgLTE3NiAzOTAgLTE3NiBiIDI5OSAtODcgMzg2IC0xNzMgMzY2IC0xNTIgYiAyMTMgMCAyNTMgLTM4IDIxMyAwIGIgMjA4IC02IDIxMyAwIDIxMCAtMiBsIDIwNCAtMTIgbCAyMDQgLTE0NyBiIDIwNCAtMjEwIDIwNCAtMTczIDIwNCAtMTk0IGIgMTk4IC0yOTIgMjA0IC0yOTcgMjA0IC0yODcgYiAxODMgLTI5OSAxOTQgLTI5NyAxODkgLTI5OSBiIDE2NCAtMjg3IDE3NSAtMjk5IDE2NyAtMjk1IGIgMTYzIC0xNzQgMTYzIC0yODQgMTYzIC0yODQgbCAxNjEgLTYzIGwgMTE5IC0xMTcgYiA2NSAtMTc2IDc2IC0xNzAgNzMgLTE3NiBiIDYxIC0xNzYgNjMgLTE3NiA2MiAtMTc2IGIgLTM1IC04NyA1MSAtMTc0IDU3IC0xODAgYiAtMTIxIDAgLTgzIC0zOCAtMTIxIDAgYiAtMTkwIC04NiAtMTIyIDAgLTE1MiAtMzggYiAtMjY2IC0xNzQgLTI2MSAtMTc0IC0yNTkgLTE3MyBiIC0yNzIgLTE3NiAtMjY4IC0xNzYgLTI3MCAtMTc2IGIgLTI4MSAtMTc0IC0yNzYgLTE3NiAtMjgwIC0xNzQgYiAtMzcxIC04NiAtMjg0IC0xNzMgLTMwNCAtMTUyIGIgLTQ1NyAwIC00MTcgLTM4IC00NTcgMCBsIC00NTcgMCBiIC00NzcgLTI2IC00NTcgMCAtNDcwIC0xNiBiIC01NDggLTIyNyAtNTI0IC04OCAtNTQ4IC0xNjEgYiAtNTM2IC0zMDMgLTU0OCAtMjU0IC01NDQgLTI4MCBiIC01MzMgLTMxNyAtNTM0IC0zMDkgLTUzMyAtMzEzIGIgLTU1MyAtMzM4IC01MzMgLTMzMCAtNTQxIC0zMzggYiAtNTc3IC0zMTUgLTU2NiAtMzM4IC01NzEgLTMzMyBiIC01OTAgLTIyNyAtNTg2IC0yODcgLTU5MCAtMjU4IGIgLTUxOCAtOSAtNTkwIC0xNTQgLTU2NCAtNzcgYiAtNDY1IDU2IC01MDkgMiAtNTA0IDggbCAtNDAyIDEzNCBiIC0zNjMgMTc0IC0zNzQgMTcwIC0zNzEgMTc0IGIgLTM1OSAxNzQgLTM2MiAxNzQgLTM2MCAxNzQgYiAtMjYyIDg2IC0zNTEgMTc0IC0zNTYgMTc5IGIgLTE3NiAwIC0yMTYgMzcgLTE3NiAwIGIgLTEwNyA4NCAtMTc2IDAgLTE0NSAzNyBiIC0zMSAxNzQgLTM2IDE3MyAtMzggMTcyIGIgLTI1IDE3NCAtMjkgMTc0IC0yOCAxNzQgYiAtMTYgMTczIC0yMyAxNzQgLTE5IDE3MyBiIDE0NyAxMSAtMTMgMTcyIDM1IDEyMyBsIDE1NyAtMSBsIDE2MCAxIGwgMTYzIDQgbCAxNjMgMTMwIGIgMTY0IDI2MCAxNjMgMjU2IDE2MyAyNTggYiAxNzUgMjczIDE2NiAyNjYgMTcwIDI3MCBcIn0sdjJhOnt4X21pbjotMjEuNzgxMjUseF9tYXg6MzY2LjE0MDYyNSxoYTozNzQsbzpcIm0gMjc2IDEzNzggYiAyODQgMTM3OSAyNzkgMTM3OSAyODEgMTM3OSBiIDMwNiAxMzYwIDI5MiAxMzc5IDI5OCAxMzc0IGIgMzUyIDEyNDcgMzI2IDEzMjYgMzQzIDEyODYgYiAzNjYgMTEzOSAzNjIgMTIxMyAzNjYgMTE3NSBiIDM0NyAxMDA5IDM2NiAxMDkzIDM1OSAxMDQ5IGwgMzQ0IDEwMDIgbCAzNDcgOTkyIGIgMzUyIDk3MSAzNDggOTg2IDM1MSA5NzcgYiAzNjYgODYzIDM2MiA5MzYgMzY2IDg5OSBiIDM0NyA3MzIgMzY2IDgxOCAzNTkgNzczIGwgMzQ0IDcyNSBsIDM0NyA3MTYgYiAzNTIgNjk1IDM0OCA3MTAgMzUxIDcwMCBiIDM2NiA1ODggMzYyIDY1OSAzNjYgNjIzIGIgMjIzIDI2MiAzNjYgNDY0IDMxNCAzNDUgYiAxODkgMjMzIDIxMiAyNTIgMjEyIDI1MiBiIDM1IDc2IDEyNiAxODMgNzMgMTI5IGIgLTEgMTYgMjAgNTYgMiAyNyBiIC0xOSA0IC00IDkgLTEyIDQgbCAtMjEgNCBsIC0yMSAxMzcgbCAtMjEgMjcwIGwgLTE3IDI3MCBiIDE4NiAzNDQgNTkgMjgxIDEzNCAzMDggYiAzMTkgNjA2IDI3MCAzOTkgMzE5IDQ5OSBiIDMxNyA2NTAgMzE5IDYyMCAzMTkgNjM1IGwgMzE1IDY1OSBsIDMxNCA2NTUgYiAyMjMgNTM3IDI4OCA2MDcgMjU4IDU3MCBiIDE4OSA1MDkgMjEyIDUyOCAyMTIgNTI4IGIgMzUgMzUyIDEyNiA0NTkgNzMgNDA1IGIgLTEgMjkyIDIwIDMzMyAyIDMwMyBiIC0xOSAyODAgLTQgMjg1IC0xMiAyODAgbCAtMjEgMjgwIGwgLTIxIDQxMyBsIC0yMSA1NDYgbCAtMTcgNTQ2IGIgMTg2IDYyMCA1OSA1NTcgMTM0IDU4NCBiIDMxOSA4ODIgMjcwIDY3NSAzMTkgNzc1IGIgMzE3IDkyNSAzMTkgODk2IDMxOSA5MTEgbCAzMTUgOTM1IGwgMzE0IDkzMSBiIDIyMyA4MTMgMjg4IDg4NCAyNTggODQ2IGIgMTg5IDc4NSAyMTIgODA1IDIxMiA4MDUgYiAzNSA2MjggMTI2IDczNSA3MyA2ODEgYiAtMSA1NjkgMjAgNjA5IDIgNTgwIGIgLTE5IDU1NiAtNCA1NjIgLTEyIDU1NiBsIC0yMSA1NTYgbCAtMjEgNjg5IGwgLTIxIDgyMyBsIC0xNyA4MjMgYiAyMDIgOTA3IDY4IDgzNSAxNTIgODY3IGIgMzE5IDExNTcgMjgwIDk2OCAzMTkgMTA2MSBiIDI3MCAxMzM4IDMxOSAxMjE4IDMwMyAxMjgxIGIgMjYyIDEzNTggMjY0IDEzNDkgMjYyIDEzNTMgYiAyNjIgMTM2NCAyNjIgMTM2MCAyNjIgMTM2MyBiIDI3NiAxMzc4IDI2NSAxMzcxIDI2OSAxMzc2IFwifSx2MmM6e3hfbWluOi01OTcuNTMxMjUseF9tYXg6NTk2LjE3MTg3NSxoYTo2MDgsbzpcIm0gLTQxMyAxNzMgYiAtNDA4IDE3NCAtNDEyIDE3NCAtNDA5IDE3NCBiIC0zOTcgMTczIC00MDQgMTc0IC00MDAgMTczIGIgLTMwOCA4NiAtMzk0IDE3MiAtMzc0IDE1MSBiIC0yMjMgMCAtMjYxIDM3IC0yMjMgMCBiIC0xNTMgODQgLTIyMyAwIC0xOTEgMzcgYiAtNzcgMTc0IC04MyAxNzMgLTg0IDE3MiBiIC03MiAxNzQgLTc2IDE3NCAtNzQgMTc0IGIgLTYyIDE3MyAtNjggMTc0IC02MyAxNzMgYiAyNSA4NiAtNTkgMTcyIC0zOSAxNTEgYiAxMTIgMCA3MyAzNyAxMTEgMCBiIDE4MSA4NCAxMTIgMCAxNDQgMzcgYiAyNTcgMTc0IDI1MSAxNzMgMjUxIDE3MiBiIDI2MiAxNzQgMjU4IDE3NCAyNjEgMTc0IGIgMjczIDE3MyAyNjYgMTc0IDI3MCAxNzMgYiA0MzYgOSAyNzYgMTcyIDM0NyAxMDEgbCA0NDcgLTEgbCA0NzcgMzYgYiA1MjIgNzkgNTExIDc5IDUxMyA3OSBsIDUyMiA3OSBiIDU1MiA1MSA1MzMgNzkgNTM5IDczIGIgNTk2IC0xMTIgNTgyIDYgNTk2IC01MSBiIDU2NyAtMjYyIDU5NiAtMTYxIDU4NiAtMjEzIGIgNTM5IC0zMjIgNTU4IC0yODcgNTQ0IC0zMTYgYiA1MjQgLTMyNyA1MzQgLTMyNiA1MjkgLTMyNyBiIDUwNCAtMzE1IDUxNSAtMzI3IDUwNyAtMzIzIGIgNTAzIC0zMDggNTAzIC0zMTIgNTAzIC0zMDkgYiA1MTEgLTI4NSA1MDMgLTMwMiA1MDQgLTI5NyBiIDU1NSAtMTEzIDU0MCAtMjI3IDU1NSAtMTY5IGIgNTQ0IC0zNCA1NTUgLTg2IDU1MSAtNTkgYiA1MjIgMTkgNTQwIC0xNiA1MzAgOCBsIDUyMSAyMiBsIDQ4MSAtMjYgbCA0MDUgLTEyMiBiIDM1MyAtMTc2IDM2NiAtMTcyIDM2MiAtMTc2IGIgMzQ5IC0xNzYgMzUyIC0xNzYgMzUxIC0xNzYgYiAyNTMgLTg3IDM0MSAtMTc2IDM0NyAtMTgwIGIgMTY3IDAgMjA2IC0zOCAxNjcgMCBiIDk5IC04NiAxNjcgMCAxMzYgLTM4IGIgMjEgLTE3NCAyNyAtMTc0IDI4IC0xNzMgYiAxNyAtMTc2IDIwIC0xNzYgMTkgLTE3NiBiIDYgLTE3NCAxMyAtMTc2IDkgLTE3NCBiIC04MSAtODcgNCAtMTczIC0xNCAtMTUyIGIgLTE2NyAwIC0xMjkgLTM4IC0xNjcgMCBiIC0yMzYgLTg2IC0xNjcgMCAtMTk4IC0zOCBiIC0zMTMgLTE3NCAtMzA3IC0xNzQgLTMwNiAtMTczIGIgLTMxOCAtMTc2IC0zMTQgLTE3NiAtMzE1IC0xNzYgYiAtMzI4IC0xNzQgLTMyMSAtMTc2IC0zMjUgLTE3NCBiIC00OTEgLTEyIC0zMzAgLTE3MyAtMzY3IC0xMzcgbCAtNTAzIDAgbCAtNTMwIC0zNCBiIC01NzAgLTc3IC01NjIgLTczIC01NjQgLTc2IGIgLTU3NyAtNzkgLTU3MSAtNzkgLTU3NCAtNzkgYiAtNTk3IC01OCAtNTg4IC03OSAtNTk3IC02OSBiIC01OTYgLTQ5IC01OTcgLTU1IC01OTcgLTUyIGIgLTQxNyAxNzIgLTU5MyAtNDMgLTQyMyAxNjcgYiAtNDEzIDE3MyAtNDE3IDE3MiAtNDE1IDE3MyBcIn0sdjJkOnt4X21pbjowLHhfbWF4OjQzOC4yODEyNSxoYTo0NDcsbzpcIm0gMjEyIDE5MCBiIDIxOSAxOTEgMjEzIDE5MSAyMTYgMTkxIGIgMjM2IDE3NiAyMjUgMTkxIDIyOCAxOTAgYiA0MTkgMTggMjc3IDEwNSAzNDEgNDkgYiA0MzYgNSA0MzEgMTMgNDM0IDExIGIgNDM4IC0xIDQzOCA0IDQzOCAxIGIgNDI0IC0xNiA0MzggLTggNDMyIC0xMyBiIDM1NiAtNDkgNDA5IC0yMCAzNzkgLTM2IGIgMjM0IC0xODAgMzA2IC04MyAyNTggLTEzMyBiIDIxOSAtMTkyIDIzMCAtMTg4IDIyNCAtMTkyIGIgMjAwIC0xNzYgMjEzIC0xOTIgMjA2IC0xODcgYiA5IC0xNSAxNTcgLTEwMiA4OSAtNDUgYiAwIDAgMiAtMTIgMCAtNiBiIDE2IDE4IDAgOSAyIDEyIGIgMjAwIDE3NiA5MyA0OCAxNTkgMTA0IGIgMjEyIDE5MCAyMDUgMTg2IDIwOCAxODggbSAyMzkgMTEzIGIgMjM2IDExNyAyMzggMTE2IDIzOCAxMTcgYiAyMzAgMTA4IDIzNSAxMTcgMjM0IDExNSBiIDkyIC0xNSAxOTYgNTggMTQwIDggYiA4OCAtMTggOTEgLTE2IDg4IC0xOCBiIDkyIC0yMCA4OCAtMTggOTEgLTE5IGIgMTk4IC0xMTYgMTMwIC00MyAxNjYgLTc0IGIgMjAwIC0xMTcgMjAwIC0xMTcgMjAwIC0xMTcgYiAyMDEgLTExNyAyMDAgLTExNyAyMDEgLTExNyBiIDI2NCAtNDMgMjEyIC05OCAyNDIgLTYyIGIgMzQ1IDE1IDI4OCAtMTkgMzIxIDQgYiAzNDggMTggMzQ3IDE2IDM0OCAxNiBiIDM0NCAyMCAzNDggMTggMzQ3IDE5IGIgMjM5IDExMyAzMDcgNDEgMjY2IDc5IFwifSx2MmY6e3hfbWluOi0xLjM1OTM3NSx4X21heDo2ODAuNTYyNSxoYTo2OTQsbzpcIm0gNTk3IDEwNDIgYiA2MDQgMTA0MiA2MDAgMTA0MiA2MDIgMTA0MiBiIDY0MiAxMDAyIDYyNyAxMDQyIDY0MiAxMDIyIGIgNjE5IDk2NiA2NDIgOTg4IDYzNSA5NzQgYiA0MzkgOTI3IDU3NCA5NDIgNTAzIDkyNyBsIDQyNiA5MjcgbCA0MjYgOTIxIGIgNDMwIDgzOCA0MjggODkzIDQzMCA4NjYgYiAzNDUgNDgwIDQzMCA2OTYgMzk4IDU2MCBiIDE3OSAzOTEgMzA3IDQyMyAyNDkgMzkxIGIgMTU2IDM5MiAxNzEgMzkxIDE2NCAzOTIgYiAxMzggMzk0IDE0OSAzOTQgMTQyIDM5NCBiIDEwMyA0MzQgMTE1IDM5NiAxMDMgNDE2IGIgMTI5IDQ3MSAxMDMgNDUxIDExMSA0NjYgYiAxNDEgNDc0IDEzMyA0NzMgMTM3IDQ3NCBiIDE3MiA0NTkgMTUzIDQ3NCAxNjQgNDY5IGIgMTgxIDQ1NSAxNzUgNDU2IDE3NiA0NTUgYiAxODcgNDU2IDE4MiA0NTUgMTg1IDQ1NSBiIDI1MyA1MjAgMjEyIDQ2MCAyMzQgNDgzIGIgMzE1IDgzNiAyOTQgNjA1IDMxNSA3MTQgYiAzMTEgOTI4IDMxNSA4NjcgMzE0IDg5OCBiIDMwMiA5NDUgMzEwIDk0MyAzMTEgOTQyIGIgMjQ1IDk1MyAyODMgOTUwIDI2MiA5NTMgYiAxMzAgODkxIDE5MyA5NTMgMTQ5IDkzMSBiIDg0IDg2MCAxMTkgODcwIDEwMiA4NjAgYiAzNiA5MDUgNjEgODYwIDM5IDg3NyBiIDM2IDkxMCAzNiA5MDcgMzYgOTA5IGIgODAgOTcwIDM2IDkzMSA1MCA5NDkgYiAyNDkgMTAxNyAxMjUgMTAwMCAxODcgMTAxNyBiIDMyMiAxMDA5IDI3MyAxMDE3IDI5OSAxMDE0IGwgMzQxIDEwMDMgYiA0MzYgOTkxIDM3MiA5OTUgNDA2IDk5MSBiIDU3NyAxMDMxIDQ5NSA5OTEgNTQ1IDEwMDQgYiA1OTcgMTA0MiA1ODMgMTAzOCA1OTAgMTA0MSBtIDQxNiAzNjAgYiA0MjQgMzYwIDQxOSAzNjAgNDIxIDM2MCBiIDQ4MSAzMDkgNDU0IDM2MCA0NzkgMzM4IGIgNTAzIDE0NSA0ODQgMjgwIDQ5NSAxOTkgYiA1ODUgLTE4NSA1MjUgMTYgNTU1IC0xMDYgYiA2MzAgLTI0NSA1OTYgLTIxMyA2MTMgLTIzNyBsIDYzNCAtMjQ3IGwgNjM4IC0yNDUgYiA2NDcgLTI0NCA2NDEgLTI0NSA2NDUgLTI0NCBiIDY4MCAtMjc4IDY2NiAtMjQ0IDY4MCAtMjYyIGIgNjY0IC0zMDggNjgwIC0yOTAgNjc1IC0zMDEgYiA2MzggLTMxMiA2NTggLTMxMCA2NTAgLTMxMiBiIDYxMyAtMzA5IDYzMSAtMzEyIDYyMyAtMzEwIGIgNDc3IC0yMDEgNTU1IC0zMDMgNTAyIC0yNjAgYiA0MTcgLTIgNDYwIC0xNTkgNDM0IC03MiBiIDQxNiA1IDQxNyAxIDQxNiA1IGIgNDE2IDUgNDE2IDUgNDE2IDUgYiA0MTEgLTUgNDE1IDUgNDEzIDAgYiAzNTkgLTk3IDM5NyAtMzMgMzc3IC03MCBiIDM1MyAtMTA2IDM1NSAtMTAyIDM1MyAtMTA1IGIgMzU5IC0xMTIgMzUzIC0xMDggMzU1IC0xMDkgYiA0MDkgLTEzMCAzNzUgLTEyMyAzOTAgLTEyOSBiIDQyNiAtMTM0IDQyMCAtMTMwIDQyMSAtMTMxIGIgNDMxIC0xNDcgNDI4IC0xMzcgNDMxIC0xNDEgYiA0MjAgLTE2MiA0MzEgLTE1MiA0MjcgLTE1OSBiIDM4MiAtMTY5IDQwOSAtMTY2IDM5NiAtMTY5IGIgMzIzIC0xNTUgMzYzIC0xNjkgMzQxIC0xNjUgbCAzMTcgLTE1MiBsIDMxNCAtMTU1IGIgNjIgLTMwMyAyNDAgLTI0MCAxNDggLTI5NSBiIDM2IC0zMDUgNTUgLTMwNSA0NCAtMzA1IGIgMjMgLTMwMyAyOSAtMzA1IDI0IC0zMDUgYiAtMSAtMjczIDYgLTI5OSAtMSAtMjg3IGIgMzEgLTI0MCAtMSAtMjU2IDEwIC0yNDAgYiAzNiAtMjQwIDMyIC0yNDAgMzQgLTI0MCBiIDQyIC0yNDEgMzggLTI0MSAzOSAtMjQxIGIgMTM0IC0yMDQgNjMgLTI0MSA5OSAtMjI2IGIgMzY3IDI4OCAyNjUgLTExNSAzNTcgODEgYiAzNzUgMzMwIDM2OCAzMTMgMzcwIDMyMCBiIDQxNiAzNjAgMzgzIDM0NyA0MDAgMzU4IG0gMzYwIC0zNTkgYiAzNzkgLTM1OSAzNjMgLTM1OSAzNzEgLTM1OSBiIDQyNCAtMzYwIDM5NiAtMzU5IDQxNiAtMzU5IGIgNjQ2IC01MDIgNTM2IC0zNzMgNjI0IC00MzAgYiA2NDkgLTUyNyA2NDkgLTUxMCA2NDkgLTUxOSBiIDUzMCAtNjczIDY0OSAtNTc4IDYwNCAtNjM1IGwgNTIxIC02NzcgbCA1MjkgLTY4MSBiIDY1MyAtODExIDU5MiAtNzE0IDYzNyAtNzYyIGIgNjYwIC04NTMgNjU4IC04MjcgNjYwIC04MzkgYiA2NDUgLTkxMSA2NjAgLTg3MyA2NTYgLTg5MiBiIDQyNiAtMTAyMSA2MDggLTk4MSA1MTkgLTEwMjEgYiAyODMgLTk4OSAzNzcgLTEwMjEgMzI4IC0xMDExIGIgMjM1IC05NDkgMjQ5IC05NzIgMjM5IC05NjQgYiAyMzQgLTkzNiAyMzQgLTk0NiAyMzQgLTk0MSBiIDIzNCAtOTI4IDIzNCAtOTM0IDIzNCAtOTMxIGwgMjM1IC05MjUgbCAyMzQgLTkyNyBsIDIyNSAtOTM0IGIgODcgLTk4MiAxODYgLTk2NiAxMzggLTk4MiBiIDgwIC05ODIgODUgLTk4MiA4MyAtOTgyIGIgNTUgLTk4MSA3MCAtOTgxIDU4IC05ODEgYiAxNyAtOTQzIDMyIC05ODEgMTcgLTk2NCBiIDU0IC05MDQgMTcgLTkyMSAzNSAtOTA0IGIgNzggLTkxNCA2MiAtOTA0IDcyIC05MDkgbCA4MyAtOTE4IGwgODggLTkxOCBiIDE5MCAtODMxIDEyMiAtOTE4IDE2NiAtODgxIGIgMjY5IC01MDYgMjQyIC03MjcgMjY5IC02MTIgYiAyNjggLTQ2MiAyNjkgLTQ5MiAyNjkgLTQ3NyBiIDI2NiAtNDQ5IDI2NiAtNDU4IDI2NiAtNDUyIGIgMjY1IC00NDQgMjY2IC00NDUgMjY2IC00NDQgYiAyNTcgLTQ0NiAyNjQgLTQ0NCAyNjEgLTQ0NSBiIDEzMiAtNTQ1IDE5NiAtNDcwIDE1MiAtNTA1IGIgODggLTU3MyAxMjIgLTU2MyAxMDQgLTU3MyBiIDM5IC01MjMgNjMgLTU3MyAzOSAtNTUzIGIgNjMgLTQ3NiAzOSAtNTA1IDQ0IC00OTQgYiAzNjAgLTM1OSAxMzYgLTQwOCAyMzUgLTM2OSBtIDQxOSAtNDI0IGIgMzkzIC00MjMgNDExIC00MjMgNDA2IC00MjMgbCAzNzUgLTQyMyBsIDM3NyAtNDI2IGIgMzc5IC00MzkgMzc3IC00MjcgMzc4IC00MzQgYiAzODMgLTUxMCAzODIgLTQ2MyAzODMgLTQ4NyBiIDMxNCAtODExIDM4MyAtNjA5IDM2MCAtNzEwIGIgMjY2IC04OTMgMjk2IC04NTAgMjg1IC04NzAgYiAyNjQgLTg5OCAyNjUgLTg5NiAyNjQgLTg5OCBsIDI2NCAtODk4IGIgMjY0IC04OTggMjY0IC04OTggMjY0IC04OTggYiAyNjggLTg5OCAyNjQgLTg5OCAyNjYgLTg5OCBiIDI3MyAtODk4IDI3MCAtODk4IDI3MiAtODk4IGIgMzAwIC05MDkgMjgzIC04OTggMjkxIC05MDAgYiA0MjYgLTk1NyAzNDAgLTk0MSAzODUgLTk1NyBiIDQ3NiAtOTQ5IDQ0MyAtOTU3IDQ2MCAtOTU0IGIgNTQ3IC04NTMgNTIyIC05MzEgNTQ3IC04OTMgYiA0ODUgLTc0NSA1NDcgLTgxNiA1MjYgLTc3NSBiIDM5NyAtNzA3IDQ2MCAtNzI3IDQzMiAtNzE0IGIgMzY2IC02NzUgMzc1IC03MDMgMzY2IC02OTIgYiAzOTYgLTY0MiAzNjYgLTY1NyAzNzcgLTY0NSBiIDUzMCAtNTU3IDQ1NSAtNjM3IDUxMSAtNjAxIGIgNTM2IC01MjcgNTM0IC01NDggNTM2IC01MzcgYiA0MTkgLTQyNCA1MzYgLTQ4MCA0OTAgLTQzNyBcIn0sdjMwOnt4X21pbjotMjEuNzgxMjUseF9tYXg6MzY3LjUsaGE6Mzc1LG86XCJtIDI3NiAxOTAwIGIgMjg0IDE5MDEgMjc5IDE5MDAgMjgxIDE5MDEgYiAzMDYgMTg4MyAyOTEgMTkwMSAyOTggMTg5NiBiIDM2NyAxNjg2IDM0NyAxODI1IDM2NyAxNzU3IGIgMzQzIDE1NTggMzY3IDE2NDMgMzU5IDE2MDAgbCAzMzggMTU0OSBsIDM0MyAxNTM3IGIgMzY3IDE0MTEgMzU5IDE0OTcgMzY3IDE0NTQgYiAzNDMgMTI4MiAzNjcgMTM2NyAzNTkgMTMyNCBsIDMzOCAxMjcyIGwgMzQzIDEyNjEgYiAzNjcgMTEzNSAzNTkgMTIyMSAzNjcgMTE3OCBiIDM0MyAxMDA3IDM2NyAxMDkwIDM1OSAxMDQ3IGwgMzM4IDk5NiBsIDM0MyA5ODUgYiAzNjcgODU5IDM1OSA5NDUgMzY3IDkwMiBiIDM0MyA3MzEgMzY3IDgxNCAzNTkgNzcxIGwgMzM4IDcyMCBsIDM0MyA3MDkgYiAzNjcgNTgyIDM1OSA2NjcgMzY3IDYyNiBiIDI4OSAzNjIgMzY3IDUwMyAzNDAgNDI2IGIgMjM5IDMxMiAyNzYgMzQ1IDI1OSAzMzAgYiAyOSA3NyAxNTIgMjM3IDc2IDE1MiBiIC0xIDE4IDE0IDU0IDIgMzAgYiAtMTkgNCAtNCAxMSAtMTIgNCBsIC0yMSA0IGwgLTIxIDEzMyBsIC0yMCAyNjAgbCAtMTMgMjYyIGIgOTggMjk5IDE3IDI2OSA2MiAyODQgYiAxMTEgMzA1IDEwMyAzMDIgMTEwIDMwNSBiIDE2NyAzMzQgMTIzIDMxMCAxNTYgMzI3IGIgMzE5IDU5NSAyNjQgMzkxIDMxOSA0OTEgYiAzMTMgNjU5IDMxOSA2MTYgMzE4IDYzOCBiIDMxMCA2NjcgMzExIDY2NCAzMTEgNjY3IGIgMzA3IDY2MyAzMTAgNjY3IDMwOCA2NjYgYiAyNDAgNTg4IDI4OSA2MzcgMjY5IDYxNCBiIDE2IDMzMSAxNDEgNTA1IDYyIDQxMyBiIC0xIDI5NCA4IDMxNiAxIDMwMiBiIC0xOSAyODAgLTQgMjg3IC0xMiAyODAgbCAtMjEgMjgwIGwgLTIxIDQwOCBsIC0yMCA1MzcgbCAtMTMgNTM4IGIgOTggNTc2IDE3IDU0NSA2MiA1NjAgYiAxMTEgNTgxIDEwMyA1NzggMTEwIDU4MSBiIDE2NyA2MTAgMTIzIDU4NyAxNTYgNjAzIGIgMzE5IDg3MSAyNjQgNjY3IDMxOSA3NjcgYiAzMTMgOTM1IDMxOSA4OTIgMzE4IDkxMyBiIDMxMCA5NDIgMzExIDk0MSAzMTEgOTQyIGIgMzA3IDkzOSAzMTAgOTQyIDMwOCA5NDEgYiAyNDAgODY0IDI4OSA5MTMgMjY5IDg4OSBiIDE2IDYwNyAxNDEgNzgxIDYyIDY4OSBiIC0xIDU3MCA4IDU5MiAxIDU3OCBiIC0xOSA1NTYgLTQgNTYzIC0xMiA1NTYgbCAtMjEgNTU2IGwgLTIxIDY4NCBsIC0yMCA4MTMgbCAtMTMgODE0IGIgOTggODUyIDE3IDgyMSA2MiA4MzYgYiAxMTEgODU3IDEwMyA4NTUgMTEwIDg1NyBiIDE2NyA4ODYgMTIzIDg2MyAxNTYgODgwIGIgMzE5IDExNDcgMjY0IDk0MyAzMTkgMTA0MyBiIDMxMyAxMjExIDMxOSAxMTY4IDMxOCAxMTg5IGIgMzEwIDEyMTggMzExIDEyMTcgMzExIDEyMTggYiAzMDcgMTIxNSAzMTAgMTIxOCAzMDggMTIxNyBiIDI0MCAxMTQwIDI4OSAxMTg4IDI2OSAxMTY1IGIgMTYgODg0IDE0MSAxMDU3IDYyIDk2NiBiIC0xIDg0NiA4IDg2OCAxIDg1NSBiIC0xOSA4MzIgLTQgODM5IC0xMiA4MzIgbCAtMjEgODMyIGwgLTIxIDk2MCBsIC0yMCAxMDg5IGwgLTEzIDEwOTAgYiA5OCAxMTI4IDE3IDEwOTcgNjIgMTExMSBiIDExMSAxMTM0IDEwMyAxMTMxIDExMCAxMTM0IGIgMTY3IDExNjMgMTIzIDExMzkgMTU2IDExNTYgYiAzMTkgMTQyNCAyNjQgMTIyMCAzMTkgMTMyMCBiIDMxMyAxNDg2IDMxOSAxNDQ0IDMxOCAxNDY1IGIgMzEwIDE0OTQgMzExIDE0OTMgMzExIDE0OTQgYiAzMDcgMTQ5MiAzMTAgMTQ5NCAzMDggMTQ5MyBiIDI0MCAxNDE3IDI4OSAxNDY0IDI2OSAxNDQyIGIgMTYgMTE2MCAxNDEgMTMzMyA2MiAxMjQyIGIgLTEgMTEyMSA4IDExNDUgMSAxMTMxIGIgLTE5IDExMDkgLTQgMTExNSAtMTIgMTEwOSBsIC0yMSAxMTA5IGwgLTIxIDEyMzYgbCAtMjAgMTM2NSBsIC0xMyAxMzY3IGIgOTggMTQwNCAxNyAxMzc0IDYyIDEzODggYiAxMTEgMTQxMCAxMDMgMTQwNyAxMTAgMTQxMCBiIDI1MCAxNTA4IDE3MiAxNDM3IDIxNSAxNDY3IGIgMzE5IDE3MDEgMjk2IDE1NjQgMzE5IDE2MzMgYiAyNzAgMTg1OSAzMTkgMTc1NyAzMDMgMTgxNCBiIDI2MiAxODgyIDI2NSAxODY4IDI2MiAxODc1IGIgMjc2IDE5MDAgMjYyIDE4OTAgMjY2IDE4OTYgXCJ9LHYzMTp7eF9taW46MCx4X21heDozODYuNTYyNSxoYTozOTQsbzpcIm0gMCAxNzMgbCAwIDM0NyBsIDE5MyAzNDcgbCAzODYgMzQ3IGwgMzg2IDE3MyBsIDM4NiAwIGwgMTkzIDAgbCAwIDAgbCAwIDE3MyBcIn0sdjMzOnt4X21pbjotNDIzLjMxMjUseF9tYXg6NDIxLjkzNzUsaGE6NDMxLG86XCJtIC0xMCAyNzYgYiAtMiAyNzcgLTggMjc3IC01IDI3NyBiIDE3IDI2NSA1IDI3NyAxMyAyNzMgYiAxOSAxNjMgMTkgMjYwIDE5IDI2MCBsIDE5IDY4IGwgMzkgNDUgYiAyNzcgLTk1IDEyMiAtMzQgMjAwIC04MSBiIDI4OSAtOTcgMjgxIC05NyAyODUgLTk3IGIgMzc4IDAgMzMyIC05NyAzNzEgLTU0IGIgMzc4IDExIDM3OCA0IDM3OCA2IGIgMzAyIDgzIDM3OCA1NSAzNDUgODMgYiAyNDIgNjYgMjgzIDgzIDI2MiA3NyBiIDIwOCA1NiAyMzEgNTkgMjE5IDU2IGIgMTQ4IDEyMCAxNzUgNTYgMTQ4IDgxIGIgMjAwIDE4NiAxNDggMTUxIDE2NCAxNzIgYiAyNjEgMTk4IDIyMCAxOTQgMjQwIDE5OCBiIDQyMCA0NSAzNDEgMTk4IDQxMSAxMzcgYiA0MjEgMjIgNDIxIDM3IDQyMSAyOSBiIDI1NyAtMTk4IDQyMSAtODYgMzQ3IC0xODggYiAyNDIgLTE5OCAyNTEgLTE5OCAyNDcgLTE5OCBiIDIwIC0xMDUgMTgxIC0xOTggOTUgLTE2MyBsIDE5IC0xMDQgbCAxOSAtMTgzIGIgMTkgLTIxNiAxOSAtMTk1IDE5IC0yMDYgYiAxMiAtMjczIDE5IC0yNzIgMTcgLTI2NyBiIC0yIC0yNzggOCAtMjc3IDIgLTI3OCBiIC0yMSAtMjY2IC0xMCAtMjc4IC0xOSAtMjc0IGIgLTIzIC0xNjUgLTIzIC0yNjMgLTIzIC0yNjIgbCAtMjMgLTY5IGwgLTQ0IC00NyBiIC0yNTAgODYgLTExNyAyMyAtMTgzIDY2IGIgLTI5NSA5NCAtMjcwIDkzIC0yODQgOTQgYiAtMzE1IDkxIC0zMDIgOTQgLTMwOCA5NCBiIC0zODEgNSAtMzU2IDgxIC0zODEgNDMgYiAtMzU1IC01NiAtMzgxIC0xNiAtMzcyIC00MCBiIC0yOTkgLTgxIC0zMzggLTczIC0zMTkgLTgxIGIgLTI0NiAtNjggLTI4MyAtODEgLTI2NSAtNzcgYiAtMjEyIC01OCAtMjM0IC02MSAtMjIzIC01OCBiIC0xNjggLTc3IC0xOTYgLTU4IC0xNzkgLTY1IGIgLTE1MSAtMTIyIC0xNTYgLTkwIC0xNTEgLTEwNSBiIC0xNzkgLTE3NCAtMTUxIC0xNDEgLTE2MCAtMTYyIGIgLTIzOSAtMTk1IC0xOTQgLTE4NCAtMjE3IC0xOTIgYiAtMjU3IC0xOTcgLTI0NSAtMTk1IC0yNTAgLTE5NyBiIC00MjMgLTUgLTM0OSAtMTk3IC00MjMgLTExMyBiIC00MjMgMCAtNDIzIC00IC00MjMgLTEgYiAtMjc3IDE5NCAtNDIwIDk3IC0zNjIgMTczIGIgLTI0NyAxOTcgLTI2OCAxOTcgLTI1OCAxOTcgYiAtMjQgMTA0IC0xODUgMTk3IC0xMDAgMTYyIGwgLTIzIDEwMiBsIC0yMyAxODEgYiAtMjEgMjY1IC0yMyAyNjAgLTIzIDI2MCBiIC0xMCAyNzYgLTIwIDI2OSAtMTQgMjc0IFwifSx2MzQ6e3hfbWluOjAseF9tYXg6NjIyLjAzMTI1LGhhOjYzNSxvOlwibSAzOTggNDE3IGIgNDA2IDQxOSA0MDEgNDE5IDQwNCA0MTkgYiA0MjcgMzk4IDQxNyA0MTkgNDI3IDQwOSBiIDQyNyAzOTEgNDI3IDM5NSA0MjcgMzkyIGIgMzQgLTI3NCA0MjQgMzg1IDM4IC0yNzIgYiAyMCAtMjgwIDI5IC0yNzggMjUgLTI4MCBiIDAgLTI1OSA5IC0yODAgMCAtMjcwIGIgMCAtMjUyIDAgLTI1NiAwIC0yNTQgYiAzOTMgNDEzIDIgLTI0NyAzODkgNDEwIGIgMzk4IDQxNyAzOTQgNDE1IDM5NyA0MTYgbSA1OTIgNDE3IGIgNjAwIDQxOSA1OTQgNDE5IDU5NyA0MTkgYiA2MjIgMzk4IDYxMSA0MTkgNjIyIDQwOSBiIDYyMCAzOTEgNjIyIDM5NSA2MjAgMzkyIGIgMjI3IC0yNzQgNjE3IDM4NSAyMzEgLTI3MiBiIDIxMyAtMjgwIDIyMyAtMjc4IDIxOSAtMjgwIGIgMTkzIC0yNTkgMjAyIC0yODAgMTkzIC0yNzAgYiAxOTQgLTI1MiAxOTMgLTI1NiAxOTMgLTI1NCBiIDU4NiA0MTMgMTk2IC0yNDcgNTgyIDQxMCBiIDU5MiA0MTcgNTg4IDQxNSA1OTAgNDE2IFwifSx2MzY6e3hfbWluOi0xLjM1OTM3NSx4X21heDoxMDY0LjM5MDYyNSxoYToxMDg2LG86XCJtIDI5NiA2OTIgYiAzMTQgNjk0IDMwMiA2OTQgMzA3IDY5NCBiIDM4NiA2ODUgMzM3IDY5NCAzNjYgNjg5IGIgNTQ4IDQ5OCA0ODAgNjYwIDU0OCA1ODAgYiA1NDggNDgxIDU0OCA0OTIgNTQ4IDQ4NyBiIDQ1NSAzOTUgNTQxIDQyNiA0OTkgMzk1IGIgMzcwIDQ2MiA0MjAgMzk1IDM4MyA0MTcgYiAzNjIgNDk2IDM2NCA0NzcgMzYyIDQ4OCBiIDM3NyA1MTQgMzYyIDUwOSAzNjcgNTE0IGIgMzkzIDUwMSAzODYgNTE0IDM5MCA1MTAgYiA0MzIgNDc0IDM5NyA0ODQgNDEzIDQ3NCBiIDQ3MCA0ODcgNDQ1IDQ3NCA0NTggNDc4IGIgNDkxIDUzMCA0ODQgNDk2IDQ5MSA1MTAgYiA0OTAgNTQ0IDQ5MSA1MzQgNDkxIDUzOSBiIDMzMyA2NjAgNDc5IDYwNiA0MTEgNjU3IGwgMzIzIDY2MiBsIDMxNSA2NDYgYiAyNjkgNTI0IDI4NSA1OTEgMjY5IDU1NiBiIDMyMSA0MzEgMjY5IDQ5MiAyODcgNDY2IGIgMzQ5IDM5NSAzMzggNDEzIDM0MyA0MDggYiAzNjMgMzQyIDM1OSAzNzggMzYzIDM2MiBiIDM1OSAzMTIgMzYzIDMzMyAzNjIgMzIyIGIgMjg1IDE1OCAzNDggMjY2IDMxOCAyMDYgYiAyODEgMTUyIDI4MyAxNTUgMjgxIDE1MiBiIDI4MSAxNTIgMjgxIDE1MiAyODEgMTUyIGIgMjg3IDE1NCAyODMgMTUyIDI4NCAxNTIgYiAzMTggMTU1IDI5OCAxNTQgMzA4IDE1NSBiIDQ2MSA5OCAzNzEgMTU1IDQxOSAxMzYgbCA0NjQgOTcgbCA0ODMgMTEyIGIgNTAzIDEyOSA0OTQgMTIwIDUwMyAxMjcgYiA1MDQgMTMwIDUwMyAxMjkgNTA0IDEyOSBiIDUwMyAxMzggNTA0IDEzMSA1MDMgMTM0IGIgNTAwIDE4MCA1MDAgMTUyIDUwMCAxNjYgYiA1NTMgMzI2IDUwMCAyMzggNTE4IDI4OCBiIDYwNCAzNjYgNTYwIDMzMSA1OTIgMzU4IGIgNjQ5IDM4MSA2MTcgMzc2IDYzMiAzODEgYiA2OTYgMzYyIDY2NSAzODEgNjgxIDM3NCBiIDcyNCAzMDIgNzE0IDM0NyA3MjQgMzI0IGIgNjk1IDIzOCA3MjQgMjc4IDcxNCAyNTUgYiA2NjAgMjEwIDY5MSAyMzQgNjYyIDIxMiBiIDU3OSAxNDggNjU4IDIwOSA1ODIgMTUxIGIgNTc5IDE0OCA1NzkgMTQ4IDU3OSAxNDggYiA1OTYgMTA2IDU3OSAxNDQgNTg5IDExOSBiIDYyMiA3NyA2MDQgODggNjA5IDgzIGIgNjU3IDY5IDYzMiA3MiA2NDUgNjkgYiA3NDggMTEyIDY4OCA2OSA3MjEgODQgYiA3NTUgMTIzIDc1NCAxMTcgNzU1IDEyMCBiIDc1NSAxMjcgNzU1IDEyNCA3NTUgMTI2IGIgNzUxIDE2NSA3NTIgMTM3IDc1MSAxNTEgYiA3NTggMjE5IDc1MSAxODMgNzU0IDIwMiBiIDg5NCAzODcgNzc0IDI5MCA4MjAgMzQ3IGIgODk2IDM5MCA4OTYgMzg4IDg5NiAzODggYiA4OTEgMzk4IDg5NiAzOTEgODk1IDM5MiBiIDYyMiA1NjAgODI3IDQ3NyA3MzAgNTM1IGIgNjAwIDU4MCA2MDUgNTY0IDYwMCA1NjkgYiA2MTcgNTk2IDYwMCA1OTEgNjA3IDU5NiBiIDYyOCA1OTUgNjIyIDU5NiA2MjQgNTk2IGIgMTA1NyAyNDggODQ2IDU1MiAxMDIwIDQxMiBiIDEwNjQgMTkxIDEwNjEgMjI5IDEwNjQgMjA5IGIgOTIyIDAgMTA2NCA5NCAxMDA1IDkgYiA5MDIgLTEgOTE2IC0xIDkwOSAtMSBiIDc3NCA3NiA4NDcgLTEgODAwIDI2IGIgNzY5IDgzIDc3MCA4MSA3NzAgODMgYiA3NjkgODEgNzY5IDgzIDc2OSA4MyBiIDYyNyAtMSA3MzMgMjkgNjc3IC0xIGIgNTQ4IDI3IDU5NyAtMSA1NzAgOCBiIDUxNSA4OCA1MzcgMzcgNTI1IDYxIGwgNTEzIDk1IGwgNTEwIDkzIGwgNDUzIDQ1IGIgMzkwIDAgMzk2IDAgMzk2IDAgYiAzOTAgMCAzOTAgMCAzOTAgMCBiIDM3NCAxNSAzODEgMCAzNzcgNCBiIDI2OCAxMDUgMzU5IDY5IDMxNCAxMDUgYiAyNTAgMTA0IDI2MiAxMDUgMjU3IDEwNSBsIDI0MyAxMDIgbCAyMzQgOTAgYiAxNTUgMSAyMDEgNDkgMTU5IDIgYiAxNDcgLTEgMTUyIDAgMTQ5IC0xIGIgMTMwIDE1IDEzOCAtMSAxMzAgNiBiIDEzMiAyMCAxMzAgMTggMTMyIDE5IGIgMTM2IDMxIDEzMyAyMiAxMzQgMjcgYiAyMjAgMTMxIDE0OSA3NCAxNzggMTA5IGIgMjMxIDEzNyAyMjUgMTM0IDIzMCAxMzYgYiAzMDIgMjc4IDI4MCAyMDIgMzAyIDI0NCBiIDI2NSAzMzUgMzAyIDI5OSAyOTUgMzA5IGIgMjA5IDQ0MiAyMzQgMzYzIDIxMyA0MDIgYiAyMDkgNDU1IDIwOSA0NDYgMjA5IDQ1MSBiIDI3OSA2NDggMjA5IDUwMiAyMzIgNTY0IGwgMjg1IDY1OSBsIDI4MyA2NTkgYiAxNzYgNjI3IDIzOCA2NTMgMjEwIDY0NSBiIDU3IDQ3NyAxMTEgNTk0IDY2IDUzOCBiIDU1IDQ1OSA1NSA0NzEgNTUgNDY0IGIgNzIgNDA5IDU1IDQzNyA2MSA0MTUgYiA5MyA0MDMgNzggNDA1IDg3IDQwMyBiIDE1MiA0NjcgMTIzIDQwMyAxNTEgNDMxIGIgMTY4IDQ4OCAxNTMgNDgzIDE1NyA0ODggYiAxODUgNDYyIDE4MSA0ODggMTg1IDQ4MyBsIDE4NSA0NjAgYiAxMzcgMzQ0IDE4MyA0MDkgMTY4IDM2OSBiIDc4IDMyMiAxMTkgMzI4IDk4IDMyMiBiIDEzIDM2MCA1MCAzMjIgMjUgMzM1IGIgLTEgNDI2IDQgMzgwIC0xIDQwMiBiIDg5IDYxMCAtMSA0ODggMzIgNTU5IGIgMjk2IDY5MiAxNDcgNjU5IDIxMCA2ODUgbSA5MjYgMzQ4IGIgOTIxIDM1MyA5MjQgMzUxIDkyMiAzNTMgYiA5MTQgMzQ4IDkyMCAzNTMgOTE4IDM1MSBiIDgyMyAxNjcgODU3IDMwNiA4MjMgMjM3IGIgODI4IDEyNCA4MjMgMTU0IDgyNiAxMzggYiA4OTAgMzEgODM3IDc5IDg2MiA0MCBiIDg5NiAzMSA4OTIgMzEgODk0IDMxIGIgOTU2IDEwNCA5MTYgMzEgOTQwIDU5IGIgOTcwIDE5MSA5NjUgMTI5IDk3MCAxNTkgYiA5NjYgMjQxIDk3MCAyMDggOTY5IDIyNCBiIDkyNiAzNDggOTU5IDI3NyA5NDUgMzEzIG0gNjI3IDMyNiBiIDYxOSAzMjYgNjI0IDMyNiA2MjIgMzI2IGIgNTk4IDMxNiA2MTEgMzI2IDYwNCAzMjMgYiA1NjggMjE1IDU3OSAyODggNTY4IDI1NSBiIDU2OCAyMDggNTY4IDIxMyA1NjggMjEwIGIgNTcxIDE4MyA1NzAgMTk1IDU3MCAxODQgbCA1NzEgMTgzIGIgNTk0IDIwMSA1NzEgMTgzIDU4MiAxOTEgbCA2MzQgMjMxIGIgNjYwIDI1OSA2NTMgMjQ3IDY1NiAyNDggYiA2NjQgMjc4IDY2MiAyNjYgNjY0IDI3MiBiIDYyNyAzMjYgNjY0IDI5OSA2NDkgMzIwIFwifSx2Mzg6e3hfbWluOi0xLjM1OTM3NSx4X21heDo2NTEuOTY4NzUsaGE6NjY1LG86XCJtIDM4OSA2NDQgYiA0MDUgNjQ1IDM5NCA2NDUgNDAwIDY0NSBiIDUwNCA1NjYgNDUwIDY0NSA0OTIgNjEzIGIgNTA3IDU0MSA1MDYgNTU3IDUwNyA1NDkgYiA0ODAgNDcxIDUwNyA1MTQgNDk4IDQ4OSBsIDQ3NyA0NjcgbCA0ODMgNDcwIGIgNjA5IDU5MSA1MzkgNDg1IDU4NiA1MzEgYiA2MTMgNjAxIDYxMSA1OTUgNjEzIDU5OSBiIDYzMSA2MDkgNjE5IDYwNyA2MjQgNjA5IGIgNjUxIDU4OCA2NDEgNjA5IDY1MSA2MDIgYiAyMDAgLTk0NiA2NTEgNTg0IDIwNCAtOTQxIGIgMTgyIC05NTcgMTk3IC05NTMgMTkwIC05NTcgYiAxNjMgLTk0NSAxNzQgLTk1NyAxNjYgLTk1MyBiIDE2MSAtOTM5IDE2MSAtOTQyIDE2MSAtOTQyIGIgMjE3IC03NDMgMTYxIC05MzEgMTcwIC05MDQgYiAyNzIgLTU1NSAyNDcgLTYzOSAyNzIgLTU1NSBiIDI3MiAtNTU1IDI3MiAtNTU1IDI3MiAtNTU1IGIgMjY0IC01NjAgMjcyIC01NTUgMjY4IC01NTcgYiAxNDAgLTYwMyAyMjcgLTU4OSAxODIgLTYwMyBiIDM2IC01NjcgMTAyIC02MDMgNjUgLTU5MiBiIC0xIC00ODcgMTIgLTU0OCAtMSAtNTE3IGIgMTcgLTQyNyAtMSAtNDY2IDUgLTQ0NSBiIDEwMyAtMzgwIDM4IC0zOTUgNzAgLTM4MCBiIDE5MSAtNDMzIDEzNyAtMzgwIDE3MiAtMzk4IGIgMjA1IC00ODQgMjAxIC00NDggMjA1IC00NjYgYiAxNzggLTU1MyAyMDUgLTUwOSAxOTYgLTUzNSBsIDE3NSAtNTU3IGwgMTgyIC01NTUgYiAzMDcgLTQzNSAyMzYgLTUzOSAyODQgLTQ5NCBiIDM3MiAtMjEzIDMwOCAtNDMwIDM3MiAtMjE1IGIgMzcyIC0yMTMgMzcyIC0yMTMgMzcyIC0yMTMgYiAzNjQgLTIxOSAzNzIgLTIxMyAzNjggLTIxNiBiIDI0MCAtMjYyIDMyOCAtMjQ3IDI4MyAtMjYyIGIgMTM3IC0yMjYgMjAyIC0yNjIgMTY2IC0yNDkgYiA5OSAtMTQ1IDExMiAtMjA2IDk5IC0xNzYgYiAxMTggLTg0IDk5IC0xMjQgMTA2IC0xMDQgYiAyMDQgLTM4IDEzOCAtNTQgMTcxIC0zOCBiIDI5MiAtOTEgMjM4IC0zOCAyNzMgLTU2IGIgMzA2IC0xNDEgMzAyIC0xMDYgMzA2IC0xMjQgYiAyNzkgLTIxMiAzMDYgLTE2NyAyOTYgLTE5NCBsIDI3NiAtMjE1IGwgMjgxIC0yMTMgYiA0MDggLTkzIDMzNiAtMTk4IDM4NSAtMTUxIGIgNDczIDEyOSA0MDkgLTg4IDQ3MyAxMjcgYiA0NzMgMTI5IDQ3MyAxMjkgNDczIDEyOSBiIDQ2NSAxMjIgNDczIDEyOSA0NjkgMTI2IGIgMzQxIDgwIDQyOCA5NCAzODMgODAgYiAyMzYgMTE1IDMwMyA4MCAyNjYgOTEgYiAyMDAgMTk1IDIxMyAxMzYgMjAwIDE2NSBiIDIxNyAyNTYgMjAwIDIxNyAyMDYgMjM4IGIgMzA0IDMwMyAyMzkgMjg3IDI3MiAzMDMgYiAzOTMgMjQ5IDMzOCAzMDMgMzc0IDI4NSBiIDQwNiAxOTkgNDAyIDIzNCA0MDYgMjE3IGIgMzc5IDEyOSA0MDYgMTczIDM5NyAxNDggbCAzNzcgMTI2IGwgMzgyIDEyNyBiIDUwOSAyNDggNDM2IDE0MiA0ODUgMTkwIGIgNTc0IDQ3MCA1MTAgMjU0IDU3NCA0NjkgYiA1NzQgNDcwIDU3NCA0NzAgNTc0IDQ3MCBiIDU2NiA0NjQgNTc0IDQ3MCA1NzAgNDY3IGIgNDQyIDQyMSA1MjkgNDM1IDQ4NCA0MjEgYiAzMzcgNDU4IDQwNCA0MjEgMzY3IDQzMyBiIDMwMCA1MzcgMzEzIDQ3OCAzMDAgNTA4IGIgMzg5IDY0NCAzMDAgNTg1IDMzNCA2MzUgXCJ9LHYzOTp7eF9taW46LTE3MS41LHhfbWF4OjI1MS44MTI1LGhhOjI1NyxvOlwibSAtOCA2MzEgYiAtMSA2MzIgLTYgNjMyIC00IDYzMiBiIDE5IDYyMCA4IDYzMiAxNiA2MjggYiAyMCA1NTMgMjAgNjE2IDIwIDYxNCBiIDIwIDQ5MSAyMCA1MDMgMjAgNDkxIGwgMjAgNDkxIGIgMTUzIDUzNSA0NyA1MDEgMTQ5IDUzNSBiIDE3NCA1MTQgMTY3IDUzNSAxNzQgNTI0IGIgMTY0IDQ5NiAxNzQgNTA4IDE3MSA1MDEgYiA5MiA0NzAgMTY0IDQ5NSAxMzIgNDg0IGwgMjAgNDQ1IGwgMjAgMzkwIGIgMjAgMzYzIDIwIDM3OCAyMCAzNzAgYiAyMCAzMzMgMjAgMzQwIDIwIDMzMyBsIDIwIDMzMyBiIDE1MyAzNzcgNDcgMzQ0IDE0OSAzNzcgYiAxNzQgMzU2IDE2NyAzNzcgMTc0IDM2NyBiIDE2NCAzMzggMTc0IDM0OSAxNzEgMzQyIGIgOTIgMzEyIDE2NCAzMzggMTMyIDMyNiBsIDIwIDI4OCBsIDIwIDIxOSBsIDIwIDE0OCBsIDIxIDE1MSBiIDEzNyAxOTkgNTkgMTgzIDk5IDE5OSBiIDE4MiAxOTEgMTUyIDE5OSAxNjcgMTk3IGIgMjUxIDg0IDIyNyAxNzYgMjUxIDEzNCBiIDIyOCAwIDI1MSA1OCAyNDMgMjkgYiAxMDAgLTE0MiAyMDYgLTQwIDE3OCAtNzIgbCAyMyAtMjE1IGIgLTEgLTIyOSA5IC0yMjkgNiAtMjI5IGIgLTIwIC0yMTYgLTkgLTIyOSAtMTcgLTIyNCBiIC0yMSAzMCAtMjEgLTIxMiAtMjEgLTIxMiBiIC0yMSAyNzMgLTIxIDE2MyAtMjEgMjczIGIgLTg0IDI1MiAtMjEgMjczIC01MCAyNjMgYiAtMTUyIDIzMCAtMTMzIDIzNCAtMTQ1IDIzMCBiIC0xNTcgMjMxIC0xNTUgMjMwIC0xNTYgMjMxIGIgLTE3MSAyNTIgLTE2NiAyMzQgLTE3MSAyNDQgYiAtMTYwIDI3MCAtMTcxIDI1OSAtMTY3IDI2NiBiIC0yNyAzMTYgLTE1OSAyNzAgLTkzIDI5NCBsIC0yMSAzMTkgbCAtMjEgMzc0IGIgLTIxIDQzMSAtMjEgNDA2IC0yMSA0MzEgYiAtODQgNDA5IC0yMSA0MzEgLTUwIDQyMSBiIC0xNTIgMzg4IC0xMzMgMzkyIC0xNDUgMzg4IGIgLTE1NyAzOTAgLTE1NSAzODggLTE1NiAzODggYiAtMTcxIDQwOSAtMTY2IDM5MiAtMTcxIDQwMSBiIC0xNjAgNDI4IC0xNzEgNDE3IC0xNjcgNDI0IGIgLTI3IDQ3NCAtMTU5IDQyOCAtOTMgNDUxIGwgLTIxIDQ3NiBsIC0yMSA1NDYgYiAtMjAgNjIwIC0yMSA2MTQgLTIxIDYxNiBiIC04IDYzMSAtMTcgNjI0IC0xMyA2MzAgbSAxMTAgMTMxIGIgOTYgMTMzIDEwNiAxMzMgMTAwIDEzMyBiIDg5IDEzMyA5MyAxMzMgOTEgMTMzIGIgMjQgODcgNjMgMTI5IDQwIDExMyBsIDIwIDgwIGwgMjAgLTM3IGwgMjAgLTE1NiBsIDIzIC0xNTIgYiAxNDQgODEgOTYgLTcyIDE0NCAyMCBsIDE0NCA4MyBiIDExMCAxMzEgMTQ0IDExMyAxMzQgMTI2IFwifSx2M2I6e3hfbWluOjAseF9tYXg6NDg0LjU2MjUsaGE6NDk0LG86XCJtIDIyOCAyNDUgYiAyMzkgMjQ3IDIzNCAyNDcgMjM5IDI0NyBiIDI0MyAyNDcgMjQwIDI0NyAyNDIgMjQ3IGIgMzAzIDIzOCAyNTcgMjQ3IDI4NyAyNDIgYiA0ODQgLTIgNDE3IDIwOCA0ODQgMTA0IGIgNDEyIC0xNzcgNDg0IC02NSA0NjEgLTEyNyBiIDI0MyAtMjQ4IDM2MyAtMjI2IDMwMyAtMjQ4IGIgNiAtNjMgMTM4IC0yNDggMzYgLTE4MCBiIDAgLTEgMSAtNDEgMCAtMjAgYiAyMjggMjQ1IDAgMTI3IDk4IDI0MCBtIDI1NSAxODEgYiAyNDAgMTgzIDI0NyAxODMgMjQ1IDE4MyBiIDIzMiAxODEgMjM4IDE4MyAyMzUgMTgzIGIgMTQyIDE1MiAyMDAgMTgwIDE2OCAxNzAgbCAxMzggMTQ5IGwgMTkwIDk3IGwgMjQyIDQ0IGwgMjk0IDk3IGwgMzQ1IDE0OSBsIDM0MCAxNTIgYiAyNTUgMTgxIDMxNSAxNjkgMjg0IDE4MCBtIDE0NyAtNTQgbCAxOTcgLTEgbCAxNDcgNTEgbCA5NSAxMDQgbCA5MSA5OSBiIDYyIC0xIDcyIDcwIDYyIDM0IGIgNjYgLTQzIDYyIC0xNSA2MyAtMjkgYiA5MSAtMTAxIDcyIC02MyA4MCAtODQgbCA5NSAtMTA2IGwgMTQ3IC01NCBtIDM5MyA5OSBiIDM4OSAxMDQgMzkwIDEwMiAzODkgMTA0IGIgMzM3IDUxIDM4OSAxMDQgMzY2IDgwIGwgMjg1IC0xIGwgMzM3IC01NCBsIDM4OSAtMTA2IGwgMzkzIC0xMDEgYiA0MjEgLTEgNDEyIC03MiA0MjEgLTM2IGIgMzkzIDk5IDQyMSAzNCA0MTIgNjkgbSAyOTQgLTk4IGIgMjQyIC00NSAyNjUgLTY5IDI0MiAtNDUgYiAxOTAgLTk4IDI0MiAtNDUgMjE5IC02OSBsIDEzOCAtMTUxIGwgMTQyIC0xNTQgYiAyNDIgLTE4NCAxNzIgLTE3NCAyMDYgLTE4NCBiIDM0MCAtMTU0IDI3NiAtMTg0IDMxMSAtMTc0IGwgMzQ1IC0xNTEgbCAyOTQgLTk4IFwifSx2M2M6e3hfbWluOjAseF9tYXg6NDUwLjUzMTI1LGhhOjQ2MCxvOlwibSAxODkgMzAyIGIgMjA0IDMwMyAxOTMgMzAyIDE5OCAzMDMgYiAzMDMgMjI0IDI1MCAzMDMgMjkyIDI3MCBiIDMwNiAxOTkgMzA0IDIxNiAzMDYgMjA4IGIgMjc5IDEyOSAzMDYgMTczIDI5NiAxNDcgbCAyNzYgMTI2IGwgMjgxIDEyNyBiIDQwOCAyNDkgMzM3IDE0MiAzODUgMTkwIGIgNDEyIDI1OSA0MDkgMjU0IDQxMiAyNTggYiA0MzAgMjY3IDQxNyAyNjUgNDIzIDI2NyBiIDQ1MCAyNDcgNDQxIDI2NyA0NTAgMjU5IGIgMjAwIC02MDUgNDUwIDI0MiAyMDQgLTU5OSBiIDE4MiAtNjE2IDE5NyAtNjEyIDE5MCAtNjE2IGIgMTYzIC02MDIgMTc0IC02MTYgMTY2IC02MTAgYiAxNjEgLTU5OCAxNjEgLTYwMSAxNjEgLTYwMSBiIDIxNyAtNDAyIDE2MSAtNTg5IDE3MCAtNTYyIGIgMjcyIC0yMTMgMjQ3IC0yOTggMjcyIC0yMTMgYiAyNzIgLTIxMyAyNzIgLTIxMyAyNzIgLTIxMyBiIDI2NCAtMjE5IDI3MiAtMjEzIDI2OCAtMjE2IGIgMTQwIC0yNjIgMjI3IC0yNDcgMTgyIC0yNjIgYiAzNiAtMjI2IDEwMiAtMjYyIDY1IC0yNDkgYiAwIC0xNDUgMTIgLTIwNiAwIC0xNzYgYiAxNyAtODQgMCAtMTI0IDUgLTEwNCBiIDEwMyAtMzggMzggLTU0IDcwIC0zOCBiIDE5MSAtOTEgMTM3IC0zOCAxNzIgLTU2IGIgMjA1IC0xNDEgMjAxIC0xMDYgMjA1IC0xMjQgYiAxNzggLTIxMiAyMDUgLTE2NyAxOTYgLTE5NCBsIDE3NSAtMjE1IGwgMTgyIC0yMTMgYiAzMDcgLTkzIDIzNiAtMTk4IDI4NCAtMTUxIGIgMzcyIDEyOSAzMDggLTg4IDM3MiAxMjcgYiAzNzIgMTI5IDM3MiAxMjkgMzcyIDEyOSBiIDM2NCAxMjIgMzcyIDEyOSAzNjggMTI2IGIgMjQwIDgwIDMyOCA5NCAyODMgODAgYiAxMzcgMTE1IDIwMiA4MCAxNjYgOTEgYiA5OSAxOTQgMTExIDEzNiA5OSAxNjUgYiAxODkgMzAyIDk5IDI0NCAxMzMgMjkyIFwifSx2M2U6e3hfbWluOjAseF9tYXg6NDA2Ljk2ODc1LGhhOjQxNSxvOlwibSAyMSAxODMgYiAyOCAxODMgMjQgMTgzIDI1IDE4MyBiIDQyIDE4MSAzNCAxODMgMzkgMTgzIGIgMTI3IDEwOCA0NyAxNzkgNDcgMTc5IGIgMjAyIDQxIDE2OCA3MiAyMDIgNDEgYiAyNzkgMTA4IDIwNCA0MSAyMzggNzIgYiAzNTcgMTc3IDMyMSAxNDUgMzU2IDE3NiBiIDM3NSAxODMgMzYzIDE4MSAzNzAgMTgzIGIgNDA2IDE1MSAzOTIgMTgzIDQwNiAxNjkgYiA0MDQgMTM3IDQwNiAxNDcgNDA1IDE0MSBiIDMyMiA2MiA0MDEgMTMxIDM5OCAxMjkgYiAyNTEgMCAyODQgMjcgMjUxIDAgYiAzMjIgLTYzIDI1MSAtMSAyODQgLTI5IGIgNDA0IC0xMzggMzk4IC0xMzAgNDAxIC0xMzMgYiA0MDYgLTE1MiA0MDUgLTE0MiA0MDYgLTE0OCBiIDM3NSAtMTg0IDQwNiAtMTcwIDM5MiAtMTg0IGIgMzU3IC0xNzkgMzcwIC0xODQgMzYzIC0xODMgYiAyNzkgLTEwOSAzNTYgLTE3NyAzMjEgLTE0NyBiIDIwMiAtNDMgMjM4IC03MyAyMDQgLTQzIGIgMTI3IC0xMDkgMjAyIC00MyAxNjggLTczIGIgNDkgLTE3OSA4NSAtMTQ3IDUwIC0xNzcgYiAzMSAtMTg0IDQzIC0xODMgMzYgLTE4NCBiIDAgLTE1MiAxMyAtMTg0IDAgLTE3MCBiIDIgLTEzOCAwIC0xNDggMCAtMTQyIGIgODMgLTYzIDUgLTEzMyA4IC0xMzAgYiAxNTUgMCAxMjIgLTI5IDE1NSAtMSBiIDgzIDYyIDE1NSAwIDEyMiAyNyBiIDggMTI5IDQzIDk3IDEwIDEyNyBiIDAgMTUxIDIgMTM2IDAgMTQ0IGIgMjEgMTgzIDAgMTY1IDggMTc3IFwifSx2M2Y6e3hfbWluOi0yNC41LHhfbWF4OjMxNy4xNDA2MjUsaGE6MzI0LG86XCJtIC0yNCAtMTQ3IGwgLTI0IC01IGwgLTIwIC01IGIgLTEgLTE5IC0xMiAtNSAtNCAtMTEgYiA1OCAtMTIzIDYgLTQzIDMxIC04NiBiIDE5NiAtMjc4IDkzIC0xNzMgMTM0IC0yMTkgYiAzMTcgLTU3MCAyNzQgLTM1NiAzMTcgLTQ2MCBiIDI5NCAtNzEzIDMxNyAtNjE3IDMwOCAtNjY2IGwgMjg5IC03MjQgbCAyOTQgLTczNSBiIDMxNyAtODczIDMwOCAtNzgwIDMxNyAtODI3IGIgMjM1IC0xMTMyIDMxNyAtOTYzIDI4OCAtMTA1NCBiIDIwOSAtMTE2NSAyMjggLTExNDAgMjI0IC0xMTQ2IGIgMTg5IC0xMTc3IDIwNCAtMTE3MiAxOTYgLTExNzcgYiAxNzEgLTExNjQgMTgyIC0xMTc3IDE3NSAtMTE3MiBiIDE2OCAtMTE1NCAxNzAgLTExNjEgMTY4IC0xMTU5IGIgMTgxIC0xMTMyIDE2OCAtMTE0OSAxNzIgLTExNDIgYiAyNjkgLTg5MSAyMzggLTEwNjQgMjY5IC05NzUgYiAyNjkgLTg4MSAyNjkgLTg4NiAyNjkgLTg4NCBiIDI2MiAtODE0IDI2OSAtODU3IDI2NSAtODI3IGIgMjU4IC04MDAgMjYxIC04MTEgMjU5IC04MDYgYiAxNDIgLTYyOCAyNDAgLTczMSAxOTggLTY2NyBiIC04IC01ODkgMTEyIC02MDYgNDcgLTU4OSBiIC0yMCAtNTg5IC0xMyAtNTg5IC0xOSAtNTg5IGwgLTI0IC01ODkgbCAtMjQgLTQ0OSBsIC0yNCAtMzA4IGwgLTIwIC0zMDggYiAtMSAtMzIyIC0xMiAtMzA4IC00IC0zMTMgYiA1OCAtNDI0IDYgLTM0NSAzMSAtMzg4IGIgMTk0IC01ODAgOTMgLTQ3NiAxMzYgLTUyMyBiIDI1OSAtNjYwIDIyMSAtNjA2IDI0NSAtNjM1IGIgMjYxIC02NjMgMjU5IC02NjIgMjYxIC02NjMgYiAyNjQgLTY1NiAyNjIgLTY2MyAyNjIgLTY2MCBiIDI2OSAtNTg3IDI2OCAtNjMyIDI2OSAtNjEwIGIgMjY0IC01MjEgMjY5IC01NjYgMjY4IC01NDQgYiAyNjIgLTUxMiAyNjQgLTUxNyAyNjIgLTUxMyBiIDI1OCAtNDk4IDI2MSAtNTA5IDI1OSAtNTAzIGIgMTQyIC0zMjYgMjQwIC00MjggMTk4IC0zNjUgYiAtOCAtMjg3IDExMiAtMzAzIDQ3IC0yODggYiAtMjAgLTI4NyAtMTMgLTI4NyAtMTkgLTI4NyBsIC0yNCAtMjg3IGwgLTI0IC0xNDcgXCJ9LHY0MDp7eF9taW46LTEuMzU5Mzc1LHhfbWF4OjQzNi45MjE4NzUsaGE6NDQ2LG86XCJtIDIxMyAyMDUgYiAyMTcgMjA1IDIxNSAyMDUgMjE2IDIwNSBiIDIzNCAxOTQgMjI0IDIwNSAyMzQgMTk5IGIgMjM2IDE4NyAyMzQgMTk0IDIzNSAxOTAgbCAyNDUgMTY3IGwgMjYxIDEyOSBsIDI3MCAxMDYgYiAzNTUgLTYxIDI5NCA1NCAzMjkgLTEzIGIgNDIwIC0xNjMgMzgxIC0xMDUgNDAyIC0xMzggYiA0MzYgLTE4OCA0MzUgLTE4NCA0MzYgLTE4NCBiIDQzNiAtMTkxIDQzNiAtMTkwIDQzNiAtMTkwIGIgNDIxIC0yMDYgNDM2IC0yMDEgNDMxIC0yMDYgbCA0MjEgLTIwNiBsIDQxNiAtMjA2IGwgNDA1IC0yMDEgYiAyMTcgLTE1OCAzNDcgLTE3MiAyODMgLTE1OCBiIDMxIC0yMDEgMTUzIC0xNTggODggLTE3MiBsIDIwIC0yMDYgbCAxNCAtMjA2IGwgMTQgLTIwNiBiIDAgLTE5MSA1IC0yMDYgMCAtMjAxIGIgLTEgLTE4OCAwIC0xOTAgLTEgLTE5MCBiIDE0IC0xNjMgLTEgLTE4NiAwIC0xODQgYiA5NSAtMzQgMzYgLTEzNiA3MiAtNzcgYiAxNjYgMTA2IDExOSA4IDE0OCA2OCBsIDE3NSAxMjkgbCAxODMgMTQ4IGwgMjAwIDE4OCBiIDIxMyAyMDUgMjA1IDE5OSAyMDggMjAyIFwifSx2NDE6e3hfbWluOi0xLjM1OTM3NSx4X21heDo1NTYuNjg3NSxoYTo1NjgsbzpcIm0gMjk0IDMyMiBiIDMxOCAzMjMgMjk5IDMyMiAzMDggMzIzIGIgMzYwIDMyMCAzMzQgMzIzIDM1MiAzMjIgYiA1MjYgMjE3IDQzMCAzMTAgNDkwIDI3MyBiIDU0MyAxNjYgNTM3IDIwMiA1NDMgMTg0IGIgNDQ3IDcwIDU0MyAxMTcgNTAzIDcwIGIgNDQ1IDcwIDQ0NyA3MCA0NDYgNzAgYiAzNTkgMTU5IDM5NCA3MiAzNTkgMTEzIGIgMzY4IDIwMSAzNTkgMTczIDM2MiAxODcgYiA0NDIgMjQ1IDM4MiAyMjkgNDEyIDI0NSBiIDQ1NSAyNDQgNDQ2IDI0NSA0NTEgMjQ1IGIgNDYwIDI0NCA0NTggMjQ0IDQ2MCAyNDQgYiA0NjAgMjQ0IDQ2MCAyNDQgNDYwIDI0NCBiIDQ1NCAyNDggNDYwIDI0NCA0NTggMjQ1IGIgMzI1IDI5MSA0MTcgMjc2IDM3MiAyOTEgYiAyODUgMjg3IDMxMyAyOTEgMjk5IDI5MCBiIDE0NCAtMiAxODMgMjY5IDE0NCAxOTAgYiAyODEgLTI5MCAxNDQgLTIwOCAxNzkgLTI4MCBiIDMwNCAtMjkxIDI4OSAtMjkxIDI5OCAtMjkxIGIgNTI0IC0xMDUgNDEyIC0yOTEgNTA2IC0yMTIgYiA1NDEgLTg0IDUyNiAtODggNTMwIC04NCBiIDU1NiAtMTAxIDU1MSAtODQgNTU2IC05MCBiIDU0OSAtMTM4IDU1NiAtMTExIDU1MyAtMTIyIGIgMzM0IC0zMjIgNTIxIC0yMzcgNDM1IC0zMTAgYiAzMDIgLTMyNCAzMjMgLTMyMyAzMTMgLTMyNCBiIDEzIC0xMDEgMTcyIC0zMjQgNTQgLTIzNCBiIC0xIC0xIDQgLTY4IC0xIC0zNCBiIDI5NCAzMjIgLTEgMTYxIDEyMSAzMDMgXCJ9LHY0Mjp7eF9taW46LTM0OC40Mzc1LHhfbWF4OjI0LjUsaGE6MjUsbzpcIm0gLTMzMCAxNTUgYiAtMzIyIDE1NiAtMzI5IDE1NiAtMzI2IDE1NiBiIC0zMTUgMTU2IC0zMTkgMTU2IC0zMTcgMTU2IGIgLTI5OCAxNDcgLTMxMSAxNTUgLTMwOCAxNTQgYiAtMTkgMzAgLTIyNCA5OCAtMTIyIDU1IGwgMiAyNiBiIDI0IC0xIDE3IDIyIDI0IDEzIGIgMiAtMjcgMjQgLTE1IDE3IC0yMyBsIC0xOSAtMzEgYiAtMjk4IC0xNDggLTEyMiAtNTYgLTIyNCAtOTkgYiAtMzIyIC0xNTggLTMxMyAtMTU4IC0zMTUgLTE1OCBiIC0zNDggLTEzMSAtMzM4IC0xNTggLTM0OCAtMTQ1IGIgLTM0NCAtMTE3IC0zNDggLTEyNyAtMzQ3IC0xMjIgYiAtMzI4IC0xMDQgLTM0MSAtMTEyIC0zMzggLTExMSBiIC0xMjcgLTggLTI2OSAtNjUgLTIwMiAtMzMgYiAtMTA2IDAgLTExNSAtNCAtMTA2IC0xIGIgLTEyNyA2IC0xMDYgMCAtMTE1IDIgYiAtMzI4IDEwMiAtMjAyIDMxIC0yNjkgNjMgYiAtMzQ0IDExNiAtMzM4IDEwOSAtMzQxIDExMSBiIC0zNDggMTMwIC0zNDcgMTIwIC0zNDggMTI0IGIgLTMzMCAxNTUgLTM0OCAxNDEgLTM0MSAxNTIgXCJ9LHY0Mzp7eF9taW46LTQ0Mi4zNTkzNzUseF9tYXg6NDQxLGhhOjQ1MCxvOlwibSAtMzEgNDg3IGIgLTEgNDg4IC0yMSA0ODggLTEwIDQ4OCBiIDQzNCAxMDQgMjE2IDQ4OCAzOTcgMzMwIGIgNDQxIDI3IDQzOCA3OSA0NDEgNDcgYiA0MzkgMTIgNDQxIDIwIDQzOSAxNSBiIDQxOSAwIDQzNSA0IDQyNyAwIGIgNDA0IDUgNDEzIDAgNDA4IDEgYiAzOTggMzAgNDAwIDExIDM5OCAxMyBiIDAgMzUxIDM5MCAyMTMgMjEzIDM1MSBiIC01OSAzNDggLTIwIDM1MSAtMzkgMzQ5IGIgLTQwMCAzMCAtMjUxIDMyNCAtMzkzIDE5MSBiIC00MDUgNSAtNDAwIDEzIC00MDEgMTEgYiAtNDIwIDAgLTQwOSAxIC00MTUgMCBiIC00NDEgMTIgLTQyOCAwIC00MzYgNCBiIC00NDIgMjcgLTQ0MSAxNSAtNDQyIDIwIGIgLTQzNSAxMDQgLTQ0MiA0NyAtNDM5IDc5IGIgLTMxIDQ4NyAtNDAxIDMxNiAtMjM1IDQ3NCBtIC0xMyAxMzEgYiAtMSAxMzMgLTkgMTMzIC01IDEzMyBiIDUxIDEwNSAxOSAxMzMgMzkgMTIzIGIgNjEgNzAgNTggOTUgNjEgODMgYiA1MSAzNCA2MSA1OCA1OCA0NSBiIC0xIDYgMzkgMTYgMTkgNiBiIC00NiAyNyAtMTcgNiAtMzQgMTMgYiAtNjIgNjkgLTU3IDM4IC02MiA1NCBiIC0xMyAxMzEgLTYyIDk4IC00NCAxMjQgXCJ9LHY0NDp7eF9taW46LTIxLjc4MTI1LHhfbWF4OjI1MS44MTI1LGhhOjI1NyxvOlwibSAtOCA2MzEgYiAtMSA2MzIgLTYgNjMyIC00IDYzMiBiIDE5IDYyMCA4IDYzMiAxNiA2MjggYiAyMCAzODMgMjAgNjE2IDIwIDYxNiBsIDIwIDE0OCBsIDIxIDE1MSBiIDEzNyAxOTkgNTkgMTgzIDk5IDE5OSBiIDE4MiAxOTEgMTUyIDE5OSAxNjcgMTk3IGIgMjUxIDg0IDIyNyAxNzYgMjUxIDEzNCBiIDIyOCAwIDI1MSA1OCAyNDMgMjkgYiAxMDAgLTE0MiAyMDYgLTQwIDE3OCAtNzIgbCAyMyAtMjE1IGIgMCAtMjI5IDkgLTIyOSA2IC0yMjkgYiAtMjAgLTIxNiAtOSAtMjI5IC0xNyAtMjI0IGwgLTIxIC0yMTIgbCAtMjEgMjAxIGwgLTIxIDYxNiBsIC0yMCA2MjAgYiAtOCA2MzEgLTE3IDYyNCAtMTMgNjMwIG0gMTEwIDEzMSBiIDk2IDEzMyAxMDYgMTMzIDEwMCAxMzMgYiA4OSAxMzMgOTMgMTMzIDkxIDEzMyBiIDI0IDg3IDYzIDEyOSA0MCAxMTMgbCAyMCA4MCBsIDIwIC0zNyBsIDIwIC0xNTYgbCAyMyAtMTUyIGIgMTQ0IDgxIDk2IC03MiAxNDQgMjAgbCAxNDQgODMgYiAxMTAgMTMxIDE0NCAxMTMgMTM0IDEyNiBcIn0sdjQ1Ont4X21pbjotNDAyLjg5MDYyNSx4X21heDo0MDEuNTMxMjUsaGE6NDEwLG86XCJtIC0xMCAyNzMgYiAtNCAyNzQgLTkgMjczIC02IDI3NCBiIDE2IDI2MiA0IDI3NCAxMiAyNjkgYiAxNyAxNTggMTcgMjU5IDE3IDI1OSBsIDE3IDU2IGwgNjIgMTEyIGIgMTE3IDE3NCAxMTAgMTcyIDExMCAxNzIgYiAxMjIgMTc0IDExOCAxNzQgMTE5IDE3NCBiIDEzMiAxNzMgMTI1IDE3NCAxMjkgMTczIGIgMjk1IDExIDEzNCAxNzIgMTcxIDEzNCBsIDMwNyAtMSBsIDMzNiAzNCBiIDM3NCA3NiAzNjYgNzIgMzY4IDc0IGIgMzgxIDc3IDM3NSA3NyAzNzggNzcgYiA0MDEgNTYgMzkyIDc3IDQwMSA2OCBiIDQwMCA0OCA0MDEgNTQgNDAxIDUxIGIgMjIzIC0xNzIgMzk3IDQxIDIzMCAtMTY2IGIgMjEwIC0xNzYgMjIwIC0xNzQgMjE1IC0xNzYgYiAyMDEgLTE3NCAyMDYgLTE3NiAyMDQgLTE3NiBiIDExMiAtODcgMTk4IC0xNzMgMTc4IC0xNTIgYiAyNyAwIDY1IC0zOCAyNyAwIGIgMjEgLTYgMjcgMCAyNCAtMiBsIDE3IC0xMiBsIDE3IC0xNDcgYiAxNyAtMjEwIDE3IC0xNzMgMTcgLTE5NCBiIDEwIC0yOTIgMTcgLTI5NyAxNiAtMjg3IGIgLTIgLTI5OSA2IC0yOTcgMiAtMjk5IGIgLTIxIC0yODcgLTEwIC0yOTkgLTE5IC0yOTUgYiAtMjQgLTE3NCAtMjMgLTI4NCAtMjMgLTI4NCBsIC0yNCAtNjMgbCAtNjYgLTExNyBiIC0xMjEgLTE3NiAtMTEwIC0xNzAgLTExNCAtMTc2IGIgLTEyNSAtMTc2IC0xMjIgLTE3NiAtMTIzIC0xNzYgYiAtMjk2IC0xMiAtMTM0IC0xNzQgLTEyNSAtMTg0IGwgLTMwOCAwIGwgLTMzNyAtMzQgYiAtMzc1IC03NyAtMzY3IC03MyAtMzcwIC03NiBiIC0zODIgLTc5IC0zNzcgLTc5IC0zNzkgLTc5IGIgLTQwMiAtNTggLTM5MyAtNzkgLTQwMiAtNjkgYiAtNDAxIC00OSAtNDAyIC01NSAtNDAyIC01MiBiIC0yMjQgMTcwIC0zOTggLTQzIC0yMzEgMTY1IGIgLTIxMiAxNzQgLTIyMSAxNzMgLTIxNiAxNzQgYiAtMjAyIDE3MyAtMjA4IDE3NCAtMjA1IDE3NCBiIC0zOSAxMSAtMjAwIDE3MiAtMTUxIDEyMiBsIC0yOCAtMSBsIC0yNSAxIGwgLTI0IDQgbCAtMjQgMTMwIGIgLTIzIDI2MCAtMjQgMjU2IC0yNCAyNTggYiAtMTAgMjczIC0yMCAyNjYgLTE2IDI3MCBcIn0sdjQ2Ont4X21pbjowLHhfbWF4OjYyNy40Njg3NSxoYTo2NDAsbzpcIm0gMzA2IDE5MCBiIDMxNCAxOTEgMzA4IDE5MSAzMTEgMTkxIGIgMzI2IDE4NCAzMTggMTkxIDMyMiAxOTAgbCAzMzYgMTczIGIgNTEwIDUyIDM3NyAxMjcgNDQyIDgwIGIgNTE1IDQ5IDUxMyA1MSA1MTUgNDkgYiA2MTEgMTYgNTM3IDQwIDU3OSAyNCBiIDYyNyAwIDYyNCAxMyA2MjcgOSBiIDYwNyAtMTggNjI3IC0xMSA2MjQgLTEzIGIgMzMwIC0xODEgNDkwIC00OSAzODkgLTEwOSBiIDMxNCAtMTkyIDMyMyAtMTkwIDMxOSAtMTkyIGIgMzA2IC0xOTEgMzExIC0xOTIgMzA4IC0xOTIgYiAyOTQgLTE3NyAzMDIgLTE4OCAzMDIgLTE4OCBiIDI1NyAtMTQwIDI4NyAtMTcwIDI2NSAtMTQ4IGIgMTkgLTE4IDE5MyAtODQgMTE0IC00NCBiIDAgMCAyIC0xMyAwIC0xMSBiIDE2IDE2IDAgOSAyIDEzIGIgMTEwIDQ5IDQ3IDI0IDg5IDQwIGIgMTE3IDUyIDExMSA0OSAxMTQgNTEgYiAxNDUgNjUgMTI2IDU2IDEzMCA1OCBiIDI4MSAxNjMgMjAwIDkzIDI0NSAxMjQgYiAzMDAgMTg2IDI4OCAxNzAgMjkxIDE3NCBiIDMwNiAxOTAgMzAwIDE4NyAzMDMgMTg4IG0gMzE3IDEzNyBiIDMxMyAxNDIgMzE1IDE0MSAzMTQgMTQyIGIgMzA4IDEzNyAzMTMgMTQyIDMxMSAxNDEgYiAxNjEgNCAyNzYgODQgMjIwIDMzIGIgMTU1IDAgMTU5IDEgMTU1IDAgYiAxNjMgLTQgMTU1IDAgMTU5IC0yIGIgMzA4IC0xMzggMjIwIC0zNCAyNzYgLTg0IGIgMzEzIC0xNDIgMzExIC0xNDEgMzEzIC0xNDIgYiAzMTcgLTEzOCAzMTQgLTE0MiAzMTUgLTE0MSBiIDQ2NCAtNCAzNTEgLTg0IDQwNiAtMzQgYiA0NzAgMCA0NjggLTIgNDcwIDAgYiA0NjQgNCA0NzAgMCA0NjggMSBiIDMxNyAxMzcgNDA2IDMzIDM1MSA4NCBcIn0sdjQ3Ont4X21pbjotMjQuNSx4X21heDozMTUuNzgxMjUsaGE6MzIyLG86XCJtIC0yNCAtMTQ1IGwgLTI0IC01IGwgLTIwIC01IGIgMSAtMjYgLTEwIC01IC02IC05IGIgMTc1IC0yNDEgMzEgLTg2IDk2IC0xNjYgYiAzMTQgLTU0OCAyNTkgLTMyMyAzMDQgLTQyMCBiIDMxNSAtNTg5IDMxNSAtNTU1IDMxNSAtNTcxIGIgMzE0IC02MzAgMzE1IC02MDYgMzE1IC02MjMgYiAyOTggLTczMCAzMTEgLTY2NCAzMDYgLTY5OSBsIDI5NSAtNzQyIGwgMjk2IC03NDggYiAzMTQgLTg1MCAzMDQgLTc3OCAzMTEgLTgxMyBiIDMxNSAtODkyIDMxNSAtODU3IDMxNSAtODc0IGIgMzE0IC05MzIgMzE1IC05MDkgMzE1IC05MjUgYiAyOTggLTEwMzIgMzExIC05NjcgMzA2IC0xMDAyIGwgMjk1IC0xMDQ1IGwgMjk2IC0xMDUwIGIgMzE0IC0xMTUzIDMwNCAtMTA4MSAzMTEgLTExMTUgYiAzMTUgLTExOTMgMzE1IC0xMTYwIDMxNSAtMTE3NyBiIDMxNCAtMTIzNSAzMTUgLTEyMTEgMzE1IC0xMjI4IGIgMjE3IC0xNTI2IDMwNiAtMTMzOCAyNzAgLTE0NDQgYiAyMDEgLTE1MzMgMjEzIC0xNTMyIDIwOCAtMTUzMyBiIDE4MiAtMTUyMiAxOTMgLTE1MzMgMTg1IC0xNTI5IGIgMTc5IC0xNTE0IDE4MSAtMTUxOCAxNzkgLTE1MTcgYiAxODkgLTE0ODkgMTc5IC0xNTA4IDE4MiAtMTUwMSBiIDI2NiAtMTIxNyAyNDAgLTE0MDMgMjY2IC0xMzA4IGIgMjYyIC0xMTU2IDI2NiAtMTE5NiAyNjUgLTExNzcgYiAxMTAgLTkwNyAyNDcgLTEwNDMgMTkwIC05NTAgYiAwIC04ODkgODcgLTg5NSA1MCAtODg5IGwgLTEgLTg4OSBsIC0yNCAtODg5IGwgLTI0IC03NDkgbCAtMjQgLTYxMCBsIC0yMCAtNjEwIGIgMSAtNjMxIC0xMCAtNjEwIC02IC02MTQgYiAxNzUgLTg0NiAzMSAtNjkxIDk2IC03NzEgYiAyNTkgLTk1NiAyMTMgLTg4NCAyMzYgLTkxNCBiIDI2NSAtOTY2IDI2MiAtOTYxIDI2NCAtOTY2IGIgMjY1IC05NjYgMjY1IC05NjYgMjY1IC05NjYgYiAyNjUgLTk1MyAyNjUgLTk2NCAyNjUgLTk1OSBiIDI2NiAtOTIwIDI2NiAtOTQzIDI2NiAtOTMyIGIgMjYyIC04NTMgMjY2IC04OTggMjY1IC04NzMgYiAxMTAgLTYwNSAyNDcgLTc0MSAxOTAgLTY0OCBiIDAgLTU4NyA4NyAtNTkyIDUwIC01ODcgbCAtMSAtNTg3IGwgLTI0IC01ODcgbCAtMjQgLTQ0OCBsIC0yNCAtMzA4IGwgLTIwIC0zMDggYiAxIC0zMjggLTEwIC0zMDggLTYgLTMxMiBiIDE3NSAtNTQ0IDMxIC0zODggOTYgLTQ2OSBiIDI1OSAtNjU1IDIxMyAtNTgxIDIzNiAtNjEyIGIgMjY1IC02NjMgMjYyIC02NTkgMjY0IC02NjMgYiAyNjUgLTY2MyAyNjUgLTY2MyAyNjUgLTY2MyBiIDI2NSAtNjUwIDI2NSAtNjYzIDI2NSAtNjU3IGIgMjY2IC02MTcgMjY2IC02NDEgMjY2IC02MzAgYiAyNjIgLTU1MSAyNjYgLTU5NSAyNjUgLTU3MCBiIDExMCAtMzAzIDI0NyAtNDM4IDE5MCAtMzQ1IGIgMCAtMjg0IDg3IC0yOTAgNTAgLTI4NCBsIC0xIC0yODQgbCAtMjQgLTI4NCBsIC0yNCAtMTQ1IFwifSx2NDk6e3hfbWluOjAseF9tYXg6NjMwLjIwMzEyNSxoYTo2NDMsbzpcIm0gMzA4IDIwNCBiIDMxNCAyMDUgMzEwIDIwNSAzMTMgMjA1IGIgMzI2IDIwMSAzMTkgMjA1IDMyMyAyMDQgYiAzNTUgMTU0IDMyOCAxOTkgMzM4IDE4MCBiIDQwMSA4MyAzNjIgMTQyIDM5MiA5NSBsIDQwOSA3MiBiIDQzMSA0MSA0MTIgNjYgNDI0IDQ5IGIgNjE5IC0xNzQgNDk4IC01MSA1NzAgLTEzNCBiIDYzMCAtMTkyIDYyNiAtMTgwIDYzMCAtMTg2IGIgNjI2IC0yMDIgNjMwIC0xOTUgNjI4IC0xOTkgYiA2MTYgLTIwNiA2MjMgLTIwNSA2MjAgLTIwNiBiIDU1MiAtMTg4IDYwOCAtMjA2IDU5MiAtMjAyIGIgMzEwIC0xNTUgNDg4IC0xNjkgMzkyIC0xNTUgYiAyNjggLTE1NiAyOTUgLTE1NSAyODEgLTE1NSBiIDc3IC0xODggMTk3IC0xNjEgMTI2IC0xNzMgYiAxMyAtMjA2IDM1IC0yMDIgMjAgLTIwNiBiIDkgLTIwNiAxMiAtMjA2IDEwIC0yMDYgYiAwIC0xOTEgMiAtMjAyIDAgLTE5NyBiIDggLTE3NiAwIC0xODYgMiAtMTgwIGIgMjA0IDQ5IDU4IC0xMzYgMTM4IC00MyBsIDIyMCA3MiBsIDIyNyA4MyBiIDI5NSAxODggMjQ1IDEwOCAyODEgMTY2IGIgMzA4IDIwNCAyOTkgMTk3IDMwNCAyMDIgbSAzMTUgMTQ3IGIgMzE0IDE0NyAzMTUgMTQ3IDMxNCAxNDcgYiAzMTQgMTQ3IDMxNCAxNDcgMzE0IDE0NyBiIDMwNiAxMjkgMzE0IDE0NSAzMTAgMTM4IGwgMjk2IDEwNSBiIDI4MSA3MiAyOTIgOTcgMjg0IDc3IGwgMjc0IDU2IGIgMTgxIC0xMjMgMjQ3IC00IDIxMiAtNzIgbCAxNzQgLTEzNCBsIDE3NiAtMTMzIGIgMzE0IC0xMjMgMjE1IC0xMjcgMjcyIC0xMjMgYiA0NTEgLTEzMyAzNTYgLTEyMyA0MTMgLTEyNyBsIDQ1NCAtMTM0IGwgNDQ5IC0xMjMgYiAzNTMgNTYgNDE3IC03MiAzODEgLTQgbCAzNDcgNzIgYiAzMzIgMTA1IDM0NCA3NyAzMzYgOTcgbCAzMjIgMTI5IGIgMzE1IDE0NyAzMTggMTM4IDMxNSAxNDUgXCJ9LHY0YTp7eF9taW46NzAuNzgxMjUseF9tYXg6Mzc4LjM5MDYyNSxoYTozMTUsbzpcIm0gMjQ2IDM3MyBiIDI1NCAzNzMgMjQ5IDM3MyAyNTEgMzczIGIgMzcyIDMyNCAzMDMgMzczIDM2MCAzNTEgYiAzNzggMzAyIDM3NyAzMTcgMzc4IDMwOSBiIDMzOCAyNTEgMzc4IDI3OCAzNjIgMjU1IGIgMzI4IDI0OSAzMzQgMjQ5IDMzMiAyNDkgYiAyODMgMjk0IDMwMyAyNDkgMjgzIDI3MCBiIDI4OCAzMTUgMjgzIDMwMSAyODQgMzA4IGIgMjg5IDMxOSAyODkgMzE3IDI4OSAzMTkgYiAyODkgMzE5IDI4OSAzMTkgMjg5IDMxOSBiIDI4MyAzMjAgMjg5IDMyMCAyODcgMzIwIGIgMjcwIDMyMiAyNzkgMzIyIDI3NCAzMjIgYiAyMDYgMjg4IDI0MiAzMjIgMjE1IDMwOCBiIDIwNiAyODMgMjA2IDI4NyAyMDYgMjg1IGIgMjU3IDIyMyAyMDYgMjY3IDIzMCAyMzggYiAyODQgMjA2IDI3MiAyMTMgMjc3IDIxMCBiIDM1MSA5MCAzMjggMTczIDM1MSAxMzAgYiAzNDAgNDcgMzUxIDc0IDM0OCA1OSBiIDIwNSAtMzAgMzE0IC0yIDI2NCAtMzAgYiAxODIgLTI5IDE5OCAtMzAgMTkwIC0zMCBiIDg0IDE1IDE0NyAtMjQgMTAzIC01IGIgNzAgNDggNzQgMjQgNzAgMzYgYiAxMDggOTkgNzAgNzAgODUgOTQgYiAxMjEgMTAyIDExMiAxMDEgMTE3IDEwMiBiIDE2NyA1NiAxNDcgMTAyIDE2NyA4MCBiIDE1OSAzMSAxNjcgNDggMTY0IDQwIGwgMTU2IDI2IGwgMTU3IDI2IGIgMTkwIDIwIDE2NyAyMiAxNzggMjAgYiAyMjAgMjYgMjAxIDIwIDIxMiAyMiBiIDI1OCA2NSAyNDMgMzQgMjU4IDUxIGIgMjU3IDcwIDI1OCA2NiAyNTggNjkgYiAyMDQgMTI2IDI0OSA5NCAyMzQgMTA5IGIgMTE0IDI1OCAxNDggMTU4IDExNCAyMDkgYiAxMjUgMzAyIDExNCAyNzMgMTE4IDI4OCBiIDI0NiAzNzMgMTQ3IDM0MiAxOTMgMzcwIFwifSx2NGI6e3hfbWluOjAseF9tYXg6NTAzLjYwOTM3NSxoYTo1MTQsbzpcIm0gMjc0IDQzMCBiIDI3NyA0MzAgMjc2IDQzMCAyNzcgNDMwIGIgMzEwIDM5NCAyOTYgNDMwIDMxMCA0MTUgYiAzMDggMzgzIDMxMCAzOTEgMzA4IDM4NyBiIDMwNiAzNjcgMzA3IDM4MSAzMDcgMzc0IGIgMjM2IDEyMCAyOTggMzA1IDI3MiAyMTAgYiA0MCAtMjczIDE4OSAtNSAxMjUgLTEzNCBiIDIwIC0yODcgMzUgLTI4MyAyNyAtMjg3IGIgNSAtMjgxIDE0IC0yODcgOSAtMjg1IGIgMCAtMjY3IDEgLTI3NyAwIC0yNzMgYiA5IC0yNDIgMCAtMjYyIDIgLTI1NSBiIDI0NiAzOTUgMTM3IC0xMiAyMzIgMjQyIGIgMjc0IDQzMCAyNDkgNDE2IDI1NyA0MjcgbSA0NjggNDMwIGIgNDcyIDQzMCA0NjkgNDMwIDQ3MCA0MzAgYiA1MDMgMzk0IDQ5MCA0MzAgNTAzIDQxNSBiIDUwMiAzODMgNTAzIDM5MSA1MDMgMzg3IGIgNDk5IDM2NyA1MDIgMzgxIDUwMCAzNzQgYiA0MzEgMTIwIDQ5MSAzMDUgNDY1IDIxMCBiIDIzNCAtMjczIDM4MiAtNSAzMTggLTEzNCBiIDIxMyAtMjg3IDIyOCAtMjgzIDIyMCAtMjg3IGIgMTk4IC0yODEgMjA4IC0yODcgMjAyIC0yODUgYiAxOTMgLTI2NyAxOTQgLTI3NyAxOTMgLTI3MyBiIDIwMiAtMjQyIDE5MyAtMjYyIDE5NiAtMjU1IGIgNDM5IDM5NSAzMzAgLTEyIDQyNiAyNDIgYiA0NjggNDMwIDQ0MiA0MTYgNDUxIDQyNyBcIn0sdjRkOnt4X21pbjotMzExLjY4NzUseF9tYXg6MzEwLjMyODEyNSxoYTozMTcsbzpcIm0gLTkgMzg4IGIgLTIgMzkwIC04IDM5MCAtNSAzOTAgYiA1IDM4OCAxIDM5MCA0IDM5MCBiIDE5IDM3OCAxMCAzODcgMTYgMzgzIGIgMjMgMzMzIDIzIDM3MSAyMyAzNzEgYiAyNCAyOTggMjMgMjk5IDI0IDI5OCBiIDgxIDI3NiAzNCAyOTggNjUgMjg1IGIgMjEzIDkxIDE0NSAyNDAgMTkwIDE3NyBiIDIyNCAyNCAyMTcgNzYgMjI0IDM2IGIgMjU3IDI0IDIyNCAyNCAyMzUgMjQgYiAyOTkgMTkgMjkyIDI0IDI5MiAyNCBiIDMxMCAtMSAzMDYgMTUgMzEwIDYgYiAyOTkgLTIzIDMxMCAtMTEgMzA2IC0xOSBiIDI1NyAtMjcgMjkyIC0yNyAyOTIgLTI3IGIgMjI0IC0yOSAyMzUgLTI3IDIyNCAtMjkgYiAyMTMgLTk1IDIyNCAtNDAgMjE3IC04MCBiIDgxIC0yODAgMTkwIC0xODEgMTQ1IC0yNDQgYiAyNCAtMzAxIDY1IC0yOTAgMzQgLTMwMSBiIDIzIC0zMzUgMjQgLTMwMSAyMyAtMzAzIGwgMjMgLTM0MCBiIDE3IC0zODEgMjMgLTM3NCAyMyAtMzc0IGIgLTEgLTM5MSAxMyAtMzg4IDUgLTM5MSBiIC0yMSAtMzgxIC05IC0zOTEgLTE3IC0zODggYiAtMjcgLTM0MCAtMjcgLTM3NCAtMjcgLTM3NCBsIC0yNyAtMzM1IGIgLTI4IC0zMDEgLTI3IC0zMDMgLTI3IC0zMDEgYiAtODUgLTI4MCAtMzggLTMwMSAtNjkgLTI5MCBiIC0yMTcgLTk1IC0xNDkgLTI0NCAtMTk0IC0xODEgYiAtMjI4IC0yOSAtMjIxIC04MCAtMjI4IC00MCBiIC0yNTkgLTI3IC0yMjggLTI5IC0yMzggLTI3IGIgLTMwMCAtMjMgLTI5NCAtMjcgLTI5NCAtMjcgYiAtMzExIC0yIC0zMDcgLTE5IC0zMTEgLTExIGIgLTI5NCAyMyAtMzExIDggLTMwNCAxOSBiIC0yNTkgMjQgLTI5MSAyMyAtMjg0IDI0IGIgLTIyOCAyNCAtMjM5IDI0IC0yMjggMjQgYiAtMjE3IDkxIC0yMjggMzYgLTIyMSA3NiBiIC04NSAyNzYgLTE5NCAxNzcgLTE0OSAyNDAgYiAtMjggMjk4IC02OSAyODUgLTM4IDI5OCBiIC0yNyAzMzMgLTI3IDI5OCAtMjcgMjk5IGIgLTI3IDM3MSAtMjcgMzYyIC0yNyAzNjkgYiAtOSAzODggLTI0IDM3OCAtMTcgMzg1IG0gLTI3IDEzNiBiIC0yOCAyNDcgLTI3IDE5NyAtMjggMjQ3IGIgLTYxIDIxNiAtMzEgMjQ3IC01MyAyMjYgYiAtMTIzIDMzIC05NSAxNzIgLTEyMSA5OCBsIC0xMjUgMjQgbCAtNzYgMjQgbCAtMjcgMjQgbCAtMjcgMTM2IG0gMjkgMjQyIGIgMjQgMjQ3IDI3IDI0NSAyNCAyNDcgYiAyMyAxMzYgMjQgMjQ3IDIzIDE5NyBsIDIzIDI0IGwgNzIgMjQgbCAxMjEgMjQgbCAxMTkgMzMgYiAyOSAyNDIgMTE1IDExNiA3NyAyMDYgbSAtMjcgLTE0MCBsIC0yNyAtMjcgbCAtNzYgLTI3IGwgLTEyNSAtMjcgbCAtMTIzIC0zNiBiIC02MSAtMjIwIC0xMjEgLTEwMiAtOTUgLTE3NiBiIC0yOCAtMjUxIC01MyAtMjMwIC0zMSAtMjUxIGIgLTI3IC0xNDAgLTI4IC0yNTEgLTI3IC0yMDEgbSAxMTkgLTM2IGwgMTIxIC0yNyBsIDcyIC0yNyBsIDIzIC0yNyBsIDIzIC0xNDAgYiAyNCAtMjUxIDIzIC0yMDEgMjQgLTI1MSBiIDU3IC0yMjAgMjcgLTI1MSA0OSAtMjMwIGIgMTE5IC0zNiA5MSAtMTc2IDExNyAtMTAyIFwifSx2NGU6e3hfbWluOjAseF9tYXg6MjM5LjU2MjUsaGE6MjQ0LG86XCJtIDEwIDQ2MCBiIDIwIDQ2MiAxMyA0NjIgMTQgNDYyIGIgMzkgNDQ5IDI4IDQ2MiAzNSA0NTggbCA0MCA0NDYgbCA0MCAzMjYgYiA0MCAyMDUgNDAgMjU5IDQwIDIwNSBiIDEyNyAyMjcgNDAgMjA1IDgwIDIxNSBiIDIyMCAyNDkgMTk2IDI0NCAyMTMgMjQ5IGIgMjI3IDI0NyAyMjQgMjQ5IDIyNSAyNDggYiAyMzggMjM3IDIzMSAyNDUgMjM1IDI0MSBsIDIzOSAyMzMgbCAyMzkgLTEwNiBsIDIzOSAtNDQ4IGwgMjM4IC00NTEgYiAyMTkgLTQ2MyAyMzQgLTQ1OSAyMjUgLTQ2MyBiIDE5OCAtNDUxIDIxMCAtNDYzIDIwMiAtNDU5IGwgMTk3IC00NDggbCAxOTcgLTMyNCBiIDE5NyAtMjAxIDE5NyAtMjQ4IDE5NyAtMjAxIGIgMTEwIC0yMjMgMTk2IC0yMDEgMTU3IC0yMTAgYiAxNyAtMjQ1IDQyIC0yNDAgMjQgLTI0NSBiIDEwIC0yNDIgMTMgLTI0NSAxMyAtMjQ0IGIgMCAtMjMzIDYgLTI0MSAyIC0yMzcgbCAwIC0yMzAgbCAwIDEwOCBsIDAgNDQ2IGwgMCA0NDkgYiAxMCA0NjAgMiA0NTMgNiA0NTggbSAxOTcgMjIgYiAxOTcgNzAgMTk3IDQxIDE5NyA1OCBiIDE5NiAxMTYgMTk3IDExMyAxOTcgMTE2IGwgMTk2IDExNiBiIDExOCA5NyAxOTYgMTE2IDE2MCAxMDYgbCA0MCA3NyBsIDQwIC0xOCBiIDQwIC0xMTIgNDAgLTY5IDQwIC0xMTIgbCAxMTkgLTkzIGwgMTk3IC03MyBsIDE5NyAyMiBcIn0sdjUxOnt4X21pbjotMS4zNTkzNzUseF9tYXg6NDU1Ljk2ODc1LGhhOjQ2NSxvOlwibSAzNTIgNTQxIGIgMzU3IDU0MiAzNTMgNTQyIDM1NSA1NDIgYiAzNzcgNTMwIDM2NCA1NDIgMzcyIDUzNyBsIDM3OCA1MjYgbCAzNzggMzk0IGwgMzc5IDI2MiBsIDQwNCAyNjYgYiA0MzYgMjcwIDQyMCAyNjkgNDMwIDI3MCBiIDQ1MCAyNjUgNDQzIDI3MCA0NDYgMjY5IGIgNDU1IDIyMCA0NTUgMjU5IDQ1NSAyNjAgbCA0NTUgMjA4IGwgNDU1IDE2MSBsIDQ1NCAxNTYgYiA0MTEgMTQwIDQ0OSAxNDcgNDQ3IDE0NyBiIDM3OCAxMzMgMzkzIDEzNyAzNzkgMTM0IGIgMzc4IDY4IDM3OCAxMzMgMzc4IDEwNiBiIDM3OCAyMiAzNzggNTQgMzc4IDM4IGwgMzc5IC04NyBsIDQwNCAtODMgYiA0MzYgLTc5IDQyMCAtODAgNDMwIC03OSBiIDQ1MCAtODQgNDQzIC03OSA0NDYgLTgwIGIgNDU1IC0xMjkgNDU1IC05MCA0NTUgLTg4IGwgNDU1IC0xNDEgbCA0NTUgLTE4OCBsIDQ1NCAtMTkyIGIgNDEzIC0yMDkgNDQ5IC0yMDIgNDQ3IC0yMDIgYiAzODIgLTIxNSAzOTggLTIxMiAzODMgLTIxNSBsIDM3OCAtMjE1IGwgMzc4IC0zNDUgbCAzNzggLTM4MCBiIDM3NSAtNDg1IDM3OCAtNDg0IDM3OCAtNDgwIGIgMzU3IC00OTQgMzcxIC00OTEgMzY0IC00OTQgYiAzNDAgLTQ4NSAzNTEgLTQ5NCAzNDQgLTQ5MSBiIDMzNiAtMzgzIDMzNyAtNDgwIDMzNiAtNDg0IGwgMzM2IC0zNDkgbCAzMzYgLTIyMyBsIDMzNCAtMjIzIGIgMjkxIC0yMzEgMzM0IC0yMjMgMzE0IC0yMjcgbCAyNDcgLTI0MCBsIDI0NyAtMzcxIGwgMjQ2IC01MDMgbCAyNDUgLTUwNiBiIDIyNSAtNTE5IDI0MiAtNTE0IDIzNCAtNTE5IGIgMjA2IC01MDYgMjE5IC01MTkgMjEwIC01MTQgbCAyMDUgLTUwMyBsIDIwNSAtMzc2IGwgMjA1IC0yNDggbCAxNjAgLTI1NiBsIDExNSAtMjY1IGwgMTE1IC0zOTYgbCAxMTUgLTUyNyBsIDExNCAtNTMxIGIgOTUgLTU0NCAxMTAgLTUzOSAxMDIgLTU0NCBiIDc2IC01MzEgODcgLTU0NCA3OCAtNTM5IGwgNzMgLTUyNyBsIDczIC0zOTkgYiA3MyAtMjczIDczIC0zMzAgNzMgLTI3MyBiIDQ5IC0yNzcgNzMgLTI3MyA2MSAtMjc0IGIgMTcgLTI4MSAzMiAtMjgwIDI0IC0yODEgYiA0IC0yNzYgMTAgLTI4MSA4IC0yODAgYiAtMSAtMjM0IDAgLTI2OSAtMSAtMjcyIGIgMCAtMjE5IC0xIC0yMjkgMCAtMjI0IGwgMCAtMTcwIGwgMSAtMTY3IGIgMTAgLTE1OCAyIC0xNjMgNiAtMTU5IGIgNDkgLTE0OSAxMyAtMTU2IDE2IC0xNTUgbCA3MyAtMTQ1IGwgNzMgLTM0IGIgNzMgNzYgNzMgMjYgNzMgNzYgYiA0OSA3MiA3MyA3NiA2MSA3NCBiIDE3IDY4IDMyIDY5IDI0IDY4IGIgNCA3MyAxMCA2OCA4IDY5IGIgLTEgMTE1IDAgODAgLTEgNzcgYiAwIDEzMCAtMSAxMjAgMCAxMjQgbCAwIDE3OSBsIDEgMTgxIGIgMTAgMTkxIDIgMTg2IDYgMTkwIGIgNDkgMTk5IDEzIDE5MiAxNiAxOTQgbCA3MyAyMDQgbCA3MyAzMzggYiA3MyAzNzQgNzMgMzUyIDczIDM2NSBiIDc3IDQ4MyA3MyA0ODQgNzMgNDc3IGIgOTUgNDkyIDgxIDQ4OSA4OCA0OTIgYiAxMTEgNDgzIDEwMCA0OTIgMTA3IDQ4OSBiIDExNSAzNzggMTE1IDQ3NyAxMTUgNDgzIGwgMTE1IDM0MiBiIDExNyAyMTIgMTE1IDIyMyAxMTUgMjEyIGIgMjA0IDIyOSAxMTcgMjEyIDIwMCAyMjcgbCAyMDUgMjI5IGwgMjA1IDM2NSBsIDIwNSA1MDIgbCAyMDYgNTA1IGIgMjI1IDUxNyAyMTAgNTEzIDIxOSA1MTcgYiAyNDUgNTA1IDIzNCA1MTcgMjQyIDUxMyBsIDI0NiA1MDIgbCAyNDcgMzY5IGwgMjQ3IDIzNyBsIDI0OSAyMzcgYiAzMzYgMjU0IDI1MyAyMzggMzM2IDI1NCBiIDMzNyAzOTAgMzM2IDI1NCAzMzcgMzAyIGwgMzM3IDUyNiBsIDMzOCA1MzAgYiAzNTIgNTQxIDM0MSA1MzUgMzQ3IDUzOSBtIDMzNiAxNSBiIDMzNiAxMjYgMzM2IDEwMiAzMzYgMTI2IGwgMzM2IDEyNiBiIDI5MSAxMTcgMzM2IDEyNiAzMTUgMTIyIGwgMjQ3IDEwOSBsIDI0NyAtMSBsIDI0NyAtMTEyIGwgMjQ5IC0xMTIgYiAzMzYgLTk1IDI1MyAtMTExIDMzNiAtOTUgYiAzMzYgMTUgMzM2IC05NSAzMzYgLTU2IG0gMjA1IC0xMjAgYiAyMDUgLTU1IDIwNSAtMTIwIDIwNSAtOTMgYiAyMDUgLTkgMjA1IC00MSAyMDUgLTI0IGwgMjA1IDEwMSBsIDE2MCA5MyBsIDExNSA4NCBsIDExNSAtMjYgYiAxMTUgLTgzIDExNSAtNDkgMTE1IC02OSBiIDExNyAtMTM3IDExNSAtMTMzIDExNSAtMTM3IGIgMjA1IC0xMjAgMTE4IC0xMzcgMjA0IC0xMjAgXCJ9LHY1Mjp7eF9taW46LTEwLjg5MDYyNSx4X21heDoyOTguMDc4MTI1LGhhOjI5NCxvOlwibSAxMzggNDczIGIgMTQyIDQ3NCAxNDAgNDczIDE0MSA0NzQgYiAxNjQgNDU5IDE0OCA0NzQgMTUzIDQ3MCBiIDE5MSA0MDIgMTgzIDQ0MiAxOTEgNDIzIGIgMTgxIDM1MyAxOTEgMzg4IDE4NyAzNzEgYiAxNzggMzQ5IDE3OSAzNTIgMTc4IDM0OSBiIDE3OSAzNDggMTc4IDM0OCAxNzkgMzQ4IGIgMTg1IDM0OSAxODEgMzQ4IDE4MiAzNDggYiAyNTUgMzc2IDIxMCAzNTUgMjM0IDM2MyBiIDI3MiAzODEgMjY0IDM4MSAyNjYgMzgxIGIgMjk4IDM1NSAyODcgMzgxIDI5OCAzNzAgYiAyODggMzMwIDI5OCAzNDggMjk4IDM0NSBiIDE3MSAzNCAyMzggMjU0IDE5NCAxNDEgYiAxNjYgMTMgMTY4IDE2IDE2OCAxNiBiIDE0NCAxIDE2MSA1IDE1MiAxIGIgMTIxIDE1IDEzNCAxIDEyNSA1IGIgMTE1IDMzIDExOSAxOCAxMTcgMjQgYiAwIDMzMCA5MSAxNDUgNDkgMjUyIGIgLTEwIDM1NSAtOSAzNDUgLTEwIDM0OCBiIDEzIDM4MSAtMTAgMzcxIDAgMzgxIGIgMzEgMzc2IDE5IDM4MSAyNSAzODAgYiAxMzIgMzQ1IDYxIDM1OCAxMDMgMzQ1IGwgMTM2IDM0NSBsIDEzNyAzNTUgYiAxNDUgMzc4IDEzOCAzNTkgMTQyIDM3MCBiIDE1MiA0MTUgMTQ5IDM5NCAxNTIgNDA1IGIgMTM3IDQ1MiAxNTIgNDI3IDE0OCA0MzggYiAxMzMgNDY0IDEzNCA0NTggMTMzIDQ2MCBiIDEzOCA0NzMgMTMzIDQ2NyAxMzQgNDcwIFwifSx2NTM6e3hfbWluOjAseF9tYXg6OTAyLjQyMTg3NSxoYTo5MjEsbzpcIm0gMTcgMjQwIGIgMjQgMjQxIDE5IDI0MSAyMSAyNDEgYiAzMiAyNDAgMjggMjQxIDMxIDI0MSBiIDQ2IDIyOSAzOCAyMzggNDMgMjM0IGIgNTAgODggNTAgMjIzIDUwIDIzNyBiIDUwIC0xIDUwIDYzIDUwIDM0IGIgNTAgLTkwIDUwIC0zNiA1MCAtNjUgYiA0NiAtMjMxIDUwIC0yMzggNTAgLTIyNCBiIDI1IC0yNDIgNDIgLTIzOCAzNCAtMjQyIGIgMCAtMjI0IDE0IC0yNDIgNCAtMjM1IGIgMCAyIDAgLTIyMiAwIC0xMDggYiAwIDIyMyAwIDExMiAwIDIyMCBiIDE3IDI0MCAyIDIzMCA5IDIzNyBtIDExMCAyNDAgYiAxMTggMjQxIDExMSAyNDEgMTE0IDI0MSBiIDEyNiAyNDAgMTIxIDI0MSAxMjMgMjQxIGIgMTQyIDIyMyAxMzMgMjM3IDE0MCAyMzAgYiAxNDQgMTIzIDE0NCAyMjAgMTQ0IDIwNSBiIDE0NCAyOSAxNDQgNDUgMTQ0IDI5IGIgMTQ0IDI5IDE0NCAyOSAxNDQgMjkgYiAzOTMgMTgzIDE2NiAxMDYgMjY0IDE2NyBiIDQ1MCAxODYgNDEyIDE4NCA0MzEgMTg2IGIgNzU2IDI5IDYwMCAxODYgNzMyIDEyMCBiIDc1NiAyOSA3NTYgMjkgNzU2IDI5IGIgNzU4IDEyMyA3NTggMjkgNzU4IDQ1IGIgNzYwIDIyNyA3NTggMjI2IDc1OCAyMjMgYiA3ODQgMjQxIDc2NiAyMzcgNzc0IDI0MSBiIDgwNCAyMjkgNzkyIDI0MSA4MDAgMjM3IGIgODA5IDg4IDgwOCAyMjMgODA5IDIzNyBsIDgwOSAtMSBsIDgwOSAtOTAgYiA4MDQgLTIzMSA4MDkgLTIzOCA4MDggLTIyNCBiIDc4NCAtMjQyIDgwMCAtMjM4IDc5MiAtMjQyIGIgNzYyIC0yMzEgNzc1IC0yNDIgNzY2IC0yMzggYiA3NTggLTEyNCA3NTYgLTIyNCA3NTggLTIzMSBiIDc1NiAtMzAgNzU4IC00NyA3NTggLTMwIGIgNzU2IC0zMCA3NTYgLTMwIDc1NiAtMzAgYiA1MDkgLTE4NCA3MzYgLTEwOCA2MzcgLTE2OSBiIDQ1MCAtMTg3IDQ4OCAtMTg3IDQ2OSAtMTg3IGIgMTQ0IC0zMCAzMDAgLTE4NyAxNjggLTEyMiBiIDE0NCAtMzAgMTQ0IC0zMCAxNDQgLTMwIGIgMTQ0IC0xMjQgMTQ0IC0zMCAxNDQgLTQ3IGIgMTQwIC0yMzEgMTQ0IC0yMzEgMTQ0IC0yMjQgYiAxMTggLTI0MiAxMzQgLTIzOCAxMjYgLTI0MiBiIDkyIC0yMjQgMTA3IC0yNDIgOTYgLTIzNSBiIDkyIDIgOTIgLTIyMiA5MiAtMTA4IGIgOTIgMjIzIDkyIDExMiA5MiAyMjAgYiAxMTAgMjQwIDk1IDIzMCAxMDIgMjM3IG0gNDMyIDE2MSBiIDQxMyAxNjIgNDI2IDE2MiA0MjAgMTYyIGIgMzEzIDQxIDM1MSAxNjIgMzEzIDEwOSBiIDM0NyAtNzMgMzEzIDUgMzIzIC0zNCBiIDQ4NyAtMTYzIDM4NSAtMTMzIDQzOSAtMTYzIGIgNTc4IC05NyA1MjYgLTE2MyA1NjIgLTE0MiBiIDU4OCAtNDMgNTg1IC04MCA1ODggLTYyIGIgNDMyIDE2MSA1ODggNDcgNTE4IDE0NyBtIDg2OCAyNDAgYiA4NzYgMjQxIDg2OSAyNDEgODcyIDI0MSBiIDg4NCAyNDAgODc5IDI0MSA4ODIgMjQxIGIgODk4IDIyOSA4OTAgMjM4IDg5NCAyMzQgYiA5MDIgODggOTAyIDIyMyA5MDIgMjM3IGwgOTAyIC0xIGwgOTAyIC05MCBiIDg5OCAtMjMxIDkwMiAtMjM4IDkwMiAtMjI0IGIgODc2IC0yNDIgODkyIC0yMzggODg0IC0yNDIgYiA4NTIgLTIyNCA4NjUgLTI0MiA4NTQgLTIzNSBiIDg1MCAyIDg1MCAtMjIyIDg1MCAtMTA4IGIgODUyIDIyMyA4NTAgMTEyIDg1MCAyMjAgYiA4NjggMjQwIDg1MyAyMzAgODYwIDIzNyBcIn0sdjU0Ont4X21pbjotMjQuNSx4X21heDozMTcuMTQwNjI1LGhhOjMyNCxvOlwibSAtMjQgLTE2MSBsIC0yNCAtNSBsIC0yMCAtNSBiIDAgLTI0IC05IC01IC0yIC0xMiBiIDE3MSAtMzE1IDIxIC0xMjQgODQgLTIzMyBiIDMxNyAtNjYwIDI2OCAtNDA2IDMxNyAtNTMxIGIgMTg3IC0xMDE0IDMxNyAtNzgyIDI3NCAtOTA5IGIgMTYxIC0xMDM0IDE3MiAtMTAzNCAxNzEgLTEwMzQgYiAxNDEgLTEwMTMgMTQ5IC0xMDM0IDE0MSAtMTAyNSBiIDE1MiAtOTkxIDE0MSAtMTAwNCAxNDIgLTEwMDIgYiAyNjYgLTY4MiAyMjggLTg5OSAyNjYgLTc4OCBiIDE3NCAtNDMwIDI2NiAtNTg4IDIzNiAtNDk4IGIgLTIzIC0zMTcgMTM2IC0zODggNjYgLTM0OCBiIC0yNCAtMTYxIC0yMyAtMzE2IC0yNCAtMjg1IFwifSx2NTU6e3hfbWluOjAseF9tYXg6NTUxLjI1LGhhOjU2MyxvOlwibSAyODkgNjQ0IGIgMzA0IDY0NSAyOTQgNjQ1IDI5OSA2NDUgYiA0MDQgNTY2IDM0OSA2NDUgMzkyIDYxMyBiIDQwNiA1NDEgNDA1IDU1NyA0MDYgNTQ5IGIgMzc5IDQ3MSA0MDYgNTE0IDM5NyA0ODkgbCAzNzcgNDY3IGwgMzgyIDQ3MCBiIDUwOSA1OTEgNDM4IDQ4NSA0ODUgNTMxIGIgNTEzIDYwMSA1MTAgNTk1IDUxMyA1OTkgYiA1MzAgNjA5IDUxOCA2MDcgNTI0IDYwOSBiIDU1MSA1ODggNTQwIDYwOSA1NTEgNjAyIGIgMjAwIC02MDUgNTUxIDU4NCAyMDQgLTU5OSBiIDE4MiAtNjE2IDE5NyAtNjEyIDE5MCAtNjE2IGIgMTYzIC02MDIgMTc0IC02MTYgMTY2IC02MTAgYiAxNjEgLTU5OCAxNjEgLTYwMSAxNjEgLTYwMSBiIDIxNyAtNDAyIDE2MSAtNTg5IDE3MCAtNTYyIGIgMjcyIC0yMTMgMjQ3IC0yOTggMjcyIC0yMTMgYiAyNzIgLTIxMyAyNzIgLTIxMyAyNzIgLTIxMyBiIDI2NCAtMjE5IDI3MiAtMjEzIDI2OCAtMjE2IGIgMTQwIC0yNjIgMjI3IC0yNDcgMTgyIC0yNjIgYiAzNiAtMjI2IDEwMiAtMjYyIDY1IC0yNDkgYiAwIC0xNDUgMTIgLTIwNiAwIC0xNzYgYiAxNyAtODQgMCAtMTI0IDUgLTEwNCBiIDEwMyAtMzggMzggLTU0IDcwIC0zOCBiIDE5MSAtOTEgMTM3IC0zOCAxNzIgLTU2IGIgMjA1IC0xNDEgMjAxIC0xMDYgMjA1IC0xMjQgYiAxNzggLTIxMiAyMDUgLTE2NyAxOTYgLTE5NCBsIDE3NSAtMjE1IGwgMTgyIC0yMTMgYiAzMDcgLTkzIDIzNiAtMTk4IDI4NCAtMTUxIGIgMzcyIDEyOSAzMDggLTg4IDM3MiAxMjcgYiAzNzIgMTI5IDM3MiAxMjkgMzcyIDEyOSBiIDM2NCAxMjIgMzcyIDEyOSAzNjggMTI2IGIgMjQwIDgwIDMyOCA5NCAyODMgODAgYiAxMzcgMTE1IDIwMiA4MCAxNjYgOTEgYiA5OSAxOTUgMTEyIDEzNiA5OSAxNjUgYiAxMTggMjU2IDk5IDIxNyAxMDYgMjM4IGIgMjA0IDMwMyAxMzggMjg3IDE3MSAzMDMgYiAyOTIgMjQ5IDIzOCAzMDMgMjczIDI4NSBiIDMwNiAxOTkgMzAyIDIzNCAzMDYgMjE3IGIgMjc5IDEyOSAzMDYgMTczIDI5NiAxNDggbCAyNzYgMTI2IGwgMjgxIDEyNyBiIDQwOCAyNDggMzM2IDE0MiAzODUgMTkwIGIgNDczIDQ3MCA0MDkgMjU0IDQ3MyA0NjkgYiA0NzMgNDcwIDQ3MyA0NzAgNDczIDQ3MCBiIDQ2NSA0NjQgNDczIDQ3MCA0NjkgNDY3IGIgMzQxIDQyMSA0MjggNDM1IDM4MyA0MjEgYiAyMzYgNDU4IDMwMyA0MjEgMjY2IDQzMyBiIDIwMCA1MzcgMjEyIDQ3OCAyMDAgNTA4IGIgMjg5IDY0NCAyMDAgNTg1IDIzNCA2MzUgXCJ9LHY1ODp7eF9taW46LTIxLjc4MTI1LHhfbWF4OjM2Ny41LGhhOjM3NSxvOlwibSAyNTkgMTU1MyBiIDI2NSAxNTUzIDI2MSAxNTUzIDI2NCAxNTUzIGIgMjg4IDE1NDAgMjcyIDE1NTMgMjc3IDE1NTAgYiAzNjcgMTM1MSAzNDAgMTQ5MyAzNjcgMTQyNCBiIDMzNiAxMjIxIDM2NyAxMzA4IDM1NyAxMjYzIGwgMzMyIDEyMTEgbCAzMzMgMTIwOCBiIDM2NyAxMDc3IDM1NiAxMTcwIDM2NyAxMTI0IGIgMzM2IDk0NSAzNjcgMTAzMiAzNTcgOTg2IGwgMzMyIDkzNSBsIDMzMyA5MzIgYiAzNjcgODAwIDM1NiA4OTMgMzY3IDg0OCBiIDMzNiA2NjkgMzY3IDc1NiAzNTcgNzEwIGwgMzMyIDY1OSBsIDMzMyA2NTYgYiAzNjcgNTIzIDM1NiA2MTcgMzY3IDU3MSBiIDM0NSA0MTIgMzY3IDQ4NSAzNjAgNDQ2IGIgMjMxIDI3MyAzMjIgMzU2IDI4NCAzMTAgYiAtMSAxOSAxMjEgMTk1IDI3IDkzIGIgLTE3IDQgLTQgMTEgLTEwIDUgbCAtMjEgNCBsIC0yMSAxMzQgbCAtMjEgMjY1IGwgLTE3IDI2NSBiIDEzMyAyOTEgMjAgMjY1IDk2IDI3OCBiIDMxOCA1MzcgMjQ1IDMyOCAzMTggNDMzIGIgMzA3IDYwMyAzMTggNTU5IDMxNSA1ODIgYiAzMDMgNjE0IDMwNCA2MTIgMzA0IDYxNCBiIDI5OCA2MDkgMzAyIDYxNCAzMDAgNjEzIGIgMjMxIDU0OSAyODEgNTg5IDI1OCA1NjcgYiAtMSAyOTUgMTIxIDQ3MSAyNyAzNjkgYiAtMTcgMjgwIC00IDI4NyAtMTAgMjgxIGwgLTIxIDI4MCBsIC0yMSA0MTAgbCAtMjEgNTQxIGwgLTE3IDU0MSBiIDEzMyA1NjcgMjAgNTQxIDk2IDU1NSBiIDMxOCA4MTMgMjQ1IDYwNSAzMTggNzA5IGIgMzA3IDg4MCAzMTggODM1IDMxNSA4NTkgYiAzMDMgODkxIDMwNCA4ODggMzA0IDg5MSBiIDI5OCA4ODUgMzAyIDg5MSAzMDAgODg4IGIgMjMxIDgyNSAyODEgODY2IDI1OCA4NDMgYiAtMSA1NzEgMTIxIDc0OCAyNyA2NDUgYiAtMTcgNTU2IC00IDU2MyAtMTAgNTU3IGwgLTIxIDU1NiBsIC0yMSA2ODcgbCAtMjEgODE3IGwgLTE3IDgxNyBiIDEzMyA4NDMgMjAgODE3IDk2IDgzMCBiIDMxOCAxMDg5IDI0NSA4ODEgMzE4IDk4NSBiIDMwNyAxMTU2IDMxOCAxMTExIDMxNSAxMTM0IGIgMzAzIDExNjcgMzA0IDExNjQgMzA0IDExNjcgYiAyOTggMTE2MSAzMDIgMTE2NyAzMDAgMTE2NCBiIDIzMSAxMTAyIDI4MSAxMTQwIDI1OCAxMTIwIGIgLTEgODQ4IDEyMSAxMDI0IDI3IDkyMSBiIC0xNyA4MzIgLTQgODM5IC0xMCA4MzQgbCAtMjEgODMyIGwgLTIxIDk2MyBsIC0yMSAxMDkzIGwgLTE3IDEwOTMgYiAxMTQgMTExMyAxMiAxMDkzIDc4IDExMDMgYiAzMTMgMTMxNCAyMTUgMTE0MiAyODkgMTIxOCBiIDMxOCAxMzY0IDMxNyAxMzMxIDMxOCAxMzQ3IGIgMjU1IDE1MTEgMzE4IDE0MjIgMjk1IDE0NzggYiAyNDMgMTUzMiAyNDcgMTUxOSAyNDMgMTUyNSBiIDI1OSAxNTUzIDI0MyAxNTQwIDI1MCAxNTUwIFwifSx2NTk6e3hfbWluOjAseF9tYXg6NDY0LjE0MDYyNSxoYTo0NzQsbzpcIm0gMCAwIGwgMCAzNDcgbCA3NiAzNDcgbCAxNTMgMzQ3IGwgMTUzIDAgbCAxNTMgLTM0OCBsIDc2IC0zNDggbCAwIC0zNDggbCAwIDAgbSAzMDggLTEgbCAzMDggMzQ3IGwgMzg2IDM0NyBsIDQ2NCAzNDcgbCA0NjQgLTEgbCA0NjQgLTM0OCBsIDM4NiAtMzQ4IGwgMzA4IC0zNDggbCAzMDggLTEgXCJ9LHY1YTp7eF9taW46LTE3MS41LHhfbWF4OjE3MC4xNDA2MjUsaGE6MTc0LG86XCJtIC02IDU2NiBiIDAgNTY3IC01IDU2NyAtMiA1NjcgYiAxNCA1NTYgNiA1NjcgMTIgNTYzIGIgOTIgMjg1IDE0IDU1NSA1MCA0MzMgYiAxNzAgMTMgMTY2IDMzIDE3MCAxOSBiIDE2OCAxMyAxNzAgMTMgMTcwIDEzIGIgMTYxIDEgMTY4IDggMTY3IDQgbCAxNTkgMCBsIDEyMiAwIGwgODQgMCBsIDgxIDEgYiAyMSAxOTUgNzYgNSA3OCAtNSBiIC0zMiAzODEgLTggMjk3IC0zMiAzODEgYiAtODcgMTk3IC0zMiAzODEgLTU3IDI5OCBiIC0xNDEgOCAtMTE1IDk0IC0xNDAgOSBiIC0xNTUgMCAtMTQyIDIgLTE0OSAwIGIgLTE3MSAxNSAtMTYzIDAgLTE3MSA1IGIgLTE0IDU1NiAtMTcxIDE4IC0yNCA1MjggYiAtNiA1NjYgLTE0IDU2MCAtMTAgNTY0IFwifSx2NWI6e3hfbWluOi00NDEseF9tYXg6NDM5LjY0MDYyNSxoYTo0NDksbzpcIm0gLTQyOCAtMiBiIC00MjEgMCAtNDI3IC0xIC00MjQgMCBiIC00MDYgLTYgLTQxNiAwIC00MDkgLTIgYiAtNDAwIC0zMSAtNDAxIC0xMiAtNDAwIC0xNSBiIC0xIC0zNTIgLTM5MiAtMjE1IC0yMTUgLTM1MiBiIDU4IC0zNDkgMTkgLTM1MiAzOCAtMzUxIGIgMzk4IC0zMSAyNTAgLTMyNiAzOTIgLTE5MiBiIDQwNCAtNiAzOTggLTE1IDQwMCAtMTIgYiA0MTkgLTEgNDA4IC0yIDQxMyAtMSBiIDQzOSAtMTMgNDI3IC0xIDQzNSAtNSBiIDQzOSAtMjkgNDM5IC0xNiA0MzkgLTIyIGIgNDM0IC0xMDUgNDM5IC00OCA0MzggLTgwIGIgMCAtNDg5IDM5NyAtMzMzIDIxMyAtNDg5IGIgLTY4IC00ODQgLTIzIC00ODkgLTQ0IC00ODggYiAtNDQxIC0zNiAtMjgwIC00NTIgLTQzNiAtMjYzIGIgLTQ0MSAtMzAgLTQ0MSAtMzQgLTQ0MSAtMzEgYiAtNDI4IC0yIC00NDEgLTExIC00MzkgLTUgbSAtMTMgLTkgYiAtMSAtOCAtOSAtOCAtNSAtOCBiIDUwIC0zNiAxOSAtOCAzOSAtMTkgYiA2MSAtNzIgNTcgLTQ3IDYxIC01OSBiIDUwIC0xMDYgNjEgLTg0IDU3IC05NyBiIC0xIC0xMzQgMzkgLTEyNCAxOSAtMTM0IGIgLTQ2IC0xMTUgLTE3IC0xMzQgLTM0IC0xMjkgYiAtNjIgLTcyIC01NyAtMTAyIC02MiAtODcgYiAtMTMgLTkgLTYyIC00NCAtNDQgLTE2IFwifSx2NWM6e3hfbWluOjAseF9tYXg6NDQ3LjgxMjUsaGE6NDU3LG86XCJtIDAgLTg3IGwgMCAwIGwgMjIzIDAgbCA0NDcgMCBsIDQ0NyAtODcgbCA0NDcgLTE3NCBsIDIyMyAtMTc0IGwgMCAtMTc0IGwgMCAtODcgXCJ9LHY1ZDp7eF9taW46LTEuMzU5Mzc1LHhfbWF4OjU5Mi4wNzgxMjUsaGE6NjA0LG86XCJtIDI4MCA2OTIgYiAyOTUgNjk0IDI4MyA2OTIgMjg5IDY5NCBiIDMxMCA2OTIgMzAwIDY5NCAzMDcgNjkyIGIgMzU3IDYzMCAzNDAgNjg0IDM1NyA2NTcgYiAzMzYgNTgwIDM1NyA2MTIgMzUxIDU5NCBiIDMxMSA1MzggMzIxIDU2NiAzMTEgNTQ5IGIgMzUyIDQ5MiAzMTEgNTEyIDMzMCA0OTIgYiAzNjYgNDk1IDM1NyA0OTIgMzYyIDQ5MiBiIDM5NyA1NTMgMzkwIDUwMyAzOTcgNTE3IGIgNDE1IDYwMyAzOTcgNTc2IDQwMiA1OTEgYiA0NjAgNjIzIDQyNyA2MTcgNDQzIDYyMyBiIDUwOSA1OTkgNDc5IDYyMyA0OTggNjE0IGIgNTIyIDU1OSA1MTggNTg3IDUyMiA1NzMgYiA0OTQgNTA2IDUyMiA1MzggNTEzIDUxOSBiIDQ1MSA0OTUgNDgxIDQ5OCA0NzMgNDk2IGIgNDE1IDQ4OCA0MzIgNDk1IDQyNiA0OTQgYiAzOTQgNDQ5IDQwNCA0ODMgMzk0IDQ2NCBiIDM5NCA0NDggMzk0IDQ0OCAzOTQgNDQ4IGwgMzk0IDQ0MCBsIDM5NyA0MzMgYiA0MjggNDA5IDQwNCA0MjAgNDEzIDQxMyBiIDQzOCA0MDggNDMxIDQwOCA0MzUgNDA4IGIgNDc5IDQzMSA0NTAgNDA4IDQ2MiA0MTUgYiA1MjggNDU1IDQ5NSA0NDggNTEwIDQ1NSBiIDU0OCA0NTIgNTM0IDQ1NSA1NDEgNDUzIGIgNTkyIDM5MSA1NzcgNDQyIDU5MiA0MTYgYiA1NDkgMzMxIDU5MiAzNjUgNTc3IDM0MCBiIDUyOCAzMjcgNTQxIDMyOCA1MzQgMzI3IGIgNDc5IDM1MSA1MTAgMzI3IDQ5NSAzMzUgYiA0MzggMzc0IDQ2NCAzNjcgNDUwIDM3NCBiIDQxNyAzNjkgNDMxIDM3NCA0MjQgMzczIGIgMzk0IDMzMyA0MDIgMzYwIDM5NCAzNDggYiA0MDAgMzEyIDM5NCAzMjYgMzk2IDMxOSBiIDQ1MSAyODcgNDA4IDI5NCA0MjAgMjg4IGIgNTEzIDI1OCA0ODQgMjg1IDQ5OSAyNzggYiA1MjIgMjIzIDUxOSAyNDcgNTIyIDIzNCBiIDQ2MSAxNTkgNTIyIDE5MCA0OTYgMTU5IGIgNDQ5IDE2MSA0NTcgMTU5IDQ1MyAxNTkgYiAzOTcgMjI5IDQxNiAxNjcgMzk3IDE5MSBiIDM2NiAyODggMzk3IDI2NSAzOTAgMjc4IGIgMzUyIDI5MCAzNjIgMjkwIDM1NyAyOTAgYiAzMTUgMjYyIDMzNiAyOTAgMzIxIDI4MCBiIDMxMSAyNDUgMzEzIDI1NiAzMTEgMjUxIGIgMzM0IDIwNCAzMTEgMjMzIDMxOCAyMjAgYiAzNTUgMTcwIDM0OCAxOTAgMzUxIDE4NCBiIDM1NyAxNTIgMzU2IDE2NiAzNTcgMTU5IGIgMzU1IDEzNiAzNTcgMTQ3IDM1NiAxNDAgYiAyOTUgODggMzQ1IDEwNCAzMjEgODggYiAyMzIgMTUyIDI2NCA4OCAyMzIgMTEyIGIgMjU1IDIwNCAyMzIgMTc0IDIzOCAxODYgYiAyNzkgMjQ0IDI3MyAyMjIgMjc5IDIzMSBsIDI3OSAyNDUgYiAyMzggMjkwIDI3OSAyNzAgMjU5IDI5MCBiIDIyNCAyODggMjM0IDI5MCAyMjggMjkwIGIgMTkzIDIyOSAyMDAgMjc4IDE5MyAyNjUgYiAxNDEgMTYxIDE5MyAxOTEgMTc0IDE2NyBiIDEyOSAxNTkgMTM3IDE1OSAxMzMgMTU5IGIgNjggMjIzIDkzIDE1OSA2OCAxOTAgYiA3NyAyNTggNjggMjM0IDcwIDI0NyBiIDEzOCAyODcgOTEgMjc4IDEwNiAyODUgYiAxODUgMzAyIDE2NiAyODcgMTc1IDI5MSBiIDE5NiAzMzMgMTkzIDMxMiAxOTYgMzIzIGIgMTc0IDM2OSAxOTYgMzQ3IDE4NyAzNjAgYiAxNTIgMzc0IDE2NiAzNzMgMTU5IDM3NCBiIDExMSAzNTEgMTQwIDM3NCAxMjYgMzY3IGIgNjIgMzI3IDk1IDMzNSA4MCAzMjcgYiA1MSAzMjggNTggMzI3IDU0IDMyNyBiIC0xIDM5MSAxNiAzMzQgLTEgMzYzIGIgNTMgNDU1IC0xIDQyMCAxNyA0NDkgYiA2MiA0NTUgNTcgNDU1IDU5IDQ1NSBiIDExMSA0MzEgODAgNDU1IDk1IDQ0OCBiIDE1MiA0MDggMTI3IDQxNSAxNDAgNDA4IGIgMTYxIDQwOSAxNTUgNDA4IDE1OSA0MDggYiAxOTMgNDMzIDE3NiA0MTMgMTg2IDQyMCBsIDE5NiA0NDAgbCAxOTYgNDQ4IGIgMTk2IDQ1MSAxOTYgNDQ5IDE5NiA0NDkgYiAxOTAgNDcxIDE5NiA0NTkgMTk0IDQ2MyBiIDEzNyA0OTUgMTgyIDQ4OSAxNjcgNDk1IGwgMTM0IDQ5NSBsIDEzNCA0OTUgYiA2OCA1NjAgOTUgNDk1IDY4IDUyMSBiIDEyOSA2MjMgNjggNTk2IDk1IDYyMyBiIDE0NCA2MjEgMTM0IDYyMyAxMzggNjIzIGIgMTkzIDU1MyAxNzUgNjE0IDE5MyA1ODkgYiAyMjQgNDk1IDE5MyA1MTcgMjAwIDUwMyBiIDIzOCA0OTIgMjI4IDQ5MiAyMzQgNDkyIGIgMjc5IDUzOCAyNTkgNDkyIDI3OSA1MTIgYiAyNTQgNTgwIDI3OSA1NDkgMjY5IDU2NiBiIDIzMiA2MzAgMjM5IDU5NCAyMzIgNjEyIGIgMjgwIDY5MiAyMzIgNjU3IDI1MCA2ODQgbSAzMDcgNDU2IGIgMjk1IDQ1OCAzMDMgNDU4IDI5OSA0NTggYiAyMzAgMzkxIDI1OCA0NTggMjMwIDQyNiBiIDIzNiAzNjAgMjMwIDM4MSAyMzEgMzcxIGIgMjk1IDMyNCAyNDkgMzM3IDI3MiAzMjQgYiAzNTMgMzYwIDMxOCAzMjQgMzQxIDMzNyBiIDM2MCAzOTEgMzU3IDM3MCAzNjAgMzgxIGIgMzA3IDQ1NiAzNjAgNDIxIDM0MCA0NTEgXCJ9LHY2MDp7eF9taW46LTU5MC43MTg3NSx4X21heDo1ODkuMzU5Mzc1LGhhOjYwMSxvOlwibSAtMzY3IDE3MyBiIC0zNjIgMTc0IC0zNjYgMTc0IC0zNjQgMTc0IGIgLTM1MSAxNzMgLTM1NyAxNzQgLTM1MyAxNzMgYiAtMjYyIDg2IC0zNDggMTcyIC0zMjggMTUxIGIgLTE3NiAwIC0yMTYgMzcgLTE3NiAwIGIgLTEwNyA4NCAtMTc2IDAgLTE0NSAzNyBiIC0zMSAxNzQgLTM2IDE3MyAtMzggMTcyIGIgLTI1IDE3NCAtMjkgMTc0IC0yOCAxNzQgYiAtMTYgMTczIC0yMyAxNzQgLTE5IDE3MyBiIDcyIDg2IC0xMyAxNzIgNiAxNTEgYiAxNTcgMCAxMTkgMzcgMTU3IDAgYiAyMjcgODQgMTU5IDAgMTg5IDM3IGIgMzAzIDE3NCAyOTggMTczIDI5NiAxNzIgYiAzMDggMTc0IDMwNCAxNzQgMzA3IDE3NCBiIDMxOCAxNzMgMzEzIDE3NCAzMTcgMTczIGIgNDgxIDExIDMyMiAxNzIgMzU3IDEzNCBsIDQ5NCAtMSBsIDUyMiAzNCBiIDU2MCA3NiA1NTMgNzIgNTU1IDc0IGIgNTY3IDc3IDU2MyA3NyA1NjQgNzcgYiA1ODkgNTYgNTc5IDc3IDU4OSA2OCBiIDU4NiA0OCA1ODkgNTQgNTg4IDUxIGIgNDExIC0xNzIgNTgzIDQxIDQxNiAtMTY2IGIgMzk3IC0xNzYgNDA2IC0xNzQgNDAxIC0xNzYgYiAzODcgLTE3NCAzOTMgLTE3NiAzOTAgLTE3NiBiIDI5OSAtODcgMzg2IC0xNzMgMzY2IC0xNTIgYiAyMTMgMCAyNTMgLTM4IDIxMyAwIGIgMTQ0IC04NiAyMTMgMCAxODIgLTM4IGIgNjggLTE3NCA3MyAtMTc0IDc0IC0xNzMgYiA2MiAtMTc2IDY2IC0xNzYgNjUgLTE3NiBiIDUzIC0xNzQgNTkgLTE3NiA1NSAtMTc0IGIgLTM1IC04NyA1MCAtMTczIDI5IC0xNTIgYiAtMTIxIDAgLTgzIC0zOCAtMTIxIDAgYiAtMTkwIC04NiAtMTIyIDAgLTE1MiAtMzggYiAtMjY2IC0xNzQgLTI2MSAtMTc0IC0yNTkgLTE3MyBiIC0yNzIgLTE3NiAtMjY4IC0xNzYgLTI3MCAtMTc2IGIgLTI4MSAtMTc0IC0yNzYgLTE3NiAtMjgwIC0xNzQgYiAtMzcxIC04NiAtMjg0IC0xNzMgLTMwNCAtMTUyIGIgLTQ1NyAwIC00MTcgLTM4IC00NTcgMCBsIC00NTcgMCBiIC00NzcgLTI2IC00NTcgMCAtNDcwIC0xNiBiIC01NDggLTIyNyAtNTI0IC04OCAtNTQ4IC0xNjEgYiAtNTM2IC0zMDMgLTU0OCAtMjU0IC01NDQgLTI4MCBiIC01MzMgLTMxNyAtNTM0IC0zMDkgLTUzMyAtMzEzIGIgLTU1MyAtMzM4IC01MzMgLTMzMCAtNTQxIC0zMzggYiAtNTc3IC0zMTUgLTU2NiAtMzM4IC01NzEgLTMzMyBiIC01OTAgLTIyNyAtNTg2IC0yODcgLTU5MCAtMjU4IGIgLTUxOCAtOSAtNTkwIC0xNTQgLTU2NCAtNzcgYiAtNDY1IDU2IC01MDkgMiAtNTA0IDggbCAtNDAyIDEzNCBiIC0zNjcgMTczIC0zNzUgMTY5IC0zNzIgMTcyIFwifSx2NjI6e3hfbWluOjQ2LjI4MTI1LHhfbWF4OjY2OS42NzE4NzUsaGE6NTYzLG86XCJtIDE4MyAzNzYgYiAxODkgMzc2IDE4NSAzNzYgMTg3IDM3NiBiIDIxMiAzNzQgMTk3IDM3NiAyMDggMzc2IGIgMjY1IDMzNyAyMzQgMzY5IDI1MyAzNTUgYiAyNzQgMzE3IDI2OCAzMzEgMjczIDMyMCBiIDI3NCAzMTYgMjc0IDMxNyAyNzQgMzE2IGIgMjgwIDMyMyAyNzYgMzE2IDI3NiAzMTkgYiAzMTEgMzU4IDI4OCAzMzcgMjk5IDM0OCBiIDMxOSAzNjYgMzE1IDM2MCAzMTggMzY1IGIgMzU2IDM3NiAzMjYgMzczIDM0MCAzNzYgYiAzODIgMzcxIDM2NCAzNzYgMzc0IDM3NCBiIDQyOCAzMzcgNDAwIDM2NiA0MTcgMzUyIGIgNDM2IDMxNyA0MzEgMzMxIDQzNiAzMjAgYiA0MzggMzE2IDQzNiAzMTcgNDM2IDMxNiBiIDQ0MiAzMjMgNDM4IDMxNiA0MzkgMzE5IGIgNDc1IDM1OCA0NTEgMzM3IDQ2MiAzNDggYiA0ODMgMzY2IDQ3NyAzNjAgNDgxIDM2NSBiIDUxOCAzNzYgNDg4IDM3MyA1MDMgMzc2IGIgNTQ0IDM3MyA1MjggMzc2IDUzNiAzNzYgYiA2MDQgMjg1IDU3OSAzNjAgNjA0IDMyNiBiIDU5NyAyNDkgNjA0IDI3MyA2MDEgMjU4IGIgNTQzIDYzIDU5NiAyNDcgNTQ0IDcwIGIgNTQxIDU0IDU0MyA2MSA1NDEgNTUgYiA1NDAgNDQgNTQwIDUxIDU0MCA0NyBiIDU1MiAyMyA1NDAgMzMgNTQ1IDIzIGIgNTUyIDIzIDU1MiAyMyA1NTIgMjMgYiA2NDcgMTI2IDU4NiAyOSA2MjcgNzIgYiA2NTggMTM4IDY1MSAxMzYgNjUzIDEzOCBiIDY2MCAxMzggNjYwIDEzOCA2NjAgMTM4IGIgNjY5IDEyOSA2NjYgMTM3IDY2OSAxMzYgYiA2NTQgODggNjY5IDEyMiA2NjUgMTA5IGIgNTYyIC0xMiA2MzEgNDMgNjAyIDkgbCA1NDkgLTE5IGIgNTIxIC0yNyA1NDAgLTI0IDUzMCAtMjcgYiA0NDcgMzAgNDkwIC0yNyA0NTggLTQgYiA0NDMgNTggNDQ1IDM4IDQ0MyA0OCBiIDQ1MCA5MyA0NDMgNzIgNDQ2IDg0IGIgNTA0IDI3OCA0NTMgOTcgNTA0IDI3MiBiIDUwNyAyODggNTA2IDI4MyA1MDYgMjg3IGIgNTA5IDI5OCA1MDcgMjkyIDUwOSAyOTUgYiA0OTEgMzI2IDUwOSAzMTAgNTAyIDMyMCBiIDQ4NyAzMjcgNDkwIDMyNyA0ODggMzI3IGIgNDc5IDMyNCA0ODQgMzI3IDQ4MyAzMjYgYiA0NDEgMjcwIDQ2MiAzMTYgNDQzIDI4OCBiIDQzNSAyNDkgNDQxIDI2NSA0MzYgMjU0IGIgMzk4IDEyNyA0MzQgMjQ4IDQxOSAxOTUgYiAzNjIgNCAzNzkgNjEgMzYyIDUgYiAzMjggLTEgMzU5IC0xIDM2MiAtMSBiIDMxNCAtMSAzMjMgLTEgMzE5IC0xIGIgMzAyIC0xIDMxMCAtMSAzMDYgLTEgYiAyNjYgNCAyNjYgLTEgMjY5IC0xIGIgMjY1IDYgMjY1IDUgMjY1IDUgYiAzMDMgMTQ0IDI2NSAxMyAyNzIgMzQgYiAzNDMgMjc4IDMyNSAyMTYgMzQzIDI3NiBiIDM0NCAyODggMzQzIDI4MSAzNDQgMjg1IGIgMzQ1IDI5OCAzNDUgMjkxIDM0NSAyOTUgYiAzMzAgMzI2IDM0NSAzMTAgMzQwIDMyMCBiIDMyMyAzMjcgMzI4IDMyNyAzMjUgMzI3IGIgMzE3IDMyNCAzMjIgMzI3IDMyMSAzMjYgYiAyNzkgMjcwIDMwMCAzMTYgMjgxIDI4OCBiIDI3MyAyNDkgMjc5IDI2NSAyNzQgMjU0IGIgMjM2IDEyNyAyNzIgMjQ4IDI1NSAxOTUgYiAyMDAgNCAyMTYgNjEgMjAwIDUgYiAxNjQgLTEgMTk3IC0xIDE5OCAtMSBiIDE1MSAtMSAxNjEgLTEgMTU2IC0xIGIgMTQwIC0xIDE0NyAtMSAxNDIgLTEgYiAxMDMgNCAxMDQgLTEgMTA2IC0xIGIgMTAzIDYgMTAzIDUgMTAzIDUgYiAxNDEgMTQ0IDEwMyAxMyAxMDggMzQgYiAxODEgMjc4IDE2MSAyMTYgMTc5IDI3NiBiIDE4MiAyODggMTgxIDI4MSAxODEgMjg1IGIgMTgzIDI5OCAxODIgMjkxIDE4MyAyOTUgYiAxNjggMzI0IDE4MyAzMTAgMTc4IDMyMCBiIDE2MCAzMjcgMTY2IDMyNiAxNjMgMzI3IGIgMTQxIDMyMCAxNTYgMzI3IDE1MSAzMjQgYiA2OSAyMzAgMTEyIDMwNSA4NSAyNzIgYiA1NyAyMTUgNjUgMjE3IDYyIDIxNSBiIDU1IDIxNSA1NyAyMTUgNTUgMjE1IGIgNDYgMjI0IDQ5IDIxNSA0NiAyMTcgYiA1OSAyNjAgNDYgMjMxIDUwIDI0MiBiIDE1MSAzNjMgODEgMzA2IDExMiAzNDEgYiAxNjEgMzY5IDE1NSAzNjUgMTYwIDM2NyBiIDE4MyAzNzYgMTY2IDM3MSAxNzQgMzc0IFwifSx2Njg6e3hfbWluOi01OTcuNTMxMjUseF9tYXg6NTk2LjE3MTg3NSxoYTo2MDgsbzpcIm0gLTUzMyAzMjQgYiAtNTI1IDMyNyAtNTMwIDMyNiAtNTI4IDMyNyBiIC01MDQgMzA1IC01MTQgMzI3IC01MDQgMzE3IGIgLTUwNCAzMDUgLTUwNCAzMDUgLTUwNCAzMDUgYiAtNTEzIDI4NCAtNTA0IDI5OSAtNTA0IDI5OSBiIC01NTYgMTEyIC01NDEgMjI2IC01NTYgMTY3IGIgLTU0NSAzMyAtNTU2IDg0IC01NTIgNTggYiAtNTI0IC0yMCAtNTQxIDE1IC01MzIgLTkgbCAtNTIyIC0yMyBsIC00OTEgMTUgbCAtNDEzIDExMSBiIC0zNTUgMTc0IC0zNjcgMTY5IC0zNjMgMTc0IGIgLTM1MSAxNzQgLTM1MyAxNzQgLTM1MiAxNzQgYiAtMjU0IDg2IC0zNDMgMTc0IC0zNDggMTc5IGIgLTE2OCAtMSAtMjA4IDM3IC0xNjggLTEgYiAtMTAwIDg0IC0xNjggLTEgLTEzNyAzNyBiIC0yMyAxNzMgLTI4IDE3MyAtMjkgMTcyIGIgLTE5IDE3NCAtMjEgMTc0IC0yMCAxNzQgYiAtOCAxNzMgLTE0IDE3NCAtMTAgMTczIGIgMTU1IDExIC01IDE3MiA0MyAxMjMgbCAxNjYgLTEgbCAxNjggMSBsIDE3MCA0IGwgMTcwIDEzMCBiIDE3MSAyNjAgMTcwIDI1NiAxNzAgMjU4IGIgMTkxIDI3NCAxNzUgMjY5IDE4MyAyNzQgYiAyMDUgMjY3IDE5NiAyNzQgMjAxIDI3MiBiIDIxMiAxNTggMjEyIDI2MiAyMTAgMjczIGwgMjEyIDU2IGwgMjU3IDExMiBiIDMxMSAxNzMgMzA0IDE3MiAzMDQgMTcyIGIgMzE3IDE3NCAzMTMgMTc0IDMxNCAxNzQgYiAzMjYgMTczIDMxOSAxNzQgMzIzIDE3MyBiIDQ5MCAxMSAzMjkgMTcyIDM2NiAxMzQgbCA1MDIgLTEgbCA1MzAgMzQgYiA1NjggNzYgNTYwIDcyIDU2MyA3NCBiIDU3NSA3NyA1NzAgNzcgNTczIDc3IGIgNTk2IDU2IDU4NiA3NyA1OTYgNjggYiA1OTQgNDggNTk2IDU0IDU5NiA1MSBiIDQxNyAtMTcyIDU5MiA0MSA0MjQgLTE2NiBiIDQwNSAtMTc2IDQxNSAtMTc0IDQwOSAtMTc2IGIgMzk2IC0xNzQgNDAxIC0xNzYgMzk4IC0xNzYgYiAzMDcgLTg3IDM5MyAtMTczIDM3MiAtMTUyIGIgMjIxIC0xIDI1OSAtMzggMjIxIC0xIGIgMjE2IC02IDIyMSAtMSAyMTkgLTIgbCAyMTIgLTEyIGwgMjEyIC0xNDcgYiAyMTIgLTIxMCAyMTIgLTE3MyAyMTIgLTE5NCBiIDIwNSAtMjkyIDIxMiAtMjk3IDIxMCAtMjg3IGIgMTkxIC0yOTkgMjAxIC0yOTcgMTk2IC0yOTkgYiAxNzIgLTI4NyAxODMgLTI5OSAxNzUgLTI5NSBiIDE3MCAtMTc0IDE3MSAtMjg0IDE3MSAtMjg0IGwgMTcwIC02MyBsIDEyNyAtMTE3IGIgNzMgLTE3NiA4NCAtMTcwIDgwIC0xNzYgYiA2OCAtMTc2IDcyIC0xNzYgNzAgLTE3NiBiIC0yNyAtODcgNTkgLTE3NCA2NSAtMTgwIGIgLTExNCAwIC03NCAtMzggLTExMiAwIGIgLTE4MiAtODYgLTExNCAwIC0xNDUgLTM4IGIgLTI1OCAtMTc0IC0yNTMgLTE3NCAtMjUzIC0xNzMgYiAtMjY0IC0xNzYgLTI1OSAtMTc2IC0yNjIgLTE3NiBiIC0yNzQgLTE3NCAtMjY4IC0xNzYgLTI3MiAtMTc0IGIgLTQzOCAtMTEgLTI3NyAtMTczIC0zNDggLTEwMiBsIC00NDkgMCBsIC00NzkgLTM3IGIgLTUyNCAtODAgLTUxMyAtODAgLTUxNCAtODAgbCAtNTI0IC04MCBiIC01NTMgLTUyIC01MzQgLTgwIC01NDAgLTc0IGIgLTU5NyAxMDkgLTU4MyAtOCAtNTk3IDQ4IGIgLTU2MCAyODAgLTU5NyAxNjUgLTU4NSAyMjQgYiAtNTMzIDMyNCAtNTQ4IDMxMCAtNTQwIDMyMiBcIn0sdjZjOnt4X21pbjotMS4zNTkzNzUseF9tYXg6MTkzLjI4MTI1LGhhOjE5NyxvOlwibSA3OCAyMzMgYiA4NyAyMzMgODEgMjMzIDg0IDIzMyBiIDE4NyAxNDAgMTMyIDIzMyAxNzQgMTk1IGIgMTkzIDEwMiAxOTAgMTI3IDE5MyAxMTUgYiA0MyAtMTEzIDE5MyAyMiAxMzYgLTYyIGIgMjcgLTExOSAzNiAtMTE2IDMxIC0xMTkgYiAxOSAtMTA4IDIxIC0xMTkgMTkgLTExNSBiIDI5IC05NyAxOSAtMTAyIDIwIC0xMDEgYiAxMDIgMTMgNzMgLTcyIDEwMiAtMjcgYiA5MiA1MSAxMDIgMjYgOTggNDAgbCA5MSA1NCBsIDg0IDU0IGIgOCAxMDQgNTMgNTQgMjEgNzQgYiAtMSAxNDIgMSAxMTYgLTEgMTMwIGIgNzggMjMzIC0xIDE4NyAzMSAyMjcgXCJ9LHY2ZDp7eF9taW46LTU5MC43MTg3NSx4X21heDo1ODkuMzU5Mzc1LGhhOjYwMSxvOlwibSA1NDQgMzM1IGIgNTUzIDMzNyA1NDggMzM3IDU1MSAzMzcgYiA1NzUgMzEzIDU2MyAzMzcgNTcwIDMzMCBiIDU4OSAyMjYgNTgzIDI4NSA1ODkgMjU2IGIgNTE3IDggNTg5IDE1MiA1NjMgNzYgYiA0NjQgLTU4IDUwNyAtNCA1MDMgLTkgbCA0MDEgLTEzNiBiIDM2MiAtMTc2IDM3MiAtMTcyIDM3MCAtMTc2IGIgMzU3IC0xNzYgMzYwIC0xNzYgMzU5IC0xNzYgYiAyNjEgLTg3IDM0OSAtMTc0IDM1NSAtMTgwIGIgMTc1IDAgMjE1IC0zOCAxNzUgMCBiIDEwNiAtODYgMTc1IDAgMTQ0IC0zOCBiIDI5IC0xNzQgMzUgLTE3NCAzNiAtMTczIGIgMjQgLTE3NiAyOCAtMTc2IDI3IC0xNzYgYiAxNCAtMTc0IDIxIC0xNzYgMTcgLTE3NCBiIC03MyAtODcgMTIgLTE3MyAtOCAtMTUyIGIgLTE1OSAwIC0xMjEgLTM4IC0xNTkgMCBiIC0yMjggLTg2IC0xNjAgMCAtMTkwIC0zOCBiIC0zMDQgLTE3NCAtMjk5IC0xNzQgLTI5OCAtMTczIGIgLTMxMCAtMTc2IC0zMDYgLTE3NiAtMzA4IC0xNzYgYiAtMzE5IC0xNzQgLTMxNCAtMTc2IC0zMTggLTE3NCBiIC00ODMgLTEyIC0zMjMgLTE3MyAtMzU5IC0xMzcgbCAtNDk1IDAgbCAtNTI0IC0zNCBiIC01NjIgLTc3IC01NTMgLTczIC01NTYgLTc2IGIgLTU2OCAtNzkgLTU2NCAtNzkgLTU2NiAtNzkgYiAtNTkwIC01OCAtNTgxIC03OSAtNTkwIC02OSBiIC01ODggLTQ5IC01OTAgLTU1IC01ODkgLTUyIGIgLTQxMiAxNzAgLTU4NSAtNDMgLTQxNyAxNjUgYiAtMzk4IDE3NCAtNDA4IDE3MyAtNDAyIDE3NCBiIC0zODkgMTczIC0zOTQgMTc0IC0zOTIgMTc0IGIgLTMwMCA4NiAtMzg3IDE3MiAtMzY2IDE1MSBiIC0yMTUgLTEgLTI1NCAzNyAtMjE1IC0xIGIgLTE0NSA4NCAtMjE1IC0xIC0xODMgMzcgYiAtNjkgMTczIC03NCAxNzMgLTc2IDE3MiBiIC02MyAxNzQgLTY4IDE3NCAtNjYgMTc0IGIgLTU0IDE3MyAtNjEgMTc0IC01NyAxNzMgYiAzNCA4NiAtNTEgMTcyIC0zMSAxNTEgYiAxMTkgLTEgODEgMzcgMTE5IC0xIGIgMTg5IDg0IDEyMSAtMSAxNTEgMzcgYiAyNjUgMTczIDI1OSAxNzMgMjU4IDE3MiBiIDI3MCAxNzQgMjY2IDE3NCAyNjkgMTc0IGIgMjgwIDE3MyAyNzQgMTc0IDI3OSAxNzMgYiAzNzAgODQgMjgzIDE3MiAzMDMgMTUxIGIgNDU1IC0xIDQxNiAzNyA0NTUgLTEgbCA0NTUgLTEgYiA0NzYgMjQgNDU1IC0xIDQ2OSAxNSBiIDU0NyAyMjYgNTIyIDg3IDU0NyAxNTkgYiA1MzQgMzAyIDU0NyAyNTIgNTQzIDI3OCBiIDUzMiAzMTcgNTMzIDMwOCA1MzIgMzEzIGIgNTQ0IDMzNSA1MzIgMzI2IDUzNiAzMzMgXCJ9LHY2Zjp7eF9taW46LTgwLjMxMjUseF9tYXg6NzguOTM3NSxoYTo4MSxvOlwibSA2MyAxOTEgYiA2OSAxOTIgNjUgMTkyIDY2IDE5MiBiIDc3IDE4OCA3MiAxOTIgNzYgMTkxIGIgNzggMTgzIDc4IDE4NyA3OCAxODYgYiA3NCAxNTggNzggMTc5IDc3IDE3MiBsIDY2IDExNSBiIDkgLTE2MSA0OSAzMCAxMCAtMTU4IGIgLTEwIC0xODcgNiAtMTcyIC0xIC0xODEgYiAtMzQgLTE5NCAtMTcgLTE5MSAtMjUgLTE5NCBiIC04MCAtMTQ3IC01OCAtMTk0IC04MCAtMTc0IGIgLTgwIC0xNDEgLTgwIC0xNDQgLTgwIC0xNDIgYiA5IDcwIC04MCAtMTM0IC03MyAtMTE3IGwgNDkgMTYzIGIgNjMgMTkxIDU5IDE4OCA2MSAxOTAgXCJ9LHY3MDp7eF9taW46MCx4X21heDo0MzYuOTIxODc1LGhhOjQ0NixvOlwibSAyMTMgMTkwIGIgMjE3IDE5MSAyMTUgMTkxIDIxNiAxOTEgYiAyMzEgMTg0IDIyMyAxOTEgMjI4IDE4OCBiIDI0OSAxNTQgMjQwIDE2NyAyNDYgMTU5IGIgNDE5IDE4IDI5MiA5MSAzNDggNDUgYiA0MzYgLTEgNDM1IDExIDQzNiA4IGIgNDI0IC0xNiA0MzYgLTkgNDM0IC0xMyBiIDMwOCAtODcgMzk0IC0yNiAzNDAgLTU5IGIgMjMxIC0xODYgMjc2IC0xMTcgMjU3IC0xNDIgYiAyMTkgLTE5MiAyMjggLTE5MSAyMjUgLTE5MiBiIDE5OCAtMTc0IDIwOSAtMTkyIDIwOCAtMTkxIGIgNDcgLTMzIDE2MSAtMTEzIDExMCAtNjMgYiAxMCAtMTYgMzQgLTI2IDE3IC0xOSBiIDAgLTEgMiAtMTMgMCAtOSBiIDE3IDE4IDAgOCAxIDExIGIgMTk4IDE3MyA5NSA0OCAxNTYgMTAxIGIgMjEzIDE5MCAyMDYgMTg3IDIwOCAxODggXCJ9LHY3Mjp7eF9taW46LTQyMy4zMTI1LHhfbWF4OjQyMS45Mzc1LGhhOjQzMSxvOlwibSAtMjYyIDE5NyBiIC0yNDcgMTk3IC0yNTcgMTk3IC0yNTMgMTk3IGIgLTExOCAxNjIgLTIxMCAxOTcgLTE2MyAxODQgYiA0MCA0NSAtNjEgMTM0IC0xMyA5OCBiIDI3NyAtOTUgMTE5IC0zMyAyMDAgLTgxIGIgMjg5IC05NyAyODEgLTk3IDI4NSAtOTcgYiAzNzggMCAzMzIgLTk3IDM3MSAtNTUgYiAzNzggMTEgMzc4IDQgMzc4IDYgYiAzMDIgODMgMzc4IDU1IDM0NSA4MyBiIDI0MiA2NiAyODMgODMgMjYyIDc3IGIgMjA4IDU2IDIzMSA1OSAyMTkgNTYgYiAxNDggMTIwIDE3NSA1NiAxNDggODEgYiAyMDEgMTg2IDE0OCAxNTEgMTY0IDE3MiBiIDI2MSAxOTggMjIwIDE5NCAyNDAgMTk4IGIgNDIwIDQ1IDM0MSAxOTggNDExIDEzNiBiIDQyMSAyMiA0MjEgMzcgNDIxIDI5IGIgMjQ1IC0xOTkgNDIxIC05MyAzMzggLTE5OSBiIDIzOCAtMTk4IDI0MyAtMTk5IDI0MCAtMTk5IGIgLTQ0IC00NyAxNDggLTE5NCA1MCAtMTQxIGIgLTI1MCA4NiAtMTE0IDIyIC0xODMgNjYgYiAtMjk1IDk0IC0yNzAgOTEgLTI4MyA5NCBiIC0zMTUgOTEgLTMwMiA5NCAtMzA3IDk0IGIgLTM4MSA0IC0zNTYgODEgLTM4MSA0MyBiIC0zNTUgLTU2IC0zODEgLTE4IC0zNzIgLTQwIGIgLTI5OCAtODEgLTMzOCAtNzMgLTMxOSAtODEgYiAtMjQ2IC02OCAtMjgzIC04MSAtMjY1IC03NyBiIC0yMTIgLTU4IC0yMzQgLTYxIC0yMjMgLTU4IGIgLTE3OCAtNjkgLTIwMCAtNTggLTE4OSAtNjIgYiAtMTUxIC0xMjIgLTE2MCAtODEgLTE1MSAtMTAxIGIgLTE3MSAtMTY3IC0xNTEgLTEzOCAtMTU3IC0xNTUgYiAtMjM5IC0xOTUgLTE4NSAtMTgxIC0yMTMgLTE5MiBiIC0yNTcgLTE5NyAtMjQ1IC0xOTcgLTI1MCAtMTk3IGIgLTQyMyAtNSAtMzUyIC0xOTcgLTQyMyAtMTA5IGIgLTQxMiA2NSAtNDIzIDE2IC00MTkgNDAgYiAtMjYyIDE5NyAtMzg5IDEzNyAtMzI5IDE4OCBcIn0sdjc0Ont4X21pbjotMjA2Ljg5MDYyNSx4X21heDo0MjguNzUsaGE6NDM4LG86XCJtIDM4OSAtMzUxIGIgMzk0IC0zNTEgMzkwIC0zNTEgMzkzIC0zNTEgYiA0MjggLTM4NSA0MTMgLTM1MSA0MjggLTM2NyBiIDQyOCAtMzk0IDQyOCAtMzg4IDQyOCAtMzkxIGIgMzk0IC00MjggNDI2IC00MDYgNDIxIC00MTAgbCAzMzIgLTQ3MyBsIDI2OSAtNTE2IGwgMjA1IC01NjAgbCAxNDEgLTYwMyBsIDc3IC02NDggbCAxMyAtNjkyIGwgLTUwIC03MzcgbCAtMTE0IC03ODAgbCAtMTQ1IC04MDIgYiAtMTcxIC04MTMgLTE1NyAtODEwIC0xNjMgLTgxMyBiIC0xNzUgLTgxMyAtMTcyIC04MTMgLTE3NCAtODEzIGIgLTIwNiAtNzc3IC0xOTQgLTgxMSAtMjA2IC03OTUgYiAtMjAyIC03NjAgLTIwNiAtNzcxIC0yMDUgLTc2NiBiIC04NyAtNjc1IC0xOTcgLTc1MiAtMjA2IC03NTcgbCAtMzQgLTYzOSBsIDgzIC01NTcgbCAxNDUgLTUxNCBsIDIwOSAtNDcwIGwgMjcyIC00MjcgYiAzODkgLTM1MSAzNzUgLTM1NiAzODEgLTM1MiBcIn0sdjc1Ont4X21pbjotMTQ5LjcxODc1LHhfbWF4OjE0OC4zNTkzNzUsaGE6MTUxLG86XCJtIC0xMzcgMzgxIGIgLTEzMCAzODMgLTEzNCAzODMgLTEzMyAzODMgYiAtMTExIDM3MSAtMTIyIDM4MyAtMTE0IDM3OCBiIC01NSAyMjQgLTExMCAzNzAgLTg1IDMwNSBiIDAgODAgLTI1IDE0NSAtMSA4MCBiIDU0IDIyNCAwIDgwIDI0IDE0NSBiIDExMiAzNzcgMTE0IDM4NCAxMTAgMzczIGIgMTI3IDM4NCAxMTggMzgxIDEyMiAzODQgYiAxNDggMzYyIDEzOCAzODQgMTQ4IDM3NCBsIDE0OCAzNTYgbCA4MyAxODMgYiAxNiA5IDQ3IDg4IDE3IDExIGIgLTEgMCAxMiAyIDUgMCBiIC0xNCA1IC01IDAgLTEwIDEgYiAtODQgMTgzIC0xOSA5IC0xMyAtNiBsIC0xNDkgMzU2IGwgLTE0OSAzNjIgYiAtMTM3IDM4MSAtMTQ5IDM3MSAtMTQ1IDM3OCBcIn0sdjc4Ont4X21pbjowLHhfbWF4OjE5My4yODEyNSxoYToxOTcsbzpcIm0gODUgNTE0IGIgOTUgNTE3IDg4IDUxNyA4OSA1MTcgYiAxMTQgNTA1IDEwMyA1MTcgMTEwIDUxMyBsIDExNSA1MDIgbCAxMTUgMzc2IGIgMTE1IDI0OSAxMTUgMzA2IDExNSAyNDkgYiAxNDEgMjU4IDExNyAyNDkgMTI3IDI1MiBsIDE2NyAyNjYgbCAxNzIgMjY2IGIgMTkwIDI1NCAxODEgMjY1IDE4NyAyNjIgbCAxOTMgMjUxIGwgMTkzIDIwMiBsIDE5MyAxODggYiAxODcgMTQ3IDE5MyAxNDkgMTkxIDE1MiBiIDE0NyAxMzAgMTgzIDE0MiAxODIgMTQxIGwgMTE1IDExOSBsIDExNSA5IGIgMTE1IC05OSAxMTUgLTUxIDExNSAtOTkgYiAxNDEgLTkxIDExNSAtOTkgMTI3IC05NSBiIDE3MSAtODEgMTY2IC04MSAxNjcgLTgxIGwgMTcxIC04MSBiIDE5MSAtOTQgMTgxIC04MSAxODkgLTg3IGIgMTkzIC0xNDIgMTkxIC05NyAxOTMgLTEyMCBiIDE5MSAtMTk1IDE5MyAtMTY3IDE5MSAtMTk0IGIgMTI1IC0yMjcgMTg3IC0yMDUgMTg3IC0yMDQgbCAxMTUgLTIzMCBsIDExNSAtMzY2IGwgMTE1IC01MDMgbCAxMTQgLTUwNiBiIDk1IC01MTkgMTEwIC01MTQgMTAyIC01MTkgYiA3NCAtNTA2IDg3IC01MTkgNzggLTUxNCBsIDczIC01MDMgbCA3MyAtMzc0IGIgNzMgLTI0NSA3MyAtMjYwIDczIC0yNDUgYiA3MyAtMjQ1IDczIC0yNDUgNzMgLTI0NSBiIDU1IC0yNTIgNzIgLTI0NSA2MyAtMjQ5IGwgMzIgLTI2MCBiIDE5IC0yNjMgMjcgLTI2MiAyMyAtMjYzIGIgNCAtMjU2IDEzIC0yNjMgOCAtMjYwIGIgMCAtMjE1IDAgLTI1MSAwIC0yNTQgYiAwIC0xOTkgMCAtMjEwIDAgLTIwNiBsIDAgLTE1MiBsIDEgLTE0OSBiIDggLTE0MCAyIC0xNDUgNSAtMTQxIGIgNDIgLTEyNyA5IC0xNDAgMjQgLTEzMyBsIDczIC0xMTYgbCA3MyAtNSBiIDczIDIzIDczIDQgNzMgMTUgYiA3MyAxMDUgNzMgNzAgNzMgMTA1IGIgNDkgOTcgNzMgMTA1IDYxIDEwMSBiIDE3IDg4IDMyIDkxIDIzIDg4IGIgNCA5NSAxMCA4OCA4IDkxIGIgMCAxMzcgMCAxMDEgMCA5OCBiIDAgMTUxIDAgMTQxIDAgMTQ1IGwgMCAxOTkgbCAxIDIwMiBiIDQzIDIyNCA1IDIxMiA1IDIxMiBsIDczIDIzNCBsIDczIDM2NyBsIDczIDUwMiBsIDc0IDUwNSBiIDg1IDUxNCA3NyA1MDkgODEgNTEzIFwifSx2Nzk6e3hfbWluOi0xLjM1OTM3NSx4X21heDo4OTkuNzAzMTI1LGhhOjkxOCxvOlwibSAzMDcgMzQ5IGIgMzMyIDM1MSAzMTUgMzUxIDMyMyAzNTEgYiA0NDMgMzQwIDM2NyAzNTEgNDA4IDM0NyBiIDc0MSA0NyA2MDcgMzA2IDcyMCAxOTUgYiA3NDQgMCA3NDMgMzEgNzQ0IDE2IGIgNjYwIC0zMDMgNzQ0IC05MCA3MTMgLTIwNiBiIDI4IC03NTUgNTM0IC01MzEgMzA0IC02OTUgYiAxNCAtNzU2IDIzIC03NTUgMTkgLTc1NiBiIC0xIC03NDEgNCAtNzU2IC0xIC03NTAgYiAyMSAtNzIwIC0xIC03MzEgMSAtNzI4IGIgNTY3IC01NiAzMzcgLTYwMSA1NDggLTM0NCBiIDU2OCAtMTEgNTY4IC00MSA1NjggLTI0IGIgNDQyIDI4NSA1NjggMTI5IDUyNSAyMzMgYiAzMjUgMzE5IDQwNiAzMDggMzY3IDMxOSBiIDkzIDE3NyAyMzIgMzE5IDEzNyAyNjYgYiA4NCAxNTQgOTEgMTcwIDg0IDE1NSBiIDg0IDE1NCA4NCAxNTQgODQgMTU0IGIgODggMTU2IDg0IDE1NCA4NSAxNTUgYiAxNTkgMTc3IDExMCAxNzAgMTM0IDE3NyBiIDI1NyAxMzQgMTk0IDE3NyAyMzEgMTYyIGIgMjk0IDQxIDI4MSAxMDggMjk0IDczIGIgMTcxIC05NyAyOTQgLTI0IDI0NiAtOTAgYiAxNTYgLTk4IDE2NiAtOTcgMTYxIC05OCBiIDYgNzQgNzMgLTk4IDYgLTIyIGIgNiA4MCA2IDc2IDYgNzkgYiAzMDcgMzQ5IDEwIDIyMyAxNDEgMzQwIG0gODM5IDIxNSBiIDg0NSAyMTYgODQxIDIxNiA4NDIgMjE2IGIgODYyIDIxMyA4NTIgMjE2IDg2MCAyMTUgYiA4OTkgMTYzIDg4NyAyMDYgODk5IDE4NCBiIDg3MiAxMTcgODk5IDE0NSA4OTAgMTI3IGIgODQ3IDExMSA4NjUgMTEyIDg1NiAxMTEgYiA4MDggMTMwIDgzMyAxMTEgODE4IDExNyBiIDc5NiAxNjIgODAwIDE0MCA3OTYgMTUxIGIgODM5IDIxNSA3OTYgMTg3IDgxMiAyMTIgbSA4MzkgLTExMiBiIDg0NSAtMTEyIDg0MSAtMTEyIDg0MiAtMTEyIGIgODYyIC0xMTUgODUyIC0xMTIgODYwIC0xMTMgYiA4OTkgLTE2NSA4ODcgLTEyMiA4OTkgLTE0NCBiIDg3MiAtMjEwIDg5OSAtMTgzIDg5MCAtMjAxIGIgODQ3IC0yMTcgODY1IC0yMTUgODU2IC0yMTcgYiA4MDggLTE5OCA4MzMgLTIxNyA4MTggLTIxMCBiIDc5NiAtMTY1IDgwMCAtMTg4IDc5NiAtMTc3IGIgODM5IC0xMTIgNzk2IC0xNDAgODEyIC0xMTYgXCJ9LHY3YTp7eF9taW46LTEuMzU5Mzc1LHhfbWF4OjM4Ni41NjI1LGhhOjM5NCxvOlwibSAyNDkgNTM1IGIgMjU3IDUzNyAyNTEgNTM3IDI1MyA1MzcgYiAyNzYgNTI0IDI2NiA1MzcgMjczIDUzMyBsIDI3NyA1MjEgbCAyNzkgNDE5IGwgMjc5IDMxNiBsIDMwNCAzMjMgYiAzMzcgMzI4IDMxOSAzMjYgMzMwIDMyOCBiIDM1MyAzMTYgMzQ3IDMyOCAzNDkgMzI0IGIgMzU1IDI2NiAzNTUgMzE1IDM1NSAyOTAgYiAzNTMgMjE1IDM1NSAyNDEgMzU1IDIxNyBiIDMxOSAxOTggMzQ5IDIwNiAzNDcgMjA1IGIgMjc5IDE4NyAyODQgMTkwIDI3OSAxODggYiAyNzkgMTU2IDI3OSAxODcgMjc5IDE3NCBiIDI3OSAxMzYgMjc5IDE1MSAyNzkgMTQ0IGwgMjc5IDg0IGwgMjg5IDg3IGwgMzMwIDk4IGIgMzY3IDEwNSAzNTIgMTAyIDM2MiAxMDUgYiAzNzggMTAxIDM3MiAxMDUgMzc1IDEwNCBiIDM4NiA2MSAzODUgOTUgMzg2IDk0IGIgMzg2IDQwIDM4NiA1NSAzODYgNDggbCAzODYgLTUgbCAzODUgLTggYiAzNzQgLTE5IDM4MyAtMTIgMzc4IC0xOCBiIDI5MSAtNDAgMzcyIC0xOSAzNDcgLTI2IGIgMjc5IC00MyAyODQgLTQxIDI3OSAtNDMgYiAyNzkgLTgzIDI3OSAtNDMgMjc5IC01OSBiIDI3OSAtOTUgMjc5IC04NyAyNzkgLTkxIGwgMjc5IC0xNDUgbCAzMDQgLTE0MCBiIDMzNyAtMTMzIDMyMSAtMTM2IDMzMCAtMTMzIGIgMzQ5IC0xNDAgMzQzIC0xMzMgMzQ3IC0xMzYgYiAzNTUgLTE4MSAzNTUgLTE0NSAzNTUgLTE0MiBsIDM1NSAtMTk3IGwgMzU1IC0yMTAgYiAzNDkgLTI1MiAzNTUgLTI0OSAzNTUgLTI0NyBiIDMwMCAtMjY5IDM0NSAtMjU4IDM0NyAtMjU4IGIgMjgwIC0yNzQgMjkxIC0yNzIgMjgxIC0yNzMgbCAyNzkgLTI3NCBsIDI3NyAtMzc4IGwgMjc3IC00ODMgbCAyNzYgLTQ4NyBiIDI1NyAtNDk5IDI3MyAtNDk1IDI2NSAtNDk5IGIgMjM4IC00ODcgMjQ5IC00OTkgMjQyIC00OTUgbCAyMzYgLTQ4MyBsIDIzNiAtMzg0IGwgMjM2IC0yODUgbCAyMzUgLTI4NSBsIDIxMiAtMjkxIGwgMTcwIC0zMDEgYiAxNDggLTMwOCAxNTkgLTMwNSAxNDggLTMwNiBiIDE0NyAtNDE1IDE0NyAtMzA4IDE0NyAtMzEzIGwgMTQ3IC01MjMgbCAxNDUgLTUyNiBiIDEyNiAtNTM4IDE0MSAtNTM0IDEzMyAtNTM4IGIgMTA2IC01MjYgMTE4IC01MzggMTEwIC01MzQgbCAxMDQgLTUyMyBsIDEwNCAtNDIwIGIgMTAzIC0zMTcgMTA0IC0zMjYgMTA0IC0zMTcgYiAxMDMgLTMxNyAxMDMgLTMxNyAxMDMgLTMxNyBiIDUwIC0zMzAgOTIgLTMyMiA1NCAtMzMwIGIgMzEgLTMxNyA0MiAtMzMwIDM1IC0zMjYgYiAyOSAtMjY3IDI5IC0zMTUgMjkgLTMxNSBsIDI5IC0yMTkgbCAzMiAtMjE2IGIgOTIgLTE5MiAzNiAtMjA2IDM2IC0yMDYgbCAxMDQgLTE5MCBsIDEwNCAtMTM4IGIgMTAzIC04NyAxMDQgLTkxIDEwNCAtODcgYiAxMDMgLTg3IDEwMyAtODcgMTAzIC04NyBiIDg4IC05MSAxMDMgLTg3IDk2IC04OCBsIDQ5IC0xMDEgYiAxNyAtMTA2IDMyIC0xMDUgMjMgLTEwNiBiIDYgLTEwMiAxMyAtMTA2IDEwIC0xMDUgYiAtMSAtNjIgMCAtOTcgLTEgLTk1IGIgMCAtNDEgLTEgLTU2IDAgLTQ5IGwgMCA0IGwgMSA2IGIgMTAgMTYgMiAxMSA2IDE1IGIgOTEgMzcgMTIgMTggMzggMjQgbCAxMDQgNDEgbCAxMDQgOTMgYiAxMDMgMTQ0IDEwNCAxNDAgMTA0IDE0NCBiIDEwMyAxNDQgMTAzIDE0NCAxMDMgMTQ0IGIgNTAgMTMxIDkyIDE0MSA1NCAxMzEgYiAzMSAxNDQgNDIgMTMxIDM1IDEzNyBiIDI5IDE5NSAyOSAxNDcgMjkgMTQ4IGwgMjkgMjQyIGwgMzIgMjQ1IGIgOTIgMjY5IDM2IDI1NSAzNiAyNTUgbCAxMDQgMjczIGwgMTA0IDM3NyBsIDEwNCA0ODEgbCAxMDYgNDg1IGIgMTI2IDQ5OCAxMTAgNDkyIDExOCA0OTggYiAxMzQgNDk1IDEyOSA0OTggMTMyIDQ5NiBiIDE0NSA0ODUgMTM4IDQ5NCAxNDIgNDg5IGwgMTQ3IDQ4MSBsIDE0NyAzODMgbCAxNDcgMjgzIGwgMTUyIDI4NCBiIDE5MCAyOTQgMTU1IDI4NSAxNzEgMjkwIGwgMjMwIDMwMyBsIDIzNiAzMDUgbCAyMzYgNDEzIGwgMjM2IDUyMSBsIDIzOCA1MjQgYiAyNDkgNTM1IDI0MCA1MjggMjQzIDUzMyBtIDIzNiAxMjYgYiAyMzUgMTc3IDIzNiAxNTQgMjM2IDE3NyBsIDIzNSAxNzcgYiAyMTMgMTcyIDIzNSAxNzcgMjI1IDE3NCBsIDE3MCAxNjEgYiAxNDcgMTU1IDE1NyAxNTggMTQ3IDE1NSBiIDE0NyAxMjQgMTQ3IDE1NSAxNDcgMTQyIGIgMTQ3IDEwMiAxNDcgMTE3IDE0NyAxMTEgbCAxNDcgNTIgbCAxNTMgNTQgbCAyMjggNzIgbCAyMzYgNzQgbCAyMzYgMTI2IG0gMjM2IC0xMDUgYiAyMzUgLTU0IDIzNiAtNjUgMjM2IC01NCBsIDIzNSAtNTQgYiAyMzEgLTU1IDIzNSAtNTQgMjM0IC01NCBiIDE3MiAtNjkgMjI3IC01NSAyMDQgLTYyIGwgMTQ5IC03NiBsIDE0NyAtNzYgbCAxNDcgLTEyNyBsIDE0NyAtMTc5IGwgMTUyIC0xNzcgYiAxOTAgLTE2NyAxNTUgLTE3NyAxNzEgLTE3MyBsIDIzMCAtMTU4IGwgMjM2IC0xNTYgbCAyMzYgLTEwNSBcIn0sdjdjOnt4X21pbjowLHhfbWF4OjMwMC44MTI1LGhhOjMwNyxvOlwibSA0OSA1MDUgYiA1MyA1MDYgNTAgNTA1IDUxIDUwNiBiIDcwIDQ5NiA1OCA1MDYgNjIgNTAzIGIgODEgNDg1IDczIDQ5MiA3OCA0ODggbCA5NiA0NzMgbCAxMTEgNDU5IGwgMTIyIDQ0OSBsIDEzNCA0MzggbCAxODIgMzk2IGwgMjU1IDMzMCBiIDI5MiAyOTEgMjkyIDI5OCAyOTIgMjk4IGwgMjkyIDI5MCBsIDI5MiAyODQgbCAyODMgMjcwIGIgMjA5IDM2IDIzNCAxOTcgMjA5IDExMyBiIDI4OCAtMTcwIDIwOSAtNDQgMjM1IC0xMTkgYiAyOTkgLTE4NCAyOTUgLTE3OSAyOTkgLTE4MSBiIDMwMCAtMTkxIDMwMCAtMTg3IDMwMCAtMTg4IGIgMjg1IC0yMDYgMzAwIC0xOTkgMjk0IC0yMDYgYiAyODAgLTIwNiAyODMgLTIwNiAyODEgLTIwNiBiIDI0NyAtMjAxIDI3MCAtMjAyIDI1OSAtMjAxIGIgMTc2IC0yMjIgMjIzIC0yMDEgMTk3IC0yMDggYiAxMTQgLTM0MCAxMzYgLTI0OSAxMTQgLTI5MiBiIDE3MiAtNDcxIDExNCAtMzg0IDEzNCAtNDMzIGIgMTg1IC00OTIgMTgyIC00ODEgMTg1IC00ODcgYiAxODEgLTUwMiAxODUgLTQ5NiAxODMgLTQ5OSBiIDE3MSAtNTA4IDE3NiAtNTA1IDE3NCAtNTA4IGIgMTUyIC00OTggMTY2IC01MDggMTYwIC01MDMgYiAwIC0yODQgNjUgLTQyOCAxMiAtMzUyIGIgMCAtMjYwIDAgLTI3OCAwIC0yNzAgYiAxIC0yMzggMCAtMjUyIDAgLTI0MiBiIDE0OCAtMTQwIDE2IC0xNzcgNzMgLTE0MCBiIDIwOSAtMTQ4IDE2NyAtMTQwIDE4OSAtMTQyIGIgMjE1IC0xNDkgMjEyIC0xNDggMjE1IC0xNDkgYiAyMTUgLTE0OSAyMTUgLTE0OSAyMTUgLTE0OSBsIDIxNSAtMTQ5IGIgMjAxIC0xMzYgMjE1IC0xNDggMjA5IC0xNDIgbCAxNTcgLTk3IGwgOTYgLTQxIGIgMTcgMzQgMjEgMjQgMTcgMjkgYiAxNyAzNyAxNyAzNiAxNyAzNiBiIDE3IDM4IDE3IDM3IDE3IDM4IGIgMjUgNTYgMTcgNDQgMTcgNDQgYiAxMTAgMjk4IDgxIDEzMSAxMTAgMjE5IGIgNDYgNDc0IDExMCAzNjcgODggNDMxIGIgMzggNDkxIDQwIDQ4MCAzOCA0ODcgYiA0OSA1MDUgMzggNDk4IDQyIDUwMiBcIn0sdjdkOnt4X21pbjotMS4zNTkzNzUseF9tYXg6NDM2LjkyMTg3NSxoYTo0NDYsbzpcIm0gMjEzIDIwNSBiIDIxNyAyMDUgMjE1IDIwNSAyMTYgMjA1IGIgMjM0IDE5NCAyMjQgMjA1IDIzNCAxOTkgYiAyMzYgMTg3IDIzNCAxOTQgMjM1IDE5MCBsIDI0NSAxNjcgbCAyNjEgMTI5IGwgMjcwIDEwNiBiIDM1NSAtNjEgMjk0IDU0IDMyOSAtMTMgYiA0MjAgLTE2MyAzODEgLTEwNSA0MDIgLTEzOCBiIDQzNiAtMTg4IDQzNSAtMTg0IDQzNiAtMTg0IGIgNDM2IC0xOTEgNDM2IC0xOTAgNDM2IC0xOTAgYiA0MjEgLTIwNiA0MzYgLTIwMSA0MzEgLTIwNiBsIDQyMSAtMjA2IGwgNDE2IC0yMDYgbCA0MDUgLTIwMSBiIDIxNyAtMTU4IDM0NyAtMTcyIDI4MyAtMTU4IGIgMzEgLTIwMSAxNTMgLTE1OCA4OCAtMTcyIGwgMjAgLTIwNiBsIDE0IC0yMDYgbCAxNCAtMjA2IGIgMCAtMTkxIDUgLTIwNiAwIC0yMDEgYiAtMSAtMTg4IDAgLTE5MCAtMSAtMTkwIGIgMTQgLTE2MyAtMSAtMTg2IDAgLTE4NCBiIDk1IC0zNCAzNiAtMTM2IDcyIC03NyBiIDE2NiAxMDYgMTE5IDggMTQ4IDY4IGwgMTc1IDEyOSBsIDE4MyAxNDggbCAyMDAgMTg4IGIgMjEzIDIwNSAyMDUgMTk5IDIwOCAyMDIgXCJ9LHY3Zjp7eF9taW46MCx4X21heDozNjcuNSxoYTozNzUsbzpcIm0gMCAxMjQgbCAwIDE4NyBsIDYxIDE4NyBsIDEyMiAxODcgbCAxMjIgMTM4IGwgMTIyIDkxIGwgMTUzIDYxIGwgMTgzIDMwIGwgMjEzIDYxIGwgMjQzIDkxIGwgMjQzIDEzOCBsIDI0MyAxODcgbCAzMDYgMTg3IGwgMzY3IDE4NyBsIDM2NyAxMjQgbCAzNjcgNjEgbCAzMjEgNjEgbCAyNzQgNjEgbCAyNDMgMzAgbCAyMTMgMCBsIDI0MyAtMzEgbCAyNzQgLTYyIGwgMzIxIC02MiBsIDM2NyAtNjIgbCAzNjcgLTEyNCBsIDM2NyAtMTg4IGwgMzA2IC0xODggbCAyNDMgLTE4OCBsIDI0MyAtMTQwIGwgMjQzIC05MyBsIDIxMyAtNjIgbCAxODMgLTMxIGwgMTUzIC02MiBsIDEyMiAtOTMgbCAxMjIgLTE0MCBsIDEyMiAtMTg4IGwgNjEgLTE4OCBsIDAgLTE4OCBsIDAgLTEyNCBsIDAgLTYyIGwgNDYgLTYyIGwgOTIgLTYyIGwgMTIzIC0zMSBsIDE1MyAwIGwgMTIzIDMwIGwgOTIgNjEgbCA0NiA2MSBsIDAgNjEgbCAwIDEyNCBcIn0sdjgwOnt4X21pbjoyOS45Mzc1LHhfbWF4OjQyMC41NzgxMjUsaGE6MzcxLG86XCJtIDExNSAzNDUgYiAyMjEgMzQ3IDExNyAzNDUgMTY2IDM0NyBiIDQxMSAzNDUgMzA2IDM0NyA0MDkgMzQ1IGIgNDIwIDMzMCA0MTYgMzQyIDQyMCAzMzUgYiA0MTUgMzE5IDQyMCAzMjYgNDE5IDMyMSBiIDE3OCAxMTggMzk3IDMwMyAxNzkgMTE4IGIgMTc4IDExNyAxNzggMTE4IDE3OCAxMTcgYiAxODEgMTE3IDE3OCAxMTcgMTc4IDExNyBiIDE4OSAxMTcgMTgyIDExNyAxODUgMTE3IGIgMTkzIDExNyAxOTAgMTE3IDE5MSAxMTcgYiAyNDcgOTggMjE1IDExNyAyMzIgMTExIGIgMjk2IDc1IDI2NiA4MyAyODAgNzYgYiAzMDIgNzUgMjk5IDc1IDMwMCA3NSBiIDMyMiA5MSAzMTEgNzUgMzE1IDc5IGIgMzIyIDkxIDMyMiA5MSAzMjIgOTEgYiAzMjIgOTEgMzIyIDkxIDMyMiA5MSBiIDMxOSA5MSAzMjIgOTEgMzIxIDkxIGIgMzEzIDkwIDMxOCA5MCAzMTUgOTAgYiAyODMgMTA3IDMwMCA5MCAyODggOTcgYiAyNzcgMTI2IDI3OSAxMTQgMjc3IDEyMSBiIDMxOSAxNjcgMjc3IDE0OSAyOTUgMTY3IGIgMzE5IDE2NyAzMTkgMTY3IDMxOSAxNjcgYiAzNjIgMTE4IDM0NyAxNjcgMzYyIDE0NyBiIDM1NSA4MiAzNjIgMTA4IDM1OSA5NiBiIDMxMSAzMyAzNDkgNjUgMzQwIDU1IGIgMjI0IDEgMjg0IDEyIDI1MyAxIGIgMTk0IDUgMjEzIDEgMjA0IDIgYiAxNjggMTggMTgzIDggMTc4IDExIGIgMTEwIDM2IDE1MSAzMCAxMzAgMzYgYiA1NyAxNSA4OCAzNiA2OCAyOSBiIDQ3IDExIDU0IDEyIDUxIDExIGIgMzEgMjAgNDAgMTEgMzQgMTMgYiAyOSAyNiAzMSAyMiAyOSAyNSBiIDY4IDY2IDI5IDM2IDM5IDQ1IGIgMjg1IDI1MCA3MyA3MSAyODEgMjQ4IGIgMjg1IDI1MCAyODUgMjUwIDI4NSAyNTAgYiAyMzEgMjUyIDI4NSAyNTIgMjYxIDI1MiBiIDEzNyAyNTAgMTkwIDI1MiAxNDEgMjUwIGIgOTMgMjI3IDEyMiAyNDggMTEwIDI0MSBiIDc4IDIyMCA4OCAyMjIgODMgMjIwIGIgNjYgMjI3IDc0IDIyMCA3MCAyMjIgYiA2MyAyMzQgNjUgMjI5IDYzIDIzMSBiIDg1IDI5MSA2MyAyNDEgNjkgMjUyIGIgMTE1IDM0NSAxMDggMzQyIDEwOCAzNDQgXCJ9LHY4MTp7eF9taW46MCx4X21heDo0MjguNzUsaGE6NDM4LG86XCJtIDI2MiAxODYgYiAyNzMgMTg2IDI2NiAxODYgMjcyIDE4NiBiIDI3NCAxODYgMjczIDE4NiAyNzQgMTg2IGIgMjg1IDE4NiAyNzQgMTg2IDI4MCAxODYgYiA0MjggNDggMzc1IDE4MSA0MjggMTIyIGIgMzg2IC02OCA0MjggMTIgNDE2IC0yOSBiIDE1NSAtMTg3IDMyOSAtMTQ1IDIzNiAtMTg3IGIgMTIgLTExMSA5MiAtMTg3IDM4IC0xNjIgYiAwIC01MSA0IC05MSAwIC03MiBiIDI2MiAxODYgMCA1OCAxMjIgMTc5IG0gMzY2IDEzMSBiIDM1MiAxMzQgMzYyIDEzMyAzNTcgMTM0IGIgMjE5IDgxIDMyMSAxMzQgMjY5IDExNSBiIDQ3IC0xMTEgMTI2IDIzIDUwIC02MiBiIDQ3IC0xMTIgNDcgLTExMSA0NyAtMTEyIGIgNzcgLTEzNiA0NyAtMTI5IDU4IC0xMzYgYiAyNjQgLTQ1IDExOCAtMTM2IDE5NCAtMTAxIGIgMzgyIDEwOSAzMzYgMTIgMzgyIDc2IGIgMzY2IDEzMSAzODIgMTIwIDM3NyAxMjkgXCJ9LHY4Mzp7eF9taW46LTEuMzU5Mzc1LHhfbWF4Ojg0Ny45Njg3NSxoYTo4NjUsbzpcIm0gNDg4IDE0OTkgYiA0OTUgMTUwMCA0OTAgMTUwMCA0OTIgMTUwMCBiIDU0MSAxNDY1IDUwNyAxNTAwIDUyMSAxNDkwIGIgNjc5IDEwNzggNjIyIDEzNzIgNjc5IDEyMTAgYiA2NzcgMTA1MCA2NzkgMTA2OCA2NzcgMTA2MCBiIDQ3NyA2NDIgNjY4IDg5MyA2MDQgNzY0IGwgNDQzIDYwOSBsIDQzMSA1OTYgbCA0MzEgNTkyIGwgNDM4IDU2MiBsIDQ0OSA1MDggbCA0NjAgNDU4IGIgNDgxIDM1NSA0NzUgMzkwIDQ4MSAzNTUgYiA0ODEgMzU1IDQ4MSAzNTUgNDgxIDM1NSBiIDQ5MCAzNTYgNDgxIDM1NSA0ODUgMzU1IGIgNTI4IDM1OCA0OTUgMzU2IDUxMSAzNTggYiA1NTggMzU2IDU0MCAzNTggNTUyIDM1NiBiIDgzOSA5NSA2OTkgMzM4IDgwOCAyMzcgYiA4NDcgMjIgODQ1IDcyIDg0NyA0NyBiIDYzMSAtMzAzIDg0NyAtMTEzIDc2NiAtMjQyIGIgNjIwIC0zMDkgNjIzIC0zMDggNjIwIC0zMDkgbCA2MjAgLTMxMCBiIDYzMSAtMzU5IDYyMCAtMzEwIDYyNiAtMzMzIGwgNjQ2IC00MzUgbCA2NjAgLTQ5NiBiIDY3MiAtNTg4IDY2OCAtNTM1IDY3MiAtNTYzIGIgNjY0IC02NTMgNjcyIC02MTAgNjY5IC02MzAgYiAzODMgLTg3NSA2MzAgLTc5MiA1MDkgLTg3NSBiIDIwMSAtODEwIDMyMSAtODc1IDI1NyAtODU1IGIgMTI5IC02ODAgMTUxIC03NjggMTI5IC03MzAgYiAyNzQgLTUzMCAxMjkgLTU5MiAyMDAgLTUzMCBiIDM1MSAtNTUzIDMwMCAtNTMwIDMyNiAtNTM4IGIgNDEyIC02NjkgMzkzIC01ODIgNDEyIC02MjYgYiAyODcgLTgwNSA0MTIgLTczNSAzNjYgLTgwMCBsIDI3OSAtODA1IGwgMjg1IC04MDkgYiAzODMgLTgzMCAzMTggLTgyMyAzNTEgLTgzMCBiIDU4NiAtNzE4IDQ2NCAtODMwIDU0MCAtNzg5IGIgNjI2IC01ODQgNjEyIC02NzggNjI2IC02MzEgYiA2MTkgLTUyOCA2MjYgLTU2NiA2MjMgLTU0OCBiIDYxMiAtNDk1IDYxOSAtNTI2IDYxNiAtNTEwIGIgNTc3IC0zMjQgNTkwIC0zODcgNTc3IC0zMjQgYiA1NzcgLTMyNCA1NzcgLTMyNCA1NzcgLTMyNCBiIDU2OCAtMzI2IDU3NSAtMzI0IDU3MSAtMzI0IGIgNTI4IC0zMzQgNTU4IC0zMjggNTM3IC0zMzMgYiA0NjUgLTMzOCA1MDYgLTMzNyA0ODUgLTMzOCBiIDI0IC0xMSAyNjkgLTMzOCA4NyAtMjA2IGIgLTEgMTQ1IDggNDEgLTEgOTMgYiA5NiA0NDIgLTEgMjQ5IDMyIDM1MSBiIDMyMiA3MTQgMTY2IDU0MSAyMzYgNjI2IGwgMzUyIDc0NSBsIDM0NSA3ODIgbCAzMzIgODQzIGwgMzE1IDkyMSBiIDMwMyA5ODQgMzEwIDk1MCAzMDQgOTc4IGIgMjk1IDEwODIgMjk4IDEwMTcgMjk1IDEwNDkgYiA0MTMgMTQyNiAyOTUgMTIwOCAzMzYgMTMyOSBiIDQ4OCAxNDk5IDQzNiAxNDU2IDQ3NyAxNDk2IG0gNTQ5IDEzMDEgYiA1NDEgMTMwMSA1NDcgMTMwMSA1NDQgMTMwMSBiIDQxMSAxMjA3IDUwMCAxMzAxIDQ0NyAxMjYzIGIgMzU1IDEwMDQgMzc0IDExNTIgMzU1IDEwNzkgYiAzNTkgOTQyIDM1NSA5ODQgMzU2IDk2MyBiIDM3MSA4ODEgMzYyIDkyNyAzNjMgOTE3IGwgMzg1IDgxOCBiIDM5MiA3ODIgMzg5IDc5OSAzOTIgNzg0IGwgMzkyIDc4MiBiIDQzNCA4MjggMzkzIDc4MiA0MjQgODE2IGIgNjA3IDExNjUgNTM0IDk0MSA1OTQgMTA2MCBiIDYwOCAxMTkzIDYwOCAxMTc1IDYwOCAxMTgzIGIgNTk3IDEyNzAgNjA4IDEyMjQgNjA0IDEyNTQgYiA1NDkgMTMwMSA1ODkgMTI4NiA1NzEgMTI5OSBtIDM5OCA1MjggYiAzOTMgNTU1IDM5NiA1NDIgMzkzIDU1MyBiIDM5MiA1NTUgMzkzIDU1NSAzOTMgNTU1IGIgMzE3IDQ3MCAzOTAgNTU1IDM0NyA1MDUgYiAxOTAgMjk4IDI2NiA0MDggMjEyIDMzNCBiIDEyNyA3MCAxNDggMjI3IDEyNyAxNDggYiAxNTUgLTc3IDEyNyAxOSAxMzcgLTMwIGIgNDY4IC0zMDMgMjA5IC0yMTYgMzMzIC0zMDMgYiA1MTkgLTI5OSA0ODQgLTMwMyA1MDIgLTMwMiBiIDU2OCAtMjg0IDU0MSAtMjk1IDU2OCAtMjg3IGwgNTY4IC0yODQgYiA1NjMgLTI2MyA1NjggLTI4NCA1NjYgLTI3NCBsIDUzNCAtMTIwIGwgNTExIC0xMyBsIDQ5NiA2MSBsIDQ4MCAxMzMgYiA0NjkgMTg3IDQ3MiAxNzYgNDY5IDE4NyBiIDQ2OCAxODggNDY5IDE4NyA0NjkgMTg4IGIgNDE2IDE2MiA0NjIgMTg4IDQzMCAxNzIgYiAzMzcgMTMgMzY0IDEyNiAzMzcgNjkgYiA0MTMgLTEyNCAzMzcgLTQwIDM2MyAtOTMgYiA0MjggLTE0NCA0MjQgLTEzMSA0MjggLTEzNyBiIDQyOCAtMTQ5IDQyOCAtMTQ1IDQyOCAtMTQ4IGIgNDA5IC0xNjYgNDI2IC0xNjEgNDE5IC0xNjYgYiAzOTQgLTE2MiA0MDUgLTE2NiA0MDAgLTE2NSBiIDI0MCA3NyAzMDIgLTEyMiAyNDAgLTI3IGwgMjQwIDc3IGIgNDMwIDM0MiAyNDAgMTk3IDMxNSAzMDEgbCA0MzYgMzQ0IGwgNDI2IDM5NCBsIDM5OCA1MjggbSA1NDggMTk0IGIgNTI2IDE5NSA1NDAgMTk1IDUzMiAxOTUgYiA1MTkgMTk1IDUyNCAxOTUgNTIxIDE5NSBsIDUxNCAxOTUgbCA1MTggMTc3IGwgNTM5IDc5IGwgNTUyIDE1IGwgNTY2IC00OCBsIDU5NCAtMTg3IGwgNjA1IC0yNDAgYiA2MTIgLTI2NiA2MDkgLTI1NCA2MTEgLTI2NiBiIDYxMiAtMjY2IDYxMiAtMjY2IDYxMiAtMjY2IGIgNjQxIC0yNDggNjEzIC0yNjYgNjMwIC0yNTYgYiA3NDQgLTk4IDY5MiAtMjEyIDczMCAtMTU2IGIgNzUxIC00MCA3NDkgLTc5IDc1MSAtNTkgYiA1NDggMTk0IDc1MSA3NiA2NjUgMTgxIFwifSx2ODQ6e3hfbWluOjI1Ljg1OTM3NSx4X21heDoxNjQuNjg3NSxoYToxNjgsbzpcIm0gMzQgMzY5IGIgNDAgMzcwIDM1IDM3MCAzOCAzNzAgYiA1OSAzNTMgNDkgMzcwIDUwIDM2NyBiIDE2NCA0MCAxMjIgMjU0IDE1NSAxNTggYiAxNjQgMCAxNjQgMzMgMTY0IDE2IGIgMTY0IC00MCAxNjQgLTE2IDE2NCAtMzQgYiA1OSAtMzUzIDE1NSAtMTU4IDEyMiAtMjU0IGIgNDAgLTM3MSA1MyAtMzY2IDQ3IC0zNzEgYiAzNCAtMzcwIDM4IC0zNzEgMzYgLTM3MCBiIDI1IC0zNTggMjggLTM2NyAyNSAtMzYzIGIgMzEgLTMzNyAyNSAtMzUyIDI3IC0zNDcgYiA5MiAwIDcyIC0yMzQgOTIgLTExNyBiIDMxIDMzNSA5MiAxMTYgNzIgMjMzIGIgMjUgMzU2IDI3IDM0NSAyNSAzNTIgYiAzNCAzNjkgMjUgMzYzIDI4IDM2NiBcIn0sdjg2Ont4X21pbjotNTcxLjY3MTg3NSx4X21heDo1NzAuMzEyNSxoYTo1ODIsbzpcIm0gLTM4NiAxNzMgYiAtMzgxIDE3NCAtMzg1IDE3NCAtMzgzIDE3NCBiIC0zNzAgMTczIC0zNzcgMTc0IC0zNzIgMTczIGIgLTI4MSA4NiAtMzY3IDE3MiAtMzQ3IDE1MSBiIC0xOTYgMCAtMjM1IDM3IC0xOTYgMCBiIC0xMjYgODQgLTE5NiAwIC0xNjQgMzcgYiAtNTAgMTc0IC01NSAxNzMgLTU3IDE3MiBiIC00NCAxNzQgLTQ5IDE3NCAtNDcgMTc0IGIgLTM1IDE3MyAtNDIgMTc0IC0zOCAxNzMgYiA1MyA4NiAtMzIgMTcyIC0xMiAxNTEgYiAxMzggMCAxMDAgMzcgMTM4IDAgYiAyMDggODQgMTQwIDAgMTcwIDM3IGIgMjg0IDE3NCAyNzkgMTczIDI3NyAxNzIgYiAyODkgMTc0IDI4NSAxNzQgMjg4IDE3NCBiIDI5OSAxNzMgMjk0IDE3NCAyOTggMTczIGIgNDYyIDExIDMwMyAxNzIgMzM4IDEzNCBsIDQ3NSAtMSBsIDUwMyAzNCBiIDU0MSA3NiA1MzQgNzIgNTM2IDc0IGIgNTQ4IDc3IDU0NCA3NyA1NDUgNzcgYiA1NzAgNTYgNTYwIDc3IDU3MCA2OCBiIDU2NyA0OCA1NzAgNTQgNTY4IDUxIGIgMzkyIC0xNzIgNTY0IDQxIDM5NyAtMTY2IGIgMzc4IC0xNzYgMzg3IC0xNzQgMzgyIC0xNzYgYiAzNjggLTE3NCAzNzQgLTE3NiAzNzEgLTE3NiBiIDI4MCAtODcgMzY3IC0xNzMgMzQ1IC0xNTIgYiAxOTQgMCAyMzQgLTM4IDE5NCAwIGIgMTI1IC04NiAxOTQgMCAxNjMgLTM4IGIgNDkgLTE3NCA1NCAtMTc0IDU1IC0xNzMgYiA0MyAtMTc2IDQ3IC0xNzYgNDYgLTE3NiBiIDM0IC0xNzQgNDAgLTE3NiAzNiAtMTc0IGIgLTU0IC04NyAzMSAtMTczIDEwIC0xNTIgYiAtMTQwIDAgLTEwMiAtMzggLTE0MCAwIGIgLTIwOSAtODYgLTE0MSAwIC0xNzEgLTM4IGIgLTI4NSAtMTc0IC0yODAgLTE3NCAtMjc5IC0xNzMgYiAtMjkxIC0xNzYgLTI4NyAtMTc2IC0yODkgLTE3NiBiIC0zMDAgLTE3NCAtMjk1IC0xNzYgLTI5OSAtMTc0IGIgLTQ2NCAtMTIgLTMwNCAtMTczIC0zNDAgLTEzNyBsIC00NzYgMCBsIC01MDQgLTM0IGIgLTU0MyAtNzcgLTUzNCAtNzMgLTUzNyAtNzYgYiAtNTQ5IC03OSAtNTQ1IC03OSAtNTQ3IC03OSBiIC01NzEgLTU4IC01NjIgLTc5IC01NzEgLTY5IGIgLTU2OCAtNDkgLTU3MSAtNTUgLTU3MCAtNTIgYiAtMzkyIDE3MiAtNTY2IC00MyAtMzk2IDE2NyBiIC0zODYgMTczIC0zOTAgMTcyIC0zODcgMTczIFwifSx2OGE6e3hfbWluOi0xNzAuMTQwNjI1LHhfbWF4OjE2OC43ODEyNSxoYToxNzIsbzpcIm0gLTE2MCA1NjcgYiAtMTIyIDU2NyAtMTU5IDU2NyAtMTQ5IDU2NyBsIC04NyA1NjcgbCAtODQgNTY2IGIgLTc0IDU1MyAtNzggNTYzIC03NyA1NjAgYiAtMjAgMzY2IC03MyA1NTEgLTQ5IDQ2NiBiIDMxIDE4NiA4IDI2NyAzMSAxODYgYiA4NSAzNzEgMzEgMTg2IDU1IDI2OSBiIDE0MCA1NTkgMTE0IDQ3MyAxMzggNTU3IGIgMTUzIDU2NyAxNDEgNTY0IDE0OCA1NjcgYiAxNjggNTU5IDE1OSA1NjcgMTY2IDU2NCBiIDE2OCA1NTUgMTY4IDU1NyAxNjggNTU3IGIgOTIgMjgxIDE2OCA1NDggMTU5IDUxMyBiIDE0IDEzIDUwIDEzNCAxNCAxMyBiIDAgMCAxNCA2IDYgMCBiIC0xNyAxNSAtOCAwIC0xNyA4IGIgLTkzIDI4MyAtMTcgMTUgLTUxIDEzNiBiIC0xNzAgNTUyIC0xNjYgNTMzIC0xNzAgNTQ4IGIgLTE3MCA1NTMgLTE3MCA1NTIgLTE3MCA1NTIgYiAtMTYwIDU2NyAtMTcwIDU2MCAtMTY3IDU2NCBcIn0sdjhiOnt4X21pbjowLHhfbWF4OjMxOS44NTkzNzUsaGE6MzI2LG86XCJtIDE0OSA1MDggYiAxNTkgNTA5IDE1MiA1MDkgMTU1IDUwOSBiIDE4NiA0OTQgMTcwIDUwOSAxODEgNTAzIGIgMTkwIDQ0MCAxOTAgNDg3IDE5MCA0ODggbCAxOTAgNDMwIGwgMTkwIDM3NyBsIDI0MiAzNzcgbCAyNTEgMzc3IGIgMzAzIDM3MyAyOTggMzc3IDI5NiAzNzcgYiAzMTkgMzQ1IDMxNCAzNjcgMzE5IDM1NiBiIDMwNCAzMTkgMzE5IDMzNSAzMTQgMzI0IGIgMjUwIDMxNSAyOTYgMzE1IDI5OSAzMTUgbCAyNDIgMzE1IGwgMTkwIDMxNSBsIDE5MCAyNjIgbCAxOTAgMjUyIGIgMTg2IDE5OCAxOTAgMjA0IDE5MCAyMDUgYiAxNTkgMTgzIDE3OSAxODggMTcwIDE4MyBiIDEzMiAxOTggMTQ4IDE4MyAxMzggMTg4IGIgMTI3IDI1MiAxMjcgMjA1IDEyNyAyMDQgbCAxMjcgMjYyIGwgMTI3IDMxNSBsIDc2IDMxNSBsIDY4IDMxNSBiIDE0IDMxOSAyMCAzMTUgMjEgMzE1IGIgMCAzNDcgNCAzMjQgMCAzMzUgYiAxNCAzNzMgMCAzNTYgNCAzNjcgYiA2OCAzNzcgMjEgMzc3IDIwIDM3NyBsIDc2IDM3NyBsIDEyNyAzNzcgbCAxMjcgNDMwIGwgMTI3IDQ0MCBiIDEzMiA0OTQgMTI3IDQ4OCAxMjcgNDg3IGIgMTQ5IDUwOCAxMzYgNTAxIDE0MiA1MDUgXCJ9LHY4Yzp7eF9taW46LTMzMC43NSx4X21heDozMjkuMzkwNjI1LGhhOjMzNixvOlwibSAtMTMzIDQ4MyBiIC0xMTcgNDg0IC0xMjcgNDg0IC0xMjIgNDg0IGIgMzEgMzczIC01MSA0ODQgOSA0NDAgYiAzNSAzNDggMzQgMzY1IDM1IDM1NiBiIC0yNSAyODUgMzUgMzEzIDEwIDI4NSBiIC04NyAzMzEgLTU1IDI4NSAtNzYgMzAyIGIgLTE2NyA0MDIgLTEwMCAzNzYgLTEzMyA0MDIgYiAtMTkxIDM5OCAtMTc1IDQwMiAtMTgzIDQwMSBiIC0yMjcgMzQxIC0yMTUgMzg4IC0yMjcgMzY5IGIgLTIyNSAzMjAgLTIyNyAzMzQgLTIyNyAzMjcgYiAtMTMgNzQgLTIwOSAyMzAgLTEyNSAxMzMgYiA2IDY1IC00IDcwIDUgNjYgbCA5IDYzIGwgMTAgNjUgYiAxMTcgMjMxIDEyIDY4IDQwIDExMiBsIDE4OSAzNDEgbCAyNDIgNDI0IGIgMjY4IDQ2MCAyNjIgNDU2IDI2NCA0NTggYiAyODMgNDY0IDI3MyA0NjMgMjc3IDQ2NCBiIDMwOCA0MzggMjk2IDQ2NCAzMDggNDUzIGwgMzA4IDQzNyBiIDI4NyAzOTYgMzA4IDQzMCAzMDggNDI4IGwgOTUgOTggbCA1OSA0MyBsIDU4IDQxIGwgNjUgMzcgYiAyNTMgLTE1NiAxNTEgLTggMjE3IC03NyBiIDI4MSAtMjg1IDI3MiAtMTk5IDI4MSAtMjQ0IGIgMTQ4IC00ODEgMjgxIC0zODEgMjMxIC00NjMgYiAxMTUgLTQ4NSAxMzcgLTQ4NCAxMjYgLTQ4NSBiIC0zMiAtMzc2IDUxIC00ODUgLTkgLTQ0MiBiIC0zNiAtMzQ5IC0zNSAtMzY2IC0zNiAtMzU4IGIgMjUgLTI4NyAtMzYgLTMxNSAtMTIgLTI4NyBiIDg1IC0zMzMgNTQgLTI4NyA3NCAtMzAyIGIgMTY2IC00MDMgOTkgLTM3NyAxMzMgLTQwMyBiIDE5MCAtMzk5IDE3NCAtNDAzIDE4MiAtNDAyIGIgMjI1IC0zNDIgMjE1IC0zOTAgMjI1IC0zNzAgYiAyMjQgLTMyMiAyMjUgLTMzNSAyMjUgLTMyOCBiIDEyIC03NiAyMDggLTIzMSAxMjUgLTEzNCBiIC04IC02NiAyIC03MiAtNiAtNjggbCAtMTAgLTY1IGwgLTEyIC02NiBiIC0xMTggLTIzMSAtMTMgLTY4IC00MiAtMTEzIGwgLTE5MCAtMzQyIGwgLTI0MyAtNDI2IGIgLTI2OSAtNDYyIC0yNjQgLTQ1OCAtMjY1IC00NTggYiAtMjg0IC00NjYgLTI3NCAtNDY0IC0yNzkgLTQ2NiBiIC0zMTAgLTQ0MCAtMjk4IC00NjYgLTMxMCAtNDU1IGwgLTMxMCAtNDM4IGIgLTI4OCAtMzk4IC0zMTAgLTQzMCAtMzA4IC00MzAgbCAtOTYgLTk5IGwgLTU5IC00NCBsIC01OSAtNDMgbCAtNjYgLTM4IGIgLTI4MSAyODQgLTE5OCAzMyAtMjgxIDE1OCBsIC0yODEgMjg0IGIgLTEzMyA0ODMgLTI4MSAzOTIgLTIyMCA0NzQgbSAyNTQgMTc3IGIgMjY2IDE3OSAyNTggMTc3IDI2MiAxNzkgYiAzMTkgMTQ5IDI4NyAxNzkgMzA3IDE2NyBiIDMyOSAxMTUgMzI2IDE0MCAzMjkgMTI3IGIgMzE5IDc5IDMyOSAxMDIgMzI2IDkwIGIgMjY4IDUxIDMwNyA2MSAyODcgNTEgYiAyMjEgNzIgMjUwIDUxIDIzNCA1OCBiIDIwNSAxMTUgMjEwIDg0IDIwNSA5OSBiIDI1NCAxNzcgMjA1IDE0MiAyMjMgMTcwIG0gLTI4MSAtNTQgYiAtMjY5IC01MiAtMjc3IC01MiAtMjczIC01MiBiIC0yMjMgLTczIC0yNTMgLTUyIC0yMzUgLTU5IGIgLTIwNiAtMTE2IC0yMTIgLTg0IC0yMDYgLTEwMSBiIC0yMTYgLTE1MSAtMjA2IC0xMjkgLTIwOSAtMTQxIGIgLTI2OSAtMTc5IC0yMjggLTE3MCAtMjQ5IC0xNzkgYiAtMzE0IC0xNTkgLTI4NSAtMTc5IC0zMDIgLTE3MyBiIC0zMzAgLTExNiAtMzI1IC0xNDcgLTMzMCAtMTMxIGIgLTI4MSAtNTQgLTMzMCAtODggLTMxMyAtNjEgXCJ9LHY4ZDp7eF9taW46LTEuMzU5Mzc1LHhfbWF4OjI1NS44OTA2MjUsaGE6MjYxLG86XCJtIDExOCA1MTQgYiAxMjcgNTE3IDEyMSA1MTcgMTIyIDUxNyBiIDE0NyA1MDUgMTM2IDUxNyAxNDIgNTEzIGwgMTQ4IDUwMiBsIDE0OCA0MDMgYiAxNDggMzA2IDE0OCAzNTEgMTQ4IDMwNiBiIDE3NCAzMTUgMTQ5IDMwNiAxNjAgMzEwIGwgMjAwIDMyNCBsIDIwNSAzMjMgYiAyMjMgMzEyIDIxMyAzMjMgMjIwIDMxOSBsIDIyNSAzMDggbCAyMjUgMjYwIGIgMjI1IDI0NSAyMjUgMjU1IDIyNSAyNDkgYiAyMjAgMjA0IDIyNSAyMDggMjI0IDIwOSBiIDE3OSAxODggMjE2IDE5OSAyMTUgMTk5IGwgMTQ4IDE3NyBsIDE0OCAxMjQgbCAxNDggNzAgbCAxODkgODQgYiAyMzYgOTggMjE5IDk0IDIzMCA5OCBiIDI0NyA5NCAyNDAgOTggMjQzIDk3IGIgMjU1IDUyIDI1NCA4OCAyNTUgODcgYiAyNTUgMzMgMjU1IDQ3IDI1NSA0MCBsIDI1NCAtMTIgbCAyNTMgLTE1IGIgMjQ5IC0yMiAyNTMgLTE4IDI1MCAtMjAgbCAyNDUgLTI0IGwgMTk2IC00MSBsIDE0OCAtNTggbCAxNDggLTEwOCBiIDE0OCAtMTU4IDE0OCAtMTM2IDE0OCAtMTU4IGIgMTc0IC0xNDggMTQ4IC0xNTggMTYwIC0xNTQgYiAyMDQgLTE0MCAxOTggLTE0MCAyMDAgLTE0MCBsIDIwNCAtMTQwIGIgMjI0IC0xNTIgMjEzIC0xNDAgMjIxIC0xNDUgYiAyMjUgLTIwMSAyMjQgLTE1NSAyMjUgLTE3NyBiIDIyNCAtMjU0IDIyNSAtMjI2IDIyNCAtMjUxIGIgMTU3IC0yODQgMjIwIC0yNjIgMjIwIC0yNjIgbCAxNDggLTI4OCBsIDE0OCAtMzk1IGwgMTQ4IC01MDMgbCAxNDcgLTUwNiBiIDEyNyAtNTE5IDE0MiAtNTE0IDEzNCAtNTE5IGIgMTA3IC01MDYgMTE5IC01MTkgMTExIC01MTQgbCAxMDYgLTUwMyBsIDEwNiAtNDAzIGIgMTA2IC0zMDMgMTA2IC0zMTYgMTA2IC0zMDMgYiAxMDQgLTMwMyAxMDQgLTMwMyAxMDQgLTMwMyBiIDg4IC0zMTAgMTA0IC0zMDMgOTYgLTMwNiBsIDYzIC0zMTkgYiA1MSAtMzIyIDU5IC0zMjAgNTUgLTMyMiBiIDM2IC0zMTUgNDYgLTMyMiA0MCAtMzE5IGIgMzEgLTI3MyAzMiAtMzA5IDMxIC0zMTIgYiAzMSAtMjU4IDMxIC0yNjkgMzEgLTI2MyBsIDMxIC0yMTAgbCAzNCAtMjA2IGIgNDAgLTE5OCAzNSAtMjA0IDM4IC0xOTkgYiA3NCAtMTg2IDQyIC0xOTcgNTcgLTE5MSBsIDEwNiAtMTczIGwgMTA2IC0xMjMgYiAxMDYgLTk3IDEwNiAtMTEyIDEwNiAtMTA0IGIgMTA2IC03MiAxMDYgLTc2IDEwNiAtNzIgYiAxMDQgLTcyIDEwNiAtNzIgMTA2IC03MiBiIDIwIC05OSA4OSAtNzkgMjMgLTk5IGIgMCAtODQgMTAgLTk5IDIgLTkzIGIgLTEgLTM3IDAgLTgxIC0xIC01OSBiIDAgMTEgLTEgLTE1IDAgOSBiIDU4IDQwIDQgMjIgMiAyMiBsIDEwNiA1NiBsIDEwNiAxMDkgYiAxMDYgMTIzIDEwNiAxMTUgMTA2IDExOSBiIDEwNiAxNjIgMTA2IDE0NyAxMDYgMTYyIGIgODEgMTU1IDEwNiAxNjIgOTMgMTU5IGIgNTAgMTQ3IDY1IDE0OSA1NSAxNDcgYiAzNiAxNTIgNDMgMTQ3IDQwIDE0OCBiIDMxIDE5NCAzMiAxNTggMzEgMTU2IGIgMzEgMjA5IDMxIDE5OCAzMSAyMDQgbCAzMSAyNTYgbCAzNCAyNjAgYiA3NiAyODEgMzggMjY5IDM4IDI2OSBsIDEwNiAyOTIgbCAxMDYgMzk2IGwgMTA2IDUwMiBsIDEwNyA1MDUgYiAxMTggNTE0IDExMCA1MDkgMTE0IDUxMyBcIn0sdjhmOnt4X21pbjotMjEuNzgxMjUseF9tYXg6MzYyLjA2MjUsaGE6MzY5LG86XCJtIDMwMiAxMDMxIGIgMzA4IDEwMzIgMzA0IDEwMzIgMzA3IDEwMzIgYiAzMzAgMTAxNiAzMTggMTAzMiAzMjUgMTAyNyBiIDM2MiA4NjcgMzUxIDk3MCAzNjIgOTIwIGIgMzQwIDczOCAzNjIgODI0IDM1MyA3ODAgbCAzMzYgNzI3IGwgMzQwIDcxNyBiIDM2MiA1OTEgMzU1IDY3NyAzNjIgNjM0IGIgMjU3IDMyMyAzNjIgNDk2IDMyNSA0MDEgYiAyMDQgMjcyIDI0MyAzMDYgMjI3IDI5MCBiIDIwIDU2IDEyOSAyMDYgNjYgMTMzIGIgLTEgMTggMTIgNDQgMCAyMiBiIC0xOSA0IC00IDkgLTEyIDQgbCAtMjEgNCBsIC0yMSAxNDAgbCAtMjEgMjc2IGwgLTEyIDI3NyBiIDE2NyAzMzMgNjEgMjg4IDEyNyAzMDkgYiAzMTkgNTk4IDI2MiAzODggMzE5IDQ5MSBiIDMxMSA2NjQgMzE5IDYyMCAzMTcgNjQyIGwgMzEwIDY3MyBsIDMwNCA2NjQgYiAyMDQgNTQ4IDI3OSA2MjAgMjUwIDU4NyBiIDIwIDMzMyAxMjkgNDgzIDY2IDQwOSBiIC0xIDI5MiAxMiAzMjAgMCAyOTggYiAtMTkgMjgwIC00IDI4NSAtMTIgMjgwIGwgLTIxIDI4MCBsIC0yMSA0MTYgbCAtMjEgNTUyIGwgLTEyIDU1MyBiIDE2NyA2MDkgNjEgNTY0IDEyNyA1ODUgYiAzMTkgODc0IDI2NCA2NjYgMzE5IDc3MCBiIDI5NCA5OTIgMzE5IDkxNCAzMTEgOTU0IGIgMjg4IDEwMTEgMjg4IDEwMDQgMjg4IDEwMDcgYiAzMDIgMTAzMSAyODggMTAyMSAyOTQgMTAyOCBcIn0sdjkwOnt4X21pbjotMTcxLjUseF9tYXg6NDgzLjE4NzUsaGE6NDkzLG86XCJtIC04IDYzMSBiIC0xIDYzMiAtNiA2MzIgLTQgNjMyIGIgMTkgNjIwIDggNjMyIDE2IDYyOCBiIDIwIDQ5NSAyMCA2MTYgMjAgNjE2IGIgMjAgMzczIDIwIDQyNyAyMCAzNzMgYiAxMTUgNDEwIDIwIDM3MyA2MyAzOTAgbCAyMTAgNDQ4IGwgMjEwIDUzMSBiIDIxMiA2MjAgMjEwIDYxNCAyMTAgNjE2IGIgMjMxIDYzMiAyMTUgNjI4IDIyMyA2MzIgYiAyNDYgNjI3IDIzNiA2MzIgMjQyIDYzMSBiIDI1MSA1NDEgMjUxIDYyMCAyNTEgNjI4IGwgMjUxIDQ2MyBsIDMxNSA0ODkgYiAzODcgNTE0IDM2OCA1MDkgMzgxIDUxNCBiIDM5MyA1MTMgMzkwIDUxNCAzOTIgNTE0IGIgNDA2IDQ5NCA0MDIgNTEwIDQwNiA1MDIgYiAzOTcgNDc2IDQwNiA0ODcgNDA0IDQ4MCBiIDMyMyA0NDYgMzk2IDQ3NCAzNjMgNDYyIGwgMjUxIDQxNyBsIDI1MSAyODMgbCAyNTEgMTQ4IGwgMjU0IDE1MSBiIDM3MCAxOTkgMjkxIDE4MyAzMzIgMTk5IGIgNDE1IDE5MSAzODUgMTk5IDQwMCAxOTcgYiA0ODMgODQgNDU4IDE3NiA0ODMgMTM0IGIgNDYxIDAgNDgzIDU4IDQ3NiAyOSBiIDMzMiAtMTQyIDQzOSAtNDAgNDExIC03MiBsIDI1NSAtMjE1IGIgMjMxIC0yMjkgMjQwIC0yMjkgMjM5IC0yMjkgYiAyMTYgLTIyMyAyMjQgLTIyOSAyMjAgLTIyNyBiIDIxMCAtMTU4IDIxMCAtMjE3IDIxMCAtMjIzIGIgMjEwIC0xMjAgMjEwIC0xNDggMjEwIC0xMzYgbCAyMTAgLTI5IGwgMjA1IC0zNCBiIDEwMCAtMTQyIDE4MiAtNjUgMTU5IC04OCBsIDIzIC0yMTUgYiAtMSAtMjI5IDkgLTIyOSA2IC0yMjkgYiAtMTkgLTIxNyAtOSAtMjI5IC0xNiAtMjI0IGwgLTIwIC0yMTUgbCAtMjEgNDggbCAtMjEgMzEwIGwgLTgzIDI4NyBiIC0xNTIgMjYyIC0xMzMgMjY2IC0xNDUgMjYyIGIgLTE1NyAyNjMgLTE1MyAyNjIgLTE1NSAyNjIgYiAtMTcxIDI4MyAtMTY2IDI2NiAtMTcxIDI3NCBiIC0xNjEgMzAxIC0xNzEgMjkwIC0xNjcgMjk3IGIgLTkxIDMyOCAtMTYwIDMwMiAtMTI5IDMxNSBsIC0yMSAzNTYgbCAtMjEgNDg3IGwgLTIwIDYxNyBsIC0xOSA2MjEgYiAtOCA2MzEgLTE3IDYyNiAtMTIgNjMwIG0gMjEwIDI4OCBiIDIxMCA0MDEgMjEwIDM1MSAyMTAgNDAxIGIgMTE0IDM2NSAyMDkgNDAxIDE2NyAzODQgbCAyMCAzMjcgbCAyMCAyMzggbCAyMCAxNDggbCAyMSAxNTEgYiAxNDAgMTk5IDU5IDE4MyAxMDIgMTk5IGIgMjA2IDE4MCAxNjQgMTk5IDE4NyAxOTIgbCAyMDkgMTc3IGIgMjA5IDE3NyAyMDkgMTc3IDIwOSAxNzcgYiAyMTAgMjg4IDIxMCAxNzcgMjEwIDE5OSBtIDExMCAxMzEgYiA5NiAxMzMgMTA2IDEzMyAxMDAgMTMzIGIgODkgMTMzIDkzIDEzMyA5MSAxMzMgYiAyNCA4NyA2MyAxMjkgNDAgMTEzIGwgMjAgODAgbCAyMCAtMzcgbCAyMCAtMTU2IGwgMjMgLTE1MiBiIDE0NCA4MSA5NiAtNzIgMTQ0IDIwIGwgMTQ0IDgzIGIgMTEwIDEzMSAxNDQgMTEzIDEzNCAxMjYgbSAzNDEgMTMxIGIgMzI4IDEzMyAzMzcgMTMzIDMzMiAxMzMgYiAzMjIgMTMzIDMyNiAxMzMgMzIzIDEzMyBiIDI1NyA4NyAyOTYgMTI5IDI3MyAxMTMgbCAyNTEgODAgbCAyNTEgLTM3IGwgMjUxIC0xNTYgbCAyNTUgLTE1MiBiIDM3NSA4MSAzMjggLTcyIDM3NSAyMCBsIDM3NSA4MyBiIDM0MSAxMzEgMzc1IDExMyAzNjcgMTI2IFwifSx2OTI6e3hfbWluOjAseF9tYXg6NTk4Ljg5MDYyNSxoYTo2MTEsbzpcIm0gNjIgMTgxIGIgNzcgMTgzIDY2IDE4MyA3MiAxODMgYiA5MSAxODEgODMgMTgzIDg4IDE4MyBiIDIwMiAxMzEgMTAwIDE4MCAxMDYgMTc3IGwgMjk5IDg3IGwgMzk0IDEzMSBiIDUxNyAxODMgNDk5IDE4MSA1MDIgMTgzIGIgNTE5IDE4MyA1MTcgMTgzIDUxOCAxODMgYiA1OTggMTA0IDU2NyAxODMgNTk4IDE0NCBiIDU3NyA0OSA1OTggODQgNTkyIDY1IGIgNTE4IDE1IDU2NyAzOCA1NjMgMzcgYiA0ODQgMCA0OTkgNiA0ODQgMCBiIDUxOCAtMTYgNDg0IC0xIDQ5OSAtOCBiIDU3NyAtNTEgNTYzIC0zOCA1NjcgLTQwIGIgNTk4IC0xMDUgNTkyIC02NiA1OTggLTg2IGIgNTE5IC0xODQgNTk4IC0xNDUgNTY3IC0xODQgYiA1MTcgLTE4NCA1MTggLTE4NCA1MTcgLTE4NCBiIDM5NCAtMTMzIDUwMiAtMTg0IDQ5OSAtMTgzIGwgMjk5IC04OCBsIDIwMiAtMTMzIGIgODEgLTE4NCA5OSAtMTgzIDk1IC0xODQgYiA3NyAtMTg0IDgwIC0xODQgNzggLTE4NCBiIDAgLTEwNSAyOSAtMTg0IDAgLTE0NSBiIDIwIC01MSAwIC04NiA1IC02NiBiIDgwIC0xNiAyOSAtNDAgMzQgLTM4IGIgMTE0IC0xIDk4IC04IDExNCAtMSBiIDgwIDE1IDExNCAwIDk4IDYgYiAyMCA0OSAzNCAzNyAyOSAzOCBiIDAgMTA0IDYgNjUgMCA4NCBiIDYyIDE4MSAwIDE0MCAyMyAxNzQgbSA4OCAxMzQgYiA3NCAxMzYgODUgMTM0IDgwIDEzNiBiIDY4IDEzNCA3MiAxMzYgNjkgMTM2IGIgNDYgMTA0IDU0IDEzMCA0NiAxMTcgYiA1NSA4MSA0NiA5NSA0OSA4OCBiIDE0OSAzNCA1OSA3NiA1MyA4MCBiIDIyNCAtMSAxOTAgMTUgMjI0IDAgYiAxNDQgLTM4IDIyNCAtMSAxODcgLTE4IGIgNTQgLTg0IDU5IC03OSA1OCAtNzkgYiA0NiAtMTA1IDQ5IC05MCA0NiAtOTggYiA3NiAtMTM3IDQ2IC0xMjIgNTggLTEzNyBiIDc4IC0xMzcgNzcgLTEzNyA3NyAtMTM3IGIgMTk0IC04NiA4NyAtMTM3IDc2IC0xNDEgYiAyOTggLTM2IDI1MCAtNTggMjk4IC0zNiBiIDI5OCAtMzYgMjk4IC0zNiAyOTggLTM2IGIgNDAyIC04NCAyOTkgLTM2IDM0NSAtNTggYiA1MTggLTEzNyA1MjIgLTE0MSA1MTAgLTEzNyBiIDUyMSAtMTM3IDUxOSAtMTM3IDUxOSAtMTM3IGIgNTUxIC0xMDUgNTM5IC0xMzcgNTUxIC0xMjIgYiA1NDEgLTgzIDU1MSAtOTggNTQ4IC05MCBiIDQ0NyAtMzYgNTM3IC03NyA1NDQgLTgxIGIgMzc0IC0xIDQwNiAtMTYgMzc0IC0xIGIgNDQ3IDM0IDM3NCAwIDQwNiAxNSBiIDU0MSA4MSA1NDQgODAgNTM3IDc2IGIgNTUxIDEwNCA1NDggODggNTUxIDk3IGIgNTIxIDEzNiA1NTEgMTIwIDUzOSAxMzYgYiA1MTggMTM2IDUxOSAxMzYgNTE5IDEzNiBiIDUxNyAxMzYgNTE4IDEzNiA1MTcgMTM2IGwgNTE3IDEzNiBiIDQwMiA4MyA1MTEgMTM2IDUxMSAxMzYgYiAyOTggMzQgMzQ1IDU2IDI5OSAzNCBiIDI5OCAzNCAyOTggMzQgMjk4IDM0IGIgMTk0IDg0IDI5OCAzNCAyNTAgNTYgYiA4OCAxMzQgMTM3IDExMSA4OSAxMzMgXCJ9LHY5Mzp7eF9taW46MCx4X21heDo0MzguMjgxMjUsaGE6NDQ3LG86XCJtIDIxMiAyMDUgYiAyMTkgMjA1IDIxMyAyMDUgMjE2IDIwNSBiIDIzOSAxODMgMjI4IDIwNSAyMzEgMjA0IGIgNDIxIC0xNjMgMjk4IDQwIDM2MyAtODMgYiA0MzggLTE5MSA0MzQgLTE4MCA0MzggLTE4NiBiIDQzNiAtMTk3IDQzOCAtMTkyIDQzOCAtMTk1IGIgNDI0IC0yMDYgNDM0IC0yMDQgNDMxIC0yMDYgYiA0MDYgLTIwMSA0MjAgLTIwNiA0MTUgLTIwNSBiIDIxNiAtMTU2IDM0NyAtMTcyIDI4MSAtMTU2IGIgMjMgLTIwNSAxNDggLTE1NiA4MCAtMTczIGIgMTQgLTIwNiAyMCAtMjA2IDE3IC0yMDYgYiAwIC0xOTEgNiAtMjA2IDAgLTIwMSBiIDYgLTE3NiAwIC0xODcgMSAtMTgzIGIgMjAyIDE5MiA2MyAtMTA0IDE0MiA0NSBiIDIxMiAyMDUgMjA1IDE5OSAyMDggMjAyIG0gMjY0IDQ4IGwgMjQ5IDgxIGwgMjQzIDk0IGwgMjQyIDkxIGIgODkgLTEyNiAyMDggMzYgMTM3IC02NiBiIDgxIC0xMzggODUgLTEzMyA4MSAtMTM4IGIgODEgLTEzOCA4MSAtMTM4IDgxIC0xMzggYiA4MSAtMTM4IDgxIC0xMzggODEgLTEzOCBiIDk1IC0xMzMgODEgLTEzOCA4NyAtMTM2IGIgMjgwIC05NCAxNTYgLTEwOCAyMjEgLTk0IGIgMzM0IC05OCAyOTkgLTk0IDMxNyAtOTUgYiAzNDMgLTk5IDMzOCAtOTkgMzQzIC05OSBiIDM0MyAtOTkgMzQzIC05OSAzNDMgLTk5IGIgMzM4IC05NCAzNDMgLTk5IDM0MSAtOTcgYiAyNjQgNDggMzE4IC01OCAyODcgMSBcIn0sdjk0Ont4X21pbjotMTQ5LjcxODc1LHhfbWF4OjE0OC4zNTkzNzUsaGE6MTUxLG86XCJtIC05IDIxNSBiIDAgMjE3IC02IDIxNyAtNCAyMTcgYiAxOSAyMDUgOCAyMTcgMTQgMjEzIGIgMjAgMTQyIDIwIDIwMiAyMCAyMDEgbCAyMCA4NCBsIDIzIDg0IGIgMTQ0IC0yNyA4MSA3NCAxMjkgMzAgYiAxNDggLTY2IDE0NyAtNDAgMTQ4IC01NCBiIDM2IC0yMTMgMTQ4IC0xMzQgMTAzIC0xOTcgYiAwIC0yMTkgMjQgLTIxNyAxMiAtMjE5IGIgLTE0NSAtMTA0IC02OCAtMjE5IC0xMjkgLTE3MyBiIC0xNDkgLTY4IC0xNDggLTkxIC0xNDkgLTc5IGIgLTI0IDg0IC0xNDkgNiAtOTggNzQgbCAtMjEgODQgbCAtMjEgMTQyIGIgLTE5IDIwNSAtMjAgMjAxIC0yMCAyMDIgYiAtOSAyMTUgLTE3IDIwOSAtMTMgMjEzIG0gLTIxIC0xNSBiIC0yMyA0MSAtMjEgMzcgLTIxIDQxIGIgLTIzIDQxIC0yMyA0MSAtMjMgNDEgYiAtNzYgMTEgLTM1IDQwIC02MiAyNiBiIC0xMDggLTY1IC05OCAtMTEgLTEwOCAtMzggYiAtMSAtMTc2IC0xMDggLTEyMiAtNjUgLTE3NiBiIDEwNyAtNjUgNjMgLTE3NiAxMDcgLTEyMiBiIDc0IDExIDEwNyAtMzggOTYgLTExIGIgMjAgNDEgNjEgMjYgMzIgNDEgYiAyMCAtMTUgMjAgNDEgMjAgMTUgYiAxOSAtNzQgMjAgLTcyIDIwIC03MiBiIDAgLTg3IDE0IC04MyA2IC04NyBiIC0xOSAtNzQgLTggLTg3IC0xNiAtODMgYiAtMjEgLTE1IC0yMCAtNzIgLTIwIC03MiBcIn0sdjk1Ont4X21pbjowLHhfbWF4OjQwNi45Njg3NSxoYTo0MTUsbzpcIm0gNTUgMTgxIGIgNzAgMTgzIDYxIDE4MyA2NiAxODMgYiAxMTEgMTcwIDg1IDE4MyA5OSAxNzkgYiAxNjAgMTMwIDExNSAxNjcgMTM3IDE0OSBsIDIwMiA5NSBsIDI0NSAxMzAgYiAzMTkgMTgxIDI5OSAxNzYgMzAyIDE3OSBiIDMzNCAxODMgMzI1IDE4MyAzMzAgMTgzIGIgNDA2IDEwOSAzNzUgMTgzIDQwNiAxNDggYiA0MDEgODEgNDA2IDk5IDQwNSA5MSBiIDM0OCAyNCAzOTQgNjUgMzkwIDU5IGIgMzE4IC0xIDMzMiAxMSAzMTggMCBiIDM0OCAtMjYgMzE4IC0xIDMzMiAtMTIgYiA0MDEgLTgzIDM5MCAtNjEgMzk0IC02NiBiIDQwNiAtMTExIDQwNSAtOTMgNDA2IC0xMDEgYiAzMzQgLTE4NCA0MDYgLTE0OSAzNzUgLTE4NCBiIDMxOSAtMTgzIDMzMCAtMTg0IDMyNSAtMTg0IGIgMjQ1IC0xMzEgMzAyIC0xODAgMjk5IC0xNzcgbCAyMDIgLTk3IGwgMTYwIC0xMzEgYiA4NSAtMTgzIDEwNyAtMTc3IDEwMyAtMTgwIGIgNzAgLTE4NCA4MCAtMTg0IDc2IC0xODQgYiAwIC0xMTEgMzEgLTE4NCAwIC0xNDkgYiA0IC04MyAwIC0xMDEgMSAtOTMgYiA1OCAtMjYgMTAgLTY2IDE2IC02MSBiIDg4IC0xIDc0IC0xMiA4OCAtMSBiIDU4IDI0IDg4IDAgNzQgMTEgYiAxMCA2OSAyMyA1NCAxNyA1OSBiIDAgMTA5IDIgODEgMCA5NSBiIDU1IDE4MSAwIDE0MiAyMSAxNzMgbSA4MyAxMzMgYiA3MiAxMzYgNzggMTM2IDc2IDEzNiBiIDU3IDEzMSA2NiAxMzYgNjEgMTM0IGIgNDYgMTA5IDQ5IDEyNiA0NiAxMTcgYiA1MCA5MyA0NiAxMDQgNDcgOTggYiAxMDcgNDUgNTEgOTEgNzcgNzAgYiAxNjAgMCAxMzcgMjAgMTYwIDAgYiAxMDcgLTQ3IDE2MCAtMSAxMzcgLTIyIGIgNTAgLTk0IDc3IC03MiA1MSAtOTMgYiA0NiAtMTExIDQ3IC05OSA0NiAtMTA1IGIgNTkgLTEzNCA0NiAtMTIwIDUwIC0xMzAgYiA3MiAtMTM3IDYyIC0xMzYgNjggLTEzNyBiIDgzIC0xMzYgNzYgLTEzNyA4MCAtMTM2IGIgMTQ0IC04NCA4NCAtMTM0IDEwNyAtMTE2IGIgMjAyIC0zNiAxNzYgLTU4IDIwMiAtMzYgYiAyNjEgLTg0IDIwMiAtMzYgMjMwIC01OCBiIDMyMyAtMTM2IDI5OSAtMTE2IDMyMSAtMTM0IGIgMzM0IC0xMzcgMzI2IC0xMzYgMzMwIC0xMzcgYiAzNDUgLTEzNCAzMzggLTEzNyAzNDMgLTEzNiBiIDM2MCAtMTExIDM1NSAtMTMwIDM2MCAtMTIwIGIgMzU1IC05NCAzNjAgLTEwNSAzNTkgLTk5IGIgMjk5IC00NyAzNTMgLTkzIDMyOSAtNzIgYiAyNDUgMCAyNjkgLTIyIDI0NSAtMSBiIDI5OSA0NSAyNDUgMCAyNjkgMjAgYiAzNTUgOTMgMzI5IDcwIDM1MyA5MSBiIDM2MCAxMDkgMzU5IDk4IDM2MCAxMDQgYiAzNDUgMTMzIDM2MCAxMTkgMzU1IDEyOSBiIDMzNCAxMzYgMzQzIDEzNCAzMzggMTM2IGIgMzIzIDEzNCAzMzAgMTM2IDMyNiAxMzQgYiAyNjEgODMgMzIxIDEzMyAyOTkgMTE1IGIgMjAyIDM0IDIzMCA1NiAyMDIgMzQgYiAxNDQgODMgMjAyIDM0IDE3NiA1NiBiIDgzIDEzMyAxMDYgMTE1IDg0IDEzMyBcIn0sdjk3Ont4X21pbjotMjI4LjY3MTg3NSx4X21heDoyMjcuMzEyNSxoYToyMzIsbzpcIm0gLTIxNyA0ODcgbCAtMjEzIDQ4OCBsIDAgNDg4IGwgMjEyIDQ4OCBsIDIxNiA0ODcgYiAyMjUgNDc2IDIyMCA0ODQgMjI0IDQ4MCBsIDIyNyA0NzMgbCAyMjcgMjQ0IGwgMjI3IDE1IGwgMjI1IDEyIGIgMjA2IDAgMjIzIDQgMjE1IDAgYiAxOTcgMSAyMDQgMCAyMDAgMCBiIDE4NyAxMiAxOTMgNCAxODkgNiBsIDE4NiAxNSBsIDE4NiAxMzggbCAxODYgMjYyIGwgLTEgMjYyIGwgLTE4NyAyNjIgbCAtMTg3IDEzOCBsIC0xODcgMTUgbCAtMTg5IDEyIGIgLTIwOCAwIC0xOTMgNCAtMjAwIDAgYiAtMjI3IDEyIC0yMTYgMCAtMjIzIDQgbCAtMjI4IDE1IGwgLTIyOCAyNDQgbCAtMjI4IDQ3MyBsIC0yMjcgNDc2IGIgLTIxNyA0ODcgLTIyNSA0ODAgLTIyMSA0ODQgXCJ9LHY5YTp7eF9taW46LTIxLjc4MTI1LHhfbWF4OjM2Ny41LGhhOjM3NSxvOlwibSAyMzAgMTAzMSBiIDIzOCAxMDMyIDIzMiAxMDMyIDIzNSAxMDMyIGIgMjU5IDEwMTQgMjQ1IDEwMzIgMjUxIDEwMjcgYiAzNjcgNjYyIDMzMCA5MDYgMzY3IDc4MiBiIDM2NCA2MDIgMzY3IDY0MSAzNjcgNjIxIGIgMjMyIDMxNyAzNTIgNDg4IDMwNCAzODQgYiA1NyAxMjAgMTU1IDI0NSAxMDMgMTg3IGIgLTEgMTggMzEgODQgNiA0MCBiIC0xOSA0IC00IDExIC0xMiA0IGwgLTIxIDQgbCAtMjEgMTU5IGwgLTIxIDMxNSBsIC0xNiAzMTUgYiA5NiAzMzUgMTAgMzE1IDYyIDMyNCBiIDMxNSA2OTUgMjI3IDM4MCAzMTUgNTI3IGIgMzEzIDczOCAzMTUgNzA5IDMxNCA3MjQgYiAyMjQgOTkxIDMwNCA4MjUgMjczIDkxNiBiIDIxNiAxMDEzIDIxOSA5OTkgMjE2IDEwMDcgYiAyMzAgMTAzMSAyMTYgMTAyMSAyMjAgMTAyOCBcIn0sdjliOnt4X21pbjotMjQuNSx4X21heDozMTMuMDYyNSxoYTozMTksbzpcIm0gLTI0IC0xMzMgbCAtMjQgLTUgbCAtMjAgLTUgYiAtMSAtMTkgLTEyIC01IC00IC0xMSBiIDE0MiAtMjEzIDEzIC02MSA3NCAtMTQ0IGIgMjU4IC0zNzYgMTk2IC0yNjkgMjMwIC0zMTUgYiAzMTMgLTYwNSAyOTUgLTQ0OSAzMTMgLTUyOCBiIDI5MiAtNzQyIDMxMyAtNjUyIDMwNiAtNjk5IGIgMjg4IC03NTIgMjg5IC03NDggMjg4IC03NTIgYiAyODggLTc1MiAyODggLTc1MiAyODggLTc1MiBiIDI5MiAtNzY0IDI4OSAtNzUzIDI5MSAtNzU3IGIgMzEzIC05MDcgMzA2IC04MTEgMzEzIC04NjAgYiAyOTIgLTEwNDUgMzEzIC05NTQgMzA2IC0xMDAyIGIgMjg4IC0xMDU0IDI4OSAtMTA1MCAyODggLTEwNTQgYiAyODggLTEwNTQgMjg4IC0xMDU0IDI4OCAtMTA1NCBiIDI5MiAtMTA2NyAyODkgLTEwNTQgMjkxIC0xMDYwIGIgMzEzIC0xMjEwIDMwNiAtMTExMyAzMTMgLTExNjEgYiAyOTIgLTEzNDYgMzEzIC0xMjU3IDMwNiAtMTMwNCBiIDI4OCAtMTM1NyAyODkgLTEzNTMgMjg4IC0xMzU3IGIgMjg4IC0xMzU3IDI4OCAtMTM1NyAyODggLTEzNTcgYiAyOTIgLTEzNjggMjg5IC0xMzU3IDI5MSAtMTM2MyBiIDMxMyAtMTUxMiAzMDYgLTE0MTUgMzEzIC0xNDY0IGIgMjkyIC0xNjQ4IDMxMyAtMTU2MCAzMDYgLTE2MDUgYiAyODggLTE2NjAgMjg5IC0xNjU0IDI4OCAtMTY2MCBiIDI4OCAtMTY2MCAyODggLTE2NjAgMjg4IC0xNjYwIGIgMjkyIC0xNjcxIDI4OSAtMTY2MCAyOTEgLTE2NjUgYiAzMTMgLTE4MTQgMzA2IC0xNzE5IDMxMyAtMTc2NiBiIDI1MCAtMjA0MCAzMTMgLTE4OTcgMjkxIC0xOTc3IGIgMjMyIC0yMDYyIDIzOCAtMjA1NyAyMzYgLTIwNTkgYiAyMjEgLTIwNjUgMjMwIC0yMDYzIDIyNSAtMjA2NSBiIDIwMCAtMjA0NSAyMTAgLTIwNjUgMjAxIC0yMDU3IGIgMjAwIC0yMDQzIDIwMCAtMjA0NCAyMDAgLTIwNDQgYiAyMDggLTIwMjYgMjAwIC0yMDM3IDIwMiAtMjAzNCBiIDI2OSAtMTgyNiAyNDkgLTE5NjYgMjY5IC0xODk3IGIgMTUzIC0xNTQ0IDI2OSAtMTcyNiAyMzAgLTE2MjUgYiAtOSAtMTQ3MiAxMTUgLTE1MDYgNTggLTE0ODEgYiAtMjEgLTE0NzEgLTE0IC0xNDcxIC0xOSAtMTQ3MSBsIC0yNCAtMTQ3MSBsIC0yNCAtMTM0MyBsIC0yNCAtMTIxNSBsIC0yMCAtMTIxNSBiIC0xIC0xMjI5IC0xMiAtMTIxNSAtNCAtMTIyMSBiIDE0MiAtMTQyNCAxMyAtMTI3MCA3NCAtMTM1MyBiIDI1NyAtMTU4MiAxOTYgLTE0NzggMjI4IC0xNTI0IGIgMjY0IC0xNTk0IDI2MSAtMTU4OSAyNjQgLTE1OTQgbCAyNjQgLTE1OTQgYiAyNjUgLTE1ODIgMjY0IC0xNTk0IDI2NCAtMTU4OSBiIDI3MCAtMTUyNSAyNjggLTE1NjIgMjcwIC0xNTQ0IGIgMTUzIC0xMjQzIDI3MCAtMTQyNCAyMjggLTEzMjEgYiAtOSAtMTE3MCAxMTUgLTEyMDMgNTggLTExNzggYiAtMjEgLTExNjggLTE0IC0xMTcwIC0xOSAtMTE2OCBsIC0yNCAtMTE2OCBsIC0yNCAtMTA0MSBsIC0yNCAtOTEzIGwgLTIwIC05MTMgYiAtMSAtOTI3IC0xMiAtOTEzIC00IC05MTggYiAxNDIgLTExMjEgMTMgLTk2NyA3NCAtMTA1MCBiIDI1NyAtMTI4MSAxOTYgLTExNzUgMjI4IC0xMjIxIGIgMjY0IC0xMjkyIDI2MSAtMTI4NiAyNjQgLTEyOTIgbCAyNjQgLTEyOTIgYiAyNjUgLTEyNzkgMjY0IC0xMjkyIDI2NCAtMTI4NiBiIDI3MCAtMTIyMiAyNjggLTEyNjEgMjcwIC0xMjQyIGIgMTUzIC05NDEgMjcwIC0xMTIxIDIyOCAtMTAxOCBiIC05IC04NjcgMTE1IC05MDAgNTggLTg3NSBiIC0yMSAtODY2IC0xNCAtODY3IC0xOSAtODY2IGwgLTI0IC04NjYgbCAtMjQgLTczOCBsIC0yNCAtNjEwIGwgLTIwIC02MTAgYiAtMSAtNjI0IC0xMiAtNjEwIC00IC02MTYgYiAxNDIgLTgxOCAxMyAtNjY0IDc0IC03NDkgYiAyNTcgLTk3OCAxOTYgLTg3MyAyMjggLTkxOCBiIDI2NCAtOTg5IDI2MSAtOTg0IDI2NCAtOTg5IGwgMjY0IC05ODkgYiAyNjUgLTk3NyAyNjQgLTk4OSAyNjQgLTk4NCBiIDI3MCAtOTIwIDI2OCAtOTU5IDI3MCAtOTM5IGIgMTUzIC02MzggMjcwIC04MTggMjI4IC03MTYgYiAtOSAtNTY0IDExNSAtNTk4IDU4IC01NzMgYiAtMjEgLTU2MyAtMTQgLTU2NCAtMTkgLTU2MyBsIC0yNCAtNTYzIGwgLTI0IC00MzUgbCAtMjQgLTMwOCBsIC0yMCAtMzA4IGIgLTEgLTMyMiAtMTIgLTMwOCAtNCAtMzEzIGIgMTQyIC01MTYgMTMgLTM2MyA3NCAtNDQ2IGIgMjU3IC02NzUgMTk2IC01NzEgMjI4IC02MTYgYiAyNjQgLTY4NyAyNjEgLTY4MSAyNjQgLTY4NyBsIDI2NCAtNjg3IGIgMjY1IC02NzQgMjY0IC02ODcgMjY0IC02ODEgYiAyNzAgLTYxNyAyNjggLTY1NiAyNzAgLTYzNyBiIDE1MyAtMzM1IDI3MCAtNTE2IDIyOCAtNDEzIGIgLTkgLTI2MiAxMTUgLTI5NSA1OCAtMjcwIGIgLTIxIC0yNjAgLTE0IC0yNjIgLTE5IC0yNjAgbCAtMjQgLTI2MCBsIC0yNCAtMTMzIFwifSx2OWM6e3hfbWluOi0xNjYuMDYyNSx4X21heDotMjUuODU5Mzc1LGhhOjAsbzpcIm0gLTQ5IDM2OSBiIC00MiAzNzAgLTQ2IDM2OSAtNDQgMzcwIGIgLTI3IDM2MCAtMzYgMzcwIC0yOSAzNjYgYiAtMjUgMzU1IC0yNyAzNTkgLTI1IDM1OCBiIC0zMiAzMzUgLTI1IDM1MSAtMjggMzQ3IGIgLTkyIDUyIC02NiAyNDggLTg3IDE1OSBiIC05MyAtMSAtOTMgNDMgLTkzIDIwIGIgLTkyIC01NCAtOTMgLTIzIC05MyAtNDUgYiAtMzIgLTMzNyAtODUgLTE2MiAtNjYgLTI1MSBiIC0yNSAtMzU1IC0yNyAtMzQ5IC0yNSAtMzUyIGIgLTQyIC0zNzEgLTI1IC0zNjUgLTMyIC0zNzEgYiAtNjEgLTM1MyAtNTAgLTM3MSAtNTEgLTM2OSBiIC0xNjMgLTYzIC0xMTkgLTI2MiAtMTUzIC0xNjUgYiAtMTY2IC0xIC0xNjYgLTM3IC0xNjYgLTMxIGIgLTE2MyA2MiAtMTY2IDMwIC0xNjYgMzYgYiAtNjEgMzUyIC0xNTMgMTYzIC0xMTkgMjYwIGIgLTQ5IDM2OSAtNTQgMzY1IC01MSAzNjYgXCJ9LHY5ZTp7eF9taW46MCx4X21heDo2MDcuMDYyNSxoYTo2MTksbzpcIm0gMjQzIDYzMSBiIDI1MCA2MzIgMjQ2IDYzMiAyNDkgNjMyIGIgMjcwIDYyMCAyNTkgNjMyIDI2OCA2MjggbCAyNzIgNjE2IGwgMjcyIDIwMSBsIDI3MiAtMjEyIGwgMjcwIC0yMTYgYiAyNTEgLTIyOSAyNjggLTIyNCAyNTkgLTIyOSBiIDIyNyAtMjE1IDI0MyAtMjI5IDI0MCAtMjI5IGwgMTUxIC0xNDIgYiAzMiAtMTYgODEgLTgwIDUzIC00OSBiIDAgODQgOSAxOCAwIDUyIGIgMTExIDE5OSAwIDE0OSA0MiAxOTkgYiAxMzcgMTk3IDExOSAxOTkgMTI3IDE5OCBiIDIyOCAxNTEgMTY4IDE5MSAxOTcgMTc3IGwgMjMxIDE0OCBsIDIzMSAzODMgYiAyMzIgNjIwIDIzMSA2MTYgMjMxIDYxNiBiIDI0MyA2MzEgMjM0IDYyNCAyMzggNjMwIG0gMTY4IDEzMSBiIDE1MiAxMzMgMTYzIDEzMyAxNTcgMTMzIGIgMTA3IDEwMiAxMzAgMTMzIDExMSAxMjAgYiAxMDYgODYgMTA3IDk3IDEwNiA5MSBiIDExMSA0MSAxMDYgNzMgMTA4IDU2IGIgMjI3IC0xNTIgMTI1IC0xMyAxNzEgLTkwIGwgMjMxIC0xNTYgbCAyMzEgLTM3IGwgMjMxIDgwIGwgMjI1IDg3IGIgMTY4IDEzMSAyMTAgMTExIDE5MCAxMjYgbSAzNDcgNjMxIGIgMzUzIDYzMiAzNDggNjMyIDM1MSA2MzIgYiAzNzQgNjIwIDM2MyA2MzIgMzcxIDYyOCBiIDM3NSAzODMgMzc1IDYxNiAzNzUgNjE2IGwgMzc1IDE0OCBsIDM3NyAxNTEgYiA0OTIgMTk5IDQxNSAxODMgNDU0IDE5OSBiIDUzNyAxOTEgNTA3IDE5OSA1MjIgMTk3IGIgNjA3IDg0IDU4MiAxNzYgNjA3IDEzNCBiIDU4MyAwIDYwNyA1OCA1OTggMjkgYiA0NTUgLTE0MiA1NjIgLTQwIDUzMyAtNzIgbCAzNzggLTIxNSBiIDM1NSAtMjI5IDM2NCAtMjI5IDM2MiAtMjI5IGIgMzM0IC0yMTYgMzQ1IC0yMjkgMzM3IC0yMjQgbCAzMzMgLTIxMiBsIDMzMyAyMDEgbCAzMzMgNjE2IGwgMzM0IDYyMCBiIDM0NyA2MzEgMzM3IDYyNCAzNDEgNjMwIG0gNDY1IDEzMSBiIDQ1MSAxMzMgNDYxIDEzMyA0NTUgMTMzIGIgNDQ1IDEzMyA0NDkgMTMzIDQ0NiAxMzMgYiAzNzkgODcgNDE5IDEyOSAzOTYgMTEzIGwgMzc1IDgwIGwgMzc1IC0zNyBsIDM3NSAtMTU2IGwgMzc4IC0xNTIgYiA0OTkgODEgNDUxIC03MiA0OTkgMjAgbCA0OTkgODMgYiA0NjUgMTMxIDQ5OSAxMTMgNDkwIDEyNiBcIn0sdmEzOnt4X21pbjo1OC41MzEyNSx4X21heDoyMjguNjcxODc1LGhhOjI5NCxvOlwibSAxMzggMzcxIGIgMTQyIDM3MyAxNDAgMzcxIDE0MSAzNzMgYiAxNzggMzQyIDE0OSAzNzMgMTU2IDM2NiBiIDIyOCAyNTEgMjE3IDI5NyAyMjggMjc4IGIgMjI4IDI0NCAyMjggMjQ4IDIyOCAyNDcgYiAxNzYgMTQ3IDIyNyAyMTIgMjEyIDE4NCBiIDEyMyA3MyAxNTIgMTIyIDEzMiA5MyBiIDEyMSA2MiAxMjIgNzAgMTIxIDY2IGIgMTQ1IDEzIDEyMSA0OCAxMjkgMzEgYiAxNTMgLTIgMTUxIDYgMTUzIDEgYiAxNDkgLTkgMTUzIC01IDE1MiAtNiBiIDE0NCAtMTEgMTQ4IC0xMSAxNDUgLTExIGIgMTI5IC0xIDE0MCAtMTEgMTM2IC04IGIgNjEgODcgODkgMzcgNjggNjggYiA1OCAxMTMgNTkgOTUgNTggMTA1IGIgMTEwIDIxNSA1OCAxNDQgNzQgMTc3IGIgMTYzIDI4NyAxMzQgMjQwIDE1NSAyNjkgYiAxNjYgMjk5IDE2NiAyOTEgMTY2IDI5NSBiIDE0MSAzNDggMTY2IDMxMyAxNTcgMzMwIGIgMTMzIDM2MCAxMzQgMzU2IDEzMyAzNTggYiAxMzMgMzYzIDEzMyAzNjIgMTMzIDM2MiBiIDEzOCAzNzEgMTMzIDM2NyAxMzYgMzcwIFwifSx2YTU6e3hfbWluOjAseF9tYXg6MzQ5LjgxMjUsaGE6MzU3LG86XCJtIDg4IDMwMiBiIDEwMyAzMDMgOTMgMzAyIDk4IDMwMyBiIDIwMiAyMjQgMTQ5IDMwMyAxOTEgMjcwIGIgMjA1IDE5OSAyMDQgMjE2IDIwNSAyMDggYiAxNzggMTI5IDIwNSAxNzMgMTk2IDE0NyBsIDE3NSAxMjYgbCAxODIgMTI3IGIgMzA3IDI0OSAyMzYgMTQyIDI4NCAxOTAgYiAzMTMgMjU5IDMwOCAyNTQgMzExIDI1OCBiIDMyOSAyNjcgMzE3IDI2NSAzMjMgMjY3IGIgMzQ5IDI0NyAzNDAgMjY3IDM0OSAyNTkgYiAyMDEgLTI2MyAzNDkgMjQyIDIwNCAtMjU4IGIgMTgyIC0yNzMgMTk3IC0yNzAgMTkwIC0yNzMgYiAxNjMgLTI2MCAxNzQgLTI3MyAxNjYgLTI2OSBiIDE2MSAtMjU2IDE2MSAtMjU5IDE2MSAtMjU4IGIgMjE3IC01OSAxNjEgLTI0OCAxNzAgLTIyMCBiIDI3MiAxMjkgMjQ3IDQzIDI3MiAxMjcgYiAyNzIgMTI5IDI3MiAxMjkgMjcyIDEyOSBiIDI2NCAxMjIgMjcyIDEyOSAyNjggMTI2IGIgMTQwIDgwIDIyNyA5NCAxODMgODAgYiAzNiAxMTUgMTAyIDgwIDY1IDkxIGIgMCAxOTQgMTAgMTM2IDAgMTY1IGIgODggMzAyIDAgMjQ0IDMyIDI5MiBcIn0sdmE5Ont4X21pbjotMjQuNSx4X21heDozMTQuNDIxODc1LGhhOjMyMSxvOlwibSAtMjQgLTE0NSBsIC0yNCAtNSBsIC0yMCAtNSBiIDAgLTIzIC05IC01IC0yIC0xMiBiIDI3IC04NyA0IC0zOCAxNCAtNjYgYiAxMzggLTIyMCA1MyAtMTM2IDg4IC0xNzcgYiAyMzUgLTMyOCAxNzkgLTI1NSAyMDggLTI4OCBiIDMxNCAtNTkyIDI4NyAtNDA5IDMxNCAtNTAxIGIgMjkyIC03MzIgMzE0IC02MzkgMzA3IC02ODcgbCAyODkgLTc0MiBsIDI5NCAtNzU2IGIgMzE0IC04OTYgMzA3IC04MDIgMzE0IC04NDkgYiAyOTIgLTEwMzUgMzE0IC05NDMgMzA3IC05OTEgbCAyODkgLTEwNDUgbCAyOTQgLTEwNTcgYiAzMTQgLTExOTcgMzA3IC0xMTA0IDMxNCAtMTE1MiBiIDI5MiAtMTMzOCAzMTQgLTEyNDYgMzA3IC0xMjkyIGwgMjg5IC0xMzQ3IGwgMjk0IC0xMzYwIGIgMzE0IC0xNTAwIDMwNyAtMTQwNyAzMTQgLTE0NTQgYiAyNzMgLTE2ODkgMzE0IC0xNTY1IDMwMCAtMTYyOCBiIDI1MCAtMTcxMiAyNjUgLTE3MTAgMjYxIC0xNzEyIGIgMjI4IC0xNjkxIDIzNiAtMTcxMiAyMjggLTE3MDQgbCAyMjggLTE2ODUgbCAyMzQgLTE2NzUgYiAyNzAgLTE1MDcgMjU4IC0xNjIxIDI3MCAtMTU2NCBiIDk4IC0xMTkzIDI3MCAtMTM4MSAyMDkgLTEyNjEgYiA0MCAtMTE3NCA3NiAtMTE3OSA1OCAtMTE3NCBiIC0xMCAtMTE4OSAyNCAtMTE3NCA4IC0xMTc4IGIgLTIwIC0xMTkyIC0xNCAtMTE5MiAtMTYgLTExOTIgbCAtMjQgLTExOTIgbCAtMjQgLTEwNTIgbCAtMjQgLTkxMyBsIC0yMCAtOTEzIGIgMCAtOTMxIC05IC05MTMgLTIgLTkyMCBiIDI3IC05OTUgNCAtOTQ2IDE0IC05NzQgYiAxMzggLTExMjggNTMgLTEwNDMgODggLTEwODUgYiAyNTcgLTEyNzUgMTkwIC0xMTcyIDIyOCAtMTIyMCBiIDI2MiAtMTI4MyAyNTkgLTEyNzkgMjYyIC0xMjgzIGwgMjYyIC0xMjgzIGIgMjY5IC0xMjQ5IDI2NCAtMTI4MiAyNjggLTEyNjAgYiAyNzAgLTEyMDYgMjcwIC0xMjMzIDI3MCAtMTIyMCBiIDk4IC04OTEgMjcwIC0xMDc1IDIwNiAtOTU3IGIgNDAgLTg3MSA3NiAtODc3IDU4IC04NzEgYiAtMTAgLTg4NiAyNCAtODcxIDggLTg3NSBiIC0yMCAtODg5IC0xNCAtODg5IC0xNiAtODg5IGwgLTI0IC04ODkgbCAtMjQgLTc0OSBsIC0yNCAtNjEwIGwgLTIwIC02MTAgYiAwIC02MjggLTkgLTYxMCAtMiAtNjE3IGIgMjcgLTY5MiA0IC02NDQgMTQgLTY3MSBiIDEzOCAtODI1IDUzIC03NDEgODggLTc4MiBiIDI1NyAtOTczIDE5MCAtODcwIDIyOCAtOTE3IGIgMjYyIC05ODEgMjU5IC05NzcgMjYyIC05ODEgbCAyNjIgLTk4MSBiIDI2OSAtOTQ2IDI2NCAtOTc5IDI2OCAtOTU3IGIgMjcwIC05MDMgMjcwIC05MzEgMjcwIC05MTcgYiA5OCAtNTg4IDI3MCAtNzc0IDIwNiAtNjU1IGIgNDAgLTU2OSA3NiAtNTc0IDU4IC01NjkgYiAtMTAgLTU4NCAyNCAtNTY5IDggLTU3NCBiIC0yMCAtNTg3IC0xNCAtNTg3IC0xNiAtNTg3IGwgLTI0IC01ODcgbCAtMjQgLTQ0OCBsIC0yNCAtMzA4IGwgLTIwIC0zMDggYiAwIC0zMjYgLTkgLTMwOCAtMiAtMzE1IGIgMjcgLTM5MCA0IC0zNDEgMTQgLTM2OSBiIDEzOCAtNTIzIDUzIC00MzggODggLTQ4MCBiIDI1NyAtNjcwIDE5MCAtNTY3IDIyOCAtNjE0IGIgMjYyIC02NzggMjU5IC02NzQgMjYyIC02NzggYiAyNjIgLTY3OCAyNjIgLTY3OCAyNjIgLTY3OCBiIDI2OSAtNjQ0IDI2NCAtNjc3IDI2OCAtNjU2IGIgMjcwIC02MDEgMjcwIC02MjggMjcwIC02MTQgYiA5OCAtMjg1IDI3MCAtNDcxIDIwNiAtMzUyIGIgNDAgLTI2NiA3NiAtMjczIDU4IC0yNjYgYiAtMTAgLTI4MSAyNCAtMjY2IDggLTI3MiBiIC0yMCAtMjg0IC0xNCAtMjg0IC0xNiAtMjg0IGwgLTI0IC0yODQgbCAtMjQgLTE0NSBcIn0sdmFhOnt4X21pbjotMS4zNTkzNzUseF9tYXg6NzUyLjcwMzEyNSxoYTo3NjgsbzpcIm0gNDkwIDk4NSBiIDUwNCA5ODYgNDk1IDk4NiA1MDAgOTg2IGIgNjA0IDkwNyA1NTEgOTg2IDU5MyA5NTQgYiA2MDcgODg0IDYwNyA5MDAgNjA3IDg5MiBiIDU4MSA4MTMgNjA3IDg1NyA1OTcgODMxIGwgNTc4IDgxMCBsIDU4MyA4MTEgYiA3MTAgOTMyIDYzOCA4MjcgNjg3IDg3MyBiIDcxNCA5NDMgNzExIDkzNiA3MTMgOTQyIGIgNzMwIDk1MiA3MjAgOTQ5IDcyNSA5NTIgYiA3NTIgOTMxIDc0MSA5NTIgNzUyIDk0MyBiIDIwMCAtOTQ2IDc1MiA5MjcgMjA0IC05NDEgYiAxODIgLTk1NyAxOTcgLTk1MyAxOTAgLTk1NyBiIDE2MyAtOTQ1IDE3NCAtOTU3IDE2NiAtOTUzIGIgMTYxIC05MzkgMTYxIC05NDIgMTYxIC05NDIgYiAyMTcgLTc0MyAxNjEgLTkzMSAxNzAgLTkwNCBiIDI3MiAtNTU1IDI0NyAtNjM5IDI3MiAtNTU1IGIgMjcyIC01NTUgMjcyIC01NTUgMjcyIC01NTUgYiAyNjQgLTU2MCAyNzIgLTU1NSAyNjggLTU1NyBiIDE0MCAtNjAzIDIyNyAtNTg5IDE4MiAtNjAzIGIgMzYgLTU2NyAxMDIgLTYwMyA2NSAtNTkyIGIgLTEgLTQ4NyAxMiAtNTQ4IC0xIC01MTcgYiAxNyAtNDI3IC0xIC00NjYgNSAtNDQ1IGIgMTAzIC0zODAgMzggLTM5NSA3MCAtMzgwIGIgMTkxIC00MzMgMTM3IC0zODAgMTcyIC0zOTggYiAyMDUgLTQ4NCAyMDEgLTQ0OCAyMDUgLTQ2NiBiIDE3OCAtNTUzIDIwNSAtNTA5IDE5NiAtNTM1IGwgMTc1IC01NTcgbCAxODIgLTU1NSBiIDMwNyAtNDM1IDIzNiAtNTM5IDI4NCAtNDk0IGIgMzcyIC0yMTMgMzA4IC00MzAgMzcyIC0yMTUgYiAzNzIgLTIxMyAzNzIgLTIxMyAzNzIgLTIxMyBiIDM2NCAtMjE5IDM3MiAtMjEzIDM2OCAtMjE2IGIgMjQwIC0yNjIgMzI4IC0yNDcgMjgzIC0yNjIgYiAxMzcgLTIyNiAyMDIgLTI2MiAxNjYgLTI0OSBiIDk5IC0xNDUgMTEyIC0yMDYgOTkgLTE3NiBiIDExOCAtODQgOTkgLTEyNCAxMDYgLTEwNCBiIDIwNCAtMzggMTM4IC01NCAxNzEgLTM4IGIgMjkyIC05MSAyMzggLTM4IDI3MyAtNTYgYiAzMDYgLTE0MSAzMDIgLTEwNiAzMDYgLTEyNCBiIDI3OSAtMjEyIDMwNiAtMTY3IDI5NiAtMTk0IGwgMjc2IC0yMTUgbCAyODEgLTIxMyBiIDQwOCAtOTMgMzM2IC0xOTggMzg1IC0xNTEgYiA0NzMgMTI5IDQwOSAtODggNDczIDEyNyBiIDQ3MyAxMjkgNDczIDEyOSA0NzMgMTI5IGIgNDY1IDEyMiA0NzMgMTI5IDQ2OSAxMjYgYiAzNDEgODAgNDI4IDk0IDM4MyA4MCBiIDIzNiAxMTUgMzAzIDgwIDI2NiA5MSBiIDIwMCAxOTUgMjEzIDEzNiAyMDAgMTY1IGIgMjE3IDI1NiAyMDAgMjE3IDIwNiAyMzggYiAzMDQgMzAzIDIzOSAyODcgMjcyIDMwMyBiIDM5MyAyNDkgMzM4IDMwMyAzNzQgMjg1IGIgNDA2IDE5OSA0MDIgMjM0IDQwNiAyMTcgYiAzNzkgMTI5IDQwNiAxNzMgMzk3IDE0OCBsIDM3NyAxMjYgbCAzODIgMTI3IGIgNTA5IDI0OCA0MzYgMTQyIDQ4NSAxOTAgYiA1NzQgNDcwIDUxMCAyNTQgNTc0IDQ2OSBiIDU3NCA0NzAgNTc0IDQ3MCA1NzQgNDcwIGIgNTY2IDQ2NCA1NzQgNDcwIDU3MCA0NjcgYiA0NDIgNDIxIDUyOSA0MzUgNDg0IDQyMSBiIDMzNyA0NTggNDA0IDQyMSAzNjcgNDMzIGIgMzAwIDUzOCAzMTQgNDc3IDMwMCA1MDggYiAzMTggNTk4IDMwMCA1NTkgMzA2IDU4MCBiIDQwNCA2NDUgMzQwIDYzMCAzNzIgNjQ1IGIgNDk0IDU5MiA0MzkgNjQ1IDQ3NSA2MjcgYiA1MDcgNTQxIDUwMiA1NzcgNTA3IDU1OSBiIDQ4MCA0NzEgNTA3IDUxNiA0OTggNDg5IGwgNDc3IDQ2NyBsIDQ4MyA0NzAgYiA2MDggNTg5IDUzNyA0ODUgNTg2IDUzMSBiIDY3NSA4MTEgNjExIDU5NSA2NzUgODEwIGIgNjc1IDgxMSA2NzUgODExIDY3NSA4MTEgYiA2NjYgODA2IDY3NSA4MTEgNjcxIDgwOSBiIDU0MyA3NjMgNjI4IDc3NyA1ODUgNzYzIGIgNDM4IDc5OSA1MDQgNzYzIDQ2OCA3NzUgYiA0MDEgODc4IDQxMiA4MjAgNDAxIDg0OSBiIDQ5MCA5ODUgNDAxIDkyOCA0MzQgOTc3IFwifSx2YWI6e3hfbWluOjAseF9tYXg6MjcyLjIxODc1LGhhOjI3OCxvOlwibSAyNDMgNjMxIGIgMjUwIDYzMiAyNDYgNjMyIDI0OSA2MzIgYiAyNzAgNjIwIDI1OSA2MzIgMjY4IDYyOCBsIDI3MiA2MTYgbCAyNzIgMjAxIGwgMjcyIC0yMTIgbCAyNzAgLTIxNiBiIDI1MSAtMjI5IDI2OCAtMjI0IDI1OSAtMjI5IGIgMjI3IC0yMTUgMjQzIC0yMjkgMjQwIC0yMjkgbCAxNTEgLTE0MiBiIDMyIC0xNiA4MSAtODAgNTMgLTQ5IGIgMCA4NCA5IDE4IDAgNTIgYiAxMTEgMTk5IDAgMTQ5IDQyIDE5OSBiIDEzNyAxOTcgMTE5IDE5OSAxMjcgMTk4IGIgMjI4IDE1MSAxNjggMTkxIDE5NyAxNzcgbCAyMzEgMTQ4IGwgMjMxIDM4MyBiIDIzMiA2MjAgMjMxIDYxNiAyMzEgNjE2IGIgMjQzIDYzMSAyMzQgNjI0IDIzOCA2MzAgbSAxNjggMTMxIGIgMTUyIDEzMyAxNjMgMTMzIDE1NyAxMzMgYiAxMDcgMTAyIDEzMCAxMzMgMTExIDEyMCBiIDEwNiA4NiAxMDcgOTcgMTA2IDkxIGIgMTExIDQxIDEwNiA3MyAxMDggNTYgYiAyMjcgLTE1MiAxMjUgLTEzIDE3MSAtOTAgbCAyMzEgLTE1NiBsIDIzMSAtMzcgbCAyMzEgODAgbCAyMjUgODcgYiAxNjggMTMxIDIxMCAxMTEgMTkwIDEyNiBcIn0sdmFkOnt4X21pbjowLHhfbWF4Ojg3My44MjgxMjUsaGE6ODkyLG86XCJtIDAgMCBsIDAgNzAzIGwgODEgNzAzIGwgMTY0IDcwMyBsIDE2NCAwIGwgMTY0IC03MDUgbCA4MSAtNzA1IGwgMCAtNzA1IGwgMCAwIG0gMjI1IDAgbCAyMjUgNzAzIGwgMjQ2IDcwMyBsIDI2OCA3MDMgbCAyNjggMzY2IGwgMjY4IDMwIGwgMjc0IDM2IGIgMzE0IDc5IDI4NCA0NCAzMDIgNjMgYiA0MTMgMzAyIDM1NyAxMzcgMzkyIDIxMyBiIDQzMiAzMjcgNDE5IDMyNCA0MjEgMzI3IGIgNDQ5IDMwNiA0NDMgMzI3IDQ0NyAzMjIgYiA2MTEgMTE1IDQ1NyAxOTUgNTI5IDExNSBiIDY1MSAxMjIgNjI0IDExNSA2MzggMTE3IGIgNzI4IDMxNiA3MDUgMTQwIDcyNCAxODggYiA3MjkgMzg4IDcyOCAzNDIgNzI5IDM2NiBiIDY3MSA2MzUgNzI5IDUzMyA3MTEgNjAyIGIgNTgxIDY2MiA2NDkgNjUyIDYxNiA2NjIgYiA0NzcgNjM3IDU0NSA2NjIgNTEwIDY1MyBsIDQ3NSA2MzUgbCA0NzcgNjM0IGIgNTAzIDYyNyA0ODggNjMyIDQ5NSA2MzEgYiA1NDUgNTU2IDUzMiA2MTIgNTQ1IDU4NCBiIDQ5MSA0ODAgNTQ1IDUyNCA1MjYgNDkxIGIgNDY1IDQ3NCA0ODEgNDc2IDQ3MyA0NzQgYiAzNzkgNTYzIDQxNyA0NzQgMzc5IDUxNiBiIDM4OSA2MDIgMzc5IDU3NiAzODIgNTg4IGIgNTQxIDY5MSA0MDkgNjQxIDQ3OSA2ODEgYiA1ODIgNjk0IDU1NSA2OTIgNTY4IDY5NCBiIDg2NSA0NjIgNzE0IDY5NCA4MzQgNTk4IGIgODczIDM5MiA4NzEgNDQwIDg3MyA0MTYgYiA4NjUgMzE3IDg3MyAzNjcgODcxIDM0MSBiIDYzOSA4NCA4MzkgMTk0IDc0OCAxMDEgYiA2MTIgODMgNjMwIDgzIDYyMCA4MyBiIDUxMSAxMTYgNTc3IDgzIDU0MyA5NCBiIDUwNCAxMjAgNTA5IDExOSA1MDYgMTIwIGIgNTA0IDEyMCA1MDQgMTIwIDUwNCAxMjAgYiA0NjkgNTkgNTA0IDEyMCA0ODggOTMgbCA0MzIgLTEgbCA0NjkgLTYxIGIgNTA0IC0xMjIgNDg4IC05NCA1MDQgLTEyMiBiIDUwNCAtMTIyIDUwNCAtMTIyIDUwNCAtMTIyIGIgNTExIC0xMTcgNTA2IC0xMjIgNTA5IC0xMjAgYiA2MTIgLTg0IDU0MyAtOTUgNTc3IC04NCBiIDY2NSAtOTEgNjMwIC04NCA2NDcgLTg3IGIgODY5IC0zMzggNzcxIC0xMjIgODUwIC0yMTYgYiA4NzMgLTM5MiA4NzIgLTM1NiA4NzMgLTM3NCBiIDc5OCAtNTk1IDg3MyAtNDY5IDg0NyAtNTM5IGIgNTgxIC02OTUgNzQxIC02NjIgNjYwIC02OTUgYiA0MDYgLTYyNiA1MTcgLTY5NSA0NTQgLTY3MSBiIDM4MSAtNTYzIDM4OSAtNjA3IDM4MSAtNTg1IGIgNDY1IC00NzcgMzgxIC01MTkgNDEzIC00NzcgYiA1NDUgLTU1OSA1MTQgLTQ3NyA1NDUgLTUxOSBiIDUwMyAtNjI4IDU0NSAtNTg3IDUzMiAtNjEzIGIgNDc3IC02MzUgNDk1IC02MzIgNDg4IC02MzQgbCA0NzUgLTYzNyBsIDQ3NyAtNjM4IGIgNTgxIC02NjMgNTEwIC02NTUgNTQ1IC02NjMgYiA2NzEgLTYzNyA2MTYgLTY2MyA2NDkgLTY1MyBiIDcyOSAtMzkxIDcxMSAtNjAzIDcyOSAtNTM0IGIgNzI4IC0zMTcgNzI5IC0zNjcgNzI4IC0zNDQgYiA2MjMgLTExNyA3MjIgLTE3MyA2OTggLTEyNCBiIDYxMSAtMTE2IDYxOSAtMTE2IDYxNSAtMTE2IGIgNDQ5IC0zMDggNTI4IC0xMTYgNDU3IC0xOTggYiA0MzIgLTMyOCA0NDcgLTMyMyA0NDMgLTMyOCBiIDQxMyAtMzAzIDQyMSAtMzI4IDQxOSAtMzI2IGIgMzE0IC04MCAzOTIgLTIxNSAzNTcgLTEzOCBiIDI3NCAtMzcgMzAyIC02NSAyODQgLTQ1IGwgMjY4IC0zMSBsIDI2OCAtMzY3IGwgMjY4IC03MDUgbCAyNDYgLTcwNSBsIDIyNSAtNzA1IGwgMjI1IDAgXCJ9LHZiMTp7eF9taW46NzguOTM3NSx4X21heDo0ODUuOTIxODc1LGhhOjQxNyxvOlwibSAzNjIgMzc4IGIgMzc4IDM4MCAzNjcgMzgwIDM3MiAzODAgYiA0NzIgMzQ4IDQxNSAzODAgNDUzIDM2NyBiIDQ4NSAzMTUgNDgxIDMzOCA0ODUgMzI3IGIgNDYyIDI3MyA0ODUgMjk4IDQ3NyAyODEgYiA0MzkgMjY3IDQ1NCAyNjkgNDQ2IDI2NyBiIDM5OCAyOTAgNDI0IDI2NyA0MDkgMjc0IGIgMzQ0IDMxOSAzODUgMzA5IDM2NCAzMTkgYiAyODEgMjY5IDMxNSAzMTkgMjg5IDMwMSBiIDI3OSAyNjIgMjgwIDI2NiAyNzkgMjYyIGIgMjc2IDI1NiAyNzkgMjYwIDI3NyAyNTggYiAyNzQgMjQ5IDI3NiAyNTQgMjc0IDI1MSBiIDIzOCAxMjcgMjczIDI0OCAyNTcgMTkyIGIgMjAxIDQgMjE3IDYxIDIwMSA1IGIgMTY2IC0xIDE5OCAtMSAyMDAgLTEgYiAxNTMgLTEgMTYzIC0xIDE1NyAtMSBiIDE0MSAtMSAxNDggLTEgMTQ0IC0xIGIgMTA0IDQgMTA2IC0xIDEwNyAtMSBiIDEwNCA2IDEwNCA1IDEwNCA1IGIgMTQyIDE0NCAxMDQgMTMgMTEwIDM0IGIgMTgyIDI3OCAxNjQgMjE5IDE4MSAyNzYgYiAxODMgMjg4IDE4MiAyODEgMTgyIDI4NSBiIDE4NSAzMDIgMTg1IDI5MiAxODUgMjk4IGIgMTY0IDMzMCAxODUgMzE3IDE3NiAzMjggYiAxNTkgMzMwIDE2MyAzMzAgMTYxIDMzMCBiIDEwMiAzMDIgMTQwIDMzMCAxMTkgMzIwIGIgOTEgMjk0IDk1IDI5NSA5MyAyOTQgYiA4OCAyOTQgOTEgMjk0IDg5IDI5NCBiIDc4IDMwMyA4MyAyOTQgNzggMjk4IGIgODEgMzEyIDc4IDMwNiA3OCAzMDkgYiAyMDAgMzczIDEwNiAzNDcgMTYwIDM3MyBiIDIxNSAzNzEgMjA1IDM3MyAyMDkgMzcxIGIgMjY2IDMzNSAyMzUgMzY3IDI1NCAzNTMgYiAyNjkgMzMxIDI2OCAzMzMgMjY5IDMzMSBiIDI2OSAzMzEgMjY5IDMzMSAyNjkgMzMxIGIgMjczIDMzNSAyNjkgMzMxIDI3MCAzMzQgYiAzNjIgMzc4IDI5OCAzNTkgMzMwIDM3NiBcIn0sdmIzOnt4X21pbjowLHhfbWF4OjIyNy4zMTI1LGhhOjIzMixvOlwibSA5MSAyMTMgYiAxMDAgMjE1IDkzIDIxNSA5NiAyMTUgYiAyMjcgNTggMTY3IDIxNSAyMjQgMTQ0IGIgMjI3IDUyIDIyNyA1NiAyMjcgNTQgYiA2MSAtMjAxIDIyNyAtNDMgMTY0IC0xMzggYiAyOSAtMjE2IDQ0IC0yMTIgMzYgLTIxNiBiIDIzIC0yMTAgMjcgLTIxNiAyNCAtMjEzIGIgMjEgLTIwNSAyMSAtMjA4IDIxIC0yMDYgYiAzNCAtMTkyIDIxIC0yMDEgMjUgLTE5NyBiIDEyMiAtNTUgODkgLTE2MSAxMjIgLTEwNiBiIDEwNCA2IDEyMiAtMzMgMTE3IC0xMiBsIDEwMyA5IGwgOTYgOSBiIDQgNzkgNTcgOSAxNyAzOCBiIDAgMTEyIDEgOTAgMCAxMDEgYiA5MSAyMTMgMCAxNjMgMzYgMjA5IFwifSx2YjQ6e3hfbWluOi01OTcuNTMxMjUseF9tYXg6NTk2LjE3MTg3NSxoYTo2MDgsbzpcIm0gLTUzMyAzMjQgYiAtNTI1IDMyNyAtNTMwIDMyNiAtNTI4IDMyNyBiIC01MDQgMzA1IC01MTQgMzI3IC01MDQgMzE3IGIgLTUwNCAzMDUgLTUwNCAzMDUgLTUwNCAzMDUgYiAtNTEzIDI4NCAtNTA0IDI5OSAtNTA0IDI5OSBiIC01NTYgMTEyIC01NDEgMjI2IC01NTYgMTY3IGIgLTU0NSAzMyAtNTU2IDg0IC01NTIgNTggYiAtNTI0IC0yMCAtNTQxIDE1IC01MzIgLTkgbCAtNTIyIC0yMyBsIC00OTEgMTUgbCAtNDEzIDExMSBiIC0zNTUgMTc0IC0zNjcgMTY5IC0zNjMgMTc0IGIgLTM1MSAxNzQgLTM1MyAxNzQgLTM1MiAxNzQgYiAtMjU0IDg2IC0zNDMgMTc0IC0zNDggMTc5IGIgLTE2OCAtMSAtMjA4IDM3IC0xNjggLTEgYiAtMTAwIDg0IC0xNjggLTEgLTEzNyAzNyBiIC0yMyAxNzMgLTI4IDE3MyAtMjkgMTcyIGIgLTE5IDE3NCAtMjEgMTc0IC0yMCAxNzQgYiAtOCAxNzMgLTE0IDE3NCAtMTAgMTczIGIgODAgODYgLTUgMTcyIDEzIDE1MSBiIDE2NiAtMSAxMjcgMzcgMTY2IC0xIGIgMjM1IDg0IDE2NiAtMSAxOTcgMzcgYiAzMTEgMTczIDMwNiAxNzMgMzA0IDE3MiBiIDMxNyAxNzQgMzEzIDE3NCAzMTQgMTc0IGIgMzI2IDE3MyAzMTkgMTc0IDMyMyAxNzMgYiA0OTAgMTEgMzI5IDE3MiAzNjYgMTM0IGwgNTAyIC0xIGwgNTMwIDM0IGIgNTY4IDc2IDU2MCA3MiA1NjMgNzQgYiA1NzUgNzcgNTcwIDc3IDU3MyA3NyBiIDU5NiA1NiA1ODYgNzcgNTk2IDY4IGIgNTk0IDQ4IDU5NiA1NCA1OTYgNTEgYiA0MTcgLTE3MiA1OTIgNDEgNDI0IC0xNjYgYiA0MDUgLTE3NiA0MTUgLTE3NCA0MDkgLTE3NiBiIDM5NiAtMTc0IDQwMSAtMTc2IDM5OCAtMTc2IGIgMzA3IC04NyAzOTMgLTE3MyAzNzIgLTE1MiBiIDIyMSAtMSAyNTkgLTM4IDIyMSAtMSBiIDE1MiAtODYgMjIxIC0xIDE5MCAtMzggYiA3NiAtMTc2IDgxIC0xNzQgODMgLTE3MyBiIDcwIC0xNzYgNzQgLTE3NiA3MyAtMTc2IGIgNjEgLTE3NCA2NiAtMTc2IDYyIC0xNzQgYiAtMjcgLTg3IDU4IC0xNzMgMzggLTE1MiBiIC0xMTQgLTEgLTc0IC0zOCAtMTEyIC0xIGIgLTE4MiAtODYgLTExNCAtMSAtMTQ1IC0zOCBiIC0yNTggLTE3NiAtMjUzIC0xNzQgLTI1MyAtMTczIGIgLTI2NCAtMTc2IC0yNTkgLTE3NiAtMjYyIC0xNzYgYiAtMjc0IC0xNzQgLTI2OCAtMTc2IC0yNzIgLTE3NCBiIC00MzggLTExIC0yNzcgLTE3MyAtMzQ4IC0xMDIgbCAtNDQ5IDAgbCAtNDc5IC0zNyBiIC01MjQgLTgwIC01MTMgLTgwIC01MTQgLTgwIGwgLTUyNCAtODAgYiAtNTUzIC01MiAtNTM0IC04MCAtNTQwIC03NCBiIC01OTcgMTA5IC01ODMgLTggLTU5NyA0OCBiIC01NjAgMjgwIC01OTcgMTY1IC01ODUgMjI0IGIgLTUzMyAzMjQgLTU0OCAzMTAgLTU0MCAzMjIgXCJ9LHZiNjp7eF9taW46MCx4X21heDo1NTYuNjg3NSxoYTo1NjgsbzpcIm0gMjg5IDU0NSBiIDI5OCA1NDYgMjkyIDU0NSAyOTUgNTQ2IGIgMzE4IDUzMyAzMDYgNTQ2IDMxNSA1NDEgYiAzMTkgNDI4IDMxOSA1MzAgMzE5IDUyOCBsIDMxOSAzMjcgbCAzMzQgMzI3IGIgNTI2IDIyMyA0MTIgMzI2IDQ4NSAyODUgYiA1NDMgMTcyIDUzNyAyMDYgNTQzIDE5MCBiIDQ0NyA3NiA1NDMgMTIyIDUwMyA3NiBiIDQ0NSA3NiA0NDYgNzYgNDQ2IDc2IGIgMzU5IDE2NSAzOTQgNzcgMzU5IDExOSBiIDM2OCAyMDUgMzU5IDE3OSAzNjIgMTkyIGIgNDQxIDI1MSAzODIgMjMzIDQxMiAyNTEgYiA0NTUgMjQ5IDQ0NiAyNTEgNDUxIDI1MSBiIDQ2MCAyNDggNDU4IDI0OSA0NjAgMjQ4IGIgNDYwIDI0OCA0NjAgMjQ4IDQ2MCAyNDggYiA0NTQgMjU0IDQ2MCAyNDkgNDU4IDI1MSBiIDMzNCAyOTUgNDE5IDI4MCAzNzggMjk0IGwgMzE5IDI5NSBsIDMxOSA0IGwgMzE5IC0yODcgbCAzMjEgLTI4NSBiIDMyOCAtMjg1IDMyMiAtMjg1IDMyNSAtMjg1IGIgNTI0IC05OSA0MjQgLTI3NyA1MDcgLTE5OCBiIDU0MSAtNzkgNTI2IC04NCA1MzAgLTc5IGIgNTU2IC05NyA1NTEgLTc5IDU1NiAtODQgYiA1NDggLTEzMyA1NTYgLTEwNSA1NTMgLTExNyBiIDMzNCAtMzE3IDUyMSAtMjMzIDQzNCAtMzA2IGIgMzIyIC0zMTkgMzI5IC0zMTcgMzIzIC0zMTcgbCAzMTkgLTMxOSBsIDMxOSAtNDI0IGIgMzE5IC00NzEgMzE5IC00NDQgMzE5IC00NTkgYiAzMTMgLTU0MSAzMTkgLTU0NCAzMTggLTUzNSBiIDI5OCAtNTQ4IDMwOCAtNTQ1IDMwMyAtNTQ4IGIgMjc5IC01MzQgMjg5IC01NDggMjgxIC01NDIgYiAyNzcgLTQyNCAyNzcgLTUzMSAyNzcgLTUzMCBsIDI3NyAtMzE3IGwgMjczIC0zMTcgYiAxMyAtOTUgMTUzIC0zMDUgNTEgLTIxNyBiIDAgMiA0IC02MiAwIC0yOSBiIDE4MiAyOTUgMCAxMjYgNjYgMjM4IGIgMjc0IDMyNCAyMTAgMzA5IDI0OSAzMjAgbCAyNzcgMzI0IGwgMjc3IDQyNyBiIDI3OSA1MzMgMjc3IDUyOCAyNzcgNTMwIGIgMjg5IDU0NSAyODEgNTM4IDI4NSA1NDIgbSAyNzcgMiBiIDI3NyAyOTEgMjc3IDE2MSAyNzcgMjkxIGIgMjY4IDI4OCAyNzcgMjkxIDI3MyAyOTAgYiAxNDQgMSAxNzkgMjY1IDE0NCAxODQgYiAyNzYgLTI4NCAxNDQgLTE5OSAxNzUgLTI2NyBsIDI3NyAtMjg1IGwgMjc3IDIgXCJ9LHZiNzp7eF9taW46LTE3Ni45Mzc1LHhfbWF4OjI1MS44MTI1LGhhOjI1NyxvOlwibSAtOCA2MzEgYiAtMSA2MzIgLTYgNjMyIC00IDYzMiBiIDE5IDYyMCA4IDYzMiAxNiA2MjggYiAyMCA1MDMgMjAgNjE2IDIwIDYxNCBiIDIwIDM5MSAyMCA0NDIgMjAgMzkxIGIgODQgNDI0IDIwIDM5MSA0OSA0MDYgbCAxNDcgNDU2IGwgMTUyIDQ1NiBiIDE1MyA0NTYgMTUzIDQ1NiAxNTMgNDU2IGIgMTc1IDQzNSAxNjYgNDU2IDE3NSA0NDYgYiAxNzIgNDI3IDE3NSA0MzMgMTc0IDQzMCBiIDkyIDM4MCAxNzAgNDIwIDE3MiA0MjEgbCAyMCAzNDIgbCAyMCAyNDUgbCAyMCAxNDggbCAyMSAxNTEgYiAxMzcgMTk5IDU5IDE4MyA5OSAxOTkgYiAxODIgMTkxIDE1MiAxOTkgMTY3IDE5NyBiIDI1MSA4NCAyMjcgMTc2IDI1MSAxMzQgYiAyMjggMCAyNTEgNTggMjQzIDI5IGIgMTAwIC0xNDIgMjA2IC00MCAxNzggLTcyIGwgMjMgLTIxNSBiIDAgLTIyOSA5IC0yMjkgNiAtMjI5IGIgLTIwIC0yMTYgLTkgLTIyOSAtMTcgLTIyNCBiIC0yMSA1NCAtMjEgLTIxMiAtMjEgLTIxMiBiIC0yMSAzMjIgLTIxIDIwMSAtMjEgMzIyIGIgLTg1IDI5MCAtMjEgMzIyIC01MCAzMDggbCAtMTQ4IDI1NiBsIC0xNTMgMjU2IGIgLTE1NSAyNTYgLTE1NSAyNTYgLTE1NSAyNTYgYiAtMTc2IDI3NyAtMTY3IDI1NiAtMTc2IDI2NiBiIC0xNzQgMjg1IC0xNzYgMjgwIC0xNzUgMjgzIGIgLTkzIDMzMyAtMTcxIDI5NCAtMTc0IDI5MiBsIC0yMSAzNzAgbCAtMjEgNDk0IGIgLTIwIDYyMCAtMjEgNjE2IC0yMSA2MTYgYiAtOCA2MzEgLTE3IDYyNCAtMTMgNjMwIG0gMTEwIDEzMSBiIDk2IDEzMyAxMDYgMTMzIDEwMCAxMzMgYiA4OSAxMzMgOTMgMTMzIDkxIDEzMyBiIDI0IDg3IDYzIDEyOSA0MCAxMTMgbCAyMCA4MCBsIDIwIC0zNyBsIDIwIC0xNTYgbCAyMyAtMTUyIGIgMTQ0IDgxIDk2IC03MiAxNDQgMjAgbCAxNDQgODMgYiAxMTAgMTMxIDE0NCAxMTMgMTM0IDEyNiBcIn0sdmI5Ont4X21pbjotMTIyLjUseF9tYXg6MTIxLjE0MDYyNSxoYToxMjQsbzpcIm0gLTE2IDE0NSBiIDAgMTQ3IC0xMCAxNDcgLTUgMTQ3IGIgMTIxIC0xIDY2IDE0NyAxMjEgNzcgYiAxMTQgLTQ5IDEyMSAtMTYgMTE4IC0zMyBiIC0xIC0xNDggOTUgLTExMiA0NyAtMTQ4IGIgLTg1IC0xMDYgLTMxIC0xNDggLTYxIC0xMzQgYiAtMTIyIC0xIC0xMTAgLTc2IC0xMjIgLTM4IGIgLTE2IDE0NSAtMTIyIDY4IC04MSAxMzQgbSAxMiAxMTEgYiAwIDExMyA4IDExMyA0IDExMyBiIC02OCAyMiAtMjkgMTEzIC02MSA3MyBiIC03MCAwIC02OSAxNSAtNzAgNiBiIC0xMyAtMTEzIC03MCAtNDkgLTQ3IC05OCBiIC0xIC0xMTUgLTkgLTExNSAtNSAtMTE1IGIgNjMgLTQwIDI0IC0xMTUgNTMgLTgzIGIgNjggLTEgNjYgLTI3IDY4IC0xNSBiIDEyIDExMSA2OCA0OCA0NiA5NyBcIn0sdmJhOnt4X21pbjotMTE4LjQyMTg3NSx4X21heDo1OTcuNTMxMjUsaGE6MzgxLG86XCJtIDQ2MCA1NzQgYiA0NjQgNTc0IDQ2MSA1NzQgNDYyIDU3NCBiIDQ4OCA1NzQgNDcwIDU3NCA0ODEgNTc0IGIgNTAwIDU3MyA0OTEgNTc0IDQ5OCA1NzQgYiA1OTQgNTAzIDU0MyA1NzAgNTg4IDUzOCBiIDU5NyA0ODggNTk2IDQ5OCA1OTcgNDk0IGIgNTI4IDQxNyA1OTcgNDQ5IDU2NCA0MTcgYiA1MDIgNDIzIDUxOSA0MTcgNTEwIDQxOSBiIDQ2NSA0ODEgNDc3IDQzNCA0NjUgNDU4IGIgNDg4IDUyOCA0NjUgNDk5IDQ3MiA1MTYgYiA0OTAgNTMwIDQ5MCA1MzAgNDkwIDUzMCBiIDQ5MCA1MzAgNDkwIDUzMCA0OTAgNTMwIGIgNDY4IDUxNyA0ODggNTMwIDQ3NSA1MjMgYiAzNDkgMzQwIDQxOSA0ODUgMzc3IDQyMCBiIDM0NyAzMzAgMzQ4IDMzNCAzNDcgMzMwIGIgMzgzIDMyOCAzNDcgMzI4IDM2MyAzMjggYiA0MjggMzI2IDQyMyAzMjggNDI0IDMyOCBiIDQ0MiAzMDIgNDM4IDMyMCA0NDIgMzEyIGIgNDMwIDI4MSA0NDIgMjk0IDQzOCAyODUgYiAzODUgMjc2IDQyNCAyNzcgNDI2IDI3NiBsIDM3NyAyNzYgbCAzMzIgMjc2IGwgMzMwIDI2OSBiIDE3OCAtMTE3IDMwMyAxMjYgMjUwIC05IGIgMSAtMjQ5IDEyOSAtMTk0IDY5IC0yMzcgYiAtMjAgLTI1MSAtNiAtMjUxIC0xMyAtMjUxIGIgLTExNCAtMTg3IC02NSAtMjUxIC0xMDAgLTIyNyBiIC0xMTggLTE1NiAtMTE3IC0xNzcgLTExOCAtMTY2IGIgLTUxIC04NCAtMTE4IC0xMTYgLTkxIC04NCBiIC0zMSAtODcgLTQ2IC04NCAtMzkgLTg2IGIgMTYgLTE1MiAwIC05NSAxNiAtMTI0IGIgLTEyIC0yMDUgMTYgLTE3MyA4IC0xOTQgYiAtMTYgLTIwOCAtMTQgLTIwNiAtMTYgLTIwOCBiIC0xNCAtMjA4IC0xNiAtMjA4IC0xNCAtMjA4IGIgLTkgLTIwNiAtMTQgLTIwOCAtMTIgLTIwOCBiIDc0IC0xMjQgMjMgLTE5NyA1NCAtMTY2IGIgMTcyIDIyNCA5OCAtNzkgMTI1IDIyIGIgMTg1IDI3NiAxNzggMjUyIDE4MyAyNzQgYiAxODUgMjc2IDE4NSAyNzYgMTg1IDI3NiBiIDE0MSAyNzYgMTg1IDI3NiAxODEgMjc2IGIgOTEgMjgwIDk2IDI3NiA5NiAyNzYgYiA3NyAzMDIgODMgMjg1IDc3IDI5NCBiIDkxIDMyNiA3NyAzMTIgODMgMzIwIGIgMTQ4IDMyOCA5NSAzMjggOTYgMzI4IGwgMTk4IDMzMCBsIDIwMiAzNDEgYiA0NjAgNTc0IDI0OSA0NzMgMzUxIDU2NiBcIn0sdmJmOnt4X21pbjotNTMuMDc4MTI1LHhfbWF4OjUxMy4xNDA2MjUsaGE6NDg1LG86XCJtIDE4NSAzODMgYiAxOTYgMzg0IDE4NyAzODMgMTkxIDM4NCBiIDI3NyAzMzQgMjMwIDM4NCAyNTkgMzY1IGIgMjg4IDMwMSAyODEgMzI0IDI4OCAzMDYgYiAyODggMjk3IDI4OCAyOTggMjg4IDI5NyBiIDI5NCAzMDIgMjg5IDI5NyAyOTEgMjk5IGIgMzk0IDM3MCAzMjMgMzM4IDM2NyAzNjcgYiA0MDQgMzcxIDM5OCAzNzAgNDAxIDM3MSBiIDUxMCAyNzIgNDUzIDM3MSA0OTggMzI4IGIgNTEzIDIzNyA1MTMgMjYyIDUxMyAyNTEgYiA1MDcgMTcyIDUxMyAyMTcgNTExIDE5MiBiIDMyNiAtMzQgNDg3IDU5IDQxMiAtMjYgYiAzMTQgLTM2IDMyMiAtMzYgMzE4IC0zNiBiIDI3NCAtMjQgMjk4IC0zNiAyODMgLTMxIGwgMjY1IC0xNiBiIDIyNCA0NCAyNDYgLTEgMjMyIDIwIGIgMjIzIDQ5IDIyNCA0NyAyMjMgNDkgYiAyMjMgNDkgMjIzIDQ5IDIyMyA0OSBiIDE0OSAtMTk3IDIyMSA0OCAxNDkgLTE5NCBiIDE0OSAtMTk4IDE0OSAtMTk3IDE0OSAtMTk4IGIgMTcwIC0yMTAgMTQ5IC0yMDIgMTU1IC0yMDUgYiAxODcgLTIxNSAxNzQgLTIxMCAxNzUgLTIxMiBiIDIwNCAtMjMxIDIwMSAtMjE5IDIwNCAtMjIyIGIgMTk3IC0yNDUgMjA0IC0yNDAgMjAyIC0yNDIgbCAxOTQgLTI0OCBsIDc2IC0yNDggbCAtNDIgLTI0OCBsIC00NiAtMjQ1IGIgLTUzIC0yMzEgLTUxIC0yNDIgLTUzIC0yNDAgYiAtMzUgLTIxNSAtNTMgLTIyMiAtNDkgLTIxNyBiIC0xMyAtMjEwIC0yMSAtMjEyIC0yMCAtMjEyIGIgLTYgLTIwOCAtMTAgLTIwOSAtOCAtMjA4IGIgMCAtMjA2IC02IC0yMDggLTIgLTIwNiBiIDI1IC0xODggMTMgLTIwMSAyMSAtMTk1IGIgMTYzIDI4MCAyOCAtMTgzIDE2MyAyNzYgYiAxNjYgMjkxIDE2MyAyODMgMTY0IDI4NyBiIDE2NyAzMDIgMTY3IDI5NSAxNjcgMjk5IGIgMTU1IDMyNCAxNjcgMzE1IDE2MSAzMjQgYiAxNTUgMzI0IDE1NSAzMjQgMTU1IDMyNCBiIDY1IDIzMCAxMjUgMzIyIDg1IDI4MCBiIDUzIDIxNSA2MSAyMTcgNTggMjE1IGIgNTEgMjE1IDUzIDIxNSA1MSAyMTUgYiA0MiAyMjQgNDYgMjE1IDQyIDIxNyBiIDU3IDI2MyA0MiAyMzEgNDcgMjQ0IGIgMTQwIDM2MCA3NyAzMDUgMTA0IDMzNyBiIDE1MiAzNzAgMTQ0IDM2NSAxNDkgMzY5IGIgMTg1IDM4MyAxNTcgMzc2IDE3MiAzODEgbSAzNzQgMzA2IGIgMzY2IDMwOCAzNzEgMzA4IDM2OCAzMDggYiAzMDAgMjczIDM0OCAzMDggMzIxIDI5NCBiIDI4NCAyNTQgMjg4IDI2MiAyODcgMjU5IGIgMjgwIDI0MiAyODMgMjQ5IDI4MSAyNDUgYiAyNTcgMTY5IDI3OSAyNDAgMjcwIDIxMyBsIDIzNiA5OCBsIDIzNiA5MyBiIDI1MSA0OCAyMzggNzcgMjQzIDYxIGIgMjc5IDI3IDI1OCAzNyAyNzIgMjcgYiAyODEgMjcgMjc5IDI3IDI4MCAyNyBiIDI5MSAzMSAyODEgMjcgMjg3IDMwIGIgMzk2IDE3MCAzMzQgNTIgMzc4IDEwOSBiIDQwNiAyNDcgNDAyIDE5NyA0MDYgMjI0IGIgNDAxIDI3NyA0MDYgMjU5IDQwNSAyNzAgYiAzNzQgMzA2IDM5NyAyOTAgMzgzIDMwMyBcIn0sdmMzOnt4X21pbjotMTAuODkwNjI1LHhfbWF4OjI5OS40Mzc1LGhhOjI5NCxvOlwibSAxMzYgNDYwIGIgMTQyIDQ2MiAxMzcgNDYyIDE0MCA0NjIgYiAxNjYgNDQ5IDE1MiA0NjIgMTYxIDQ1NiBiIDE3MSA0MjggMTY4IDQ0NiAxNjggNDQ1IGIgMjg4IDEzMSAxOTQgMzIyIDIzOCAyMDkgYiAyOTggMTE1IDI5NSAxMjAgMjk2IDExNyBiIDI5OSAxMDYgMjk4IDExMiAyOTkgMTA5IGIgMjczIDgxIDI5OSA5MSAyODcgODEgYiAyNTUgODYgMjY4IDgxIDI2MSA4MyBiIDE1NSAxMTYgMjI1IDEwNCAxODMgMTE2IGwgMTUyIDExNiBsIDE0OSAxMDggYiAxNDEgODMgMTQ4IDEwMiAxNDQgOTEgYiAxMzQgNDggMTM3IDY5IDEzNCA1OCBiIDE0OSA5IDEzNCAzNCAxNDAgMjQgYiAxNTMgLTEgMTUyIDUgMTUzIDEgYiAxNDkgLTkgMTUzIC01IDE1MiAtNiBiIDE0NCAtMTEgMTQ4IC0xMSAxNDcgLTExIGIgMTIyIDIgMTM4IC0xMSAxMzMgLTYgYiA5NSA2MSAxMDQgMjAgOTUgMzggYiAxMDcgMTA4IDk1IDc0IDk5IDkwIGIgMTA4IDExMyAxMDcgMTExIDEwOCAxMTIgYiAxMDcgMTEzIDEwOCAxMTMgMTA4IDExMyBiIDEwMiAxMTMgMTA2IDExMyAxMDQgMTEzIGIgMzEgODYgNzYgMTA4IDUzIDk4IGIgMTQgODAgMjQgODEgMjAgODAgYiAtMTAgMTA2IDAgODAgLTEwIDkxIGIgMCAxMzEgLTEwIDExNSAtOSAxMTYgYiAxMTUgNDMwIDQ5IDIwOSA5MSAzMTcgYiAxMzYgNDYwIDExOSA0NTEgMTIzIDQ1NiBcIn0sdmQwOnt4X21pbjotMTAuODkwNjI1LHhfbWF4OjI5OS40Mzc1LGhhOjI5NCxvOlwibSA0NCAxNzQgYiA1MSAxNzQgNDcgMTc0IDQ5IDE3NCBiIDY4IDE3MyA1NSAxNzQgNjEgMTc0IGwgMjg3IDExMiBsIDU1MSA0MCBiIDYxNSAyMCA2MTcgMjIgNjA5IDIzIGIgNjI2IDAgNjIyIDE2IDYyNiA4IGIgNjE1IC0yMiA2MjYgLTkgNjIyIC0xOCBiIDYxMyAtMjMgNjEzIC0yMyA2MTMgLTIzIGIgNjEzIC0yMyA2MTMgLTIzIDYxMyAtMjMgYiAyODcgLTExMyA2MTMgLTI0IDU5NyAtMjkgbCA2OCAtMTc0IGIgNTMgLTE3NiA2MSAtMTc2IDU3IC0xNzYgYiAzOSAtMTcyIDQ3IC0xNzYgNDMgLTE3NCBiIDI3IC0xNTEgMzEgLTE2NyAyNyAtMTU5IGIgMzkgLTEyOSAyNyAtMTQxIDMxIC0xMzMgYiAyMzAgLTc0IDQzIC0xMjQgMjAgLTEzMSBsIDM3MCAtMzYgbCA0NjggLTkgYiA0OTggMCA0ODQgLTQgNDk4IC0xIGIgNDY4IDggNDk4IDAgNDg0IDIgbCAzNzAgMzQgbCAyMzAgNzMgYiA0MCAxMjYgMjggMTI5IDQzIDEyNCBiIDI3IDE0OSAzMSAxMzEgMjcgMTQwIGIgNDQgMTc0IDI3IDE2MSAzNCAxNzAgbSAyMDUgMTEwIGwgMjA1IDMwMCBiIDIwNSAzMzAgMjQ1IDMzMCAyNDUgMzAwIGwgMjQ1IDMwMCBsIDI0NSAtMzAwIGIgMjQ1IC0zMzAgMjA1IC0zMzAgMjA1IC0zMDAgbCAyMDUgLTMwMCBsIDIwNSAxMTAgbCAzNDUgOTAgbSAzNDUgOTAgbCAzNDUgMzMwIGIgMzQ1IDM2MCAzODUgMzYwIDM4NSAzMzAgbCAzODUgMzMwIGwgMzg1IC0yNzAgYiAzODUgLTMwMCAzNDUgLTMwMCAzNDUgLTI3MCBsIDM0NSAtMjcwIGwgMzQ1IDkwIFwifSx2ZDE6e3hfbWluOi0yMCx4X21heDozMjAsaGE6MjU3LG86XCJtIC04IDIwMCBiIC04IDIxMCA4IDIwMCAxNiAyMDAgbCAyMCAxNDggLTE5OSBsIDIzIC02MTUgYiAwIC02MjkgOSAtNjI5IDYgLTYyOSBsIC0yMSAtNjEyIGwgLTIxIC0yMDEgbCAtMjEgMjE2IGwgLTIwIDIwMCBtIDE2IDIwMCBsIDMxMCAwIGwgMjQwIDAgbCAxNiAxNDAgbCAxNiAtMTIwIGwgMjQwIDAgbCAzMTAgMCBsIDE2IC0yMDAgXCJ9LHZkMjp7eF9taW46MCx4X21heDo0MzAuNzUsaGE6Mzg2LG86XCJtIDAgMjAwIGwgMCAtMjAwIGwgNDMwIC0yMDAgbCA0MzAgMjAwIGwgMCAyMDAgXCJ9LHZkMzp7eF9taW46MCx4X21heDo0MzAuNzUsaGE6Mzg2LG86XCJtIDAgMjAwIGwgMCAtMjAwIGwgNDMwIC0yMDAgbCA0MzAgMjAwIGwgMCAyMDAgbCA1MCAxNTAgbCAzODAgMTUwIGwgMzgwIC0xNTAgbCA1MCAtMTUwIGwgNTAgMTUwIFwifSx2ZDQ6e3hfbWluOjAseF9tYXg6NDMwLjc1LGhhOjM2MCxvOlwibSAwIDE1MCBsIDAgLTE1MCBsIDQzMCAtMTUwIGwgNDMwIDE1MCBsIDAgMTUwIFwifSx2ZDU6e3hfbWluOjAseF9tYXg6NDMwLjc1LGhhOjM2MCxvOlwibSAwIDE1MCBsIDAgLTE1MCBsIDQzMCAtMTUwIGwgNDMwIDE1MCBsIDAgMTUwIGwgNTAgMTAwIGwgMzgwIDEwMCBsIDM4MCAtMTAwIGwgNTAgLTEwMCBsIDUwIDEwMFwifSx2ZDY6e3hfbWluOjAseF9tYXg6NDMwLjc1LGhhOjM2MCxvOlwibSAtMTQ2IDUzNyBiIC0xMzggNTM4IC0xNDMgNTM4IC0xNDEgNTM4IGIgLTExOCA1MjUgLTEyOSA1MzggLTEyMSA1MzMgYiAtMTE3IDM5MCAtMTE3IDUyMiAtMTE3IDUyMSBiIC0xMTUgMjU5IC0xMTcgMjY4IC0xMTcgMjU5IGIgLTExNSAyNTkgLTExNSAyNTkgLTExNSAyNTkgYiAtNTkgMjcyIC0xMDQgMjYzIC02MiAyNzIgYiAtMzkgMjU5IC01MCAyNzIgLTQyIDI2NyBiIC0zNyAyMDkgLTM4IDI1NyAtMzcgMjMzIGIgLTM5IDE1OSAtMzcgMTg1IC0zOCAxNjIgYiAtODUgMTM4IC00MyAxNDkgLTQ0IDE0OSBsIC0xMTcgMTMxIGwgLTExNyAyMSBiIC0xMTUgLTg4IC0xMTcgLTgwIC0xMTcgLTg4IGIgLTExNSAtODggLTExNSAtODggLTExNSAtODggYiAtNTkgLTc1IC0xMDQgLTg0IC02MiAtNzUgYiAtNDQgLTgxIC01MiAtNzUgLTQ4IC03NyBiIC0zOCAtMTI0IC0zOCAtODcgLTM4IC04NSBiIC0zOCAtMTM4IC0zOCAtMTI0IC0zOCAtMTM4IGIgLTM4IC0xNTIgLTM4IC0xMzggLTM4IC0xNTIgYiAtNDQgLTE5NSAtMzggLTE5MSAtMzggLTE5MCBiIC04NSAtMjA5IC00OCAtMjAwIC00OCAtMjAwIGwgLTExNyAtMjE3IGwgLTExNyAtMzQ5IGIgLTExOCAtNDg2IC0xMTcgLTQ4MSAtMTE3IC00ODIgYiAtMTM4IC00OTkgLTEyMSAtNDk0IC0xMjkgLTQ5OSBiIC0xNTMgLTQ5MyAtMTQzIC00OTkgLTE0OSAtNDk3IGIgLTE1OSAtNDE1IC0xNTggLTQ4NyAtMTU5IC00OTYgYiAtMTU5IC0zNTUgLTE1OSAtMzk4IC0xNTkgLTM3OSBiIC0xNTkgLTIyNyAtMTU5IC0yODQgLTE1OSAtMjI3IGIgLTIwNSAtMjM4IC0xNTkgLTIyNyAtMTgwIC0yMzIgYiAtMjUwIC0yNDkgLTIzMCAtMjQ0IC0yNTAgLTI0OSBiIC0yNTEgLTM4NiAtMjUxIC0yNDkgLTI1MSAtMzExIGIgLTI1MiAtNTI1IC0yNTEgLTUyMSAtMjUxIC01MjIgYiAtMjcyIC01MzggLTI1NSAtNTM0IC0yNjQgLTUzOCBiIC0yODcgLTUzMiAtMjc3IC01MzggLTI4MyAtNTM2IGIgLTI5MyAtNDUyIC0yOTIgLTUyNyAtMjkzIC01MzYgYiAtMjkzIC0zOTEgLTI5MyAtNDM2IC0yOTMgLTQxNSBiIC0yOTQgLTI2MCAtMjkzIC0yNjkgLTI5MyAtMjYwIGIgLTI5NCAtMjYwIC0yOTQgLTI2MCAtMjk0IC0yNjAgYiAtMzQ4IC0yNzIgLTMwNiAtMjY0IC0zNDUgLTI3MiBiIC0zNjggLTI1OSAtMzU3IC0yNzIgLTM2NSAtMjY3IGIgLTM2OSAtMjA5IC0zNjkgLTI1NyAtMzY5IC0yMzMgYiAtMzY4IC0xNTkgLTM2OSAtMTg1IC0zNjkgLTE2MiBiIC0zMjMgLTEzOSAtMzY0IC0xNDkgLTM2MiAtMTQ4IGwgLTI5MyAtMTMxIGwgLTI5MyAtMjIgYiAtMjk0IDg3IC0yOTMgODAgLTI5MyA4NyBiIC0yOTQgODcgLTI5NCA4NyAtMjk0IDg3IGIgLTM0OCA3NSAtMzA2IDg0IC0zNDUgNzUgYiAtMzY4IDg4IC0zNTcgNzUgLTM2NSA4MCBiIC0zNjkgMTM4IC0zNjkgOTEgLTM2OSAxMTQgYiAtMzY4IDE4OCAtMzY5IDE2MiAtMzY5IDE4NiBiIC0zMjMgMjA5IC0zNjQgMTk4IC0zNjIgMTk5IGwgLTI5MyAyMTYgbCAtMjkzIDM0OSBiIC0yOTIgNDg2IC0yOTMgNDgxIC0yOTMgNDgyIGIgLTI3MiA0OTkgLTI4OCA0OTQgLTI4MCA0OTkgYiAtMjU3IDQ5MyAtMjY2IDQ5OSAtMjYxIDQ5NyBiIC0yNTEgNDE0IC0yNTEgNDg3IC0yNTEgNDk2IGIgLTI1MSAzNTQgLTI1MSAzOTggLTI1MSAzNzggYiAtMjUxIDIyNiAtMjUxIDI4NCAtMjUxIDIyNiBiIC0yMDUgMjM4IC0yNTAgMjI2IC0yMzAgMjMxIGIgLTE1OSAyNDkgLTE4MCAyNDQgLTE1OSAyNDkgYiAtMTU5IDM4NSAtMTU5IDI0OSAtMTU5IDMxMCBiIC0xNTcgNTI1IC0xNTkgNTIxIC0xNTkgNTIyIGIgLTE0NiA1MzcgLTE1NiA1MzAgLTE1MSA1MzUgeiBtIC0xNTkgMTEgYiAtMTU5IDEyMCAtMTU5IDk4IC0xNTkgMTIwIGwgLTE1OSAxMjAgYiAtMTc1IDExNiAtMTYwIDEyMCAtMTY3IDExOSBiIC0yMjEgMTA1IC0xODQgMTE0IC0yMDQgMTA5IGwgLTI1MSA5OCBsIC0yNTEgLTEyIGIgLTI1MSAtMTIxIC0yNTEgLTcyIC0yNTEgLTEyMSBiIC0yMDUgLTExMCAtMjUwIC0xMjEgLTIzMCAtMTE2IGIgLTE1OSAtOTkgLTE4MCAtMTA0IC0xNTkgLTk5IGIgLTE1OSAxMSAtMTU5IC05OSAtMTU5IC00OSB6IG0gODkgNTE3IGIgOTcgNTE5IDkyIDUxOCA5NCA1MTkgYiAxMTcgNTA1IDEwNiA1MTkgMTE0IDUxMyBiIDExOSAzNzYgMTE5IDUwMiAxMTkgNTAxIGwgMTE5IDI0OSBsIDE0NSAyNTggYiAxNzYgMjY3IDE2OSAyNjYgMTcyIDI2NyBiIDE3NyAyNjcgMTc2IDI2NyAxNzcgMjY3IGIgMTk2IDI1NSAxODYgMjY3IDE5MiAyNjMgbCAxOTcgMjUyIGwgMTk3IDIwNSBiIDE5NyAxODEgMTk3IDE5NSAxOTcgMTg3IGIgMTkzIDE0OSAxOTcgMTUzIDE5NyAxNTMgYiAxNTIgMTMxIDE5MCAxNDQgMTg3IDE0MyBsIDExOSAxMjAgbCAxMTkgMTAgYiAxMTkgLTEwMCAxMTkgLTYyIDExOSAtMTAwIGIgMTQ1IC05MSAxMjAgLTEwMCAxMzEgLTk2IGIgMTczIC04MiAxNTkgLTg2IDE3MSAtODIgYiAxNzYgLTgxIDE3NCAtODEgMTc1IC04MSBiIDE5NiAtOTQgMTg1IC04MSAxOTMgLTg3IGIgMTk4IC0xNTEgMTk3IC05NyAxOTggLTEyNSBiIDE5NyAtMTk0IDE5OCAtMTcyIDE5NyAtMTkyIGIgMTUzIC0yMTggMTkzIC0yMDMgMTkyIC0yMDQgbCAxMTkgLTIzMCBsIDExOSAtMzY3IGwgMTE4IC01MDQgbCAxMTcgLTUwNyBiIDk3IC01MTkgMTEzIC01MTQgMTA1IC01MTkgYiA4MiAtNTEyIDkyIC01MTkgODcgLTUxNyBiIDc2IC00MzQgNzcgLTUwNyA3NiAtNTE2IGIgNzYgLTM3NCA3NiAtNDE4IDc2IC0zOTggYiA3NiAtMjQ1IDc2IC0zMDMgNzYgLTI0NSBiIDUyIC0yNTQgNzYgLTI0NSA2NSAtMjQ5IGIgMTkgLTI2MyAzNCAtMjYwIDI1IC0yNjMgYiA2IC0yNTcgMTMgLTI2MyAxMCAtMjYxIGIgMCAtMjE0IDAgLTI1MSAwIC0yNTMgYiAwIC0yMDAgMCAtMjEwIDAgLTIwNSBiIDAgLTE4OCAwIC0xOTYgMCAtMTkyIGIgNiAtMTQzIDAgLTE0NyAwIC0xNDkgYiA0NiAtMTI2IDEwIC0xMzkgMTAgLTEzOSBsIDc2IC0xMTUgbCA3NiAtNSBiIDc2IDEwNiA3NiA1NiA3NiAxMDYgYiA1MSA5OCA3NiAxMDYgNjQgMTAyIGIgMTggODkgMzQgOTIgMjUgODkgYiA2IDk1IDEzIDg5IDEwIDkxIGIgMCAxMzkgMCAxMDEgMCA5OSBiIDAgMTUzIDAgMTQzIDAgMTQ4IGIgMCAxNzkgMCAxNjMgMCAxNzIgYiA0NCAyMjUgMCAyMTUgMyAyMTEgbCA3NiAyMzYgbCA3NiAzNjkgYiA3OCA1MDUgNzYgNTAxIDc2IDUwMiBiIDg5IDUxNyA4MCA1MTAgODUgNTE1IHogXCJ9LHZkNzp7eF9taW46MCx4X21heDo0MzAuNzUsaGE6MzYwLG86XCJtIDI4MyA2MzMgYiAyOTEgNjM0IDI4NiA2MzQgMjg5IDYzNCBiIDMxMSA2MjEgMzAwIDYzNCAzMDggNjI5IGIgMzEzIDUwNSAzMTMgNjE4IDMxMyA2MTcgYiAzMTMgMzkzIDMxMyA0NDMgMzEzIDM5MyBiIDM3OCA0MjUgMzEzIDM5MyAzNDMgNDA3IGwgNDQzIDQ1OCBsIDQ0OCA0NTggYiA0NDkgNDU4IDQ0OSA0NTggNDQ5IDQ1OCBiIDQ3MSA0MzcgNDYyIDQ1OCA0NzEgNDQ4IGIgNDY5IDQyOSA0NzEgNDM0IDQ3MCA0MzIgYiAzODcgMzgyIDQ2NiA0MjEgNDY5IDQyMyBsIDMxMyAzNDQgbCAzMTMgMjQ3IGwgMzEzIDE1MCBsIDMxNSAxNTIgYiA0MzMgMjAxIDM1MyAxODQgMzk0IDIwMSBiIDQ3OSAxOTMgNDQ4IDIwMSA0NjQgMTk4IGIgNTQ5IDg2IDUyNCAxNzcgNTQ5IDEzNSBiIDUyNiAxIDU0OSA1OSA1NDEgMjkgYiAzOTUgLTE0MyA1MDQgLTM5IDQ3NSAtNzEgYiAzMTYgLTIxNCAzNTEgLTE4MiAzNDEgLTE5MSBiIDI5MiAtMjI5IDMwMiAtMjI4IDMwMCAtMjI5IGIgMjcyIC0yMTYgMjgzIC0yMjkgMjc1IC0yMjQgYiAyNzEgNTUgMjcxIC0yMTIgMjcxIC0yMTIgYiAyNzAgMzIzIDI3MSAyMDMgMjcwIDMyMyBiIDIwNSAyOTEgMjcwIDMyMyAyNDEgMzA4IGwgMTQwIDI1OCBsIDEzNSAyNTggYiAxMzQgMjU4IDEzNSAyNTggMTM0IDI1OCBiIDExMiAyNzkgMTIxIDI1OCAxMTIgMjY3IGIgMTE0IDI4NyAxMTIgMjgxIDExMyAyODQgYiAxOTYgMzM0IDExNyAyOTUgMTE0IDI5MyBsIDI3MSAzNzEgbCAyNzEgNDk1IGIgMjcyIDYyMSAyNzEgNjE3IDI3MSA2MTggYiAyODMgNjMzIDI3NCA2MjYgMjc5IDYzMSB6IG0gNDA0IDEzMyBiIDM5MSAxMzQgNDAwIDEzNCAzOTUgMTM0IGIgMzg0IDEzNCAzODggMTM0IDM4NiAxMzQgYiAzMTggODggMzU4IDEzMCAzMzUgMTE0IGwgMzEzIDgxIGwgMzEzIC0zNyBsIDMxMyAtMTU2IGwgMzE2IC0xNTIgYiA0MzkgODMgMzkxIC03MSA0MzkgMjIgbCA0MzkgODQgYiA0MDQgMTMzIDQzOSAxMTUgNDMwIDEyOCB6IG0gLTggNjMzIGwgLTggNjMzIGIgMCA2MzQgLTYgNjM0IC0zIDYzNCBiIDIwIDYyMSA4IDYzNCAxNyA2MjkgYiAyMSAzODQgMjEgNjE4IDIxIDYxNyBsIDIxIDE1MCBsIDI0IDE1MiBiIDE0MSAyMDEgNjIgMTg0IDEwMiAyMDEgYiAxODcgMTkzIDE1NyAyMDEgMTcyIDE5OCBiIDI1NyA4NiAyMzIgMTc3IDI1NyAxMzUgYiAyMzQgMSAyNTcgNTkgMjUwIDI5IGIgMTAzIC0xNDMgMjEyIC0zOSAxODMgLTcxIGIgMjQgLTIxNCA2MCAtMTgyIDQ5IC0xOTEgYiAwIC0yMjkgMTAgLTIyOCA4IC0yMjkgYiAtMjAgLTIxNiAtOSAtMjI5IC0xNyAtMjI0IGwgLTIxIC0yMTIgbCAtMjEgMjAzIGwgLTIxIDYxOCBsIC0yMCA2MjEgYiAtOCA2MzMgLTE4IDYyNiAtMTMgNjMxIHogbSAxMTMgMTMzIGwgMTEzIDEzMyBiIDk5IDEzNCAxMDkgMTM0IDEwMyAxMzQgYiA5MyAxMzQgOTcgMTM0IDk0IDEzNCBiIDI2IDg4IDY2IDEzMCA0MyAxMTQgbCAyMSA4MSBsIDIxIC0zNyBsIDIxIC0xNTYgbCAyNSAtMTUyIGIgMTQ4IDgzIDk5IC03MSAxNDggMjIgbCAxNDggODQgYiAxMTMgMTMzIDE0OCAxMTUgMTM4IDEyOCB6IFwifX0sY3NzRm9udFdlaWdodDpcIm5vcm1hbFwiLGFzY2VuZGVyOjE5MDMsdW5kZXJsaW5lUG9zaXRpb246LTEyNSxjc3NGb250U3R5bGU6XCJub3JtYWxcIixib3VuZGluZ0JveDp7eU1pbjotMjA2NS4zNzUseE1pbjotNjk1LjUzMTI1LHlNYXg6MTkwMS41NzgxMjUseE1heDoxMTU5LjY3MTg3NX0scmVzb2x1dGlvbjoxZTMsZGVzY2VuZGVyOi0yMDY2LGZhbWlseU5hbWU6XCJWZXhGbG93LTE4XCIsbGluZUhlaWdodDo0MDkzLHVuZGVybGluZVRoaWNrbmVzczo1MH07ZnVuY3Rpb24gZCh0LGUsaSxzLG4scil7bGV0IG8sYSxoLGw9MDtmdW5jdGlvbiBjKCl7cmV0dXJuIGUrdFtsKytdKnN9ZnVuY3Rpb24gdSgpe3JldHVybiBpK3RbbCsrXSpufWZvcig7bDx0Lmxlbmd0aDspc3dpdGNoKG89dFtsKytdLG8pe2Nhc2VcIm1cIjpjYXNlXCJsXCI6cltvXShjKCksdSgpKTticmVhaztjYXNlXCJxXCI6YT1jKCksaD11KCksci5xKGMoKSx1KCksYSxoKTticmVhaztjYXNlXCJiXCI6YT1jKCksaD11KCksci5iKGMoKSx1KCksYygpLHUoKSxhLGgpfX1jbGFzcyBmIGV4dGVuZHMgaHtzdGF0aWMgbG9hZE1ldHJpY3ModCxlLGkpe2NvbnN0IG49dC5nbHlwaHNbZV07aWYoIW4pdGhyb3cgbmV3IHMuUkVSUihcIkJhZEdseXBoXCIsYEdseXBoICR7ZX0gZG9lcyBub3QgZXhpc3QgaW4gZm9udC5gKTtjb25zdCByPW4ueF9taW4sbz1uLnhfbWF4LGE9bi5oYTtsZXQgaDtpZihuLm8pcmV0dXJuIGk/bi5jYWNoZWRfb3V0bGluZT9oPW4uY2FjaGVkX291dGxpbmU6KGg9bi5vLnNwbGl0KFwiIFwiKSxuLmNhY2hlZF9vdXRsaW5lPWgpOihuLmNhY2hlZF9vdXRsaW5lJiZkZWxldGUgbi5jYWNoZWRfb3V0bGluZSxoPW4uby5zcGxpdChcIiBcIikpLHt4X21pbjpyLHhfbWF4Om8saGE6YSxvdXRsaW5lOmh9O3Rocm93IG5ldyBzLlJFUlIoXCJCYWRHbHlwaFwiLGBHbHlwaCAke2V9IGhhcyBubyBvdXRsaW5lIGRlZmluZWQuYCl9c3RhdGljIHJlbmRlckdseXBoKHQsZSxpLHMsbixyKXtjb25zdCBvPTcyKnMvKDEwMCp1LnJlc29sdXRpb24pLGE9Zi5sb2FkTWV0cmljcyh1LG4sIXIpO2YucmVuZGVyT3V0bGluZSh0LGEub3V0bGluZSxvLGUsaSl9c3RhdGljIHJlbmRlck91dGxpbmUodCxlLGkscyxuKXt0LmJlZ2luUGF0aCgpLHQubW92ZVRvKHMsbiksZChlLHMsbixpLC1pLHttOnQubW92ZVRvLmJpbmQodCksbDp0LmxpbmVUby5iaW5kKHQpLHE6dC5xdWFkcmF0aWNDdXJ2ZVRvLmJpbmQodCksYjp0LmJlemllckN1cnZlVG8uYmluZCh0KX0pLHQuZmlsbCgpfXN0YXRpYyBnZXRPdXRsaW5lQm91bmRpbmdCb3godCxlLGkscyl7Y29uc3Qgbj1uZXcgbDtyZXR1cm4gZCh0LGkscyxlLC1lLHttOm4uYWRkUG9pbnQuYmluZChuKSxsOm4uYWRkUG9pbnQuYmluZChuKSxxOm4uYWRkUXVhZHJhdGljQ3VydmUuYmluZChuKSxiOm4uYWRkQmV6aWVyQ3VydmUuYmluZChuKX0pLG5ldyBjKG4ueDEsbi55MSxuLndpZHRoKCksbi5oZWlnaHQoKSl9Y29uc3RydWN0b3IodCxlLGkpe3N1cGVyKCksdGhpcy5zZXRBdHRyaWJ1dGUoXCJ0eXBlXCIsXCJHbHlwaFwiKSx0aGlzLmNvZGU9dCx0aGlzLnBvaW50PWUsdGhpcy5vcHRpb25zPXtjYWNoZTohMCxmb250OnV9LHRoaXMubWV0cmljcz1udWxsLHRoaXMueF9zaGlmdD0wLHRoaXMueV9zaGlmdD0wLHRoaXMub3JpZ2luU2hpZnQ9e3g6MCx5OjB9LGk/dGhpcy5zZXRPcHRpb25zKGkpOnRoaXMucmVzZXQoKX1zZXRPcHRpb25zKHQpe3MuTWVyZ2UodGhpcy5vcHRpb25zLHQpLHRoaXMucmVzZXQoKX1zZXRQb2ludCh0KXtyZXR1cm4gdGhpcy5wb2ludD10LHRoaXN9c2V0U3RhdmUodCl7cmV0dXJuIHRoaXMuc3RhdmU9dCx0aGlzfXNldFhTaGlmdCh0KXtyZXR1cm4gdGhpcy54X3NoaWZ0PXQsdGhpc31zZXRZU2hpZnQodCl7cmV0dXJuIHRoaXMueV9zaGlmdD10LHRoaXN9cmVzZXQoKXt0aGlzLnNjYWxlPTcyKnRoaXMucG9pbnQvKDEwMCp0aGlzLm9wdGlvbnMuZm9udC5yZXNvbHV0aW9uKSx0aGlzLm1ldHJpY3M9Zi5sb2FkTWV0cmljcyh0aGlzLm9wdGlvbnMuZm9udCx0aGlzLmNvZGUsdGhpcy5vcHRpb25zLmNhY2hlKSx0aGlzLmJib3g9Zi5nZXRPdXRsaW5lQm91bmRpbmdCb3godGhpcy5tZXRyaWNzLm91dGxpbmUsdGhpcy5zY2FsZSwwLDApfWdldE1ldHJpY3MoKXtpZighdGhpcy5tZXRyaWNzKXRocm93IG5ldyBzLlJ1bnRpbWVFcnJvcihcIkJhZEdseXBoXCIsYEdseXBoICR7dGhpcy5jb2RlfSBpcyBub3QgaW5pdGlhbGl6ZWQuYCk7cmV0dXJue3hfbWluOnRoaXMubWV0cmljcy54X21pbip0aGlzLnNjYWxlLHhfbWF4OnRoaXMubWV0cmljcy54X21heCp0aGlzLnNjYWxlLHdpZHRoOnRoaXMuYmJveC5nZXRXKCksaGVpZ2h0OnRoaXMuYmJveC5nZXRIKCl9fXNldE9yaWdpblgodCl7Y29uc3R7YmJveDplfT10aGlzLGk9KHQtTWF0aC5hYnMoZS5nZXRYKCkvZS5nZXRXKCkpKSplLmdldFcoKTt0aGlzLm9yaWdpblNoaWZ0Lng9LWl9c2V0T3JpZ2luWSh0KXtjb25zdHtiYm94OmV9PXRoaXMsaT0odC1NYXRoLmFicyhlLmdldFkoKS9lLmdldEgoKSkpKmUuZ2V0SCgpO3RoaXMub3JpZ2luU2hpZnQueT0taX1zZXRPcmlnaW4odCxlKXt0aGlzLnNldE9yaWdpblgodCksdGhpcy5zZXRPcmlnaW5ZKGUpfXJlbmRlcih0LGUsaSl7aWYoIXRoaXMubWV0cmljcyl0aHJvdyBuZXcgcy5SdW50aW1lRXJyb3IoXCJCYWRHbHlwaFwiLGBHbHlwaCAke3RoaXMuY29kZX0gaXMgbm90IGluaXRpYWxpemVkLmApO2NvbnN0IG49dGhpcy5tZXRyaWNzLm91dGxpbmUscj10aGlzLnNjYWxlO3RoaXMuc2V0UmVuZGVyZWQoKSx0aGlzLmFwcGx5U3R5bGUodCksZi5yZW5kZXJPdXRsaW5lKHQsbixyLGUrdGhpcy5vcmlnaW5TaGlmdC54LGkrdGhpcy5vcmlnaW5TaGlmdC55KSx0aGlzLnJlc3RvcmVTdHlsZSh0KX1yZW5kZXJUb1N0YXZlKHQpe2lmKHRoaXMuY2hlY2tDb250ZXh0KCksIXRoaXMubWV0cmljcyl0aHJvdyBuZXcgcy5SdW50aW1lRXJyb3IoXCJCYWRHbHlwaFwiLGBHbHlwaCAke3RoaXMuY29kZX0gaXMgbm90IGluaXRpYWxpemVkLmApO2lmKCF0aGlzLnN0YXZlKXRocm93IG5ldyBzLlJ1bnRpbWVFcnJvcihcIkdseXBoRXJyb3JcIixcIk5vIHZhbGlkIHN0YXZlXCIpO2NvbnN0IGU9dGhpcy5tZXRyaWNzLm91dGxpbmUsaT10aGlzLnNjYWxlO3RoaXMuc2V0UmVuZGVyZWQoKSx0aGlzLmFwcGx5U3R5bGUoKSxmLnJlbmRlck91dGxpbmUodGhpcy5jb250ZXh0LGUsaSx0K3RoaXMueF9zaGlmdCx0aGlzLnN0YXZlLmdldFlGb3JHbHlwaHMoKSt0aGlzLnlfc2hpZnQpLHRoaXMucmVzdG9yZVN0eWxlKCl9fWNvbnN0IG09e1NURU1fV0lEVEg6MS41LFNURU1fSEVJR0hUOjM1LFNUQVZFX0xJTkVfVEhJQ0tORVNTOjEsUkVTT0xVVElPTjoxNjM4NCxERUZBVUxUX05PVEFUSU9OX0ZPTlRfU0NBTEU6MzksREVGQVVMVF9UQUJMQVRVUkVfRk9OVF9TQ0FMRTozOSxTTEFTSF9OT1RFSEVBRF9XSURUSDoxNSxURVhUX0hFSUdIVF9PRkZTRVRfSEFDSzoxLElzS2VybmVkOiEwLGNsZWZQcm9wZXJ0aWVzOnQ9PntpZighdCl0aHJvdyBuZXcgcy5SRVJSKFwiQmFkQXJndW1lbnRcIixcIkludmFsaWQgY2xlZjogXCIrdCk7Y29uc3QgZT1tLmNsZWZQcm9wZXJ0aWVzLnZhbHVlc1t0XTtpZighZSl0aHJvdyBuZXcgcy5SRVJSKFwiQmFkQXJndW1lbnRcIixcIkludmFsaWQgY2xlZjogXCIrdCk7cmV0dXJuIGV9fTttLmNsZWZQcm9wZXJ0aWVzLnZhbHVlcz17dHJlYmxlOntsaW5lX3NoaWZ0OjB9LGJhc3M6e2xpbmVfc2hpZnQ6Nn0sdGVub3I6e2xpbmVfc2hpZnQ6NH0sYWx0bzp7bGluZV9zaGlmdDozfSxzb3ByYW5vOntsaW5lX3NoaWZ0OjF9LHBlcmN1c3Npb246e2xpbmVfc2hpZnQ6MH0sXCJtZXp6by1zb3ByYW5vXCI6e2xpbmVfc2hpZnQ6Mn0sXCJiYXJpdG9uZS1jXCI6e2xpbmVfc2hpZnQ6NX0sXCJiYXJpdG9uZS1mXCI6e2xpbmVfc2hpZnQ6NX0sc3ViYmFzczp7bGluZV9zaGlmdDo3fSxmcmVuY2g6e2xpbmVfc2hpZnQ6LTF9fSxtLmtleVByb3BlcnRpZXM9KHQsZSxpKT0+e3ZvaWQgMD09PWUmJihlPVwidHJlYmxlXCIpO2NvbnN0IG49e29jdGF2ZV9zaGlmdDowfTtcIm9iamVjdFwiPT10eXBlb2YgaSYmcy5NZXJnZShuLGkpO2NvbnN0IHI9dC5zcGxpdChcIi9cIik7aWYoci5sZW5ndGg8Mil0aHJvdyBuZXcgcy5SRVJSKFwiQmFkQXJndW1lbnRzXCIsYEtleSBtdXN0IGhhdmUgbm90ZSArIG9jdGF2ZSBhbmQgYW4gb3B0aW9uYWwgZ2x5cGg6ICR7dH1gKTtjb25zdCBvPXJbMF0udG9VcHBlckNhc2UoKSxhPW0ua2V5UHJvcGVydGllcy5ub3RlX3ZhbHVlc1tvXTtpZighYSl0aHJvdyBuZXcgcy5SRVJSKFwiQmFkQXJndW1lbnRzXCIsXCJJbnZhbGlkIGtleSBuYW1lOiBcIitvKTthLm9jdGF2ZSYmKHJbMV09YS5vY3RhdmUpO2xldCBoPXBhcnNlSW50KHJbMV0sMTApO2grPS0xKm4ub2N0YXZlX3NoaWZ0O2xldCBsPSg3KmgtMjgrYS5pbmRleCkvMjtsKz1tLmNsZWZQcm9wZXJ0aWVzKGUpLmxpbmVfc2hpZnQ7bGV0IGM9MDtsPD0wJiYyKmwlMj09MCYmKGM9MSksbD49NiYmMipsJTI9PTAmJihjPS0xKTtjb25zdCB1PXZvaWQgMCE9PWEuaW50X3ZhbD8xMipoK2EuaW50X3ZhbDpudWxsLGQ9YS5jb2RlLGY9YS5zaGlmdF9yaWdodDtsZXQgcD17fTtpZihyLmxlbmd0aD4yJiZyWzJdKXtjb25zdCB0PXJbMl0udG9VcHBlckNhc2UoKTtwPW0ua2V5UHJvcGVydGllcy5jdXN0b21Ob3RlSGVhZHNbdF18fHt9fXJldHVybntrZXk6byxvY3RhdmU6aCxsaW5lOmwsaW50X3ZhbHVlOnUsYWNjaWRlbnRhbDphLmFjY2lkZW50YWwsY29kZTpkLHN0cm9rZTpjLHNoaWZ0X3JpZ2h0OmYsZGlzcGxhY2VkOiExLC4uLnB9fSxtLmtleVByb3BlcnRpZXMubm90ZV92YWx1ZXM9e0M6e2luZGV4OjAsaW50X3ZhbDowLGFjY2lkZW50YWw6bnVsbH0sQ046e2luZGV4OjAsaW50X3ZhbDowLGFjY2lkZW50YWw6XCJuXCJ9LFwiQyNcIjp7aW5kZXg6MCxpbnRfdmFsOjEsYWNjaWRlbnRhbDpcIiNcIn0sXCJDIyNcIjp7aW5kZXg6MCxpbnRfdmFsOjIsYWNjaWRlbnRhbDpcIiMjXCJ9LENCOntpbmRleDowLGludF92YWw6LTEsYWNjaWRlbnRhbDpcImJcIn0sQ0JCOntpbmRleDowLGludF92YWw6LTIsYWNjaWRlbnRhbDpcImJiXCJ9LEQ6e2luZGV4OjEsaW50X3ZhbDoyLGFjY2lkZW50YWw6bnVsbH0sRE46e2luZGV4OjEsaW50X3ZhbDoyLGFjY2lkZW50YWw6XCJuXCJ9LFwiRCNcIjp7aW5kZXg6MSxpbnRfdmFsOjMsYWNjaWRlbnRhbDpcIiNcIn0sXCJEIyNcIjp7aW5kZXg6MSxpbnRfdmFsOjQsYWNjaWRlbnRhbDpcIiMjXCJ9LERCOntpbmRleDoxLGludF92YWw6MSxhY2NpZGVudGFsOlwiYlwifSxEQkI6e2luZGV4OjEsaW50X3ZhbDowLGFjY2lkZW50YWw6XCJiYlwifSxFOntpbmRleDoyLGludF92YWw6NCxhY2NpZGVudGFsOm51bGx9LEVOOntpbmRleDoyLGludF92YWw6NCxhY2NpZGVudGFsOlwiblwifSxcIkUjXCI6e2luZGV4OjIsaW50X3ZhbDo1LGFjY2lkZW50YWw6XCIjXCJ9LFwiRSMjXCI6e2luZGV4OjIsaW50X3ZhbDo2LGFjY2lkZW50YWw6XCIjI1wifSxFQjp7aW5kZXg6MixpbnRfdmFsOjMsYWNjaWRlbnRhbDpcImJcIn0sRUJCOntpbmRleDoyLGludF92YWw6MixhY2NpZGVudGFsOlwiYmJcIn0sRjp7aW5kZXg6MyxpbnRfdmFsOjUsYWNjaWRlbnRhbDpudWxsfSxGTjp7aW5kZXg6MyxpbnRfdmFsOjUsYWNjaWRlbnRhbDpcIm5cIn0sXCJGI1wiOntpbmRleDozLGludF92YWw6NixhY2NpZGVudGFsOlwiI1wifSxcIkYjI1wiOntpbmRleDozLGludF92YWw6NyxhY2NpZGVudGFsOlwiIyNcIn0sRkI6e2luZGV4OjMsaW50X3ZhbDo0LGFjY2lkZW50YWw6XCJiXCJ9LEZCQjp7aW5kZXg6MyxpbnRfdmFsOjMsYWNjaWRlbnRhbDpcImJiXCJ9LEc6e2luZGV4OjQsaW50X3ZhbDo3LGFjY2lkZW50YWw6bnVsbH0sR046e2luZGV4OjQsaW50X3ZhbDo3LGFjY2lkZW50YWw6XCJuXCJ9LFwiRyNcIjp7aW5kZXg6NCxpbnRfdmFsOjgsYWNjaWRlbnRhbDpcIiNcIn0sXCJHIyNcIjp7aW5kZXg6NCxpbnRfdmFsOjksYWNjaWRlbnRhbDpcIiMjXCJ9LEdCOntpbmRleDo0LGludF92YWw6NixhY2NpZGVudGFsOlwiYlwifSxHQkI6e2luZGV4OjQsaW50X3ZhbDo1LGFjY2lkZW50YWw6XCJiYlwifSxBOntpbmRleDo1LGludF92YWw6OSxhY2NpZGVudGFsOm51bGx9LEFOOntpbmRleDo1LGludF92YWw6OSxhY2NpZGVudGFsOlwiblwifSxcIkEjXCI6e2luZGV4OjUsaW50X3ZhbDoxMCxhY2NpZGVudGFsOlwiI1wifSxcIkEjI1wiOntpbmRleDo1LGludF92YWw6MTEsYWNjaWRlbnRhbDpcIiMjXCJ9LEFCOntpbmRleDo1LGludF92YWw6OCxhY2NpZGVudGFsOlwiYlwifSxBQkI6e2luZGV4OjUsaW50X3ZhbDo3LGFjY2lkZW50YWw6XCJiYlwifSxCOntpbmRleDo2LGludF92YWw6MTEsYWNjaWRlbnRhbDpudWxsfSxCTjp7aW5kZXg6NixpbnRfdmFsOjExLGFjY2lkZW50YWw6XCJuXCJ9LFwiQiNcIjp7aW5kZXg6NixpbnRfdmFsOjEyLGFjY2lkZW50YWw6XCIjXCJ9LFwiQiMjXCI6e2luZGV4OjYsaW50X3ZhbDoxMyxhY2NpZGVudGFsOlwiIyNcIn0sQkI6e2luZGV4OjYsaW50X3ZhbDoxMCxhY2NpZGVudGFsOlwiYlwifSxCQkI6e2luZGV4OjYsaW50X3ZhbDo5LGFjY2lkZW50YWw6XCJiYlwifSxSOntpbmRleDo2LGludF92YWw6OSxyZXN0OiEwfSxYOntpbmRleDo2LGFjY2lkZW50YWw6XCJcIixvY3RhdmU6NCxjb2RlOlwidjNlXCIsc2hpZnRfcmlnaHQ6NS41fX0sbS5rZXlQcm9wZXJ0aWVzLmN1c3RvbU5vdGVIZWFkcz17RDA6e2NvZGU6XCJ2MjdcIixzaGlmdF9yaWdodDowLHN0ZW1fdXBfeF9vZmZzZXQ6MCxzdGVtX2Rvd25feF9vZmZzZXQ6MCxzdGVtX3VwX3lfb2Zmc2V0Oi0xLHN0ZW1fZG93bl95X29mZnNldDowfSxEMTp7Y29kZTpcInYyZFwiLHNoaWZ0X3JpZ2h0Oi0uNX0sRDI6e2NvZGU6XCJ2MjJcIixzaGlmdF9yaWdodDotLjV9LEQzOntjb2RlOlwidjcwXCIsc2hpZnRfcmlnaHQ6LS41fSxUMDp7Y29kZTpcInY0OVwiLHNoaWZ0X3JpZ2h0Oi0yLHN0ZW1fdXBfeV9vZmZzZXQ6LTQsc3RlbV9kb3duX3lfb2Zmc2V0OjR9LFQxOntjb2RlOlwidjkzXCIsc2hpZnRfcmlnaHQ6LjUsc3RlbV91cF95X29mZnNldDotNCxzdGVtX2Rvd25feV9vZmZzZXQ6NH0sVDI6e2NvZGU6XCJ2NDBcIixzaGlmdF9yaWdodDouNSxzdGVtX3VwX3lfb2Zmc2V0Oi00LHN0ZW1fZG93bl95X29mZnNldDo0fSxUMzp7Y29kZTpcInY3ZFwiLHNoaWZ0X3JpZ2h0Oi41LHN0ZW1fdXBfeV9vZmZzZXQ6LTQsc3RlbV9kb3duX3lfb2Zmc2V0OjR9LFgwOntjb2RlOlwidjkyXCIsc3RlbV91cF94X29mZnNldDotMixzdGVtX2Rvd25feF9vZmZzZXQ6MCxzdGVtX3VwX3lfb2Zmc2V0OjQsc3RlbV9kb3duX3lfb2Zmc2V0OjR9LFgxOntjb2RlOlwidjk1XCIsc2hpZnRfcmlnaHQ6LS41LHN0ZW1fdXBfeV9vZmZzZXQ6NCxzdGVtX2Rvd25feV9vZmZzZXQ6NH0sWDI6e2NvZGU6XCJ2M2VcIixzaGlmdF9yaWdodDouNSxzdGVtX3VwX3lfb2Zmc2V0OjQsc3RlbV9kb3duX3lfb2Zmc2V0OjR9LFgzOntjb2RlOlwidjNiXCIsc2hpZnRfcmlnaHQ6MCxzdGVtX3VwX3hfb2Zmc2V0Oi0xLjIsc3RlbV9kb3duX3hfb2Zmc2V0OjAsc3RlbV91cF95X29mZnNldDotMSxzdGVtX2Rvd25feV9vZmZzZXQ6Mn0sUzE6e2NvZGU6XCJ2ZDNcIixzaGlmdF9yaWdodDowfSxTMjp7Y29kZTpcInZkMlwiLHNoaWZ0X3JpZ2h0OjB9LFIxOntjb2RlOlwidmQ1XCIsc2hpZnRfcmlnaHQ6MH0sUjI6e2NvZGU6XCJ2ZDRcIixzaGlmdF9yaWdodDowfX0sbS5pbnRlZ2VyVG9Ob3RlPXQ9PntpZih2b2lkIDA9PT10KXRocm93IG5ldyBzLlJFUlIoXCJCYWRBcmd1bWVudHNcIixcIlVuZGVmaW5lZCBpbnRlZ2VyIGZvciBpbnRlZ2VyVG9Ob3RlXCIpO2lmKHQ8LTIpdGhyb3cgbmV3IHMuUkVSUihcIkJhZEFyZ3VtZW50c1wiLGBpbnRlZ2VyVG9Ob3RlIHJlcXVpcmVzIGludGVnZXIgPiAtMjogJHt0fWApO2NvbnN0IGU9bS5pbnRlZ2VyVG9Ob3RlLnRhYmxlW3RdO2lmKCFlKXRocm93IG5ldyBzLlJFUlIoXCJCYWRBcmd1bWVudHNcIixgVW5rbm93biBub3RlIHZhbHVlIGZvciBpbnRlZ2VyOiAke3R9YCk7cmV0dXJuIGV9LG0uaW50ZWdlclRvTm90ZS50YWJsZT17MDpcIkNcIiwxOlwiQyNcIiwyOlwiRFwiLDM6XCJEI1wiLDQ6XCJFXCIsNTpcIkZcIiw2OlwiRiNcIiw3OlwiR1wiLDg6XCJHI1wiLDk6XCJBXCIsMTA6XCJBI1wiLDExOlwiQlwifSxtLnRhYlRvR2x5cGg9KHQsZT0xKT0+e2xldCBpPW51bGwscz0wLG49MDtpZihcIlhcIj09PXQudG9TdHJpbmcoKS50b1VwcGVyQ2FzZSgpKXtjb25zdCB0PW5ldyBmKFwidjdmXCIsbS5ERUZBVUxUX1RBQkxBVFVSRV9GT05UX1NDQUxFKS5nZXRNZXRyaWNzKCk7aT1cInY3ZlwiLHM9dC53aWR0aCxuPS10LmhlaWdodC8yfWVsc2Ugcz1tLnRleHRXaWR0aCh0LnRvU3RyaW5nKCkpO3JldHVybnt0ZXh0OnQsY29kZTppLGdldFdpZHRoOigpPT5zKmUsc2hpZnRfeTpufX0sbS50ZXh0V2lkdGg9dD0+Nyp0LnRvU3RyaW5nKCkubGVuZ3RoLG0uYXJ0aWN1bGF0aW9uQ29kZXM9dD0+bS5hcnRpY3VsYXRpb25Db2Rlcy5hcnRpY3VsYXRpb25zW3RdLG0uYXJ0aWN1bGF0aW9uQ29kZXMuYXJ0aWN1bGF0aW9ucz17XCJhLlwiOntjb2RlOlwidjIzXCIsYmV0d2Vlbl9saW5lczohMH0sYXY6e2NvZGU6XCJ2MjhcIixiZXR3ZWVuX2xpbmVzOiEwfSxcImE+XCI6e2NvZGU6XCJ2NDJcIixiZXR3ZWVuX2xpbmVzOiEwfSxcImEtXCI6e2NvZGU6XCJ2MjVcIixiZXR3ZWVuX2xpbmVzOiEwfSxcImFeXCI6e2NvZGU6XCJ2YVwiLGJldHdlZW5fbGluZXM6ITF9LFwiYStcIjp7Y29kZTpcInY4YlwiLGJldHdlZW5fbGluZXM6ITF9LGFvOntjb2RlOlwidjk0XCIsYmV0d2Vlbl9saW5lczohMX0sYWg6e2NvZGU6XCJ2YjlcIixiZXR3ZWVuX2xpbmVzOiExfSxcImFAYVwiOntjb2RlOlwidjQzXCIsYmV0d2Vlbl9saW5lczohMX0sXCJhQHVcIjp7Y29kZTpcInY1YlwiLGJldHdlZW5fbGluZXM6ITF9LFwiYXxcIjp7Y29kZTpcInY3NVwiLGJldHdlZW5fbGluZXM6ITF9LGFtOntjb2RlOlwidjk3XCIsYmV0d2Vlbl9saW5lczohMX0sXCJhLFwiOntjb2RlOlwidmIzXCIsYmV0d2Vlbl9saW5lczohMX19LG0uYWNjaWRlbnRhbENvZGVzPXQ9Pm0uYWNjaWRlbnRhbENvZGVzLmFjY2lkZW50YWxzW3RdLG0uYWNjaWRlbnRhbENvZGVzLmFjY2lkZW50YWxzPXtcIiNcIjp7Y29kZTpcInYxOFwiLHBhcmVuUmlnaHRQYWRkaW5nQWRqdXN0bWVudDotMX0sXCIjI1wiOntjb2RlOlwidjdmXCIscGFyZW5SaWdodFBhZGRpbmdBZGp1c3RtZW50Oi0xfSxiOntjb2RlOlwidjQ0XCIscGFyZW5SaWdodFBhZGRpbmdBZGp1c3RtZW50Oi0yfSxiYjp7Y29kZTpcInYyNlwiLHBhcmVuUmlnaHRQYWRkaW5nQWRqdXN0bWVudDotMn0sbjp7Y29kZTpcInY0ZVwiLHBhcmVuUmlnaHRQYWRkaW5nQWRqdXN0bWVudDotMX0sXCJ7XCI6e2NvZGU6XCJ2OWNcIixwYXJlblJpZ2h0UGFkZGluZ0FkanVzdG1lbnQ6LTF9LFwifVwiOntjb2RlOlwidjg0XCIscGFyZW5SaWdodFBhZGRpbmdBZGp1c3RtZW50Oi0xfSxkYjp7Y29kZTpcInY5ZVwiLHBhcmVuUmlnaHRQYWRkaW5nQWRqdXN0bWVudDotMX0sZDp7Y29kZTpcInZhYlwiLHBhcmVuUmlnaHRQYWRkaW5nQWRqdXN0bWVudDowfSxiYnM6e2NvZGU6XCJ2OTBcIixwYXJlblJpZ2h0UGFkZGluZ0FkanVzdG1lbnQ6LTF9LFwiKytcIjp7Y29kZTpcInY1MVwiLHBhcmVuUmlnaHRQYWRkaW5nQWRqdXN0bWVudDotMX0sXCIrXCI6e2NvZGU6XCJ2NzhcIixwYXJlblJpZ2h0UGFkZGluZ0FkanVzdG1lbnQ6LTF9LFwiKy1cIjp7Y29kZTpcInY4ZFwiLHBhcmVuUmlnaHRQYWRkaW5nQWRqdXN0bWVudDotMX0sXCIrKy1cIjp7Y29kZTpcInY3YVwiLHBhcmVuUmlnaHRQYWRkaW5nQWRqdXN0bWVudDotMX0sYnM6e2NvZGU6XCJ2YjdcIixwYXJlblJpZ2h0UGFkZGluZ0FkanVzdG1lbnQ6LTF9LGJzczp7Y29kZTpcInYzOVwiLHBhcmVuUmlnaHRQYWRkaW5nQWRqdXN0bWVudDotMX0sbzp7Y29kZTpcInZkMFwiLHBhcmVuUmlnaHRQYWRkaW5nQWRqdXN0bWVudDotMX0sazp7Y29kZTpcInZkMVwiLHBhcmVuUmlnaHRQYWRkaW5nQWRqdXN0bWVudDotMX0sYXNoczp7Y29kZTpcInZkNlwiLHBhcmVuUmlnaHRQYWRkaW5nQWRqdXN0bWVudDotMX0sYWZoZjp7Y29kZTpcInZkN1wiLHBhcmVuUmlnaHRQYWRkaW5nQWRqdXN0bWVudDotMX19LG0uYWNjaWRlbnRhbENvbHVtbnNUYWJsZT17MTp7YTpbMV0sYjpbMV19LDI6e2E6WzEsMl19LDM6e2E6WzEsMywyXSxiOlsxLDIsMV0sc2Vjb25kX29uX2JvdHRvbTpbMSwyLDNdfSw0OnthOlsxLDMsNCwyXSxiOlsxLDIsMywxXSxzcGFjZWRfb3V0X3RldHJhY2hvcmQ6WzEsMiwxLDJdfSw1OnthOlsxLDMsNSw0LDJdLGI6WzEsMiw0LDMsMV0sc3BhY2VkX291dF9wZW50YWNob3JkOlsxLDIsMywyLDFdLHZlcnlfc3BhY2VkX291dF9wZW50YWNob3JkOlsxLDIsMSwyLDFdfSw2OnthOlsxLDMsNSw2LDQsMl0sYjpbMSwyLDQsNSwzLDFdLHNwYWNlZF9vdXRfaGV4YWNob3JkOlsxLDMsMiwxLDMsMl0sdmVyeV9zcGFjZWRfb3V0X2hleGFjaG9yZDpbMSwyLDEsMiwxLDJdfX0sbS5vcm5hbWVudENvZGVzPXQ9Pm0ub3JuYW1lbnRDb2Rlcy5vcm5hbWVudHNbdF0sbS5vcm5hbWVudENvZGVzLm9ybmFtZW50cz17bW9yZGVudDp7Y29kZTpcInYxZVwifSxtb3JkZW50X2ludmVydGVkOntjb2RlOlwidjQ1XCJ9LHR1cm46e2NvZGU6XCJ2NzJcIn0sdHVybl9pbnZlcnRlZDp7Y29kZTpcInYzM1wifSx0cjp7Y29kZTpcInYxZlwifSx1cHByYWxsOntjb2RlOlwidjYwXCJ9LGRvd25wcmFsbDp7Y29kZTpcInZiNFwifSxwcmFsbHVwOntjb2RlOlwidjZkXCJ9LHByYWxsZG93bjp7Y29kZTpcInYyY1wifSx1cG1vcmRlbnQ6e2NvZGU6XCJ2MjlcIn0sZG93bm1vcmRlbnQ6e2NvZGU6XCJ2NjhcIn0sbGluZXByYWxsOntjb2RlOlwidjIwXCJ9LHByYWxscHJhbGw6e2NvZGU6XCJ2ODZcIn19LG0ua2V5U2lnbmF0dXJlPXQ9Pntjb25zdCBlPW0ua2V5U2lnbmF0dXJlLmtleVNwZWNzW3RdO2lmKCFlKXRocm93IG5ldyBzLlJFUlIoXCJCYWRLZXlTaWduYXR1cmVcIixgQmFkIGtleSBzaWduYXR1cmUgc3BlYzogJyR7dH0nYCk7aWYoIWUuYWNjKXJldHVybltdO2NvbnN0IGk9bS5rZXlTaWduYXR1cmUuYWNjaWRlbnRhbExpc3QoZS5hY2MpLG49W107Zm9yKGxldCB0PTA7dDxlLm51bTsrK3Qpe2NvbnN0IHM9aVt0XTtuLnB1c2goe3R5cGU6ZS5hY2MsbGluZTpzfSl9cmV0dXJuIG59LG0ua2V5U2lnbmF0dXJlLmtleVNwZWNzPXtDOnthY2M6bnVsbCxudW06MH0sQW06e2FjYzpudWxsLG51bTowfSxGOnthY2M6XCJiXCIsbnVtOjF9LERtOnthY2M6XCJiXCIsbnVtOjF9LEJiOnthY2M6XCJiXCIsbnVtOjJ9LEdtOnthY2M6XCJiXCIsbnVtOjJ9LEViOnthY2M6XCJiXCIsbnVtOjN9LENtOnthY2M6XCJiXCIsbnVtOjN9LEFiOnthY2M6XCJiXCIsbnVtOjR9LEZtOnthY2M6XCJiXCIsbnVtOjR9LERiOnthY2M6XCJiXCIsbnVtOjV9LEJibTp7YWNjOlwiYlwiLG51bTo1fSxHYjp7YWNjOlwiYlwiLG51bTo2fSxFYm06e2FjYzpcImJcIixudW06Nn0sQ2I6e2FjYzpcImJcIixudW06N30sQWJtOnthY2M6XCJiXCIsbnVtOjd9LEc6e2FjYzpcIiNcIixudW06MX0sRW06e2FjYzpcIiNcIixudW06MX0sRDp7YWNjOlwiI1wiLG51bToyfSxCbTp7YWNjOlwiI1wiLG51bToyfSxBOnthY2M6XCIjXCIsbnVtOjN9LFwiRiNtXCI6e2FjYzpcIiNcIixudW06M30sRTp7YWNjOlwiI1wiLG51bTo0fSxcIkMjbVwiOnthY2M6XCIjXCIsbnVtOjR9LEI6e2FjYzpcIiNcIixudW06NX0sXCJHI21cIjp7YWNjOlwiI1wiLG51bTo1fSxcIkYjXCI6e2FjYzpcIiNcIixudW06Nn0sXCJEI21cIjp7YWNjOlwiI1wiLG51bTo2fSxcIkMjXCI6e2FjYzpcIiNcIixudW06N30sXCJBI21cIjp7YWNjOlwiI1wiLG51bTo3fX0sbS51bmljb2RlPXtzaGFycDpTdHJpbmcuZnJvbUNoYXJDb2RlKHBhcnNlSW50KFwiMjY2RlwiLDE2KSksZmxhdDpTdHJpbmcuZnJvbUNoYXJDb2RlKHBhcnNlSW50KFwiMjY2RFwiLDE2KSksbmF0dXJhbDpTdHJpbmcuZnJvbUNoYXJDb2RlKHBhcnNlSW50KFwiMjY2RVwiLDE2KSksdHJpYW5nbGU6U3RyaW5nLmZyb21DaGFyQ29kZShwYXJzZUludChcIjI1QjNcIiwxNikpLFwiby13aXRoLXNsYXNoXCI6U3RyaW5nLmZyb21DaGFyQ29kZShwYXJzZUludChcIjAwRjhcIiwxNikpLGRlZ3JlZXM6U3RyaW5nLmZyb21DaGFyQ29kZShwYXJzZUludChcIjAwQjBcIiwxNikpLGNpcmNsZTpTdHJpbmcuZnJvbUNoYXJDb2RlKHBhcnNlSW50KFwiMjVDQlwiLDE2KSl9LG0ua2V5U2lnbmF0dXJlLmFjY2lkZW50YWxMaXN0PXQ9Pih7YjpbMiwuNSwyLjUsMSwzLDEuNSwzLjVdLFwiI1wiOlswLDEuNSwtLjUsMSwyLjUsLjUsMl19W3RdKSxtLnBhcnNlTm90ZUR1cmF0aW9uU3RyaW5nPXQ9PntpZihcInN0cmluZ1wiIT10eXBlb2YgdClyZXR1cm4gbnVsbDtjb25zdCBlPS8oXFxkKlxcLz9cXGQrfFthLXpdKShkKikoW25yaG1zXXwkKS8uZXhlYyh0KTtpZighZSlyZXR1cm4gbnVsbDtjb25zdCBpPWVbMV0scz1lWzJdLmxlbmd0aDtsZXQgbj1lWzNdO3JldHVybiAwPT09bi5sZW5ndGgmJihuPVwiblwiKSx7ZHVyYXRpb246aSxkb3RzOnMsdHlwZTpufX0sbS5wYXJzZU5vdGVTdHJ1Y3Q9dD0+e2NvbnN0IGU9dC5kdXJhdGlvbixpPW0ucGFyc2VOb3RlRHVyYXRpb25TdHJpbmcoZSk7aWYoIWkpcmV0dXJuIG51bGw7bGV0IHM9bS5kdXJhdGlvblRvVGlja3MoaS5kdXJhdGlvbik7aWYobnVsbD09cylyZXR1cm4gbnVsbDtsZXQgbj10LnR5cGU7Y29uc3Qgcj1bXTtpZihuKXtpZighbS5nZXRHbHlwaFByb3BzLnZhbGlkVHlwZXNbbl0pcmV0dXJuIG51bGx9ZWxzZSBuPWkudHlwZXx8XCJuXCIsdm9pZCAwIT09dC5rZXlzJiZ0LmtleXMuZm9yRWFjaCgodCxlKT0+e2NvbnN0IGk9dC5zcGxpdChcIi9cIik7aSYmMz09PWkubGVuZ3RoJiYocltlXT1pWzJdKX0pO2NvbnN0IG89dC5kb3RzP3QuZG90czppLmRvdHM7aWYoXCJudW1iZXJcIiE9dHlwZW9mIG8pcmV0dXJuIG51bGw7bGV0IGE9cztmb3IobGV0IHQ9MDt0PG87dCsrKXtpZihhPD0xKXJldHVybiBudWxsO2EvPTIscys9YX1yZXR1cm57ZHVyYXRpb246aS5kdXJhdGlvbix0eXBlOm4sY3VzdG9tVHlwZXM6cixkb3RzOm8sdGlja3M6c319LG0uc2FuaXRpemVEdXJhdGlvbj10PT57Y29uc3QgZT1tLmR1cmF0aW9uQWxpYXNlc1t0XTtpZih2b2lkIDAhPT1lJiYodD1lKSx2b2lkIDA9PT1tLmR1cmF0aW9uVG9UaWNrcy5kdXJhdGlvbnNbdF0pdGhyb3cgbmV3IHMuUkVSUihcIkJhZEFyZ3VtZW50c1wiLGBUaGUgcHJvdmlkZWQgZHVyYXRpb24gaXMgbm90IHZhbGlkOiAke3R9YCk7cmV0dXJuIHR9LG0uZHVyYXRpb25Ub0ZyYWN0aW9uPXQ9PihuZXcgbikucGFyc2UobS5zYW5pdGl6ZUR1cmF0aW9uKHQpKSxtLmR1cmF0aW9uVG9OdW1iZXI9dD0+bS5kdXJhdGlvblRvRnJhY3Rpb24odCkudmFsdWUoKSxtLmR1cmF0aW9uVG9UaWNrcz10PT57dD1tLnNhbml0aXplRHVyYXRpb24odCk7Y29uc3QgZT1tLmR1cmF0aW9uVG9UaWNrcy5kdXJhdGlvbnNbdF07cmV0dXJuIHZvaWQgMD09PWU/bnVsbDplfSxtLmR1cmF0aW9uVG9UaWNrcy5kdXJhdGlvbnM9e1wiMS8yXCI6MiptLlJFU09MVVRJT04sMTptLlJFU09MVVRJT04vMSwyOm0uUkVTT0xVVElPTi8yLDQ6bS5SRVNPTFVUSU9OLzQsODptLlJFU09MVVRJT04vOCwxNjptLlJFU09MVVRJT04vMTYsMzI6bS5SRVNPTFVUSU9OLzMyLDY0Om0uUkVTT0xVVElPTi82NCwxMjg6bS5SRVNPTFVUSU9OLzEyOCwyNTY6bS5SRVNPTFVUSU9OLzI1Nn0sbS5kdXJhdGlvbkFsaWFzZXM9e3c6XCIxXCIsaDpcIjJcIixxOlwiNFwiLGI6XCIyNTZcIn0sbS5nZXRHbHlwaFByb3BzPSh0LGUpPT57dD1tLnNhbml0aXplRHVyYXRpb24odCk7Y29uc3QgaT1tLmdldEdseXBoUHJvcHMuZHVyYXRpb25fY29kZXNbdF07aWYodm9pZCAwPT09aSlyZXR1cm4gbnVsbDtlfHwoZT1cIm5cIik7bGV0IHM9aS50eXBlW2VdO2lmKHZvaWQgMD09PXMpe2NvbnN0IHQ9bS5rZXlQcm9wZXJ0aWVzLmN1c3RvbU5vdGVIZWFkc1tlLnRvVXBwZXJDYXNlKCldO2lmKHZvaWQgMD09PXQpcmV0dXJuIG51bGw7cz17Y29kZV9oZWFkOnQuY29kZSwuLi50fX1yZXR1cm57Li4uaS5jb21tb24sLi4uc319LG0uZ2V0R2x5cGhQcm9wcy52YWxpZFR5cGVzPXtuOntuYW1lOlwibm90ZVwifSxyOntuYW1lOlwicmVzdFwifSxoOntuYW1lOlwiaGFybW9uaWNcIn0sbTp7bmFtZTpcIm11dGVkXCJ9LHM6e25hbWU6XCJzbGFzaFwifX0sbS5nZXRHbHlwaFByb3BzLmR1cmF0aW9uX2NvZGVzPXtcIjEvMlwiOntjb21tb246e2dldFdpZHRoKHQ9bS5ERUZBVUxUX05PVEFUSU9OX0ZPTlRfU0NBTEUpe3JldHVybiBuZXcgZih0aGlzLmNvZGVfaGVhZHx8XCJ2NTNcIix0KS5nZXRNZXRyaWNzKCkud2lkdGh9LHN0ZW06ITEsc3RlbV9vZmZzZXQ6MCxmbGFnOiExLHN0ZW1fdXBfZXh0ZW5zaW9uOi1tLlNURU1fSEVJR0hULHN0ZW1fZG93bl9leHRlbnNpb246LW0uU1RFTV9IRUlHSFQsdGFibm90ZV9zdGVtX3VwX2V4dGVuc2lvbjotbS5TVEVNX0hFSUdIVCx0YWJub3RlX3N0ZW1fZG93bl9leHRlbnNpb246LW0uU1RFTV9IRUlHSFQsZG90X3NoaWZ0WTowLGxpbmVfYWJvdmU6MCxsaW5lX2JlbG93OjB9LHR5cGU6e246e2NvZGVfaGVhZDpcInY1M1wifSxoOntjb2RlX2hlYWQ6XCJ2NTlcIn0sbTp7Y29kZV9oZWFkOlwidmZcIixzdGVtX29mZnNldDowfSxyOntjb2RlX2hlYWQ6XCJ2MzFcIixyZXN0OiEwLHBvc2l0aW9uOlwiQi81XCIsZG90X3NoaWZ0WTouNX0sczp7Z2V0V2lkdGg6KCk9Pm0uU0xBU0hfTk9URUhFQURfV0lEVEgscG9zaXRpb246XCJCLzRcIn19fSwxOntjb21tb246e2dldFdpZHRoKHQ9bS5ERUZBVUxUX05PVEFUSU9OX0ZPTlRfU0NBTEUpe3JldHVybiBuZXcgZih0aGlzLmNvZGVfaGVhZHx8XCJ2MWRcIix0KS5nZXRNZXRyaWNzKCkud2lkdGh9LHN0ZW06ITEsc3RlbV9vZmZzZXQ6MCxmbGFnOiExLHN0ZW1fdXBfZXh0ZW5zaW9uOi1tLlNURU1fSEVJR0hULHN0ZW1fZG93bl9leHRlbnNpb246LW0uU1RFTV9IRUlHSFQsdGFibm90ZV9zdGVtX3VwX2V4dGVuc2lvbjotbS5TVEVNX0hFSUdIVCx0YWJub3RlX3N0ZW1fZG93bl9leHRlbnNpb246LW0uU1RFTV9IRUlHSFQsZG90X3NoaWZ0WTowLGxpbmVfYWJvdmU6MCxsaW5lX2JlbG93OjB9LHR5cGU6e246e2NvZGVfaGVhZDpcInYxZFwifSxoOntjb2RlX2hlYWQ6XCJ2NDZcIn0sbTp7Y29kZV9oZWFkOlwidjkyXCIsc3RlbV9vZmZzZXQ6LTN9LHI6e2NvZGVfaGVhZDpcInY1Y1wiLHJlc3Q6ITAscG9zaXRpb246XCJELzVcIixkb3Rfc2hpZnRZOi41fSxzOntnZXRXaWR0aDooKT0+bS5TTEFTSF9OT1RFSEVBRF9XSURUSCxwb3NpdGlvbjpcIkIvNFwifX19LDI6e2NvbW1vbjp7Z2V0V2lkdGgodD1tLkRFRkFVTFRfTk9UQVRJT05fRk9OVF9TQ0FMRSl7cmV0dXJuIG5ldyBmKHRoaXMuY29kZV9oZWFkfHxcInY4MVwiLHQpLmdldE1ldHJpY3MoKS53aWR0aH0sc3RlbTohMCxzdGVtX29mZnNldDowLGZsYWc6ITEsc3RlbV91cF9leHRlbnNpb246MCxzdGVtX2Rvd25fZXh0ZW5zaW9uOjAsdGFibm90ZV9zdGVtX3VwX2V4dGVuc2lvbjowLHRhYm5vdGVfc3RlbV9kb3duX2V4dGVuc2lvbjowLGRvdF9zaGlmdFk6MCxsaW5lX2Fib3ZlOjAsbGluZV9iZWxvdzowfSx0eXBlOntuOntjb2RlX2hlYWQ6XCJ2ODFcIn0saDp7Y29kZV9oZWFkOlwidjJkXCJ9LG06e2NvZGVfaGVhZDpcInY5NVwiLHN0ZW1fb2Zmc2V0Oi0zfSxyOntjb2RlX2hlYWQ6XCJ2Y1wiLHN0ZW06ITEscmVzdDohMCxwb3NpdGlvbjpcIkIvNFwiLGRvdF9zaGlmdFk6LS41fSxzOntnZXRXaWR0aDooKT0+bS5TTEFTSF9OT1RFSEVBRF9XSURUSCxwb3NpdGlvbjpcIkIvNFwifX19LDQ6e2NvbW1vbjp7Z2V0V2lkdGgodD1tLkRFRkFVTFRfTk9UQVRJT05fRk9OVF9TQ0FMRSl7cmV0dXJuIG5ldyBmKHRoaXMuY29kZV9oZWFkfHxcInZiXCIsdCkuZ2V0TWV0cmljcygpLndpZHRofSxzdGVtOiEwLHN0ZW1fb2Zmc2V0OjAsZmxhZzohMSxzdGVtX3VwX2V4dGVuc2lvbjowLHN0ZW1fZG93bl9leHRlbnNpb246MCx0YWJub3RlX3N0ZW1fdXBfZXh0ZW5zaW9uOjAsdGFibm90ZV9zdGVtX2Rvd25fZXh0ZW5zaW9uOjAsZG90X3NoaWZ0WTowLGxpbmVfYWJvdmU6MCxsaW5lX2JlbG93OjB9LHR5cGU6e246e2NvZGVfaGVhZDpcInZiXCJ9LGg6e2NvZGVfaGVhZDpcInYyMlwifSxtOntjb2RlX2hlYWQ6XCJ2M2VcIixzdGVtX29mZnNldDotM30scjp7Y29kZV9oZWFkOlwidjdjXCIsc3RlbTohMSxyZXN0OiEwLHBvc2l0aW9uOlwiQi80XCIsZG90X3NoaWZ0WTotLjUsbGluZV9hYm92ZToxLjUsbGluZV9iZWxvdzoxLjV9LHM6e2dldFdpZHRoOigpPT5tLlNMQVNIX05PVEVIRUFEX1dJRFRILHBvc2l0aW9uOlwiQi80XCJ9fX0sODp7Y29tbW9uOntnZXRXaWR0aCh0PW0uREVGQVVMVF9OT1RBVElPTl9GT05UX1NDQUxFKXtyZXR1cm4gbmV3IGYodGhpcy5jb2RlX2hlYWR8fFwidmJcIix0KS5nZXRNZXRyaWNzKCkud2lkdGh9LHN0ZW06ITAsc3RlbV9vZmZzZXQ6MCxmbGFnOiEwLGJlYW1fY291bnQ6MSxjb2RlX2ZsYWdfdXBzdGVtOlwidjU0XCIsY29kZV9mbGFnX2Rvd25zdGVtOlwidjlhXCIsc3RlbV91cF9leHRlbnNpb246MCxzdGVtX2Rvd25fZXh0ZW5zaW9uOjAsdGFibm90ZV9zdGVtX3VwX2V4dGVuc2lvbjowLHRhYm5vdGVfc3RlbV9kb3duX2V4dGVuc2lvbjowLGRvdF9zaGlmdFk6MCxsaW5lX2Fib3ZlOjAsbGluZV9iZWxvdzowfSx0eXBlOntuOntjb2RlX2hlYWQ6XCJ2YlwifSxoOntjb2RlX2hlYWQ6XCJ2MjJcIn0sbTp7Y29kZV9oZWFkOlwidjNlXCJ9LHI6e2NvZGVfaGVhZDpcInZhNVwiLHN0ZW06ITEsZmxhZzohMSxyZXN0OiEwLHBvc2l0aW9uOlwiQi80XCIsZG90X3NoaWZ0WTotLjUsbGluZV9hYm92ZToxLGxpbmVfYmVsb3c6MX0sczp7Z2V0V2lkdGg6KCk9Pm0uU0xBU0hfTk9URUhFQURfV0lEVEgscG9zaXRpb246XCJCLzRcIn19fSwxNjp7Y29tbW9uOntiZWFtX2NvdW50OjIsZ2V0V2lkdGgodD1tLkRFRkFVTFRfTk9UQVRJT05fRk9OVF9TQ0FMRSl7cmV0dXJuIG5ldyBmKHRoaXMuY29kZV9oZWFkfHxcInZiXCIsdCkuZ2V0TWV0cmljcygpLndpZHRofSxzdGVtOiEwLHN0ZW1fb2Zmc2V0OjAsZmxhZzohMCxjb2RlX2ZsYWdfdXBzdGVtOlwidjNmXCIsY29kZV9mbGFnX2Rvd25zdGVtOlwidjhmXCIsc3RlbV91cF9leHRlbnNpb246MCxzdGVtX2Rvd25fZXh0ZW5zaW9uOjAsdGFibm90ZV9zdGVtX3VwX2V4dGVuc2lvbjowLHRhYm5vdGVfc3RlbV9kb3duX2V4dGVuc2lvbjowLGRvdF9zaGlmdFk6MCxsaW5lX2Fib3ZlOjAsbGluZV9iZWxvdzowfSx0eXBlOntuOntjb2RlX2hlYWQ6XCJ2YlwifSxoOntjb2RlX2hlYWQ6XCJ2MjJcIn0sbTp7Y29kZV9oZWFkOlwidjNlXCJ9LHI6e2NvZGVfaGVhZDpcInYzY1wiLHN0ZW06ITEsZmxhZzohMSxyZXN0OiEwLHBvc2l0aW9uOlwiQi80XCIsZG90X3NoaWZ0WTotLjUsbGluZV9hYm92ZToxLGxpbmVfYmVsb3c6Mn0sczp7Z2V0V2lkdGg6KCk9Pm0uU0xBU0hfTk9URUhFQURfV0lEVEgscG9zaXRpb246XCJCLzRcIn19fSwzMjp7Y29tbW9uOntiZWFtX2NvdW50OjMsZ2V0V2lkdGgodD1tLkRFRkFVTFRfTk9UQVRJT05fRk9OVF9TQ0FMRSl7cmV0dXJuIG5ldyBmKHRoaXMuY29kZV9oZWFkfHxcInZiXCIsdCkuZ2V0TWV0cmljcygpLndpZHRofSxzdGVtOiEwLHN0ZW1fb2Zmc2V0OjAsZmxhZzohMCxjb2RlX2ZsYWdfdXBzdGVtOlwidjQ3XCIsY29kZV9mbGFnX2Rvd25zdGVtOlwidjJhXCIsc3RlbV91cF9leHRlbnNpb246OSxzdGVtX2Rvd25fZXh0ZW5zaW9uOjksdGFibm90ZV9zdGVtX3VwX2V4dGVuc2lvbjo4LHRhYm5vdGVfc3RlbV9kb3duX2V4dGVuc2lvbjo1LGRvdF9zaGlmdFk6MCxsaW5lX2Fib3ZlOjAsbGluZV9iZWxvdzowfSx0eXBlOntuOntjb2RlX2hlYWQ6XCJ2YlwifSxoOntjb2RlX2hlYWQ6XCJ2MjJcIn0sbTp7Y29kZV9oZWFkOlwidjNlXCJ9LHI6e2NvZGVfaGVhZDpcInY1NVwiLHN0ZW06ITEsZmxhZzohMSxyZXN0OiEwLHBvc2l0aW9uOlwiQi80XCIsZG90X3NoaWZ0WTotMS41LGxpbmVfYWJvdmU6MixsaW5lX2JlbG93OjJ9LHM6e2dldFdpZHRoOigpPT5tLlNMQVNIX05PVEVIRUFEX1dJRFRILHBvc2l0aW9uOlwiQi80XCJ9fX0sNjQ6e2NvbW1vbjp7YmVhbV9jb3VudDo0LGdldFdpZHRoKHQ9bS5ERUZBVUxUX05PVEFUSU9OX0ZPTlRfU0NBTEUpe3JldHVybiBuZXcgZih0aGlzLmNvZGVfaGVhZHx8XCJ2YlwiLHQpLmdldE1ldHJpY3MoKS53aWR0aH0sc3RlbTohMCxzdGVtX29mZnNldDowLGZsYWc6ITAsY29kZV9mbGFnX3Vwc3RlbTpcInZhOVwiLGNvZGVfZmxhZ19kb3duc3RlbTpcInY1OFwiLHN0ZW1fdXBfZXh0ZW5zaW9uOjEzLHN0ZW1fZG93bl9leHRlbnNpb246MTMsdGFibm90ZV9zdGVtX3VwX2V4dGVuc2lvbjoxMix0YWJub3RlX3N0ZW1fZG93bl9leHRlbnNpb246OSxkb3Rfc2hpZnRZOjAsbGluZV9hYm92ZTowLGxpbmVfYmVsb3c6MH0sdHlwZTp7bjp7Y29kZV9oZWFkOlwidmJcIn0saDp7Y29kZV9oZWFkOlwidjIyXCJ9LG06e2NvZGVfaGVhZDpcInYzZVwifSxyOntjb2RlX2hlYWQ6XCJ2MzhcIixzdGVtOiExLGZsYWc6ITEscmVzdDohMCxwb3NpdGlvbjpcIkIvNFwiLGRvdF9zaGlmdFk6LTEuNSxsaW5lX2Fib3ZlOjIsbGluZV9iZWxvdzozfSxzOntnZXRXaWR0aDooKT0+bS5TTEFTSF9OT1RFSEVBRF9XSURUSCxwb3NpdGlvbjpcIkIvNFwifX19LDEyODp7Y29tbW9uOntiZWFtX2NvdW50OjUsZ2V0V2lkdGgodD1tLkRFRkFVTFRfTk9UQVRJT05fRk9OVF9TQ0FMRSl7cmV0dXJuIG5ldyBmKHRoaXMuY29kZV9oZWFkfHxcInZiXCIsdCkuZ2V0TWV0cmljcygpLndpZHRofSxzdGVtOiEwLHN0ZW1fb2Zmc2V0OjAsZmxhZzohMCxjb2RlX2ZsYWdfdXBzdGVtOlwidjliXCIsY29kZV9mbGFnX2Rvd25zdGVtOlwidjMwXCIsc3RlbV91cF9leHRlbnNpb246MjIsc3RlbV9kb3duX2V4dGVuc2lvbjoyMix0YWJub3RlX3N0ZW1fdXBfZXh0ZW5zaW9uOjIxLHRhYm5vdGVfc3RlbV9kb3duX2V4dGVuc2lvbjoxOCxkb3Rfc2hpZnRZOjAsbGluZV9hYm92ZTowLGxpbmVfYmVsb3c6MH0sdHlwZTp7bjp7Y29kZV9oZWFkOlwidmJcIn0saDp7Y29kZV9oZWFkOlwidjIyXCJ9LG06e2NvZGVfaGVhZDpcInYzZVwifSxyOntjb2RlX2hlYWQ6XCJ2YWFcIixzdGVtOiExLGZsYWc6ITEscmVzdDohMCxwb3NpdGlvbjpcIkIvNFwiLGRvdF9zaGlmdFk6MS41LGxpbmVfYWJvdmU6MyxsaW5lX2JlbG93OjN9LHM6e2dldFdpZHRoOigpPT5tLlNMQVNIX05PVEVIRUFEX1dJRFRILHBvc2l0aW9uOlwiQi80XCJ9fX19LG0uc211Zmw9e30sbS5zbXVmbC50b19jb2RlX3BvaW50cz17YnJhY2tldFRvcDpcInYxYlwiLGJyYWNrZXRCb3R0b206XCJ2MTBcIixiYXJsaW5lVGljazpcInY2ZlwiLHNlZ25vOlwidjhjXCIsY29kYTpcInY0ZFwiLGdDbGVmOlwidjgzXCIsY0NsZWY6XCJ2YWRcIixmQ2xlZjpcInY3OVwiLHVucGl0Y2hlZFBlcmN1c3Npb25DbGVmMTpcInY1OVwiLFwiNnN0cmluZ1RhYkNsZWZcIjpcInYyZlwiLHRpbWVTaWcwOlwidjBcIix0aW1lU2lnMTpcInYxXCIsdGltZVNpZzI6XCJ2MlwiLHRpbWVTaWczOlwidjNcIix0aW1lU2lnNDpcInY0XCIsdGltZVNpZzU6XCJ2NVwiLHRpbWVTaWc2OlwidjZcIix0aW1lU2lnNzpcInY3XCIsdGltZVNpZzg6XCJ2OFwiLHRpbWVTaWc5OlwidjlcIix0aW1lU2lnQ29tbW9uOlwidjQxXCIsdGltZVNpZ0N1dENvbW1vbjpcInZiNlwiLG5vdGVoZWFkRG91YmxlV2hvbGU6XCJ2NTNcIixub3RlaGVhZFdob2xlOlwidjFkXCIsbm90ZWhlYWRIYWxmOlwidjgxXCIsbm90ZWhlYWRCbGFjazpcInZiXCIsbm90ZWhlYWRYV2hvbGU6XCJ2OTJcIixub3RlaGVhZFhIYWxmOlwidjk1XCIsbm90ZWhlYWRYQmxhY2s6XCJ2M2VcIixub3RlaGVhZENpcmNsZVg6XCJ2M2JcIixub3RlaGVhZFRyaWFuZ2xlVXBXaG9sZTpcInY0OVwiLG5vdGVoZWFkVHJpYW5nbGVVcEhhbGY6XCJ2OTNcIixub3RlaGVhZFRyaWFuZ2xlVXBCbGFjazpcInY0MFwiLG5vdGVoZWFkRGlhbW9uZFdob2xlOlwidjQ2XCIsbm90ZWhlYWREaWFtb25kSGFsZjpcInYyZFwiLG5vdGVoZWFkRGlhbW9uZEJsYWNrOlwidjIyXCIsYXVnbWVudGF0aW9uRG90OlwidjIzXCIsdHJlbW9sbzE6XCJ2NzRcIixmbGFnOHRoVXA6XCJ2NTRcIixmbGFnOHRoRG93bjpcInY5YVwiLGZsYWcxNnRoVXA6XCJ2M2ZcIixmbGFnMTZ0aERvd246XCJ2OGZcIixmbGFnMzJuZFVwOlwidjQ3XCIsZmxhZzMybmREb3duOlwidjJhXCIsZmxhZzY0dGhVcDpcInZhOVwiLGZsYWc2NHRoRG93bjpcInY1OFwiLGZsYWcxMjh0aFVwOlwidjliXCIsZmxhZzEyOHRoRG93bjpcInYzMFwiLGFjY2lkZW50YWxGbGF0OlwidjQ0XCIsYWNjaWRlbnRhbE5hdHVyYWw6XCJ2NGVcIixhY2NpZGVudGFsU2hhcnA6XCJ2MThcIixhY2NpZGVudGFsRG91YmxlU2hhcnA6XCJ2N2ZcIixhY2NpZGVudGFsRG91YmxlRmxhdDpcInYyNlwiLGFjY2lkZW50YWxQYXJlbnNMZWZ0OlwidjljXCIsYWNjaWRlbnRhbFBhcmVuc1JpZ2h0Olwidjg0XCIsYWNjaWRlbnRhbFF1YXJ0ZXJUb25lRmxhdFN0ZWluOlwidmFiXCIsYWNjaWRlbnRhbFRocmVlUXVhcnRlclRvbmVzRmxhdFppbW1lcm1hbm46XCJ2OWVcIixhY2NpZGVudGFsUXVhcnRlclRvbmVTaGFycFN0ZWluOlwidjc4XCIsYWNjaWRlbnRhbFRocmVlUXVhcnRlclRvbmVzU2hhcnBTdGVpbjpcInY1MVwiLGFjY2lkZW50YWxCdXl1a011Y2VubmViRmxhdDpcInYzOVwiLGFjY2lkZW50YWxCYWtpeWVGbGF0OlwidmI3XCIsYWNjaWRlbnRhbEtvbWFTaGFycDpcInY1MVwiLGFjY2lkZW50YWxLdWN1a011Y2VubmViU2hhcnA6XCJ2OGRcIixhY2NpZGVudGFsS29yb246XCJ2ZDFcIixhY2NpZGVudGFsU29yaTpcInZkMFwiLGFydGljQWNjZW50QWJvdmU6XCJ2NDJcIixhcnRpY0FjY2VudEJlbG93OlwidjQyXCIsYXJ0aWNUZW51dG9BYm92ZTpcInYyNVwiLGFydGljVGVudXRvQmVsb3c6XCJ2MjVcIixhcnRpY1N0YWNjYXRvQWJvdmU6XCJ2MjNcIixhcnRpY1N0YWNjYXRvQmVsb3c6XCJ2MjNcIixhcnRpY1N0YWNjYXRpc3NpbW9BYm92ZTpcInYyOFwiLGFydGljTWFyY2F0b0Fib3ZlOlwidmFcIixmZXJtYXRhQWJvdmU6XCJ2NDNcIixmZXJtYXRhQmVsb3c6XCJ2NWJcIixicmVhdGhNYXJrQ29tbWE6XCJ2NmNcIixicmVhdGhNYXJrVXBib3c6XCJ2OGFcIixjYWVzdXJhOlwidjM0XCIsY2Flc3VyYUN1cnZlZDpcInY0YlwiLHJlc3RNYXhpbWE6XCJ2NTlcIixyZXN0RG91YmxlV2hvbGU6XCJ2MzFcIixyZXN0V2hvbGU6XCJ2NWNcIixyZXN0SGFsZjpcInZjXCIscmVzdFF1YXJ0ZXI6XCJ2N2NcIixyZXN0OHRoOlwidmE1XCIscmVzdDE2dGg6XCJ2M2NcIixyZXN0MzJuZDpcInY1NVwiLHJlc3Q2NHRoOlwidjM4XCIscmVzdDEyOHRoOlwidmFhXCIsZHluYW1pY1BpYW5vOlwidmJmXCIsZHluYW1pY01lenpvOlwidjYyXCIsZHluYW1pY0ZvcnRlOlwidmJhXCIsZHluYW1pY1JpbmZvcnphbmRvOlwidmJhXCIsZHluYW1pY1Nmb3J6YW5kbzpcInY0YVwiLGR5bmFtaWNaOlwidjgwXCIsb3JuYW1lbnRUcmlsbDpcInYxZlwiLG9ybmFtZW50VHVybjpcInY3MlwiLG9ybmFtZW50VHVyblNsYXNoOlwidjMzXCIsb3JuYW1lbnRNb3JkZW50OlwidjQ1XCIsb3JuYW1lbnRNb3JkZW50SW52ZXJ0ZWQ6XCJ2MWVcIixvcm5hbWVudFRyZW1ibGVtZW50Olwidjg2XCIsb3JuYW1lbnRQcmVjb21wQXBwb2dnVHJpbGw6XCJ2MjBcIixvcm5hbWVudFByZWNvbXBTbGlkZVRyaWxsREFuZ2xlYmVydDpcInY2MFwiLG9ybmFtZW50UHJlY29tcFNsaWRlVHJpbGxCYWNoOlwidjI5XCIsb3JuYW1lbnRQcmVjb21wVHJpbGxTdWZmaXhEYW5kcmlldTpcInY2ZFwiLG9ybmFtZW50UHJlY29tcERvdWJsZUNhZGVuY2VVcHBlclByZWZpeDpcInZiNFwiLG9ybmFtZW50UHJlY29tcERvdWJsZUNhZGVuY2VVcHBlclByZWZpeFR1cm46XCJ2NjhcIixvcm5hbWVudFByZWNvbXBUcmlsbExvd2VyU3VmZml4OlwidjJjXCIsc3RyaW5nc0Rvd25Cb3c6XCJ2OTRcIixzdHJpbmdzVXBCb3c6XCJ2NzVcIixzdHJpbmdzSGFybW9uaWM6XCJ2YjlcIixwbHVja2VkU25hcFBpenppY2F0b0Fib3ZlOlwidjk0XCIscGx1Y2tlZExlZnRIYW5kUGl6emljYXRvOlwidjhiXCIsa2V5Ym9hcmRQZWRhbFBlZDpcInYzNlwiLGtleWJvYXJkUGVkYWxVcDpcInY1ZFwiLHBpY3RDaG9rZUN5bWJhbDpcInZiM1wiLHdpZ2dsZUFycGVnZ2lhdG9VcDpcInZhM1wiLGFycm93aGVhZEJsYWNrVXA6XCJ2YzNcIixhcnJvd2hlYWRCbGFja0Rvd246XCJ2NTJcIn0sbS5USU1FNF80PXtudW1fYmVhdHM6NCxiZWF0X3ZhbHVlOjQscmVzb2x1dGlvbjptLlJFU09MVVRJT059O2NsYXNzIHB7c3RhdGljIGdldCBXSURUSCgpe3JldHVybiA2MDB9c3RhdGljIGdldCBIRUlHSFQoKXtyZXR1cm4gNDAwfXN0YXRpYyBnZXQgQ0FOVkFTX0JST1dTRVJfU0laRV9MSU1JVCgpe3JldHVybiAzMjc2N31zdGF0aWMgU2FuaXRpemVDYW52YXNEaW1zKHQsZSl7cmV0dXJuIE1hdGgubWF4KHQsZSk+dGhpcy5DQU5WQVNfQlJPV1NFUl9TSVpFX0xJTUlUJiYocy5XKFwiQ2FudmFzIGRpbWVuc2lvbnMgZXhjZWVkIGJyb3dzZXIgbGltaXQuIENyb3BwaW5nIHRvIFwiK3RoaXMuQ0FOVkFTX0JST1dTRVJfU0laRV9MSU1JVCksdD50aGlzLkNBTlZBU19CUk9XU0VSX1NJWkVfTElNSVQmJih0PXRoaXMuQ0FOVkFTX0JST1dTRVJfU0laRV9MSU1JVCksZT50aGlzLkNBTlZBU19CUk9XU0VSX1NJWkVfTElNSVQmJihlPXRoaXMuQ0FOVkFTX0JST1dTRVJfU0laRV9MSU1JVCkpLFt0LGVdfWNvbnN0cnVjdG9yKHQpe3RoaXMudmV4Rmxvd0NhbnZhc0NvbnRleHQ9dCx0LmNhbnZhcz90aGlzLmNhbnZhcz10LmNhbnZhczp0aGlzLmNhbnZhcz17d2lkdGg6cC5XSURUSCxoZWlnaHQ6cC5IRUlHSFR9fWNsZWFyKCl7dGhpcy52ZXhGbG93Q2FudmFzQ29udGV4dC5jbGVhclJlY3QoMCwwLHRoaXMuY2FudmFzLndpZHRoLHRoaXMuY2FudmFzLmhlaWdodCl9b3Blbkdyb3VwKCl7fWNsb3NlR3JvdXAoKXt9YWRkKCl7fXNldEZvbnQodCxlLGkpe3JldHVybiB0aGlzLnZleEZsb3dDYW52YXNDb250ZXh0LmZvbnQ9KGl8fFwiXCIpK1wiIFwiK2UrXCJwdCBcIit0LHRoaXN9c2V0UmF3Rm9udCh0KXtyZXR1cm4gdGhpcy52ZXhGbG93Q2FudmFzQ29udGV4dC5mb250PXQsdGhpc31zZXRGaWxsU3R5bGUodCl7cmV0dXJuIHRoaXMudmV4Rmxvd0NhbnZhc0NvbnRleHQuZmlsbFN0eWxlPXQsdGhpc31zZXRCYWNrZ3JvdW5kRmlsbFN0eWxlKHQpe3JldHVybiB0aGlzLmJhY2tncm91bmRfZmlsbFN0eWxlPXQsdGhpc31zZXRTdHJva2VTdHlsZSh0KXtyZXR1cm4gdGhpcy52ZXhGbG93Q2FudmFzQ29udGV4dC5zdHJva2VTdHlsZT10LHRoaXN9c2V0U2hhZG93Q29sb3IodCl7cmV0dXJuIHRoaXMudmV4Rmxvd0NhbnZhc0NvbnRleHQuc2hhZG93Q29sb3I9dCx0aGlzfXNldFNoYWRvd0JsdXIodCl7cmV0dXJuIHRoaXMudmV4Rmxvd0NhbnZhc0NvbnRleHQuc2hhZG93Qmx1cj10LHRoaXN9c2V0TGluZVdpZHRoKHQpe3JldHVybiB0aGlzLnZleEZsb3dDYW52YXNDb250ZXh0LmxpbmVXaWR0aD10LHRoaXN9c2V0TGluZUNhcCh0KXtyZXR1cm4gdGhpcy52ZXhGbG93Q2FudmFzQ29udGV4dC5saW5lQ2FwPXQsdGhpc31zZXRMaW5lRGFzaCh0KXtyZXR1cm4gdGhpcy52ZXhGbG93Q2FudmFzQ29udGV4dC5saW5lRGFzaD10LHRoaXN9c2NhbGUodCxlKXtyZXR1cm4gdGhpcy52ZXhGbG93Q2FudmFzQ29udGV4dC5zY2FsZShwYXJzZUZsb2F0KHQpLHBhcnNlRmxvYXQoZSkpfXJlc2l6ZSh0LGUpe3JldHVyblt0LGVdPXRoaXMuU2FuaXRpemVDYW52YXNEaW1zKHBhcnNlSW50KHQsMTApLHBhcnNlSW50KGUsMTApKSx0aGlzLnZleEZsb3dDYW52YXNDb250ZXh0LnJlc2l6ZSh0LGUpfXJlY3QodCxlLGkscyl7cmV0dXJuIHRoaXMudmV4Rmxvd0NhbnZhc0NvbnRleHQucmVjdCh0LGUsaSxzKX1maWxsUmVjdCh0LGUsaSxzKXtyZXR1cm4gdGhpcy52ZXhGbG93Q2FudmFzQ29udGV4dC5maWxsUmVjdCh0LGUsaSxzKX1jbGVhclJlY3QodCxlLGkscyl7cmV0dXJuIHRoaXMudmV4Rmxvd0NhbnZhc0NvbnRleHQuY2xlYXJSZWN0KHQsZSxpLHMpfWJlZ2luUGF0aCgpe3JldHVybiB0aGlzLnZleEZsb3dDYW52YXNDb250ZXh0LmJlZ2luUGF0aCgpfW1vdmVUbyh0LGUpe3JldHVybiB0aGlzLnZleEZsb3dDYW52YXNDb250ZXh0Lm1vdmVUbyh0LGUpfWxpbmVUbyh0LGUpe3JldHVybiB0aGlzLnZleEZsb3dDYW52YXNDb250ZXh0LmxpbmVUbyh0LGUpfWJlemllckN1cnZlVG8odCxlLGkscyxuLHIpe3JldHVybiB0aGlzLnZleEZsb3dDYW52YXNDb250ZXh0LmJlemllckN1cnZlVG8odCxlLGkscyxuLHIpfXF1YWRyYXRpY0N1cnZlVG8odCxlLGkscyl7cmV0dXJuIHRoaXMudmV4Rmxvd0NhbnZhc0NvbnRleHQucXVhZHJhdGljQ3VydmVUbyh0LGUsaSxzKX1hcmModCxlLGkscyxuLHIpe3JldHVybiB0aGlzLnZleEZsb3dDYW52YXNDb250ZXh0LmFyYyh0LGUsaSxzLG4scil9Z2xvdygpe3JldHVybiB0aGlzLnZleEZsb3dDYW52YXNDb250ZXh0Lmdsb3coKX1maWxsKCl7cmV0dXJuIHRoaXMudmV4Rmxvd0NhbnZhc0NvbnRleHQuZmlsbCgpfXN0cm9rZSgpe3JldHVybiB0aGlzLnZleEZsb3dDYW52YXNDb250ZXh0LnN0cm9rZSgpfWNsb3NlUGF0aCgpe3JldHVybiB0aGlzLnZleEZsb3dDYW52YXNDb250ZXh0LmNsb3NlUGF0aCgpfW1lYXN1cmVUZXh0KHQpe3JldHVybiB0aGlzLnZleEZsb3dDYW52YXNDb250ZXh0Lm1lYXN1cmVUZXh0KHQpfWZpbGxUZXh0KHQsZSxpKXtyZXR1cm4gdGhpcy52ZXhGbG93Q2FudmFzQ29udGV4dC5maWxsVGV4dCh0LGUsaSl9c2F2ZSgpe3JldHVybiB0aGlzLnZleEZsb3dDYW52YXNDb250ZXh0LnNhdmUoKX1yZXN0b3JlKCl7cmV0dXJuIHRoaXMudmV4Rmxvd0NhbnZhc0NvbnRleHQucmVzdG9yZSgpfX1jbGFzcyBne2NvbnN0cnVjdG9yKHQpe3RoaXMuZWxlbWVudD10LHRoaXMucGFwZXI9UmFwaGFlbCh0KSx0aGlzLnBhdGg9XCJcIix0aGlzLnBlbj17eDowLHk6MH0sdGhpcy5saW5lV2lkdGg9MSx0aGlzLnN0YXRlPXtzY2FsZTp7eDoxLHk6MX0sZm9udF9mYW1pbHk6XCJBcmlhbFwiLGZvbnRfc2l6ZTo4LGZvbnRfd2VpZ2h0OjgwMH0sdGhpcy5hdHRyaWJ1dGVzPXtcInN0cm9rZS13aWR0aFwiOi4zLGZpbGw6XCJibGFja1wiLHN0cm9rZTpcImJsYWNrXCIsZm9udDpcIjEwcHQgQXJpYWxcIn0sdGhpcy5iYWNrZ3JvdW5kX2F0dHJpYnV0ZXM9e1wic3Ryb2tlLXdpZHRoXCI6MCxmaWxsOlwid2hpdGVcIixzdHJva2U6XCJ3aGl0ZVwiLGZvbnQ6XCIxMHB0IEFyaWFsXCJ9LHRoaXMuc2hhZG93X2F0dHJpYnV0ZXM9e3dpZHRoOjAsY29sb3I6XCJibGFja1wifSx0aGlzLnN0YXRlX3N0YWNrPVtdfW9wZW5Hcm91cCgpe31jbG9zZUdyb3VwKCl7fWFkZCgpe31zZXRGb250KHQsZSxpKXtyZXR1cm4gdGhpcy5zdGF0ZS5mb250X2ZhbWlseT10LHRoaXMuc3RhdGUuZm9udF9zaXplPWUsdGhpcy5zdGF0ZS5mb250X3dlaWdodD1pLHRoaXMuYXR0cmlidXRlcy5mb250PSh0aGlzLnN0YXRlLmZvbnRfd2VpZ2h0fHxcIlwiKStcIiBcIit0aGlzLnN0YXRlLmZvbnRfc2l6ZSp0aGlzLnN0YXRlLnNjYWxlLngrXCJwdCBcIit0aGlzLnN0YXRlLmZvbnRfZmFtaWx5LHRoaXN9c2V0UmF3Rm9udCh0KXtyZXR1cm4gdGhpcy5hdHRyaWJ1dGVzLmZvbnQ9dCx0aGlzfXNldEZpbGxTdHlsZSh0KXtyZXR1cm4gdGhpcy5hdHRyaWJ1dGVzLmZpbGw9dCx0aGlzfXNldEJhY2tncm91bmRGaWxsU3R5bGUodCl7cmV0dXJuIHRoaXMuYmFja2dyb3VuZF9hdHRyaWJ1dGVzLmZpbGw9dCx0aGlzLmJhY2tncm91bmRfYXR0cmlidXRlcy5zdHJva2U9dCx0aGlzfXNldFN0cm9rZVN0eWxlKHQpe3JldHVybiB0aGlzLmF0dHJpYnV0ZXMuc3Ryb2tlPXQsdGhpc31zZXRTaGFkb3dDb2xvcih0KXtyZXR1cm4gdGhpcy5zaGFkb3dfYXR0cmlidXRlcy5jb2xvcj10LHRoaXN9c2V0U2hhZG93Qmx1cih0KXtyZXR1cm4gdGhpcy5zaGFkb3dfYXR0cmlidXRlcy53aWR0aD10LHRoaXN9c2V0TGluZVdpZHRoKHQpe3RoaXMuYXR0cmlidXRlc1tcInN0cm9rZS13aWR0aFwiXT10LHRoaXMubGluZVdpZHRoPXR9c2V0TGluZURhc2goKXtyZXR1cm4gdGhpc31zZXRMaW5lQ2FwKCl7cmV0dXJuIHRoaXN9c2NhbGUodCxlKXtyZXR1cm4gdGhpcy5zdGF0ZS5zY2FsZT17eDp0LHk6ZX0sdGhpcy5hdHRyaWJ1dGVzLnRyYW5zZm9ybT1cIlNcIit0K1wiLFwiK2UrXCIsMCwwXCIsdGhpcy5hdHRyaWJ1dGVzLnNjYWxlPXQrXCIsXCIrZStcIiwwLDBcIix0aGlzLmF0dHJpYnV0ZXMuZm9udD10aGlzLnN0YXRlLmZvbnRfc2l6ZSp0aGlzLnN0YXRlLnNjYWxlLngrXCJwdCBcIit0aGlzLnN0YXRlLmZvbnRfZmFtaWx5LHRoaXMuYmFja2dyb3VuZF9hdHRyaWJ1dGVzLnRyYW5zZm9ybT1cIlNcIit0K1wiLFwiK2UrXCIsMCwwXCIsdGhpcy5iYWNrZ3JvdW5kX2F0dHJpYnV0ZXMuZm9udD10aGlzLnN0YXRlLmZvbnRfc2l6ZSp0aGlzLnN0YXRlLnNjYWxlLngrXCJwdCBcIit0aGlzLnN0YXRlLmZvbnRfZmFtaWx5LHRoaXN9Y2xlYXIoKXt0aGlzLnBhcGVyLmNsZWFyKCl9cmVzaXplKHQsZSl7cmV0dXJuIHRoaXMuZWxlbWVudC5zdHlsZS53aWR0aD10LHRoaXMucGFwZXIuc2V0U2l6ZSh0LGUpLHRoaXN9c2V0Vmlld0JveCh0KXt0aGlzLnBhcGVyLmNhbnZhcy5zZXRBdHRyaWJ1dGUoXCJ2aWV3Qm94XCIsdCl9cmVjdCh0LGUsaSxzKXtyZXR1cm4gczwwJiYoZSs9cyxzPS1zKSx0aGlzLnBhcGVyLnJlY3QodCxlLGktLjUscy0uNSkuYXR0cih0aGlzLmF0dHJpYnV0ZXMpLmF0dHIoXCJmaWxsXCIsXCJub25lXCIpLmF0dHIoXCJzdHJva2Utd2lkdGhcIix0aGlzLmxpbmVXaWR0aCksdGhpc31maWxsUmVjdCh0LGUsaSxzKXtyZXR1cm4gczwwJiYoZSs9cyxzPS1zKSx0aGlzLnBhcGVyLnJlY3QodCxlLGktLjUscy0uNSkuYXR0cih0aGlzLmF0dHJpYnV0ZXMpLHRoaXN9Y2xlYXJSZWN0KHQsZSxpLHMpe3JldHVybiBzPDAmJihlKz1zLHM9LXMpLHRoaXMucGFwZXIucmVjdCh0LGUsaS0uNSxzLS41KS5hdHRyKHRoaXMuYmFja2dyb3VuZF9hdHRyaWJ1dGVzKSx0aGlzfWJlZ2luUGF0aCgpe3JldHVybiB0aGlzLnBhdGg9XCJcIix0aGlzLnBlbi54PTAsdGhpcy5wZW4ueT0wLHRoaXN9bW92ZVRvKHQsZSl7cmV0dXJuIHRoaXMucGF0aCs9XCJNXCIrdCtcIixcIitlLHRoaXMucGVuLng9dCx0aGlzLnBlbi55PWUsdGhpc31saW5lVG8odCxlKXtyZXR1cm4gdGhpcy5wYXRoKz1cIkxcIit0K1wiLFwiK2UsdGhpcy5wZW4ueD10LHRoaXMucGVuLnk9ZSx0aGlzfWJlemllckN1cnZlVG8odCxlLGkscyxuLHIpe3JldHVybiB0aGlzLnBhdGgrPVwiQ1wiK3QrXCIsXCIrZStcIixcIitpK1wiLFwiK3MrXCIsXCIrbitcIixcIityLHRoaXMucGVuLng9bix0aGlzLnBlbi55PXIsdGhpc31xdWFkcmF0aWNDdXJ2ZVRvKHQsZSxpLHMpe3JldHVybiB0aGlzLnBhdGgrPVwiUVwiK3QrXCIsXCIrZStcIixcIitpK1wiLFwiK3MsdGhpcy5wZW4ueD1pLHRoaXMucGVuLnk9cyx0aGlzfWFyYyh0LGUsaSxzLG4scil7ZnVuY3Rpb24gbyh0KXtmb3IoO3Q8MDspdCs9MipNYXRoLlBJO2Zvcig7dD4yKk1hdGguUEk7KXQtPTIqTWF0aC5QSTtyZXR1cm4gdH1pZigocz1vKHMpKT4obj1vKG4pKSl7Y29uc3QgdD1zO3M9bixuPXQscj0hcn1jb25zdCBhPW4tcztyZXR1cm4gYT5NYXRoLlBJPyh0aGlzLmFyY0hlbHBlcih0LGUsaSxzLHMrYS8yLHIpLHRoaXMuYXJjSGVscGVyKHQsZSxpLHMrYS8yLG4scikpOnRoaXMuYXJjSGVscGVyKHQsZSxpLHMsbixyKSx0aGlzfWFyY0hlbHBlcih0LGUsaSxzLG4scil7Y29uc3Qgbz10K2kqTWF0aC5jb3MocyksYT1lK2kqTWF0aC5zaW4ocyksaD10K2kqTWF0aC5jb3MobiksbD1lK2kqTWF0aC5zaW4obik7bGV0IGM9MCx1PTA7cj8odT0xLG4tczxNYXRoLlBJJiYoYz0xKSk6bi1zPk1hdGguUEkmJihjPTEpLHRoaXMucGF0aCs9XCJNXCIrbytcIixcIithK1wiLEFcIitpK1wiLFwiK2krXCIsMCxcIitjK1wiLFwiK3UrXCIsXCIraCtcIixcIitsK1wiTVwiK3RoaXMucGVuLngrXCIsXCIrdGhpcy5wZW4ueX1nbG93KCl7Y29uc3QgdD10aGlzLnBhcGVyLnNldCgpO2lmKHRoaXMuc2hhZG93X2F0dHJpYnV0ZXMud2lkdGg+MCl7Y29uc3QgZT10aGlzLnNoYWRvd19hdHRyaWJ1dGVzLGk9ZS53aWR0aC8yO2ZvcihsZXQgcz0xO3M8PWk7cysrKXQucHVzaCh0aGlzLnBhcGVyLnBhdGgodGhpcy5wYXRoKS5hdHRyKHtzdHJva2U6ZS5jb2xvcixcInN0cm9rZS1saW5lam9pblwiOlwicm91bmRcIixcInN0cm9rZS1saW5lY2FwXCI6XCJyb3VuZFwiLFwic3Ryb2tlLXdpZHRoXCI6KyhlLndpZHRoL2kqcykudG9GaXhlZCgzKSxvcGFjaXR5OisoKGUub3BhY2l0eXx8LjMpL2kpLnRvRml4ZWQoMyksdHJhbnNmb3JtOnRoaXMuYXR0cmlidXRlcy50cmFuc2Zvcm0sc2NhbGU6dGhpcy5hdHRyaWJ1dGVzLnNjYWxlfSkpfXJldHVybiB0fWZpbGwoKXtjb25zdCB0PXRoaXMucGFwZXIucGF0aCh0aGlzLnBhdGgpLmF0dHIodGhpcy5hdHRyaWJ1dGVzKS5hdHRyKFwic3Ryb2tlLXdpZHRoXCIsMCk7cmV0dXJuIHRoaXMuZ2xvdyh0KSx0aGlzfXN0cm9rZSgpe2NvbnN0IHQ9dGhpcy5saW5lV2lkdGgqKHRoaXMuc3RhdGUuc2NhbGUueCt0aGlzLnN0YXRlLnNjYWxlLnkpLzIsZT10aGlzLnBhcGVyLnBhdGgodGhpcy5wYXRoKS5hdHRyKHRoaXMuYXR0cmlidXRlcykuYXR0cihcImZpbGxcIixcIm5vbmVcIikuYXR0cihcInN0cm9rZS13aWR0aFwiLHQpO3JldHVybiB0aGlzLmdsb3coZSksdGhpc31jbG9zZVBhdGgoKXtyZXR1cm4gdGhpcy5wYXRoKz1cIlpcIix0aGlzfW1lYXN1cmVUZXh0KHQpe2NvbnN0IGU9dGhpcy5wYXBlci50ZXh0KDAsMCx0KS5hdHRyKHRoaXMuYXR0cmlidXRlcykuYXR0cihcImZpbGxcIixcIm5vbmVcIikuYXR0cihcInN0cm9rZVwiLFwibm9uZVwiKSxpPWUuZ2V0QkJveCgpO3JldHVybiBlLnJlbW92ZSgpLHt3aWR0aDppLndpZHRoLGhlaWdodDppLmhlaWdodH19ZmlsbFRleHQodCxlLGkpe3JldHVybiB0aGlzLnBhcGVyLnRleHQoZSt0aGlzLm1lYXN1cmVUZXh0KHQpLndpZHRoLzIsaS10aGlzLnN0YXRlLmZvbnRfc2l6ZS8oMi4yNSp0aGlzLnN0YXRlLnNjYWxlLnkpLHQpLmF0dHIodGhpcy5hdHRyaWJ1dGVzKSx0aGlzfXNhdmUoKXtyZXR1cm4gdGhpcy5zdGF0ZV9zdGFjay5wdXNoKHtzdGF0ZTp7Zm9udF9mYW1pbHk6dGhpcy5zdGF0ZS5mb250X2ZhbWlseX0sYXR0cmlidXRlczp7Zm9udDp0aGlzLmF0dHJpYnV0ZXMuZm9udCxmaWxsOnRoaXMuYXR0cmlidXRlcy5maWxsLHN0cm9rZTp0aGlzLmF0dHJpYnV0ZXMuc3Ryb2tlLFwic3Ryb2tlLXdpZHRoXCI6dGhpcy5hdHRyaWJ1dGVzW1wic3Ryb2tlLXdpZHRoXCJdfSxzaGFkb3dfYXR0cmlidXRlczp7d2lkdGg6dGhpcy5zaGFkb3dfYXR0cmlidXRlcy53aWR0aCxjb2xvcjp0aGlzLnNoYWRvd19hdHRyaWJ1dGVzLmNvbG9yfX0pLHRoaXN9cmVzdG9yZSgpe2NvbnN0IHQ9dGhpcy5zdGF0ZV9zdGFjay5wb3AoKTtyZXR1cm4gdGhpcy5zdGF0ZS5mb250X2ZhbWlseT10LnN0YXRlLmZvbnRfZmFtaWx5LHRoaXMuYXR0cmlidXRlcy5mb250PXQuYXR0cmlidXRlcy5mb250LHRoaXMuYXR0cmlidXRlcy5maWxsPXQuYXR0cmlidXRlcy5maWxsLHRoaXMuYXR0cmlidXRlcy5zdHJva2U9dC5hdHRyaWJ1dGVzLnN0cm9rZSx0aGlzLmF0dHJpYnV0ZXNbXCJzdHJva2Utd2lkdGhcIl09dC5hdHRyaWJ1dGVzW1wic3Ryb2tlLXdpZHRoXCJdLHRoaXMuc2hhZG93X2F0dHJpYnV0ZXMud2lkdGg9dC5zaGFkb3dfYXR0cmlidXRlcy53aWR0aCx0aGlzLnNoYWRvd19hdHRyaWJ1dGVzLmNvbG9yPXQuc2hhZG93X2F0dHJpYnV0ZXMuY29sb3IsdGhpc319Y29uc3QgYj17cGF0aDp7eDohMCx5OiEwLHdpZHRoOiEwLGhlaWdodDohMH0scmVjdDp7fSx0ZXh0Ont3aWR0aDohMCxoZWlnaHQ6ITB9fTt7Y29uc3QgdD17XCJmb250LWZhbWlseVwiOiEwLFwiZm9udC13ZWlnaHRcIjohMCxcImZvbnQtc3R5bGVcIjohMCxcImZvbnQtc2l6ZVwiOiEwfTtzLk1lcmdlKGIucmVjdCx0KSxzLk1lcmdlKGIucGF0aCx0KX1jbGFzcyBTe2NvbnN0cnVjdG9yKHQpe3RoaXMuZWxlbWVudD10LHRoaXMuc3ZnTlM9XCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Z1wiO2NvbnN0IGU9dGhpcy5jcmVhdGUoXCJzdmdcIik7dGhpcy5lbGVtZW50LmFwcGVuZENoaWxkKGUpLHRoaXMuc3ZnPWUsdGhpcy5ncm91cHM9W3RoaXMuc3ZnXSx0aGlzLnBhcmVudD10aGlzLnN2Zyx0aGlzLnBhdGg9XCJcIix0aGlzLnBlbj17eDpOYU4seTpOYU59LHRoaXMubGluZVdpZHRoPTEsdGhpcy5zdGF0ZT17c2NhbGU6e3g6MSx5OjF9LFwiZm9udC1mYW1pbHlcIjpcIkFyaWFsXCIsXCJmb250LXNpemVcIjpcIjhwdFwiLFwiZm9udC13ZWlnaHRcIjpcIm5vcm1hbFwifSx0aGlzLmF0dHJpYnV0ZXM9e1wic3Ryb2tlLXdpZHRoXCI6LjMsZmlsbDpcImJsYWNrXCIsc3Ryb2tlOlwiYmxhY2tcIixcInN0cm9rZS1kYXNoYXJyYXlcIjpcIm5vbmVcIixcImZvbnQtZmFtaWx5XCI6XCJBcmlhbFwiLFwiZm9udC1zaXplXCI6XCIxMHB0XCIsXCJmb250LXdlaWdodFwiOlwibm9ybWFsXCIsXCJmb250LXN0eWxlXCI6XCJub3JtYWxcIn0sdGhpcy5iYWNrZ3JvdW5kX2F0dHJpYnV0ZXM9e1wic3Ryb2tlLXdpZHRoXCI6MCxmaWxsOlwid2hpdGVcIixzdHJva2U6XCJ3aGl0ZVwiLFwic3Ryb2tlLWRhc2hhcnJheVwiOlwibm9uZVwiLFwiZm9udC1mYW1pbHlcIjpcIkFyaWFsXCIsXCJmb250LXNpemVcIjpcIjEwcHRcIixcImZvbnQtd2VpZ2h0XCI6XCJub3JtYWxcIixcImZvbnQtc3R5bGVcIjpcIm5vcm1hbFwifSx0aGlzLnNoYWRvd19hdHRyaWJ1dGVzPXt3aWR0aDowLGNvbG9yOlwiYmxhY2tcIn0sdGhpcy5zdGF0ZV9zdGFjaz1bXSx0aGlzLmllUG9seWZpbGwoKX1jcmVhdGUodCl7cmV0dXJuIGRvY3VtZW50LmNyZWF0ZUVsZW1lbnROUyh0aGlzLnN2Z05TLHQpfW9wZW5Hcm91cCh0LGUsaSl7Y29uc3Qgbj10aGlzLmNyZWF0ZShcImdcIik7cmV0dXJuIHRoaXMuZ3JvdXBzLnB1c2gobiksdGhpcy5wYXJlbnQuYXBwZW5kQ2hpbGQobiksdGhpcy5wYXJlbnQ9bix0JiZuLnNldEF0dHJpYnV0ZShcImNsYXNzXCIscy5QcmVmaXgodCkpLGUmJm4uc2V0QXR0cmlidXRlKFwiaWRcIixzLlByZWZpeChlKSksaSYmaS5wb2ludGVyQkJveCYmbi5zZXRBdHRyaWJ1dGUoXCJwb2ludGVyLWV2ZW50c1wiLFwiYm91bmRpbmctYm94XCIpLG59Y2xvc2VHcm91cCgpe3RoaXMuZ3JvdXBzLnBvcCgpLHRoaXMucGFyZW50PXRoaXMuZ3JvdXBzW3RoaXMuZ3JvdXBzLmxlbmd0aC0xXX1hZGQodCl7dGhpcy5wYXJlbnQuYXBwZW5kQ2hpbGQodCl9aWVQb2x5ZmlsbCgpe1widW5kZWZpbmVkXCIhPXR5cGVvZiBuYXZpZ2F0b3ImJih0aGlzLmllPS9NU0lFIDkvaS50ZXN0KG5hdmlnYXRvci51c2VyQWdlbnQpfHwvTVNJRSAxMC9pLnRlc3QobmF2aWdhdG9yLnVzZXJBZ2VudCl8fC9ydjoxMVxcLjAvaS50ZXN0KG5hdmlnYXRvci51c2VyQWdlbnQpfHwvVHJpZGVudC9pLnRlc3QobmF2aWdhdG9yLnVzZXJBZ2VudCkpfXNldEZvbnQodCxlLGkpe2xldCBuPSExLHI9ITEsbz1cIm5vcm1hbFwiO1wic3RyaW5nXCI9PXR5cGVvZiBpJiYoLTEhPT1pLmluZGV4T2YoXCJpdGFsaWNcIikmJihpPWkucmVwbGFjZSgvaXRhbGljL2csXCJcIikscj0hMCksLTEhPT1pLmluZGV4T2YoXCJib2xkXCIpJiYoaT1pLnJlcGxhY2UoL2JvbGQvZyxcIlwiKSxuPSEwKSxpPWkucmVwbGFjZSgvIC9nLFwiXCIpKSxvPXI/XCJpdGFsaWNcIjpvO2NvbnN0IGE9e1wiZm9udC1mYW1pbHlcIjp0LFwiZm9udC1zaXplXCI6ZStcInB0XCIsXCJmb250LXdlaWdodFwiOmk9dm9pZCAwPT09KGk9bj9cImJvbGRcIjppKXx8XCJcIj09PWk/XCJub3JtYWxcIjppLFwiZm9udC1zdHlsZVwiOm99O3JldHVybiB0aGlzLmZvbnRTaXplPU51bWJlcihlKSxzLk1lcmdlKHRoaXMuYXR0cmlidXRlcyxhKSxzLk1lcmdlKHRoaXMuc3RhdGUsYSksdGhpc31zZXRSYXdGb250KHQpe2NvbnN0IGU9KHQ9dC50cmltKCkpLnNwbGl0KFwiIFwiKTtyZXR1cm4gdGhpcy5hdHRyaWJ1dGVzW1wiZm9udC1mYW1pbHlcIl09ZVsxXSx0aGlzLnN0YXRlW1wiZm9udC1mYW1pbHlcIl09ZVsxXSx0aGlzLmF0dHJpYnV0ZXNbXCJmb250LXNpemVcIl09ZVswXSx0aGlzLnN0YXRlW1wiZm9udC1zaXplXCJdPWVbMF0sdGhpcy5mb250U2l6ZT1OdW1iZXIoZVswXS5tYXRjaCgvXFxkKy8pKSx0aGlzfXNldEZpbGxTdHlsZSh0KXtyZXR1cm4gdGhpcy5hdHRyaWJ1dGVzLmZpbGw9dCx0aGlzfXNldEJhY2tncm91bmRGaWxsU3R5bGUodCl7cmV0dXJuIHRoaXMuYmFja2dyb3VuZF9hdHRyaWJ1dGVzLmZpbGw9dCx0aGlzLmJhY2tncm91bmRfYXR0cmlidXRlcy5zdHJva2U9dCx0aGlzfXNldFN0cm9rZVN0eWxlKHQpe3JldHVybiB0aGlzLmF0dHJpYnV0ZXMuc3Ryb2tlPXQsdGhpc31zZXRTaGFkb3dDb2xvcih0KXtyZXR1cm4gdGhpcy5zaGFkb3dfYXR0cmlidXRlcy5jb2xvcj10LHRoaXN9c2V0U2hhZG93Qmx1cih0KXtyZXR1cm4gdGhpcy5zaGFkb3dfYXR0cmlidXRlcy53aWR0aD10LHRoaXN9c2V0TGluZVdpZHRoKHQpe3RoaXMuYXR0cmlidXRlc1tcInN0cm9rZS13aWR0aFwiXT10LHRoaXMubGluZVdpZHRoPXR9c2V0TGluZURhc2godCl7aWYoXCJbb2JqZWN0IEFycmF5XVwiPT09T2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKHQpKXJldHVybiB0PXQuam9pbihcIiwgXCIpLHRoaXMuYXR0cmlidXRlc1tcInN0cm9rZS1kYXNoYXJyYXlcIl09dCx0aGlzO3Rocm93IG5ldyBzLlJFUlIoXCJBcmd1bWVudEVycm9yXCIsXCJsaW5lRGFzaCBtdXN0IGJlIGFuIGFycmF5IG9mIGludGVnZXJzLlwiKX1zZXRMaW5lQ2FwKHQpe3JldHVybiB0aGlzLmF0dHJpYnV0ZXNbXCJzdHJva2UtbGluZWNhcFwiXT10LHRoaXN9cmVzaXplKHQsZSl7dGhpcy53aWR0aD10LHRoaXMuaGVpZ2h0PWUsdGhpcy5lbGVtZW50LnN0eWxlLndpZHRoPXQ7Y29uc3QgaT17d2lkdGg6dCxoZWlnaHQ6ZX07cmV0dXJuIHRoaXMuYXBwbHlBdHRyaWJ1dGVzKHRoaXMuc3ZnLGkpLHRoaXMuc2NhbGUodGhpcy5zdGF0ZS5zY2FsZS54LHRoaXMuc3RhdGUuc2NhbGUueSksdGhpc31zY2FsZSh0LGUpe3RoaXMuc3RhdGUuc2NhbGU9e3g6dCx5OmV9O2NvbnN0IGk9dGhpcy53aWR0aC90LHM9dGhpcy5oZWlnaHQvZTtyZXR1cm4gdGhpcy5zZXRWaWV3Qm94KDAsMCxpLHMpLHRoaXN9c2V0Vmlld0JveCguLi50KXtpZigxPT09dC5sZW5ndGgpe2NvbnN0W2VdPXQ7dGhpcy5zdmcuc2V0QXR0cmlidXRlKFwidmlld0JveFwiLGUpfWVsc2V7Y29uc3RbZSxpLHMsbl09dCxyPWUrXCIgXCIraStcIiBcIitzK1wiIFwiK247dGhpcy5zdmcuc2V0QXR0cmlidXRlKFwidmlld0JveFwiLHIpfX1hcHBseUF0dHJpYnV0ZXModCxlKXtjb25zdCBpPWJbdC5ub2RlTmFtZV07cmV0dXJuIE9iamVjdC5rZXlzKGUpLmZvckVhY2gocz0+e2kmJmlbc118fHQuc2V0QXR0cmlidXRlTlMobnVsbCxzLGVbc10pfSksdH1jbGVhcigpe2Zvcig7dGhpcy5zdmcubGFzdENoaWxkOyl0aGlzLnN2Zy5yZW1vdmVDaGlsZCh0aGlzLnN2Zy5sYXN0Q2hpbGQpO3RoaXMuc2NhbGUodGhpcy5zdGF0ZS5zY2FsZS54LHRoaXMuc3RhdGUuc2NhbGUueSl9cmVjdCh0LGUsaSxuLHIpe248MCYmKGUrPW4sbio9LTEpO2NvbnN0IG89dGhpcy5jcmVhdGUoXCJyZWN0XCIpO3JldHVybiB2b2lkIDA9PT1yJiYocj17ZmlsbDpcIm5vbmVcIixcInN0cm9rZS13aWR0aFwiOnRoaXMubGluZVdpZHRoLHN0cm9rZTpcImJsYWNrXCJ9KSxzLk1lcmdlKHIse3g6dCx5OmUsd2lkdGg6aSxoZWlnaHQ6bn0pLHRoaXMuYXBwbHlBdHRyaWJ1dGVzKG8sciksdGhpcy5hZGQobyksdGhpc31maWxsUmVjdCh0LGUsaSxzKXtyZXR1cm4gczwwJiYoZSs9cyxzKj0tMSksdGhpcy5yZWN0KHQsZSxpLHMsdGhpcy5hdHRyaWJ1dGVzKSx0aGlzfWNsZWFyUmVjdCh0LGUsaSxzKXtyZXR1cm4gdGhpcy5yZWN0KHQsZSxpLHMsdGhpcy5iYWNrZ3JvdW5kX2F0dHJpYnV0ZXMpLHRoaXN9YmVnaW5QYXRoKCl7cmV0dXJuIHRoaXMucGF0aD1cIlwiLHRoaXMucGVuLng9TmFOLHRoaXMucGVuLnk9TmFOLHRoaXN9bW92ZVRvKHQsZSl7cmV0dXJuIHRoaXMucGF0aCs9XCJNXCIrdCtcIiBcIitlLHRoaXMucGVuLng9dCx0aGlzLnBlbi55PWUsdGhpc31saW5lVG8odCxlKXtyZXR1cm4gdGhpcy5wYXRoKz1cIkxcIit0K1wiIFwiK2UsdGhpcy5wZW4ueD10LHRoaXMucGVuLnk9ZSx0aGlzfWJlemllckN1cnZlVG8odCxlLGkscyxuLHIpe3JldHVybiB0aGlzLnBhdGgrPVwiQ1wiK3QrXCIgXCIrZStcIixcIitpK1wiIFwiK3MrXCIsXCIrbitcIiBcIityLHRoaXMucGVuLng9bix0aGlzLnBlbi55PXIsdGhpc31xdWFkcmF0aWNDdXJ2ZVRvKHQsZSxpLHMpe3JldHVybiB0aGlzLnBhdGgrPVwiUVwiK3QrXCIgXCIrZStcIixcIitpK1wiIFwiK3MsdGhpcy5wZW4ueD1pLHRoaXMucGVuLnk9cyx0aGlzfWFyYyh0LGUsaSxzLG4scil7ZnVuY3Rpb24gbyh0KXtmb3IoO3Q8MDspdCs9MipNYXRoLlBJO2Zvcig7dD4yKk1hdGguUEk7KXQtPTIqTWF0aC5QSTtyZXR1cm4gdH1pZigocz1vKHMpKT4obj1vKG4pKSl7Y29uc3QgdD1zO3M9bixuPXQscj0hcn1jb25zdCBhPW4tcztyZXR1cm4gYT5NYXRoLlBJPyh0aGlzLmFyY0hlbHBlcih0LGUsaSxzLHMrYS8yLHIpLHRoaXMuYXJjSGVscGVyKHQsZSxpLHMrYS8yLG4scikpOnRoaXMuYXJjSGVscGVyKHQsZSxpLHMsbixyKSx0aGlzfWFyY0hlbHBlcih0LGUsaSxzLG4scil7Y29uc3Qgbz10K2kqTWF0aC5jb3MocyksYT1lK2kqTWF0aC5zaW4ocyksaD10K2kqTWF0aC5jb3MobiksbD1lK2kqTWF0aC5zaW4obik7bGV0IGM9MCx1PTA7cj8odT0xLG4tczxNYXRoLlBJJiYoYz0xKSk6bi1zPk1hdGguUEkmJihjPTEpLHRoaXMucGF0aCs9XCJNXCIrbytcIiBcIithK1wiIEFcIitpK1wiIFwiK2krXCIgMCBcIitjK1wiIFwiK3UrXCIgXCIraCtcIiBcIitsLGlzTmFOKHRoaXMucGVuLngpfHxpc05hTih0aGlzLnBlbi55KXx8KHRoaXMucGV0aCs9XCJNXCIrdGhpcy5wZW4ueCtcIiBcIit0aGlzLnBlbi55KX1jbG9zZVBhdGgoKXtyZXR1cm4gdGhpcy5wYXRoKz1cIlpcIix0aGlzfWdsb3coKXtpZih0aGlzLnNoYWRvd19hdHRyaWJ1dGVzLndpZHRoPjApe2NvbnN0IHQ9dGhpcy5zaGFkb3dfYXR0cmlidXRlcyxlPXQud2lkdGgvMjtmb3IobGV0IGk9MTtpPD1lO2krKyl7Y29uc3Qgcz17c3Ryb2tlOnQuY29sb3IsXCJzdHJva2UtbGluZWpvaW5cIjpcInJvdW5kXCIsXCJzdHJva2UtbGluZWNhcFwiOlwicm91bmRcIixcInN0cm9rZS13aWR0aFwiOisoLjQqdC53aWR0aC9lKmkpLnRvRml4ZWQoMyksb3BhY2l0eTorKCh0Lm9wYWNpdHl8fC4zKS9lKS50b0ZpeGVkKDMpfSxuPXRoaXMuY3JlYXRlKFwicGF0aFwiKTtzLmQ9dGhpcy5wYXRoLHRoaXMuYXBwbHlBdHRyaWJ1dGVzKG4scyksdGhpcy5hZGQobil9fXJldHVybiB0aGlzfWZpbGwodCl7dGhpcy5nbG93KCk7Y29uc3QgZT10aGlzLmNyZWF0ZShcInBhdGhcIik7cmV0dXJuIHZvaWQgMD09PXQmJihzLk1lcmdlKHQ9e30sdGhpcy5hdHRyaWJ1dGVzKSx0LnN0cm9rZT1cIm5vbmVcIiksdC5kPXRoaXMucGF0aCx0aGlzLmFwcGx5QXR0cmlidXRlcyhlLHQpLHRoaXMuYWRkKGUpLHRoaXN9c3Ryb2tlKCl7dGhpcy5nbG93KCk7Y29uc3QgdD10aGlzLmNyZWF0ZShcInBhdGhcIiksZT17fTtyZXR1cm4gcy5NZXJnZShlLHRoaXMuYXR0cmlidXRlcyksZS5maWxsPVwibm9uZVwiLGVbXCJzdHJva2Utd2lkdGhcIl09dGhpcy5saW5lV2lkdGgsZS5kPXRoaXMucGF0aCx0aGlzLmFwcGx5QXR0cmlidXRlcyh0LGUpLHRoaXMuYWRkKHQpLHRoaXN9bWVhc3VyZVRleHQodCl7Y29uc3QgZT10aGlzLmNyZWF0ZShcInRleHRcIik7aWYoXCJmdW5jdGlvblwiIT10eXBlb2YgZS5nZXRCQm94KXJldHVybnt4OjAseTowLHdpZHRoOjAsaGVpZ2h0OjB9O2UudGV4dENvbnRlbnQ9dCx0aGlzLmFwcGx5QXR0cmlidXRlcyhlLHRoaXMuYXR0cmlidXRlcyksdGhpcy5zdmcuYXBwZW5kQ2hpbGQoZSk7bGV0IGk9ZS5nZXRCQm94KCk7cmV0dXJuIHRoaXMuaWUmJlwiXCIhPT10JiZcIml0YWxpY1wiPT09dGhpcy5hdHRyaWJ1dGVzW1wiZm9udC1zdHlsZVwiXSYmKGk9dGhpcy5pZU1lYXN1cmVUZXh0Rml4KGksdCkpLHRoaXMuc3ZnLnJlbW92ZUNoaWxkKGUpLGl9aWVNZWFzdXJlVGV4dEZpeCh0KXtjb25zdCBlPTEuMTk2Kk51bWJlcih0aGlzLmZvbnRTaXplKSsxLjk1OTgsaT10LndpZHRoLWUscz10LmhlaWdodC0xLjU7cmV0dXJue3g6dC54LHk6dC55LHdpZHRoOmksaGVpZ2h0OnN9fWZpbGxUZXh0KHQsZSxpKXtpZighdHx8dC5sZW5ndGg8PTApcmV0dXJuO2NvbnN0IG49e307cy5NZXJnZShuLHRoaXMuYXR0cmlidXRlcyksbi5zdHJva2U9XCJub25lXCIsbi54PWUsbi55PWk7Y29uc3Qgcj10aGlzLmNyZWF0ZShcInRleHRcIik7ci50ZXh0Q29udGVudD10LHRoaXMuYXBwbHlBdHRyaWJ1dGVzKHIsbiksdGhpcy5hZGQocil9c2F2ZSgpe3JldHVybiB0aGlzLnN0YXRlX3N0YWNrLnB1c2goe3N0YXRlOntcImZvbnQtZmFtaWx5XCI6dGhpcy5zdGF0ZVtcImZvbnQtZmFtaWx5XCJdLFwiZm9udC13ZWlnaHRcIjp0aGlzLnN0YXRlW1wiZm9udC13ZWlnaHRcIl0sXCJmb250LXN0eWxlXCI6dGhpcy5zdGF0ZVtcImZvbnQtc3R5bGVcIl0sXCJmb250LXNpemVcIjp0aGlzLnN0YXRlW1wiZm9udC1zaXplXCJdLHNjYWxlOnRoaXMuc3RhdGUuc2NhbGV9LGF0dHJpYnV0ZXM6e1wiZm9udC1mYW1pbHlcIjp0aGlzLmF0dHJpYnV0ZXNbXCJmb250LWZhbWlseVwiXSxcImZvbnQtd2VpZ2h0XCI6dGhpcy5hdHRyaWJ1dGVzW1wiZm9udC13ZWlnaHRcIl0sXCJmb250LXN0eWxlXCI6dGhpcy5hdHRyaWJ1dGVzW1wiZm9udC1zdHlsZVwiXSxcImZvbnQtc2l6ZVwiOnRoaXMuYXR0cmlidXRlc1tcImZvbnQtc2l6ZVwiXSxmaWxsOnRoaXMuYXR0cmlidXRlcy5maWxsLHN0cm9rZTp0aGlzLmF0dHJpYnV0ZXMuc3Ryb2tlLFwic3Ryb2tlLXdpZHRoXCI6dGhpcy5hdHRyaWJ1dGVzW1wic3Ryb2tlLXdpZHRoXCJdLFwic3Ryb2tlLWRhc2hhcnJheVwiOnRoaXMuYXR0cmlidXRlc1tcInN0cm9rZS1kYXNoYXJyYXlcIl19LHNoYWRvd19hdHRyaWJ1dGVzOnt3aWR0aDp0aGlzLnNoYWRvd19hdHRyaWJ1dGVzLndpZHRoLGNvbG9yOnRoaXMuc2hhZG93X2F0dHJpYnV0ZXMuY29sb3J9LGxpbmVXaWR0aDp0aGlzLmxpbmVXaWR0aH0pLHRoaXN9cmVzdG9yZSgpe2NvbnN0IHQ9dGhpcy5zdGF0ZV9zdGFjay5wb3AoKTtyZXR1cm4gdGhpcy5zdGF0ZVtcImZvbnQtZmFtaWx5XCJdPXQuc3RhdGVbXCJmb250LWZhbWlseVwiXSx0aGlzLnN0YXRlW1wiZm9udC13ZWlnaHRcIl09dC5zdGF0ZVtcImZvbnQtd2VpZ2h0XCJdLHRoaXMuc3RhdGVbXCJmb250LXN0eWxlXCJdPXQuc3RhdGVbXCJmb250LXN0eWxlXCJdLHRoaXMuc3RhdGVbXCJmb250LXNpemVcIl09dC5zdGF0ZVtcImZvbnQtc2l6ZVwiXSx0aGlzLnN0YXRlLnNjYWxlPXQuc3RhdGUuc2NhbGUsdGhpcy5hdHRyaWJ1dGVzW1wiZm9udC1mYW1pbHlcIl09dC5hdHRyaWJ1dGVzW1wiZm9udC1mYW1pbHlcIl0sdGhpcy5hdHRyaWJ1dGVzW1wiZm9udC13ZWlnaHRcIl09dC5hdHRyaWJ1dGVzW1wiZm9udC13ZWlnaHRcIl0sdGhpcy5hdHRyaWJ1dGVzW1wiZm9udC1zdHlsZVwiXT10LmF0dHJpYnV0ZXNbXCJmb250LXN0eWxlXCJdLHRoaXMuYXR0cmlidXRlc1tcImZvbnQtc2l6ZVwiXT10LmF0dHJpYnV0ZXNbXCJmb250LXNpemVcIl0sdGhpcy5hdHRyaWJ1dGVzLmZpbGw9dC5hdHRyaWJ1dGVzLmZpbGwsdGhpcy5hdHRyaWJ1dGVzLnN0cm9rZT10LmF0dHJpYnV0ZXMuc3Ryb2tlLHRoaXMuYXR0cmlidXRlc1tcInN0cm9rZS13aWR0aFwiXT10LmF0dHJpYnV0ZXNbXCJzdHJva2Utd2lkdGhcIl0sdGhpcy5hdHRyaWJ1dGVzW1wic3Ryb2tlLWRhc2hhcnJheVwiXT10LmF0dHJpYnV0ZXNbXCJzdHJva2UtZGFzaGFycmF5XCJdLHRoaXMuc2hhZG93X2F0dHJpYnV0ZXMud2lkdGg9dC5zaGFkb3dfYXR0cmlidXRlcy53aWR0aCx0aGlzLnNoYWRvd19hdHRyaWJ1dGVzLmNvbG9yPXQuc2hhZG93X2F0dHJpYnV0ZXMuY29sb3IsdGhpcy5saW5lV2lkdGg9dC5saW5lV2lkdGgsdGhpc319bGV0IHk9bnVsbDtjbGFzcyB4e3N0YXRpYyBnZXQgQmFja2VuZHMoKXtyZXR1cm57Q0FOVkFTOjEsUkFQSEFFTDoyLFNWRzozLFZNTDo0fX1zdGF0aWMgZ2V0IExpbmVFbmRUeXBlKCl7cmV0dXJue05PTkU6MSxVUDoyLERPV046M319c3RhdGljIGdldCBVU0VfQ0FOVkFTX1BST1hZKCl7cmV0dXJuITF9c3RhdGljIGdldCBsYXN0Q29udGV4dCgpe3JldHVybiB5fXN0YXRpYyBzZXQgbGFzdENvbnRleHQodCl7eT10fXN0YXRpYyBidWlsZENvbnRleHQodCxlLGkscyxuKXtjb25zdCByPW5ldyB4KHQsZSk7aSYmcyYmci5yZXNpemUoaSxzKSxufHwobj1cIiNGRkZcIik7Y29uc3Qgbz1yLmdldENvbnRleHQoKTtyZXR1cm4gby5zZXRCYWNrZ3JvdW5kRmlsbFN0eWxlKG4pLHgubGFzdENvbnRleHQ9byxvfXN0YXRpYyBnZXRDYW52YXNDb250ZXh0KHQsZSxpLHMpe3JldHVybiB4LmJ1aWxkQ29udGV4dCh0LHguQmFja2VuZHMuQ0FOVkFTLGUsaSxzKX1zdGF0aWMgZ2V0UmFwaGFlbENvbnRleHQodCxlLGkscyl7cmV0dXJuIHguYnVpbGRDb250ZXh0KHQseC5CYWNrZW5kcy5SQVBIQUVMLGUsaSxzKX1zdGF0aWMgZ2V0U1ZHQ29udGV4dCh0LGUsaSxzKXtyZXR1cm4geC5idWlsZENvbnRleHQodCx4LkJhY2tlbmRzLlNWRyxlLGkscyl9c3RhdGljIGJvbHN0ZXJDYW52YXNDb250ZXh0KHQpe2lmKHguVVNFX0NBTlZBU19QUk9YWSlyZXR1cm4gbmV3IHAodCk7cmV0dXJuIHQudmV4Rmxvd0NhbnZhc0NvbnRleHQ9dCxbXCJjbGVhclwiLFwic2V0Rm9udFwiLFwic2V0UmF3Rm9udFwiLFwic2V0RmlsbFN0eWxlXCIsXCJzZXRCYWNrZ3JvdW5kRmlsbFN0eWxlXCIsXCJzZXRTdHJva2VTdHlsZVwiLFwic2V0U2hhZG93Q29sb3JcIixcInNldFNoYWRvd0JsdXJcIixcInNldExpbmVXaWR0aFwiLFwic2V0TGluZUNhcFwiLFwic2V0TGluZURhc2hcIixcIm9wZW5Hcm91cFwiLFwiY2xvc2VHcm91cFwiLFwiZ2V0R3JvdXBcIl0uZm9yRWFjaChlPT57dFtlXT10W2VdfHxwLnByb3RvdHlwZVtlXX0pLHR9c3RhdGljIGRyYXdEYXNoZWRMaW5lKHQsZSxpLHMsbixyKXt0LmJlZ2luUGF0aCgpO2NvbnN0IG89cy1lLGE9bi1pLGg9TWF0aC5hdGFuMihhLG8pO2xldCBsPWUsYz1pO3QubW92ZVRvKGUsaSk7bGV0IHU9MCxkPSEwO2Zvcig7IShvPDA/bDw9czpsPj1zKXx8IShhPDA/Yzw9bjpjPj1uKTspe2NvbnN0IGU9clt1Kyslci5sZW5ndGhdLGk9bCtNYXRoLmNvcyhoKSplO2w9bzwwP01hdGgubWF4KHMsaSk6TWF0aC5taW4ocyxpKTtjb25zdCBmPWMrTWF0aC5zaW4oaCkqZTtjPWE8MD9NYXRoLm1heChuLGYpOk1hdGgubWluKG4sZiksZD90LmxpbmVUbyhsLGMpOnQubW92ZVRvKGwsYyksZD0hZH10LmNsb3NlUGF0aCgpLHQuc3Ryb2tlKCl9Y29uc3RydWN0b3IodCxlKXtpZih0aGlzLmVsZW1lbnRJZD10LCF0aGlzLmVsZW1lbnRJZCl0aHJvdyBuZXcgcy5SRVJSKFwiQmFkQXJndW1lbnRcIixcIkludmFsaWQgaWQgZm9yIHJlbmRlcmVyLlwiKTtpZih0aGlzLmVsZW1lbnQ9ZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQodCksdGhpcy5lbGVtZW50fHwodGhpcy5lbGVtZW50PXQpLHRoaXMuY3R4PW51bGwsdGhpcy5wYXBlcj1udWxsLHRoaXMuYmFja2VuZD1lLHRoaXMuYmFja2VuZD09PXguQmFja2VuZHMuQ0FOVkFTKXtpZighdGhpcy5lbGVtZW50LmdldENvbnRleHQpdGhyb3cgbmV3IHMuUkVSUihcIkJhZEVsZW1lbnRcIixgQ2FuJ3QgZ2V0IGNhbnZhcyBjb250ZXh0IGZyb20gZWxlbWVudDogJHt0fWApO3RoaXMuY3R4PXguYm9sc3RlckNhbnZhc0NvbnRleHQodGhpcy5lbGVtZW50LmdldENvbnRleHQoXCIyZFwiKSl9ZWxzZSBpZih0aGlzLmJhY2tlbmQ9PT14LkJhY2tlbmRzLlJBUEhBRUwpdGhpcy5jdHg9bmV3IGcodGhpcy5lbGVtZW50KTtlbHNle2lmKHRoaXMuYmFja2VuZCE9PXguQmFja2VuZHMuU1ZHKXRocm93IG5ldyBzLlJFUlIoXCJJbnZhbGlkQmFja2VuZFwiLGBObyBzdXBwb3J0IGZvciBiYWNrZW5kOiAke3RoaXMuYmFja2VuZH1gKTt0aGlzLmN0eD1uZXcgUyh0aGlzLmVsZW1lbnQpfX1yZXNpemUodCxlKXtpZih0aGlzLmJhY2tlbmQ9PT14LkJhY2tlbmRzLkNBTlZBUyl7aWYoIXRoaXMuZWxlbWVudC5nZXRDb250ZXh0KXRocm93IG5ldyBzLlJFUlIoXCJCYWRFbGVtZW50XCIsYENhbid0IGdldCBjYW52YXMgY29udGV4dCBmcm9tIGVsZW1lbnQ6ICR7dGhpcy5lbGVtZW50SWR9YCk7W3QsZV09cC5TYW5pdGl6ZUNhbnZhc0RpbXModCxlKTtjb25zdCBpPXdpbmRvdy5kZXZpY2VQaXhlbFJhdGlvfHwxO3RoaXMuZWxlbWVudC53aWR0aD10KmksdGhpcy5lbGVtZW50LmhlaWdodD1lKmksdGhpcy5lbGVtZW50LnN0eWxlLndpZHRoPXQrXCJweFwiLHRoaXMuZWxlbWVudC5zdHlsZS5oZWlnaHQ9ZStcInB4XCIsdGhpcy5jdHg9eC5ib2xzdGVyQ2FudmFzQ29udGV4dCh0aGlzLmVsZW1lbnQuZ2V0Q29udGV4dChcIjJkXCIpKSx0aGlzLmN0eC5zY2FsZShpLGkpfWVsc2UgdGhpcy5jdHgucmVzaXplKHQsZSk7cmV0dXJuIHRoaXN9Z2V0Q29udGV4dCgpe3JldHVybiB0aGlzLmN0eH19Y2xhc3MgRSBleHRlbmRzIGh7c3RhdGljIGdldCBDQVRFR09SWSgpe3JldHVyblwic3RlbVwifXN0YXRpYyBnZXQgVVAoKXtyZXR1cm4gMX1zdGF0aWMgZ2V0IERPV04oKXtyZXR1cm4tMX1zdGF0aWMgZ2V0IFdJRFRIKCl7cmV0dXJuIG0uU1RFTV9XSURUSH1zdGF0aWMgZ2V0IEhFSUdIVCgpe3JldHVybiBtLlNURU1fSEVJR0hUfWNvbnN0cnVjdG9yKHQ9e30pe3N1cGVyKCksdGhpcy5zZXRBdHRyaWJ1dGUoXCJ0eXBlXCIsXCJTdGVtXCIpLHRoaXMueF9iZWdpbj10LnhfYmVnaW58fDAsdGhpcy54X2VuZD10LnhfZW5kfHwwLHRoaXMueV90b3A9dC55X3RvcHx8MCx0aGlzLnlfYm90dG9tPXQueV9ib3R0b218fDAsdGhpcy5zdGVtX2V4dGVuc2lvbj10LnN0ZW1fZXh0ZW5zaW9ufHwwLHRoaXMuc3RlbV9kaXJlY3Rpb249dC5zdGVtX2RpcmVjdGlvbnx8MCx0aGlzLmhpZGU9dC5oaWRlfHwhMSx0aGlzLmlzU3RlbWxldD10LmlzU3RlbWxldHx8ITEsdGhpcy5zdGVtbGV0SGVpZ2h0PXQuc3RlbWxldEhlaWdodHx8MCx0aGlzLnJlbmRlckhlaWdodEFkanVzdG1lbnQ9MCx0aGlzLnNldE9wdGlvbnModCl9c2V0T3B0aW9ucyh0KXt0aGlzLnN0ZW1fdXBfeV9vZmZzZXQ9dC5zdGVtX3VwX3lfb2Zmc2V0fHwwLHRoaXMuc3RlbV9kb3duX3lfb2Zmc2V0PXQuc3RlbV9kb3duX3lfb2Zmc2V0fHwwfXNldE5vdGVIZWFkWEJvdW5kcyh0LGUpe3JldHVybiB0aGlzLnhfYmVnaW49dCx0aGlzLnhfZW5kPWUsdGhpc31zZXREaXJlY3Rpb24odCl7dGhpcy5zdGVtX2RpcmVjdGlvbj10fXNldEV4dGVuc2lvbih0KXt0aGlzLnN0ZW1fZXh0ZW5zaW9uPXR9Z2V0RXh0ZW5zaW9uKCl7cmV0dXJuIHRoaXMuc3RlbV9leHRlbnNpb259c2V0WUJvdW5kcyh0LGUpe3RoaXMueV90b3A9dCx0aGlzLnlfYm90dG9tPWV9Z2V0Q2F0ZWdvcnkoKXtyZXR1cm4gRS5DQVRFR09SWX1nZXRIZWlnaHQoKXtjb25zdCB0PXRoaXMuc3RlbV9kaXJlY3Rpb249PT1FLlVQP3RoaXMuc3RlbV91cF95X29mZnNldDp0aGlzLnN0ZW1fZG93bl95X29mZnNldDtyZXR1cm4odGhpcy55X2JvdHRvbS10aGlzLnlfdG9wKSp0aGlzLnN0ZW1fZGlyZWN0aW9uKyhFLkhFSUdIVC10K3RoaXMuc3RlbV9leHRlbnNpb24pKnRoaXMuc3RlbV9kaXJlY3Rpb259Z2V0Qm91bmRpbmdCb3goKXt0aHJvdyBuZXcgcy5SRVJSKFwiTm90SW1wbGVtZW50ZWRcIixcImdldEJvdW5kaW5nQm94KCkgbm90IGltcGxlbWVudGVkLlwiKX1nZXRFeHRlbnRzKCl7Y29uc3QgdD10aGlzLnN0ZW1fZGlyZWN0aW9uPT09RS5VUCxlPVt0aGlzLnlfdG9wLHRoaXMueV9ib3R0b21dLGk9RS5IRUlHSFQrdGhpcy5zdGVtX2V4dGVuc2lvbixzPSh0P01hdGgubWluOk1hdGgubWF4KSguLi5lKSxuPSh0P01hdGgubWF4Ok1hdGgubWluKSguLi5lKTtyZXR1cm57dG9wWTpzK2kqLXRoaXMuc3RlbV9kaXJlY3Rpb24sYmFzZVk6bn19c2V0VmlzaWJpbGl0eSh0KXtyZXR1cm4gdGhpcy5oaWRlPSF0LHRoaXN9c2V0U3RlbWxldCh0LGUpe3JldHVybiB0aGlzLmlzU3RlbWxldD10LHRoaXMuc3RlbWxldEhlaWdodD1lLHRoaXN9ZHJhdygpe2lmKHRoaXMuc2V0UmVuZGVyZWQoKSx0aGlzLmhpZGUpcmV0dXJuO2NvbnN0IHQ9dGhpcy5jaGVja0NvbnRleHQoKTtsZXQgZSxpO2NvbnN0IG49dGhpcy5zdGVtX2RpcmVjdGlvbjtuPT09RS5ET1dOPyhlPXRoaXMueF9iZWdpbixpPXRoaXMueV90b3ArdGhpcy5zdGVtX2Rvd25feV9vZmZzZXQpOihlPXRoaXMueF9lbmQsaT10aGlzLnlfYm90dG9tLXRoaXMuc3RlbV91cF95X29mZnNldCk7Y29uc3Qgcj10aGlzLmdldEhlaWdodCgpOyFmdW5jdGlvbiguLi50KXtFLkRFQlVHJiZzLkwoXCJWZXguRmxvdy5TdGVtXCIsdCl9KFwiUmVuZGVyaW5nIHN0ZW0gLSBcIixcIlRvcCBZOiBcIix0aGlzLnlfdG9wLFwiQm90dG9tIFk6IFwiLHRoaXMueV9ib3R0b20pO2NvbnN0IG89dGhpcy5pc1N0ZW1sZXQ/ci10aGlzLnN0ZW1sZXRIZWlnaHQqdGhpcy5zdGVtX2RpcmVjdGlvbjowO3Quc2F2ZSgpLHRoaXMuYXBwbHlTdHlsZSh0KSx0LmJlZ2luUGF0aCgpLHQuc2V0TGluZVdpZHRoKEUuV0lEVEgpLHQubW92ZVRvKGUsaS1vKSx0LmxpbmVUbyhlLGktci10aGlzLnJlbmRlckhlaWdodEFkanVzdG1lbnQqbiksdC5zdHJva2UoKSx0aGlzLnJlc3RvcmVTdHlsZSh0KSx0LnJlc3RvcmUoKX19Y2xhc3MgdiBleHRlbmRzIGh7c3RhdGljIGdldCBMT0NBVElPTl9UT1AoKXtyZXR1cm4gMX1zdGF0aWMgZ2V0IExPQ0FUSU9OX0JPVFRPTSgpe3JldHVybi0xfXN0YXRpYyBnZXQgTkVTVElOR19PRkZTRVQoKXtyZXR1cm4gMTV9Y29uc3RydWN0b3IodCxlKXtpZihzdXBlcigpLHRoaXMuc2V0QXR0cmlidXRlKFwidHlwZVwiLFwiVHVwbGV0XCIpLCF0fHwhdC5sZW5ndGgpdGhyb3cgbmV3IHMuUnVudGltZUVycm9yKFwiQmFkQXJndW1lbnRzXCIsXCJObyBub3RlcyBwcm92aWRlZCBmb3IgdHVwbGV0LlwiKTt0aGlzLm9wdGlvbnM9cy5NZXJnZSh7fSxlKSx0aGlzLm5vdGVzPXQsdGhpcy5udW1fbm90ZXM9XCJudW1fbm90ZXNcImluIHRoaXMub3B0aW9ucz90aGlzLm9wdGlvbnMubnVtX25vdGVzOnQubGVuZ3RoLHRoaXMub3B0aW9ucy5iZWF0c19vY2N1cGllZCYmdGhpcy5iZWF0c09jY3VwaWVkRGVwcmVjYXRpb25XYXJuaW5nKCksdGhpcy5ub3Rlc19vY2N1cGllZD10aGlzLm9wdGlvbnMubm90ZXNfb2NjdXBpZWR8fHRoaXMub3B0aW9ucy5iZWF0c19vY2N1cGllZHx8MixcImJyYWNrZXRlZFwiaW4gdGhpcy5vcHRpb25zP3RoaXMuYnJhY2tldGVkPXRoaXMub3B0aW9ucy5icmFja2V0ZWQ6dGhpcy5icmFja2V0ZWQ9dC5zb21lKHQ9Pm51bGw9PT10LmJlYW0pLHRoaXMucmF0aW9lZD1cInJhdGlvZWRcImluIHRoaXMub3B0aW9ucz90aGlzLm9wdGlvbnMucmF0aW9lZDpNYXRoLmFicyh0aGlzLm5vdGVzX29jY3VwaWVkLXRoaXMubnVtX25vdGVzKT4xLHRoaXMucG9pbnQ9MjgsdGhpcy55X3Bvcz0xNix0aGlzLnhfcG9zPTEwMCx0aGlzLndpZHRoPTIwMCx0aGlzLmxvY2F0aW9uPXRoaXMub3B0aW9ucy5sb2NhdGlvbnx8di5MT0NBVElPTl9UT1AsdXQuQWxpZ25SZXN0c1RvTm90ZXModCwhMCwhMCksdGhpcy5yZXNvbHZlR2x5cGhzKCksdGhpcy5hdHRhY2goKX1hdHRhY2goKXtmb3IobGV0IHQ9MDt0PHRoaXMubm90ZXMubGVuZ3RoO3QrKyl7dGhpcy5ub3Rlc1t0XS5zZXRUdXBsZXQodGhpcyl9fWRldGFjaCgpe2ZvcihsZXQgdD0wO3Q8dGhpcy5ub3Rlcy5sZW5ndGg7dCsrKXt0aGlzLm5vdGVzW3RdLnJlc2V0VHVwbGV0KHRoaXMpfX1zZXRCcmFja2V0ZWQodCl7cmV0dXJuIHRoaXMuYnJhY2tldGVkPSEhdCx0aGlzfXNldFJhdGlvZWQodCl7cmV0dXJuIHRoaXMucmF0aW9lZD0hIXQsdGhpc31zZXRUdXBsZXRMb2NhdGlvbih0KXtpZih0KXtpZih0IT09di5MT0NBVElPTl9UT1AmJnQhPT12LkxPQ0FUSU9OX0JPVFRPTSl0aHJvdyBuZXcgcy5SRVJSKFwiQmFkQXJndW1lbnRcIixcIkludmFsaWQgdHVwbGV0IGxvY2F0aW9uOiBcIit0KX1lbHNlIHQ9di5MT0NBVElPTl9UT1A7cmV0dXJuIHRoaXMubG9jYXRpb249dCx0aGlzfWdldE5vdGVzKCl7cmV0dXJuIHRoaXMubm90ZXN9Z2V0Tm90ZUNvdW50KCl7cmV0dXJuIHRoaXMubnVtX25vdGVzfWJlYXRzT2NjdXBpZWREZXByZWNhdGlvbldhcm5pbmcoKXtjb25zdCB0PVtcImJlYXRzX29jY3VwaWVkIGhhcyBiZWVuIGRlcHJlY2F0ZWQgYXMgYW4gXCIsXCJvcHRpb24gZm9yIHR1cGxldHMuIFBsZWFzZSB1c2Ugbm90ZXNfb2NjdXBpZWQgXCIsXCJpbnN0ZWFkLiBDYWxscyB0byBnZXRCZWF0c09jY3VwaWVkIGFuZCBcIixcInNldEJlYXRzT2NjdXBpZWQgc2hvdWxkIG5vdyBiZSByb3V0ZWQgdG8gXCIsXCJnZXROb3Rlc09jY3VwaWVkIGFuZCBzZXROb3Rlc09jY3VwaWVkIGluc3RlYWRcIl0uam9pbihcIlwiKTtjb25zb2xlJiZjb25zb2xlLndhcm4/Y29uc29sZS53YXJuKHQpOmNvbnNvbGUmJmNvbnNvbGUubG9nKHQpfWdldEJlYXRzT2NjdXBpZWQoKXtyZXR1cm4gdGhpcy5iZWF0c09jY3VwaWVkRGVwcmVjYXRpb25XYXJuaW5nKCksdGhpcy5nZXROb3Rlc09jY3VwaWVkKCl9c2V0QmVhdHNPY2N1cGllZCh0KXtyZXR1cm4gdGhpcy5iZWF0c09jY3VwaWVkRGVwcmVjYXRpb25XYXJuaW5nKCksdGhpcy5zZXROb3Rlc09jY3VwaWVkKHQpfWdldE5vdGVzT2NjdXBpZWQoKXtyZXR1cm4gdGhpcy5ub3Rlc19vY2N1cGllZH1zZXROb3Rlc09jY3VwaWVkKHQpe3RoaXMuZGV0YWNoKCksdGhpcy5ub3Rlc19vY2N1cGllZD10LHRoaXMucmVzb2x2ZUdseXBocygpLHRoaXMuYXR0YWNoKCl9cmVzb2x2ZUdseXBocygpe3RoaXMubnVtZXJhdG9yX2dseXBocz1bXTtsZXQgdD10aGlzLm51bV9ub3Rlcztmb3IoO3Q+PTE7KXRoaXMubnVtZXJhdG9yX2dseXBocy51bnNoaWZ0KG5ldyBmKFwidlwiK3QlMTAsdGhpcy5wb2ludCkpLHQ9cGFyc2VJbnQodC8xMCwxMCk7Zm9yKHRoaXMuZGVub21fZ2x5cGhzPVtdLHQ9dGhpcy5ub3Rlc19vY2N1cGllZDt0Pj0xOyl0aGlzLmRlbm9tX2dseXBocy51bnNoaWZ0KG5ldyBmKFwidlwiK3QlMTAsdGhpcy5wb2ludCkpLHQ9cGFyc2VJbnQodC8xMCwxMCl9Z2V0TmVzdGVkVHVwbGV0Q291bnQoKXtjb25zdCB0PXRoaXMubG9jYXRpb24sZT10aGlzLm5vdGVzWzBdO2xldCBpPW4oZSx0KSxzPW4oZSx0KTtmdW5jdGlvbiBuKHQsZSl7cmV0dXJuIHQudHVwbGV0U3RhY2suZmlsdGVyKHQ9PnQubG9jYXRpb249PT1lKS5sZW5ndGh9cmV0dXJuIHRoaXMubm90ZXMuZm9yRWFjaChlPT57Y29uc3Qgcj1uKGUsdCk7aT1yPmk/cjppLHM9cjxzP3I6c30pLGktc31nZXRZUG9zaXRpb24oKXtjb25zdCB0PXRoaXMuZ2V0TmVzdGVkVHVwbGV0Q291bnQoKSp2Lk5FU1RJTkdfT0ZGU0VUKi10aGlzLmxvY2F0aW9uLGU9dGhpcy5vcHRpb25zLnlfb2Zmc2V0fHwwLGk9dGhpcy5ub3Rlc1swXTtsZXQgcztpZih0aGlzLmxvY2F0aW9uPT09di5MT0NBVElPTl9UT1Ape3M9aS5nZXRTdGF2ZSgpLmdldFlGb3JMaW5lKDApLTE1O2ZvcihsZXQgdD0wO3Q8dGhpcy5ub3Rlcy5sZW5ndGg7Kyt0KXtjb25zdCBlPXRoaXMubm90ZXNbdF0uZ2V0U3RlbURpcmVjdGlvbigpPT09RS5VUD90aGlzLm5vdGVzW3RdLmdldFN0ZW1FeHRlbnRzKCkudG9wWS0xMDp0aGlzLm5vdGVzW3RdLmdldFN0ZW1FeHRlbnRzKCkuYmFzZVktMjA7ZTxzJiYocz1lKX19ZWxzZXtzPWkuZ2V0U3RhdmUoKS5nZXRZRm9yTGluZSg0KSsyMDtmb3IobGV0IHQ9MDt0PHRoaXMubm90ZXMubGVuZ3RoOysrdCl7Y29uc3QgZT10aGlzLm5vdGVzW3RdLmdldFN0ZW1EaXJlY3Rpb24oKT09PUUuVVA/dGhpcy5ub3Rlc1t0XS5nZXRTdGVtRXh0ZW50cygpLmJhc2VZKzIwOnRoaXMubm90ZXNbdF0uZ2V0U3RlbUV4dGVudHMoKS50b3BZKzEwO2U+cyYmKHM9ZSl9fXJldHVybiBzK3QrZX1kcmF3KCl7dGhpcy5jaGVja0NvbnRleHQoKSx0aGlzLnNldFJlbmRlcmVkKCk7Y29uc3QgdD10aGlzLm5vdGVzWzBdLGU9dGhpcy5ub3Rlc1t0aGlzLm5vdGVzLmxlbmd0aC0xXTt0aGlzLmJyYWNrZXRlZD8odGhpcy54X3Bvcz10LmdldFRpZUxlZnRYKCktNSx0aGlzLndpZHRoPWUuZ2V0VGllUmlnaHRYKCktdGhpcy54X3Bvcys1KToodGhpcy54X3Bvcz10LmdldFN0ZW1YKCksdGhpcy53aWR0aD1lLmdldFN0ZW1YKCktdGhpcy54X3BvcyksdGhpcy55X3Bvcz10aGlzLmdldFlQb3NpdGlvbigpO2NvbnN0IGk9KHQsZSk9PnQrZS5nZXRNZXRyaWNzKCkud2lkdGg7bGV0IHM9dGhpcy5udW1lcmF0b3JfZ2x5cGhzLnJlZHVjZShpLDApO3RoaXMucmF0aW9lZCYmKHM9dGhpcy5kZW5vbV9nbHlwaHMucmVkdWNlKGkscykscys9LjMyKnRoaXMucG9pbnQpO2NvbnN0IG49dGhpcy54X3Bvcyt0aGlzLndpZHRoLzItcy8yO2lmKHRoaXMuYnJhY2tldGVkKXtjb25zdCB0PXRoaXMud2lkdGgvMi1zLzItNTt0PjAmJih0aGlzLmNvbnRleHQuZmlsbFJlY3QodGhpcy54X3Bvcyx0aGlzLnlfcG9zLHQsMSksdGhpcy5jb250ZXh0LmZpbGxSZWN0KHRoaXMueF9wb3MrdGhpcy53aWR0aC8yK3MvMis1LHRoaXMueV9wb3MsdCwxKSx0aGlzLmNvbnRleHQuZmlsbFJlY3QodGhpcy54X3Bvcyx0aGlzLnlfcG9zKyh0aGlzLmxvY2F0aW9uPT09di5MT0NBVElPTl9CT1RUT00pLDEsMTAqdGhpcy5sb2NhdGlvbiksdGhpcy5jb250ZXh0LmZpbGxSZWN0KHRoaXMueF9wb3MrdGhpcy53aWR0aCx0aGlzLnlfcG9zKyh0aGlzLmxvY2F0aW9uPT09di5MT0NBVElPTl9CT1RUT00pLDEsMTAqdGhpcy5sb2NhdGlvbikpfWxldCByPTA7aWYodGhpcy5udW1lcmF0b3JfZ2x5cGhzLmZvckVhY2godD0+e3QucmVuZGVyKHRoaXMuY29udGV4dCxuK3IsdGhpcy55X3Bvcyt0aGlzLnBvaW50LzMtMikscis9dC5nZXRNZXRyaWNzKCkud2lkdGh9KSx0aGlzLnJhdGlvZWQpe2NvbnN0IHQ9bityKy4xNip0aGlzLnBvaW50LGU9LjA2KnRoaXMucG9pbnQ7dGhpcy5jb250ZXh0LmJlZ2luUGF0aCgpLHRoaXMuY29udGV4dC5hcmModCx0aGlzLnlfcG9zLS4wOCp0aGlzLnBvaW50LGUsMCwyKk1hdGguUEksITApLHRoaXMuY29udGV4dC5jbG9zZVBhdGgoKSx0aGlzLmNvbnRleHQuZmlsbCgpLHRoaXMuY29udGV4dC5iZWdpblBhdGgoKSx0aGlzLmNvbnRleHQuYXJjKHQsdGhpcy55X3BvcysuMTIqdGhpcy5wb2ludCxlLDAsMipNYXRoLlBJLCEwKSx0aGlzLmNvbnRleHQuY2xvc2VQYXRoKCksdGhpcy5jb250ZXh0LmZpbGwoKSxyKz0uMzIqdGhpcy5wb2ludCx0aGlzLmRlbm9tX2dseXBocy5mb3JFYWNoKHQ9Pnt0LnJlbmRlcih0aGlzLmNvbnRleHQsbityLHRoaXMueV9wb3MrdGhpcy5wb2ludC8zLTIpLHIrPXQuZ2V0TWV0cmljcygpLndpZHRofSl9fX1mdW5jdGlvbiBfKHQpe2xldCBlPTA7cmV0dXJuIHQuZm9yRWFjaCh0PT57dC5rZXlQcm9wcyYmdC5rZXlQcm9wcy5mb3JFYWNoKHQ9PntlKz10LmxpbmUtM30pfSksZT49MD9FLkRPV046RS5VUH1jb25zdCB3PVwiTFwiLE09XCJCXCI7Y2xhc3MgVCBleHRlbmRzIGh7c3RhdGljIGdldERlZmF1bHRCZWFtR3JvdXBzKHQpe3QmJlwiY1wiIT09dHx8KHQ9XCI0LzRcIik7Y29uc3QgZT17XCIxLzJcIjpbXCIxLzJcIl0sXCIyLzJcIjpbXCIxLzJcIl0sXCIzLzJcIjpbXCIxLzJcIl0sXCI0LzJcIjpbXCIxLzJcIl0sXCIxLzRcIjpbXCIxLzRcIl0sXCIyLzRcIjpbXCIxLzRcIl0sXCIzLzRcIjpbXCIxLzRcIl0sXCI0LzRcIjpbXCIxLzRcIl0sXCIxLzhcIjpbXCIxLzhcIl0sXCIyLzhcIjpbXCIyLzhcIl0sXCIzLzhcIjpbXCIzLzhcIl0sXCI0LzhcIjpbXCIyLzhcIl0sXCIxLzE2XCI6W1wiMS8xNlwiXSxcIjIvMTZcIjpbXCIyLzE2XCJdLFwiMy8xNlwiOltcIjMvMTZcIl0sXCI0LzE2XCI6W1wiMi8xNlwiXX1bdF07aWYodm9pZCAwIT09ZSlyZXR1cm4gZS5tYXAodD0+KG5ldyBuKS5wYXJzZSh0KSk7e2NvbnN0IGU9cGFyc2VJbnQodC5zcGxpdChcIi9cIilbMF0sMTApLGk9cGFyc2VJbnQodC5zcGxpdChcIi9cIilbMV0sMTApO2lmKGUlMz09MClyZXR1cm5bbmV3IG4oMyxpKV07aWYoaT40KXJldHVybltuZXcgbigyLGkpXTtpZihpPD00KXJldHVybltuZXcgbigxLGkpXX1yZXR1cm5bbmV3IG4oMSw0KV19c3RhdGljIGFwcGx5QW5kR2V0QmVhbXModCxlLGkpe3JldHVybiBULmdlbmVyYXRlQmVhbXModC5nZXRUaWNrYWJsZXMoKSx7Z3JvdXBzOmksc3RlbV9kaXJlY3Rpb246ZX0pfXN0YXRpYyBnZW5lcmF0ZUJlYW1zKHQsZSl7ZXx8KGU9e30pLGUuZ3JvdXBzJiZlLmdyb3Vwcy5sZW5ndGh8fChlLmdyb3Vwcz1bbmV3IG4oMiw4KV0pO2NvbnN0IGk9ZS5ncm91cHMubWFwKHQ9PntpZighdC5tdWx0aXBseSl0aHJvdyBuZXcgcy5SdW50aW1lRXJyb3IoXCJJbnZhbGlkQmVhbUdyb3Vwc1wiLFwiVGhlIGJlYW0gZ3JvdXBzIG11c3QgYmUgYW4gYXJyYXkgb2YgVmV4LkZsb3cuRnJhY3Rpb25zXCIpO3JldHVybiB0LmNsb25lKCkubXVsdGlwbHkobS5SRVNPTFVUSU9OLDEpfSkscj10O2xldCBvPTAsYT1bXSxoPVtdO2Z1bmN0aW9uIGwoKXtpLmxlbmd0aC0xPm8/bys9MTpvPTB9IWZ1bmN0aW9uKCl7bGV0IHQ9W107ci5mb3JFYWNoKGU9PntpZih0PVtdLGUuc2hvdWxkSWdub3JlVGlja3MoKSlyZXR1cm4gYS5wdXNoKGgpLHZvaWQoaD10KTtoLnB1c2goZSk7Y29uc3Qgcz1pW29dLmNsb25lKCkscj1oLnJlZHVjZSgodCxlKT0+ZS5nZXRUaWNrcygpLmNsb25lKCkuYWRkKHQpLG5ldyBuKDAsMSkpO2NvbnN0IGM9bS5kdXJhdGlvblRvTnVtYmVyKGUuZHVyYXRpb24pPDg7YyYmZS50dXBsZXQmJihzLm51bWVyYXRvcio9Miksci5ncmVhdGVyVGhhbihzKT8oY3x8dC5wdXNoKGgucG9wKCkpLGEucHVzaChoKSxoPXQsbCgpKTpyLmVxdWFscyhzKSYmKGEucHVzaChoKSxoPXQsbCgpKX0pLGgubGVuZ3RoPjAmJmEucHVzaChoKX0oKSxmdW5jdGlvbigpe2NvbnN0IHQ9W107YS5mb3JFYWNoKGk9PntsZXQgcz1bXTtpLmZvckVhY2goKGksbixyKT0+e2NvbnN0IG89MD09PW58fG49PT1yLmxlbmd0aC0xLGE9cltuLTFdLGg9IWUuYmVhbV9yZXN0cyYmaS5pc1Jlc3QoKSxsPWUuYmVhbV9yZXN0cyYmZS5iZWFtX21pZGRsZV9vbmx5JiZpLmlzUmVzdCgpJiZvO2xldCBjPSExO2lmKGUubWFpbnRhaW5fc3RlbV9kaXJlY3Rpb25zJiZhJiYhaS5pc1Jlc3QoKSYmIWEuaXNSZXN0KCkpe2NvbnN0IHQ9YS5nZXRTdGVtRGlyZWN0aW9uKCk7Yz1pLmdldFN0ZW1EaXJlY3Rpb24oKSE9PXR9Y29uc3QgdT1wYXJzZUludChpLmR1cmF0aW9uLDEwKTw4O2h8fGx8fGN8fHU/KHMubGVuZ3RoPjAmJnQucHVzaChzKSxzPWM/W2ldOltdKTpzLnB1c2goaSl9KSxzLmxlbmd0aD4wJiZ0LnB1c2gocyl9KSxhPXR9KCksYS5mb3JFYWNoKHQ9PntsZXQgaTtpZihlLm1haW50YWluX3N0ZW1fZGlyZWN0aW9ucyl7Y29uc3QgZT1mdW5jdGlvbih0KXtmb3IobGV0IGU9MDtlPHQubGVuZ3RoO2UrKyl7Y29uc3QgaT10W2VdO2lmKCFpLmlzUmVzdCgpKXJldHVybiBpfXJldHVybiExfSh0KTtpPWU/ZS5nZXRTdGVtRGlyZWN0aW9uKCk6RS5VUH1lbHNlIGk9ZS5zdGVtX2RpcmVjdGlvbj9lLnN0ZW1fZGlyZWN0aW9uOl8odCk7IWZ1bmN0aW9uKHQsZSl7dC5mb3JFYWNoKHQ9Pnt0LnNldFN0ZW1EaXJlY3Rpb24oZSl9KX0odCxpKX0pO2NvbnN0IGM9YS5maWx0ZXIodD0+e2lmKHQubGVuZ3RoPjEpe2xldCBlPSEwO3JldHVybiB0LmZvckVhY2godD0+e3QuZ2V0SW50cmluc2ljVGlja3MoKT49bS5kdXJhdGlvblRvVGlja3MoXCI0XCIpJiYoZT0hMSl9KSxlfXJldHVybiExfSksdT1mdW5jdGlvbigpe2NvbnN0IHQ9W107cmV0dXJuIGEuZm9yRWFjaChlPT57bGV0IGk9bnVsbDtlLmZvckVhY2goZT0+e2UudHVwbGV0JiZpIT09ZS50dXBsZXQmJihpPWUudHVwbGV0LHQucHVzaChpKSl9KX0pLHR9KCksZD1bXTtyZXR1cm4gYy5mb3JFYWNoKHQ9Pntjb25zdCBpPW5ldyBUKHQpO2Uuc2hvd19zdGVtbGV0cyYmKGkucmVuZGVyX29wdGlvbnMuc2hvd19zdGVtbGV0cz0hMCksZS5zZWNvbmRhcnlfYnJlYWtzJiYoaS5yZW5kZXJfb3B0aW9ucy5zZWNvbmRhcnlfYnJlYWtfdGlja3M9bS5kdXJhdGlvblRvVGlja3MoZS5zZWNvbmRhcnlfYnJlYWtzKSksITA9PT1lLmZsYXRfYmVhbXMmJihpLnJlbmRlcl9vcHRpb25zLmZsYXRfYmVhbXM9ITAsaS5yZW5kZXJfb3B0aW9ucy5mbGF0X2JlYW1fb2Zmc2V0PWUuZmxhdF9iZWFtX29mZnNldCksZC5wdXNoKGkpfSksdS5mb3JFYWNoKHQ9Pntjb25zdCBlPXQubm90ZXNbMF0uc3RlbV9kaXJlY3Rpb249PT1FLkRPV04/di5MT0NBVElPTl9CT1RUT006di5MT0NBVElPTl9UT1A7dC5zZXRUdXBsZXRMb2NhdGlvbihlKTtsZXQgaT0hMTtmb3IobGV0IGU9MDtlPHQubm90ZXMubGVuZ3RoO2UrKyl7aWYobnVsbD09PXQubm90ZXNbZV0uYmVhbSl7aT0hMDticmVha319dC5zZXRCcmFja2V0ZWQoaSl9KSxkfWNvbnN0cnVjdG9yKHQsZSl7aWYoc3VwZXIoKSx0aGlzLnNldEF0dHJpYnV0ZShcInR5cGVcIixcIkJlYW1cIiksIXR8fHQ9PT1bXSl0aHJvdyBuZXcgcy5SdW50aW1lRXJyb3IoXCJCYWRBcmd1bWVudHNcIixcIk5vIG5vdGVzIHByb3ZpZGVkIGZvciBiZWFtLlwiKTtpZigxPT09dC5sZW5ndGgpdGhyb3cgbmV3IHMuUnVudGltZUVycm9yKFwiQmFkQXJndW1lbnRzXCIsXCJUb28gZmV3IG5vdGVzIGZvciBiZWFtLlwiKTtpZih0aGlzLnRpY2tzPXRbMF0uZ2V0SW50cmluc2ljVGlja3MoKSx0aGlzLnRpY2tzPj1tLmR1cmF0aW9uVG9UaWNrcyhcIjRcIikpdGhyb3cgbmV3IHMuUnVudGltZUVycm9yKFwiQmFkQXJndW1lbnRzXCIsXCJCZWFtcyBjYW4gb25seSBiZSBhcHBsaWVkIHRvIG5vdGVzIHNob3J0ZXIgdGhhbiBhIHF1YXJ0ZXIgbm90ZS5cIik7bGV0IGksbjtmb3IodGhpcy5zdGVtX2RpcmVjdGlvbj1FLlVQLGk9MDtpPHQubGVuZ3RoOysraSlpZihuPXRbaV0sbi5oYXNTdGVtKCkpe3RoaXMuc3RlbV9kaXJlY3Rpb249bi5nZXRTdGVtRGlyZWN0aW9uKCk7YnJlYWt9bGV0IHI9dGhpcy5zdGVtX2RpcmVjdGlvbjtpZihlJiZcInN0YXZlbm90ZXNcIj09PXRbMF0uZ2V0Q2F0ZWdvcnkoKSlyPV8odCk7ZWxzZSBpZihlJiZcInRhYm5vdGVzXCI9PT10WzBdLmdldENhdGVnb3J5KCkpe3I9dC5yZWR1Y2UoKHQsZSk9PnQrZS5zdGVtX2RpcmVjdGlvbiwwKT4tMT9FLlVQOkUuRE9XTn1mb3IoaT0wO2k8dC5sZW5ndGg7KytpKW49dFtpXSxlJiYobi5zZXRTdGVtRGlyZWN0aW9uKHIpLHRoaXMuc3RlbV9kaXJlY3Rpb249ciksbi5zZXRCZWFtKHRoaXMpO3RoaXMucG9zdEZvcm1hdHRlZD0hMSx0aGlzLm5vdGVzPXQsdGhpcy5iZWFtX2NvdW50PXRoaXMuZ2V0QmVhbUNvdW50KCksdGhpcy5icmVha19vbl9pbmRpY2VzPVtdLHRoaXMucmVuZGVyX29wdGlvbnM9e2JlYW1fd2lkdGg6NSxtYXhfc2xvcGU6LjI1LG1pbl9zbG9wZTotLjI1LHNsb3BlX2l0ZXJhdGlvbnM6MjAsc2xvcGVfY29zdDoxMDAsc2hvd19zdGVtbGV0czohMSxzdGVtbGV0X2V4dGVuc2lvbjo3LHBhcnRpYWxfYmVhbV9sZW5ndGg6MTAsZmxhdF9iZWFtczohMSxtaW5fZmxhdF9iZWFtX29mZnNldDoxNX19Z2V0Tm90ZXMoKXtyZXR1cm4gdGhpcy5ub3Rlc31nZXRCZWFtQ291bnQoKXtyZXR1cm4gdGhpcy5ub3Rlcy5tYXAodD0+dC5nZXRHbHlwaCgpLmJlYW1fY291bnQpLnJlZHVjZSgodCxlKT0+ZT50P2U6dCl9YnJlYWtTZWNvbmRhcnlBdCh0KXtyZXR1cm4gdGhpcy5icmVha19vbl9pbmRpY2VzPXQsdGhpc31nZXRTbG9wZVkodCxlLGkscyl7cmV0dXJuIGkrKHQtZSkqc31jYWxjdWxhdGVTbG9wZSgpe2NvbnN0e25vdGVzOnQsc3RlbV9kaXJlY3Rpb246ZSxyZW5kZXJfb3B0aW9uczp7bWF4X3Nsb3BlOmksbWluX3Nsb3BlOnMsc2xvcGVfaXRlcmF0aW9uczpuLHNsb3BlX2Nvc3Q6cn19PXRoaXMsbz10WzBdLGE9KCh0LGUpPT57Y29uc3QgaT10LmdldFN0ZW1FeHRlbnRzKCkudG9wWSxzPXQuZ2V0U3RlbVgoKTtyZXR1cm4oZS5nZXRTdGVtRXh0ZW50cygpLnRvcFktaSkvKGUuZ2V0U3RlbVgoKS1zKX0pKG8sdFt0Lmxlbmd0aC0xXSksaD0oaS1zKS9uO2xldCBsPU51bWJlci5NQVhfVkFMVUUsYz0wLHU9MDtmb3IobGV0IG49cztuPD1pO24rPWgpe2xldCBpPTAscz0wO2ZvcihsZXQgcj0xO3I8dC5sZW5ndGg7KytyKXtjb25zdCBhPXRbcl0saD10aGlzLmdldFNsb3BlWShhLmdldFN0ZW1YKCksby5nZXRTdGVtWCgpLG8uZ2V0U3RlbUV4dGVudHMoKS50b3BZLG4pK3MsbD1hLmdldFN0ZW1FeHRlbnRzKCkudG9wWTtpZihsKmU8aCplKXtjb25zdCB0PU1hdGguYWJzKGwtaCk7cys9dCotZSxpKz10KnJ9ZWxzZSBpKz0obC1oKSplfWNvbnN0IGg9YS8yLGQ9cipNYXRoLmFicyhoLW4pK01hdGguYWJzKGkpO2Q8bCYmKGw9ZCxjPW4sdT1zKX10aGlzLnNsb3BlPWMsdGhpcy55X3NoaWZ0PXV9Y2FsY3VsYXRlRmxhdFNsb3BlKCl7Y29uc3R7bm90ZXM6dCxzdGVtX2RpcmVjdGlvbjplLHJlbmRlcl9vcHRpb25zOntiZWFtX3dpZHRoOmksbWluX2ZsYXRfYmVhbV9vZmZzZXQ6cyxmbGF0X2JlYW1fb2Zmc2V0Om59fT10aGlzO2xldCByPTAsbz0wLGE9MCxoPTA7Zm9yKGxldCBpPTA7aTx0Lmxlbmd0aDtpKyspe2NvbnN0IHM9dFtpXSxuPXMuZ2V0U3RlbUV4dGVudHMoKS50b3BZO3IrPW4sZT09PUUuRE9XTiYmaDxuPyhoPW4sbz1NYXRoLm1heCguLi5zLmdldFlzKCkpLGE9cy5nZXRCZWFtQ291bnQoKSk6ZT09PUUuVVAmJigwPT09aHx8aD5uKSYmKGg9bixvPU1hdGgubWluKC4uLnMuZ2V0WXMoKSksYT1zLmdldEJlYW1Db3VudCgpKX1sZXQgbD1yL3QubGVuZ3RoO2NvbnN0IGM9cythKigxLjUqaSksdT1vK2MqLWU7ZT09PUUuRE9XTiYmbDx1P2w9bytjOmU9PT1FLlVQJiZsPnUmJihsPW8tYyksbj8oZT09PUUuRE9XTiYmbD5ufHxlPT09RS5VUCYmbDxuKSYmKHRoaXMucmVuZGVyX29wdGlvbnMuZmxhdF9iZWFtX29mZnNldD1sKTp0aGlzLnJlbmRlcl9vcHRpb25zLmZsYXRfYmVhbV9vZmZzZXQ9bCx0aGlzLnNsb3BlPTAsdGhpcy55X3NoaWZ0PTB9Z2V0QmVhbVlUb0RyYXcoKXtsZXQgdD10aGlzLm5vdGVzWzBdLmdldFN0ZW1FeHRlbnRzKCkudG9wWTtyZXR1cm4gdGhpcy5yZW5kZXJfb3B0aW9ucy5mbGF0X2JlYW1zJiZ0aGlzLnJlbmRlcl9vcHRpb25zLmZsYXRfYmVhbV9vZmZzZXQmJih0PXRoaXMucmVuZGVyX29wdGlvbnMuZmxhdF9iZWFtX29mZnNldCksdH1hcHBseVN0ZW1FeHRlbnNpb25zKCl7Y29uc3R7bm90ZXM6dCxzbG9wZTplLHlfc2hpZnQ6aSxzdGVtX2RpcmVjdGlvbjpzLGJlYW1fY291bnQ6bixyZW5kZXJfb3B0aW9uczp7c2hvd19zdGVtbGV0czpyLHN0ZW1sZXRfZXh0ZW5zaW9uOm8sYmVhbV93aWR0aDphfX09dGhpcyxoPXRbMF0sbD10aGlzLmdldEJlYW1ZVG9EcmF3KCksYz1oLmdldFN0ZW1YKCk7Zm9yKGxldCBoPTA7aDx0Lmxlbmd0aDsrK2gpe2NvbnN0IHU9dFtoXSxkPXUuZ2V0U3RlbVgoKSx7dG9wWTpmfT11LmdldFN0ZW1FeHRlbnRzKCksbT10aGlzLmdldFNsb3BlWShkLGMsbCxlKStpLHA9dS5nZXRTdGVtKCkuZ2V0RXh0ZW5zaW9uKCksZz1zPT09RS5VUD9mLW06bS1mO2lmKHUuc3RlbS5zZXRFeHRlbnNpb24ocCtnKSx1LnN0ZW0ucmVuZGVySGVpZ2h0QWRqdXN0bWVudD0tRS5XSURUSC8yLHUuaXNSZXN0KCkmJnIpe2NvbnN0IHQ9KG4tMSkqYSoxLjUrYTt1LnN0ZW0uc2V0VmlzaWJpbGl0eSghMCkuc2V0U3RlbWxldCghMCx0K28pfX19bG9va3VwQmVhbURpcmVjdGlvbih0LGUsaSxzKXtpZihcIjRcIj09PXQpcmV0dXJuIHc7Y29uc3Qgbj1gJHttLmR1cmF0aW9uVG9OdW1iZXIodCkvMn1gLHI9ZTxtLmR1cmF0aW9uVG9UaWNrcyhuKSxvPXM8bS5kdXJhdGlvblRvVGlja3MobiksYT1pPG0uZHVyYXRpb25Ub1RpY2tzKG4pO3JldHVybiByJiZvJiZhP006ciYmIW8mJmE/dzohciYmbyYmYT9cIlJcIjp0aGlzLmxvb2t1cEJlYW1EaXJlY3Rpb24obixlLGkscyl9Z2V0QmVhbUxpbmVzKHQpe2NvbnN0IGU9bS5kdXJhdGlvblRvVGlja3ModCksaT1bXTtsZXQgcz0hMSxuPW51bGw7Y29uc3Qgcj10aGlzLnJlbmRlcl9vcHRpb25zLnBhcnRpYWxfYmVhbV9sZW5ndGg7bGV0IG89ITEsYT0wO2ZvcihsZXQgaD0wO2g8dGhpcy5ub3Rlcy5sZW5ndGg7KytoKXtjb25zdCBsPXRoaXMubm90ZXNbaF07YSs9bC50aWNrcy52YWx1ZSgpO2xldCBjPSExO3BhcnNlSW50KHQsMTApPj04JiYoYz0tMSE9PXRoaXMuYnJlYWtfb25faW5kaWNlcy5pbmRleE9mKGgpLHRoaXMucmVuZGVyX29wdGlvbnMuc2Vjb25kYXJ5X2JyZWFrX3RpY2tzJiZhPj10aGlzLnJlbmRlcl9vcHRpb25zLnNlY29uZGFyeV9icmVha190aWNrcyYmKGE9MCxjPSEwKSk7Y29uc3QgdT1sLmdldEludHJpbnNpY1RpY2tzKCk8ZSxkPWwuZ2V0U3RlbVgoKS1FLldJRFRILzIsZj10aGlzLm5vdGVzW2gtMV0sbT10aGlzLm5vdGVzW2grMV0scD1tJiZtLmdldEludHJpbnNpY1RpY2tzKCk8ZSxnPWYmJmYuZ2V0SW50cmluc2ljVGlja3MoKTxlLGI9ZiYmbSYmdSYmIWcmJiFwO2lmKHUpaWYocyluPWlbaS5sZW5ndGgtMV0sbi5lbmQ9ZCxjJiYocz0hMSxtJiYhcCYmbnVsbD09PW4uZW5kJiYobi5lbmQ9bi5zdGFydC1yKSk7ZWxzZXtpZihuPXtzdGFydDpkLGVuZDpudWxsfSxzPSEwLGIpe2NvbnN0IGU9Zi5nZXRJbnRyaW5zaWNUaWNrcygpLGk9bS5nZXRJbnRyaW5zaWNUaWNrcygpLHM9bC5nZXRJbnRyaW5zaWNUaWNrcygpLG89dGhpcy5sb29rdXBCZWFtRGlyZWN0aW9uKHQsZSxzLGkpO1t3LE1dLmluY2x1ZGVzKG8pP24uZW5kPW4uc3RhcnQtcjpuLmVuZD1uLnN0YXJ0K3J9ZWxzZSBwP2MmJihuLmVuZD1uLnN0YXJ0LXIscz0hMSk6bi5lbmQ9KG98fDA9PT1oKSYmbT9uLnN0YXJ0K3I6bi5zdGFydC1yO2kucHVzaChuKX1lbHNlIHM9ITE7bz1jfWNvbnN0IGg9aVtpLmxlbmd0aC0xXTtyZXR1cm4gaCYmbnVsbD09PWguZW5kJiYoaC5lbmQ9aC5zdGFydC1yKSxpfWRyYXdTdGVtcygpe3RoaXMubm90ZXMuZm9yRWFjaCh0PT57dC5nZXRTdGVtKCkmJnQuZ2V0U3RlbSgpLnNldENvbnRleHQodGhpcy5jb250ZXh0KS5kcmF3KCl9LHRoaXMpfWRyYXdCZWFtTGluZXMoKXt0aGlzLmNoZWNrQ29udGV4dCgpO2NvbnN0IHQ9W1wiNFwiLFwiOFwiLFwiMTZcIixcIjMyXCIsXCI2NFwiXSxlPXRoaXMubm90ZXNbMF07bGV0IGk9dGhpcy5nZXRCZWFtWVRvRHJhdygpO2NvbnN0IHM9ZS5nZXRTdGVtWCgpLG49dGhpcy5yZW5kZXJfb3B0aW9ucy5iZWFtX3dpZHRoKnRoaXMuc3RlbV9kaXJlY3Rpb247Zm9yKGxldCBlPTA7ZTx0Lmxlbmd0aDsrK2Upe2NvbnN0IHI9dFtlXSxvPXRoaXMuZ2V0QmVhbUxpbmVzKHIpO2ZvcihsZXQgdD0wO3Q8by5sZW5ndGg7Kyt0KXtjb25zdCBlPW9bdF0scj1lLnN0YXJ0LGE9dGhpcy5nZXRTbG9wZVkocixzLGksdGhpcy5zbG9wZSksaD1lLmVuZCxsPXRoaXMuZ2V0U2xvcGVZKGgscyxpLHRoaXMuc2xvcGUpO3RoaXMuY29udGV4dC5iZWdpblBhdGgoKSx0aGlzLmNvbnRleHQubW92ZVRvKHIsYSksdGhpcy5jb250ZXh0LmxpbmVUbyhyLGErbiksdGhpcy5jb250ZXh0LmxpbmVUbyhoKzEsbCtuKSx0aGlzLmNvbnRleHQubGluZVRvKGgrMSxsKSx0aGlzLmNvbnRleHQuY2xvc2VQYXRoKCksdGhpcy5jb250ZXh0LmZpbGwoKX1pKz0xLjUqbn19cHJlRm9ybWF0KCl7cmV0dXJuIHRoaXN9cG9zdEZvcm1hdCgpe3RoaXMucG9zdEZvcm1hdHRlZHx8KFwidGFibm90ZXNcIj09PXRoaXMubm90ZXNbMF0uZ2V0Q2F0ZWdvcnkoKXx8dGhpcy5yZW5kZXJfb3B0aW9ucy5mbGF0X2JlYW1zP3RoaXMuY2FsY3VsYXRlRmxhdFNsb3BlKCk6dGhpcy5jYWxjdWxhdGVTbG9wZSgpLHRoaXMuYXBwbHlTdGVtRXh0ZW5zaW9ucygpLHRoaXMucG9zdEZvcm1hdHRlZD0hMCl9ZHJhdygpe3RoaXMuY2hlY2tDb250ZXh0KCksdGhpcy5zZXRSZW5kZXJlZCgpLHRoaXMudW5iZWFtYWJsZXx8KHRoaXMucG9zdEZvcm1hdHRlZHx8dGhpcy5wb3N0Rm9ybWF0KCksdGhpcy5kcmF3U3RlbXMoKSx0aGlzLmFwcGx5U3R5bGUoKSx0aGlzLmRyYXdCZWFtTGluZXMoKSx0aGlzLnJlc3RvcmVTdHlsZSgpKX19Y2xhc3MgUCBleHRlbmRzIGh7c3RhdGljIGdldCBNb2RlKCl7cmV0dXJue1NUUklDVDoxLFNPRlQ6MixGVUxMOjN9fWNvbnN0cnVjdG9yKHQpe2lmKHN1cGVyKCksdGhpcy5zZXRBdHRyaWJ1dGUoXCJ0eXBlXCIsXCJWb2ljZVwiKSxcInN0cmluZ1wiPT10eXBlb2YgdCl7Y29uc3QgZT10Lm1hdGNoKC8oXFxkKylcXC8oXFxkKykvKTtlJiYodD17bnVtX2JlYXRzOmVbMV0sYmVhdF92YWx1ZTplWzJdLHJlc29sdXRpb246bS5SRVNPTFVUSU9OfSl9dGhpcy50aW1lPXMuTWVyZ2Uoe251bV9iZWF0czo0LGJlYXRfdmFsdWU6NCxyZXNvbHV0aW9uOm0uUkVTT0xVVElPTn0sdCksdGhpcy50b3RhbFRpY2tzPW5ldyBuKHRoaXMudGltZS5udW1fYmVhdHMqKHRoaXMudGltZS5yZXNvbHV0aW9uL3RoaXMudGltZS5iZWF0X3ZhbHVlKSwxKSx0aGlzLnJlc29sdXRpb25NdWx0aXBsaWVyPTEsdGhpcy50aWNrYWJsZXM9W10sdGhpcy50aWNrc1VzZWQ9bmV3IG4oMCwxKSx0aGlzLnNtYWxsZXN0VGlja0NvdW50PXRoaXMudG90YWxUaWNrcy5jbG9uZSgpLHRoaXMubGFyZ2VzdFRpY2tXaWR0aD0wLHRoaXMuc3RhdmU9bnVsbCx0aGlzLm1vZGU9UC5Nb2RlLlNUUklDVCx0aGlzLnZvaWNlR3JvdXA9bnVsbH1nZXRUb3RhbFRpY2tzKCl7cmV0dXJuIHRoaXMudG90YWxUaWNrc31nZXRUaWNrc1VzZWQoKXtyZXR1cm4gdGhpcy50aWNrc1VzZWR9Z2V0TGFyZ2VzdFRpY2tXaWR0aCgpe3JldHVybiB0aGlzLmxhcmdlc3RUaWNrV2lkdGh9Z2V0U21hbGxlc3RUaWNrQ291bnQoKXtyZXR1cm4gdGhpcy5zbWFsbGVzdFRpY2tDb3VudH1nZXRUaWNrYWJsZXMoKXtyZXR1cm4gdGhpcy50aWNrYWJsZXN9Z2V0TW9kZSgpe3JldHVybiB0aGlzLm1vZGV9c2V0TW9kZSh0KXtyZXR1cm4gdGhpcy5tb2RlPXQsdGhpc31nZXRSZXNvbHV0aW9uTXVsdGlwbGllcigpe3JldHVybiB0aGlzLnJlc29sdXRpb25NdWx0aXBsaWVyfWdldEFjdHVhbFJlc29sdXRpb24oKXtyZXR1cm4gdGhpcy5yZXNvbHV0aW9uTXVsdGlwbGllcip0aGlzLnRpbWUucmVzb2x1dGlvbn1zZXRTdGF2ZSh0KXtyZXR1cm4gdGhpcy5zdGF2ZT10LHRoaXMuYm91bmRpbmdCb3g9bnVsbCx0aGlzfWdldEJvdW5kaW5nQm94KCl7bGV0IHQsZSxpLG47aWYoIXRoaXMuYm91bmRpbmdCb3gpe2lmKCF0aGlzLnN0YXZlKXRocm93IG5ldyBzLlJFUlIoXCJOb1N0YXZlXCIsXCJDYW4ndCBnZXQgYm91bmRpbmcgYm94IHdpdGhvdXQgc3RhdmUuXCIpO2Zvcih0PXRoaXMuc3RhdmUsZT1udWxsLG49MDtuPHRoaXMudGlja2FibGVzLmxlbmd0aDsrK24pdGhpcy50aWNrYWJsZXNbbl0uc2V0U3RhdmUodCksaT10aGlzLnRpY2thYmxlc1tuXS5nZXRCb3VuZGluZ0JveCgpLGkmJihlPWU/ZS5tZXJnZVdpdGgoaSk6aSk7dGhpcy5ib3VuZGluZ0JveD1lfXJldHVybiB0aGlzLmJvdW5kaW5nQm94fWdldFZvaWNlR3JvdXAoKXtpZighdGhpcy52b2ljZUdyb3VwKXRocm93IG5ldyBzLlJFUlIoXCJOb1ZvaWNlR3JvdXBcIixcIk5vIHZvaWNlIGdyb3VwIGZvciB2b2ljZS5cIik7cmV0dXJuIHRoaXMudm9pY2VHcm91cH1zZXRWb2ljZUdyb3VwKHQpe3JldHVybiB0aGlzLnZvaWNlR3JvdXA9dCx0aGlzfXNldFN0cmljdCh0KXtyZXR1cm4gdGhpcy5tb2RlPXQ/UC5Nb2RlLlNUUklDVDpQLk1vZGUuU09GVCx0aGlzfWlzQ29tcGxldGUoKXtyZXR1cm4gdGhpcy5tb2RlIT09UC5Nb2RlLlNUUklDVCYmdGhpcy5tb2RlIT09UC5Nb2RlLkZVTEx8fHRoaXMudGlja3NVc2VkLmVxdWFscyh0aGlzLnRvdGFsVGlja3MpfWFkZFRpY2thYmxlKHQpe2lmKCF0LnNob3VsZElnbm9yZVRpY2tzKCkpe2NvbnN0IGU9dC5nZXRUaWNrcygpO2lmKHRoaXMudGlja3NVc2VkLmFkZChlKSwodGhpcy5tb2RlPT09UC5Nb2RlLlNUUklDVHx8dGhpcy5tb2RlPT09UC5Nb2RlLkZVTEwpJiZ0aGlzLnRpY2tzVXNlZC5ncmVhdGVyVGhhbih0aGlzLnRvdGFsVGlja3MpKXRocm93IHRoaXMudGlja3NVc2VkLnN1YnRyYWN0KGUpLG5ldyBzLlJFUlIoXCJCYWRBcmd1bWVudFwiLFwiVG9vIG1hbnkgdGlja3MuXCIpO2UubGVzc1RoYW4odGhpcy5zbWFsbGVzdFRpY2tDb3VudCkmJih0aGlzLnNtYWxsZXN0VGlja0NvdW50PWUuY2xvbmUoKSksdGhpcy5yZXNvbHV0aW9uTXVsdGlwbGllcj10aGlzLnRpY2tzVXNlZC5kZW5vbWluYXRvcix0aGlzLnRvdGFsVGlja3MuYWRkKDAsdGhpcy50aWNrc1VzZWQuZGVub21pbmF0b3IpfXJldHVybiB0aGlzLnRpY2thYmxlcy5wdXNoKHQpLHQuc2V0Vm9pY2UodGhpcyksdGhpc31hZGRUaWNrYWJsZXModCl7Zm9yKGxldCBlPTA7ZTx0Lmxlbmd0aDsrK2UpdGhpcy5hZGRUaWNrYWJsZSh0W2VdKTtyZXR1cm4gdGhpc31wcmVGb3JtYXQoKXtyZXR1cm4gdGhpcy5wcmVGb3JtYXR0ZWR8fCh0aGlzLnRpY2thYmxlcy5mb3JFYWNoKHQ9Pnt0LmdldFN0YXZlKCl8fHQuc2V0U3RhdmUodGhpcy5zdGF2ZSl9KSx0aGlzLnByZUZvcm1hdHRlZD0hMCksdGhpc31kcmF3KHQ9dGhpcy5jb250ZXh0LGU9dGhpcy5zdGF2ZSl7dGhpcy5zZXRSZW5kZXJlZCgpO2xldCBpPW51bGw7Zm9yKGxldCBuPTA7bjx0aGlzLnRpY2thYmxlcy5sZW5ndGg7KytuKXtjb25zdCByPXRoaXMudGlja2FibGVzW25dO2lmKGUmJnIuc2V0U3RhdmUoZSksIXIuZ2V0U3RhdmUoKSl0aHJvdyBuZXcgcy5SdW50aW1lRXJyb3IoXCJNaXNzaW5nU3RhdmVcIixcIlRoZSB2b2ljZSBjYW5ub3QgZHJhdyB0aWNrYWJsZXMgd2l0aG91dCBzdGF2ZXMuXCIpO2lmKDA9PT1uJiYoaT1yLmdldEJvdW5kaW5nQm94KCkpLG4+MCYmaSl7Y29uc3QgdD1yLmdldEJvdW5kaW5nQm94KCk7dCYmaS5tZXJnZVdpdGgodCl9ci5zZXRDb250ZXh0KHQpLHIuZHJhd1dpdGhTdHlsZSgpfXRoaXMuYm91bmRpbmdCb3g9aX19ZnVuY3Rpb24gTCh0LGUsaSxuLHIpe2lmKGUhPT1BLnR5cGUuQk9MRF9ET1VCTEVfTEVGVCYmZSE9PUEudHlwZS5CT0xEX0RPVUJMRV9SSUdIVCl0aHJvdyBuZXcgcy5SRVJSKFwiSW52YWxpZENvbm5lY3RvclwiLFwiQSBSRVBFQVRfQkVHSU4gb3IgUkVQRUFUX0VORCB0eXBlIG11c3QgYmUgcHJvdmlkZWQuXCIpO2xldCBvPTMsYT0zLjU7ZT09PUEudHlwZS5CT0xEX0RPVUJMRV9SSUdIVCYmKG89LTUsYT0zKSx0LmZpbGxSZWN0KGkrbyxuLDEsci1uKSx0LmZpbGxSZWN0KGktMixuLGEsci1uKX1jbGFzcyBBIGV4dGVuZHMgaHtzdGF0aWMgZ2V0IHR5cGUoKXtyZXR1cm57U0lOR0xFX1JJR0hUOjAsU0lOR0xFX0xFRlQ6MSxTSU5HTEU6MSxET1VCTEU6MixCUkFDRTozLEJSQUNLRVQ6NCxCT0xEX0RPVUJMRV9MRUZUOjUsQk9MRF9ET1VCTEVfUklHSFQ6NixUSElOX0RPVUJMRTo3LE5PTkU6OH19c3RhdGljIGdldCB0eXBlU3RyaW5nKCl7cmV0dXJue3NpbmdsZVJpZ2h0OkEudHlwZS5TSU5HTEVfUklHSFQsc2luZ2xlTGVmdDpBLnR5cGUuU0lOR0xFX0xFRlQsc2luZ2xlOkEudHlwZS5TSU5HTEUsZG91YmxlOkEudHlwZS5ET1VCTEUsYnJhY2U6QS50eXBlLkJSQUNFLGJyYWNrZXQ6QS50eXBlLkJSQUNLRVQsYm9sZERvdWJsZUxlZnQ6QS50eXBlLkJPTERfRE9VQkxFX0xFRlQsYm9sZERvdWJsZVJpZ2h0OkEudHlwZS5CT0xEX0RPVUJMRV9SSUdIVCx0aGluRG91YmxlOkEudHlwZS5USElOX0RPVUJMRSxub25lOkEudHlwZS5OT05FfX1jb25zdHJ1Y3Rvcih0LGUpe3N1cGVyKCksdGhpcy5zZXRBdHRyaWJ1dGUoXCJ0eXBlXCIsXCJTdGF2ZUNvbm5lY3RvclwiKSx0aGlzLnRoaWNrbmVzcz1tLlNUQVZFX0xJTkVfVEhJQ0tORVNTLHRoaXMud2lkdGg9Myx0aGlzLnRvcF9zdGF2ZT10LHRoaXMuYm90dG9tX3N0YXZlPWUsdGhpcy50eXBlPUEudHlwZS5ET1VCTEUsdGhpcy5mb250PXtmYW1pbHk6XCJ0aW1lc1wiLHNpemU6MTYsd2VpZ2h0Olwibm9ybWFsXCJ9LHRoaXMueF9zaGlmdD0wLHRoaXMudGV4dHM9W119c2V0VHlwZSh0KXtyZXR1cm4odD1cInN0cmluZ1wiPT10eXBlb2YgdD9BLnR5cGVTdHJpbmdbdF06dCk+PUEudHlwZS5TSU5HTEVfUklHSFQmJnQ8PUEudHlwZS5OT05FJiYodGhpcy50eXBlPXQpLHRoaXN9c2V0VGV4dCh0LGUpe3JldHVybiB0aGlzLnRleHRzLnB1c2goe2NvbnRlbnQ6dCxvcHRpb25zOnMuTWVyZ2Uoe3NoaWZ0X3g6MCxzaGlmdF95OjB9LGUpfSksdGhpc31zZXRGb250KHQpe3MuTWVyZ2UodGhpcy5mb250LHQpfXNldFhTaGlmdCh0KXtpZihcIm51bWJlclwiIT10eXBlb2YgdCl0aHJvdyBzLlJFUlIoXCJJbnZhbGlkVHlwZVwiLFwieF9zaGlmdCBtdXN0IGJlIGEgTnVtYmVyXCIpO3JldHVybiB0aGlzLnhfc2hpZnQ9dCx0aGlzfWRyYXcoKXtjb25zdCB0PXRoaXMuY2hlY2tDb250ZXh0KCk7dGhpcy5zZXRSZW5kZXJlZCgpO2xldCBlPXRoaXMudG9wX3N0YXZlLmdldFlGb3JMaW5lKDApLGk9dGhpcy5ib3R0b21fc3RhdmUuZ2V0WUZvckxpbmUodGhpcy5ib3R0b21fc3RhdmUuZ2V0TnVtTGluZXMoKS0xKSt0aGlzLnRoaWNrbmVzcyxuPXRoaXMud2lkdGgscj10aGlzLnRvcF9zdGF2ZS5nZXRYKCk7KHRoaXMudHlwZT09PUEudHlwZS5TSU5HTEVfUklHSFR8fHRoaXMudHlwZT09PUEudHlwZS5CT0xEX0RPVUJMRV9SSUdIVHx8dGhpcy50eXBlPT09QS50eXBlLlRISU5fRE9VQkxFKSYmKHI9dGhpcy50b3Bfc3RhdmUuZ2V0WCgpK3RoaXMudG9wX3N0YXZlLndpZHRoKTtsZXQgbz1pLWU7c3dpdGNoKHRoaXMudHlwZSl7Y2FzZSBBLnR5cGUuU0lOR0xFOmNhc2UgQS50eXBlLlNJTkdMRV9MRUZUOmNhc2UgQS50eXBlLlNJTkdMRV9SSUdIVDpuPTE7YnJlYWs7Y2FzZSBBLnR5cGUuRE9VQkxFOnItPXRoaXMud2lkdGgrMjticmVhaztjYXNlIEEudHlwZS5CUkFDRTp7bj0xMjtjb25zdCBzPXRoaXMudG9wX3N0YXZlLmdldFgoKS0yK3RoaXMueF9zaGlmdCxyPWUsYT1zLGg9aSxsPXMtbixjPXIrby8yLHU9bC0uOSpuLGQ9cisuMipvLGY9cysxLjEqbixtPWMtLjEzNSpvLHA9ZixnPWMrLjEzNSpvLGI9dSxTPWgtLjIqbyx5PWwtbix4PVMsRT1zKy40Km4sdj1jKy4xMzUqbyxfPUUsdz1jLS4xMzUqbyxNPXksVD1kO3QuYmVnaW5QYXRoKCksdC5tb3ZlVG8ocyxyKSx0LmJlemllckN1cnZlVG8odSxkLGYsbSxsLGMpLHQuYmV6aWVyQ3VydmVUbyhwLGcsYixTLGEsaCksdC5iZXppZXJDdXJ2ZVRvKHkseCxFLHYsbCxjKSx0LmJlemllckN1cnZlVG8oXyx3LE0sVCxzLHIpLHQuZmlsbCgpLHQuc3Ryb2tlKCk7YnJlYWt9Y2FzZSBBLnR5cGUuQlJBQ0tFVDplLT00LGkrPTQsbz1pLWUsZi5yZW5kZXJHbHlwaCh0LHItNSxlLTMsNDAsXCJ2MWJcIiwhMCksZi5yZW5kZXJHbHlwaCh0LHItNSxpKzMsNDAsXCJ2MTBcIiwhMCksci09dGhpcy53aWR0aCsyO2JyZWFrO2Nhc2UgQS50eXBlLkJPTERfRE9VQkxFX0xFRlQ6TCh0LHRoaXMudHlwZSxyK3RoaXMueF9zaGlmdCxlLGkpO2JyZWFrO2Nhc2UgQS50eXBlLkJPTERfRE9VQkxFX1JJR0hUOkwodCx0aGlzLnR5cGUscixlLGkpO2JyZWFrO2Nhc2UgQS50eXBlLlRISU5fRE9VQkxFOm49MTticmVhaztjYXNlIEEudHlwZS5OT05FOmJyZWFrO2RlZmF1bHQ6dGhyb3cgbmV3IHMuUkVSUihcIkludmFsaWRUeXBlXCIsYFRoZSBwcm92aWRlZCBTdGF2ZUNvbm5lY3Rvci50eXBlICgke3RoaXMudHlwZX0pIGlzIGludmFsaWRgKX10aGlzLnR5cGUhPT1BLnR5cGUuQlJBQ0UmJnRoaXMudHlwZSE9PUEudHlwZS5CT0xEX0RPVUJMRV9MRUZUJiZ0aGlzLnR5cGUhPT1BLnR5cGUuQk9MRF9ET1VCTEVfUklHSFQmJnRoaXMudHlwZSE9PUEudHlwZS5OT05FJiZ0LmZpbGxSZWN0KHIsZSxuLG8pLHRoaXMudHlwZT09PUEudHlwZS5USElOX0RPVUJMRSYmdC5maWxsUmVjdChyLTMsZSxuLG8pLHQuc2F2ZSgpLHQubGluZVdpZHRoPTIsdC5zZXRGb250KHRoaXMuZm9udC5mYW1pbHksdGhpcy5mb250LnNpemUsdGhpcy5mb250LndlaWdodCk7Zm9yKGxldCBlPTA7ZTx0aGlzLnRleHRzLmxlbmd0aDtlKyspe2NvbnN0IGk9dGhpcy50ZXh0c1tlXSxzPXQubWVhc3VyZVRleHQoXCJcIitpLmNvbnRlbnQpLndpZHRoLG49dGhpcy50b3Bfc3RhdmUuZ2V0WCgpLXMtMjQraS5vcHRpb25zLnNoaWZ0X3gscj0odGhpcy50b3Bfc3RhdmUuZ2V0WUZvckxpbmUoMCkrdGhpcy5ib3R0b21fc3RhdmUuZ2V0Qm90dG9tTGluZVkoKSkvMitpLm9wdGlvbnMuc2hpZnRfeTt0LmZpbGxUZXh0KFwiXCIraS5jb250ZW50LG4scis0KX10LnJlc3RvcmUoKX19Y2xhc3MgSSBleHRlbmRzIGh7Y29uc3RydWN0b3IoKXtzdXBlcigpLHRoaXMuc2V0QXR0cmlidXRlKFwidHlwZVwiLFwiVGlja2FibGVcIiksdGhpcy50aWNrcz1uZXcgbigwLDEpLHRoaXMuaW50cmluc2ljVGlja3M9MCx0aGlzLnRpY2tNdWx0aXBsaWVyPW5ldyBuKDEsMSksdGhpcy53aWR0aD0wLHRoaXMueF9zaGlmdD0wLHRoaXMudm9pY2U9bnVsbCx0aGlzLnRpY2tDb250ZXh0PW51bGwsdGhpcy5tb2RpZmllckNvbnRleHQ9bnVsbCx0aGlzLm1vZGlmaWVycz1bXSx0aGlzLnByZUZvcm1hdHRlZD0hMSx0aGlzLnBvc3RGb3JtYXR0ZWQ9ITEsdGhpcy50dXBsZXQ9bnVsbCx0aGlzLnR1cGxldFN0YWNrPVtdLHRoaXMuYWxpZ25fY2VudGVyPSExLHRoaXMuY2VudGVyX3hfc2hpZnQ9MCx0aGlzLmlnbm9yZV90aWNrcz0hMSx0aGlzLmZvcm1hdHRlck1ldHJpY3M9e2ZyZWVkb206e2xlZnQ6MCxyaWdodDowfSxkdXJhdGlvbjpcIlwiLGl0ZXJhdGlvbnM6MCxzcGFjZTp7dXNlZDowLG1lYW46MCxkZXZpYXRpb246MH19fXJlc2V0KCl7cmV0dXJuIHRoaXN9Z2V0VGlja3MoKXtyZXR1cm4gdGhpcy50aWNrc31zaG91bGRJZ25vcmVUaWNrcygpe3JldHVybiB0aGlzLmlnbm9yZV90aWNrc31nZXRXaWR0aCgpe3JldHVybiB0aGlzLndpZHRofWdldEZvcm1hdHRlck1ldHJpY3MoKXtyZXR1cm4gdGhpcy5mb3JtYXR0ZXJNZXRyaWNzfXNldFhTaGlmdCh0KXt0aGlzLnhfc2hpZnQ9dH1nZXRDZW50ZXJYU2hpZnQoKXtyZXR1cm4gdGhpcy5pc0NlbnRlckFsaWduZWQoKT90aGlzLmNlbnRlcl94X3NoaWZ0OjB9aXNDZW50ZXJBbGlnbmVkKCl7cmV0dXJuIHRoaXMuYWxpZ25fY2VudGVyfXNldENlbnRlckFsaWdubWVudCh0KXtyZXR1cm4gdGhpcy5hbGlnbl9jZW50ZXI9dCx0aGlzfWdldFZvaWNlKCl7aWYoIXRoaXMudm9pY2UpdGhyb3cgbmV3IHMuUkVSUihcIk5vVm9pY2VcIixcIlRpY2thYmxlIGhhcyBubyB2b2ljZS5cIik7cmV0dXJuIHRoaXMudm9pY2V9c2V0Vm9pY2UodCl7dGhpcy52b2ljZT10fWdldFR1cGxldCgpe3JldHVybiB0aGlzLnR1cGxldH1yZXNldFR1cGxldCh0KXtsZXQgZSxpO2lmKHQpe2NvbnN0IHM9dGhpcy50dXBsZXRTdGFjay5pbmRleE9mKHQpO3JldHVybi0xIT09cyYmKHRoaXMudHVwbGV0U3RhY2suc3BsaWNlKHMsMSksZT10LmdldE5vdGVDb3VudCgpLGk9dC5nZXROb3Rlc09jY3VwaWVkKCksdGhpcy5hcHBseVRpY2tNdWx0aXBsaWVyKGUsaSkpLHRoaXN9Zm9yKDt0aGlzLnR1cGxldFN0YWNrLmxlbmd0aDspZT0odD10aGlzLnR1cGxldFN0YWNrLnBvcCgpKS5nZXROb3RlQ291bnQoKSxpPXQuZ2V0Tm90ZXNPY2N1cGllZCgpLHRoaXMuYXBwbHlUaWNrTXVsdGlwbGllcihlLGkpO3JldHVybiB0aGlzfXNldFR1cGxldCh0KXtpZih0KXt0aGlzLnR1cGxldFN0YWNrLnB1c2godCk7Y29uc3QgZT10LmdldE5vdGVDb3VudCgpLGk9dC5nZXROb3Rlc09jY3VwaWVkKCk7dGhpcy5hcHBseVRpY2tNdWx0aXBsaWVyKGksZSl9cmV0dXJuIHRoaXMudHVwbGV0PXQsdGhpc31hZGRUb01vZGlmaWVyQ29udGV4dCh0KXt0aGlzLm1vZGlmaWVyQ29udGV4dD10LHRoaXMucHJlRm9ybWF0dGVkPSExfWFkZE1vZGlmaWVyKHQpe3JldHVybiB0aGlzLm1vZGlmaWVycy5wdXNoKHQpLHRoaXMucHJlRm9ybWF0dGVkPSExLHRoaXN9Z2V0TW9kaWZpZXJzKCl7cmV0dXJuIHRoaXMubW9kaWZpZXJzfXNldFRpY2tDb250ZXh0KHQpe3RoaXMudGlja0NvbnRleHQ9dCx0aGlzLnByZUZvcm1hdHRlZD0hMX1wcmVGb3JtYXQoKXt0aGlzLnByZUZvcm1hdHRlZHx8KHRoaXMud2lkdGg9MCx0aGlzLm1vZGlmaWVyQ29udGV4dCYmKHRoaXMubW9kaWZpZXJDb250ZXh0LnByZUZvcm1hdCgpLHRoaXMud2lkdGgrPXRoaXMubW9kaWZpZXJDb250ZXh0LmdldFdpZHRoKCkpKX1wb3N0Rm9ybWF0KCl7cmV0dXJuIHRoaXMucG9zdEZvcm1hdHRlZHx8KHRoaXMucG9zdEZvcm1hdHRlZD0hMCksdGhpc31nZXRJbnRyaW5zaWNUaWNrcygpe3JldHVybiB0aGlzLmludHJpbnNpY1RpY2tzfXNldEludHJpbnNpY1RpY2tzKHQpe3RoaXMuaW50cmluc2ljVGlja3M9dCx0aGlzLnRpY2tzPXRoaXMudGlja011bHRpcGxpZXIuY2xvbmUoKS5tdWx0aXBseSh0aGlzLmludHJpbnNpY1RpY2tzKX1nZXRUaWNrTXVsdGlwbGllcigpe3JldHVybiB0aGlzLnRpY2tNdWx0aXBsaWVyfWFwcGx5VGlja011bHRpcGxpZXIodCxlKXt0aGlzLnRpY2tNdWx0aXBsaWVyLm11bHRpcGx5KHQsZSksdGhpcy50aWNrcz10aGlzLnRpY2tNdWx0aXBsaWVyLmNsb25lKCkubXVsdGlwbHkodGhpcy5pbnRyaW5zaWNUaWNrcyl9c2V0RHVyYXRpb24odCl7Y29uc3QgZT10Lm51bWVyYXRvcioobS5SRVNPTFVUSU9OL3QuZGVub21pbmF0b3IpO3RoaXMudGlja3M9dGhpcy50aWNrTXVsdGlwbGllci5jbG9uZSgpLm11bHRpcGx5KGUpLHRoaXMuaW50cmluc2ljVGlja3M9dGhpcy50aWNrcy52YWx1ZSgpfX1jbGFzcyBDIGV4dGVuZHMgSXtzdGF0aWMgZ2V0IENBVEVHT1JZKCl7cmV0dXJuXCJub3RlXCJ9c3RhdGljIGdldCBTVEFWRVBBRERJTkcoKXtyZXR1cm4gMTJ9c3RhdGljIHBsb3RNZXRyaWNzKHQsZSxpKXtjb25zdCBuPWUuZ2V0TWV0cmljcygpLHI9ZS5nZXRBYnNvbHV0ZVgoKS1uLm1vZExlZnRQeC1uLmV4dHJhTGVmdFB4LG89ZS5nZXRBYnNvbHV0ZVgoKS1uLmV4dHJhTGVmdFB4LGE9ZS5nZXRBYnNvbHV0ZVgoKSxoPWUuZ2V0QWJzb2x1dGVYKCkrbi5ub3RlV2lkdGgsbD1lLmdldEFic29sdXRlWCgpK24ubm90ZVdpZHRoK24uZXh0cmFSaWdodFB4LGM9ZS5nZXRBYnNvbHV0ZVgoKStuLm5vdGVXaWR0aCtuLmV4dHJhUmlnaHRQeCtuLm1vZFJpZ2h0UHgsdT1jK2UuZ2V0Rm9ybWF0dGVyTWV0cmljcygpLmZyZWVkb20ucmlnaHQsZD1jLXI7dC5zYXZlKCksdC5zZXRGb250KFwiQXJpYWxcIiw4LFwiXCIpLHQuZmlsbFRleHQoTWF0aC5yb3VuZChkKStcInB4XCIscitlLmdldFhTaGlmdCgpLGkpO2NvbnN0IGY9aSs3O2Z1bmN0aW9uIG0oaSxzLG4scj1mKXt0LmJlZ2luUGF0aCgpLHQuc2V0U3Ryb2tlU3R5bGUobiksdC5zZXRGaWxsU3R5bGUobiksdC5zZXRMaW5lV2lkdGgoMyksdC5tb3ZlVG8oaStlLmdldFhTaGlmdCgpLHIpLHQubGluZVRvKHMrZS5nZXRYU2hpZnQoKSxyKSx0LnN0cm9rZSgpfW0ocixvLFwicmVkXCIpLG0obyxhLFwiIzk5OVwiKSxtKGEsaCxcImdyZWVuXCIpLG0oaCxsLFwiIzk5OVwiKSxtKGwsYyxcInJlZFwiKSxtKGMsdSxcIiNERDBcIiksbShyLWUuZ2V0WFNoaWZ0KCkscixcIiNCQkJcIikscy5kcmF3RG90KHQsYStlLmdldFhTaGlmdCgpLGYsXCJibHVlXCIpO2NvbnN0IHA9ZS5nZXRGb3JtYXR0ZXJNZXRyaWNzKCk7aWYocC5pdGVyYXRpb25zPjApe2NvbnN0IHM9cC5zcGFjZS5kZXZpYXRpb24sbj1zPj0wP1wiK1wiOlwiXCI7dC5zZXRGaWxsU3R5bGUoXCJyZWRcIiksdC5maWxsVGV4dChuK01hdGgucm91bmQocyksYStlLmdldFhTaGlmdCgpLGktMTApfXQucmVzdG9yZSgpfWNvbnN0cnVjdG9yKHQpe2lmKHN1cGVyKCksdGhpcy5zZXRBdHRyaWJ1dGUoXCJ0eXBlXCIsXCJOb3RlXCIpLCF0KXRocm93IG5ldyBzLlJ1bnRpbWVFcnJvcihcIkJhZEFyZ3VtZW50c1wiLFwiTm90ZSBtdXN0IGhhdmUgdmFsaWQgaW5pdGlhbGl6YXRpb24gZGF0YSB0byBpZGVudGlmeSBkdXJhdGlvbiBhbmQgdHlwZS5cIik7Y29uc3QgZT1tLnBhcnNlTm90ZVN0cnVjdCh0KTtpZighZSl0aHJvdyBuZXcgcy5SdW50aW1lRXJyb3IoXCJCYWRBcmd1bWVudHNcIixgSW52YWxpZCBub3RlIGluaXRpYWxpemF0aW9uIG9iamVjdDogJHtKU09OLnN0cmluZ2lmeSh0KX1gKTtpZih0aGlzLmR1cmF0aW9uPWUuZHVyYXRpb24sdGhpcy5kb3RzPWUuZG90cyx0aGlzLm5vdGVUeXBlPWUudHlwZSx0aGlzLmN1c3RvbVR5cGVzPWUuY3VzdG9tVHlwZXMsdC5kdXJhdGlvbl9vdmVycmlkZT90aGlzLnNldER1cmF0aW9uKHQuZHVyYXRpb25fb3ZlcnJpZGUpOnRoaXMuc2V0SW50cmluc2ljVGlja3MoZS50aWNrcyksdGhpcy5tb2RpZmllcnM9W10sdGhpcy5nbHlwaD1tLmdldEdseXBoUHJvcHModGhpcy5kdXJhdGlvbix0aGlzLm5vdGVUeXBlKSx0aGlzLmN1c3RvbUdseXBocz10aGlzLmN1c3RvbVR5cGVzLm1hcCh0PT5tLmdldEdseXBoUHJvcHModGhpcy5kdXJhdGlvbix0KSksdGhpcy5wb3NpdGlvbnMmJihcIm9iamVjdFwiIT10eXBlb2YgdGhpcy5wb3NpdGlvbnN8fCF0aGlzLnBvc2l0aW9ucy5sZW5ndGgpKXRocm93IG5ldyBzLlJ1bnRpbWVFcnJvcihcIkJhZEFyZ3VtZW50c1wiLFwiTm90ZSBrZXlzIG11c3QgYmUgYXJyYXkgdHlwZS5cIik7dGhpcy5wbGF5Tm90ZT1udWxsLHRoaXMudGlja0NvbnRleHQ9bnVsbCx0aGlzLm1vZGlmaWVyQ29udGV4dD1udWxsLHRoaXMuaWdub3JlX3RpY2tzPSExLHRoaXMud2lkdGg9MCx0aGlzLmV4dHJhTGVmdFB4PTAsdGhpcy5leHRyYVJpZ2h0UHg9MCx0aGlzLnhfc2hpZnQ9MCx0aGlzLmxlZnRfbW9kUHg9MCx0aGlzLnJpZ2h0X21vZFB4PTAsdGhpcy52b2ljZT1udWxsLHRoaXMucHJlRm9ybWF0dGVkPSExLHRoaXMueXM9W10sdC5hbGlnbl9jZW50ZXImJnRoaXMuc2V0Q2VudGVyQWxpZ25tZW50KHQuYWxpZ25fY2VudGVyKSx0aGlzLnN0YXZlPW51bGwsdGhpcy5yZW5kZXJfb3B0aW9ucz17YW5ub3RhdGlvbl9zcGFjaW5nOjUsc3RhdmVfcGFkZGluZzpDLlNUQVZFUEFERElOR319Z2V0UGxheU5vdGUoKXtyZXR1cm4gdGhpcy5wbGF5Tm90ZX1zZXRQbGF5Tm90ZSh0KXtyZXR1cm4gdGhpcy5wbGF5Tm90ZT10LHRoaXN9aXNSZXN0KCl7cmV0dXJuITF9YWRkU3Ryb2tlKHQsZSl7cmV0dXJuIGUuc2V0Tm90ZSh0aGlzKSxlLnNldEluZGV4KHQpLHRoaXMubW9kaWZpZXJzLnB1c2goZSksdGhpcy5zZXRQcmVGb3JtYXR0ZWQoITEpLHRoaXN9Z2V0U3RhdmUoKXtyZXR1cm4gdGhpcy5zdGF2ZX1zZXRTdGF2ZSh0KXtyZXR1cm4gdGhpcy5zdGF2ZT10LHRoaXMuc2V0WXMoW3QuZ2V0WUZvckxpbmUoMCldKSx0aGlzLmNvbnRleHQ9dGhpcy5zdGF2ZS5jb250ZXh0LHRoaXN9Z2V0Q2F0ZWdvcnkoKXtyZXR1cm4gQy5DQVRFR09SWX1zZXRDb250ZXh0KHQpe3JldHVybiB0aGlzLmNvbnRleHQ9dCx0aGlzfWdldEV4dHJhTGVmdFB4KCl7cmV0dXJuIHRoaXMuZXh0cmFMZWZ0UHh9Z2V0RXh0cmFSaWdodFB4KCl7cmV0dXJuIHRoaXMuZXh0cmFSaWdodFB4fXNldEV4dHJhTGVmdFB4KHQpe3JldHVybiB0aGlzLmV4dHJhTGVmdFB4PXQsdGhpc31zZXRFeHRyYVJpZ2h0UHgodCl7cmV0dXJuIHRoaXMuZXh0cmFSaWdodFB4PXQsdGhpc31zaG91bGRJZ25vcmVUaWNrcygpe3JldHVybiB0aGlzLmlnbm9yZV90aWNrc31nZXRMaW5lTnVtYmVyKCl7cmV0dXJuIDB9Z2V0TGluZUZvclJlc3QoKXtyZXR1cm4gMH1nZXRHbHlwaCgpe3JldHVybiB0aGlzLmdseXBofWdldEdseXBoV2lkdGgoKXtyZXR1cm4gdGhpcy5nbHlwaC5nZXRXaWR0aCh0aGlzLnJlbmRlcl9vcHRpb25zLmdseXBoX2ZvbnRfc2NhbGUpfXNldFlzKHQpe3JldHVybiB0aGlzLnlzPXQsdGhpc31nZXRZcygpe2lmKDA9PT10aGlzLnlzLmxlbmd0aCl0aHJvdyBuZXcgcy5SRVJSKFwiTm9ZVmFsdWVzXCIsXCJObyBZLXZhbHVlcyBjYWxjdWxhdGVkIGZvciB0aGlzIG5vdGUuXCIpO3JldHVybiB0aGlzLnlzfWdldFlGb3JUb3BUZXh0KHQpe2lmKCF0aGlzLnN0YXZlKXRocm93IG5ldyBzLlJFUlIoXCJOb1N0YXZlXCIsXCJObyBzdGF2ZSBhdHRhY2hlZCB0byB0aGlzIG5vdGUuXCIpO3JldHVybiB0aGlzLnN0YXZlLmdldFlGb3JUb3BUZXh0KHQpfWdldEJvdW5kaW5nQm94KCl7cmV0dXJuIG51bGx9Z2V0Vm9pY2UoKXtpZighdGhpcy52b2ljZSl0aHJvdyBuZXcgcy5SRVJSKFwiTm9Wb2ljZVwiLFwiTm90ZSBoYXMgbm8gdm9pY2UuXCIpO3JldHVybiB0aGlzLnZvaWNlfXNldFZvaWNlKHQpe3JldHVybiB0aGlzLnZvaWNlPXQsdGhpcy5wcmVGb3JtYXR0ZWQ9ITEsdGhpc31nZXRUaWNrQ29udGV4dCgpe3JldHVybiB0aGlzLnRpY2tDb250ZXh0fXNldFRpY2tDb250ZXh0KHQpe3JldHVybiB0aGlzLnRpY2tDb250ZXh0PXQsdGhpcy5wcmVGb3JtYXR0ZWQ9ITEsdGhpc31nZXREdXJhdGlvbigpe3JldHVybiB0aGlzLmR1cmF0aW9ufWlzRG90dGVkKCl7cmV0dXJuIHRoaXMuZG90cz4wfWhhc1N0ZW0oKXtyZXR1cm4hMX1nZXREb3RzKCl7cmV0dXJuIHRoaXMuZG90c31nZXROb3RlVHlwZSgpe3JldHVybiB0aGlzLm5vdGVUeXBlfXNldEJlYW0oKXtyZXR1cm4gdGhpc31zZXRNb2RpZmllckNvbnRleHQodCl7cmV0dXJuIHRoaXMubW9kaWZpZXJDb250ZXh0PXQsdGhpc31hZGRNb2RpZmllcih0LGU9MCl7cmV0dXJuIHQuc2V0Tm90ZSh0aGlzKSx0LnNldEluZGV4KGUpLHRoaXMubW9kaWZpZXJzLnB1c2godCksdGhpcy5zZXRQcmVGb3JtYXR0ZWQoITEpLHRoaXN9Z2V0TW9kaWZpZXJTdGFydFhZKCl7aWYoIXRoaXMucHJlRm9ybWF0dGVkKXRocm93IG5ldyBzLlJFUlIoXCJVbmZvcm1hdHRlZE5vdGVcIixcIkNhbid0IGNhbGwgR2V0TW9kaWZpZXJTdGFydFhZIG9uIGFuIHVuZm9ybWF0dGVkIG5vdGVcIik7cmV0dXJue3g6dGhpcy5nZXRBYnNvbHV0ZVgoKSx5OnRoaXMueXNbMF19fWdldE1ldHJpY3MoKXtpZighdGhpcy5wcmVGb3JtYXR0ZWQpdGhyb3cgbmV3IHMuUkVSUihcIlVuZm9ybWF0dGVkTm90ZVwiLFwiQ2FuJ3QgY2FsbCBnZXRNZXRyaWNzIG9uIGFuIHVuZm9ybWF0dGVkIG5vdGUuXCIpO2xldCB0PTAsZT0wO251bGwhPXRoaXMubW9kaWZpZXJDb250ZXh0JiYodD10aGlzLm1vZGlmaWVyQ29udGV4dC5zdGF0ZS5sZWZ0X3NoaWZ0LGU9dGhpcy5tb2RpZmllckNvbnRleHQuc3RhdGUucmlnaHRfc2hpZnQpO2NvbnN0IGk9dGhpcy5nZXRXaWR0aCgpO3JldHVybnt3aWR0aDppLG5vdGVXaWR0aDppLXQtZS10aGlzLmV4dHJhTGVmdFB4LXRoaXMuZXh0cmFSaWdodFB4LGxlZnRfc2hpZnQ6dGhpcy54X3NoaWZ0LG1vZExlZnRQeDp0LG1vZFJpZ2h0UHg6ZSxleHRyYUxlZnRQeDp0aGlzLmV4dHJhTGVmdFB4LGV4dHJhUmlnaHRQeDp0aGlzLmV4dHJhUmlnaHRQeH19c2V0V2lkdGgodCl7dGhpcy53aWR0aD10fWdldFdpZHRoKCl7aWYoIXRoaXMucHJlRm9ybWF0dGVkKXRocm93IG5ldyBzLlJFUlIoXCJVbmZvcm1hdHRlZE5vdGVcIixcIkNhbid0IGNhbGwgR2V0V2lkdGggb24gYW4gdW5mb3JtYXR0ZWQgbm90ZS5cIik7cmV0dXJuIHRoaXMud2lkdGgrKHRoaXMubW9kaWZpZXJDb250ZXh0P3RoaXMubW9kaWZpZXJDb250ZXh0LmdldFdpZHRoKCk6MCl9c2V0WFNoaWZ0KHQpe3JldHVybiB0aGlzLnhfc2hpZnQ9dCx0aGlzfWdldFhTaGlmdCgpe3JldHVybiB0aGlzLnhfc2hpZnR9Z2V0WCgpe2lmKCF0aGlzLnRpY2tDb250ZXh0KXRocm93IG5ldyBzLlJFUlIoXCJOb1RpY2tDb250ZXh0XCIsXCJOb3RlIG5lZWRzIGEgVGlja0NvbnRleHQgYXNzaWduZWQgZm9yIGFuIFgtVmFsdWVcIik7cmV0dXJuIHRoaXMudGlja0NvbnRleHQuZ2V0WCgpK3RoaXMueF9zaGlmdH1nZXRBYnNvbHV0ZVgoKXtpZighdGhpcy50aWNrQ29udGV4dCl0aHJvdyBuZXcgcy5SRVJSKFwiTm9UaWNrQ29udGV4dFwiLFwiTm90ZSBuZWVkcyBhIFRpY2tDb250ZXh0IGFzc2lnbmVkIGZvciBhbiBYLVZhbHVlXCIpO2xldCB0PXRoaXMudGlja0NvbnRleHQuZ2V0WCgpO3JldHVybiB0aGlzLnN0YXZlJiYodCs9dGhpcy5zdGF2ZS5nZXROb3RlU3RhcnRYKCkrdGhpcy5yZW5kZXJfb3B0aW9ucy5zdGF2ZV9wYWRkaW5nKSx0aGlzLmlzQ2VudGVyQWxpZ25lZCgpJiYodCs9dGhpcy5nZXRDZW50ZXJYU2hpZnQoKSksdH1zZXRQcmVGb3JtYXR0ZWQodCl7aWYodGhpcy5wcmVGb3JtYXR0ZWQ9dCx0aGlzLnByZUZvcm1hdHRlZCl7Y29uc3QgdD10aGlzLnRpY2tDb250ZXh0LmdldEV4dHJhUHgoKTt0aGlzLmxlZnRfbW9kUHg9TWF0aC5tYXgodGhpcy5sZWZ0X21vZFB4LHQubGVmdCksdGhpcy5yaWdodF9tb2RQeD1NYXRoLm1heCh0aGlzLnJpZ2h0X21vZFB4LHQucmlnaHQpfX19Y2xhc3MgUiBleHRlbmRzIEN7c3RhdGljIGdldCBDQVRFR09SWSgpe3JldHVyblwibm90ZWhlYWRcIn1jb25zdHJ1Y3Rvcih0KXtpZihzdXBlcih0KSx0aGlzLnNldEF0dHJpYnV0ZShcInR5cGVcIixcIk5vdGVIZWFkXCIpLHRoaXMuaW5kZXg9dC5pbmRleCx0aGlzLng9dC54fHwwLHRoaXMueT10Lnl8fDAsdGhpcy5ub3RlX3R5cGU9dC5ub3RlX3R5cGUsdGhpcy5kdXJhdGlvbj10LmR1cmF0aW9uLHRoaXMuZGlzcGxhY2VkPXQuZGlzcGxhY2VkfHwhMSx0aGlzLnN0ZW1fZGlyZWN0aW9uPXQuc3RlbV9kaXJlY3Rpb258fGsuU1RFTV9VUCx0aGlzLmxpbmU9dC5saW5lLHRoaXMuZ2x5cGg9bS5nZXRHbHlwaFByb3BzKHRoaXMuZHVyYXRpb24sdGhpcy5ub3RlX3R5cGUpLCF0aGlzLmdseXBoKXRocm93IG5ldyBzLlJ1bnRpbWVFcnJvcihcIkJhZEFyZ3VtZW50c1wiLGBObyBnbHlwaCBmb3VuZCBmb3IgZHVyYXRpb24gJyR7dGhpcy5kdXJhdGlvbn0nIGFuZCB0eXBlICcke3RoaXMubm90ZV90eXBlfSdgKTt0aGlzLmdseXBoX2NvZGU9dGhpcy5nbHlwaC5jb2RlX2hlYWQsdGhpcy54X3NoaWZ0PXQueF9zaGlmdHx8MCx0LmN1c3RvbV9nbHlwaF9jb2RlJiYodGhpcy5jdXN0b21fZ2x5cGg9ITAsdGhpcy5nbHlwaF9jb2RlPXQuY3VzdG9tX2dseXBoX2NvZGUsdGhpcy5zdGVtX3VwX3hfb2Zmc2V0PXQuc3RlbV91cF94X29mZnNldHx8MCx0aGlzLnN0ZW1fZG93bl94X29mZnNldD10LnN0ZW1fZG93bl94X29mZnNldHx8MCksdGhpcy5zdHlsZT10LnN0eWxlLHRoaXMuc2xhc2hlZD10LnNsYXNoZWQscy5NZXJnZSh0aGlzLnJlbmRlcl9vcHRpb25zLHtnbHlwaF9mb250X3NjYWxlOnQuZ2x5cGhfZm9udF9zY2FsZXx8bS5ERUZBVUxUX05PVEFUSU9OX0ZPTlRfU0NBTEUsc3Ryb2tlX3B4OjN9KSx0aGlzLnNldFdpZHRoKHRoaXMuZ2x5cGguZ2V0V2lkdGgodGhpcy5yZW5kZXJfb3B0aW9ucy5nbHlwaF9mb250X3NjYWxlKSl9Z2V0Q2F0ZWdvcnkoKXtyZXR1cm4gUi5DQVRFR09SWX1nZXRXaWR0aCgpe3JldHVybiB0aGlzLndpZHRofWlzRGlzcGxhY2VkKCl7cmV0dXJuITA9PT10aGlzLmRpc3BsYWNlZH1nZXRHbHlwaCgpe3JldHVybiB0aGlzLmdseXBofXNldFgodCl7cmV0dXJuIHRoaXMueD10LHRoaXN9Z2V0WSgpe3JldHVybiB0aGlzLnl9c2V0WSh0KXtyZXR1cm4gdGhpcy55PXQsdGhpc31nZXRMaW5lKCl7cmV0dXJuIHRoaXMubGluZX1zZXRMaW5lKHQpe3JldHVybiB0aGlzLmxpbmU9dCx0aGlzfWdldEFic29sdXRlWCgpe2NvbnN0IHQ9dGhpcy5wcmVGb3JtYXR0ZWQ/c3VwZXIuZ2V0QWJzb2x1dGVYKCk6dGhpcy54LGU9RS5XSURUSC8yO3JldHVybiB0Kyh0aGlzLmRpc3BsYWNlZD8odGhpcy53aWR0aC1lKSp0aGlzLnN0ZW1fZGlyZWN0aW9uOjApfWdldEJvdW5kaW5nQm94KCl7aWYoIXRoaXMucHJlRm9ybWF0dGVkKXRocm93IG5ldyBzLlJFUlIoXCJVbmZvcm1hdHRlZE5vdGVcIixcIkNhbid0IGNhbGwgZ2V0Qm91bmRpbmdCb3ggb24gYW4gdW5mb3JtYXR0ZWQgbm90ZS5cIik7Y29uc3QgdD10aGlzLnN0YXZlLmdldFNwYWNpbmdCZXR3ZWVuTGluZXMoKSxlPXQvMixpPXRoaXMueS1lO3JldHVybiBuZXcgbS5Cb3VuZGluZ0JveCh0aGlzLmdldEFic29sdXRlWCgpLGksdGhpcy53aWR0aCx0KX1zZXRTdGF2ZSh0KXtjb25zdCBlPXRoaXMuZ2V0TGluZSgpO3JldHVybiB0aGlzLnN0YXZlPXQsdGhpcy5zZXRZKHQuZ2V0WUZvck5vdGUoZSkpLHRoaXMuY29udGV4dD10aGlzLnN0YXZlLmNvbnRleHQsdGhpc31wcmVGb3JtYXQoKXtpZih0aGlzLnByZUZvcm1hdHRlZClyZXR1cm4gdGhpcztjb25zdCB0PXRoaXMuZ2V0V2lkdGgoKSt0aGlzLmV4dHJhTGVmdFB4K3RoaXMuZXh0cmFSaWdodFB4O3JldHVybiB0aGlzLnNldFdpZHRoKHQpLHRoaXMuc2V0UHJlRm9ybWF0dGVkKCEwKSx0aGlzfWRyYXcoKXt0aGlzLmNoZWNrQ29udGV4dCgpLHRoaXMuc2V0UmVuZGVyZWQoKTtjb25zdCB0PXRoaXMuY29udGV4dDtsZXQgZT10aGlzLmdldEFic29sdXRlWCgpO3RoaXMuY3VzdG9tX2dseXBoJiYoZSs9dGhpcy5zdGVtX2RpcmVjdGlvbj09PUUuVVA/dGhpcy5zdGVtX3VwX3hfb2Zmc2V0OnRoaXMuc3RlbV9kb3duX3hfb2Zmc2V0KTtjb25zdCBpPXRoaXMueTshZnVuY3Rpb24oLi4udCl7Ui5ERUJVRyYmcy5MKFwiVmV4LkZsb3cuTm90ZUhlYWRcIix0KX0oXCJEcmF3aW5nIG5vdGUgaGVhZCAnXCIsdGhpcy5ub3RlX3R5cGUsdGhpcy5kdXJhdGlvbixcIicgYXRcIixlLGkpO2NvbnN0IG49dGhpcy5zdGVtX2RpcmVjdGlvbixyPXRoaXMucmVuZGVyX29wdGlvbnMuZ2x5cGhfZm9udF9zY2FsZTtpZih0aGlzLnN0eWxlJiZ0aGlzLmFwcGx5U3R5bGUodCksXCJzXCI9PT10aGlzLm5vdGVfdHlwZSl7Y29uc3Qgcz10aGlzLnN0YXZlLmdldFNwYWNpbmdCZXR3ZWVuTGluZXMoKTshZnVuY3Rpb24odCxlLGkscyxuLHIpe2NvbnN0IG89bS5TTEFTSF9OT1RFSEVBRF9XSURUSDt0LnNhdmUoKSx0LnNldExpbmVXaWR0aChtLlNURU1fV0lEVEgpO2xldCBhPSExO2lmKG0uZHVyYXRpb25Ub051bWJlcihlKT4yJiYoYT0hMCksYXx8KGktPW0uU1RFTV9XSURUSC8yKm4pLHQuYmVnaW5QYXRoKCksdC5tb3ZlVG8oaSxzK3IpLHQubGluZVRvKGkscysxKSx0LmxpbmVUbyhpK28scy1yKSx0LmxpbmVUbyhpK28scyksdC5saW5lVG8oaSxzK3IpLHQuY2xvc2VQYXRoKCksYT90LmZpbGwoKTp0LnN0cm9rZSgpLG0uZHVyYXRpb25Ub0ZyYWN0aW9uKGUpLmVxdWFscyguNSkpe2NvbnN0IGU9Wy0zLC0xLG8rMSxvKzNdO2ZvcihsZXQgbj0wO248ZS5sZW5ndGg7bisrKXQuYmVnaW5QYXRoKCksdC5tb3ZlVG8oaStlW25dLHMtMTApLHQubGluZVRvKGkrZVtuXSxzKzExKSx0LnN0cm9rZSgpfXQucmVzdG9yZSgpfSh0LHRoaXMuZHVyYXRpb24sZSxpLG4scyl9ZWxzZSBmLnJlbmRlckdseXBoKHQsZSxpLHIsdGhpcy5nbHlwaF9jb2RlKTt0aGlzLnN0eWxlJiZ0aGlzLnJlc3RvcmVTdHlsZSh0KX19Y2xhc3MgTiBleHRlbmRzIEN7Y29uc3RydWN0b3IodCl7c3VwZXIodCksdGhpcy5zZXRBdHRyaWJ1dGUoXCJ0eXBlXCIsXCJTdGVtbWFibGVOb3RlXCIpLHRoaXMuc3RlbT1udWxsLHRoaXMuc3RlbUV4dGVuc2lvbk92ZXJyaWRlPW51bGwsdGhpcy5iZWFtPW51bGx9Z2V0U3RlbSgpe3JldHVybiB0aGlzLnN0ZW19c2V0U3RlbSh0KXtyZXR1cm4gdGhpcy5zdGVtPXQsdGhpc31idWlsZFN0ZW0oKXtjb25zdCB0PW5ldyBFO3JldHVybiB0aGlzLnNldFN0ZW0odCksdGhpc31idWlsZEZsYWcoKXtjb25zdHtnbHlwaDp0LGJlYW06ZX09dGhpcyxpPW51bGw9PT1lO2lmKHQmJnQuZmxhZyYmaSl7Y29uc3QgZT10aGlzLmdldFN0ZW1EaXJlY3Rpb24oKT09PUUuRE9XTj90LmNvZGVfZmxhZ19kb3duc3RlbTp0LmNvZGVfZmxhZ191cHN0ZW07dGhpcy5mbGFnPW5ldyBmKGUsdGhpcy5yZW5kZXJfb3B0aW9ucy5nbHlwaF9mb250X3NjYWxlKX19Z2V0VG9wR2x5cGgoKXtyZXR1cm4gdGhpcy5nZXRTdGVtRGlyZWN0aW9uKCk9PT1FLkRPV04/dGhpcy5jdXN0b21HbHlwaHNbdGhpcy5jdXN0b21HbHlwaHMubGVuZ3RoLTFdOnRoaXMuY3VzdG9tR2x5cGhzWzBdfWdldFN0ZW1MZW5ndGgoKXtyZXR1cm4gRS5IRUlHSFQrdGhpcy5nZXRTdGVtRXh0ZW5zaW9uKCl9Z2V0QmVhbUNvdW50KCl7Y29uc3QgdD10aGlzLmdldEdseXBoKCk7cmV0dXJuIHQ/dC5iZWFtX2NvdW50OjB9Z2V0U3RlbU1pbnVtdW1MZW5ndGgoKXtsZXQgdD1tLmR1cmF0aW9uVG9GcmFjdGlvbih0aGlzLmR1cmF0aW9uKS52YWx1ZSgpPD0xPzA6MjA7c3dpdGNoKHRoaXMuZHVyYXRpb24pe2Nhc2VcIjhcIjpudWxsPT10aGlzLmJlYW0mJih0PTM1KTticmVhaztjYXNlXCIxNlwiOnQ9bnVsbD09dGhpcy5iZWFtPzM1OjI1O2JyZWFrO2Nhc2VcIjMyXCI6dD1udWxsPT10aGlzLmJlYW0/NDU6MzU7YnJlYWs7Y2FzZVwiNjRcIjp0PW51bGw9PXRoaXMuYmVhbT81MDo0MDticmVhaztjYXNlXCIxMjhcIjp0PW51bGw9PXRoaXMuYmVhbT81NTo0NX1yZXR1cm4gdH1nZXRTdGVtRGlyZWN0aW9uKCl7cmV0dXJuIHRoaXMuc3RlbV9kaXJlY3Rpb259c2V0U3RlbURpcmVjdGlvbih0KXtpZih0fHwodD1FLlVQKSx0IT09RS5VUCYmdCE9PUUuRE9XTil0aHJvdyBuZXcgcy5SRVJSKFwiQmFkQXJndW1lbnRcIixgSW52YWxpZCBzdGVtIGRpcmVjdGlvbjogJHt0fWApO2lmKHRoaXMuc3RlbV9kaXJlY3Rpb249dCx0aGlzLnN0ZW0pe3RoaXMuc3RlbS5zZXREaXJlY3Rpb24odCksdGhpcy5zdGVtLnNldEV4dGVuc2lvbih0aGlzLmdldFN0ZW1FeHRlbnNpb24oKSk7Y29uc3QgZT10aGlzLmdldFRvcEdseXBoKCl8fHRoaXMuZ2V0R2x5cGgoKTt0aGlzLnN0ZW0uc2V0T3B0aW9ucyh7c3RlbV91cF95X29mZnNldDplLnN0ZW1fdXBfeV9vZmZzZXQsc3RlbV9kb3duX3lfb2Zmc2V0OmUuc3RlbV9kb3duX3lfb2Zmc2V0fSl9cmV0dXJuIHRoaXMucmVzZXQoKSx0aGlzLmZsYWcmJnRoaXMuYnVpbGRGbGFnKCksdGhpcy5iZWFtPW51bGwsdGhpcy5wcmVGb3JtYXR0ZWQmJnRoaXMucHJlRm9ybWF0KCksdGhpc31nZXRTdGVtWCgpe2NvbnN0IHQ9dGhpcy5nZXRBYnNvbHV0ZVgoKSt0aGlzLnhfc2hpZnQsZT10aGlzLmdldEFic29sdXRlWCgpK3RoaXMueF9zaGlmdCt0aGlzLmdldEdseXBoV2lkdGgoKTtyZXR1cm4gdGhpcy5zdGVtX2RpcmVjdGlvbj09PUUuRE9XTj90OmV9Z2V0Q2VudGVyR2x5cGhYKCl7cmV0dXJuIHRoaXMuZ2V0QWJzb2x1dGVYKCkrdGhpcy54X3NoaWZ0K3RoaXMuZ2V0R2x5cGhXaWR0aCgpLzJ9Z2V0U3RlbUV4dGVuc2lvbigpe2NvbnN0IHQ9dGhpcy5nZXRHbHlwaCgpO3JldHVybiBudWxsIT10aGlzLnN0ZW1FeHRlbnNpb25PdmVycmlkZT90aGlzLnN0ZW1FeHRlbnNpb25PdmVycmlkZTp0PzE9PT10aGlzLmdldFN0ZW1EaXJlY3Rpb24oKT90LnN0ZW1fdXBfZXh0ZW5zaW9uOnQuc3RlbV9kb3duX2V4dGVuc2lvbjowfXNldFN0ZW1MZW5ndGgodCl7cmV0dXJuIHRoaXMuc3RlbUV4dGVuc2lvbk92ZXJyaWRlPXQtRS5IRUlHSFQsdGhpc31nZXRTdGVtRXh0ZW50cygpe3JldHVybiB0aGlzLnN0ZW0uZ2V0RXh0ZW50cygpfXNldEJlYW0odCl7cmV0dXJuIHRoaXMuYmVhbT10LHRoaXN9Z2V0WUZvclRvcFRleHQodCl7Y29uc3QgZT10aGlzLmdldFN0ZW1FeHRlbnRzKCk7cmV0dXJuIHRoaXMuaGFzU3RlbSgpP01hdGgubWluKHRoaXMuc3RhdmUuZ2V0WUZvclRvcFRleHQodCksZS50b3BZLXRoaXMucmVuZGVyX29wdGlvbnMuYW5ub3RhdGlvbl9zcGFjaW5nKih0KzEpKTp0aGlzLnN0YXZlLmdldFlGb3JUb3BUZXh0KHQpfWdldFlGb3JCb3R0b21UZXh0KHQpe2NvbnN0IGU9dGhpcy5nZXRTdGVtRXh0ZW50cygpO3JldHVybiB0aGlzLmhhc1N0ZW0oKT9NYXRoLm1heCh0aGlzLnN0YXZlLmdldFlGb3JUb3BUZXh0KHQpLGUuYmFzZVkrdGhpcy5yZW5kZXJfb3B0aW9ucy5hbm5vdGF0aW9uX3NwYWNpbmcqdCk6dGhpcy5zdGF2ZS5nZXRZRm9yQm90dG9tVGV4dCh0KX1oYXNGbGFnKCl7cmV0dXJuIG0uZ2V0R2x5cGhQcm9wcyh0aGlzLmR1cmF0aW9uKS5mbGFnJiYhdGhpcy5iZWFtfXBvc3RGb3JtYXQoKXtyZXR1cm4gdGhpcy5iZWFtJiZ0aGlzLmJlYW0ucG9zdEZvcm1hdCgpLHRoaXMucG9zdEZvcm1hdHRlZD0hMCx0aGlzfWRyYXdTdGVtKHQpe3RoaXMuY2hlY2tDb250ZXh0KCksdGhpcy5zZXRSZW5kZXJlZCgpLHRoaXMuc2V0U3RlbShuZXcgRSh0KSksdGhpcy5zdGVtLnNldENvbnRleHQodGhpcy5jb250ZXh0KS5kcmF3KCl9fWNsYXNzIEIgZXh0ZW5kcyBoe3N0YXRpYyBnZXQgQ0FURUdPUlkoKXtyZXR1cm5cIm5vbmVcIn1zdGF0aWMgZ2V0IFBvc2l0aW9uKCl7cmV0dXJue0xFRlQ6MSxSSUdIVDoyLEFCT1ZFOjMsQkVMT1c6NH19c3RhdGljIGdldCBQb3NpdGlvblN0cmluZygpe3JldHVybnthYm92ZTpCLlBvc2l0aW9uLkFCT1ZFLGJlbG93OkIuUG9zaXRpb24uQkVMT1csbGVmdDpCLlBvc2l0aW9uLkxFRlQscmlnaHQ6Qi5Qb3NpdGlvbi5SSUdIVH19Y29uc3RydWN0b3IoKXtzdXBlcigpLHRoaXMuc2V0QXR0cmlidXRlKFwidHlwZVwiLFwiTW9kaWZpZXJcIiksdGhpcy53aWR0aD0wLHRoaXMubm90ZT1udWxsLHRoaXMuaW5kZXg9bnVsbCx0aGlzLnRleHRfbGluZT0wLHRoaXMucG9zaXRpb249Qi5Qb3NpdGlvbi5MRUZULHRoaXMubW9kaWZpZXJfY29udGV4dD1udWxsLHRoaXMueF9zaGlmdD0wLHRoaXMueV9zaGlmdD0wLHRoaXMuc3BhY2luZ0Zyb21OZXh0TW9kaWZpZXI9MH1nZXRDYXRlZ29yeSgpe3JldHVybiBCLkNBVEVHT1JZfWdldFdpZHRoKCl7cmV0dXJuIHRoaXMud2lkdGh9c2V0V2lkdGgodCl7cmV0dXJuIHRoaXMud2lkdGg9dCx0aGlzfWdldE5vdGUoKXtyZXR1cm4gdGhpcy5ub3RlfXNldE5vdGUodCl7cmV0dXJuIHRoaXMubm90ZT10LHRoaXN9Z2V0SW5kZXgoKXtyZXR1cm4gdGhpcy5pbmRleH1zZXRJbmRleCh0KXtyZXR1cm4gdGhpcy5pbmRleD10LHRoaXN9Z2V0TW9kaWZpZXJDb250ZXh0KCl7cmV0dXJuIHRoaXMubW9kaWZpZXJfY29udGV4dH1zZXRNb2RpZmllckNvbnRleHQodCl7cmV0dXJuIHRoaXMubW9kaWZpZXJfY29udGV4dD10LHRoaXN9Z2V0UG9zaXRpb24oKXtyZXR1cm4gdGhpcy5wb3NpdGlvbn1zZXRQb3NpdGlvbih0KXtyZXR1cm4gdGhpcy5wb3NpdGlvbj1cInN0cmluZ1wiPT10eXBlb2YgdD9CLlBvc2l0aW9uU3RyaW5nW3RdOnQsdGhpc31zZXRUZXh0TGluZSh0KXtyZXR1cm4gdGhpcy50ZXh0X2xpbmU9dCx0aGlzfXNldFlTaGlmdCh0KXtyZXR1cm4gdGhpcy55X3NoaWZ0PXQsdGhpc31zZXRTcGFjaW5nRnJvbU5leHRNb2RpZmllcih0KXt0aGlzLnNwYWNpbmdGcm9tTmV4dE1vZGlmaWVyPXR9Z2V0U3BhY2luZ0Zyb21OZXh0TW9kaWZpZXIoKXtyZXR1cm4gdGhpcy5zcGFjaW5nRnJvbU5leHRNb2RpZmllcn1zZXRYU2hpZnQodCl7dGhpcy54X3NoaWZ0PTAsdGhpcy5wb3NpdGlvbj09PUIuUG9zaXRpb24uTEVGVD90aGlzLnhfc2hpZnQtPXQ6dGhpcy54X3NoaWZ0Kz10fWdldFhTaGlmdCgpe3JldHVybiB0aGlzLnhfc2hpZnR9ZHJhdygpe3Rocm93IHRoaXMuY2hlY2tDb250ZXh0KCksbmV3IHMuUkVSUihcIk1ldGhvZE5vdEltcGxlbWVudGVkXCIsXCJkcmF3KCkgbm90IGltcGxlbWVudGVkIGZvciB0aGlzIG1vZGlmaWVyLlwiKX1hbGlnblN1Yk5vdGVzV2l0aE5vdGUodCxlKXtjb25zdCBpPWUuZ2V0VGlja0NvbnRleHQoKSxzPWkuZ2V0RXh0cmFQeCgpLG49aS5nZXRYKCktcy5sZWZ0LXMuZXh0cmFMZWZ0K3RoaXMuZ2V0U3BhY2luZ0Zyb21OZXh0TW9kaWZpZXIoKTt0LmZvckVhY2godD0+e2NvbnN0IGk9dC5nZXRUaWNrQ29udGV4dCgpO3Quc2V0U3RhdmUoZS5zdGF2ZSksaS5zZXRYT2Zmc2V0KG4pfSl9fWNsYXNzIEYgZXh0ZW5kcyBCe3N0YXRpYyBnZXQgQ0FURUdPUlkoKXtyZXR1cm5cImRvdHNcIn1zdGF0aWMgZm9ybWF0KHQsZSl7Y29uc3QgaT1lLnJpZ2h0X3NoaWZ0O2lmKCF0fHwwPT09dC5sZW5ndGgpcmV0dXJuITE7Y29uc3Qgcz1bXSxuPXt9O2ZvcihsZXQgZT0wO2U8dC5sZW5ndGg7KytlKXtjb25zdCBpPXRbZV0scj1pLmdldE5vdGUoKTtsZXQgbyxhO1wiZnVuY3Rpb25cIj09dHlwZW9mIHIuZ2V0S2V5UHJvcHM/KG89ci5nZXRLZXlQcm9wcygpW2kuZ2V0SW5kZXgoKV0sYT1vLmRpc3BsYWNlZD9yLmdldEV4dHJhUmlnaHRQeCgpOjApOihvPXtsaW5lOi41fSxhPTApO2NvbnN0IGg9ci5nZXRBdHRyaWJ1dGUoXCJpZFwiKTtzLnB1c2goe2xpbmU6by5saW5lLG5vdGU6cixub3RlX2lkOmgsZG90Oml9KSxuW2hdPU1hdGgubWF4KG5baF18fGEsYSl9cy5zb3J0KCh0LGUpPT5lLmxpbmUtdC5saW5lKTtsZXQgcj1pLG89MCxhPW51bGwsaD1udWxsLGw9bnVsbCxjPTA7Zm9yKGxldCB0PTA7dDxzLmxlbmd0aDsrK3Qpe2NvbnN0e2RvdDplLG5vdGU6aSxub3RlX2lkOnUsbGluZTpkfT1zW3RdO2Q9PT1hJiZpPT09aHx8KHI9blt1XSksaS5pc1Jlc3QoKXx8ZD09PWF8fCguNT09PU1hdGguYWJzKGQlMSk/Yz0wOihjPS41LG51bGw9PWh8fGguaXNSZXN0KCl8fGEtZCE9LjU/ZCtjPT09bCYmKGM9LS41KTpjPS0uNSkpLGkuaXNSZXN0KCk/ZS5kb3Rfc2hpZnRZKz0tYzplLmRvdF9zaGlmdFk9LWMsbD1kK2MsZS5zZXRYU2hpZnQocikscis9ZS5nZXRXaWR0aCgpKzEsbz1yPm8/cjpvLGE9ZCxoPWl9cmV0dXJuIGUucmlnaHRfc2hpZnQrPW8sITB9Y29uc3RydWN0b3IoKXtzdXBlcigpLHRoaXMuc2V0QXR0cmlidXRlKFwidHlwZVwiLFwiRG90XCIpLHRoaXMubm90ZT1udWxsLHRoaXMuaW5kZXg9bnVsbCx0aGlzLnBvc2l0aW9uPUIuUG9zaXRpb24uUklHSFQsdGhpcy5yYWRpdXM9Mix0aGlzLnNldFdpZHRoKDUpLHRoaXMuZG90X3NoaWZ0WT0wfWdldENhdGVnb3J5KCl7cmV0dXJuIEYuQ0FURUdPUll9c2V0Tm90ZSh0KXt0aGlzLm5vdGU9dCxcImdyYWNlbm90ZXNcIj09PXRoaXMubm90ZS5nZXRDYXRlZ29yeSgpJiYodGhpcy5yYWRpdXMqPS41LHRoaXMuc2V0V2lkdGgoMykpfXNldERvdFNoaWZ0WSh0KXtyZXR1cm4gdGhpcy5kb3Rfc2hpZnRZPXQsdGhpc31kcmF3KCl7aWYodGhpcy5jaGVja0NvbnRleHQoKSx0aGlzLnNldFJlbmRlcmVkKCksIXRoaXMubm90ZXx8bnVsbD09PXRoaXMuaW5kZXgpdGhyb3cgbmV3IHMuUkVSUihcIk5vQXR0YWNoZWROb3RlXCIsXCJDYW4ndCBkcmF3IGRvdCB3aXRob3V0IGEgbm90ZSBhbmQgaW5kZXguXCIpO2NvbnN0IHQ9dGhpcy5ub3RlLnN0YXZlLm9wdGlvbnMuc3BhY2luZ19iZXR3ZWVuX2xpbmVzX3B4LGU9dGhpcy5ub3RlLmdldE1vZGlmaWVyU3RhcnRYWSh0aGlzLnBvc2l0aW9uLHRoaXMuaW5kZXgse2ZvcmNlRmxhZ1JpZ2h0OiEwfSk7XCJ0YWJub3Rlc1wiPT09dGhpcy5ub3RlLmdldENhdGVnb3J5KCkmJihlLnk9dGhpcy5ub3RlLmdldFN0ZW1FeHRlbnRzKCkuYmFzZVkpO2NvbnN0IGk9ZS54K3RoaXMueF9zaGlmdCt0aGlzLndpZHRoLXRoaXMucmFkaXVzLG49ZS55K3RoaXMueV9zaGlmdCt0aGlzLmRvdF9zaGlmdFkqdCxyPXRoaXMuY29udGV4dDtyLmJlZ2luUGF0aCgpLHIuYXJjKGksbix0aGlzLnJhZGl1cywwLDIqTWF0aC5QSSwhMSksci5maWxsKCl9fWZ1bmN0aW9uIEQodCxlLGkpe2NvbnN0IHM9KGUuaXNyZXN0PzA6MSkqaTt0LmxpbmUrPXMsdC5tYXhMaW5lKz1zLHQubWluTGluZSs9cyx0Lm5vdGUuc2V0S2V5TGluZSgwLHQubm90ZS5nZXRLZXlMaW5lKDApK3MpfWNsYXNzIGsgZXh0ZW5kcyBOe3N0YXRpYyBnZXQgQ0FURUdPUlkoKXtyZXR1cm5cInN0YXZlbm90ZXNcIn1zdGF0aWMgZ2V0IFNURU1fVVAoKXtyZXR1cm4gRS5VUH1zdGF0aWMgZ2V0IFNURU1fRE9XTigpe3JldHVybiBFLkRPV059c3RhdGljIGdldCBERUZBVUxUX0xFREdFUl9MSU5FX09GRlNFVCgpe3JldHVybiAzfXN0YXRpYyBmb3JtYXQodCxlKXtpZighdHx8dC5sZW5ndGg8MilyZXR1cm4hMTtpZih0WzBdLmdldFN0YXZlKCkpcmV0dXJuIGsuZm9ybWF0QnlZKHQsZSk7Y29uc3QgaT1bXTtmb3IobGV0IGU9MDtlPHQubGVuZ3RoO2UrKyl7Y29uc3Qgcz10W2VdLmdldEtleVByb3BzKCksbj1zWzBdLmxpbmU7bGV0IHI9c1tzLmxlbmd0aC0xXS5saW5lO2NvbnN0IG89dFtlXS5nZXRTdGVtRGlyZWN0aW9uKCksYT10W2VdLmdldFN0ZW1MZW5ndGgoKS8xMCxoPXRbZV0uZ2V0U3RlbU1pbnVtdW1MZW5ndGgoKS8xMDtsZXQgbDt0W2VdLmlzUmVzdCgpPyhsPW4rdFtlXS5nbHlwaC5saW5lX2Fib3ZlLHI9bi10W2VdLmdseXBoLmxpbmVfYmVsb3cpOihsPTE9PT1vP3Nbcy5sZW5ndGgtMV0ubGluZSthOnNbcy5sZW5ndGgtMV0ubGluZSxyPTE9PT1vP3NbMF0ubGluZTpzWzBdLmxpbmUtYSksaS5wdXNoKHtsaW5lOnNbMF0ubGluZSxtYXhMaW5lOmwsbWluTGluZTpyLGlzcmVzdDp0W2VdLmlzUmVzdCgpLHN0ZW1EaXJlY3Rpb246byxzdGVtTWF4OmEsc3RlbU1pbjpoLHZvaWNlX3NoaWZ0OnRbZV0uZ2V0Vm9pY2VTaGlmdFdpZHRoKCksaXNfZGlzcGxhY2VkOnRbZV0uaXNEaXNwbGFjZWQoKSxub3RlOnRbZV19KX1jb25zdCBuPWkubGVuZ3RoO2xldCByPWlbMF07Y29uc3Qgbz1uPjI/aVsxXTpudWxsO2xldCBhPW4+Mj9pWzJdOmlbMV07Mj09PW4mJi0xPT09ci5zdGVtRGlyZWN0aW9uJiYxPT09YS5zdGVtRGlyZWN0aW9uJiYocj1pWzFdLGE9aVswXSk7Y29uc3QgaD1NYXRoLm1heChyLnZvaWNlX3NoaWZ0LGEudm9pY2Vfc2hpZnQpO2xldCBsLGM9MDtpZigyPT09bil7Y29uc3QgdD1yLnN0ZW1EaXJlY3Rpb249PT1hLnN0ZW1EaXJlY3Rpb24/MDouNTtyZXR1cm4gci5zdGVtRGlyZWN0aW9uPT09YS5zdGVtRGlyZWN0aW9uJiZyLm1pbkxpbmU8PWEubWF4TGluZSYmKHIuaXNyZXN0fHwobD1NYXRoLmFicyhyLmxpbmUtKGEubWF4TGluZSsuNSkpLGw9TWF0aC5tYXgobCxyLnN0ZW1NaW4pLHIubWluTGluZT1yLmxpbmUtbCxyLm5vdGUuc2V0U3RlbUxlbmd0aCgxMCpsKSkpLHIubWluTGluZTw9YS5tYXhMaW5lK3QmJihyLmlzcmVzdD9EKHIsYSwxKTphLmlzcmVzdD9EKGEsciwtMSk6KGM9aCxyLnN0ZW1EaXJlY3Rpb249PT1hLnN0ZW1EaXJlY3Rpb24/ci5ub3RlLnNldFhTaGlmdChjKzMpOmEubm90ZS5zZXRYU2hpZnQoYykpKSwhMH1pZihudWxsIT09byYmby5taW5MaW5lPGEubWF4TGluZSsuNSYmKG8uaXNyZXN0fHwobD1NYXRoLmFicyhvLmxpbmUtKGEubWF4TGluZSsuNSkpLGw9TWF0aC5tYXgobCxvLnN0ZW1NaW4pLG8ubWluTGluZT1vLmxpbmUtbCxvLm5vdGUuc2V0U3RlbUxlbmd0aCgxMCpsKSkpLG8uaXNyZXN0JiYhci5pc3Jlc3QmJiFhLmlzcmVzdCYmKHIubWluTGluZTw9by5tYXhMaW5lfHxvLm1pbkxpbmU8PWEubWF4TGluZSkpe3JldHVybiBvLm1heExpbmUtby5taW5MaW5lPHIubWluTGluZS1hLm1heExpbmU/ZnVuY3Rpb24odCxlLGkpe2NvbnN0IG49dC5saW5lLXMuTWlkTGluZShlLm1pbkxpbmUsaS5tYXhMaW5lKTt0Lm5vdGUuc2V0S2V5TGluZSgwLHQubm90ZS5nZXRLZXlMaW5lKDApLW4pLHQubGluZS09bix0Lm1heExpbmUtPW4sdC5taW5MaW5lLT1ufShvLHIsYSk6KGM9aCszLG8ubm90ZS5zZXRYU2hpZnQoYykpLCEwfXJldHVybiByLmlzcmVzdCYmby5pc3Jlc3QmJmEuaXNyZXN0PyhEKHIsbywxKSxEKGEsbywtMSksITApOihvLmlzcmVzdCYmci5pc3Jlc3QmJm8ubWluTGluZTw9YS5tYXhMaW5lJiZEKG8sYSwxKSxvLmlzcmVzdCYmYS5pc3Jlc3QmJnIubWluTGluZTw9by5tYXhMaW5lJiZEKG8sciwtMSksci5pc3Jlc3QmJnIubWluTGluZTw9by5tYXhMaW5lJiZEKHIsbywxKSxhLmlzcmVzdCYmby5taW5MaW5lPD1hLm1heExpbmUmJkQoYSxvLC0xKSwoIXIuaXNyZXN0JiYhby5pc3Jlc3QmJnIubWluTGluZTw9by5tYXhMaW5lKy41fHwhby5pc3Jlc3QmJiFhLmlzcmVzdCYmby5taW5MaW5lPD1hLm1heExpbmUpJiYoYz1oKzMsby5ub3RlLnNldFhTaGlmdChjKSksITApfXN0YXRpYyBmb3JtYXRCeVkodCxlKXtsZXQgaT0hMDtmb3IobGV0IGU9MDtlPHQubGVuZ3RoO2UrKylpPWkmJm51bGwhPXRbZV0uZ2V0U3RhdmUoKTtpZighaSl0aHJvdyBuZXcgcy5SRVJSKFwiU3RhdmUgTWlzc2luZ1wiLFwiQWxsIG5vdGVzIG11c3QgaGF2ZSBhIHN0YXZlIC0gVmV4LkZsb3cuTW9kaWZpZXJDb250ZXh0LmZvcm1hdE11bHRpVm9pY2UhXCIpO2xldCBuPTA7Zm9yKGxldCBlPTA7ZTx0Lmxlbmd0aC0xO2UrKyl7bGV0IGk9dFtlXSxzPXRbZSsxXTtpLmdldFN0ZW1EaXJlY3Rpb24oKT09PUUuRE9XTiYmKGk9dFtlKzFdLHM9dFtlXSk7Y29uc3Qgcj1pLmdldEtleVByb3BzKCksbz1zLmdldEtleVByb3BzKCksYT0uNSxoPWkuZ2V0U3RhdmUoKS5nZXRZRm9yTGluZSg1LXJbMF0ubGluZSthKTtzLmdldFN0YXZlKCkuZ2V0WUZvckxpbmUoNS1vW28ubGVuZ3RoLTFdLmxpbmUtYSktaDwwJiYobj1pLmdldFZvaWNlU2hpZnRXaWR0aCgpKzIscy5zZXRYU2hpZnQobikpfWUucmlnaHRfc2hpZnQrPW59c3RhdGljIHBvc3RGb3JtYXQodCl7cmV0dXJuISF0JiYodC5mb3JFYWNoKHQ9PnQucG9zdEZvcm1hdCgpKSwhMCl9Y29uc3RydWN0b3IodCl7aWYoc3VwZXIodCksdGhpcy5zZXRBdHRyaWJ1dGUoXCJ0eXBlXCIsXCJTdGF2ZU5vdGVcIiksdGhpcy5rZXlzPXQua2V5cyx0aGlzLmNsZWY9dC5jbGVmLHRoaXMub2N0YXZlX3NoaWZ0PXQub2N0YXZlX3NoaWZ0LHRoaXMuYmVhbT1udWxsLHRoaXMuZ2x5cGg9bS5nZXRHbHlwaFByb3BzKHRoaXMuZHVyYXRpb24sdGhpcy5ub3RlVHlwZSksIXRoaXMuZ2x5cGgpdGhyb3cgbmV3IHMuUnVudGltZUVycm9yKFwiQmFkQXJndW1lbnRzXCIsYEludmFsaWQgbm90ZSBpbml0aWFsaXphdGlvbiBkYXRhIChObyBnbHlwaCBmb3VuZCk6ICR7SlNPTi5zdHJpbmdpZnkodCl9YCk7dGhpcy5kaXNwbGFjZWQ9ITEsdGhpcy5kb3Rfc2hpZnRZPTAsdGhpcy5rZXlQcm9wcz1bXSx0aGlzLnVzZV9kZWZhdWx0X2hlYWRfeD0hMSx0aGlzLm5vdGVfaGVhZHM9W10sdGhpcy5tb2RpZmllcnM9W10scy5NZXJnZSh0aGlzLnJlbmRlcl9vcHRpb25zLHtnbHlwaF9mb250X3NjYWxlOnQuZ2x5cGhfZm9udF9zY2FsZXx8bS5ERUZBVUxUX05PVEFUSU9OX0ZPTlRfU0NBTEUsc3Ryb2tlX3B4OnQuc3Ryb2tlX3B4fHxrLkRFRkFVTFRfTEVER0VSX0xJTkVfT0ZGU0VUfSksdGhpcy5jYWxjdWxhdGVLZXlQcm9wcygpLHRoaXMuYnVpbGRTdGVtKCksdC5hdXRvX3N0ZW0/dGhpcy5hdXRvU3RlbSgpOnRoaXMuc2V0U3RlbURpcmVjdGlvbih0LnN0ZW1fZGlyZWN0aW9uKSx0aGlzLnJlc2V0KCksdGhpcy5idWlsZEZsYWcoKX1yZXNldCgpe3N1cGVyLnJlc2V0KCk7Y29uc3QgdD10aGlzLm5vdGVfaGVhZHMubWFwKHQ9PnQuZ2V0U3R5bGUoKSk7dGhpcy5idWlsZE5vdGVIZWFkcygpLHRoaXMubm90ZV9oZWFkcy5mb3JFYWNoKChlLGkpPT5lLnNldFN0eWxlKHRbaV0pKSx0aGlzLnN0YXZlJiZ0aGlzLm5vdGVfaGVhZHMuZm9yRWFjaCh0PT50LnNldFN0YXZlKHRoaXMuc3RhdmUpKSx0aGlzLmNhbGNFeHRyYVB4KCl9c2V0QmVhbSh0KXtyZXR1cm4gdGhpcy5iZWFtPXQsdGhpcy5jYWxjRXh0cmFQeCgpLHRoaXN9Z2V0Q2F0ZWdvcnkoKXtyZXR1cm4gay5DQVRFR09SWX1idWlsZFN0ZW0oKXt0aGlzLnNldFN0ZW0obmV3IEUoe2hpZGU6ISF0aGlzLmlzUmVzdCgpfSkpfWJ1aWxkTm90ZUhlYWRzKCl7dGhpcy5ub3RlX2hlYWRzPVtdO2NvbnN0IHQ9dGhpcy5nZXRTdGVtRGlyZWN0aW9uKCksZT10aGlzLmdldEtleXMoKTtsZXQgaSxzLG4scj1udWxsLG89bnVsbCxhPSExO3Q9PT1FLlVQPyhpPTAscz1lLmxlbmd0aCxuPTEpOnQ9PT1FLkRPV04mJihpPWUubGVuZ3RoLTEscz0tMSxuPS0xKTtmb3IobGV0IGU9aTtlIT09cztlKz1uKXtjb25zdCBpPXRoaXMua2V5UHJvcHNbZV0scz1pLmxpbmU7bnVsbD09PXI/cj1zOihvPU1hdGguYWJzKHItcyksMD09PW98fC41PT09bz9hPSFhOihhPSExLHRoaXMudXNlX2RlZmF1bHRfaGVhZF94PSEwKSkscj1zO2NvbnN0IG49bmV3IFIoe2R1cmF0aW9uOnRoaXMuZHVyYXRpb24sbm90ZV90eXBlOnRoaXMubm90ZVR5cGUsZGlzcGxhY2VkOmEsc3RlbV9kaXJlY3Rpb246dCxjdXN0b21fZ2x5cGhfY29kZTppLmNvZGUsZ2x5cGhfZm9udF9zY2FsZTp0aGlzLnJlbmRlcl9vcHRpb25zLmdseXBoX2ZvbnRfc2NhbGUseF9zaGlmdDppLnNoaWZ0X3JpZ2h0LHN0ZW1fdXBfeF9vZmZzZXQ6aS5zdGVtX3VwX3hfb2Zmc2V0LHN0ZW1fZG93bl94X29mZnNldDppLnN0ZW1fZG93bl94X29mZnNldCxsaW5lOmkubGluZX0pO3RoaXMubm90ZV9oZWFkc1tlXT1ufX1hdXRvU3RlbSgpe3RoaXMubWluTGluZT10aGlzLmtleVByb3BzWzBdLmxpbmUsdGhpcy5tYXhMaW5lPXRoaXMua2V5UHJvcHNbdGhpcy5rZXlQcm9wcy5sZW5ndGgtMV0ubGluZTtjb25zdCB0PSh0aGlzLm1pbkxpbmUrdGhpcy5tYXhMaW5lKS8yPDM/RS5VUDpFLkRPV047dGhpcy5zZXRTdGVtRGlyZWN0aW9uKHQpfWNhbGN1bGF0ZUtleVByb3BzKCl7bGV0IHQ9bnVsbDtmb3IobGV0IGU9MDtlPHRoaXMua2V5cy5sZW5ndGg7KytlKXtjb25zdCBpPXRoaXMua2V5c1tlXTt0aGlzLmdseXBoLnJlc3QmJih0aGlzLmdseXBoLnBvc2l0aW9uPWkpO2NvbnN0IG49e29jdGF2ZV9zaGlmdDp0aGlzLm9jdGF2ZV9zaGlmdHx8MH0scj1tLmtleVByb3BlcnRpZXMoaSx0aGlzLmNsZWYsbik7aWYoIXIpdGhyb3cgbmV3IHMuUnVudGltZUVycm9yKFwiQmFkQXJndW1lbnRzXCIsYEludmFsaWQga2V5IGZvciBub3RlIHByb3BlcnRpZXM6ICR7aX1gKTtcIlJcIj09PXIua2V5JiYoXCIxXCI9PT10aGlzLmR1cmF0aW9ufHxcIndcIj09PXRoaXMuZHVyYXRpb24/ci5saW5lPTQ6ci5saW5lPTMpO2NvbnN0IG89ci5saW5lO251bGw9PT10P3Q9bzouNT09PU1hdGguYWJzKHQtbykmJih0aGlzLmRpc3BsYWNlZD0hMCxyLmRpc3BsYWNlZD0hMCx0aGlzLmtleVByb3BzLmxlbmd0aD4wJiYodGhpcy5rZXlQcm9wc1tlLTFdLmRpc3BsYWNlZD0hMCkpLHQ9byx0aGlzLmtleVByb3BzLnB1c2gocil9dD0tMS8wLHRoaXMua2V5UHJvcHMuZm9yRWFjaChlPT57ZS5saW5lPHQmJnMuVyhcIlVuc29ydGVkIGtleXMgaW4gbm90ZSB3aWxsIGJlIHNvcnRlZC4gU2VlIGh0dHBzOi8vZ2l0aHViLmNvbS8weGZlL3ZleGZsb3cvaXNzdWVzLzEwNCBmb3IgZGV0YWlscy5cIiksdD1lLmxpbmV9KSx0aGlzLmtleVByb3BzLnNvcnQoKHQsZSk9PnQubGluZS1lLmxpbmUpfWdldEJvdW5kaW5nQm94KCl7aWYoIXRoaXMucHJlRm9ybWF0dGVkKXRocm93IG5ldyBzLlJFUlIoXCJVbmZvcm1hdHRlZE5vdGVcIixcIkNhbid0IGNhbGwgZ2V0Qm91bmRpbmdCb3ggb24gYW4gdW5mb3JtYXR0ZWQgbm90ZS5cIik7Y29uc3R7d2lkdGg6dCxtb2RMZWZ0UHg6ZSxleHRyYUxlZnRQeDppfT10aGlzLmdldE1ldHJpY3MoKSxuPXRoaXMuZ2V0QWJzb2x1dGVYKCktZS1pO2xldCByPTAsbz0wO2NvbnN0IGE9dGhpcy5nZXRTdGF2ZSgpLmdldFNwYWNpbmdCZXR3ZWVuTGluZXMoKS8yLGg9MiphO2lmKHRoaXMuaXNSZXN0KCkpe2NvbnN0IHQ9dGhpcy55c1swXSxlPW0uZHVyYXRpb25Ub0ZyYWN0aW9uKHRoaXMuZHVyYXRpb24pO2UuZXF1YWxzKDEpfHxlLmVxdWFscygyKT8ocj10LWEsbz10K2EpOihyPXQtdGhpcy5nbHlwaC5saW5lX2Fib3ZlKmgsbz10K3RoaXMuZ2x5cGgubGluZV9iZWxvdypoKX1lbHNlIGlmKHRoaXMuZ2x5cGguc3RlbSl7Y29uc3QgdD10aGlzLmdldFN0ZW1FeHRlbnRzKCk7dC5iYXNlWSs9YSp0aGlzLnN0ZW1fZGlyZWN0aW9uLHI9TWF0aC5taW4odC50b3BZLHQuYmFzZVkpLG89TWF0aC5tYXgodC50b3BZLHQuYmFzZVkpfWVsc2V7cj1udWxsLG89bnVsbDtmb3IobGV0IHQ9MDt0PHRoaXMueXMubGVuZ3RoOysrdCl7Y29uc3QgZT10aGlzLnlzW3RdOzA9PT10PyhyPWUsbz1lKToocj1NYXRoLm1pbihlLHIpLG89TWF0aC5tYXgoZSxvKSl9ci09YSxvKz1hfXJldHVybiBuZXcgYyhuLHIsdCxvLXIpfWdldExpbmVOdW1iZXIodCl7aWYoIXRoaXMua2V5UHJvcHMubGVuZ3RoKXRocm93IG5ldyBzLlJFUlIoXCJOb0tleVByb3BzXCIsXCJDYW4ndCBnZXQgYm90dG9tIG5vdGUgbGluZSwgYmVjYXVzZSBub3RlIGlzIG5vdCBpbml0aWFsaXplZCBwcm9wZXJseS5cIik7bGV0IGU9dGhpcy5rZXlQcm9wc1swXS5saW5lO2ZvcihsZXQgaT0wO2k8dGhpcy5rZXlQcm9wcy5sZW5ndGg7aSsrKXtjb25zdCBzPXRoaXMua2V5UHJvcHNbaV0ubGluZTt0P3M+ZSYmKGU9cyk6czxlJiYoZT1zKX1yZXR1cm4gZX1pc1Jlc3QoKXtyZXR1cm4gdGhpcy5nbHlwaC5yZXN0fWlzQ2hvcmQoKXtyZXR1cm4hdGhpcy5pc1Jlc3QoKSYmdGhpcy5rZXlzLmxlbmd0aD4xfWhhc1N0ZW0oKXtyZXR1cm4gdGhpcy5nbHlwaC5zdGVtfWhhc0ZsYWcoKXtyZXR1cm4gc3VwZXIuaGFzRmxhZygpJiYhdGhpcy5pc1Jlc3QoKX1nZXRTdGVtWCgpe3JldHVyblwiclwiPT09dGhpcy5ub3RlVHlwZT90aGlzLmdldENlbnRlckdseXBoWCgpOnN1cGVyLmdldFN0ZW1YKCkrKHQ9dGhpcyxFLldJRFRILygyKi10LmdldFN0ZW1EaXJlY3Rpb24oKSkpO3ZhciB0fWdldFlGb3JUb3BUZXh0KHQpe2NvbnN0IGU9dGhpcy5nZXRTdGVtRXh0ZW50cygpO3JldHVybiBNYXRoLm1pbih0aGlzLnN0YXZlLmdldFlGb3JUb3BUZXh0KHQpLGUudG9wWS10aGlzLnJlbmRlcl9vcHRpb25zLmFubm90YXRpb25fc3BhY2luZyoodCsxKSl9Z2V0WUZvckJvdHRvbVRleHQodCl7Y29uc3QgZT10aGlzLmdldFN0ZW1FeHRlbnRzKCk7cmV0dXJuIE1hdGgubWF4KHRoaXMuc3RhdmUuZ2V0WUZvclRvcFRleHQodCksZS5iYXNlWSt0aGlzLnJlbmRlcl9vcHRpb25zLmFubm90YXRpb25fc3BhY2luZyp0KX1zZXRTdGF2ZSh0KXtzdXBlci5zZXRTdGF2ZSh0KTtjb25zdCBlPXRoaXMubm90ZV9oZWFkcy5tYXAoZT0+KGUuc2V0U3RhdmUodCksZS5nZXRZKCkpKTtpZih0aGlzLnNldFlzKGUpLHRoaXMuc3RlbSl7Y29uc3R7eV90b3A6dCx5X2JvdHRvbTplfT10aGlzLmdldE5vdGVIZWFkQm91bmRzKCk7dGhpcy5zdGVtLnNldFlCb3VuZHModCxlKX1yZXR1cm4gdGhpc31nZXRLZXlzKCl7cmV0dXJuIHRoaXMua2V5c31nZXRLZXlQcm9wcygpe3JldHVybiB0aGlzLmtleVByb3BzfWlzRGlzcGxhY2VkKCl7cmV0dXJuIHRoaXMuZGlzcGxhY2VkfXNldE5vdGVEaXNwbGFjZWQodCl7cmV0dXJuIHRoaXMuZGlzcGxhY2VkPXQsdGhpc31nZXRUaWVSaWdodFgoKXtsZXQgdD10aGlzLmdldEFic29sdXRlWCgpO3JldHVybiB0Kz10aGlzLmdldEdseXBoV2lkdGgoKSt0aGlzLnhfc2hpZnQrdGhpcy5leHRyYVJpZ2h0UHgsdGhpcy5tb2RpZmllckNvbnRleHQmJih0Kz10aGlzLm1vZGlmaWVyQ29udGV4dC5nZXRFeHRyYVJpZ2h0UHgoKSksdH1nZXRUaWVMZWZ0WCgpe2xldCB0PXRoaXMuZ2V0QWJzb2x1dGVYKCk7cmV0dXJuIHQrPXRoaXMueF9zaGlmdC10aGlzLmV4dHJhTGVmdFB4LHR9Z2V0TGluZUZvclJlc3QoKXtsZXQgdD10aGlzLmtleVByb3BzWzBdLmxpbmU7aWYodGhpcy5rZXlQcm9wcy5sZW5ndGg+MSl7Y29uc3QgZT10aGlzLmtleVByb3BzW3RoaXMua2V5UHJvcHMubGVuZ3RoLTFdLmxpbmUsaT1NYXRoLm1heCh0LGUpLG49TWF0aC5taW4odCxlKTt0PXMuTWlkTGluZShpLG4pfXJldHVybiB0fWdldE1vZGlmaWVyU3RhcnRYWSh0LGUsaSl7aWYoaT1pfHx7fSwhdGhpcy5wcmVGb3JtYXR0ZWQpdGhyb3cgbmV3IHMuUkVSUihcIlVuZm9ybWF0dGVkTm90ZVwiLFwiQ2FuJ3QgY2FsbCBHZXRNb2RpZmllclN0YXJ0WFkgb24gYW4gdW5mb3JtYXR0ZWQgbm90ZVwiKTtpZigwPT09dGhpcy55cy5sZW5ndGgpdGhyb3cgbmV3IHMuUkVSUihcIk5vWVZhbHVlc1wiLFwiTm8gWS1WYWx1ZXMgY2FsY3VsYXRlZCBmb3IgdGhpcyBub3RlLlwiKTtjb25zdHtBQk9WRTpuLEJFTE9XOnIsTEVGVDpvLFJJR0hUOmF9PUIuUG9zaXRpb247bGV0IGg9MDtyZXR1cm4gdD09PW8/aD0tMjp0PT09YT8oaD10aGlzLmdldEdseXBoV2lkdGgoKSt0aGlzLnhfc2hpZnQrMix0aGlzLnN0ZW1fZGlyZWN0aW9uPT09RS5VUCYmdGhpcy5oYXNGbGFnKCkmJihpLmZvcmNlRmxhZ1JpZ2h0fHwoKHQsZSk9PmU9PT0odC5nZXRTdGVtRGlyZWN0aW9uKCk9PT1FLlVQP3Qua2V5UHJvcHMubGVuZ3RoLTE6MCkpKHRoaXMsZSkpJiYoaCs9dGhpcy5mbGFnLmdldE1ldHJpY3MoKS53aWR0aCkpOnQhPT1yJiZ0IT09bnx8KGg9dGhpcy5nZXRHbHlwaFdpZHRoKCkvMikse3g6dGhpcy5nZXRBYnNvbHV0ZVgoKStoLHk6dGhpcy55c1tlXX19c2V0U3R5bGUodCl7c3VwZXIuc2V0U3R5bGUodCksdGhpcy5ub3RlX2hlYWRzLmZvckVhY2goZT0+ZS5zZXRTdHlsZSh0KSksdGhpcy5zdGVtLnNldFN0eWxlKHQpfXNldFN0ZW1TdHlsZSh0KXt0aGlzLmdldFN0ZW0oKS5zZXRTdHlsZSh0KX1nZXRTdGVtU3R5bGUoKXtyZXR1cm4gdGhpcy5zdGVtLmdldFN0eWxlKCl9c2V0TGVkZ2VyTGluZVN0eWxlKHQpe3RoaXMubGVkZ2VyTGluZVN0eWxlPXR9Z2V0TGVkZ2VyTGluZVN0eWxlKCl7cmV0dXJuIHRoaXMubGVkZ2VyTGluZVN0eWxlfXNldEZsYWdTdHlsZSh0KXt0aGlzLmZsYWdTdHlsZT10fWdldEZsYWdTdHlsZSgpe3JldHVybiB0aGlzLmZsYWdTdHlsZX1zZXRLZXlTdHlsZSh0LGUpe3JldHVybiB0aGlzLm5vdGVfaGVhZHNbdF0uc2V0U3R5bGUoZSksdGhpc31zZXRLZXlMaW5lKHQsZSl7cmV0dXJuIHRoaXMua2V5UHJvcHNbdF0ubGluZT1lLHRoaXMucmVzZXQoKSx0aGlzfWdldEtleUxpbmUodCl7cmV0dXJuIHRoaXMua2V5UHJvcHNbdF0ubGluZX1hZGRUb01vZGlmaWVyQ29udGV4dCh0KXt0aGlzLnNldE1vZGlmaWVyQ29udGV4dCh0KTtmb3IobGV0IHQ9MDt0PHRoaXMubW9kaWZpZXJzLmxlbmd0aDsrK3QpdGhpcy5tb2RpZmllckNvbnRleHQuYWRkTW9kaWZpZXIodGhpcy5tb2RpZmllcnNbdF0pO3JldHVybiB0aGlzLm1vZGlmaWVyQ29udGV4dC5hZGRNb2RpZmllcih0aGlzKSx0aGlzLnNldFByZUZvcm1hdHRlZCghMSksdGhpc31hZGRNb2RpZmllcih0LGUpe3JldHVybiBlLnNldE5vdGUodGhpcyksZS5zZXRJbmRleCh0KSx0aGlzLm1vZGlmaWVycy5wdXNoKGUpLHRoaXMuc2V0UHJlRm9ybWF0dGVkKCExKSx0aGlzfWFkZEFjY2lkZW50YWwodCxlKXtyZXR1cm4gdGhpcy5hZGRNb2RpZmllcih0LGUpfWFkZEFydGljdWxhdGlvbih0LGUpe3JldHVybiB0aGlzLmFkZE1vZGlmaWVyKHQsZSl9YWRkQW5ub3RhdGlvbih0LGUpe3JldHVybiB0aGlzLmFkZE1vZGlmaWVyKHQsZSl9YWRkRG90KHQpe2NvbnN0IGU9bmV3IEY7cmV0dXJuIGUuc2V0RG90U2hpZnRZKHRoaXMuZ2x5cGguZG90X3NoaWZ0WSksdGhpcy5kb3RzKyssdGhpcy5hZGRNb2RpZmllcih0LGUpfWFkZERvdFRvQWxsKCl7Zm9yKGxldCB0PTA7dDx0aGlzLmtleXMubGVuZ3RoOysrdCl0aGlzLmFkZERvdCh0KTtyZXR1cm4gdGhpc31nZXRBY2NpZGVudGFscygpe3JldHVybiB0aGlzLm1vZGlmaWVyQ29udGV4dC5nZXRNb2RpZmllcnMoXCJhY2NpZGVudGFsc1wiKX1nZXREb3RzKCl7cmV0dXJuIHRoaXMubW9kaWZpZXJDb250ZXh0LmdldE1vZGlmaWVycyhcImRvdHNcIil9Z2V0Vm9pY2VTaGlmdFdpZHRoKCl7cmV0dXJuIHRoaXMuZ2V0R2x5cGhXaWR0aCgpKih0aGlzLmRpc3BsYWNlZD8yOjEpfWNhbGNFeHRyYVB4KCl7dGhpcy5zZXRFeHRyYUxlZnRQeCh0aGlzLmRpc3BsYWNlZCYmdGhpcy5zdGVtX2RpcmVjdGlvbj09PUUuRE9XTj90aGlzLmdldEdseXBoV2lkdGgoKTowKSx0aGlzLnNldEV4dHJhUmlnaHRQeCghdGhpcy5oYXNGbGFnKCkmJnRoaXMuZGlzcGxhY2VkJiZ0aGlzLnN0ZW1fZGlyZWN0aW9uPT09RS5VUD90aGlzLmdldEdseXBoV2lkdGgoKTowKX1wcmVGb3JtYXQoKXtpZih0aGlzLnByZUZvcm1hdHRlZClyZXR1cm47dGhpcy5tb2RpZmllckNvbnRleHQmJnRoaXMubW9kaWZpZXJDb250ZXh0LnByZUZvcm1hdCgpO2xldCB0PXRoaXMuZ2V0R2x5cGhXaWR0aCgpK3RoaXMuZXh0cmFMZWZ0UHgrdGhpcy5leHRyYVJpZ2h0UHg7dGhpcy5nbHlwaC5mbGFnJiZudWxsPT09dGhpcy5iZWFtJiZ0aGlzLnN0ZW1fZGlyZWN0aW9uPT09RS5VUCYmKHQrPXRoaXMuZ2V0R2x5cGhXaWR0aCgpKSx0aGlzLnNldFdpZHRoKHQpLHRoaXMuc2V0UHJlRm9ybWF0dGVkKCEwKX1nZXROb3RlSGVhZEJvdW5kcygpe2xldCB0PW51bGwsZT1udWxsLGk9bnVsbCxzPW51bGwsbj10aGlzLnN0YXZlLmdldE51bUxpbmVzKCkscj0xLG89ITEsYT0hMSxoPW4sbD1yO3JldHVybiB0aGlzLm5vdGVfaGVhZHMuZm9yRWFjaChjPT57Y29uc3QgdT1jLmdldExpbmUoKSxkPWMuZ2V0WSgpOyhudWxsPT09dHx8ZDx0KSYmKHQ9ZCksKG51bGw9PT1lfHxkPmUpJiYoZT1kKSxudWxsPT09cyYmYy5pc0Rpc3BsYWNlZCgpJiYocz1jLmdldEFic29sdXRlWCgpKSxudWxsIT09aXx8Yy5pc0Rpc3BsYWNlZCgpfHwoaT1jLmdldEFic29sdXRlWCgpKSxuPXU+bj91Om4scj11PHI/dTpyLGMuaXNEaXNwbGFjZWQoKT8obz0hMT09PW8/dTpNYXRoLm1heCh1LG8pLGE9ITE9PT1hP3U6TWF0aC5taW4odSxhKSk6KGg9TWF0aC5tYXgodSxoKSxsPU1hdGgubWluKHUsbCkpfSx0aGlzKSx7eV90b3A6dCx5X2JvdHRvbTplLGRpc3BsYWNlZF94OnMsbm9uX2Rpc3BsYWNlZF94OmksaGlnaGVzdF9saW5lOm4sbG93ZXN0X2xpbmU6cixoaWdoZXN0X2Rpc3BsYWNlZF9saW5lOm8sbG93ZXN0X2Rpc3BsYWNlZF9saW5lOmEsaGlnaGVzdF9ub25fZGlzcGxhY2VkX2xpbmU6aCxsb3dlc3Rfbm9uX2Rpc3BsYWNlZF9saW5lOmx9fWdldE5vdGVIZWFkQmVnaW5YKCl7cmV0dXJuIHRoaXMuZ2V0QWJzb2x1dGVYKCkrdGhpcy54X3NoaWZ0fWdldE5vdGVIZWFkRW5kWCgpe3JldHVybiB0aGlzLmdldE5vdGVIZWFkQmVnaW5YKCkrdGhpcy5nZXRHbHlwaFdpZHRoKCl9ZHJhd0xlZGdlckxpbmVzKCl7Y29uc3R7c3RhdmU6dCxnbHlwaDplLHJlbmRlcl9vcHRpb25zOntzdHJva2VfcHg6aX0sY29udGV4dDpufT10aGlzLHI9ZS5nZXRXaWR0aCgpKzIqaSxvPTIqKGUuZ2V0V2lkdGgoKStpKS1FLldJRFRILzI7aWYodGhpcy5pc1Jlc3QoKSlyZXR1cm47aWYoIW4pdGhyb3cgbmV3IHMuUkVSUihcIk5vQ2FudmFzQ29udGV4dFwiLFwiQ2FuJ3QgZHJhdyB3aXRob3V0IGEgY2FudmFzIGNvbnRleHQuXCIpO2NvbnN0e2hpZ2hlc3RfbGluZTphLGxvd2VzdF9saW5lOmgsaGlnaGVzdF9kaXNwbGFjZWRfbGluZTpsLGhpZ2hlc3Rfbm9uX2Rpc3BsYWNlZF9saW5lOmMsbG93ZXN0X2Rpc3BsYWNlZF9saW5lOnUsbG93ZXN0X25vbl9kaXNwbGFjZWRfbGluZTpkLGRpc3BsYWNlZF94OmYsbm9uX2Rpc3BsYWNlZF94Om19PXRoaXMuZ2V0Tm90ZUhlYWRCb3VuZHMoKSxwPU1hdGgubWluKGYsbSksZz0odCxlLHMpPT57bGV0IGE7YT1zJiZlP3AtaTplP20taTpmLWk7Y29uc3QgaD1lJiZzP286cjtuLmJlZ2luUGF0aCgpLG4ubW92ZVRvKGEsdCksbi5saW5lVG8oYStoLHQpLG4uc3Ryb2tlKCl9LGI9ey4uLnQuZ2V0U3R5bGUoKXx8e30sLi4udGhpcy5nZXRMZWRnZXJMaW5lU3R5bGUoKXx8e319O3RoaXMuYXBwbHlTdHlsZShuLGIpO2ZvcihsZXQgZT02O2U8PWE7KytlKXtjb25zdCBpPW51bGwhPT1tJiZlPD1jLHM9bnVsbCE9PWYmJmU8PWw7Zyh0LmdldFlGb3JOb3RlKGUpLGkscyl9Zm9yKGxldCBlPTA7ZT49aDstLWUpe2NvbnN0IGk9bnVsbCE9PW0mJmU+PWQscz1udWxsIT09ZiYmZT49dTtnKHQuZ2V0WUZvck5vdGUoZSksaSxzKX10aGlzLnJlc3RvcmVTdHlsZShuLGIpfWRyYXdNb2RpZmllcnMoKXtpZighdGhpcy5jb250ZXh0KXRocm93IG5ldyBzLlJFUlIoXCJOb0NhbnZhc0NvbnRleHRcIixcIkNhbid0IGRyYXcgd2l0aG91dCBhIGNhbnZhcyBjb250ZXh0LlwiKTtjb25zdCB0PXRoaXMuY29udGV4dDt0Lm9wZW5Hcm91cChcIm1vZGlmaWVyc1wiKTtmb3IobGV0IGU9MDtlPHRoaXMubW9kaWZpZXJzLmxlbmd0aDtlKyspe2NvbnN0IGk9dGhpcy5tb2RpZmllcnNbZV0scz10aGlzLm5vdGVfaGVhZHNbaS5nZXRJbmRleCgpXSxuPXMuZ2V0U3R5bGUoKTtzLmFwcGx5U3R5bGUodCxuKSxpLnNldENvbnRleHQodCksaS5kcmF3V2l0aFN0eWxlKCkscy5yZXN0b3JlU3R5bGUodCxuKX10LmNsb3NlR3JvdXAoKX1kcmF3RmxhZygpe2NvbnN0e3N0ZW06dCxiZWFtOmUsY29udGV4dDppfT10aGlzO2lmKCFpKXRocm93IG5ldyBzLlJFUlIoXCJOb0NhbnZhc0NvbnRleHRcIixcIkNhbid0IGRyYXcgd2l0aG91dCBhIGNhbnZhcyBjb250ZXh0LlwiKTtjb25zdCBuPW51bGw9PT1lO2lmKHRoaXMuZ2V0R2x5cGgoKS5mbGFnJiZuKXtjb25zdHt5X3RvcDplLHlfYm90dG9tOnN9PXRoaXMuZ2V0Tm90ZUhlYWRCb3VuZHMoKSxuPXQuZ2V0SGVpZ2h0KCkscj10aGlzLmdldFN0ZW1YKCksbz10aGlzLmdldFN0ZW1EaXJlY3Rpb24oKT09PUUuRE9XTj9lLW4rMjpzLW4tMjtpLm9wZW5Hcm91cChcImZsYWdcIixudWxsLHtwb2ludGVyQkJveDohMH0pLHRoaXMuYXBwbHlTdHlsZShpLHRoaXMuZ2V0RmxhZ1N0eWxlKCl8fCExKSx0aGlzLmZsYWcucmVuZGVyKGkscixvKSx0aGlzLnJlc3RvcmVTdHlsZShpLHRoaXMuZ2V0RmxhZ1N0eWxlKCl8fCExKSxpLmNsb3NlR3JvdXAoKX19ZHJhd05vdGVIZWFkcygpe3RoaXMubm90ZV9oZWFkcy5mb3JFYWNoKHQ9Pnt0aGlzLmNvbnRleHQub3Blbkdyb3VwKFwibm90ZWhlYWRcIixudWxsLHtwb2ludGVyQkJveDohMH0pLHQuc2V0Q29udGV4dCh0aGlzLmNvbnRleHQpLmRyYXcoKSx0aGlzLmNvbnRleHQuY2xvc2VHcm91cCgpfSl9ZHJhd1N0ZW0odCl7aWYoIXRoaXMuY29udGV4dCl0aHJvdyBuZXcgcy5SRVJSKFwiTm9DYW52YXNDb250ZXh0XCIsXCJDYW4ndCBkcmF3IHdpdGhvdXQgYSBjYW52YXMgY29udGV4dC5cIik7dCYmdGhpcy5zZXRTdGVtKG5ldyBFKHQpKSx0aGlzLmNvbnRleHQub3Blbkdyb3VwKFwic3RlbVwiLG51bGwse3BvaW50ZXJCQm94OiEwfSksdGhpcy5zdGVtLnNldENvbnRleHQodGhpcy5jb250ZXh0KS5kcmF3KCksdGhpcy5jb250ZXh0LmNsb3NlR3JvdXAoKX1kcmF3KCl7aWYoIXRoaXMuY29udGV4dCl0aHJvdyBuZXcgcy5SRVJSKFwiTm9DYW52YXNDb250ZXh0XCIsXCJDYW4ndCBkcmF3IHdpdGhvdXQgYSBjYW52YXMgY29udGV4dC5cIik7aWYoIXRoaXMuc3RhdmUpdGhyb3cgbmV3IHMuUkVSUihcIk5vU3RhdmVcIixcIkNhbid0IGRyYXcgd2l0aG91dCBhIHN0YXZlLlwiKTtpZigwPT09dGhpcy55cy5sZW5ndGgpdGhyb3cgbmV3IHMuUkVSUihcIk5vWVZhbHVlc1wiLFwiQ2FuJ3QgZHJhdyBub3RlIHdpdGhvdXQgWSB2YWx1ZXMuXCIpO2NvbnN0IHQ9dGhpcy5nZXROb3RlSGVhZEJlZ2luWCgpLGU9dGhpcy5oYXNTdGVtKCkmJiF0aGlzLmJlYW07dGhpcy5ub3RlX2hlYWRzLmZvckVhY2goZT0+ZS5zZXRYKHQpKTtjb25zdCBpPXRoaXMuZ2V0U3RlbVgoKTt0aGlzLnN0ZW0uc2V0Tm90ZUhlYWRYQm91bmRzKGksaSksZnVuY3Rpb24oLi4udCl7ay5ERUJVRyYmcy5MKFwiVmV4LkZsb3cuU3RhdmVOb3RlXCIsdCl9KFwiUmVuZGVyaW5nIFwiLHRoaXMuaXNDaG9yZCgpP1wiY2hvcmQgOlwiOlwibm90ZSA6XCIsdGhpcy5rZXlzKSx0aGlzLmRyYXdMZWRnZXJMaW5lcygpLHRoaXMuYXBwbHlTdHlsZSgpLHRoaXMuc2V0QXR0cmlidXRlKFwiZWxcIix0aGlzLmNvbnRleHQub3Blbkdyb3VwKFwic3RhdmVub3RlXCIsdGhpcy5nZXRBdHRyaWJ1dGUoXCJpZFwiKSkpLHRoaXMuY29udGV4dC5vcGVuR3JvdXAoXCJub3RlXCIsbnVsbCx7cG9pbnRlckJCb3g6ITB9KSxlJiZ0aGlzLmRyYXdTdGVtKCksdGhpcy5kcmF3Tm90ZUhlYWRzKCksdGhpcy5kcmF3RmxhZygpLHRoaXMuY29udGV4dC5jbG9zZUdyb3VwKCksdGhpcy5kcmF3TW9kaWZpZXJzKCksdGhpcy5jb250ZXh0LmNsb3NlR3JvdXAoKSx0aGlzLnJlc3RvcmVTdHlsZSgpLHRoaXMuc2V0UmVuZGVyZWQoKX19Y2xhc3MgTyBleHRlbmRzIEJ7c3RhdGljIGdldCBDQVRFR09SWSgpe3JldHVyblwiZnJldGhhbmRmaW5nZXJcIn1zdGF0aWMgZm9ybWF0KHQsZSl7Y29uc3R7bGVmdF9zaGlmdDppLHJpZ2h0X3NoaWZ0OnN9PWU7aWYoIXR8fDA9PT10Lmxlbmd0aClyZXR1cm4hMTtjb25zdCBuPVtdO2xldCByPW51bGwsbz0wLGE9MDtmb3IobGV0IGU9MDtlPHQubGVuZ3RoOysrZSl7Y29uc3QgaD10W2VdLGw9aC5nZXROb3RlKCksYz1oLmdldFBvc2l0aW9uKCksdT1sLmdldEtleVByb3BzKClbaC5nZXRJbmRleCgpXTtpZihsIT09cil7Zm9yKGxldCB0PTA7dDxsLmtleXMubGVuZ3RoOysrdCl7Y29uc3QgZT1sLmdldEtleVByb3BzKClbdF07MD09PWkmJihvPWUuZGlzcGxhY2VkP2wuZ2V0RXh0cmFMZWZ0UHgoKTpvKSwwPT09cyYmKGE9ZS5kaXNwbGFjZWQ/bC5nZXRFeHRyYVJpZ2h0UHgoKTphKX1yPWx9bi5wdXNoKHtub3RlOmwsbnVtOmgscG9zOmMsbGluZTp1LmxpbmUsc2hpZnRMOm8sc2hpZnRSOmF9KX1uLnNvcnQoKHQsZSk9PmUubGluZS10LmxpbmUpO2xldCBoPTAsbD0wLGM9MCx1PTAsZD1udWxsLGY9bnVsbDtmb3IobGV0IHQ9MDt0PG4ubGVuZ3RoOysrdCl7bGV0IGU9MDtjb25zdHtub3RlOnIscG9zOm8sbnVtOm0sbGluZTpwLHNoaWZ0TDpnLHNoaWZ0UjpifT1uW3RdO3A9PT1kJiZyPT09Znx8KGg9aStnLGw9cytiKTtjb25zdCBTPW0uZ2V0V2lkdGgoKSsxO289PT1CLlBvc2l0aW9uLkxFRlQ/KG0uc2V0WFNoaWZ0KGkraCksZT1pK1MsYz1lPmM/ZTpjKTpvPT09Qi5Qb3NpdGlvbi5SSUdIVCYmKG0uc2V0WFNoaWZ0KGwpLGU9YStTLHU9ZT51P2U6dSksZD1wLGY9cn1yZXR1cm4gZS5sZWZ0X3NoaWZ0Kz1jLGUucmlnaHRfc2hpZnQrPXUsITB9Y29uc3RydWN0b3IodCl7c3VwZXIoKSx0aGlzLnNldEF0dHJpYnV0ZShcInR5cGVcIixcIkZyZXRIYW5kRmluZ2VyXCIpLHRoaXMubm90ZT1udWxsLHRoaXMuaW5kZXg9bnVsbCx0aGlzLmZpbmdlcj10LHRoaXMud2lkdGg9Nyx0aGlzLnBvc2l0aW9uPUIuUG9zaXRpb24uTEVGVCx0aGlzLnhfc2hpZnQ9MCx0aGlzLnlfc2hpZnQ9MCx0aGlzLnhfb2Zmc2V0PTAsdGhpcy55X29mZnNldD0wLHRoaXMuZm9udD17ZmFtaWx5Olwic2Fucy1zZXJpZlwiLHNpemU6OSx3ZWlnaHQ6XCJib2xkXCJ9fWdldENhdGVnb3J5KCl7cmV0dXJuIE8uQ0FURUdPUll9c2V0RnJldEhhbmRGaW5nZXIodCl7cmV0dXJuIHRoaXMuZmluZ2VyPXQsdGhpc31zZXRPZmZzZXRYKHQpe3JldHVybiB0aGlzLnhfb2Zmc2V0PXQsdGhpc31zZXRPZmZzZXRZKHQpe3JldHVybiB0aGlzLnlfb2Zmc2V0PXQsdGhpc31kcmF3KCl7aWYodGhpcy5jaGVja0NvbnRleHQoKSwhdGhpcy5ub3RlfHxudWxsPT10aGlzLmluZGV4KXRocm93IG5ldyBzLlJFUlIoXCJOb0F0dGFjaGVkTm90ZVwiLFwiQ2FuJ3QgZHJhdyBzdHJpbmcgbnVtYmVyIHdpdGhvdXQgYSBub3RlIGFuZCBpbmRleC5cIik7dGhpcy5zZXRSZW5kZXJlZCgpO2NvbnN0IHQ9dGhpcy5jb250ZXh0LGU9dGhpcy5ub3RlLmdldE1vZGlmaWVyU3RhcnRYWSh0aGlzLnBvc2l0aW9uLHRoaXMuaW5kZXgpO2xldCBpPWUueCt0aGlzLnhfc2hpZnQrdGhpcy54X29mZnNldCxuPWUueSt0aGlzLnlfc2hpZnQrdGhpcy55X29mZnNldCs1O3N3aXRjaCh0aGlzLnBvc2l0aW9uKXtjYXNlIEIuUG9zaXRpb24uQUJPVkU6aS09NCxuLT0xMjticmVhaztjYXNlIEIuUG9zaXRpb24uQkVMT1c6aS09MixuKz0xMDticmVhaztjYXNlIEIuUG9zaXRpb24uTEVGVDppLT10aGlzLndpZHRoO2JyZWFrO2Nhc2UgQi5Qb3NpdGlvbi5SSUdIVDppKz0xO2JyZWFrO2RlZmF1bHQ6dGhyb3cgbmV3IHMuUkVSUihcIkludmFsaWRQb3N0aW9uXCIsYFRoZSBwb3NpdGlvbiAke3RoaXMucG9zaXRpb259IGRvZXMgbm90IGV4aXN0YCl9dC5zYXZlKCksdC5zZXRGb250KHRoaXMuZm9udC5mYW1pbHksdGhpcy5mb250LnNpemUsdGhpcy5mb250LndlaWdodCksdC5maWxsVGV4dChcIlwiK3RoaXMuZmluZ2VyLGksbiksdC5yZXN0b3JlKCl9fWNsYXNzIFZ7c3RhdGljIGdldCBOVU1fVE9ORVMoKXtyZXR1cm4gMTJ9c3RhdGljIGdldCByb290cygpe3JldHVybltcImNcIixcImRcIixcImVcIixcImZcIixcImdcIixcImFcIixcImJcIl19c3RhdGljIGdldCByb290X3ZhbHVlcygpe3JldHVyblswLDIsNCw1LDcsOSwxMV19c3RhdGljIGdldCByb290X2luZGljZXMoKXtyZXR1cm57YzowLGQ6MSxlOjIsZjozLGc6NCxhOjUsYjo2fX1zdGF0aWMgZ2V0IGNhbm9uaWNhbF9ub3Rlcygpe3JldHVybltcImNcIixcImMjXCIsXCJkXCIsXCJkI1wiLFwiZVwiLFwiZlwiLFwiZiNcIixcImdcIixcImcjXCIsXCJhXCIsXCJhI1wiLFwiYlwiXX1zdGF0aWMgZ2V0IGRpYXRvbmljX2ludGVydmFscygpe3JldHVybltcInVuaXNvblwiLFwibTJcIixcIk0yXCIsXCJtM1wiLFwiTTNcIixcInA0XCIsXCJkaW01XCIsXCJwNVwiLFwibTZcIixcIk02XCIsXCJiN1wiLFwiTTdcIixcIm9jdGF2ZVwiXX1zdGF0aWMgZ2V0IGRpYXRvbmljX2FjY2lkZW50YWxzKCl7cmV0dXJue3VuaXNvbjp7bm90ZTowLGFjY2lkZW50YWw6MH0sbTI6e25vdGU6MSxhY2NpZGVudGFsOi0xfSxNMjp7bm90ZToxLGFjY2lkZW50YWw6MH0sbTM6e25vdGU6MixhY2NpZGVudGFsOi0xfSxNMzp7bm90ZToyLGFjY2lkZW50YWw6MH0scDQ6e25vdGU6MyxhY2NpZGVudGFsOjB9LGRpbTU6e25vdGU6NCxhY2NpZGVudGFsOi0xfSxwNTp7bm90ZTo0LGFjY2lkZW50YWw6MH0sbTY6e25vdGU6NSxhY2NpZGVudGFsOi0xfSxNNjp7bm90ZTo1LGFjY2lkZW50YWw6MH0sYjc6e25vdGU6NixhY2NpZGVudGFsOi0xfSxNNzp7bm90ZTo2LGFjY2lkZW50YWw6MH0sb2N0YXZlOntub3RlOjcsYWNjaWRlbnRhbDowfX19c3RhdGljIGdldCBpbnRlcnZhbHMoKXtyZXR1cm57dTowLHVuaXNvbjowLG0yOjEsYjI6MSxtaW4yOjEsUzoxLEg6MSwyOjIsTTI6MixtYWoyOjIsVDoyLFc6MixtMzozLGIzOjMsbWluMzozLE0zOjQsMzo0LG1hajM6NCw0OjUscDQ6NSxcIiM0XCI6NixiNTo2LGF1ZzQ6NixkaW01OjYsNTo3LHA1OjcsXCIjNVwiOjgsYjY6OCxhdWc1OjgsNjo5LE02OjksbWFqNjo5LGI3OjEwLG03OjEwLG1pbjc6MTAsZG9tNzoxMCxNNzoxMSxtYWo3OjExLDg6MTIsb2N0YXZlOjEyfX1zdGF0aWMgZ2V0IHNjYWxlcygpe3JldHVybnttYWpvcjpbMiwyLDEsMiwyLDIsMV0sZG9yaWFuOlsyLDEsMiwyLDIsMSwyXSxtaXhvbHlkaWFuOlsyLDIsMSwyLDIsMSwyXSxtaW5vcjpbMiwxLDIsMiwxLDIsMl19fXN0YXRpYyBnZXQgc2NhbGVUeXBlcygpe3JldHVybntNOlYuc2NhbGVzLm1ham9yLG06Vi5zY2FsZXMubWlub3J9fXN0YXRpYyBnZXQgYWNjaWRlbnRhbHMoKXtyZXR1cm5bXCJiYlwiLFwiYlwiLFwiblwiLFwiI1wiLFwiIyNcIl19c3RhdGljIGdldCBub3RlVmFsdWVzKCl7cmV0dXJue2M6e3Jvb3RfaW5kZXg6MCxpbnRfdmFsOjB9LGNuOntyb290X2luZGV4OjAsaW50X3ZhbDowfSxcImMjXCI6e3Jvb3RfaW5kZXg6MCxpbnRfdmFsOjF9LFwiYyMjXCI6e3Jvb3RfaW5kZXg6MCxpbnRfdmFsOjJ9LGNiOntyb290X2luZGV4OjAsaW50X3ZhbDoxMX0sY2JiOntyb290X2luZGV4OjAsaW50X3ZhbDoxMH0sZDp7cm9vdF9pbmRleDoxLGludF92YWw6Mn0sZG46e3Jvb3RfaW5kZXg6MSxpbnRfdmFsOjJ9LFwiZCNcIjp7cm9vdF9pbmRleDoxLGludF92YWw6M30sXCJkIyNcIjp7cm9vdF9pbmRleDoxLGludF92YWw6NH0sZGI6e3Jvb3RfaW5kZXg6MSxpbnRfdmFsOjF9LGRiYjp7cm9vdF9pbmRleDoxLGludF92YWw6MH0sZTp7cm9vdF9pbmRleDoyLGludF92YWw6NH0sZW46e3Jvb3RfaW5kZXg6MixpbnRfdmFsOjR9LFwiZSNcIjp7cm9vdF9pbmRleDoyLGludF92YWw6NX0sXCJlIyNcIjp7cm9vdF9pbmRleDoyLGludF92YWw6Nn0sZWI6e3Jvb3RfaW5kZXg6MixpbnRfdmFsOjN9LGViYjp7cm9vdF9pbmRleDoyLGludF92YWw6Mn0sZjp7cm9vdF9pbmRleDozLGludF92YWw6NX0sZm46e3Jvb3RfaW5kZXg6MyxpbnRfdmFsOjV9LFwiZiNcIjp7cm9vdF9pbmRleDozLGludF92YWw6Nn0sXCJmIyNcIjp7cm9vdF9pbmRleDozLGludF92YWw6N30sZmI6e3Jvb3RfaW5kZXg6MyxpbnRfdmFsOjR9LGZiYjp7cm9vdF9pbmRleDozLGludF92YWw6M30sZzp7cm9vdF9pbmRleDo0LGludF92YWw6N30sZ246e3Jvb3RfaW5kZXg6NCxpbnRfdmFsOjd9LFwiZyNcIjp7cm9vdF9pbmRleDo0LGludF92YWw6OH0sXCJnIyNcIjp7cm9vdF9pbmRleDo0LGludF92YWw6OX0sZ2I6e3Jvb3RfaW5kZXg6NCxpbnRfdmFsOjZ9LGdiYjp7cm9vdF9pbmRleDo0LGludF92YWw6NX0sYTp7cm9vdF9pbmRleDo1LGludF92YWw6OX0sYW46e3Jvb3RfaW5kZXg6NSxpbnRfdmFsOjl9LFwiYSNcIjp7cm9vdF9pbmRleDo1LGludF92YWw6MTB9LFwiYSMjXCI6e3Jvb3RfaW5kZXg6NSxpbnRfdmFsOjExfSxhYjp7cm9vdF9pbmRleDo1LGludF92YWw6OH0sYWJiOntyb290X2luZGV4OjUsaW50X3ZhbDo3fSxiOntyb290X2luZGV4OjYsaW50X3ZhbDoxMX0sYm46e3Jvb3RfaW5kZXg6NixpbnRfdmFsOjExfSxcImIjXCI6e3Jvb3RfaW5kZXg6NixpbnRfdmFsOjB9LFwiYiMjXCI6e3Jvb3RfaW5kZXg6NixpbnRfdmFsOjF9LGJiOntyb290X2luZGV4OjYsaW50X3ZhbDoxMH0sYmJiOntyb290X2luZGV4OjYsaW50X3ZhbDo5fX19aXNWYWxpZE5vdGVWYWx1ZSh0KXtyZXR1cm4hKG51bGw9PXR8fHQ8MHx8dD49Vi5OVU1fVE9ORVMpfWlzVmFsaWRJbnRlcnZhbFZhbHVlKHQpe3JldHVybiB0aGlzLmlzVmFsaWROb3RlVmFsdWUodCl9Z2V0Tm90ZVBhcnRzKHQpe2lmKCF0fHx0Lmxlbmd0aDwxKXRocm93IG5ldyBzLlJFUlIoXCJCYWRBcmd1bWVudHNcIixcIkludmFsaWQgbm90ZSBuYW1lOiBcIit0KTtpZih0Lmxlbmd0aD4zKXRocm93IG5ldyBzLlJFUlIoXCJCYWRBcmd1bWVudHNcIixcIkludmFsaWQgbm90ZSBuYW1lOiBcIit0KTtjb25zdCBlPXQudG9Mb3dlckNhc2UoKSxpPS9eKFtjZGVmZ2FiXSkoYnxiYnxufCN8IyMpPyQvLmV4ZWMoZSk7aWYobnVsbCE9aSl7cmV0dXJue3Jvb3Q6aVsxXSxhY2NpZGVudGFsOmlbMl19fXRocm93IG5ldyBzLlJFUlIoXCJCYWRBcmd1bWVudHNcIixcIkludmFsaWQgbm90ZSBuYW1lOiBcIit0KX1nZXRLZXlQYXJ0cyh0KXtpZighdHx8dC5sZW5ndGg8MSl0aHJvdyBuZXcgcy5SRVJSKFwiQmFkQXJndW1lbnRzXCIsXCJJbnZhbGlkIGtleTogXCIrdCk7Y29uc3QgZT10LnRvTG93ZXJDYXNlKCksaT0vXihbY2RlZmdhYl0pKGJ8Iyk/KG1lbHxoYXJtfG18TSk/JC8uZXhlYyhlKTtpZihudWxsIT1pKXtjb25zdCB0PWlbMV0sZT1pWzJdO2xldCBzPWlbM107cmV0dXJuIHN8fChzPVwiTVwiKSx7cm9vdDp0LGFjY2lkZW50YWw6ZSx0eXBlOnN9fXRocm93IG5ldyBzLlJFUlIoXCJCYWRBcmd1bWVudHNcIixgSW52YWxpZCBrZXk6ICR7dH1gKX1nZXROb3RlVmFsdWUodCl7Y29uc3QgZT1WLm5vdGVWYWx1ZXNbdF07aWYobnVsbD09ZSl0aHJvdyBuZXcgcy5SRVJSKFwiQmFkQXJndW1lbnRzXCIsYEludmFsaWQgbm90ZSBuYW1lOiAke3R9YCk7cmV0dXJuIGUuaW50X3ZhbH1nZXRJbnRlcnZhbFZhbHVlKHQpe2NvbnN0IGU9Vi5pbnRlcnZhbHNbdF07aWYobnVsbD09ZSl0aHJvdyBuZXcgcy5SRVJSKFwiQmFkQXJndW1lbnRzXCIsYEludmFsaWQgaW50ZXJ2YWwgbmFtZTogJHt0fWApO3JldHVybiBlfWdldENhbm9uaWNhbE5vdGVOYW1lKHQpe2lmKCF0aGlzLmlzVmFsaWROb3RlVmFsdWUodCkpdGhyb3cgbmV3IHMuUkVSUihcIkJhZEFyZ3VtZW50c1wiLGBJbnZhbGlkIG5vdGUgdmFsdWU6ICR7dH1gKTtyZXR1cm4gVi5jYW5vbmljYWxfbm90ZXNbdF19Z2V0Q2Fub25pY2FsSW50ZXJ2YWxOYW1lKHQpe2lmKCF0aGlzLmlzVmFsaWRJbnRlcnZhbFZhbHVlKHQpKXRocm93IG5ldyBzLlJFUlIoXCJCYWRBcmd1bWVudHNcIixgSW52YWxpZCBpbnRlcnZhbCB2YWx1ZTogJHt0fWApO3JldHVybiBWLmRpYXRvbmljX2ludGVydmFsc1t0XX1nZXRSZWxhdGl2ZU5vdGVWYWx1ZSh0LGUsaSl7aWYobnVsbD09aSYmKGk9MSksMSE9PWkmJi0xIT09aSl0aHJvdyBuZXcgcy5SRVJSKFwiQmFkQXJndW1lbnRzXCIsYEludmFsaWQgZGlyZWN0aW9uOiAke2l9YCk7bGV0IG49KHQraSplKSVWLk5VTV9UT05FUztyZXR1cm4gbjwwJiYobis9Vi5OVU1fVE9ORVMpLG59Z2V0UmVsYXRpdmVOb3RlTmFtZSh0LGUpe2NvbnN0IGk9dGhpcy5nZXROb3RlUGFydHModCksbj10aGlzLmdldE5vdGVWYWx1ZShpLnJvb3QpO2xldCByPWUtbjtpZihNYXRoLmFicyhyKT5WLk5VTV9UT05FUy0zKXtsZXQgaT0xO3I+MCYmKGk9LTEpO2NvbnN0IG89KGUrMSsobisxKSklVi5OVU1fVE9ORVMqaTtpZihNYXRoLmFicyhvKT4yKXRocm93IG5ldyBzLlJFUlIoXCJCYWRBcmd1bWVudHNcIixgTm90ZXMgbm90IHJlbGF0ZWQ6ICR7dH0sICR7ZX0pYCk7cj1vfWlmKE1hdGguYWJzKHIpPjIpdGhyb3cgbmV3IHMuUkVSUihcIkJhZEFyZ3VtZW50c1wiLGBOb3RlcyBub3QgcmVsYXRlZDogJHt0fSwgJHtlfSlgKTtsZXQgbz1pLnJvb3Q7aWYocj4wKWZvcihsZXQgdD0xO3Q8PXI7Kyt0KW8rPVwiI1wiO2Vsc2UgaWYocjwwKWZvcihsZXQgdD0tMTt0Pj1yOy0tdClvKz1cImJcIjtyZXR1cm4gb31nZXRTY2FsZVRvbmVzKHQsZSl7Y29uc3QgaT1bdF07bGV0IHM9dDtmb3IobGV0IG49MDtuPGUubGVuZ3RoO24rPTEpcz10aGlzLmdldFJlbGF0aXZlTm90ZVZhbHVlKHMsZVtuXSkscyE9PXQmJmkucHVzaChzKTtyZXR1cm4gaX1nZXRJbnRlcnZhbEJldHdlZW4odCxlLGkpe2lmKG51bGw9PWkmJihpPTEpLDEhPT1pJiYtMSE9PWkpdGhyb3cgbmV3IHMuUkVSUihcIkJhZEFyZ3VtZW50c1wiLGBJbnZhbGlkIGRpcmVjdGlvbjogJHtpfWApO2lmKCF0aGlzLmlzVmFsaWROb3RlVmFsdWUodCl8fCF0aGlzLmlzVmFsaWROb3RlVmFsdWUoZSkpdGhyb3cgbmV3IHMuUkVSUihcIkJhZEFyZ3VtZW50c1wiLGBJbnZhbGlkIG5vdGVzOiAke3R9LCAke2V9YCk7bGV0IG49MT09PWk/ZS10OnQtZTtyZXR1cm4gbjwwJiYobis9Vi5OVU1fVE9ORVMpLG59Y3JlYXRlU2NhbGVNYXAodCl7Y29uc3QgZT10aGlzLmdldEtleVBhcnRzKHQpLGk9Vi5zY2FsZVR5cGVzW2UudHlwZV07bGV0IG49ZS5yb290O2lmKGUuYWNjaWRlbnRhbCYmKG4rPWUuYWNjaWRlbnRhbCksIWkpdGhyb3cgbmV3IHMuUkVSUihcIkJhZEFyZ3VtZW50c1wiLFwiVW5zdXBwb3J0ZWQga2V5IHR5cGU6IFwiK3QpO2NvbnN0IHI9dGhpcy5nZXRTY2FsZVRvbmVzKHRoaXMuZ2V0Tm90ZVZhbHVlKG4pLGkpLG89Vi5yb290X2luZGljZXNbZS5yb290XSxhPXt9O2ZvcihsZXQgdD0wO3Q8Vi5yb290cy5sZW5ndGg7Kyt0KXtjb25zdCBlPShvK3QpJVYucm9vdHMubGVuZ3RoLGk9Vi5yb290c1tlXTtsZXQgcz10aGlzLmdldFJlbGF0aXZlTm90ZU5hbWUoaSxyW3RdKTsxPT09cy5sZW5ndGgmJihzKz1cIm5cIiksYVtpXT1zfXJldHVybiBhfX1mdW5jdGlvbiBHKC4uLnQpe3ouREVCVUcmJnMuTChcIlZleC5GbG93LkFjY2lkZW50YWxcIix0KX1jb25zdCBXPXQ9PnQuZ2V0TWV0cmljcygpLndpZHRoO2NsYXNzIHogZXh0ZW5kcyBCe3N0YXRpYyBnZXQgQ0FURUdPUlkoKXtyZXR1cm5cImFjY2lkZW50YWxzXCJ9c3RhdGljIGZvcm1hdCh0LGUpe2NvbnN0IGk9ZS5sZWZ0X3NoaWZ0KzE7aWYoIXR8fDA9PT10Lmxlbmd0aClyZXR1cm47Y29uc3Qgcz1bXTtsZXQgbixyPW51bGwsbz0wO2ZvcihsZXQgZT0wO2U8dC5sZW5ndGg7KytlKXtjb25zdCBpPXRbZV0sYT1pLmdldE5vdGUoKSxoPWEuZ2V0U3RhdmUoKSxsPWEuZ2V0S2V5UHJvcHMoKVtpLmdldEluZGV4KCldO2lmKGEhPT1yKXtmb3IobGV0IHQ9MDt0PGEua2V5cy5sZW5ndGg7Kyt0KW49YS5nZXRLZXlQcm9wcygpW3RdLG89bi5kaXNwbGFjZWQ/YS5nZXRFeHRyYUxlZnRQeCgpOm87cj1hfWlmKG51bGwhPT1oKXtjb25zdCB0PWgub3B0aW9ucy5zcGFjaW5nX2JldHdlZW5fbGluZXNfcHgsZT1oLmdldFlGb3JMaW5lKGwubGluZSksbj1NYXRoLnJvdW5kKGUvdCoyKS8yO3MucHVzaCh7eTplLGxpbmU6bixzaGlmdDpvLGFjYzppLGxpbmVTcGFjZTp0fSl9ZWxzZSBzLnB1c2goe2xpbmU6bC5saW5lLHNoaWZ0Om8sYWNjOml9KX1zLnNvcnQoKHQsZSk9PmUubGluZS10LmxpbmUpO2NvbnN0IGE9W107bGV0IGg9MCxsPW51bGw7Zm9yKGxldCB0PTA7dDxzLmxlbmd0aDt0Kyspe2NvbnN0IGU9c1t0XTtudWxsIT09bCYmbD09PWUubGluZXx8YS5wdXNoKHtsaW5lOmUubGluZSxmbGF0TGluZTohMCxkYmxTaGFycExpbmU6ITAsbnVtQWNjOjAsd2lkdGg6MH0pLFwiYlwiIT09ZS5hY2MudHlwZSYmXCJiYlwiIT09ZS5hY2MudHlwZSYmKGFbYS5sZW5ndGgtMV0uZmxhdExpbmU9ITEpLFwiIyNcIiE9PWUuYWNjLnR5cGUmJihhW2EubGVuZ3RoLTFdLmRibFNoYXJwTGluZT0hMSksYVthLmxlbmd0aC0xXS5udW1BY2MrKyxhW2EubGVuZ3RoLTFdLndpZHRoKz1lLmFjYy5nZXRXaWR0aCgpKzMsaD1lLnNoaWZ0Pmg/ZS5zaGlmdDpoLGw9ZS5saW5lfWxldCBjPTA7Zm9yKGxldCB0PTA7dDxhLmxlbmd0aDt0Kyspe2xldCBlPSExO2NvbnN0IGk9dDtsZXQgcz10O2Zvcig7cysxPGEubGVuZ3RoJiYhZTspdGhpcy5jaGVja0NvbGxpc2lvbihhW3NdLGFbcysxXSk/cysrOmU9ITA7Y29uc3Qgbj10PT5hW2krdF0scj10PT50Lm1hcChuKSxvPSh0LGUpPT57Y29uc3RbaSxzXT1yKFt0LGVdKS5tYXAodD0+dC5saW5lKTtyZXR1cm4gaS1zfSxoPSguLi50KT0+dC5tYXAocikuZXZlcnkodD0+IXRoaXMuY2hlY2tDb2xsaXNpb24oLi4udCkpLGw9cy1pKzE7bGV0IHUsZCxmPXRoaXMuY2hlY2tDb2xsaXNpb24oYVtpXSxhW3NdKT9cImFcIjpcImJcIjtzd2l0Y2gobCl7Y2FzZSAzOlwiYVwiPT09ZiYmLjU9PT1vKDEsMikmJi41IT09bygwLDEpJiYoZj1cInNlY29uZF9vbl9ib3R0b21cIik7YnJlYWs7Y2FzZSA0OmgoWzAsMl0sWzEsM10pJiYoZj1cInNwYWNlZF9vdXRfdGV0cmFjaG9yZFwiKTticmVhaztjYXNlIDU6XCJiXCI9PT1mJiZoKFsxLDNdKSYmKGY9XCJzcGFjZWRfb3V0X3BlbnRhY2hvcmRcIixoKFswLDJdLFsyLDRdKSYmKGY9XCJ2ZXJ5X3NwYWNlZF9vdXRfcGVudGFjaG9yZFwiKSk7YnJlYWs7Y2FzZSA2OmgoWzAsM10sWzEsNF0sWzIsNV0pJiYoZj1cInNwYWNlZF9vdXRfaGV4YWNob3JkXCIpLGgoWzAsMl0sWzIsNF0sWzEsM10sWzMsNV0pJiYoZj1cInZlcnlfc3BhY2VkX291dF9oZXhhY2hvcmRcIil9aWYobD49Nyl7bGV0IGU9MixpPSEwO2Zvcig7ITA9PT1pOyl7aT0hMTtmb3IobGV0IHQ9MDt0K2U8YS5sZW5ndGg7dCsrKWlmKHRoaXMuY2hlY2tDb2xsaXNpb24oYVt0XSxhW3QrZV0pKXtpPSEwLGUrKzticmVha319Zm9yKHU9dDt1PD1zO3UrKylkPSh1LXQpJWUrMSxhW3VdLmNvbHVtbj1kLGM9Yz5kP2M6ZH1lbHNlIGZvcih1PXQ7dTw9czt1KyspZD1tLmFjY2lkZW50YWxDb2x1bW5zVGFibGVbbF1bZl1bdS10XSxhW3VdLmNvbHVtbj1kLGM9Yz5kP2M6ZDt0PXN9Y29uc3QgdT1bXSxkPVtdO2ZvcihsZXQgdD0wO3Q8PWM7dCsrKXVbdF09MCxkW3RdPTA7dVswXT1oK2ksZFswXT1oK2ksYS5mb3JFYWNoKHQ9Pnt0LndpZHRoPnVbdC5jb2x1bW5dJiYodVt0LmNvbHVtbl09dC53aWR0aCl9KTtmb3IobGV0IHQ9MTt0PHUubGVuZ3RoO3QrKylkW3RdPXVbdF0rZFt0LTFdO2NvbnN0IGY9ZFtkLmxlbmd0aC0xXTtsZXQgcD0wO2EuZm9yRWFjaCh0PT57bGV0IGU9MDtjb25zdCBpPXArdC5udW1BY2M7Zm9yKDtwPGk7cCsrKXtjb25zdCBpPWRbdC5jb2x1bW4tMV0rZTtzW3BdLmFjYy5zZXRYU2hpZnQoaSksZSs9c1twXS5hY2MuZ2V0V2lkdGgoKSszLEcoXCJMaW5lLCBhY2NDb3VudCwgc2hpZnQ6IFwiLHQubGluZSxwLGkpfX0pLGUubGVmdF9zaGlmdCs9Zn1zdGF0aWMgY2hlY2tDb2xsaXNpb24odCxlKXtsZXQgaT1lLmxpbmUtdC5saW5lLHM9MztpPjA/KHM9ZS5mbGF0TGluZXx8ZS5kYmxTaGFycExpbmU/Mi41OjMsdC5kYmxTaGFycExpbmUmJihpLT0uNSkpOihzPXQuZmxhdExpbmV8fHQuZGJsU2hhcnBMaW5lPzIuNTozLGUuZGJsU2hhcnBMaW5lJiYoaS09LjUpKTtjb25zdCBuPU1hdGguYWJzKGkpPHM7cmV0dXJuIEcoXCJMaW5lXzEsIExpbmVfMiwgQ29sbGlzaW9uOiBcIix0LmxpbmUsZS5saW5lLG4pLG59c3RhdGljIGFwcGx5QWNjaWRlbnRhbHModCxlKXtjb25zdCBpPVtdLHM9e307dC5mb3JFYWNoKHQ9Pntjb25zdCBlPW5ldyBuKDAsMSk7dC5nZXRUaWNrYWJsZXMoKS5mb3JFYWNoKHQ9PntpZih0LnNob3VsZElnbm9yZVRpY2tzKCkpcmV0dXJuO2NvbnN0IG49c1tlLnZhbHVlKCldO24/bi5wdXNoKHQpOihpLnB1c2goZS52YWx1ZSgpKSxzW2UudmFsdWUoKV09W3RdKSxlLmFkZCh0LmdldFRpY2tzKCkpfSl9KTtjb25zdCByPW5ldyBWO2V8fChlPVwiQ1wiKTtjb25zdCBvPXIuY3JlYXRlU2NhbGVNYXAoZSk7aS5mb3JFYWNoKHQ9Pntjb25zdCBlPXNbdF0saT1bXSxuPXQ9Pnt0LmlzUmVzdCgpfHx0LnNob3VsZElnbm9yZVRpY2tzKCl8fCh0LmtleXMuZm9yRWFjaCgoZSxzKT0+e2NvbnN0IG49ci5nZXROb3RlUGFydHMoZS5zcGxpdChcIi9cIilbMF0pLGE9bi5hY2NpZGVudGFsfHxcIm5cIixoPW4ucm9vdCthLGw9b1tuLnJvb3RdPT09aCxjPWkuaW5kZXhPZihoKT4tMTtpZighbHx8bCYmYyl7b1tuLnJvb3RdPWg7Y29uc3QgZT1uZXcgeihhKTt0LmFkZEFjY2lkZW50YWwocyxlKSxpLnB1c2goaCl9fSksdC5nZXRNb2RpZmllcnMoKS5mb3JFYWNoKHQ9PntcImdyYWNlbm90ZWdyb3Vwc1wiPT09dC5nZXRDYXRlZ29yeSgpJiZ0LmdldEdyYWNlTm90ZXMoKS5mb3JFYWNoKG4pfSkpfTtlLmZvckVhY2gobil9KX1jb25zdHJ1Y3Rvcih0PW51bGwpe2lmKHN1cGVyKCksdGhpcy5zZXRBdHRyaWJ1dGUoXCJ0eXBlXCIsXCJBY2NpZGVudGFsXCIpLEcoXCJOZXcgYWNjaWRlbnRhbDogXCIsdCksdGhpcy5ub3RlPW51bGwsdGhpcy5pbmRleD1udWxsLHRoaXMudHlwZT10LHRoaXMucG9zaXRpb249Qi5Qb3NpdGlvbi5MRUZULHRoaXMucmVuZGVyX29wdGlvbnM9e2ZvbnRfc2NhbGU6Mzgsc3Ryb2tlX3B4OjMscGFyZW5MZWZ0UGFkZGluZzoyLHBhcmVuUmlnaHRQYWRkaW5nOjJ9LHRoaXMuYWNjaWRlbnRhbD1tLmFjY2lkZW50YWxDb2Rlcyh0aGlzLnR5cGUpLCF0aGlzLmFjY2lkZW50YWwpdGhyb3cgbmV3IHMuUkVSUihcIkFyZ3VtZW50RXJyb3JcIixgVW5rbm93biBhY2NpZGVudGFsIHR5cGU6ICR7dH1gKTt0aGlzLmNhdXRpb25hcnk9ITEsdGhpcy5wYXJlbkxlZnQ9bnVsbCx0aGlzLnBhcmVuUmlnaHQ9bnVsbCx0aGlzLnJlc2V0KCl9cmVzZXQoKXtjb25zdCB0PXRoaXMucmVuZGVyX29wdGlvbnMuZm9udF9zY2FsZTt0aGlzLmdseXBoPW5ldyBmKHRoaXMuYWNjaWRlbnRhbC5jb2RlLHQpLHRoaXMuZ2x5cGguc2V0T3JpZ2luWCgxKSx0aGlzLmNhdXRpb25hcnkmJih0aGlzLnBhcmVuTGVmdD1uZXcgZihtLmFjY2lkZW50YWxDb2RlcyhcIntcIikuY29kZSx0KSx0aGlzLnBhcmVuUmlnaHQ9bmV3IGYobS5hY2NpZGVudGFsQ29kZXMoXCJ9XCIpLmNvZGUsdCksdGhpcy5wYXJlbkxlZnQuc2V0T3JpZ2luWCgxKSx0aGlzLnBhcmVuUmlnaHQuc2V0T3JpZ2luWCgxKSl9Z2V0Q2F0ZWdvcnkoKXtyZXR1cm4gei5DQVRFR09SWX1nZXRXaWR0aCgpe2NvbnN0IHQ9dGhpcy5jYXV0aW9uYXJ5P1codGhpcy5wYXJlbkxlZnQpK1codGhpcy5wYXJlblJpZ2h0KSt0aGlzLnJlbmRlcl9vcHRpb25zLnBhcmVuTGVmdFBhZGRpbmcrdGhpcy5yZW5kZXJfb3B0aW9ucy5wYXJlblJpZ2h0UGFkZGluZzowO3JldHVybiBXKHRoaXMuZ2x5cGgpK3R9c2V0Tm90ZSh0KXtpZighdCl0aHJvdyBuZXcgcy5SRVJSKFwiQXJndW1lbnRFcnJvclwiLGBCYWQgbm90ZSB2YWx1ZTogJHt0fWApO3RoaXMubm90ZT10LFwiZ3JhY2Vub3Rlc1wiPT09dGhpcy5ub3RlLmdldENhdGVnb3J5KCkmJih0aGlzLnJlbmRlcl9vcHRpb25zLmZvbnRfc2NhbGU9MjUsdGhpcy5yZXNldCgpKX1zZXRBc0NhdXRpb25hcnkoKXtyZXR1cm4gdGhpcy5jYXV0aW9uYXJ5PSEwLHRoaXMucmVuZGVyX29wdGlvbnMuZm9udF9zY2FsZT0yOCx0aGlzLnJlc2V0KCksdGhpc31kcmF3KCl7Y29uc3R7Y29udGV4dDp0LHR5cGU6ZSxwb3NpdGlvbjppLG5vdGU6bixpbmRleDpyLGNhdXRpb25hcnk6byx4X3NoaWZ0OmEseV9zaGlmdDpoLGdseXBoOmwscGFyZW5MZWZ0OmMscGFyZW5SaWdodDp1LHJlbmRlcl9vcHRpb25zOntwYXJlbkxlZnRQYWRkaW5nOmQscGFyZW5SaWdodFBhZGRpbmc6Zn19PXRoaXM7aWYodGhpcy5jaGVja0NvbnRleHQoKSwhbnx8bnVsbD09cil0aHJvdyBuZXcgcy5SRVJSKFwiTm9BdHRhY2hlZE5vdGVcIixcIkNhbid0IGRyYXcgYWNjaWRlbnRhbCB3aXRob3V0IGEgbm90ZSBhbmQgaW5kZXguXCIpO2NvbnN0IG09bi5nZXRNb2RpZmllclN0YXJ0WFkoaSxyKTtsZXQgcD1tLngrYTtjb25zdCBnPW0ueStoO0coXCJSZW5kZXJpbmc6IFwiLGUscCxnKSxvPyh1LnJlbmRlcih0LHAsZykscC09Vyh1KSxwLT1mLHAtPXRoaXMuYWNjaWRlbnRhbC5wYXJlblJpZ2h0UGFkZGluZ0FkanVzdG1lbnQsbC5yZW5kZXIodCxwLGcpLHAtPVcobCkscC09ZCxjLnJlbmRlcih0LHAsZykpOmwucmVuZGVyKHQscCxnKSx0aGlzLnNldFJlbmRlcmVkKCl9fWNsYXNzIFUgZXh0ZW5kcyBCe3N0YXRpYyBnZXQgQ0FURUdPUlkoKXtyZXR1cm5cIm5vdGVzdWJncm91cFwifXN0YXRpYyBmb3JtYXQodCxlKXtpZighdHx8MD09PXQubGVuZ3RoKXJldHVybiExO2xldCBpPTA7Zm9yKGxldCBlPTA7ZTx0Lmxlbmd0aDsrK2Upe2NvbnN0IHM9dFtlXTtzLnByZUZvcm1hdCgpLGkrPXMuZ2V0V2lkdGgoKX1yZXR1cm4gZS5sZWZ0X3NoaWZ0Kz1pLCEwfWNvbnN0cnVjdG9yKHQpe3JldHVybiBzdXBlcigpLHRoaXMuc2V0QXR0cmlidXRlKFwidHlwZVwiLFwiTm90ZVN1Ykdyb3VwXCIpLHRoaXMubm90ZT1udWxsLHRoaXMuaW5kZXg9bnVsbCx0aGlzLnBvc2l0aW9uPUIuUG9zaXRpb24uTEVGVCx0aGlzLnN1Yk5vdGVzPXQsdGhpcy5zdWJOb3Rlcy5mb3JFYWNoKHQ9Pnt0Lmlnbm9yZV90aWNrcz0hMX0pLHRoaXMud2lkdGg9MCx0aGlzLnByZUZvcm1hdHRlZD0hMSx0aGlzLmZvcm1hdHRlcj1uZXcgdXQsdGhpcy52b2ljZT1uZXcgUCh7bnVtX2JlYXRzOjQsYmVhdF92YWx1ZTo0LHJlc29sdXRpb246bS5SRVNPTFVUSU9OfSkuc2V0U3RyaWN0KCExKSx0aGlzLnZvaWNlLmFkZFRpY2thYmxlcyh0aGlzLnN1Yk5vdGVzKSx0aGlzfWdldENhdGVnb3J5KCl7cmV0dXJuIFUuQ0FURUdPUll9cHJlRm9ybWF0KCl7dGhpcy5wcmVGb3JtYXR0ZWR8fCh0aGlzLmZvcm1hdHRlci5qb2luVm9pY2VzKFt0aGlzLnZvaWNlXSkuZm9ybWF0KFt0aGlzLnZvaWNlXSwwKSx0aGlzLnNldFdpZHRoKHRoaXMuZm9ybWF0dGVyLmdldE1pblRvdGFsV2lkdGgoKSksdGhpcy5wcmVGb3JtYXR0ZWQ9ITApfXNldE5vdGUodCl7dGhpcy5ub3RlPXR9c2V0V2lkdGgodCl7dGhpcy53aWR0aD10fWdldFdpZHRoKCl7cmV0dXJuIHRoaXMud2lkdGh9ZHJhdygpe3RoaXMuY2hlY2tDb250ZXh0KCk7Y29uc3QgdD10aGlzLmdldE5vdGUoKTtpZighdHx8bnVsbD09PXRoaXMuaW5kZXgpdGhyb3cgbmV3IHMuUnVudGltZUVycm9yKFwiTm9BdHRhY2hlZE5vdGVcIixcIkNhbid0IGRyYXcgbm90ZXMgd2l0aG91dCBhIHBhcmVudCBub3RlIGFuZCBwYXJlbnQgbm90ZSBpbmRleC5cIik7dGhpcy5zZXRSZW5kZXJlZCgpLHRoaXMuYWxpZ25TdWJOb3Rlc1dpdGhOb3RlKHRoaXMuc3ViTm90ZXMsdCksdGhpcy5zdWJOb3Rlcy5mb3JFYWNoKHQ9PnQuc2V0Q29udGV4dCh0aGlzLmNvbnRleHQpLmRyYXdXaXRoU3R5bGUoKSl9fWNsYXNzIEggZXh0ZW5kcyBoe2NvbnN0cnVjdG9yKHQsZSl7c3VwZXIoKSx0aGlzLnNldEF0dHJpYnV0ZShcInR5cGVcIixcIlN0YXZlVGllXCIpLHRoaXMubm90ZXM9dCx0aGlzLmNvbnRleHQ9bnVsbCx0aGlzLnRleHQ9ZSx0aGlzLmRpcmVjdGlvbj1udWxsLHRoaXMucmVuZGVyX29wdGlvbnM9e2NwMTo4LGNwMjoxMix0ZXh0X3NoaWZ0X3g6MCxmaXJzdF94X3NoaWZ0OjAsbGFzdF94X3NoaWZ0OjAseV9zaGlmdDo3LHRpZV9zcGFjaW5nOjAsZm9udDp7ZmFtaWx5OlwiQXJpYWxcIixzaXplOjEwLHN0eWxlOlwiXCJ9fSx0aGlzLmZvbnQ9dGhpcy5yZW5kZXJfb3B0aW9ucy5mb250LHRoaXMuc2V0Tm90ZXModCl9c2V0Rm9udCh0KXtyZXR1cm4gdGhpcy5mb250PXQsdGhpc31zZXREaXJlY3Rpb24odCl7cmV0dXJuIHRoaXMuZGlyZWN0aW9uPXQsdGhpc31zZXROb3Rlcyh0KXtpZighdC5maXJzdF9ub3RlJiYhdC5sYXN0X25vdGUpdGhyb3cgbmV3IHMuUnVudGltZUVycm9yKFwiQmFkQXJndW1lbnRzXCIsXCJUaWUgbmVlZHMgdG8gaGF2ZSBlaXRoZXIgZmlyc3Rfbm90ZSBvciBsYXN0X25vdGUgc2V0LlwiKTtpZih0LmZpcnN0X2luZGljZXN8fCh0LmZpcnN0X2luZGljZXM9WzBdKSx0Lmxhc3RfaW5kaWNlc3x8KHQubGFzdF9pbmRpY2VzPVswXSksdC5maXJzdF9pbmRpY2VzLmxlbmd0aCE9PXQubGFzdF9pbmRpY2VzLmxlbmd0aCl0aHJvdyBuZXcgcy5SdW50aW1lRXJyb3IoXCJCYWRBcmd1bWVudHNcIixcIlRpZWQgbm90ZXMgbXVzdCBoYXZlIHNpbWlsYXIgaW5kZXggc2l6ZXNcIik7cmV0dXJuIHRoaXMuZmlyc3Rfbm90ZT10LmZpcnN0X25vdGUsdGhpcy5maXJzdF9pbmRpY2VzPXQuZmlyc3RfaW5kaWNlcyx0aGlzLmxhc3Rfbm90ZT10Lmxhc3Rfbm90ZSx0aGlzLmxhc3RfaW5kaWNlcz10Lmxhc3RfaW5kaWNlcyx0aGlzfWlzUGFydGlhbCgpe3JldHVybiF0aGlzLmZpcnN0X25vdGV8fCF0aGlzLmxhc3Rfbm90ZX1yZW5kZXJUaWUodCl7aWYoMD09PXQuZmlyc3RfeXMubGVuZ3RofHwwPT09dC5sYXN0X3lzLmxlbmd0aCl0aHJvdyBuZXcgcy5SRVJSKFwiQmFkQXJndW1lbnRzXCIsXCJObyBZLXZhbHVlcyB0byByZW5kZXJcIik7Y29uc3QgZT10aGlzLmNvbnRleHQ7bGV0IGk9dGhpcy5yZW5kZXJfb3B0aW9ucy5jcDEsbj10aGlzLnJlbmRlcl9vcHRpb25zLmNwMjtNYXRoLmFicyh0Lmxhc3RfeF9weC10LmZpcnN0X3hfcHgpPDEwJiYoaT0yLG49OCk7Y29uc3Qgcj10aGlzLnJlbmRlcl9vcHRpb25zLmZpcnN0X3hfc2hpZnQsbz10aGlzLnJlbmRlcl9vcHRpb25zLmxhc3RfeF9zaGlmdCxhPXRoaXMucmVuZGVyX29wdGlvbnMueV9zaGlmdCp0LmRpcmVjdGlvbjtmb3IobGV0IGg9MDtoPHRoaXMuZmlyc3RfaW5kaWNlcy5sZW5ndGg7KytoKXtjb25zdCBsPSh0Lmxhc3RfeF9weCtvKyh0LmZpcnN0X3hfcHgrcikpLzIsYz10LmZpcnN0X3lzW3RoaXMuZmlyc3RfaW5kaWNlc1toXV0rYSx1PXQubGFzdF95c1t0aGlzLmxhc3RfaW5kaWNlc1toXV0rYTtpZihpc05hTihjKXx8aXNOYU4odSkpdGhyb3cgbmV3IHMuUkVSUihcIkJhZEFyZ3VtZW50c1wiLFwiQmFkIGluZGljZXMgZm9yIHRpZSByZW5kZXJpbmcuXCIpO2NvbnN0IGQ9KGMrdSkvMitpKnQuZGlyZWN0aW9uLGY9KGMrdSkvMituKnQuZGlyZWN0aW9uO2UuYmVnaW5QYXRoKCksZS5tb3ZlVG8odC5maXJzdF94X3B4K3IsYyksZS5xdWFkcmF0aWNDdXJ2ZVRvKGwsZCx0Lmxhc3RfeF9weCtvLHUpLGUucXVhZHJhdGljQ3VydmVUbyhsLGYsdC5maXJzdF94X3B4K3IsYyksZS5jbG9zZVBhdGgoKSxlLmZpbGwoKX19cmVuZGVyVGV4dCh0LGUpe2lmKCF0aGlzLnRleHQpcmV0dXJuO2xldCBpPSh0K2UpLzI7aS09dGhpcy5jb250ZXh0Lm1lYXN1cmVUZXh0KHRoaXMudGV4dCkud2lkdGgvMix0aGlzLmNvbnRleHQuc2F2ZSgpLHRoaXMuY29udGV4dC5zZXRGb250KHRoaXMuZm9udC5mYW1pbHksdGhpcy5mb250LnNpemUsdGhpcy5mb250LnN0eWxlKSx0aGlzLmNvbnRleHQuZmlsbFRleHQodGhpcy50ZXh0LGkrdGhpcy5yZW5kZXJfb3B0aW9ucy50ZXh0X3NoaWZ0X3gsKHRoaXMuZmlyc3Rfbm90ZXx8dGhpcy5sYXN0X25vdGUpLmdldFN0YXZlKCkuZ2V0WUZvclRvcFRleHQoKS0xKSx0aGlzLmNvbnRleHQucmVzdG9yZSgpfWRyYXcoKXt0aGlzLmNoZWNrQ29udGV4dCgpLHRoaXMuc2V0UmVuZGVyZWQoKTtjb25zdCB0PXRoaXMuZmlyc3Rfbm90ZSxlPXRoaXMubGFzdF9ub3RlO2xldCBpLHMsbixyLG87cmV0dXJuIHQ/KGk9dC5nZXRUaWVSaWdodFgoKSt0aGlzLnJlbmRlcl9vcHRpb25zLnRpZV9zcGFjaW5nLG89dC5nZXRTdGVtRGlyZWN0aW9uKCksbj10LmdldFlzKCkpOihpPWUuZ2V0U3RhdmUoKS5nZXRUaWVTdGFydFgoKSxuPWUuZ2V0WXMoKSx0aGlzLmZpcnN0X2luZGljZXM9dGhpcy5sYXN0X2luZGljZXMpLGU/KHM9ZS5nZXRUaWVMZWZ0WCgpK3RoaXMucmVuZGVyX29wdGlvbnMudGllX3NwYWNpbmcsbz1lLmdldFN0ZW1EaXJlY3Rpb24oKSxyPWUuZ2V0WXMoKSk6KHM9dC5nZXRTdGF2ZSgpLmdldFRpZUVuZFgoKSxyPXQuZ2V0WXMoKSx0aGlzLmxhc3RfaW5kaWNlcz10aGlzLmZpcnN0X2luZGljZXMpLHRoaXMuZGlyZWN0aW9uJiYobz10aGlzLmRpcmVjdGlvbiksdGhpcy5yZW5kZXJUaWUoe2ZpcnN0X3hfcHg6aSxsYXN0X3hfcHg6cyxmaXJzdF95czpuLGxhc3RfeXM6cixkaXJlY3Rpb246b30pLHRoaXMucmVuZGVyVGV4dChpLHMpLCEwfX1jbGFzcyBZIGV4dGVuZHMgSHtzdGF0aWMgY3JlYXRlSGFtbWVyb24odCl7cmV0dXJuIG5ldyBZKHQsXCJIXCIpfXN0YXRpYyBjcmVhdGVQdWxsb2ZmKHQpe3JldHVybiBuZXcgWSh0LFwiUFwiKX1jb25zdHJ1Y3Rvcih0LGUpe3N1cGVyKHQsZSksdGhpcy5zZXRBdHRyaWJ1dGUoXCJ0eXBlXCIsXCJUYWJUaWVcIiksdGhpcy5yZW5kZXJfb3B0aW9ucy5jcDE9OSx0aGlzLnJlbmRlcl9vcHRpb25zLmNwMj0xMSx0aGlzLnJlbmRlcl9vcHRpb25zLnlfc2hpZnQ9Myx0aGlzLnNldE5vdGVzKHQpfWRyYXcoKXt0aGlzLmNoZWNrQ29udGV4dCgpLHRoaXMuc2V0UmVuZGVyZWQoKTtjb25zdCB0PXRoaXMuZmlyc3Rfbm90ZSxlPXRoaXMubGFzdF9ub3RlO2xldCBpLHMsbixyO3JldHVybiB0PyhpPXQuZ2V0VGllUmlnaHRYKCkrdGhpcy5yZW5kZXJfb3B0aW9ucy50aWVfc3BhY2luZyxuPXQuZ2V0WXMoKSk6KGk9ZS5nZXRTdGF2ZSgpLmdldFRpZVN0YXJ0WCgpLG49ZS5nZXRZcygpLHRoaXMuZmlyc3RfaW5kaWNlcz10aGlzLmxhc3RfaW5kaWNlcyksZT8ocz1lLmdldFRpZUxlZnRYKCkrdGhpcy5yZW5kZXJfb3B0aW9ucy50aWVfc3BhY2luZyxyPWUuZ2V0WXMoKSk6KHM9dC5nZXRTdGF2ZSgpLmdldFRpZUVuZFgoKSxyPXQuZ2V0WXMoKSx0aGlzLmxhc3RfaW5kaWNlcz10aGlzLmZpcnN0X2luZGljZXMpLHRoaXMucmVuZGVyVGllKHtmaXJzdF94X3B4OmksbGFzdF94X3B4OnMsZmlyc3RfeXM6bixsYXN0X3lzOnIsZGlyZWN0aW9uOi0xfSksdGhpcy5yZW5kZXJUZXh0KGkscyksITB9fWNsYXNzIFggZXh0ZW5kcyBCe3N0YXRpYyBnZXQgQ0FURUdPUlkoKXtyZXR1cm5cImdyYWNlbm90ZWdyb3Vwc1wifXN0YXRpYyBmb3JtYXQodCxlKXtpZighdHx8MD09PXQubGVuZ3RoKXJldHVybiExO2NvbnN0IGk9W107bGV0IHM9bnVsbCxuPTA7Zm9yKGxldCBlPTA7ZTx0Lmxlbmd0aDsrK2Upe2NvbnN0IHI9dFtlXSxvPXIuZ2V0Tm90ZSgpLGE9by5nZXRDYXRlZ29yeSgpPT09ay5DQVRFR09SWSxoPWE/NDowO2lmKGEmJm8hPT1zKXtmb3IobGV0IHQ9MDt0PG8ua2V5cy5sZW5ndGg7Kyt0KXtuPW8uZ2V0S2V5UHJvcHMoKVt0XS5kaXNwbGFjZWQ/by5nZXRFeHRyYUxlZnRQeCgpOm59cz1vfWkucHVzaCh7c2hpZnQ6bixncmFjZW5vdGVfZ3JvdXA6cixzcGFjaW5nOmh9KX1sZXQgcixvPWlbMF0uc2hpZnQ7Zm9yKGxldCB0PTA7dDxpLmxlbmd0aDsrK3Qpe2NvbnN0IGU9aVt0XS5ncmFjZW5vdGVfZ3JvdXA7ZS5wcmVGb3JtYXQoKSxyPWUuZ2V0V2lkdGgoKStpW3RdLnNwYWNpbmcsbz1NYXRoLm1heChyLG8pfWZvcihsZXQgdD0wO3Q8aS5sZW5ndGg7Kyt0KXtjb25zdCBlPWlbdF0uZ3JhY2Vub3RlX2dyb3VwO3I9ZS5nZXRXaWR0aCgpK2lbdF0uc3BhY2luZyxlLnNldFNwYWNpbmdGcm9tTmV4dE1vZGlmaWVyKG8tTWF0aC5taW4ocixvKSl9cmV0dXJuIGUubGVmdF9zaGlmdCs9bywhMH1jb25zdHJ1Y3Rvcih0LGUpe3JldHVybiBzdXBlcigpLHRoaXMuc2V0QXR0cmlidXRlKFwidHlwZVwiLFwiR3JhY2VOb3RlR3JvdXBcIiksdGhpcy5ub3RlPW51bGwsdGhpcy5pbmRleD1udWxsLHRoaXMucG9zaXRpb249Qi5Qb3NpdGlvbi5MRUZULHRoaXMuZ3JhY2Vfbm90ZXM9dCx0aGlzLndpZHRoPTAsdGhpcy5wcmVGb3JtYXR0ZWQ9ITEsdGhpcy5zaG93X3NsdXI9ZSx0aGlzLnNsdXI9bnVsbCx0aGlzLmZvcm1hdHRlcj1uZXcgdXQsdGhpcy52b2ljZT1uZXcgUCh7bnVtX2JlYXRzOjQsYmVhdF92YWx1ZTo0LHJlc29sdXRpb246bS5SRVNPTFVUSU9OfSkuc2V0U3RyaWN0KCExKSx0aGlzLnJlbmRlcl9vcHRpb25zPXtzbHVyX3lfc2hpZnQ6MH0sdGhpcy5iZWFtcz1bXSx0aGlzLnZvaWNlLmFkZFRpY2thYmxlcyh0aGlzLmdyYWNlX25vdGVzKSx0aGlzfWdldENhdGVnb3J5KCl7cmV0dXJuIFguQ0FURUdPUll9cHJlRm9ybWF0KCl7dGhpcy5wcmVGb3JtYXR0ZWR8fCh0aGlzLmZvcm1hdHRlci5qb2luVm9pY2VzKFt0aGlzLnZvaWNlXSkuZm9ybWF0KFt0aGlzLnZvaWNlXSwwKSx0aGlzLnNldFdpZHRoKHRoaXMuZm9ybWF0dGVyLmdldE1pblRvdGFsV2lkdGgoKSksdGhpcy5wcmVGb3JtYXR0ZWQ9ITApfWJlYW1Ob3Rlcyh0KXtpZigodD10fHx0aGlzLmdyYWNlX25vdGVzKS5sZW5ndGg+MSl7Y29uc3QgZT1uZXcgVCh0KTtlLnJlbmRlcl9vcHRpb25zLmJlYW1fd2lkdGg9MyxlLnJlbmRlcl9vcHRpb25zLnBhcnRpYWxfYmVhbV9sZW5ndGg9NCx0aGlzLmJlYW1zLnB1c2goZSl9cmV0dXJuIHRoaXN9c2V0Tm90ZSh0KXt0aGlzLm5vdGU9dH1zZXRXaWR0aCh0KXt0aGlzLndpZHRoPXR9Z2V0V2lkdGgoKXtyZXR1cm4gdGhpcy53aWR0aH1nZXRHcmFjZU5vdGVzKCl7cmV0dXJuIHRoaXMuZ3JhY2Vfbm90ZXN9ZHJhdygpe3RoaXMuY2hlY2tDb250ZXh0KCk7Y29uc3QgdD10aGlzLmdldE5vdGUoKTtpZihmdW5jdGlvbiguLi50KXtYLkRFQlVHJiZzLkwoXCJWZXguRmxvdy5HcmFjZU5vdGVHcm91cFwiLHQpfShcIkRyYXdpbmcgZ3JhY2Ugbm90ZSBncm91cCBmb3I6XCIsdCksIXR8fG51bGw9PT10aGlzLmluZGV4KXRocm93IG5ldyBzLlJ1bnRpbWVFcnJvcihcIk5vQXR0YWNoZWROb3RlXCIsXCJDYW4ndCBkcmF3IGdyYWNlIG5vdGUgd2l0aG91dCBhIHBhcmVudCBub3RlIGFuZCBwYXJlbnQgbm90ZSBpbmRleC5cIik7aWYodGhpcy5zZXRSZW5kZXJlZCgpLHRoaXMuYWxpZ25TdWJOb3Rlc1dpdGhOb3RlKHRoaXMuZ2V0R3JhY2VOb3RlcygpLHQpLHRoaXMuZ3JhY2Vfbm90ZXMuZm9yRWFjaCh0PT57dC5zZXRDb250ZXh0KHRoaXMuY29udGV4dCkuZHJhdygpfSksdGhpcy5iZWFtcy5mb3JFYWNoKHQ9Pnt0LnNldENvbnRleHQodGhpcy5jb250ZXh0KS5kcmF3KCl9KSx0aGlzLnNob3dfc2x1cil7Y29uc3QgZT10aGlzLmdldE5vdGUoKS5nZXRDYXRlZ29yeSgpPT09ay5DQVRFR09SWSxpPWU/SDpZO3RoaXMuc2x1cj1uZXcgaSh7bGFzdF9ub3RlOnRoaXMuZ3JhY2Vfbm90ZXNbMF0sZmlyc3Rfbm90ZTp0LGZpcnN0X2luZGljZXM6WzBdLGxhc3RfaW5kaWNlczpbMF19KSx0aGlzLnNsdXIucmVuZGVyX29wdGlvbnMuY3AyPTEyLHRoaXMuc2x1ci5yZW5kZXJfb3B0aW9ucy55X3NoaWZ0PShlPzc6NSkrdGhpcy5yZW5kZXJfb3B0aW9ucy5zbHVyX3lfc2hpZnQsdGhpcy5zbHVyLnNldENvbnRleHQodGhpcy5jb250ZXh0KS5kcmF3KCl9fX1jbGFzcyBqIGV4dGVuZHMgQntzdGF0aWMgZ2V0IENBVEVHT1JZKCl7cmV0dXJuXCJzdHJva2VzXCJ9c3RhdGljIGdldCBUeXBlKCl7cmV0dXJue0JSVVNIX0RPV046MSxCUlVTSF9VUDoyLFJPTExfRE9XTjozLFJPTExfVVA6NCxSQVNRVUVET19ET1dOOjUsUkFTUVVFRE9fVVA6NixBUlBFR0dJT19ESVJFQ1RJT05MRVNTOjd9fXN0YXRpYyBmb3JtYXQodCxlKXtjb25zdCBpPWUubGVmdF9zaGlmdDtpZighdHx8MD09PXQubGVuZ3RoKXJldHVybiB0aGlzO2NvbnN0IHM9dC5tYXAodD0+e2NvbnN0IGU9dC5nZXROb3RlKCk7aWYoZSBpbnN0YW5jZW9mIGspe2NvbnN0e2xpbmU6aSxkaXNwbGFjZWQ6c309ZS5nZXRLZXlQcm9wcygpW3QuZ2V0SW5kZXgoKV07cmV0dXJue2xpbmU6aSxzaGlmdDpzP2UuZ2V0RXh0cmFMZWZ0UHgoKTowLHN0cm9rZTp0fX17Y29uc3R7c3RyOml9PWUuZ2V0UG9zaXRpb25zKClbdC5nZXRJbmRleCgpXTtyZXR1cm57bGluZTppLHNoaWZ0OjAsc3Ryb2tlOnR9fX0pLG49aSxyPXMucmVkdWNlKCh0LHtzdHJva2U6ZSxzaGlmdDppfSk9PihlLnNldFhTaGlmdChuK2kpLE1hdGgubWF4KGUuZ2V0V2lkdGgoKSswLHQpKSwwKTtyZXR1cm4gZS5sZWZ0X3NoaWZ0Kz1yLCEwfWNvbnN0cnVjdG9yKHQsZSl7c3VwZXIoKSx0aGlzLnNldEF0dHJpYnV0ZShcInR5cGVcIixcIlN0cm9rZVwiKSx0aGlzLm5vdGU9bnVsbCx0aGlzLm9wdGlvbnM9cy5NZXJnZSh7fSxlKSx0aGlzLmFsbF92b2ljZXM9IShcImFsbF92b2ljZXNcImluIHRoaXMub3B0aW9ucyl8fHRoaXMub3B0aW9ucy5hbGxfdm9pY2VzLHRoaXMubm90ZV9lbmQ9bnVsbCx0aGlzLmluZGV4PW51bGwsdGhpcy50eXBlPXQsdGhpcy5wb3NpdGlvbj1CLlBvc2l0aW9uLkxFRlQsdGhpcy5yZW5kZXJfb3B0aW9ucz17Zm9udF9zY2FsZTozOCxzdHJva2VfcHg6MyxzdHJva2Vfc3BhY2luZzoxMH0sdGhpcy5mb250PXtmYW1pbHk6XCJzZXJpZlwiLHNpemU6MTAsd2VpZ2h0OlwiYm9sZCBpdGFsaWNcIn0sdGhpcy5zZXRYU2hpZnQoMCksdGhpcy5zZXRXaWR0aCgxMCl9Z2V0Q2F0ZWdvcnkoKXtyZXR1cm4gai5DQVRFR09SWX1nZXRQb3NpdGlvbigpe3JldHVybiB0aGlzLnBvc2l0aW9ufWFkZEVuZE5vdGUodCl7cmV0dXJuIHRoaXMubm90ZV9lbmQ9dCx0aGlzfWRyYXcoKXtpZih0aGlzLmNoZWNrQ29udGV4dCgpLHRoaXMuc2V0UmVuZGVyZWQoKSwhdGhpcy5ub3RlfHxudWxsPT10aGlzLmluZGV4KXRocm93IG5ldyBzLlJFUlIoXCJOb0F0dGFjaGVkTm90ZVwiLFwiQ2FuJ3QgZHJhdyBzdHJva2Ugd2l0aG91dCBhIG5vdGUgYW5kIGluZGV4LlwiKTtjb25zdCB0PXRoaXMubm90ZS5nZXRNb2RpZmllclN0YXJ0WFkodGhpcy5wb3NpdGlvbix0aGlzLmluZGV4KTtsZXQgZT10aGlzLm5vdGUuZ2V0WXMoKSxpPXQueSxuPXQueTtjb25zdCByPXQueC01LG89dGhpcy5ub3RlLnN0YXZlLm9wdGlvbnMuc3BhY2luZ19iZXR3ZWVuX2xpbmVzX3B4LGE9dGhpcy5nZXRNb2RpZmllckNvbnRleHQoKS5nZXRNb2RpZmllcnModGhpcy5ub3RlLmdldENhdGVnb3J5KCkpO2ZvcihsZXQgdD0wO3Q8YS5sZW5ndGg7dCsrKXtlPWFbdF0uZ2V0WXMoKTtmb3IobGV0IHI9MDtyPGUubGVuZ3RoO3IrKykodGhpcy5ub3RlPT09YVt0XXx8dGhpcy5hbGxfdm9pY2VzKSYmKGk9cy5NaW4oaSxlW3JdKSxuPXMuTWF4KG4sZVtyXSkpfWxldCBoLGwsYyx1LGQ7c3dpdGNoKHRoaXMudHlwZSl7Y2FzZSBqLlR5cGUuQlJVU0hfRE9XTjpoPVwidmMzXCIsbD0tMyxjPWktby8yKzEwLG4rPW8vMjticmVhaztjYXNlIGouVHlwZS5CUlVTSF9VUDpoPVwidjExXCIsbD0uNSxjPW4rby8yLGktPW8vMjticmVhaztjYXNlIGouVHlwZS5ST0xMX0RPV046Y2FzZSBqLlR5cGUuUkFTUVVFRE9fRE9XTjpoPVwidmMzXCIsbD0tMyx1PXRoaXMueF9zaGlmdCtsLTIsdGhpcy5ub3RlIGluc3RhbmNlb2Ygaz8oaSs9MS41Km8sbis9KG4taSklMiE9MD8uNSpvOm8sYz1pLW8sZD1uK28rMik6KGkrPTEuNSpvLG4rPW8sYz1pLS43NSpvLGQ9bisuMjUqbyk7YnJlYWs7Y2FzZSBqLlR5cGUuUk9MTF9VUDpjYXNlIGouVHlwZS5SQVNRVUVET19VUDpoPVwidjUyXCIsbD0tNCx1PXRoaXMueF9zaGlmdCtsLTEsdGhpcy5ub3RlIGluc3RhbmNlb2Ygaz8oYz1vLzIsaSs9LjUqbywobi1pKSUyPT0wJiYobis9by8yKSxjPW4rLjUqbyxkPWktMS4yNSpvKTooaSs9LjI1Km8sbis9LjUqbyxjPW4rLjI1Km8sZD1pLW8pO2JyZWFrO2Nhc2Ugai5UeXBlLkFSUEVHR0lPX0RJUkVDVElPTkxFU1M6aSs9LjUqbyxuKz1vO2JyZWFrO2RlZmF1bHQ6dGhyb3cgbmV3IHMuUkVSUihcIkludmFsaWRUeXBlXCIsYFRoZSBzdHJva2UgdHlwZSAke3RoaXMudHlwZX0gZG9lcyBub3QgZXhpc3RgKX1pZih0aGlzLnR5cGU9PT1qLlR5cGUuQlJVU0hfRE9XTnx8dGhpcy50eXBlPT09ai5UeXBlLkJSVVNIX1VQKXRoaXMuY29udGV4dC5maWxsUmVjdChyK3RoaXMueF9zaGlmdCxpLDEsbi1pKTtlbHNlIGlmKHRoaXMubm90ZSBpbnN0YW5jZW9mIGspZm9yKGxldCB0PWk7dDw9bjt0Kz1vKWYucmVuZGVyR2x5cGgodGhpcy5jb250ZXh0LHIrdGhpcy54X3NoaWZ0LTQsdCx0aGlzLnJlbmRlcl9vcHRpb25zLmZvbnRfc2NhbGUsXCJ2YTNcIik7ZWxzZXtsZXQgdDtmb3IodD1pO3Q8PW47dCs9MTApZi5yZW5kZXJHbHlwaCh0aGlzLmNvbnRleHQscit0aGlzLnhfc2hpZnQtNCx0LHRoaXMucmVuZGVyX29wdGlvbnMuZm9udF9zY2FsZSxcInZhM1wiKTt0aGlzLnR5cGU9PT1qLlR5cGUuUkFTUVVFRE9fRE9XTiYmKGQ9dCsuMjUqbyl9dGhpcy50eXBlIT09ai5UeXBlLkFSUEVHR0lPX0RJUkVDVElPTkxFU1MmJihmLnJlbmRlckdseXBoKHRoaXMuY29udGV4dCxyK3RoaXMueF9zaGlmdCtsLGMsdGhpcy5yZW5kZXJfb3B0aW9ucy5mb250X3NjYWxlLGgpLHRoaXMudHlwZSE9PWouVHlwZS5SQVNRVUVET19ET1dOJiZ0aGlzLnR5cGUhPT1qLlR5cGUuUkFTUVVFRE9fVVB8fCh0aGlzLmNvbnRleHQuc2F2ZSgpLHRoaXMuY29udGV4dC5zZXRGb250KHRoaXMuZm9udC5mYW1pbHksdGhpcy5mb250LnNpemUsdGhpcy5mb250LndlaWdodCksdGhpcy5jb250ZXh0LmZpbGxUZXh0KFwiUlwiLHIrdSxkKSx0aGlzLmNvbnRleHQucmVzdG9yZSgpKSl9fWNsYXNzIEsgZXh0ZW5kcyBCe3N0YXRpYyBnZXQgQ0FURUdPUlkoKXtyZXR1cm5cInN0cmluZ251bWJlclwifXN0YXRpYyBmb3JtYXQodCxlKXtjb25zdCBpPWUubGVmdF9zaGlmdCxzPWUucmlnaHRfc2hpZnQ7aWYoIXR8fDA9PT10Lmxlbmd0aClyZXR1cm4gdGhpcztjb25zdCBuPVtdO2xldCByLG8sYSxoLGwsYz1udWxsLHU9MCxkPTA7Zm9yKHI9MDtyPHQubGVuZ3RoOysrcilmb3Iobz10W3JdLGE9by5nZXROb3RlKCkscj0wO3I8dC5sZW5ndGg7KytyKXtvPXRbcl0sYT1vLmdldE5vdGUoKSxoPW8uZ2V0UG9zaXRpb24oKTtjb25zdCBlPWEuZ2V0S2V5UHJvcHMoKVtvLmdldEluZGV4KCldO2lmKGEhPT1jKXtmb3IobGV0IHQ9MDt0PGEua2V5cy5sZW5ndGg7Kyt0KWw9YS5nZXRLZXlQcm9wcygpW3RdLDA9PT1pJiYodT1sLmRpc3BsYWNlZD9hLmdldEV4dHJhTGVmdFB4KCk6dSksMD09PXMmJihkPWwuZGlzcGxhY2VkP2EuZ2V0RXh0cmFSaWdodFB4KCk6ZCk7Yz1hfW4ucHVzaCh7cG9zOmgsbm90ZTphLG51bTpvLGxpbmU6ZS5saW5lLHNoaWZ0TDp1LHNoaWZ0UjpkfSl9bi5zb3J0KCh0LGUpPT5lLmxpbmUtdC5saW5lKTtsZXQgZj0wLG09MCxwPTAsZz0wLGI9bnVsbCxTPW51bGw7Zm9yKHI9MDtyPG4ubGVuZ3RoOysrcil7bGV0IHQ9MDthPW5bcl0ubm90ZSxoPW5bcl0ucG9zLG89bltyXS5udW07Y29uc3QgZT1uW3JdLmxpbmUsbD1uW3JdLnNoaWZ0TCxjPW5bcl0uc2hpZnRSO2U9PT1iJiZhPT09U3x8KGY9aStsLG09cytjKTtjb25zdCBkPW8uZ2V0V2lkdGgoKSsxO2g9PT1CLlBvc2l0aW9uLkxFRlQ/KG8uc2V0WFNoaWZ0KGkpLHQ9dStkLHA9dD5wP3Q6cCk6aD09PUIuUG9zaXRpb24uUklHSFQmJihvLnNldFhTaGlmdChtKSx0Kz1kLGc9dD5nP3Q6ZyksYj1lLFM9YX1yZXR1cm4gZS5sZWZ0X3NoaWZ0Kz1wLGUucmlnaHRfc2hpZnQrPWcsITB9Y29uc3RydWN0b3IodCl7c3VwZXIoKSx0aGlzLnNldEF0dHJpYnV0ZShcInR5cGVcIixcIlN0cmluZ051bWJlclwiKSx0aGlzLm5vdGU9bnVsbCx0aGlzLmxhc3Rfbm90ZT1udWxsLHRoaXMuaW5kZXg9bnVsbCx0aGlzLnN0cmluZ19udW1iZXI9dCx0aGlzLnNldFdpZHRoKDIwKSx0aGlzLnBvc2l0aW9uPUIuUG9zaXRpb24uQUJPVkUsdGhpcy54X3NoaWZ0PTAsdGhpcy55X3NoaWZ0PTAsdGhpcy54X29mZnNldD0wLHRoaXMueV9vZmZzZXQ9MCx0aGlzLmRhc2hlZD0hMCx0aGlzLmxlZz14LkxpbmVFbmRUeXBlLk5PTkUsdGhpcy5yYWRpdXM9OCx0aGlzLmZvbnQ9e2ZhbWlseTpcInNhbnMtc2VyaWZcIixzaXplOjEwLHdlaWdodDpcImJvbGRcIn19Z2V0Q2F0ZWdvcnkoKXtyZXR1cm4gSy5DQVRFR09SWX1nZXROb3RlKCl7cmV0dXJuIHRoaXMubm90ZX1zZXROb3RlKHQpe3JldHVybiB0aGlzLm5vdGU9dCx0aGlzfWdldEluZGV4KCl7cmV0dXJuIHRoaXMuaW5kZXh9c2V0SW5kZXgodCl7cmV0dXJuIHRoaXMuaW5kZXg9dCx0aGlzfXNldExpbmVFbmRUeXBlKHQpe3JldHVybiB0Pj14LkxpbmVFbmRUeXBlLk5PTkUmJnQ8PXguTGluZUVuZFR5cGUuRE9XTiYmKHRoaXMubGVnPXQpLHRoaXN9c2V0U3RyaW5nTnVtYmVyKHQpe3JldHVybiB0aGlzLnN0cmluZ19udW1iZXI9dCx0aGlzfXNldE9mZnNldFgodCl7cmV0dXJuIHRoaXMueF9vZmZzZXQ9dCx0aGlzfXNldE9mZnNldFkodCl7cmV0dXJuIHRoaXMueV9vZmZzZXQ9dCx0aGlzfXNldExhc3ROb3RlKHQpe3JldHVybiB0aGlzLmxhc3Rfbm90ZT10LHRoaXN9c2V0RGFzaGVkKHQpe3JldHVybiB0aGlzLmRhc2hlZD10LHRoaXN9ZHJhdygpe2NvbnN0IHQ9dGhpcy5jaGVja0NvbnRleHQoKTtpZighdGhpcy5ub3RlfHxudWxsPT10aGlzLmluZGV4KXRocm93IG5ldyBzLlJFUlIoXCJOb0F0dGFjaGVkTm90ZVwiLFwiQ2FuJ3QgZHJhdyBzdHJpbmcgbnVtYmVyIHdpdGhvdXQgYSBub3RlIGFuZCBpbmRleC5cIik7dGhpcy5zZXRSZW5kZXJlZCgpO2NvbnN0IGU9dGhpcy5ub3RlLnN0YXZlLm9wdGlvbnMuc3BhY2luZ19iZXR3ZWVuX2xpbmVzX3B4LGk9dGhpcy5ub3RlLmdldE1vZGlmaWVyU3RhcnRYWSh0aGlzLnBvc2l0aW9uLHRoaXMuaW5kZXgpO2xldCBuPWkueCt0aGlzLnhfc2hpZnQrdGhpcy54X29mZnNldCxyPWkueSt0aGlzLnlfc2hpZnQrdGhpcy55X29mZnNldDtzd2l0Y2godGhpcy5wb3NpdGlvbil7Y2FzZSBCLlBvc2l0aW9uLkFCT1ZFOmNhc2UgQi5Qb3NpdGlvbi5CRUxPVzp7Y29uc3QgdD10aGlzLm5vdGUuZ2V0U3RlbUV4dGVudHMoKTtsZXQgcz10LnRvcFksbj10LmJhc2VZKzI7dGhpcy5ub3RlLnN0ZW1fZGlyZWN0aW9uPT09ay5TVEVNX0RPV04mJihzPXQuYmFzZVksbj10LnRvcFktMikscj10aGlzLnBvc2l0aW9uPT09Qi5Qb3NpdGlvbi5BQk9WRT90aGlzLm5vdGUuaGFzU3RlbSgpP3MtMS43NSplOmkueS0xLjc1KmU6dGhpcy5ub3RlLmhhc1N0ZW0oKT9uKzEuNSplOmkueSsxLjc1KmUscis9dGhpcy55X3NoaWZ0K3RoaXMueV9vZmZzZXQ7YnJlYWt9Y2FzZSBCLlBvc2l0aW9uLkxFRlQ6bi09dGhpcy5yYWRpdXMvMis1O2JyZWFrO2Nhc2UgQi5Qb3NpdGlvbi5SSUdIVDpuKz10aGlzLnJhZGl1cy8yKzY7YnJlYWs7ZGVmYXVsdDp0aHJvdyBuZXcgcy5SRVJSKFwiSW52YWxpZFBvc2l0aW9uXCIsYFRoZSBwb3NpdGlvbiAke3RoaXMucG9zaXRpb259IGlzIGludmFsaWRgKX10LnNhdmUoKSx0LmJlZ2luUGF0aCgpLHQuYXJjKG4scix0aGlzLnJhZGl1cywwLDIqTWF0aC5QSSwhMSksdC5saW5lV2lkdGg9MS41LHQuc3Ryb2tlKCksdC5zZXRGb250KHRoaXMuZm9udC5mYW1pbHksdGhpcy5mb250LnNpemUsdGhpcy5mb250LndlaWdodCk7Y29uc3Qgbz1uLXQubWVhc3VyZVRleHQodGhpcy5zdHJpbmdfbnVtYmVyKS53aWR0aC8yO2lmKHQuZmlsbFRleHQoXCJcIit0aGlzLnN0cmluZ19udW1iZXIsbyxyKzQuNSksbnVsbCE9dGhpcy5sYXN0X25vdGUpe2NvbnN0IGU9dGhpcy5sYXN0X25vdGUuZ2V0U3RlbVgoKS10aGlzLm5vdGUuZ2V0WCgpKzU7bGV0IGkscztzd2l0Y2godC5zdHJva2VTdHlsZT1cIiMwMDAwMDBcIix0LmxpbmVDYXA9XCJyb3VuZFwiLHQubGluZVdpZHRoPS42LHRoaXMuZGFzaGVkP3guZHJhd0Rhc2hlZExpbmUodCxuKzEwLHIsbitlLHIsWzMsM10pOnguZHJhd0Rhc2hlZExpbmUodCxuKzEwLHIsbitlLHIsWzMsMF0pLHRoaXMubGVnKXtjYXNlIHguTGluZUVuZFR5cGUuVVA6aT0tMTAscz10aGlzLmRhc2hlZD9bMywzXTpbMywwXSx4LmRyYXdEYXNoZWRMaW5lKHQsbitlLHIsbitlLHIraSxzKTticmVhaztjYXNlIHguTGluZUVuZFR5cGUuRE9XTjppPTEwLHM9dGhpcy5kYXNoZWQ/WzMsM106WzMsMF0seC5kcmF3RGFzaGVkTGluZSh0LG4rZSxyLG4rZSxyK2kscyl9fXQucmVzdG9yZSgpfX1jb25zdHtBQk9WRTpxLEJFTE9XOkp9PUIuUG9zaXRpb24sJD0odCxlKT0+LjUqdChlLy41KSxaPSh0LGUpPT5lPT09cT90PD01OnQ+PTEsUT0odCxlKT0+Wih0LGUpP2U9PT1xP01hdGguY2VpbDpNYXRoLmZsb29yOk1hdGgucm91bmQsdHQ9dD0+e2NvbnN0IGU9dC5nZXRDYXRlZ29yeSgpO3JldHVyblwic3RhdmVub3Rlc1wiPT09ZXx8XCJncmFjZW5vdGVzXCI9PT1lfTtjbGFzcyBldCBleHRlbmRzIEJ7c3RhdGljIGdldCBDQVRFR09SWSgpe3JldHVyblwiYXJ0aWN1bGF0aW9uc1wifXN0YXRpYyBnZXQgSU5JVElBTF9PRkZTRVQoKXtyZXR1cm4tLjV9c3RhdGljIGZvcm1hdCh0LGUpe2lmKCF0fHwwPT09dC5sZW5ndGgpcmV0dXJuITE7Y29uc3QgaT0odCxlLGkpPT4kKFEoZSxpKSx0LmdseXBoLmdldE1ldHJpY3MoKS5oZWlnaHQvMTArLjUpO3QuZmlsdGVyKHQ9PnQuZ2V0UG9zaXRpb24oKT09PXEpLmZvckVhY2godD0+e3Quc2V0VGV4dExpbmUoZS50b3BfdGV4dF9saW5lKSxlLnRvcF90ZXh0X2xpbmUrPWkodCxlLnRvcF90ZXh0X2xpbmUscSl9KSx0LmZpbHRlcih0PT50LmdldFBvc2l0aW9uKCk9PT1KKS5mb3JFYWNoKHQ9Pnt0LnNldFRleHRMaW5lKGUudGV4dF9saW5lKSxlLnRleHRfbGluZSs9aSh0LGUudGV4dF9saW5lLEopfSk7Y29uc3Qgcz10Lm1hcCh0PT50LmdldFdpZHRoKCkpLnJlZHVjZSgodCxlKT0+TWF0aC5tYXgoZSx0KSk7cmV0dXJuIGUubGVmdF9zaGlmdCs9cy8yLGUucmlnaHRfc2hpZnQrPXMvMiwhMH1zdGF0aWMgZWFzeVNjb3JlSG9vayh7YXJ0aWN1bGF0aW9uczp0fSxlLGkpe2lmKCF0KXJldHVybjtjb25zdCBzPXtzdGFjY2F0bzpcImEuXCIsdGVudXRvOlwiYS1cIn07dC5zcGxpdChcIixcIikubWFwKHQ9PnQudHJpbSgpLnNwbGl0KFwiLlwiKSkubWFwKChbdCxlXSk9Pntjb25zdCBuPXt0eXBlOnNbdF19O3JldHVybiBlJiYobi5wb3NpdGlvbj1CLlBvc2l0aW9uU3RyaW5nW2VdKSxpLmdldEZhY3RvcnkoKS5BcnRpY3VsYXRpb24obil9KS5tYXAodD0+ZS5hZGRNb2RpZmllcigwLHQpKX1jb25zdHJ1Y3Rvcih0KXtpZihzdXBlcigpLHRoaXMuc2V0QXR0cmlidXRlKFwidHlwZVwiLFwiQXJ0aWN1bGF0aW9uXCIpLHRoaXMubm90ZT1udWxsLHRoaXMuaW5kZXg9bnVsbCx0aGlzLnR5cGU9dCx0aGlzLnBvc2l0aW9uPUosdGhpcy5yZW5kZXJfb3B0aW9ucz17Zm9udF9zY2FsZTozOH0sdGhpcy5hcnRpY3VsYXRpb249bS5hcnRpY3VsYXRpb25Db2Rlcyh0aGlzLnR5cGUpLCF0aGlzLmFydGljdWxhdGlvbil0aHJvdyBuZXcgcy5SRVJSKFwiQXJndW1lbnRFcnJvclwiLGBBcnRpY3VsYXRpb24gbm90IGZvdW5kOiAke3RoaXMudHlwZX1gKTt0aGlzLmdseXBoPW5ldyBmKHRoaXMuYXJ0aWN1bGF0aW9uLmNvZGUsdGhpcy5yZW5kZXJfb3B0aW9ucy5mb250X3NjYWxlKSx0aGlzLnNldFdpZHRoKHRoaXMuZ2x5cGguZ2V0TWV0cmljcygpLndpZHRoKX1nZXRDYXRlZ29yeSgpe3JldHVybiBldC5DQVRFR09SWX1kcmF3KCl7Y29uc3R7bm90ZTp0LGluZGV4OmUscG9zaXRpb246aSxnbHlwaDpuLGFydGljdWxhdGlvbjp7YmV0d2Vlbl9saW5lczpyfSx0ZXh0X2xpbmU6byxjb250ZXh0OmF9PXRoaXM7aWYodGhpcy5jaGVja0NvbnRleHQoKSwhdHx8bnVsbD09ZSl0aHJvdyBuZXcgcy5SRVJSKFwiTm9BdHRhY2hlZE5vdGVcIixcIkNhbid0IGRyYXcgQXJ0aWN1bGF0aW9uIHdpdGhvdXQgYSBub3RlIGFuZCBpbmRleC5cIik7dGhpcy5zZXRSZW5kZXJlZCgpO2NvbnN0IGg9dC5nZXRTdGF2ZSgpLGw9aC5nZXRTcGFjaW5nQmV0d2VlbkxpbmVzKCksYz1cInRhYm5vdGVzXCI9PT10LmdldENhdGVnb3J5KCkse3g6dX09dC5nZXRNb2RpZmllclN0YXJ0WFkoaSxlKSxkPSFyfHxjLGY9KCh0LGUpPT57Y29uc3QgaT1lPT09cSYmdC5nZXRTdGVtRGlyZWN0aW9uKCk9PT1FLlVQfHxlPT09SiYmdC5nZXRTdGVtRGlyZWN0aW9uKCk9PT1FLkRPV047cmV0dXJuIHR0KHQpP3QuaGFzU3RlbSgpJiZpPy41OjE6dC5oYXNTdGVtKCkmJmk/MTowfSkodCxpKTtsZXQgbT17W3FdOigpPT57bi5zZXRPcmlnaW4oLjUsMSk7Y29uc3QgZT0oKHQsZSk9Pntjb25zdCBpPXQuZ2V0U3RhdmUoKSxuPXQuZ2V0U3RlbURpcmVjdGlvbigpLHt0b3BZOnIsYmFzZVk6b309dC5nZXRTdGVtRXh0ZW50cygpO2lmKHR0KHQpKXJldHVybiB0Lmhhc1N0ZW0oKT9uPT09RS5VUD9yOm86TWF0aC5taW4oLi4udC5nZXRZcygpKTtpZihcInRhYm5vdGVzXCI9PT10LmdldENhdGVnb3J5KCkpcmV0dXJuIHQuaGFzU3RlbSgpJiZuPT09RS5VUD9yOmkuZ2V0WUZvclRvcFRleHQoZSk7dGhyb3cgbmV3IHMuUkVSUihcIlVua25vd25DYXRlZ29yeVwiLFwiT25seSBjYW4gZ2V0IHRoZSB0b3AgYW5kIGJvdHRvbSB5cyBvZiBzdGF2ZW5vdGVzIGFuZCB0YWJub3Rlc1wiKX0pKHQsbyktKG8rZikqbDtyZXR1cm4gZD9NYXRoLm1pbihoLmdldFlGb3JUb3BUZXh0KGV0LklOSVRJQUxfT0ZGU0VUKSxlKTplfSxbSl06KCk9PntuLnNldE9yaWdpbiguNSwwKTtjb25zdCBlPSgodCxlKT0+e2NvbnN0IGk9dC5nZXRTdGF2ZSgpLG49dC5nZXRTdGVtRGlyZWN0aW9uKCkse3RvcFk6cixiYXNlWTpvfT10LmdldFN0ZW1FeHRlbnRzKCk7aWYodHQodCkpcmV0dXJuIHQuaGFzU3RlbSgpP249PT1FLlVQP286cjpNYXRoLm1heCguLi50LmdldFlzKCkpO2lmKFwidGFibm90ZXNcIj09PXQuZ2V0Q2F0ZWdvcnkoKSlyZXR1cm4gdC5oYXNTdGVtKCk/bj09PUUuVVA/aS5nZXRZRm9yQm90dG9tVGV4dChlKTpyOmkuZ2V0WUZvckJvdHRvbVRleHQoZSk7dGhyb3cgbmV3IHMuUkVSUihcIlVua25vd25DYXRlZ29yeVwiLFwiT25seSBjYW4gZ2V0IHRoZSB0b3AgYW5kIGJvdHRvbSB5cyBvZiBzdGF2ZW5vdGVzIGFuZCB0YWJub3Rlc1wiKX0pKHQsbykrKG8rZikqbDtyZXR1cm4gZD9NYXRoLm1heChoLmdldFlGb3JCb3R0b21UZXh0KGV0LklOSVRJQUxfT0ZGU0VUKSxlKTplfX1baV0oKTtpZighYyl7Y29uc3Qgcz1pPT09cT8tMToxLG89Yz90LnBvc2l0aW9uc1tlXS5zdHI6dC5nZXRLZXlQcm9wcygpW2VdLmxpbmUsYT0odC5nZXRZcygpW2VdLW0pL2wrbyxoPSgodCxlLGkscyk9Pntjb25zdCBuPSQoUShlLGkpLGUpO2lmKHQmJloobixpKSYmbiUxPT0wKXtyZXR1cm4gbisuNSotc31yZXR1cm4gbn0pKHIsYSxpLHMpO1ooaCxpKSYmbi5zZXRPcmlnaW4oLjUsLjUpLG0rPU1hdGguYWJzKGgtYSkqbCpzfSFmdW5jdGlvbiguLi50KXtldC5ERUJVRyYmcy5MKFwiVmV4LkZsb3cuQXJ0aWN1bGF0aW9uXCIsdCl9KGBSZW5kZXJpbmcgYXJ0aWN1bGF0aW9uIGF0ICh4OiAke3V9LCB5OiAke219KWApLG4ucmVuZGVyKGEsdSxtKX19Y2xhc3MgaXQgZXh0ZW5kcyBJe3N0YXRpYyBnZXROZXh0Q29udGV4dCh0KXtjb25zdCBlPXQudENvbnRleHRzLGk9ZS5pbmRleE9mKHQpO3JldHVybiBlW2krMV19Y29uc3RydWN0b3IoKXtzdXBlcigpLHRoaXMuc2V0QXR0cmlidXRlKFwidHlwZVwiLFwiVGlja0NvbnRleHRcIiksdGhpcy5jdXJyZW50VGljaz1uZXcgbigwLDEpLHRoaXMubWF4VGlja3M9bmV3IG4oMCwxKSx0aGlzLm1pblRpY2tzPW51bGwsdGhpcy5wYWRkaW5nPTMsdGhpcy54PTAsdGhpcy54QmFzZT0wLHRoaXMueE9mZnNldD0wLHRoaXMudGlja2FibGVzPVtdLHRoaXMubm90ZVB4PTAsdGhpcy5leHRyYUxlZnRQeD0wLHRoaXMuZXh0cmFSaWdodFB4PTAsdGhpcy50Q29udGV4dHM9W119Z2V0WCgpe3JldHVybiB0aGlzLnh9c2V0WCh0KXtyZXR1cm4gdGhpcy54PXQsdGhpcy54QmFzZT10LHRoaXMueE9mZnNldD0wLHRoaXN9Z2V0WEJhc2UoKXtyZXR1cm4gdGhpcy54QmFzZX1zZXRYQmFzZSh0KXt0aGlzLnhCYXNlPXQsdGhpcy54PXQrdGhpcy54T2Zmc2V0fWdldFhPZmZzZXQoKXtyZXR1cm4gdGhpcy54T2Zmc2V0fXNldFhPZmZzZXQodCl7dGhpcy54T2Zmc2V0PXQsdGhpcy54PXRoaXMueEJhc2UrdH1nZXRXaWR0aCgpe3JldHVybiB0aGlzLndpZHRoKzIqdGhpcy5wYWRkaW5nfXNldFBhZGRpbmcodCl7cmV0dXJuIHRoaXMucGFkZGluZz10LHRoaXN9Z2V0TWF4VGlja3MoKXtyZXR1cm4gdGhpcy5tYXhUaWNrc31nZXRNaW5UaWNrcygpe3JldHVybiB0aGlzLm1pblRpY2tzfWdldFRpY2thYmxlcygpe3JldHVybiB0aGlzLnRpY2thYmxlc31nZXRDZW50ZXJBbGlnbmVkVGlja2FibGVzKCl7cmV0dXJuIHRoaXMudGlja2FibGVzLmZpbHRlcih0PT50LmlzQ2VudGVyQWxpZ25lZCgpKX1nZXRNZXRyaWNzKCl7Y29uc3R7d2lkdGg6dCxub3RlUHg6ZSxleHRyYUxlZnRQeDppLGV4dHJhUmlnaHRQeDpzfT10aGlzO3JldHVybnt3aWR0aDp0LG5vdGVQeDplLGV4dHJhTGVmdFB4OmksZXh0cmFSaWdodFB4OnN9fWdldEN1cnJlbnRUaWNrKCl7cmV0dXJuIHRoaXMuY3VycmVudFRpY2t9c2V0Q3VycmVudFRpY2sodCl7dGhpcy5jdXJyZW50VGljaz10LHRoaXMucHJlRm9ybWF0dGVkPSExfWdldEV4dHJhUHgoKXtsZXQgdD0wLGU9MCxpPTAscz0wO2ZvcihsZXQgbj0wO248dGhpcy50aWNrYWJsZXMubGVuZ3RoO24rKyl7aT1NYXRoLm1heCh0aGlzLnRpY2thYmxlc1tuXS5leHRyYUxlZnRQeHx8MCxpKSxzPU1hdGgubWF4KHRoaXMudGlja2FibGVzW25dLmV4dHJhUmlnaHRQeHx8MCxzKTtjb25zdCByPXRoaXMudGlja2FibGVzW25dLm1vZGlmaWVyQ29udGV4dDtyJiZudWxsIT1yJiYodD1NYXRoLm1heCh0LHIuc3RhdGUubGVmdF9zaGlmdCksZT1NYXRoLm1heChlLHIuc3RhdGUucmlnaHRfc2hpZnQpKX1yZXR1cm57bGVmdDp0LHJpZ2h0OmUsZXh0cmFMZWZ0OmksZXh0cmFSaWdodDpzfX1hZGRUaWNrYWJsZSh0KXtpZighdCl0aHJvdyBuZXcgcy5SRVJSKFwiQmFkQXJndW1lbnRcIixcIkludmFsaWQgdGlja2FibGUgYWRkZWQuXCIpO2lmKCF0LnNob3VsZElnbm9yZVRpY2tzKCkpe3RoaXMuaWdub3JlX3RpY2tzPSExO2NvbnN0IGU9dC5nZXRUaWNrcygpO2UuZ3JlYXRlclRoYW4odGhpcy5tYXhUaWNrcykmJih0aGlzLm1heFRpY2tzPWUuY2xvbmUoKSksKG51bGw9PXRoaXMubWluVGlja3N8fGUubGVzc1RoYW4odGhpcy5taW5UaWNrcykpJiYodGhpcy5taW5UaWNrcz1lLmNsb25lKCkpfXJldHVybiB0LnNldFRpY2tDb250ZXh0KHRoaXMpLHRoaXMudGlja2FibGVzLnB1c2godCksdGhpcy5wcmVGb3JtYXR0ZWQ9ITEsdGhpc31wcmVGb3JtYXQoKXtpZih0aGlzLnByZUZvcm1hdHRlZClyZXR1cm4gdGhpcztmb3IobGV0IHQ9MDt0PHRoaXMudGlja2FibGVzLmxlbmd0aDsrK3Qpe2NvbnN0IGU9dGhpcy50aWNrYWJsZXNbdF07ZS5wcmVGb3JtYXQoKTtjb25zdCBpPWUuZ2V0TWV0cmljcygpO3RoaXMuZXh0cmFMZWZ0UHg9TWF0aC5tYXgodGhpcy5leHRyYUxlZnRQeCxpLmV4dHJhTGVmdFB4K2kubW9kTGVmdFB4KSx0aGlzLmV4dHJhUmlnaHRQeD1NYXRoLm1heCh0aGlzLmV4dHJhUmlnaHRQeCxpLmV4dHJhUmlnaHRQeCtpLm1vZFJpZ2h0UHgpLHRoaXMubm90ZVB4PU1hdGgubWF4KHRoaXMubm90ZVB4LGkubm90ZVdpZHRoKSx0aGlzLndpZHRoPXRoaXMubm90ZVB4K3RoaXMuZXh0cmFMZWZ0UHgrdGhpcy5leHRyYVJpZ2h0UHh9cmV0dXJuIHRoaXN9cG9zdEZvcm1hdCgpe3JldHVybiB0aGlzLnBvc3RGb3JtYXR0ZWR8fCh0aGlzLnBvc3RGb3JtYXR0ZWQ9ITApLHRoaXN9fWNsYXNzIHN0IGV4dGVuZHMgQntzdGF0aWMgZ2V0IENBVEVHT1JZKCl7cmV0dXJuXCJvcm5hbWVudHNcIn1zdGF0aWMgZm9ybWF0KHQsZSl7aWYoIXR8fDA9PT10Lmxlbmd0aClyZXR1cm4hMTtsZXQgaT0wO2ZvcihsZXQgcz0wO3M8dC5sZW5ndGg7KytzKXtjb25zdCBuPXRbc10scj0yO2k9TWF0aC5tYXgobi5nZXRXaWR0aCgpLGkpLG4uZ2V0UG9zaXRpb24oKT09PUIuUG9zaXRpb24uQUJPVkU/KG4uc2V0VGV4dExpbmUoZS50b3BfdGV4dF9saW5lKSxlLnRvcF90ZXh0X2xpbmUrPXIpOihuLnNldFRleHRMaW5lKGUudGV4dF9saW5lKSxlLnRleHRfbGluZSs9cil9cmV0dXJuIGUubGVmdF9zaGlmdCs9aS8yLGUucmlnaHRfc2hpZnQrPWkvMiwhMH1jb25zdHJ1Y3Rvcih0KXtpZihzdXBlcigpLHRoaXMuc2V0QXR0cmlidXRlKFwidHlwZVwiLFwiT3JuYW1lbnRcIiksdGhpcy5ub3RlPW51bGwsdGhpcy5pbmRleD1udWxsLHRoaXMudHlwZT10LHRoaXMucG9zaXRpb249Qi5Qb3NpdGlvbi5BQk9WRSx0aGlzLmRlbGF5ZWQ9ITEsdGhpcy5hY2NpZGVudGFsVXBwZXI9bnVsbCx0aGlzLmFjY2lkZW50YWxMb3dlcj1udWxsLHRoaXMucmVuZGVyX29wdGlvbnM9e2ZvbnRfc2NhbGU6MzgsYWNjaWRlbnRhbExvd2VyUGFkZGluZzozLGFjY2lkZW50YWxVcHBlclBhZGRpbmc6M30sdGhpcy5vcm5hbWVudD1tLm9ybmFtZW50Q29kZXModGhpcy50eXBlKSwhdGhpcy5vcm5hbWVudCl0aHJvdyBuZXcgcy5SRVJSKFwiQXJndW1lbnRFcnJvclwiLGBPcm5hbWVudCBub3QgZm91bmQ6ICcke3RoaXMudHlwZX0nYCk7dGhpcy5nbHlwaD1uZXcgZih0aGlzLm9ybmFtZW50LmNvZGUsdGhpcy5yZW5kZXJfb3B0aW9ucy5mb250X3NjYWxlKSx0aGlzLmdseXBoLnNldE9yaWdpbiguNSwxKX1nZXRDYXRlZ29yeSgpe3JldHVybiBzdC5DQVRFR09SWX1zZXREZWxheWVkKHQpe3JldHVybiB0aGlzLmRlbGF5ZWQ9dCx0aGlzfXNldFVwcGVyQWNjaWRlbnRhbCh0KXtjb25zdCBlPXRoaXMucmVuZGVyX29wdGlvbnMuZm9udF9zY2FsZS8xLjM7cmV0dXJuIHRoaXMuYWNjaWRlbnRhbFVwcGVyPW5ldyBmKG0uYWNjaWRlbnRhbENvZGVzKHQpLmNvZGUsZSksdGhpcy5hY2NpZGVudGFsVXBwZXIuc2V0T3JpZ2luKC41LDEpLHRoaXN9c2V0TG93ZXJBY2NpZGVudGFsKHQpe2NvbnN0IGU9dGhpcy5yZW5kZXJfb3B0aW9ucy5mb250X3NjYWxlLzEuMztyZXR1cm4gdGhpcy5hY2NpZGVudGFsTG93ZXI9bmV3IGYobS5hY2NpZGVudGFsQ29kZXModCkuY29kZSxlKSx0aGlzLmFjY2lkZW50YWxMb3dlci5zZXRPcmlnaW4oLjUsMSksdGhpc31kcmF3KCl7aWYodGhpcy5jaGVja0NvbnRleHQoKSwhdGhpcy5ub3RlfHxudWxsPT10aGlzLmluZGV4KXRocm93IG5ldyBzLlJFUlIoXCJOb0F0dGFjaGVkTm90ZVwiLFwiQ2FuJ3QgZHJhdyBPcm5hbWVudCB3aXRob3V0IGEgbm90ZSBhbmQgaW5kZXguXCIpO3RoaXMuc2V0UmVuZGVyZWQoKTtjb25zdCB0PXRoaXMuY29udGV4dCxlPXRoaXMubm90ZS5nZXRTdGVtRGlyZWN0aW9uKCksaT10aGlzLm5vdGUuZ2V0U3RhdmUoKSxuPXRoaXMubm90ZS5nZXRTdGVtKCkuZ2V0RXh0ZW50cygpO2xldCByPWU9PT1rLlNURU1fRE9XTj9uLmJhc2VZOm4udG9wWTtcInRhYm5vdGVzXCI9PT10aGlzLm5vdGUuZ2V0Q2F0ZWdvcnkoKSYmKHRoaXMubm90ZS5oYXNTdGVtKCk/ZT09PWsuU1RFTV9ET1dOJiYocj1pLmdldFlGb3JUb3BUZXh0KHRoaXMudGV4dF9saW5lKSk6cj1pLmdldFlGb3JUb3BUZXh0KHRoaXMudGV4dF9saW5lKSk7Y29uc3Qgbz1lPT09ay5TVEVNX0RPV04sYT1pLmdldFNwYWNpbmdCZXR3ZWVuTGluZXMoKTtsZXQgaD0xOyFvJiZ0aGlzLm5vdGUuYmVhbSYmKGgrPS41KTtjb25zdCBsPXItYSoodGhpcy50ZXh0X2xpbmUraCk7bGV0IGM9dGhpcy5ub3RlLmdldE1vZGlmaWVyU3RhcnRYWSh0aGlzLnBvc2l0aW9uLHRoaXMuaW5kZXgpLngsdT1NYXRoLm1pbihpLmdldFlGb3JUb3BUZXh0KHRoaXMudGV4dF9saW5lKSxsKTtpZih1Kz10aGlzLnlfc2hpZnQsdGhpcy5kZWxheWVkKXtsZXQgdD0wO2lmKHZvaWQgMCE9PXRoaXMuZGVsYXlYU2hpZnQpdD10aGlzLmRlbGF5WFNoaWZ0O2Vsc2V7dCs9dGhpcy5nbHlwaC5nZXRNZXRyaWNzKCkud2lkdGgvMjtjb25zdCBlPWl0LmdldE5leHRDb250ZXh0KHRoaXMubm90ZS5nZXRUaWNrQ29udGV4dCgpKTt0Kz1lPy41KihlLmdldFgoKS1jKTouNSooaS54K2kud2lkdGgtYyksdGhpcy5kZWxheVhTaGlmdD10fWMrPXR9IWZ1bmN0aW9uKC4uLnQpe3N0LkRFQlVHJiZzLkwoXCJWZXguRmxvdy5Pcm5hbWVudFwiLHQpfShcIlJlbmRlcmluZyBvcm5hbWVudDogXCIsdGhpcy5vcm5hbWVudCxjLHUpLHRoaXMuYWNjaWRlbnRhbExvd2VyJiYodGhpcy5hY2NpZGVudGFsTG93ZXIucmVuZGVyKHQsYyx1KSx1LT10aGlzLmFjY2lkZW50YWxMb3dlci5nZXRNZXRyaWNzKCkuaGVpZ2h0LHUtPXRoaXMucmVuZGVyX29wdGlvbnMuYWNjaWRlbnRhbExvd2VyUGFkZGluZyksdGhpcy5nbHlwaC5yZW5kZXIodCxjLHUpLHUtPXRoaXMuZ2x5cGguZ2V0TWV0cmljcygpLmhlaWdodCx0aGlzLmFjY2lkZW50YWxVcHBlciYmKHUtPXRoaXMucmVuZGVyX29wdGlvbnMuYWNjaWRlbnRhbFVwcGVyUGFkZGluZyx0aGlzLmFjY2lkZW50YWxVcHBlci5yZW5kZXIodCxjLHUpKX19Y2xhc3MgbnQgZXh0ZW5kcyBCe3N0YXRpYyBnZXQgQ0FURUdPUlkoKXtyZXR1cm5cImFubm90YXRpb25zXCJ9c3RhdGljIGdldCBKdXN0aWZ5KCl7cmV0dXJue0xFRlQ6MSxDRU5URVI6MixSSUdIVDozLENFTlRFUl9TVEVNOjR9fXN0YXRpYyBnZXQgSnVzdGlmeVN0cmluZygpe3JldHVybntsZWZ0Om50Lkp1c3RpZnkuTEVGVCxyaWdodDpudC5KdXN0aWZ5LlJJR0hULGNlbnRlcjpudC5KdXN0aWZ5LkNFTlRFUixjZW50ZXJTdGVtOm50Lkp1c3RpZnkuQ0VOVEVSX1NURU19fXN0YXRpYyBnZXQgVmVydGljYWxKdXN0aWZ5KCl7cmV0dXJue1RPUDoxLENFTlRFUjoyLEJPVFRPTTozLENFTlRFUl9TVEVNOjR9fXN0YXRpYyBnZXQgVmVydGljYWxKdXN0aWZ5U3RyaW5nKCl7cmV0dXJue2Fib3ZlOm50LlZlcnRpY2FsSnVzdGlmeS5UT1AsdG9wOm50LlZlcnRpY2FsSnVzdGlmeS5UT1AsYmVsb3c6bnQuVmVydGljYWxKdXN0aWZ5LkJPVFRPTSxib3R0b206bnQuVmVydGljYWxKdXN0aWZ5LkJPVFRPTSxjZW50ZXI6bnQuVmVydGljYWxKdXN0aWZ5LkNFTlRFUixjZW50ZXJTdGVtOm50LlZlcnRpY2FsSnVzdGlmeS5DRU5URVJfU1RFTX19c3RhdGljIGZvcm1hdCh0LGUpe2lmKCF0fHwwPT09dC5sZW5ndGgpcmV0dXJuITE7bGV0IGk9MDtmb3IobGV0IHM9MDtzPHQubGVuZ3RoOysrcyl7Y29uc3Qgbj10W3NdO2k9TWF0aC5tYXgobi5nZXRXaWR0aCgpLGkpLG4uZ2V0UG9zaXRpb24oKT09PUIuUG9zaXRpb24uQUJPVkU/KG4uc2V0VGV4dExpbmUoZS50b3BfdGV4dF9saW5lKSxlLnRvcF90ZXh0X2xpbmUrKyk6KG4uc2V0VGV4dExpbmUoZS50ZXh0X2xpbmUpLGUudGV4dF9saW5lKyspfXJldHVybiBlLmxlZnRfc2hpZnQrPWkvMixlLnJpZ2h0X3NoaWZ0Kz1pLzIsITB9Y29uc3RydWN0b3IodCl7c3VwZXIoKSx0aGlzLnNldEF0dHJpYnV0ZShcInR5cGVcIixcIkFubm90YXRpb25cIiksdGhpcy5ub3RlPW51bGwsdGhpcy5pbmRleD1udWxsLHRoaXMudGV4dD10LHRoaXMuanVzdGlmaWNhdGlvbj1udC5KdXN0aWZ5LkNFTlRFUix0aGlzLnZlcnRfanVzdGlmaWNhdGlvbj1udC5WZXJ0aWNhbEp1c3RpZnkuVE9QLHRoaXMuZm9udD17ZmFtaWx5OlwiQXJpYWxcIixzaXplOjEwLHdlaWdodDpcIlwifSx0aGlzLnNldFdpZHRoKG0udGV4dFdpZHRoKHQpKX1nZXRDYXRlZ29yeSgpe3JldHVybiBudC5DQVRFR09SWX1zZXRGb250KHQsZSxpKXtyZXR1cm4gdGhpcy5mb250PXtmYW1pbHk6dCxzaXplOmUsd2VpZ2h0Oml9LHRoaXN9c2V0VmVydGljYWxKdXN0aWZpY2F0aW9uKHQpe3JldHVybiB0aGlzLnZlcnRfanVzdGlmaWNhdGlvbj1cInN0cmluZ1wiPT10eXBlb2YgdD9udC5WZXJ0aWNhbEp1c3RpZnlTdHJpbmdbdF06dCx0aGlzfWdldEp1c3RpZmljYXRpb24oKXtyZXR1cm4gdGhpcy5qdXN0aWZpY2F0aW9ufXNldEp1c3RpZmljYXRpb24odCl7cmV0dXJuIHRoaXMuanVzdGlmaWNhdGlvbj1cInN0cmluZ1wiPT10eXBlb2YgdD9udC5KdXN0aWZ5U3RyaW5nW3RdOnQsdGhpc31kcmF3KCl7aWYodGhpcy5jaGVja0NvbnRleHQoKSwhdGhpcy5ub3RlKXRocm93IG5ldyBzLlJFUlIoXCJOb05vdGVGb3JBbm5vdGF0aW9uXCIsXCJDYW4ndCBkcmF3IHRleHQgYW5ub3RhdGlvbiB3aXRob3V0IGFuIGF0dGFjaGVkIG5vdGUuXCIpO3RoaXMuc2V0UmVuZGVyZWQoKTtjb25zdCB0PXRoaXMubm90ZS5nZXRNb2RpZmllclN0YXJ0WFkoQi5Qb3NpdGlvbi5BQk9WRSx0aGlzLmluZGV4KTt0aGlzLmNvbnRleHQuc2F2ZSgpLHRoaXMuY29udGV4dC5zZXRGb250KHRoaXMuZm9udC5mYW1pbHksdGhpcy5mb250LnNpemUsdGhpcy5mb250LndlaWdodCk7Y29uc3QgZT10aGlzLmNvbnRleHQubWVhc3VyZVRleHQodGhpcy50ZXh0KS53aWR0aCxpPXRoaXMuY29udGV4dC5tZWFzdXJlVGV4dChcIm1cIikud2lkdGg7bGV0IG4scixvLGE7bj10aGlzLmp1c3RpZmljYXRpb249PT1udC5KdXN0aWZ5LkxFRlQ/dC54OnRoaXMuanVzdGlmaWNhdGlvbj09PW50Lkp1c3RpZnkuUklHSFQ/dC54LWU6dGhpcy5qdXN0aWZpY2F0aW9uPT09bnQuSnVzdGlmeS5DRU5URVI/dC54LWUvMjp0aGlzLm5vdGUuZ2V0U3RlbVgoKS1lLzI7Y29uc3QgaD10aGlzLm5vdGUuaGFzU3RlbSgpLGw9dGhpcy5ub3RlLmdldFN0YXZlKCk7aWYoaCYmKG89dGhpcy5ub3RlLmdldFN0ZW0oKS5nZXRFeHRlbnRzKCksYT1sLmdldFNwYWNpbmdCZXR3ZWVuTGluZXMoKSksdGhpcy52ZXJ0X2p1c3RpZmljYXRpb249PT1udC5WZXJ0aWNhbEp1c3RpZnkuQk9UVE9NKXtpZihyPWwuZ2V0WUZvckJvdHRvbVRleHQodGhpcy50ZXh0X2xpbmUrbS5URVhUX0hFSUdIVF9PRkZTRVRfSEFDSyksaCl7Y29uc3QgdD0xPT09dGhpcy5ub3RlLmdldFN0ZW1EaXJlY3Rpb24oKT9vLmJhc2VZOm8udG9wWTtyPU1hdGgubWF4KHIsdCthKih0aGlzLnRleHRfbGluZSsyKSl9fWVsc2UgaWYodGhpcy52ZXJ0X2p1c3RpZmljYXRpb249PT1udC5WZXJ0aWNhbEp1c3RpZnkuQ0VOVEVSKXtjb25zdCB0PXRoaXMubm90ZS5nZXRZRm9yVG9wVGV4dCh0aGlzLnRleHRfbGluZSktMTtyPXQrKGwuZ2V0WUZvckJvdHRvbVRleHQodGhpcy50ZXh0X2xpbmUpLXQpLzIraS8yfWVsc2UgaWYodGhpcy52ZXJ0X2p1c3RpZmljYXRpb249PT1udC5WZXJ0aWNhbEp1c3RpZnkuVE9QKXI9TWF0aC5taW4obC5nZXRZRm9yVG9wVGV4dCh0aGlzLnRleHRfbGluZSksdGhpcy5ub3RlLmdldFlzKClbMF0tMTApLGgmJihyPU1hdGgubWluKHIsby50b3BZLTUtYSp0aGlzLnRleHRfbGluZSkpO2Vsc2V7Y29uc3QgdD10aGlzLm5vdGUuZ2V0U3RlbUV4dGVudHMoKTtyPXQudG9wWSsodC5iYXNlWS10LnRvcFkpLzIraS8yfSFmdW5jdGlvbiguLi50KXtudC5ERUJVRyYmcy5MKFwiVmV4LkZsb3cuQW5ub3RhdGlvblwiLHQpfShcIlJlbmRlcmluZyBhbm5vdGF0aW9uOiBcIix0aGlzLnRleHQsbixyKSx0aGlzLmNvbnRleHQuZmlsbFRleHQodGhpcy50ZXh0LG4sciksdGhpcy5jb250ZXh0LnJlc3RvcmUoKX19Y2xhc3MgcnQgZXh0ZW5kcyBCe3N0YXRpYyBnZXQgQ0FURUdPUlkoKXtyZXR1cm5cImJlbmRzXCJ9c3RhdGljIGdldCBVUCgpe3JldHVybiAwfXN0YXRpYyBnZXQgRE9XTigpe3JldHVybiAxfXN0YXRpYyBmb3JtYXQodCxlKXtpZighdHx8MD09PXQubGVuZ3RoKXJldHVybiExO2xldCBpPTA7Y29uc3Qgcz1lLnRvcF90ZXh0X2xpbmU7Zm9yKGxldCBlPTA7ZTx0Lmxlbmd0aDsrK2Upe2NvbnN0IG49dFtlXTtuLnNldFhTaGlmdChpKSxpPW4uZ2V0V2lkdGgoKSxuLnNldFRleHRMaW5lKHMpfXJldHVybiBlLnJpZ2h0X3NoaWZ0Kz1pLGUudG9wX3RleHRfbGluZSs9MSwhMH1jb25zdHJ1Y3Rvcih0LGUsaSl7c3VwZXIoKSx0aGlzLnNldEF0dHJpYnV0ZShcInR5cGVcIixcIkJlbmRcIiksdGhpcy50ZXh0PXQsdGhpcy54X3NoaWZ0PTAsdGhpcy5yZWxlYXNlPWV8fCExLHRoaXMuZm9udD1cIjEwcHQgQXJpYWxcIix0aGlzLnJlbmRlcl9vcHRpb25zPXtsaW5lX3dpZHRoOjEuNSxsaW5lX3N0eWxlOlwiIzc3Nzc3N1wiLGJlbmRfd2lkdGg6OCxyZWxlYXNlX3dpZHRoOjh9LGk/dGhpcy5waHJhc2U9aToodGhpcy5waHJhc2U9W3t0eXBlOnJ0LlVQLHRleHQ6dGhpcy50ZXh0fV0sdGhpcy5yZWxlYXNlJiZ0aGlzLnBocmFzZS5wdXNoKHt0eXBlOnJ0LkRPV04sdGV4dDpcIlwifSkpLHRoaXMudXBkYXRlV2lkdGgoKX1nZXRDYXRlZ29yeSgpe3JldHVybiBydC5DQVRFR09SWX1zZXRYU2hpZnQodCl7dGhpcy54X3NoaWZ0PXQsdGhpcy51cGRhdGVXaWR0aCgpfXNldEZvbnQodCl7cmV0dXJuIHRoaXMuZm9udD10LHRoaXN9Z2V0VGV4dCgpe3JldHVybiB0aGlzLnRleHR9dXBkYXRlV2lkdGgoKXtjb25zdCB0PXRoaXM7ZnVuY3Rpb24gZShlKXtsZXQgaTtyZXR1cm4gaT10LmNvbnRleHQ/dC5jb250ZXh0Lm1lYXN1cmVUZXh0KGUpLndpZHRoOm0udGV4dFdpZHRoKGUpLGl9bGV0IGk9MDtmb3IobGV0IHQ9MDt0PHRoaXMucGhyYXNlLmxlbmd0aDsrK3Qpe2NvbnN0IG49dGhpcy5waHJhc2VbdF07aWYoXCJ3aWR0aFwiaW4gbilpKz1uLndpZHRoO2Vsc2V7Y29uc3QgdD1uLnR5cGU9PT1ydC5VUD90aGlzLnJlbmRlcl9vcHRpb25zLmJlbmRfd2lkdGg6dGhpcy5yZW5kZXJfb3B0aW9ucy5yZWxlYXNlX3dpZHRoO24ud2lkdGg9cy5NYXgodCxlKG4udGV4dCkpKzMsbi5kcmF3X3dpZHRoPW4ud2lkdGgvMixpKz1uLndpZHRofX1yZXR1cm4gdGhpcy5zZXRXaWR0aChpK3RoaXMueF9zaGlmdCksdGhpc31kcmF3KCl7aWYodGhpcy5jaGVja0NvbnRleHQoKSwhdGhpcy5ub3RlfHxudWxsPT10aGlzLmluZGV4KXRocm93IG5ldyBzLlJFUlIoXCJOb05vdGVGb3JCZW5kXCIsXCJDYW4ndCBkcmF3IGJlbmQgd2l0aG91dCBhIG5vdGUgb3IgaW5kZXguXCIpO3RoaXMuc2V0UmVuZGVyZWQoKTtjb25zdCB0PXRoaXMubm90ZS5nZXRNb2RpZmllclN0YXJ0WFkoQi5Qb3NpdGlvbi5SSUdIVCx0aGlzLmluZGV4KTt0LngrPTMsdC55Kz0uNTtjb25zdCBlPXRoaXMueF9zaGlmdCxpPXRoaXMuY29udGV4dCxuPXRoaXMubm90ZS5nZXRTdGF2ZSgpLmdldFlGb3JUb3BUZXh0KHRoaXMudGV4dF9saW5lKSszLHI9dGhpcy5ub3RlLmdldFN0YXZlKCkuZ2V0WUZvclRvcFRleHQodGhpcy50ZXh0X2xpbmUpLTEsbz10aGlzO2Z1bmN0aW9uIGEodCxlLHMsbil7Y29uc3Qgcj10K3MsYT1lO2kuc2F2ZSgpLGkuYmVnaW5QYXRoKCksaS5zZXRMaW5lV2lkdGgoby5yZW5kZXJfb3B0aW9ucy5saW5lX3dpZHRoKSxpLnNldFN0cm9rZVN0eWxlKG8ucmVuZGVyX29wdGlvbnMubGluZV9zdHlsZSksaS5zZXRGaWxsU3R5bGUoby5yZW5kZXJfb3B0aW9ucy5saW5lX3N0eWxlKSxpLm1vdmVUbyh0LGUpLGkucXVhZHJhdGljQ3VydmVUbyhyLGEsdCtzLG4pLGkuc3Ryb2tlKCksaS5yZXN0b3JlKCl9ZnVuY3Rpb24gaCh0LGUscyxuKXtpLnNhdmUoKSxpLmJlZ2luUGF0aCgpLGkuc2V0TGluZVdpZHRoKG8ucmVuZGVyX29wdGlvbnMubGluZV93aWR0aCksaS5zZXRTdHJva2VTdHlsZShvLnJlbmRlcl9vcHRpb25zLmxpbmVfc3R5bGUpLGkuc2V0RmlsbFN0eWxlKG8ucmVuZGVyX29wdGlvbnMubGluZV9zdHlsZSksaS5tb3ZlVG8odCxuKSxpLnF1YWRyYXRpY0N1cnZlVG8odCtzLG4sdCtzLGUpLGkuc3Ryb2tlKCksaS5yZXN0b3JlKCl9ZnVuY3Rpb24gbCh0LGUscyl7Y29uc3Qgbj1zfHwxO2kuYmVnaW5QYXRoKCksaS5tb3ZlVG8odCxlKSxpLmxpbmVUbyh0LTQsZSs0Km4pLGkubGluZVRvKHQrNCxlKzQqbiksaS5jbG9zZVBhdGgoKSxpLmZpbGwoKX1mdW5jdGlvbiBjKHQsZSl7aS5zYXZlKCksaS5zZXRSYXdGb250KG8uZm9udCk7Y29uc3Qgcz10LWkubWVhc3VyZVRleHQoZSkud2lkdGgvMjtpLmZpbGxUZXh0KGUscyxyKSxpLnJlc3RvcmUoKX1sZXQgdT1udWxsLGQ9MDtmb3IobGV0IGk9MDtpPHRoaXMucGhyYXNlLmxlbmd0aDsrK2kpe2NvbnN0IHM9dGhpcy5waHJhc2VbaV07MD09PWkmJihzLmRyYXdfd2lkdGgrPWUpLGQ9cy5kcmF3X3dpZHRoKyh1P3UuZHJhd193aWR0aDowKS0oMT09PWk/ZTowKSxzLnR5cGU9PT1ydC5VUCYmKHUmJnUudHlwZT09PXJ0LlVQJiZsKHQueCxuKSxhKHQueCx0LnksZCxuKSkscy50eXBlPT09cnQuRE9XTiYmKHUmJnUudHlwZT09PXJ0LlVQJiZoKHQueCx0LnksZCxuKSx1JiZ1LnR5cGU9PT1ydC5ET1dOJiYobCh0LngsdC55LC0xKSxoKHQueCx0LnksZCxuKSksbnVsbD09PXUmJihkPXMuZHJhd193aWR0aCxoKHQueCx0LnksZCxuKSkpLGModC54K2Qscy50ZXh0KSx1PXMsdS54PXQueCx0LngrPWR9dS50eXBlPT09cnQuVVA/bCh1LngrZCxuKTp1LnR5cGU9PT1ydC5ET1dOJiZsKHUueCtkLHQueSwtMSl9fWNsYXNzIG90IGV4dGVuZHMgQntzdGF0aWMgZ2V0IENBVEVHT1JZKCl7cmV0dXJuXCJ2aWJyYXRvc1wifXN0YXRpYyBmb3JtYXQodCxlLGkpe2lmKCF0fHwwPT09dC5sZW5ndGgpcmV0dXJuITE7bGV0IHM9ZS50b3BfdGV4dF9saW5lLG49MCxyPWUucmlnaHRfc2hpZnQtNztjb25zdCBvPWkuZ2V0TW9kaWZpZXJzKHJ0LkNBVEVHT1JZKTtvJiZvLmxlbmd0aD4wJiZzLS07Zm9yKGxldCBlPTA7ZTx0Lmxlbmd0aDsrK2Upe2NvbnN0IGk9dFtlXTtpLnNldFhTaGlmdChyKSxpLnNldFRleHRMaW5lKHMpLG4rPWkuZ2V0V2lkdGgoKSxyKz1ufXJldHVybiBlLnJpZ2h0X3NoaWZ0Kz1uLGUudG9wX3RleHRfbGluZSs9MSwhMH1jb25zdHJ1Y3Rvcigpe3N1cGVyKCksdGhpcy5zZXRBdHRyaWJ1dGUoXCJ0eXBlXCIsXCJWaWJyYXRvXCIpLHRoaXMucG9zaXRpb249Qi5Qb3NpdGlvbi5SSUdIVCx0aGlzLnJlbmRlcl9vcHRpb25zPXtoYXJzaDohMSx2aWJyYXRvX3dpZHRoOjIwLHdhdmVfaGVpZ2h0OjYsd2F2ZV93aWR0aDo0LHdhdmVfZ2lydGg6Mn0sdGhpcy5zZXRWaWJyYXRvV2lkdGgodGhpcy5yZW5kZXJfb3B0aW9ucy52aWJyYXRvX3dpZHRoKX1nZXRDYXRlZ29yeSgpe3JldHVybiBvdC5DQVRFR09SWX1zZXRIYXJzaCh0KXtyZXR1cm4gdGhpcy5yZW5kZXJfb3B0aW9ucy5oYXJzaD10LHRoaXN9c2V0VmlicmF0b1dpZHRoKHQpe3JldHVybiB0aGlzLnJlbmRlcl9vcHRpb25zLnZpYnJhdG9fd2lkdGg9dCx0aGlzLnNldFdpZHRoKHQpLHRoaXN9ZHJhdygpe2NvbnN0IHQ9dGhpcy5jaGVja0NvbnRleHQoKTtpZighdGhpcy5ub3RlKXRocm93IG5ldyBzLlJFUlIoXCJOb05vdGVGb3JWaWJyYXRvXCIsXCJDYW4ndCBkcmF3IHZpYnJhdG8gd2l0aG91dCBhbiBhdHRhY2hlZCBub3RlLlwiKTt0aGlzLnNldFJlbmRlcmVkKCk7Y29uc3QgZT10aGlzLm5vdGUuZ2V0TW9kaWZpZXJTdGFydFhZKEIuUG9zaXRpb24uUklHSFQsdGhpcy5pbmRleCkueCt0aGlzLnhfc2hpZnQsaT10aGlzLm5vdGUuZ2V0WUZvclRvcFRleHQodGhpcy50ZXh0X2xpbmUpKzI7b3QucmVuZGVyVmlicmF0byh0LGUsaSx0aGlzLnJlbmRlcl9vcHRpb25zKX1zdGF0aWMgcmVuZGVyVmlicmF0byh0LGUsaSxzKXtjb25zdHtoYXJzaDpuLHZpYnJhdG9fd2lkdGg6cix3YXZlX3dpZHRoOm8sd2F2ZV9naXJ0aDphLHdhdmVfaGVpZ2h0Omh9PXMsbD1yL287bGV0IGM7aWYodC5iZWdpblBhdGgoKSxuKXtmb3IodC5tb3ZlVG8oZSxpK2ErMSksYz0wO2M8bC8yOysrYyl0LmxpbmVUbyhlK28saS1oLzIpLGUrPW8sdC5saW5lVG8oZStvLGkraC8yKSxlKz1vO2ZvcihjPTA7YzxsLzI7KytjKXQubGluZVRvKGUtbyxpLWgvMithKzEpLGUtPW8sdC5saW5lVG8oZS1vLGkraC8yK2ErMSksZS09bzt0LmZpbGwoKX1lbHNle2Zvcih0Lm1vdmVUbyhlLGkrYSksYz0wO2M8bC8yOysrYyl0LnF1YWRyYXRpY0N1cnZlVG8oZStvLzIsaS1oLzIsZStvLGkpLGUrPW8sdC5xdWFkcmF0aWNDdXJ2ZVRvKGUrby8yLGkraC8yLGUrbyxpKSxlKz1vO2ZvcihjPTA7YzxsLzI7KytjKXQucXVhZHJhdGljQ3VydmVUbyhlLW8vMixpK2gvMithLGUtbyxpK2EpLGUtPW8sdC5xdWFkcmF0aWNDdXJ2ZVRvKGUtby8yLGktaC8yK2EsZS1vLGkrYSksZS09bzt0LmZpbGwoKX19fWZ1bmN0aW9uIGF0KC4uLnQpe2h0LkRFQlVHJiZzLkwoXCJWZXguRmxvdy5Nb2RpZmllckNvbnRleHRcIix0KX1jbGFzcyBodHtjb25zdHJ1Y3Rvcigpe3RoaXMubW9kaWZpZXJzPXt9LHRoaXMucHJlRm9ybWF0dGVkPSExLHRoaXMucG9zdEZvcm1hdHRlZD0hMSx0aGlzLndpZHRoPTAsdGhpcy5zcGFjaW5nPTAsdGhpcy5zdGF0ZT17bGVmdF9zaGlmdDowLHJpZ2h0X3NoaWZ0OjAsdGV4dF9saW5lOjAsdG9wX3RleHRfbGluZTowfSx0aGlzLlBSRUZPUk1BVD1bayxGLE8seixqLFgsVSxLLGV0LHN0LG50LHJ0LG90XSx0aGlzLlBPU1RGT1JNQVQ9W2tdfWFkZE1vZGlmaWVyKHQpe2NvbnN0IGU9dC5nZXRDYXRlZ29yeSgpO3JldHVybiB0aGlzLm1vZGlmaWVyc1tlXXx8KHRoaXMubW9kaWZpZXJzW2VdPVtdKSx0aGlzLm1vZGlmaWVyc1tlXS5wdXNoKHQpLHQuc2V0TW9kaWZpZXJDb250ZXh0KHRoaXMpLHRoaXMucHJlRm9ybWF0dGVkPSExLHRoaXN9Z2V0TW9kaWZpZXJzKHQpe3JldHVybiB0aGlzLm1vZGlmaWVyc1t0XX1nZXRXaWR0aCgpe3JldHVybiB0aGlzLndpZHRofWdldEV4dHJhTGVmdFB4KCl7cmV0dXJuIHRoaXMuc3RhdGUubGVmdF9zaGlmdH1nZXRFeHRyYVJpZ2h0UHgoKXtyZXR1cm4gdGhpcy5zdGF0ZS5yaWdodF9zaGlmdH1nZXRTdGF0ZSgpe3JldHVybiB0aGlzLnN0YXRlfWdldE1ldHJpY3MoKXtpZighdGhpcy5mb3JtYXR0ZWQpdGhyb3cgbmV3IHMuUkVSUihcIlVuZm9ybWF0dGVkTW9kaWZpZXJcIixcIlVuZm9ybWF0dGVkIG1vZGlmaWVyIGhhcyBubyBtZXRyaWNzLlwiKTtyZXR1cm57d2lkdGg6dGhpcy5zdGF0ZS5sZWZ0X3NoaWZ0K3RoaXMuc3RhdGUucmlnaHRfc2hpZnQrdGhpcy5zcGFjaW5nLHNwYWNpbmc6dGhpcy5zcGFjaW5nLGV4dHJhX2xlZnRfcHg6dGhpcy5zdGF0ZS5sZWZ0X3NoaWZ0LGV4dHJhX3JpZ2h0X3B4OnRoaXMuc3RhdGUucmlnaHRfc2hpZnR9fXByZUZvcm1hdCgpe3RoaXMucHJlRm9ybWF0dGVkfHwodGhpcy5QUkVGT1JNQVQuZm9yRWFjaCh0PT57YXQoXCJQcmVmb3JtYXR0aW5nIE1vZGlmaWVyQ29udGV4dDogXCIsdC5DQVRFR09SWSksdC5mb3JtYXQodGhpcy5nZXRNb2RpZmllcnModC5DQVRFR09SWSksdGhpcy5zdGF0ZSx0aGlzKX0pLHRoaXMud2lkdGg9dGhpcy5zdGF0ZS5sZWZ0X3NoaWZ0K3RoaXMuc3RhdGUucmlnaHRfc2hpZnQsdGhpcy5wcmVGb3JtYXR0ZWQ9ITApfXBvc3RGb3JtYXQoKXt0aGlzLnBvc3RGb3JtYXR0ZWR8fHRoaXMuUE9TVEZPUk1BVC5mb3JFYWNoKHQ9PnthdChcIlBvc3Rmb3JtYXR0aW5nIE1vZGlmaWVyQ29udGV4dDogXCIsdC5DQVRFR09SWSksdC5wb3N0Rm9ybWF0KHRoaXMuZ2V0TW9kaWZpZXJzKHQuQ0FURUdPUlkpLHRoaXMpfSl9fWZ1bmN0aW9uIGx0KHQsZSxpLG4pe2xldCByPWU7Zm9yKGkrPTE7aTx0Lmxlbmd0aDtpKz0xKXtjb25zdCBlPXRbaV07aWYoIWUuaXNSZXN0KCkmJiFlLnNob3VsZElnbm9yZVRpY2tzKCkpe3I9ZS5nZXRMaW5lRm9yUmVzdCgpO2JyZWFrfX1pZihuJiZlIT09cil7Y29uc3QgdD1NYXRoLm1heChlLHIpLGk9TWF0aC5taW4oZSxyKTtyPXMuTWlkTGluZSh0LGkpfXJldHVybiByfWZ1bmN0aW9uIGN0KHQsZSxpKXtpZighdHx8IXQubGVuZ3RoKXRocm93IG5ldyBzLlJFUlIoXCJCYWRBcmd1bWVudFwiLFwiTm8gdm9pY2VzIHRvIGZvcm1hdFwiKTtjb25zdCByPXRbMF0uZ2V0VG90YWxUaWNrcygpLG89dC5yZWR1Y2UoKHQsZSk9PntpZighZS5nZXRUb3RhbFRpY2tzKCkuZXF1YWxzKHIpKXRocm93IG5ldyBzLlJFUlIoXCJUaWNrTWlzbWF0Y2hcIixcIlZvaWNlcyBzaG91bGQgaGF2ZSBzYW1lIHRvdGFsIG5vdGUgZHVyYXRpb24gaW4gdGlja3MuXCIpO2lmKGUuZ2V0TW9kZSgpPT09UC5Nb2RlLlNUUklDVCYmIWUuaXNDb21wbGV0ZSgpKXRocm93IG5ldyBzLlJFUlIoXCJJbmNvbXBsZXRlVm9pY2VcIixcIlZvaWNlIGRvZXMgbm90IGhhdmUgZW5vdWdoIG5vdGVzLlwiKTtyZXR1cm4gTWF0aC5tYXgodCxuLkxDTSh0LGUuZ2V0UmVzb2x1dGlvbk11bHRpcGxpZXIoKSkpfSwxKSxhPXt9LGg9W10sbD1bXTtyZXR1cm4gdC5mb3JFYWNoKHQ9Pntjb25zdCBzPW5ldyBuKDAsbyk7dC5nZXRUaWNrYWJsZXMoKS5mb3JFYWNoKHQ9Pntjb25zdCBuPXMubnVtZXJhdG9yO2lmKCFhW25dKXtjb25zdCB0PW5ldyBlO2wucHVzaCh0KSxhW25dPXR9aSh0LGFbbl0pLGgucHVzaChuKSxzLmFkZCh0LmdldFRpY2tzKCkpfSl9KSx7bWFwOmEsYXJyYXk6bCxsaXN0OnMuU29ydEFuZFVuaXF1ZShoLCh0LGUpPT50LWUsKHQsZSk9PnQ9PT1lKSxyZXNvbHV0aW9uTXVsdGlwbGllcjpvfX1jbGFzcyB1dHtzdGF0aWMgU2ltcGxlRm9ybWF0KHQsZT0wLHtwYWRkaW5nQmV0d2VlbjppPTEwfT17fSl7dC5yZWR1Y2UoKHQsZSk9PntlLmFkZFRvTW9kaWZpZXJDb250ZXh0KG5ldyBodCk7Y29uc3Qgcz0obmV3IGl0KS5hZGRUaWNrYWJsZShlKS5wcmVGb3JtYXQoKSxuPXMuZ2V0RXh0cmFQeCgpO3JldHVybiBzLnNldFgodCtuLmxlZnQpLHQrcy5nZXRXaWR0aCgpK24ucmlnaHQraX0sZSl9c3RhdGljIHBsb3REZWJ1Z2dpbmcodCxlLGkscyxuKXtjb25zdCByPWkrQy5TVEFWRVBBRERJTkcsbz1lLmNvbnRleHRHYXBzO3Quc2F2ZSgpLHQuc2V0Rm9udChcIkFyaWFsXCIsOCxcIlwiKSxvLmdhcHMuZm9yRWFjaChlPT57dmFyIGksbyxhO2k9citlLngxLG89citlLngyLGE9XCIjYWFhXCIsdC5iZWdpblBhdGgoKSx0LnNldFN0cm9rZVN0eWxlKGEpLHQuc2V0RmlsbFN0eWxlKGEpLHQuc2V0TGluZVdpZHRoKDEpLHQuZmlsbFJlY3QoaSxzLG8taSxuLXMpLHQuZmlsbFRleHQoTWF0aC5yb3VuZChlLngyLWUueDEpLHIrZS54MSxuKzEyKX0pLHQuZmlsbFRleHQoTWF0aC5yb3VuZChvLnRvdGFsKStcInB4XCIsci0yMCxuKzEyKSx0LnNldEZpbGxTdHlsZShcInJlZFwiKSx0LmZpbGxUZXh0KFwiTG9zczogXCIrZS5sb3NzSGlzdG9yeS5tYXAodD0+TWF0aC5yb3VuZCh0KSksci0yMCxuKzIyKSx0LnJlc3RvcmUoKX1zdGF0aWMgRm9ybWF0QW5kRHJhdyh0LGUsaSxuKXtjb25zdCByPXthdXRvX2JlYW06ITEsYWxpZ25fcmVzdHM6ITF9O1wib2JqZWN0XCI9PXR5cGVvZiBuP3MuTWVyZ2UocixuKTpcImJvb2xlYW5cIj09dHlwZW9mIG4mJihyLmF1dG9fYmVhbT1uKTtjb25zdCBvPW5ldyBQKG0uVElNRTRfNCkuc2V0TW9kZShQLk1vZGUuU09GVCkuYWRkVGlja2FibGVzKGkpLGE9ci5hdXRvX2JlYW0/VC5hcHBseUFuZEdldEJlYW1zKG8pOltdO3JldHVybihuZXcgdXQpLmpvaW5Wb2ljZXMoW29dLHthbGlnbl9yZXN0czpyLmFsaWduX3Jlc3RzfSkuZm9ybWF0VG9TdGF2ZShbb10sZSx7YWxpZ25fcmVzdHM6ci5hbGlnbl9yZXN0cyxzdGF2ZTplfSksby5zZXRTdGF2ZShlKS5kcmF3KHQsZSksYS5mb3JFYWNoKGU9PmUuc2V0Q29udGV4dCh0KS5kcmF3KCkpLG8uZ2V0Qm91bmRpbmdCb3goKX1zdGF0aWMgRm9ybWF0QW5kRHJhd1RhYih0LGUsaSxuLHIsbyxhKXtjb25zdCBoPXthdXRvX2JlYW06byxhbGlnbl9yZXN0czohMX07XCJvYmplY3RcIj09dHlwZW9mIGE/cy5NZXJnZShoLGEpOlwiYm9vbGVhblwiPT10eXBlb2YgYSYmKGguYXV0b19iZWFtPWEpO2NvbnN0IGw9bmV3IFAobS5USU1FNF80KS5zZXRNb2RlKFAuTW9kZS5TT0ZUKS5hZGRUaWNrYWJsZXMociksYz1uZXcgUChtLlRJTUU0XzQpLnNldE1vZGUoUC5Nb2RlLlNPRlQpLmFkZFRpY2thYmxlcyhuKSx1PWguYXV0b19iZWFtP1QuYXBwbHlBbmRHZXRCZWFtcyhsKTpbXTsobmV3IHV0KS5qb2luVm9pY2VzKFtsXSx7YWxpZ25fcmVzdHM6aC5hbGlnbl9yZXN0c30pLmpvaW5Wb2ljZXMoW2NdKS5mb3JtYXRUb1N0YXZlKFtsLGNdLGkse2FsaWduX3Jlc3RzOmguYWxpZ25fcmVzdHN9KSxsLmRyYXcodCxpKSxjLmRyYXcodCxlKSx1LmZvckVhY2goZT0+ZS5zZXRDb250ZXh0KHQpLmRyYXcoKSksbmV3IEEoaSxlKS5zZXRDb250ZXh0KHQpLmRyYXcoKX1zdGF0aWMgQWxpZ25SZXN0c1RvTm90ZXModCxlLGkpe3JldHVybiB0LmZvckVhY2goKHMsbik9PntpZihzIGluc3RhbmNlb2YgayYmcy5pc1Jlc3QoKSl7aWYocy50dXBsZXQmJiFpKXJldHVybjtjb25zdCByPXMuZ2V0R2x5cGgoKS5wb3NpdGlvbi50b1VwcGVyQ2FzZSgpO2lmKFwiUi80XCIhPT1yJiZcIkIvNFwiIT09cilyZXR1cm47aWYoZXx8bnVsbCE9cy5iZWFtKXtjb25zdCBlPXMuZ2V0S2V5UHJvcHMoKVswXTtpZigwPT09billLmxpbmU9bHQodCxlLmxpbmUsbiwhMSkscy5zZXRLZXlMaW5lKDAsZS5saW5lKTtlbHNlIGlmKG4+MCYmbjx0Lmxlbmd0aCl7bGV0IGk7dFtuLTFdLmlzUmVzdCgpPyhpPXRbbi0xXS5nZXRLZXlQcm9wcygpWzBdLmxpbmUsZS5saW5lPWkpOihpPXRbbi0xXS5nZXRMaW5lRm9yUmVzdCgpLGUubGluZT1sdCh0LGksbiwhMCkpLHMuc2V0S2V5TGluZSgwLGUubGluZSl9fX19KSx0aGlzfWNvbnN0cnVjdG9yKCl7dGhpcy5taW5Ub3RhbFdpZHRoPTAsdGhpcy5oYXNNaW5Ub3RhbFdpZHRoPSExLHRoaXMudG90YWxUaWNrcz1uZXcgbigwLDEpLHRoaXMudGlja0NvbnRleHRzPW51bGwsdGhpcy5tb2RpZmVyQ29udGV4dHM9bnVsbCx0aGlzLmNvbnRleHRHYXBzPXt0b3RhbDowLGdhcHM6W119LHRoaXMudm9pY2VzPVtdfWFsaWduUmVzdHModCxlKXtpZighdHx8IXQubGVuZ3RoKXRocm93IG5ldyBzLlJFUlIoXCJCYWRBcmd1bWVudFwiLFwiTm8gdm9pY2VzIHRvIGZvcm1hdCByZXN0c1wiKTt0LmZvckVhY2godD0+dXQuQWxpZ25SZXN0c1RvTm90ZXModC5nZXRUaWNrYWJsZXMoKSxlKSl9cHJlQ2FsY3VsYXRlTWluVG90YWxXaWR0aCh0KXtpZih0aGlzLmhhc01pblRvdGFsV2lkdGgpcmV0dXJuIHRoaXMubWluVG90YWxXaWR0aDtpZighdGhpcy50aWNrQ29udGV4dHMpe2lmKCF0KXRocm93IG5ldyBzLlJFUlIoXCJCYWRBcmd1bWVudFwiLFwiJ3ZvaWNlcycgcmVxdWlyZWQgdG8gcnVuIHByZUNhbGN1bGF0ZU1pblRvdGFsV2lkdGhcIik7dGhpcy5jcmVhdGVUaWNrQ29udGV4dHModCl9Y29uc3R7bGlzdDplLG1hcDppfT10aGlzLnRpY2tDb250ZXh0cztyZXR1cm4gdGhpcy5taW5Ub3RhbFdpZHRoPWUubWFwKHQ9Pntjb25zdCBlPWlbdF07cmV0dXJuIGUucHJlRm9ybWF0KCksZS5nZXRXaWR0aCgpfSkucmVkdWNlKCh0LGUpPT50K2UsMCksdGhpcy5oYXNNaW5Ub3RhbFdpZHRoPSEwLHRoaXMubWluVG90YWxXaWR0aH1nZXRNaW5Ub3RhbFdpZHRoKCl7aWYoIXRoaXMuaGFzTWluVG90YWxXaWR0aCl0aHJvdyBuZXcgcy5SRVJSKFwiTm9NaW5Ub3RhbFdpZHRoXCIsXCJDYWxsICdwcmVDYWxjdWxhdGVNaW5Ub3RhbFdpZHRoJyBvciAncHJlRm9ybWF0JyBiZWZvcmUgY2FsbGluZyAnZ2V0TWluVG90YWxXaWR0aCdcIik7cmV0dXJuIHRoaXMubWluVG90YWxXaWR0aH1jcmVhdGVNb2RpZmllckNvbnRleHRzKHQpe2NvbnN0IGU9Y3QodCxodCwodCxlKT0+dC5hZGRUb01vZGlmaWVyQ29udGV4dChlKSk7cmV0dXJuIHRoaXMubW9kaWZlckNvbnRleHRzPWUsZX1jcmVhdGVUaWNrQ29udGV4dHModCl7Y29uc3QgZT1jdCh0LGl0LCh0LGUpPT5lLmFkZFRpY2thYmxlKHQpKTtyZXR1cm4gZS5hcnJheS5mb3JFYWNoKHQ9Pnt0LnRDb250ZXh0cz1lLmFycmF5fSksdGhpcy50b3RhbFRpY2tzPXRbMF0uZ2V0VGlja3NVc2VkKCkuY2xvbmUoKSx0aGlzLnRpY2tDb250ZXh0cz1lLGV9cHJlRm9ybWF0KHQ9MCxlLGkscyl7Y29uc3Qgbj10aGlzLnRpY2tDb250ZXh0cyx7bGlzdDpyLG1hcDpvLHJlc29sdXRpb25NdWx0aXBsaWVyOmF9PW47aSYmcyYmaS5mb3JFYWNoKHQ9PnQuc2V0U3RhdmUocykucHJlRm9ybWF0KCkpO2xldCBoPTAsbD0wO2NvbnN0IGM9dC8yO2lmKHRoaXMubWluVG90YWxXaWR0aD0wLHIuZm9yRWFjaCh0PT57Y29uc3QgaT1vW3RdO2UmJmkuc2V0Q29udGV4dChlKSxpLnByZUZvcm1hdCgpO2NvbnN0IHM9aS5nZXRXaWR0aCgpO3RoaXMubWluVG90YWxXaWR0aCs9cztjb25zdCBuPWkuZ2V0TWV0cmljcygpO2g9aCtsK24uZXh0cmFMZWZ0UHgsaS5zZXRYKGgpLGw9cy1uLmV4dHJhTGVmdFB4fSksdGhpcy5taW5Ub3RhbFdpZHRoPWgrbCx0aGlzLmhhc01pblRvdGFsV2lkdGg9ITAsdDw9MClyZXR1cm47Y29uc3QgdT0odC10aGlzLm1pblRvdGFsV2lkdGgpLyh0aGlzLnRvdGFsVGlja3MudmFsdWUoKSphKTtsZXQgZD0wO3IuZm9yRWFjaCgodCxlKT0+e2NvbnN0IGk9cltlLTFdfHwwLHM9b1t0XTtkKz0odC1pKSp1LHMuc2V0WChzLmdldFgoKStkKSxzLmdldENlbnRlckFsaWduZWRUaWNrYWJsZXMoKS5mb3JFYWNoKHQ9Pnt0LmNlbnRlcl94X3NoaWZ0PWMtcy5nZXRYKCl9KX0pLDEhPT1yLmxlbmd0aCYmKHRoaXMuanVzdGlmeVdpZHRoPXQsdGhpcy5sb3NzSGlzdG9yeT1bXSx0aGlzLmV2YWx1YXRlKCkpfWV2YWx1YXRlKCl7Y29uc3QgdD10aGlzLmp1c3RpZnlXaWR0aDt0aGlzLmNvbnRleHRHYXBzPXt0b3RhbDowLGdhcHM6W119LHRoaXMudGlja0NvbnRleHRzLmxpc3QuZm9yRWFjaCgodCxlKT0+e2lmKDA9PT1lKXJldHVybjtjb25zdCBpPXRoaXMudGlja0NvbnRleHRzLmxpc3RbZS0xXSxzPXRoaXMudGlja0NvbnRleHRzLm1hcFtpXSxuPXRoaXMudGlja0NvbnRleHRzLm1hcFt0XSxyPXMuZ2V0TWV0cmljcygpLG89cy5nZXRYKCkrci53aWR0aCxhPW4uZ2V0WCgpLGg9YS1vO3RoaXMuY29udGV4dEdhcHMudG90YWwrPWgsdGhpcy5jb250ZXh0R2Fwcy5nYXBzLnB1c2goe3gxOm8seDI6YX0pLG4uZ2V0Rm9ybWF0dGVyTWV0cmljcygpLmZyZWVkb20ubGVmdD1oLHMuZ2V0Rm9ybWF0dGVyTWV0cmljcygpLmZyZWVkb20ucmlnaHQ9aH0pO2NvbnN0IGU9dGhpcy5kdXJhdGlvblN0YXRzPXt9O3RoaXMudm9pY2VzLmZvckVhY2goaT0+e2kuZ2V0VGlja2FibGVzKCkuZm9yRWFjaCgoaSxzLG4pPT57Y29uc3Qgcj1pLmdldFRpY2tzKCkuY2xvbmUoKS5zaW1wbGlmeSgpLnRvU3RyaW5nKCksbz1pLmdldE1ldHJpY3MoKSxhPWkuZ2V0Rm9ybWF0dGVyTWV0cmljcygpLGg9aS5nZXRYKCkrby5ub3RlV2lkdGgrby5tb2RSaWdodFB4K28uZXh0cmFSaWdodFB4O2xldCBsPTA7aWYoczxuLmxlbmd0aC0xKXtjb25zdCB0PW5bcysxXSxlPXQuZ2V0TWV0cmljcygpO2w9dC5nZXRYKCktZS5tb2RMZWZ0UHgtZS5leHRyYUxlZnRQeC1oLGEuc3BhY2UudXNlZD10LmdldFgoKS1pLmdldFgoKSx0LmdldEZvcm1hdHRlck1ldHJpY3MoKS5mcmVlZG9tLmxlZnQ9bH1lbHNlIGw9dC1oLGEuc3BhY2UudXNlZD10LWkuZ2V0WCgpO2EuZnJlZWRvbS5yaWdodD1sLGZ1bmN0aW9uKHQsaSl7Y29uc3Qgcz1lW3RdO3ZvaWQgMD09PXM/ZVt0XT17bWVhbjppLGNvdW50OjF9OihzLmNvdW50Kz0xLHMubWVhbj0ocy5tZWFuK2kpLzIpfShyLGEuc3BhY2UudXNlZCl9KX0pO2xldCBpPTA7cmV0dXJuIHRoaXMudm9pY2VzLmZvckVhY2godD0+e3QuZ2V0VGlja2FibGVzKCkuZm9yRWFjaCh0PT57Y29uc3Qgcz10LmdldFRpY2tzKCkuY2xvbmUoKS5zaW1wbGlmeSgpLnRvU3RyaW5nKCksbj10LmdldEZvcm1hdHRlck1ldHJpY3MoKTtuLml0ZXJhdGlvbnMrPTEsbi5zcGFjZS5kZXZpYXRpb249bi5zcGFjZS51c2VkLWVbc10ubWVhbixuLmR1cmF0aW9uPXMsbi5zcGFjZS5tZWFuPWVbc10ubWVhbixpKz1NYXRoLnBvdyhlW3NdLm1lYW4sMil9KX0pLHRoaXMudG90YWxDb3N0PU1hdGguc3FydChpKSx0aGlzLmxvc3NIaXN0b3J5LnB1c2godGhpcy50b3RhbENvc3QpLHRoaXN9dHVuZSgpe2xldCB0PTA7cmV0dXJuIHRoaXMudGlja0NvbnRleHRzLmxpc3QuZm9yRWFjaCgoZSxpLHMpPT57Y29uc3Qgbj10aGlzLnRpY2tDb250ZXh0cy5tYXBbZV0scj1pPjA/dGhpcy50aWNrQ29udGV4dHMubWFwW3NbaS0xXV06bnVsbCxvPWk8cy5sZW5ndGgtMT90aGlzLnRpY2tDb250ZXh0cy5tYXBbc1tpKzFdXTpudWxsOyFmdW5jdGlvbih0LGUsaSxzKXt0LnNldFgodC5nZXRYKCkrcyksdC5nZXRGb3JtYXR0ZXJNZXRyaWNzKCkuZnJlZWRvbS5sZWZ0Kz1zLHQuZ2V0Rm9ybWF0dGVyTWV0cmljcygpLmZyZWVkb20ucmlnaHQtPXMsZSYmKGUuZ2V0Rm9ybWF0dGVyTWV0cmljcygpLmZyZWVkb20ucmlnaHQrPXMpLGkmJihpLmdldEZvcm1hdHRlck1ldHJpY3MoKS5mcmVlZG9tLmxlZnQtPXMpfShuLHIsbyx0KTtjb25zdCBhPS1uLmdldFRpY2thYmxlcygpLm1hcCh0PT50LmdldEZvcm1hdHRlck1ldHJpY3MoKS5zcGFjZS5kZXZpYXRpb24pLnJlZHVjZSgodCxlKT0+dCtlKTthPjA/dD0tTWF0aC5taW4obi5nZXRGb3JtYXR0ZXJNZXRyaWNzKCkuZnJlZWRvbS5yaWdodCxNYXRoLmFicyhhKSk6YTwwJiYodD1vP01hdGgubWluKG8uZ2V0Rm9ybWF0dGVyTWV0cmljcygpLmZyZWVkb20ucmlnaHQsTWF0aC5hYnMoYSkpOjApO2NvbnN0IGg9TWF0aC5taW4oNSxNYXRoLmFicyh0KSk7dD10PjA/aDotaH0pLHRoaXMuZXZhbHVhdGUoKX1wb3N0Rm9ybWF0KCl7Y29uc3QgdD10PT50Lmxpc3QuZm9yRWFjaChlPT50Lm1hcFtlXS5wb3N0Rm9ybWF0KCkpO3JldHVybiB0KHRoaXMubW9kaWZlckNvbnRleHRzKSx0KHRoaXMudGlja0NvbnRleHRzKSx0aGlzfWpvaW5Wb2ljZXModCl7cmV0dXJuIHRoaXMuY3JlYXRlTW9kaWZpZXJDb250ZXh0cyh0KSx0aGlzLmhhc01pblRvdGFsV2lkdGg9ITEsdGhpc31mb3JtYXQodCxlLGkpe2NvbnN0IG49e2FsaWduX3Jlc3RzOiExLGNvbnRleHQ6bnVsbCxzdGF2ZTpudWxsfTtyZXR1cm4gcy5NZXJnZShuLGkpLHRoaXMudm9pY2VzPXQsdGhpcy5hbGlnblJlc3RzKHQsbi5hbGlnbl9yZXN0cyksdGhpcy5jcmVhdGVUaWNrQ29udGV4dHModCksdGhpcy5wcmVGb3JtYXQoZSxuLmNvbnRleHQsdCxuLnN0YXZlKSxuLnN0YXZlJiZ0aGlzLnBvc3RGb3JtYXQoKSx0aGlzfWZvcm1hdFRvU3RhdmUodCxlLGkpe2NvbnN0IG49ZS5nZXROb3RlRW5kWCgpLWUuZ2V0Tm90ZVN0YXJ0WCgpLTEwOyFmdW5jdGlvbiguLi50KXt1dC5ERUJVRyYmcy5MKFwiVmV4LkZsb3cuRm9ybWF0dGVyXCIsdCl9KFwiRm9ybWF0dGluZyB2b2ljZXMgdG8gd2lkdGg6IFwiLG4pO2NvbnN0IHI9e2NvbnRleHQ6ZS5nZXRDb250ZXh0KCl9O3JldHVybiBzLk1lcmdlKHIsaSksdGhpcy5mb3JtYXQodCxuLHIpfX1jbGFzcyBkdCBleHRlbmRzIGh7c3RhdGljIGdldCBQb3NpdGlvbigpe3JldHVybntMRUZUOjEsUklHSFQ6MixBQk9WRTozLEJFTE9XOjQsQkVHSU46NSxFTkQ6Nn19Y29uc3RydWN0b3IoKXtzdXBlcigpLHRoaXMuc2V0QXR0cmlidXRlKFwidHlwZVwiLFwiU3RhdmVNb2RpZmllclwiKSx0aGlzLnBhZGRpbmc9MTAsdGhpcy5wb3NpdGlvbj1kdC5Qb3NpdGlvbi5BQk9WRSx0aGlzLmxheW91dE1ldHJpY3M9bnVsbH1nZXRQb3NpdGlvbigpe3JldHVybiB0aGlzLnBvc2l0aW9ufXNldFBvc2l0aW9uKHQpe3JldHVybiB0aGlzLnBvc2l0aW9uPXQsdGhpc31nZXRTdGF2ZSgpe3JldHVybiB0aGlzLnN0YXZlfXNldFN0YXZlKHQpe3JldHVybiB0aGlzLnN0YXZlPXQsdGhpc31nZXRXaWR0aCgpe3JldHVybiB0aGlzLndpZHRofXNldFdpZHRoKHQpe3JldHVybiB0aGlzLndpZHRoPXQsdGhpc31nZXRYKCl7cmV0dXJuIHRoaXMueH1zZXRYKHQpe3JldHVybiB0aGlzLng9dCx0aGlzfWdldENhdGVnb3J5KCl7cmV0dXJuXCJcIn1tYWtlU3BhY2VyKHQpe3JldHVybntnZXRDb250ZXh0OigpPT4hMCxzZXRTdGF2ZSgpe30scmVuZGVyVG9TdGF2ZSgpe30sZ2V0TWV0cmljczooKT0+KHt3aWR0aDp0fSl9fXBsYWNlR2x5cGhPbkxpbmUodCxlLGkpe3Quc2V0WVNoaWZ0KGUuZ2V0WUZvckxpbmUoaSktZS5nZXRZRm9yR2x5cGhzKCkpfWdldFBhZGRpbmcodCl7cmV0dXJuIHZvaWQgMCE9PXQmJnQ8Mj8wOnRoaXMucGFkZGluZ31zZXRQYWRkaW5nKHQpe3JldHVybiB0aGlzLnBhZGRpbmc9dCx0aGlzfXNldExheW91dE1ldHJpY3ModCl7cmV0dXJuIHRoaXMubGF5b3V0TWV0cmljcz10LHRoaXN9Z2V0TGF5b3V0TWV0cmljcygpe3JldHVybiB0aGlzLmxheW91dE1ldHJpY3N9fWNsYXNzIGZ0IGV4dGVuZHMgZHR7c3RhdGljIGdldCBDQVRFR09SWSgpe3JldHVyblwiYmFybGluZXNcIn1zdGF0aWMgZ2V0IHR5cGUoKXtyZXR1cm57U0lOR0xFOjEsRE9VQkxFOjIsRU5EOjMsUkVQRUFUX0JFR0lOOjQsUkVQRUFUX0VORDo1LFJFUEVBVF9CT1RIOjYsTk9ORTo3fX1zdGF0aWMgZ2V0IHR5cGVTdHJpbmcoKXtyZXR1cm57c2luZ2xlOmZ0LnR5cGUuU0lOR0xFLGRvdWJsZTpmdC50eXBlLkRPVUJMRSxlbmQ6ZnQudHlwZS5FTkQscmVwZWF0QmVnaW46ZnQudHlwZS5SRVBFQVRfQkVHSU4scmVwZWF0RW5kOmZ0LnR5cGUuUkVQRUFUX0VORCxyZXBlYXRCb3RoOmZ0LnR5cGUuUkVQRUFUX0JPVEgsbm9uZTpmdC50eXBlLk5PTkV9fWNvbnN0cnVjdG9yKHQpe3N1cGVyKCksdGhpcy5zZXRBdHRyaWJ1dGUoXCJ0eXBlXCIsXCJCYXJsaW5lXCIpLHRoaXMudGhpY2tuZXNzPW0uU1RBVkVfTElORV9USElDS05FU1M7Y29uc3QgZT1mdC50eXBlO3RoaXMud2lkdGhzPXt9LHRoaXMud2lkdGhzW2UuU0lOR0xFXT01LHRoaXMud2lkdGhzW2UuRE9VQkxFXT01LHRoaXMud2lkdGhzW2UuRU5EXT01LHRoaXMud2lkdGhzW2UuUkVQRUFUX0JFR0lOXT01LHRoaXMud2lkdGhzW2UuUkVQRUFUX0VORF09NSx0aGlzLndpZHRoc1tlLlJFUEVBVF9CT1RIXT01LHRoaXMud2lkdGhzW2UuTk9ORV09NSx0aGlzLnBhZGRpbmdzPXt9LHRoaXMucGFkZGluZ3NbZS5TSU5HTEVdPTAsdGhpcy5wYWRkaW5nc1tlLkRPVUJMRV09MCx0aGlzLnBhZGRpbmdzW2UuRU5EXT0wLHRoaXMucGFkZGluZ3NbZS5SRVBFQVRfQkVHSU5dPTE1LHRoaXMucGFkZGluZ3NbZS5SRVBFQVRfRU5EXT0xNSx0aGlzLnBhZGRpbmdzW2UuUkVQRUFUX0JPVEhdPTE1LHRoaXMucGFkZGluZ3NbZS5OT05FXT0wLHRoaXMubGF5b3V0TWV0cmljc01hcD17fSx0aGlzLmxheW91dE1ldHJpY3NNYXBbZS5TSU5HTEVdPXt4TWluOjAseE1heDoxLHBhZGRpbmdMZWZ0OjUscGFkZGluZ1JpZ2h0OjV9LHRoaXMubGF5b3V0TWV0cmljc01hcFtlLkRPVUJMRV09e3hNaW46LTMseE1heDoxLHBhZGRpbmdMZWZ0OjUscGFkZGluZ1JpZ2h0OjV9LHRoaXMubGF5b3V0TWV0cmljc01hcFtlLkVORF09e3hNaW46LTUseE1heDoxLHBhZGRpbmdMZWZ0OjUscGFkZGluZ1JpZ2h0OjV9LHRoaXMubGF5b3V0TWV0cmljc01hcFtlLlJFUEVBVF9FTkRdPXt4TWluOi0xMCx4TWF4OjEscGFkZGluZ0xlZnQ6NSxwYWRkaW5nUmlnaHQ6NX0sdGhpcy5sYXlvdXRNZXRyaWNzTWFwW2UuUkVQRUFUX0JFR0lOXT17eE1pbjotMix4TWF4OjEwLHBhZGRpbmdMZWZ0OjUscGFkZGluZ1JpZ2h0OjV9LHRoaXMubGF5b3V0TWV0cmljc01hcFtlLlJFUEVBVF9CT1RIXT17eE1pbjotMTAseE1heDoxMCxwYWRkaW5nTGVmdDo1LHBhZGRpbmdSaWdodDo1fSx0aGlzLmxheW91dE1ldHJpY3NNYXBbZS5OT05FXT17eE1pbjowLHhNYXg6MCxwYWRkaW5nTGVmdDo1LHBhZGRpbmdSaWdodDo1fSx0aGlzLnNldFBvc2l0aW9uKGR0LlBvc2l0aW9uLkJFR0lOKSx0aGlzLnNldFR5cGUodCl9Z2V0Q2F0ZWdvcnkoKXtyZXR1cm4gZnQuQ0FURUdPUll9Z2V0VHlwZSgpe3JldHVybiB0aGlzLnR5cGV9c2V0VHlwZSh0KXtyZXR1cm4gdGhpcy50eXBlPVwic3RyaW5nXCI9PXR5cGVvZiB0P2Z0LnR5cGVTdHJpbmdbdF06dCx0aGlzLnNldFdpZHRoKHRoaXMud2lkdGhzW3RoaXMudHlwZV0pLHRoaXMuc2V0UGFkZGluZyh0aGlzLnBhZGRpbmdzW3RoaXMudHlwZV0pLHRoaXMuc2V0TGF5b3V0TWV0cmljcyh0aGlzLmxheW91dE1ldHJpY3NNYXBbdGhpcy50eXBlXSksdGhpc31kcmF3KHQpe3N3aXRjaCh0LmNoZWNrQ29udGV4dCgpLHRoaXMuc2V0UmVuZGVyZWQoKSx0aGlzLnR5cGUpe2Nhc2UgZnQudHlwZS5TSU5HTEU6dGhpcy5kcmF3VmVydGljYWxCYXIodCx0aGlzLngsITEpO2JyZWFrO2Nhc2UgZnQudHlwZS5ET1VCTEU6dGhpcy5kcmF3VmVydGljYWxCYXIodCx0aGlzLngsITApO2JyZWFrO2Nhc2UgZnQudHlwZS5FTkQ6dGhpcy5kcmF3VmVydGljYWxFbmRCYXIodCx0aGlzLngpO2JyZWFrO2Nhc2UgZnQudHlwZS5SRVBFQVRfQkVHSU46dGhpcy5kcmF3UmVwZWF0QmFyKHQsdGhpcy54LCEwKSx0LmdldFgoKSE9PXRoaXMueCYmdGhpcy5kcmF3VmVydGljYWxCYXIodCx0LmdldFgoKSk7YnJlYWs7Y2FzZSBmdC50eXBlLlJFUEVBVF9FTkQ6dGhpcy5kcmF3UmVwZWF0QmFyKHQsdGhpcy54LCExKTticmVhaztjYXNlIGZ0LnR5cGUuUkVQRUFUX0JPVEg6dGhpcy5kcmF3UmVwZWF0QmFyKHQsdGhpcy54LCExKSx0aGlzLmRyYXdSZXBlYXRCYXIodCx0aGlzLngsITApfX1kcmF3VmVydGljYWxCYXIodCxlLGkpe3QuY2hlY2tDb250ZXh0KCk7Y29uc3Qgcz10LmdldFRvcExpbmVUb3BZKCksbj10LmdldEJvdHRvbUxpbmVCb3R0b21ZKCk7aSYmdC5jb250ZXh0LmZpbGxSZWN0KGUtMyxzLDEsbi1zKSx0LmNvbnRleHQuZmlsbFJlY3QoZSxzLDEsbi1zKX1kcmF3VmVydGljYWxFbmRCYXIodCxlKXt0LmNoZWNrQ29udGV4dCgpO2NvbnN0IGk9dC5nZXRUb3BMaW5lVG9wWSgpLHM9dC5nZXRCb3R0b21MaW5lQm90dG9tWSgpO3QuY29udGV4dC5maWxsUmVjdChlLTUsaSwxLHMtaSksdC5jb250ZXh0LmZpbGxSZWN0KGUtMixpLDMscy1pKX1kcmF3UmVwZWF0QmFyKHQsZSxpKXt0LmNoZWNrQ29udGV4dCgpO2NvbnN0IHM9dC5nZXRUb3BMaW5lVG9wWSgpLG49dC5nZXRCb3R0b21MaW5lQm90dG9tWSgpO2xldCByPTM7aXx8KHI9LTUpLHQuY29udGV4dC5maWxsUmVjdChlK3IscywxLG4tcyksdC5jb250ZXh0LmZpbGxSZWN0KGUtMixzLDMsbi1zKTtpP3IrPTQ6ci09NDtjb25zdCBvPWUrcisxO2xldCBhPSh0LmdldE51bUxpbmVzKCktMSkqdC5nZXRTcGFjaW5nQmV0d2VlbkxpbmVzKCk7YT1hLzItdC5nZXRTcGFjaW5nQmV0d2VlbkxpbmVzKCkvMjtsZXQgaD1zK2ErMTt0LmNvbnRleHQuYmVnaW5QYXRoKCksdC5jb250ZXh0LmFyYyhvLGgsMiwwLDIqTWF0aC5QSSwhMSksdC5jb250ZXh0LmZpbGwoKSxoKz10LmdldFNwYWNpbmdCZXR3ZWVuTGluZXMoKSx0LmNvbnRleHQuYmVnaW5QYXRoKCksdC5jb250ZXh0LmFyYyhvLGgsMiwwLDIqTWF0aC5QSSwhMSksdC5jb250ZXh0LmZpbGwoKX19Y2xhc3MgbXQgZXh0ZW5kcyBkdHtzdGF0aWMgZ2V0IENBVEVHT1JZKCl7cmV0dXJuXCJyZXBldGl0aW9uc1wifXN0YXRpYyBnZXQgdHlwZSgpe3JldHVybntOT05FOjEsQ09EQV9MRUZUOjIsQ09EQV9SSUdIVDozLFNFR05PX0xFRlQ6NCxTRUdOT19SSUdIVDo1LERDOjYsRENfQUxfQ09EQTo3LERDX0FMX0ZJTkU6OCxEUzo5LERTX0FMX0NPREE6MTAsRFNfQUxfRklORToxMSxGSU5FOjEyfX1jb25zdHJ1Y3Rvcih0LGUsaSl7c3VwZXIoKSx0aGlzLnNldEF0dHJpYnV0ZShcInR5cGVcIixcIlJlcGV0aXRpb25cIiksdGhpcy5zeW1ib2xfdHlwZT10LHRoaXMueD1lLHRoaXMueF9zaGlmdD0wLHRoaXMueV9zaGlmdD1pLHRoaXMuZm9udD17ZmFtaWx5OlwidGltZXNcIixzaXplOjEyLHdlaWdodDpcImJvbGQgaXRhbGljXCJ9fWdldENhdGVnb3J5KCl7cmV0dXJuIG10LkNBVEVHT1JZfXNldFNoaWZ0WCh0KXtyZXR1cm4gdGhpcy54X3NoaWZ0PXQsdGhpc31zZXRTaGlmdFkodCl7cmV0dXJuIHRoaXMueV9zaGlmdD10LHRoaXN9ZHJhdyh0LGUpe3N3aXRjaCh0aGlzLnNldFJlbmRlcmVkKCksdGhpcy5zeW1ib2xfdHlwZSl7Y2FzZSBtdC50eXBlLkNPREFfUklHSFQ6dGhpcy5kcmF3Q29kYUZpeGVkKHQsZSt0LndpZHRoKTticmVhaztjYXNlIG10LnR5cGUuQ09EQV9MRUZUOnRoaXMuZHJhd1N5bWJvbFRleHQodCxlLFwiQ29kYVwiLCEwKTticmVhaztjYXNlIG10LnR5cGUuU0VHTk9fTEVGVDp0aGlzLmRyYXdTaWdub0ZpeGVkKHQsZSk7YnJlYWs7Y2FzZSBtdC50eXBlLlNFR05PX1JJR0hUOnRoaXMuZHJhd1NpZ25vRml4ZWQodCxlK3Qud2lkdGgpO2JyZWFrO2Nhc2UgbXQudHlwZS5EQzp0aGlzLmRyYXdTeW1ib2xUZXh0KHQsZSxcIkQuQy5cIiwhMSk7YnJlYWs7Y2FzZSBtdC50eXBlLkRDX0FMX0NPREE6dGhpcy5kcmF3U3ltYm9sVGV4dCh0LGUsXCJELkMuIGFsXCIsITApO2JyZWFrO2Nhc2UgbXQudHlwZS5EQ19BTF9GSU5FOnRoaXMuZHJhd1N5bWJvbFRleHQodCxlLFwiRC5DLiBhbCBGaW5lXCIsITEpO2JyZWFrO2Nhc2UgbXQudHlwZS5EUzp0aGlzLmRyYXdTeW1ib2xUZXh0KHQsZSxcIkQuUy5cIiwhMSk7YnJlYWs7Y2FzZSBtdC50eXBlLkRTX0FMX0NPREE6dGhpcy5kcmF3U3ltYm9sVGV4dCh0LGUsXCJELlMuIGFsXCIsITApO2JyZWFrO2Nhc2UgbXQudHlwZS5EU19BTF9GSU5FOnRoaXMuZHJhd1N5bWJvbFRleHQodCxlLFwiRC5TLiBhbCBGaW5lXCIsITEpO2JyZWFrO2Nhc2UgbXQudHlwZS5GSU5FOnRoaXMuZHJhd1N5bWJvbFRleHQodCxlLFwiRmluZVwiLCExKX1yZXR1cm4gdGhpc31kcmF3Q29kYUZpeGVkKHQsZSl7Y29uc3QgaT10LmdldFlGb3JUb3BUZXh0KHQub3B0aW9ucy5udW1fbGluZXMpK3RoaXMueV9zaGlmdDtyZXR1cm4gZi5yZW5kZXJHbHlwaCh0LmNvbnRleHQsdGhpcy54K2UrdGhpcy54X3NoaWZ0LGkrMjUsNDAsXCJ2NGRcIiwhMCksdGhpc31kcmF3U2lnbm9GaXhlZCh0LGUpe2NvbnN0IGk9dC5nZXRZRm9yVG9wVGV4dCh0Lm9wdGlvbnMubnVtX2xpbmVzKSt0aGlzLnlfc2hpZnQ7cmV0dXJuIGYucmVuZGVyR2x5cGgodC5jb250ZXh0LHRoaXMueCtlK3RoaXMueF9zaGlmdCxpKzI1LDMwLFwidjhjXCIsITApLHRoaXN9ZHJhd1N5bWJvbFRleHQodCxlLGkscyl7Y29uc3Qgbj10LmNoZWNrQ29udGV4dCgpO24uc2F2ZSgpLG4uc2V0Rm9udCh0aGlzLmZvbnQuZmFtaWx5LHRoaXMuZm9udC5zaXplLHRoaXMuZm9udC53ZWlnaHQpO2xldCByPTArdGhpcy54X3NoaWZ0LG89ZSt0aGlzLnhfc2hpZnQ7dGhpcy5zeW1ib2xfdHlwZT09PW10LnR5cGUuQ09EQV9MRUZUPyhyPXRoaXMueCt0Lm9wdGlvbnMudmVydGljYWxfYmFyX3dpZHRoLG89cituLm1lYXN1cmVUZXh0KGkpLndpZHRoKzEyKToobz10aGlzLngrZSt0LndpZHRoLTUrdGhpcy54X3NoaWZ0LHI9by0rbi5tZWFzdXJlVGV4dChpKS53aWR0aC0xMik7Y29uc3QgYT10LmdldFlGb3JUb3BUZXh0KHQub3B0aW9ucy5udW1fbGluZXMpK3RoaXMueV9zaGlmdDtyZXR1cm4gcyYmZi5yZW5kZXJHbHlwaChuLG8sYSw0MCxcInY0ZFwiLCEwKSxuLmZpbGxUZXh0KGkscixhKzUpLG4ucmVzdG9yZSgpLHRoaXN9fWNsYXNzIHB0IGV4dGVuZHMgZHR7c3RhdGljIGdldCBDQVRFR09SWSgpe3JldHVyblwic3RhdmVzZWN0aW9uXCJ9Y29uc3RydWN0b3IodCxlLGkpe3N1cGVyKCksdGhpcy5zZXRBdHRyaWJ1dGUoXCJ0eXBlXCIsXCJTdGF2ZVNlY3Rpb25cIiksdGhpcy5zZXRXaWR0aCgxNiksdGhpcy5zZWN0aW9uPXQsdGhpcy54PWUsdGhpcy5zaGlmdF94PTAsdGhpcy5zaGlmdF95PWksdGhpcy5mb250PXtmYW1pbHk6XCJzYW5zLXNlcmlmXCIsc2l6ZToxMix3ZWlnaHQ6XCJib2xkXCJ9fWdldENhdGVnb3J5KCl7cmV0dXJuIHB0LkNBVEVHT1JZfXNldFN0YXZlU2VjdGlvbih0KXtyZXR1cm4gdGhpcy5zZWN0aW9uPXQsdGhpc31zZXRTaGlmdFgodCl7cmV0dXJuIHRoaXMuc2hpZnRfeD10LHRoaXN9c2V0U2hpZnRZKHQpe3JldHVybiB0aGlzLnNoaWZ0X3k9dCx0aGlzfWRyYXcodCxlKXtjb25zdCBpPXQuY2hlY2tDb250ZXh0KCk7dGhpcy5zZXRSZW5kZXJlZCgpLGkuc2F2ZSgpLGkubGluZVdpZHRoPTIsaS5zZXRGb250KHRoaXMuZm9udC5mYW1pbHksdGhpcy5mb250LnNpemUsdGhpcy5mb250LndlaWdodCk7Y29uc3Qgcz1pLm1lYXN1cmVUZXh0KFwiXCIrdGhpcy5zZWN0aW9uKS53aWR0aDtsZXQgbj1zKzY7bjwxOCYmKG49MTgpO2NvbnN0IHI9dC5nZXRZRm9yVG9wVGV4dCgzKSt0aGlzLnNoaWZ0X3k7bGV0IG89dGhpcy54K2U7cmV0dXJuIGkuYmVnaW5QYXRoKCksaS5saW5lV2lkdGg9MixpLnJlY3QobyxyLG4sMjApLGkuc3Ryb2tlKCksbys9KG4tcykvMixpLmZpbGxUZXh0KFwiXCIrdGhpcy5zZWN0aW9uLG8scisxNiksaS5yZXN0b3JlKCksdGhpc319Y2xhc3MgZ3QgZXh0ZW5kcyBkdHtzdGF0aWMgZ2V0IENBVEVHT1JZKCl7cmV0dXJuXCJzdGF2ZXRlbXBvXCJ9Y29uc3RydWN0b3IodCxlLGkpe3N1cGVyKCksdGhpcy5zZXRBdHRyaWJ1dGUoXCJ0eXBlXCIsXCJTdGF2ZVRlbXBvXCIpLHRoaXMudGVtcG89dCx0aGlzLnBvc2l0aW9uPUIuUG9zaXRpb24uQUJPVkUsdGhpcy54PWUsdGhpcy5zaGlmdF94PTEwLHRoaXMuc2hpZnRfeT1pLHRoaXMuZm9udD17ZmFtaWx5OlwidGltZXNcIixzaXplOjE0LHdlaWdodDpcImJvbGRcIn0sdGhpcy5yZW5kZXJfb3B0aW9ucz17Z2x5cGhfZm9udF9zY2FsZTozMH19Z2V0Q2F0ZWdvcnkoKXtyZXR1cm4gZ3QuQ0FURUdPUll9c2V0VGVtcG8odCl7cmV0dXJuIHRoaXMudGVtcG89dCx0aGlzfXNldFNoaWZ0WCh0KXtyZXR1cm4gdGhpcy5zaGlmdF94PXQsdGhpc31zZXRTaGlmdFkodCl7cmV0dXJuIHRoaXMuc2hpZnRfeT10LHRoaXN9ZHJhdyh0LGUpe2NvbnN0IGk9dC5jaGVja0NvbnRleHQoKTt0aGlzLnNldFJlbmRlcmVkKCk7Y29uc3Qgcz10aGlzLnJlbmRlcl9vcHRpb25zLG49cy5nbHlwaF9mb250X3NjYWxlLzM4LHI9dGhpcy50ZW1wby5uYW1lLG89dGhpcy50ZW1wby5kdXJhdGlvbixhPXRoaXMudGVtcG8uZG90cyxoPXRoaXMudGVtcG8uYnBtLGw9dGhpcy5mb250O2xldCBjPXRoaXMueCt0aGlzLnNoaWZ0X3grZTtjb25zdCB1PXQuZ2V0WUZvclRvcFRleHQoMSkrdGhpcy5zaGlmdF95O2lmKGkuc2F2ZSgpLHImJihpLnNldEZvbnQobC5mYW1pbHksbC5zaXplLGwud2VpZ2h0KSxpLmZpbGxUZXh0KHIsYyx1KSxjKz1pLm1lYXN1cmVUZXh0KHIpLndpZHRoKSxvJiZoKXtpLnNldEZvbnQobC5mYW1pbHksbC5zaXplLFwibm9ybWFsXCIpLHImJihjKz1pLm1lYXN1cmVUZXh0KFwiIFwiKS53aWR0aCxpLmZpbGxUZXh0KFwiKFwiLGMsdSksYys9aS5tZWFzdXJlVGV4dChcIihcIikud2lkdGgpO2NvbnN0IHQ9bS5nZXRHbHlwaFByb3BzKG8pO2lmKGMrPTMqbixmLnJlbmRlckdseXBoKGksYyx1LHMuZ2x5cGhfZm9udF9zY2FsZSx0LmNvZGVfaGVhZCksYys9dC5nZXRXaWR0aCgpKm4sdC5zdGVtKXtsZXQgZT0zMDt0LmJlYW1fY291bnQmJihlKz0zKih0LmJlYW1fY291bnQtMSkpLGUqPW47Y29uc3Qgcj11LWU7aS5maWxsUmVjdChjLW4scixuLGUpLHQuZmxhZyYmKGYucmVuZGVyR2x5cGgoaSxjLHIscy5nbHlwaF9mb250X3NjYWxlLHQuY29kZV9mbGFnX3Vwc3RlbSksYXx8KGMrPTYqbikpfWZvcihsZXQgdD0wO3Q8YTt0KyspYys9NipuLGkuYmVnaW5QYXRoKCksaS5hcmMoYyx1KzIqbiwyKm4sMCwyKk1hdGguUEksITEpLGkuZmlsbCgpO2kuZmlsbFRleHQoXCIgPSBcIitoKyhyP1wiKVwiOlwiXCIpLGMrMypuLHUpfXJldHVybiBpLnJlc3RvcmUoKSx0aGlzfX1jbGFzcyBidCBleHRlbmRzIEN7c3RhdGljIGdldCBKdXN0aWZpY2F0aW9uKCl7cmV0dXJue0xFRlQ6MSxDRU5URVI6MixSSUdIVDozfX1zdGF0aWMgZ2V0IEdMWVBIUygpe3JldHVybntzZWdubzp7Y29kZTpcInY4Y1wiLHBvaW50OjQwLHhfc2hpZnQ6MCx5X3NoaWZ0Oi0xMH0sdHI6e2NvZGU6XCJ2MWZcIixwb2ludDo0MCx4X3NoaWZ0OjAseV9zaGlmdDowfSxtb3JkZW50X3VwcGVyOntjb2RlOlwidjFlXCIscG9pbnQ6NDAseF9zaGlmdDowLHlfc2hpZnQ6MH0sbW9yZGVudF9sb3dlcjp7Y29kZTpcInY0NVwiLHBvaW50OjQwLHhfc2hpZnQ6MCx5X3NoaWZ0OjB9LGY6e2NvZGU6XCJ2YmFcIixwb2ludDo0MCx4X3NoaWZ0OjAseV9zaGlmdDowfSxwOntjb2RlOlwidmJmXCIscG9pbnQ6NDAseF9zaGlmdDowLHlfc2hpZnQ6MH0sbTp7Y29kZTpcInY2MlwiLHBvaW50OjQwLHhfc2hpZnQ6MCx5X3NoaWZ0OjB9LHM6e2NvZGU6XCJ2NGFcIixwb2ludDo0MCx4X3NoaWZ0OjAseV9zaGlmdDowfSx6Ontjb2RlOlwidjgwXCIscG9pbnQ6NDAseF9zaGlmdDowLHlfc2hpZnQ6MH0sY29kYTp7Y29kZTpcInY0ZFwiLHBvaW50OjQwLHhfc2hpZnQ6MCx5X3NoaWZ0Oi04fSxwZWRhbF9vcGVuOntjb2RlOlwidjM2XCIscG9pbnQ6NDAseF9zaGlmdDowLHlfc2hpZnQ6MH0scGVkYWxfY2xvc2U6e2NvZGU6XCJ2NWRcIixwb2ludDo0MCx4X3NoaWZ0OjAseV9zaGlmdDozfSxjYWVzdXJhX3N0cmFpZ2h0Ontjb2RlOlwidjM0XCIscG9pbnQ6NDAseF9zaGlmdDowLHlfc2hpZnQ6Mn0sY2Flc3VyYV9jdXJ2ZWQ6e2NvZGU6XCJ2NGJcIixwb2ludDo0MCx4X3NoaWZ0OjAseV9zaGlmdDoyfSxicmVhdGg6e2NvZGU6XCJ2NmNcIixwb2ludDo0MCx4X3NoaWZ0OjAseV9zaGlmdDowfSx0aWNrOntjb2RlOlwidjZmXCIscG9pbnQ6NTAseF9zaGlmdDowLHlfc2hpZnQ6MH0sdHVybjp7Y29kZTpcInY3MlwiLHBvaW50OjQwLHhfc2hpZnQ6MCx5X3NoaWZ0OjB9LHR1cm5faW52ZXJ0ZWQ6e2NvZGU6XCJ2MzNcIixwb2ludDo0MCx4X3NoaWZ0OjAseV9zaGlmdDowfSxtb3JkZW50Ontjb2RlOlwidjFlXCIscG9pbnQ6NDAseF9zaGlmdDowLHlfc2hpZnQ6MH19fWNvbnN0cnVjdG9yKHQpe2lmKHN1cGVyKHQpLHRoaXMuc2V0QXR0cmlidXRlKFwidHlwZVwiLFwiVGV4dE5vdGVcIiksdGhpcy50ZXh0PXQudGV4dCx0aGlzLnN1cGVyc2NyaXB0PXQuc3VwZXJzY3JpcHQsdGhpcy5zdWJzY3JpcHQ9dC5zdWJzY3JpcHQsdGhpcy5nbHlwaF90eXBlPXQuZ2x5cGgsdGhpcy5nbHlwaD1udWxsLHRoaXMuZm9udD17ZmFtaWx5OlwiQXJpYWxcIixzaXplOjEyLHdlaWdodDpcIlwifSx0LmZvbnQmJih0aGlzLmZvbnQ9dC5mb250KSx0aGlzLmdseXBoX3R5cGUpe2NvbnN0IHQ9YnQuR0xZUEhTW3RoaXMuZ2x5cGhfdHlwZV07aWYoIXQpdGhyb3cgbmV3IHMuUkVSUihcIkludmFsaWQgZ2x5cGggdHlwZTogXCIrdGhpcy5nbHlwaF90eXBlKTt0aGlzLmdseXBoPW5ldyBmKHQuY29kZSx0LnBvaW50LHtjYWNoZTohMX0pLHQud2lkdGg/dGhpcy5zZXRXaWR0aCh0LndpZHRoKTp0aGlzLnNldFdpZHRoKHRoaXMuZ2x5cGguZ2V0TWV0cmljcygpLndpZHRoKSx0aGlzLmdseXBoX3N0cnVjdD10fWVsc2UgdGhpcy5zZXRXaWR0aChtLnRleHRXaWR0aCh0aGlzLnRleHQpKTt0aGlzLmxpbmU9dC5saW5lfHwwLHRoaXMuc21vb3RoPXQuc21vb3RofHwhMSx0aGlzLmlnbm9yZV90aWNrcz10Lmlnbm9yZV90aWNrc3x8ITEsdGhpcy5qdXN0aWZpY2F0aW9uPWJ0Lkp1c3RpZmljYXRpb24uTEVGVH1zZXRKdXN0aWZpY2F0aW9uKHQpe3JldHVybiB0aGlzLmp1c3RpZmljYXRpb249dCx0aGlzfXNldExpbmUodCl7cmV0dXJuIHRoaXMubGluZT10LHRoaXN9cHJlRm9ybWF0KCl7dGhpcy5jaGVja0NvbnRleHQoKSx0aGlzLnByZUZvcm1hdHRlZHx8KHRoaXMuc21vb3RoP3RoaXMuc2V0V2lkdGgoMCk6dGhpcy5nbHlwaHx8dGhpcy5zZXRXaWR0aCh0aGlzLmNvbnRleHQubWVhc3VyZVRleHQodGhpcy50ZXh0KS53aWR0aCksdGhpcy5qdXN0aWZpY2F0aW9uPT09YnQuSnVzdGlmaWNhdGlvbi5DRU5URVI/dGhpcy5leHRyYUxlZnRQeD10aGlzLndpZHRoLzI6dGhpcy5qdXN0aWZpY2F0aW9uPT09YnQuSnVzdGlmaWNhdGlvbi5SSUdIVCYmKHRoaXMuZXh0cmFMZWZ0UHg9dGhpcy53aWR0aCksdGhpcy5zZXRQcmVGb3JtYXR0ZWQoITApKX1kcmF3KCl7aWYodGhpcy5jaGVja0NvbnRleHQoKSwhdGhpcy5zdGF2ZSl0aHJvdyBuZXcgcy5SRVJSKFwiTm9TdGF2ZVwiLFwiQ2FuJ3QgZHJhdyB3aXRob3V0IGEgc3RhdmUuXCIpO3RoaXMuc2V0UmVuZGVyZWQoKTtjb25zdCB0PXRoaXMuY29udGV4dDtsZXQgZSxpPXRoaXMuZ2V0QWJzb2x1dGVYKCk7aWYodGhpcy5qdXN0aWZpY2F0aW9uPT09YnQuSnVzdGlmaWNhdGlvbi5DRU5URVI/aS09dGhpcy5nZXRXaWR0aCgpLzI6dGhpcy5qdXN0aWZpY2F0aW9uPT09YnQuSnVzdGlmaWNhdGlvbi5SSUdIVCYmKGktPXRoaXMuZ2V0V2lkdGgoKSksdGhpcy5nbHlwaCllPXRoaXMuc3RhdmUuZ2V0WUZvckxpbmUodGhpcy5saW5lKy0zKSx0aGlzLmdseXBoLnJlbmRlcih0aGlzLmNvbnRleHQsaSt0aGlzLmdseXBoX3N0cnVjdC54X3NoaWZ0LGUrdGhpcy5nbHlwaF9zdHJ1Y3QueV9zaGlmdCk7ZWxzZXtlPXRoaXMuc3RhdmUuZ2V0WUZvckxpbmUodGhpcy5saW5lKy0zKSx0aGlzLmFwcGx5U3R5bGUodCksdC5zZXRGb250KHRoaXMuZm9udC5mYW1pbHksdGhpcy5mb250LnNpemUsdGhpcy5mb250LndlaWdodCksdC5maWxsVGV4dCh0aGlzLnRleHQsaSxlKTtjb25zdCBzPXQubWVhc3VyZVRleHQoXCJNXCIpLndpZHRoLG49dC5tZWFzdXJlVGV4dCh0aGlzLnRleHQpLndpZHRoO3RoaXMuc3VwZXJzY3JpcHQmJih0LnNldEZvbnQodGhpcy5mb250LmZhbWlseSx0aGlzLmZvbnQuc2l6ZS8xLjMsdGhpcy5mb250LndlaWdodCksdC5maWxsVGV4dCh0aGlzLnN1cGVyc2NyaXB0LGkrbisyLGUtcy8yLjIpKSx0aGlzLnN1YnNjcmlwdCYmKHQuc2V0Rm9udCh0aGlzLmZvbnQuZmFtaWx5LHRoaXMuZm9udC5zaXplLzEuMyx0aGlzLmZvbnQud2VpZ2h0KSx0LmZpbGxUZXh0KHRoaXMuc3Vic2NyaXB0LGkrbisyLGUrcy8yLjItMSkpLHRoaXMucmVzdG9yZVN0eWxlKHQpfX19Y2xhc3MgU3QgZXh0ZW5kcyBkdHtzdGF0aWMgZ2V0IENBVEVHT1JZKCl7cmV0dXJuXCJzdGF2ZXRleHRcIn1jb25zdHJ1Y3Rvcih0LGUsaSl7c3VwZXIoKSx0aGlzLnNldEF0dHJpYnV0ZShcInR5cGVcIixcIlN0YXZlVGV4dFwiKSx0aGlzLnNldFdpZHRoKDE2KSx0aGlzLnRleHQ9dCx0aGlzLnBvc2l0aW9uPWUsdGhpcy5vcHRpb25zPXtzaGlmdF94OjAsc2hpZnRfeTowLGp1c3RpZmljYXRpb246YnQuSnVzdGlmaWNhdGlvbi5DRU5URVJ9LHMuTWVyZ2UodGhpcy5vcHRpb25zLGkpLHRoaXMuZm9udD17ZmFtaWx5OlwidGltZXNcIixzaXplOjE2LHdlaWdodDpcIm5vcm1hbFwifX1nZXRDYXRlZ29yeSgpe3JldHVybiBTdC5DQVRFR09SWX1zZXRTdGF2ZVRleHQodCl7cmV0dXJuIHRoaXMudGV4dD10LHRoaXN9c2V0U2hpZnRYKHQpe3JldHVybiB0aGlzLnNoaWZ0X3g9dCx0aGlzfXNldFNoaWZ0WSh0KXtyZXR1cm4gdGhpcy5zaGlmdF95PXQsdGhpc31zZXRGb250KHQpe3MuTWVyZ2UodGhpcy5mb250LHQpfXNldFRleHQodCl7dGhpcy50ZXh0PXR9ZHJhdyh0KXtjb25zdCBlPXQuY2hlY2tDb250ZXh0KCk7dGhpcy5zZXRSZW5kZXJlZCgpLGUuc2F2ZSgpLGUubGluZVdpZHRoPTIsZS5zZXRGb250KHRoaXMuZm9udC5mYW1pbHksdGhpcy5mb250LnNpemUsdGhpcy5mb250LndlaWdodCk7Y29uc3QgaT1lLm1lYXN1cmVUZXh0KFwiXCIrdGhpcy50ZXh0KS53aWR0aDtsZXQgbixyO2NvbnN0IG89ZHQuUG9zaXRpb24sYT1idC5KdXN0aWZpY2F0aW9uO3N3aXRjaCh0aGlzLnBvc2l0aW9uKXtjYXNlIG8uTEVGVDpjYXNlIG8uUklHSFQ6cj0odC5nZXRZRm9yTGluZSgwKSt0LmdldEJvdHRvbUxpbmVZKCkpLzIrdGhpcy5vcHRpb25zLnNoaWZ0X3ksbj10aGlzLnBvc2l0aW9uPT09by5MRUZUP3QuZ2V0WCgpLWktMjQrdGhpcy5vcHRpb25zLnNoaWZ0X3g6dC5nZXRYKCkrdC5nZXRXaWR0aCgpKzI0K3RoaXMub3B0aW9ucy5zaGlmdF94O2JyZWFrO2Nhc2Ugby5BQk9WRTpjYXNlIG8uQkVMT1c6bj10LmdldFgoKSt0aGlzLm9wdGlvbnMuc2hpZnRfeCx0aGlzLm9wdGlvbnMuanVzdGlmaWNhdGlvbj09PWEuQ0VOVEVSP24rPXQuZ2V0V2lkdGgoKS8yLWkvMjp0aGlzLm9wdGlvbnMuanVzdGlmaWNhdGlvbj09PWEuUklHSFQmJihuKz10LmdldFdpZHRoKCktaSkscj10aGlzLnBvc2l0aW9uPT09by5BQk9WRT90LmdldFlGb3JUb3BUZXh0KDIpK3RoaXMub3B0aW9ucy5zaGlmdF95OnQuZ2V0WUZvckJvdHRvbVRleHQoMikrdGhpcy5vcHRpb25zLnNoaWZ0X3k7YnJlYWs7ZGVmYXVsdDp0aHJvdyBuZXcgcy5SRVJSKFwiSW52YWxpZFBvc2l0aW9uXCIsXCJWYWx1ZSBNdXN0IGJlIGluIE1vZGlmaWVyLlBvc2l0aW9uLlwiKX1yZXR1cm4gZS5maWxsVGV4dChcIlwiK3RoaXMudGV4dCxuLHIrNCksZS5yZXN0b3JlKCksdGhpc319Y2xhc3MgeXQgZXh0ZW5kcyBkdHtzdGF0aWMgZ2V0IENBVEVHT1JZKCl7cmV0dXJuXCJjbGVmc1wifXN0YXRpYyBnZXQgdHlwZXMoKXtyZXR1cm57dHJlYmxlOntjb2RlOlwidjgzXCIsbGluZTozfSxiYXNzOntjb2RlOlwidjc5XCIsbGluZToxfSxhbHRvOntjb2RlOlwidmFkXCIsbGluZToyfSx0ZW5vcjp7Y29kZTpcInZhZFwiLGxpbmU6MX0scGVyY3Vzc2lvbjp7Y29kZTpcInY1OVwiLGxpbmU6Mn0sc29wcmFubzp7Y29kZTpcInZhZFwiLGxpbmU6NH0sXCJtZXp6by1zb3ByYW5vXCI6e2NvZGU6XCJ2YWRcIixsaW5lOjN9LFwiYmFyaXRvbmUtY1wiOntjb2RlOlwidmFkXCIsbGluZTowfSxcImJhcml0b25lLWZcIjp7Y29kZTpcInY3OVwiLGxpbmU6Mn0sc3ViYmFzczp7Y29kZTpcInY3OVwiLGxpbmU6MH0sZnJlbmNoOntjb2RlOlwidjgzXCIsbGluZTo0fSx0YWI6e2NvZGU6XCJ2MmZcIn19fXN0YXRpYyBnZXQgc2l6ZXMoKXtyZXR1cm57ZGVmYXVsdDp7cG9pbnQ6NDAsd2lkdGg6MjZ9LHNtYWxsOntwb2ludDozMix3aWR0aDoyMH19fXN0YXRpYyBnZXQgYW5ub3RhdGlvbnMoKXtyZXR1cm57XCI4dmFcIjp7Y29kZTpcInY4XCIsc2l6ZXM6e2RlZmF1bHQ6e3BvaW50OjIwLGF0dGFjaG1lbnRzOnt0cmVibGU6e2xpbmU6LTEuMix4X3NoaWZ0OjExfX19LHNtYWxsOntwb2ludDoxOCxhdHRhY2htZW50czp7dHJlYmxlOntsaW5lOi0uNCx4X3NoaWZ0Ojh9fX19fSxcIjh2YlwiOntjb2RlOlwidjhcIixzaXplczp7ZGVmYXVsdDp7cG9pbnQ6MjAsYXR0YWNobWVudHM6e3RyZWJsZTp7bGluZTo2LjMseF9zaGlmdDoxMH0sYmFzczp7bGluZTo0LHhfc2hpZnQ6MX19fSxzbWFsbDp7cG9pbnQ6MTgsYXR0YWNobWVudHM6e3RyZWJsZTp7bGluZTo1LjgseF9zaGlmdDo2fSxiYXNzOntsaW5lOjMuNSx4X3NoaWZ0Oi41fX19fX19fWNvbnN0cnVjdG9yKHQsZSxpKXtzdXBlcigpLHRoaXMuc2V0QXR0cmlidXRlKFwidHlwZVwiLFwiQ2xlZlwiKSx0aGlzLnNldFBvc2l0aW9uKGR0LlBvc2l0aW9uLkJFR0lOKSx0aGlzLnNldFR5cGUodCxlLGkpLHRoaXMuc2V0V2lkdGgoeXQuc2l6ZXNbdGhpcy5zaXplXS53aWR0aCksZnVuY3Rpb24oLi4udCl7eXQuREVCVUcmJnMuTChcIlZleC5GbG93LkNsZWZcIix0KX0oXCJDcmVhdGluZyBjbGVmOlwiLHQpfWdldENhdGVnb3J5KCl7cmV0dXJuIHl0LkNBVEVHT1JZfXNldFR5cGUodCxlLGkpe2lmKHRoaXMudHlwZT10LHRoaXMuY2xlZj15dC50eXBlc1t0XSx0aGlzLnNpemU9dm9pZCAwPT09ZT9cImRlZmF1bHRcIjplLHRoaXMuY2xlZi5wb2ludD15dC5zaXplc1t0aGlzLnNpemVdLnBvaW50LHRoaXMuZ2x5cGg9bmV3IGYodGhpcy5jbGVmLmNvZGUsdGhpcy5jbGVmLnBvaW50KSx2b2lkIDAhPT1pKXtjb25zdCB0PXl0LmFubm90YXRpb25zW2ldO3RoaXMuYW5ub3RhdGlvbj17Y29kZTp0LmNvZGUscG9pbnQ6dC5zaXplc1t0aGlzLnNpemVdLnBvaW50LGxpbmU6dC5zaXplc1t0aGlzLnNpemVdLmF0dGFjaG1lbnRzW3RoaXMudHlwZV0ubGluZSx4X3NoaWZ0OnQuc2l6ZXNbdGhpcy5zaXplXS5hdHRhY2htZW50c1t0aGlzLnR5cGVdLnhfc2hpZnR9LHRoaXMuYXR0YWNobWVudD1uZXcgZih0aGlzLmFubm90YXRpb24uY29kZSx0aGlzLmFubm90YXRpb24ucG9pbnQpLHRoaXMuYXR0YWNobWVudC5tZXRyaWNzLnhfbWF4PTAsdGhpcy5hdHRhY2htZW50LnNldFhTaGlmdCh0aGlzLmFubm90YXRpb24ueF9zaGlmdCl9ZWxzZSB0aGlzLmFubm90YXRpb249dm9pZCAwO3JldHVybiB0aGlzfWdldFdpZHRoKCl7aWYoXCJ0YWJcIj09PXRoaXMudHlwZSYmIXRoaXMuc3RhdmUpdGhyb3cgbmV3IHMuUkVSUihcIkNsZWZFcnJvclwiLFwiQ2FuJ3QgZ2V0IHdpZHRoIHdpdGhvdXQgc3RhdmUuXCIpO3JldHVybiB0aGlzLndpZHRofXNldFN0YXZlKHQpe2lmKHRoaXMuc3RhdmU9dCxcInRhYlwiIT09dGhpcy50eXBlKXJldHVybiB0aGlzO2xldCBlLGk7Y29uc3Qgbj10aGlzLnN0YXZlLmdldE9wdGlvbnMoKS5udW1fbGluZXM7c3dpdGNoKG4pe2Nhc2UgODplPTU1LGk9MTQ7YnJlYWs7Y2FzZSA3OmU9NDcsaT04O2JyZWFrO2Nhc2UgNjplPTQwLGk9MTticmVhaztjYXNlIDU6ZT0zMCxpPS02O2JyZWFrO2Nhc2UgNDplPTIzLGk9LTEyO2JyZWFrO2RlZmF1bHQ6dGhyb3cgbmV3IHMuUkVSUihcIkNsZWZFcnJvclwiLGBJbnZhbGlkIG51bWJlciBvZiBsaW5lczogJHtufWApfXJldHVybiB0aGlzLmdseXBoLnNldFBvaW50KGUpLHRoaXMuZ2x5cGguc2V0WVNoaWZ0KGkpLHRoaXN9ZHJhdygpe2lmKCF0aGlzLngpdGhyb3cgbmV3IHMuUkVSUihcIkNsZWZFcnJvclwiLFwiQ2FuJ3QgZHJhdyBjbGVmIHdpdGhvdXQgeC5cIik7aWYoIXRoaXMuc3RhdmUpdGhyb3cgbmV3IHMuUkVSUihcIkNsZWZFcnJvclwiLFwiQ2FuJ3QgZHJhdyBjbGVmIHdpdGhvdXQgc3RhdmUuXCIpO3RoaXMuc2V0UmVuZGVyZWQoKSx0aGlzLmdseXBoLnNldFN0YXZlKHRoaXMuc3RhdmUpLHRoaXMuZ2x5cGguc2V0Q29udGV4dCh0aGlzLnN0YXZlLmNvbnRleHQpLHZvaWQgMCE9PXRoaXMuY2xlZi5saW5lJiZ0aGlzLnBsYWNlR2x5cGhPbkxpbmUodGhpcy5nbHlwaCx0aGlzLnN0YXZlLHRoaXMuY2xlZi5saW5lKSx0aGlzLmdseXBoLnJlbmRlclRvU3RhdmUodGhpcy54KSx2b2lkIDAhPT10aGlzLmFubm90YXRpb24mJih0aGlzLnBsYWNlR2x5cGhPbkxpbmUodGhpcy5hdHRhY2htZW50LHRoaXMuc3RhdmUsdGhpcy5hbm5vdGF0aW9uLmxpbmUpLHRoaXMuYXR0YWNobWVudC5zZXRTdGF2ZSh0aGlzLnN0YXZlKSx0aGlzLmF0dGFjaG1lbnQuc2V0Q29udGV4dCh0aGlzLnN0YXZlLmNvbnRleHQpLHRoaXMuYXR0YWNobWVudC5yZW5kZXJUb1N0YXZlKHRoaXMueCkpfX1jbGFzcyB4dCBleHRlbmRzIGR0e3N0YXRpYyBnZXQgQ0FURUdPUlkoKXtyZXR1cm5cImtleXNpZ25hdHVyZXNcIn1zdGF0aWMgZ2V0IGFjY2lkZW50YWxTcGFjaW5nKCl7cmV0dXJue1wiI1wiOnthYm92ZTo2LGJlbG93OjR9LGI6e2Fib3ZlOjQsYmVsb3c6N30sbjp7YWJvdmU6NCxiZWxvdzoxfSxcIiMjXCI6e2Fib3ZlOjYsYmVsb3c6NH0sYmI6e2Fib3ZlOjQsYmVsb3c6N30sZGI6e2Fib3ZlOjQsYmVsb3c6N30sZDp7YWJvdmU6NCxiZWxvdzo3fSxiYnM6e2Fib3ZlOjQsYmVsb3c6N30sXCIrK1wiOnthYm92ZTo2LGJlbG93OjR9LFwiK1wiOnthYm92ZTo2LGJlbG93OjR9LFwiKy1cIjp7YWJvdmU6NixiZWxvdzo0fSxcIisrLVwiOnthYm92ZTo2LGJlbG93OjR9LGJzOnthYm92ZTo0LGJlbG93OjEwfSxic3M6e2Fib3ZlOjQsYmVsb3c6MTB9fX1jb25zdHJ1Y3Rvcih0LGUsaSl7c3VwZXIoKSx0aGlzLnNldEF0dHJpYnV0ZShcInR5cGVcIixcIktleVNpZ25hdHVyZVwiKSx0aGlzLnNldEtleVNpZyh0LGUsaSksdGhpcy5zZXRQb3NpdGlvbihkdC5Qb3NpdGlvbi5CRUdJTiksdGhpcy5nbHlwaEZvbnRTY2FsZT0zOCx0aGlzLmdseXBocz1bXSx0aGlzLnhQb3NpdGlvbnM9W10sdGhpcy5wYWRkaW5nRm9yY2VkPSExfWdldENhdGVnb3J5KCl7cmV0dXJuIHh0LkNBVEVHT1JZfWNvbnZlcnRUb0dseXBoKHQsZSl7Y29uc3QgaT1tLmFjY2lkZW50YWxDb2Rlcyh0LnR5cGUpLHM9bmV3IGYoaS5jb2RlLHRoaXMuZ2x5cGhGb250U2NhbGUpO2xldCBuPTE7aWYoXCJuXCI9PT10LnR5cGUmJmUpe2NvbnN0IGk9eHQuYWNjaWRlbnRhbFNwYWNpbmdbZS50eXBlXTtpZihpKXtuPWUubGluZT49dC5saW5lP2kuYWJvdmU6aS5iZWxvd319dGhpcy5wbGFjZUdseXBoT25MaW5lKHMsdGhpcy5zdGF2ZSx0LmxpbmUpLHRoaXMuZ2x5cGhzLnB1c2gocyk7Y29uc3Qgcj10aGlzLnhQb3NpdGlvbnNbdGhpcy54UG9zaXRpb25zLmxlbmd0aC0xXSxvPXMuZ2V0TWV0cmljcygpLndpZHRoK247dGhpcy54UG9zaXRpb25zLnB1c2gocitvKSx0aGlzLndpZHRoKz1vfWNhbmNlbEtleSh0KXtyZXR1cm4gdGhpcy5mb3JtYXR0ZWQ9ITEsdGhpcy5jYW5jZWxLZXlTcGVjPXQsdGhpc31jb252ZXJ0VG9DYW5jZWxBY2NMaXN0KHQpe2NvbnN0IGU9bS5rZXlTaWduYXR1cmUodCksaT10aGlzLmFjY0xpc3QubGVuZ3RoPjAmJmUubGVuZ3RoPjAmJmVbMF0udHlwZSE9PXRoaXMuYWNjTGlzdFswXS50eXBlLHM9aT9lLmxlbmd0aDplLmxlbmd0aC10aGlzLmFjY0xpc3QubGVuZ3RoO2lmKHM8MSlyZXR1cm47Y29uc3Qgbj1bXTtmb3IobGV0IHQ9MDt0PHM7dCsrKXtsZXQgcj10O2l8fChyPWUubGVuZ3RoLXMrdCk7Y29uc3Qgbz1lW3JdO24ucHVzaCh7dHlwZTpcIm5cIixsaW5lOm8ubGluZX0pfXJldHVybiB0aGlzLmFjY0xpc3Q9bi5jb25jYXQodGhpcy5hY2NMaXN0KSx7YWNjTGlzdDpuLHR5cGU6ZVswXS50eXBlfX1hZGRUb1N0YXZlKHQpe3JldHVybiB0aGlzLnBhZGRpbmdGb3JjZWQ9ITAsdC5hZGRNb2RpZmllcih0aGlzKSx0aGlzfWNvbnZlcnRBY2NMaW5lcyh0LGUsaT10aGlzLmFjY0xpc3Qpe2xldCBzLG4scj0wO3N3aXRjaCh0KXtjYXNlXCJzb3ByYW5vXCI6XCIjXCI9PT1lP3M9WzIuNSwuNSwyLDAsMS41LC0uNSwxXTpyPS0xO2JyZWFrO2Nhc2VcIm1lenpvLXNvcHJhbm9cIjpcImJcIj09PWU/cz1bMCwyLC41LDIuNSwxLDMsMS41XTpyPTEuNTticmVhaztjYXNlXCJhbHRvXCI6cj0uNTticmVhaztjYXNlXCJ0ZW5vclwiOlwiI1wiPT09ZT9zPVszLDEsMi41LC41LDIsMCwxLjVdOnI9LS41O2JyZWFrO2Nhc2VcImJhcml0b25lLWZcIjpjYXNlXCJiYXJpdG9uZS1jXCI6XCJiXCI9PT1lP3M9Wy41LDIuNSwxLDMsMS41LDMuNSwyXTpyPTI7YnJlYWs7Y2FzZVwiYmFzc1wiOmNhc2VcImZyZW5jaFwiOnI9MX1pZih2b2lkIDAhPT1zKWZvcihuPTA7bjxpLmxlbmd0aDsrK24paVtuXS5saW5lPXNbbl07ZWxzZSBpZigwIT09cilmb3Iobj0wO248aS5sZW5ndGg7KytuKWlbbl0ubGluZSs9cn1nZXRQYWRkaW5nKHQpe3JldHVybiB0aGlzLmZvcm1hdHRlZHx8dGhpcy5mb3JtYXQoKSwwPT09dGhpcy5nbHlwaHMubGVuZ3RofHwhdGhpcy5wYWRkaW5nRm9yY2VkJiZ0PDI/MDp0aGlzLnBhZGRpbmd9Z2V0V2lkdGgoKXtyZXR1cm4gdGhpcy5mb3JtYXR0ZWR8fHRoaXMuZm9ybWF0KCksdGhpcy53aWR0aH1zZXRLZXlTaWcodCxlLGkpe3JldHVybiB0aGlzLmZvcm1hdHRlZD0hMSx0aGlzLmtleVNwZWM9dCx0aGlzLmNhbmNlbEtleVNwZWM9ZSx0aGlzLmFsdGVyS2V5U3BlYz1pLHRoaXN9YWx0ZXJLZXkodCl7cmV0dXJuIHRoaXMuZm9ybWF0dGVkPSExLHRoaXMuYWx0ZXJLZXlTcGVjPXQsdGhpc31jb252ZXJ0VG9BbHRlckFjY0xpc3QodCl7Y29uc3QgZT1NYXRoLm1pbih0Lmxlbmd0aCx0aGlzLmFjY0xpc3QubGVuZ3RoKTtmb3IobGV0IGk9MDtpPGU7KytpKXRbaV0mJih0aGlzLmFjY0xpc3RbaV0udHlwZT10W2ldKX1mb3JtYXQoKXtpZighdGhpcy5zdGF2ZSl0aHJvdyBuZXcgcy5SRVJSKFwiS2V5U2lnbmF0dXJlRXJyb3JcIixcIkNhbid0IGRyYXcga2V5IHNpZ25hdHVyZSB3aXRob3V0IHN0YXZlLlwiKTt0aGlzLndpZHRoPTAsdGhpcy5nbHlwaHM9W10sdGhpcy54UG9zaXRpb25zPVswXSx0aGlzLmFjY0xpc3Q9bS5rZXlTaWduYXR1cmUodGhpcy5rZXlTcGVjKTtjb25zdCB0PXRoaXMuYWNjTGlzdCxlPXQubGVuZ3RoPjA/dFswXS50eXBlOm51bGw7bGV0IGk7aWYodGhpcy5jYW5jZWxLZXlTcGVjJiYoaT10aGlzLmNvbnZlcnRUb0NhbmNlbEFjY0xpc3QodGhpcy5jYW5jZWxLZXlTcGVjKSksdGhpcy5hbHRlcktleVNwZWMmJnRoaXMuY29udmVydFRvQWx0ZXJBY2NMaXN0KHRoaXMuYWx0ZXJLZXlTcGVjKSx0aGlzLmFjY0xpc3QubGVuZ3RoPjApe2NvbnN0IHM9KHRoaXMucG9zaXRpb249PT1kdC5Qb3NpdGlvbi5FTkQ/dGhpcy5zdGF2ZS5lbmRDbGVmOnRoaXMuc3RhdmUuY2xlZil8fHRoaXMuc3RhdmUuY2xlZjtpJiZ0aGlzLmNvbnZlcnRBY2NMaW5lcyhzLGkudHlwZSxpLmFjY0xpc3QpLHRoaXMuY29udmVydEFjY0xpbmVzKHMsZSx0KTtmb3IobGV0IHQ9MDt0PHRoaXMuYWNjTGlzdC5sZW5ndGg7Kyt0KXRoaXMuY29udmVydFRvR2x5cGgodGhpcy5hY2NMaXN0W3RdLHRoaXMuYWNjTGlzdFt0KzFdKX10aGlzLmZvcm1hdHRlZD0hMH1kcmF3KCl7aWYoIXRoaXMueCl0aHJvdyBuZXcgcy5SRVJSKFwiS2V5U2lnbmF0dXJlRXJyb3JcIixcIkNhbid0IGRyYXcga2V5IHNpZ25hdHVyZSB3aXRob3V0IHguXCIpO2lmKCF0aGlzLnN0YXZlKXRocm93IG5ldyBzLlJFUlIoXCJLZXlTaWduYXR1cmVFcnJvclwiLFwiQ2FuJ3QgZHJhdyBrZXkgc2lnbmF0dXJlIHdpdGhvdXQgc3RhdmUuXCIpO3RoaXMuZm9ybWF0dGVkfHx0aGlzLmZvcm1hdCgpLHRoaXMuc2V0UmVuZGVyZWQoKTtmb3IobGV0IHQ9MDt0PHRoaXMuZ2x5cGhzLmxlbmd0aDt0Kyspe2NvbnN0IGU9dGhpcy5nbHlwaHNbdF0saT10aGlzLngrdGhpcy54UG9zaXRpb25zW3RdO2Uuc2V0U3RhdmUodGhpcy5zdGF2ZSksZS5zZXRDb250ZXh0KHRoaXMuc3RhdmUuY29udGV4dCksZS5yZW5kZXJUb1N0YXZlKGkpfX19Y2xhc3MgRXQgZXh0ZW5kcyBkdHtzdGF0aWMgZ2V0IENBVEVHT1JZKCl7cmV0dXJuXCJ0aW1lc2lnbmF0dXJlc1wifXN0YXRpYyBnZXQgZ2x5cGhzKCl7cmV0dXJue0M6e2NvZGU6XCJ2NDFcIixwb2ludDo0MCxsaW5lOjJ9LFwiQ3xcIjp7Y29kZTpcInZiNlwiLHBvaW50OjQwLGxpbmU6Mn19fWNvbnN0cnVjdG9yKHQ9bnVsbCxlPTE1LGk9ITApe2lmKHN1cGVyKCksdGhpcy5zZXRBdHRyaWJ1dGUoXCJ0eXBlXCIsXCJUaW1lU2lnbmF0dXJlXCIpLHRoaXMudmFsaWRhdGVfYXJncz1pLG51bGw9PT10KXJldHVybjtjb25zdCBzPWU7dGhpcy5wb2ludD00MCx0aGlzLnRvcExpbmU9Mix0aGlzLmJvdHRvbUxpbmU9NCx0aGlzLnNldFBvc2l0aW9uKGR0LlBvc2l0aW9uLkJFR0lOKSx0aGlzLnNldFRpbWVTaWcodCksdGhpcy5zZXRXaWR0aCh0aGlzLnRpbWVTaWcuZ2x5cGguZ2V0TWV0cmljcygpLndpZHRoKSx0aGlzLnNldFBhZGRpbmcocyl9Z2V0Q2F0ZWdvcnkoKXtyZXR1cm4gRXQuQ0FURUdPUll9cGFyc2VUaW1lU3BlYyh0KXtpZihcIkNcIj09PXR8fFwiQ3xcIj09PXQpe2NvbnN0e2xpbmU6ZSxjb2RlOmkscG9pbnQ6c309RXQuZ2x5cGhzW3RdO3JldHVybntsaW5lOmUsbnVtOiExLGdseXBoOm5ldyBmKGkscyl9fXRoaXMudmFsaWRhdGVfYXJncyYmKHQ9Pntjb25zdCBlPXQuc3BsaXQoXCIvXCIpLmZpbHRlcih0PT5cIlwiIT09dCk7aWYoMiE9PWUubGVuZ3RoKXRocm93IG5ldyBzLlJFUlIoXCJCYWRUaW1lU2lnbmF0dXJlXCIsYEludmFsaWQgdGltZSBzcGVjOiAke3R9LiBNdXN0IGJlIGluIHRoZSBmb3JtIFwiPG51bWVyYXRvcj4vPGRlbm9taW5hdG9yPlwiYCk7ZS5mb3JFYWNoKGU9PntpZihpc05hTihOdW1iZXIoZSkpKXRocm93IG5ldyBzLlJFUlIoXCJCYWRUaW1lU2lnbmF0dXJlXCIsYEludmFsaWQgdGltZSBzcGVjOiAke3R9LiBNdXN0IGNvbnRhaW4gdHdvIHZhbGlkIG51bWJlcnMuYCl9KX0pKHQpO2NvbnN0W2UsaV09dC5zcGxpdChcIi9cIikubWFwKHQ9PnQuc3BsaXQoXCJcIikpO3JldHVybntudW06ITAsZ2x5cGg6dGhpcy5tYWtlVGltZVNpZ25hdHVyZUdseXBoKGUsaSl9fW1ha2VUaW1lU2lnbmF0dXJlR2x5cGgodCxlKXtjb25zdCBpPW5ldyBmKFwidjBcIix0aGlzLnBvaW50KTtpLnRvcEdseXBocz1bXSxpLmJvdEdseXBocz1bXTtsZXQgcz0wO2ZvcihsZXQgZT0wO2U8dC5sZW5ndGg7KytlKXtjb25zdCBuPXRbZV0scj1uZXcgZihcInZcIituLHRoaXMucG9pbnQpO2kudG9wR2x5cGhzLnB1c2gocikscys9ci5nZXRNZXRyaWNzKCkud2lkdGh9bGV0IG49MDtmb3IobGV0IHQ9MDt0PGUubGVuZ3RoOysrdCl7Y29uc3Qgcz1lW3RdLHI9bmV3IGYoXCJ2XCIrcyx0aGlzLnBvaW50KTtpLmJvdEdseXBocy5wdXNoKHIpLG4rPXIuZ2V0TWV0cmljcygpLndpZHRofWNvbnN0IHI9cz5uP3M6bixvPWkuZ2V0TWV0cmljcygpLnhfbWluO2kuZ2V0TWV0cmljcz0oKT0+KHt4X21pbjpvLHhfbWF4Om8rcix3aWR0aDpyfSk7Y29uc3QgYT0oci1zKS8yLGg9KHItbikvMixsPXRoaXM7cmV0dXJuIGkucmVuZGVyVG9TdGF2ZT1mdW5jdGlvbih0KXtsZXQgZT10K2E7Zm9yKGxldCB0PTA7dDx0aGlzLnRvcEdseXBocy5sZW5ndGg7Kyt0KXtjb25zdCBpPXRoaXMudG9wR2x5cGhzW3RdO2YucmVuZGVyT3V0bGluZSh0aGlzLmNvbnRleHQsaS5tZXRyaWNzLm91dGxpbmUsaS5zY2FsZSxlK2kueF9zaGlmdCx0aGlzLnN0YXZlLmdldFlGb3JMaW5lKGwudG9wTGluZSkpLGUrPWkuZ2V0TWV0cmljcygpLndpZHRofWU9dCtoO2ZvcihsZXQgdD0wO3Q8dGhpcy5ib3RHbHlwaHMubGVuZ3RoOysrdCl7Y29uc3QgaT10aGlzLmJvdEdseXBoc1t0XTtsLnBsYWNlR2x5cGhPbkxpbmUoaSx0aGlzLnN0YXZlLGkubGluZSksZi5yZW5kZXJPdXRsaW5lKHRoaXMuY29udGV4dCxpLm1ldHJpY3Mub3V0bGluZSxpLnNjYWxlLGUraS54X3NoaWZ0LHRoaXMuc3RhdmUuZ2V0WUZvckxpbmUobC5ib3R0b21MaW5lKSksZSs9aS5nZXRNZXRyaWNzKCkud2lkdGh9fSxpfWdldFRpbWVTaWcoKXtyZXR1cm4gdGhpcy50aW1lU2lnfXNldFRpbWVTaWcodCl7cmV0dXJuIHRoaXMudGltZVNpZz10aGlzLnBhcnNlVGltZVNwZWModCksdGhpc31kcmF3KCl7aWYoIXRoaXMueCl0aHJvdyBuZXcgcy5SRVJSKFwiVGltZVNpZ25hdHVyZUVycm9yXCIsXCJDYW4ndCBkcmF3IHRpbWUgc2lnbmF0dXJlIHdpdGhvdXQgeC5cIik7aWYoIXRoaXMuc3RhdmUpdGhyb3cgbmV3IHMuUkVSUihcIlRpbWVTaWduYXR1cmVFcnJvclwiLFwiQ2FuJ3QgZHJhdyB0aW1lIHNpZ25hdHVyZSB3aXRob3V0IHN0YXZlLlwiKTt0aGlzLnNldFJlbmRlcmVkKCksdGhpcy50aW1lU2lnLmdseXBoLnNldFN0YXZlKHRoaXMuc3RhdmUpLHRoaXMudGltZVNpZy5nbHlwaC5zZXRDb250ZXh0KHRoaXMuc3RhdmUuY29udGV4dCksdGhpcy5wbGFjZUdseXBoT25MaW5lKHRoaXMudGltZVNpZy5nbHlwaCx0aGlzLnN0YXZlLHRoaXMudGltZVNpZy5saW5lKSx0aGlzLnRpbWVTaWcuZ2x5cGgucmVuZGVyVG9TdGF2ZSh0aGlzLngpfX1jbGFzcyB2dCBleHRlbmRzIGR0e3N0YXRpYyBnZXQgQ0FURUdPUlkoKXtyZXR1cm5cInZvbHRhc1wifXN0YXRpYyBnZXQgdHlwZSgpe3JldHVybntOT05FOjEsQkVHSU46MixNSUQ6MyxFTkQ6NCxCRUdJTl9FTkQ6NX19Y29uc3RydWN0b3IodCxlLGkscyl7c3VwZXIoKSx0aGlzLnNldEF0dHJpYnV0ZShcInR5cGVcIixcIlZvbHRhXCIpLHRoaXMudm9sdGE9dCx0aGlzLng9aSx0aGlzLnlfc2hpZnQ9cyx0aGlzLm51bWJlcj1lLHRoaXMuZm9udD17ZmFtaWx5Olwic2Fucy1zZXJpZlwiLHNpemU6OSx3ZWlnaHQ6XCJib2xkXCJ9fWdldENhdGVnb3J5KCl7cmV0dXJuIHZ0LkNBVEVHT1JZfXNldFNoaWZ0WSh0KXtyZXR1cm4gdGhpcy55X3NoaWZ0PXQsdGhpc31kcmF3KHQsZSl7Y29uc3QgaT10LmNoZWNrQ29udGV4dCgpO3RoaXMuc2V0UmVuZGVyZWQoKTtsZXQgcz10LndpZHRoO2NvbnN0IG49dC5nZXRZRm9yVG9wVGV4dCh0Lm9wdGlvbnMubnVtX2xpbmVzKSt0aGlzLnlfc2hpZnQscj0xLjUqdC5vcHRpb25zLnNwYWNpbmdfYmV0d2Vlbl9saW5lc19weDtzd2l0Y2godGhpcy52b2x0YSl7Y2FzZSB2dC50eXBlLkJFR0lOOmkuZmlsbFJlY3QodGhpcy54K2UsbiwxLHIpO2JyZWFrO2Nhc2UgdnQudHlwZS5FTkQ6cy09NSxpLmZpbGxSZWN0KHRoaXMueCtlK3MsbiwxLHIpO2JyZWFrO2Nhc2UgdnQudHlwZS5CRUdJTl9FTkQ6cy09MyxpLmZpbGxSZWN0KHRoaXMueCtlLG4sMSxyKSxpLmZpbGxSZWN0KHRoaXMueCtlK3MsbiwxLHIpfXJldHVybiB0aGlzLnZvbHRhIT09dnQudHlwZS5CRUdJTiYmdGhpcy52b2x0YSE9PXZ0LnR5cGUuQkVHSU5fRU5EfHwoaS5zYXZlKCksaS5zZXRGb250KHRoaXMuZm9udC5mYW1pbHksdGhpcy5mb250LnNpemUsdGhpcy5mb250LndlaWdodCksaS5maWxsVGV4dCh0aGlzLm51bWJlcix0aGlzLngrZSs1LG4rMTUpLGkucmVzdG9yZSgpKSxpLmZpbGxSZWN0KHRoaXMueCtlLG4scywxKSx0aGlzfX1jbGFzcyBfdCBleHRlbmRzIGh7Y29uc3RydWN0b3IodCxlLGksbil7c3VwZXIoKSx0aGlzLnNldEF0dHJpYnV0ZShcInR5cGVcIixcIlN0YXZlXCIpLHRoaXMueD10LHRoaXMueT1lLHRoaXMud2lkdGg9aSx0aGlzLmZvcm1hdHRlZD0hMSx0aGlzLnN0YXJ0X3g9dCs1LHRoaXMuZW5kX3g9dCtpLHRoaXMubW9kaWZpZXJzPVtdLHRoaXMubWVhc3VyZT0wLHRoaXMuY2xlZj1cInRyZWJsZVwiLHRoaXMuZW5kQ2xlZj12b2lkIDAsdGhpcy5mb250PXtmYW1pbHk6XCJzYW5zLXNlcmlmXCIsc2l6ZTo4LHdlaWdodDpcIlwifSx0aGlzLm9wdGlvbnM9e3ZlcnRpY2FsX2Jhcl93aWR0aDoxMCxnbHlwaF9zcGFjaW5nX3B4OjEwLG51bV9saW5lczo1LGZpbGxfc3R5bGU6XCIjOTk5OTk5XCIsbGVmdF9iYXI6ITAscmlnaHRfYmFyOiEwLHNwYWNpbmdfYmV0d2Vlbl9saW5lc19weDoxMCxzcGFjZV9hYm92ZV9zdGFmZl9sbjo0LHNwYWNlX2JlbG93X3N0YWZmX2xuOjQsdG9wX3RleHRfcG9zaXRpb246MX0sdGhpcy5ib3VuZHM9e3g6dGhpcy54LHk6dGhpcy55LHc6dGhpcy53aWR0aCxoOjB9LHMuTWVyZ2UodGhpcy5vcHRpb25zLG4pLHRoaXMucmVzZXRMaW5lcygpO2NvbnN0IHI9ZnQudHlwZTt0aGlzLmFkZE1vZGlmaWVyKG5ldyBmdCh0aGlzLm9wdGlvbnMubGVmdF9iYXI/ci5TSU5HTEU6ci5OT05FKSksdGhpcy5hZGRFbmRNb2RpZmllcihuZXcgZnQodGhpcy5vcHRpb25zLnJpZ2h0X2Jhcj9yLlNJTkdMRTpyLk5PTkUpKX1zcGFjZSh0KXtyZXR1cm4gdGhpcy5vcHRpb25zLnNwYWNpbmdfYmV0d2Vlbl9saW5lc19weCp0fXJlc2V0TGluZXMoKXt0aGlzLm9wdGlvbnMubGluZV9jb25maWc9W107Zm9yKGxldCB0PTA7dDx0aGlzLm9wdGlvbnMubnVtX2xpbmVzO3QrKyl0aGlzLm9wdGlvbnMubGluZV9jb25maWcucHVzaCh7dmlzaWJsZTohMH0pO3RoaXMuaGVpZ2h0PSh0aGlzLm9wdGlvbnMubnVtX2xpbmVzK3RoaXMub3B0aW9ucy5zcGFjZV9hYm92ZV9zdGFmZl9sbikqdGhpcy5vcHRpb25zLnNwYWNpbmdfYmV0d2Vlbl9saW5lc19weCx0aGlzLm9wdGlvbnMuYm90dG9tX3RleHRfcG9zaXRpb249dGhpcy5vcHRpb25zLm51bV9saW5lc31nZXRPcHRpb25zKCl7cmV0dXJuIHRoaXMub3B0aW9uc31zZXROb3RlU3RhcnRYKHQpe3RoaXMuZm9ybWF0dGVkfHx0aGlzLmZvcm1hdCgpLHRoaXMuc3RhcnRfeD10O2NvbnN0IGU9dGhpcy5tb2RpZmllcnNbMF07cmV0dXJuIGUuc2V0WCh0aGlzLnN0YXJ0X3gtZS5nZXRXaWR0aCgpKSx0aGlzfWdldE5vdGVTdGFydFgoKXtyZXR1cm4gdGhpcy5mb3JtYXR0ZWR8fHRoaXMuZm9ybWF0KCksdGhpcy5zdGFydF94fWdldE5vdGVFbmRYKCl7cmV0dXJuIHRoaXMuZm9ybWF0dGVkfHx0aGlzLmZvcm1hdCgpLHRoaXMuZW5kX3h9Z2V0VGllU3RhcnRYKCl7cmV0dXJuIHRoaXMuc3RhcnRfeH1nZXRUaWVFbmRYKCl7cmV0dXJuIHRoaXMueCt0aGlzLndpZHRofWdldFgoKXtyZXR1cm4gdGhpcy54fWdldE51bUxpbmVzKCl7cmV0dXJuIHRoaXMub3B0aW9ucy5udW1fbGluZXN9c2V0TnVtTGluZXModCl7cmV0dXJuIHRoaXMub3B0aW9ucy5udW1fbGluZXM9cGFyc2VJbnQodCwxMCksdGhpcy5yZXNldExpbmVzKCksdGhpc31zZXRZKHQpe3JldHVybiB0aGlzLnk9dCx0aGlzfWdldFRvcExpbmVUb3BZKCl7cmV0dXJuIHRoaXMuZ2V0WUZvckxpbmUoMCktbS5TVEFWRV9MSU5FX1RISUNLTkVTUy8yfWdldEJvdHRvbUxpbmVCb3R0b21ZKCl7cmV0dXJuIHRoaXMuZ2V0WUZvckxpbmUodGhpcy5nZXROdW1MaW5lcygpLTEpK20uU1RBVkVfTElORV9USElDS05FU1MvMn1zZXRYKHQpe2NvbnN0IGU9dC10aGlzLng7dGhpcy5mb3JtYXR0ZWQ9ITEsdGhpcy54PXQsdGhpcy5zdGFydF94Kz1lLHRoaXMuZW5kX3grPWU7Zm9yKGxldCB0PTA7dDx0aGlzLm1vZGlmaWVycy5sZW5ndGg7dCsrKXtjb25zdCBpPXRoaXMubW9kaWZpZXJzW3RdO3ZvaWQgMCE9PWkueCYmKGkueCs9ZSl9cmV0dXJuIHRoaXN9c2V0V2lkdGgodCl7cmV0dXJuIHRoaXMuZm9ybWF0dGVkPSExLHRoaXMud2lkdGg9dCx0aGlzLmVuZF94PXRoaXMueCt0LHRoaXN9Z2V0V2lkdGgoKXtyZXR1cm4gdGhpcy53aWR0aH1nZXRTdHlsZSgpe3JldHVybntmaWxsU3R5bGU6dGhpcy5vcHRpb25zLmZpbGxfc3R5bGUsc3Ryb2tlU3R5bGU6dGhpcy5vcHRpb25zLmZpbGxfc3R5bGUsbGluZVdpZHRoOm0uU1RBVkVfTElORV9USElDS05FU1MsLi4udGhpcy5zdHlsZXx8e319fXNldE1lYXN1cmUodCl7cmV0dXJuIHRoaXMubWVhc3VyZT10LHRoaXN9Z2V0TW9kaWZpZXJYU2hpZnQodD0wKXtpZihcIm51bWJlclwiIT10eXBlb2YgdCl0aHJvdyBuZXcgcy5SRVJSKFwiSW52YWxpZEluZGV4XCIsXCJNdXN0IGJlIG9mIG51bWJlciB0eXBlXCIpO2lmKHRoaXMuZm9ybWF0dGVkfHx0aGlzLmZvcm1hdCgpLDE9PT10aGlzLmdldE1vZGlmaWVycyhkdC5Qb3NpdGlvbi5CRUdJTikubGVuZ3RoKXJldHVybiAwO2xldCBlPXRoaXMuc3RhcnRfeC10aGlzLng7Y29uc3QgaT10aGlzLm1vZGlmaWVyc1swXTtyZXR1cm4gaS5nZXRUeXBlKCk9PT1mdC50eXBlLlJFUEVBVF9CRUdJTiYmZT5pLmdldFdpZHRoKCkmJihlLT1pLmdldFdpZHRoKCkpLGV9c2V0UmVwZXRpdGlvblR5cGVMZWZ0KHQsZSl7cmV0dXJuIHRoaXMubW9kaWZpZXJzLnB1c2gobmV3IG10KHQsdGhpcy54LGUpKSx0aGlzfXNldFJlcGV0aXRpb25UeXBlUmlnaHQodCxlKXtyZXR1cm4gdGhpcy5tb2RpZmllcnMucHVzaChuZXcgbXQodCx0aGlzLngsZSkpLHRoaXN9c2V0Vm9sdGFUeXBlKHQsZSxpKXtyZXR1cm4gdGhpcy5tb2RpZmllcnMucHVzaChuZXcgdnQodCxlLHRoaXMueCxpKSksdGhpc31zZXRTZWN0aW9uKHQsZSl7cmV0dXJuIHRoaXMubW9kaWZpZXJzLnB1c2gobmV3IHB0KHQsdGhpcy54LGUpKSx0aGlzfXNldFRlbXBvKHQsZSl7cmV0dXJuIHRoaXMubW9kaWZpZXJzLnB1c2gobmV3IGd0KHQsdGhpcy54LGUpKSx0aGlzfXNldFRleHQodCxlLGkpe3JldHVybiB0aGlzLm1vZGlmaWVycy5wdXNoKG5ldyBTdCh0LGUsaSkpLHRoaXN9Z2V0SGVpZ2h0KCl7cmV0dXJuIHRoaXMuaGVpZ2h0fWdldFNwYWNpbmdCZXR3ZWVuTGluZXMoKXtyZXR1cm4gdGhpcy5vcHRpb25zLnNwYWNpbmdfYmV0d2Vlbl9saW5lc19weH1nZXRCb3VuZGluZ0JveCgpe3JldHVybiBuZXcgYyh0aGlzLngsdGhpcy55LHRoaXMud2lkdGgsdGhpcy5nZXRCb3R0b21ZKCktdGhpcy55KX1nZXRCb3R0b21ZKCl7Y29uc3QgdD10aGlzLm9wdGlvbnMsZT10LnNwYWNpbmdfYmV0d2Vlbl9saW5lc19weDtyZXR1cm4gdGhpcy5nZXRZRm9yTGluZSh0Lm51bV9saW5lcykrdC5zcGFjZV9iZWxvd19zdGFmZl9sbiplfWdldEJvdHRvbUxpbmVZKCl7cmV0dXJuIHRoaXMuZ2V0WUZvckxpbmUodGhpcy5vcHRpb25zLm51bV9saW5lcyl9Z2V0WUZvckxpbmUodCl7Y29uc3QgZT10aGlzLm9wdGlvbnMsaT1lLnNwYWNpbmdfYmV0d2Vlbl9saW5lc19weCxzPWUuc3BhY2VfYWJvdmVfc3RhZmZfbG47cmV0dXJuIHRoaXMueSt0KmkrcyppfWdldExpbmVGb3JZKHQpe2NvbnN0IGU9dGhpcy5vcHRpb25zLGk9ZS5zcGFjaW5nX2JldHdlZW5fbGluZXNfcHgscz1lLnNwYWNlX2Fib3ZlX3N0YWZmX2xuO3JldHVybih0LXRoaXMueSkvaS1zfWdldFlGb3JUb3BUZXh0KHQpe2NvbnN0IGU9dHx8MDtyZXR1cm4gdGhpcy5nZXRZRm9yTGluZSgtZS10aGlzLm9wdGlvbnMudG9wX3RleHRfcG9zaXRpb24pfWdldFlGb3JCb3R0b21UZXh0KHQpe2NvbnN0IGU9dHx8MDtyZXR1cm4gdGhpcy5nZXRZRm9yTGluZSh0aGlzLm9wdGlvbnMuYm90dG9tX3RleHRfcG9zaXRpb24rZSl9Z2V0WUZvck5vdGUodCl7Y29uc3QgZT10aGlzLm9wdGlvbnMsaT1lLnNwYWNpbmdfYmV0d2Vlbl9saW5lc19weCxzPWUuc3BhY2VfYWJvdmVfc3RhZmZfbG47cmV0dXJuIHRoaXMueStzKmkrNSppLXQqaX1nZXRZRm9yR2x5cGhzKCl7cmV0dXJuIHRoaXMuZ2V0WUZvckxpbmUoMyl9YWRkTW9kaWZpZXIodCxlKXtyZXR1cm4gdm9pZCAwIT09ZSYmdC5zZXRQb3NpdGlvbihlKSx0LnNldFN0YXZlKHRoaXMpLHRoaXMuZm9ybWF0dGVkPSExLHRoaXMubW9kaWZpZXJzLnB1c2godCksdGhpc31hZGRFbmRNb2RpZmllcih0KXtyZXR1cm4gdGhpcy5hZGRNb2RpZmllcih0LGR0LlBvc2l0aW9uLkVORCksdGhpc31zZXRCZWdCYXJUeXBlKHQpe2NvbnN0e1NJTkdMRTplLFJFUEVBVF9CRUdJTjppLE5PTkU6c309ZnQudHlwZTtyZXR1cm4gdCE9PWUmJnQhPT1pJiZ0IT09c3x8KHRoaXMubW9kaWZpZXJzWzBdLnNldFR5cGUodCksdGhpcy5mb3JtYXR0ZWQ9ITEpLHRoaXN9c2V0RW5kQmFyVHlwZSh0KXtyZXR1cm4gdCE9PWZ0LnR5cGUuUkVQRUFUX0JFR0lOJiYodGhpcy5tb2RpZmllcnNbMV0uc2V0VHlwZSh0KSx0aGlzLmZvcm1hdHRlZD0hMSksdGhpc31zZXRDbGVmKHQsZSxpLHMpe3ZvaWQgMD09PXMmJihzPWR0LlBvc2l0aW9uLkJFR0lOKSxzPT09ZHQuUG9zaXRpb24uRU5EP3RoaXMuZW5kQ2xlZj10OnRoaXMuY2xlZj10O2NvbnN0IG49dGhpcy5nZXRNb2RpZmllcnMocyx5dC5DQVRFR09SWSk7cmV0dXJuIDA9PT1uLmxlbmd0aD90aGlzLmFkZENsZWYodCxlLGkscyk6blswXS5zZXRUeXBlKHQsZSxpKSx0aGlzfXNldEVuZENsZWYodCxlLGkpe3JldHVybiB0aGlzLnNldENsZWYodCxlLGksZHQuUG9zaXRpb24uRU5EKSx0aGlzfXNldEtleVNpZ25hdHVyZSh0LGUsaSl7dm9pZCAwPT09aSYmKGk9ZHQuUG9zaXRpb24uQkVHSU4pO2NvbnN0IHM9dGhpcy5nZXRNb2RpZmllcnMoaSx4dC5DQVRFR09SWSk7cmV0dXJuIDA9PT1zLmxlbmd0aD90aGlzLmFkZEtleVNpZ25hdHVyZSh0LGUsaSk6c1swXS5zZXRLZXlTaWcodCxlKSx0aGlzfXNldEVuZEtleVNpZ25hdHVyZSh0LGUpe3JldHVybiB0aGlzLnNldEtleVNpZ25hdHVyZSh0LGUsZHQuUG9zaXRpb24uRU5EKSx0aGlzfXNldFRpbWVTaWduYXR1cmUodCxlLGkpe3ZvaWQgMD09PWkmJihpPWR0LlBvc2l0aW9uLkJFR0lOKTtjb25zdCBzPXRoaXMuZ2V0TW9kaWZpZXJzKGksRXQuQ0FURUdPUlkpO3JldHVybiAwPT09cy5sZW5ndGg/dGhpcy5hZGRUaW1lU2lnbmF0dXJlKHQsZSxpKTpzWzBdLnNldFRpbWVTaWcodCksdGhpc31zZXRFbmRUaW1lU2lnbmF0dXJlKHQsZSl7cmV0dXJuIHRoaXMuc2V0VGltZVNpZ25hdHVyZSh0LGUsZHQuUG9zaXRpb24uRU5EKSx0aGlzfWFkZEtleVNpZ25hdHVyZSh0LGUsaSl7cmV0dXJuIHZvaWQgMD09PWkmJihpPWR0LlBvc2l0aW9uLkJFR0lOKSx0aGlzLmFkZE1vZGlmaWVyKG5ldyB4dCh0LGUpLnNldFBvc2l0aW9uKGkpLGkpLHRoaXN9YWRkQ2xlZih0LGUsaSxzKXtyZXR1cm4gdm9pZCAwPT09c3x8cz09PWR0LlBvc2l0aW9uLkJFR0lOP3RoaXMuY2xlZj10OnM9PT1kdC5Qb3NpdGlvbi5FTkQmJih0aGlzLmVuZENsZWY9dCksdGhpcy5hZGRNb2RpZmllcihuZXcgeXQodCxlLGkpLHMpLHRoaXN9YWRkRW5kQ2xlZih0LGUsaSl7cmV0dXJuIHRoaXMuYWRkQ2xlZih0LGUsaSxkdC5Qb3NpdGlvbi5FTkQpLHRoaXN9YWRkVGltZVNpZ25hdHVyZSh0LGUsaSl7cmV0dXJuIHRoaXMuYWRkTW9kaWZpZXIobmV3IEV0KHQsZSksaSksdGhpc31hZGRFbmRUaW1lU2lnbmF0dXJlKHQsZSl7cmV0dXJuIHRoaXMuYWRkVGltZVNpZ25hdHVyZSh0LGUsZHQuUG9zaXRpb24uRU5EKSx0aGlzfWFkZFRyZWJsZUdseXBoKCl7cmV0dXJuIHRoaXMuYWRkQ2xlZihcInRyZWJsZVwiKSx0aGlzfWdldE1vZGlmaWVycyh0LGUpe3JldHVybiB2b2lkIDA9PT10JiZ2b2lkIDA9PT1lP3RoaXMubW9kaWZpZXJzOnRoaXMubW9kaWZpZXJzLmZpbHRlcihpPT4hKHZvaWQgMCE9PXQmJnQhPT1pLmdldFBvc2l0aW9uKCl8fHZvaWQgMCE9PWUmJmUhPT1pLmdldENhdGVnb3J5KCkpKX1zb3J0QnlDYXRlZ29yeSh0LGUpe2ZvcihsZXQgaT10Lmxlbmd0aC0xO2k+PTA7aS0tKWZvcihsZXQgcz0wO3M8aTtzKyspaWYoZVt0W3NdLmdldENhdGVnb3J5KCldPmVbdFtzKzFdLmdldENhdGVnb3J5KCldKXtjb25zdCBlPXRbc107dFtzXT10W3MrMV0sdFtzKzFdPWV9fWZvcm1hdCgpe2NvbnN0IHQ9dGhpcy5tb2RpZmllcnNbMF0sZT10aGlzLm1vZGlmaWVyc1sxXSxpPXRoaXMuZ2V0TW9kaWZpZXJzKGR0LlBvc2l0aW9uLkJFR0lOKSxzPXRoaXMuZ2V0TW9kaWZpZXJzKGR0LlBvc2l0aW9uLkVORCk7bGV0IG4scixvO3RoaXMuc29ydEJ5Q2F0ZWdvcnkoaSx7YmFybGluZXM6MCxjbGVmczoxLGtleXNpZ25hdHVyZXM6Mix0aW1lc2lnbmF0dXJlczozfSksdGhpcy5zb3J0QnlDYXRlZ29yeShzLHt0aW1lc2lnbmF0dXJlczowLGtleXNpZ25hdHVyZXM6MSxiYXJsaW5lczoyLGNsZWZzOjN9KSxpLmxlbmd0aD4xJiZ0LmdldFR5cGUoKT09PWZ0LnR5cGUuUkVQRUFUX0JFR0lOJiYoaS5wdXNoKGkuc3BsaWNlKDAsMSlbMF0pLGkuc3BsaWNlKDAsMCxuZXcgZnQoZnQudHlwZS5TSU5HTEUpKSkscy5pbmRleE9mKGUpPjAmJnMuc3BsaWNlKDAsMCxuZXcgZnQoZnQudHlwZS5OT05FKSk7bGV0IGE9MCxoPXRoaXMueDtmb3IobGV0IHQ9MDt0PGkubGVuZ3RoO3QrKylvPWlbdF0scj1vLmdldFBhZGRpbmcodCthKSxuPW8uZ2V0V2lkdGgoKSxoKz1yLG8uc2V0WChoKSxoKz1uLHIrbj09PTAmJmEtLTt0aGlzLnN0YXJ0X3g9aCxoPXRoaXMueCt0aGlzLndpZHRoO2NvbnN0IGw9e2xlZnQ6MCxyaWdodDowLHBhZGRpbmdSaWdodDowLHBhZGRpbmdMZWZ0OjB9O2xldCBjPTA7Zm9yKGxldCB0PTA7dDxzLmxlbmd0aDt0Kyspe289c1t0XSxjPVwiYmFybGluZXNcIj09PW8uZ2V0Q2F0ZWdvcnkoKT90OmMsbC5yaWdodD0wLGwubGVmdD0wLGwucGFkZGluZ1JpZ2h0PTAsbC5wYWRkaW5nTGVmdD0wO2NvbnN0IGU9by5nZXRMYXlvdXRNZXRyaWNzKCk7ZT8oMCE9PXQmJihsLnJpZ2h0PWUueE1heHx8MCxsLnBhZGRpbmdSaWdodD1lLnBhZGRpbmdSaWdodHx8MCksbC5sZWZ0PS1lLnhNaW58fDAsbC5wYWRkaW5nTGVmdD1lLnBhZGRpbmdMZWZ0fHwwLHQ9PT1zLmxlbmd0aC0xJiYobC5wYWRkaW5nTGVmdD0wKSk6KGwucGFkZGluZ1JpZ2h0PW8uZ2V0UGFkZGluZyh0LWMpLDAhPT10JiYobC5yaWdodD1vLmdldFdpZHRoKCkpLDA9PT10JiYobC5sZWZ0PW8uZ2V0V2lkdGgoKSkpLGgtPWwucGFkZGluZ1JpZ2h0LGgtPWwucmlnaHQsby5zZXRYKGgpLGgtPWwubGVmdCxoLT1sLnBhZGRpbmdMZWZ0fXRoaXMuZW5kX3g9MT09PXMubGVuZ3RoP3RoaXMueCt0aGlzLndpZHRoOmgsdGhpcy5mb3JtYXR0ZWQ9ITB9ZHJhdygpe3RoaXMuY2hlY2tDb250ZXh0KCksdGhpcy5zZXRSZW5kZXJlZCgpLHRoaXMuZm9ybWF0dGVkfHx0aGlzLmZvcm1hdCgpO2NvbnN0IHQ9dGhpcy5vcHRpb25zLm51bV9saW5lcyxlPXRoaXMud2lkdGgsaT10aGlzLng7bGV0IHM7Zm9yKGxldCBuPTA7bjx0O24rKylzPXRoaXMuZ2V0WUZvckxpbmUobiksdGhpcy5hcHBseVN0eWxlKCksdGhpcy5vcHRpb25zLmxpbmVfY29uZmlnW25dLnZpc2libGUmJih0aGlzLmNvbnRleHQuYmVnaW5QYXRoKCksdGhpcy5jb250ZXh0Lm1vdmVUbyhpLHMpLHRoaXMuY29udGV4dC5saW5lVG8oaStlLHMpLHRoaXMuY29udGV4dC5zdHJva2UoKSksdGhpcy5yZXN0b3JlU3R5bGUoKTtmb3IobGV0IHQ9MDt0PHRoaXMubW9kaWZpZXJzLmxlbmd0aDt0KyspXCJmdW5jdGlvblwiPT10eXBlb2YgdGhpcy5tb2RpZmllcnNbdF0uZHJhdyYmKHRoaXMubW9kaWZpZXJzW3RdLmFwcGx5U3R5bGUodGhpcy5jb250ZXh0KSx0aGlzLm1vZGlmaWVyc1t0XS5kcmF3KHRoaXMsdGhpcy5nZXRNb2RpZmllclhTaGlmdCh0KSksdGhpcy5tb2RpZmllcnNbdF0ucmVzdG9yZVN0eWxlKHRoaXMuY29udGV4dCkpO2lmKHRoaXMubWVhc3VyZT4wKXt0aGlzLmNvbnRleHQuc2F2ZSgpLHRoaXMuY29udGV4dC5zZXRGb250KHRoaXMuZm9udC5mYW1pbHksdGhpcy5mb250LnNpemUsdGhpcy5mb250LndlaWdodCk7Y29uc3QgdD10aGlzLmNvbnRleHQubWVhc3VyZVRleHQoXCJcIit0aGlzLm1lYXN1cmUpLndpZHRoO3M9dGhpcy5nZXRZRm9yVG9wVGV4dCgwKSszLHRoaXMuY29udGV4dC5maWxsVGV4dChcIlwiK3RoaXMubWVhc3VyZSx0aGlzLngtdC8yLHMpLHRoaXMuY29udGV4dC5yZXN0b3JlKCl9cmV0dXJuIHRoaXN9ZHJhd1ZlcnRpY2FsKHQsZSl7dGhpcy5kcmF3VmVydGljYWxGaXhlZCh0aGlzLngrdCxlKX1kcmF3VmVydGljYWxGaXhlZCh0LGUpe3RoaXMuY2hlY2tDb250ZXh0KCk7Y29uc3QgaT10aGlzLmdldFlGb3JMaW5lKDApLHM9dGhpcy5nZXRZRm9yTGluZSh0aGlzLm9wdGlvbnMubnVtX2xpbmVzLTEpO2UmJnRoaXMuY29udGV4dC5maWxsUmVjdCh0LTMsaSwxLHMtaSsxKSx0aGlzLmNvbnRleHQuZmlsbFJlY3QodCxpLDEscy1pKzEpfWRyYXdWZXJ0aWNhbEJhcih0KXt0aGlzLmRyYXdWZXJ0aWNhbEJhckZpeGVkKHRoaXMueCt0LCExKX1kcmF3VmVydGljYWxCYXJGaXhlZCh0KXt0aGlzLmNoZWNrQ29udGV4dCgpO2NvbnN0IGU9dGhpcy5nZXRZRm9yTGluZSgwKSxpPXRoaXMuZ2V0WUZvckxpbmUodGhpcy5vcHRpb25zLm51bV9saW5lcy0xKTt0aGlzLmNvbnRleHQuZmlsbFJlY3QodCxlLDEsaS1lKzEpfWdldENvbmZpZ0ZvckxpbmVzKCl7cmV0dXJuIHRoaXMub3B0aW9ucy5saW5lX2NvbmZpZ31zZXRDb25maWdGb3JMaW5lKHQsZSl7aWYodD49dGhpcy5vcHRpb25zLm51bV9saW5lc3x8dDwwKXRocm93IG5ldyBzLlJFUlIoXCJTdGF2ZUNvbmZpZ0Vycm9yXCIsXCJUaGUgbGluZSBudW1iZXIgbXVzdCBiZSB3aXRoaW4gdGhlIHJhbmdlIG9mIHRoZSBudW1iZXIgb2YgbGluZXMgaW4gdGhlIFN0YXZlLlwiKTtpZih2b2lkIDA9PT1lLnZpc2libGUpdGhyb3cgbmV3IHMuUkVSUihcIlN0YXZlQ29uZmlnRXJyb3JcIixcIlRoZSBsaW5lIGNvbmZpZ3VyYXRpb24gb2JqZWN0IGlzIG1pc3NpbmcgdGhlICd2aXNpYmxlJyBwcm9wZXJ0eS5cIik7aWYoXCJib29sZWFuXCIhPXR5cGVvZiBlLnZpc2libGUpdGhyb3cgbmV3IHMuUkVSUihcIlN0YXZlQ29uZmlnRXJyb3JcIixcIlRoZSBsaW5lIGNvbmZpZ3VyYXRpb24gb2JqZWN0cyAndmlzaWJsZScgcHJvcGVydHkgbXVzdCBiZSB0cnVlIG9yIGZhbHNlLlwiKTtyZXR1cm4gdGhpcy5vcHRpb25zLmxpbmVfY29uZmlnW3RdPWUsdGhpc31zZXRDb25maWdGb3JMaW5lcyh0KXtpZih0Lmxlbmd0aCE9PXRoaXMub3B0aW9ucy5udW1fbGluZXMpdGhyb3cgbmV3IHMuUkVSUihcIlN0YXZlQ29uZmlnRXJyb3JcIixcIlRoZSBsZW5ndGggb2YgdGhlIGxpbmVzIGNvbmZpZ3VyYXRpb24gYXJyYXkgbXVzdCBtYXRjaCB0aGUgbnVtYmVyIG9mIGxpbmVzIGluIHRoZSBTdGF2ZVwiKTtmb3IoY29uc3QgZSBpbiB0KXRbZV18fCh0W2VdPXRoaXMub3B0aW9ucy5saW5lX2NvbmZpZ1tlXSkscy5NZXJnZSh0aGlzLm9wdGlvbnMubGluZV9jb25maWdbZV0sdFtlXSk7cmV0dXJuIHRoaXMub3B0aW9ucy5saW5lX2NvbmZpZz10LHRoaXN9fWNsYXNzIHd0IGV4dGVuZHMgX3R7Y29uc3RydWN0b3IodCxlLGksbil7Y29uc3Qgcj17c3BhY2luZ19iZXR3ZWVuX2xpbmVzX3B4OjEzLG51bV9saW5lczo2LHRvcF90ZXh0X3Bvc2l0aW9uOjF9O3MuTWVyZ2UocixuKSxzdXBlcih0LGUsaSxyKSx0aGlzLnNldEF0dHJpYnV0ZShcInR5cGVcIixcIlRhYlN0YXZlXCIpfWdldFlGb3JHbHlwaHMoKXtyZXR1cm4gdGhpcy5nZXRZRm9yTGluZSgyLjUpfWFkZFRhYkdseXBoKCl7cmV0dXJuIHRoaXMuYWRkQ2xlZihcInRhYlwiKSx0aGlzfX1jbGFzcyBNdCBleHRlbmRzIE57c3RhdGljIGdldCBDQVRFR09SWSgpe3JldHVyblwidGFibm90ZXNcIn1jb25zdHJ1Y3Rvcih0LGUpe2lmKHN1cGVyKHQpLHRoaXMuc2V0QXR0cmlidXRlKFwidHlwZVwiLFwiVGFiTm90ZVwiKSx0aGlzLmdob3N0PSExLHRoaXMucG9zaXRpb25zPXQucG9zaXRpb25zLHMuTWVyZ2UodGhpcy5yZW5kZXJfb3B0aW9ucyx7Z2x5cGhfZm9udF9zY2FsZTptLkRFRkFVTFRfVEFCTEFUVVJFX0ZPTlRfU0NBTEUsZHJhd19zdGVtOmUsZHJhd19kb3RzOmUsZHJhd19zdGVtX3Rocm91Z2hfc3RhdmU6ITEseV9zaGlmdDowLHNjYWxlOjEsZm9udDpcIjEwcHQgQXJpYWxcIn0pLHRoaXMuZ2x5cGg9bS5nZXRHbHlwaFByb3BzKHRoaXMuZHVyYXRpb24sdGhpcy5ub3RlVHlwZSksIXRoaXMuZ2x5cGgpdGhyb3cgbmV3IHMuUnVudGltZUVycm9yKFwiQmFkQXJndW1lbnRzXCIsYEludmFsaWQgbm90ZSBpbml0aWFsaXphdGlvbiBkYXRhIChObyBnbHlwaCBmb3VuZCk6ICR7SlNPTi5zdHJpbmdpZnkodCl9YCk7dGhpcy5idWlsZFN0ZW0oKSx0LnN0ZW1fZGlyZWN0aW9uP3RoaXMuc2V0U3RlbURpcmVjdGlvbih0LnN0ZW1fZGlyZWN0aW9uKTp0aGlzLnNldFN0ZW1EaXJlY3Rpb24oRS5VUCksdGhpcy5naG9zdD0hMSx0aGlzLnVwZGF0ZVdpZHRoKCl9cmVzZXQoKXt0aGlzLnN0YXZlJiZ0aGlzLnNldFN0YXZlKHRoaXMuc3RhdmUpfWdldENhdGVnb3J5KCl7cmV0dXJuIE10LkNBVEVHT1JZfXNldEdob3N0KHQpe3JldHVybiB0aGlzLmdob3N0PXQsdGhpcy51cGRhdGVXaWR0aCgpLHRoaXN9aGFzU3RlbSgpe3JldHVybiB0aGlzLnJlbmRlcl9vcHRpb25zLmRyYXdfc3RlbX1nZXRTdGVtRXh0ZW5zaW9uKCl7Y29uc3QgdD10aGlzLmdldEdseXBoKCk7cmV0dXJuIG51bGwhPXRoaXMuc3RlbV9leHRlbnNpb25fb3ZlcnJpZGU/dGhpcy5zdGVtX2V4dGVuc2lvbl9vdmVycmlkZTp0PzE9PT10aGlzLmdldFN0ZW1EaXJlY3Rpb24oKT90LnRhYm5vdGVfc3RlbV91cF9leHRlbnNpb246dC50YWJub3RlX3N0ZW1fZG93bl9leHRlbnNpb246MH1hZGREb3QoKXtjb25zdCB0PW5ldyBGO3JldHVybiB0aGlzLmRvdHMrPTEsdGhpcy5hZGRNb2RpZmllcih0LDApfXVwZGF0ZVdpZHRoKCl7dGhpcy5nbHlwaHM9W10sdGhpcy53aWR0aD0wO2ZvcihsZXQgdD0wO3Q8dGhpcy5wb3NpdGlvbnMubGVuZ3RoOysrdCl7bGV0IGU9dGhpcy5wb3NpdGlvbnNbdF0uZnJldDt0aGlzLmdob3N0JiYoZT1cIihcIitlK1wiKVwiKTtjb25zdCBpPW0udGFiVG9HbHlwaChlLHRoaXMucmVuZGVyX29wdGlvbnMuc2NhbGUpO3RoaXMuZ2x5cGhzLnB1c2goaSksdGhpcy53aWR0aD1NYXRoLm1heChpLmdldFdpZHRoKCksdGhpcy53aWR0aCl9dGhpcy5nbHlwaC5nZXRXaWR0aD0oKT0+dGhpcy53aWR0aH1zZXRTdGF2ZSh0KXtsZXQgZTtpZihzdXBlci5zZXRTdGF2ZSh0KSx0aGlzLmNvbnRleHQ9dC5jb250ZXh0LHRoaXMuY29udGV4dCl7Y29uc3QgdD10aGlzLmNvbnRleHQ7Zm9yKHRoaXMud2lkdGg9MCxlPTA7ZTx0aGlzLmdseXBocy5sZW5ndGg7KytlKXtjb25zdCBpPXRoaXMuZ2x5cGhzW2VdLHM9XCJcIitpLnRleHQ7XCJYXCIhPT1zLnRvVXBwZXJDYXNlKCkmJih0LnNhdmUoKSx0LnNldFJhd0ZvbnQodGhpcy5yZW5kZXJfb3B0aW9ucy5mb250KSxpLndpZHRoPXQubWVhc3VyZVRleHQocykud2lkdGgsdC5yZXN0b3JlKCksaS5nZXRXaWR0aD0oKT0+aS53aWR0aCksdGhpcy53aWR0aD1NYXRoLm1heChpLmdldFdpZHRoKCksdGhpcy53aWR0aCl9dGhpcy5nbHlwaC5nZXRXaWR0aD0oKT0+dGhpcy53aWR0aH1jb25zdCBpPXRoaXMucG9zaXRpb25zLm1hcCgoe3N0cjplfSk9PnQuZ2V0WUZvckxpbmUoZS0xKSk7cmV0dXJuIHRoaXMuc2V0WXMoaSksdGhpcy5zdGVtJiZ0aGlzLnN0ZW0uc2V0WUJvdW5kcyh0aGlzLmdldFN0ZW1ZKCksdGhpcy5nZXRTdGVtWSgpKSx0aGlzfWdldFBvc2l0aW9ucygpe3JldHVybiB0aGlzLnBvc2l0aW9uc31hZGRUb01vZGlmaWVyQ29udGV4dCh0KXt0aGlzLnNldE1vZGlmaWVyQ29udGV4dCh0KTtmb3IobGV0IHQ9MDt0PHRoaXMubW9kaWZpZXJzLmxlbmd0aDsrK3QpdGhpcy5tb2RpZmllckNvbnRleHQuYWRkTW9kaWZpZXIodGhpcy5tb2RpZmllcnNbdF0pO3JldHVybiB0aGlzLm1vZGlmaWVyQ29udGV4dC5hZGRNb2RpZmllcih0aGlzKSx0aGlzLnByZUZvcm1hdHRlZD0hMSx0aGlzfWdldFRpZVJpZ2h0WCgpe2xldCB0PXRoaXMuZ2V0QWJzb2x1dGVYKCk7cmV0dXJuIHQrPXRoaXMuZ2x5cGguZ2V0V2lkdGgoKS8yLHQrPS10aGlzLndpZHRoLzIrdGhpcy53aWR0aCsyLHR9Z2V0VGllTGVmdFgoKXtsZXQgdD10aGlzLmdldEFic29sdXRlWCgpO3JldHVybiB0Kz10aGlzLmdseXBoLmdldFdpZHRoKCkvMix0LT10aGlzLndpZHRoLzIrMix0fWdldE1vZGlmaWVyU3RhcnRYWSh0LGUpe2lmKCF0aGlzLnByZUZvcm1hdHRlZCl0aHJvdyBuZXcgcy5SRVJSKFwiVW5mb3JtYXR0ZWROb3RlXCIsXCJDYW4ndCBjYWxsIEdldE1vZGlmaWVyU3RhcnRYWSBvbiBhbiB1bmZvcm1hdHRlZCBub3RlXCIpO2lmKDA9PT10aGlzLnlzLmxlbmd0aCl0aHJvdyBuZXcgcy5SRVJSKFwiTm9ZVmFsdWVzXCIsXCJObyBZLVZhbHVlcyBjYWxjdWxhdGVkIGZvciB0aGlzIG5vdGUuXCIpO2xldCBpPTA7aWYodD09PUIuUG9zaXRpb24uTEVGVClpPS0yO2Vsc2UgaWYodD09PUIuUG9zaXRpb24uUklHSFQpaT10aGlzLndpZHRoKzI7ZWxzZSBpZih0PT09Qi5Qb3NpdGlvbi5CRUxPV3x8dD09PUIuUG9zaXRpb24uQUJPVkUpe2k9dGhpcy5nbHlwaC5nZXRXaWR0aCgpLzJ9cmV0dXJue3g6dGhpcy5nZXRBYnNvbHV0ZVgoKStpLHk6dGhpcy55c1tlXX19Z2V0TGluZUZvclJlc3QoKXtyZXR1cm4gdGhpcy5wb3NpdGlvbnNbMF0uc3RyfXByZUZvcm1hdCgpe3RoaXMucHJlRm9ybWF0dGVkfHwodGhpcy5tb2RpZmllckNvbnRleHQmJnRoaXMubW9kaWZpZXJDb250ZXh0LnByZUZvcm1hdCgpLHRoaXMuc2V0UHJlRm9ybWF0dGVkKCEwKSl9Z2V0U3RlbVgoKXtyZXR1cm4gdGhpcy5nZXRDZW50ZXJHbHlwaFgoKX1nZXRTdGVtWSgpe2NvbnN0IHQ9dGhpcy5zdGF2ZS5nZXROdW1MaW5lcygpLS41LGU9RS5VUD09PXRoaXMuc3RlbV9kaXJlY3Rpb24/LS41OnQ7cmV0dXJuIHRoaXMuc3RhdmUuZ2V0WUZvckxpbmUoZSl9Z2V0U3RlbUV4dGVudHMoKXtyZXR1cm4gdGhpcy5zdGVtLmdldEV4dGVudHMoKX1kcmF3RmxhZygpe2NvbnN0e2JlYW06dCxnbHlwaDplLGNvbnRleHQ6aSxzdGVtOnMsc3RlbV9kaXJlY3Rpb246bixyZW5kZXJfb3B0aW9uczp7ZHJhd19zdGVtOnIsZ2x5cGhfZm9udF9zY2FsZTpvfX09dGhpcyxhPW51bGw9PXQmJnI7aWYoZS5mbGFnJiZhKXtjb25zdCB0PXRoaXMuZ2V0U3RlbVgoKSsxLHI9dGhpcy5nZXRTdGVtWSgpLXMuZ2V0SGVpZ2h0KCksYT1uPT09RS5ET1dOP2UuY29kZV9mbGFnX2Rvd25zdGVtOmUuY29kZV9mbGFnX3Vwc3RlbTtmLnJlbmRlckdseXBoKGksdCxyLG8sYSl9fWRyYXdNb2RpZmllcnMoKXt0aGlzLm1vZGlmaWVycy5mb3JFYWNoKHQ9PnsoXCJkb3RzXCIhPT10LmdldENhdGVnb3J5KCl8fHRoaXMucmVuZGVyX29wdGlvbnMuZHJhd19kb3RzKSYmKHQuc2V0Q29udGV4dCh0aGlzLmNvbnRleHQpLHQuZHJhd1dpdGhTdHlsZSgpKX0pfWRyYXdTdGVtVGhyb3VnaCgpe2NvbnN0IHQ9dGhpcy5nZXRTdGVtWCgpLGU9dGhpcy5nZXRTdGVtWSgpLGk9dGhpcy5jb250ZXh0LHM9dGhpcy5yZW5kZXJfb3B0aW9ucy5kcmF3X3N0ZW1fdGhyb3VnaF9zdGF2ZTtpZih0aGlzLnJlbmRlcl9vcHRpb25zLmRyYXdfc3RlbSYmcyl7Y29uc3Qgcz1mdW5jdGlvbih0LGUsaSxzKXtjb25zdCBuPTEhPT1zLHI9LTEhPT1zLG89aS5nZXRTcGFjaW5nQmV0d2VlbkxpbmVzKCksYT1pLmdldE51bUxpbmVzKCksaD1bXTtyZXR1cm4gZS5mb3JFYWNoKGU9Pntjb25zdCBsPWUuaW5kZXhPZihhKT4tMSxjPWUuaW5kZXhPZigxKT4tMTtpZihuJiZjfHxyJiZsKXJldHVybjsxPT09ZS5sZW5ndGgmJmUucHVzaChlWzBdKTtjb25zdCB1PVtdO2UuZm9yRWFjaCgoZSxuLHIpPT57Y29uc3QgaD0xPT09ZSxsPWU9PT1hO2xldCBjPWkuZ2V0WUZvckxpbmUoZS0xKTswIT09bnx8aD9uIT09ci5sZW5ndGgtMXx8bHx8KGMrPW8vMi0xKTpjLT1vLzItMSx1LnB1c2goYyksMT09PXMmJmg/dS5wdXNoKHQtMik6LTE9PT1zJiZsJiZ1LnB1c2godCsyKX0pLGgucHVzaCh1LnNvcnQoKHQsZSk9PnQtZSkpfSksaH0oZSxmdW5jdGlvbih0LGUpe2NvbnN0IGk9W107bGV0IHM9W107Zm9yKGxldCBuPTE7bjw9dDtuKyspe2UuaW5kZXhPZihuKT4tMT8oaS5wdXNoKHMpLHM9W10pOnMucHVzaChuKX1yZXR1cm4gcy5sZW5ndGg+MCYmaS5wdXNoKHMpLGl9KHRoaXMuc3RhdmUuZ2V0TnVtTGluZXMoKSx0aGlzLnBvc2l0aW9ucy5tYXAodD0+dC5zdHIpKSx0aGlzLmdldFN0YXZlKCksdGhpcy5nZXRTdGVtRGlyZWN0aW9uKCkpO2kuc2F2ZSgpLGkuc2V0TGluZVdpZHRoKEUuV0lEVEgpLHMuZm9yRWFjaChlPT57MCE9PWUubGVuZ3RoJiYoaS5iZWdpblBhdGgoKSxpLm1vdmVUbyh0LGVbMF0pLGkubGluZVRvKHQsZVtlLmxlbmd0aC0xXSksaS5zdHJva2UoKSxpLmNsb3NlUGF0aCgpKX0pLGkucmVzdG9yZSgpfX1kcmF3UG9zaXRpb25zKCl7Y29uc3QgdD10aGlzLmNvbnRleHQsZT10aGlzLmdldEFic29sdXRlWCgpLGk9dGhpcy55cztmb3IobGV0IHM9MDtzPHRoaXMucG9zaXRpb25zLmxlbmd0aDsrK3Mpe2NvbnN0IG49aVtzXSt0aGlzLnJlbmRlcl9vcHRpb25zLnlfc2hpZnQscj10aGlzLmdseXBoc1tzXSxvPWUrdGhpcy5nbHlwaC5nZXRXaWR0aCgpLzItci5nZXRXaWR0aCgpLzI7aWYodC5jbGVhclJlY3Qoby0yLG4tMyxyLmdldFdpZHRoKCkrNCw2KSxyLmNvZGUpZi5yZW5kZXJHbHlwaCh0LG8sbix0aGlzLnJlbmRlcl9vcHRpb25zLmdseXBoX2ZvbnRfc2NhbGUqdGhpcy5yZW5kZXJfb3B0aW9ucy5zY2FsZSxyLmNvZGUpO2Vsc2V7dC5zYXZlKCksdC5zZXRSYXdGb250KHRoaXMucmVuZGVyX29wdGlvbnMuZm9udCk7Y29uc3QgZT1yLnRleHQudG9TdHJpbmcoKTt0LmZpbGxUZXh0KGUsbyxuKzUqdGhpcy5yZW5kZXJfb3B0aW9ucy5zY2FsZSksdC5yZXN0b3JlKCl9fX1kcmF3KCl7aWYodGhpcy5jaGVja0NvbnRleHQoKSwhdGhpcy5zdGF2ZSl0aHJvdyBuZXcgcy5SRVJSKFwiTm9TdGF2ZVwiLFwiQ2FuJ3QgZHJhdyB3aXRob3V0IGEgc3RhdmUuXCIpO2lmKDA9PT10aGlzLnlzLmxlbmd0aCl0aHJvdyBuZXcgcy5SRVJSKFwiTm9ZVmFsdWVzXCIsXCJDYW4ndCBkcmF3IG5vdGUgd2l0aG91dCBZIHZhbHVlcy5cIik7dGhpcy5zZXRSZW5kZXJlZCgpO2NvbnN0IHQ9bnVsbD09dGhpcy5iZWFtJiZ0aGlzLnJlbmRlcl9vcHRpb25zLmRyYXdfc3RlbTt0aGlzLmRyYXdQb3NpdGlvbnMoKSx0aGlzLmRyYXdTdGVtVGhyb3VnaCgpO2NvbnN0IGU9dGhpcy5nZXRTdGVtWCgpO3RoaXMuc3RlbS5zZXROb3RlSGVhZFhCb3VuZHMoZSxlKSx0JiYodGhpcy5jb250ZXh0Lm9wZW5Hcm91cChcInN0ZW1cIixudWxsLHtwb2ludGVyQkJveDohMH0pLHRoaXMuc3RlbS5zZXRDb250ZXh0KHRoaXMuY29udGV4dCkuZHJhdygpLHRoaXMuY29udGV4dC5jbG9zZUdyb3VwKCkpLHRoaXMuZHJhd0ZsYWcoKSx0aGlzLmRyYXdNb2RpZmllcnMoKX19Y2xhc3MgVHQgZXh0ZW5kcyBoe2NvbnN0cnVjdG9yKHQpe3N1cGVyKCksdGhpcy5zZXRBdHRyaWJ1dGUoXCJ0eXBlXCIsXCJWaWJyYXRvQnJhY2tldFwiKSx0aGlzLnN0YXJ0PXQuc3RhcnQsdGhpcy5zdG9wPXQuc3RvcCx0aGlzLmxpbmU9MSx0aGlzLnJlbmRlcl9vcHRpb25zPXtoYXJzaDohMSx3YXZlX2hlaWdodDo2LHdhdmVfd2lkdGg6NCx3YXZlX2dpcnRoOjJ9fXNldExpbmUodCl7cmV0dXJuIHRoaXMubGluZT10LHRoaXN9c2V0SGFyc2godCl7cmV0dXJuIHRoaXMucmVuZGVyX29wdGlvbnMuaGFyc2g9dCx0aGlzfWRyYXcoKXtjb25zdCB0PXRoaXMuY29udGV4dDt0aGlzLnNldFJlbmRlcmVkKCk7Y29uc3QgZT10aGlzLnN0YXJ0P3RoaXMuc3RhcnQuZ2V0U3RhdmUoKS5nZXRZRm9yVG9wVGV4dCh0aGlzLmxpbmUpOnRoaXMuc3RvcC5nZXRTdGF2ZSgpLmdldFlGb3JUb3BUZXh0KHRoaXMubGluZSksaT10aGlzLnN0YXJ0P3RoaXMuc3RhcnQuZ2V0QWJzb2x1dGVYKCk6dGhpcy5zdG9wLmdldFN0YXZlKCkuZ2V0VGllU3RhcnRYKCksbj10aGlzLnN0b3A/dGhpcy5zdG9wLmdldEFic29sdXRlWCgpLXRoaXMuc3RvcC5nZXRXaWR0aCgpLTU6dGhpcy5zdGFydC5nZXRTdGF2ZSgpLmdldFRpZUVuZFgoKS0xMDt0aGlzLnJlbmRlcl9vcHRpb25zLnZpYnJhdG9fd2lkdGg9bi1pLGZ1bmN0aW9uKC4uLnQpe1R0LkRFQlVHJiZzLkwoXCJWZXguRmxvdy5WaWJyYXRvQnJhY2tldFwiLHQpfShcIlJlbmRlcmluZyBWaWJyYXRvQnJhY2tldDogc3RhcnRfeDpcIixpLFwic3RvcF94OlwiLG4sXCJ5OlwiLGUpLG90LnJlbmRlclZpYnJhdG8odCxpLGUsdGhpcy5yZW5kZXJfb3B0aW9ucyl9fWxldCBQdDtjbGFzcyBMdCBleHRlbmRzIGh7Y29uc3RydWN0b3IodCxlKXtzdXBlcigpLHRoaXMuc2V0QXR0cmlidXRlKFwidHlwZVwiLFwiTXVsdGlNZWFzdXJlUmVzdFwiKSx0aGlzLnJlbmRlcl9vcHRpb25zPXtzaG93X251bWJlcjohMCxudW1iZXJfbGluZTotLjUsbnVtYmVyX2dseXBoX3BvaW50OjQwLHBhZGRpbmdfbGVmdDp2b2lkIDAscGFkZGluZ19yaWdodDp2b2lkIDAsbGluZToyLHNwYWNpbmdfYmV0d2Vlbl9saW5lc19weDoxMCxsaW5lX3RoaWNrbmVzczp2b2lkIDAsc2VyaWZfdGhpY2tuZXNzOjIsdXNlX3N5bWJvbHM6ITEsc3ltYm9sX3NwYWNpbmc6dm9pZCAwLHNlbWlicmF2ZV9yZXN0X2dseXBoX3NjYWxlOm0uREVGQVVMVF9OT1RBVElPTl9GT05UX1NDQUxFfSxzLk1lcmdlKHRoaXMucmVuZGVyX29wdGlvbnMsZSksdGhpcy5udW1iZXJfb2ZfbWVhc3VyZXM9dCx0aGlzLnhzPXtsZWZ0Ok5hTixyaWdodDpOYU59fWdldFhzKCl7cmV0dXJuIHRoaXMueHN9c2V0U3RhdmUodCl7cmV0dXJuIHRoaXMuc3RhdmU9dCx0aGlzfWdldFN0YXZlKCl7cmV0dXJuIHRoaXMuc3RhdmV9ZHJhd0xpbmUodCxlLGkscyl7Y29uc3Qgbj10aGlzLnN0YXZlLmdldFlGb3JMaW5lKHRoaXMucmVuZGVyX29wdGlvbnMubGluZSkscj0uMSooaS1lKTtlKz1yLGktPXI7Y29uc3Qgbz10aGlzLnJlbmRlcl9vcHRpb25zLnNlcmlmX3RoaWNrbmVzcztsZXQgYT0uMjUqcztpc05hTih0aGlzLnJlbmRlcl9vcHRpb25zLmxpbmVfdGhpY2tuZXNzKXx8KGE9LjUqdGhpcy5yZW5kZXJfb3B0aW9ucy5saW5lX3RoaWNrbmVzcyksdC5zYXZlKCksdC5iZWdpblBhdGgoKSx0Lm1vdmVUbyhlLG4tcyksdC5saW5lVG8oZStvLG4tcyksdC5saW5lVG8oZStvLG4tYSksdC5saW5lVG8oaS1vLG4tYSksdC5saW5lVG8oaS1vLG4tcyksdC5saW5lVG8oaSxuLXMpLHQubGluZVRvKGksbitzKSx0LmxpbmVUbyhpLW8sbitzKSx0LmxpbmVUbyhpLW8sbithKSx0LmxpbmVUbyhlK28sbithKSx0LmxpbmVUbyhlK28sbitzKSx0LmxpbmVUbyhlLG4rcyksdC5jbG9zZVBhdGgoKSx0LmZpbGwoKX1kcmF3U3ltYm9scyh0LGUsaSxzKXtjb25zdCBuPU1hdGguZmxvb3IodGhpcy5udW1iZXJfb2ZfbWVhc3VyZXMvNCkscj10aGlzLm51bWJlcl9vZl9tZWFzdXJlcyU0LG89TWF0aC5mbG9vcihyLzIpLGE9ciUyLGg9ZnVuY3Rpb24oKXtpZighUHQpe2NvbnN0IHQ9bmV3IFIoe2R1cmF0aW9uOlwid1wiLG5vdGVfdHlwZTpcInJcIn0pO1B0PXtnbHlwaF9mb250X3NjYWxlOnQucmVuZGVyX29wdGlvbnMuZ2x5cGhfZm9udF9zY2FsZSxnbHlwaF9jb2RlOnQuZ2x5cGhfY29kZSx3aWR0aDp0LmdldFdpZHRoKCl9fXJldHVybiBQdH0oKSxsPWgud2lkdGgqKHRoaXMucmVuZGVyX29wdGlvbnMuc2VtaWJyYXZlX3Jlc3RfZ2x5cGhfc2NhbGUvaC5nbHlwaF9mb250X3NjYWxlKSxjPXsyOnt3aWR0aDouNSpsLGhlaWdodDpzfSwxOnt3aWR0aDpsfX07bGV0IHU9MS4zNSpsO2lzTmFOKHRoaXMucmVuZGVyX29wdGlvbnMuc3ltYm9sX3NwYWNpbmcpfHwodT10aGlzLnJlbmRlcl9vcHRpb25zLnN5bWJvbF9zcGFjaW5nKTtsZXQgZD1lKy41KihpLWUpLS41KihuKmNbMl0ud2lkdGgrbypjWzJdLndpZHRoK2EqY1sxXS53aWR0aCsobitvK2EtMSkqdSk7Y29uc3QgbT10aGlzLnN0YXZlLmdldFlGb3JMaW5lKHRoaXMucmVuZGVyX29wdGlvbnMubGluZS0xKSxwPXRoaXMuc3RhdmUuZ2V0WUZvckxpbmUodGhpcy5yZW5kZXJfb3B0aW9ucy5saW5lKSxnPXRoaXMuc3RhdmUuZ2V0WUZvckxpbmUodGhpcy5yZW5kZXJfb3B0aW9ucy5saW5lKzEpO3Quc2F2ZSgpLHQuc2V0U3Ryb2tlU3R5bGUoXCJub25lXCIpLHQuc2V0TGluZVdpZHRoKDApO2ZvcihsZXQgZT0wO2U8bjsrK2UpdC5maWxsUmVjdChkLHAtY1syXS5oZWlnaHQsY1syXS53aWR0aCxjWzJdLmhlaWdodCksdC5maWxsUmVjdChkLGctY1syXS5oZWlnaHQsY1syXS53aWR0aCxjWzJdLmhlaWdodCksZCs9Y1syXS53aWR0aCt1O2ZvcihsZXQgZT0wO2U8bzsrK2UpdC5maWxsUmVjdChkLHAtY1syXS5oZWlnaHQsY1syXS53aWR0aCxjWzJdLmhlaWdodCksZCs9Y1syXS53aWR0aCt1O2ZvcihsZXQgZT0wO2U8YTsrK2UpZi5yZW5kZXJHbHlwaCh0LGQsbSx0aGlzLnJlbmRlcl9vcHRpb25zLnNlbWlicmF2ZV9yZXN0X2dseXBoX3NjYWxlLGguZ2x5cGhfY29kZSksZCs9Y1sxXS53aWR0aCt1O3QucmVzdG9yZSgpfWRyYXcoKXt0aGlzLmNoZWNrQ29udGV4dCgpLHRoaXMuc2V0UmVuZGVyZWQoKTtjb25zdCB0PXRoaXMuY29udGV4dCxlPXRoaXMuc3RhdmUsaT10aGlzLnJlbmRlcl9vcHRpb25zLnNwYWNpbmdfYmV0d2Vlbl9saW5lc19weDtsZXQgcz1lLmdldE5vdGVTdGFydFgoKSxuPWUuZ2V0Tm90ZUVuZFgoKTtjb25zdCByPWUuZ2V0TW9kaWZpZXJzKGR0LlBvc2l0aW9uLkJFR0lOKTtpZigxPT09ci5sZW5ndGgmJlwiYmFybGluZXNcIj09PXJbMF0uZ2V0Q2F0ZWdvcnkoKSYmKHMtPXJbMF0uZ2V0V2lkdGgoKSksaXNOYU4odGhpcy5yZW5kZXJfb3B0aW9ucy5wYWRkaW5nX2xlZnQpfHwocz1lLmdldFgoKSt0aGlzLnJlbmRlcl9vcHRpb25zLnBhZGRpbmdfbGVmdCksaXNOYU4odGhpcy5yZW5kZXJfb3B0aW9ucy5wYWRkaW5nX3JpZ2h0KXx8KG49ZS5nZXRYKCkrZS5nZXRXaWR0aCgpLXRoaXMucmVuZGVyX29wdGlvbnMucGFkZGluZ19yaWdodCksdGhpcy54cy5sZWZ0PXMsdGhpcy54cy5yaWdodD1uLHRoaXMucmVuZGVyX29wdGlvbnMudXNlX3N5bWJvbHM/dGhpcy5kcmF3U3ltYm9scyh0LHMsbixpKTp0aGlzLmRyYXdMaW5lKHQscyxuLGkpLHRoaXMucmVuZGVyX29wdGlvbnMuc2hvd19udW1iZXIpe2NvbnN0IGk9XCIvXCIrdGhpcy5udW1iZXJfb2ZfbWVhc3VyZXMscj1uZXcgRXQobnVsbCx2b2lkIDAsITEpO3IucG9pbnQ9dGhpcy5yZW5kZXJfb3B0aW9ucy5udW1iZXJfZ2x5cGhfcG9pbnQsci5zZXRUaW1lU2lnKGkpLHIuc2V0U3RhdmUoZSksci54PXMrLjUqKG4tcyktLjUqci50aW1lU2lnLmdseXBoLmdldE1ldHJpY3MoKS53aWR0aCxyLmJvdHRvbUxpbmU9dGhpcy5yZW5kZXJfb3B0aW9ucy5udW1iZXJfbGluZSxyLnNldENvbnRleHQodCkuZHJhdygpfX19Y2xhc3MgQXQgZXh0ZW5kcyBDe3N0YXRpYyBnZXQgQ0FURUdPUlkoKXtyZXR1cm5cImNsZWZub3RlXCJ9Y29uc3RydWN0b3IodCxlLGkpe3N1cGVyKHtkdXJhdGlvbjpcImJcIn0pLHRoaXMuc2V0QXR0cmlidXRlKFwidHlwZVwiLFwiQ2xlZk5vdGVcIiksdGhpcy5zZXRUeXBlKHQsZSxpKSx0aGlzLmlnbm9yZV90aWNrcz0hMH1zZXRUeXBlKHQsZSxpKXtyZXR1cm4gdGhpcy50eXBlPXQsdGhpcy5jbGVmX29iaj1uZXcgeXQodCxlLGkpLHRoaXMuY2xlZj10aGlzLmNsZWZfb2JqLmNsZWYsdGhpcy5nbHlwaD1uZXcgZih0aGlzLmNsZWYuY29kZSx0aGlzLmNsZWYucG9pbnQpLHRoaXMuc2V0V2lkdGgodGhpcy5nbHlwaC5nZXRNZXRyaWNzKCkud2lkdGgpLHRoaXN9Z2V0Q2xlZigpe3JldHVybiB0aGlzLmNsZWZ9c2V0Q29udGV4dCh0KXtyZXR1cm4gdGhpcy5jb250ZXh0PXQsdGhpcy5nbHlwaC5zZXRDb250ZXh0KHRoaXMuY29udGV4dCksdGhpc31nZXRCb3VuZGluZ0JveCgpe3JldHVybiBzdXBlci5nZXRCb3VuZGluZ0JveCgpfWFkZFRvTW9kaWZpZXJDb250ZXh0KCl7cmV0dXJuIHRoaXN9Z2V0Q2F0ZWdvcnkoKXtyZXR1cm4gQXQuQ0FURUdPUll9cHJlRm9ybWF0KCl7cmV0dXJuIHRoaXMuc2V0UHJlRm9ybWF0dGVkKCEwKSx0aGlzfWRyYXcoKXtpZighdGhpcy5zdGF2ZSl0aHJvdyBuZXcgcy5SRVJSKFwiTm9TdGF2ZVwiLFwiQ2FuJ3QgZHJhdyB3aXRob3V0IGEgc3RhdmUuXCIpO3RoaXMuZ2x5cGguZ2V0Q29udGV4dCgpfHx0aGlzLmdseXBoLnNldENvbnRleHQodGhpcy5jb250ZXh0KSx0aGlzLnNldFJlbmRlcmVkKCk7Y29uc3QgdD10aGlzLmdldEFic29sdXRlWCgpO2lmKHRoaXMuZ2x5cGguc2V0U3RhdmUodGhpcy5zdGF2ZSksdGhpcy5nbHlwaC5zZXRZU2hpZnQodGhpcy5zdGF2ZS5nZXRZRm9yTGluZSh0aGlzLmNsZWYubGluZSktdGhpcy5zdGF2ZS5nZXRZRm9yR2x5cGhzKCkpLHRoaXMuZ2x5cGgucmVuZGVyVG9TdGF2ZSh0KSx2b2lkIDAhPT10aGlzLmNsZWZfb2JqLmFubm90YXRpb24pe2NvbnN0IGU9bmV3IGYodGhpcy5jbGVmX29iai5hbm5vdGF0aW9uLmNvZGUsdGhpcy5jbGVmX29iai5hbm5vdGF0aW9uLnBvaW50KTtlLmdldENvbnRleHQoKXx8ZS5zZXRDb250ZXh0KHRoaXMuY29udGV4dCksZS5zZXRTdGF2ZSh0aGlzLnN0YXZlKSxlLnNldFlTaGlmdCh0aGlzLnN0YXZlLmdldFlGb3JMaW5lKHRoaXMuY2xlZl9vYmouYW5ub3RhdGlvbi5saW5lKS10aGlzLnN0YXZlLmdldFlGb3JHbHlwaHMoKSksZS5zZXRYU2hpZnQodGhpcy5jbGVmX29iai5hbm5vdGF0aW9uLnhfc2hpZnQpLGUucmVuZGVyVG9TdGF2ZSh0KX19fWNsYXNzIEl0IGV4dGVuZHMgQ3tjb25zdHJ1Y3Rvcih0LGUsaSl7c3VwZXIoe2R1cmF0aW9uOlwiYlwifSksdGhpcy5zZXRBdHRyaWJ1dGUoXCJ0eXBlXCIsXCJLZXlTaWdOb3RlXCIpLHRoaXMua2V5U2lnbmF0dXJlPW5ldyB4dCh0LGUsaSksdGhpcy5pZ25vcmVfdGlja3M9ITB9Z2V0Qm91bmRpbmdCb3goKXtyZXR1cm4gc3VwZXIuZ2V0Qm91bmRpbmdCb3goKX1hZGRUb01vZGlmaWVyQ29udGV4dCgpe3JldHVybiB0aGlzfXByZUZvcm1hdCgpe3JldHVybiB0aGlzLnNldFByZUZvcm1hdHRlZCghMCksdGhpcy5rZXlTaWduYXR1cmUuc2V0U3RhdmUodGhpcy5zdGF2ZSksdGhpcy5rZXlTaWduYXR1cmUuZm9ybWF0KCksdGhpcy5zZXRXaWR0aCh0aGlzLmtleVNpZ25hdHVyZS53aWR0aCksdGhpc31kcmF3KCl7dGhpcy5zdGF2ZS5jaGVja0NvbnRleHQoKSx0aGlzLnNldFJlbmRlcmVkKCksdGhpcy5rZXlTaWduYXR1cmUueD10aGlzLmdldEFic29sdXRlWCgpLHRoaXMua2V5U2lnbmF0dXJlLnNldENvbnRleHQodGhpcy5jb250ZXh0KSx0aGlzLmtleVNpZ25hdHVyZS5kcmF3KCl9fWNsYXNzIEN0IGV4dGVuZHMgQ3tjb25zdHJ1Y3Rvcih0LGUpe3N1cGVyKHtkdXJhdGlvbjpcImJcIn0pLHRoaXMuc2V0QXR0cmlidXRlKFwidHlwZVwiLFwiVGltZVNpZ05vdGVcIik7Y29uc3QgaT1uZXcgRXQodCxlKTt0aGlzLnRpbWVTaWc9aS5nZXRUaW1lU2lnKCksdGhpcy5zZXRXaWR0aCh0aGlzLnRpbWVTaWcuZ2x5cGguZ2V0TWV0cmljcygpLndpZHRoKSx0aGlzLmlnbm9yZV90aWNrcz0hMH1nZXRCb3VuZGluZ0JveCgpe3JldHVybiBzdXBlci5nZXRCb3VuZGluZ0JveCgpfWFkZFRvTW9kaWZpZXJDb250ZXh0KCl7cmV0dXJuIHRoaXN9cHJlRm9ybWF0KCl7cmV0dXJuIHRoaXMuc2V0UHJlRm9ybWF0dGVkKCEwKSx0aGlzfWRyYXcoKXt0aGlzLnN0YXZlLmNoZWNrQ29udGV4dCgpLHRoaXMuc2V0UmVuZGVyZWQoKSx0aGlzLnRpbWVTaWcuZ2x5cGguZ2V0Q29udGV4dCgpfHx0aGlzLnRpbWVTaWcuZ2x5cGguc2V0Q29udGV4dCh0aGlzLmNvbnRleHQpLHRoaXMudGltZVNpZy5nbHlwaC5zZXRTdGF2ZSh0aGlzLnN0YXZlKSx0aGlzLnRpbWVTaWcuZ2x5cGguc2V0WVNoaWZ0KHRoaXMuc3RhdmUuZ2V0WUZvckxpbmUodGhpcy50aW1lU2lnLmxpbmUpLXRoaXMuc3RhdmUuZ2V0WUZvckdseXBocygpKSx0aGlzLnRpbWVTaWcuZ2x5cGgucmVuZGVyVG9TdGF2ZSh0aGlzLmdldEFic29sdXRlWCgpKX19Y2xhc3MgUnQgZXh0ZW5kcyBZe3N0YXRpYyBnZXQgU0xJREVfVVAoKXtyZXR1cm4gMX1zdGF0aWMgZ2V0IFNMSURFX0RPV04oKXtyZXR1cm4tMX1zdGF0aWMgY3JlYXRlU2xpZGVVcCh0KXtyZXR1cm4gbmV3IFJ0KHQsUnQuU0xJREVfVVApfXN0YXRpYyBjcmVhdGVTbGlkZURvd24odCl7cmV0dXJuIG5ldyBSdCh0LFJ0LlNMSURFX0RPV04pfWNvbnN0cnVjdG9yKHQsZSl7aWYoc3VwZXIodCxcInNsLlwiKSx0aGlzLnNldEF0dHJpYnV0ZShcInR5cGVcIixcIlRhYlNsaWRlXCIpLCFlKXtjb25zdCBpPXQuZmlyc3Rfbm90ZS5nZXRQb3NpdGlvbnMoKVswXS5mcmV0LHM9dC5sYXN0X25vdGUuZ2V0UG9zaXRpb25zKClbMF0uZnJldDtlPXBhcnNlSW50KGksMTApPnBhcnNlSW50KHMsMTApP1J0LlNMSURFX0RPV046UnQuU0xJREVfVVB9dGhpcy5zbGlkZV9kaXJlY3Rpb249ZSx0aGlzLnJlbmRlcl9vcHRpb25zLmNwMT0xMSx0aGlzLnJlbmRlcl9vcHRpb25zLmNwMj0xNCx0aGlzLnJlbmRlcl9vcHRpb25zLnlfc2hpZnQ9LjUsdGhpcy5zZXRGb250KHtmb250OlwiVGltZXNcIixzaXplOjEwLHN0eWxlOlwiYm9sZCBpdGFsaWNcIn0pLHRoaXMuc2V0Tm90ZXModCl9cmVuZGVyVGllKHQpe2lmKDA9PT10LmZpcnN0X3lzLmxlbmd0aHx8MD09PXQubGFzdF95cy5sZW5ndGgpdGhyb3cgbmV3IHMuUkVSUihcIkJhZEFyZ3VtZW50c1wiLFwiTm8gWS12YWx1ZXMgdG8gcmVuZGVyXCIpO2NvbnN0IGU9dGhpcy5jb250ZXh0LGk9dC5maXJzdF94X3B4LG49dC5maXJzdF95cyxyPXQubGFzdF94X3B4LG89dGhpcy5zbGlkZV9kaXJlY3Rpb247aWYobyE9PVJ0LlNMSURFX1VQJiZvIT09UnQuU0xJREVfRE9XTil0aHJvdyBuZXcgcy5SRVJSKFwiQmFkU2xpZGVcIixcIkludmFsaWQgc2xpZGUgZGlyZWN0aW9uXCIpO2ZvcihsZXQgdD0wO3Q8dGhpcy5maXJzdF9pbmRpY2VzLmxlbmd0aDsrK3Qpe2NvbnN0IGE9blt0aGlzLmZpcnN0X2luZGljZXNbdF1dK3RoaXMucmVuZGVyX29wdGlvbnMueV9zaGlmdDtpZihpc05hTihhKSl0aHJvdyBuZXcgcy5SRVJSKFwiQmFkQXJndW1lbnRzXCIsXCJCYWQgaW5kaWNlcyBmb3Igc2xpZGUgcmVuZGVyaW5nLlwiKTtlLmJlZ2luUGF0aCgpLGUubW92ZVRvKGksYSszKm8pLGUubGluZVRvKHIsYS0zKm8pLGUuY2xvc2VQYXRoKCksZS5zdHJva2UoKX10aGlzLnNldFJlbmRlcmVkKCl9fWNsYXNzIE50IGV4dGVuZHMga3tzdGF0aWMgZ2V0IENBVEVHT1JZKCl7cmV0dXJuXCJncmFjZW5vdGVzXCJ9c3RhdGljIGdldCBMRURHRVJfTElORV9PRkZTRVQoKXtyZXR1cm4gMn1zdGF0aWMgZ2V0IFNDQUxFKCl7cmV0dXJuLjY2fWNvbnN0cnVjdG9yKHQpe3N1cGVyKE9iamVjdC5hc3NpZ24odCx7Z2x5cGhfZm9udF9zY2FsZTptLkRFRkFVTFRfTk9UQVRJT05fRk9OVF9TQ0FMRSpOdC5TQ0FMRSxzdHJva2VfcHg6TnQuTEVER0VSX0xJTkVfT0ZGU0VUfSkpLHRoaXMuc2V0QXR0cmlidXRlKFwidHlwZVwiLFwiR3JhY2VOb3RlXCIpLHRoaXMuc2xhc2g9dC5zbGFzaCx0aGlzLnNsdXI9ITAsdGhpcy5idWlsZE5vdGVIZWFkcygpLHRoaXMud2lkdGg9M31nZXRTdGVtRXh0ZW5zaW9uKCl7aWYobnVsbCE9dGhpcy5zdGVtX2V4dGVuc2lvbl9vdmVycmlkZSlyZXR1cm4gdGhpcy5zdGVtX2V4dGVuc2lvbl9vdmVycmlkZTtjb25zdCB0PXRoaXMuZ2V0R2x5cGgoKTtpZih0KXtsZXQgZT1zdXBlci5nZXRTdGVtRXh0ZW5zaW9uKCk7aWYodC5zdGVtKXtjb25zdCB0PXRoaXMuZ2V0U3RhdmVOb3RlU2NhbGUoKTtlPShFLkhFSUdIVCtlKSp0LUUuSEVJR0hUfXJldHVybiBlfXJldHVybiAwfWdldENhdGVnb3J5KCl7cmV0dXJuIE50LkNBVEVHT1JZfWdldFN0YXZlTm90ZVNjYWxlKCl7cmV0dXJuIHRoaXMucmVuZGVyX29wdGlvbnMuZ2x5cGhfZm9udF9zY2FsZS9tLkRFRkFVTFRfTk9UQVRJT05fRk9OVF9TQ0FMRX1kcmF3KCl7c3VwZXIuZHJhdygpLHRoaXMuc2V0UmVuZGVyZWQoKTtjb25zdCB0PXRoaXMuc3RlbTtpZih0aGlzLnNsYXNoJiZ0KXtjb25zdCBlPXRoaXMuZ2V0U3RhdmVOb3RlU2NhbGUoKSxpPWUvLjY2O2xldCBzPXZvaWQgMDtjb25zdCBuPXRoaXMuYmVhbTtpZihuKW4ucG9zdEZvcm1hdHRlZHx8bi5wb3N0Rm9ybWF0KCkscz10aGlzLmNhbGNCZWFtZWROb3Rlc1NsYXNoQkJveCg4KmksOCppLHtzdGVtOjYqaSxiZWFtOjUqaX0pO2Vsc2V7Y29uc3Qgbj10aGlzLmdldFN0ZW1EaXJlY3Rpb24oKSxyPXRoaXMuZ2V0Tm90ZUhlYWRCb3VuZHMoKSxvPXQuZ2V0SGVpZ2h0KCk7bGV0IGE9dGhpcy5nZXRBYnNvbHV0ZVgoKSxoPW49PT1tLlN0ZW0uRE9XTj9yLnlfdG9wLW86ci55X2JvdHRvbS1vO2NvbnN0IGw9bj09PW0uU3RlbS5ET1dOP3RoaXMuZ2x5cGguc3RlbV9kb3duX2V4dGVuc2lvbjp0aGlzLmdseXBoLnN0ZW1fdXBfZXh0ZW5zaW9uO2xldCBjPW0uU1RFTV9IRUlHSFQ7Yy09Yy8yLjgsYys9bCxoKz1jKmUqbjtjb25zdCB1PW49PT1tLlN0ZW0uVVA/e3gxOjEseTE6MCx4MjoxMyx5MjotOX06e3gxOi00LHkxOjEseDI6MTMseTI6OX07YSs9dS54MSppLGgrPXUueTEqaSxzPXt4MTphLHkxOmgseDI6YSt1LngyKmkseTI6aCt1LnkyKml9fWNvbnN0IHI9dGhpcy5jb250ZXh0O3Iuc2F2ZSgpLHIuc2V0TGluZVdpZHRoKDEqaSksci5iZWdpblBhdGgoKSxyLm1vdmVUbyhzLngxLHMueTEpLHIubGluZVRvKHMueDIscy55Miksci5jbG9zZVBhdGgoKSxyLnN0cm9rZSgpLHIucmVzdG9yZSgpfX1jYWxjQmVhbWVkTm90ZXNTbGFzaEJCb3godCxlLGkpe2NvbnN0IHM9dGhpcy5iZWFtLG49cy5zbG9wZSxyPXMubm90ZXNbcy5ub3Rlcy5sZW5ndGgtMV09PT10aGlzPy0xOjEsbz1NYXRoLmF0YW4obipyKSxhPU1hdGguY29zKG8pKmUsaD1NYXRoLnNpbihvKSplO3QqPXRoaXMuZ2V0U3RlbURpcmVjdGlvbigpO2NvbnN0IGw9TWF0aC5hdGFuKChoLXQpL2EpLGM9TWF0aC5jb3MobCkqaS5zdGVtKnIsdT1NYXRoLnNpbihsKSppLnN0ZW0sZD1NYXRoLmNvcyhsKSppLmJlYW0qcixmPU1hdGguc2luKGwpKmkuYmVhbSxtPXRoaXMuZ2V0U3RlbVgoKSxwPXMubm90ZXNbMF0uZ2V0U3RlbVgoKSxnPXRoaXMuYmVhbS5nZXRCZWFtWVRvRHJhdygpKyhtLXApKm47cmV0dXJue3gxOm0tYyx5MTpnK3QtdSx4MjptK2EqcitkLHkyOmcraCtmfX19Y2xhc3MgQnQgZXh0ZW5kcyBNdHtzdGF0aWMgZ2V0IENBVEVHT1JZKCl7cmV0dXJuXCJncmFjZXRhYm5vdGVzXCJ9Y29uc3RydWN0b3IodCl7c3VwZXIodCwhMSksdGhpcy5zZXRBdHRyaWJ1dGUoXCJ0eXBlXCIsXCJHcmFjZVRhYk5vdGVcIikscy5NZXJnZSh0aGlzLnJlbmRlcl9vcHRpb25zLHt5X3NoaWZ0Oi4zLHNjYWxlOi42LGZvbnQ6XCI3LjVwdCBBcmlhbFwifSksdGhpcy51cGRhdGVXaWR0aCgpfWdldENhdGVnb3J5KCl7cmV0dXJuIEJ0LkNBVEVHT1JZfWRyYXcoKXtzdXBlci5kcmF3KCksdGhpcy5zZXRSZW5kZXJlZCgpfX1jbGFzcyBGdHtzdGF0aWMgZ2V0IG5hbWVzKCl7cmV0dXJue3N0YW5kYXJkOlwiRS81LEIvNCxHLzQsRC80LEEvMyxFLzNcIixkYWdkYWQ6XCJELzUsQS80LEcvNCxELzQsQS8zLEQvM1wiLGRyb3BkOlwiRS81LEIvNCxHLzQsRC80LEEvMyxELzNcIixlYjpcIkViLzUsQmIvNCxHYi80LERiLzQsQWIvMyxEYi8zXCIsc3RhbmRhcmRCYW5qbzpcIkQvNSxCLzQsRy80LEQvNCxHLzVcIn19Y29uc3RydWN0b3IodD1cIkUvNSxCLzQsRy80LEQvNCxBLzMsRS8zLEIvMixFLzJcIil7dGhpcy5zZXRUdW5pbmcodCl9bm90ZVRvSW50ZWdlcih0KXtyZXR1cm4gbS5rZXlQcm9wZXJ0aWVzKHQpLmludF92YWx1ZX1zZXRUdW5pbmcodCl7RnQubmFtZXNbdF0mJih0PUZ0Lm5hbWVzW3RdKSx0aGlzLnR1bmluZ1N0cmluZz10LHRoaXMudHVuaW5nVmFsdWVzPVtdLHRoaXMubnVtU3RyaW5ncz0wO2NvbnN0IGU9dC5zcGxpdCgvXFxzKixcXHMqLyk7aWYoMD09PWUubGVuZ3RoKXRocm93IG5ldyBzLlJFUlIoXCJCYWRBcmd1bWVudHNcIixcIkludmFsaWQgdHVuaW5nIHN0cmluZzogXCIrdCk7dGhpcy5udW1TdHJpbmdzPWUubGVuZ3RoO2ZvcihsZXQgdD0wO3Q8dGhpcy5udW1TdHJpbmdzOysrdCl0aGlzLnR1bmluZ1ZhbHVlc1t0XT10aGlzLm5vdGVUb0ludGVnZXIoZVt0XSl9Z2V0VmFsdWVGb3JTdHJpbmcodCl7Y29uc3QgZT1wYXJzZUludCh0LDEwKTtpZihlPDF8fGU+dGhpcy5udW1TdHJpbmdzKXRocm93IG5ldyBzLlJFUlIoXCJCYWRBcmd1bWVudHNcIixgU3RyaW5nIG51bWJlciBtdXN0IGJlIGJldHdlZW4gMSBhbmQgJHt0aGlzLm51bVN0cmluZ3N9OiR7dH1gKTtyZXR1cm4gdGhpcy50dW5pbmdWYWx1ZXNbZS0xXX1nZXRWYWx1ZUZvckZyZXQodCxlKXtjb25zdCBpPXRoaXMuZ2V0VmFsdWVGb3JTdHJpbmcoZSksbj1wYXJzZUludCh0LDEwKTtpZihuPDApdGhyb3cgbmV3IHMuUkVSUihcIkJhZEFyZ3VtZW50c1wiLFwiRnJldCBudW1iZXIgbXVzdCBiZSAwIG9yIGhpZ2hlcjogXCIrdCk7cmV0dXJuIGkrbn1nZXROb3RlRm9yRnJldCh0LGUpe2NvbnN0IGk9dGhpcy5nZXRWYWx1ZUZvckZyZXQodCxlKSxzPU1hdGguZmxvb3IoaS8xMiksbj1pJTEyO3JldHVybiBtLmludGVnZXJUb05vdGUobikrXCIvXCIrc319Y2xhc3MgRHQgZXh0ZW5kcyBoe3N0YXRpYyBnZXQgdHlwZSgpe3JldHVybntDUkVTQzoxLERFQ1JFU0M6Mn19c3RhdGljIEZvcm1hdEJ5VGlja3NBbmREcmF3KHQsZSxpLG4scixvKXtjb25zdCBhPWUucGl4ZWxzUGVyVGljaztpZihudWxsPT1hKXRocm93IG5ldyBzLlJ1bnRpbWVFcnJvcihcIkJhZEFyZ3VtZW50c1wiLFwiQSB2YWxpZCBGb3JtYXR0ZXIgbXVzdCBiZSBwcm92aWRlIHRvIGRyYXcgb2Zmc2V0cyBieSB0aWNrcy5cIik7Y29uc3QgaD1hKm8ubGVmdF9zaGlmdF90aWNrcyxsPWEqby5yaWdodF9zaGlmdF90aWNrcyxjPXtoZWlnaHQ6by5oZWlnaHQseV9zaGlmdDpvLnlfc2hpZnQsbGVmdF9zaGlmdF9weDpoLHJpZ2h0X3NoaWZ0X3B4Omx9O25ldyBEdCh7Zmlyc3Rfbm90ZTppLmZpcnN0X25vdGUsbGFzdF9ub3RlOmkubGFzdF9ub3RlfSxuKS5zZXRDb250ZXh0KHQpLnNldFJlbmRlck9wdGlvbnMoYykuc2V0UG9zaXRpb24ocikuZHJhdygpfWNvbnN0cnVjdG9yKHQsZSl7c3VwZXIoKSx0aGlzLnNldEF0dHJpYnV0ZShcInR5cGVcIixcIlN0YXZlSGFpcnBpblwiKSx0aGlzLm5vdGVzPXQsdGhpcy5oYWlycGluPWUsdGhpcy5wb3NpdGlvbj1CLlBvc2l0aW9uLkJFTE9XLHRoaXMucmVuZGVyX29wdGlvbnM9e2hlaWdodDoxMCx5X3NoaWZ0OjAsbGVmdF9zaGlmdF9weDowLHJpZ2h0X3NoaWZ0X3B4OjB9LHRoaXMuc2V0Tm90ZXModCl9c2V0UG9zaXRpb24odCl7cmV0dXJuIHQhPT1CLlBvc2l0aW9uLkFCT1ZFJiZ0IT09Qi5Qb3NpdGlvbi5CRUxPV3x8KHRoaXMucG9zaXRpb249dCksdGhpc31zZXRSZW5kZXJPcHRpb25zKHQpe3JldHVybiBudWxsIT10LmhlaWdodCYmbnVsbCE9dC55X3NoaWZ0JiZudWxsIT10LmxlZnRfc2hpZnRfcHgmJm51bGwhPXQucmlnaHRfc2hpZnRfcHgmJih0aGlzLnJlbmRlcl9vcHRpb25zPXQpLHRoaXN9c2V0Tm90ZXModCl7aWYoIXQuZmlyc3Rfbm90ZSYmIXQubGFzdF9ub3RlKXRocm93IG5ldyBzLlJ1bnRpbWVFcnJvcihcIkJhZEFyZ3VtZW50c1wiLFwiSGFpcnBpbiBuZWVkcyB0byBoYXZlIGVpdGhlciBmaXJzdF9ub3RlIG9yIGxhc3Rfbm90ZSBzZXQuXCIpO3JldHVybiB0aGlzLmZpcnN0X25vdGU9dC5maXJzdF9ub3RlLHRoaXMubGFzdF9ub3RlPXQubGFzdF9ub3RlLHRoaXN9cmVuZGVySGFpcnBpbih0KXtjb25zdCBlPXRoaXMuY2hlY2tDb250ZXh0KCk7bGV0IGk9dGhpcy5yZW5kZXJfb3B0aW9ucy55X3NoaWZ0KzIwLHM9dC5maXJzdF95O3RoaXMucG9zaXRpb249PT1CLlBvc2l0aW9uLkFCT1ZFJiYoaT0zMC1pLHM9dC5maXJzdF95LXQuc3RhZmZfaGVpZ2h0KTtjb25zdCBuPXRoaXMucmVuZGVyX29wdGlvbnMubGVmdF9zaGlmdF9weCxyPXRoaXMucmVuZGVyX29wdGlvbnMucmlnaHRfc2hpZnRfcHg7c3dpdGNoKGUuYmVnaW5QYXRoKCksdGhpcy5oYWlycGluKXtjYXNlIER0LnR5cGUuQ1JFU0M6ZS5tb3ZlVG8odC5sYXN0X3grcixzK2kpLGUubGluZVRvKHQuZmlyc3RfeCtuLHMrdGhpcy5yZW5kZXJfb3B0aW9ucy5oZWlnaHQvMitpKSxlLmxpbmVUbyh0Lmxhc3RfeCtyLHMrdGhpcy5yZW5kZXJfb3B0aW9ucy5oZWlnaHQraSk7YnJlYWs7Y2FzZSBEdC50eXBlLkRFQ1JFU0M6ZS5tb3ZlVG8odC5maXJzdF94K24scytpKSxlLmxpbmVUbyh0Lmxhc3RfeCtyLHMrdGhpcy5yZW5kZXJfb3B0aW9ucy5oZWlnaHQvMitpKSxlLmxpbmVUbyh0LmZpcnN0X3grbixzK3RoaXMucmVuZGVyX29wdGlvbnMuaGVpZ2h0K2kpfWUuc3Ryb2tlKCksZS5jbG9zZVBhdGgoKX1kcmF3KCl7dGhpcy5jaGVja0NvbnRleHQoKSx0aGlzLnNldFJlbmRlcmVkKCk7Y29uc3QgdD10aGlzLmZpcnN0X25vdGUsZT10aGlzLmxhc3Rfbm90ZSxpPXQuZ2V0TW9kaWZpZXJTdGFydFhZKHRoaXMucG9zaXRpb24sMCkscz1lLmdldE1vZGlmaWVyU3RhcnRYWSh0aGlzLnBvc2l0aW9uLDApO3JldHVybiB0aGlzLnJlbmRlckhhaXJwaW4oe2ZpcnN0X3g6aS54LGxhc3RfeDpzLngsZmlyc3RfeTp0LmdldFN0YXZlKCkueSt0LmdldFN0YXZlKCkuaGVpZ2h0LGxhc3RfeTplLmdldFN0YXZlKCkueStlLmdldFN0YXZlKCkuaGVpZ2h0LHN0YWZmX2hlaWdodDp0LmdldFN0YXZlKCkuaGVpZ2h0fSksITB9fWNsYXNzIGt0IGV4dGVuZHMgaHtzdGF0aWMgZ2V0IFBvc2l0aW9uKCl7cmV0dXJue05FQVJfSEVBRDoxLE5FQVJfVE9QOjJ9fXN0YXRpYyBnZXQgUG9zaXRpb25TdHJpbmcoKXtyZXR1cm57bmVhckhlYWQ6a3QuUG9zaXRpb24uTkVBUl9IRUFELG5lYXJUb3A6a3QuUG9zaXRpb24uTkVBUl9UT1B9fWNvbnN0cnVjdG9yKHQsZSxpKXtzdXBlcigpLHRoaXMuc2V0QXR0cmlidXRlKFwidHlwZVwiLFwiQ3VydmVcIiksdGhpcy5yZW5kZXJfb3B0aW9ucz17c3BhY2luZzoyLHRoaWNrbmVzczoyLHhfc2hpZnQ6MCx5X3NoaWZ0OjEwLHBvc2l0aW9uOmt0LlBvc2l0aW9uLk5FQVJfSEVBRCxwb3NpdGlvbl9lbmQ6a3QuUG9zaXRpb24uTkVBUl9IRUFELGludmVydDohMSxjcHM6W3t4OjAseToxMH0se3g6MCx5OjEwfV19LHMuTWVyZ2UodGhpcy5yZW5kZXJfb3B0aW9ucyxpKSx0aGlzLnNldE5vdGVzKHQsZSl9c2V0Tm90ZXModCxlKXtpZighdCYmIWUpdGhyb3cgbmV3IHMuUnVudGltZUVycm9yKFwiQmFkQXJndW1lbnRzXCIsXCJDdXJ2ZSBuZWVkcyB0byBoYXZlIGVpdGhlciBmaXJzdF9ub3RlIG9yIGxhc3Rfbm90ZSBzZXQuXCIpO3JldHVybiB0aGlzLmZyb209dCx0aGlzLnRvPWUsdGhpc31pc1BhcnRpYWwoKXtyZXR1cm4hdGhpcy5mcm9tfHwhdGhpcy50b31yZW5kZXJDdXJ2ZSh0KXtjb25zdCBlPXRoaXMuY29udGV4dCxpPXRoaXMucmVuZGVyX29wdGlvbnMuY3BzLHM9dGhpcy5yZW5kZXJfb3B0aW9ucy54X3NoaWZ0LG49dGhpcy5yZW5kZXJfb3B0aW9ucy55X3NoaWZ0KnQuZGlyZWN0aW9uLHI9dC5maXJzdF94K3Msbz10LmZpcnN0X3krbixhPXQubGFzdF94LXMsaD10Lmxhc3RfeStuLGw9dGhpcy5yZW5kZXJfb3B0aW9ucy50aGlja25lc3MsYz0oYS1yKS8oaS5sZW5ndGgrMik7ZS5iZWdpblBhdGgoKSxlLm1vdmVUbyhyLG8pLGUuYmV6aWVyQ3VydmVUbyhyK2MraVswXS54LG8raVswXS55KnQuZGlyZWN0aW9uLGEtYytpWzFdLngsaCtpWzFdLnkqdC5kaXJlY3Rpb24sYSxoKSxlLmJlemllckN1cnZlVG8oYS1jK2lbMV0ueCxoKyhpWzFdLnkrbCkqdC5kaXJlY3Rpb24scitjK2lbMF0ueCxvKyhpWzBdLnkrbCkqdC5kaXJlY3Rpb24scixvKSxlLnN0cm9rZSgpLGUuY2xvc2VQYXRoKCksZS5maWxsKCl9ZHJhdygpe3RoaXMuY2hlY2tDb250ZXh0KCksdGhpcy5zZXRSZW5kZXJlZCgpO2NvbnN0IHQ9dGhpcy5mcm9tLGU9dGhpcy50bztsZXQgaSxzLG4scixvLGE9XCJiYXNlWVwiLGg9XCJiYXNlWVwiO2Z1bmN0aW9uIGwodCl7cmV0dXJuXCJzdHJpbmdcIj09dHlwZW9mIHQ/a3QuUG9zaXRpb25TdHJpbmdbdF06dH1jb25zdCBjPWwodGhpcy5yZW5kZXJfb3B0aW9ucy5wb3NpdGlvbiksdT1sKHRoaXMucmVuZGVyX29wdGlvbnMucG9zaXRpb25fZW5kKTtyZXR1cm4gYz09PWt0LlBvc2l0aW9uLk5FQVJfVE9QJiYoYT1cInRvcFlcIixoPVwidG9wWVwiKSx1PT09a3QuUG9zaXRpb24uTkVBUl9IRUFEP2g9XCJiYXNlWVwiOnU9PT1rdC5Qb3NpdGlvbi5ORUFSX1RPUCYmKGg9XCJ0b3BZXCIpLHQ/KGk9dC5nZXRUaWVSaWdodFgoKSxvPXQuZ2V0U3RlbURpcmVjdGlvbigpLG49dC5nZXRTdGVtRXh0ZW50cygpW2FdKTooaT1lLmdldFN0YXZlKCkuZ2V0VGllU3RhcnRYKCksbj1lLmdldFN0ZW1FeHRlbnRzKClbYV0pLGU/KHM9ZS5nZXRUaWVMZWZ0WCgpLG89ZS5nZXRTdGVtRGlyZWN0aW9uKCkscj1lLmdldFN0ZW1FeHRlbnRzKClbaF0pOihzPXQuZ2V0U3RhdmUoKS5nZXRUaWVFbmRYKCkscj10LmdldFN0ZW1FeHRlbnRzKClbaF0pLHRoaXMucmVuZGVyQ3VydmUoe2ZpcnN0X3g6aSxsYXN0X3g6cyxmaXJzdF95Om4sbGFzdF95OnIsZGlyZWN0aW9uOm8qKCEwPT09dGhpcy5yZW5kZXJfb3B0aW9ucy5pbnZlcnQ/LTE6MSl9KSwhMH19ZnVuY3Rpb24gT3QoLi4udCl7VnQuREVCVUcmJnMuTChcIlZleC5GbG93LlRleHREeW5hbWljc1wiLHQpfWNsYXNzIFZ0IGV4dGVuZHMgQ3tzdGF0aWMgZ2V0IEdMWVBIUygpe3JldHVybntmOntjb2RlOlwidmJhXCIsd2lkdGg6MTJ9LHA6e2NvZGU6XCJ2YmZcIix3aWR0aDoxNH0sbTp7Y29kZTpcInY2MlwiLHdpZHRoOjE3fSxzOntjb2RlOlwidjRhXCIsd2lkdGg6MTB9LHo6e2NvZGU6XCJ2ODBcIix3aWR0aDoxMn0scjp7Y29kZTpcInZiMVwiLHdpZHRoOjEyfX19Y29uc3RydWN0b3IodCl7c3VwZXIodCksdGhpcy5zZXRBdHRyaWJ1dGUoXCJ0eXBlXCIsXCJUZXh0RHluYW1pY3NcIiksdGhpcy5zZXF1ZW5jZT10LnRleHQudG9Mb3dlckNhc2UoKSx0aGlzLmxpbmU9dC5saW5lfHwwLHRoaXMuZ2x5cGhzPVtdLHMuTWVyZ2UodGhpcy5yZW5kZXJfb3B0aW9ucyx7Z2x5cGhfZm9udF9zaXplOjQwfSksT3QoXCJOZXcgRHluYW1pY3MgVGV4dDogXCIsdGhpcy5zZXF1ZW5jZSl9c2V0TGluZSh0KXtyZXR1cm4gdGhpcy5saW5lPXQsdGhpc31wcmVGb3JtYXQoKXtsZXQgdD0wO3JldHVybiB0aGlzLnNlcXVlbmNlLnNwbGl0KFwiXCIpLmZvckVhY2goZT0+e2NvbnN0IGk9VnQuR0xZUEhTW2VdO2lmKCFpKXRocm93IG5ldyBzLlJFUlIoXCJJbnZhbGlkIGR5bmFtaWNzIGNoYXJhY3RlcjogXCIrZSk7Y29uc3Qgbj10aGlzLnJlbmRlcl9vcHRpb25zLmdseXBoX2ZvbnRfc2l6ZSxyPW5ldyBmKGkuY29kZSxuKTt0aGlzLmdseXBocy5wdXNoKHIpLHQrPWkud2lkdGh9KSx0aGlzLnNldFdpZHRoKHQpLHRoaXMucHJlRm9ybWF0dGVkPSEwLHRoaXN9ZHJhdygpe3RoaXMuc2V0UmVuZGVyZWQoKTtjb25zdCB0PXRoaXMuZ2V0QWJzb2x1dGVYKCksZT10aGlzLnN0YXZlLmdldFlGb3JMaW5lKHRoaXMubGluZSstMyk7T3QoXCJSZW5kZXJpbmcgRHluYW1pY3M6IFwiLHRoaXMuc2VxdWVuY2UpO2xldCBpPXQ7dGhpcy5nbHlwaHMuZm9yRWFjaCgodCxzKT0+e2NvbnN0IG49dGhpcy5zZXF1ZW5jZVtzXTt0LnJlbmRlcih0aGlzLmNvbnRleHQsaSxlKSxpKz1WdC5HTFlQSFNbbl0ud2lkdGh9KX19ZnVuY3Rpb24gR3QodCxlLGkscyxuLHIsbyl7dC5iZWdpblBhdGgoKSx0Lm1vdmVUbyhlLGkpLHQubGluZVRvKHMsbiksdC5saW5lVG8ocixvKSx0LmxpbmVUbyhlLGkpLHQuY2xvc2VQYXRoKCksdC5maWxsKCl9Y2xhc3MgV3QgZXh0ZW5kcyBoe3N0YXRpYyBnZXQgVGV4dFZlcnRpY2FsUG9zaXRpb24oKXtyZXR1cm57VE9QOjEsQk9UVE9NOjJ9fXN0YXRpYyBnZXQgVGV4dEp1c3RpZmljYXRpb24oKXtyZXR1cm57TEVGVDoxLENFTlRFUjoyLFJJR0hUOjN9fWNvbnN0cnVjdG9yKHQpe3N1cGVyKCksdGhpcy5zZXRBdHRyaWJ1dGUoXCJ0eXBlXCIsXCJTdGF2ZUxpbmVcIiksdGhpcy5ub3Rlcz10LHRoaXMudGV4dD1cIlwiLHRoaXMuZm9udD17ZmFtaWx5OlwiQXJpYWxcIixzaXplOjEwLHdlaWdodDpcIlwifSx0aGlzLnJlbmRlcl9vcHRpb25zPXtwYWRkaW5nX2xlZnQ6NCxwYWRkaW5nX3JpZ2h0OjMsbGluZV93aWR0aDoxLGxpbmVfZGFzaDpudWxsLHJvdW5kZWRfZW5kOiEwLGNvbG9yOm51bGwsZHJhd19zdGFydF9hcnJvdzohMSxkcmF3X2VuZF9hcnJvdzohMSxhcnJvd2hlYWRfbGVuZ3RoOjEwLGFycm93aGVhZF9hbmdsZTpNYXRoLlBJLzgsdGV4dF9wb3NpdGlvbl92ZXJ0aWNhbDpXdC5UZXh0VmVydGljYWxQb3NpdGlvbi5UT1AsdGV4dF9qdXN0aWZpY2F0aW9uOld0LlRleHRKdXN0aWZpY2F0aW9uLkNFTlRFUn0sdGhpcy5zZXROb3Rlcyh0KX1zZXRGb250KHQpe3JldHVybiB0aGlzLmZvbnQ9dCx0aGlzfXNldFRleHQodCl7cmV0dXJuIHRoaXMudGV4dD10LHRoaXN9c2V0Tm90ZXModCl7aWYoIXQuZmlyc3Rfbm90ZSYmIXQubGFzdF9ub3RlKXRocm93IG5ldyBzLlJ1bnRpbWVFcnJvcihcIkJhZEFyZ3VtZW50c1wiLFwiTm90ZXMgbmVlZHMgdG8gaGF2ZSBlaXRoZXIgZmlyc3Rfbm90ZSBvciBsYXN0X25vdGUgc2V0LlwiKTtpZih0LmZpcnN0X2luZGljZXN8fCh0LmZpcnN0X2luZGljZXM9WzBdKSx0Lmxhc3RfaW5kaWNlc3x8KHQubGFzdF9pbmRpY2VzPVswXSksdC5maXJzdF9pbmRpY2VzLmxlbmd0aCE9PXQubGFzdF9pbmRpY2VzLmxlbmd0aCl0aHJvdyBuZXcgcy5SdW50aW1lRXJyb3IoXCJCYWRBcmd1bWVudHNcIixcIkNvbm5lY3RlZCBub3RlcyBtdXN0IGhhdmUgc2ltaWxhciBpbmRleCBzaXplc1wiKTtyZXR1cm4gdGhpcy5maXJzdF9ub3RlPXQuZmlyc3Rfbm90ZSx0aGlzLmZpcnN0X2luZGljZXM9dC5maXJzdF9pbmRpY2VzLHRoaXMubGFzdF9ub3RlPXQubGFzdF9ub3RlLHRoaXMubGFzdF9pbmRpY2VzPXQubGFzdF9pbmRpY2VzLHRoaXN9YXBwbHlMaW5lU3R5bGUoKXtjb25zdCB0PXRoaXMuY2hlY2tDb250ZXh0KCksZT10aGlzLnJlbmRlcl9vcHRpb25zO2UubGluZV9kYXNoJiZ0LnNldExpbmVEYXNoKGUubGluZV9kYXNoKSxlLmxpbmVfd2lkdGgmJnQuc2V0TGluZVdpZHRoKGUubGluZV93aWR0aCksZS5yb3VuZGVkX2VuZD90LnNldExpbmVDYXAoXCJyb3VuZFwiKTp0LnNldExpbmVDYXAoXCJzcXVhcmVcIil9YXBwbHlGb250U3R5bGUoKXtjb25zdCB0PXRoaXMuY2hlY2tDb250ZXh0KCk7dGhpcy5mb250JiZ0LnNldEZvbnQodGhpcy5mb250LmZhbWlseSx0aGlzLmZvbnQuc2l6ZSx0aGlzLmZvbnQud2VpZ2h0KSx0aGlzLnJlbmRlcl9vcHRpb25zLmNvbG9yJiYodC5zZXRTdHJva2VTdHlsZSh0aGlzLnJlbmRlcl9vcHRpb25zLmNvbG9yKSx0LnNldEZpbGxTdHlsZSh0aGlzLnJlbmRlcl9vcHRpb25zLmNvbG9yKSl9ZHJhdygpe2NvbnN0IHQ9dGhpcy5jaGVja0NvbnRleHQoKTt0aGlzLnNldFJlbmRlcmVkKCk7Y29uc3QgZT10aGlzLmZpcnN0X25vdGUsaT10aGlzLmxhc3Rfbm90ZSxzPXRoaXMucmVuZGVyX29wdGlvbnM7bGV0IG4scjt0LnNhdmUoKSx0aGlzLmFwcGx5TGluZVN0eWxlKCksdGhpcy5maXJzdF9pbmRpY2VzLmZvckVhY2goKG8sYSk9Pntjb25zdCBoPXRoaXMubGFzdF9pbmRpY2VzW2FdO249ZS5nZXRNb2RpZmllclN0YXJ0WFkoMixvKSxyPWkuZ2V0TW9kaWZpZXJTdGFydFhZKDEsaCk7Y29uc3QgbD1uLnk+ci55O24ueCs9ZS5nZXRNZXRyaWNzKCkubW9kUmlnaHRQeCtzLnBhZGRpbmdfbGVmdCxyLngtPWkuZ2V0TWV0cmljcygpLm1vZExlZnRQeCtzLnBhZGRpbmdfcmlnaHQ7Y29uc3QgYz1lLmdldEdseXBoKCkuZ2V0V2lkdGgoKTtlLmdldEtleVByb3BzKClbb10uZGlzcGxhY2VkJiYxPT09ZS5nZXRTdGVtRGlyZWN0aW9uKCkmJihuLngrPWMrcy5wYWRkaW5nX2xlZnQpLGkuZ2V0S2V5UHJvcHMoKVtoXS5kaXNwbGFjZWQmJi0xPT09aS5nZXRTdGVtRGlyZWN0aW9uKCkmJihyLngtPWMrcy5wYWRkaW5nX3JpZ2h0KSxuLnkrPWw/LTM6MSxyLnkrPWw/MjowLGZ1bmN0aW9uKHQsZSxpLHMpe2NvbnN0IG49cy5kcmF3X3N0YXJ0X2Fycm93JiZzLmRyYXdfZW5kX2Fycm93LHI9ZS54LG89ZS55LGE9aS54LGg9aS55LGw9TWF0aC5zcXJ0KChhLXIpKihhLXIpKyhoLW8pKihoLW8pKSxjPShsLXMuYXJyb3doZWFkX2xlbmd0aC8zKS9sO2xldCB1LGQsZixtO3MuZHJhd19lbmRfYXJyb3d8fG4/KHU9TWF0aC5yb3VuZChyKyhhLXIpKmMpLGQ9TWF0aC5yb3VuZChvKyhoLW8pKmMpKToodT1hLGQ9aCkscy5kcmF3X3N0YXJ0X2Fycm93fHxuPyhmPXIrKGEtcikqKDEtYyksbT1vKyhoLW8pKigxLWMpKTooZj1yLG09bykscy5jb2xvciYmKHQuc2V0U3Ryb2tlU3R5bGUocy5jb2xvciksdC5zZXRGaWxsU3R5bGUocy5jb2xvcikpLHQuYmVnaW5QYXRoKCksdC5tb3ZlVG8oZixtKSx0LmxpbmVUbyh1LGQpLHQuc3Ryb2tlKCksdC5jbG9zZVBhdGgoKTtjb25zdCBwPU1hdGguYXRhbjIoaC1vLGEtciksZz1NYXRoLmFicyhzLmFycm93aGVhZF9sZW5ndGgvTWF0aC5jb3Mocy5hcnJvd2hlYWRfYW5nbGUpKTtsZXQgYixTLHkseCxFLHY7KHMuZHJhd19lbmRfYXJyb3d8fG4pJiYoYj1wK01hdGguUEkrcy5hcnJvd2hlYWRfYW5nbGUseT1hK01hdGguY29zKGIpKmcseD1oK01hdGguc2luKGIpKmcsUz1wK01hdGguUEktcy5hcnJvd2hlYWRfYW5nbGUsRT1hK01hdGguY29zKFMpKmcsdj1oK01hdGguc2luKFMpKmcsR3QodCx5LHgsYSxoLEUsdikpLChzLmRyYXdfc3RhcnRfYXJyb3d8fG4pJiYoYj1wK3MuYXJyb3doZWFkX2FuZ2xlLHk9citNYXRoLmNvcyhiKSpnLHg9bytNYXRoLnNpbihiKSpnLFM9cC1zLmFycm93aGVhZF9hbmdsZSxFPXIrTWF0aC5jb3MoUykqZyx2PW8rTWF0aC5zaW4oUykqZyxHdCh0LHkseCxyLG8sRSx2KSl9KHQsbixyLHRoaXMucmVuZGVyX29wdGlvbnMpfSksdC5yZXN0b3JlKCk7Y29uc3Qgbz10Lm1lYXN1cmVUZXh0KHRoaXMudGV4dCkud2lkdGgsYT1zLnRleHRfanVzdGlmaWNhdGlvbjtsZXQgaCxsPTA7aWYoYT09PVd0LlRleHRKdXN0aWZpY2F0aW9uLkxFRlQpbD1uLng7ZWxzZSBpZihhPT09V3QuVGV4dEp1c3RpZmljYXRpb24uQ0VOVEVSKXtsPShyLngtbi54KS8yK24ueC1vLzJ9ZWxzZSBhPT09V3QuVGV4dEp1c3RpZmljYXRpb24uUklHSFQmJihsPXIueC1vKTtjb25zdCBjPXMudGV4dF9wb3NpdGlvbl92ZXJ0aWNhbDtyZXR1cm4gYz09PVd0LlRleHRWZXJ0aWNhbFBvc2l0aW9uLlRPUD9oPWUuZ2V0U3RhdmUoKS5nZXRZRm9yVG9wVGV4dCgpOmM9PT1XdC5UZXh0VmVydGljYWxQb3NpdGlvbi5CT1RUT00mJihoPWUuZ2V0U3RhdmUoKS5nZXRZRm9yQm90dG9tVGV4dChtLlRFWFRfSEVJR0hUX09GRlNFVF9IQUNLKSksdC5zYXZlKCksdGhpcy5hcHBseUZvbnRTdHlsZSgpLHQuZmlsbFRleHQodGhpcy50ZXh0LGwsaCksdC5yZXN0b3JlKCksdGhpc319ZnVuY3Rpb24genQodCxlLGkscyxuKXtjb25zdCByPVV0LkdMWVBIU1t0XTtuZXcgZihyLmNvZGUsbikucmVuZGVyKGUsaStyLnhfc2hpZnQscytyLnlfc2hpZnQpfWNsYXNzIFV0IGV4dGVuZHMgaHtzdGF0aWMgZ2V0IEdMWVBIUygpe3JldHVybntwZWRhbF9kZXByZXNzOntjb2RlOlwidjM2XCIseF9zaGlmdDotMTAseV9zaGlmdDowfSxwZWRhbF9yZWxlYXNlOntjb2RlOlwidjVkXCIseF9zaGlmdDotMix5X3NoaWZ0OjN9fX1zdGF0aWMgZ2V0IFN0eWxlcygpe3JldHVybntURVhUOjEsQlJBQ0tFVDoyLE1JWEVEOjN9fXN0YXRpYyBnZXQgU3R5bGVzU3RyaW5nKCl7cmV0dXJue3RleHQ6VXQuU3R5bGVzLlRFWFQsYnJhY2tldDpVdC5TdHlsZXMuQlJBQ0tFVCxtaXhlZDpVdC5TdHlsZXMuTUlYRUR9fXN0YXRpYyBjcmVhdGVTdXN0YWluKHQpe3JldHVybiBuZXcgVXQodCl9c3RhdGljIGNyZWF0ZVNvc3RlbnV0byh0KXtjb25zdCBlPW5ldyBVdCh0KTtyZXR1cm4gZS5zZXRTdHlsZShVdC5TdHlsZXMuTUlYRUQpLGUuc2V0Q3VzdG9tVGV4dChcIlNvc3QuIFBlZC5cIiksZX1zdGF0aWMgY3JlYXRlVW5hQ29yZGEodCl7Y29uc3QgZT1uZXcgVXQodCk7cmV0dXJuIGUuc2V0U3R5bGUoVXQuU3R5bGVzLlRFWFQpLGUuc2V0Q3VzdG9tVGV4dChcInVuYSBjb3JkYVwiLFwidHJlIGNvcmRhXCIpLGV9Y29uc3RydWN0b3IodCl7c3VwZXIoKSx0aGlzLnNldEF0dHJpYnV0ZShcInR5cGVcIixcIlBlZGFsTWFya2luZ1wiKSx0aGlzLm5vdGVzPXQsdGhpcy5zdHlsZT1VdC5URVhULHRoaXMubGluZT0wLHRoaXMuY3VzdG9tX2RlcHJlc3NfdGV4dD1cIlwiLHRoaXMuY3VzdG9tX3JlbGVhc2VfdGV4dD1cIlwiLHRoaXMuZm9udD17ZmFtaWx5OlwiVGltZXMgTmV3IFJvbWFuXCIsc2l6ZToxMix3ZWlnaHQ6XCJpdGFsaWMgYm9sZFwifSx0aGlzLnJlbmRlcl9vcHRpb25zPXticmFja2V0X2hlaWdodDoxMCx0ZXh0X21hcmdpbl9yaWdodDo2LGJyYWNrZXRfbGluZV93aWR0aDoxLGdseXBoX3BvaW50X3NpemU6NDAsY29sb3I6XCJibGFja1wifX1zZXRDdXN0b21UZXh0KHQsZSl7cmV0dXJuIHRoaXMuY3VzdG9tX2RlcHJlc3NfdGV4dD10fHxcIlwiLHRoaXMuY3VzdG9tX3JlbGVhc2VfdGV4dD1lfHxcIlwiLHRoaXN9c2V0U3R5bGUodCl7aWYodDwxJiZ0PjMpdGhyb3cgbmV3IHMuUkVSUihcIkludmFsaWRQYXJhbWV0ZXJcIixcIlRoZSBzdHlsZSBtdXN0IGJlIG9uZSBmb3VuZCBpbiBQZWRhbE1hcmtpbmcuU3R5bGVzXCIpO3JldHVybiB0aGlzLnN0eWxlPXQsdGhpc31zZXRMaW5lKHQpe3JldHVybiB0aGlzLmxpbmU9dCx0aGlzfWRyYXdCcmFja2V0ZWQoKXtjb25zdCB0PXRoaXMuY29udGV4dDtsZXQgZSxpLG49ITE7Y29uc3Qgcj10aGlzO3RoaXMubm90ZXMuZm9yRWFjaCgobyxhLGgpPT57bj0hbjtjb25zdCBsPW8uZ2V0QWJzb2x1dGVYKCksYz1vLmdldFN0YXZlKCkuZ2V0WUZvckJvdHRvbVRleHQoci5saW5lKzMpO2lmKGw8ZSl0aHJvdyBuZXcgcy5SRVJSKFwiSW52YWxpZENvbmZpZ3VyYXRpb25cIixcIlRoZSBub3RlcyBwcm92aWRlZCBtdXN0IGJlIGluIG9yZGVyIG9mIGFzY2VuZGluZyB4IHBvc2l0aW9uc1wiKTtjb25zdCB1PWhbYSsxXT09PW8sZD1oW2EtMV09PT1vO2xldCBmPTA7aWYobilpZihmPWQ/NTowLHIuc3R5bGUhPT1VdC5TdHlsZXMuTUlYRUR8fGQpdC5iZWdpblBhdGgoKSx0Lm1vdmVUbyhsLGMtci5yZW5kZXJfb3B0aW9ucy5icmFja2V0X2hlaWdodCksdC5saW5lVG8obCtmLGMpLHQuc3Ryb2tlKCksdC5jbG9zZVBhdGgoKTtlbHNlIGlmKHIuY3VzdG9tX2RlcHJlc3NfdGV4dCl7Y29uc3QgZT10Lm1lYXN1cmVUZXh0KHIuY3VzdG9tX2RlcHJlc3NfdGV4dCkud2lkdGg7dC5maWxsVGV4dChyLmN1c3RvbV9kZXByZXNzX3RleHQsbC1lLzIsYyksZj1lLzIrci5yZW5kZXJfb3B0aW9ucy50ZXh0X21hcmdpbl9yaWdodH1lbHNlIHp0KFwicGVkYWxfZGVwcmVzc1wiLHQsbCxjLHIucmVuZGVyX29wdGlvbnMuZ2x5cGhfcG9pbnRfc2l6ZSksZj0yMCtyLnJlbmRlcl9vcHRpb25zLnRleHRfbWFyZ2luX3JpZ2h0O2Vsc2UgZj11Py01OjAsdC5iZWdpblBhdGgoKSx0Lm1vdmVUbyhlLGkpLHQubGluZVRvKGwrZixjKSx0LmxpbmVUbyhsLGMtci5yZW5kZXJfb3B0aW9ucy5icmFja2V0X2hlaWdodCksdC5zdHJva2UoKSx0LmNsb3NlUGF0aCgpO2U9bCtmLGk9Y30pfWRyYXdUZXh0KCl7Y29uc3QgdD10aGlzLmNvbnRleHQ7bGV0IGU9ITE7Y29uc3QgaT10aGlzLHM9aS5yZW5kZXJfb3B0aW9ucy5nbHlwaF9wb2ludF9zaXplO3RoaXMubm90ZXMuZm9yRWFjaChuPT57ZT0hZTtjb25zdCByPW4uZ2V0U3RhdmUoKSxvPW4uZ2V0QWJzb2x1dGVYKCksYT1yLmdldFlGb3JCb3R0b21UZXh0KGkubGluZSszKTtsZXQgaD0wO2U/aS5jdXN0b21fZGVwcmVzc190ZXh0PyhoPXQubWVhc3VyZVRleHQoaS5jdXN0b21fZGVwcmVzc190ZXh0KS53aWR0aCx0LmZpbGxUZXh0KGkuY3VzdG9tX2RlcHJlc3NfdGV4dCxvLWgvMixhKSk6enQoXCJwZWRhbF9kZXByZXNzXCIsdCxvLGEscyk6aS5jdXN0b21fcmVsZWFzZV90ZXh0PyhoPXQubWVhc3VyZVRleHQoaS5jdXN0b21fcmVsZWFzZV90ZXh0KS53aWR0aCx0LmZpbGxUZXh0KGkuY3VzdG9tX3JlbGVhc2VfdGV4dCxvLWgvMixhKSk6enQoXCJwZWRhbF9yZWxlYXNlXCIsdCxvLGEscyl9KX1kcmF3KCl7Y29uc3QgdD10aGlzLmNoZWNrQ29udGV4dCgpO3RoaXMuc2V0UmVuZGVyZWQoKSx0LnNhdmUoKSx0LnNldFN0cm9rZVN0eWxlKHRoaXMucmVuZGVyX29wdGlvbnMuY29sb3IpLHQuc2V0RmlsbFN0eWxlKHRoaXMucmVuZGVyX29wdGlvbnMuY29sb3IpLHQuc2V0Rm9udCh0aGlzLmZvbnQuZmFtaWx5LHRoaXMuZm9udC5zaXplLHRoaXMuZm9udC53ZWlnaHQpLGZ1bmN0aW9uKC4uLnQpe1V0LkRFQlVHJiZzLkwoXCJWZXguRmxvdy5QZWRhbE1hcmtpbmdcIix0KX0oXCJSZW5kZXJpbmcgUGVkYWwgTWFya2luZ1wiKSx0aGlzLnN0eWxlPT09VXQuU3R5bGVzLkJSQUNLRVR8fHRoaXMuc3R5bGU9PT1VdC5TdHlsZXMuTUlYRUQ/KHQuc2V0TGluZVdpZHRoKHRoaXMucmVuZGVyX29wdGlvbnMuYnJhY2tldF9saW5lX3dpZHRoKSx0aGlzLmRyYXdCcmFja2V0ZWQoKSk6dGhpcy5zdHlsZT09PVV0LlN0eWxlcy5URVhUJiZ0aGlzLmRyYXdUZXh0KCksdC5yZXN0b3JlKCl9fWNsYXNzIEh0IGV4dGVuZHMgaHtzdGF0aWMgZ2V0IFBvc2l0aW9ucygpe3JldHVybntUT1A6MSxCT1RUT006LTF9fXN0YXRpYyBnZXQgUG9zaXRpb25TdHJpbmcoKXtyZXR1cm57dG9wOkh0LlBvc2l0aW9ucy5UT1AsYm90dG9tOkh0LlBvc2l0aW9ucy5CT1RUT019fWNvbnN0cnVjdG9yKHtzdGFydDp0LHN0b3A6ZSx0ZXh0Omk9XCJcIixzdXBlcnNjcmlwdDpzPVwiXCIscG9zaXRpb246bj1IdC5Qb3NpdGlvbnMuVE9QfSl7c3VwZXIoKSx0aGlzLnNldEF0dHJpYnV0ZShcInR5cGVcIixcIlRleHRCcmFja2V0XCIpLHRoaXMuc3RhcnQ9dCx0aGlzLnN0b3A9ZSx0aGlzLnRleHQ9aSx0aGlzLnN1cGVyc2NyaXB0PXMsdGhpcy5wb3NpdGlvbj1cInN0cmluZ1wiPT10eXBlb2Ygbj9IdC5Qb3NpdGlvblN0cmluZ1tuXTpuLHRoaXMubGluZT0xLHRoaXMuZm9udD17ZmFtaWx5OlwiU2VyaWZcIixzaXplOjE1LHdlaWdodDpcIml0YWxpY1wifSx0aGlzLnJlbmRlcl9vcHRpb25zPXtkYXNoZWQ6ITAsZGFzaDpbNV0sY29sb3I6XCJibGFja1wiLGxpbmVfd2lkdGg6MSxzaG93X2JyYWNrZXQ6ITAsYnJhY2tldF9oZWlnaHQ6OCx1bmRlcmxpbmVfc3VwZXJzY3JpcHQ6ITB9fWFwcGx5U3R5bGUodCl7cmV0dXJuIHQuc2V0Rm9udCh0aGlzLmZvbnQuZmFtaWx5LHRoaXMuZm9udC5zaXplLHRoaXMuZm9udC53ZWlnaHQpLHQuc2V0U3Ryb2tlU3R5bGUodGhpcy5yZW5kZXJfb3B0aW9ucy5jb2xvciksdC5zZXRGaWxsU3R5bGUodGhpcy5yZW5kZXJfb3B0aW9ucy5jb2xvciksdC5zZXRMaW5lV2lkdGgodGhpcy5yZW5kZXJfb3B0aW9ucy5saW5lX3dpZHRoKSx0aGlzfXNldERhc2hlZCh0LGUpe3JldHVybiB0aGlzLnJlbmRlcl9vcHRpb25zLmRhc2hlZD10LGUmJih0aGlzLnJlbmRlcl9vcHRpb25zLmRhc2g9ZSksdGhpc31zZXRGb250KHQpe3JldHVybiB0aGlzLmZvbnQ9ey4uLnRoaXMuZm9udCwuLi50fSx0aGlzfXNldExpbmUodCl7cmV0dXJuIHRoaXMubGluZT10LHRoaXN9ZHJhdygpe2NvbnN0IHQ9dGhpcy5jb250ZXh0O3RoaXMuc2V0UmVuZGVyZWQoKTtsZXQgZT0wO3N3aXRjaCh0aGlzLnBvc2l0aW9uKXtjYXNlIEh0LlBvc2l0aW9ucy5UT1A6ZT10aGlzLnN0YXJ0LmdldFN0YXZlKCkuZ2V0WUZvclRvcFRleHQodGhpcy5saW5lKTticmVhaztjYXNlIEh0LlBvc2l0aW9ucy5CT1RUT006ZT10aGlzLnN0YXJ0LmdldFN0YXZlKCkuZ2V0WUZvckJvdHRvbVRleHQodGhpcy5saW5lK20uVEVYVF9IRUlHSFRfT0ZGU0VUX0hBQ0spO2JyZWFrO2RlZmF1bHQ6dGhyb3cgbmV3IHMuUkVSUihcIkludmFsaWRQb3NpdGlvblwiLGBUaGUgcG9zaXRpb24gJHt0aGlzLnBvc2l0aW9ufSBpcyBpbnZhbGlkYCl9Y29uc3QgaT17eDp0aGlzLnN0YXJ0LmdldEFic29sdXRlWCgpLHk6ZX0sbj17eDp0aGlzLnN0b3AuZ2V0QWJzb2x1dGVYKCkseTplfTshZnVuY3Rpb24oLi4udCl7SHQuREVCVUcmJnMuTChcIlZleC5GbG93LlRleHRCcmFja2V0XCIsdCl9KFwiUmVuZGVyaW5nIFRleHRCcmFja2V0OiBzdGFydDpcIixpLFwic3RvcDpcIixuLFwieTpcIixlKTtjb25zdCByPXRoaXMucmVuZGVyX29wdGlvbnMuYnJhY2tldF9oZWlnaHQqdGhpcy5wb3NpdGlvbjt0LnNhdmUoKSx0aGlzLmFwcGx5U3R5bGUodCksdC5maWxsVGV4dCh0aGlzLnRleHQsaS54LGkueSk7Y29uc3Qgbz10Lm1lYXN1cmVUZXh0KHRoaXMudGV4dCkud2lkdGgsYT10Lm1lYXN1cmVUZXh0KFwiTVwiKS53aWR0aCxoPWkueS1hLzIuNTt0LnNldEZvbnQodGhpcy5mb250LmZhbWlseSx0aGlzLmZvbnQuc2l6ZS8xLjQsdGhpcy5mb250LndlaWdodCksdC5maWxsVGV4dCh0aGlzLnN1cGVyc2NyaXB0LGkueCtvKzEsaCk7Y29uc3QgbD10Lm1lYXN1cmVUZXh0KHRoaXMuc3VwZXJzY3JpcHQpLndpZHRoLGM9dC5tZWFzdXJlVGV4dChcIk1cIikud2lkdGg7bGV0IHU9aS54LGQ9aDtjb25zdCBmPW4ueCt0aGlzLnN0b3AuZ2V0R2x5cGgoKS5nZXRXaWR0aCgpO3RoaXMucG9zaXRpb249PT1IdC5Qb3NpdGlvbnMuVE9QPyh1Kz1vK2wrNSxkLT1jLzIuNyk6dGhpcy5wb3NpdGlvbj09PUh0LlBvc2l0aW9ucy5CT1RUT00mJihkKz1jLzIuNyx1Kz1vKzIsdGhpcy5yZW5kZXJfb3B0aW9ucy51bmRlcmxpbmVfc3VwZXJzY3JpcHR8fCh1Kz1sKSksdGhpcy5yZW5kZXJfb3B0aW9ucy5kYXNoZWQ/KHguZHJhd0Rhc2hlZExpbmUodCx1LGQsZixkLHRoaXMucmVuZGVyX29wdGlvbnMuZGFzaCksdGhpcy5yZW5kZXJfb3B0aW9ucy5zaG93X2JyYWNrZXQmJnguZHJhd0Rhc2hlZExpbmUodCxmLGQrMSp0aGlzLnBvc2l0aW9uLGYsZCtyLHRoaXMucmVuZGVyX29wdGlvbnMuZGFzaCkpOih0LmJlZ2luUGF0aCgpLHQubW92ZVRvKHUsZCksdC5saW5lVG8oZixkKSx0aGlzLnJlbmRlcl9vcHRpb25zLnNob3dfYnJhY2tldCYmdC5saW5lVG8oZixkK3IpLHQuc3Ryb2tlKCksdC5jbG9zZVBhdGgoKSksdC5yZXN0b3JlKCl9fWNsYXNzIFl0IGV4dGVuZHMgQ3tjb25zdHJ1Y3Rvcih0PWZ0LnR5cGUuU0lOR0xFKXtzdXBlcih7ZHVyYXRpb246XCJiXCJ9KSx0aGlzLnNldEF0dHJpYnV0ZShcInR5cGVcIixcIkJhck5vdGVcIiksdGhpcy5tZXRyaWNzPXt3aWR0aHM6e319O2NvbnN0IGU9ZnQudHlwZTt0aGlzLm1ldHJpY3Mud2lkdGhzPXtbZS5TSU5HTEVdOjgsW2UuRE9VQkxFXToxMixbZS5FTkRdOjE1LFtlLlJFUEVBVF9CRUdJTl06MTQsW2UuUkVQRUFUX0VORF06MTQsW2UuUkVQRUFUX0JPVEhdOjE4LFtlLk5PTkVdOjB9LHRoaXMuaWdub3JlX3RpY2tzPSEwLHRoaXMuc2V0VHlwZSh0KX1nZXRUeXBlKCl7cmV0dXJuIHRoaXMudHlwZX1zZXRUeXBlKHQpe3JldHVybiB0aGlzLnR5cGU9XCJzdHJpbmdcIj09dHlwZW9mIHQ/ZnQudHlwZVN0cmluZ1t0XTp0LHRoaXMuc2V0V2lkdGgodGhpcy5tZXRyaWNzLndpZHRoc1t0aGlzLnR5cGVdKSx0aGlzfWdldEJvdW5kaW5nQm94KCl7cmV0dXJuIHN1cGVyLmdldEJvdW5kaW5nQm94KCl9YWRkVG9Nb2RpZmllckNvbnRleHQoKXtyZXR1cm4gdGhpc31wcmVGb3JtYXQoKXtyZXR1cm4gdGhpcy5zZXRQcmVGb3JtYXR0ZWQoITApLHRoaXN9ZHJhdygpe2lmKHRoaXMuY2hlY2tDb250ZXh0KCksIXRoaXMuc3RhdmUpdGhyb3cgbmV3IHMuUkVSUihcIk5vU3RhdmVcIixcIkNhbid0IGRyYXcgd2l0aG91dCBhIHN0YXZlLlwiKTshZnVuY3Rpb24oLi4udCl7WXQuREVCVUcmJnMuTChcIlZleC5GbG93LkJhck5vdGVcIix0KX0oXCJSZW5kZXJpbmcgYmFyIGxpbmUgYXQ6IFwiLHRoaXMuZ2V0QWJzb2x1dGVYKCkpO2NvbnN0IHQ9bmV3IGZ0KHRoaXMudHlwZSk7dC5zZXRYKHRoaXMuZ2V0QWJzb2x1dGVYKCkpLHQuZHJhdyh0aGlzLnN0YXZlKSx0aGlzLnNldFJlbmRlcmVkKCl9fWNsYXNzIFh0IGV4dGVuZHMgTntjb25zdHJ1Y3Rvcih0KXtpZighdCl0aHJvdyBuZXcgcy5SdW50aW1lRXJyb3IoXCJCYWRBcmd1bWVudHNcIixcIkdob3N0IG5vdGUgbXVzdCBoYXZlIHZhbGlkIGluaXRpYWxpemF0aW9uIGRhdGEgdG8gaWRlbnRpZnkgZHVyYXRpb24uXCIpO2xldCBlO2lmKFwic3RyaW5nXCI9PXR5cGVvZiB0KWU9e2R1cmF0aW9uOnR9O2Vsc2V7aWYoXCJvYmplY3RcIiE9dHlwZW9mIHQpdGhyb3cgbmV3IHMuUnVudGltZUVycm9yKFwiQmFkQXJndW1lbnRzXCIsXCJHaG9zdCBub3RlIG11c3QgaGF2ZSB2YWxpZCBpbml0aWFsaXphdGlvbiBkYXRhIHRvIGlkZW50aWZ5IGR1cmF0aW9uLlwiKTtlPXR9c3VwZXIoZSksdGhpcy5zZXRBdHRyaWJ1dGUoXCJ0eXBlXCIsXCJHaG9zdE5vdGVcIiksdGhpcy5zZXRXaWR0aCgwKX1pc1Jlc3QoKXtyZXR1cm4hMH1zZXRTdGF2ZSh0KXtzdXBlci5zZXRTdGF2ZSh0KX1hZGRUb01vZGlmaWVyQ29udGV4dCgpe3JldHVybiB0aGlzfXByZUZvcm1hdCgpe3JldHVybiB0aGlzLnNldFByZUZvcm1hdHRlZCghMCksdGhpc31kcmF3KCl7aWYoIXRoaXMuc3RhdmUpdGhyb3cgbmV3IHMuUkVSUihcIk5vU3RhdmVcIixcIkNhbid0IGRyYXcgd2l0aG91dCBhIHN0YXZlLlwiKTt0aGlzLnNldFJlbmRlcmVkKCk7Zm9yKGxldCB0PTA7dDx0aGlzLm1vZGlmaWVycy5sZW5ndGg7Kyt0KXtjb25zdCBlPXRoaXMubW9kaWZpZXJzW3RdO2Uuc2V0Q29udGV4dCh0aGlzLmNvbnRleHQpLGUuZHJhd1dpdGhTdHlsZSgpfX19Y2xhc3MganQgZXh0ZW5kcyBCe3N0YXRpYyBnZXQgQ0FURUdPUlkoKXtyZXR1cm5cInRyZW1vbG9cIn1zdGF0aWMgZ2V0IFlPRkZTRVRTVEVNVVAoKXtyZXR1cm4tOX1zdGF0aWMgZ2V0IFlPRkZTRVRTVEVNRE9XTigpe3JldHVybi0yMX1zdGF0aWMgZ2V0IFhPRkZTRVRTVEVNVVAoKXtyZXR1cm4gNn1zdGF0aWMgZ2V0IFhPRkZTRVRTVEVNRE9XTigpe3JldHVybi0yfWNvbnN0cnVjdG9yKHQpe3N1cGVyKCksdGhpcy5zZXRBdHRyaWJ1dGUoXCJ0eXBlXCIsXCJUcmVtb2xvXCIpLHRoaXMubnVtPXQsdGhpcy5ub3RlPW51bGwsdGhpcy5pbmRleD1udWxsLHRoaXMucG9zaXRpb249Qi5Qb3NpdGlvbi5DRU5URVIsdGhpcy5jb2RlPVwidjc0XCJ9Z2V0Q2F0ZWdvcnkoKXtyZXR1cm4ganQuQ0FURUdPUll9ZHJhdygpe2lmKHRoaXMuY2hlY2tDb250ZXh0KCksIXRoaXMubm90ZXx8bnVsbD09dGhpcy5pbmRleCl0aHJvdyBuZXcgcy5SRVJSKFwiTm9BdHRhY2hlZE5vdGVcIixcIkNhbid0IGRyYXcgVHJlbW9sbyB3aXRob3V0IGEgbm90ZSBhbmQgaW5kZXguXCIpO3RoaXMuc2V0UmVuZGVyZWQoKTtjb25zdCB0PXRoaXMubm90ZS5nZXRTdGVtRGlyZWN0aW9uKCk7dGhpcy55X3NwYWNpbmc9NCp0O2xldCBlPXRoaXMubm90ZS5nZXRNb2RpZmllclN0YXJ0WFkodGhpcy5wb3NpdGlvbix0aGlzLmluZGV4KS54LGk9dGhpcy5ub3RlLnN0ZW0uZ2V0RXh0ZW50cygpLnRvcFk7Y29uc3Qgbj1cImdyYWNlbm90ZXNcIj09PXRoaXMubm90ZS5nZXRDYXRlZ29yeSgpP050LlNDQUxFOjE7aSs9dDwwP2p0LllPRkZTRVRTVEVNRE9XTipuOmp0LllPRkZTRVRTVEVNVVAqbix0aGlzLmZvbnQ9e2ZhbWlseTpcIkFyaWFsXCIsc2l6ZToxNipuLHdlaWdodDpcIlwifSx0aGlzLnJlbmRlcl9vcHRpb25zPXtmb250X3NjYWxlOjM1Km4sc3Ryb2tlX3B4OjMsc3Ryb2tlX3NwYWNpbmc6MTAqbn0sZSs9dDwwP2p0LlhPRkZTRVRTVEVNRE9XTjpqdC5YT0ZGU0VUU1RFTVVQO2ZvcihsZXQgdD0wO3Q8dGhpcy5udW07Kyt0KWYucmVuZGVyR2x5cGgodGhpcy5jb250ZXh0LGUsaSx0aGlzLnJlbmRlcl9vcHRpb25zLmZvbnRfc2NhbGUsdGhpcy5jb2RlKSxpKz10aGlzLnlfc3BhY2luZ319Y2xhc3MgS3QgZXh0ZW5kcyBDe2NvbnN0cnVjdG9yKHQpe3N1cGVyKHQpLHRoaXMuc2V0QXR0cmlidXRlKFwidHlwZVwiLFwiQ3Jlc2NlbmRvXCIpLHRoaXMuZGVjcmVzY2VuZG89ITEsdGhpcy5saW5lPXQubGluZXx8MCx0aGlzLmhlaWdodD0xNSxzLk1lcmdlKHRoaXMucmVuZGVyX29wdGlvbnMse2V4dGVuZF9sZWZ0OjAsZXh0ZW5kX3JpZ2h0OjAseV9zaGlmdDowfSl9c2V0TGluZSh0KXtyZXR1cm4gdGhpcy5saW5lPXQsdGhpc31zZXRIZWlnaHQodCl7cmV0dXJuIHRoaXMuaGVpZ2h0PXQsdGhpc31zZXREZWNyZXNjZW5kbyh0KXtyZXR1cm4gdGhpcy5kZWNyZXNjZW5kbz10LHRoaXN9cHJlRm9ybWF0KCl7cmV0dXJuIHRoaXMucHJlRm9ybWF0dGVkPSEwLHRoaXN9ZHJhdygpe3RoaXMuY2hlY2tDb250ZXh0KCksdGhpcy5zZXRSZW5kZXJlZCgpO2NvbnN0IHQ9dGhpcy5nZXRUaWNrQ29udGV4dCgpLGU9aXQuZ2V0TmV4dENvbnRleHQodCksaT10aGlzLmdldEFic29sdXRlWCgpLG49ZT9lLmdldFgoKTp0aGlzLnN0YXZlLngrdGhpcy5zdGF2ZS53aWR0aCxyPXRoaXMuc3RhdmUuZ2V0WUZvckxpbmUodGhpcy5saW5lKy0zKSsxOyFmdW5jdGlvbiguLi50KXtLdC5ERUJVRyYmcy5MKFwiVmV4LkZsb3cuQ3Jlc2NlbmRvXCIsdCl9KFwiRHJhd2luZyBcIix0aGlzLmRlY3Jlc2NlbmRvP1wiZGVjcmVzY2VuZG8gXCI6XCJjcmVzY2VuZG8gXCIsdGhpcy5oZWlnaHQsXCJ4XCIsaS1uKSxmdW5jdGlvbih0LGUpe2NvbnN0IGk9ZS5iZWdpbl94LHM9ZS5lbmRfeCxuPWUueSxyPWUuaGVpZ2h0LzI7dC5iZWdpblBhdGgoKSxlLnJldmVyc2U/KHQubW92ZVRvKGksbi1yKSx0LmxpbmVUbyhzLG4pLHQubGluZVRvKGksbityKSk6KHQubW92ZVRvKHMsbi1yKSx0LmxpbmVUbyhpLG4pLHQubGluZVRvKHMsbityKSksdC5zdHJva2UoKSx0LmNsb3NlUGF0aCgpfSh0aGlzLmNvbnRleHQse2JlZ2luX3g6aS10aGlzLnJlbmRlcl9vcHRpb25zLmV4dGVuZF9sZWZ0LGVuZF94Om4rdGhpcy5yZW5kZXJfb3B0aW9ucy5leHRlbmRfcmlnaHQseTpyK3RoaXMucmVuZGVyX29wdGlvbnMueV9zaGlmdCxoZWlnaHQ6dGhpcy5oZWlnaHQscmV2ZXJzZTp0aGlzLmRlY3Jlc2NlbmRvfSl9fWNvbnN0IHF0PXMuTWFrZUV4Y2VwdGlvbihcIlBhcnNlckVycm9yXCIpO2Z1bmN0aW9uIEp0KHQpe3JldHVybiB2b2lkIDAhPT10Lm1hdGNoZWRTdHJpbmc/dC5tYXRjaGVkU3RyaW5nOnQucmVzdWx0cz9KdCh0LnJlc3VsdHMpOjE9PT10Lmxlbmd0aD9KdCh0WzBdKTowPT09dC5sZW5ndGg/bnVsbDp0Lm1hcChKdCl9Y2xhc3MgJHR7Y29uc3RydWN0b3IodCl7dGhpcy5ncmFtbWFyPXR9cGFyc2UodCl7dGhpcy5saW5lPXQsdGhpcy5wb3M9MCx0aGlzLmVycm9yUG9zPS0xO2NvbnN0IGU9dGhpcy5leHBlY3QodGhpcy5ncmFtbWFyLmJlZ2luKCkpO3JldHVybiBlLmVycm9yUG9zPXRoaXMuZXJyb3JQb3MsZX1tYXRjaEZhaWwodCl7LTE9PT10aGlzLmVycm9yUG9zJiYodGhpcy5lcnJvclBvcz10aGlzLnBvcyksdGhpcy5wb3M9dH1tYXRjaFN1Y2Nlc3MoKXt0aGlzLmVycm9yUG9zPS0xfW1hdGNoVG9rZW4odCxlPSExKXtjb25zdCBpPWU/bmV3IFJlZ0V4cChcIl4oKFwiK3QrXCIpKVwiKTpuZXcgUmVnRXhwKFwiXigoXCIrdCtcIilcXFxccyopXCIpLHM9dGhpcy5saW5lLnNsaWNlKHRoaXMucG9zKS5tYXRjaChpKTtyZXR1cm4gbnVsbCE9PXM/e3N1Y2Nlc3M6ITAsbWF0Y2hlZFN0cmluZzpzWzJdLGluY3JlbWVudFBvczpzWzFdLmxlbmd0aCxwb3M6dGhpcy5wb3N9OntzdWNjZXNzOiExLHBvczp0aGlzLnBvc319ZXhwZWN0T25lKHQsZT0hMSl7Y29uc3QgaT1bXSxzPXRoaXMucG9zO2xldCBuPSEwLHI9ITE7ZT0hMD09PWV8fCEwPT09dC5tYXliZTtmb3IobGV0IGU9MDtlPHQuZXhwZWN0Lmxlbmd0aDtlKyspe2NvbnN0IHM9dC5leHBlY3RbZV0sbz10aGlzLnBvcyxhPXRoaXMuZXhwZWN0KHMpO2lmKGEuc3VjY2Vzcyl7aWYoaS5wdXNoKGEpLHI9ITAsdC5vcilicmVha31lbHNlIGlmKG49ITEsIXQub3Ipe3RoaXMucG9zPW87YnJlYWt9fWNvbnN0IG89dC5vciYmcnx8bixhPW98fCEwPT09ZTtyZXR1cm4gZSYmIW8mJih0aGlzLnBvcz1zKSxhP3RoaXMubWF0Y2hTdWNjZXNzKCk6dGhpcy5tYXRjaEZhaWwocykse3N1Y2Nlc3M6YSxyZXN1bHRzOmksbnVtTWF0Y2hlczpvPzE6MH19ZXhwZWN0T25lT3JNb3JlKHQsZT0hMSl7Y29uc3QgaT1bXSxzPXRoaXMucG9zO2xldCBuPTAscj0hMDtkb3tjb25zdCBlPXRoaXMuZXhwZWN0T25lKHQpO2Uuc3VjY2Vzcz8obisrLGkucHVzaChlLnJlc3VsdHMpKTpyPSExfXdoaWxlKHIpO2NvbnN0IG89bj4wfHwhMD09PWU7cmV0dXJuIWV8fG4+MHx8KHRoaXMucG9zPXMpLG8/dGhpcy5tYXRjaFN1Y2Nlc3MoKTp0aGlzLm1hdGNoRmFpbChzKSx7c3VjY2VzczpvLHJlc3VsdHM6aSxudW1NYXRjaGVzOm59fWV4cGVjdFplcm9Pck1vcmUodCl7cmV0dXJuIHRoaXMuZXhwZWN0T25lT3JNb3JlKHQsITApfWV4cGVjdCh0KXtsZXQgZTtpZihmdW5jdGlvbiguLi50KXskdC5ERUJVRyYmcy5MKFwiVmV4LkZsb3cuUGFyc2VyXCIsdCl9KFwiRXZhbHVhdGluZyBydWxlczpcIix0KSwhdCl0aHJvdyBuZXcgcXQoXCJJbnZhbGlkIFJ1bGU6IFwiK3QsdCk7Y29uc3QgaT10LmJpbmQodGhpcy5ncmFtbWFyKSgpO2lmKGkudG9rZW4pZT10aGlzLm1hdGNoVG9rZW4oaS50b2tlbiwhMD09PWkubm9TcGFjZSksZS5zdWNjZXNzJiYodGhpcy5wb3MrPWUuaW5jcmVtZW50UG9zKTtlbHNle2lmKCFpLmV4cGVjdCl0aHJvdyBuZXcgcXQoXCJCYWQgZ3JhbW1hciEgTm8gYHRva2VuYCBvciBgZXhwZWN0YCBwcm9wZXJ0eVwiLGkpO2U9aS5vbmVPck1vcmU/dGhpcy5leHBlY3RPbmVPck1vcmUoaSk6aS56ZXJvT3JNb3JlP3RoaXMuZXhwZWN0WmVyb09yTW9yZShpKTp0aGlzLmV4cGVjdE9uZShpKX1yZXR1cm4gZS5tYXRjaGVzPVtdLGUucmVzdWx0cyYmZS5yZXN1bHRzLmZvckVhY2godD0+ZS5tYXRjaGVzLnB1c2goSnQodCkpKSxpLnJ1biYmZS5zdWNjZXNzJiZpLnJ1bihlKSxlfX1mdW5jdGlvbiBadCguLi50KXtuZS5ERUJVRyYmcy5MKFwiVmV4LkZsb3cuRWFzeVNjb3JlXCIsdCl9Y29uc3QgUXQ9cy5NYWtlRXhjZXB0aW9uKFwiRWFzeVNjb3JlRXJyb3JcIik7Y2xhc3MgdGV7Y29uc3RydWN0b3IodCl7dGhpcy5idWlsZGVyPXR9YmVnaW4oKXtyZXR1cm4gdGhpcy5MSU5FfUxJTkUoKXtyZXR1cm57ZXhwZWN0Olt0aGlzLlBJRUNFLHRoaXMuUElFQ0VTLHRoaXMuRU9MXX19UElFQ0UoKXtyZXR1cm57ZXhwZWN0Olt0aGlzLkNIT1JET1JOT1RFLHRoaXMuUEFSQU1TXSxydW46KCk9PnRoaXMuYnVpbGRlci5jb21taXRQaWVjZSgpfX1QSUVDRVMoKXtyZXR1cm57ZXhwZWN0Olt0aGlzLkNPTU1BLHRoaXMuUElFQ0VdLHplcm9Pck1vcmU6ITB9fVBBUkFNUygpe3JldHVybntleHBlY3Q6W3RoaXMuRFVSQVRJT04sdGhpcy5UWVBFLHRoaXMuRE9UUyx0aGlzLk9QVFNdfX1DSE9SRE9STk9URSgpe3JldHVybntleHBlY3Q6W3RoaXMuQ0hPUkQsdGhpcy5TSU5HTEVOT1RFXSxvcjohMH19Q0hPUkQoKXtyZXR1cm57ZXhwZWN0Olt0aGlzLkxQQVJFTix0aGlzLk5PVEVTLHRoaXMuUlBBUkVOXSxydW46dD0+dGhpcy5idWlsZGVyLmFkZENob3JkKHQubWF0Y2hlc1sxXSl9fU5PVEVTKCl7cmV0dXJue2V4cGVjdDpbdGhpcy5OT1RFXSxvbmVPck1vcmU6ITB9fU5PVEUoKXtyZXR1cm57ZXhwZWN0Olt0aGlzLk5PVEVOQU1FLHRoaXMuQUNDSURFTlRBTCx0aGlzLk9DVEFWRV19fVNJTkdMRU5PVEUoKXtyZXR1cm57ZXhwZWN0Olt0aGlzLk5PVEVOQU1FLHRoaXMuQUNDSURFTlRBTCx0aGlzLk9DVEFWRV0scnVuOnQ9PnRoaXMuYnVpbGRlci5hZGRTaW5nbGVOb3RlKHQubWF0Y2hlc1swXSx0Lm1hdGNoZXNbMV0sdC5tYXRjaGVzWzJdKX19QUNDSURFTlRBTCgpe3JldHVybntleHBlY3Q6W3RoaXMuQUNDSURFTlRBTFNdLG1heWJlOiEwfX1ET1RTKCl7cmV0dXJue2V4cGVjdDpbdGhpcy5ET1RdLHplcm9Pck1vcmU6ITAscnVuOnQ9PnRoaXMuYnVpbGRlci5zZXROb3RlRG90cyh0Lm1hdGNoZXNbMF0pfX1UWVBFKCl7cmV0dXJue2V4cGVjdDpbdGhpcy5TTEFTSCx0aGlzLk1BWUJFU0xBU0gsdGhpcy5UWVBFU10sbWF5YmU6ITAscnVuOnQ9PnRoaXMuYnVpbGRlci5zZXROb3RlVHlwZSh0Lm1hdGNoZXNbMl0pfX1EVVJBVElPTigpe3JldHVybntleHBlY3Q6W3RoaXMuU0xBU0gsdGhpcy5EVVJBVElPTlNdLG1heWJlOiEwLHJ1bjp0PT50aGlzLmJ1aWxkZXIuc2V0Tm90ZUR1cmF0aW9uKHQubWF0Y2hlc1sxXSl9fU9QVFMoKXtyZXR1cm57ZXhwZWN0Olt0aGlzLkxCUkFDS0VULHRoaXMuS0VZVkFMLHRoaXMuS0VZVkFMUyx0aGlzLlJCUkFDS0VUXSxtYXliZTohMH19S0VZVkFMUygpe3JldHVybntleHBlY3Q6W3RoaXMuQ09NTUEsdGhpcy5LRVlWQUxdLHplcm9Pck1vcmU6ITB9fUtFWVZBTCgpe3JldHVybntleHBlY3Q6W3RoaXMuS0VZLHRoaXMuRVFVQUxTLHRoaXMuVkFMXSxydW46dD0+dGhpcy5idWlsZGVyLmFkZE5vdGVPcHRpb24odC5tYXRjaGVzWzBdLHQubWF0Y2hlc1syXS5zbGljZSgxLC0xKSl9fVZBTCgpe3JldHVybntleHBlY3Q6W3RoaXMuU1ZBTCx0aGlzLkRWQUxdLG9yOiEwfX1LRVkoKXtyZXR1cm57dG9rZW46XCJbYS16QS1aXVthLXpBLVowLTldKlwifX1EVkFMKCl7cmV0dXJue3Rva2VuOidbXCJdW15cIl0qW1wiXSd9fVNWQUwoKXtyZXR1cm57dG9rZW46XCJbJ11bXiddKlsnXVwifX1OT1RFTkFNRSgpe3JldHVybnt0b2tlbjpcIlthLWdBLUddXCJ9fU9DVEFWRSgpe3JldHVybnt0b2tlbjpcIlswLTldK1wifX1BQ0NJREVOVEFMUygpe3JldHVybnt0b2tlbjpcImJic3xiYnxic3N8YnN8YnxkYnxkfCMjfCN8bnxcXFxcK1xcXFwrLXxcXFxcKy18XFxcXCtcXFxcK3xcXFxcK3xrfG9cIn19RFVSQVRJT05TKCl7cmV0dXJue3Rva2VuOlwiWzAtOXdocV0rXCJ9fVRZUEVTKCl7cmV0dXJue3Rva2VuOlwiW3JSc1N4WF1cIn19TFBBUkVOKCl7cmV0dXJue3Rva2VuOlwiWyhdXCJ9fVJQQVJFTigpe3JldHVybnt0b2tlbjpcIlspXVwifX1DT01NQSgpe3JldHVybnt0b2tlbjpcIlssXVwifX1ET1QoKXtyZXR1cm57dG9rZW46XCJbLl1cIn19U0xBU0goKXtyZXR1cm57dG9rZW46XCJbL11cIn19TUFZQkVTTEFTSCgpe3JldHVybnt0b2tlbjpcIlsvXT9cIn19RVFVQUxTKCl7cmV0dXJue3Rva2VuOlwiWz1dXCJ9fUxCUkFDS0VUKCl7cmV0dXJue3Rva2VuOlwiXFxcXFtcIn19UkJSQUNLRVQoKXtyZXR1cm57dG9rZW46XCJcXFxcXVwifX1FT0woKXtyZXR1cm57dG9rZW46XCIkXCJ9fX1jbGFzcyBlZXtjb25zdHJ1Y3Rvcih0KXt0aGlzLmZhY3Rvcnk9dCx0aGlzLmNvbW1pdEhvb2tzPVtdLHRoaXMucmVzZXQoKX1yZXNldCh0PXt9KXt0aGlzLm9wdGlvbnM9e3N0ZW06XCJhdXRvXCIsY2xlZjpcInRyZWJsZVwifSx0aGlzLmVsZW1lbnRzPXtub3RlczpbXSxhY2NpZGVudGFsczpbXX0sdGhpcy5yb2xsaW5nRHVyYXRpb249XCI4XCIsdGhpcy5yZXNldFBpZWNlKCksT2JqZWN0LmFzc2lnbih0aGlzLm9wdGlvbnMsdCl9Z2V0RmFjdG9yeSgpe3JldHVybiB0aGlzLmZhY3Rvcnl9Z2V0RWxlbWVudHMoKXtyZXR1cm4gdGhpcy5lbGVtZW50c31hZGRDb21taXRIb29rKHQpe3RoaXMuY29tbWl0SG9va3MucHVzaCh0KX1yZXNldFBpZWNlKCl7WnQoXCJyZXNldFBpZWNlXCIpLHRoaXMucGllY2U9e2Nob3JkOltdLGR1cmF0aW9uOnRoaXMucm9sbGluZ0R1cmF0aW9uLGRvdHM6MCx0eXBlOnZvaWQgMCxvcHRpb25zOnt9fX1zZXROb3RlRG90cyh0KXtadChcInNldE5vdGVEb3RzOlwiLHQpLHQmJih0aGlzLnBpZWNlLmRvdHM9dC5sZW5ndGgpfXNldE5vdGVEdXJhdGlvbih0KXtadChcInNldE5vdGVEdXJhdGlvbjpcIix0KSx0aGlzLnJvbGxpbmdEdXJhdGlvbj10aGlzLnBpZWNlLmR1cmF0aW9uPXR8fHRoaXMucm9sbGluZ0R1cmF0aW9ufXNldE5vdGVUeXBlKHQpe1p0KFwic2V0Tm90ZVR5cGU6XCIsdCksdCYmKHRoaXMucGllY2UudHlwZT10KX1hZGROb3RlT3B0aW9uKHQsZSl7WnQoXCJhZGROb3RlT3B0aW9uOiBrZXk6XCIsdCxcInZhbHVlOlwiLGUpLHRoaXMucGllY2Uub3B0aW9uc1t0XT1lfWFkZE5vdGUodCxlLGkpe1p0KFwiYWRkTm90ZTpcIix0LGUsaSksdGhpcy5waWVjZS5jaG9yZC5wdXNoKHtrZXk6dCxhY2NpZDplLG9jdGF2ZTppfSl9YWRkU2luZ2xlTm90ZSh0LGUsaSl7WnQoXCJhZGRTaW5nbGVOb3RlOlwiLHQsZSxpKSx0aGlzLmFkZE5vdGUodCxlLGkpfWFkZENob3JkKHQpe1p0KFwic3RhcnRDaG9yZFwiKSxcIm9iamVjdFwiIT10eXBlb2YgdFswXT90aGlzLmFkZFNpbmdsZU5vdGUodFswXSk6dC5mb3JFYWNoKHQ9Pnt0JiZ0aGlzLmFkZE5vdGUoLi4udCl9KSxadChcImVuZENob3JkXCIpfWNvbW1pdFBpZWNlKCl7WnQoXCJjb21taXRQaWVjZVwiKTtjb25zdHtmYWN0b3J5OnR9PXRoaXM7aWYoIXQpcmV0dXJuO2NvbnN0IGU9ey4uLnRoaXMub3B0aW9ucywuLi50aGlzLnBpZWNlLm9wdGlvbnN9LHtzdGVtOmksY2xlZjpzfT1lLG49XCJhdXRvXCI9PT1pLnRvTG93ZXJDYXNlKCkscj1ufHxcInVwXCIhPT1pLnRvTG93ZXJDYXNlKCk/ay5TVEVNX0RPV046ay5TVEVNX1VQLHtjaG9yZDpvLGR1cmF0aW9uOmEsZG90czpoLHR5cGU6bH09dGhpcy5waWVjZSxjPW8ubWFwKHQ9PnQua2V5K1wiL1wiK3Qub2N0YXZlKSx1PXQuU3RhdmVOb3RlKHtrZXlzOmMsZHVyYXRpb246YSxkb3RzOmgsdHlwZTpsLGNsZWY6cyxhdXRvX3N0ZW06bn0pO258fHUuc2V0U3RlbURpcmVjdGlvbihyKTtjb25zdCBkPW8ubWFwKHQ9PnQuYWNjaWR8fG51bGwpO2QuZm9yRWFjaCgoZSxpKT0+e2UmJnUuYWRkQWNjaWRlbnRhbChpLHQuQWNjaWRlbnRhbCh7dHlwZTplfSkpfSk7Zm9yKGxldCB0PTA7dDxoO3QrKyl1LmFkZERvdFRvQWxsKCk7dGhpcy5jb21taXRIb29rcy5mb3JFYWNoKHQ9PnQoZSx1LHRoaXMpKSx0aGlzLmVsZW1lbnRzLm5vdGVzLnB1c2godSksdGhpcy5lbGVtZW50cy5hY2NpZGVudGFscy5jb25jYXQoZCksdGhpcy5yZXNldFBpZWNlKCl9fWZ1bmN0aW9uIGllKHtpZDp0fSxlKXt2b2lkIDAhPT10JiZlLnNldEF0dHJpYnV0ZShcImlkXCIsdCl9ZnVuY3Rpb24gc2UodCxlKXtpZighdC5jbGFzcylyZXR1cm47dC5jbGFzcy5zcGxpdCgvXFxzKixcXHMqLykuZm9yRWFjaCh0PT5lLmFkZENsYXNzKHQpKX1jbGFzcyBuZXtjb25zdHJ1Y3Rvcih0PXt9KXt0aGlzLnNldE9wdGlvbnModCksdGhpcy5kZWZhdWx0cz17Y2xlZjpcInRyZWJsZVwiLHRpbWU6XCI0LzRcIixzdGVtOlwiYXV0b1wifX1zZXQodCl7cmV0dXJuIE9iamVjdC5hc3NpZ24odGhpcy5kZWZhdWx0cyx0KSx0aGlzfXNldE9wdGlvbnModCl7cmV0dXJuIHRoaXMub3B0aW9ucz17ZmFjdG9yeTpudWxsLGJ1aWxkZXI6bnVsbCxjb21taXRIb29rczpbaWUsc2UsZXQuZWFzeVNjb3JlSG9va10sdGhyb3dPbkVycm9yOiExLC4uLnR9LHRoaXMuZmFjdG9yeT10aGlzLm9wdGlvbnMuZmFjdG9yeSx0aGlzLmJ1aWxkZXI9dGhpcy5vcHRpb25zLmJ1aWxkZXJ8fG5ldyBlZSh0aGlzLmZhY3RvcnkpLHRoaXMuZ3JhbW1hcj1uZXcgdGUodGhpcy5idWlsZGVyKSx0aGlzLnBhcnNlcj1uZXcgJHQodGhpcy5ncmFtbWFyKSx0aGlzLm9wdGlvbnMuY29tbWl0SG9va3MuZm9yRWFjaCh0PT50aGlzLmFkZENvbW1pdEhvb2sodCkpLHRoaXN9c2V0Q29udGV4dCh0KXtyZXR1cm4gdGhpcy5mYWN0b3J5JiZ0aGlzLmZhY3Rvcnkuc2V0Q29udGV4dCh0KSx0aGlzfXBhcnNlKHQsZT17fSl7dGhpcy5idWlsZGVyLnJlc2V0KGUpO2NvbnN0IGk9dGhpcy5wYXJzZXIucGFyc2UodCk7aWYoIWkuc3VjY2VzcyYmdGhpcy5vcHRpb25zLnRocm93T25FcnJvcil0aHJvdyBuZXcgUXQoXCJFcnJvciBwYXJzaW5nIGxpbmU6IFwiK3QsaSk7cmV0dXJuIGl9YmVhbSh0LGU9e30pe3JldHVybiB0aGlzLmZhY3RvcnkuQmVhbSh7bm90ZXM6dCxvcHRpb25zOmV9KSx0fXR1cGxldCh0LGU9e30pe3JldHVybiB0aGlzLmZhY3RvcnkuVHVwbGV0KHtub3Rlczp0LG9wdGlvbnM6ZX0pLHR9bm90ZXModCxlPXt9KXtyZXR1cm4gZT17Y2xlZjp0aGlzLmRlZmF1bHRzLmNsZWYsc3RlbTp0aGlzLmRlZmF1bHRzLnN0ZW0sLi4uZX0sdGhpcy5wYXJzZSh0LGUpLHRoaXMuYnVpbGRlci5nZXRFbGVtZW50cygpLm5vdGVzfXZvaWNlKHQsZSl7cmV0dXJuIGU9e3RpbWU6dGhpcy5kZWZhdWx0cy50aW1lLC4uLmV9LHRoaXMuZmFjdG9yeS5Wb2ljZShlKS5hZGRUaWNrYWJsZXModCl9YWRkQ29tbWl0SG9vayh0KXtyZXR1cm4gdGhpcy5idWlsZGVyLmFkZENvbW1pdEhvb2sodCl9fWNvbnN0IHJlPXMuTWFrZUV4Y2VwdGlvbihcIkZhY3RvcnlFcnJvclwiKTtmdW5jdGlvbiBvZSh0PXt9LGUpe2NvbnN0IGk9ZS5vcHRpb25zO3JldHVybih0PU9iamVjdC5hc3NpZ24oZSx0KSkub3B0aW9ucz1PYmplY3QuYXNzaWduKGksdC5vcHRpb25zKSx0fWNsYXNzIGFle2NvbnN0cnVjdG9yKHQpeyFmdW5jdGlvbiguLi50KXthZS5ERUJVRyYmcy5MKFwiVmV4LkZsb3cuRmFjdG9yeVwiLHQpfShcIk5ldyBmYWN0b3J5OiBcIix0KTtjb25zdCBlPXtzdGF2ZTp7c3BhY2U6MTB9LHJlbmRlcmVyOntjb250ZXh0Om51bGwsZWxlbWVudElkOlwiXCIsYmFja2VuZDp4LkJhY2tlbmRzLlNWRyx3aWR0aDo1MDAsaGVpZ2h0OjIwMCxiYWNrZ3JvdW5kOlwiI0ZGRlwifSxmb250OntmYWNlOlwiQXJpYWxcIixwb2ludDoxMCxzdHlsZTpcIlwifX07dGhpcy5vcHRpb25zPWUsdGhpcy5zZXRPcHRpb25zKHQpfXN0YXRpYyBuZXdGcm9tRWxlbWVudElkKHQsZT01MDAsaT0yMDApe3JldHVybiBuZXcgYWUoe3JlbmRlcmVyOntlbGVtZW50SWQ6dCx3aWR0aDplLGhlaWdodDppfX0pfXJlc2V0KCl7dGhpcy5yZW5kZXJRPVtdLHRoaXMuc3lzdGVtcz1bXSx0aGlzLnN0YXZlcz1bXSx0aGlzLnZvaWNlcz1bXSx0aGlzLnN0YXZlPW51bGx9Z2V0T3B0aW9ucygpe3JldHVybiB0aGlzLm9wdGlvbnN9c2V0T3B0aW9ucyh0KXtmb3IoY29uc3QgZSBvZltcInN0YXZlXCIsXCJyZW5kZXJlclwiLFwiZm9udFwiXSlPYmplY3QuYXNzaWduKHRoaXMub3B0aW9uc1tlXSx0W2VdKTsobnVsbCE9PXRoaXMub3B0aW9ucy5yZW5kZXJlci5lbGVtZW50SWR8fHRoaXMub3B0aW9ucy5yZW5kZXJlci5jb250ZXh0KSYmdGhpcy5pbml0UmVuZGVyZXIoKSx0aGlzLnJlc2V0KCl9aW5pdFJlbmRlcmVyKCl7Y29uc3R7ZWxlbWVudElkOnQsYmFja2VuZDplLHdpZHRoOmksaGVpZ2h0OnMsYmFja2dyb3VuZDpufT10aGlzLm9wdGlvbnMucmVuZGVyZXI7aWYoXCJcIj09PXQpdGhyb3cgbmV3IHJlKFwiSFRNTCBET00gZWxlbWVudCBub3Qgc2V0IGluIEZhY3RvcnlcIik7dGhpcy5jb250ZXh0PXguYnVpbGRDb250ZXh0KHQsZSxpLHMsbil9Z2V0Q29udGV4dCgpe3JldHVybiB0aGlzLmNvbnRleHR9c2V0Q29udGV4dCh0KXtyZXR1cm4gdGhpcy5jb250ZXh0PXQsdGhpc31nZXRTdGF2ZSgpe3JldHVybiB0aGlzLnN0YXZlfWdldFZvaWNlcygpe3JldHVybiB0aGlzLnZvaWNlc31zcGFjZSh0KXtyZXR1cm4gdGhpcy5vcHRpb25zLnN0YXZlLnNwYWNlKnR9U3RhdmUodCl7dD1vZSh0LHt4OjAseTowLHdpZHRoOnRoaXMub3B0aW9ucy5yZW5kZXJlci53aWR0aC10aGlzLnNwYWNlKDEpLG9wdGlvbnM6e3NwYWNpbmdfYmV0d2Vlbl9saW5lc19weDp0aGlzLm9wdGlvbnMuc3RhdmUuc3BhY2V9fSk7Y29uc3QgZT1uZXcgX3QodC54LHQueSx0LndpZHRoLHQub3B0aW9ucyk7cmV0dXJuIHRoaXMuc3RhdmVzLnB1c2goZSksZS5zZXRDb250ZXh0KHRoaXMuY29udGV4dCksdGhpcy5zdGF2ZT1lLGV9VGFiU3RhdmUodCl7dD1vZSh0LHt4OjAseTowLHdpZHRoOnRoaXMub3B0aW9ucy5yZW5kZXJlci53aWR0aC10aGlzLnNwYWNlKDEpLG9wdGlvbnM6e3NwYWNpbmdfYmV0d2Vlbl9saW5lc19weDoxLjMqdGhpcy5vcHRpb25zLnN0YXZlLnNwYWNlfX0pO2NvbnN0IGU9bmV3IHd0KHQueCx0LnksdC53aWR0aCx0Lm9wdGlvbnMpO3JldHVybiB0aGlzLnN0YXZlcy5wdXNoKGUpLGUuc2V0Q29udGV4dCh0aGlzLmNvbnRleHQpLHRoaXMuc3RhdmU9ZSxlfVN0YXZlTm90ZSh0KXtjb25zdCBlPW5ldyBrKHQpO3JldHVybiB0aGlzLnN0YXZlJiZlLnNldFN0YXZlKHRoaXMuc3RhdmUpLGUuc2V0Q29udGV4dCh0aGlzLmNvbnRleHQpLHRoaXMucmVuZGVyUS5wdXNoKGUpLGV9R2hvc3ROb3RlKHQpe2NvbnN0IGU9bmV3IFh0KHQpO3JldHVybiB0aGlzLnN0YXZlJiZlLnNldFN0YXZlKHRoaXMuc3RhdmUpLGUuc2V0Q29udGV4dCh0aGlzLmNvbnRleHQpLHRoaXMucmVuZGVyUS5wdXNoKGUpLGV9VGV4dE5vdGUodCl7Y29uc3QgZT1uZXcgYnQodCk7cmV0dXJuIHRoaXMuc3RhdmUmJmUuc2V0U3RhdmUodGhpcy5zdGF2ZSksZS5zZXRDb250ZXh0KHRoaXMuY29udGV4dCksdGhpcy5yZW5kZXJRLnB1c2goZSksZX1CYXJOb3RlKHQpe3Q9b2UodCx7dHlwZTpcInNpbmdsZVwiLG9wdGlvbnM6e319KTtjb25zdCBlPW5ldyBZdCh0LnR5cGUpO3JldHVybiB0aGlzLnN0YXZlJiZlLnNldFN0YXZlKHRoaXMuc3RhdmUpLGUuc2V0Q29udGV4dCh0aGlzLmNvbnRleHQpLHRoaXMucmVuZGVyUS5wdXNoKGUpLGV9Q2xlZk5vdGUodCl7dD1vZSh0LHt0eXBlOlwidHJlYmxlXCIsb3B0aW9uczp7c2l6ZTpcImRlZmF1bHRcIn19KTtjb25zdCBlPW5ldyBBdCh0LnR5cGUsdC5vcHRpb25zLnNpemUsdC5vcHRpb25zLmFubm90YXRpb24pO3JldHVybiB0aGlzLnN0YXZlJiZlLnNldFN0YXZlKHRoaXMuc3RhdmUpLGUuc2V0Q29udGV4dCh0aGlzLmNvbnRleHQpLHRoaXMucmVuZGVyUS5wdXNoKGUpLGV9VGltZVNpZ05vdGUodCl7dD1vZSh0LHt0aW1lOlwiNC80XCIsb3B0aW9uczp7fX0pO2NvbnN0IGU9bmV3IEN0KHQudGltZSk7cmV0dXJuIHRoaXMuc3RhdmUmJmUuc2V0U3RhdmUodGhpcy5zdGF2ZSksZS5zZXRDb250ZXh0KHRoaXMuY29udGV4dCksdGhpcy5yZW5kZXJRLnB1c2goZSksZX1LZXlTaWdOb3RlKHQpe2NvbnN0IGU9bmV3IEl0KHQua2V5LHQuY2FuY2VsS2V5LHQuYWx0ZXJLZXkpO3JldHVybiB0aGlzLnN0YXZlJiZlLnNldFN0YXZlKHRoaXMuc3RhdmUpLGUuc2V0Q29udGV4dCh0aGlzLmNvbnRleHQpLHRoaXMucmVuZGVyUS5wdXNoKGUpLGV9VGFiTm90ZSh0KXtjb25zdCBlPW5ldyBNdCh0KTtyZXR1cm4gdGhpcy5zdGF2ZSYmZS5zZXRTdGF2ZSh0aGlzLnN0YXZlKSxlLnNldENvbnRleHQodGhpcy5jb250ZXh0KSx0aGlzLnJlbmRlclEucHVzaChlKSxlfUdyYWNlTm90ZSh0KXtjb25zdCBlPW5ldyBOdCh0KTtyZXR1cm4gdGhpcy5zdGF2ZSYmZS5zZXRTdGF2ZSh0aGlzLnN0YXZlKSxlLnNldENvbnRleHQodGhpcy5jb250ZXh0KSxlfUdyYWNlTm90ZUdyb3VwKHQpe2NvbnN0IGU9bmV3IFgodC5ub3Rlcyx0LnNsdXIpO3JldHVybiBlLnNldENvbnRleHQodGhpcy5jb250ZXh0KSxlfUFjY2lkZW50YWwodCl7dD1vZSh0LHt0eXBlOm51bGwsb3B0aW9uczp7fX0pO2NvbnN0IGU9bmV3IHoodC50eXBlKTtyZXR1cm4gZS5zZXRDb250ZXh0KHRoaXMuY29udGV4dCksZX1Bbm5vdGF0aW9uKHQpe3Q9b2UodCx7dGV4dDpcInBcIix2SnVzdGlmeTpcImJlbG93XCIsaEp1c3RpZnk6XCJjZW50ZXJcIixmb250RmFtaWx5OlwiVGltZXNcIixmb250U2l6ZToxNCxmb250V2VpZ2h0OlwiYm9sZCBpdGFsaWNcIixvcHRpb25zOnt9fSk7Y29uc3QgZT1uZXcgbnQodC50ZXh0KTtyZXR1cm4gZS5zZXRKdXN0aWZpY2F0aW9uKHQuaEp1c3RpZnkpLGUuc2V0VmVydGljYWxKdXN0aWZpY2F0aW9uKHQudkp1c3RpZnkpLGUuc2V0Rm9udCh0LmZvbnRGYW1pbHksdC5mb250U2l6ZSx0LmZvbnRXZWlnaHQpLGUuc2V0Q29udGV4dCh0aGlzLmNvbnRleHQpLGV9QXJ0aWN1bGF0aW9uKHQpe3Q9b2UodCx7dHlwZTpcImEuXCIscG9zaXRpb246XCJhYm92ZVwiLG9wdGlvbnM6e319KTtjb25zdCBlPW5ldyBldCh0LnR5cGUpO3JldHVybiBlLnNldFBvc2l0aW9uKHQucG9zaXRpb24pLGUuc2V0Q29udGV4dCh0aGlzLmNvbnRleHQpLGV9VGV4dER5bmFtaWNzKHQpe3Q9b2UodCx7dGV4dDpcInBcIixkdXJhdGlvbjpcInFcIixkb3RzOjAsbGluZTowLG9wdGlvbnM6e319KTtjb25zdCBlPW5ldyBWdCh7dGV4dDp0LnRleHQsbGluZTp0LmxpbmUsZHVyYXRpb246dC5kdXJhdGlvbixkb3RzOnQuZG90c30pO3JldHVybiB0aGlzLnN0YXZlJiZlLnNldFN0YXZlKHRoaXMuc3RhdmUpLGUuc2V0Q29udGV4dCh0aGlzLmNvbnRleHQpLHRoaXMucmVuZGVyUS5wdXNoKGUpLGV9RmluZ2VyaW5nKHQpe3Q9b2UodCx7bnVtYmVyOlwiMFwiLHBvc2l0aW9uOlwibGVmdFwiLG9wdGlvbnM6e319KTtjb25zdCBlPW5ldyBPKHQubnVtYmVyKTtyZXR1cm4gZS5zZXRQb3NpdGlvbih0LnBvc2l0aW9uKSxlLnNldENvbnRleHQodGhpcy5jb250ZXh0KSxlfVN0cmluZ051bWJlcih0KXt0PW9lKHQse251bWJlcjpcIjBcIixwb3NpdGlvbjpcImxlZnRcIixvcHRpb25zOnt9fSk7Y29uc3QgZT1uZXcgSyh0Lm51bWJlcik7cmV0dXJuIGUuc2V0UG9zaXRpb24odC5wb3NpdGlvbiksZS5zZXRDb250ZXh0KHRoaXMuY29udGV4dCksZX1UaWNrQ29udGV4dCgpe3JldHVybihuZXcgaXQpLnNldENvbnRleHQodGhpcy5jb250ZXh0KX1Nb2RpZmllckNvbnRleHQoKXtyZXR1cm4gbmV3IGh0fU11bHRpTWVhc3VyZVJlc3QodCl7Y29uc3QgZT1uZXcgTHQodC5udW1iZXJfb2ZfbWVhc3VyZXMsdCk7cmV0dXJuIGUuc2V0Q29udGV4dCh0aGlzLmNvbnRleHQpLHRoaXMucmVuZGVyUS5wdXNoKGUpLGV9Vm9pY2UodCl7dD1vZSh0LHt0aW1lOlwiNC80XCIsb3B0aW9uczp7fX0pO2NvbnN0IGU9bmV3IFAodC50aW1lKTtyZXR1cm4gdGhpcy52b2ljZXMucHVzaChlKSxlfVN0YXZlQ29ubmVjdG9yKHQpe3Q9b2UodCx7dG9wX3N0YXZlOm51bGwsYm90dG9tX3N0YXZlOm51bGwsdHlwZTpcImRvdWJsZVwiLG9wdGlvbnM6e319KTtjb25zdCBlPW5ldyBBKHQudG9wX3N0YXZlLHQuYm90dG9tX3N0YXZlKTtyZXR1cm4gZS5zZXRUeXBlKHQudHlwZSkuc2V0Q29udGV4dCh0aGlzLmNvbnRleHQpLHRoaXMucmVuZGVyUS5wdXNoKGUpLGV9Rm9ybWF0dGVyKCl7cmV0dXJuIG5ldyB1dH1UdXBsZXQodCl7dD1vZSh0LHtub3RlczpbXSxvcHRpb25zOnt9fSk7Y29uc3QgZT1uZXcgdih0Lm5vdGVzLHQub3B0aW9ucykuc2V0Q29udGV4dCh0aGlzLmNvbnRleHQpO3JldHVybiB0aGlzLnJlbmRlclEucHVzaChlKSxlfUJlYW0odCl7dD1vZSh0LHtub3RlczpbXSxvcHRpb25zOnthdXRvU3RlbTohMSxzZWNvbmRhcnlCZWFtQnJlYWtzOltdfX0pO2NvbnN0IGU9bmV3IFQodC5ub3Rlcyx0Lm9wdGlvbnMuYXV0b1N0ZW0pLnNldENvbnRleHQodGhpcy5jb250ZXh0KTtyZXR1cm4gZS5icmVha1NlY29uZGFyeUF0KHQub3B0aW9ucy5zZWNvbmRhcnlCZWFtQnJlYWtzKSx0aGlzLnJlbmRlclEucHVzaChlKSxlfUN1cnZlKHQpe3Q9b2UodCx7ZnJvbTpudWxsLHRvOm51bGwsb3B0aW9uczp7fX0pO2NvbnN0IGU9bmV3IGt0KHQuZnJvbSx0LnRvLHQub3B0aW9ucykuc2V0Q29udGV4dCh0aGlzLmNvbnRleHQpO3JldHVybiB0aGlzLnJlbmRlclEucHVzaChlKSxlfVN0YXZlVGllKHQpe3Q9b2UodCx7ZnJvbTpudWxsLHRvOm51bGwsZmlyc3RfaW5kaWNlczpbMF0sbGFzdF9pbmRpY2VzOlswXSx0ZXh0Om51bGwsb3B0aW9uczp7ZGlyZWN0aW9uOnZvaWQgMH19KTtjb25zdCBlPW5ldyBIKHtmaXJzdF9ub3RlOnQuZnJvbSxsYXN0X25vdGU6dC50byxmaXJzdF9pbmRpY2VzOnQuZmlyc3RfaW5kaWNlcyxsYXN0X2luZGljZXM6dC5sYXN0X2luZGljZXN9LHQudGV4dCk7cmV0dXJuIHQub3B0aW9ucy5kaXJlY3Rpb24mJmUuc2V0RGlyZWN0aW9uKHQub3B0aW9ucy5kaXJlY3Rpb24pLGUuc2V0Q29udGV4dCh0aGlzLmNvbnRleHQpLHRoaXMucmVuZGVyUS5wdXNoKGUpLGV9U3RhdmVMaW5lKHQpe3Q9b2UodCx7ZnJvbTpudWxsLHRvOm51bGwsZmlyc3RfaW5kaWNlczpbMF0sbGFzdF9pbmRpY2VzOlswXSxvcHRpb25zOnt9fSk7Y29uc3QgZT1uZXcgV3Qoe2ZpcnN0X25vdGU6dC5mcm9tLGxhc3Rfbm90ZTp0LnRvLGZpcnN0X2luZGljZXM6dC5maXJzdF9pbmRpY2VzLGxhc3RfaW5kaWNlczp0Lmxhc3RfaW5kaWNlc30pO3JldHVybiB0Lm9wdGlvbnMudGV4dCYmZS5zZXRUZXh0KHQub3B0aW9ucy50ZXh0KSx0Lm9wdGlvbnMuZm9udCYmZS5zZXRGb250KHQub3B0aW9ucy5mb250KSxlLnNldENvbnRleHQodGhpcy5jb250ZXh0KSx0aGlzLnJlbmRlclEucHVzaChlKSxlfVZpYnJhdG9CcmFja2V0KHQpe3Q9b2UodCx7ZnJvbTpudWxsLHRvOm51bGwsb3B0aW9uczp7aGFyc2g6ITF9fSk7Y29uc3QgZT1uZXcgVHQoe3N0YXJ0OnQuZnJvbSxzdG9wOnQudG99KTtyZXR1cm4gdC5vcHRpb25zLmxpbmUmJmUuc2V0TGluZSh0Lm9wdGlvbnMubGluZSksdC5vcHRpb25zLmhhcnNoJiZlLnNldEhhcnNoKHQub3B0aW9ucy5oYXJzaCksZS5zZXRDb250ZXh0KHRoaXMuY29udGV4dCksdGhpcy5yZW5kZXJRLnB1c2goZSksZX1UZXh0QnJhY2tldCh0KXt0PW9lKHQse2Zyb206bnVsbCx0bzpudWxsLHRleHQ6XCJcIixvcHRpb25zOntzdXBlcnNjcmlwdDpcIlwiLHBvc2l0aW9uOjF9fSk7Y29uc3QgZT1uZXcgSHQoe3N0YXJ0OnQuZnJvbSxzdG9wOnQudG8sdGV4dDp0LnRleHQsc3VwZXJzY3JpcHQ6dC5vcHRpb25zLnN1cGVyc2NyaXB0LHBvc2l0aW9uOnQub3B0aW9ucy5wb3NpdGlvbn0pO3JldHVybiB0Lm9wdGlvbnMubGluZSYmZS5zZXRMaW5lKHQub3B0aW9ucy5saW5lKSx0Lm9wdGlvbnMuZm9udCYmZS5zZXRGb250KHQub3B0aW9ucy5mb250KSxlLnNldENvbnRleHQodGhpcy5jb250ZXh0KSx0aGlzLnJlbmRlclEucHVzaChlKSxlfVN5c3RlbSh0PXt9KXt0LmZhY3Rvcnk9dGhpcztjb25zdCBlPW5ldyBsZSh0KS5zZXRDb250ZXh0KHRoaXMuY29udGV4dCk7cmV0dXJuIHRoaXMuc3lzdGVtcy5wdXNoKGUpLGV9RWFzeVNjb3JlKHQ9e30pe3JldHVybiB0LmZhY3Rvcnk9dGhpcyxuZXcgbmUodCl9UGVkYWxNYXJraW5nKHQ9e30pe3Q9b2UodCx7bm90ZXM6W10sb3B0aW9uczp7c3R5bGU6XCJtaXhlZFwifX0pO2NvbnN0IGU9bmV3IFV0KHQubm90ZXMpO3JldHVybiBlLnNldFN0eWxlKFV0LlN0eWxlc1N0cmluZ1t0Lm9wdGlvbnMuc3R5bGVdKSxlLnNldENvbnRleHQodGhpcy5jb250ZXh0KSx0aGlzLnJlbmRlclEucHVzaChlKSxlfU5vdGVTdWJHcm91cCh0PXt9KXt0PW9lKHQse25vdGVzOltdLG9wdGlvbnM6e319KTtjb25zdCBlPW5ldyBVKHQubm90ZXMpO3JldHVybiBlLnNldENvbnRleHQodGhpcy5jb250ZXh0KSxlfWRyYXcoKXt0aGlzLnN5c3RlbXMuZm9yRWFjaCh0PT50LnNldENvbnRleHQodGhpcy5jb250ZXh0KS5mb3JtYXQoKSksdGhpcy5zdGF2ZXMuZm9yRWFjaCh0PT50LnNldENvbnRleHQodGhpcy5jb250ZXh0KS5kcmF3KCkpLHRoaXMudm9pY2VzLmZvckVhY2godD0+dC5zZXRDb250ZXh0KHRoaXMuY29udGV4dCkuZHJhdygpKSx0aGlzLnJlbmRlclEuZm9yRWFjaCh0PT57dC5pc1JlbmRlcmVkKCl8fHQuc2V0Q29udGV4dCh0aGlzLmNvbnRleHQpLmRyYXcoKX0pLHRoaXMuc3lzdGVtcy5mb3JFYWNoKHQ9PnQuc2V0Q29udGV4dCh0aGlzLmNvbnRleHQpLmRyYXcoKSksdGhpcy5yZXNldCgpfX1mdW5jdGlvbiBoZSh0LGUpe2NvbnN0IGk9ZS5vcHRpb25zO3JldHVybih0PU9iamVjdC5hc3NpZ24oZSx0KSkub3B0aW9ucz1PYmplY3QuYXNzaWduKGksdC5vcHRpb25zKSx0fWNsYXNzIGxlIGV4dGVuZHMgaHtjb25zdHJ1Y3Rvcih0PXt9KXtzdXBlcigpLHRoaXMuc2V0QXR0cmlidXRlKFwidHlwZVwiLFwiU3lzdGVtXCIpLHRoaXMuc2V0T3B0aW9ucyh0KSx0aGlzLnBhcnRzPVtdfXNldE9wdGlvbnModD17fSl7dGhpcy5vcHRpb25zPWhlKHQse3g6MTAseToxMCx3aWR0aDo1MDAsY29ubmVjdG9yOm51bGwsc3BhY2VCZXR3ZWVuU3RhdmVzOjEyLGZhY3Rvcnk6bnVsbCxkZWJ1Z0Zvcm1hdHRlcjohMSxmb3JtYXRJdGVyYXRpb25zOjAsb3B0aW9uczp7fX0pLHRoaXMuZmFjdG9yeT10aGlzLm9wdGlvbnMuZmFjdG9yeXx8bmV3IGFlKHtyZW5kZXJlcjp7ZWw6bnVsbH19KX1zZXRDb250ZXh0KHQpe3JldHVybiBzdXBlci5zZXRDb250ZXh0KHQpLHRoaXMuZmFjdG9yeS5zZXRDb250ZXh0KHQpLHRoaXN9YWRkQ29ubmVjdG9yKHQ9XCJkb3VibGVcIil7cmV0dXJuIHRoaXMuY29ubmVjdG9yPXRoaXMuZmFjdG9yeS5TdGF2ZUNvbm5lY3Rvcih7dG9wX3N0YXZlOnRoaXMucGFydHNbMF0uc3RhdmUsYm90dG9tX3N0YXZlOnRoaXMucGFydHNbdGhpcy5wYXJ0cy5sZW5ndGgtMV0uc3RhdmUsdHlwZTp0fSksdGhpcy5jb25uZWN0b3J9YWRkU3RhdmUodCl7cmV0dXJuKHQ9aGUodCx7c3RhdmU6bnVsbCx2b2ljZXM6W10sc3BhY2VBYm92ZTowLHNwYWNlQmVsb3c6MCxkZWJ1Z05vdGVNZXRyaWNzOiExLG9wdGlvbnM6e2xlZnRfYmFyOiExfX0pKS5zdGF2ZXx8KHQuc3RhdmU9dGhpcy5mYWN0b3J5LlN0YXZlKHt4OnRoaXMub3B0aW9ucy54LHk6dGhpcy5vcHRpb25zLnksd2lkdGg6dGhpcy5vcHRpb25zLndpZHRoLG9wdGlvbnM6dC5vcHRpb25zfSkpLHQudm9pY2VzLmZvckVhY2goZT0+ZS5zZXRDb250ZXh0KHRoaXMuY29udGV4dCkuc2V0U3RhdmUodC5zdGF2ZSkuZ2V0VGlja2FibGVzKCkuZm9yRWFjaChlPT5lLnNldFN0YXZlKHQuc3RhdmUpKSksdGhpcy5wYXJ0cy5wdXNoKHQpLHQuc3RhdmV9Zm9ybWF0KCl7Y29uc3QgdD1uZXcgdXQ7dGhpcy5mb3JtYXR0ZXI9dDtsZXQgZT10aGlzLm9wdGlvbnMueSxpPTAscz1bXTtjb25zdCBuPVtdO3RoaXMucGFydHMuZm9yRWFjaChyPT57ZSs9ci5zdGF2ZS5zcGFjZShyLnNwYWNlQWJvdmUpLHIuc3RhdmUuc2V0WShlKSx0LmpvaW5Wb2ljZXMoci52b2ljZXMpLGUrPXIuc3RhdmUuc3BhY2Uoci5zcGFjZUJlbG93KSxlKz1yLnN0YXZlLnNwYWNlKHRoaXMub3B0aW9ucy5zcGFjZUJldHdlZW5TdGF2ZXMpLHIuZGVidWdOb3RlTWV0cmljcyYmKG4ucHVzaCh7eTplLHZvaWNlOnIudm9pY2VzWzBdfSksZSs9MTUpLHM9cy5jb25jYXQoci52b2ljZXMpLGk9TWF0aC5tYXgoaSxyLnN0YXZlLmdldE5vdGVTdGFydFgoKSl9KSx0aGlzLnBhcnRzLmZvckVhY2godD0+dC5zdGF2ZS5zZXROb3RlU3RhcnRYKGkpKTtjb25zdCByPXRoaXMub3B0aW9ucy53aWR0aC0oaS10aGlzLm9wdGlvbnMueCktQy5TVEFWRVBBRERJTkc7dC5mb3JtYXQocyxyKTtmb3IobGV0IGU9MDtlPHRoaXMub3B0aW9ucy5mb3JtYXRJdGVyYXRpb25zO2UrKyl0LnR1bmUoKTt0aGlzLnN0YXJ0WD1pLHRoaXMuZGVidWdOb3RlTWV0cmljc1lzPW4sdGhpcy5sYXN0WT1lfWRyYXcoKXtjb25zdCB0PXRoaXMuY2hlY2tDb250ZXh0KCk7dGhpcy5zZXRSZW5kZXJlZCgpLHRoaXMub3B0aW9ucy5kZWJ1Z0Zvcm1hdHRlciYmdXQucGxvdERlYnVnZ2luZyh0LHRoaXMuZm9ybWF0dGVyLHRoaXMuc3RhcnRYLHRoaXMub3B0aW9ucy55LHRoaXMubGFzdFkpLHRoaXMuZGVidWdOb3RlTWV0cmljc1lzLmZvckVhY2goZT0+e2Uudm9pY2UuZ2V0VGlja2FibGVzKCkuZm9yRWFjaChpPT5DLnBsb3RNZXRyaWNzKHQsaSxlLnkpKX0pfX0ocy5GbG93PW0pLkVsZW1lbnQ9aCxzLkZsb3cuRnJhY3Rpb249bixzLkZsb3cuUmVuZGVyZXI9eCxzLkZsb3cuRm9ybWF0dGVyPXV0LHMuRmxvdy5NdXNpYz1WLHMuRmxvdy5HbHlwaD1mLHMuRmxvdy5TdGF2ZT1fdCxzLkZsb3cuU3RhdmVOb3RlPWsscy5GbG93LlN0YXZlTW9kaWZpZXI9ZHQscy5GbG93LlN0YXZlVGVtcG89Z3Qscy5GbG93LlZvaWNlPVAscy5GbG93LkFjY2lkZW50YWw9eixzLkZsb3cuQmVhbT1ULHMuRmxvdy5TdGF2ZVRpZT1ILHMuRmxvdy5UYWJTdGF2ZT13dCxzLkZsb3cuVGFiTm90ZT1NdCxzLkZsb3cuQmVuZD1ydCxzLkZsb3cuVmlicmF0bz1vdCxzLkZsb3cuVmlicmF0b0JyYWNrZXQ9VHQscy5GbG93Lk5vdGU9QyxzLkZsb3cuTW9kaWZpZXJDb250ZXh0PWh0LHMuRmxvdy5NdWx0aU1lYXN1cmVSZXN0PUx0LHMuRmxvdy5UaWNrQ29udGV4dD1pdCxzLkZsb3cuQXJ0aWN1bGF0aW9uPWV0LHMuRmxvdy5Bbm5vdGF0aW9uPW50LHMuRmxvdy5CYXJsaW5lPWZ0LHMuRmxvdy5Ob3RlSGVhZD1SLHMuRmxvdy5TdGF2ZUNvbm5lY3Rvcj1BLHMuRmxvdy5DbGVmTm90ZT1BdCxzLkZsb3cuS2V5U2lnbmF0dXJlPXh0LHMuRmxvdy5LZXlTaWdOb3RlPUl0LHMuRmxvdy5UaW1lU2lnbmF0dXJlPUV0LHMuRmxvdy5UaW1lU2lnTm90ZT1DdCxzLkZsb3cuU3RlbT1FLHMuRmxvdy5UYWJUaWU9WSxzLkZsb3cuQ2xlZj15dCxzLkZsb3cuRG90PUYscy5GbG93Lk1vZGlmaWVyPUIscy5GbG93LlRhYlNsaWRlPVJ0LHMuRmxvdy5UdXBsZXQ9dixzLkZsb3cuR3JhY2VOb3RlPU50LHMuRmxvdy5HcmFjZVRhYk5vdGU9QnQscy5GbG93LlR1bmluZz1GdCxzLkZsb3cuS2V5TWFuYWdlcj1jbGFzc3tjb25zdHJ1Y3Rvcih0KXt0aGlzLm11c2ljPW5ldyBWLHRoaXMuc2V0S2V5KHQpfXNldEtleSh0KXtyZXR1cm4gdGhpcy5rZXk9dCx0aGlzLnJlc2V0KCksdGhpc31nZXRLZXkoKXtyZXR1cm4gdGhpcy5rZXl9cmVzZXQoKXtpZih0aGlzLmtleVBhcnRzPXRoaXMubXVzaWMuZ2V0S2V5UGFydHModGhpcy5rZXkpLHRoaXMua2V5U3RyaW5nPXRoaXMua2V5UGFydHMucm9vdCx0aGlzLmtleVBhcnRzLmFjY2lkZW50YWwmJih0aGlzLmtleVN0cmluZys9dGhpcy5rZXlQYXJ0cy5hY2NpZGVudGFsKSwhVi5zY2FsZVR5cGVzW3RoaXMua2V5UGFydHMudHlwZV0pdGhyb3cgbmV3IHMuUkVSUihcIkJhZEFyZ3VtZW50c1wiLGBVbnN1cHBvcnRlZCBrZXkgdHlwZTogJHt0aGlzLmtleX1gKTt0aGlzLnNjYWxlPXRoaXMubXVzaWMuZ2V0U2NhbGVUb25lcyh0aGlzLm11c2ljLmdldE5vdGVWYWx1ZSh0aGlzLmtleVN0cmluZyksVi5zY2FsZVR5cGVzW3RoaXMua2V5UGFydHMudHlwZV0pLHRoaXMuc2NhbGVNYXA9e30sdGhpcy5zY2FsZU1hcEJ5VmFsdWU9e30sdGhpcy5vcmlnaW5hbFNjYWxlTWFwQnlWYWx1ZT17fTtjb25zdCB0PVYucm9vdF9pbmRpY2VzW3RoaXMua2V5UGFydHMucm9vdF07Zm9yKGxldCBlPTA7ZTxWLnJvb3RzLmxlbmd0aDsrK2Upe2NvbnN0IGk9KHQrZSklVi5yb290cy5sZW5ndGgscz1WLnJvb3RzW2ldLG49dGhpcy5tdXNpYy5nZXRSZWxhdGl2ZU5vdGVOYW1lKHMsdGhpcy5zY2FsZVtlXSk7dGhpcy5zY2FsZU1hcFtzXT1uLHRoaXMuc2NhbGVNYXBCeVZhbHVlW3RoaXMuc2NhbGVbZV1dPW4sdGhpcy5vcmlnaW5hbFNjYWxlTWFwQnlWYWx1ZVt0aGlzLnNjYWxlW2VdXT1ufXJldHVybiB0aGlzfWdldEFjY2lkZW50YWwodCl7Y29uc3QgZT10aGlzLm11c2ljLmdldEtleVBhcnRzKHQpLnJvb3QsaT10aGlzLm11c2ljLmdldE5vdGVQYXJ0cyh0aGlzLnNjYWxlTWFwW2VdKTtyZXR1cm57bm90ZTp0aGlzLnNjYWxlTWFwW2VdLGFjY2lkZW50YWw6aS5hY2NpZGVudGFsfX1zZWxlY3ROb3RlKHQpe3Q9dC50b0xvd2VyQ2FzZSgpO2NvbnN0IGU9dGhpcy5tdXNpYy5nZXROb3RlUGFydHModCksaT10aGlzLnNjYWxlTWFwW2Uucm9vdF0scz10aGlzLm11c2ljLmdldE5vdGVQYXJ0cyhpKTtpZihpPT09dClyZXR1cm57bm90ZTppLGFjY2lkZW50YWw6ZS5hY2NpZGVudGFsLGNoYW5nZTohMX07Y29uc3Qgbj10aGlzLnNjYWxlTWFwQnlWYWx1ZVt0aGlzLm11c2ljLmdldE5vdGVWYWx1ZSh0KV07aWYobnVsbCE9bilyZXR1cm57bm90ZTpuLGFjY2lkZW50YWw6dGhpcy5tdXNpYy5nZXROb3RlUGFydHMobikuYWNjaWRlbnRhbCxjaGFuZ2U6ITF9O2NvbnN0IHI9dGhpcy5vcmlnaW5hbFNjYWxlTWFwQnlWYWx1ZVt0aGlzLm11c2ljLmdldE5vdGVWYWx1ZSh0KV07cmV0dXJuIG51bGwhPXI/KHRoaXMuc2NhbGVNYXBbcy5yb290XT1yLGRlbGV0ZSB0aGlzLnNjYWxlTWFwQnlWYWx1ZVt0aGlzLm11c2ljLmdldE5vdGVWYWx1ZShpKV0sdGhpcy5zY2FsZU1hcEJ5VmFsdWVbdGhpcy5tdXNpYy5nZXROb3RlVmFsdWUodCldPXIse25vdGU6cixhY2NpZGVudGFsOnRoaXMubXVzaWMuZ2V0Tm90ZVBhcnRzKHIpLmFjY2lkZW50YWwsY2hhbmdlOiEwfSk6cy5yb290PT09dD8oZGVsZXRlIHRoaXMuc2NhbGVNYXBCeVZhbHVlW3RoaXMubXVzaWMuZ2V0Tm90ZVZhbHVlKHRoaXMuc2NhbGVNYXBbZS5yb290XSldLHRoaXMuc2NhbGVNYXBCeVZhbHVlW3RoaXMubXVzaWMuZ2V0Tm90ZVZhbHVlKHMucm9vdCldPXMucm9vdCx0aGlzLnNjYWxlTWFwW3Mucm9vdF09cy5yb290LHtub3RlOnMucm9vdCxhY2NpZGVudGFsOm51bGwsY2hhbmdlOiEwfSk6KGRlbGV0ZSB0aGlzLnNjYWxlTWFwQnlWYWx1ZVt0aGlzLm11c2ljLmdldE5vdGVWYWx1ZSh0aGlzLnNjYWxlTWFwW2Uucm9vdF0pXSx0aGlzLnNjYWxlTWFwQnlWYWx1ZVt0aGlzLm11c2ljLmdldE5vdGVWYWx1ZSh0KV09dCxkZWxldGUgdGhpcy5zY2FsZU1hcFtzLnJvb3RdLHRoaXMuc2NhbGVNYXBbcy5yb290XT10LHtub3RlOnQsYWNjaWRlbnRhbDplLmFjY2lkZW50YWwsY2hhbmdlOiEwfSl9fSxzLkZsb3cuU3RhdmVIYWlycGluPUR0LHMuRmxvdy5Cb3VuZGluZ0JveD1jLHMuRmxvdy5TdHJva2U9aixzLkZsb3cuVGV4dE5vdGU9YnQscy5GbG93LkN1cnZlPWt0LHMuRmxvdy5UZXh0RHluYW1pY3M9VnQscy5GbG93LlN0YXZlTGluZT1XdCxzLkZsb3cuT3JuYW1lbnQ9c3Qscy5GbG93LlBlZGFsTWFya2luZz1VdCxzLkZsb3cuVGV4dEJyYWNrZXQ9SHQscy5GbG93LkZyZXRIYW5kRmluZ2VyPU8scy5GbG93LlJlcGV0aXRpb249bXQscy5GbG93LkJhck5vdGU9WXQscy5GbG93Lkdob3N0Tm90ZT1YdCxzLkZsb3cuTm90ZVN1Ykdyb3VwPVUscy5GbG93LkdyYWNlTm90ZUdyb3VwPVgscy5GbG93LlRyZW1vbG89anQscy5GbG93LlN0cmluZ051bWJlcj1LLHMuRmxvdy5DcmVzY2VuZG89S3Qscy5GbG93LlZvbHRhPXZ0LHMuRmxvdy5Gb250PXUscy5GbG93LlN5c3RlbT1sZSxzLkZsb3cuRmFjdG9yeT1hZSxzLkZsb3cuUGFyc2VyPSR0LHMuRmxvdy5FYXN5U2NvcmU9bmUscy5GbG93LlJlZ2lzdHJ5PWE7ZS5kZWZhdWx0PXN9LGZ1bmN0aW9uKHQsZSxpKXtcInVzZSBzdHJpY3RcIjtPYmplY3QuZGVmaW5lUHJvcGVydHkoZSxcIl9fZXNNb2R1bGVcIix7dmFsdWU6ITB9KTtlLk11c2ljU2hlZXRSZWFkaW5nRXhjZXB0aW9uPWNsYXNze2NvbnN0cnVjdG9yKHQsZSl7dGhpcy5tZXNzYWdlPXQsZSYmKHRoaXMubWVzc2FnZSs9XCIgXCIrZS50b1N0cmluZygpKX19O2UuQXJndW1lbnRPdXRPZlJhbmdlRXhjZXB0aW9uPWNsYXNze2NvbnN0cnVjdG9yKHQpe3RoaXMubWVzc2FnZT10fX07ZS5JbnZhbGlkRW51bUFyZ3VtZW50RXhjZXB0aW9uPWNsYXNze2NvbnN0cnVjdG9yKHQpe3RoaXMubWVzc2FnZT10fX19LGZ1bmN0aW9uKHQsZSxpKXtcInVzZSBzdHJpY3RcIjtPYmplY3QuZGVmaW5lUHJvcGVydHkoZSxcIl9fZXNNb2R1bGVcIix7dmFsdWU6ITB9KTt2YXIgcz1pKDkpLG49ZnVuY3Rpb24oKXtmdW5jdGlvbiB0KHQpe3RoaXMudGFibGU9e30sdGhpcy5uRWxlbWVudHM9MCx0aGlzLnRvU3RyPXR8fHMuZGVmYXVsdFRvU3RyaW5nfXJldHVybiB0LnByb3RvdHlwZS5nZXRWYWx1ZT1mdW5jdGlvbih0KXt2YXIgZT10aGlzLnRhYmxlW1wiJFwiK3RoaXMudG9TdHIodCldO2lmKCFzLmlzVW5kZWZpbmVkKGUpKXJldHVybiBlLnZhbHVlfSx0LnByb3RvdHlwZS5zZXRWYWx1ZT1mdW5jdGlvbih0LGUpe2lmKCFzLmlzVW5kZWZpbmVkKHQpJiYhcy5pc1VuZGVmaW5lZChlKSl7dmFyIGksbj1cIiRcIit0aGlzLnRvU3RyKHQpLHI9dGhpcy50YWJsZVtuXTtyZXR1cm4gcy5pc1VuZGVmaW5lZChyKT8odGhpcy5uRWxlbWVudHMrKyxpPXZvaWQgMCk6aT1yLnZhbHVlLHRoaXMudGFibGVbbl09e2tleTp0LHZhbHVlOmV9LGl9fSx0LnByb3RvdHlwZS5yZW1vdmU9ZnVuY3Rpb24odCl7dmFyIGU9XCIkXCIrdGhpcy50b1N0cih0KSxpPXRoaXMudGFibGVbZV07aWYoIXMuaXNVbmRlZmluZWQoaSkpcmV0dXJuIGRlbGV0ZSB0aGlzLnRhYmxlW2VdLHRoaXMubkVsZW1lbnRzLS0saS52YWx1ZX0sdC5wcm90b3R5cGUua2V5cz1mdW5jdGlvbigpe3ZhciB0PVtdO2Zvcih2YXIgZSBpbiB0aGlzLnRhYmxlKWlmKHMuaGFzKHRoaXMudGFibGUsZSkpe3ZhciBpPXRoaXMudGFibGVbZV07dC5wdXNoKGkua2V5KX1yZXR1cm4gdH0sdC5wcm90b3R5cGUudmFsdWVzPWZ1bmN0aW9uKCl7dmFyIHQ9W107Zm9yKHZhciBlIGluIHRoaXMudGFibGUpaWYocy5oYXModGhpcy50YWJsZSxlKSl7dmFyIGk9dGhpcy50YWJsZVtlXTt0LnB1c2goaS52YWx1ZSl9cmV0dXJuIHR9LHQucHJvdG90eXBlLmZvckVhY2g9ZnVuY3Rpb24odCl7Zm9yKHZhciBlIGluIHRoaXMudGFibGUpaWYocy5oYXModGhpcy50YWJsZSxlKSl7dmFyIGk9dGhpcy50YWJsZVtlXTtpZighMT09PXQoaS5rZXksaS52YWx1ZSkpcmV0dXJufX0sdC5wcm90b3R5cGUuY29udGFpbnNLZXk9ZnVuY3Rpb24odCl7cmV0dXJuIXMuaXNVbmRlZmluZWQodGhpcy5nZXRWYWx1ZSh0KSl9LHQucHJvdG90eXBlLmNsZWFyPWZ1bmN0aW9uKCl7dGhpcy50YWJsZT17fSx0aGlzLm5FbGVtZW50cz0wfSx0LnByb3RvdHlwZS5zaXplPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMubkVsZW1lbnRzfSx0LnByb3RvdHlwZS5pc0VtcHR5PWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMubkVsZW1lbnRzPD0wfSx0LnByb3RvdHlwZS50b1N0cmluZz1mdW5jdGlvbigpe3ZhciB0PVwie1wiO3JldHVybiB0aGlzLmZvckVhY2goKGZ1bmN0aW9uKGUsaSl7dCs9XCJcXG5cXHRcIitlK1wiIDogXCIraX0pKSx0K1wiXFxufVwifSx0fSgpO2UuZGVmYXVsdD1ufSxmdW5jdGlvbih0LGUsaSl7XCJ1c2Ugc3RyaWN0XCI7T2JqZWN0LmRlZmluZVByb3BlcnR5KGUsXCJfX2VzTW9kdWxlXCIse3ZhbHVlOiEwfSk7Y29uc3Qgcz1pKDcpO2UuTGFiZWw9Y2xhc3N7Y29uc3RydWN0b3IodD1cIlwiLGU9cy5UZXh0QWxpZ25tZW50RW51bS5DZW50ZXJCb3R0b20saSl7dGhpcy50ZXh0PXQsdGhpcy50ZXh0QWxpZ25tZW50PWUsdGhpcy5mb250PWksdGhpcy5mb250RmFtaWx5PXZvaWQgMH1Ub1N0cmluZygpe3JldHVybiB0aGlzLnRleHR9fX0sZnVuY3Rpb24odCxlLGkpe1widXNlIHN0cmljdFwiO3ZhciBzPXRoaXMmJnRoaXMuX19pbXBvcnREZWZhdWx0fHxmdW5jdGlvbih0KXtyZXR1cm4gdCYmdC5fX2VzTW9kdWxlP3Q6e2RlZmF1bHQ6dH19O09iamVjdC5kZWZpbmVQcm9wZXJ0eShlLFwiX19lc01vZHVsZVwiLHt2YWx1ZTohMH0pO2NvbnN0IG49aSg1NSkscj1pKDApLG89aSgzMCksYT1pKDgpLGg9aSgzMSksbD1pKDE2KSxjPWkoODkpLHU9aSg0KSxkPWkoMjUpLGY9aSgyMiksbT1pKDcpLHA9aSgxNSksZz1pKDM3KSxiPWkoMyksUz1pKDkxKSx5PWkoOTIpLHg9aSg4KSxFPXMoaSgxKSksdj1zKGkoMTIpKSxfPWkoMjApLHc9aSgxMyksTT1pKDQ4KSxUPWkoNiksUD1pKDU2KSxMPWkoNTcpLEE9aSg1OCksST1pKDMzKSxDPWkoNDkpLFI9aSg0MSksTj1pKDk0KTtjbGFzcyBCe2NvbnN0cnVjdG9yKCl7dGhpcy5zdGFmZkVudHJpZXNXaXRoR3JhcGhpY2FsVGllcz1bXSx0aGlzLnN0YWZmRW50cmllc1dpdGhPcm5hbWVudHM9W10sdGhpcy5zdGFmZkVudHJpZXNXaXRoQ2hvcmRTeW1ib2xzPVtdLHRoaXMuc3RhZmZMaW5lc1dpdGhMeXJpY1dvcmRzPVtdLHRoaXMuZ3JhcGhpY2FsTHlyaWNXb3Jkcz1bXX1zdGF0aWMgZ2V0IFRleHRNZWFzdXJlcigpe3JldHVybiBCLnRleHRNZWFzdXJlcn1zdGF0aWMgc2V0IFRleHRNZWFzdXJlcih0KXtCLnRleHRNZWFzdXJlcj10fWdldCBsZWFkU2hlZXQoKXtyZXR1cm4gdGhpcy5ncmFwaGljYWxNdXNpY1NoZWV0LkxlYWRTaGVldH1zdGF0aWMgc2V0TWVhc3VyZXNNaW5TdGFmZkVudHJpZXNXaWR0aCh0LGUpe2ZvcihsZXQgaT0wLHM9dC5sZW5ndGg7aTxzOysraSl7dFtpXS5taW5pbXVtU3RhZmZFbnRyaWVzV2lkdGg9ZX19aW5pdGlhbGl6ZSh0KXt0aGlzLmdyYXBoaWNhbE11c2ljU2hlZXQ9dCx0aGlzLnJ1bGVzPXQuUGFyZW50TXVzaWNTaGVldC5SdWxlcyx0aGlzLnByZXBhcmVHcmFwaGljYWxNdXNpY1NoZWV0KCl9cHJlcGFyZUdyYXBoaWNhbE11c2ljU2hlZXQoKXtjb25zdCB0PXRoaXMuZ3JhcGhpY2FsTXVzaWNTaGVldC5QYXJlbnRNdXNpY1NoZWV0O3RoaXMuc3RhZmZFbnRyaWVzV2l0aEdyYXBoaWNhbFRpZXM9W10sdGhpcy5zdGFmZkVudHJpZXNXaXRoT3JuYW1lbnRzPVtdLHRoaXMuc3RhZmZFbnRyaWVzV2l0aENob3JkU3ltYm9scz1bXSx0aGlzLnN0YWZmTGluZXNXaXRoTHlyaWNXb3Jkcz1bXSx0aGlzLmdyYXBoaWNhbE11c2ljU2hlZXQuSW5pdGlhbGl6ZSgpO2NvbnN0IGU9dGhpcy5ncmFwaGljYWxNdXNpY1NoZWV0Lk1lYXN1cmVMaXN0LGk9dGhpcy5jcmVhdGVBY2NpZGVudGFsQ2FsY3VsYXRvcnMoKSxzPXRoaXMuZ3JhcGhpY2FsTXVzaWNTaGVldC5pbml0aWFsaXplQWN0aXZlQ2xlZnMoKSxuPVtdLHI9dC5nZXRDb21wbGV0ZU51bWJlck9mU3RhdmVzKCksbz1bXTtmb3IobGV0IHQ9MDt0PHI7dCsrKW8ucHVzaCh2b2lkIDApO2ZvcihsZXQgcj0wLGE9dC5Tb3VyY2VNZWFzdXJlcy5sZW5ndGg7cjxhOysrcil7Y29uc3QgYT10LlNvdXJjZU1lYXN1cmVzW3JdLGg9dGhpcy5jcmVhdGVHcmFwaGljYWxNZWFzdXJlc0ZvclNvdXJjZU1lYXN1cmUoYSxpLG4sbyxzKTtlLnB1c2goaCl9dGhpcy5oYW5kbGVTdGFmZkVudHJpZXMoKSx0aGlzLmNhbGN1bGF0ZVZlcnRpY2FsQ29udGFpbmVyc0xpc3QoKSx0aGlzLnNldEluZGljZXNUb1ZlcnRpY2FsR3JhcGhpY2FsQ29udGFpbmVycygpfWNhbGN1bGF0ZSgpe3RoaXMubXVzaWNTeXN0ZW1zPVtdLHRoaXMuY2xlYXJTeXN0ZW1zQW5kTWVhc3VyZXMoKSx0aGlzLmNsZWFyUmVjcmVhdGVkT2JqZWN0cygpLHRoaXMuY3JlYXRlR3JhcGhpY2FsVGllcygpLHRoaXMuY2FsY3VsYXRlU2hlZXRMYWJlbEJvdW5kaW5nQm94ZXMoKSx0aGlzLmNhbGN1bGF0ZVhMYXlvdXQodGhpcy5ncmFwaGljYWxNdXNpY1NoZWV0LHRoaXMubWF4SW5zdHJOYW1lTGFiZWxMZW5ndGgoKSksdGhpcy5ncmFwaGljYWxNdXNpY1NoZWV0Lk11c2ljUGFnZXMubGVuZ3RoPTAsdGhpcy5jYWxjdWxhdGVNdXNpY1N5c3RlbXMoKSxuLkdyYXBoaWNhbE11c2ljU2hlZXQudHJhbnNmb3JtUmVsYXRpdmVUb0Fic29sdXRlUG9zaXRpb24odGhpcy5ncmFwaGljYWxNdXNpY1NoZWV0KX1jYWxjdWxhdGVYTGF5b3V0KHQsZSl7bGV0IGk9MDtjb25zdCBzPXRoaXMucnVsZXMuTWF4SW5zdHJ1Y3Rpb25zQ29uc3RWYWx1ZTtpZih0aGlzLmdyYXBoaWNhbE11c2ljU2hlZXQuTWVhc3VyZUxpc3QubGVuZ3RoPjApe2xldCB0PXRoaXMuZ3JhcGhpY2FsTXVzaWNTaGVldC5NZWFzdXJlTGlzdFswXSxuPXRoaXMuY2FsY3VsYXRlTWVhc3VyZVhMYXlvdXQodCk7bj10aGlzLmNhbGN1bGF0ZU1lYXN1cmVXaWR0aEZyb21MeXJpY3ModCxuKSxCLnNldE1lYXN1cmVzTWluU3RhZmZFbnRyaWVzV2lkdGgodCxuKSxpPTEuMipuK2Urcztmb3IobGV0IGU9MTtlPHRoaXMuZ3JhcGhpY2FsTXVzaWNTaGVldC5NZWFzdXJlTGlzdC5sZW5ndGg7ZSsrKXQ9dGhpcy5ncmFwaGljYWxNdXNpY1NoZWV0Lk1lYXN1cmVMaXN0W2VdLG49dGhpcy5jYWxjdWxhdGVNZWFzdXJlWExheW91dCh0KSxuPXRoaXMuY2FsY3VsYXRlTWVhc3VyZVdpZHRoRnJvbUx5cmljcyh0LG4pLEIuc2V0TWVhc3VyZXNNaW5TdGFmZkVudHJpZXNXaWR0aCh0LG4pLGk9TWF0aC5tYXgoaSwxLjIqbitzKX10aGlzLmdyYXBoaWNhbE11c2ljU2hlZXQuTWluQWxsb3dlZFN5c3RlbVdpZHRoPWl9Y2FsY3VsYXRlTWVhc3VyZVdpZHRoRnJvbUx5cmljcyh0LGUpe3Rocm93IG5ldyBFcnJvcihcImFic3RyYWN0LCBub3QgaW1wbGVtZW50ZWRcIil9Zm9ybWF0TWVhc3VyZXMoKXt0aHJvdyBuZXcgRXJyb3IoXCJhYnN0cmFjdCwgbm90IGltcGxlbWVudGVkXCIpfWNhbGN1bGF0ZU1lYXN1cmVYTGF5b3V0KHQpe3Rocm93IG5ldyBFcnJvcihcImFic3RyYWN0LCBub3QgaW1wbGVtZW50ZWRcIil9aW5pdEdyYXBoaWNhbE1lYXN1cmVzQ3JlYXRpb24oKXt0aHJvdyBuZXcgRXJyb3IoXCJhYnN0cmFjdCwgbm90IGltcGxlbWVudGVkXCIpfWhhbmRsZUJlYW0odCxlLGkpe3Rocm93IG5ldyBFcnJvcihcImFic3RyYWN0LCBub3QgaW1wbGVtZW50ZWRcIil9aGFuZGxlVGllZEdyYXBoaWNhbE5vdGUodCxlLGkscyxuLHIsbyxhKXt0aHJvdyBuZXcgRXJyb3IoXCJhYnN0cmFjdCwgbm90IGltcGxlbWVudGVkXCIpfWhhbmRsZVZvaWNlRW50cnlMeXJpY3ModCxlLGkpe3Rocm93IG5ldyBFcnJvcihcImFic3RyYWN0LCBub3QgaW1wbGVtZW50ZWRcIil9aGFuZGxlVm9pY2VFbnRyeU9ybmFtZW50cyh0LGUsaSl7dGhyb3cgbmV3IEVycm9yKFwiYWJzdHJhY3QsIG5vdCBpbXBsZW1lbnRlZFwiKX1oYW5kbGVWb2ljZUVudHJ5QXJ0aWN1bGF0aW9ucyh0LGUsaSl7dGhyb3cgbmV3IEVycm9yKFwiYWJzdHJhY3QsIG5vdCBpbXBsZW1lbnRlZFwiKX1oYW5kbGVWb2ljZUVudHJ5VGVjaG5pY2FsSW5zdHJ1Y3Rpb25zKHQsZSxpKXt0aHJvdyBuZXcgRXJyb3IoXCJhYnN0cmFjdCwgbm90IGltcGxlbWVudGVkXCIpfWhhbmRsZVR1cGxldCh0LGUsaSl7dGhyb3cgbmV3IEVycm9yKFwiYWJzdHJhY3QsIG5vdCBpbXBsZW1lbnRlZFwiKX1sYXlvdXRWb2ljZUVudHJ5KHQsZSxpLHMpe3Rocm93IG5ldyBFcnJvcihcImFic3RyYWN0LCBub3QgaW1wbGVtZW50ZWRcIil9bGF5b3V0U3RhZmZFbnRyeSh0KXt0aHJvdyBuZXcgRXJyb3IoXCJhYnN0cmFjdCwgbm90IGltcGxlbWVudGVkXCIpfWNyZWF0ZUdyYXBoaWNhbFRpZSh0LGUsaSxzLG4pe3Rocm93IG5ldyBFcnJvcihcImFic3RyYWN0LCBub3QgaW1wbGVtZW50ZWRcIil9dXBkYXRlU3RhZmZMaW5lQm9yZGVycyh0KXt0aHJvdyBuZXcgRXJyb3IoXCJhYnN0cmFjdCwgbm90IGltcGxlbWVudGVkXCIpfWNhbGN1bGF0ZU1lYXN1cmVOdW1iZXJQbGFjZW1lbnQodCl7Y29uc3QgZT10LlN0YWZmTGluZXNbMF07bGV0IGk9ZS5NZWFzdXJlc1swXS5NZWFzdXJlTnVtYmVyLHM9MDtmb3IoY29uc3QgbiBvZiBlLk1lYXN1cmVzKTAhPT1uLk1lYXN1cmVOdW1iZXImJjEhPT1uLk1lYXN1cmVOdW1iZXJ8fChpPW4uTWVhc3VyZU51bWJlcikscz1uIT09ZS5NZWFzdXJlc1swXSYmdGhpcy5ydWxlcy5NZWFzdXJlTnVtYmVyTGFiZWxYT2Zmc2V0P3RoaXMucnVsZXMuTWVhc3VyZU51bWJlckxhYmVsWE9mZnNldDowLG4uTWVhc3VyZU51bWJlciE9PWkmJm4uTWVhc3VyZU51bWJlciE9PWkrdGhpcy5ydWxlcy5NZWFzdXJlTnVtYmVyTGFiZWxPZmZzZXR8fG4ucGFyZW50U291cmNlTWVhc3VyZS5JbXBsaWNpdE1lYXN1cmV8fCgoMSE9PW4uTWVhc3VyZU51bWJlcnx8MT09PW4uTWVhc3VyZU51bWJlciYmbiE9PWUuTWVhc3VyZXNbMF0pJiZ0aGlzLmNhbGN1bGF0ZVNpbmdsZU1lYXN1cmVOdW1iZXJQbGFjZW1lbnQobixlLHQscyksaT1uLk1lYXN1cmVOdW1iZXIpfWNhbGN1bGF0ZVNpbmdsZU1lYXN1cmVOdW1iZXJQbGFjZW1lbnQodCxlLGkscz0wKXtjb25zdCBuPXQuTWVhc3VyZU51bWJlci50b1N0cmluZygpLHI9bmV3IHcuTGFiZWwobiksbz1uZXcgZi5HcmFwaGljYWxMYWJlbChyLHRoaXMucnVsZXMuTWVhc3VyZU51bWJlckxhYmVsSGVpZ2h0LG0uVGV4dEFsaWdubWVudEVudW0uTGVmdEJvdHRvbSx0aGlzLnJ1bGVzKSxhPWUuU2t5Qm90dG9tTGluZUNhbGN1bGF0b3I7by5zZXRMYWJlbFBvc2l0aW9uQW5kU2hhcGVCb3JkZXJzKCksby5Qb3NpdGlvbkFuZFNoYXBlLlBhcmVudD1pLlBvc2l0aW9uQW5kU2hhcGU7Y29uc3QgaD1lLlBvc2l0aW9uQW5kU2hhcGUuUmVsYXRpdmVQb3NpdGlvbi54K3QuUG9zaXRpb25BbmRTaGFwZS5SZWxhdGl2ZVBvc2l0aW9uLngtby5Qb3NpdGlvbkFuZFNoYXBlLkJvcmRlck1hcmdpbkxlZnQrcztsZXQgbCxjPWgsZD1oLW8uUG9zaXRpb25BbmRTaGFwZS5Cb3JkZXJMZWZ0K28uUG9zaXRpb25BbmRTaGFwZS5Cb3JkZXJSaWdodDtjLT1lLlBvc2l0aW9uQW5kU2hhcGUuUmVsYXRpdmVQb3NpdGlvbi54LGQtPWUuUG9zaXRpb25BbmRTaGFwZS5SZWxhdGl2ZVBvc2l0aW9uLng7Y29uc3QgcD1jKy41LGc9ZC0uNSxiPWEuZ2V0U2t5TGluZU1pbkluUmFuZ2UocCxnKTtpZih0PT09ZS5NZWFzdXJlc1swXSl7bGV0IHQ9MDtpZihpLkdyb3VwQnJhY2tldHMubGVuZ3RoPjApZm9yKGNvbnN0IGUgb2YgaS5Hcm91cEJyYWNrZXRzKXQ9TWF0aC5taW4odCxlLlBvc2l0aW9uQW5kU2hhcGUuQm9yZGVyVG9wKTtsPU1hdGgubWluKGIsdCl9ZWxzZSBsPWI7bD1NYXRoLm1pbigwLGwpLG8uUG9zaXRpb25BbmRTaGFwZS5SZWxhdGl2ZVBvc2l0aW9uPW5ldyB1LlBvaW50RjJEKGgsbCksYS51cGRhdGVTa3lMaW5lSW5SYW5nZShjLGQsbCtvLlBvc2l0aW9uQW5kU2hhcGUuQm9yZGVyTWFyZ2luVG9wKSxpLk1lYXN1cmVOdW1iZXJMYWJlbHMucHVzaChvKX1sYXlvdXRHcmFwaGljYWxUaWUodCxlKXt0aHJvdyBuZXcgRXJyb3IoXCJhYnN0cmFjdCwgbm90IGltcGxlbWVudGVkXCIpfWNhbGN1bGF0ZVNpbmdsZVN0YWZmTGluZUx5cmljc1Bvc2l0aW9uKHQsZSl7bGV0IGk9MCxzPXRoaXMucnVsZXMuU3RhZmZIZWlnaHQ7Y29uc3Qgbj1bXSxyPXQuU2t5Qm90dG9tTGluZUNhbGN1bGF0b3I7bGV0IG89dC5NZWFzdXJlcy5sZW5ndGg7Zm9yKGxldCBlPTA7ZTxvOysrZSl7Y29uc3Qgbz10Lk1lYXN1cmVzW2VdLGE9by5Qb3NpdGlvbkFuZFNoYXBlLlJlbGF0aXZlUG9zaXRpb24saD1vLnN0YWZmRW50cmllcy5sZW5ndGg7Zm9yKGxldCB0PTA7dDxoOysrdCl7Y29uc3QgZT1vLnN0YWZmRW50cmllc1t0XTtpZihlLkx5cmljc0VudHJpZXMubGVuZ3RoPjApe24ucHVzaChlKSxpPU1hdGgubWF4KGksZS5MeXJpY3NFbnRyaWVzLmxlbmd0aCk7Y29uc3QgdD1lLlBvc2l0aW9uQW5kU2hhcGUuUmVsYXRpdmVQb3NpdGlvbi54K2EueDtsZXQgbz1OdW1iZXIuTUFYX1ZBTFVFLGg9TnVtYmVyLk1JTl9WQUxVRTtmb3IobGV0IGk9MDtpPGUuTHlyaWNzRW50cmllcy5sZW5ndGg7aSsrKXtjb25zdCBzPWUuTHlyaWNzRW50cmllc1tpXS5HcmFwaGljYWxMYWJlbDtvPU1hdGgubWluKG8sdCtzLlBvc2l0aW9uQW5kU2hhcGUuQm9yZGVyTWFyZ2luTGVmdCksaD1NYXRoLm1heChoLHQrcy5Qb3NpdGlvbkFuZFNoYXBlLkJvcmRlck1hcmdpblJpZ2h0KX1jb25zdCBsPXIuZ2V0Qm90dG9tTGluZU1heEluUmFuZ2UobyxoKTtzPU1hdGgubWF4KHMsbCl9fX1sZXQgYT0wO289bi5sZW5ndGg7Zm9yKGNvbnN0IHQgb2Ygbilmb3IobGV0IGk9MDtpPHQuTHlyaWNzRW50cmllcy5sZW5ndGg7aSsrKXtjb25zdCBuPXQuTHlyaWNzRW50cmllc1tpXSxyPW4uR3JhcGhpY2FsTGFiZWwsbz1uLkx5cmljc0VudHJ5LlZlcnNlTnVtYmVyLGg9ZS5pbmRleE9mKG8pO2xldCBsPXMrdGhpcy5ydWxlcy5MeXJpY3NIZWlnaHQrdGhpcy5ydWxlcy5WZXJ0aWNhbEJldHdlZW5MeXJpY3NEaXN0YW5jZSsodGhpcy5ydWxlcy5WZXJ0aWNhbEJldHdlZW5MeXJpY3NEaXN0YW5jZSt0aGlzLnJ1bGVzLkx5cmljc0hlaWdodCkqaDt0aGlzLmxlYWRTaGVldCYmKGw9My40Kyh0aGlzLnJ1bGVzLlZlcnRpY2FsQmV0d2Vlbkx5cmljc0Rpc3RhbmNlK3RoaXMucnVsZXMuTHlyaWNzSGVpZ2h0KSpoKTtjb25zdCBjPXIuUG9zaXRpb25BbmRTaGFwZS5SZWxhdGl2ZVBvc2l0aW9uLng7ci5Qb3NpdGlvbkFuZFNoYXBlLlJlbGF0aXZlUG9zaXRpb249bmV3IHUuUG9pbnRGMkQoYyxsKSxhPU1hdGgubWF4KGEsbCl9aWYobi5sZW5ndGg+MCl7Y29uc3QgZT10LlBvc2l0aW9uQW5kU2hhcGUuU2l6ZS53aWR0aDtsZXQgaT1uWzBdLlBvc2l0aW9uQW5kU2hhcGUuUmVsYXRpdmVQb3NpdGlvbi54K25bMF0uUG9zaXRpb25BbmRTaGFwZS5Cb3JkZXJNYXJnaW5MZWZ0K25bMF0ucGFyZW50TWVhc3VyZS5Qb3NpdGlvbkFuZFNoYXBlLlJlbGF0aXZlUG9zaXRpb24ueDtpPWk+ZT9lOmksci51cGRhdGVCb3R0b21MaW5lSW5SYW5nZShpLGUsYSl9cmV0dXJuIG59Y2FsY3VsYXRlTHlyaWNzRXh0ZW5kc0FuZERhc2hlcyh0KXtmb3IobGV0IGU9MCxpPXQubGVuZ3RoO2U8aTsrK2Upe2NvbnN0IGk9dFtlXTtmb3IobGV0IHQ9MDt0PGkuTHlyaWNzRW50cmllcy5sZW5ndGg7dCsrKXtjb25zdCBlPWkuTHlyaWNzRW50cmllc1t0XTtlLlBhcmVudEx5cmljV29yZCYmZS5QYXJlbnRMeXJpY1dvcmQuR3JhcGhpY2FsTHlyaWNzRW50cmllc1tlLlBhcmVudEx5cmljV29yZC5HcmFwaGljYWxMeXJpY3NFbnRyaWVzLmxlbmd0aC0xXSE9PWUmJnRoaXMuY2FsY3VsYXRlU2luZ2xlTHlyaWNXb3JkKGUpLGUuTHlyaWNzRW50cnkuZXh0ZW5kJiZ0aGlzLmNhbGN1bGF0ZUx5cmljRXh0ZW5kKGUpfX19Y2FsY3VsYXRlU2luZ2xlT2N0YXZlU2hpZnQodCxlLGkscyl7dGhyb3cgbmV3IEVycm9yKFwiYWJzdHJhY3QsIG5vdCBpbXBsZW1lbnRlZFwiKX1jYWxjdWxhdGVXb3JkUmVwZXRpdGlvbkluc3RydWN0aW9uKHQsZSl7dGhyb3cgbmV3IEVycm9yKFwiYWJzdHJhY3QsIG5vdCBpbXBsZW1lbnRlZFwiKX1jYWxjdWxhdGVNb29kQW5kVW5rbm93bkV4cHJlc3Npb24odCxlLGkpe3ZhciBzO2NvbnN0IG49dC5BYnNvbHV0ZVRpbWVzdGFtcCxyPXRoaXMuZ3JhcGhpY2FsTXVzaWNTaGVldC5NZWFzdXJlTGlzdFtlXTtsZXQgbz1uZXcgdS5Qb2ludEYyRDtpZih0Lk1vb2RMaXN0Lmxlbmd0aD4wfHx0LlVua25vd25MaXN0Lmxlbmd0aD4wKXtsZXQgZT1cIlwiO2ZvcihsZXQgaT0wLHM9dC5FbnRyaWVzTGlzdC5sZW5ndGg7aTxzOysraSl7Y29uc3Qgcz10LkVudHJpZXNMaXN0W2ldO1wiXCIhPT1zLnByZWZpeCYmKGUrPVwiXCI9PT1lP3MucHJlZml4OlwiIFwiK3MucHJlZml4KSxlKz1cIlwiPT09ZT9zLmxhYmVsOlwiIFwiK3MubGFiZWx9Y29uc3QgYT1yW2ldLlBhcmVudFN0YWZmTGluZTtpZighYSlyZXR1cm4gdm9pZCBFLmRlZmF1bHQuZGVidWcoXCJNdXNpY1NoZWV0Q2FsY3VsYXRvci5jYWxjdWxhdGVNb29kQW5kVW5rbm93bkV4cHJlc3Npb246IHN0YWZmTGluZSB1bmRlZmluZWQuIFJldHVybmluZy5cIik7bz10aGlzLmdldFJlbGF0aXZlUG9zaXRpb25JblN0YWZmTGluZUZyb21UaW1lc3RhbXAobixpLGEsbnVsbD09YT92b2lkIDA6YS5pc1BhcnRPZk11bHRpU3RhZmZJbnN0cnVtZW50KCkpLE1hdGguYWJzKG8ueC0wKTwxZS00JiYoby54PXJbaV0uYmVnaW5JbnN0cnVjdGlvbnNXaWR0aCt0aGlzLnJ1bGVzLlJoeXRobVJpZ2h0TWFyZ2luKTtjb25zdCBoPXRoaXMucnVsZXMuVW5rbm93blRleHRIZWlnaHQsbD10LmdldFBsYWNlbWVudE9mRmlyc3RFbnRyeSgpLGM9dGhpcy5jYWxjdWxhdGVMYWJlbChhLG8sZSx0LmdldEZvbnRzdHlsZU9mRmlyc3RFbnRyeSgpLGwsaCksdT1uZXcgTi5HcmFwaGljYWxVbmtub3duRXhwcmVzc2lvbihhLGMsbCxudWxsPT09KHM9cltpXSl8fHZvaWQgMD09PXM/dm9pZCAwOnMucGFyZW50U291cmNlTWVhc3VyZSx0KTthLkFic3RyYWN0RXhwcmVzc2lvbnMucHVzaCh1KX19Y2xlYXJSZWNyZWF0ZWRPYmplY3RzKCl7Zm9yKGxldCB0PTAsZT10aGlzLnN0YWZmRW50cmllc1dpdGhHcmFwaGljYWxUaWVzLmxlbmd0aDt0PGU7Kyt0KXt0aGlzLnN0YWZmRW50cmllc1dpdGhHcmFwaGljYWxUaWVzW3RdLkdyYXBoaWNhbFRpZXMubGVuZ3RoPTB9dGhpcy5zdGFmZkVudHJpZXNXaXRoR3JhcGhpY2FsVGllcy5sZW5ndGg9MH1oYW5kbGVTdGFmZkVudHJ5TGluayh0LGUpe0UuZGVmYXVsdC5kZWJ1ZyhcImhhbmRsZVN0YWZmRW50cnlMaW5rIG5vdCBpbXBsZW1lbnRlZFwiKX1jYWxjdWxhdGVNdXNpY1N5c3RlbXMoKXtpZighdGhpcy5ncmFwaGljYWxNdXNpY1NoZWV0Lk1lYXN1cmVMaXN0KXJldHVybjtjb25zdCB0PXRoaXMuZ3JhcGhpY2FsTXVzaWNTaGVldC5NZWFzdXJlTGlzdDtpZighdClyZXR1cm47dGhpcy5ydWxlcy5NaW5NZWFzdXJlVG9EcmF3SW5kZXg+dC5sZW5ndGgtMSYmKEUuZGVmYXVsdC5kZWJ1ZyhcIm1pbmltdW0gbWVhc3VyZSB0byBkcmF3IGluZGV4IG91dCBvZiByYW5nZS4gcmVzZXR0aW5nIG1pbiBtZWFzdXJlIGluZGV4IHRvIGxpbWl0LlwiKSx0aGlzLnJ1bGVzLk1pbk1lYXN1cmVUb0RyYXdJbmRleD10Lmxlbmd0aC0xKTtjb25zdCBlPVtdO2ZvcihsZXQgaT10aGlzLnJ1bGVzLk1pbk1lYXN1cmVUb0RyYXdJbmRleCxzPXQubGVuZ3RoO2k8cyYmaTw9dGhpcy5ydWxlcy5NYXhNZWFzdXJlVG9EcmF3SW5kZXg7KytpKXtjb25zdCBzPVtdO2ZvcihsZXQgZT0wLG49dFtpXS5sZW5ndGg7ZTxuOysrZSl7Y29uc3Qgbj10W2ldW2VdO2lmKG4uaXNWaXNpYmxlKCkmJihzLnB1c2gobiksdGhpcy5ydWxlcy5Db2xvcmluZ0VuYWJsZWQpKWZvcihjb25zdCB0IG9mIG4uc3RhZmZFbnRyaWVzKWZvcihjb25zdCBlIG9mIHQuZ3JhcGhpY2FsVm9pY2VFbnRyaWVzKWUuY29sb3IoKX1lLnB1c2gocyl9bGV0IGk9MDtmb3IobGV0IHQ9MCxzPWUubGVuZ3RoO3Q8czsrK3Qpe2NvbnN0IHM9ZVt0XTtpPU1hdGgubWF4KHMubGVuZ3RoLGkpO2JyZWFrfWlmKDA9PT1pKXJldHVybjtjb25zdCBzPW5ldyBjLk11c2ljU3lzdGVtQnVpbGRlcjtpZihzLmluaXRpYWxpemUodGhpcy5ncmFwaGljYWxNdXNpY1NoZWV0LGUsaSksdGhpcy5tdXNpY1N5c3RlbXM9cy5idWlsZE11c2ljU3lzdGVtcygpLHRoaXMuZm9ybWF0TWVhc3VyZXMoKSx0aGlzLmxlYWRTaGVldHx8KHRoaXMub3B0aW1pemVSZXN0UGxhY2VtZW50KCksdGhpcy5jYWxjdWxhdGVTdGFmZkVudHJ5QXJ0aWN1bGF0aW9uTWFya3MoKSx0aGlzLnJ1bGVzLlJlbmRlclNsdXJzJiZ0aGlzLmNhbGN1bGF0ZVRpZUN1cnZlcygpKSx0aGlzLmNhbGN1bGF0ZVNreUJvdHRvbUxpbmVzKCksdGhpcy5jYWxjdWxhdGVUdXBsZXROdW1iZXJzKCksdGhpcy5ydWxlcy5SZW5kZXJNZWFzdXJlTnVtYmVycylmb3IobGV0IHQ9MCxlPXRoaXMubXVzaWNTeXN0ZW1zLmxlbmd0aDt0PGU7Kyt0KXtjb25zdCBlPXRoaXMubXVzaWNTeXN0ZW1zW3RdO3RoaXMuY2FsY3VsYXRlTWVhc3VyZU51bWJlclBsYWNlbWVudChlKX0hdGhpcy5sZWFkU2hlZXQmJnRoaXMucnVsZXMuUmVuZGVyU2x1cnMmJnRoaXMuY2FsY3VsYXRlU2x1cnMoKSx0aGlzLmxlYWRTaGVldHx8dGhpcy5jYWxjdWxhdGVPcm5hbWVudHMoKSx0aGlzLmNhbGN1bGF0ZUNob3JkU3ltYm9scygpLHRoaXMubGVhZFNoZWV0fHwodGhpcy5jYWxjdWxhdGVEeW5hbWljRXhwcmVzc2lvbnMoKSx0aGlzLmNhbGN1bGF0ZU1vb2RBbmRVbmtub3duRXhwcmVzc2lvbnMoKSx0aGlzLmNhbGN1bGF0ZUV4cHJlc3Npb25BbGlnbmVtZW50cygpLHRoaXMuY2FsY3VsYXRlT2N0YXZlU2hpZnRzKCksdGhpcy5jYWxjdWxhdGVXb3JkUmVwZXRpdGlvbkluc3RydWN0aW9ucygpKSx0aGlzLmNhbGN1bGF0ZVJlcGV0aXRpb25FbmRpbmdzKCksdGhpcy5sZWFkU2hlZXR8fHRoaXMuY2FsY3VsYXRlVGVtcG9FeHByZXNzaW9ucygpLHRoaXMuY2FsY3VsYXRlTHlyaWNzUG9zaXRpb24oKTtmb3IobGV0IHQ9MCxlPXRoaXMubXVzaWNTeXN0ZW1zLmxlbmd0aDt0PGU7Kyt0KXtjb25zdCBlPXRoaXMubXVzaWNTeXN0ZW1zW3RdO2ZvcihsZXQgdD0wLGk9ZS5TdGFmZkxpbmVzLmxlbmd0aDt0PGk7Kyt0KXtjb25zdCBpPWUuU3RhZmZMaW5lc1t0XTt0aGlzLnVwZGF0ZVN0YWZmTGluZUJvcmRlcnMoaSl9fXMuY2FsY3VsYXRlU3lzdGVtWUxheW91dCgpLHRoaXMuY2FsY3VsYXRlQ29tbWVudHMoKSx0aGlzLmNhbGN1bGF0ZU1hcmtlZEFyZWFzKCk7Zm9yKGxldCB0PTAsZT10aGlzLmdyYXBoaWNhbE11c2ljU2hlZXQuTXVzaWNQYWdlcy5sZW5ndGg7dDxlOysrdCl7Y29uc3QgZT10aGlzLmdyYXBoaWNhbE11c2ljU2hlZXQuTXVzaWNQYWdlc1t0XTtmb3IobGV0IGk9MCxzPWUuTXVzaWNTeXN0ZW1zLmxlbmd0aDtpPHM7KytpKXtjb25zdCBzPTA9PT10JiYwPT09aSxuPWUuTXVzaWNTeXN0ZW1zW2ldO24uc2V0TXVzaWNTeXN0ZW1MYWJlbHNZUG9zaXRpb24oKSx0aGlzLmxlYWRTaGVldD9uPT09bi5QYXJlbnQuTXVzaWNTeXN0ZW1zWzBdJiZuLmNyZWF0ZVN5c3RlbUxlZnRMaW5lKHRoaXMucnVsZXMuU3lzdGVtVGhpbkxpbmVXaWR0aCx0aGlzLnJ1bGVzLlN5c3RlbUxhYmVsc1JpZ2h0TWFyZ2luLHMpOihuLnNldFlQb3NpdGlvbnNUb1ZlcnRpY2FsTGluZU9iamVjdHNBbmRDcmVhdGVMaW5lcyh0aGlzLnJ1bGVzKSxuLmNyZWF0ZVN5c3RlbUxlZnRMaW5lKHRoaXMucnVsZXMuU3lzdGVtVGhpbkxpbmVXaWR0aCx0aGlzLnJ1bGVzLlN5c3RlbUxhYmVsc1JpZ2h0TWFyZ2luLHMpLG4uY3JlYXRlSW5zdHJ1bWVudEJyYWNrZXRzKHRoaXMuZ3JhcGhpY2FsTXVzaWNTaGVldC5QYXJlbnRNdXNpY1NoZWV0Lkluc3RydW1lbnRzLHRoaXMucnVsZXMuU3RhZmZIZWlnaHQpLG4uY3JlYXRlR3JvdXBCcmFja2V0cyh0aGlzLmdyYXBoaWNhbE11c2ljU2hlZXQuUGFyZW50TXVzaWNTaGVldC5JbnN0cnVtZW50YWxHcm91cHMsdGhpcy5ydWxlcy5TdGFmZkhlaWdodCwwKSxuLmFsaWduQmVnaW5JbnN0cnVjdGlvbnMoKSksbi5jYWxjdWxhdGVCb3JkZXJzKHRoaXMucnVsZXMpfWNvbnN0IGk9ZS5NdXNpY1N5c3RlbXNbMF0uUG9zaXRpb25BbmRTaGFwZS5Cb3JkZXJUb3A7Zm9yKGxldCB0PTAscz1lLk11c2ljU3lzdGVtcy5sZW5ndGg7dDxzOysrdCl7Y29uc3Qgcz1lLk11c2ljU3lzdGVtc1t0XTtzLlBvc2l0aW9uQW5kU2hhcGUuUmVsYXRpdmVQb3NpdGlvbj1uZXcgdS5Qb2ludEYyRChzLlBvc2l0aW9uQW5kU2hhcGUuUmVsYXRpdmVQb3NpdGlvbi54LHMuUG9zaXRpb25BbmRTaGFwZS5SZWxhdGl2ZVBvc2l0aW9uLnktaSl9Zm9yKGxldCB0PTAsaT1lLk11c2ljU3lzdGVtcy5sZW5ndGg7dDxpOysrdCl7Y29uc3QgaT1lLk11c2ljU3lzdGVtc1t0XTtmb3IobGV0IHQ9MCxlPWkuU3RhZmZMaW5lcy5sZW5ndGg7dDxlOysrdCl7aS5TdGFmZkxpbmVzW3RdLmFkZEFjdGl2aXR5U3ltYm9sQ2xpY2tBcmVhKCl9fWUuUG9zaXRpb25BbmRTaGFwZS5jYWxjdWxhdGVUb3BCb3R0b21Cb3JkZXJzKCksZT09PXRoaXMuZ3JhcGhpY2FsTXVzaWNTaGVldC5NdXNpY1BhZ2VzWzBdJiZ0aGlzLmNhbGN1bGF0ZVBhZ2VMYWJlbHMoZSksZS5Qb3NpdGlvbkFuZFNoYXBlLmNhbGN1bGF0ZVRvcEJvdHRvbUJvcmRlcnMoKX19Y2FsY3VsYXRlTWFya2VkQXJlYXMoKXt9Y2FsY3VsYXRlQ29tbWVudHMoKXt9Y2FsY3VsYXRlQ2hvcmRTeW1ib2xzKCl7Zm9yKGNvbnN0IHQgb2YgdGhpcy5tdXNpY1N5c3RlbXMpZm9yKGNvbnN0IGUgb2YgdC5TdGFmZkxpbmVzKXtjb25zdCB0PWUuU2t5Qm90dG9tTGluZUNhbGN1bGF0b3I7Zm9yKGNvbnN0IGkgb2YgZS5NZWFzdXJlcylmb3IoY29uc3QgZSBvZiBpLnN0YWZmRW50cmllcylpZihlLmdyYXBoaWNhbENob3JkQ29udGFpbmVycyYmMCE9PWUuZ3JhcGhpY2FsQ2hvcmRDb250YWluZXJzLmxlbmd0aClmb3IoY29uc3QgaSBvZiBlLmdyYXBoaWNhbENob3JkQ29udGFpbmVycyl7Y29uc3Qgcz1lLlBvc2l0aW9uQW5kU2hhcGUsbj1pLlBvc2l0aW9uQW5kU2hhcGUscj1uLkJvcmRlck1hcmdpbkxlZnQrcy5BYnNvbHV0ZVBvc2l0aW9uLngsbz1uLkJvcmRlck1hcmdpblJpZ2h0K3MuQWJzb2x1dGVQb3NpdGlvbi54O3QudXBkYXRlU2t5TGluZUluUmFuZ2UocixvLHMuQm9yZGVyTWFyZ2luVG9wKX19fWxheW91dE1lYXN1cmVXaXRoV2hvbGVSZXN0KHQsZSxpKXt9bGF5b3V0QmVhbXModCl7fWxheW91dEFydGljdWxhdGlvbk1hcmtzKHQsZSxpKXt9bGF5b3V0T3JuYW1lbnQodCxlLGkpe31jYWxjdWxhdGVSZXN0Tm90ZVBsYWNlbWVudFdpdGhpbkdyYXBoaWNhbEJlYW0odCxlLGkscyxuKXt9Y2FsY3VsYXRlVHVwbGV0TnVtYmVycygpe31jYWxjdWxhdGVTbHVycygpe31jYWxjdWxhdGVEeW5hbWljRXhwcmVzc2lvbnNGb3JNdWx0aUV4cHJlc3Npb24odCxlLGkpe31jYWxjdWxhdGVHcmFwaGljYWxWZXJiYWxDb250aW51b3VzRHluYW1pYyh0LGUpe2NvbnN0IGk9dC5MYWJlbCxzPWUueCtpLlBvc2l0aW9uQW5kU2hhcGUuQm9yZGVyTWFyZ2luTGVmdCxuPWUueCtpLlBvc2l0aW9uQW5kU2hhcGUuQm9yZGVyTWFyZ2luUmlnaHQscj10LkNvbnRpbnVvdXNEeW5hbWljLlBsYWNlbWVudCxvPXQuUGFyZW50U3RhZmZMaW5lLlNreUJvdHRvbUxpbmVDYWxjdWxhdG9yO2xldCBhO3I9PT1ULlBsYWNlbWVudEVudW0uQmVsb3c/KGE9by5nZXRCb3R0b21MaW5lTWF4SW5SYW5nZShzLG4pLGkuUG9zaXRpb25BbmRTaGFwZS5SZWxhdGl2ZVBvc2l0aW9uPW5ldyB1LlBvaW50RjJEKGUueCxhLWkuUG9zaXRpb25BbmRTaGFwZS5Cb3JkZXJNYXJnaW5Ub3ApKTooYT1vLmdldFNreUxpbmVNaW5JblJhbmdlKHMsbiksaS5Qb3NpdGlvbkFuZFNoYXBlLlJlbGF0aXZlUG9zaXRpb249bmV3IHUuUG9pbnRGMkQoZS54LGEtaS5Qb3NpdGlvbkFuZFNoYXBlLkJvcmRlck1hcmdpbkJvdHRvbSkpfWNhbGN1bGF0ZUdyYXBoaWNhbENvbnRpbnVvdXNEeW5hbWljKHQsZSl7Y29uc3QgaT10LlBhcmVudFN0YWZmTGluZS5QYXJlbnRTdGFmZi5pZEluTXVzaWNTaGVldCxzPXRoaXMuZ3JhcGhpY2FsTXVzaWNTaGVldC5nZXRHcmFwaGljYWxNZWFzdXJlRnJvbVNvdXJjZU1lYXN1cmVBbmRJbmRleCh0LkNvbnRpbnVvdXNEeW5hbWljLkVuZE11bHRpRXhwcmVzc2lvbi5Tb3VyY2VNZWFzdXJlUGFyZW50LGkpO2lmKCFzKXJldHVybiB2b2lkIEUuZGVmYXVsdC53YXJuKFwiTXVzaWNTaGVldENhbGN1bGF0b3IuY2FsY3VsYXRlR3JhcGhpY2FsQ29udGludW91c0R5bmFtaWM6IE5vIGVuZE1lYXN1cmUgZm91bmRcIik7dC5FbmRNZWFzdXJlPXM7Y29uc3Qgbj10LlBhcmVudFN0YWZmTGluZSxvPXMuUGFyZW50U3RhZmZMaW5lLGE9byYmbj09PW87bGV0IGg9ITE7bz9oPW51bGw9PW8/dm9pZCAwOm8uaXNQYXJ0T2ZNdWx0aVN0YWZmSW5zdHJ1bWVudCgpOm4mJihoPW51bGw9PW4/dm9pZCAwOm4uaXNQYXJ0T2ZNdWx0aVN0YWZmSW5zdHJ1bWVudCgpKTtjb25zdCBsPXIuRnJhY3Rpb24uY3JlYXRlRnJvbUZyYWN0aW9uKHQuQ29udGludW91c0R5bmFtaWMuRW5kTXVsdGlFeHByZXNzaW9uLkFic29sdXRlVGltZXN0YW1wKSxjPXRoaXMuZ2V0UmVsYXRpdmVQb3NpdGlvbkluU3RhZmZMaW5lRnJvbVRpbWVzdGFtcChsLGksbyxoLDApLHU9bi5QYXJlbnRNdXNpY1N5c3RlbSxkPXUuU3RhZmZMaW5lcy5pbmRleE9mKG4pLGY9bi5Ta3lCb3R0b21MaW5lQ2FsY3VsYXRvcixtPXQuQ29udGludW91c0R5bmFtaWMuUGxhY2VtZW50O2xldCBwPXZvaWQgMDthJiZjLngtZS54PHRoaXMucnVsZXMuV2VkZ2VNaW5MZW5ndGgmJihjLng9ZS54K3RoaXMucnVsZXMuV2VkZ2VNaW5MZW5ndGgpO2NvbnN0IGc9ZS54LGI9by5NZWFzdXJlc1swXS5iZWdpbkluc3RydWN0aW9uc1dpZHRoLXRoaXMucnVsZXMuV2VkZ2VIb3Jpem9udGFsTWFyZ2luLTI7bGV0IFM9MCx5PTA7YT9TPWMueDooUz1uLlBvc2l0aW9uQW5kU2hhcGUuU2l6ZS53aWR0aCx5PWMueCxwPW5ldyBDLkdyYXBoaWNhbENvbnRpbnVvdXNEeW5hbWljRXhwcmVzc2lvbih0LkNvbnRpbnVvdXNEeW5hbWljLG8scy5wYXJlbnRTb3VyY2VNZWFzdXJlKSxwLklzU3BsaXR0ZWRQYXJ0PSEwLHQuSXNTcGxpdHRlZFBhcnQ9ITApO2xldCB4PTAsdj0wO2lmKG09PT1ULlBsYWNlbWVudEVudW0uQmVsb3cpe2xldCBlPTA7aWYoZDx1LlN0YWZmTGluZXMubGVuZ3RoLTEmJihlPWQrMSksZT5kKXtjb25zdCB0PXUuU3RhZmZMaW5lc1tlXS5Qb3NpdGlvbkFuZFNoYXBlLlJlbGF0aXZlUG9zaXRpb24ueS1uLlBvc2l0aW9uQW5kU2hhcGUuUmVsYXRpdmVQb3NpdGlvbi55LXRoaXMucnVsZXMuU3RhZmZIZWlnaHQ7eD10aGlzLnJ1bGVzLlN0YWZmSGVpZ2h0K3QvMn1lbHNlIHg9dGhpcy5ydWxlcy5XZWRnZVBsYWNlbWVudEJlbG93WTt4LT10aGlzLnJ1bGVzLldlZGdlT3BlbmluZ0xlbmd0aC8yLGF8fCh2PXgpO2xldCBpPWYuZ2V0Qm90dG9tTGluZU1heEluUmFuZ2UoZyxTKTtpPngmJih4PWkpO2NvbnN0IHM9ITE7aWYoZDx1LlN0YWZmTGluZXMubGVuZ3RoLTEpe2NvbnN0IGk9bi5maW5kQ2xvc2VzdFN0YWZmRW50cnkoUykscj1uLmZpbmRDbG9zZXN0U3RhZmZFbnRyeShnKTtpZihyJiZpKXtyLnBhcmVudFZlcnRpY2FsQ29udGFpbmVyO2lmKHMpe2NvbnN0IGk9dS5TdGFmZkxpbmVzW2VdLHM9aS5Ta3lCb3R0b21MaW5lQ2FsY3VsYXRvci5nZXRTa3lMaW5lTWluSW5SYW5nZShnLFMpLHI9aS5Qb3NpdGlvbkFuZFNoYXBlLlJlbGF0aXZlUG9zaXRpb24ueS1uLlBvc2l0aW9uQW5kU2hhcGUuUmVsYXRpdmVQb3NpdGlvbi55K3M7eD1yLXRoaXMucnVsZXMuV2VkZ2VPcGVuaW5nTGVuZ3RoPnRoaXMucnVsZXMuU3RhZmZIZWlnaHQ/ci10aGlzLnJ1bGVzLldlZGdlVmVydGljYWxNYXJnaW46dGhpcy5ydWxlcy5TdGFmZkhlaWdodCt0aGlzLnJ1bGVzLldlZGdlT3BlbmluZ0xlbmd0aCx0Lk5vdFRvQmVSZW1vdmVkPSEwfX19YXx8KGk9by5Ta3lCb3R0b21MaW5lQ2FsY3VsYXRvci5nZXRCb3R0b21MaW5lTWF4SW5SYW5nZShiLHkpLGk+diYmKHY9aSksdis9dGhpcy5ydWxlcy5XZWRnZU9wZW5pbmdMZW5ndGgvMix2Kz10aGlzLnJ1bGVzLldlZGdlVmVydGljYWxNYXJnaW4pLHN8fCh4Kz10aGlzLnJ1bGVzLldlZGdlT3BlbmluZ0xlbmd0aC8yLHgrPXRoaXMucnVsZXMuV2VkZ2VWZXJ0aWNhbE1hcmdpbil9ZWxzZSBpZihtPT09VC5QbGFjZW1lbnRFbnVtLkFib3ZlKXtpZigxPT09bi5QYXJlbnRTdGFmZi5QYXJlbnRJbnN0cnVtZW50LlN0YXZlcy5sZW5ndGgpeD10aGlzLnJ1bGVzLldlZGdlUGxhY2VtZW50QWJvdmVZO2Vsc2V7bGV0IHQ9MDtkPjAmJih0PWQtMSk7Y29uc3QgZT11LlN0YWZmTGluZXNbdF07eD0tKG4uUG9zaXRpb25BbmRTaGFwZS5SZWxhdGl2ZVBvc2l0aW9uLnktZS5Qb3NpdGlvbkFuZFNoYXBlLlJlbGF0aXZlUG9zaXRpb24ueS10aGlzLnJ1bGVzLlN0YWZmSGVpZ2h0KS8yfXgrPXRoaXMucnVsZXMuV2VkZ2VPcGVuaW5nTGVuZ3RoLzIsYXx8KHY9eCk7bGV0IHQ9Zi5nZXRTa3lMaW5lTWluSW5SYW5nZShnLFMpO3Q8eCYmKHg9dCk7Y29uc3QgZT0hMTtpZihuLlBhcmVudFN0YWZmLlBhcmVudEluc3RydW1lbnQuU3RhdmVzLmxlbmd0aD4xJiZkPjApe2NvbnN0IHQ9bi5maW5kQ2xvc2VzdFN0YWZmRW50cnkoZyksaT1uLmZpbmRDbG9zZXN0U3RhZmZFbnRyeShTKTtpZih0JiZpKXt0LnBhcmVudFZlcnRpY2FsQ29udGFpbmVyO2NvbnN0IGk9ZC0xO2lmKGUpe2NvbnN0IHQ9dS5TdGFmZkxpbmVzW2ldLGU9dC5Ta3lCb3R0b21MaW5lQ2FsY3VsYXRvci5nZXRCb3R0b21MaW5lTWF4SW5SYW5nZShnLFMpO3g9KG4uUG9zaXRpb25BbmRTaGFwZS5SZWxhdGl2ZVBvc2l0aW9uLnktdC5Qb3NpdGlvbkFuZFNoYXBlLlJlbGF0aXZlUG9zaXRpb24ueS1lLXRoaXMucnVsZXMuU3RhZmZIZWlnaHQpLzIrdGhpcy5ydWxlcy5TdGFmZkhlaWdodH19fWF8fCh0PW8uU2t5Qm90dG9tTGluZUNhbGN1bGF0b3IuZ2V0U2t5TGluZU1pbkluUmFuZ2UoYix5KSx0PHYmJih2PXQpLHYtPXRoaXMucnVsZXMuV2VkZ2VPcGVuaW5nTGVuZ3RoLzIpLGV8fCh4LT10aGlzLnJ1bGVzLldlZGdlT3BlbmluZ0xlbmd0aC8yLHgtPXRoaXMucnVsZXMuV2VkZ2VWZXJ0aWNhbE1hcmdpbiksYXx8KHYtPXRoaXMucnVsZXMuV2VkZ2VWZXJ0aWNhbE1hcmdpbil9dC5MaW5lcy5jbGVhcigpLHQuQ29udGludW91c0R5bmFtaWMuRHluYW1pY1R5cGU9PT1JLkNvbnREeW5hbWljRW51bS5jcmVzY2VuZG8/YT8odC5jcmVhdGVDcmVzY2VuZG9MaW5lcyhnLFMseCksdC5jYWxjUHNpKCkpOih0LmNyZWF0ZUZpcnN0SGFsZkNyZXNjZW5kb0xpbmVzKGcsUyx4KSx0LmNhbGNQc2koKSxwLmNyZWF0ZVNlY29uZEhhbGZDcmVzY2VuZG9MaW5lcyhiLHksdikscC5jYWxjUHNpKCkpOnQuQ29udGludW91c0R5bmFtaWMuRHluYW1pY1R5cGU9PT1JLkNvbnREeW5hbWljRW51bS5kaW1pbnVlbmRvJiYoYT8odC5jcmVhdGVEaW1pbnVlbmRvTGluZXMoZyxTLHgpLHQuY2FsY1BzaSgpKToodC5jcmVhdGVGaXJzdEhhbGZEaW1pbnVlbmRvTGluZXMoZyxTLHgpLHQuY2FsY1BzaSgpLHAuY3JlYXRlU2Vjb25kSGFsZkRpbWludWVuZG9MaW5lcyhiLHksdikscC5jYWxjUHNpKCkpKX1jYWxjdWxhdGVHcmFwaGljYWxJbnN0YW50YW5lb3VzRHluYW1pY0V4cHJlc3Npb24odCxlKXtjb25zdCBpPXQuUGFyZW50U3RhZmZMaW5lO2lmKCFpKXJldHVybjtjb25zdCBzPWUueCt0LlBvc2l0aW9uQW5kU2hhcGUuQm9yZGVyTWFyZ2luTGVmdCxuPWUueCt0LlBvc2l0aW9uQW5kU2hhcGUuQm9yZGVyTWFyZ2luUmlnaHQscj1pLlNreUJvdHRvbUxpbmVDYWxjdWxhdG9yO2xldCBvPTA7aWYodC5QbGFjZW1lbnQ9PT1ULlBsYWNlbWVudEVudW0uQWJvdmUpe2NvbnN0IGE9ci5nZXRTa3lMaW5lTWluSW5SYW5nZShzLG4pO2lmKGkuaXNQYXJ0T2ZNdWx0aVN0YWZmSW5zdHJ1bWVudCgpJiZpLlBhcmVudFN0YWZmIT09aS5QYXJlbnRTdGFmZi5QYXJlbnRJbnN0cnVtZW50LlN0YXZlc1swXSl7Y29uc3QgZT1pLlBhcmVudE11c2ljU3lzdGVtLlN0YWZmTGluZXNbaS5QYXJlbnRNdXNpY1N5c3RlbS5TdGFmZkxpbmVzLmluZGV4T2YoaSktMV0scz1pLlBvc2l0aW9uQW5kU2hhcGUuUmVsYXRpdmVQb3NpdGlvbi55LWUuUG9zaXRpb25BbmRTaGFwZS5SZWxhdGl2ZVBvc2l0aW9uLnktdGhpcy5ydWxlcy5TdGFmZkhlaWdodDtvPWE+LXMvMj8tcy8yOmEtdC5Qb3NpdGlvbkFuZFNoYXBlLkJvcmRlck1hcmdpbkJvdHRvbX1lbHNlIG89YS10LlBvc2l0aW9uQW5kU2hhcGUuQm9yZGVyTWFyZ2luQm90dG9tO3QuUG9zaXRpb25BbmRTaGFwZS5SZWxhdGl2ZVBvc2l0aW9uPW5ldyB1LlBvaW50RjJEKGUueCxvKX1lbHNlIGlmKHQuUGxhY2VtZW50PT09VC5QbGFjZW1lbnRFbnVtLkJlbG93KXtjb25zdCBhPXIuZ2V0Qm90dG9tTGluZU1heEluUmFuZ2UocyxuKSxoPWkuUGFyZW50U3RhZmYuUGFyZW50SW5zdHJ1bWVudC5TdGF2ZXNbaS5QYXJlbnRTdGFmZi5QYXJlbnRJbnN0cnVtZW50LlN0YXZlcy5sZW5ndGgtMV07aWYoaS5pc1BhcnRPZk11bHRpU3RhZmZJbnN0cnVtZW50KCkmJmkuUGFyZW50U3RhZmYhPT1oKXtjb25zdCBlPWkuUGFyZW50TXVzaWNTeXN0ZW0uU3RhZmZMaW5lc1tpLlBhcmVudE11c2ljU3lzdGVtLlN0YWZmTGluZXMuaW5kZXhPZihpKSsxXS5Qb3NpdGlvbkFuZFNoYXBlLlJlbGF0aXZlUG9zaXRpb24ueS1pLlBvc2l0aW9uQW5kU2hhcGUuUmVsYXRpdmVQb3NpdGlvbi55LXRoaXMucnVsZXMuU3RhZmZIZWlnaHQ7bz1hK3QuUG9zaXRpb25BbmRTaGFwZS5Cb3JkZXJNYXJnaW5Cb3R0b208dGhpcy5ydWxlcy5TdGFmZkhlaWdodCtlLzI/dGhpcy5ydWxlcy5TdGFmZkhlaWdodCtlLzI6YS10LlBvc2l0aW9uQW5kU2hhcGUuQm9yZGVyTWFyZ2luVG9wfWVsc2Ugbz1hLXQuUG9zaXRpb25BbmRTaGFwZS5Cb3JkZXJNYXJnaW5Ub3A7dC5Qb3NpdGlvbkFuZFNoYXBlLlJlbGF0aXZlUG9zaXRpb249bmV3IHUuUG9pbnRGMkQoZS54LG8pfXQudXBkYXRlU2t5Qm90dG9tTGluZSgpfWNhbGNHcmFwaGljYWxSZXBldGl0aW9uRW5kaW5nc1JlY3Vyc2l2ZWx5KHQpe31sYXlvdXRTaW5nbGVSZXBldGl0aW9uRW5kaW5nKHQsZSxpLHMsbixyKXt9Y2FsY3VsYXRlTGFiZWwodCxlLGkscyxuLHIsbz1tLlRleHRBbGlnbm1lbnRFbnVtLkNlbnRlckJvdHRvbSl7Y29uc3QgYT1uZXcgdy5MYWJlbChpLG8pO2EuZm9udFN0eWxlPXMsYS5mb250SGVpZ2h0PXI7Y29uc3QgaD1uZXcgZi5HcmFwaGljYWxMYWJlbChhLHIsYS50ZXh0QWxpZ25tZW50LHRoaXMucnVsZXMsdC5Qb3NpdGlvbkFuZFNoYXBlKTtuPT09VC5QbGFjZW1lbnRFbnVtLkJlbG93JiYoaC5MYWJlbC50ZXh0QWxpZ25tZW50PW0uVGV4dEFsaWdubWVudEVudW0uTGVmdFRvcCksaC5zZXRMYWJlbFBvc2l0aW9uQW5kU2hhcGVCb3JkZXJzKCksaC5Qb3NpdGlvbkFuZFNoYXBlLkJvcmRlck1hcmdpbkJvdHRvbSo9MS4xLGguUG9zaXRpb25BbmRTaGFwZS5Cb3JkZXJNYXJnaW5Ub3AqPTEuMSxoLlBvc2l0aW9uQW5kU2hhcGUuQm9yZGVyTWFyZ2luTGVmdCo9MS4xLGguUG9zaXRpb25BbmRTaGFwZS5Cb3JkZXJNYXJnaW5SaWdodCo9MS4xO2xldCBsLGM9ZS54K2guUG9zaXRpb25BbmRTaGFwZS5Cb3JkZXJNYXJnaW5MZWZ0LGQ9ZS54K2guUG9zaXRpb25BbmRTaGFwZS5Cb3JkZXJNYXJnaW5SaWdodDtkPnQuUG9zaXRpb25BbmRTaGFwZS5TaXplLndpZHRoJiYoZD10LlBvc2l0aW9uQW5kU2hhcGUuU2l6ZS53aWR0aC10aGlzLnJ1bGVzLk1lYXN1cmVSaWdodE1hcmdpbixjPWQtaC5Qb3NpdGlvbkFuZFNoYXBlLk1hcmdpblNpemUud2lkdGgsZS54PWMtaC5Qb3NpdGlvbkFuZFNoYXBlLkJvcmRlck1hcmdpbkxlZnQpO2NvbnN0IHA9dC5Ta3lCb3R0b21MaW5lQ2FsY3VsYXRvcjtyZXR1cm4gbD1uPT09VC5QbGFjZW1lbnRFbnVtLkJlbG93P3AuZ2V0Qm90dG9tTGluZU1heEluUmFuZ2UoYyxkKTpwLmdldFNreUxpbmVNaW5JblJhbmdlKGMsZCksaC5Qb3NpdGlvbkFuZFNoYXBlLlJlbGF0aXZlUG9zaXRpb249bmV3IHUuUG9pbnRGMkQoZS54LGwpLG49PT1ULlBsYWNlbWVudEVudW0uQmVsb3c/cC51cGRhdGVCb3R0b21MaW5lSW5SYW5nZShjLGQsaC5Qb3NpdGlvbkFuZFNoYXBlLkJvcmRlck1hcmdpbkJvdHRvbStsKTpwLnVwZGF0ZVNreUxpbmVJblJhbmdlKGMsZCxoLlBvc2l0aW9uQW5kU2hhcGUuQm9yZGVyTWFyZ2luVG9wK2wpLGh9Y2FsY3VsYXRlVGVtcG9FeHByZXNzaW9uc0Zvck11bHRpVGVtcG9FeHByZXNzaW9uKHQsZSxpKXtjb25zdCBzPXIuRnJhY3Rpb24ucGx1cyh0LkFic29sdXRlVGltZXN0YW1wLGUuVGltZXN0YW1wKSxuPXRoaXMuZ3JhcGhpY2FsTXVzaWNTaGVldC5NZWFzdXJlTGlzdFtpXTtsZXQgbz1uZXcgdS5Qb2ludEYyRDtpZihlLkNvbnRpbnVvdXNUZW1wb3x8ZS5JbnN0YW50YW5lb3VzVGVtcG8pe2lmKHRoaXMucnVsZXMuTWluTWVhc3VyZVRvRHJhd0luZGV4PjApcmV0dXJuO2xldCB0PW5bMF0uUGFyZW50U3RhZmZMaW5lLGk9blswXS5Qb3NpdGlvbkFuZFNoYXBlLlJlbGF0aXZlUG9zaXRpb24ueCxyPTA7Zm9yKGxldCBlPTA7ZTxuLmxlbmd0aDtlKyspaWYobltlXS5QYXJlbnRTdGFmZkxpbmUmJjAhPT1uW2VdLlBhcmVudFN0YWZmTGluZS5NZWFzdXJlcy5sZW5ndGgmJm5bZV0uUGFyZW50U3RhZmZMaW5lLk1lYXN1cmVzLmxlbmd0aD4wKXt0PW5bZV0uUGFyZW50U3RhZmZMaW5lLGk9bltlXS5Qb3NpdGlvbkFuZFNoYXBlLlJlbGF0aXZlUG9zaXRpb24ueCxyPWU7YnJlYWt9aWYobz10aGlzLmdldFJlbGF0aXZlUG9zaXRpb25JblN0YWZmTGluZUZyb21UaW1lc3RhbXAocyxyLHQsdC5pc1BhcnRPZk11bHRpU3RhZmZJbnN0cnVtZW50KCksaSksZS5FbnRyaWVzTGlzdC5sZW5ndGg+MCYmZS5FbnRyaWVzTGlzdFswXS5FeHByZXNzaW9uIGluc3RhbmNlb2YgTC5JbnN0YW50YW5lb3VzVGVtcG9FeHByZXNzaW9uKXtpZihlLkVudHJpZXNMaXN0WzBdLkV4cHJlc3Npb24uUGxhY2VtZW50PVQuUGxhY2VtZW50RW51bS5BYm92ZSx0Lk1lYXN1cmVzWzBdLnN0YWZmRW50cmllcy5sZW5ndGg+MCYmMD09PU1hdGguYWJzKG8ueC10Lk1lYXN1cmVzWzBdLnN0YWZmRW50cmllc1swXS5Qb3NpdGlvbkFuZFNoYXBlLlJlbGF0aXZlUG9zaXRpb24ueCkmJnQuUGFyZW50TXVzaWNTeXN0ZW09PT10aGlzLm11c2ljU3lzdGVtc1swXSl7Y29uc3QgZT10Lk1lYXN1cmVzWzBdLkZpcnN0SW5zdHJ1Y3Rpb25TdGFmZkVudHJ5O2lmKGUpe2NvbnN0IHQ9ZS5HcmFwaGljYWxJbnN0cnVjdGlvbnMubGFzdCgpO28ueD10LlBvc2l0aW9uQW5kU2hhcGUuUmVsYXRpdmVQb3NpdGlvbi54fXRoaXMucnVsZXMuQ29tcGFjdE1vZGUmJihvLng9dC5Qb3NpdGlvbkFuZFNoYXBlLlJlbGF0aXZlUG9zaXRpb24ueCt0Lk1lYXN1cmVzWzBdLlBvc2l0aW9uQW5kU2hhcGUuUmVsYXRpdmVQb3NpdGlvbi54KX19Zm9yKGNvbnN0IGkgb2YgZS5FbnRyaWVzTGlzdCl7bGV0IHM9bS5UZXh0QWxpZ25tZW50RW51bS5DZW50ZXJCb3R0b207dGhpcy5ydWxlcy5Db21wYWN0TW9kZSYmKHM9bS5UZXh0QWxpZ25tZW50RW51bS5MZWZ0Qm90dG9tKTtjb25zdCBuPXRoaXMuY2FsY3VsYXRlTGFiZWwodCxvLGkubGFiZWwsZS5nZXRGb250c3R5bGVPZkZpcnN0RW50cnkoKSxpLkV4cHJlc3Npb24uUGxhY2VtZW50LHRoaXMucnVsZXMuVW5rbm93blRleHRIZWlnaHQscyk7aWYoaS5FeHByZXNzaW9uIGluc3RhbmNlb2YgTC5JbnN0YW50YW5lb3VzVGVtcG9FeHByZXNzaW9uKXtmb3IoY29uc3QgZSBvZiB0LkFic3RyYWN0RXhwcmVzc2lvbnMpZSBpbnN0YW5jZW9mIFAuR3JhcGhpY2FsSW5zdGFudGFuZW91c1RlbXBvRXhwcmVzc2lvbiYmKGUuU291cmNlRXhwcmVzc2lvbi5MYWJlbCxpLkV4cHJlc3Npb24uTGFiZWwpO2lmKG5ldyBQLkdyYXBoaWNhbEluc3RhbnRhbmVvdXNUZW1wb0V4cHJlc3Npb24oaS5FeHByZXNzaW9uLG4pLlBhcmVudFN0YWZmTGluZXx8RS5kZWZhdWx0Lndhcm4oXCJBZGRpbmcgc3RhZmZsaW5lIGRpZG4ndCB3b3JrXCIpLHRoaXMucnVsZXMuTWV0cm9ub21lTWFya3NEcmF3biYmaS5FeHByZXNzaW9uLkVudW09PT1MLlRlbXBvRW51bS5tZXRyb25vbWVNYXJrKXt0aGlzLmNyZWF0ZU1ldHJvbm9tZU1hcmsoaS5FeHByZXNzaW9uKTtjb250aW51ZX19ZWxzZSBpLkV4cHJlc3Npb24sQS5Db250aW51b3VzVGVtcG9FeHByZXNzaW9ufX19Y3JlYXRlTWV0cm9ub21lTWFyayh0KXt0aHJvdyBuZXcgRXJyb3IoXCJhYnN0cmFjdCwgbm90IGltcGxlbWVudGVkXCIpfWdyYXBoaWNhbE1lYXN1cmVDcmVhdGVkQ2FsY3VsYXRpb25zKHQpe31jbGVhclN5c3RlbXNBbmRNZWFzdXJlcygpe2ZvcihsZXQgdD0wLGU9dGhpcy5ncmFwaGljYWxNdXNpY1NoZWV0Lk11c2ljUGFnZXMubGVuZ3RoO3Q8ZTsrK3Qpe2NvbnN0IGU9dGhpcy5ncmFwaGljYWxNdXNpY1NoZWV0Lk11c2ljUGFnZXNbdF07Zm9yKGxldCB0PTAsaT1lLk11c2ljU3lzdGVtcy5sZW5ndGg7dDxpOysrdCl7Y29uc3QgaT1lLk11c2ljU3lzdGVtc1t0XTtmb3IobGV0IHQ9MCxlPWkuU3RhZmZMaW5lcy5sZW5ndGg7dDxlOysrdCl7Y29uc3QgZT1pLlN0YWZmTGluZXNbdF07Zm9yKGxldCB0PTAsaT1lLk1lYXN1cmVzLmxlbmd0aDt0PGk7Kyt0KXtjb25zdCBpPWUuTWVhc3VyZXNbdF07aWYoaS5GaXJzdEluc3RydWN0aW9uU3RhZmZFbnRyeSl7Y29uc3QgdD1pLlBvc2l0aW9uQW5kU2hhcGUuQ2hpbGRFbGVtZW50cy5pbmRleE9mKGkuRmlyc3RJbnN0cnVjdGlvblN0YWZmRW50cnkuUG9zaXRpb25BbmRTaGFwZSk7dD4tMSYmaS5Qb3NpdGlvbkFuZFNoYXBlLkNoaWxkRWxlbWVudHMuc3BsaWNlKHQsMSksaS5GaXJzdEluc3RydWN0aW9uU3RhZmZFbnRyeT12b2lkIDAsaS5iZWdpbkluc3RydWN0aW9uc1dpZHRoPTB9aWYoaS5MYXN0SW5zdHJ1Y3Rpb25TdGFmZkVudHJ5KXtjb25zdCB0PWkuUG9zaXRpb25BbmRTaGFwZS5DaGlsZEVsZW1lbnRzLmluZGV4T2YoaS5MYXN0SW5zdHJ1Y3Rpb25TdGFmZkVudHJ5LlBvc2l0aW9uQW5kU2hhcGUpO3Q+LTEmJmkuUG9zaXRpb25BbmRTaGFwZS5DaGlsZEVsZW1lbnRzLnNwbGljZSh0LDEpLGkuTGFzdEluc3RydWN0aW9uU3RhZmZFbnRyeT12b2lkIDAsaS5lbmRJbnN0cnVjdGlvbnNXaWR0aD0wfX1lLk1lYXN1cmVzPVtdLGUuUG9zaXRpb25BbmRTaGFwZS5DaGlsZEVsZW1lbnRzPVtdfWkuU3RhZmZMaW5lcy5sZW5ndGg9MCxpLlBvc2l0aW9uQW5kU2hhcGUuQ2hpbGRFbGVtZW50cz1bXX1lLk11c2ljU3lzdGVtcz1bXSxlLlBvc2l0aW9uQW5kU2hhcGUuQ2hpbGRFbGVtZW50cz1bXX10aGlzLmdyYXBoaWNhbE11c2ljU2hlZXQuTXVzaWNQYWdlcz1bXX1oYW5kbGVWb2ljZUVudHJ5KHQsZSxpLHMsbixyLG8sYSxoLGMpe3QuU3RlbURpcmVjdGlvblhtbCE9PWwuU3RlbURpcmVjdGlvblR5cGUuVW5kZWZpbmVkJiZ0aGlzLnJ1bGVzLlNldFdhbnRlZFN0ZW1EaXJlY3Rpb25CeVhtbCYmdm9pZCAwIT09dC5TdGVtRGlyZWN0aW9uWG1sP3QuV2FudGVkU3RlbURpcmVjdGlvbj10LlN0ZW1EaXJlY3Rpb25YbWw6dGhpcy5jYWxjdWxhdGVTdGVtRGlyZWN0aW9uRnJvbVZvaWNlcyh0KTtjb25zdCB1PWUuZmluZE9yQ3JlYXRlR3JhcGhpY2FsVm9pY2VFbnRyeSh0KTt1Lm9jdGF2ZVNoaWZ0VmFsdWU9YTtjb25zdCBkPWUudGFiU3RhZmZFbnRyeTtsZXQgZjtkJiYoZj1kLmZpbmRPckNyZWF0ZUdyYXBoaWNhbFZvaWNlRW50cnkodCkpO2ZvcihsZXQgcz0wLGw9dC5Ob3Rlcy5sZW5ndGg7czxsOysrcyl7Y29uc3QgbD10Lk5vdGVzW3NdO2lmKCFsKWNvbnRpbnVlO2lmKHZvaWQgMCE9PWMmJnZvaWQgMCE9PWMuTGluayYmdm9pZCAwIT09aCYmaC5pbmRleE9mKGwpPi0xKWNvbnRpbnVlO2xldCBtO2lmKHQuSXNHcmFjZSltPUIuc3ltYm9sRmFjdG9yeS5jcmVhdGVHcmFjZU5vdGUobCx1LG4sYSk7ZWxzZXttPUIuc3ltYm9sRmFjdG9yeS5jcmVhdGVOb3RlKGwsdSxuLGEsdm9pZCAwKTtjb25zdCBlPXQuUGFyZW50U291cmNlU3RhZmZFbnRyeS5QYXJlbnRTdGFmZi5TdGFmZmxpbmVDb3VudDttPUIuc3RhZmZsaW5lTm90ZUNhbGN1bGF0b3IucG9zaXRpb25Ob3RlKG0sbixlKX1pZihsLlBpdGNoJiZ0aGlzLmNoZWNrTm90ZUZvckFjY2lkZW50YWwobSxpLG4sYSksdGhpcy5yZXNldFlQb3NpdGlvbkZvckxlYWRTaGVldChtLlBvc2l0aW9uQW5kU2hhcGUpLGUuYWRkR3JhcGhpY2FsTm90ZVRvTGlzdEF0Q29ycmVjdFlQb3NpdGlvbih1LG0pLG0uUG9zaXRpb25BbmRTaGFwZS5jYWxjdWxhdGVCb3VuZGluZ0JveCgpLHRoaXMubGVhZFNoZWV0fHwodm9pZCAwIT09bC5Ob3RlQmVhbSYmbC5QcmludE9iamVjdCYmdGhpcy5oYW5kbGVCZWFtKG0sbC5Ob3RlQmVhbSxvKSx2b2lkIDAhPT1sLk5vdGVUdXBsZXQmJmwuUHJpbnRPYmplY3QmJnRoaXMuaGFuZGxlVHVwbGV0KG0sbC5Ob3RlVHVwbGV0LHIpKSxmKXtjb25zdCB0PUIuc3ltYm9sRmFjdG9yeS5jcmVhdGVOb3RlKGwsZixuLGEsdm9pZCAwKTtkLmFkZEdyYXBoaWNhbE5vdGVUb0xpc3RBdENvcnJlY3RZUG9zaXRpb24oZix0KSx0LlBvc2l0aW9uQW5kU2hhcGUuY2FsY3VsYXRlQm91bmRpbmdCb3goKSx0aGlzLmxlYWRTaGVldHx8bC5Ob3RlVHVwbGV0JiZ0aGlzLmhhbmRsZVR1cGxldCh0LGwuTm90ZVR1cGxldCxyKX19cmV0dXJuIHQuQXJ0aWN1bGF0aW9ucy5sZW5ndGg+MCYmdGhpcy5oYW5kbGVWb2ljZUVudHJ5QXJ0aWN1bGF0aW9ucyh0LkFydGljdWxhdGlvbnMsdCxlKSx0LlRlY2huaWNhbEluc3RydWN0aW9ucy5sZW5ndGg+MCYmdGhpcy5oYW5kbGVWb2ljZUVudHJ5VGVjaG5pY2FsSW5zdHJ1Y3Rpb25zKHQuVGVjaG5pY2FsSW5zdHJ1Y3Rpb25zLHQsZSksdC5MeXJpY3NFbnRyaWVzLnNpemUoKT4wJiZ0aGlzLmhhbmRsZVZvaWNlRW50cnlMeXJpY3ModCxlLHMpLHQuT3JuYW1lbnRDb250YWluZXImJnRoaXMuaGFuZGxlVm9pY2VFbnRyeU9ybmFtZW50cyh0Lk9ybmFtZW50Q29udGFpbmVyLHQsZSksYX1yZXNldFlQb3NpdGlvbkZvckxlYWRTaGVldCh0KXt0aGlzLmxlYWRTaGVldCYmKHQuUmVsYXRpdmVQb3NpdGlvbj1uZXcgdS5Qb2ludEYyRCh0LlJlbGF0aXZlUG9zaXRpb24ueCwwKSl9bGF5b3V0Vm9pY2VFbnRyaWVzKHQpe2lmKHQuUG9zaXRpb25BbmRTaGFwZS5SZWxhdGl2ZVBvc2l0aW9uPW5ldyB1LlBvaW50RjJEKDAsMCksIXRoaXMubGVhZFNoZWV0KWZvcihjb25zdCBlIG9mIHQuZ3JhcGhpY2FsVm9pY2VFbnRyaWVzKXtjb25zdCBpPWUubm90ZXM7aWYoMD09PWkubGVuZ3RoKWNvbnRpbnVlO2NvbnN0IHM9aVswXS5zb3VyY2VOb3RlLlBhcmVudFZvaWNlRW50cnksbj12b2lkIDAhPT1pWzBdLnNvdXJjZU5vdGUuUGl0Y2g7dGhpcy5sYXlvdXRWb2ljZUVudHJ5KHMsaSx0LG4pfX1tYXhJbnN0ck5hbWVMYWJlbExlbmd0aCgpe2xldCB0PTA7Zm9yKGNvbnN0IGUgb2YgdGhpcy5ncmFwaGljYWxNdXNpY1NoZWV0LlBhcmVudE11c2ljU2hlZXQuSW5zdHJ1bWVudHMpaWYoZS5Wb2ljZXMubGVuZ3RoPjAmJmUuVm9pY2VzWzBdLlZpc2libGUpe2xldCBpPWUuTmFtZUxhYmVsO3RoaXMucnVsZXMuUmVuZGVyUGFydE5hbWVzfHwoaT1uZXcgdy5MYWJlbChcIlwiLGkudGV4dEFsaWdubWVudCxpLmZvbnQpKTtjb25zdCBzPW5ldyBmLkdyYXBoaWNhbExhYmVsKGksdGhpcy5ydWxlcy5JbnN0cnVtZW50TGFiZWxUZXh0SGVpZ2h0LG0uVGV4dEFsaWdubWVudEVudW0uTGVmdENlbnRlcix0aGlzLnJ1bGVzKTtzLnNldExhYmVsUG9zaXRpb25BbmRTaGFwZUJvcmRlcnMoKSx0PU1hdGgubWF4KHQscy5Qb3NpdGlvbkFuZFNoYXBlLk1hcmdpblNpemUud2lkdGgpfXJldHVybiB0aGlzLnJ1bGVzLlJlbmRlclBhcnROYW1lcz90OjB9Y2FsY3VsYXRlU2hlZXRMYWJlbEJvdW5kaW5nQm94ZXMoKXtjb25zdCB0PXRoaXMuZ3JhcGhpY2FsTXVzaWNTaGVldC5QYXJlbnRNdXNpY1NoZWV0LGU9dGhpcy5ydWxlcy5EZWZhdWx0Q29sb3JUaXRsZTtpZih2b2lkIDAhPT10LlRpdGxlJiZ0aGlzLnJ1bGVzLlJlbmRlclRpdGxlKXtjb25zdCBpPW5ldyBmLkdyYXBoaWNhbExhYmVsKHQuVGl0bGUsdGhpcy5ydWxlcy5TaGVldFRpdGxlSGVpZ2h0LG0uVGV4dEFsaWdubWVudEVudW0uQ2VudGVyQm90dG9tLHRoaXMucnVsZXMpO2kuTGFiZWwuY29sb3JEZWZhdWx0PWUsdGhpcy5ncmFwaGljYWxNdXNpY1NoZWV0LlRpdGxlPWksaS5zZXRMYWJlbFBvc2l0aW9uQW5kU2hhcGVCb3JkZXJzKCl9ZWxzZSB0aGlzLnJ1bGVzLlJlbmRlclRpdGxlfHwodGhpcy5ncmFwaGljYWxNdXNpY1NoZWV0LlRpdGxlPXZvaWQgMCk7aWYodm9pZCAwIT09dC5TdWJ0aXRsZSYmdGhpcy5ydWxlcy5SZW5kZXJTdWJ0aXRsZSl7Y29uc3QgaT1uZXcgZi5HcmFwaGljYWxMYWJlbCh0LlN1YnRpdGxlLHRoaXMucnVsZXMuU2hlZXRTdWJ0aXRsZUhlaWdodCxtLlRleHRBbGlnbm1lbnRFbnVtLkNlbnRlckNlbnRlcix0aGlzLnJ1bGVzKTtpLkxhYmVsLmNvbG9yRGVmYXVsdD1lLHRoaXMuZ3JhcGhpY2FsTXVzaWNTaGVldC5TdWJ0aXRsZT1pLGkuc2V0TGFiZWxQb3NpdGlvbkFuZFNoYXBlQm9yZGVycygpfWVsc2UgdGhpcy5ydWxlcy5SZW5kZXJTdWJ0aXRsZXx8KHRoaXMuZ3JhcGhpY2FsTXVzaWNTaGVldC5TdWJ0aXRsZT12b2lkIDApO2lmKHZvaWQgMCE9PXQuQ29tcG9zZXImJnRoaXMucnVsZXMuUmVuZGVyQ29tcG9zZXIpe2NvbnN0IGk9bmV3IGYuR3JhcGhpY2FsTGFiZWwodC5Db21wb3Nlcix0aGlzLnJ1bGVzLlNoZWV0Q29tcG9zZXJIZWlnaHQsbS5UZXh0QWxpZ25tZW50RW51bS5SaWdodENlbnRlcix0aGlzLnJ1bGVzKTtpLkxhYmVsLmNvbG9yRGVmYXVsdD1lLHRoaXMuZ3JhcGhpY2FsTXVzaWNTaGVldC5Db21wb3Nlcj1pLGkuc2V0TGFiZWxQb3NpdGlvbkFuZFNoYXBlQm9yZGVycygpfWVsc2UgdGhpcy5ydWxlcy5SZW5kZXJDb21wb3Nlcnx8KHRoaXMuZ3JhcGhpY2FsTXVzaWNTaGVldC5Db21wb3Nlcj12b2lkIDApO2lmKHZvaWQgMCE9PXQuTHlyaWNpc3QmJnRoaXMucnVsZXMuUmVuZGVyTHlyaWNpc3Qpe2NvbnN0IGk9bmV3IGYuR3JhcGhpY2FsTGFiZWwodC5MeXJpY2lzdCx0aGlzLnJ1bGVzLlNoZWV0QXV0aG9ySGVpZ2h0LG0uVGV4dEFsaWdubWVudEVudW0uTGVmdENlbnRlcix0aGlzLnJ1bGVzKTtpLkxhYmVsLmNvbG9yRGVmYXVsdD1lLHRoaXMuZ3JhcGhpY2FsTXVzaWNTaGVldC5MeXJpY2lzdD1pLGkuc2V0TGFiZWxQb3NpdGlvbkFuZFNoYXBlQm9yZGVycygpfWVsc2UgdGhpcy5ydWxlcy5SZW5kZXJMeXJpY2lzdHx8KHRoaXMuZ3JhcGhpY2FsTXVzaWNTaGVldC5MeXJpY2lzdD12b2lkIDApfWNoZWNrTWVhc3VyZXNGb3JXaG9sZVJlc3ROb3Rlcygpe2ZvcihsZXQgdD0wLGU9dGhpcy5tdXNpY1N5c3RlbXMubGVuZ3RoO3Q8ZTsrK3Qpe2NvbnN0IGU9dGhpcy5tdXNpY1N5c3RlbXNbdF07Zm9yKGxldCB0PTAsaT1lLlN0YWZmTGluZXMubGVuZ3RoO3Q8aTsrK3Qpe2NvbnN0IGk9ZS5TdGFmZkxpbmVzW3RdO2ZvcihsZXQgdD0wLGU9aS5NZWFzdXJlcy5sZW5ndGg7dDxlOysrdCl7Y29uc3QgZT1pLk1lYXN1cmVzW3RdO2lmKDE9PT1lLnN0YWZmRW50cmllcy5sZW5ndGgpe2NvbnN0IHQ9ZS5zdGFmZkVudHJpZXNbMF07aWYodC5ncmFwaGljYWxWb2ljZUVudHJpZXMubGVuZ3RoPjAmJjE9PT10LmdyYXBoaWNhbFZvaWNlRW50cmllc1swXS5ub3Rlcy5sZW5ndGgpe2NvbnN0IGk9dC5ncmFwaGljYWxWb2ljZUVudHJpZXNbMF0ubm90ZXNbMF07IWkuc291cmNlTm90ZS5QaXRjaCYmbmV3IHIuRnJhY3Rpb24oMSwyKS5sdChpLnNvdXJjZU5vdGUuTGVuZ3RoKSYmdGhpcy5sYXlvdXRNZWFzdXJlV2l0aFdob2xlUmVzdChpLHQsZSl9fX19fX1vcHRpbWl6ZVJlc3ROb3RlUGxhY2VtZW50KHQsZSl7aWYoMD09PXQuZ3JhcGhpY2FsVm9pY2VFbnRyaWVzLmxlbmd0aClyZXR1cm47Y29uc3QgaT10LmdyYXBoaWNhbFZvaWNlRW50cmllc1swXS5ub3RlcztpZigwPT09aS5sZW5ndGgpcmV0dXJuO2NvbnN0IHM9aVswXSxuPXMuc291cmNlTm90ZS5pc1Jlc3QoKTtpZigyPT09dC5ncmFwaGljYWxWb2ljZUVudHJpZXMubGVuZ3RoKXtsZXQgZT0hMTtjb25zdCBpPXQuZ3JhcGhpY2FsVm9pY2VFbnRyaWVzWzFdLm5vdGVzO2lmKGkubGVuZ3RoPjApe2U9aVswXS5zb3VyY2VOb3RlLmlzUmVzdCgpfW4mJmU/dGhpcy5jYWxjdWxhdGVUd29SZXN0Tm90ZXNQbGFjZW1lbnRXaXRoQ29sbGlzaW9uRGV0ZWN0aW9uKHQpOihufHxlKSYmdGhpcy5jYWxjdWxhdGVSZXN0Tm90ZVBsYWNlbWVudFdpdGhDb2xsaXNpb25EZXRlY3Rpb25Gcm9tR3JhcGhpY2FsTm90ZSh0KX1lbHNlIGlmKG4mJnQhPT1lLnN0YWZmRW50cmllc1swXSYmdCE9PWUuc3RhZmZFbnRyaWVzW2Uuc3RhZmZFbnRyaWVzLmxlbmd0aC0xXSl7Y29uc3QgaT1lLnN0YWZmRW50cmllcy5pbmRleE9mKHQpLG49ZS5zdGFmZkVudHJpZXNbaS0xXSxyPWUuc3RhZmZFbnRyaWVzW2krMV07aWYoMT09PW4uZ3JhcGhpY2FsVm9pY2VFbnRyaWVzLmxlbmd0aCl7Y29uc3QgZT1uLmdyYXBoaWNhbFZvaWNlRW50cmllc1swXS5ub3Rlc1swXTtpZih2b2lkIDAhPT1lLnNvdXJjZU5vdGUuTm90ZUJlYW0mJjE9PT1yLmdyYXBoaWNhbFZvaWNlRW50cmllcy5sZW5ndGgpe2NvbnN0IGk9ci5ncmFwaGljYWxWb2ljZUVudHJpZXNbMF0ubm90ZXNbMF07dm9pZCAwIT09aS5zb3VyY2VOb3RlLk5vdGVCZWFtJiZlLnNvdXJjZU5vdGUuTm90ZUJlYW09PT1pLnNvdXJjZU5vdGUuTm90ZUJlYW0mJih0aGlzLmNhbGN1bGF0ZVJlc3ROb3RlUGxhY2VtZW50V2l0aGluR3JhcGhpY2FsQmVhbSh0LHMsZSxyLGkpLHQuUG9zaXRpb25BbmRTaGFwZS5jYWxjdWxhdGVCb3VuZGluZ0JveCgpKX19fX1nZXRSZWxhdGl2ZVBvc2l0aW9uSW5TdGFmZkxpbmVGcm9tVGltZXN0YW1wKHQsZSxpLHMsbj0wKXtsZXQgbz1uZXcgdS5Qb2ludEYyRCxhPXZvaWQgMCxoPXZvaWQgMDtjb25zdCBsPXRoaXMuZ3JhcGhpY2FsTXVzaWNTaGVldC5WZXJ0aWNhbEdyYXBoaWNhbFN0YWZmRW50cnlDb250YWluZXJzLmxlbmd0aCxjPXRoaXMuZ3JhcGhpY2FsTXVzaWNTaGVldC5HZXRJbnRlcnBvbGF0ZWRJbmRleEluVmVydGljYWxDb250YWluZXJzKHQpLGQ9TWF0aC5taW4oTWF0aC5mbG9vcihjKSxsLTEpLGY9TWF0aC5taW4oTWF0aC5jZWlsKGMpLGwtMSk7aWYoZDwwfHxlPDApcmV0dXJuIG87aWYoYT10aGlzLmdldEZpcnN0TGVmdE5vdE51bGxTdGFmZkVudHJ5RnJvbUNvbnRhaW5lcihkLGUscyksaD10aGlzLmdldEZpcnN0UmlnaHROb3ROdWxsU3RhZmZFbnRyeUZyb21Db250YWluZXIoZixlLHMpLGEmJmgpe2xldCBlPWEucGFyZW50TWVhc3VyZS5Qb3NpdGlvbkFuZFNoYXBlLlJlbGF0aXZlUG9zaXRpb24ueDtuPjAmJihlPW4pO2xldCBzPWEuUG9zaXRpb25BbmRTaGFwZS5SZWxhdGl2ZVBvc2l0aW9uLngrZSxsPWguUG9zaXRpb25BbmRTaGFwZS5SZWxhdGl2ZVBvc2l0aW9uLngraC5wYXJlbnRNZWFzdXJlLlBvc2l0aW9uQW5kU2hhcGUuUmVsYXRpdmVQb3NpdGlvbi54O24+MCYmKGw9aC5Qb3NpdGlvbkFuZFNoYXBlLlJlbGF0aXZlUG9zaXRpb24ueCtlKTtsZXQgYz0wO2lmKGEhPT1oKXtjb25zdCBlPWEuZ2V0QWJzb2x1dGVUaW1lc3RhbXAoKSxpPWguZ2V0QWJzb2x1dGVUaW1lc3RhbXAoKTtjPXIuRnJhY3Rpb24ubWludXModCxlKS5SZWFsVmFsdWUvci5GcmFjdGlvbi5taW51cyhpLGUpLlJlYWxWYWx1ZX1hLnBhcmVudE1lYXN1cmUuUGFyZW50U3RhZmZMaW5lIT09aC5wYXJlbnRNZWFzdXJlLlBhcmVudFN0YWZmTGluZSYmKGEucGFyZW50TWVhc3VyZS5QYXJlbnRTdGFmZkxpbmU9PT1pP2w9aS5Qb3NpdGlvbkFuZFNoYXBlLlNpemUud2lkdGg6cz1pLlBvc2l0aW9uQW5kU2hhcGUuUmVsYXRpdmVQb3NpdGlvbi54KSxvPW5ldyB1LlBvaW50RjJEKHMrKGwtcykqYywwKX1yZXR1cm4gb31nZXRSZWxhdGl2ZVhQb3NpdGlvbkZyb21UaW1lc3RhbXAodCl7Y29uc3QgZT10aGlzLmdyYXBoaWNhbE11c2ljU2hlZXQuVmVydGljYWxHcmFwaGljYWxTdGFmZkVudHJ5Q29udGFpbmVycy5sZW5ndGgsaT10aGlzLmdyYXBoaWNhbE11c2ljU2hlZXQuR2V0SW50ZXJwb2xhdGVkSW5kZXhJblZlcnRpY2FsQ29udGFpbmVycyh0KSxzPU1hdGgubWF4KDAsTWF0aC5taW4oTWF0aC5yb3VuZChpKSxlLTEpKSxuPXRoaXMuZ3JhcGhpY2FsTXVzaWNTaGVldC5WZXJ0aWNhbEdyYXBoaWNhbFN0YWZmRW50cnlDb250YWluZXJzW3NdLmdldEZpcnN0Tm9uTnVsbFN0YWZmRW50cnkoKTtyZXR1cm4gbi5Qb3NpdGlvbkFuZFNoYXBlLlJlbGF0aXZlUG9zaXRpb24ueCtuLnBhcmVudE1lYXN1cmUuUG9zaXRpb25BbmRTaGFwZS5SZWxhdGl2ZVBvc2l0aW9uLnh9Y2FsY3VsYXRlUGFnZUxhYmVscyh0KXt0aGlzLnJ1bGVzLlJlbmRlclNpbmdsZUhvcml6b250YWxTdGFmZmxpbmUmJih0LlBvc2l0aW9uQW5kU2hhcGUuQm9yZGVyUmlnaHQ9dC5Qb3NpdGlvbkFuZFNoYXBlLlNpemUud2lkdGgsdC5Qb3NpdGlvbkFuZFNoYXBlLmNhbGN1bGF0ZUJvdW5kaW5nQm94KCksdGhpcy5ncmFwaGljYWxNdXNpY1NoZWV0LlBhcmVudE11c2ljU2hlZXQucGFnZVdpZHRoPXQuUG9zaXRpb25BbmRTaGFwZS5TaXplLndpZHRoKTtsZXQgZT0xMDtpZih0Lk11c2ljU3lzdGVtcy5sZW5ndGg+MCl7Y29uc3QgaT10Lk11c2ljU3lzdGVtc1swXTtlPWkuUG9zaXRpb25BbmRTaGFwZS5SZWxhdGl2ZVBvc2l0aW9uLnkraS5Qb3NpdGlvbkFuZFNoYXBlLkJvcmRlclRvcH1pZih0aGlzLmdyYXBoaWNhbE11c2ljU2hlZXQuVGl0bGUpe2NvbnN0IGU9dGhpcy5ncmFwaGljYWxNdXNpY1NoZWV0LlRpdGxlO2UuUG9zaXRpb25BbmRTaGFwZS5QYXJlbnQ9dC5Qb3NpdGlvbkFuZFNoYXBlO2NvbnN0IGk9bmV3IHUuUG9pbnRGMkQ7aS54PXRoaXMuZ3JhcGhpY2FsTXVzaWNTaGVldC5QYXJlbnRNdXNpY1NoZWV0LnBhZ2VXaWR0aC8yLGkueT10aGlzLnJ1bGVzLlRpdGxlVG9wRGlzdGFuY2UrdGhpcy5ydWxlcy5TaGVldFRpdGxlSGVpZ2h0LGUuUG9zaXRpb25BbmRTaGFwZS5SZWxhdGl2ZVBvc2l0aW9uPWksdC5MYWJlbHMucHVzaChlKX1pZih0aGlzLmdyYXBoaWNhbE11c2ljU2hlZXQuU3VidGl0bGUpe2NvbnN0IGU9dGhpcy5ncmFwaGljYWxNdXNpY1NoZWV0LlN1YnRpdGxlO2UuUG9zaXRpb25BbmRTaGFwZS5QYXJlbnQ9dC5Qb3NpdGlvbkFuZFNoYXBlO2NvbnN0IGk9bmV3IHUuUG9pbnRGMkQ7aS54PXRoaXMuZ3JhcGhpY2FsTXVzaWNTaGVldC5QYXJlbnRNdXNpY1NoZWV0LnBhZ2VXaWR0aC8yLGkueT10aGlzLnJ1bGVzLlRpdGxlVG9wRGlzdGFuY2UrdGhpcy5ydWxlcy5TaGVldFRpdGxlSGVpZ2h0K3RoaXMucnVsZXMuU2hlZXRNaW5pbXVtRGlzdGFuY2VCZXR3ZWVuVGl0bGVBbmRTdWJ0aXRsZSxlLlBvc2l0aW9uQW5kU2hhcGUuUmVsYXRpdmVQb3NpdGlvbj1pLHQuTGFiZWxzLnB1c2goZSl9Y29uc3QgaT10aGlzLmdyYXBoaWNhbE11c2ljU2hlZXQuQ29tcG9zZXI7aWYoaSl7aS5Qb3NpdGlvbkFuZFNoYXBlLlBhcmVudD10LlBvc2l0aW9uQW5kU2hhcGUsaS5zZXRMYWJlbFBvc2l0aW9uQW5kU2hhcGVCb3JkZXJzKCk7Y29uc3Qgcz1uZXcgdS5Qb2ludEYyRDtzLng9dGhpcy5ncmFwaGljYWxNdXNpY1NoZWV0LlBhcmVudE11c2ljU2hlZXQucGFnZVdpZHRoLXRoaXMucnVsZXMuUGFnZVJpZ2h0TWFyZ2luLHMueT1lLXRoaXMucnVsZXMuU3lzdGVtQ29tcG9zZXJEaXN0YW5jZSxpLlBvc2l0aW9uQW5kU2hhcGUuUmVsYXRpdmVQb3NpdGlvbj1zLHQuTGFiZWxzLnB1c2goaSl9Y29uc3Qgcz10aGlzLmdyYXBoaWNhbE11c2ljU2hlZXQuTHlyaWNpc3Q7aWYocyl7cy5Qb3NpdGlvbkFuZFNoYXBlLlBhcmVudD10LlBvc2l0aW9uQW5kU2hhcGUscy5zZXRMYWJlbFBvc2l0aW9uQW5kU2hhcGVCb3JkZXJzKCk7Y29uc3QgaT1uZXcgdS5Qb2ludEYyRDtpLng9dGhpcy5ydWxlcy5QYWdlTGVmdE1hcmdpbixpLnk9ZS10aGlzLnJ1bGVzLlN5c3RlbUNvbXBvc2VyRGlzdGFuY2Uscy5Qb3NpdGlvbkFuZFNoYXBlLlJlbGF0aXZlUG9zaXRpb249aSx0LkxhYmVscy5wdXNoKHMpfX1jcmVhdGVHcmFwaGljYWxUaWVzKCl7Zm9yKGxldCB0PTA7dDx0aGlzLmdyYXBoaWNhbE11c2ljU2hlZXQuUGFyZW50TXVzaWNTaGVldC5Tb3VyY2VNZWFzdXJlcy5sZW5ndGg7dCsrKXtjb25zdCBlPXRoaXMuZ3JhcGhpY2FsTXVzaWNTaGVldC5QYXJlbnRNdXNpY1NoZWV0LlNvdXJjZU1lYXN1cmVzW3RdO2ZvcihsZXQgaT0wO2k8ZS5Db21wbGV0ZU51bWJlck9mU3RhdmVzO2krKylmb3IobGV0IHM9MDtzPGUuVmVydGljYWxTb3VyY2VTdGFmZkVudHJ5Q29udGFpbmVycy5sZW5ndGg7cysrKXtjb25zdCBuPWUuVmVydGljYWxTb3VyY2VTdGFmZkVudHJ5Q29udGFpbmVyc1tzXS5TdGFmZkVudHJpZXNbaV07aWYobil7Y29uc3QgZT10aGlzLmdyYXBoaWNhbE11c2ljU2hlZXQuZmluZEdyYXBoaWNhbFN0YWZmRW50cnlGcm9tTWVhc3VyZUxpc3QoaSx0LG4pO2ZvcihsZXQgcz0wLHI9bi5Wb2ljZUVudHJpZXMubGVuZ3RoO3M8cjsrK3Mpe2NvbnN0IHI9bi5Wb2ljZUVudHJpZXNbc107Zm9yKGxldCBzPTAsbj1yLk5vdGVzLmxlbmd0aDtzPG47KytzKXtjb25zdCBuPXIuTm90ZXNbc107aWYobi5Ob3RlVGllKXtjb25zdCBzPW4uTm90ZVRpZTt0aGlzLmhhbmRsZVRpZShzLGUsaSx0KX19fX19fX1oYW5kbGVUaWUodCxlLGkscyl7bGV0IG49ZSxyPW4uZmluZEVuZFRpZUdyYXBoaWNhbE5vdGVGcm9tTm90ZSh0LlN0YXJ0Tm90ZSksbz12b2lkIDAsYT12b2lkIDA7Zm9yKGxldCBlPTE7ZTx0Lk5vdGVzLmxlbmd0aDtlKyspaWYocj1uLmZpbmRFbmRUaWVHcmFwaGljYWxOb3RlRnJvbU5vdGUodC5Ob3Rlc1tlLTFdKSxvPXRoaXMuZ3JhcGhpY2FsTXVzaWNTaGVldC5HZXRHcmFwaGljYWxGcm9tU291cmNlU3RhZmZFbnRyeSh0Lk5vdGVzW2VdLlBhcmVudFN0YWZmRW50cnkpLG8pe2lmKGE9by5maW5kRW5kVGllR3JhcGhpY2FsTm90ZUZyb21Ob3RlKHQuTm90ZXNbZV0pLHZvaWQgMCE9PXImJnZvaWQgMCE9PWEmJm8pe2lmKCFyLnNvdXJjZU5vdGUuUHJpbnRPYmplY3R8fCFhLnNvdXJjZU5vdGUuUHJpbnRPYmplY3QpY29udGludWU7Y29uc3QgZT10aGlzLmNyZWF0ZUdyYXBoaWNhbFRpZSh0LG4sbyxyLGEpO24uR3JhcGhpY2FsVGllcy5wdXNoKGUpLHRoaXMuc3RhZmZFbnRyaWVzV2l0aEdyYXBoaWNhbFRpZXMuaW5kZXhPZihuKT49MCYmdGhpcy5zdGFmZkVudHJpZXNXaXRoR3JhcGhpY2FsVGllcy5wdXNoKG4pfW49b319Y3JlYXRlQWNjaWRlbnRhbENhbGN1bGF0b3JzKCl7Y29uc3QgdD1bXSxlPXRoaXMuZ3JhcGhpY2FsTXVzaWNTaGVldC5QYXJlbnRNdXNpY1NoZWV0LmdldEZpcnN0U291cmNlTWVhc3VyZSgpO2lmKGUpZm9yKGxldCBpPTA7aTxlLkNvbXBsZXRlTnVtYmVyT2ZTdGF2ZXM7aSsrKXtjb25zdCBzPW5ldyB5LkFjY2lkZW50YWxDYWxjdWxhdG9yO2lmKHQucHVzaChzKSxlLkZpcnN0SW5zdHJ1Y3Rpb25zU3RhZmZFbnRyaWVzW2ldKWZvcihsZXQgdD0wLG49ZS5GaXJzdEluc3RydWN0aW9uc1N0YWZmRW50cmllc1tpXS5JbnN0cnVjdGlvbnMubGVuZ3RoO3Q8bjsrK3Qpe2NvbnN0IG49ZS5GaXJzdEluc3RydWN0aW9uc1N0YWZmRW50cmllc1tpXS5JbnN0cnVjdGlvbnNbdF07aWYobiBpbnN0YW5jZW9mIHAuS2V5SW5zdHJ1Y3Rpb24pe2NvbnN0IHQ9bjtzLkFjdGl2ZUtleUluc3RydWN0aW9uPXR9fX1yZXR1cm4gdH1jYWxjdWxhdGVWZXJ0aWNhbENvbnRhaW5lcnNMaXN0KCl7Y29uc3QgdD10aGlzLmdyYXBoaWNhbE11c2ljU2hlZXQuTWVhc3VyZUxpc3RbMF0ubGVuZ3RoO2ZvcihsZXQgZT0wO2U8dGhpcy5ncmFwaGljYWxNdXNpY1NoZWV0Lk1lYXN1cmVMaXN0Lmxlbmd0aDtlKyspZm9yKGxldCBpPTA7aTx0O2krKyl7Y29uc3QgdD10aGlzLmdyYXBoaWNhbE11c2ljU2hlZXQuTWVhc3VyZUxpc3RbZV1baV07Zm9yKGxldCBlPTAscz10LnN0YWZmRW50cmllcy5sZW5ndGg7ZTxzOysrZSl7Y29uc3Qgcz10LnN0YWZmRW50cmllc1tlXSxuPXRoaXMuZ3JhcGhpY2FsTXVzaWNTaGVldC5nZXRPckNyZWF0ZVZlcnRpY2FsQ29udGFpbmVyKHMuZ2V0QWJzb2x1dGVUaW1lc3RhbXAoKSk7biYmKG4uU3RhZmZFbnRyaWVzW2ldPXMscy5wYXJlbnRWZXJ0aWNhbENvbnRhaW5lcj1uKX19fXNldEluZGljZXNUb1ZlcnRpY2FsR3JhcGhpY2FsQ29udGFpbmVycygpe2ZvcihsZXQgdD0wO3Q8dGhpcy5ncmFwaGljYWxNdXNpY1NoZWV0LlZlcnRpY2FsR3JhcGhpY2FsU3RhZmZFbnRyeUNvbnRhaW5lcnMubGVuZ3RoO3QrKyl0aGlzLmdyYXBoaWNhbE11c2ljU2hlZXQuVmVydGljYWxHcmFwaGljYWxTdGFmZkVudHJ5Q29udGFpbmVyc1t0XS5JbmRleD10fWNyZWF0ZUdyYXBoaWNhbE1lYXN1cmVzRm9yU291cmNlTWVhc3VyZSh0LGUsaSxzLG4pe3RoaXMuaW5pdEdyYXBoaWNhbE1lYXN1cmVzQ3JlYXRpb24oKTtjb25zdCByPVtdLG89W10sYT1bXSxoPVtdO2ZvcihsZXQgbD0wO2w8dC5Db21wbGV0ZU51bWJlck9mU3RhdmVzO2wrKyl7Y29uc3QgYz10aGlzLmNyZWF0ZUdyYXBoaWNhbE1lYXN1cmUodCxhLG8sZVtsXSxuLHMsaSxsLGgpO3RoaXMuZ3JhcGhpY2FsTWVhc3VyZUNyZWF0ZWRDYWxjdWxhdGlvbnMoYyksci5wdXNoKGMpfXJldHVybiB0LlZlcnRpY2FsTWVhc3VyZUxpc3Q9cixyfWNyZWF0ZUdyYXBoaWNhbE1lYXN1cmUodCxlLGkscyxuLGMsdSxmLG0pe3ZhciBnO2NvbnN0IGI9dGhpcy5ncmFwaGljYWxNdXNpY1NoZWV0LlBhcmVudE11c2ljU2hlZXQuZ2V0U3RhZmZGcm9tSW5kZXgoZik7bGV0IHk9dm9pZCAwO2lmKHZvaWQgMCE9PXRoaXMucnVsZXMuUGVyY3Vzc2lvbk9uZUxpbmVDdXRvZmYmJjAhPT10aGlzLnJ1bGVzLlBlcmN1c3Npb25PbmVMaW5lQ3V0b2ZmJiZuW2ZdLkNsZWZUeXBlPT09YS5DbGVmRW51bS5wZXJjdXNzaW9uJiYoLTE9PT10aGlzLnJ1bGVzLlBlcmN1c3Npb25PbmVMaW5lQ3V0b2ZmfHxiLlBhcmVudEluc3RydW1lbnQuU3ViSW5zdHJ1bWVudHMubGVuZ3RoPHRoaXMucnVsZXMuUGVyY3Vzc2lvbk9uZUxpbmVDdXRvZmYpJiYoYi5TdGFmZmxpbmVDb3VudD0xKSxuW2ZdLkNsZWZUeXBlPT09YS5DbGVmRW51bS5UQUI/KGIuaXNUYWI9ITAseT1CLnN5bWJvbEZhY3RvcnkuY3JlYXRlVGFiU3RhZmZNZWFzdXJlKHQsYikpOnk9Qi5zeW1ib2xGYWN0b3J5LmNyZWF0ZUdyYXBoaWNhbE1lYXN1cmUodCxiKSx5Lmhhc0Vycm9yPXQuZ2V0RXJyb3JJbk1lYXN1cmUoZiksdC5GaXJzdEluc3RydWN0aW9uc1N0YWZmRW50cmllc1tmXSlmb3IobGV0IGU9MCxpPXQuRmlyc3RJbnN0cnVjdGlvbnNTdGFmZkVudHJpZXNbZl0uSW5zdHJ1Y3Rpb25zLmxlbmd0aDtlPGk7KytlKXtjb25zdCBpPXQuRmlyc3RJbnN0cnVjdGlvbnNTdGFmZkVudHJpZXNbZl0uSW5zdHJ1Y3Rpb25zW2VdO2lmKGkgaW5zdGFuY2VvZiBwLktleUluc3RydWN0aW9uKXtjb25zdCB0PXAuS2V5SW5zdHJ1Y3Rpb24uY29weShpKTswIT09dGhpcy5ncmFwaGljYWxNdXNpY1NoZWV0LlBhcmVudE11c2ljU2hlZXQuVHJhbnNwb3NlJiZ5LlBhcmVudFN0YWZmLlBhcmVudEluc3RydW1lbnQuTWlkaUluc3RydW1lbnRJZCE9PXguTWlkaUluc3RydW1lbnQuUGVyY3Vzc2lvbiYmQi50cmFuc3Bvc2VDYWxjdWxhdG9yJiZCLnRyYW5zcG9zZUNhbGN1bGF0b3IudHJhbnNwb3NlS2V5KHQsdGhpcy5ncmFwaGljYWxNdXNpY1NoZWV0LlBhcmVudE11c2ljU2hlZXQuVHJhbnNwb3NlKSxzLkFjdGl2ZUtleUluc3RydWN0aW9uPXR9fWZvcihsZXQgZT0wLGk9dC5TdGFmZkxpbmtlZEV4cHJlc3Npb25zW2ZdLmxlbmd0aDtlPGk7KytlKXtjb25zdCBpPXQuU3RhZmZMaW5rZWRFeHByZXNzaW9uc1tmXVtlXTtpZihpLk9jdGF2ZVNoaWZ0U3RhcnQpe2NvbnN0IGU9aS5PY3RhdmVTaGlmdFN0YXJ0O2xldCBzPW51bGw9PT0oZz1udWxsPT1lP3ZvaWQgMDplLlBhcmVudEVuZE11bHRpRXhwcmVzc2lvbil8fHZvaWQgMD09PWc/dm9pZCAwOmcuQWJzb2x1dGVUaW1lc3RhbXA7aWYoIShudWxsPT1lP3ZvaWQgMDplLlBhcmVudEVuZE11bHRpRXhwcmVzc2lvbikpe3M9ci5GcmFjdGlvbi5wbHVzKHQuQWJzb2x1dGVUaW1lc3RhbXAsdC5EdXJhdGlvbil9Y1tmXT1uZXcgUy5PY3RhdmVTaGlmdFBhcmFtcyhlLG51bGw9PWk/dm9pZCAwOmkuQWJzb2x1dGVUaW1lc3RhbXAscyl9fWZvcihsZXQgcj0wO3I8dC5WZXJ0aWNhbFNvdXJjZVN0YWZmRW50cnlDb250YWluZXJzLmxlbmd0aDtyKyspe2NvbnN0IG89dC5WZXJ0aWNhbFNvdXJjZVN0YWZmRW50cnlDb250YWluZXJzW3JdLlN0YWZmRW50cmllc1tmXTtpZihvKXtmb3IobGV0IHQ9MCxlPW8uSW5zdHJ1Y3Rpb25zLmxlbmd0aDt0PGU7Kyt0KXtjb25zdCBlPW8uSW5zdHJ1Y3Rpb25zW3RdO2UgaW5zdGFuY2VvZiBhLkNsZWZJbnN0cnVjdGlvbiYmKG5bZl09ZSl9Y29uc3QgdD1CLnN5bWJvbEZhY3RvcnkuY3JlYXRlU3RhZmZFbnRyeShvLHkpO3I8eS5zdGFmZkVudHJpZXMubGVuZ3RoP3kuYWRkR3JhcGhpY2FsU3RhZmZFbnRyeUF0VGltZXN0YW1wKHQpOnkuYWRkR3JhcGhpY2FsU3RhZmZFbnRyeSh0KTtjb25zdCBsPVtdO28uTGluayYmKG8uZmluZExpbmtlZE5vdGVzKGwpLHRoaXMuaGFuZGxlU3RhZmZFbnRyeUxpbmsodCxtKSk7bGV0IGQ9aC5PY3RhdmVFbnVtLk5PTkU7Y1tmXSYmY1tmXS5nZXRBYnNvbHV0ZVN0YXJ0VGltZXN0YW1wLmx0ZShvLkFic29sdXRlVGltZXN0YW1wKSYmby5BYnNvbHV0ZVRpbWVzdGFtcC5sdGUoY1tmXS5nZXRBYnNvbHV0ZUVuZFRpbWVzdGFtcCkmJihkPWNbZl0uZ2V0T3Blbk9jdGF2ZVNoaWZ0LlR5cGUpO2ZvcihsZXQgcj0wLGE9by5Wb2ljZUVudHJpZXMubGVuZ3RoO3I8YTsrK3Ipe2NvbnN0IGE9by5Wb2ljZUVudHJpZXNbcl07ZD10aGlzLmhhbmRsZVZvaWNlRW50cnkoYSx0LHMsdSxuW2ZdLGUsaSxkLGwsbyl9aWYoby5JbnN0cnVjdGlvbnMubGVuZ3RoPjApe2NvbnN0IGU9by5JbnN0cnVjdGlvbnNbMF07Qi5zeW1ib2xGYWN0b3J5LmNyZWF0ZUluU3RhZmZDbGVmKHQsZSl9by5DaG9yZENvbnRhaW5lcnMmJm8uQ2hvcmRDb250YWluZXJzLmxlbmd0aD4wJiYoby5QYXJlbnRTdGFmZi5QYXJlbnRJbnN0cnVtZW50Lkhhc0Nob3JkU3ltYm9scz0hMCxCLnN5bWJvbEZhY3RvcnkuY3JlYXRlQ2hvcmRTeW1ib2xzKG8sdCxzLkFjdGl2ZUtleUluc3RydWN0aW9uLHRoaXMuZ3JhcGhpY2FsTXVzaWNTaGVldC5QYXJlbnRNdXNpY1NoZWV0LlRyYW5zcG9zZSkpfX1pZihzLmRvQ2FsY3VsYXRpb25zQXRFbmRPZk1lYXN1cmUoKSx0Lkxhc3RJbnN0cnVjdGlvbnNTdGFmZkVudHJpZXNbZl0pe2NvbnN0IGU9dC5MYXN0SW5zdHJ1Y3Rpb25zU3RhZmZFbnRyaWVzW2ZdO2ZvcihsZXQgdD0wLGk9ZS5JbnN0cnVjdGlvbnMubGVuZ3RoO3Q8aTsrK3Qpe2NvbnN0IGk9ZS5JbnN0cnVjdGlvbnNbdF07aSBpbnN0YW5jZW9mIGEuQ2xlZkluc3RydWN0aW9uJiYobltmXT1pKX19Zm9yKGxldCBlPTAsaT10LlN0YWZmTGlua2VkRXhwcmVzc2lvbnNbZl0ubGVuZ3RoO2U8aTsrK2Upe2NvbnN0IGk9dC5TdGFmZkxpbmtlZEV4cHJlc3Npb25zW2ZdW2VdO3ZvaWQgMCE9PWkuT2N0YXZlU2hpZnRFbmQmJnZvaWQgMCE9PWNbZl0mJmkuT2N0YXZlU2hpZnRFbmQ9PT1jW2ZdLmdldE9wZW5PY3RhdmVTaGlmdCYmKGNbZl09dm9pZCAwKX1mb3IoY29uc3QgdCBvZiB5LnN0YWZmRW50cmllcylmb3IoY29uc3QgZSBvZiB0LmdyYXBoaWNhbFZvaWNlRW50cmllcyl0aGlzLnNldEJlYW1Ob3Rlc1dhbnRlZFN0ZW1EaXJlY3Rpb25zKGUucGFyZW50Vm9pY2VFbnRyeSk7aWYodGhpcy5ydWxlcy5GaWxsRW1wdHlNZWFzdXJlc1dpdGhXaG9sZVJlc3Q+PTEmJjA9PT15LnN0YWZmRW50cmllcy5sZW5ndGgpe2NvbnN0IGU9bmV3IGQuU291cmNlU3RhZmZFbnRyeShuZXcgTS5WZXJ0aWNhbFNvdXJjZVN0YWZmRW50cnlDb250YWluZXIoeS5wYXJlbnRTb3VyY2VNZWFzdXJlLHkucGFyZW50U291cmNlTWVhc3VyZS5BYnNvbHV0ZVRpbWVzdGFtcCx5LnBhcmVudFNvdXJjZU1lYXN1cmUuQ29tcGxldGVOdW1iZXJPZlN0YXZlcyksYiksaT1uZXcgbC5Wb2ljZUVudHJ5KG5ldyByLkZyYWN0aW9uKDAsMSksYi5Wb2ljZXNbMF0sZSkscz1uZXcgby5Ob3RlKGksZSxyLkZyYWN0aW9uLmNyZWF0ZUZyb21GcmFjdGlvbih0LkR1cmF0aW9uKSx2b2lkIDApO3MuUHJpbnRPYmplY3Q9dGhpcy5ydWxlcy5GaWxsRW1wdHlNZWFzdXJlc1dpdGhXaG9sZVJlc3Q9PT1SLkZpbGxFbXB0eU1lYXN1cmVzV2l0aFdob2xlUmVzdHMuWWVzVmlzaWJsZSxpLk5vdGVzLnB1c2gocyk7Y29uc3QgYz1CLnN5bWJvbEZhY3RvcnkuY3JlYXRlU3RhZmZFbnRyeShlLHkpO3kuYWRkR3JhcGhpY2FsU3RhZmZFbnRyeShjKSxjLnJlbEluTWVhc3VyZVRpbWVzdGFtcD1pLlRpbWVzdGFtcDtjb25zdCB1PUIuc3ltYm9sRmFjdG9yeS5jcmVhdGVWb2ljZUVudHJ5KGksYyk7Yy5ncmFwaGljYWxWb2ljZUVudHJpZXMucHVzaCh1KTtsZXQgbT1CLnN5bWJvbEZhY3RvcnkuY3JlYXRlTm90ZShzLHUsbmV3IGEuQ2xlZkluc3RydWN0aW9uLGguT2N0YXZlRW51bS5OT05FLHZvaWQgMCk7Y29uc3QgcD1pLlBhcmVudFNvdXJjZVN0YWZmRW50cnkuUGFyZW50U3RhZmYuU3RhZmZsaW5lQ291bnQ7bT1CLnN0YWZmbGluZU5vdGVDYWxjdWxhdG9yLnBvc2l0aW9uTm90ZShtLG5bZl0scCksdS5ub3Rlcy5wdXNoKG0pfXJldHVybiB5fWNoZWNrTm90ZUZvckFjY2lkZW50YWwodCxlLGkscyl7bGV0IG49dC5zb3VyY2VOb3RlLlBpdGNoO2NvbnN0IHI9dGhpcy5ncmFwaGljYWxNdXNpY1NoZWV0LlBhcmVudE11c2ljU2hlZXQuVHJhbnNwb3NlOzAhPT1yJiZ0LnNvdXJjZU5vdGUuUGFyZW50U3RhZmZFbnRyeS5QYXJlbnRTdGFmZi5QYXJlbnRJbnN0cnVtZW50Lk1pZGlJbnN0cnVtZW50SWQhPT14Lk1pZGlJbnN0cnVtZW50LlBlcmN1c3Npb24mJihuPXQuVHJhbnNwb3NlKGUuQWN0aXZlS2V5SW5zdHJ1Y3Rpb24saSxyLHMpKSx0LnNvdXJjZU5vdGUuaGFsZlRvbmU9bi5nZXRIYWxmVG9uZSgpLGUuY2hlY2tBY2NpZGVudGFsKHQsbil9aGFuZGxlU3RhZmZFbnRyaWVzKCl7Zm9yKGxldCB0PTAsZT10aGlzLmdyYXBoaWNhbE11c2ljU2hlZXQuTWVhc3VyZUxpc3QubGVuZ3RoO3Q8ZTsrK3Qpe2NvbnN0IGU9dGhpcy5ncmFwaGljYWxNdXNpY1NoZWV0Lk1lYXN1cmVMaXN0W3RdO2ZvcihsZXQgdD0wLGk9ZS5sZW5ndGg7dDxpOysrdCl7Y29uc3QgaT1lW3RdO2Zvcihjb25zdCB0IG9mIGkuc3RhZmZFbnRyaWVzKXZvaWQgMCE9PXQucGFyZW50TWVhc3VyZSYmdC5ncmFwaGljYWxWb2ljZUVudHJpZXMubGVuZ3RoPjAmJnQuZ3JhcGhpY2FsVm9pY2VFbnRyaWVzWzBdLm5vdGVzLmxlbmd0aD4wJiYodGhpcy5sYXlvdXRWb2ljZUVudHJpZXModCksdGhpcy5sYXlvdXRTdGFmZkVudHJ5KHQpKX19fWNhbGN1bGF0ZVNreUJvdHRvbUxpbmVzKCl7Zm9yKGNvbnN0IHQgb2YgdGhpcy5tdXNpY1N5c3RlbXMpZm9yKGNvbnN0IGUgb2YgdC5TdGFmZkxpbmVzKWUuU2t5Qm90dG9tTGluZUNhbGN1bGF0b3IuY2FsY3VsYXRlTGluZXMoKX1jYWxjdWxhdGVFeHByZXNzaW9uQWxpZ25lbWVudHMoKXt9Y2FsY3VsYXRlU3RhZmZFbnRyeUFydGljdWxhdGlvbk1hcmtzKCl7Zm9yKGxldCB0PTAsZT10aGlzLm11c2ljU3lzdGVtcy5sZW5ndGg7dDxlOysrdCl7Y29uc3QgZT10aGlzLm11c2ljU3lzdGVtc1t0XTtmb3IobGV0IHQ9MCxpPWUuU3RhZmZMaW5lcy5sZW5ndGg7dDxpOysrdCl7Y29uc3QgaT1lLlN0YWZmTGluZXNbdF07Zm9yKGxldCB0PTAsZT1pLk1lYXN1cmVzLmxlbmd0aDt0PGU7Kyt0KXtjb25zdCBlPWkuTWVhc3VyZXNbdF07Zm9yKGxldCB0PTAsaT1lLnN0YWZmRW50cmllcy5sZW5ndGg7dDxpOysrdCl7Y29uc3QgaT1lLnN0YWZmRW50cmllc1t0XTtmb3IobGV0IHQ9MCxlPWkuc291cmNlU3RhZmZFbnRyeS5Wb2ljZUVudHJpZXMubGVuZ3RoO3Q8ZTsrK3Qpe2NvbnN0IGU9aS5zb3VyY2VTdGFmZkVudHJ5LlZvaWNlRW50cmllc1t0XTtlLkFydGljdWxhdGlvbnMubGVuZ3RoPjAmJnRoaXMubGF5b3V0QXJ0aWN1bGF0aW9uTWFya3MoZS5BcnRpY3VsYXRpb25zLGUsaSl9fX19fX1jYWxjdWxhdGVPcm5hbWVudHMoKXtmb3IobGV0IHQ9MCxlPXRoaXMubXVzaWNTeXN0ZW1zLmxlbmd0aDt0PGU7Kyt0KXtjb25zdCBlPXRoaXMubXVzaWNTeXN0ZW1zW3RdO2ZvcihsZXQgdD0wLGk9ZS5TdGFmZkxpbmVzLmxlbmd0aDt0PGk7Kyt0KXtjb25zdCBpPWUuU3RhZmZMaW5lc1t0XTtmb3IobGV0IHQ9MCxlPWkuTWVhc3VyZXMubGVuZ3RoO3Q8ZTsrK3Qpe2NvbnN0IGU9aS5NZWFzdXJlc1t0XTtmb3IobGV0IHQ9MCxpPWUuc3RhZmZFbnRyaWVzLmxlbmd0aDt0PGk7Kyt0KXtjb25zdCBpPWUuc3RhZmZFbnRyaWVzW3RdO2ZvcihsZXQgdD0wLGU9aS5zb3VyY2VTdGFmZkVudHJ5LlZvaWNlRW50cmllcy5sZW5ndGg7dDxlOysrdCl7Y29uc3QgZT1pLnNvdXJjZVN0YWZmRW50cnkuVm9pY2VFbnRyaWVzW3RdO2lmKGUuT3JuYW1lbnRDb250YWluZXIpe2lmKGUuaGFzVGllKCkmJiFpLnJlbEluTWVhc3VyZVRpbWVzdGFtcC5FcXVhbHMoZS5UaW1lc3RhbXApKWNvbnRpbnVlO3RoaXMubGF5b3V0T3JuYW1lbnQoZS5Pcm5hbWVudENvbnRhaW5lcixlLGkpLC0xPT09dGhpcy5zdGFmZkVudHJpZXNXaXRoT3JuYW1lbnRzLmluZGV4T2YoaSkmJnRoaXMuc3RhZmZFbnRyaWVzV2l0aE9ybmFtZW50cy5wdXNoKGkpfX19fX19fW9wdGltaXplUmVzdFBsYWNlbWVudCgpe2ZvcihsZXQgdD0wLGU9dGhpcy5tdXNpY1N5c3RlbXMubGVuZ3RoO3Q8ZTsrK3Qpe2NvbnN0IGU9dGhpcy5tdXNpY1N5c3RlbXNbdF07Zm9yKGxldCB0PTAsaT1lLlN0YWZmTGluZXMubGVuZ3RoO3Q8aTsrK3Qpe2NvbnN0IGk9ZS5TdGFmZkxpbmVzW3RdO2ZvcihsZXQgdD0wLGU9aS5NZWFzdXJlcy5sZW5ndGg7dDxlOysrdCl7Y29uc3QgZT1pLk1lYXN1cmVzW3RdO2ZvcihsZXQgdD0wLGk9ZS5zdGFmZkVudHJpZXMubGVuZ3RoO3Q8aTsrK3Qpe2NvbnN0IGk9ZS5zdGFmZkVudHJpZXNbdF07dGhpcy5vcHRpbWl6ZVJlc3ROb3RlUGxhY2VtZW50KGksZSl9fX19fWNhbGN1bGF0ZVR3b1Jlc3ROb3Rlc1BsYWNlbWVudFdpdGhDb2xsaXNpb25EZXRlY3Rpb24odCl7Y29uc3QgZT10LmdyYXBoaWNhbFZvaWNlRW50cmllc1swXS5ub3Rlc1swXSxpPXQuZ3JhcGhpY2FsVm9pY2VFbnRyaWVzWzFdLm5vdGVzWzBdO2kuUG9zaXRpb25BbmRTaGFwZS5SZWxhdGl2ZVBvc2l0aW9uPW5ldyB1LlBvaW50RjJEKDAsMi41KSx0LlBvc2l0aW9uQW5kU2hhcGUuY2FsY3VsYXRlQWJzb2x1dGVQb3NpdGlvbnNSZWN1cnNpdmVXaXRob3V0VG9wZWxlbWVudCgpLGUuUG9zaXRpb25BbmRTaGFwZS5jb21wdXRlTm9uT3ZlcmxhcHBpbmdQb3NpdGlvbldpdGhNYXJnaW4odC5Qb3NpdGlvbkFuZFNoYXBlLGIuQ29sRGlyRW51bS5VcCxuZXcgdS5Qb2ludEYyRCgwLGkuUG9zaXRpb25BbmRTaGFwZS5SZWxhdGl2ZVBvc2l0aW9uLnkpKTtjb25zdCBzPWUuUG9zaXRpb25BbmRTaGFwZS5SZWxhdGl2ZVBvc2l0aW9uO3MueS09MSxlLlBvc2l0aW9uQW5kU2hhcGUuUmVsYXRpdmVQb3NpdGlvbj1zLHQuUG9zaXRpb25BbmRTaGFwZS5jYWxjdWxhdGVCb3VuZGluZ0JveCgpfWNhbGN1bGF0ZVJlc3ROb3RlUGxhY2VtZW50V2l0aENvbGxpc2lvbkRldGVjdGlvbkZyb21HcmFwaGljYWxOb3RlKHQpe2xldCBlLGk7dC5ncmFwaGljYWxWb2ljZUVudHJpZXNbMF0ubm90ZXNbMF0uc291cmNlTm90ZS5pc1Jlc3QoKT8oZT10LmdyYXBoaWNhbFZvaWNlRW50cmllc1swXS5ub3Rlc1swXSxpPXQuZ3JhcGhpY2FsVm9pY2VFbnRyaWVzWzFdLm5vdGVzKTooaT10LmdyYXBoaWNhbFZvaWNlRW50cmllc1swXS5ub3RlcyxlPXQuZ3JhcGhpY2FsVm9pY2VFbnRyaWVzWzFdLm5vdGVzWzBdKTtsZXQgcz0hMTt0LlBvc2l0aW9uQW5kU2hhcGUuY2FsY3VsYXRlQWJzb2x1dGVQb3NpdGlvbnNSZWN1cnNpdmVXaXRob3V0VG9wZWxlbWVudCgpO2ZvcihsZXQgdD0wLG49aS5sZW5ndGg7dDxuOysrdCl7Y29uc3Qgbj1pW3RdO2lmKGUuUG9zaXRpb25BbmRTaGFwZS5tYXJnaW5Db2xsaXNpb25EZXRlY3Rpb24obi5Qb3NpdGlvbkFuZFNoYXBlKSl7cz0hMDticmVha319aWYocylpZihlLnNvdXJjZU5vdGUuUGFyZW50Vm9pY2VFbnRyeS5QYXJlbnRWb2ljZSBpbnN0YW5jZW9mIGcuTGlua2VkVm9pY2Upe2NvbnN0IHQ9aVswXS5Qb3NpdGlvbkFuZFNoYXBlLkJvcmRlck1hcmdpbkJvdHRvbStpWzBdLlBvc2l0aW9uQW5kU2hhcGUuUmVsYXRpdmVQb3NpdGlvbi55O2UuUG9zaXRpb25BbmRTaGFwZS5SZWxhdGl2ZVBvc2l0aW9uPW5ldyB1LlBvaW50RjJEKDAsdC1lLlBvc2l0aW9uQW5kU2hhcGUuQm9yZGVyTWFyZ2luVG9wKy41KX1lbHNle2NvbnN0IHQ9aVtpLmxlbmd0aC0xXSxzPXQuUG9zaXRpb25BbmRTaGFwZS5Cb3JkZXJNYXJnaW5Ub3ArdC5Qb3NpdGlvbkFuZFNoYXBlLlJlbGF0aXZlUG9zaXRpb24ueTtpZihpWzBdLnNvdXJjZU5vdGUuUGFyZW50Vm9pY2VFbnRyeS5QYXJlbnRWb2ljZSBpbnN0YW5jZW9mIGcuTGlua2VkVm9pY2UpZS5Qb3NpdGlvbkFuZFNoYXBlLlJlbGF0aXZlUG9zaXRpb249bmV3IHUuUG9pbnRGMkQoMCxzLWUuUG9zaXRpb25BbmRTaGFwZS5Cb3JkZXJNYXJnaW5Cb3R0b20tLjUpO2Vsc2V7Y29uc3QgdD1pWzBdLlBvc2l0aW9uQW5kU2hhcGUuQm9yZGVyTWFyZ2luQm90dG9tK2lbMF0uUG9zaXRpb25BbmRTaGFwZS5SZWxhdGl2ZVBvc2l0aW9uLnk7ZS5Qb3NpdGlvbkFuZFNoYXBlLlJlbGF0aXZlUG9zaXRpb249dDwyP25ldyB1LlBvaW50RjJEKDAsdC1lLlBvc2l0aW9uQW5kU2hhcGUuQm9yZGVyTWFyZ2luVG9wKy41KTpuZXcgdS5Qb2ludEYyRCgwLHMtZS5Qb3NpdGlvbkFuZFNoYXBlLkJvcmRlck1hcmdpbkJvdHRvbS0wKX19dC5Qb3NpdGlvbkFuZFNoYXBlLmNhbGN1bGF0ZUJvdW5kaW5nQm94KCl9Y2FsY3VsYXRlVGllQ3VydmVzKCl7Zm9yKGxldCB0PTAsZT10aGlzLm11c2ljU3lzdGVtcy5sZW5ndGg7dDxlOysrdCl7Y29uc3QgZT10aGlzLm11c2ljU3lzdGVtc1t0XTtmb3IobGV0IHQ9MCxpPWUuU3RhZmZMaW5lcy5sZW5ndGg7dDxpOysrdCl7Y29uc3QgaT1lLlN0YWZmTGluZXNbdF07Zm9yKGxldCB0PTAsZT1pLk1lYXN1cmVzLmxlbmd0aDt0PGU7Kyt0KXtjb25zdCBlPWkuTWVhc3VyZXNbdF07Zm9yKGxldCB0PTAsaT1lLnN0YWZmRW50cmllcy5sZW5ndGg7dDxpOysrdCl7Y29uc3QgaT1lLnN0YWZmRW50cmllc1t0XSxzPWkuR3JhcGhpY2FsVGllcztmb3IobGV0IHQ9MCxlPXMubGVuZ3RoO3Q8ZTsrK3Qpe2NvbnN0IGU9c1t0XTtpZih2b2lkIDAhPT1lLlN0YXJ0Tm90ZSYmZS5TdGFydE5vdGUucGFyZW50Vm9pY2VFbnRyeS5wYXJlbnRTdGFmZkVudHJ5PT09aSl7Y29uc3QgdD1lLlN0YXJ0Tm90ZS5wYXJlbnRWb2ljZUVudHJ5LnBhcmVudFN0YWZmRW50cnkucGFyZW50TWVhc3VyZS5QYXJlbnRTdGFmZkxpbmUhPT1lLkVuZE5vdGUucGFyZW50Vm9pY2VFbnRyeS5wYXJlbnRTdGFmZkVudHJ5LnBhcmVudE1lYXN1cmUuUGFyZW50U3RhZmZMaW5lO3RoaXMubGF5b3V0R3JhcGhpY2FsVGllKGUsdCl9fX19fX19Y2FsY3VsYXRlTHlyaWNzUG9zaXRpb24oKXtjb25zdCB0PW5ldyB2LmRlZmF1bHQ7Zm9yKGxldCB0PTAsZT10aGlzLmdyYXBoaWNhbE11c2ljU2hlZXQuUGFyZW50TXVzaWNTaGVldC5JbnN0cnVtZW50cy5sZW5ndGg7dDxlOysrdCl7Y29uc3QgZT10aGlzLmdyYXBoaWNhbE11c2ljU2hlZXQuUGFyZW50TXVzaWNTaGVldC5JbnN0cnVtZW50c1t0XTtlLkhhc0x5cmljcyYmZS5MeXJpY1ZlcnNlc051bWJlcnMubGVuZ3RoPjAmJmUuTHlyaWNWZXJzZXNOdW1iZXJzLnNvcnQoKX1mb3IobGV0IGU9MCxpPXRoaXMubXVzaWNTeXN0ZW1zLmxlbmd0aDtlPGk7KytlKXtjb25zdCBpPXRoaXMubXVzaWNTeXN0ZW1zW2VdO2ZvcihsZXQgZT0wLHM9aS5TdGFmZkxpbmVzLmxlbmd0aDtlPHM7KytlKXtjb25zdCBzPWkuU3RhZmZMaW5lc1tlXSxuPXRoaXMuY2FsY3VsYXRlU2luZ2xlU3RhZmZMaW5lTHlyaWNzUG9zaXRpb24ocyxzLlBhcmVudFN0YWZmLlBhcmVudEluc3RydW1lbnQuTHlyaWNWZXJzZXNOdW1iZXJzKTt0LnNldFZhbHVlKHMsbiksdGhpcy5jYWxjdWxhdGVMeXJpY3NFeHRlbmRzQW5kRGFzaGVzKHQuZ2V0VmFsdWUocykpfX1mb3IobGV0IGU9MCxpPXRoaXMubXVzaWNTeXN0ZW1zLmxlbmd0aDtlPGk7KytlKXtjb25zdCBpPXRoaXMubXVzaWNTeXN0ZW1zW2VdO2ZvcihsZXQgZT0wLHM9aS5TdGFmZkxpbmVzLmxlbmd0aDtlPHM7KytlKXtjb25zdCBzPWkuU3RhZmZMaW5lc1tlXTt0aGlzLmNhbGN1bGF0ZUx5cmljc0V4dGVuZHNBbmREYXNoZXModC5nZXRWYWx1ZShzKSl9fX1jYWxjdWxhdGVTaW5nbGVMeXJpY1dvcmQodCl7Y29uc3QgZT10LlBhcmVudEx5cmljV29yZCxpPWUuR3JhcGhpY2FsTHlyaWNzRW50cmllcy5pbmRleE9mKHQpO2xldCBzPXZvaWQgMDtpZihpPj0wJiYocz1lLkdyYXBoaWNhbEx5cmljc0VudHJpZXNbaSsxXSksIXMpcmV0dXJuO2NvbnN0IG49dC5TdGFmZkVudHJ5UGFyZW50LnBhcmVudE1lYXN1cmUuUGFyZW50U3RhZmZMaW5lLHI9cy5TdGFmZkVudHJ5UGFyZW50LnBhcmVudE1lYXN1cmUuUGFyZW50U3RhZmZMaW5lLG89dC5TdGFmZkVudHJ5UGFyZW50LGE9cy5TdGFmZkVudHJ5UGFyZW50O2lmKHQuU3RhZmZFbnRyeVBhcmVudC5wYXJlbnRNZWFzdXJlLlBhcmVudFN0YWZmTGluZT09PXMuU3RhZmZFbnRyeVBhcmVudC5wYXJlbnRNZWFzdXJlLlBhcmVudFN0YWZmTGluZSl7Y29uc3QgZT1vLnBhcmVudE1lYXN1cmUuUG9zaXRpb25BbmRTaGFwZS5SZWxhdGl2ZVBvc2l0aW9uLngrby5Qb3NpdGlvbkFuZFNoYXBlLlJlbGF0aXZlUG9zaXRpb24ueCt0LkdyYXBoaWNhbExhYmVsLlBvc2l0aW9uQW5kU2hhcGUuUmVsYXRpdmVQb3NpdGlvbi54K3QuR3JhcGhpY2FsTGFiZWwuUG9zaXRpb25BbmRTaGFwZS5Cb3JkZXJNYXJnaW5SaWdodCxpPWEucGFyZW50TWVhc3VyZS5Qb3NpdGlvbkFuZFNoYXBlLlJlbGF0aXZlUG9zaXRpb24ueCthLlBvc2l0aW9uQW5kU2hhcGUuUmVsYXRpdmVQb3NpdGlvbi54K3QuR3JhcGhpY2FsTGFiZWwuUG9zaXRpb25BbmRTaGFwZS5SZWxhdGl2ZVBvc2l0aW9uLngrcy5HcmFwaGljYWxMYWJlbC5Qb3NpdGlvbkFuZFNoYXBlLkJvcmRlck1hcmdpbkxlZnQscj10LkdyYXBoaWNhbExhYmVsLlBvc2l0aW9uQW5kU2hhcGUuUmVsYXRpdmVQb3NpdGlvbi55O2xldCBoPTE7aS1lPjMqdGhpcy5ydWxlcy5NaW5pbXVtRGlzdGFuY2VCZXR3ZWVuRGFzaGVzJiYoaD1NYXRoLmZsb29yKChpLWUpL3RoaXMucnVsZXMuTWluaW11bURpc3RhbmNlQmV0d2VlbkRhc2hlcyktMSksMT09PWg/dGhpcy5jYWxjdWxhdGVTaW5nbGVEYXNoRm9yTHlyaWNXb3JkKG4sZSxpLHIpOnRoaXMuY2FsY3VsYXRlRGFzaGVzKG4sZSxpLHIpfWVsc2V7Y29uc3QgZT1vLnBhcmVudE1lYXN1cmUuUG9zaXRpb25BbmRTaGFwZS5SZWxhdGl2ZVBvc2l0aW9uLngrby5Qb3NpdGlvbkFuZFNoYXBlLlJlbGF0aXZlUG9zaXRpb24ueCt0LkdyYXBoaWNhbExhYmVsLlBvc2l0aW9uQW5kU2hhcGUuQm9yZGVyTWFyZ2luUmlnaHQsaT1uLk1lYXN1cmVzW24uTWVhc3VyZXMubGVuZ3RoLTFdLGg9aS5Qb3NpdGlvbkFuZFNoYXBlLlJlbGF0aXZlUG9zaXRpb24ueCtpLlBvc2l0aW9uQW5kU2hhcGUuU2l6ZS53aWR0aDtsZXQgbD10LkdyYXBoaWNhbExhYmVsLlBvc2l0aW9uQW5kU2hhcGUuUmVsYXRpdmVQb3NpdGlvbi55O2lmKHRoaXMuY2FsY3VsYXRlRGFzaGVzKG4sZSxoLGwpLHImJnIuTWVhc3VyZXNbMF0mJmEucGFyZW50TWVhc3VyZS5QYXJlbnRTdGFmZkxpbmUmJihhIT09YS5wYXJlbnRNZWFzdXJlLnN0YWZmRW50cmllc1swXXx8YS5wYXJlbnRNZWFzdXJlIT09YS5wYXJlbnRNZWFzdXJlLlBhcmVudFN0YWZmTGluZS5NZWFzdXJlc1swXSkpe2NvbnN0IHQ9ci5NZWFzdXJlc1swXS5zdGFmZkVudHJpZXNbMF0uUG9zaXRpb25BbmRTaGFwZS5SZWxhdGl2ZVBvc2l0aW9uLngsZT1hLnBhcmVudE1lYXN1cmUuUG9zaXRpb25BbmRTaGFwZS5SZWxhdGl2ZVBvc2l0aW9uLngrYS5Qb3NpdGlvbkFuZFNoYXBlLlJlbGF0aXZlUG9zaXRpb24ueCtzLkdyYXBoaWNhbExhYmVsLlBvc2l0aW9uQW5kU2hhcGUuQm9yZGVyTWFyZ2luTGVmdDtsPXMuR3JhcGhpY2FsTGFiZWwuUG9zaXRpb25BbmRTaGFwZS5SZWxhdGl2ZVBvc2l0aW9uLnksdGhpcy5jYWxjdWxhdGVEYXNoZXMocix0LGUsbCl9fX1jYWxjdWxhdGVEYXNoZXModCxlLGkscyl7bGV0IG49aS1lO2lmKG48Myp0aGlzLnJ1bGVzLk1pbmltdW1EaXN0YW5jZUJldHdlZW5EYXNoZXMpdGhpcy5jYWxjdWxhdGVTaW5nbGVEYXNoRm9yTHlyaWNXb3JkKHQsZSxpLHMpO2Vsc2V7Y29uc3Qgcj1NYXRoLmZsb29yKG4vdGhpcy5ydWxlcy5NaW5pbXVtRGlzdGFuY2VCZXR3ZWVuRGFzaGVzKS0xLG89bi8ocisxKTtsZXQgYT0wO2ZvcihlKz1vLGktPW87YTw9TWF0aC5mbG9vcihyLzIpJiZpPmU7KW49dGhpcy5jYWxjdWxhdGVSaWdodEFuZExlZnREYXNoZXNGb3JMeXJpY1dvcmQodCxlLGkscyksZSs9byxpLT1vLGErKztuPjIqbyYmdGhpcy5jYWxjdWxhdGVTaW5nbGVEYXNoRm9yTHlyaWNXb3JkKHQsZSxpLHMpfX1jYWxjdWxhdGVTaW5nbGVEYXNoRm9yTHlyaWNXb3JkKHQsZSxpLHMpe2NvbnN0IG49bmV3IHcuTGFiZWwoXCItXCIpLHI9bmV3IGYuR3JhcGhpY2FsTGFiZWwobix0aGlzLnJ1bGVzLkx5cmljc0hlaWdodCxtLlRleHRBbGlnbm1lbnRFbnVtLkNlbnRlckJvdHRvbSx0aGlzLnJ1bGVzKTtyLnNldExhYmVsUG9zaXRpb25BbmRTaGFwZUJvcmRlcnMoKSx0Lkx5cmljc0Rhc2hlcy5wdXNoKHIpLC0xPT09dGhpcy5zdGFmZkxpbmVzV2l0aEx5cmljV29yZHMuaW5kZXhPZih0KSYmdGhpcy5zdGFmZkxpbmVzV2l0aEx5cmljV29yZHMucHVzaCh0KSxyLlBvc2l0aW9uQW5kU2hhcGUuUGFyZW50PXQuUG9zaXRpb25BbmRTaGFwZTtjb25zdCBvPW5ldyB1LlBvaW50RjJEKGUrKGktZSkvMixzKTtyLlBvc2l0aW9uQW5kU2hhcGUuUmVsYXRpdmVQb3NpdGlvbj1vfWNhbGN1bGF0ZUx5cmljRXh0ZW5kKHQpe2xldCBlPXQuR3JhcGhpY2FsTGFiZWwuUG9zaXRpb25BbmRTaGFwZS5SZWxhdGl2ZVBvc2l0aW9uLnk7Y29uc3QgaT10LlN0YWZmRW50cnlQYXJlbnQscz1pLnBhcmVudE1lYXN1cmUuUGFyZW50U3RhZmZMaW5lO2xldCBuPXZvaWQgMCxyPXZvaWQgMDtjb25zdCBvPWkucGFyZW50TWVhc3VyZS5QYXJlbnRTdGFmZi5pZEluTXVzaWNTaGVldDtmb3IobGV0IHQ9aS5wYXJlbnRWZXJ0aWNhbENvbnRhaW5lci5JbmRleCsxO3Q8dGhpcy5ncmFwaGljYWxNdXNpY1NoZWV0LlZlcnRpY2FsR3JhcGhpY2FsU3RhZmZFbnRyeUNvbnRhaW5lcnMubGVuZ3RoOysrdCl7Y29uc3QgZT10aGlzLmdyYXBoaWNhbE11c2ljU2hlZXQuVmVydGljYWxHcmFwaGljYWxTdGFmZkVudHJ5Q29udGFpbmVyc1t0XS5TdGFmZkVudHJpZXNbb107aWYoZSl7aWYoZS5oYXNPbmx5UmVzdHMoKSlicmVhaztpZihlLkx5cmljc0VudHJpZXMubGVuZ3RoPjApYnJlYWs7bj1lLHI9bi5wYXJlbnRNZWFzdXJlLlBhcmVudFN0YWZmTGluZX19aWYobilpZihzPT09cil7Y29uc3Qgcj1pLnBhcmVudE1lYXN1cmUuUG9zaXRpb25BbmRTaGFwZS5SZWxhdGl2ZVBvc2l0aW9uLngraS5Qb3NpdGlvbkFuZFNoYXBlLlJlbGF0aXZlUG9zaXRpb24ueCt0LkdyYXBoaWNhbExhYmVsLlBvc2l0aW9uQW5kU2hhcGUuQm9yZGVyTWFyZ2luUmlnaHQsbz1uLnBhcmVudE1lYXN1cmUuUG9zaXRpb25BbmRTaGFwZS5SZWxhdGl2ZVBvc2l0aW9uLngrbi5Qb3NpdGlvbkFuZFNoYXBlLlJlbGF0aXZlUG9zaXRpb24ueCtuLlBvc2l0aW9uQW5kU2hhcGUuQm9yZGVyTWFyZ2luUmlnaHQ7ZS09dC5HcmFwaGljYWxMYWJlbC5Qb3NpdGlvbkFuZFNoYXBlLlNpemUuaGVpZ2h0LzQsdGhpcy5jYWxjdWxhdGVTaW5nbGVMeXJpY1dvcmRXaXRoVW5kZXJzY29yZShzLHIsbyxlKX1lbHNle2NvbnN0IG89cy5NZWFzdXJlc1tzLk1lYXN1cmVzLmxlbmd0aC0xXS5Qb3NpdGlvbkFuZFNoYXBlLGE9aS5wYXJlbnRNZWFzdXJlLlBvc2l0aW9uQW5kU2hhcGUuUmVsYXRpdmVQb3NpdGlvbi54K2kuUG9zaXRpb25BbmRTaGFwZS5SZWxhdGl2ZVBvc2l0aW9uLngrdC5HcmFwaGljYWxMYWJlbC5Qb3NpdGlvbkFuZFNoYXBlLkJvcmRlck1hcmdpblJpZ2h0LGg9by5SZWxhdGl2ZVBvc2l0aW9uLngrby5TaXplLndpZHRoO2lmKGUtPXQuR3JhcGhpY2FsTGFiZWwuUG9zaXRpb25BbmRTaGFwZS5TaXplLmhlaWdodC80LHRoaXMuY2FsY3VsYXRlU2luZ2xlTHlyaWNXb3JkV2l0aFVuZGVyc2NvcmUocyxhLGgsZSksIW4pcmV0dXJuO2lmKG4hPT1uLnBhcmVudE1lYXN1cmUuc3RhZmZFbnRyaWVzWzBdfHxuLnBhcmVudE1lYXN1cmUhPT1uLnBhcmVudE1lYXN1cmUuUGFyZW50U3RhZmZMaW5lLk1lYXN1cmVzWzBdKXtjb25zdCB0PXIuTWVhc3VyZXNbMF0uc3RhZmZFbnRyaWVzWzBdLlBvc2l0aW9uQW5kU2hhcGUuUmVsYXRpdmVQb3NpdGlvbi54LGk9bi5wYXJlbnRNZWFzdXJlLlBvc2l0aW9uQW5kU2hhcGUuUmVsYXRpdmVQb3NpdGlvbi54K24uUG9zaXRpb25BbmRTaGFwZS5SZWxhdGl2ZVBvc2l0aW9uLngrbi5Qb3NpdGlvbkFuZFNoYXBlLkJvcmRlck1hcmdpblJpZ2h0O3RoaXMuY2FsY3VsYXRlU2luZ2xlTHlyaWNXb3JkV2l0aFVuZGVyc2NvcmUocix0LGksZSl9fX1jYWxjdWxhdGVTaW5nbGVMeXJpY1dvcmRXaXRoVW5kZXJzY29yZSh0LGUsaSxzKXtjb25zdCBuPW5ldyB1LlBvaW50RjJEKGUscykscj1uZXcgdS5Qb2ludEYyRChpLHMpLG89bmV3IF8uR3JhcGhpY2FsTGluZShuLHIsdGhpcy5ydWxlcy5MeXJpY1VuZGVyc2NvcmVMaW5lV2lkdGgpO3QuTHlyaWNMaW5lcy5wdXNoKG8pLC0xPT09dGhpcy5zdGFmZkxpbmVzV2l0aEx5cmljV29yZHMuaW5kZXhPZih0KSYmdGhpcy5zdGFmZkxpbmVzV2l0aEx5cmljV29yZHMucHVzaCh0KX1jYWxjdWxhdGVSaWdodEFuZExlZnREYXNoZXNGb3JMeXJpY1dvcmQodCxlLGkscyl7Y29uc3Qgbj1uZXcgdy5MYWJlbChcIi1cIikscj1uZXcgZi5HcmFwaGljYWxMYWJlbChuLHRoaXMucnVsZXMuTHlyaWNzSGVpZ2h0LG0uVGV4dEFsaWdubWVudEVudW0uQ2VudGVyQm90dG9tLHRoaXMucnVsZXMpO3Iuc2V0TGFiZWxQb3NpdGlvbkFuZFNoYXBlQm9yZGVycygpLHQuTHlyaWNzRGFzaGVzLnB1c2gociksLTE9PT10aGlzLnN0YWZmTGluZXNXaXRoTHlyaWNXb3Jkcy5pbmRleE9mKHQpJiZ0aGlzLnN0YWZmTGluZXNXaXRoTHlyaWNXb3Jkcy5wdXNoKHQpLHIuUG9zaXRpb25BbmRTaGFwZS5QYXJlbnQ9dC5Qb3NpdGlvbkFuZFNoYXBlO2NvbnN0IG89bmV3IHUuUG9pbnRGMkQoZSxzKTtyLlBvc2l0aW9uQW5kU2hhcGUuUmVsYXRpdmVQb3NpdGlvbj1vO2NvbnN0IGE9bmV3IHcuTGFiZWwoXCItXCIpLGg9bmV3IGYuR3JhcGhpY2FsTGFiZWwoYSx0aGlzLnJ1bGVzLkx5cmljc0hlaWdodCxtLlRleHRBbGlnbm1lbnRFbnVtLkNlbnRlckJvdHRvbSx0aGlzLnJ1bGVzKTtoLnNldExhYmVsUG9zaXRpb25BbmRTaGFwZUJvcmRlcnMoKSx0Lkx5cmljc0Rhc2hlcy5wdXNoKGgpLGguUG9zaXRpb25BbmRTaGFwZS5QYXJlbnQ9dC5Qb3NpdGlvbkFuZFNoYXBlO2NvbnN0IGw9bmV3IHUuUG9pbnRGMkQoaSxzKTtyZXR1cm4gaC5Qb3NpdGlvbkFuZFNoYXBlLlJlbGF0aXZlUG9zaXRpb249bCxoLlBvc2l0aW9uQW5kU2hhcGUuUmVsYXRpdmVQb3NpdGlvbi54LXIuUG9zaXRpb25BbmRTaGFwZS5SZWxhdGl2ZVBvc2l0aW9uLnh9Y2FsY3VsYXRlRHluYW1pY0V4cHJlc3Npb25zKCl7Y29uc3QgdD1NYXRoLm1pbih0aGlzLmdyYXBoaWNhbE11c2ljU2hlZXQuUGFyZW50TXVzaWNTaGVldC5Tb3VyY2VNZWFzdXJlcy5sZW5ndGgtMSx0aGlzLnJ1bGVzLk1heE1lYXN1cmVUb0RyYXdJbmRleCk7Zm9yKGxldCBlPU1hdGgubWluKHRoaXMucnVsZXMuTWluTWVhc3VyZVRvRHJhd0luZGV4LHRoaXMuZ3JhcGhpY2FsTXVzaWNTaGVldC5QYXJlbnRNdXNpY1NoZWV0LlNvdXJjZU1lYXN1cmVzLmxlbmd0aCk7ZTw9dDtlKyspe2NvbnN0IHQ9dGhpcy5ncmFwaGljYWxNdXNpY1NoZWV0LlBhcmVudE11c2ljU2hlZXQuU291cmNlTWVhc3VyZXNbZV07Zm9yKGxldCBpPTA7aTx0LlN0YWZmTGlua2VkRXhwcmVzc2lvbnMubGVuZ3RoO2krKylpZih0aGlzLmdyYXBoaWNhbE11c2ljU2hlZXQuTWVhc3VyZUxpc3RbZV1baV0uUGFyZW50U3RhZmYuUGFyZW50SW5zdHJ1bWVudC5WaXNpYmxlKWZvcihsZXQgcz0wO3M8dC5TdGFmZkxpbmtlZEV4cHJlc3Npb25zW2ldLmxlbmd0aDtzKyspKHZvaWQgMCE9PXQuU3RhZmZMaW5rZWRFeHByZXNzaW9uc1tpXVtzXS5JbnN0YW50YW5lb3VzRHluYW1pY3x8dm9pZCAwIT09dC5TdGFmZkxpbmtlZEV4cHJlc3Npb25zW2ldW3NdLlN0YXJ0aW5nQ29udGludW91c0R5bmFtaWMmJnQuU3RhZmZMaW5rZWRFeHByZXNzaW9uc1tpXVtzXS5TdGFydGluZ0NvbnRpbnVvdXNEeW5hbWljLlN0YXJ0TXVsdGlFeHByZXNzaW9uPT09dC5TdGFmZkxpbmtlZEV4cHJlc3Npb25zW2ldW3NdJiYwPT09dC5TdGFmZkxpbmtlZEV4cHJlc3Npb25zW2ldW3NdLlVua25vd25MaXN0Lmxlbmd0aCkmJnRoaXMuY2FsY3VsYXRlRHluYW1pY0V4cHJlc3Npb25zRm9yTXVsdGlFeHByZXNzaW9uKHQuU3RhZmZMaW5rZWRFeHByZXNzaW9uc1tpXVtzXSxlLGkpfX1jYWxjdWxhdGVPY3RhdmVTaGlmdHMoKXtmb3IobGV0IHQ9MDt0PHRoaXMuZ3JhcGhpY2FsTXVzaWNTaGVldC5QYXJlbnRNdXNpY1NoZWV0LlNvdXJjZU1lYXN1cmVzLmxlbmd0aDt0Kyspe2NvbnN0IGU9dGhpcy5ncmFwaGljYWxNdXNpY1NoZWV0LlBhcmVudE11c2ljU2hlZXQuU291cmNlTWVhc3VyZXNbdF07Zm9yKGxldCBpPTA7aTxlLlN0YWZmTGlua2VkRXhwcmVzc2lvbnMubGVuZ3RoO2krKylpZih0aGlzLmdyYXBoaWNhbE11c2ljU2hlZXQuTWVhc3VyZUxpc3RbdF1baV0uUGFyZW50U3RhZmYuUGFyZW50SW5zdHJ1bWVudC5WaXNpYmxlKWZvcihsZXQgcz0wO3M8ZS5TdGFmZkxpbmtlZEV4cHJlc3Npb25zW2ldLmxlbmd0aDtzKyspZS5TdGFmZkxpbmtlZEV4cHJlc3Npb25zW2ldW3NdLk9jdGF2ZVNoaWZ0U3RhcnQmJnRoaXMuY2FsY3VsYXRlU2luZ2xlT2N0YXZlU2hpZnQoZSxlLlN0YWZmTGlua2VkRXhwcmVzc2lvbnNbaV1bc10sdCxpKX19Z2V0Rmlyc3RMZWZ0Tm90TnVsbFN0YWZmRW50cnlGcm9tQ29udGFpbmVyKHQsZSxpKXtpZih0aGlzLmdyYXBoaWNhbE11c2ljU2hlZXQuVmVydGljYWxHcmFwaGljYWxTdGFmZkVudHJ5Q29udGFpbmVyc1t0XS5TdGFmZkVudHJpZXNbZV0pcmV0dXJuIHRoaXMuZ3JhcGhpY2FsTXVzaWNTaGVldC5WZXJ0aWNhbEdyYXBoaWNhbFN0YWZmRW50cnlDb250YWluZXJzW3RdLlN0YWZmRW50cmllc1tlXTtmb3IobGV0IGk9dC0xO2k+PTA7aS0tKWlmKHRoaXMuZ3JhcGhpY2FsTXVzaWNTaGVldC5WZXJ0aWNhbEdyYXBoaWNhbFN0YWZmRW50cnlDb250YWluZXJzW2ldLlN0YWZmRW50cmllc1tlXSlyZXR1cm4gdGhpcy5ncmFwaGljYWxNdXNpY1NoZWV0LlZlcnRpY2FsR3JhcGhpY2FsU3RhZmZFbnRyeUNvbnRhaW5lcnNbaV0uU3RhZmZFbnRyaWVzW2VdfWdldEZpcnN0UmlnaHROb3ROdWxsU3RhZmZFbnRyeUZyb21Db250YWluZXIodCxlLGkpe2lmKHRoaXMuZ3JhcGhpY2FsTXVzaWNTaGVldC5WZXJ0aWNhbEdyYXBoaWNhbFN0YWZmRW50cnlDb250YWluZXJzW3RdLlN0YWZmRW50cmllc1tlXSlyZXR1cm4gdGhpcy5ncmFwaGljYWxNdXNpY1NoZWV0LlZlcnRpY2FsR3JhcGhpY2FsU3RhZmZFbnRyeUNvbnRhaW5lcnNbdF0uU3RhZmZFbnRyaWVzW2VdO2ZvcihsZXQgaT10KzE7aTx0aGlzLmdyYXBoaWNhbE11c2ljU2hlZXQuVmVydGljYWxHcmFwaGljYWxTdGFmZkVudHJ5Q29udGFpbmVycy5sZW5ndGg7aSsrKWlmKHRoaXMuZ3JhcGhpY2FsTXVzaWNTaGVldC5WZXJ0aWNhbEdyYXBoaWNhbFN0YWZmRW50cnlDb250YWluZXJzW2ldLlN0YWZmRW50cmllc1tlXSlyZXR1cm4gdGhpcy5ncmFwaGljYWxNdXNpY1NoZWV0LlZlcnRpY2FsR3JhcGhpY2FsU3RhZmZFbnRyeUNvbnRhaW5lcnNbaV0uU3RhZmZFbnRyaWVzW2VdfWNhbGN1bGF0ZVdvcmRSZXBldGl0aW9uSW5zdHJ1Y3Rpb25zKCl7Zm9yKGxldCB0PTA7dDx0aGlzLmdyYXBoaWNhbE11c2ljU2hlZXQuUGFyZW50TXVzaWNTaGVldC5Tb3VyY2VNZWFzdXJlcy5sZW5ndGg7dCsrKXtjb25zdCBlPXRoaXMuZ3JhcGhpY2FsTXVzaWNTaGVldC5QYXJlbnRNdXNpY1NoZWV0LlNvdXJjZU1lYXN1cmVzW3RdO2ZvcihsZXQgaT0wLHM9ZS5GaXJzdFJlcGV0aXRpb25JbnN0cnVjdGlvbnMubGVuZ3RoO2k8czsrK2kpe2NvbnN0IHM9ZS5GaXJzdFJlcGV0aXRpb25JbnN0cnVjdGlvbnNbaV07dGhpcy5jYWxjdWxhdGVXb3JkUmVwZXRpdGlvbkluc3RydWN0aW9uKHMsdCl9Zm9yKGxldCBpPTAscz1lLkxhc3RSZXBldGl0aW9uSW5zdHJ1Y3Rpb25zLmxlbmd0aDtpPHM7KytpKXtjb25zdCBzPWUuTGFzdFJlcGV0aXRpb25JbnN0cnVjdGlvbnNbaV07dGhpcy5jYWxjdWxhdGVXb3JkUmVwZXRpdGlvbkluc3RydWN0aW9uKHMsdCl9fX1jYWxjdWxhdGVSZXBldGl0aW9uRW5kaW5ncygpe2NvbnN0IHQ9dGhpcy5ncmFwaGljYWxNdXNpY1NoZWV0LlBhcmVudE11c2ljU2hlZXQ7Zm9yKGxldCBlPTAsaT10LlJlcGV0aXRpb25zLmxlbmd0aDtlPGk7KytlKXtjb25zdCBpPXQuUmVwZXRpdGlvbnNbZV07dGhpcy5jYWxjR3JhcGhpY2FsUmVwZXRpdGlvbkVuZGluZ3NSZWN1cnNpdmVseShpKX19Y2FsY3VsYXRlVGVtcG9FeHByZXNzaW9ucygpe2NvbnN0IHQ9TWF0aC5taW4odGhpcy5ncmFwaGljYWxNdXNpY1NoZWV0LlBhcmVudE11c2ljU2hlZXQuU291cmNlTWVhc3VyZXMubGVuZ3RoLTEsdGhpcy5ydWxlcy5NYXhNZWFzdXJlVG9EcmF3SW5kZXgpO2ZvcihsZXQgZT10aGlzLnJ1bGVzLk1pbk1lYXN1cmVUb0RyYXdJbmRleDtlPD10O2UrKyl7Y29uc3QgdD10aGlzLmdyYXBoaWNhbE11c2ljU2hlZXQuUGFyZW50TXVzaWNTaGVldC5Tb3VyY2VNZWFzdXJlc1tlXTtmb3IobGV0IGk9MDtpPHQuVGVtcG9FeHByZXNzaW9ucy5sZW5ndGg7aSsrKXRoaXMuY2FsY3VsYXRlVGVtcG9FeHByZXNzaW9uc0Zvck11bHRpVGVtcG9FeHByZXNzaW9uKHQsdC5UZW1wb0V4cHJlc3Npb25zW2ldLGUpfX1jYWxjdWxhdGVNb29kQW5kVW5rbm93bkV4cHJlc3Npb25zKCl7Zm9yKGxldCB0PTA7dDx0aGlzLmdyYXBoaWNhbE11c2ljU2hlZXQuUGFyZW50TXVzaWNTaGVldC5Tb3VyY2VNZWFzdXJlcy5sZW5ndGg7dCsrKXtjb25zdCBlPXRoaXMuZ3JhcGhpY2FsTXVzaWNTaGVldC5QYXJlbnRNdXNpY1NoZWV0LlNvdXJjZU1lYXN1cmVzW3RdO2ZvcihsZXQgaT0wO2k8ZS5TdGFmZkxpbmtlZEV4cHJlc3Npb25zLmxlbmd0aDtpKyspaWYodGhpcy5ncmFwaGljYWxNdXNpY1NoZWV0Lk1lYXN1cmVMaXN0W3RdW2ldLlBhcmVudFN0YWZmLlBhcmVudEluc3RydW1lbnQuVmlzaWJsZSlmb3IobGV0IHM9MDtzPGUuU3RhZmZMaW5rZWRFeHByZXNzaW9uc1tpXS5sZW5ndGg7cysrKShlLlN0YWZmTGlua2VkRXhwcmVzc2lvbnNbaV1bc10uTW9vZExpc3QubGVuZ3RoPjB8fGUuU3RhZmZMaW5rZWRFeHByZXNzaW9uc1tpXVtzXS5Vbmtub3duTGlzdC5sZW5ndGg+MCkmJnRoaXMuY2FsY3VsYXRlTW9vZEFuZFVua25vd25FeHByZXNzaW9uKGUuU3RhZmZMaW5rZWRFeHByZXNzaW9uc1tpXVtzXSx0LGkpfX1jYWxjdWxhdGVTdGVtRGlyZWN0aW9uRnJvbVZvaWNlcyh0KXtpZih2b2lkIDAhPT10LlBhcmVudFNvdXJjZVN0YWZmRW50cnkuTGluaylyZXR1cm4gdD09PXQuUGFyZW50U291cmNlU3RhZmZFbnRyeS5Wb2ljZUVudHJpZXNbMF0/dm9pZCh0LldhbnRlZFN0ZW1EaXJlY3Rpb249bC5TdGVtRGlyZWN0aW9uVHlwZS5VcCk6dm9pZCh0LldhbnRlZFN0ZW1EaXJlY3Rpb249bC5TdGVtRGlyZWN0aW9uVHlwZS5Eb3duKTt0LlBhcmVudFZvaWNlIGluc3RhbmNlb2YgZy5MaW5rZWRWb2ljZT90LldhbnRlZFN0ZW1EaXJlY3Rpb249bC5TdGVtRGlyZWN0aW9uVHlwZS5Eb3duOnQuUGFyZW50U291cmNlU3RhZmZFbnRyeS5Wb2ljZUVudHJpZXMubGVuZ3RoPjEmJih0LldhbnRlZFN0ZW1EaXJlY3Rpb249bC5TdGVtRGlyZWN0aW9uVHlwZS5VcCl9c2V0QmVhbU5vdGVzV2FudGVkU3RlbURpcmVjdGlvbnModCl7aWYodC5XYW50ZWRTdGVtRGlyZWN0aW9uPT09bC5TdGVtRGlyZWN0aW9uVHlwZS5VbmRlZmluZWQmJnQuTm90ZXMubGVuZ3RoPjApe2NvbnN0IGU9dC5Ob3Rlc1swXS5Ob3RlQmVhbTtpZihlKWZvcihjb25zdCBpIG9mIGUuTm90ZXMpaWYoaS5QYXJlbnRWb2ljZUVudHJ5IT09dCYmaS5QYXJlbnRWb2ljZUVudHJ5LldhbnRlZFN0ZW1EaXJlY3Rpb24hPT1sLlN0ZW1EaXJlY3Rpb25UeXBlLlVuZGVmaW5lZCl7dC5XYW50ZWRTdGVtRGlyZWN0aW9uPWkuUGFyZW50Vm9pY2VFbnRyeS5XYW50ZWRTdGVtRGlyZWN0aW9uO2JyZWFrfX19fWUuTXVzaWNTaGVldENhbGN1bGF0b3I9Qn0sZnVuY3Rpb24odCxlLGkpe1widXNlIHN0cmljdFwiO09iamVjdC5kZWZpbmVQcm9wZXJ0eShlLFwiX19lc01vZHVsZVwiLHt2YWx1ZTohMH0pO2NvbnN0IHM9aSg0NSksbj1pKDIpLHI9aSgyKTtjbGFzcyBvIGV4dGVuZHMgcy5BYnN0cmFjdE5vdGF0aW9uSW5zdHJ1Y3Rpb257Y29uc3RydWN0b3IodCxlPTAsaT1hLm1ham9yKXtzdXBlcih0KSx0aGlzLktleT1lLHRoaXMubW9kZT1pLHRoaXMuYWx0ZXJhdGVkTm90ZXM9dGhpcy5jYWxjQWx0ZXJhdGVkTm90ZXMoKX1zdGF0aWMgY29weSh0KXtyZXR1cm4gbmV3IG8odC5wYXJlbnQsdC5LZXksdC5Nb2RlKX1zdGF0aWMgZ2V0QWxsUG9zc2libGVNYWpvcktleUluc3RydWN0aW9ucygpe2NvbnN0IHQ9W107Zm9yKGxldCBlPS03O2U8NztlKyspe2NvbnN0IGk9bmV3IG8odm9pZCAwLGUsYS5tYWpvcik7dC5wdXNoKGkpfXJldHVybiB0fWdldCBLZXkoKXtyZXR1cm4gdGhpcy5rZXlUeXBlfXNldCBLZXkodCl7dGhpcy5rZXlUeXBlPXQsdGhpcy5hbHRlcmF0ZWROb3Rlcz10aGlzLmNhbGNBbHRlcmF0ZWROb3RlcygpfWdldCBNb2RlKCl7cmV0dXJuIHRoaXMubW9kZX1zZXQgTW9kZSh0KXt0aGlzLm1vZGU9dH1nZXQgQWx0ZXJhdGVkTm90ZXMoKXtyZXR1cm4gdGhpcy5hbHRlcmF0ZWROb3Rlc31jYWxjQWx0ZXJhdGVkTm90ZXMoKXtjb25zdCB0PVtdO2lmKHRoaXMua2V5VHlwZT4wKWZvcihsZXQgZT0wO2U8dGhpcy5rZXlUeXBlO2UrKyl0LnB1c2goby5zaGFycFBvc2l0aW9uTGlzdFtlXSk7ZWxzZSBpZih0aGlzLmtleVR5cGU8MClmb3IobGV0IGU9MDtlPC10aGlzLmtleVR5cGU7ZSsrKXQucHVzaChvLmZsYXRQb3NpdGlvbkxpc3RbZV0pO3JldHVybiB0fXdpbGxBbHRlcmF0ZU5vdGUodCl7cmV0dXJuIHRoaXMuYWx0ZXJhdGVkTm90ZXMuaW5kZXhPZih0KT49MH1nZXRBbHRlcmF0aW9uRm9yUGl0Y2godCl7cmV0dXJuIHRoaXMua2V5VHlwZT4wJiZ0aGlzLmFsdGVyYXRlZE5vdGVzLmluZGV4T2YodC5GdW5kYW1lbnRhbE5vdGUpPD10aGlzLmtleVR5cGU/ci5BY2NpZGVudGFsRW51bS5TSEFSUDp0aGlzLmtleVR5cGU8MCYmdGhpcy5hbHRlcmF0ZWROb3Rlcy5pbmRleE9mKHQuRnVuZGFtZW50YWxOb3RlKTw9TWF0aC5hYnModGhpcy5rZXlUeXBlKT9yLkFjY2lkZW50YWxFbnVtLkZMQVQ6ci5BY2NpZGVudGFsRW51bS5OT05FfVRvU3RyaW5nKCl7cmV0dXJuXCJLZXk6IFwiK3RoaXMua2V5VHlwZSt0aGlzLm1vZGV9T3BlcmF0b3JFcXVhbHModCl7cmV0dXJuIHRoaXM9PT10fHwhKCF0aGlzfHwhdCkmJih0aGlzLktleT09PXQuS2V5JiZ0aGlzLk1vZGU9PT10Lk1vZGUpfU9wZXJhdG9yTm90RXF1YWwodCl7cmV0dXJuIXRoaXMuT3BlcmF0b3JFcXVhbHModCl9fWUuS2V5SW5zdHJ1Y3Rpb249byxvLnNoYXJwUG9zaXRpb25MaXN0PVtuLk5vdGVFbnVtLkYsbi5Ob3RlRW51bS5DLG4uTm90ZUVudW0uRyxuLk5vdGVFbnVtLkQsbi5Ob3RlRW51bS5BLG4uTm90ZUVudW0uRSxuLk5vdGVFbnVtLkJdLG8uZmxhdFBvc2l0aW9uTGlzdD1bbi5Ob3RlRW51bS5CLG4uTm90ZUVudW0uRSxuLk5vdGVFbnVtLkEsbi5Ob3RlRW51bS5ELG4uTm90ZUVudW0uRyxuLk5vdGVFbnVtLkMsbi5Ob3RlRW51bS5GXTt2YXIgYTtlLk5vdGVFbnVtVG9IYWxmVG9uZUxpbms9Y2xhc3N7Y29uc3RydWN0b3IodCxlKXt0aGlzLm5vdGU9dCx0aGlzLmhhbGZUb25lPWV9fSxmdW5jdGlvbih0KXt0W3QubWFqb3I9MF09XCJtYWpvclwiLHRbdC5taW5vcj0xXT1cIm1pbm9yXCIsdFt0Lm5vbmU9Ml09XCJub25lXCIsdFt0LmRvcmlhbj0zXT1cImRvcmlhblwiLHRbdC5waHJ5Z2lhbj00XT1cInBocnlnaWFuXCIsdFt0Lmx5ZGlhbj01XT1cImx5ZGlhblwiLHRbdC5taXhvbHlkaWFuPTZdPVwibWl4b2x5ZGlhblwiLHRbdC5hZW9saWFuPTddPVwiYWVvbGlhblwiLHRbdC5pb25pYW49OF09XCJpb25pYW5cIix0W3QubG9jcmlhbj05XT1cImxvY3JpYW5cIn0oYT1lLktleUVudW18fChlLktleUVudW09e30pKX0sZnVuY3Rpb24odCxlLGkpe1widXNlIHN0cmljdFwiO3ZhciBzPXRoaXMmJnRoaXMuX19pbXBvcnREZWZhdWx0fHxmdW5jdGlvbih0KXtyZXR1cm4gdCYmdC5fX2VzTW9kdWxlP3Q6e2RlZmF1bHQ6dH19O09iamVjdC5kZWZpbmVQcm9wZXJ0eShlLFwiX19lc01vZHVsZVwiLHt2YWx1ZTohMH0pO2NvbnN0IG49aSgwKSxyPWkoMzApLG89aSgyKSxhPWkoNDYpLGg9aSgyKSxsPXMoaSgxMikpO2NsYXNzIGN7Y29uc3RydWN0b3IodCxlLGkscz0hMSxuPSExLHI9ITEpe3RoaXMubm90ZXM9W10sdGhpcy5hcnRpY3VsYXRpb25zPVtdLHRoaXMudGVjaG5pY2FsSW5zdHJ1Y3Rpb25zPVtdLHRoaXMubHlyaWNzRW50cmllcz1uZXcgbC5kZWZhdWx0LHRoaXMud2FudGVkU3RlbURpcmVjdGlvbj1kLlVuZGVmaW5lZCx0aGlzLnN0ZW1EaXJlY3Rpb25YbWw9ZC5VbmRlZmluZWQsdGhpcy5zdGVtRGlyZWN0aW9uPWQuVW5kZWZpbmVkLHRoaXMudGltZXN0YW1wPXQsdGhpcy5wYXJlbnRWb2ljZT1lLHRoaXMucGFyZW50U291cmNlU3RhZmZFbnRyeT1pLHRoaXMuaXNHcmFjZT1zLHRoaXMuZ3JhY2VBZnRlck1haW5Ob3RlPSExLHRoaXMuZ3JhY2VOb3RlU2xhc2g9bix0aGlzLmdyYWNlU2x1cj1yfWdldCBQYXJlbnRTb3VyY2VTdGFmZkVudHJ5KCl7cmV0dXJuIHRoaXMucGFyZW50U291cmNlU3RhZmZFbnRyeX1nZXQgUGFyZW50Vm9pY2UoKXtyZXR1cm4gdGhpcy5wYXJlbnRWb2ljZX1nZXQgVGltZXN0YW1wKCl7cmV0dXJuIHRoaXMudGltZXN0YW1wfXNldCBUaW1lc3RhbXAodCl7dGhpcy50aW1lc3RhbXA9dH1nZXQgTm90ZXMoKXtyZXR1cm4gdGhpcy5ub3Rlc31nZXQgSXNHcmFjZSgpe3JldHVybiB0aGlzLmlzR3JhY2V9c2V0IElzR3JhY2UodCl7dGhpcy5pc0dyYWNlPXR9Z2V0IEdyYWNlQWZ0ZXJNYWluTm90ZSgpe3JldHVybiB0aGlzLmdyYWNlQWZ0ZXJNYWluTm90ZX1zZXQgR3JhY2VBZnRlck1haW5Ob3RlKHQpe3RoaXMuZ3JhY2VBZnRlck1haW5Ob3RlPXR9Z2V0IEdyYWNlTm90ZVNsYXNoKCl7cmV0dXJuIHRoaXMuZ3JhY2VOb3RlU2xhc2h9c2V0IEdyYWNlTm90ZVNsYXNoKHQpe3RoaXMuZ3JhY2VOb3RlU2xhc2g9dH1nZXQgR3JhY2VTbHVyKCl7cmV0dXJuIHRoaXMuZ3JhY2VTbHVyfXNldCBHcmFjZVNsdXIodCl7dGhpcy5ncmFjZVNsdXI9dH1nZXQgQXJ0aWN1bGF0aW9ucygpe3JldHVybiB0aGlzLmFydGljdWxhdGlvbnN9Z2V0IFRlY2huaWNhbEluc3RydWN0aW9ucygpe3JldHVybiB0aGlzLnRlY2huaWNhbEluc3RydWN0aW9uc31nZXQgTHlyaWNzRW50cmllcygpe3JldHVybiB0aGlzLmx5cmljc0VudHJpZXN9Z2V0IEFycGVnZ2lvKCl7cmV0dXJuIHRoaXMuYXJwZWdnaW99c2V0IEFycGVnZ2lvKHQpe3RoaXMuYXJwZWdnaW89dH1nZXQgT3JuYW1lbnRDb250YWluZXIoKXtyZXR1cm4gdGhpcy5vcm5hbWVudENvbnRhaW5lcn1zZXQgT3JuYW1lbnRDb250YWluZXIodCl7dGhpcy5vcm5hbWVudENvbnRhaW5lcj10fXNldCBXYW50ZWRTdGVtRGlyZWN0aW9uKHQpe3RoaXMud2FudGVkU3RlbURpcmVjdGlvbj10fWdldCBXYW50ZWRTdGVtRGlyZWN0aW9uKCl7cmV0dXJuIHRoaXMud2FudGVkU3RlbURpcmVjdGlvbn1zZXQgU3RlbURpcmVjdGlvblhtbCh0KXt0aGlzLnN0ZW1EaXJlY3Rpb25YbWw9dH1nZXQgU3RlbURpcmVjdGlvblhtbCgpe3JldHVybiB0aGlzLnN0ZW1EaXJlY3Rpb25YbWx9c2V0IFN0ZW1EaXJlY3Rpb24odCl7dGhpcy5zdGVtRGlyZWN0aW9uPXR9Z2V0IFN0ZW1EaXJlY3Rpb24oKXtyZXR1cm4gdGhpcy5zdGVtRGlyZWN0aW9ufWdldCBTdGVtQ29sb3JYbWwoKXtyZXR1cm4gdGhpcy5zdGVtQ29sb3JYbWx9c2V0IFN0ZW1Db2xvclhtbCh0KXt0aGlzLnN0ZW1Db2xvclhtbD10fWdldCBTdGVtQ29sb3IoKXtyZXR1cm4gdGhpcy5zdGVtQ29sb3J9c2V0IFN0ZW1Db2xvcih0KXt0aGlzLnN0ZW1Db2xvcj10fXN0YXRpYyBpc1N1cHBvcnRlZEFydGljdWxhdGlvbih0KXtzd2l0Y2godCl7Y2FzZSB1LmFjY2VudDpjYXNlIHUuc3Ryb25nYWNjZW50OmNhc2UgdS5pbnZlcnRlZHN0cm9uZ2FjY2VudDpjYXNlIHUuc3RhY2NhdG86Y2FzZSB1LnN0YWNjYXRpc3NpbW86Y2FzZSB1LnNwaWNjYXRvOmNhc2UgdS50ZW51dG86Y2FzZSB1LmZlcm1hdGE6Y2FzZSB1LmludmVydGVkZmVybWF0YTpjYXNlIHUuYnJlYXRobWFyazpjYXNlIHUuY2Flc3VyYTpjYXNlIHUubGVmdGhhbmRwaXp6aWNhdG86Y2FzZSB1Lm5hdHVyYWxoYXJtb25pYzpjYXNlIHUuc25hcHBpenppY2F0bzpjYXNlIHUudXBib3c6Y2FzZSB1LmRvd25ib3c6cmV0dXJuITA7ZGVmYXVsdDpyZXR1cm4hMX19aGFzVGllKCl7Zm9yKGxldCB0PTAsZT10aGlzLk5vdGVzLmxlbmd0aDt0PGU7Kyt0KXtpZih0aGlzLk5vdGVzW3RdLk5vdGVUaWUpcmV0dXJuITB9cmV0dXJuITF9aGFzU2x1cigpe2ZvcihsZXQgdD0wLGU9dGhpcy5Ob3Rlcy5sZW5ndGg7dDxlOysrdCl7aWYodGhpcy5Ob3Rlc1t0XS5Ob3RlU2x1cnMubGVuZ3RoPjApcmV0dXJuITB9cmV0dXJuITF9aXNTdGFjY2F0bygpe2ZvcihsZXQgdD0wLGU9dGhpcy5BcnRpY3VsYXRpb25zLmxlbmd0aDt0PGU7Kyt0KXtpZih0aGlzLkFydGljdWxhdGlvbnNbdF09PT11LnN0YWNjYXRvKXJldHVybiEwfXJldHVybiExfWlzQWNjZW50KCl7Zm9yKGxldCB0PTAsZT10aGlzLkFydGljdWxhdGlvbnMubGVuZ3RoO3Q8ZTsrK3Qpe2NvbnN0IGU9dGhpcy5BcnRpY3VsYXRpb25zW3RdO2lmKGU9PT11LmFjY2VudHx8ZT09PXUuc3Ryb25nYWNjZW50KXJldHVybiEwfXJldHVybiExfWdldFZlcnNlTnVtYmVyRm9yTHlyaWNFbnRyeSh0KXtsZXQgZT0xO3JldHVybiB0aGlzLmx5cmljc0VudHJpZXMuZm9yRWFjaCgoaSxzKT0+e3Q9PT1zJiYoZT1pKX0pLGV9Y3JlYXRlVm9pY2VFbnRyaWVzRm9yT3JuYW1lbnQodCxlKXt0fHwodD10aGlzKTtjb25zdCBpPVtdO2lmKCF0Lm9ybmFtZW50Q29udGFpbmVyKXJldHVybjtjb25zdCBzPXRoaXMubm90ZXNbMF0scj1zLkxlbmd0aCxvPXQuUGFyZW50Vm9pY2UsbD10LlRpbWVzdGFtcDtsZXQgYz1uLkZyYWN0aW9uLmNyZWF0ZUZyb21GcmFjdGlvbihsKTtzd2l0Y2godC5vcm5hbWVudENvbnRhaW5lci5HZXRPcm5hbWVudCl7Y2FzZSBhLk9ybmFtZW50RW51bS5UcmlsbDp7Y29uc3QgYT1uZXcgbi5GcmFjdGlvbihyLk51bWVyYXRvciw4KnIuRGVub21pbmF0b3IpLHU9cy5QaXRjaC5nZXRUcmFuc3Bvc2VkUGl0Y2goMSk7bGV0IGQ9ZS5nZXRBbHRlcmF0aW9uRm9yUGl0Y2godSk7dC5Pcm5hbWVudENvbnRhaW5lci5BY2NpZGVudGFsQWJvdmUhPT1oLkFjY2lkZW50YWxFbnVtLk5PTkUmJihkPXQub3JuYW1lbnRDb250YWluZXIuQWNjaWRlbnRhbEFib3ZlKTtmb3IobGV0IHQ9MDt0PDg7dCsrKWM9bi5GcmFjdGlvbi5wbHVzKGwsbmV3IG4uRnJhY3Rpb24odCphLk51bWVyYXRvcixhLkRlbm9taW5hdG9yKSksdCUyPT0wP3RoaXMuY3JlYXRlQmFzZVZvaWNlRW50cnkoYyxhLG8scyxpKTp0aGlzLmNyZWF0ZUFsdGVyYXRlZFZvaWNlRW50cnkoYyxhLG8sdSxkLGkpO2JyZWFrfWNhc2UgYS5Pcm5hbWVudEVudW0uVHVybjp7Y29uc3QgdD1uZXcgbi5GcmFjdGlvbihyLk51bWVyYXRvciw0KnIuRGVub21pbmF0b3IpLGE9cy5QaXRjaC5nZXRUcmFuc3Bvc2VkUGl0Y2goLTEpLGg9ZS5nZXRBbHRlcmF0aW9uRm9yUGl0Y2goYSksbD1zLlBpdGNoLmdldFRyYW5zcG9zZWRQaXRjaCgxKSx1PWUuZ2V0QWx0ZXJhdGlvbkZvclBpdGNoKGwpO3RoaXMuY3JlYXRlQWx0ZXJhdGVkVm9pY2VFbnRyeShjLHQsbyxsLHUsaSksYy5BZGQodCksdGhpcy5jcmVhdGVCYXNlVm9pY2VFbnRyeShjLHQsbyxzLGkpLGMuQWRkKHQpLHRoaXMuY3JlYXRlQWx0ZXJhdGVkVm9pY2VFbnRyeShjLHQsbyxhLGgsaSksYy5BZGQodCksdGhpcy5jcmVhdGVCYXNlVm9pY2VFbnRyeShjLHQsbyxzLGkpO2JyZWFrfWNhc2UgYS5Pcm5hbWVudEVudW0uSW52ZXJ0ZWRUdXJuOntjb25zdCB0PW5ldyBuLkZyYWN0aW9uKHIuTnVtZXJhdG9yLDQqci5EZW5vbWluYXRvciksYT1zLlBpdGNoLmdldFRyYW5zcG9zZWRQaXRjaCgtMSksaD1lLmdldEFsdGVyYXRpb25Gb3JQaXRjaChhKSxsPXMuUGl0Y2guZ2V0VHJhbnNwb3NlZFBpdGNoKDEpLHU9ZS5nZXRBbHRlcmF0aW9uRm9yUGl0Y2gobCk7dGhpcy5jcmVhdGVBbHRlcmF0ZWRWb2ljZUVudHJ5KGMsdCxvLGEsaCxpKSxjLkFkZCh0KSx0aGlzLmNyZWF0ZUJhc2VWb2ljZUVudHJ5KGMsdCxvLHMsaSksYy5BZGQodCksdGhpcy5jcmVhdGVBbHRlcmF0ZWRWb2ljZUVudHJ5KGMsdCxvLGwsdSxpKSxjLkFkZCh0KSx0aGlzLmNyZWF0ZUJhc2VWb2ljZUVudHJ5KGMsdCxvLHMsaSk7YnJlYWt9Y2FzZSBhLk9ybmFtZW50RW51bS5EZWxheWVkVHVybjp7Y29uc3QgdD1uZXcgbi5GcmFjdGlvbihyLk51bWVyYXRvciwyKnIuRGVub21pbmF0b3IpLGE9cy5QaXRjaC5nZXRUcmFuc3Bvc2VkUGl0Y2goLTEpLGg9ZS5nZXRBbHRlcmF0aW9uRm9yUGl0Y2goYSksdT1zLlBpdGNoLmdldFRyYW5zcG9zZWRQaXRjaCgxKSxkPWUuZ2V0QWx0ZXJhdGlvbkZvclBpdGNoKHUpO3RoaXMuY3JlYXRlQmFzZVZvaWNlRW50cnkoYyx0LG8scyxpKSxjPW4uRnJhY3Rpb24ucGx1cyhsLHQpLHQuRGVub21pbmF0b3I9OCpyLkRlbm9taW5hdG9yLHRoaXMuY3JlYXRlQWx0ZXJhdGVkVm9pY2VFbnRyeShjLHQsbyx1LGQsaSksYy5BZGQodCksdGhpcy5jcmVhdGVCYXNlVm9pY2VFbnRyeShjLHQsbyxzLGkpLGMuQWRkKHQpLHRoaXMuY3JlYXRlQWx0ZXJhdGVkVm9pY2VFbnRyeShjLHQsbyxhLGgsaSksYy5BZGQodCksdGhpcy5jcmVhdGVCYXNlVm9pY2VFbnRyeShjLHQsbyxzLGkpO2JyZWFrfWNhc2UgYS5Pcm5hbWVudEVudW0uRGVsYXllZEludmVydGVkVHVybjp7Y29uc3QgdD1uZXcgbi5GcmFjdGlvbihyLk51bWVyYXRvciwyKnIuRGVub21pbmF0b3IpLGE9cy5QaXRjaC5nZXRUcmFuc3Bvc2VkUGl0Y2goLTEpLGg9ZS5nZXRBbHRlcmF0aW9uRm9yUGl0Y2goYSksdT1zLlBpdGNoLmdldFRyYW5zcG9zZWRQaXRjaCgxKSxkPWUuZ2V0QWx0ZXJhdGlvbkZvclBpdGNoKHUpO3RoaXMuY3JlYXRlQmFzZVZvaWNlRW50cnkoYyx0LG8scyxpKSxjPW4uRnJhY3Rpb24ucGx1cyhsLHQpLHQuRGVub21pbmF0b3I9OCpyLkRlbm9taW5hdG9yLHRoaXMuY3JlYXRlQWx0ZXJhdGVkVm9pY2VFbnRyeShjLHQsbyxhLGgsaSksYy5BZGQodCksdGhpcy5jcmVhdGVCYXNlVm9pY2VFbnRyeShjLHQsbyxzLGkpLGMuQWRkKHQpLHRoaXMuY3JlYXRlQWx0ZXJhdGVkVm9pY2VFbnRyeShjLHQsbyx1LGQsaSksYy5BZGQodCksdGhpcy5jcmVhdGVCYXNlVm9pY2VFbnRyeShjLHQsbyxzLGkpO2JyZWFrfWNhc2UgYS5Pcm5hbWVudEVudW0uTW9yZGVudDp7Y29uc3QgdD1uZXcgbi5GcmFjdGlvbihyLk51bWVyYXRvciw0KnIuRGVub21pbmF0b3IpLGE9cy5QaXRjaC5nZXRUcmFuc3Bvc2VkUGl0Y2goMSksaD1lLmdldEFsdGVyYXRpb25Gb3JQaXRjaChhKTt0aGlzLmNyZWF0ZUJhc2VWb2ljZUVudHJ5KGMsdCxvLHMsaSksYy5BZGQodCksdGhpcy5jcmVhdGVBbHRlcmF0ZWRWb2ljZUVudHJ5KGMsdCxvLGEsaCxpKSx0LkRlbm9taW5hdG9yPTIqci5EZW5vbWluYXRvcixjPW4uRnJhY3Rpb24ucGx1cyhsLHQpLHRoaXMuY3JlYXRlQmFzZVZvaWNlRW50cnkoYyx0LG8scyxpKTticmVha31jYXNlIGEuT3JuYW1lbnRFbnVtLkludmVydGVkTW9yZGVudDp7Y29uc3QgdD1uZXcgbi5GcmFjdGlvbihyLk51bWVyYXRvciw0KnIuRGVub21pbmF0b3IpLGE9cy5QaXRjaC5nZXRUcmFuc3Bvc2VkUGl0Y2goLTEpLGg9ZS5nZXRBbHRlcmF0aW9uRm9yUGl0Y2goYSk7dGhpcy5jcmVhdGVCYXNlVm9pY2VFbnRyeShjLHQsbyxzLGkpLGMuQWRkKHQpLHRoaXMuY3JlYXRlQWx0ZXJhdGVkVm9pY2VFbnRyeShjLHQsbyxhLGgsaSksdC5EZW5vbWluYXRvcj0yKnIuRGVub21pbmF0b3IsYz1uLkZyYWN0aW9uLnBsdXMobCx0KSx0aGlzLmNyZWF0ZUJhc2VWb2ljZUVudHJ5KGMsdCxvLHMsaSk7YnJlYWt9ZGVmYXVsdDp0aHJvdyBuZXcgUmFuZ2VFcnJvcn1yZXR1cm4gaX1jcmVhdGVCYXNlVm9pY2VFbnRyeSh0LGUsaSxzLG4pe2NvbnN0IGE9bmV3IGModCxpLHMuUGFyZW50U3RhZmZFbnRyeSksaD1uZXcgby5QaXRjaChzLlBpdGNoLkZ1bmRhbWVudGFsTm90ZSxzLlBpdGNoLk9jdGF2ZSxzLlBpdGNoLkFjY2lkZW50YWwpLGw9bmV3IHIuTm90ZShhLHZvaWQgMCxlLGgpO2EuTm90ZXMucHVzaChsKSxuLnB1c2goYSl9Y3JlYXRlQWx0ZXJhdGVkVm9pY2VFbnRyeSh0LGUsaSxzLG4sYSl7Y29uc3QgaD1uZXcgYyh0LGksdm9pZCAwKSxsPW5ldyBvLlBpdGNoKHMuRnVuZGFtZW50YWxOb3RlLHMuT2N0YXZlLG4pLHU9bmV3IHIuTm90ZShoLHZvaWQgMCxlLGwpO2guTm90ZXMucHVzaCh1KSxhLnB1c2goaCl9fXZhciB1LGQ7ZS5Wb2ljZUVudHJ5PWMsZnVuY3Rpb24odCl7dFt0LmFjY2VudD0wXT1cImFjY2VudFwiLHRbdC5zdHJvbmdhY2NlbnQ9MV09XCJzdHJvbmdhY2NlbnRcIix0W3QuaW52ZXJ0ZWRzdHJvbmdhY2NlbnQ9Ml09XCJpbnZlcnRlZHN0cm9uZ2FjY2VudFwiLHRbdC5zdGFjY2F0bz0zXT1cInN0YWNjYXRvXCIsdFt0LnN0YWNjYXRpc3NpbW89NF09XCJzdGFjY2F0aXNzaW1vXCIsdFt0LnNwaWNjYXRvPTVdPVwic3BpY2NhdG9cIix0W3QudGVudXRvPTZdPVwidGVudXRvXCIsdFt0LmZlcm1hdGE9N109XCJmZXJtYXRhXCIsdFt0LmludmVydGVkZmVybWF0YT04XT1cImludmVydGVkZmVybWF0YVwiLHRbdC5icmVhdGhtYXJrPTldPVwiYnJlYXRobWFya1wiLHRbdC5jYWVzdXJhPTEwXT1cImNhZXN1cmFcIix0W3QubGVmdGhhbmRwaXp6aWNhdG89MTFdPVwibGVmdGhhbmRwaXp6aWNhdG9cIix0W3QubmF0dXJhbGhhcm1vbmljPTEyXT1cIm5hdHVyYWxoYXJtb25pY1wiLHRbdC5zbmFwcGl6emljYXRvPTEzXT1cInNuYXBwaXp6aWNhdG9cIix0W3QudXBib3c9MTRdPVwidXBib3dcIix0W3QuZG93bmJvdz0xNV09XCJkb3duYm93XCIsdFt0LnNjb29wPTE2XT1cInNjb29wXCIsdFt0LnBsb3A9MTddPVwicGxvcFwiLHRbdC5kb2l0PTE4XT1cImRvaXRcIix0W3QuZmFsbG9mZj0xOV09XCJmYWxsb2ZmXCIsdFt0LnN0cmVzcz0yMF09XCJzdHJlc3NcIix0W3QudW5zdHJlc3M9MjFdPVwidW5zdHJlc3NcIix0W3QuZGV0YWNoZWRsZWdhdG89MjJdPVwiZGV0YWNoZWRsZWdhdG9cIix0W3Qub3RoZXJhcnRpY3VsYXRpb249MjNdPVwib3RoZXJhcnRpY3VsYXRpb25cIn0odT1lLkFydGljdWxhdGlvbkVudW18fChlLkFydGljdWxhdGlvbkVudW09e30pKSxmdW5jdGlvbih0KXt0W3QuVW5kZWZpbmVkPS0xXT1cIlVuZGVmaW5lZFwiLHRbdC5VcD0wXT1cIlVwXCIsdFt0LkRvd249MV09XCJEb3duXCIsdFt0Lk5vbmU9Ml09XCJOb25lXCIsdFt0LkRvdWJsZT0zXT1cIkRvdWJsZVwifShkPWUuU3RlbURpcmVjdGlvblR5cGV8fChlLlN0ZW1EaXJlY3Rpb25UeXBlPXt9KSl9LGZ1bmN0aW9uKHQsZSxpKXtcInVzZSBzdHJpY3RcIjtPYmplY3QuZGVmaW5lUHJvcGVydHkoZSxcIl9fZXNNb2R1bGVcIix7dmFsdWU6ITB9KTtjb25zdCBzPWkoNDUpO2NsYXNzIG4gZXh0ZW5kcyBzLkFic3RyYWN0Tm90YXRpb25JbnN0cnVjdGlvbntjb25zdHJ1Y3Rvcih0LGUpe3N1cGVyKHZvaWQgMCksdGhpcy5yaHl0aG09dCx0aGlzLm51bWVyYXRvcj10Lk51bWVyYXRvcix0aGlzLmRlbm9taW5hdG9yPXQuRGVub21pbmF0b3IsdGhpcy5zeW1ib2xFbnVtPWV9Z2V0IFJoeXRobSgpe3JldHVybiB0aGlzLnJoeXRobX1zZXQgUmh5dGhtKHQpe3RoaXMucmh5dGhtPXR9Z2V0IFN5bWJvbEVudW0oKXtyZXR1cm4gdGhpcy5zeW1ib2xFbnVtfXNldCBTeW1ib2xFbnVtKHQpe3RoaXMuc3ltYm9sRW51bT10fWNsb25lKCl7cmV0dXJuIG5ldyBuKHRoaXMucmh5dGhtLmNsb25lKCksdGhpcy5zeW1ib2xFbnVtKX1PcGVyYXRvckVxdWFscyh0KXtyZXR1cm4gdGhpcz09PXR8fCEoIXRoaXN8fCF0KSYmKHRoaXMubnVtZXJhdG9yPT09dC5udW1lcmF0b3ImJnRoaXMuZGVub21pbmF0b3I9PT10LmRlbm9taW5hdG9yKX1PcGVyYXRvck5vdEVxdWFsKHQpe3JldHVybiEodGhpcz09PXQpfVRvU3RyaW5nKCl7cmV0dXJuXCJSaHl0aG06IFwiK3RoaXMucmh5dGhtLnRvU3RyaW5nKCl9fWUuUmh5dGhtSW5zdHJ1Y3Rpb249bixmdW5jdGlvbih0KXt0W3QuTk9ORT0wXT1cIk5PTkVcIix0W3QuQ09NTU9OPTFdPVwiQ09NTU9OXCIsdFt0LkNVVD0yXT1cIkNVVFwifShlLlJoeXRobVN5bWJvbEVudW18fChlLlJoeXRobVN5bWJvbEVudW09e30pKX0sZnVuY3Rpb24odCxlLGkpe1widXNlIHN0cmljdFwiO3ZhciBzPXRoaXMmJnRoaXMuX19pbXBvcnREZWZhdWx0fHxmdW5jdGlvbih0KXtyZXR1cm4gdCYmdC5fX2VzTW9kdWxlP3Q6e2RlZmF1bHQ6dH19O09iamVjdC5kZWZpbmVQcm9wZXJ0eShlLFwiX19lc01vZHVsZVwiLHt2YWx1ZTohMH0pO2NvbnN0IG49cyhpKDEwKSkscj1pKDgpLG89aSgyKSxhPWkoMTcpLGg9aSgxNSksbD1pKDIpLGM9aSgyKSx1PWkoMzIpLGQ9aSgyMyksZj1pKDg3KSxtPWkoMjEpLHA9cyhpKDEpKSxnPWkoMTYpLGI9aSgzNiksUz1pKDQ2KSx5PWkoNjIpLHg9aSgxOSksRT1pKDM5KTtjbGFzcyB2e3N0YXRpYyBkdXJhdGlvbih0LGUpe2NvbnN0IGk9dC5SZWFsVmFsdWU7cmV0dXJuIGk+PTE/XCJ3XCI6aTwxJiZpPj0uNT9lJiZpPi41P1wid1wiOlwiaFwiOmk8LjUmJmk+PS4yNT9lJiZpPi4yNT9cImhcIjpcInFcIjppPC4yNSYmaT49LjEyNT9lJiZpPi4xMjU/XCJxXCI6XCI4XCI6aTwuMTI1JiZpPj0uMDYyNT9lJiZpPi4wNjI1P1wiOFwiOlwiMTZcIjppPC4wNjI1JiZpPj0uMDMxMjU/ZSYmaT4uMDMxMjU/XCIxNlwiOlwiMzJcIjppPC4wMzEyNSYmaT49LjAxNTYyNT9lJiZpPi4wMTU2MjU/XCIzMlwiOlwiNjRcIjplP1wiNjRcIjpcIjEyOFwifXN0YXRpYyBwaXRjaCh0LGUpe2NvbnN0IGk9Yy5Ob3RlRW51bVtlLkZ1bmRhbWVudGFsTm90ZV0udG9Mb3dlckNhc2UoKSxzPW8uUGl0Y2guYWNjaWRlbnRhbFZleGZsb3coZS5BY2NpZGVudGFsKSxuPWUuT2N0YXZlLXQuQ2xlZigpLk9jdGF2ZU9mZnNldCszLHI9dC5zb3VyY2VOb3RlLk5vdGVoZWFkO2xldCBhPVwiXCI7cmV0dXJuIHImJihhPXRoaXMuTm90ZUhlYWRDb2RlKHIpKSxbaStcIm4vXCIrbithLHMsdC5DbGVmKCldfXN0YXRpYyBOb3RlSGVhZENvZGUodCl7Y29uc3QgZT10LkZpbGxlZD9cIjJcIjpcIjFcIjtzd2l0Y2godC5TaGFwZSl7Y2FzZSB5Lk5vdGVIZWFkU2hhcGUuTk9STUFMOnJldHVyblwiXCI7Y2FzZSB5Lk5vdGVIZWFkU2hhcGUuRElBTU9ORDpyZXR1cm5cIi9EXCIrZTtjYXNlIHkuTm90ZUhlYWRTaGFwZS5UUklBTkdMRTpyZXR1cm5cIi9UXCIrZTtjYXNlIHkuTm90ZUhlYWRTaGFwZS5YOnJldHVyblwiL1hcIitlO2Nhc2UgeS5Ob3RlSGVhZFNoYXBlLkNJUkNMRVg6cmV0dXJuXCIvWDNcIjtjYXNlIHkuTm90ZUhlYWRTaGFwZS5SRUNUQU5HTEU6cmV0dXJuXCIvUlwiK2U7Y2FzZSB5Lk5vdGVIZWFkU2hhcGUuU1FVQVJFOnJldHVyblwiL1NcIitlO2Nhc2UgeS5Ob3RlSGVhZFNoYXBlLlNMQVNIOmRlZmF1bHQ6cmV0dXJuXCJcIn19c3RhdGljIEdob3N0Tm90ZSh0KXtyZXR1cm4gbmV3IG4uZGVmYXVsdC5GbG93Lkdob3N0Tm90ZSh7ZHVyYXRpb246di5kdXJhdGlvbih0LCExKX0pfXN0YXRpYyBTdGF2ZU5vdGUodCl7dmFyIGUsaTtjb25zdCBzPXQubm90ZXMucmV2ZXJzZSgpLHI9dC5wYXJlbnRTdGFmZkVudHJ5LnBhcmVudE1lYXN1cmUucGFyZW50U291cmNlTWVhc3VyZS5SdWxlcyxvPXNbMF07bGV0IGE9W107Y29uc3QgaD1bXSxsPW8uZ3JhcGhpY2FsTm90ZUxlbmd0aCxjPXZvaWQgMCE9PW8uc291cmNlTm90ZS5Ob3RlVHVwbGV0O2xldCB1PXYuZHVyYXRpb24obCxjKTt2b2lkIDAhPT1vLnNvdXJjZU5vdGUuVHlwZUxlbmd0aCYmby5zb3VyY2VOb3RlLlR5cGVMZW5ndGghPT1sJiYodT12LmR1cmF0aW9uKG8uc291cmNlTm90ZS5UeXBlTGVuZ3RoLGMpKTtsZXQgZCxmPXZvaWQgMCxtPW8ubnVtYmVyT2ZEb3RzLHA9ITEsYj0wLFM9ITEsRT0hMTtmb3IoY29uc3QgdCBvZiBzKXtpZihtPHQubnVtYmVyT2ZEb3RzJiYobT10Lm51bWJlck9mRG90cyksdC5zb3VyY2VOb3RlLmlzUmVzdCgpKXtpZihFPSEwLGE9W1wiYi80XCJdLHQucGFyZW50Vm9pY2VFbnRyeS5wYXJlbnRTdGFmZkVudHJ5LnBhcmVudE1lYXN1cmUucGFyZW50U291cmNlTWVhc3VyZS5EdXJhdGlvbi5SZWFsVmFsdWU8PWwuUmVhbFZhbHVlJiYoYT1bXCJkLzVcIl0sdT1cIndcIixtPTAscD0hMCxiPXIuV2hvbGVSZXN0WFNoaWZ0VmV4Zmxvdyp4LnVuaXRJblBpeGVscyksdC5zb3VyY2VOb3RlLlBhcmVudFN0YWZmLlZvaWNlcy5sZW5ndGg+MSl7bGV0IHM9MDtmb3IobGV0IGU9MDtlPHQuc291cmNlTm90ZS5QYXJlbnRTdGFmZkVudHJ5LlZvaWNlRW50cmllcy5sZW5ndGg7ZSsrKXQuc291cmNlTm90ZS5QYXJlbnRTdGFmZkVudHJ5LlZvaWNlRW50cmllc1tlXS5Ob3Rlc1swXS5QcmludE9iamVjdCYmcysrO2lmKHM+MSlzd2l0Y2gobnVsbD09PShpPW51bGw9PT0oZT10LnNvdXJjZU5vdGUuUGFyZW50Vm9pY2VFbnRyeSl8fHZvaWQgMD09PWU/dm9pZCAwOmUuUGFyZW50Vm9pY2UpfHx2b2lkIDA9PT1pP3ZvaWQgMDppLlZvaWNlSWQpe2Nhc2UgMTphPVtcImUvNVwiXTticmVhaztjYXNlIDI6YT1bXCJmLzRcIl19fWJyZWFrfXQuc291cmNlTm90ZS5Ob3RlaGVhZCYmdC5zb3VyY2VOb3RlLk5vdGVoZWFkLlNoYXBlPT09eS5Ob3RlSGVhZFNoYXBlLlNMQVNIJiYoUz0hMCk7Y29uc3Qgcz10LnZmcGl0Y2g7aWYoYS5wdXNoKHNbMF0pLGgucHVzaChzWzFdKSwhZil7Zj12LkNsZWYoc1syXSkudHlwZX19Zm9yKGxldCB0PTAsZT1tO3Q8ZTsrK3QpdSs9XCJkXCI7UyYmKHUrPVwic1wiKSxFJiYodSs9XCJyXCIpO2NvbnN0IF89e2FsaWduX2NlbnRlcjpwLGF1dG9fc3RlbTohMCxjbGVmOmYsZHVyYXRpb246dSxrZXlzOmEsc2xhc2g6dC5wYXJlbnRWb2ljZUVudHJ5LkdyYWNlTm90ZVNsYXNofSx3PXQubm90ZXNbMF0uc291cmNlTm90ZTtpZih3LklzQ3VlTm90ZSYmKF8uZ2x5cGhfZm9udF9zY2FsZT1uLmRlZmF1bHQuRmxvdy5ERUZBVUxUX05PVEFUSU9OX0ZPTlRfU0NBTEUqbi5kZWZhdWx0LkZsb3cuR3JhY2VOb3RlLlNDQUxFLF8uc3Ryb2tlX3B4PW4uZGVmYXVsdC5GbG93LkdyYWNlTm90ZS5MRURHRVJfTElORV9PRkZTRVQpLGQ9dC5wYXJlbnRWb2ljZUVudHJ5LklzR3JhY2V8fHQubm90ZXNbMF0uc291cmNlTm90ZS5Jc0N1ZU5vdGU/bmV3IG4uZGVmYXVsdC5GbG93LkdyYWNlTm90ZShfKTpuZXcgbi5kZWZhdWx0LkZsb3cuU3RhdmVOb3RlKF8pLChyLkxlZGdlckxpbmVXaWR0aHx8ci5MZWRnZXJMaW5lU3Ryb2tlU3R5bGUpJiYoZC5sZWRnZXJMaW5lU3R5bGV8fChkLmxlZGdlckxpbmVTdHlsZT17fSksci5MZWRnZXJMaW5lV2lkdGgmJihkLmxlZGdlckxpbmVTdHlsZS5saW5lV2lkdGg9ci5MZWRnZXJMaW5lV2lkdGgpLHIuTGVkZ2VyTGluZVN0cm9rZVN0eWxlJiYoZC5sZWRnZXJMaW5lU3R5bGUuc3Ryb2tlU3R5bGU9ci5MZWRnZXJMaW5lU3Ryb2tlU3R5bGUpKSxyLkNvbG9yaW5nRW5hYmxlZCl7Y29uc3QgZT1yLkRlZmF1bHRDb2xvclN0ZW07bGV0IGk9dC5wYXJlbnRWb2ljZUVudHJ5LlN0ZW1Db2xvcjshaSYmZSYmKGk9ZSk7Y29uc3Qgcz17ZmlsbFN0eWxlOmksc3Ryb2tlU3R5bGU6aX07aSYmKHQucGFyZW50Vm9pY2VFbnRyeS5TdGVtQ29sb3I9aSxkLnNldFN0ZW1TdHlsZShzKSxkLmZsYWcmJnIuQ29sb3JGbGFncyYmZC5zZXRGbGFnU3R5bGUocykpfWlmKGQueF9zaGlmdD1iLHQucGFyZW50Vm9pY2VFbnRyeS5Jc0dyYWNlJiZ0Lm5vdGVzWzBdLnNvdXJjZU5vdGUuTm90ZUJlYW0mJih0LnBhcmVudFZvaWNlRW50cnkuV2FudGVkU3RlbURpcmVjdGlvbj10Lm5vdGVzWzBdLnNvdXJjZU5vdGUuTm90ZUJlYW0uTm90ZXNbMF0uUGFyZW50Vm9pY2VFbnRyeS5XYW50ZWRTdGVtRGlyZWN0aW9uKSx0LnBhcmVudFZvaWNlRW50cnkpe3N3aXRjaCh0LnBhcmVudFZvaWNlRW50cnkuV2FudGVkU3RlbURpcmVjdGlvbil7Y2FzZSBnLlN0ZW1EaXJlY3Rpb25UeXBlLlVwOmQuc2V0U3RlbURpcmVjdGlvbihuLmRlZmF1bHQuRmxvdy5TdGVtLlVQKTticmVhaztjYXNlIGcuU3RlbURpcmVjdGlvblR5cGUuRG93bjpkLnNldFN0ZW1EaXJlY3Rpb24obi5kZWZhdWx0LkZsb3cuU3RlbS5ET1dOKX19Zm9yKGxldCB0PTAsZT1zLmxlbmd0aDt0PGU7dCs9MSl7aWYoc1t0XS5zZXRJbmRleChkLHQpLGhbdF0pe2lmKFwiKytcIj09PWhbdF0pe2QuYWRkQWNjaWRlbnRhbCh0LG5ldyBuLmRlZmF1bHQuRmxvdy5BY2NpZGVudGFsKFwiIyNcIikpLGQuYWRkQWNjaWRlbnRhbCh0LG5ldyBuLmRlZmF1bHQuRmxvdy5BY2NpZGVudGFsKFwiI1wiKSk7Y29udGludWV9aWYoXCJiYnNcIj09PWhbdF0pe2QuYWRkQWNjaWRlbnRhbCh0LG5ldyBuLmRlZmF1bHQuRmxvdy5BY2NpZGVudGFsKFwiYmJcIikpLGQuYWRkQWNjaWRlbnRhbCh0LG5ldyBuLmRlZmF1bHQuRmxvdy5BY2NpZGVudGFsKFwiYlwiKSk7Y29udGludWV9ZC5hZGRBY2NpZGVudGFsKHQsbmV3IG4uZGVmYXVsdC5GbG93LkFjY2lkZW50YWwoaFt0XSkpfWNvbnN0IGU9c1t0XS5zb3VyY2VOb3RlLlRyZW1vbG9TdHJva2VzO2U+MCYmZC5hZGRNb2RpZmllcih0LG5ldyBuLmRlZmF1bHQuRmxvdy5UcmVtb2xvKGUpKX1pZiguMjU9PT13Lkxlbmd0aC5SZWFsVmFsdWUmJncuTm90ZWhlYWQmJiExPT09dy5Ob3RlaGVhZC5GaWxsZWQpe2NvbnN0IHQ9ZC5nZXRLZXlQcm9wcygpO2ZvcihsZXQgZT0wO2U8dC5sZW5ndGg7ZSsrKXRbZV0uY29kZT1cInY4MVwifWZvcihsZXQgdD0wLGU9bTt0PGU7Kyt0KWQuYWRkRG90VG9BbGwoKTtyZXR1cm4gZH1zdGF0aWMgZ2VuZXJhdGVBcnRpY3VsYXRpb25zKHQsZSl7aWYoIXR8fFwiR2hvc3ROb3RlXCI9PT10LmdldEF0dHJpYnV0ZShcInR5cGVcIikpcmV0dXJuO2xldCBpPTM7dC5nZXRTdGVtRGlyZWN0aW9uKCk9PT1uLmRlZmF1bHQuRmxvdy5TdGVtLlVQJiYoaT00KTtmb3IoY29uc3QgcyBvZiBlKXtsZXQgZT12b2lkIDA7c3dpdGNoKHMpe2Nhc2UgZy5BcnRpY3VsYXRpb25FbnVtLmFjY2VudDplPW5ldyBuLmRlZmF1bHQuRmxvdy5BcnRpY3VsYXRpb24oXCJhPlwiKTticmVhaztjYXNlIGcuQXJ0aWN1bGF0aW9uRW51bS5kb3duYm93OmU9bmV3IG4uZGVmYXVsdC5GbG93LkFydGljdWxhdGlvbihcImFtXCIpO2JyZWFrO2Nhc2UgZy5BcnRpY3VsYXRpb25FbnVtLmZlcm1hdGE6ZT1uZXcgbi5kZWZhdWx0LkZsb3cuQXJ0aWN1bGF0aW9uKFwiYUBhXCIpLGk9MzticmVhaztjYXNlIGcuQXJ0aWN1bGF0aW9uRW51bS5pbnZlcnRlZGZlcm1hdGE6ZT1uZXcgbi5kZWZhdWx0LkZsb3cuQXJ0aWN1bGF0aW9uKFwiYUB1XCIpLGk9NDticmVhaztjYXNlIGcuQXJ0aWN1bGF0aW9uRW51bS5sZWZ0aGFuZHBpenppY2F0bzplPW5ldyBuLmRlZmF1bHQuRmxvdy5BcnRpY3VsYXRpb24oXCJhK1wiKTticmVhaztjYXNlIGcuQXJ0aWN1bGF0aW9uRW51bS5zbmFwcGl6emljYXRvOmU9bmV3IG4uZGVmYXVsdC5GbG93LkFydGljdWxhdGlvbihcImFvXCIpO2JyZWFrO2Nhc2UgZy5BcnRpY3VsYXRpb25FbnVtLnN0YWNjYXRpc3NpbW86ZT1uZXcgbi5kZWZhdWx0LkZsb3cuQXJ0aWN1bGF0aW9uKFwiYXZcIik7YnJlYWs7Y2FzZSBnLkFydGljdWxhdGlvbkVudW0uc3RhY2NhdG86ZT1uZXcgbi5kZWZhdWx0LkZsb3cuQXJ0aWN1bGF0aW9uKFwiYS5cIik7YnJlYWs7Y2FzZSBnLkFydGljdWxhdGlvbkVudW0udGVudXRvOmU9bmV3IG4uZGVmYXVsdC5GbG93LkFydGljdWxhdGlvbihcImEtXCIpO2JyZWFrO2Nhc2UgZy5BcnRpY3VsYXRpb25FbnVtLnVwYm93OmU9bmV3IG4uZGVmYXVsdC5GbG93LkFydGljdWxhdGlvbihcImF8XCIpO2JyZWFrO2Nhc2UgZy5BcnRpY3VsYXRpb25FbnVtLnN0cm9uZ2FjY2VudDplPW5ldyBuLmRlZmF1bHQuRmxvdy5BcnRpY3VsYXRpb24oXCJhXlwiKX1lJiYoZS5zZXRQb3NpdGlvbihpKSx0LmFkZE1vZGlmaWVyKDAsZSkpfX1zdGF0aWMgZ2VuZXJhdGVPcm5hbWVudHModCxlKXtsZXQgaT0zO3QuZ2V0U3RlbURpcmVjdGlvbigpPT09bi5kZWZhdWx0LkZsb3cuU3RlbS5VUCYmKGk9NCk7bGV0IHM9dm9pZCAwO3N3aXRjaChlLkdldE9ybmFtZW50KXtjYXNlIFMuT3JuYW1lbnRFbnVtLkRlbGF5ZWRJbnZlcnRlZFR1cm46cz1uZXcgbi5kZWZhdWx0LkZsb3cuT3JuYW1lbnQoXCJ0dXJuX2ludmVydGVkXCIpLHMuc2V0RGVsYXllZCghMCk7YnJlYWs7Y2FzZSBTLk9ybmFtZW50RW51bS5EZWxheWVkVHVybjpzPW5ldyBuLmRlZmF1bHQuRmxvdy5Pcm5hbWVudChcInR1cm5cIikscy5zZXREZWxheWVkKCEwKTticmVhaztjYXNlIFMuT3JuYW1lbnRFbnVtLkludmVydGVkTW9yZGVudDpzPW5ldyBuLmRlZmF1bHQuRmxvdy5Pcm5hbWVudChcIm1vcmRlbnRfaW52ZXJ0ZWRcIikscy5zZXREZWxheWVkKCExKTticmVhaztjYXNlIFMuT3JuYW1lbnRFbnVtLkludmVydGVkVHVybjpzPW5ldyBuLmRlZmF1bHQuRmxvdy5Pcm5hbWVudChcInR1cm5faW52ZXJ0ZWRcIikscy5zZXREZWxheWVkKCExKTticmVhaztjYXNlIFMuT3JuYW1lbnRFbnVtLk1vcmRlbnQ6cz1uZXcgbi5kZWZhdWx0LkZsb3cuT3JuYW1lbnQoXCJtb3JkZW50XCIpLHMuc2V0RGVsYXllZCghMSk7YnJlYWs7Y2FzZSBTLk9ybmFtZW50RW51bS5UcmlsbDpzPW5ldyBuLmRlZmF1bHQuRmxvdy5Pcm5hbWVudChcInRyXCIpLHMuc2V0RGVsYXllZCghMSk7YnJlYWs7Y2FzZSBTLk9ybmFtZW50RW51bS5UdXJuOnM9bmV3IG4uZGVmYXVsdC5GbG93Lk9ybmFtZW50KFwidHVyblwiKSxzLnNldERlbGF5ZWQoITEpO2JyZWFrO2RlZmF1bHQ6cmV0dXJuIHZvaWQgcC5kZWZhdWx0Lndhcm4oXCJ1bmhhbmRsZWQgT3JuYW1lbnRFbnVtIHR5cGU6IFwiK2UuR2V0T3JuYW1lbnQpfXMmJihlLkFjY2lkZW50YWxCZWxvdyE9PWwuQWNjaWRlbnRhbEVudW0uTk9ORSYmcy5zZXRMb3dlckFjY2lkZW50YWwoby5QaXRjaC5hY2NpZGVudGFsVmV4ZmxvdyhlLkFjY2lkZW50YWxCZWxvdykpLGUuQWNjaWRlbnRhbEFib3ZlIT09bC5BY2NpZGVudGFsRW51bS5OT05FJiZzLnNldFVwcGVyQWNjaWRlbnRhbChvLlBpdGNoLmFjY2lkZW50YWxWZXhmbG93KGUuQWNjaWRlbnRhbEFib3ZlKSkscy5zZXRQb3NpdGlvbihpKSx0LmFkZE1vZGlmaWVyKDAscykpfXN0YXRpYyBTdHJva2VUeXBlRnJvbUFycGVnZ2lvVHlwZSh0KXtzd2l0Y2godCl7Y2FzZSBFLkFycGVnZ2lvVHlwZS5BUlBFR0dJT19ESVJFQ1RJT05MRVNTOnJldHVybiA3O2Nhc2UgRS5BcnBlZ2dpb1R5cGUuQlJVU0hfRE9XTjpyZXR1cm4gMjtjYXNlIEUuQXJwZWdnaW9UeXBlLkJSVVNIX1VQOnJldHVybiAxO2Nhc2UgRS5BcnBlZ2dpb1R5cGUuUkFTUVVFRE9fRE9XTjpyZXR1cm4gNjtjYXNlIEUuQXJwZWdnaW9UeXBlLlJBU1FVRURPX1VQOnJldHVybiA1O2Nhc2UgRS5BcnBlZ2dpb1R5cGUuUk9MTF9ET1dOOnJldHVybiA0O2Nhc2UgRS5BcnBlZ2dpb1R5cGUuUk9MTF9VUDpyZXR1cm4gMztkZWZhdWx0OnJldHVybiA3fX1zdGF0aWMgQ3JlYXRlVGFiTm90ZSh0KXtjb25zdCBlPVtdLGk9dC5ub3Rlc1swXS5ncmFwaGljYWxOb3RlTGVuZ3RoLHM9dm9pZCAwIT09dC5ub3Rlc1swXS5zb3VyY2VOb3RlLk5vdGVUdXBsZXQ7bGV0IHI9di5kdXJhdGlvbihpLHMpLG89MDtmb3IoY29uc3QgaSBvZiB0Lm5vdGVzKXtjb25zdCB0PWkuc291cmNlTm90ZSxzPXtzdHI6dC5TdHJpbmdOdW1iZXIsZnJldDp0LkZyZXROdW1iZXJ9O2UucHVzaChzKSxvPGkubnVtYmVyT2ZEb3RzJiYobz1pLm51bWJlck9mRG90cyl9Zm9yKGxldCB0PTAsZT1vO3Q8ZTsrK3Qpcis9XCJkXCI7cmV0dXJuIG5ldyBuLmRlZmF1bHQuRmxvdy5UYWJOb3RlKHtkdXJhdGlvbjpyLHBvc2l0aW9uczplfSl9c3RhdGljIENsZWYodCxlPVwiZGVmYXVsdFwiKXtsZXQgaSxzO3N3aXRjaChcImRlZmF1bHRcIiE9PWUmJlwic21hbGxcIiE9PWUmJihwLmRlZmF1bHQud2FybihgSW52YWxpZCBWZXhGbG93IGNsZWYgc2l6ZSBcIiR7ZX1cIiBzcGVjaWZpZWQuIFVzaW5nIFwiZGVmYXVsdFwiLmApLGU9XCJkZWZhdWx0XCIpLHQuQ2xlZlR5cGUpe2Nhc2Ugci5DbGVmRW51bS5HOnN3aXRjaCh0LkxpbmUpe2Nhc2UgMTppPVwiZnJlbmNoXCI7YnJlYWs7Y2FzZSAyOmk9XCJ0cmVibGVcIjticmVhaztkZWZhdWx0Omk9XCJ0cmVibGVcIixwLmRlZmF1bHQuZXJyb3IoYENsZWYgJHtyLkNsZWZFbnVtW3QuQ2xlZlR5cGVdfSBvbiBsaW5lICR7dC5MaW5lfSBub3Qgc3VwcG9ydGVkIGJ5IFZleEZsb3cuIFVzaW5nIGRlZmF1bHQgdmFsdWUgXCIke2l9XCIuYCl9YnJlYWs7Y2FzZSByLkNsZWZFbnVtLkY6c3dpdGNoKHQuTGluZSl7Y2FzZSA0Omk9XCJiYXNzXCI7YnJlYWs7Y2FzZSAzOmk9XCJiYXJpdG9uZS1mXCI7YnJlYWs7Y2FzZSA1Omk9XCJzdWJiYXNzXCI7YnJlYWs7ZGVmYXVsdDppPVwiYmFzc1wiLHAuZGVmYXVsdC5lcnJvcihgQ2xlZiAke3IuQ2xlZkVudW1bdC5DbGVmVHlwZV19IG9uIGxpbmUgJHt0LkxpbmV9IG5vdCBzdXBwb3J0ZWQgYnkgVmV4Rmxvdy4gVXNpbmcgZGVmYXVsdCB2YWx1ZSBcIiR7aX1cIi5gKX1icmVhaztjYXNlIHIuQ2xlZkVudW0uQzpzd2l0Y2godC5MaW5lKXtjYXNlIDM6aT1cImFsdG9cIjticmVhaztjYXNlIDQ6aT1cInRlbm9yXCI7YnJlYWs7Y2FzZSAxOmk9XCJzb3ByYW5vXCI7YnJlYWs7Y2FzZSAyOmk9XCJtZXp6by1zb3ByYW5vXCI7YnJlYWs7ZGVmYXVsdDppPVwiYWx0b1wiLHAuZGVmYXVsdC5lcnJvcihgQ2xlZiAke3IuQ2xlZkVudW1bdC5DbGVmVHlwZV19IG9uIGxpbmUgJHt0LkxpbmV9IG5vdCBzdXBwb3J0ZWQgYnkgVmV4Rmxvdy4gVXNpbmcgZGVmYXVsdCB2YWx1ZSBcIiR7aX1cIi5gKX1icmVhaztjYXNlIHIuQ2xlZkVudW0ucGVyY3Vzc2lvbjppPVwicGVyY3Vzc2lvblwiO2JyZWFrO2Nhc2Ugci5DbGVmRW51bS5UQUI6aT1cInRyZWJsZVwifXJldHVybiAxPT09dC5PY3RhdmVPZmZzZXQmJlwiYmFzc1wiIT09aT9zPVwiOHZhXCI6LTE9PT10Lk9jdGF2ZU9mZnNldCYmKHM9XCI4dmJcIikse3R5cGU6aSxzaXplOmUsYW5ub3RhdGlvbjpzfX1zdGF0aWMgVGltZVNpZ25hdHVyZSh0KXtsZXQgZTtzd2l0Y2godC5TeW1ib2xFbnVtKXtjYXNlIGEuUmh5dGhtU3ltYm9sRW51bS5OT05FOmU9dC5SaHl0aG0uTnVtZXJhdG9yK1wiL1wiK3QuUmh5dGhtLkRlbm9taW5hdG9yO2JyZWFrO2Nhc2UgYS5SaHl0aG1TeW1ib2xFbnVtLkNPTU1PTjplPVwiQ1wiO2JyZWFrO2Nhc2UgYS5SaHl0aG1TeW1ib2xFbnVtLkNVVDplPVwiQ3xcIn1yZXR1cm4gbmV3IG4uZGVmYXVsdC5GbG93LlRpbWVTaWduYXR1cmUoZSl9c3RhdGljIGtleVNpZ25hdHVyZSh0KXtpZighdClyZXR1cm47bGV0IGU7c3dpdGNoKHQuTW9kZSl7Y2FzZSBoLktleUVudW0ubWlub3I6ZT12Lm1pbm9yTWFwW3QuS2V5XStcIm1cIjticmVhaztjYXNlIGguS2V5RW51bS5tYWpvcjpjYXNlIGguS2V5RW51bS5ub25lOmU9di5tYWpvck1hcFt0LktleV07YnJlYWs7ZGVmYXVsdDplPVwiQ1wifXJldHVybiBlfXN0YXRpYyBsaW5lKHQsZSl7c3dpdGNoKHQpe2Nhc2UgdS5TeXN0ZW1MaW5lc0VudW0uU2luZ2xlVGhpbjpyZXR1cm4gZT09PWIuU3lzdGVtTGluZVBvc2l0aW9uLk1lYXN1cmVCZWdpbj8xOjA7Y2FzZSB1LlN5c3RlbUxpbmVzRW51bS5Eb3VibGVUaGluOnJldHVybiAyO2Nhc2UgdS5TeXN0ZW1MaW5lc0VudW0uVGhpbkJvbGQ6cmV0dXJuIDY7Y2FzZSB1LlN5c3RlbUxpbmVzRW51bS5Cb2xkVGhpbkRvdHM6cmV0dXJuIDU7Y2FzZSB1LlN5c3RlbUxpbmVzRW51bS5Eb3RzVGhpbkJvbGQ6Y2FzZSB1LlN5c3RlbUxpbmVzRW51bS5Eb3RzQm9sZEJvbGREb3RzOnJldHVybiA2O2Nhc2UgdS5TeXN0ZW1MaW5lc0VudW0uTm9uZTpyZXR1cm4gOH19c3RhdGljIGZvbnQodCxlPWQuRm9udFN0eWxlcy5SZWd1bGFyLGk9Zi5Gb250cy5UaW1lc05ld1JvbWFuLHMsbil7bGV0IHI9XCJub3JtYWxcIixvPVwibm9ybWFsXCIsYT1gJyR7cy5EZWZhdWx0Rm9udEZhbWlseX0nYDtzd2l0Y2goZSl7Y2FzZSBkLkZvbnRTdHlsZXMuQm9sZDpvPVwiYm9sZFwiO2JyZWFrO2Nhc2UgZC5Gb250U3R5bGVzLkl0YWxpYzpyPVwiaXRhbGljXCI7YnJlYWs7Y2FzZSBkLkZvbnRTdHlsZXMuQm9sZEl0YWxpYzpyPVwiaXRhbGljXCIsbz1cImJvbGRcIjticmVhaztjYXNlIGQuRm9udFN0eWxlcy5VbmRlcmxpbmVkOn1zd2l0Y2goaSl7Y2FzZSBmLkZvbnRzLktva2lsYTp9cmV0dXJuIG4mJlwiZGVmYXVsdFwiIT09biYmKGE9YCcke259J2ApLHIrXCIgXCIrbytcIiBcIitNYXRoLmZsb29yKHQpK1wicHggXCIrYX1zdGF0aWMgZm9udFN0eWxlKHQpe3N3aXRjaCh0KXtjYXNlIGQuRm9udFN0eWxlcy5Cb2xkOnJldHVyblwiYm9sZFwiO2Nhc2UgZC5Gb250U3R5bGVzLkl0YWxpYzpyZXR1cm5cIml0YWxpY1wiO2Nhc2UgZC5Gb250U3R5bGVzLkJvbGRJdGFsaWM6cmV0dXJuXCJpdGFsaWMgYm9sZFwiO2RlZmF1bHQ6cmV0dXJuXCJub3JtYWxcIn19c3RhdGljIHN0eWxlKHQpe3JldHVybiBtLk9VVExJTkVfQU5EX0ZJTExfU1RZTEVfRElDVC5nZXRWYWx1ZSh0KX19ZS5WZXhGbG93Q29udmVydGVyPXYsdi5tYWpvck1hcD17XCItMVwiOlwiRlwiLFwiLTJcIjpcIkJiXCIsXCItM1wiOlwiRWJcIixcIi00XCI6XCJBYlwiLFwiLTVcIjpcIkRiXCIsXCItNlwiOlwiR2JcIixcIi03XCI6XCJDYlwiLFwiLThcIjpcIkZiXCIsMDpcIkNcIiwxOlwiR1wiLDI6XCJEXCIsMzpcIkFcIiw0OlwiRVwiLDU6XCJCXCIsNjpcIkYjXCIsNzpcIkMjXCIsODpcIkcjXCJ9LHYubWlub3JNYXA9e1wiLTFcIjpcIkRcIixcIi0yXCI6XCJHXCIsXCItM1wiOlwiQ1wiLFwiLTRcIjpcIkZcIixcIi01XCI6XCJCYlwiLFwiLTZcIjpcIkViXCIsXCItN1wiOlwiQWJcIixcIi04XCI6XCJEYlwiLDA6XCJBXCIsMTpcIkVcIiwyOlwiQlwiLDM6XCJGI1wiLDQ6XCJDI1wiLDU6XCJHI1wiLDY6XCJEI1wiLDc6XCJBI1wiLDg6XCJFI1wifX0sZnVuY3Rpb24odCxlLGkpe1widXNlIHN0cmljdFwiO09iamVjdC5kZWZpbmVQcm9wZXJ0eShlLFwiX19lc01vZHVsZVwiLHt2YWx1ZTohMH0pO2NvbnN0IHM9aSgxMDEpLG49aSg1Mikscj1pKDQpLG89aSg2NCksYT1pKDIxKSxoPWkoNiksbD1pKDU2KSxjPWkoNjUpLHU9aSgxKSxkPWkoNDkpLGY9aSgyOCksbT1pKDk0KTtlLnVuaXRJblBpeGVscz0xMDtjbGFzcyBwIGV4dGVuZHMgcy5NdXNpY1NoZWV0RHJhd2Vye2NvbnN0cnVjdG9yKHQ9bmV3IGYuRHJhd2luZ1BhcmFtZXRlcnMpe3N1cGVyKG5ldyBvLlZleEZsb3dUZXh0TWVhc3VyZXIodC5SdWxlcyksdCksdGhpcy5iYWNrZW5kcz1bXSx0aGlzLnpvb209MSx0aGlzLnBhZ2VJZHg9MH1nZXQgQmFja2VuZHMoKXtyZXR1cm4gdGhpcy5iYWNrZW5kc31kcmF3U2hlZXQodCl7dGhpcy5wYWdlSWR4PTA7Zm9yKGNvbnN0IGUgb2YgdC5NdXNpY1BhZ2VzKXtjb25zdCB0PXRoaXMuYmFja2VuZHNbdGhpcy5wYWdlSWR4XTt0LmdyYXBoaWNhbE11c2ljUGFnZT1lLHQuc2NhbGUodGhpcy56b29tKSx0aGlzLnBhZ2VJZHgrPTF9dGhpcy5wYWdlSWR4PTAsdGhpcy5iYWNrZW5kPXRoaXMuYmFja2VuZHNbMF0sc3VwZXIuZHJhd1NoZWV0KHQpfWRyYXdQYWdlKHQpe3RoaXMuYmFja2VuZD10aGlzLmJhY2tlbmRzW3QuUGFnZU51bWJlci0xXSxzdXBlci5kcmF3UGFnZSh0KSx0aGlzLnBhZ2VJZHgrPTEsdGhpcy5iYWNrZW5kPXRoaXMuYmFja2VuZHNbdGhpcy5wYWdlSWR4XX1jbGVhcigpe2Zvcihjb25zdCB0IG9mIHRoaXMuYmFja2VuZHMpdC5jbGVhcigpfXNldFpvb20odCl7dGhpcy56b29tPXR9Y2FsY3VsYXRlUGl4ZWxEaXN0YW5jZSh0KXtyZXR1cm4gdCplLnVuaXRJblBpeGVsc31kcmF3U3RhZmZMaW5lKHQpe3N1cGVyLmRyYXdTdGFmZkxpbmUodCk7Y29uc3QgZT10LlBvc2l0aW9uQW5kU2hhcGUuQWJzb2x1dGVQb3NpdGlvbjt0aGlzLnJ1bGVzLlJlbmRlclNsdXJzJiZ0aGlzLmRyYXdTbHVycyh0LGUpfWRyYXdTbHVycyh0LGUpe2Zvcihjb25zdCBpIG9mIHQuR3JhcGhpY2FsU2x1cnMpaS5zbHVyLmlzQ3Jvc3NlZCgpfHx0aGlzLmRyYXdTbHVyKGksZSl9ZHJhd1NsdXIodCxlKXtjb25zdCBpPVtdLHM9bmV3IHIuUG9pbnRGMkQodC5iZXppZXJTdGFydFB0LngrZS54LHQuYmV6aWVyU3RhcnRQdC55K2UueSksbj1uZXcgci5Qb2ludEYyRCh0LmJlemllclN0YXJ0Q29udHJvbFB0LngrZS54LHQuYmV6aWVyU3RhcnRDb250cm9sUHQueStlLnkpLG89bmV3IHIuUG9pbnRGMkQodC5iZXppZXJFbmRDb250cm9sUHQueCtlLngsdC5iZXppZXJFbmRDb250cm9sUHQueStlLnkpLGE9bmV3IHIuUG9pbnRGMkQodC5iZXppZXJFbmRQdC54K2UueCx0LmJlemllckVuZFB0LnkrZS55KTtpLnB1c2godGhpcy5hcHBseVNjcmVlblRyYW5zZm9ybWF0aW9uKHMpKSxpLnB1c2godGhpcy5hcHBseVNjcmVlblRyYW5zZm9ybWF0aW9uKG4pKSxpLnB1c2godGhpcy5hcHBseVNjcmVlblRyYW5zZm9ybWF0aW9uKG8pKSxpLnB1c2godGhpcy5hcHBseVNjcmVlblRyYW5zZm9ybWF0aW9uKGEpKSx0LnBsYWNlbWVudD09PWguUGxhY2VtZW50RW51bS5BYm92ZT8ocy55LT0uMDUsbi55LT0uMyxvLnktPS4zLGEueS09LjA1KToocy55Kz0uMDUsbi55Kz0uMyxvLnkrPS4zLGEueSs9LjA1KSxpLnB1c2godGhpcy5hcHBseVNjcmVlblRyYW5zZm9ybWF0aW9uKHMpKSxpLnB1c2godGhpcy5hcHBseVNjcmVlblRyYW5zZm9ybWF0aW9uKG4pKSxpLnB1c2godGhpcy5hcHBseVNjcmVlblRyYW5zZm9ybWF0aW9uKG8pKSxpLnB1c2godGhpcy5hcHBseVNjcmVlblRyYW5zZm9ybWF0aW9uKGEpKSx0aGlzLmJhY2tlbmQucmVuZGVyQ3VydmUoaSl9ZHJhd01lYXN1cmUodCl7dC5zZXRBYnNvbHV0ZUNvb3JkaW5hdGVzKHQuUG9zaXRpb25BbmRTaGFwZS5BYnNvbHV0ZVBvc2l0aW9uLngqZS51bml0SW5QaXhlbHMsdC5Qb3NpdGlvbkFuZFNoYXBlLkFic29sdXRlUG9zaXRpb24ueSplLnVuaXRJblBpeGVscyk7dHJ5e3QuZHJhdyh0aGlzLmJhY2tlbmQuZ2V0Q29udGV4dCgpKX1jYXRjaCh0KXt1Lndhcm4oXCJWZXhGbG93TXVzaWNTaGVldERyYXdlci5kcmF3TWVhc3VyZVwiLHQpfWZvcihjb25zdCBlIG9mIHQuc3RhZmZFbnRyaWVzKXRoaXMuZHJhd1N0YWZmRW50cnkoZSl9ZHJhd0xpbmUodCxpLHM9XCIjRkYwMDAwRkZcIixuPS4yKXt0PXRoaXMuYXBwbHlTY3JlZW5UcmFuc2Zvcm1hdGlvbih0KSxpPXRoaXMuYXBwbHlTY3JlZW5UcmFuc2Zvcm1hdGlvbihpKSx0aGlzLmJhY2tlbmQucmVuZGVyTGluZSh0LGkscyxuKmUudW5pdEluUGl4ZWxzKX1EcmF3T3ZlcmxheUxpbmUodCxpLHMsbj1cIiNGRjAwMDBGRlwiLHI9LjIpe2lmKCFzLlBhZ2VOdW1iZXJ8fHMuUGFnZU51bWJlcj50aGlzLmJhY2tlbmRzLmxlbmd0aHx8cy5QYWdlTnVtYmVyPDEpcmV0dXJuIHZvaWQgY29uc29sZS5sb2coXCJWZXhGbG93TXVzaWNTaGVldERyYXdlci5kcmF3T3ZlcmxheUxpbmU6IGludmFsaWQgcGFnZSBudW1iZXIgLyBtdXNpYyBwYWdlIG51bWJlciBkb2Vzbid0IGNvcnJlc3BvbmQgdG8gYW4gZXhpc3RpbmcgYmFja2VuZC5cIik7Y29uc3Qgbz1zLlBhZ2VOdW1iZXItMSxhPXRoaXMuYmFja2VuZHNbb107dD10aGlzLmFwcGx5U2NyZWVuVHJhbnNmb3JtYXRpb24odCksaT10aGlzLmFwcGx5U2NyZWVuVHJhbnNmb3JtYXRpb24oaSksYS5yZW5kZXJMaW5lKHQsaSxuLHIqZS51bml0SW5QaXhlbHMpfWRyYXdTa3lMaW5lKHQpe2NvbnN0IGU9dC5Qb3NpdGlvbkFuZFNoYXBlLkFic29sdXRlUG9zaXRpb24saT10LlBvc2l0aW9uQW5kU2hhcGUuU2l6ZS53aWR0aDt0aGlzLmRyYXdTYW1wbGVkTGluZSh0LlNreUxpbmUsZSxpKX1kcmF3Qm90dG9tTGluZSh0KXtjb25zdCBlPW5ldyByLlBvaW50RjJEKHQuUG9zaXRpb25BbmRTaGFwZS5BYnNvbHV0ZVBvc2l0aW9uLngsdC5Qb3NpdGlvbkFuZFNoYXBlLkFic29sdXRlUG9zaXRpb24ueSksaT10LlBvc2l0aW9uQW5kU2hhcGUuU2l6ZS53aWR0aDt0aGlzLmRyYXdTYW1wbGVkTGluZSh0LkJvdHRvbUxpbmUsZSxpLFwiIzAwMDBGRkZGXCIpfWRyYXdTYW1wbGVkTGluZSh0LGUsaSxzPVwiI0ZGMDAwMEZGXCIpe2NvbnN0IG49W107bGV0IG89MDtmb3IobGV0IGU9MDtlPHQubGVuZ3RoO2UrKyl0W2VdIT09byYmKG4ucHVzaChlKSxvPXRbZV0pO2NvbnN0IGE9ZTtpZihuLmxlbmd0aD4wKXtjb25zdCBlPXRoaXMucnVsZXMuU2FtcGxpbmdVbml0O2xldCBvLGgsbD1uZXcgci5Qb2ludEYyRChhLngsYS55KSxjPW5ldyByLlBvaW50RjJEKG5bMF0vZSthLngsYS55KTt0aGlzLmRyYXdMaW5lKGwsYyxzKSx0WzBdPj0wJiYobz1uZXcgci5Qb2ludEYyRChuWzBdL2UrYS54LGEueSksaD1uZXcgci5Qb2ludEYyRChuWzBdL2UrYS54LGEueSt0W25bMF1dKSx0aGlzLmRyYXdMaW5lKG8saCxzKSk7Zm9yKGxldCBpPTE7aTxuLmxlbmd0aDtpKyspbD1uZXcgci5Qb2ludEYyRChuW2ktMV0vZSthLngsYS55K3RbbltpLTFdXSksYz1uZXcgci5Qb2ludEYyRChuW2ldL2UrYS54LGEueSt0W25baS0xXV0pLHRoaXMuZHJhd0xpbmUobCxjLHMpLG89bmV3IHIuUG9pbnRGMkQobltpXS9lK2EueCxhLnkrdFtuW2ktMV1dKSxoPW5ldyByLlBvaW50RjJEKG5baV0vZSthLngsYS55K3RbbltpXV0pLHRoaXMuZHJhd0xpbmUobyxoLHMpO25bbi5sZW5ndGgtMV08dC5sZW5ndGg/KGw9bmV3IHIuUG9pbnRGMkQobltuLmxlbmd0aC0xXS9lK2EueCxhLnkrdFtuW24ubGVuZ3RoLTFdXSksYz1uZXcgci5Qb2ludEYyRChhLngraSxhLnkrdFtuW24ubGVuZ3RoLTFdXSksdGhpcy5kcmF3TGluZShsLGMscykpOihsPW5ldyByLlBvaW50RjJEKG5bbi5sZW5ndGgtMV0vZSthLngsYS55KSxjPW5ldyByLlBvaW50RjJEKGEueCtpLGEueSksdGhpcy5kcmF3TGluZShsLGMscykpfWVsc2V7Y29uc3QgdD1uZXcgci5Qb2ludEYyRChhLngsYS55KSxlPW5ldyByLlBvaW50RjJEKGEueCtpLGEueSk7dGhpcy5kcmF3TGluZSh0LGUscyl9fWRyYXdTdGFmZkVudHJ5KHQpe2lmKHZvaWQgMCE9PXQuZ3JhcGhpY2FsQ2hvcmRDb250YWluZXJzJiZ0LmdyYXBoaWNhbENob3JkQ29udGFpbmVycy5sZW5ndGg+MClmb3IoY29uc3QgZSBvZiB0LmdyYXBoaWNhbENob3JkQ29udGFpbmVycyl0aGlzLmRyYXdMYWJlbChlLkdldEdyYXBoaWNhbExhYmVsLGEuR3JhcGhpY2FsTGF5ZXJzLk5vdGVzKTt0aGlzLnJ1bGVzLlJlbmRlckx5cmljcyYmdC5MeXJpY3NFbnRyaWVzLmxlbmd0aD4wJiZ0aGlzLmRyYXdMeXJpY3ModC5MeXJpY3NFbnRyaWVzLGEuR3JhcGhpY2FsTGF5ZXJzLk5vdGVzKX1kcmF3THlyaWNzKHQsZSl7dC5mb3JFYWNoKHQ9PnRoaXMuZHJhd0xhYmVsKHQuR3JhcGhpY2FsTGFiZWwsZSkpfWRyYXdJbnN0cnVtZW50QnJhY2UodCxlKXt0LmRyYXcodGhpcy5iYWNrZW5kLmdldENvbnRleHQoKSl9ZHJhd0dyb3VwQnJhY2tldCh0LGUpe3QuZHJhdyh0aGlzLmJhY2tlbmQuZ2V0Q29udGV4dCgpKX1kcmF3T2N0YXZlU2hpZnRzKHQpe2Zvcihjb25zdCBlIG9mIHQuT2N0YXZlU2hpZnRzKWlmKGUpe2NvbnN0IHQ9ZSxpPXRoaXMuYmFja2VuZC5nZXRDb250ZXh0KCkscz10LmdldFRleHRCcmFja2V0KCk7cy5zZXRDb250ZXh0KGkpLHMuZHJhdygpfX1kcmF3RXhwcmVzc2lvbnModCl7Zm9yKGNvbnN0IGUgb2YgdC5BYnN0cmFjdEV4cHJlc3Npb25zKWUgaW5zdGFuY2VvZiBjLkdyYXBoaWNhbEluc3RhbnRhbmVvdXNEeW5hbWljRXhwcmVzc2lvbj90aGlzLmRyYXdJbnN0YW50YW5lb3VzRHluYW1pYyhlKTplIGluc3RhbmNlb2YgbC5HcmFwaGljYWxJbnN0YW50YW5lb3VzVGVtcG9FeHByZXNzaW9uP3RoaXMuZHJhd0xhYmVsKGUuR3JhcGhpY2FsTGFiZWwsYS5HcmFwaGljYWxMYXllcnMuTm90ZXMpOmUgaW5zdGFuY2VvZiBkLkdyYXBoaWNhbENvbnRpbnVvdXNEeW5hbWljRXhwcmVzc2lvbj90aGlzLmRyYXdDb250aW51b3VzRHluYW1pYyhlKTplIGluc3RhbmNlb2YgbS5HcmFwaGljYWxVbmtub3duRXhwcmVzc2lvbj90aGlzLmRyYXdMYWJlbChlLkxhYmVsLGEuR3JhcGhpY2FsTGF5ZXJzLk5vdGVzKTp1Lndhcm4oXCJVbmtvd24gdHlwZSBvZiBleHByZXNzaW9uIVwiKX1kcmF3SW5zdGFudGFuZW91c0R5bmFtaWModCl7dGhpcy5kcmF3TGFiZWwodC5MYWJlbCxhLkdyYXBoaWNhbExheWVycy5Ob3Rlcyl9ZHJhd0NvbnRpbnVvdXNEeW5hbWljKHQpe2lmKHQuSXNWZXJiYWwpdGhpcy5kcmF3TGFiZWwodC5MYWJlbCxhLkdyYXBoaWNhbExheWVycy5Ob3Rlcyk7ZWxzZSBmb3IoY29uc3QgZSBvZiB0LkxpbmVzKXtjb25zdCBpPW5ldyByLlBvaW50RjJEKHQuUGFyZW50U3RhZmZMaW5lLlBvc2l0aW9uQW5kU2hhcGUuQWJzb2x1dGVQb3NpdGlvbi54K2UuU3RhcnQueCx0LlBhcmVudFN0YWZmTGluZS5Qb3NpdGlvbkFuZFNoYXBlLkFic29sdXRlUG9zaXRpb24ueStlLlN0YXJ0LnkpLHM9bmV3IHIuUG9pbnRGMkQodC5QYXJlbnRTdGFmZkxpbmUuUG9zaXRpb25BbmRTaGFwZS5BYnNvbHV0ZVBvc2l0aW9uLngrZS5FbmQueCx0LlBhcmVudFN0YWZmTGluZS5Qb3NpdGlvbkFuZFNoYXBlLkFic29sdXRlUG9zaXRpb24ueStlLkVuZC55KTt0aGlzLmRyYXdMaW5lKGkscyxcImJsYWNrXCIsZS5XaWR0aCl9fXJlbmRlckxhYmVsKHQsaSxzLG4scixvKXtjb25zdCBhPXQuTGFiZWwuZm9udEhlaWdodCplLnVuaXRJblBpeGVscyx7Zm9udDpoLHRleHQ6bH09dC5MYWJlbDtsZXQgYzt0aGlzLnJ1bGVzLkNvbG9yaW5nRW5hYmxlZCYmKGM9dC5MYWJlbC5jb2xvckRlZmF1bHQsY3x8KGM9dGhpcy5ydWxlcy5EZWZhdWx0Q29sb3JMYWJlbCkpO2xldHtmb250U3R5bGU6dSxmb250RmFtaWx5OmR9PXQuTGFiZWw7dXx8KHU9dGhpcy5ydWxlcy5EZWZhdWx0Rm9udFN0eWxlKSxkfHwoZD10aGlzLnJ1bGVzLkRlZmF1bHRGb250RmFtaWx5KSx0aGlzLmJhY2tlbmQucmVuZGVyVGV4dChhLHUsaCxsLHIsbyxjLHQuTGFiZWwuZm9udEZhbWlseSl9cmVuZGVyUmVjdGFuZ2xlKHQsZSxpLHMpe3RoaXMuYmFja2VuZC5yZW5kZXJSZWN0YW5nbGUodCxpLHMpfWFwcGx5U2NyZWVuVHJhbnNmb3JtYXRpb24odCl7cmV0dXJuIG5ldyByLlBvaW50RjJEKHQueCplLnVuaXRJblBpeGVscyx0LnkqZS51bml0SW5QaXhlbHMpfWFwcGx5U2NyZWVuVHJhbnNmb3JtYXRpb25Gb3JSZWN0KHQpe3JldHVybiBuZXcgbi5SZWN0YW5nbGVGMkQodC54KmUudW5pdEluUGl4ZWxzLHQueSplLnVuaXRJblBpeGVscyx0LndpZHRoKmUudW5pdEluUGl4ZWxzLHQuaGVpZ2h0KmUudW5pdEluUGl4ZWxzKX19ZS5WZXhGbG93TXVzaWNTaGVldERyYXdlcj1wfSxmdW5jdGlvbih0LGUsaSl7XCJ1c2Ugc3RyaWN0XCI7T2JqZWN0LmRlZmluZVByb3BlcnR5KGUsXCJfX2VzTW9kdWxlXCIse3ZhbHVlOiEwfSk7Y29uc3Qgcz1pKDIxKTtlLkdyYXBoaWNhbExpbmU9Y2xhc3N7Y29uc3RydWN0b3IodCxlLGk9MCxuPXMuT3V0bGluZUFuZEZpbGxTdHlsZUVudW0uQmFzZVdyaXRpbmdDb2xvcil7dGhpcy5zdGFydD10LHRoaXMuZW5kPWUsdGhpcy53aWR0aD1pLHRoaXMuc3R5bGVJZD1ufWdldCBTdGFydCgpe3JldHVybiB0aGlzLnN0YXJ0fXNldCBTdGFydCh0KXt0aGlzLnN0YXJ0PXR9Z2V0IEVuZCgpe3JldHVybiB0aGlzLmVuZH1zZXQgRW5kKHQpe3RoaXMuZW5kPXR9Z2V0IFdpZHRoKCl7cmV0dXJuIHRoaXMud2lkdGh9c2V0IFdpZHRoKHQpe3RoaXMud2lkdGg9dH19fSxmdW5jdGlvbih0LGUsaSl7XCJ1c2Ugc3RyaWN0XCI7T2JqZWN0LmRlZmluZVByb3BlcnR5KGUsXCJfX2VzTW9kdWxlXCIse3ZhbHVlOiEwfSk7Y29uc3Qgcz1pKDQzKTt2YXIgbjshZnVuY3Rpb24odCl7dFt0LkJhc2VXcml0aW5nQ29sb3I9MF09XCJCYXNlV3JpdGluZ0NvbG9yXCIsdFt0LkZvbGxvd2luZ0N1cnNvcj0xXT1cIkZvbGxvd2luZ0N1cnNvclwiLHRbdC5BbHRlcm5hdGl2ZUZvbGxvd2luZ0N1cnNvcj0yXT1cIkFsdGVybmF0aXZlRm9sbG93aW5nQ3Vyc29yXCIsdFt0LlBsYXliYWNrQ3Vyc29yPTNdPVwiUGxheWJhY2tDdXJzb3JcIix0W3QuSGlnaGxpZ2h0ZWQ9NF09XCJIaWdobGlnaHRlZFwiLHRbdC5FcnJvclVuZGVybGF5PTVdPVwiRXJyb3JVbmRlcmxheVwiLHRbdC5TZWxlY3RlZD02XT1cIlNlbGVjdGVkXCIsdFt0LlNlbGVjdGlvblN5bWJvbD03XT1cIlNlbGVjdGlvblN5bWJvbFwiLHRbdC5EZWJ1Z0NvbG9yMT04XT1cIkRlYnVnQ29sb3IxXCIsdFt0LkRlYnVnQ29sb3IyPTldPVwiRGVidWdDb2xvcjJcIix0W3QuRGVidWdDb2xvcjM9MTBdPVwiRGVidWdDb2xvcjNcIix0W3QuU3BsaXRTY3JlZW5EaXZpc2lvbj0xMV09XCJTcGxpdFNjcmVlbkRpdmlzaW9uXCIsdFt0LkdyZXlUcmFuc3BhcmVudE92ZXJsYXk9MTJdPVwiR3JleVRyYW5zcGFyZW50T3ZlcmxheVwiLHRbdC5NYXJrZWRBcmVhMT0xM109XCJNYXJrZWRBcmVhMVwiLHRbdC5NYXJrZWRBcmVhMj0xNF09XCJNYXJrZWRBcmVhMlwiLHRbdC5NYXJrZWRBcmVhMz0xNV09XCJNYXJrZWRBcmVhM1wiLHRbdC5NYXJrZWRBcmVhND0xNl09XCJNYXJrZWRBcmVhNFwiLHRbdC5NYXJrZWRBcmVhNT0xN109XCJNYXJrZWRBcmVhNVwiLHRbdC5NYXJrZWRBcmVhNj0xOF09XCJNYXJrZWRBcmVhNlwiLHRbdC5NYXJrZWRBcmVhNz0xOV09XCJNYXJrZWRBcmVhN1wiLHRbdC5NYXJrZWRBcmVhOD0yMF09XCJNYXJrZWRBcmVhOFwiLHRbdC5NYXJrZWRBcmVhOT0yMV09XCJNYXJrZWRBcmVhOVwiLHRbdC5NYXJrZWRBcmVhMTA9MjJdPVwiTWFya2VkQXJlYTEwXCIsdFt0LkNvbW1lbnQxPTIzXT1cIkNvbW1lbnQxXCIsdFt0LkNvbW1lbnQyPTI0XT1cIkNvbW1lbnQyXCIsdFt0LkNvbW1lbnQzPTI1XT1cIkNvbW1lbnQzXCIsdFt0LkNvbW1lbnQ0PTI2XT1cIkNvbW1lbnQ0XCIsdFt0LkNvbW1lbnQ1PTI3XT1cIkNvbW1lbnQ1XCIsdFt0LkNvbW1lbnQ2PTI4XT1cIkNvbW1lbnQ2XCIsdFt0LkNvbW1lbnQ3PTI5XT1cIkNvbW1lbnQ3XCIsdFt0LkNvbW1lbnQ4PTMwXT1cIkNvbW1lbnQ4XCIsdFt0LkNvbW1lbnQ5PTMxXT1cIkNvbW1lbnQ5XCIsdFt0LkNvbW1lbnQxMD0zMl09XCJDb21tZW50MTBcIn0obj1lLk91dGxpbmVBbmRGaWxsU3R5bGVFbnVtfHwoZS5PdXRsaW5lQW5kRmlsbFN0eWxlRW51bT17fSkpLGUuT1VUTElORV9BTkRfRklMTF9TVFlMRV9ESUNUPW5ldyBzLkRpY3Rpb25hcnksZS5PVVRMSU5FX0FORF9GSUxMX1NUWUxFX0RJQ1Quc2V0VmFsdWUobi5CYXNlV3JpdGluZ0NvbG9yLFwiVGhpc3RsZVwiKSxlLk9VVExJTkVfQU5EX0ZJTExfU1RZTEVfRElDVC5zZXRWYWx1ZShuLkZvbGxvd2luZ0N1cnNvcixcIkFxdWFcIiksZS5PVVRMSU5FX0FORF9GSUxMX1NUWUxFX0RJQ1Quc2V0VmFsdWUobi5BbHRlcm5hdGl2ZUZvbGxvd2luZ0N1cnNvcixcIkF6dXJlXCIpLGUuT1VUTElORV9BTkRfRklMTF9TVFlMRV9ESUNULnNldFZhbHVlKG4uUGxheWJhY2tDdXJzb3IsXCJCaXNxdWVcIiksZS5PVVRMSU5FX0FORF9GSUxMX1NUWUxFX0RJQ1Quc2V0VmFsdWUobi5IaWdobGlnaHRlZCxcIkNhZGV0Qmx1ZVwiKSxlLk9VVExJTkVfQU5EX0ZJTExfU1RZTEVfRElDVC5zZXRWYWx1ZShuLkVycm9yVW5kZXJsYXksXCJEYXJrQmx1ZVwiKSxlLk9VVExJTkVfQU5EX0ZJTExfU1RZTEVfRElDVC5zZXRWYWx1ZShuLlNlbGVjdGVkLFwiRGFya0dvbGRlblJvZFwiKSxlLk9VVExJTkVfQU5EX0ZJTExfU1RZTEVfRElDVC5zZXRWYWx1ZShuLlNlbGVjdGlvblN5bWJvbCxcIkJsYW5jaGVkQWxtb25kXCIpLGUuT1VUTElORV9BTkRfRklMTF9TVFlMRV9ESUNULnNldFZhbHVlKG4uRGVidWdDb2xvcjEsXCJDaGFydHJldXNlXCIpLGUuT1VUTElORV9BTkRfRklMTF9TVFlMRV9ESUNULnNldFZhbHVlKG4uRGVidWdDb2xvcjIsXCJEYXJrR3JlZW5cIiksZS5PVVRMSU5FX0FORF9GSUxMX1NUWUxFX0RJQ1Quc2V0VmFsdWUobi5EZWJ1Z0NvbG9yMyxcIkRhcmtPcmFuZ2VcIiksZS5PVVRMSU5FX0FORF9GSUxMX1NUWUxFX0RJQ1Quc2V0VmFsdWUobi5TcGxpdFNjcmVlbkRpdmlzaW9uLFwiRmlyZUJyaWNrXCIpLGUuT1VUTElORV9BTkRfRklMTF9TVFlMRV9ESUNULnNldFZhbHVlKG4uR3JleVRyYW5zcGFyZW50T3ZlcmxheSxcIkRhcmtTYWxtb25cIiksZS5PVVRMSU5FX0FORF9GSUxMX1NUWUxFX0RJQ1Quc2V0VmFsdWUobi5NYXJrZWRBcmVhMSxcIkRhcmtTZWFHcmVlblwiKSxlLk9VVExJTkVfQU5EX0ZJTExfU1RZTEVfRElDVC5zZXRWYWx1ZShuLk1hcmtlZEFyZWEyLFwiRGFya09yY2hpZFwiKSxlLk9VVExJTkVfQU5EX0ZJTExfU1RZTEVfRElDVC5zZXRWYWx1ZShuLk1hcmtlZEFyZWEzLFwiQXF1YW1hcmluZVwiKSxlLk9VVExJTkVfQU5EX0ZJTExfU1RZTEVfRElDVC5zZXRWYWx1ZShuLk1hcmtlZEFyZWE0LFwiRGFya0toYWtpXCIpLGUuT1VUTElORV9BTkRfRklMTF9TVFlMRV9ESUNULnNldFZhbHVlKG4uTWFya2VkQXJlYTUsXCJGb3Jlc3RHcmVlblwiKSxlLk9VVExJTkVfQU5EX0ZJTExfU1RZTEVfRElDVC5zZXRWYWx1ZShuLk1hcmtlZEFyZWE2LFwiQWxpY2VCbHVlXCIpLGUuT1VUTElORV9BTkRfRklMTF9TVFlMRV9ESUNULnNldFZhbHVlKG4uTWFya2VkQXJlYTcsXCJEZWVwUGlua1wiKSxlLk9VVExJTkVfQU5EX0ZJTExfU1RZTEVfRElDVC5zZXRWYWx1ZShuLk1hcmtlZEFyZWE4LFwiQ29yYWxcIiksZS5PVVRMSU5FX0FORF9GSUxMX1NUWUxFX0RJQ1Quc2V0VmFsdWUobi5NYXJrZWRBcmVhOSxcIkRhcmtPbGl2ZUdyZWVuXCIpLGUuT1VUTElORV9BTkRfRklMTF9TVFlMRV9ESUNULnNldFZhbHVlKG4uTWFya2VkQXJlYTEwLFwiQ2hvY29sYXRlXCIpLGUuT1VUTElORV9BTkRfRklMTF9TVFlMRV9ESUNULnNldFZhbHVlKG4uQ29tbWVudDEsXCJEb2RnZXJCbHVlXCIpLGUuT1VUTElORV9BTkRfRklMTF9TVFlMRV9ESUNULnNldFZhbHVlKG4uQ29tbWVudDIsXCJCbHVlXCIpLGUuT1VUTElORV9BTkRfRklMTF9TVFlMRV9ESUNULnNldFZhbHVlKG4uQ29tbWVudDMsXCJCZWlnZVwiKSxlLk9VVExJTkVfQU5EX0ZJTExfU1RZTEVfRElDVC5zZXRWYWx1ZShuLkNvbW1lbnQ0LFwiQ3JpbXNvblwiKSxlLk9VVExJTkVfQU5EX0ZJTExfU1RZTEVfRElDVC5zZXRWYWx1ZShuLkNvbW1lbnQ1LFwiRnVjaHNpYVwiKSxlLk9VVExJTkVfQU5EX0ZJTExfU1RZTEVfRElDVC5zZXRWYWx1ZShuLkNvbW1lbnQ2LFwiQnJvd25cIiksZS5PVVRMSU5FX0FORF9GSUxMX1NUWUxFX0RJQ1Quc2V0VmFsdWUobi5Db21tZW50NyxcIkJsYW5jaGVkQWxtb25kXCIpLGUuT1VUTElORV9BTkRfRklMTF9TVFlMRV9ESUNULnNldFZhbHVlKG4uQ29tbWVudDgsXCJDb3JuZmxvd2VyQmx1ZVwiKSxlLk9VVExJTkVfQU5EX0ZJTExfU1RZTEVfRElDVC5zZXRWYWx1ZShuLkNvbW1lbnQ5LFwiQ29ybnNpbGtcIiksZS5PVVRMSU5FX0FORF9GSUxMX1NUWUxFX0RJQ1Quc2V0VmFsdWUobi5Db21tZW50MTAsXCJEYXJrR3JleVwiKSxmdW5jdGlvbih0KXt0W3QuTWFya2VkQXJlYT0wXT1cIk1hcmtlZEFyZWFcIix0W3QuQ29tbWVudD0xXT1cIkNvbW1lbnRcIn0oZS5TdHlsZVNldHN8fChlLlN0eWxlU2V0cz17fSkpLGZ1bmN0aW9uKHQpe3RbdC5CYWNrZ3JvdW5kPTBdPVwiQmFja2dyb3VuZFwiLHRbdC5IaWdobGlnaHQ9MV09XCJIaWdobGlnaHRcIix0W3QuTWVhc3VyZUVycm9yPTJdPVwiTWVhc3VyZUVycm9yXCIsdFt0LlNlbGVjdGlvblN5bWJvbD0zXT1cIlNlbGVjdGlvblN5bWJvbFwiLHRbdC5DdXJzb3I9NF09XCJDdXJzb3JcIix0W3QuUFNJX0RlYnVnPTVdPVwiUFNJX0RlYnVnXCIsdFt0Lk5vdGVzPTZdPVwiTm90ZXNcIix0W3QuQ29tbWVudD03XT1cIkNvbW1lbnRcIix0W3QuRGVidWdfYWJvdmU9OF09XCJEZWJ1Z19hYm92ZVwifShlLkdyYXBoaWNhbExheWVyc3x8KGUuR3JhcGhpY2FsTGF5ZXJzPXt9KSksZnVuY3Rpb24odCl7dFt0Lk5vcm1hbD0wXT1cIk5vcm1hbFwiLHRbdC5TZWxlY3RlZD0xXT1cIlNlbGVjdGVkXCIsdFt0LkZvbGxvd19Db25maXJtZWQ9Ml09XCJGb2xsb3dfQ29uZmlybWVkXCIsdFt0LlFGZWVkYmFja19Ob3RGb3VuZD0zXT1cIlFGZWVkYmFja19Ob3RGb3VuZFwiLHRbdC5RRmVlZGJhY2tfT0s9NF09XCJRRmVlZGJhY2tfT0tcIix0W3QuUUZlZWRiYWNrX1BlcmZlY3Q9NV09XCJRRmVlZGJhY2tfUGVyZmVjdFwiLHRbdC5EZWJ1ZzE9Nl09XCJEZWJ1ZzFcIix0W3QuRGVidWcyPTddPVwiRGVidWcyXCIsdFt0LkRlYnVnMz04XT1cIkRlYnVnM1wifShlLk5vdGVTdGF0ZXx8KGUuTm90ZVN0YXRlPXt9KSksZnVuY3Rpb24odCl7dC5DPVwiI2Q4MmM2YlwiLHQuRD1cIiNGODlEMTVcIix0LkU9XCIjRkZFMjFBXCIsdC5GPVwiIzRkYmQ1Y1wiLHQuRz1cIiMwMDlEOTZcIix0LkE9XCIjNDM0NjlkXCIsdC5CPVwiIzc2NDI5Y1wiLHQuUmVzdD1cIiMwMDAwMDBcIn0oZS5BdXRvQ29sb3JTZXR8fChlLkF1dG9Db2xvclNldD17fSkpfSxmdW5jdGlvbih0LGUsaSl7XCJ1c2Ugc3RyaWN0XCI7T2JqZWN0LmRlZmluZVByb3BlcnR5KGUsXCJfX2VzTW9kdWxlXCIse3ZhbHVlOiEwfSk7Y29uc3Qgcz1pKDcpLG49aSgzKSxyPWkoOTApLG89aSgxNCk7Y2xhc3MgYSBleHRlbmRzIHIuQ2xpY2thYmxle2NvbnN0cnVjdG9yKHQsZSxpLHMscil7c3VwZXIoKSx0aGlzLmxhYmVsPXQsdGhpcy5ib3VuZGluZ0JveD1uZXcgbi5Cb3VuZGluZ0JveCh0aGlzLHIpLHRoaXMubGFiZWwuZm9udEhlaWdodD1lLHRoaXMubGFiZWwudGV4dEFsaWdubWVudD1pLHRoaXMucnVsZXM9c31nZXQgTGFiZWwoKXtyZXR1cm4gdGhpcy5sYWJlbH10b1N0cmluZygpe3JldHVybmAke3RoaXMubGFiZWwudGV4dH0gKCR7dGhpcy5ib3VuZGluZ0JveC5SZWxhdGl2ZVBvc2l0aW9uLnh9LCR7dGhpcy5ib3VuZGluZ0JveC5SZWxhdGl2ZVBvc2l0aW9uLnl9KWB9c2V0TGFiZWxQb3NpdGlvbkFuZFNoYXBlQm9yZGVycygpe3ZhciB0LGU7aWYoXCJcIj09PXRoaXMuTGFiZWwudGV4dC50cmltKCkpcmV0dXJuO2NvbnN0IGk9bnVsbCE9PShlPW51bGw9PT0odD10aGlzLnJ1bGVzKXx8dm9pZCAwPT09dD92b2lkIDA6dC5MYWJlbE1hcmdpbkJvcmRlckZhY3RvcikmJnZvaWQgMCE9PWU/ZTouMSxuPW8uTXVzaWNTaGVldENhbGN1bGF0b3IuVGV4dE1lYXN1cmVyLmNvbXB1dGVUZXh0V2lkdGhUb0hlaWdodFJhdGlvKHRoaXMuTGFiZWwudGV4dCx0aGlzLkxhYmVsLmZvbnQsdGhpcy5MYWJlbC5mb250U3R5bGUsdGhpcy5sYWJlbC5mb250RmFtaWx5KSxyPXRoaXMuTGFiZWwuZm9udEhlaWdodCxhPXIqbixoPXRoaXMuUG9zaXRpb25BbmRTaGFwZTtzd2l0Y2godGhpcy5MYWJlbC50ZXh0QWxpZ25tZW50KXtjYXNlIHMuVGV4dEFsaWdubWVudEVudW0uQ2VudGVyQm90dG9tOmguQm9yZGVyVG9wPS1yLGguQm9yZGVyTGVmdD0tYS8yLGguQm9yZGVyQm90dG9tPTAsaC5Cb3JkZXJSaWdodD1hLzI7YnJlYWs7Y2FzZSBzLlRleHRBbGlnbm1lbnRFbnVtLkNlbnRlckNlbnRlcjpoLkJvcmRlclRvcD0tci8yLGguQm9yZGVyTGVmdD0tYS8yLGguQm9yZGVyQm90dG9tPXIvMixoLkJvcmRlclJpZ2h0PWEvMjticmVhaztjYXNlIHMuVGV4dEFsaWdubWVudEVudW0uQ2VudGVyVG9wOmguQm9yZGVyVG9wPTAsaC5Cb3JkZXJMZWZ0PS1hLzIsaC5Cb3JkZXJCb3R0b209cixoLkJvcmRlclJpZ2h0PWEvMjticmVhaztjYXNlIHMuVGV4dEFsaWdubWVudEVudW0uTGVmdEJvdHRvbTpoLkJvcmRlclRvcD0tcixoLkJvcmRlckxlZnQ9MCxoLkJvcmRlckJvdHRvbT0wLGguQm9yZGVyUmlnaHQ9YTticmVhaztjYXNlIHMuVGV4dEFsaWdubWVudEVudW0uTGVmdENlbnRlcjpoLkJvcmRlclRvcD0tci8yLGguQm9yZGVyTGVmdD0wLGguQm9yZGVyQm90dG9tPXIvMixoLkJvcmRlclJpZ2h0PWE7YnJlYWs7Y2FzZSBzLlRleHRBbGlnbm1lbnRFbnVtLkxlZnRUb3A6aC5Cb3JkZXJUb3A9MCxoLkJvcmRlckxlZnQ9MCxoLkJvcmRlckJvdHRvbT1yLGguQm9yZGVyUmlnaHQ9YTticmVhaztjYXNlIHMuVGV4dEFsaWdubWVudEVudW0uUmlnaHRCb3R0b206aC5Cb3JkZXJUb3A9LXIsaC5Cb3JkZXJMZWZ0PS1hLGguQm9yZGVyQm90dG9tPTAsaC5Cb3JkZXJSaWdodD0wO2JyZWFrO2Nhc2Ugcy5UZXh0QWxpZ25tZW50RW51bS5SaWdodENlbnRlcjpoLkJvcmRlclRvcD0tci8yLGguQm9yZGVyTGVmdD0tYSxoLkJvcmRlckJvdHRvbT1yLzIsaC5Cb3JkZXJSaWdodD0wO2JyZWFrO2Nhc2Ugcy5UZXh0QWxpZ25tZW50RW51bS5SaWdodFRvcDpoLkJvcmRlclRvcD0wLGguQm9yZGVyTGVmdD0tYSxoLkJvcmRlckJvdHRvbT1yLGguQm9yZGVyUmlnaHQ9MH1oLkJvcmRlck1hcmdpblRvcD1oLkJvcmRlclRvcC1yKmksaC5Cb3JkZXJNYXJnaW5MZWZ0PWguQm9yZGVyTGVmdC1yKmksaC5Cb3JkZXJNYXJnaW5Cb3R0b209aC5Cb3JkZXJCb3R0b20rcippLGguQm9yZGVyTWFyZ2luUmlnaHQ9aC5Cb3JkZXJSaWdodCtyKml9fWUuR3JhcGhpY2FsTGFiZWw9YX0sZnVuY3Rpb24odCxlLGkpe1widXNlIHN0cmljdFwiO09iamVjdC5kZWZpbmVQcm9wZXJ0eShlLFwiX19lc01vZHVsZVwiLHt2YWx1ZTohMH0pLGZ1bmN0aW9uKHQpe3RbdC5SZWd1bGFyPTBdPVwiUmVndWxhclwiLHRbdC5Cb2xkPTFdPVwiQm9sZFwiLHRbdC5JdGFsaWM9Ml09XCJJdGFsaWNcIix0W3QuQm9sZEl0YWxpYz0zXT1cIkJvbGRJdGFsaWNcIix0W3QuVW5kZXJsaW5lZD00XT1cIlVuZGVybGluZWRcIn0oZS5Gb250U3R5bGVzfHwoZS5Gb250U3R5bGVzPXt9KSl9LGZ1bmN0aW9uKHQsZSxpKXtcInVzZSBzdHJpY3RcIjtPYmplY3QuZGVmaW5lUHJvcGVydHkoZSxcIl9fZXNNb2R1bGVcIix7dmFsdWU6ITB9KSxBcnJheS5wcm90b3R5cGUubGFzdHx8KEFycmF5LnByb3RvdHlwZS5sYXN0PWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXNbdGhpcy5sZW5ndGgtMV19KSxBcnJheS5wcm90b3R5cGUuY2xlYXJ8fChBcnJheS5wcm90b3R5cGUuY2xlYXI9ZnVuY3Rpb24oKXt0aGlzLmxlbmd0aD0wfSksQXJyYXkucHJvdG90eXBlLmNvbnRhaW5zfHwoQXJyYXkucHJvdG90eXBlLmNvbnRhaW5zPWZ1bmN0aW9uKHQpe3JldHVybi0xIT09dGhpcy5pbmRleE9mKHQpfSk7ZS5Db2xsZWN0aW9uVXRpbD1jbGFzc3tzdGF0aWMgY29udGFpbnMyKHQsZSl7Zm9yKGxldCBpPTA7aTx0Lmxlbmd0aDtpKyspaWYodFtpXT09PWUpcmV0dXJuITA7cmV0dXJuITF9c3RhdGljIGxhc3QodCl7cmV0dXJuIHRbdC5sZW5ndGgtMV19c3RhdGljIHJlbW92ZURpY3RFbGVtZW50SWZUcnVlKHQsZSxpKXtjb25zdCBzPVtdO2UuZm9yRWFjaCgoZnVuY3Rpb24oZSxuKXtpKHQsZSxuKSYmcy5wdXNoKGUpfSkpO2ZvcihsZXQgdD0wO3Q8cy5sZW5ndGg7dCsrKWUucmVtb3ZlKHNbdF0pfXN0YXRpYyBnZXRMYXN0RWxlbWVudCh0KXtyZXR1cm4gdFt0Lmxlbmd0aC0xXX1zdGF0aWMgYmluYXJ5U2VhcmNoKHQsZSxpLHM9MCxuPXQubGVuZ3RoLTEpe2xldCByPTE7Zm9yKDtzPG47KXtyPU1hdGguZmxvb3IoKHMrbikvMik7Y29uc3Qgbz1pKHRbcl0sZSk7aWYoMD09PW8pcmV0dXJuIHI7bzwwJiYocz1yKzEpLDA8byYmKG49cil9cmV0dXJuLXJ9fX0sZnVuY3Rpb24odCxlLGkpe1widXNlIHN0cmljdFwiO09iamVjdC5kZWZpbmVQcm9wZXJ0eShlLFwiX19lc01vZHVsZVwiLHt2YWx1ZTohMH0pO2NvbnN0IHM9aSgwKSxuPWkoOCkscj1pKDE1KSxvPWkoMTcpO2UuU291cmNlU3RhZmZFbnRyeT1jbGFzc3tjb25zdHJ1Y3Rvcih0LGUpe3RoaXMudm9pY2VFbnRyaWVzPVtdLHRoaXMuaW5zdHJ1Y3Rpb25zPVtdLHRoaXMuY2hvcmRTeW1ib2xDb250YWluZXJzPVtdLHRoaXMudmVydGljYWxDb250YWluZXJQYXJlbnQ9dCx0aGlzLnBhcmVudFN0YWZmPWV9Z2V0IFBhcmVudFN0YWZmKCl7cmV0dXJuIHRoaXMucGFyZW50U3RhZmZ9Z2V0IFZlcnRpY2FsQ29udGFpbmVyUGFyZW50KCl7cmV0dXJuIHRoaXMudmVydGljYWxDb250YWluZXJQYXJlbnR9Z2V0IFRpbWVzdGFtcCgpe2lmKHRoaXMuVmVydGljYWxDb250YWluZXJQYXJlbnQpcmV0dXJuIHRoaXMuVmVydGljYWxDb250YWluZXJQYXJlbnQuVGltZXN0YW1wfWdldCBBYnNvbHV0ZVRpbWVzdGFtcCgpe2lmKHRoaXMuVmVydGljYWxDb250YWluZXJQYXJlbnQpcmV0dXJuIHMuRnJhY3Rpb24ucGx1cyh0aGlzLlZlcnRpY2FsQ29udGFpbmVyUGFyZW50LlBhcmVudE1lYXN1cmUuQWJzb2x1dGVUaW1lc3RhbXAsdGhpcy5WZXJ0aWNhbENvbnRhaW5lclBhcmVudC5UaW1lc3RhbXApfWdldCBWb2ljZUVudHJpZXMoKXtyZXR1cm4gdGhpcy52b2ljZUVudHJpZXN9c2V0IFZvaWNlRW50cmllcyh0KXt0aGlzLnZvaWNlRW50cmllcz10fWdldCBMaW5rKCl7cmV0dXJuIHRoaXMuc3RhZmZFbnRyeUxpbmt9c2V0IExpbmsodCl7dGhpcy5zdGFmZkVudHJ5TGluaz10fWdldCBJbnN0cnVjdGlvbnMoKXtyZXR1cm4gdGhpcy5pbnN0cnVjdGlvbnN9c2V0IEluc3RydWN0aW9ucyh0KXt0aGlzLmluc3RydWN0aW9ucz10fWdldCBDaG9yZENvbnRhaW5lcnMoKXtyZXR1cm4gdGhpcy5jaG9yZFN5bWJvbENvbnRhaW5lcnN9c2V0IENob3JkQ29udGFpbmVycyh0KXt0aGlzLmNob3JkU3ltYm9sQ29udGFpbmVycz10fXJlbW92ZUFsbEluc3RydWN0aW9uc09mVHlwZUNsZWZJbnN0cnVjdGlvbigpe2xldCB0PTAsZT0wO2Zvcig7dDx0aGlzLmluc3RydWN0aW9ucy5sZW5ndGg7KXRoaXMuaW5zdHJ1Y3Rpb25zW3RdaW5zdGFuY2VvZiBuLkNsZWZJbnN0cnVjdGlvbj8odGhpcy5pbnN0cnVjdGlvbnMuc3BsaWNlKHQsMSksZSsrKTp0Kys7cmV0dXJuIGV9cmVtb3ZlRmlyc3RJbnN0cnVjdGlvbk9mVHlwZUNsZWZJbnN0cnVjdGlvbigpe2ZvcihsZXQgdD0wO3Q8dGhpcy5pbnN0cnVjdGlvbnMubGVuZ3RoO3QrKylpZih0aGlzLmluc3RydWN0aW9uc1t0XWluc3RhbmNlb2Ygbi5DbGVmSW5zdHJ1Y3Rpb24pcmV0dXJuIHRoaXMuaW5zdHJ1Y3Rpb25zLnNwbGljZSh0LDEpLCEwO3JldHVybiExfXJlbW92ZUFsbEluc3RydWN0aW9uc09mVHlwZUtleUluc3RydWN0aW9uKCl7bGV0IHQ9MCxlPTA7Zm9yKDt0PHRoaXMuaW5zdHJ1Y3Rpb25zLmxlbmd0aDspdGhpcy5pbnN0cnVjdGlvbnNbdF1pbnN0YW5jZW9mIHIuS2V5SW5zdHJ1Y3Rpb24/KHRoaXMuaW5zdHJ1Y3Rpb25zLnNwbGljZSh0LDEpLGUrKyk6dCsrO3JldHVybiBlfXJlbW92ZUZpcnN0SW5zdHJ1Y3Rpb25PZlR5cGVLZXlJbnN0cnVjdGlvbigpe2ZvcihsZXQgdD0wO3Q8dGhpcy5pbnN0cnVjdGlvbnMubGVuZ3RoO3QrKylpZih0aGlzLmluc3RydWN0aW9uc1t0XWluc3RhbmNlb2Ygci5LZXlJbnN0cnVjdGlvbilyZXR1cm4gdGhpcy5pbnN0cnVjdGlvbnMuc3BsaWNlKHQsMSksITA7cmV0dXJuITF9cmVtb3ZlQWxsSW5zdHJ1Y3Rpb25zT2ZUeXBlUmh5dGhtSW5zdHJ1Y3Rpb24oKXtsZXQgdD0wLGU9MDtmb3IoO3Q8dGhpcy5pbnN0cnVjdGlvbnMubGVuZ3RoOyl0aGlzLmluc3RydWN0aW9uc1t0XWluc3RhbmNlb2Ygby5SaHl0aG1JbnN0cnVjdGlvbj8odGhpcy5pbnN0cnVjdGlvbnMuc3BsaWNlKHQsMSksZSsrKTp0Kys7cmV0dXJuIGV9cmVtb3ZlRmlyc3RJbnN0cnVjdGlvbk9mVHlwZVJoeXRobUluc3RydWN0aW9uKCl7Zm9yKGxldCB0PTA7dDx0aGlzLmluc3RydWN0aW9ucy5sZW5ndGg7dCsrKWlmKHRoaXMuaW5zdHJ1Y3Rpb25zW3RdaW5zdGFuY2VvZiBvLlJoeXRobUluc3RydWN0aW9uKXJldHVybiB0aGlzLmluc3RydWN0aW9ucy5zcGxpY2UodCwxKSwhMDtyZXR1cm4hMX1jYWxjdWxhdGVNaW5Ob3RlTGVuZ3RoKCl7bGV0IHQ9bmV3IHMuRnJhY3Rpb24oTnVtYmVyLk1BWF9WQUxVRSwxKTtmb3IobGV0IGU9MCxpPXRoaXMuVm9pY2VFbnRyaWVzLmxlbmd0aDtlPGk7KytlKXtjb25zdCBpPXRoaXMuVm9pY2VFbnRyaWVzW2VdO2ZvcihsZXQgZT0wLHM9aS5Ob3Rlcy5sZW5ndGg7ZTxzOysrZSl7Y29uc3Qgcz1pLk5vdGVzW2VdO3MuTGVuZ3RoLmx0KHQpJiYodD1zLkxlbmd0aCl9fXJldHVybiB0fWNhbGN1bGF0ZU1heE5vdGVMZW5ndGgoKXtsZXQgdD1uZXcgcy5GcmFjdGlvbigwLDEpO2ZvcihsZXQgZT0wLGk9dGhpcy5Wb2ljZUVudHJpZXMubGVuZ3RoO2U8aTsrK2Upe2NvbnN0IGk9dGhpcy5Wb2ljZUVudHJpZXNbZV07Zm9yKGxldCBlPTAsbj1pLk5vdGVzLmxlbmd0aDtlPG47KytlKXtjb25zdCBuPWkuTm90ZXNbZV07aWYobi5Ob3RlVGllKXtjb25zdCBlPXMuRnJhY3Rpb24uY3JlYXRlRnJvbUZyYWN0aW9uKG4uTGVuZ3RoKTtsZXQgaT0hMTtmb3IoY29uc3QgdCBvZiBuLk5vdGVUaWUuTm90ZXMpdCE9PW4/aSYmZS5BZGQodC5MZW5ndGgpOmk9ITA7dC5sdChlKSYmKHQ9ZSl9ZWxzZSB0Lmx0KG4uTGVuZ3RoKSYmKHQ9bi5MZW5ndGgpfX1yZXR1cm4gdH1oYXNOb3Rlcygpe2ZvcihsZXQgdD0wLGU9dGhpcy5Wb2ljZUVudHJpZXMubGVuZ3RoO3Q8ZTsrK3Qpe2lmKHRoaXMuVm9pY2VFbnRyaWVzW3RdLk5vdGVzLmxlbmd0aD4wKXJldHVybiEwfXJldHVybiExfWhhc1RpZSgpe2ZvcihsZXQgdD0wLGU9dGhpcy5Wb2ljZUVudHJpZXMubGVuZ3RoO3Q8ZTsrK3Qpe2lmKHRoaXMuVm9pY2VFbnRyaWVzW3RdLmhhc1RpZSgpKXJldHVybiEwfXJldHVybiExfWZpbmRMaW5rZWROb3Rlcyh0KXtmb3IobGV0IGU9MCxpPXRoaXMudm9pY2VFbnRyaWVzLmxlbmd0aDtlPGk7KytlKXtjb25zdCBpPXRoaXMudm9pY2VFbnRyaWVzW2VdO2ZvcihsZXQgZT0wLHM9aS5Ob3Rlcy5sZW5ndGg7ZTxzOysrZSl7Y29uc3Qgcz1pLk5vdGVzW2VdO3MuUGFyZW50U3RhZmZFbnRyeT09PXRoaXMmJnQucHVzaChzKX19fX19LGZ1bmN0aW9uKHQsZSxpKXtcInVzZSBzdHJpY3RcIjtPYmplY3QuZGVmaW5lUHJvcGVydHkoZSxcIl9fZXNNb2R1bGVcIix7dmFsdWU6ITB9KTtlLlJlcGV0aXRpb25JbnN0cnVjdGlvbkNvbXBhcmVyPWNsYXNze3N0YXRpYyBDb21wYXJlKHQsZSl7aWYodm9pZCAwIT09dC5wYXJlbnRSZXBldGl0aW9uJiZlLnBhcmVudFJlcGV0aXRpb24pe2lmKHQuYWxpZ25tZW50PT09bi5FbmQmJmUuYWxpZ25tZW50PT09bi5FbmQpe2lmKHQucGFyZW50UmVwZXRpdGlvbi5TdGFydEluZGV4PGUucGFyZW50UmVwZXRpdGlvbi5TdGFydEluZGV4KXJldHVybiAxO2lmKHQucGFyZW50UmVwZXRpdGlvbi5TdGFydEluZGV4PmUucGFyZW50UmVwZXRpdGlvbi5TdGFydEluZGV4KXJldHVybi0xfWlmKHQuYWxpZ25tZW50PT09bi5CZWdpbiYmZS5hbGlnbm1lbnQ9PT1uLkJlZ2luKXtpZih0LnBhcmVudFJlcGV0aXRpb24uRW5kSW5kZXg8ZS5wYXJlbnRSZXBldGl0aW9uLkVuZEluZGV4KXJldHVybiAxO2lmKHQucGFyZW50UmVwZXRpdGlvbi5FbmRJbmRleD5lLnBhcmVudFJlcGV0aXRpb24uRW5kSW5kZXgpcmV0dXJuLTF9fXJldHVybiAwfX07dmFyIHMsbjtlLlJlcGV0aXRpb25JbnN0cnVjdGlvbj1jbGFzc3tjb25zdHJ1Y3Rvcih0LGUsaT1uLkVuZCxzLHIpe3RoaXMuZW5kaW5nSW5kaWNlcz12b2lkIDAsdGhpcy5tZWFzdXJlSW5kZXg9dCxyJiYodGhpcy5lbmRpbmdJbmRpY2VzPXIuc2xpY2UoKSksdGhpcy50eXBlPWUsdGhpcy5hbGlnbm1lbnQ9aSx0aGlzLnBhcmVudFJlcGV0aXRpb249c31Db21wYXJlVG8odCl7Y29uc3QgZT10O2lmKHRoaXMubWVhc3VyZUluZGV4PmUubWVhc3VyZUluZGV4KXJldHVybiAxO2lmKHRoaXMubWVhc3VyZUluZGV4PGUubWVhc3VyZUluZGV4KXJldHVybi0xO2lmKHRoaXMuYWxpZ25tZW50PT09bi5CZWdpbil7aWYoZS5hbGlnbm1lbnQ9PT1uLkVuZClyZXR1cm4tMTtzd2l0Y2godGhpcy50eXBlKXtjYXNlIHMuRW5kaW5nOnJldHVybiAxO2Nhc2Ugcy5TdGFydExpbmU6cmV0dXJuIGUudHlwZT09PXMuRW5kaW5nPy0xOjE7Y2FzZSBzLkNvZGE6Y2FzZSBzLlNlZ25vOnJldHVybiBlLnR5cGU9PT1zLkNvZGE/MTotMX19ZWxzZXtpZihlLmFsaWdubWVudD09PW4uQmVnaW4pcmV0dXJuIDE7c3dpdGNoKHRoaXMudHlwZSl7Y2FzZSBzLkVuZGluZzpyZXR1cm4tMTtjYXNlIHMuRmluZTpjYXNlIHMuVG9Db2RhOnJldHVybiBlLnR5cGU9PT1zLkVuZGluZz8xOi0xO2Nhc2Ugcy5Gb3J3YXJkSnVtcDpzd2l0Y2goZS50eXBlKXtjYXNlIHMuRW5kaW5nOmNhc2Ugcy5GaW5lOmNhc2Ugcy5Ub0NvZGE6cmV0dXJuIDF9cmV0dXJuLTE7Y2FzZSBzLkRhbFNlZ25vQWxGaW5lOmNhc2Ugcy5EYUNhcG9BbEZpbmU6Y2FzZSBzLkRhbFNlZ25vQWxDb2RhOmNhc2Ugcy5EYUNhcG9BbENvZGE6Y2FzZSBzLkRhQ2FwbzpjYXNlIHMuRGFsU2Vnbm86Y2FzZSBzLkJhY2tKdW1wTGluZTpyZXR1cm4gMX19cmV0dXJuIDB9ZXF1YWxzKHQpe2lmKHRoaXMubWVhc3VyZUluZGV4IT09dC5tZWFzdXJlSW5kZXh8fHRoaXMudHlwZSE9PXQudHlwZXx8dGhpcy5hbGlnbm1lbnQhPT10LmFsaWdubWVudClyZXR1cm4hMTtpZih0aGlzLmVuZGluZ0luZGljZXM9PT10LmVuZGluZ0luZGljZXMpcmV0dXJuITA7aWYoIXRoaXMuZW5kaW5nSW5kaWNlc3x8IXQuZW5kaW5nSW5kaWNlc3x8dGhpcy5lbmRpbmdJbmRpY2VzLmxlbmd0aCE9PXQuZW5kaW5nSW5kaWNlcy5sZW5ndGgpcmV0dXJuITE7Zm9yKGxldCBlPTA7ZTx0aGlzLmVuZGluZ0luZGljZXMubGVuZ3RoO2UrKylpZih0aGlzLmVuZGluZ0luZGljZXNbZV0hPT10LmVuZGluZ0luZGljZXNbZV0pcmV0dXJuITE7cmV0dXJuITB9fSxmdW5jdGlvbih0KXt0W3QuU3RhcnRMaW5lPTBdPVwiU3RhcnRMaW5lXCIsdFt0LkZvcndhcmRKdW1wPTFdPVwiRm9yd2FyZEp1bXBcIix0W3QuQmFja0p1bXBMaW5lPTJdPVwiQmFja0p1bXBMaW5lXCIsdFt0LkVuZGluZz0zXT1cIkVuZGluZ1wiLHRbdC5EYUNhcG89NF09XCJEYUNhcG9cIix0W3QuRGFsU2Vnbm89NV09XCJEYWxTZWdub1wiLHRbdC5GaW5lPTZdPVwiRmluZVwiLHRbdC5Ub0NvZGE9N109XCJUb0NvZGFcIix0W3QuRGFsU2Vnbm9BbEZpbmU9OF09XCJEYWxTZWdub0FsRmluZVwiLHRbdC5EYUNhcG9BbEZpbmU9OV09XCJEYUNhcG9BbEZpbmVcIix0W3QuRGFsU2Vnbm9BbENvZGE9MTBdPVwiRGFsU2Vnbm9BbENvZGFcIix0W3QuRGFDYXBvQWxDb2RhPTExXT1cIkRhQ2Fwb0FsQ29kYVwiLHRbdC5Db2RhPTEyXT1cIkNvZGFcIix0W3QuU2Vnbm89MTNdPVwiU2Vnbm9cIix0W3QuTm9uZT0xNF09XCJOb25lXCJ9KHM9ZS5SZXBldGl0aW9uSW5zdHJ1Y3Rpb25FbnVtfHwoZS5SZXBldGl0aW9uSW5zdHJ1Y3Rpb25FbnVtPXt9KSksZnVuY3Rpb24odCl7dFt0LkJlZ2luPTBdPVwiQmVnaW5cIix0W3QuRW5kPTFdPVwiRW5kXCJ9KG49ZS5BbGlnbm1lbnRUeXBlfHwoZS5BbGlnbm1lbnRUeXBlPXt9KSl9LGZ1bmN0aW9uKHQsZSxpKXtcInVzZSBzdHJpY3RcIjtPYmplY3QuZGVmaW5lUHJvcGVydHkoZSxcIl9fZXNNb2R1bGVcIix7dmFsdWU6ITB9KTtlLklUZXh0VHJhbnNsYXRpb249Y2xhc3N7c3RhdGljIHRyYW5zbGF0ZVRleHQodCxlKXtpZighdGhpcy5kZWZhdWx0VGV4dFRyYW5zbGF0aW9uKXJldHVybiBlfX19LGZ1bmN0aW9uKHQsZSxpKXtcInVzZSBzdHJpY3RcIjtPYmplY3QuZGVmaW5lUHJvcGVydHkoZSxcIl9fZXNNb2R1bGVcIix7dmFsdWU6ITB9KTtjb25zdCBzPWkoMjkpLG49aSg2KTt2YXIgcjshZnVuY3Rpb24odCl7dFt0LlhNTD0wXT1cIlhNTFwiLHRbdC5BdXRvQ29sb3Jpbmc9MV09XCJBdXRvQ29sb3JpbmdcIix0W3QuQ3VzdG9tQ29sb3JTZXQ9Ml09XCJDdXN0b21Db2xvclNldFwifShlLkNvbG9yaW5nTW9kZXN8fChlLkNvbG9yaW5nTW9kZXM9e30pKSxmdW5jdGlvbih0KXt0LmFsbG9uPVwiYWxsb25cIix0LmNvbXBhY3Q9XCJjb21wYWN0XCIsdC5jb21wYWN0dGlnaHQ9XCJjb21wYWN0dGlnaHRcIix0LmRlZmF1bHQ9XCJkZWZhdWx0XCIsdC5sZWFkc2hlZXQ9XCJsZWFkc2hlZXRcIix0LnByZXZpZXc9XCJwcmV2aWV3XCIsdC50aHVtYm5haWw9XCJ0aHVtYm5haWxcIn0ocj1lLkRyYXdpbmdQYXJhbWV0ZXJzRW51bXx8KGUuRHJhd2luZ1BhcmFtZXRlcnNFbnVtPXt9KSk7ZS5EcmF3aW5nUGFyYW1ldGVycz1jbGFzc3tjb25zdHJ1Y3Rvcih0PXIuZGVmYXVsdCl7dGhpcy5ydWxlcz1uZXcgcy5FbmdyYXZpbmdSdWxlcyx0aGlzLmRyYXdUaXRsZT0hMCx0aGlzLmRyYXdTdWJ0aXRsZT0hMCx0aGlzLmRyYXdMeXJpY2lzdD0hMCx0aGlzLmRyYXdDb21wb3Nlcj0hMCx0aGlzLmRyYXdDcmVkaXRzPSEwLHRoaXMuZHJhd1BhcnROYW1lcz0hMCx0aGlzLmZpbmdlcmluZ1Bvc2l0aW9uPW4uUGxhY2VtZW50RW51bS5MZWZ0LHRoaXMuZHJhd0hpZGRlbk5vdGVzPSExLHRoaXMuRHJhd2luZ1BhcmFtZXRlcnNFbnVtPXR9c2V0IERyYXdpbmdQYXJhbWV0ZXJzRW51bSh0KXtzd2l0Y2godGhpcy5kcmF3aW5nUGFyYW1ldGVyc0VudW09dCx0KXtjYXNlIHIuYWxsb246dGhpcy5zZXRGb3JBbGxPbigpO2JyZWFrO2Nhc2Ugci50aHVtYm5haWw6dGhpcy5zZXRGb3JUaHVtYm5haWwoKTticmVhaztjYXNlIHIubGVhZHNoZWV0OnRoaXMuc2V0Rm9yTGVhZHNoZWV0KCk7YnJlYWs7Y2FzZSByLmNvbXBhY3Q6dGhpcy5zZXRGb3JDb21wYWN0TW9kZSgpO2JyZWFrO2Nhc2Ugci5jb21wYWN0dGlnaHQ6dGhpcy5zZXRGb3JDb21wYWN0VGlnaHRNb2RlKCk7YnJlYWs7Y2FzZSByLmRlZmF1bHQ6ZGVmYXVsdDp0aGlzLnNldEZvckRlZmF1bHQoKX19Z2V0IERyYXdpbmdQYXJhbWV0ZXJzRW51bSgpe3JldHVybiB0aGlzLmRyYXdpbmdQYXJhbWV0ZXJzRW51bX1zZXRGb3JBbGxPbigpe3RoaXMuZHJhd0hpZ2hsaWdodHM9ITAsdGhpcy5kcmF3RXJyb3JzPSEwLHRoaXMuZHJhd1NlbGVjdGlvblN0YXJ0U3ltYm9sPSEwLHRoaXMuZHJhd1NlbGVjdGlvbkVuZFN5bWJvbD0hMCx0aGlzLmRyYXdDdXJzb3JzPSEwLHRoaXMuZHJhd0FjdGl2aXR5U3ltYm9scz0hMCx0aGlzLmRyYXdTY3JvbGxJbmRpY2F0b3I9ITAsdGhpcy5kcmF3Q29tbWVudHM9ITAsdGhpcy5kcmF3TWFya2VkQXJlYXM9ITAsdGhpcy5EcmF3VGl0bGU9ITAsdGhpcy5EcmF3U3VidGl0bGU9ITAsdGhpcy5EcmF3Q29tcG9zZXI9ITAsdGhpcy5EcmF3THlyaWNpc3Q9ITAsdGhpcy5kcmF3Q3JlZGl0cz0hMCx0aGlzLkRyYXdQYXJ0TmFtZXM9ITAsdGhpcy5kcmF3SGlkZGVuTm90ZXM9ITAsdGhpcy5ydWxlcy5Db21wYWN0TW9kZT0hMX1zZXRGb3JEZWZhdWx0KCl7dGhpcy5zZXRGb3JBbGxPbigpLHRoaXMuZHJhd0hpZGRlbk5vdGVzPSExfXNldEZvclRodW1ibmFpbCgpe3RoaXMuZHJhd0hpZ2hsaWdodHM9ITEsdGhpcy5kcmF3RXJyb3JzPSExLHRoaXMuZHJhd1NlbGVjdGlvblN0YXJ0U3ltYm9sPSExLHRoaXMuZHJhd1NlbGVjdGlvblN0YXJ0U3ltYm9sPSExLHRoaXMuZHJhd0N1cnNvcnM9ITEsdGhpcy5kcmF3QWN0aXZpdHlTeW1ib2xzPSExLHRoaXMuZHJhd1Njcm9sbEluZGljYXRvcj0hMSx0aGlzLmRyYXdDb21tZW50cz0hMCx0aGlzLmRyYXdNYXJrZWRBcmVhcz0hMCx0aGlzLmRyYXdIaWRkZW5Ob3Rlcz0hMX1zZXRGb3JDb21wYWN0TW9kZSgpe3RoaXMuc2V0Rm9yRGVmYXVsdCgpLHRoaXMucnVsZXMuQ29tcGFjdE1vZGU9ITAsdGhpcy5EcmF3Q3JlZGl0cz0hMSx0aGlzLmRyYXdIaWRkZW5Ob3Rlcz0hMX1zZXRGb3JDb21wYWN0VGlnaHRNb2RlKCl7dGhpcy5zZXRGb3JDb21wYWN0TW9kZSgpLHRoaXMuRHJhd1BhcnROYW1lcz0hMSx0aGlzLnJ1bGVzLk1pblNreUJvdHRvbURpc3RCZXR3ZWVuU3RhdmVzPTEsdGhpcy5ydWxlcy5NaW5Ta3lCb3R0b21EaXN0QmV0d2VlblN5c3RlbXM9Mix0aGlzLnJ1bGVzLkJldHdlZW5TdGFmZkRpc3RhbmNlPTIuNSx0aGlzLnJ1bGVzLlN0YWZmRGlzdGFuY2U9My41LHRoaXMucnVsZXMuTWluaW11bURpc3RhbmNlQmV0d2VlblN5c3RlbXM9MSx0aGlzLnJ1bGVzLlBhZ2VCb3R0b21NYXJnaW49MSx0aGlzLnJ1bGVzLlBhZ2VMZWZ0TWFyZ2luPTIsdGhpcy5ydWxlcy5QYWdlUmlnaHRNYXJnaW49Mn1zZXRGb3JMZWFkc2hlZXQoKXt0aGlzLmRyYXdIaWdobGlnaHRzPSExLHRoaXMuZHJhd0Vycm9ycz0hMSx0aGlzLmRyYXdTZWxlY3Rpb25TdGFydFN5bWJvbD0hMCx0aGlzLmRyYXdTZWxlY3Rpb25FbmRTeW1ib2w9ITAsdGhpcy5kcmF3Q3Vyc29ycz0hMCx0aGlzLmRyYXdBY3Rpdml0eVN5bWJvbHM9ITEsdGhpcy5kcmF3U2Nyb2xsSW5kaWNhdG9yPSEwLHRoaXMuZHJhd0NvbW1lbnRzPSEwLHRoaXMuZHJhd01hcmtlZEFyZWFzPSEwfWdldCBEcmF3Q3JlZGl0cygpe3JldHVybiB0aGlzLmRyYXdDcmVkaXRzfXNldCBEcmF3Q3JlZGl0cyh0KXt0aGlzLmRyYXdDcmVkaXRzPXQsdGhpcy5EcmF3Q29tcG9zZXI9dCx0aGlzLkRyYXdUaXRsZT10LHRoaXMuRHJhd1N1YnRpdGxlPXQsdGhpcy5EcmF3THlyaWNpc3Q9dH1nZXQgRHJhd1RpdGxlKCl7cmV0dXJuIHRoaXMuZHJhd1RpdGxlfXNldCBEcmF3VGl0bGUodCl7dGhpcy5kcmF3VGl0bGU9dCx0aGlzLnJ1bGVzLlJlbmRlclRpdGxlPXQsdHx8KHRoaXMuRHJhd1N1YnRpdGxlPSExKX1nZXQgRHJhd1N1YnRpdGxlKCl7cmV0dXJuIHRoaXMuZHJhd1N1YnRpdGxlfXNldCBEcmF3U3VidGl0bGUodCl7dGhpcy5kcmF3U3VidGl0bGU9dCx0aGlzLnJ1bGVzLlJlbmRlclN1YnRpdGxlPXQsdCYmKHRoaXMuRHJhd1RpdGxlPSEwKX1nZXQgRHJhd0NvbXBvc2VyKCl7cmV0dXJuIHRoaXMuZHJhd0NvbXBvc2VyfXNldCBEcmF3Q29tcG9zZXIodCl7dGhpcy5kcmF3Q29tcG9zZXI9dCx0aGlzLnJ1bGVzLlJlbmRlckNvbXBvc2VyPXR9Z2V0IERyYXdMeXJpY2lzdCgpe3JldHVybiB0aGlzLmRyYXdMeXJpY2lzdH1zZXQgRHJhd0x5cmljaXN0KHQpe3RoaXMuZHJhd0x5cmljaXN0PXQsdGhpcy5ydWxlcy5SZW5kZXJMeXJpY2lzdD10fWdldCBEcmF3UGFydE5hbWVzKCl7cmV0dXJuIHRoaXMuZHJhd1BhcnROYW1lc31zZXQgRHJhd1BhcnROYW1lcyh0KXt0aGlzLmRyYXdQYXJ0TmFtZXM9dCx0aGlzLnJ1bGVzLlJlbmRlclBhcnROYW1lcz10LHRoaXMucnVsZXMuUmVuZGVyUGFydE5hbWVzfHwodGhpcy5ydWxlcy5SZW5kZXJQYXJ0QWJicmV2aWF0aW9ucz0hMSl9Z2V0IEZpbmdlcmluZ1Bvc2l0aW9uKCl7cmV0dXJuIHRoaXMuZmluZ2VyaW5nUG9zaXRpb259c2V0IEZpbmdlcmluZ1Bvc2l0aW9uKHQpe3RoaXMuZmluZ2VyaW5nUG9zaXRpb249dCx0aGlzLnJ1bGVzLkZpbmdlcmluZ1Bvc2l0aW9uPXR9Z2V0IFJ1bGVzKCl7cmV0dXJuIHRoaXMucnVsZXN9c2V0IFJ1bGVzKHQpe3RoaXMucnVsZXM9dH19fSxmdW5jdGlvbih0LGUsaSl7XCJ1c2Ugc3RyaWN0XCI7dmFyIHM9dGhpcyYmdGhpcy5fX2ltcG9ydERlZmF1bHR8fGZ1bmN0aW9uKHQpe3JldHVybiB0JiZ0Ll9fZXNNb2R1bGU/dDp7ZGVmYXVsdDp0fX07T2JqZWN0LmRlZmluZVByb3BlcnR5KGUsXCJfX2VzTW9kdWxlXCIse3ZhbHVlOiEwfSk7Y29uc3Qgbj1pKDQyKSxyPXMoaSgxKSksbz1pKDcpLGE9aSg2KSxoPWkoNDEpLGw9aSgyOCksYz1pKDQzKSx1PWkoODYpLGQ9aSg0NCk7Y2xhc3MgZntjb25zdHJ1Y3Rvcigpe3RoaXMubm90ZURpc3RhbmNlcz1bMSwxLDEuMywxLjYsMiwyLjUsMyw0XSx0aGlzLm5vdGVEaXN0YW5jZXNTY2FsaW5nRmFjdG9ycz1bMSwyLDQsOCwxNiwzMiw2NCwxMjhdLHRoaXMuZHVyYXRpb25EaXN0YW5jZURpY3Q9e30sdGhpcy5kdXJhdGlvblNjYWxpbmdEaXN0YW5jZURpY3Q9e30sdGhpcy5zYW1wbGluZ1VuaXQ9MypmLnVuaXQsdGhpcy5zaGVldFRpdGxlSGVpZ2h0PTQsdGhpcy5zaGVldFN1YnRpdGxlSGVpZ2h0PTIsdGhpcy5zaGVldE1pbmltdW1EaXN0YW5jZUJldHdlZW5UaXRsZUFuZFN1YnRpdGxlPTEsdGhpcy5zaGVldENvbXBvc2VySGVpZ2h0PTIsdGhpcy5zaGVldEF1dGhvckhlaWdodD0yLHRoaXMuY29tcGFjdE1vZGU9ITEsdGhpcy5wYWdlUGxhY2VtZW50RW51bT1uLlBhZ2VQbGFjZW1lbnRFbnVtLkRvd24sdGhpcy5wYWdlSGVpZ2h0PTEwMDAwMSx0aGlzLnBhZ2VUb3BNYXJnaW49NSx0aGlzLnBhZ2VUb3BNYXJnaW5OYXJyb3c9MCx0aGlzLnBhZ2VCb3R0b21NYXJnaW49NSx0aGlzLnBhZ2VMZWZ0TWFyZ2luPTUsdGhpcy5wYWdlUmlnaHRNYXJnaW49NSx0aGlzLnRpdGxlVG9wRGlzdGFuY2U9OSx0aGlzLnRpdGxlQm90dG9tRGlzdGFuY2U9MSx0aGlzLnN0YWZmRGlzdGFuY2U9Nyx0aGlzLmJldHdlZW5TdGFmZkRpc3RhbmNlPTUsdGhpcy5taW5pbXVtU3RhZmZMaW5lRGlzdGFuY2U9NCx0aGlzLm1pblNreUJvdHRvbURpc3RCZXR3ZWVuU3RhdmVzPTEsdGhpcy5zdGFmZkhlaWdodD00LHRoaXMudGFiU3RhZmZJbnRlcmxpbmVIZWlnaHQ9MS4xMTExLHRoaXMuYmV0d2VlblN0YWZmTGluZXNEaXN0YW5jZT1mLnVuaXQsdGhpcy5zeXN0ZW1MZWZ0TWFyZ2luPTAsdGhpcy5zeXN0ZW1SaWdodE1hcmdpbj0wLHRoaXMuZmlyc3RTeXN0ZW1NYXJnaW49MTUsdGhpcy5zeXN0ZW1MYWJlbHNSaWdodE1hcmdpbj0yLHRoaXMuc3lzdGVtQ29tcG9zZXJEaXN0YW5jZT0yLHRoaXMuaW5zdHJ1bWVudExhYmVsVGV4dEhlaWdodD0yLHRoaXMubWluaW11bURpc3RhbmNlQmV0d2VlblN5c3RlbXM9Nyx0aGlzLm1pblNreUJvdHRvbURpc3RCZXR3ZWVuU3lzdGVtcz01LHRoaXMubGFzdFN5c3RlbU1heFNjYWxpbmdGYWN0b3I9MS40LHRoaXMuYXV0b0JlYW1Ob3Rlcz0hMSx0aGlzLmF1dG9CZWFtT3B0aW9ucz17YmVhbV9taWRkbGVfcmVzdHNfb25seTohMSxiZWFtX3Jlc3RzOiExLG1haW50YWluX3N0ZW1fZGlyZWN0aW9uczohMX0sdGhpcy5iZWFtV2lkdGg9Zi51bml0LzIsdGhpcy5iZWFtU3BhY2VXaWR0aD1mLnVuaXQvMyx0aGlzLmJlYW1Gb3J3YXJkTGVuZ3RoPTEuMjUqZi51bml0LHRoaXMuY2xlZkxlZnRNYXJnaW49LjUsdGhpcy5jbGVmUmlnaHRNYXJnaW49Ljc1LHRoaXMucGVyY3Vzc2lvbk9uZUxpbmVDdXRvZmY9NCx0aGlzLnBlcmN1c3Npb25Gb3JjZVZvaWNlc09uZUxpbmVDdXRvZmY9Myx0aGlzLmJldHdlZW5LZXlTeW1ib2xzRGlzdGFuY2U9LjIsdGhpcy5rZXlSaWdodE1hcmdpbj0uNzUsdGhpcy5yaHl0aG1SaWdodE1hcmdpbj0xLjI1LHRoaXMuc2hvd1JoeXRobUFnYWluQWZ0ZXJQYXJ0RW5kT3JGaW5hbEJhcmxpbmU9ITAsdGhpcy5pblN0YWZmQ2xlZlNjYWxpbmdGYWN0b3I9LjgsdGhpcy5kaXN0YW5jZUJldHdlZW5OYXR1cmFsQW5kU3ltYm9sV2hlbkNhbmNlbGxpbmc9LjQsdGhpcy5ub3RlSGVscGVyTGluZXNPZmZzZXQ9LjI1LHRoaXMubWVhc3VyZUxlZnRNYXJnaW49LjcsdGhpcy5tZWFzdXJlUmlnaHRNYXJnaW49MCx0aGlzLmRpc3RhbmNlQmV0d2Vlbkxhc3RJbnN0cnVjdGlvbkFuZFJlcGV0aXRpb25CYXJsaW5lPTEsdGhpcy5hcnBlZ2dpb0Rpc3RhbmNlPS42LHRoaXMuc3RhY2NhdG9TaG9ydGVuaW5nRmFjdG9yPTIsdGhpcy5pZGVhbFN0ZW1MZW5ndGg9Myx0aGlzLnN0ZW1Ob3RlSGVhZEJvcmRlcllPZmZzZXQ9LjIsdGhpcy5zdGVtV2lkdGg9LjEzLHRoaXMuc3RlbU1hcmdpbj0uMix0aGlzLnN0ZW1NaW5MZW5ndGg9Mi41LHRoaXMuc3RlbU1heExlbmd0aD00LjUsdGhpcy5iZWFtU2xvcGVNYXhBbmdsZT0xMCx0aGlzLnN0ZW1NaW5BbGxvd2VkRGlzdGFuY2VCZXR3ZWVuTm90ZUhlYWRBbmRCZWFtTGluZT0xLHRoaXMuc2V0V2FudGVkU3RlbURpcmVjdGlvbkJ5WG1sPSEwLHRoaXMuZ3JhY2VOb3RlU2NhbGluZ0ZhY3Rvcj0uNix0aGlzLmdyYWNlTm90ZVhPZmZzZXQ9LjIsdGhpcy53ZWRnZU9wZW5pbmdMZW5ndGg9MS4yLHRoaXMud2VkZ2VNZWFzdXJlRW5kT3BlbmluZ0xlbmd0aD0uNzUsdGhpcy53ZWRnZU1lYXN1cmVCZWdpbk9wZW5pbmdMZW5ndGg9Ljc1LHRoaXMud2VkZ2VQbGFjZW1lbnRBYm92ZVk9LTEuNSx0aGlzLndlZGdlUGxhY2VtZW50QmVsb3dZPTEuNSx0aGlzLndlZGdlSG9yaXpvbnRhbE1hcmdpbj0uNix0aGlzLndlZGdlVmVydGljYWxNYXJnaW49LjUsdGhpcy5kaXN0YW5jZU9mZnNldEJldHdlZW5Ud29Ib3Jpem9udGFsbHlDcm9zc2VkV2VkZ2VzPS4zLHRoaXMud2VkZ2VNaW5MZW5ndGg9Mix0aGlzLmRpc3RhbmNlQmV0d2VlbkFkamFjZW50RHluYW1pY3M9Ljc1LHRoaXMudGVtcG9DaGFuZ2VNZWFzdXJlVmFsaWRpdHk9NCx0aGlzLnRlbXBvQ29udGlub3VzRmFjdG9yPS43LHRoaXMuc3RhY2NhdG9TY2FsaW5nRmFjdG9yPS44LHRoaXMuYmV0d2VlbkRvdHNEaXN0YW5jZT0uOCx0aGlzLm9ybmFtZW50QWNjaWRlbnRhbFNjYWxpbmdGYWN0b3I9LjY1LHRoaXMuY2hvcmRTeW1ib2xUZXh0SGVpZ2h0PTIsdGhpcy5jaG9yZFN5bWJvbFhTcGFjaW5nPTEsdGhpcy5jaG9yZFN5bWJvbFlPZmZzZXQ9Mix0aGlzLmNob3JkU3ltYm9sTGFiZWxUZXh0cz1uZXcgYy5EaWN0aW9uYXJ5LHRoaXMucmVzZXRDaG9yZFN5bWJvbExhYmVsVGV4dHModGhpcy5jaG9yZFN5bWJvbExhYmVsVGV4dHMpLHRoaXMubWVhc3VyZU51bWJlckxhYmVsSGVpZ2h0PTEuNSpmLnVuaXQsdGhpcy5tZWFzdXJlTnVtYmVyTGFiZWxPZmZzZXQ9Mix0aGlzLm1lYXN1cmVOdW1iZXJMYWJlbFhPZmZzZXQ9LS41LHRoaXMudHVwbGV0c1JhdGlvZWQ9ITEsdGhpcy50dXBsZXRzQnJhY2tldGVkPSExLHRoaXMudHJpcGxldHNCcmFja2V0ZWQ9ITEsdGhpcy50dXBsZXROdW1iZXJMYWJlbEhlaWdodD0xLjUqZi51bml0LHRoaXMudHVwbGV0TnVtYmVyWU9mZnNldD0uNSx0aGlzLmxhYmVsTWFyZ2luQm9yZGVyRmFjdG9yPS4xLHRoaXMudHVwbGV0VmVydGljYWxMaW5lTGVuZ3RoPS41LHRoaXMuYmV6aWVyQ3VydmVTdGVwU2l6ZT0xZTMsdGhpcy5jYWxjdWxhdGVDdXJ2ZVBhcmFtZXRlcnNBcnJheXMoKSx0aGlzLnRpZUdob3N0T2JqZWN0V2lkdGg9Ljc1LHRoaXMudGllWVBvc2l0aW9uT2Zmc2V0RmFjdG9yPS4zLHRoaXMubWluaW11bU5lZWRlZFhzcGFjZUZvclRpZUdob3N0T2JqZWN0PTEsdGhpcy50aWVIZWlnaHRNaW5pbXVtPS4yOCx0aGlzLnRpZUhlaWdodE1heGltdW09MS4yLHRoaXMudGllSGVpZ2h0SW50ZXJwb2xhdGlvbks9LjAyODgsdGhpcy50aWVIZWlnaHRJbnRlcnBvbGF0aW9uRD0uMTM2LHRoaXMuc2x1ck5vdGVIZWFkWU9mZnNldD0uNSx0aGlzLnNsdXJTdGVtWE9mZnNldD0uMyx0aGlzLnNsdXJTbG9wZU1heEFuZ2xlPTE1LHRoaXMuc2x1clRhbmdlbnRNaW5BbmdsZT0zMCx0aGlzLnNsdXJUYW5nZW50TWF4QW5nbGU9ODAsdGhpcy5zbHVyc1N0YXJ0aW5nQXRTYW1lU3RhZmZFbnRyeVlPZmZzZXQ9LjgsdGhpcy5yZXBldGl0aW9uRW5kaW5nTGFiZWxIZWlnaHQ9Mix0aGlzLnJlcGV0aXRpb25FbmRpbmdMYWJlbFhPZmZzZXQ9LjUsdGhpcy5yZXBldGl0aW9uRW5kaW5nTGFiZWxZT2Zmc2V0PS4zLHRoaXMucmVwZXRpdGlvbkVuZGluZ0xpbmVZTG93ZXJPZmZzZXQ9LjUsdGhpcy5yZXBldGl0aW9uRW5kaW5nTGluZVlVcHBlck9mZnNldD0uMyx0aGlzLnZvbHRhT2Zmc2V0PTIuNSx0aGlzLmx5cmljc0FsaWdubWVudFN0YW5kYXJkPW8uVGV4dEFsaWdubWVudEVudW0uTGVmdEJvdHRvbSx0aGlzLmx5cmljc0hlaWdodD0yLHRoaXMubHlyaWNzWU9mZnNldFRvU3RhZmZIZWlnaHQ9Myx0aGlzLnZlcnRpY2FsQmV0d2Vlbkx5cmljc0Rpc3RhbmNlPS41LHRoaXMuaG9yaXpvbnRhbEJldHdlZW5MeXJpY3NEaXN0YW5jZT0uMix0aGlzLmJldHdlZW5TeWxsYWJsZU1heGltdW1EaXN0YW5jZT0xMCx0aGlzLmJldHdlZW5TeWxsYWJsZU1pbmltdW1EaXN0YW5jZT0uNSx0aGlzLmx5cmljT3ZlcmxhcEFsbG93ZWRJbnRvTmV4dE1lYXN1cmU9My40LHRoaXMubWluaW11bURpc3RhbmNlQmV0d2VlbkRhc2hlcz0xMCx0aGlzLmluc3RhbnRhbmVvdXNUZW1wb1RleHRIZWlnaHQ9Mi4zLHRoaXMuY29udGludW91c0R5bmFtaWNUZXh0SGVpZ2h0PTIuMyx0aGlzLm1vb2RUZXh0SGVpZ2h0PTIuMyx0aGlzLnVua25vd25UZXh0SGVpZ2h0PTIsdGhpcy5jb250aW51b3VzVGVtcG9UZXh0SGVpZ2h0PTIuMyx0aGlzLmR5bmFtaWNFeHByZXNzaW9uTWF4RGlzdGFuY2U9Mix0aGlzLmR5bmFtaWNFeHByZXNzaW9uU3BhY2VyPS41LHRoaXMuc3RhZmZMaW5lV2lkdGg9LjEyLHRoaXMubGVkZ2VyTGluZVdpZHRoPXZvaWQgMCx0aGlzLmxlZGdlckxpbmVTdHJva2VTdHlsZT12b2lkIDAsdGhpcy53ZWRnZUxpbmVXaWR0aD0uMTIsdGhpcy50dXBsZXRMaW5lV2lkdGg9LjEyLHRoaXMubHlyaWNVbmRlcnNjb3JlTGluZVdpZHRoPS4xMix0aGlzLnN5c3RlbVRoaW5MaW5lV2lkdGg9LjEyLHRoaXMuc3lzdGVtQm9sZExpbmVXaWR0aD1mLnVuaXQvMix0aGlzLnN5c3RlbVJlcGV0aXRpb25FbmRpbmdMaW5lV2lkdGg9LjEyLHRoaXMuc3lzdGVtRG90V2lkdGg9Zi51bml0LzUsdGhpcy5kaXN0YW5jZUJldHdlZW5WZXJ0aWNhbFN5c3RlbUxpbmVzPS4zNSx0aGlzLmRpc3RhbmNlQmV0d2VlbkRvdEFuZExpbmU9LjcsdGhpcy5vY3RhdmVTaGlmdExpbmVXaWR0aD0uMTIsdGhpcy5vY3RhdmVTaGlmdFZlcnRpY2FsTGluZUxlbmd0aD1mLnVuaXQsdGhpcy5ncmFjZUxpbmVXaWR0aD10aGlzLnN0YWZmTGluZVdpZHRoKnRoaXMuR3JhY2VOb3RlU2NhbGluZ0ZhY3Rvcix0aGlzLm1pbmltdW1Dcm9zc2VkQmVhbURpZmZlcmVuY2VNYXJnaW49MWUtNCx0aGlzLmRpc3BsYWNlZE5vdGVNYXJnaW49LjEsdGhpcy5taW5Ob3RlRGlzdGFuY2U9Mix0aGlzLnN1Yk1lYXN1cmVYU3BhY2luZ1RocmVzaG9sZD0zNSx0aGlzLm1lYXN1cmVEeW5hbWljc01heFNjYWxpbmdGYWN0b3I9Mi41LHRoaXMud2hvbGVSZXN0WFNoaWZ0VmV4Zmxvdz0tMi41LHRoaXMubWV0cm9ub21lTWFya3NEcmF3bj0hMCx0aGlzLm1ldHJvbm9tZU1hcmtYU2hpZnQ9LTYsdGhpcy5tZXRyb25vbWVNYXJrWVNoaWZ0PS0uNSx0aGlzLmFsaWduUmVzdHM9aC5BbGlnblJlc3RPcHRpb24uTmV2ZXIsdGhpcy5maWxsRW1wdHlNZWFzdXJlc1dpdGhXaG9sZVJlc3Q9aC5GaWxsRW1wdHlNZWFzdXJlc1dpdGhXaG9sZVJlc3RzLk5vLHRoaXMuYXJwZWdnaW9zR29BY3Jvc3NWb2ljZXM9ITEsdGhpcy5yZW5kZXJBcnBlZ2dpb3M9ITAsdGhpcy5yZW5kZXJTbHVycz0hMCx0aGlzLmNvbG9yaW5nTW9kZT1sLkNvbG9yaW5nTW9kZXMuWE1MLHRoaXMuY29sb3JpbmdFbmFibGVkPSEwLHRoaXMuY29sb3JTdGVtc0xpa2VOb3RlaGVhZHM9ITEsdGhpcy5jb2xvckJlYW1zPSEwLHRoaXMuY29sb3JGbGFncz0hMCx0aGlzLmRlZmF1bHRDb2xvck5vdGVoZWFkPVwiIzAwMDAwMFwiLHRoaXMuZGVmYXVsdENvbG9yUmVzdD10aGlzLmRlZmF1bHRDb2xvck5vdGVoZWFkLHRoaXMuZGVmYXVsdENvbG9yU3RlbT10aGlzLmRlZmF1bHRDb2xvck5vdGVoZWFkLHRoaXMuZGVmYXVsdENvbG9yTGFiZWw9dGhpcy5kZWZhdWx0Q29sb3JOb3RlaGVhZCx0aGlzLmRlZmF1bHRDb2xvclRpdGxlPXRoaXMuZGVmYXVsdENvbG9yTm90ZWhlYWQsdGhpcy5kZWZhdWx0Rm9udEZhbWlseT1cIlRpbWVzIE5ldyBSb21hblwiLHRoaXMuZGVmYXVsdEZvbnRTdHlsZT11LkZvbnRTdHlsZXMuUmVndWxhcix0aGlzLm1heE1lYXN1cmVUb0RyYXdJbmRleD1OdW1iZXIuTUFYX1ZBTFVFLHRoaXMubWluTWVhc3VyZVRvRHJhd0luZGV4PTAsdGhpcy5yZW5kZXJDb21wb3Nlcj0hMCx0aGlzLnJlbmRlclRpdGxlPSEwLHRoaXMucmVuZGVyU3VidGl0bGU9ITAsdGhpcy5yZW5kZXJMeXJpY2lzdD0hMCx0aGlzLnJlbmRlclBhcnROYW1lcz0hMCx0aGlzLnJlbmRlclBhcnRBYmJyZXZpYXRpb25zPSEwLHRoaXMucmVuZGVyRmluZ2VyaW5ncz0hMCx0aGlzLnJlbmRlck1lYXN1cmVOdW1iZXJzPSEwLHRoaXMucmVuZGVyTHlyaWNzPSEwLHRoaXMuZmluZ2VyaW5nUG9zaXRpb249YS5QbGFjZW1lbnRFbnVtLkxlZnQsdGhpcy5maW5nZXJpbmdJbnNpZGVTdGFmZmxpbmVzPSExLHRoaXMuZmluZ2VyaW5nTGFiZWxGb250SGVpZ2h0PTEuNyx0aGlzLmZpbmdlcmluZ09mZnNldFg9MCx0aGlzLm5ld1N5c3RlbUF0WE1MTmV3U3lzdGVtQXR0cmlidXRlPSExLHRoaXMubmV3UGFnZUF0WE1MTmV3UGFnZUF0dHJpYnV0ZT0hMSx0aGlzLnJlc3RvcmVDdXJzb3JBZnRlclJlcmVuZGVyPSEwLGYuRml4U3RhZmZsaW5lQm91bmRpbmdCb3g9ITEsdGhpcy5wYWdlRm9ybWF0PW0uVW5kZWZpbmVkUGFnZUZvcm1hdCx0aGlzLnBhZ2VCYWNrZ3JvdW5kQ29sb3I9dm9pZCAwLHRoaXMucmVuZGVyU2luZ2xlSG9yaXpvbnRhbFN0YWZmbGluZT0hMSx0aGlzLnBvcHVsYXRlRGljdGlvbmFyaWVzKCk7dHJ5e3RoaXMubWF4SW5zdHJ1Y3Rpb25zQ29uc3RWYWx1ZT10aGlzLkNsZWZMZWZ0TWFyZ2luK3RoaXMuQ2xlZlJpZ2h0TWFyZ2luK3RoaXMuS2V5UmlnaHRNYXJnaW4rdGhpcy5SaHl0aG1SaWdodE1hcmdpbisxMX1jYXRjaCh0KXtyLmRlZmF1bHQuaW5mbyhcIkVuZ3JhdmluZ1J1bGVzKClcIix0KX19c3RhdGljIGdldCBGaXhTdGFmZmxpbmVCb3VuZGluZ0JveCgpe3JldHVybiBmLmZpeFN0YWZmbGluZUJvdW5kaW5nQm94fXN0YXRpYyBzZXQgRml4U3RhZmZsaW5lQm91bmRpbmdCb3godCl7Zi5maXhTdGFmZmxpbmVCb3VuZGluZ0JveD10fWdldCBTYW1wbGluZ1VuaXQoKXtyZXR1cm4gdGhpcy5zYW1wbGluZ1VuaXR9Z2V0IFNoZWV0VGl0bGVIZWlnaHQoKXtyZXR1cm4gdGhpcy5zaGVldFRpdGxlSGVpZ2h0fXNldCBTaGVldFRpdGxlSGVpZ2h0KHQpe3RoaXMuc2hlZXRUaXRsZUhlaWdodD10fWdldCBTaGVldFN1YnRpdGxlSGVpZ2h0KCl7cmV0dXJuIHRoaXMuc2hlZXRTdWJ0aXRsZUhlaWdodH1zZXQgU2hlZXRTdWJ0aXRsZUhlaWdodCh0KXt0aGlzLnNoZWV0U3VidGl0bGVIZWlnaHQ9dH1nZXQgU2hlZXRNaW5pbXVtRGlzdGFuY2VCZXR3ZWVuVGl0bGVBbmRTdWJ0aXRsZSgpe3JldHVybiB0aGlzLnNoZWV0TWluaW11bURpc3RhbmNlQmV0d2VlblRpdGxlQW5kU3VidGl0bGV9c2V0IFNoZWV0TWluaW11bURpc3RhbmNlQmV0d2VlblRpdGxlQW5kU3VidGl0bGUodCl7dGhpcy5zaGVldE1pbmltdW1EaXN0YW5jZUJldHdlZW5UaXRsZUFuZFN1YnRpdGxlPXR9Z2V0IFNoZWV0Q29tcG9zZXJIZWlnaHQoKXtyZXR1cm4gdGhpcy5zaGVldENvbXBvc2VySGVpZ2h0fXNldCBTaGVldENvbXBvc2VySGVpZ2h0KHQpe3RoaXMuc2hlZXRDb21wb3NlckhlaWdodD10fWdldCBTaGVldEF1dGhvckhlaWdodCgpe3JldHVybiB0aGlzLnNoZWV0QXV0aG9ySGVpZ2h0fXNldCBTaGVldEF1dGhvckhlaWdodCh0KXt0aGlzLnNoZWV0QXV0aG9ySGVpZ2h0PXR9Z2V0IFBhZ2VQbGFjZW1lbnQoKXtyZXR1cm4gdGhpcy5wYWdlUGxhY2VtZW50RW51bX1zZXQgUGFnZVBsYWNlbWVudCh0KXt0aGlzLnBhZ2VQbGFjZW1lbnRFbnVtPXR9Z2V0IENvbXBhY3RNb2RlKCl7cmV0dXJuIHRoaXMuY29tcGFjdE1vZGV9c2V0IENvbXBhY3RNb2RlKHQpe3RoaXMuY29tcGFjdE1vZGU9dH1nZXQgUGFnZUhlaWdodCgpe3JldHVybiB0aGlzLnBhZ2VIZWlnaHR9c2V0IFBhZ2VIZWlnaHQodCl7dGhpcy5wYWdlSGVpZ2h0PXR9Z2V0IFBhZ2VUb3BNYXJnaW4oKXtyZXR1cm4gdGhpcy5wYWdlVG9wTWFyZ2lufXNldCBQYWdlVG9wTWFyZ2luKHQpe3RoaXMucGFnZVRvcE1hcmdpbj10fWdldCBQYWdlVG9wTWFyZ2luTmFycm93KCl7cmV0dXJuIHRoaXMucGFnZVRvcE1hcmdpbk5hcnJvd31zZXQgUGFnZVRvcE1hcmdpbk5hcnJvdyh0KXt0aGlzLnBhZ2VUb3BNYXJnaW5OYXJyb3c9dH1nZXQgUGFnZUJvdHRvbU1hcmdpbigpe3JldHVybiB0aGlzLnBhZ2VCb3R0b21NYXJnaW59c2V0IFBhZ2VCb3R0b21NYXJnaW4odCl7dGhpcy5wYWdlQm90dG9tTWFyZ2luPXR9Z2V0IFBhZ2VMZWZ0TWFyZ2luKCl7cmV0dXJuIHRoaXMucGFnZUxlZnRNYXJnaW59c2V0IFBhZ2VMZWZ0TWFyZ2luKHQpe3RoaXMucGFnZUxlZnRNYXJnaW49dH1nZXQgUGFnZVJpZ2h0TWFyZ2luKCl7cmV0dXJuIHRoaXMucGFnZVJpZ2h0TWFyZ2lufXNldCBQYWdlUmlnaHRNYXJnaW4odCl7dGhpcy5wYWdlUmlnaHRNYXJnaW49dH1nZXQgVGl0bGVUb3BEaXN0YW5jZSgpe3JldHVybiB0aGlzLnRpdGxlVG9wRGlzdGFuY2V9c2V0IFRpdGxlVG9wRGlzdGFuY2UodCl7dGhpcy50aXRsZVRvcERpc3RhbmNlPXR9Z2V0IFRpdGxlQm90dG9tRGlzdGFuY2UoKXtyZXR1cm4gdGhpcy50aXRsZUJvdHRvbURpc3RhbmNlfXNldCBUaXRsZUJvdHRvbURpc3RhbmNlKHQpe3RoaXMudGl0bGVCb3R0b21EaXN0YW5jZT10fWdldCBTeXN0ZW1Db21wb3NlckRpc3RhbmNlKCl7cmV0dXJuIHRoaXMuc3lzdGVtQ29tcG9zZXJEaXN0YW5jZX1zZXQgU3lzdGVtQ29tcG9zZXJEaXN0YW5jZSh0KXt0aGlzLnN5c3RlbUNvbXBvc2VyRGlzdGFuY2U9dH1nZXQgSW5zdHJ1bWVudExhYmVsVGV4dEhlaWdodCgpe3JldHVybiB0aGlzLmluc3RydW1lbnRMYWJlbFRleHRIZWlnaHR9c2V0IEluc3RydW1lbnRMYWJlbFRleHRIZWlnaHQodCl7dGhpcy5pbnN0cnVtZW50TGFiZWxUZXh0SGVpZ2h0PXR9Z2V0IFN5c3RlbUxlZnRNYXJnaW4oKXtyZXR1cm4gdGhpcy5zeXN0ZW1MZWZ0TWFyZ2lufXNldCBTeXN0ZW1MZWZ0TWFyZ2luKHQpe3RoaXMuc3lzdGVtTGVmdE1hcmdpbj10fWdldCBTeXN0ZW1SaWdodE1hcmdpbigpe3JldHVybiB0aGlzLnN5c3RlbVJpZ2h0TWFyZ2lufXNldCBTeXN0ZW1SaWdodE1hcmdpbih0KXt0aGlzLnN5c3RlbVJpZ2h0TWFyZ2luPXR9Z2V0IEZpcnN0U3lzdGVtTWFyZ2luKCl7cmV0dXJuIHRoaXMuZmlyc3RTeXN0ZW1NYXJnaW59c2V0IEZpcnN0U3lzdGVtTWFyZ2luKHQpe3RoaXMuZmlyc3RTeXN0ZW1NYXJnaW49dH1nZXQgU3lzdGVtTGFiZWxzUmlnaHRNYXJnaW4oKXtyZXR1cm4gdGhpcy5zeXN0ZW1MYWJlbHNSaWdodE1hcmdpbn1zZXQgU3lzdGVtTGFiZWxzUmlnaHRNYXJnaW4odCl7dGhpcy5zeXN0ZW1MYWJlbHNSaWdodE1hcmdpbj10fWdldCBNaW5pbXVtRGlzdGFuY2VCZXR3ZWVuU3lzdGVtcygpe3JldHVybiB0aGlzLm1pbmltdW1EaXN0YW5jZUJldHdlZW5TeXN0ZW1zfXNldCBNaW5pbXVtRGlzdGFuY2VCZXR3ZWVuU3lzdGVtcyh0KXt0aGlzLm1pbmltdW1EaXN0YW5jZUJldHdlZW5TeXN0ZW1zPXR9Z2V0IE1pblNreUJvdHRvbURpc3RCZXR3ZWVuU3lzdGVtcygpe3JldHVybiB0aGlzLm1pblNreUJvdHRvbURpc3RCZXR3ZWVuU3lzdGVtc31zZXQgTWluU2t5Qm90dG9tRGlzdEJldHdlZW5TeXN0ZW1zKHQpe3RoaXMubWluU2t5Qm90dG9tRGlzdEJldHdlZW5TeXN0ZW1zPXR9Z2V0IExhc3RTeXN0ZW1NYXhTY2FsaW5nRmFjdG9yKCl7cmV0dXJuIHRoaXMubGFzdFN5c3RlbU1heFNjYWxpbmdGYWN0b3J9c2V0IExhc3RTeXN0ZW1NYXhTY2FsaW5nRmFjdG9yKHQpe3RoaXMubGFzdFN5c3RlbU1heFNjYWxpbmdGYWN0b3I9dH1nZXQgU3RhZmZEaXN0YW5jZSgpe3JldHVybiB0aGlzLnN0YWZmRGlzdGFuY2V9c2V0IFN0YWZmRGlzdGFuY2UodCl7dGhpcy5zdGFmZkRpc3RhbmNlPXR9Z2V0IEJldHdlZW5TdGFmZkRpc3RhbmNlKCl7cmV0dXJuIHRoaXMuYmV0d2VlblN0YWZmRGlzdGFuY2V9c2V0IEJldHdlZW5TdGFmZkRpc3RhbmNlKHQpe3RoaXMuYmV0d2VlblN0YWZmRGlzdGFuY2U9dH1nZXQgU3RhZmZIZWlnaHQoKXtyZXR1cm4gdGhpcy5zdGFmZkhlaWdodH1zZXQgU3RhZmZIZWlnaHQodCl7dGhpcy5zdGFmZkhlaWdodD10fWdldCBUYWJTdGFmZkludGVybGluZUhlaWdodCgpe3JldHVybiB0aGlzLnRhYlN0YWZmSW50ZXJsaW5lSGVpZ2h0fXNldCBUYWJTdGFmZkludGVybGluZUhlaWdodCh0KXt0aGlzLnRhYlN0YWZmSW50ZXJsaW5lSGVpZ2h0PXR9Z2V0IEJldHdlZW5TdGFmZkxpbmVzRGlzdGFuY2UoKXtyZXR1cm4gdGhpcy5iZXR3ZWVuU3RhZmZMaW5lc0Rpc3RhbmNlfXNldCBCZXR3ZWVuU3RhZmZMaW5lc0Rpc3RhbmNlKHQpe3RoaXMuYmV0d2VlblN0YWZmTGluZXNEaXN0YW5jZT10fWdldCBBdXRvQmVhbU5vdGVzKCl7cmV0dXJuIHRoaXMuYXV0b0JlYW1Ob3Rlc31zZXQgQXV0b0JlYW1Ob3Rlcyh0KXt0aGlzLmF1dG9CZWFtTm90ZXM9dH1nZXQgQXV0b0JlYW1PcHRpb25zKCl7cmV0dXJuIHRoaXMuYXV0b0JlYW1PcHRpb25zfXNldCBBdXRvQmVhbU9wdGlvbnModCl7dGhpcy5hdXRvQmVhbU9wdGlvbnM9dH1nZXQgQmVhbVdpZHRoKCl7cmV0dXJuIHRoaXMuYmVhbVdpZHRofXNldCBCZWFtV2lkdGgodCl7dGhpcy5iZWFtV2lkdGg9dH1nZXQgQmVhbVNwYWNlV2lkdGgoKXtyZXR1cm4gdGhpcy5iZWFtU3BhY2VXaWR0aH1zZXQgQmVhbVNwYWNlV2lkdGgodCl7dGhpcy5iZWFtU3BhY2VXaWR0aD10fWdldCBCZWFtRm9yd2FyZExlbmd0aCgpe3JldHVybiB0aGlzLmJlYW1Gb3J3YXJkTGVuZ3RofXNldCBCZWFtRm9yd2FyZExlbmd0aCh0KXt0aGlzLmJlYW1Gb3J3YXJkTGVuZ3RoPXR9Z2V0IEJldHdlZW5LZXlTeW1ib2xzRGlzdGFuY2UoKXtyZXR1cm4gdGhpcy5iZXR3ZWVuS2V5U3ltYm9sc0Rpc3RhbmNlfXNldCBCZXR3ZWVuS2V5U3ltYm9sc0Rpc3RhbmNlKHQpe3RoaXMuYmV0d2VlbktleVN5bWJvbHNEaXN0YW5jZT10fWdldCBDbGVmTGVmdE1hcmdpbigpe3JldHVybiB0aGlzLmNsZWZMZWZ0TWFyZ2lufXNldCBDbGVmTGVmdE1hcmdpbih0KXt0aGlzLmNsZWZMZWZ0TWFyZ2luPXR9Z2V0IENsZWZSaWdodE1hcmdpbigpe3JldHVybiB0aGlzLmNsZWZSaWdodE1hcmdpbn1zZXQgQ2xlZlJpZ2h0TWFyZ2luKHQpe3RoaXMuY2xlZlJpZ2h0TWFyZ2luPXR9Z2V0IFBlcmN1c3Npb25PbmVMaW5lQ3V0b2ZmKCl7cmV0dXJuIHRoaXMucGVyY3Vzc2lvbk9uZUxpbmVDdXRvZmZ9c2V0IFBlcmN1c3Npb25PbmVMaW5lQ3V0b2ZmKHQpe3RoaXMucGVyY3Vzc2lvbk9uZUxpbmVDdXRvZmY9dH1nZXQgUGVyY3Vzc2lvbkZvcmNlVm9pY2VzT25lTGluZUN1dG9mZigpe3JldHVybiB0aGlzLnBlcmN1c3Npb25Gb3JjZVZvaWNlc09uZUxpbmVDdXRvZmZ9c2V0IFBlcmN1c3Npb25Gb3JjZVZvaWNlc09uZUxpbmVDdXRvZmYodCl7dGhpcy5wZXJjdXNzaW9uRm9yY2VWb2ljZXNPbmVMaW5lQ3V0b2ZmPXR9Z2V0IEtleVJpZ2h0TWFyZ2luKCl7cmV0dXJuIHRoaXMua2V5UmlnaHRNYXJnaW59c2V0IEtleVJpZ2h0TWFyZ2luKHQpe3RoaXMua2V5UmlnaHRNYXJnaW49dH1nZXQgUmh5dGhtUmlnaHRNYXJnaW4oKXtyZXR1cm4gdGhpcy5yaHl0aG1SaWdodE1hcmdpbn1zZXQgUmh5dGhtUmlnaHRNYXJnaW4odCl7dGhpcy5yaHl0aG1SaWdodE1hcmdpbj10fWdldCBTaG93Umh5dGhtQWdhaW5BZnRlclBhcnRFbmRPckZpbmFsQmFybGluZSgpe3JldHVybiB0aGlzLnNob3dSaHl0aG1BZ2FpbkFmdGVyUGFydEVuZE9yRmluYWxCYXJsaW5lfXNldCBTaG93Umh5dGhtQWdhaW5BZnRlclBhcnRFbmRPckZpbmFsQmFybGluZSh0KXt0aGlzLnNob3dSaHl0aG1BZ2FpbkFmdGVyUGFydEVuZE9yRmluYWxCYXJsaW5lPXR9Z2V0IEluU3RhZmZDbGVmU2NhbGluZ0ZhY3Rvcigpe3JldHVybiB0aGlzLmluU3RhZmZDbGVmU2NhbGluZ0ZhY3Rvcn1zZXQgSW5TdGFmZkNsZWZTY2FsaW5nRmFjdG9yKHQpe3RoaXMuaW5TdGFmZkNsZWZTY2FsaW5nRmFjdG9yPXR9Z2V0IERpc3RhbmNlQmV0d2Vlbk5hdHVyYWxBbmRTeW1ib2xXaGVuQ2FuY2VsbGluZygpe3JldHVybiB0aGlzLmRpc3RhbmNlQmV0d2Vlbk5hdHVyYWxBbmRTeW1ib2xXaGVuQ2FuY2VsbGluZ31zZXQgRGlzdGFuY2VCZXR3ZWVuTmF0dXJhbEFuZFN5bWJvbFdoZW5DYW5jZWxsaW5nKHQpe3RoaXMuZGlzdGFuY2VCZXR3ZWVuTmF0dXJhbEFuZFN5bWJvbFdoZW5DYW5jZWxsaW5nPXR9Z2V0IE5vdGVIZWxwZXJMaW5lc09mZnNldCgpe3JldHVybiB0aGlzLm5vdGVIZWxwZXJMaW5lc09mZnNldH1zZXQgTm90ZUhlbHBlckxpbmVzT2Zmc2V0KHQpe3RoaXMubm90ZUhlbHBlckxpbmVzT2Zmc2V0PXR9Z2V0IE1lYXN1cmVMZWZ0TWFyZ2luKCl7cmV0dXJuIHRoaXMubWVhc3VyZUxlZnRNYXJnaW59c2V0IE1lYXN1cmVMZWZ0TWFyZ2luKHQpe3RoaXMubWVhc3VyZUxlZnRNYXJnaW49dH1nZXQgTWVhc3VyZVJpZ2h0TWFyZ2luKCl7cmV0dXJuIHRoaXMubWVhc3VyZVJpZ2h0TWFyZ2lufXNldCBNZWFzdXJlUmlnaHRNYXJnaW4odCl7dGhpcy5tZWFzdXJlUmlnaHRNYXJnaW49dH1nZXQgRGlzdGFuY2VCZXR3ZWVuTGFzdEluc3RydWN0aW9uQW5kUmVwZXRpdGlvbkJhcmxpbmUoKXtyZXR1cm4gdGhpcy5kaXN0YW5jZUJldHdlZW5MYXN0SW5zdHJ1Y3Rpb25BbmRSZXBldGl0aW9uQmFybGluZX1zZXQgRGlzdGFuY2VCZXR3ZWVuTGFzdEluc3RydWN0aW9uQW5kUmVwZXRpdGlvbkJhcmxpbmUodCl7dGhpcy5kaXN0YW5jZUJldHdlZW5MYXN0SW5zdHJ1Y3Rpb25BbmRSZXBldGl0aW9uQmFybGluZT10fWdldCBBcnBlZ2dpb0Rpc3RhbmNlKCl7cmV0dXJuIHRoaXMuYXJwZWdnaW9EaXN0YW5jZX1zZXQgQXJwZWdnaW9EaXN0YW5jZSh0KXt0aGlzLmFycGVnZ2lvRGlzdGFuY2U9dH1nZXQgU3RhY2NhdG9TaG9ydGVuaW5nRmFjdG9yKCl7cmV0dXJuIHRoaXMuc3RhY2NhdG9TaG9ydGVuaW5nRmFjdG9yfXNldCBTdGFjY2F0b1Nob3J0ZW5pbmdGYWN0b3IodCl7dGhpcy5zdGFjY2F0b1Nob3J0ZW5pbmdGYWN0b3I9dH1nZXQgSWRlYWxTdGVtTGVuZ3RoKCl7cmV0dXJuIHRoaXMuaWRlYWxTdGVtTGVuZ3RofXNldCBJZGVhbFN0ZW1MZW5ndGgodCl7dGhpcy5pZGVhbFN0ZW1MZW5ndGg9dH1nZXQgU3RlbU5vdGVIZWFkQm9yZGVyWU9mZnNldCgpe3JldHVybiB0aGlzLnN0ZW1Ob3RlSGVhZEJvcmRlcllPZmZzZXR9c2V0IFN0ZW1Ob3RlSGVhZEJvcmRlcllPZmZzZXQodCl7dGhpcy5zdGVtTm90ZUhlYWRCb3JkZXJZT2Zmc2V0PXR9Z2V0IFN0ZW1XaWR0aCgpe3JldHVybiB0aGlzLnN0ZW1XaWR0aH1zZXQgU3RlbVdpZHRoKHQpe3RoaXMuc3RlbVdpZHRoPXR9Z2V0IFN0ZW1NYXJnaW4oKXtyZXR1cm4gdGhpcy5zdGVtTWFyZ2lufXNldCBTdGVtTWFyZ2luKHQpe3RoaXMuc3RlbU1hcmdpbj10fWdldCBTdGVtTWluTGVuZ3RoKCl7cmV0dXJuIHRoaXMuc3RlbU1pbkxlbmd0aH1zZXQgU3RlbU1pbkxlbmd0aCh0KXt0aGlzLnN0ZW1NaW5MZW5ndGg9dH1nZXQgU3RlbU1heExlbmd0aCgpe3JldHVybiB0aGlzLnN0ZW1NYXhMZW5ndGh9c2V0IFN0ZW1NYXhMZW5ndGgodCl7dGhpcy5zdGVtTWF4TGVuZ3RoPXR9Z2V0IEJlYW1TbG9wZU1heEFuZ2xlKCl7cmV0dXJuIHRoaXMuYmVhbVNsb3BlTWF4QW5nbGV9c2V0IEJlYW1TbG9wZU1heEFuZ2xlKHQpe3RoaXMuYmVhbVNsb3BlTWF4QW5nbGU9dH1nZXQgU3RlbU1pbkFsbG93ZWREaXN0YW5jZUJldHdlZW5Ob3RlSGVhZEFuZEJlYW1MaW5lKCl7cmV0dXJuIHRoaXMuc3RlbU1pbkFsbG93ZWREaXN0YW5jZUJldHdlZW5Ob3RlSGVhZEFuZEJlYW1MaW5lfXNldCBTdGVtTWluQWxsb3dlZERpc3RhbmNlQmV0d2Vlbk5vdGVIZWFkQW5kQmVhbUxpbmUodCl7dGhpcy5zdGVtTWluQWxsb3dlZERpc3RhbmNlQmV0d2Vlbk5vdGVIZWFkQW5kQmVhbUxpbmU9dH1nZXQgU2V0V2FudGVkU3RlbURpcmVjdGlvbkJ5WG1sKCl7cmV0dXJuIHRoaXMuc2V0V2FudGVkU3RlbURpcmVjdGlvbkJ5WG1sfXNldCBTZXRXYW50ZWRTdGVtRGlyZWN0aW9uQnlYbWwodCl7dGhpcy5zZXRXYW50ZWRTdGVtRGlyZWN0aW9uQnlYbWw9dH1nZXQgR3JhY2VOb3RlU2NhbGluZ0ZhY3Rvcigpe3JldHVybiB0aGlzLmdyYWNlTm90ZVNjYWxpbmdGYWN0b3J9c2V0IEdyYWNlTm90ZVNjYWxpbmdGYWN0b3IodCl7dGhpcy5ncmFjZU5vdGVTY2FsaW5nRmFjdG9yPXR9Z2V0IEdyYWNlTm90ZVhPZmZzZXQoKXtyZXR1cm4gdGhpcy5ncmFjZU5vdGVYT2Zmc2V0fXNldCBHcmFjZU5vdGVYT2Zmc2V0KHQpe3RoaXMuZ3JhY2VOb3RlWE9mZnNldD10fWdldCBXZWRnZU9wZW5pbmdMZW5ndGgoKXtyZXR1cm4gdGhpcy53ZWRnZU9wZW5pbmdMZW5ndGh9c2V0IFdlZGdlT3BlbmluZ0xlbmd0aCh0KXt0aGlzLndlZGdlT3BlbmluZ0xlbmd0aD10fWdldCBXZWRnZU1lYXN1cmVFbmRPcGVuaW5nTGVuZ3RoKCl7cmV0dXJuIHRoaXMud2VkZ2VNZWFzdXJlRW5kT3BlbmluZ0xlbmd0aH1zZXQgV2VkZ2VNZWFzdXJlRW5kT3BlbmluZ0xlbmd0aCh0KXt0aGlzLndlZGdlTWVhc3VyZUVuZE9wZW5pbmdMZW5ndGg9dH1nZXQgV2VkZ2VNZWFzdXJlQmVnaW5PcGVuaW5nTGVuZ3RoKCl7cmV0dXJuIHRoaXMud2VkZ2VNZWFzdXJlQmVnaW5PcGVuaW5nTGVuZ3RofXNldCBXZWRnZU1lYXN1cmVCZWdpbk9wZW5pbmdMZW5ndGgodCl7dGhpcy53ZWRnZU1lYXN1cmVCZWdpbk9wZW5pbmdMZW5ndGg9dH1nZXQgV2VkZ2VQbGFjZW1lbnRBYm92ZVkoKXtyZXR1cm4gdGhpcy53ZWRnZVBsYWNlbWVudEFib3ZlWX1zZXQgV2VkZ2VQbGFjZW1lbnRBYm92ZVkodCl7dGhpcy53ZWRnZVBsYWNlbWVudEFib3ZlWT10fWdldCBXZWRnZVBsYWNlbWVudEJlbG93WSgpe3JldHVybiB0aGlzLndlZGdlUGxhY2VtZW50QmVsb3dZfXNldCBXZWRnZVBsYWNlbWVudEJlbG93WSh0KXt0aGlzLndlZGdlUGxhY2VtZW50QmVsb3dZPXR9Z2V0IFdlZGdlSG9yaXpvbnRhbE1hcmdpbigpe3JldHVybiB0aGlzLndlZGdlSG9yaXpvbnRhbE1hcmdpbn1zZXQgV2VkZ2VIb3Jpem9udGFsTWFyZ2luKHQpe3RoaXMud2VkZ2VIb3Jpem9udGFsTWFyZ2luPXR9Z2V0IFdlZGdlVmVydGljYWxNYXJnaW4oKXtyZXR1cm4gdGhpcy53ZWRnZVZlcnRpY2FsTWFyZ2lufXNldCBXZWRnZVZlcnRpY2FsTWFyZ2luKHQpe3RoaXMud2VkZ2VWZXJ0aWNhbE1hcmdpbj10fWdldCBEaXN0YW5jZU9mZnNldEJldHdlZW5Ud29Ib3Jpem9udGFsbHlDcm9zc2VkV2VkZ2VzKCl7cmV0dXJuIHRoaXMuZGlzdGFuY2VPZmZzZXRCZXR3ZWVuVHdvSG9yaXpvbnRhbGx5Q3Jvc3NlZFdlZGdlc31zZXQgRGlzdGFuY2VPZmZzZXRCZXR3ZWVuVHdvSG9yaXpvbnRhbGx5Q3Jvc3NlZFdlZGdlcyh0KXt0aGlzLmRpc3RhbmNlT2Zmc2V0QmV0d2VlblR3b0hvcml6b250YWxseUNyb3NzZWRXZWRnZXM9dH1nZXQgV2VkZ2VNaW5MZW5ndGgoKXtyZXR1cm4gdGhpcy53ZWRnZU1pbkxlbmd0aH1zZXQgV2VkZ2VNaW5MZW5ndGgodCl7dGhpcy53ZWRnZU1pbkxlbmd0aD10fWdldCBEaXN0YW5jZUJldHdlZW5BZGphY2VudER5bmFtaWNzKCl7cmV0dXJuIHRoaXMuZGlzdGFuY2VCZXR3ZWVuQWRqYWNlbnREeW5hbWljc31zZXQgRGlzdGFuY2VCZXR3ZWVuQWRqYWNlbnREeW5hbWljcyh0KXt0aGlzLmRpc3RhbmNlQmV0d2VlbkFkamFjZW50RHluYW1pY3M9dH1nZXQgVGVtcG9DaGFuZ2VNZWFzdXJlVmFsaWRpdHkoKXtyZXR1cm4gdGhpcy50ZW1wb0NoYW5nZU1lYXN1cmVWYWxpZGl0eX1zZXQgVGVtcG9DaGFuZ2VNZWFzdXJlVmFsaWRpdHkodCl7dGhpcy50ZW1wb0NoYW5nZU1lYXN1cmVWYWxpZGl0eT10fWdldCBUZW1wb0NvbnRpbm91c0ZhY3Rvcigpe3JldHVybiB0aGlzLnRlbXBvQ29udGlub3VzRmFjdG9yfXNldCBUZW1wb0NvbnRpbm91c0ZhY3Rvcih0KXt0aGlzLnRlbXBvQ29udGlub3VzRmFjdG9yPXR9Z2V0IFN0YWNjYXRvU2NhbGluZ0ZhY3Rvcigpe3JldHVybiB0aGlzLnN0YWNjYXRvU2NhbGluZ0ZhY3Rvcn1zZXQgU3RhY2NhdG9TY2FsaW5nRmFjdG9yKHQpe3RoaXMuc3RhY2NhdG9TY2FsaW5nRmFjdG9yPXR9Z2V0IEJldHdlZW5Eb3RzRGlzdGFuY2UoKXtyZXR1cm4gdGhpcy5iZXR3ZWVuRG90c0Rpc3RhbmNlfXNldCBCZXR3ZWVuRG90c0Rpc3RhbmNlKHQpe3RoaXMuYmV0d2VlbkRvdHNEaXN0YW5jZT10fWdldCBPcm5hbWVudEFjY2lkZW50YWxTY2FsaW5nRmFjdG9yKCl7cmV0dXJuIHRoaXMub3JuYW1lbnRBY2NpZGVudGFsU2NhbGluZ0ZhY3Rvcn1zZXQgT3JuYW1lbnRBY2NpZGVudGFsU2NhbGluZ0ZhY3Rvcih0KXt0aGlzLm9ybmFtZW50QWNjaWRlbnRhbFNjYWxpbmdGYWN0b3I9dH1nZXQgQ2hvcmRTeW1ib2xUZXh0SGVpZ2h0KCl7cmV0dXJuIHRoaXMuY2hvcmRTeW1ib2xUZXh0SGVpZ2h0fXNldCBDaG9yZFN5bWJvbFRleHRIZWlnaHQodCl7dGhpcy5jaG9yZFN5bWJvbFRleHRIZWlnaHQ9dH1nZXQgQ2hvcmRTeW1ib2xYU3BhY2luZygpe3JldHVybiB0aGlzLmNob3JkU3ltYm9sWFNwYWNpbmd9c2V0IENob3JkU3ltYm9sWFNwYWNpbmcodCl7dGhpcy5jaG9yZFN5bWJvbFhTcGFjaW5nPXR9Z2V0IENob3JkU3ltYm9sWU9mZnNldCgpe3JldHVybiB0aGlzLmNob3JkU3ltYm9sWU9mZnNldH1zZXQgQ2hvcmRTeW1ib2xZT2Zmc2V0KHQpe3RoaXMuY2hvcmRTeW1ib2xZT2Zmc2V0PXR9c2V0Q2hvcmRTeW1ib2xMYWJlbFRleHQodCxlKXt0aGlzLmNob3JkU3ltYm9sTGFiZWxUZXh0cy5zZXRWYWx1ZSh0LGUpfWdldCBDaG9yZFN5bWJvbExhYmVsVGV4dHMoKXtyZXR1cm4gdGhpcy5jaG9yZFN5bWJvbExhYmVsVGV4dHN9c2V0IENob3JkU3ltYm9sTGFiZWxUZXh0cyh0KXt0aGlzLmNob3JkU3ltYm9sTGFiZWxUZXh0cz10fWdldCBNZWFzdXJlTnVtYmVyTGFiZWxIZWlnaHQoKXtyZXR1cm4gdGhpcy5tZWFzdXJlTnVtYmVyTGFiZWxIZWlnaHR9c2V0IE1lYXN1cmVOdW1iZXJMYWJlbEhlaWdodCh0KXt0aGlzLm1lYXN1cmVOdW1iZXJMYWJlbEhlaWdodD10fWdldCBNZWFzdXJlTnVtYmVyTGFiZWxPZmZzZXQoKXtyZXR1cm4gdGhpcy5tZWFzdXJlTnVtYmVyTGFiZWxPZmZzZXR9c2V0IE1lYXN1cmVOdW1iZXJMYWJlbE9mZnNldCh0KXt0aGlzLm1lYXN1cmVOdW1iZXJMYWJlbE9mZnNldD10fWdldCBNZWFzdXJlTnVtYmVyTGFiZWxYT2Zmc2V0KCl7cmV0dXJuIHRoaXMubWVhc3VyZU51bWJlckxhYmVsWE9mZnNldH1zZXQgTWVhc3VyZU51bWJlckxhYmVsWE9mZnNldCh0KXt0aGlzLm1lYXN1cmVOdW1iZXJMYWJlbFhPZmZzZXQ9dH1nZXQgVHVwbGV0c1JhdGlvZWQoKXtyZXR1cm4gdGhpcy50dXBsZXRzUmF0aW9lZH1zZXQgVHVwbGV0c1JhdGlvZWQodCl7dGhpcy50dXBsZXRzUmF0aW9lZD10fWdldCBUdXBsZXRzQnJhY2tldGVkKCl7cmV0dXJuIHRoaXMudHVwbGV0c0JyYWNrZXRlZH1zZXQgVHVwbGV0c0JyYWNrZXRlZCh0KXt0aGlzLnR1cGxldHNCcmFja2V0ZWQ9dH1nZXQgVHJpcGxldHNCcmFja2V0ZWQoKXtyZXR1cm4gdGhpcy50cmlwbGV0c0JyYWNrZXRlZH1zZXQgVHJpcGxldHNCcmFja2V0ZWQodCl7dGhpcy50cmlwbGV0c0JyYWNrZXRlZD10fWdldCBUdXBsZXROdW1iZXJMYWJlbEhlaWdodCgpe3JldHVybiB0aGlzLnR1cGxldE51bWJlckxhYmVsSGVpZ2h0fXNldCBUdXBsZXROdW1iZXJMYWJlbEhlaWdodCh0KXt0aGlzLnR1cGxldE51bWJlckxhYmVsSGVpZ2h0PXR9Z2V0IFR1cGxldE51bWJlcllPZmZzZXQoKXtyZXR1cm4gdGhpcy50dXBsZXROdW1iZXJZT2Zmc2V0fXNldCBUdXBsZXROdW1iZXJZT2Zmc2V0KHQpe3RoaXMudHVwbGV0TnVtYmVyWU9mZnNldD10fWdldCBMYWJlbE1hcmdpbkJvcmRlckZhY3Rvcigpe3JldHVybiB0aGlzLmxhYmVsTWFyZ2luQm9yZGVyRmFjdG9yfXNldCBMYWJlbE1hcmdpbkJvcmRlckZhY3Rvcih0KXt0aGlzLmxhYmVsTWFyZ2luQm9yZGVyRmFjdG9yPXR9Z2V0IFR1cGxldFZlcnRpY2FsTGluZUxlbmd0aCgpe3JldHVybiB0aGlzLnR1cGxldFZlcnRpY2FsTGluZUxlbmd0aH1zZXQgVHVwbGV0VmVydGljYWxMaW5lTGVuZ3RoKHQpe3RoaXMudHVwbGV0VmVydGljYWxMaW5lTGVuZ3RoPXR9Z2V0IFJlcGV0aXRpb25FbmRpbmdMYWJlbEhlaWdodCgpe3JldHVybiB0aGlzLnJlcGV0aXRpb25FbmRpbmdMYWJlbEhlaWdodH1zZXQgUmVwZXRpdGlvbkVuZGluZ0xhYmVsSGVpZ2h0KHQpe3RoaXMucmVwZXRpdGlvbkVuZGluZ0xhYmVsSGVpZ2h0PXR9Z2V0IFJlcGV0aXRpb25FbmRpbmdMYWJlbFhPZmZzZXQoKXtyZXR1cm4gdGhpcy5yZXBldGl0aW9uRW5kaW5nTGFiZWxYT2Zmc2V0fXNldCBSZXBldGl0aW9uRW5kaW5nTGFiZWxYT2Zmc2V0KHQpe3RoaXMucmVwZXRpdGlvbkVuZGluZ0xhYmVsWE9mZnNldD10fWdldCBSZXBldGl0aW9uRW5kaW5nTGFiZWxZT2Zmc2V0KCl7cmV0dXJuIHRoaXMucmVwZXRpdGlvbkVuZGluZ0xhYmVsWU9mZnNldH1zZXQgUmVwZXRpdGlvbkVuZGluZ0xhYmVsWU9mZnNldCh0KXt0aGlzLnJlcGV0aXRpb25FbmRpbmdMYWJlbFlPZmZzZXQ9dH1nZXQgUmVwZXRpdGlvbkVuZGluZ0xpbmVZTG93ZXJPZmZzZXQoKXtyZXR1cm4gdGhpcy5yZXBldGl0aW9uRW5kaW5nTGluZVlMb3dlck9mZnNldH1zZXQgUmVwZXRpdGlvbkVuZGluZ0xpbmVZTG93ZXJPZmZzZXQodCl7dGhpcy5yZXBldGl0aW9uRW5kaW5nTGluZVlMb3dlck9mZnNldD10fWdldCBSZXBldGl0aW9uRW5kaW5nTGluZVlVcHBlck9mZnNldCgpe3JldHVybiB0aGlzLnJlcGV0aXRpb25FbmRpbmdMaW5lWVVwcGVyT2Zmc2V0fXNldCBSZXBldGl0aW9uRW5kaW5nTGluZVlVcHBlck9mZnNldCh0KXt0aGlzLnJlcGV0aXRpb25FbmRpbmdMaW5lWVVwcGVyT2Zmc2V0PXR9Z2V0IFZvbHRhT2Zmc2V0KCl7cmV0dXJuIHRoaXMudm9sdGFPZmZzZXR9c2V0IFZvbHRhT2Zmc2V0KHQpe3RoaXMudm9sdGFPZmZzZXQ9dH1nZXQgTHlyaWNzQWxpZ25tZW50U3RhbmRhcmQoKXtyZXR1cm4gdGhpcy5seXJpY3NBbGlnbm1lbnRTdGFuZGFyZH1zZXQgTHlyaWNzQWxpZ25tZW50U3RhbmRhcmQodCl7dGhpcy5seXJpY3NBbGlnbm1lbnRTdGFuZGFyZD10fWdldCBMeXJpY3NIZWlnaHQoKXtyZXR1cm4gdGhpcy5seXJpY3NIZWlnaHR9c2V0IEx5cmljc0hlaWdodCh0KXt0aGlzLmx5cmljc0hlaWdodD10fWdldCBMeXJpY3NZT2Zmc2V0VG9TdGFmZkhlaWdodCgpe3JldHVybiB0aGlzLmx5cmljc1lPZmZzZXRUb1N0YWZmSGVpZ2h0fXNldCBMeXJpY3NZT2Zmc2V0VG9TdGFmZkhlaWdodCh0KXt0aGlzLmx5cmljc1lPZmZzZXRUb1N0YWZmSGVpZ2h0PXR9Z2V0IFZlcnRpY2FsQmV0d2Vlbkx5cmljc0Rpc3RhbmNlKCl7cmV0dXJuIHRoaXMudmVydGljYWxCZXR3ZWVuTHlyaWNzRGlzdGFuY2V9c2V0IFZlcnRpY2FsQmV0d2Vlbkx5cmljc0Rpc3RhbmNlKHQpe3RoaXMudmVydGljYWxCZXR3ZWVuTHlyaWNzRGlzdGFuY2U9dH1nZXQgSG9yaXpvbnRhbEJldHdlZW5MeXJpY3NEaXN0YW5jZSgpe3JldHVybiB0aGlzLmhvcml6b250YWxCZXR3ZWVuTHlyaWNzRGlzdGFuY2V9c2V0IEhvcml6b250YWxCZXR3ZWVuTHlyaWNzRGlzdGFuY2UodCl7dGhpcy5ob3Jpem9udGFsQmV0d2Vlbkx5cmljc0Rpc3RhbmNlPXR9Z2V0IEJldHdlZW5TeWxsYWJsZU1heGltdW1EaXN0YW5jZSgpe3JldHVybiB0aGlzLmJldHdlZW5TeWxsYWJsZU1heGltdW1EaXN0YW5jZX1zZXQgQmV0d2VlblN5bGxhYmxlTWF4aW11bURpc3RhbmNlKHQpe3RoaXMuYmV0d2VlblN5bGxhYmxlTWF4aW11bURpc3RhbmNlPXR9Z2V0IEJldHdlZW5TeWxsYWJsZU1pbmltdW1EaXN0YW5jZSgpe3JldHVybiB0aGlzLmJldHdlZW5TeWxsYWJsZU1pbmltdW1EaXN0YW5jZX1zZXQgQmV0d2VlblN5bGxhYmxlTWluaW11bURpc3RhbmNlKHQpe3RoaXMuYmV0d2VlblN5bGxhYmxlTWluaW11bURpc3RhbmNlPXR9Z2V0IEx5cmljT3ZlcmxhcEFsbG93ZWRJbnRvTmV4dE1lYXN1cmUoKXtyZXR1cm4gdGhpcy5seXJpY092ZXJsYXBBbGxvd2VkSW50b05leHRNZWFzdXJlfXNldCBMeXJpY092ZXJsYXBBbGxvd2VkSW50b05leHRNZWFzdXJlKHQpe3RoaXMubHlyaWNPdmVybGFwQWxsb3dlZEludG9OZXh0TWVhc3VyZT10fWdldCBNaW5pbXVtRGlzdGFuY2VCZXR3ZWVuRGFzaGVzKCl7cmV0dXJuIHRoaXMubWluaW11bURpc3RhbmNlQmV0d2VlbkRhc2hlc31zZXQgTWluaW11bURpc3RhbmNlQmV0d2VlbkRhc2hlcyh0KXt0aGlzLm1pbmltdW1EaXN0YW5jZUJldHdlZW5EYXNoZXM9dH1nZXQgQmV6aWVyQ3VydmVTdGVwU2l6ZSgpe3JldHVybiB0aGlzLmJlemllckN1cnZlU3RlcFNpemV9c2V0IEJlemllckN1cnZlU3RlcFNpemUodCl7dGhpcy5iZXppZXJDdXJ2ZVN0ZXBTaXplPXR9Z2V0IFRQb3czKCl7cmV0dXJuIHRoaXMudFBvd2VyM31zZXQgVFBvdzModCl7dGhpcy50UG93ZXIzPXR9Z2V0IE9uZU1pbnVzVFBvdzMoKXtyZXR1cm4gdGhpcy5vbmVNaW51c1RQb3dlcjN9c2V0IE9uZU1pbnVzVFBvdzModCl7dGhpcy5vbmVNaW51c1RQb3dlcjM9dH1nZXQgQmV6aWVyRmFjdG9yT25lKCl7cmV0dXJuIHRoaXMuZmFjdG9yT25lfXNldCBCZXppZXJGYWN0b3JPbmUodCl7dGhpcy5mYWN0b3JPbmU9dH1nZXQgQmV6aWVyRmFjdG9yVHdvKCl7cmV0dXJuIHRoaXMuZmFjdG9yVHdvfXNldCBCZXppZXJGYWN0b3JUd28odCl7dGhpcy5mYWN0b3JUd289dH1nZXQgVGllR2hvc3RPYmplY3RXaWR0aCgpe3JldHVybiB0aGlzLnRpZUdob3N0T2JqZWN0V2lkdGh9c2V0IFRpZUdob3N0T2JqZWN0V2lkdGgodCl7dGhpcy50aWVHaG9zdE9iamVjdFdpZHRoPXR9Z2V0IFRpZVlQb3NpdGlvbk9mZnNldEZhY3Rvcigpe3JldHVybiB0aGlzLnRpZVlQb3NpdGlvbk9mZnNldEZhY3Rvcn1zZXQgVGllWVBvc2l0aW9uT2Zmc2V0RmFjdG9yKHQpe3RoaXMudGllWVBvc2l0aW9uT2Zmc2V0RmFjdG9yPXR9Z2V0IE1pbmltdW1OZWVkZWRYc3BhY2VGb3JUaWVHaG9zdE9iamVjdCgpe3JldHVybiB0aGlzLm1pbmltdW1OZWVkZWRYc3BhY2VGb3JUaWVHaG9zdE9iamVjdH1zZXQgTWluaW11bU5lZWRlZFhzcGFjZUZvclRpZUdob3N0T2JqZWN0KHQpe3RoaXMubWluaW11bU5lZWRlZFhzcGFjZUZvclRpZUdob3N0T2JqZWN0PXR9Z2V0IFRpZUhlaWdodE1pbmltdW0oKXtyZXR1cm4gdGhpcy50aWVIZWlnaHRNaW5pbXVtfXNldCBUaWVIZWlnaHRNaW5pbXVtKHQpe3RoaXMudGllSGVpZ2h0TWluaW11bT10fWdldCBUaWVIZWlnaHRNYXhpbXVtKCl7cmV0dXJuIHRoaXMudGllSGVpZ2h0TWF4aW11bX1zZXQgVGllSGVpZ2h0TWF4aW11bSh0KXt0aGlzLnRpZUhlaWdodE1heGltdW09dH1nZXQgVGllSGVpZ2h0SW50ZXJwb2xhdGlvbksoKXtyZXR1cm4gdGhpcy50aWVIZWlnaHRJbnRlcnBvbGF0aW9uS31zZXQgVGllSGVpZ2h0SW50ZXJwb2xhdGlvbksodCl7dGhpcy50aWVIZWlnaHRJbnRlcnBvbGF0aW9uSz10fWdldCBUaWVIZWlnaHRJbnRlcnBvbGF0aW9uRCgpe3JldHVybiB0aGlzLnRpZUhlaWdodEludGVycG9sYXRpb25EfXNldCBUaWVIZWlnaHRJbnRlcnBvbGF0aW9uRCh0KXt0aGlzLnRpZUhlaWdodEludGVycG9sYXRpb25EPXR9Z2V0IFNsdXJOb3RlSGVhZFlPZmZzZXQoKXtyZXR1cm4gdGhpcy5zbHVyTm90ZUhlYWRZT2Zmc2V0fXNldCBTbHVyTm90ZUhlYWRZT2Zmc2V0KHQpe3RoaXMuc2x1ck5vdGVIZWFkWU9mZnNldD10fWdldCBTbHVyU3RlbVhPZmZzZXQoKXtyZXR1cm4gdGhpcy5zbHVyU3RlbVhPZmZzZXR9c2V0IFNsdXJTdGVtWE9mZnNldCh0KXt0aGlzLnNsdXJTdGVtWE9mZnNldD10fWdldCBTbHVyU2xvcGVNYXhBbmdsZSgpe3JldHVybiB0aGlzLnNsdXJTbG9wZU1heEFuZ2xlfXNldCBTbHVyU2xvcGVNYXhBbmdsZSh0KXt0aGlzLnNsdXJTbG9wZU1heEFuZ2xlPXR9Z2V0IFNsdXJUYW5nZW50TWluQW5nbGUoKXtyZXR1cm4gdGhpcy5zbHVyVGFuZ2VudE1pbkFuZ2xlfXNldCBTbHVyVGFuZ2VudE1pbkFuZ2xlKHQpe3RoaXMuc2x1clRhbmdlbnRNaW5BbmdsZT10fWdldCBTbHVyVGFuZ2VudE1heEFuZ2xlKCl7cmV0dXJuIHRoaXMuc2x1clRhbmdlbnRNYXhBbmdsZX1zZXQgU2x1clRhbmdlbnRNYXhBbmdsZSh0KXt0aGlzLnNsdXJUYW5nZW50TWF4QW5nbGU9dH1nZXQgU2x1cnNTdGFydGluZ0F0U2FtZVN0YWZmRW50cnlZT2Zmc2V0KCl7cmV0dXJuIHRoaXMuc2x1cnNTdGFydGluZ0F0U2FtZVN0YWZmRW50cnlZT2Zmc2V0fXNldCBTbHVyc1N0YXJ0aW5nQXRTYW1lU3RhZmZFbnRyeVlPZmZzZXQodCl7dGhpcy5zbHVyc1N0YXJ0aW5nQXRTYW1lU3RhZmZFbnRyeVlPZmZzZXQ9dH1nZXQgSW5zdGFudGFuZW91c1RlbXBvVGV4dEhlaWdodCgpe3JldHVybiB0aGlzLmluc3RhbnRhbmVvdXNUZW1wb1RleHRIZWlnaHR9c2V0IEluc3RhbnRhbmVvdXNUZW1wb1RleHRIZWlnaHQodCl7dGhpcy5pbnN0YW50YW5lb3VzVGVtcG9UZXh0SGVpZ2h0PXR9Z2V0IENvbnRpbnVvdXNEeW5hbWljVGV4dEhlaWdodCgpe3JldHVybiB0aGlzLmNvbnRpbnVvdXNEeW5hbWljVGV4dEhlaWdodH1zZXQgQ29udGludW91c0R5bmFtaWNUZXh0SGVpZ2h0KHQpe3RoaXMuY29udGludW91c0R5bmFtaWNUZXh0SGVpZ2h0PXR9Z2V0IE1vb2RUZXh0SGVpZ2h0KCl7cmV0dXJuIHRoaXMubW9vZFRleHRIZWlnaHR9c2V0IE1vb2RUZXh0SGVpZ2h0KHQpe3RoaXMubW9vZFRleHRIZWlnaHQ9dH1nZXQgQ29udGludW91c1RlbXBvVGV4dEhlaWdodCgpe3JldHVybiB0aGlzLmNvbnRpbnVvdXNUZW1wb1RleHRIZWlnaHR9c2V0IENvbnRpbnVvdXNUZW1wb1RleHRIZWlnaHQodCl7dGhpcy5jb250aW51b3VzVGVtcG9UZXh0SGVpZ2h0PXR9Z2V0IER5bmFtaWNFeHByZXNzaW9uTWF4RGlzdGFuY2UoKXtyZXR1cm4gdGhpcy5keW5hbWljRXhwcmVzc2lvbk1heERpc3RhbmNlfXNldCBEeW5hbWljRXhwcmVzc2lvbk1heERpc3RhbmNlKHQpe3RoaXMuZHluYW1pY0V4cHJlc3Npb25NYXhEaXN0YW5jZT10fWdldCBEeW5hbWljRXhwcmVzc2lvblNwYWNlcigpe3JldHVybiB0aGlzLmR5bmFtaWNFeHByZXNzaW9uU3BhY2VyfXNldCBEeW5hbWljRXhwcmVzc2lvblNwYWNlcih0KXt0aGlzLmR5bmFtaWNFeHByZXNzaW9uU3BhY2VyPXR9Z2V0IFVua25vd25UZXh0SGVpZ2h0KCl7cmV0dXJuIHRoaXMudW5rbm93blRleHRIZWlnaHR9c2V0IFVua25vd25UZXh0SGVpZ2h0KHQpe3RoaXMudW5rbm93blRleHRIZWlnaHQ9dH1nZXQgU3RhZmZMaW5lV2lkdGgoKXtyZXR1cm4gdGhpcy5zdGFmZkxpbmVXaWR0aH1zZXQgU3RhZmZMaW5lV2lkdGgodCl7dGhpcy5zdGFmZkxpbmVXaWR0aD10fWdldCBMZWRnZXJMaW5lV2lkdGgoKXtyZXR1cm4gdGhpcy5sZWRnZXJMaW5lV2lkdGh9c2V0IExlZGdlckxpbmVXaWR0aCh0KXt0aGlzLmxlZGdlckxpbmVXaWR0aD10fWdldCBMZWRnZXJMaW5lU3Ryb2tlU3R5bGUoKXtyZXR1cm4gdGhpcy5sZWRnZXJMaW5lU3Ryb2tlU3R5bGV9c2V0IExlZGdlckxpbmVTdHJva2VTdHlsZSh0KXt0aGlzLmxlZGdlckxpbmVTdHJva2VTdHlsZT10fWdldCBXZWRnZUxpbmVXaWR0aCgpe3JldHVybiB0aGlzLndlZGdlTGluZVdpZHRofXNldCBXZWRnZUxpbmVXaWR0aCh0KXt0aGlzLndlZGdlTGluZVdpZHRoPXR9Z2V0IFR1cGxldExpbmVXaWR0aCgpe3JldHVybiB0aGlzLnR1cGxldExpbmVXaWR0aH1zZXQgVHVwbGV0TGluZVdpZHRoKHQpe3RoaXMudHVwbGV0TGluZVdpZHRoPXR9Z2V0IEx5cmljVW5kZXJzY29yZUxpbmVXaWR0aCgpe3JldHVybiB0aGlzLmx5cmljVW5kZXJzY29yZUxpbmVXaWR0aH1zZXQgTHlyaWNVbmRlcnNjb3JlTGluZVdpZHRoKHQpe3RoaXMubHlyaWNVbmRlcnNjb3JlTGluZVdpZHRoPXR9Z2V0IFN5c3RlbVRoaW5MaW5lV2lkdGgoKXtyZXR1cm4gdGhpcy5zeXN0ZW1UaGluTGluZVdpZHRofXNldCBTeXN0ZW1UaGluTGluZVdpZHRoKHQpe3RoaXMuc3lzdGVtVGhpbkxpbmVXaWR0aD10fWdldCBTeXN0ZW1Cb2xkTGluZVdpZHRoKCl7cmV0dXJuIHRoaXMuc3lzdGVtQm9sZExpbmVXaWR0aH1zZXQgU3lzdGVtQm9sZExpbmVXaWR0aCh0KXt0aGlzLnN5c3RlbUJvbGRMaW5lV2lkdGg9dH1nZXQgU3lzdGVtUmVwZXRpdGlvbkVuZGluZ0xpbmVXaWR0aCgpe3JldHVybiB0aGlzLnN5c3RlbVJlcGV0aXRpb25FbmRpbmdMaW5lV2lkdGh9c2V0IFN5c3RlbVJlcGV0aXRpb25FbmRpbmdMaW5lV2lkdGgodCl7dGhpcy5zeXN0ZW1SZXBldGl0aW9uRW5kaW5nTGluZVdpZHRoPXR9Z2V0IFN5c3RlbURvdFdpZHRoKCl7cmV0dXJuIHRoaXMuc3lzdGVtRG90V2lkdGh9c2V0IFN5c3RlbURvdFdpZHRoKHQpe3RoaXMuc3lzdGVtRG90V2lkdGg9dH1nZXQgRGlzdGFuY2VCZXR3ZWVuVmVydGljYWxTeXN0ZW1MaW5lcygpe3JldHVybiB0aGlzLmRpc3RhbmNlQmV0d2VlblZlcnRpY2FsU3lzdGVtTGluZXN9c2V0IERpc3RhbmNlQmV0d2VlblZlcnRpY2FsU3lzdGVtTGluZXModCl7dGhpcy5kaXN0YW5jZUJldHdlZW5WZXJ0aWNhbFN5c3RlbUxpbmVzPXR9Z2V0IERpc3RhbmNlQmV0d2VlbkRvdEFuZExpbmUoKXtyZXR1cm4gdGhpcy5kaXN0YW5jZUJldHdlZW5Eb3RBbmRMaW5lfXNldCBEaXN0YW5jZUJldHdlZW5Eb3RBbmRMaW5lKHQpe3RoaXMuZGlzdGFuY2VCZXR3ZWVuRG90QW5kTGluZT10fWdldCBPY3RhdmVTaGlmdExpbmVXaWR0aCgpe3JldHVybiB0aGlzLm9jdGF2ZVNoaWZ0TGluZVdpZHRofXNldCBPY3RhdmVTaGlmdExpbmVXaWR0aCh0KXt0aGlzLm9jdGF2ZVNoaWZ0TGluZVdpZHRoPXR9Z2V0IE9jdGF2ZVNoaWZ0VmVydGljYWxMaW5lTGVuZ3RoKCl7cmV0dXJuIHRoaXMub2N0YXZlU2hpZnRWZXJ0aWNhbExpbmVMZW5ndGh9c2V0IE9jdGF2ZVNoaWZ0VmVydGljYWxMaW5lTGVuZ3RoKHQpe3RoaXMub2N0YXZlU2hpZnRWZXJ0aWNhbExpbmVMZW5ndGg9dH1nZXQgR3JhY2VMaW5lV2lkdGgoKXtyZXR1cm4gdGhpcy5ncmFjZUxpbmVXaWR0aH1zZXQgR3JhY2VMaW5lV2lkdGgodCl7dGhpcy5ncmFjZUxpbmVXaWR0aD10fWdldCBNaW5pbXVtU3RhZmZMaW5lRGlzdGFuY2UoKXtyZXR1cm4gdGhpcy5taW5pbXVtU3RhZmZMaW5lRGlzdGFuY2V9c2V0IE1pbmltdW1TdGFmZkxpbmVEaXN0YW5jZSh0KXt0aGlzLm1pbmltdW1TdGFmZkxpbmVEaXN0YW5jZT10fWdldCBNaW5Ta3lCb3R0b21EaXN0QmV0d2VlblN0YXZlcygpe3JldHVybiB0aGlzLm1pblNreUJvdHRvbURpc3RCZXR3ZWVuU3RhdmVzfXNldCBNaW5Ta3lCb3R0b21EaXN0QmV0d2VlblN0YXZlcyh0KXt0aGlzLm1pblNreUJvdHRvbURpc3RCZXR3ZWVuU3RhdmVzPXR9Z2V0IE1pbmltdW1Dcm9zc2VkQmVhbURpZmZlcmVuY2VNYXJnaW4oKXtyZXR1cm4gdGhpcy5taW5pbXVtQ3Jvc3NlZEJlYW1EaWZmZXJlbmNlTWFyZ2lufXNldCBNaW5pbXVtQ3Jvc3NlZEJlYW1EaWZmZXJlbmNlTWFyZ2luKHQpe3RoaXMubWluaW11bUNyb3NzZWRCZWFtRGlmZmVyZW5jZU1hcmdpbj10fWdldCBEaXNwbGFjZWROb3RlTWFyZ2luKCl7cmV0dXJuIHRoaXMuZGlzcGxhY2VkTm90ZU1hcmdpbn1zZXQgRGlzcGxhY2VkTm90ZU1hcmdpbih0KXt0aGlzLmRpc3BsYWNlZE5vdGVNYXJnaW49dH1nZXQgTWluTm90ZURpc3RhbmNlKCl7cmV0dXJuIHRoaXMubWluTm90ZURpc3RhbmNlfXNldCBNaW5Ob3RlRGlzdGFuY2UodCl7dGhpcy5taW5Ob3RlRGlzdGFuY2U9dH1nZXQgU3ViTWVhc3VyZVhTcGFjaW5nVGhyZXNob2xkKCl7cmV0dXJuIHRoaXMuc3ViTWVhc3VyZVhTcGFjaW5nVGhyZXNob2xkfXNldCBTdWJNZWFzdXJlWFNwYWNpbmdUaHJlc2hvbGQodCl7dGhpcy5zdWJNZWFzdXJlWFNwYWNpbmdUaHJlc2hvbGQ9dH1nZXQgTWVhc3VyZUR5bmFtaWNzTWF4U2NhbGluZ0ZhY3Rvcigpe3JldHVybiB0aGlzLm1lYXN1cmVEeW5hbWljc01heFNjYWxpbmdGYWN0b3J9c2V0IE1lYXN1cmVEeW5hbWljc01heFNjYWxpbmdGYWN0b3IodCl7dGhpcy5tZWFzdXJlRHluYW1pY3NNYXhTY2FsaW5nRmFjdG9yPXR9Z2V0IFdob2xlUmVzdFhTaGlmdFZleGZsb3coKXtyZXR1cm4gdGhpcy53aG9sZVJlc3RYU2hpZnRWZXhmbG93fXNldCBXaG9sZVJlc3RYU2hpZnRWZXhmbG93KHQpe3RoaXMud2hvbGVSZXN0WFNoaWZ0VmV4Zmxvdz10fWdldCBNZXRyb25vbWVNYXJrc0RyYXduKCl7cmV0dXJuIHRoaXMubWV0cm9ub21lTWFya3NEcmF3bn1zZXQgTWV0cm9ub21lTWFya3NEcmF3bih0KXt0aGlzLm1ldHJvbm9tZU1hcmtzRHJhd249dH1nZXQgTWV0cm9ub21lTWFya1hTaGlmdCgpe3JldHVybiB0aGlzLm1ldHJvbm9tZU1hcmtYU2hpZnR9c2V0IE1ldHJvbm9tZU1hcmtYU2hpZnQodCl7dGhpcy5tZXRyb25vbWVNYXJrWFNoaWZ0PXR9Z2V0IE1ldHJvbm9tZU1hcmtZU2hpZnQoKXtyZXR1cm4gdGhpcy5tZXRyb25vbWVNYXJrWVNoaWZ0fXNldCBNZXRyb25vbWVNYXJrWVNoaWZ0KHQpe3RoaXMubWV0cm9ub21lTWFya1lTaGlmdD10fWdldCBNYXhJbnN0cnVjdGlvbnNDb25zdFZhbHVlKCl7cmV0dXJuIHRoaXMubWF4SW5zdHJ1Y3Rpb25zQ29uc3RWYWx1ZX1zZXQgTWF4SW5zdHJ1Y3Rpb25zQ29uc3RWYWx1ZSh0KXt0aGlzLm1heEluc3RydWN0aW9uc0NvbnN0VmFsdWU9dH1nZXQgTm90ZURpc3RhbmNlcygpe3JldHVybiB0aGlzLm5vdGVEaXN0YW5jZXN9c2V0IE5vdGVEaXN0YW5jZXModCl7dGhpcy5ub3RlRGlzdGFuY2VzPXR9Z2V0IE5vdGVEaXN0YW5jZXNTY2FsaW5nRmFjdG9ycygpe3JldHVybiB0aGlzLm5vdGVEaXN0YW5jZXNTY2FsaW5nRmFjdG9yc31zZXQgTm90ZURpc3RhbmNlc1NjYWxpbmdGYWN0b3JzKHQpe3RoaXMubm90ZURpc3RhbmNlc1NjYWxpbmdGYWN0b3JzPXR9Z2V0IER1cmF0aW9uRGlzdGFuY2VEaWN0KCl7cmV0dXJuIHRoaXMuZHVyYXRpb25EaXN0YW5jZURpY3R9Z2V0IER1cmF0aW9uU2NhbGluZ0Rpc3RhbmNlRGljdCgpe3JldHVybiB0aGlzLmR1cmF0aW9uU2NhbGluZ0Rpc3RhbmNlRGljdH1nZXQgQWxpZ25SZXN0cygpe3JldHVybiB0aGlzLmFsaWduUmVzdHN9c2V0IEFsaWduUmVzdHModCl7dGhpcy5hbGlnblJlc3RzPXR9Z2V0IEZpbGxFbXB0eU1lYXN1cmVzV2l0aFdob2xlUmVzdCgpe3JldHVybiB0aGlzLmZpbGxFbXB0eU1lYXN1cmVzV2l0aFdob2xlUmVzdH1zZXQgRmlsbEVtcHR5TWVhc3VyZXNXaXRoV2hvbGVSZXN0KHQpe3RoaXMuZmlsbEVtcHR5TWVhc3VyZXNXaXRoV2hvbGVSZXN0PXR9Z2V0IEFycGVnZ2lvc0dvQWNyb3NzVm9pY2VzKCl7cmV0dXJuIHRoaXMuYXJwZWdnaW9zR29BY3Jvc3NWb2ljZXN9c2V0IEFycGVnZ2lvc0dvQWNyb3NzVm9pY2VzKHQpe3RoaXMuYXJwZWdnaW9zR29BY3Jvc3NWb2ljZXM9dH1nZXQgUmVuZGVyQXJwZWdnaW9zKCl7cmV0dXJuIHRoaXMucmVuZGVyQXJwZWdnaW9zfXNldCBSZW5kZXJBcnBlZ2dpb3ModCl7dGhpcy5yZW5kZXJBcnBlZ2dpb3M9dH1nZXQgUmVuZGVyU2x1cnMoKXtyZXR1cm4gdGhpcy5yZW5kZXJTbHVyc31zZXQgUmVuZGVyU2x1cnModCl7dGhpcy5yZW5kZXJTbHVycz10fWdldCBDb2xvcmluZ01vZGUoKXtyZXR1cm4gdGhpcy5jb2xvcmluZ01vZGV9c2V0IENvbG9yaW5nTW9kZSh0KXt0aGlzLmNvbG9yaW5nTW9kZT10fWdldCBDb2xvcmluZ0VuYWJsZWQoKXtyZXR1cm4gdGhpcy5jb2xvcmluZ0VuYWJsZWR9c2V0IENvbG9yaW5nRW5hYmxlZCh0KXt0aGlzLmNvbG9yaW5nRW5hYmxlZD10fWdldCBDb2xvclN0ZW1zTGlrZU5vdGVoZWFkcygpe3JldHVybiB0aGlzLmNvbG9yU3RlbXNMaWtlTm90ZWhlYWRzfXNldCBDb2xvclN0ZW1zTGlrZU5vdGVoZWFkcyh0KXt0aGlzLmNvbG9yU3RlbXNMaWtlTm90ZWhlYWRzPXR9Z2V0IENvbG9yRmxhZ3MoKXtyZXR1cm4gdGhpcy5jb2xvckZsYWdzfXNldCBDb2xvckZsYWdzKHQpe3RoaXMuY29sb3JGbGFncz10fWdldCBDb2xvckJlYW1zKCl7cmV0dXJuIHRoaXMuY29sb3JCZWFtc31zZXQgQ29sb3JCZWFtcyh0KXt0aGlzLmNvbG9yQmVhbXM9dH1nZXQgQ29sb3JpbmdTZXRDdXJyZW50KCl7cmV0dXJuIHRoaXMuY29sb3JpbmdTZXRDdXN0b219c2V0IENvbG9yaW5nU2V0Q3VycmVudCh0KXt0aGlzLmNvbG9yaW5nU2V0Q3VzdG9tPXR9Z2V0IERlZmF1bHRDb2xvck5vdGVoZWFkKCl7cmV0dXJuIHRoaXMuZGVmYXVsdENvbG9yTm90ZWhlYWR9c2V0IERlZmF1bHRDb2xvck5vdGVoZWFkKHQpe3RoaXMuZGVmYXVsdENvbG9yTm90ZWhlYWQ9dH1nZXQgRGVmYXVsdENvbG9yUmVzdCgpe3JldHVybiB0aGlzLmRlZmF1bHRDb2xvclJlc3R9c2V0IERlZmF1bHRDb2xvclJlc3QodCl7dGhpcy5kZWZhdWx0Q29sb3JSZXN0PXR9Z2V0IERlZmF1bHRDb2xvclN0ZW0oKXtyZXR1cm4gdGhpcy5kZWZhdWx0Q29sb3JTdGVtfXNldCBEZWZhdWx0Q29sb3JTdGVtKHQpe3RoaXMuZGVmYXVsdENvbG9yU3RlbT10fWdldCBEZWZhdWx0Q29sb3JMYWJlbCgpe3JldHVybiB0aGlzLmRlZmF1bHRDb2xvckxhYmVsfXNldCBEZWZhdWx0Q29sb3JMYWJlbCh0KXt0aGlzLmRlZmF1bHRDb2xvckxhYmVsPXR9Z2V0IERlZmF1bHRDb2xvclRpdGxlKCl7cmV0dXJuIHRoaXMuZGVmYXVsdENvbG9yVGl0bGV9c2V0IERlZmF1bHRDb2xvclRpdGxlKHQpe3RoaXMuZGVmYXVsdENvbG9yVGl0bGU9dH1nZXQgRGVmYXVsdEZvbnRGYW1pbHkoKXtyZXR1cm4gdGhpcy5kZWZhdWx0Rm9udEZhbWlseX1zZXQgRGVmYXVsdEZvbnRGYW1pbHkodCl7dGhpcy5kZWZhdWx0Rm9udEZhbWlseT10fWdldCBEZWZhdWx0Rm9udFN0eWxlKCl7cmV0dXJuIHRoaXMuZGVmYXVsdEZvbnRTdHlsZX1zZXQgRGVmYXVsdEZvbnRTdHlsZSh0KXt0aGlzLmRlZmF1bHRGb250U3R5bGU9dH1nZXQgTWF4TWVhc3VyZVRvRHJhd0luZGV4KCl7cmV0dXJuIHRoaXMubWF4TWVhc3VyZVRvRHJhd0luZGV4fXNldCBNYXhNZWFzdXJlVG9EcmF3SW5kZXgodCl7dGhpcy5tYXhNZWFzdXJlVG9EcmF3SW5kZXg9dH1nZXQgTWluTWVhc3VyZVRvRHJhd0luZGV4KCl7cmV0dXJuIHRoaXMubWluTWVhc3VyZVRvRHJhd0luZGV4fXNldCBNaW5NZWFzdXJlVG9EcmF3SW5kZXgodCl7dGhpcy5taW5NZWFzdXJlVG9EcmF3SW5kZXg9dH1nZXQgUmVuZGVyQ29tcG9zZXIoKXtyZXR1cm4gdGhpcy5yZW5kZXJDb21wb3Nlcn1zZXQgUmVuZGVyQ29tcG9zZXIodCl7dGhpcy5yZW5kZXJDb21wb3Nlcj10fWdldCBSZW5kZXJUaXRsZSgpe3JldHVybiB0aGlzLnJlbmRlclRpdGxlfXNldCBSZW5kZXJUaXRsZSh0KXt0aGlzLnJlbmRlclRpdGxlPXR9Z2V0IFJlbmRlclN1YnRpdGxlKCl7cmV0dXJuIHRoaXMucmVuZGVyU3VidGl0bGV9c2V0IFJlbmRlclN1YnRpdGxlKHQpe3RoaXMucmVuZGVyU3VidGl0bGU9dH1nZXQgUmVuZGVyTHlyaWNpc3QoKXtyZXR1cm4gdGhpcy5yZW5kZXJMeXJpY2lzdH1zZXQgUmVuZGVyTHlyaWNpc3QodCl7dGhpcy5yZW5kZXJMeXJpY2lzdD10fWdldCBSZW5kZXJQYXJ0TmFtZXMoKXtyZXR1cm4gdGhpcy5yZW5kZXJQYXJ0TmFtZXN9c2V0IFJlbmRlclBhcnROYW1lcyh0KXt0aGlzLnJlbmRlclBhcnROYW1lcz10LHRoaXMucmVuZGVyUGFydE5hbWVzfHwodGhpcy5yZW5kZXJQYXJ0QWJicmV2aWF0aW9ucz0hMSl9Z2V0IFJlbmRlclBhcnRBYmJyZXZpYXRpb25zKCl7cmV0dXJuIHRoaXMucmVuZGVyUGFydEFiYnJldmlhdGlvbnN9c2V0IFJlbmRlclBhcnRBYmJyZXZpYXRpb25zKHQpe3RoaXMucmVuZGVyUGFydEFiYnJldmlhdGlvbnM9dH1nZXQgUmVuZGVyRmluZ2VyaW5ncygpe3JldHVybiB0aGlzLnJlbmRlckZpbmdlcmluZ3N9c2V0IFJlbmRlckZpbmdlcmluZ3ModCl7dGhpcy5yZW5kZXJGaW5nZXJpbmdzPXR9Z2V0IFJlbmRlck1lYXN1cmVOdW1iZXJzKCl7cmV0dXJuIHRoaXMucmVuZGVyTWVhc3VyZU51bWJlcnN9c2V0IFJlbmRlck1lYXN1cmVOdW1iZXJzKHQpe3RoaXMucmVuZGVyTWVhc3VyZU51bWJlcnM9dH1nZXQgUmVuZGVyTHlyaWNzKCl7cmV0dXJuIHRoaXMucmVuZGVyTHlyaWNzfXNldCBSZW5kZXJMeXJpY3ModCl7dGhpcy5yZW5kZXJMeXJpY3M9dH1nZXQgRmluZ2VyaW5nUG9zaXRpb24oKXtyZXR1cm4gdGhpcy5maW5nZXJpbmdQb3NpdGlvbn1zZXQgRmluZ2VyaW5nUG9zaXRpb24odCl7dGhpcy5maW5nZXJpbmdQb3NpdGlvbj10fWdldCBGaW5nZXJpbmdJbnNpZGVTdGFmZmxpbmVzKCl7cmV0dXJuIHRoaXMuZmluZ2VyaW5nSW5zaWRlU3RhZmZsaW5lc31zZXQgRmluZ2VyaW5nSW5zaWRlU3RhZmZsaW5lcyh0KXt0aGlzLmZpbmdlcmluZ0luc2lkZVN0YWZmbGluZXM9dH1nZXQgRmluZ2VyaW5nTGFiZWxGb250SGVpZ2h0KCl7cmV0dXJuIHRoaXMuZmluZ2VyaW5nTGFiZWxGb250SGVpZ2h0fXNldCBGaW5nZXJpbmdMYWJlbEZvbnRIZWlnaHQodCl7dGhpcy5maW5nZXJpbmdMYWJlbEZvbnRIZWlnaHQ9dH1nZXQgRmluZ2VyaW5nT2Zmc2V0WCgpe3JldHVybiB0aGlzLmZpbmdlcmluZ09mZnNldFh9c2V0IEZpbmdlcmluZ09mZnNldFgodCl7dGhpcy5maW5nZXJpbmdPZmZzZXRYPXR9Z2V0IE5ld1N5c3RlbUF0WE1MTmV3U3lzdGVtQXR0cmlidXRlKCl7cmV0dXJuIHRoaXMubmV3U3lzdGVtQXRYTUxOZXdTeXN0ZW1BdHRyaWJ1dGV9c2V0IE5ld1N5c3RlbUF0WE1MTmV3U3lzdGVtQXR0cmlidXRlKHQpe3RoaXMubmV3U3lzdGVtQXRYTUxOZXdTeXN0ZW1BdHRyaWJ1dGU9dH1nZXQgTmV3UGFnZUF0WE1MTmV3UGFnZUF0dHJpYnV0ZSgpe3JldHVybiB0aGlzLm5ld1BhZ2VBdFhNTE5ld1BhZ2VBdHRyaWJ1dGV9c2V0IE5ld1BhZ2VBdFhNTE5ld1BhZ2VBdHRyaWJ1dGUodCl7dGhpcy5uZXdQYWdlQXRYTUxOZXdQYWdlQXR0cmlidXRlPXR9Z2V0IFBhZ2VGb3JtYXQoKXtyZXR1cm4gdGhpcy5wYWdlRm9ybWF0fXNldCBQYWdlRm9ybWF0KHQpe3RoaXMucGFnZUZvcm1hdD10fWdldCBQYWdlQmFja2dyb3VuZENvbG9yKCl7cmV0dXJuIHRoaXMucGFnZUJhY2tncm91bmRDb2xvcn1zZXQgUGFnZUJhY2tncm91bmRDb2xvcih0KXt0aGlzLnBhZ2VCYWNrZ3JvdW5kQ29sb3I9dH1nZXQgUmVuZGVyU2luZ2xlSG9yaXpvbnRhbFN0YWZmbGluZSgpe3JldHVybiB0aGlzLnJlbmRlclNpbmdsZUhvcml6b250YWxTdGFmZmxpbmV9c2V0IFJlbmRlclNpbmdsZUhvcml6b250YWxTdGFmZmxpbmUodCl7dGhpcy5yZW5kZXJTaW5nbGVIb3Jpem9udGFsU3RhZmZsaW5lPXR9Z2V0IFJlc3RvcmVDdXJzb3JBZnRlclJlcmVuZGVyKCl7cmV0dXJuIHRoaXMucmVzdG9yZUN1cnNvckFmdGVyUmVyZW5kZXJ9c2V0IFJlc3RvcmVDdXJzb3JBZnRlclJlcmVuZGVyKHQpe3RoaXMucmVzdG9yZUN1cnNvckFmdGVyUmVyZW5kZXI9dH1yZXNldENob3JkU3ltYm9sTGFiZWxUZXh0cyh0KXtyZXR1cm4gdC5zZXRWYWx1ZShkLkNob3JkU3ltYm9sRW51bS5taW5vcixcIm1cIiksdC5zZXRWYWx1ZShkLkNob3JkU3ltYm9sRW51bS5hdWdtZW50ZWQsXCJhdWdcIiksdC5zZXRWYWx1ZShkLkNob3JkU3ltYm9sRW51bS5kaW1pbmlzaGVkLFwiZGltXCIpLHQuc2V0VmFsdWUoZC5DaG9yZFN5bWJvbEVudW0uZG9taW5hbnQsXCI3XCIpLHQuc2V0VmFsdWUoZC5DaG9yZFN5bWJvbEVudW0ubWFqb3JzZXZlbnRoLFwibWFqN1wiKSx0LnNldFZhbHVlKGQuQ2hvcmRTeW1ib2xFbnVtLm1pbm9yc2V2ZW50aCxcIm03XCIpLHQuc2V0VmFsdWUoZC5DaG9yZFN5bWJvbEVudW0uZGltaW5pc2hlZHNldmVudGgsXCJkaW03XCIpLHQuc2V0VmFsdWUoZC5DaG9yZFN5bWJvbEVudW0uYXVnbWVudGVkc2V2ZW50aCxcImF1ZzdcIiksdC5zZXRWYWx1ZShkLkNob3JkU3ltYm9sRW51bS5oYWxmZGltaW5pc2hlZCxcIm03YjVcIiksdC5zZXRWYWx1ZShkLkNob3JkU3ltYm9sRW51bS5tYWpvcm1pbm9yLFwibShtYWo3KVwiKSx0LnNldFZhbHVlKGQuQ2hvcmRTeW1ib2xFbnVtLm1ham9yc2l4dGgsXCJtYWo2XCIpLHQuc2V0VmFsdWUoZC5DaG9yZFN5bWJvbEVudW0ubWlub3JzaXh0aCxcIm02XCIpLHQuc2V0VmFsdWUoZC5DaG9yZFN5bWJvbEVudW0uZG9taW5hbnRuaW50aCxcIjlcIiksdC5zZXRWYWx1ZShkLkNob3JkU3ltYm9sRW51bS5tYWpvcm5pbnRoLFwibWFqOVwiKSx0LnNldFZhbHVlKGQuQ2hvcmRTeW1ib2xFbnVtLm1pbm9ybmludGgsXCJtOVwiKSx0LnNldFZhbHVlKGQuQ2hvcmRTeW1ib2xFbnVtLmRvbWluYW50MTF0aCxcIjExXCIpLHQuc2V0VmFsdWUoZC5DaG9yZFN5bWJvbEVudW0ubWFqb3IxMXRoLFwibWFqMTFcIiksdC5zZXRWYWx1ZShkLkNob3JkU3ltYm9sRW51bS5taW5vcjExdGgsXCJtMTFcIiksdC5zZXRWYWx1ZShkLkNob3JkU3ltYm9sRW51bS5kb21pbmFudDEzdGgsXCIxM1wiKSx0LnNldFZhbHVlKGQuQ2hvcmRTeW1ib2xFbnVtLm1ham9yMTN0aCxcIm1hajEzXCIpLHQuc2V0VmFsdWUoZC5DaG9yZFN5bWJvbEVudW0ubWlub3IxM3RoLFwibTEzXCIpLHQuc2V0VmFsdWUoZC5DaG9yZFN5bWJvbEVudW0uc3VzcGVuZGVkc2Vjb25kLFwic3VzMlwiKSx0LnNldFZhbHVlKGQuQ2hvcmRTeW1ib2xFbnVtLnN1c3BlbmRlZGZvdXJ0aCxcInN1czRcIiksdC5zZXRWYWx1ZShkLkNob3JkU3ltYm9sRW51bS5wb3dlcixcIjVcIiksdH1wb3B1bGF0ZURpY3Rpb25hcmllcygpe2ZvcihsZXQgdD0wO3Q8dGhpcy5ub3RlRGlzdGFuY2VzLmxlbmd0aDt0Kyspc3dpdGNoKHQpe2Nhc2UgMDp0aGlzLmR1cmF0aW9uRGlzdGFuY2VEaWN0Wy4wMTU2MjVdPXRoaXMubm90ZURpc3RhbmNlc1t0XSx0aGlzLmR1cmF0aW9uU2NhbGluZ0Rpc3RhbmNlRGljdFsuMDE1NjI1XT10aGlzLm5vdGVEaXN0YW5jZXNTY2FsaW5nRmFjdG9yc1t0XTticmVhaztjYXNlIDE6dGhpcy5kdXJhdGlvbkRpc3RhbmNlRGljdFsuMDMxMjVdPXRoaXMubm90ZURpc3RhbmNlc1t0XSx0aGlzLmR1cmF0aW9uU2NhbGluZ0Rpc3RhbmNlRGljdFsuMDMxMjVdPXRoaXMubm90ZURpc3RhbmNlc1NjYWxpbmdGYWN0b3JzW3RdO2JyZWFrO2Nhc2UgMjp0aGlzLmR1cmF0aW9uRGlzdGFuY2VEaWN0Wy4wNjI1XT10aGlzLm5vdGVEaXN0YW5jZXNbdF0sdGhpcy5kdXJhdGlvblNjYWxpbmdEaXN0YW5jZURpY3RbLjA2MjVdPXRoaXMubm90ZURpc3RhbmNlc1NjYWxpbmdGYWN0b3JzW3RdO2JyZWFrO2Nhc2UgMzp0aGlzLmR1cmF0aW9uRGlzdGFuY2VEaWN0Wy4xMjVdPXRoaXMubm90ZURpc3RhbmNlc1t0XSx0aGlzLmR1cmF0aW9uU2NhbGluZ0Rpc3RhbmNlRGljdFsuMTI1XT10aGlzLm5vdGVEaXN0YW5jZXNTY2FsaW5nRmFjdG9yc1t0XTticmVhaztjYXNlIDQ6dGhpcy5kdXJhdGlvbkRpc3RhbmNlRGljdFsuMjVdPXRoaXMubm90ZURpc3RhbmNlc1t0XSx0aGlzLmR1cmF0aW9uU2NhbGluZ0Rpc3RhbmNlRGljdFsuMjVdPXRoaXMubm90ZURpc3RhbmNlc1NjYWxpbmdGYWN0b3JzW3RdO2JyZWFrO2Nhc2UgNTp0aGlzLmR1cmF0aW9uRGlzdGFuY2VEaWN0Wy41XT10aGlzLm5vdGVEaXN0YW5jZXNbdF0sdGhpcy5kdXJhdGlvblNjYWxpbmdEaXN0YW5jZURpY3RbLjVdPXRoaXMubm90ZURpc3RhbmNlc1NjYWxpbmdGYWN0b3JzW3RdO2JyZWFrO2Nhc2UgNjp0aGlzLmR1cmF0aW9uRGlzdGFuY2VEaWN0WzFdPXRoaXMubm90ZURpc3RhbmNlc1t0XSx0aGlzLmR1cmF0aW9uU2NhbGluZ0Rpc3RhbmNlRGljdFsxXT10aGlzLm5vdGVEaXN0YW5jZXNTY2FsaW5nRmFjdG9yc1t0XTticmVhaztjYXNlIDc6dGhpcy5kdXJhdGlvbkRpc3RhbmNlRGljdFsyXT10aGlzLm5vdGVEaXN0YW5jZXNbdF0sdGhpcy5kdXJhdGlvblNjYWxpbmdEaXN0YW5jZURpY3RbMl09dGhpcy5ub3RlRGlzdGFuY2VzU2NhbGluZ0ZhY3RvcnNbdF19fWNhbGN1bGF0ZUN1cnZlUGFyYW1ldGVyc0FycmF5cygpe3RoaXMudFBvd2VyMz1uZXcgQXJyYXkodGhpcy5iZXppZXJDdXJ2ZVN0ZXBTaXplKSx0aGlzLm9uZU1pbnVzVFBvd2VyMz1uZXcgQXJyYXkodGhpcy5iZXppZXJDdXJ2ZVN0ZXBTaXplKSx0aGlzLmZhY3Rvck9uZT1uZXcgQXJyYXkodGhpcy5iZXppZXJDdXJ2ZVN0ZXBTaXplKSx0aGlzLmZhY3RvclR3bz1uZXcgQXJyYXkodGhpcy5iZXppZXJDdXJ2ZVN0ZXBTaXplKTtmb3IobGV0IHQ9MDt0PHRoaXMuYmV6aWVyQ3VydmVTdGVwU2l6ZTt0Kyspe2NvbnN0IGU9dC90aGlzLmJlemllckN1cnZlU3RlcFNpemU7dGhpcy50UG93ZXIzW3RdPU1hdGgucG93KGUsMyksdGhpcy5vbmVNaW51c1RQb3dlcjNbdF09TWF0aC5wb3coMS1lLDMpLHRoaXMuZmFjdG9yT25lW3RdPTMqTWF0aC5wb3coMS1lLDIpKmUsdGhpcy5mYWN0b3JUd29bdF09MyooMS1lKSpNYXRoLnBvdyhlLDIpfX19ZS5FbmdyYXZpbmdSdWxlcz1mLGYudW5pdD0xO2NsYXNzIG17Y29uc3RydWN0b3IodCxlLGk9XCJub0lkU3RyaW5nR2l2ZW5cIil7dGhpcy53aWR0aD10LHRoaXMuaGVpZ2h0PWUsdGhpcy5pZFN0cmluZz1pfWdldCBhc3BlY3RSYXRpbygpe3JldHVybiB0aGlzLklzVW5kZWZpbmVkPzA6dGhpcy53aWR0aC90aGlzLmhlaWdodH1nZXQgSXNVbmRlZmluZWQoKXtyZXR1cm4gdm9pZCAwPT09dGhpcy53aWR0aHx8dm9pZCAwPT09dGhpcy5oZWlnaHR8fDA9PT10aGlzLmhlaWdodHx8MD09PXRoaXMud2lkdGh9c3RhdGljIGdldCBVbmRlZmluZWRQYWdlRm9ybWF0KCl7cmV0dXJuIG5ldyBtKDAsMCl9RXF1YWxzKHQpe3JldHVybiEhdCYmKHQud2lkdGg9PT10aGlzLndpZHRoJiZ0LmhlaWdodD09PXRoaXMuaGVpZ2h0KX19ZS5QYWdlRm9ybWF0PW19LGZ1bmN0aW9uKHQsZSxpKXtcInVzZSBzdHJpY3RcIjtPYmplY3QuZGVmaW5lUHJvcGVydHkoZSxcIl9fZXNNb2R1bGVcIix7dmFsdWU6ITB9KTtjb25zdCBzPWkoMCk7ZS5Ob3RlPWNsYXNze2NvbnN0cnVjdG9yKHQsZSxpLHMpe3RoaXMuc2x1cnM9W10sdGhpcy5wbGF5YmFja0luc3RydW1lbnRJZD12b2lkIDAsdGhpcy5ub3RlaGVhZD12b2lkIDAsdGhpcy5wcmludE9iamVjdD0hMCx0aGlzLnZvaWNlRW50cnk9dCx0aGlzLnBhcmVudFN0YWZmRW50cnk9ZSx0aGlzLmxlbmd0aD1pLHRoaXMucGl0Y2g9cyx0aGlzLmhhbGZUb25lPXM/cy5nZXRIYWxmVG9uZSgpOjB9Z2V0IFBhcmVudFZvaWNlRW50cnkoKXtyZXR1cm4gdGhpcy52b2ljZUVudHJ5fXNldCBQYXJlbnRWb2ljZUVudHJ5KHQpe3RoaXMudm9pY2VFbnRyeT10fWdldCBQYXJlbnRTdGFmZkVudHJ5KCl7cmV0dXJuIHRoaXMucGFyZW50U3RhZmZFbnRyeX1nZXQgUGFyZW50U3RhZmYoKXtyZXR1cm4gdGhpcy5wYXJlbnRTdGFmZkVudHJ5LlBhcmVudFN0YWZmfWdldCBMZW5ndGgoKXtyZXR1cm4gdGhpcy5sZW5ndGh9c2V0IExlbmd0aCh0KXt0aGlzLmxlbmd0aD10fWdldCBUeXBlTGVuZ3RoKCl7cmV0dXJuIHRoaXMudHlwZUxlbmd0aH1zZXQgVHlwZUxlbmd0aCh0KXt0aGlzLnR5cGVMZW5ndGg9dH1nZXQgTm90ZVR5cGVYbWwoKXtyZXR1cm4gdGhpcy5ub3RlVHlwZVhtbH1zZXQgTm90ZVR5cGVYbWwodCl7dGhpcy5ub3RlVHlwZVhtbD10fWdldCBOb3JtYWxOb3Rlcygpe3JldHVybiB0aGlzLm5vcm1hbE5vdGVzfXNldCBOb3JtYWxOb3Rlcyh0KXt0aGlzLm5vcm1hbE5vdGVzPXR9Z2V0IFBpdGNoKCl7cmV0dXJuIHRoaXMucGl0Y2h9Z2V0IE5vdGVCZWFtKCl7cmV0dXJuIHRoaXMuYmVhbX1zZXQgTm90ZUJlYW0odCl7dGhpcy5iZWFtPXR9c2V0IE5vdGVoZWFkKHQpe3RoaXMubm90ZWhlYWQ9dH1nZXQgTm90ZWhlYWQoKXtyZXR1cm4gdGhpcy5ub3RlaGVhZH1nZXQgTm90ZVR1cGxldCgpe3JldHVybiB0aGlzLnR1cGxldH1zZXQgTm90ZVR1cGxldCh0KXt0aGlzLnR1cGxldD10fWdldCBOb3RlVGllKCl7cmV0dXJuIHRoaXMudGllfXNldCBOb3RlVGllKHQpe3RoaXMudGllPXR9Z2V0IE5vdGVTbHVycygpe3JldHVybiB0aGlzLnNsdXJzfXNldCBOb3RlU2x1cnModCl7dGhpcy5zbHVycz10fWdldCBQbGF5YmFja0luc3RydW1lbnRJZCgpe3JldHVybiB0aGlzLnBsYXliYWNrSW5zdHJ1bWVudElkfXNldCBQbGF5YmFja0luc3RydW1lbnRJZCh0KXt0aGlzLnBsYXliYWNrSW5zdHJ1bWVudElkPXR9Z2V0IFByaW50T2JqZWN0KCl7cmV0dXJuIHRoaXMucHJpbnRPYmplY3R9c2V0IFByaW50T2JqZWN0KHQpe3RoaXMucHJpbnRPYmplY3Q9dH1nZXQgQXJwZWdnaW8oKXtyZXR1cm4gdGhpcy5hcnBlZ2dpb31zZXQgQXJwZWdnaW8odCl7dGhpcy5hcnBlZ2dpbz10fWdldCBJc0N1ZU5vdGUoKXtyZXR1cm4gdGhpcy5pc0N1ZU5vdGV9c2V0IElzQ3VlTm90ZSh0KXt0aGlzLmlzQ3VlTm90ZT10fWdldCBTdGVtRGlyZWN0aW9uWG1sKCl7cmV0dXJuIHRoaXMuc3RlbURpcmVjdGlvblhtbH1zZXQgU3RlbURpcmVjdGlvblhtbCh0KXt0aGlzLnN0ZW1EaXJlY3Rpb25YbWw9dH1nZXQgVHJlbW9sb1N0cm9rZXMoKXtyZXR1cm4gdGhpcy50cmVtb2xvU3Ryb2tlc31zZXQgVHJlbW9sb1N0cm9rZXModCl7dGhpcy50cmVtb2xvU3Ryb2tlcz10fWdldCBTdGVtQ29sb3JYbWwoKXtyZXR1cm4gdGhpcy5zdGVtQ29sb3JYbWx9c2V0IFN0ZW1Db2xvclhtbCh0KXt0aGlzLnN0ZW1Db2xvclhtbD10fWdldCBOb3RlaGVhZENvbG9yWG1sKCl7cmV0dXJuIHRoaXMubm90ZWhlYWRDb2xvclhtbH1zZXQgTm90ZWhlYWRDb2xvclhtbCh0KXt0aGlzLm5vdGVoZWFkQ29sb3JYbWw9dH1nZXQgTm90ZWhlYWRDb2xvcigpe3JldHVybiB0aGlzLm5vdGVoZWFkQ29sb3J9c2V0IE5vdGVoZWFkQ29sb3IodCl7dGhpcy5ub3RlaGVhZENvbG9yPXR9Z2V0IE5vdGVoZWFkQ29sb3JDdXJyZW50bHlSZW5kZXJlZCgpe3JldHVybiB0aGlzLm5vdGVoZWFkQ29sb3JDdXJyZW50bHlSZW5kZXJlZH1zZXQgTm90ZWhlYWRDb2xvckN1cnJlbnRseVJlbmRlcmVkKHQpe3RoaXMubm90ZWhlYWRDb2xvckN1cnJlbnRseVJlbmRlcmVkPXR9aXNSZXN0KCl7cmV0dXJuIHZvaWQgMD09PXRoaXMuUGl0Y2h8fG51bGw9PT10aGlzLlBpdGNofWlzV2hvbGVSZXN0KCl7cmV0dXJuIHRoaXMuaXNSZXN0KCkmJnRoaXMuTGVuZ3RoLlJlYWxWYWx1ZT09PXRoaXMuUGFyZW50U3RhZmZFbnRyeS5WZXJ0aWNhbENvbnRhaW5lclBhcmVudC5QYXJlbnRNZWFzdXJlLkFjdGl2ZVRpbWVTaWduYXR1cmUuUmVhbFZhbHVlfVRvU3RyaW5nKCl7cmV0dXJuIHRoaXMucGl0Y2g/dGhpcy5QaXRjaC5Ub1N0cmluZygpK1wiLCBsZW5ndGg6IFwiK3RoaXMubGVuZ3RoLnRvU3RyaW5nKCk6XCJyZXN0IG5vdGUsIGxlbmd0aDogXCIrdGhpcy5sZW5ndGgudG9TdHJpbmcoKX1nZXRBYnNvbHV0ZVRpbWVzdGFtcCgpe3JldHVybiBzLkZyYWN0aW9uLnBsdXModGhpcy52b2ljZUVudHJ5LlRpbWVzdGFtcCx0aGlzLnBhcmVudFN0YWZmRW50cnkuVmVydGljYWxDb250YWluZXJQYXJlbnQuUGFyZW50TWVhc3VyZS5BYnNvbHV0ZVRpbWVzdGFtcCl9Y2hlY2tGb3JEb3VibGVTbHVyKHQpe2ZvcihsZXQgZT0wLGk9dGhpcy5zbHVycy5sZW5ndGg7ZTxpOysrZSl7Y29uc3QgaT10aGlzLnNsdXJzW2VdO2lmKHZvaWQgMCE9PWkuU3RhcnROb3RlJiZ2b2lkIDAhPT1pLkVuZE5vdGUmJnZvaWQgMCE9PXQuU3RhcnROb3RlJiZ0LlN0YXJ0Tm90ZT09PWkuU3RhcnROb3RlJiZpLkVuZE5vdGU9PT10aGlzKXJldHVybiEwfXJldHVybiExfX0sZnVuY3Rpb24odCl7dFt0Lk5vcm1hbD0wXT1cIk5vcm1hbFwiLHRbdC5HcmFjZT0xXT1cIkdyYWNlXCIsdFt0LkN1ZT0yXT1cIkN1ZVwifShlLkFwcGVhcmFuY2V8fChlLkFwcGVhcmFuY2U9e30pKX0sZnVuY3Rpb24odCxlLGkpe1widXNlIHN0cmljdFwiO09iamVjdC5kZWZpbmVQcm9wZXJ0eShlLFwiX19lc01vZHVsZVwiLHt2YWx1ZTohMH0pO2NvbnN0IHM9aSgyKTt2YXIgbjtlLk9jdGF2ZVNoaWZ0PWNsYXNze2NvbnN0cnVjdG9yKHQsZSl7dGhpcy5zZXRPY3RhdmVTaGlmdFZhbHVlKHQsZSl9Z2V0IFR5cGUoKXtyZXR1cm4gdGhpcy5vY3RhdmVWYWx1ZX1zZXQgVHlwZSh0KXt0aGlzLm9jdGF2ZVZhbHVlPXR9Z2V0IFN0YWZmTnVtYmVyKCl7cmV0dXJuIHRoaXMuc3RhZmZOdW1iZXJ9c2V0IFN0YWZmTnVtYmVyKHQpe3RoaXMuc3RhZmZOdW1iZXI9dH1nZXQgUGFyZW50U3RhcnRNdWx0aUV4cHJlc3Npb24oKXtyZXR1cm4gdGhpcy5zdGFydE11bHRpRXhwcmVzc2lvbn1zZXQgUGFyZW50U3RhcnRNdWx0aUV4cHJlc3Npb24odCl7dGhpcy5zdGFydE11bHRpRXhwcmVzc2lvbj10fWdldCBQYXJlbnRFbmRNdWx0aUV4cHJlc3Npb24oKXtyZXR1cm4gdGhpcy5lbmRNdWx0aUV4cHJlc3Npb259c2V0IFBhcmVudEVuZE11bHRpRXhwcmVzc2lvbih0KXt0aGlzLmVuZE11bHRpRXhwcmVzc2lvbj10fXNldE9jdGF2ZVNoaWZ0VmFsdWUodCxlKXt0aGlzLm9jdGF2ZVZhbHVlPTE9PT1lJiZcImRvd25cIj09PXQ/bi5WQTg6MT09PWUmJlwidXBcIj09PXQ/bi5WQjg6Mj09PWUmJlwiZG93blwiPT09dD9uLk1BMTU6Mj09PWUmJlwidXBcIj09PXQ/bi5NQjE1Om4uTk9ORX1zdGF0aWMgZ2V0UGl0Y2hGcm9tT2N0YXZlU2hpZnQodCxlKXtsZXQgaT10Lk9jdGF2ZTtzd2l0Y2goZSl7Y2FzZSBuLlZBODppLT0xO2JyZWFrO2Nhc2Ugbi5WQjg6aSs9MTticmVhaztjYXNlIG4uTUExNTppLT0yO2JyZWFrO2Nhc2Ugbi5NQjE1OmkrPTI7YnJlYWs7Y2FzZSBuLk5PTkU6ZGVmYXVsdDppKz0wfXJldHVybiBuZXcgcy5QaXRjaCh0LkZ1bmRhbWVudGFsTm90ZSxpLHQuQWNjaWRlbnRhbCl9fSxmdW5jdGlvbih0KXt0W3QuVkE4PTBdPVwiVkE4XCIsdFt0LlZCOD0xXT1cIlZCOFwiLHRbdC5NQTE1PTJdPVwiTUExNVwiLHRbdC5NQjE1PTNdPVwiTUIxNVwiLHRbdC5OT05FPTRdPVwiTk9ORVwifShuPWUuT2N0YXZlRW51bXx8KGUuT2N0YXZlRW51bT17fSkpfSxmdW5jdGlvbih0LGUsaSl7XCJ1c2Ugc3RyaWN0XCI7dmFyIHM7T2JqZWN0LmRlZmluZVByb3BlcnR5KGUsXCJfX2VzTW9kdWxlXCIse3ZhbHVlOiEwfSksZnVuY3Rpb24odCl7dFt0LlNpbmdsZVRoaW49MF09XCJTaW5nbGVUaGluXCIsdFt0LkRvdWJsZVRoaW49MV09XCJEb3VibGVUaGluXCIsdFt0LlRoaW5Cb2xkPTJdPVwiVGhpbkJvbGRcIix0W3QuQm9sZFRoaW5Eb3RzPTNdPVwiQm9sZFRoaW5Eb3RzXCIsdFt0LkRvdHNUaGluQm9sZD00XT1cIkRvdHNUaGluQm9sZFwiLHRbdC5Eb3RzQm9sZEJvbGREb3RzPTVdPVwiRG90c0JvbGRCb2xkRG90c1wiLHRbdC5Ob25lPTZdPVwiTm9uZVwiLHRbdC5Eb3R0ZWQ9N109XCJEb3R0ZWRcIix0W3QuRGFzaGVkPThdPVwiRGFzaGVkXCIsdFt0LkJvbGQ9OV09XCJCb2xkXCIsdFt0LkJvbGRUaGluPTEwXT1cIkJvbGRUaGluXCIsdFt0LkRvdWJsZUJvbGQ9MTFdPVwiRG91YmxlQm9sZFwiLHRbdC5UaWNrPTEyXT1cIlRpY2tcIix0W3QuU2hvcnQ9MTNdPVwiU2hvcnRcIn0ocz1lLlN5c3RlbUxpbmVzRW51bXx8KGUuU3lzdGVtTGluZXNFbnVtPXt9KSk7ZS5TeXN0ZW1MaW5lc0VudW1IZWxwZXI9Y2xhc3N7c3RhdGljIHhtbEJhcmxpbmVTdHlsZVRvU3lzdGVtTGluZXNFbnVtKHQpe3JldHVyblwicmVndWxhclwiPT09dD9zLlNpbmdsZVRoaW46XCJkb3R0ZWRcIj09PXQ/cy5Eb3R0ZWQ6XCJkYXNoZWRcIj09PXQ/cy5EYXNoZWQ6XCJoZWF2eVwiPT09dD9zLkJvbGQ6XCJsaWdodC1saWdodFwiPT09dD9zLkRvdWJsZVRoaW46XCJsaWdodC1oZWF2eVwiPT09dD9zLlRoaW5Cb2xkOlwiaGVhdnktbGlnaHRcIj09PXQ/cy5Cb2xkVGhpbjpcImhlYXZ5LWhlYXZ5XCI9PT10P3MuRG91YmxlQm9sZDpcInRpY2tcIj09PXQ/cy5UaWNrOlwic2hvcnRcIj09PXQ/cy5TaG9ydDpcIm5vbmVcIj09PXQ/cy5Ob25lOnMuU2luZ2xlVGhpbn19fSxmdW5jdGlvbih0LGUsaSl7XCJ1c2Ugc3RyaWN0XCI7T2JqZWN0LmRlZmluZVByb3BlcnR5KGUsXCJfX2VzTW9kdWxlXCIse3ZhbHVlOiEwfSk7Y29uc3Qgcz1pKDYpLG49aSgwKTtjbGFzcyByIGV4dGVuZHMgcy5BYnN0cmFjdEV4cHJlc3Npb257Y29uc3RydWN0b3IodCxlLGkscyxuPVwiXCIpe3N1cGVyKGUpLHN1cGVyLnBhcmVudE1lYXN1cmU9cyx0aGlzLmR5bmFtaWNUeXBlPXQsdGhpcy5sYWJlbD1uLHRoaXMuc3RhZmZOdW1iZXI9aSx0aGlzLnN0YXJ0Vm9sdW1lPS0xLHRoaXMuZW5kVm9sdW1lPS0xLFwiXCIhPT1uJiZ0aGlzLnNldFR5cGUoKX1nZXQgRHluYW1pY1R5cGUoKXtyZXR1cm4gdGhpcy5keW5hbWljVHlwZX1zZXQgRHluYW1pY1R5cGUodCl7dGhpcy5keW5hbWljVHlwZT10fWdldCBTdGFydE11bHRpRXhwcmVzc2lvbigpe3JldHVybiB0aGlzLnN0YXJ0TXVsdGlFeHByZXNzaW9ufXNldCBTdGFydE11bHRpRXhwcmVzc2lvbih0KXt0aGlzLnN0YXJ0TXVsdGlFeHByZXNzaW9uPXR9Z2V0IEVuZE11bHRpRXhwcmVzc2lvbigpe3JldHVybiB0aGlzLmVuZE11bHRpRXhwcmVzc2lvbn1zZXQgRW5kTXVsdGlFeHByZXNzaW9uKHQpe3RoaXMuZW5kTXVsdGlFeHByZXNzaW9uPXR9Z2V0IFBsYWNlbWVudCgpe3JldHVybiB0aGlzLnBsYWNlbWVudH1zZXQgUGxhY2VtZW50KHQpe3RoaXMucGxhY2VtZW50PXR9Z2V0IFN0YXJ0Vm9sdW1lKCl7cmV0dXJuIHRoaXMuc3RhcnRWb2x1bWV9c2V0IFN0YXJ0Vm9sdW1lKHQpe3RoaXMuc3RhcnRWb2x1bWU9dH1nZXQgRW5kVm9sdW1lKCl7cmV0dXJuIHRoaXMuZW5kVm9sdW1lfXNldCBFbmRWb2x1bWUodCl7dGhpcy5lbmRWb2x1bWU9dH1nZXQgU3RhZmZOdW1iZXIoKXtyZXR1cm4gdGhpcy5zdGFmZk51bWJlcn1zZXQgU3RhZmZOdW1iZXIodCl7dGhpcy5zdGFmZk51bWJlcj10fWdldCBMYWJlbCgpe3JldHVybiB0aGlzLmxhYmVsfXNldCBMYWJlbCh0KXt0aGlzLmxhYmVsPXQsdGhpcy5zZXRUeXBlKCl9c3RhdGljIGlzSW5wdXRTdHJpbmdDb250aW51b3VzRHluYW1pYyh0KXtyZXR1cm4hIXQmJihyLmlzU3RyaW5nSW5TdHJpbmdMaXN0KHIubGlzdENvbnRpbnVvdXNEeW5hbWljSW5jcmVhc2luZyx0KXx8ci5pc1N0cmluZ0luU3RyaW5nTGlzdChyLmxpc3RDb250aW51b3VzRHluYW1pY0RlY3JlYXNpbmcsdCkpfWdldEludGVycG9sYXRlZER5bmFtaWModCl7Y29uc3QgZT10aGlzLlN0YXJ0TXVsdGlFeHByZXNzaW9uLkFic29sdXRlVGltZXN0YW1wO2xldCBpO2lmKGk9dGhpcy5FbmRNdWx0aUV4cHJlc3Npb24/dGhpcy5FbmRNdWx0aUV4cHJlc3Npb24uQWJzb2x1dGVUaW1lc3RhbXA6bi5GcmFjdGlvbi5wbHVzKHRoaXMuc3RhcnRNdWx0aUV4cHJlc3Npb24uU291cmNlTWVhc3VyZVBhcmVudC5BYnNvbHV0ZVRpbWVzdGFtcCx0aGlzLnN0YXJ0TXVsdGlFeHByZXNzaW9uLlNvdXJjZU1lYXN1cmVQYXJlbnQuRHVyYXRpb24pLHQubHQoZSkpcmV0dXJuLTE7aWYoaS5sdCh0KSlyZXR1cm4tMjtjb25zdCBzPW4uRnJhY3Rpb24ubWludXModCxlKS5SZWFsVmFsdWUvbi5GcmFjdGlvbi5taW51cyhpLGUpLlJlYWxWYWx1ZTtyZXR1cm4gTWF0aC5tYXgoMCxNYXRoLm1pbig5OS45LHRoaXMuc3RhcnRWb2x1bWUrKHRoaXMuZW5kVm9sdW1lLXRoaXMuc3RhcnRWb2x1bWUpKnMpKX1pc1dlZGdlKCl7cmV0dXJuIXRoaXMubGFiZWx9c2V0VHlwZSgpe3IuaXNTdHJpbmdJblN0cmluZ0xpc3Qoci5saXN0Q29udGludW91c0R5bmFtaWNJbmNyZWFzaW5nLHRoaXMubGFiZWwpP3RoaXMuZHluYW1pY1R5cGU9by5jcmVzY2VuZG86ci5pc1N0cmluZ0luU3RyaW5nTGlzdChyLmxpc3RDb250aW51b3VzRHluYW1pY0RlY3JlYXNpbmcsdGhpcy5sYWJlbCkmJih0aGlzLmR5bmFtaWNUeXBlPW8uZGltaW51ZW5kbyl9fXZhciBvO2UuQ29udGludW91c0R5bmFtaWNFeHByZXNzaW9uPXIsci5saXN0Q29udGludW91c0R5bmFtaWNJbmNyZWFzaW5nPVtcImNyZXNjZW5kb1wiLFwiY3Jlc2NcIixcImNyZXNjLlwiLFwiY3Jlcy5cIl0sci5saXN0Q29udGludW91c0R5bmFtaWNEZWNyZWFzaW5nPVtcImRlY3Jlc2NlbmRvXCIsXCJkZWNyZXNjXCIsXCJkZWNyLlwiLFwiZGltaW51ZW5kb1wiLFwiZGltLlwiLFwiZGltXCJdLGZ1bmN0aW9uKHQpe3RbdC5jcmVzY2VuZG89MF09XCJjcmVzY2VuZG9cIix0W3QuZGltaW51ZW5kbz0xXT1cImRpbWludWVuZG9cIn0obz1lLkNvbnREeW5hbWljRW51bXx8KGUuQ29udER5bmFtaWNFbnVtPXt9KSl9LGZ1bmN0aW9uKHQsZSxpKXtcInVzZSBzdHJpY3RcIjtmdW5jdGlvbiBzKHQpe2Zvcih2YXIgaSBpbiB0KWUuaGFzT3duUHJvcGVydHkoaSl8fChlW2ldPXRbaV0pfU9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLFwiX19lc01vZHVsZVwiLHt2YWx1ZTohMH0pLHMoaSg3OCkpLHMoaSg3OSkpLHMoaSg0MSkpLHMoaSgxNTYpKX0sZnVuY3Rpb24odCxlLGkpe1widXNlIHN0cmljdFwiO09iamVjdC5kZWZpbmVQcm9wZXJ0eShlLFwiX19lc01vZHVsZVwiLHt2YWx1ZTohMH0pO3ZhciBzPWkoOSk7ZnVuY3Rpb24gbih0LGUsaSl7Zm9yKHZhciBuPWl8fHMuZGVmYXVsdEVxdWFscyxyPXQubGVuZ3RoLG89MDtvPHI7bysrKWlmKG4odFtvXSxlKSlyZXR1cm4gbztyZXR1cm4tMX1lLmluZGV4T2Y9bixlLmxhc3RJbmRleE9mPWZ1bmN0aW9uKHQsZSxpKXtmb3IodmFyIG49aXx8cy5kZWZhdWx0RXF1YWxzLHI9dC5sZW5ndGgtMTtyPj0wO3ItLSlpZihuKHRbcl0sZSkpcmV0dXJuIHI7cmV0dXJuLTF9LGUuY29udGFpbnM9ZnVuY3Rpb24odCxlLGkpe3JldHVybiBuKHQsZSxpKT49MH0sZS5yZW1vdmU9ZnVuY3Rpb24odCxlLGkpe3ZhciBzPW4odCxlLGkpO3JldHVybiEoczwwKSYmKHQuc3BsaWNlKHMsMSksITApfSxlLmZyZXF1ZW5jeT1mdW5jdGlvbih0LGUsaSl7Zm9yKHZhciBuPWl8fHMuZGVmYXVsdEVxdWFscyxyPXQubGVuZ3RoLG89MCxhPTA7YTxyO2ErKyluKHRbYV0sZSkmJm8rKztyZXR1cm4gb30sZS5lcXVhbHM9ZnVuY3Rpb24odCxlLGkpe3ZhciBuPWl8fHMuZGVmYXVsdEVxdWFscztpZih0Lmxlbmd0aCE9PWUubGVuZ3RoKXJldHVybiExO2Zvcih2YXIgcj10Lmxlbmd0aCxvPTA7bzxyO28rKylpZighbih0W29dLGVbb10pKXJldHVybiExO3JldHVybiEwfSxlLmNvcHk9ZnVuY3Rpb24odCl7cmV0dXJuIHQuY29uY2F0KCl9LGUuc3dhcD1mdW5jdGlvbih0LGUsaSl7aWYoZTwwfHxlPj10Lmxlbmd0aHx8aTwwfHxpPj10Lmxlbmd0aClyZXR1cm4hMTt2YXIgcz10W2VdO3JldHVybiB0W2VdPXRbaV0sdFtpXT1zLCEwfSxlLnRvU3RyaW5nPWZ1bmN0aW9uKHQpe3JldHVyblwiW1wiK3QudG9TdHJpbmcoKStcIl1cIn0sZS5mb3JFYWNoPWZ1bmN0aW9uKHQsZSl7Zm9yKHZhciBpPTAscz10O2k8cy5sZW5ndGg7aSsrKXtpZighMT09PWUoc1tpXSkpcmV0dXJufX19LGZ1bmN0aW9uKHQsZSxpKXtcInVzZSBzdHJpY3RcIjtPYmplY3QuZGVmaW5lUHJvcGVydHkoZSxcIl9fZXNNb2R1bGVcIix7dmFsdWU6ITB9KSxmdW5jdGlvbih0KXt0W3QuTWVhc3VyZUJlZ2luPTBdPVwiTWVhc3VyZUJlZ2luXCIsdFt0Lk1lYXN1cmVFbmQ9MV09XCJNZWFzdXJlRW5kXCJ9KGUuU3lzdGVtTGluZVBvc2l0aW9ufHwoZS5TeXN0ZW1MaW5lUG9zaXRpb249e30pKX0sZnVuY3Rpb24odCxlLGkpe1widXNlIHN0cmljdFwiO09iamVjdC5kZWZpbmVQcm9wZXJ0eShlLFwiX19lc01vZHVsZVwiLHt2YWx1ZTohMH0pO2NvbnN0IHM9aSg0Nyk7Y2xhc3MgbiBleHRlbmRzIHMuVm9pY2V7Y29uc3RydWN0b3IodCxlLGkpe3N1cGVyKHQsZSksdGhpcy5tYXN0ZXI9aX1nZXQgTWFzdGVyKCl7cmV0dXJuIHRoaXMubWFzdGVyfX1lLkxpbmtlZFZvaWNlPW59LGZ1bmN0aW9uKHQsZSxpKXtcInVzZSBzdHJpY3RcIjtPYmplY3QuZGVmaW5lUHJvcGVydHkoZSxcIl9fZXNNb2R1bGVcIix7dmFsdWU6ITB9KTtjb25zdCBzPWkoNSksbj1pKDMpO2NsYXNzIHIgZXh0ZW5kcyBzLkdyYXBoaWNhbE9iamVjdHtjb25zdHJ1Y3Rvcih0LGUsaSl7c3VwZXIoKSx0aGlzLmV4cHJlc3Npb249ZSx0aGlzLnBhcmVudE1lYXN1cmU9aSx0aGlzLmJvdW5kaW5nQm94PW5ldyBuLkJvdW5kaW5nQm94KHRoaXMsdC5Qb3NpdGlvbkFuZFNoYXBlKSx0aGlzLnBhcmVudFN0YWZmTGluZT10LHRoaXMucGFyZW50U3RhZmZMaW5lLkFic3RyYWN0RXhwcmVzc2lvbnMucHVzaCh0aGlzKSx0aGlzLnJ1bGVzPXQuUGFyZW50TXVzaWNTeXN0ZW0ucnVsZXN9Z2V0IExhYmVsKCl7cmV0dXJuIHRoaXMubGFiZWx9Z2V0IFBhcmVudFN0YWZmTGluZSgpe3JldHVybiB0aGlzLnBhcmVudFN0YWZmTGluZX1nZXQgU291cmNlRXhwcmVzc2lvbigpe3JldHVybiB0aGlzLmV4cHJlc3Npb259Z2V0IFBsYWNlbWVudCgpe3JldHVybiB0aGlzLmV4cHJlc3Npb24uUGxhY2VtZW50fX1lLkFic3RyYWN0R3JhcGhpY2FsRXhwcmVzc2lvbj1yfSxmdW5jdGlvbih0LGUsaSl7XCJ1c2Ugc3RyaWN0XCI7ZnVuY3Rpb24gcyh0KXtmb3IodmFyIGkgaW4gdCllLmhhc093blByb3BlcnR5KGkpfHwoZVtpXT10W2ldKX1PYmplY3QuZGVmaW5lUHJvcGVydHkoZSxcIl9fZXNNb2R1bGVcIix7dmFsdWU6ITB9KSxzKGkoMTAzKSkscyhpKDEwNCkpLHMoaSg0NCkpLHMoaSgzNykpLHMoaSgzMCkpLHMoaSg2MikpLHMoaSgxMDUpKSxzKGkoNDYpKSxzKGkoNjYpKSxzKGkoMjUpKSxzKGkoOTkpKSxzKGkoMTI2KSkscyhpKDc1KSkscyhpKDEyNykpLHMoaSg0OCkpLHMoaSg0NykpLHMoaSgxNikpLHMoaSgxNjgpKSxzKGkoMzApKSxzKGkoMTA1KSkscyhpKDY2KSkscyhpKDI1KSkscyhpKDQ4KSkscyhpKDc1KSl9LGZ1bmN0aW9uKHQsZSl7dmFyIGk7aT1mdW5jdGlvbigpe3JldHVybiB0aGlzfSgpO3RyeXtpPWl8fG5ldyBGdW5jdGlvbihcInJldHVybiB0aGlzXCIpKCl9Y2F0Y2godCl7XCJvYmplY3RcIj09dHlwZW9mIHdpbmRvdyYmKGk9d2luZG93KX10LmV4cG9ydHM9aX0sZnVuY3Rpb24odCxlLGkpe1widXNlIHN0cmljdFwiO09iamVjdC5kZWZpbmVQcm9wZXJ0eShlLFwiX19lc01vZHVsZVwiLHt2YWx1ZTohMH0pO2NvbnN0IHM9aSgyOCk7dmFyIG47IWZ1bmN0aW9uKHQpe3RbdC5OZXZlcj0wXT1cIk5ldmVyXCIsdFt0LkFsd2F5cz0xXT1cIkFsd2F5c1wiLHRbdC5BdXRvPTJdPVwiQXV0b1wifShlLkFsaWduUmVzdE9wdGlvbnx8KGUuQWxpZ25SZXN0T3B0aW9uPXt9KSksZnVuY3Rpb24odCl7dFt0Lk5vPTBdPVwiTm9cIix0W3QuWWVzVmlzaWJsZT0xXT1cIlllc1Zpc2libGVcIix0W3QuWWVzSW52aXNpYmxlPTJdPVwiWWVzSW52aXNpYmxlXCJ9KGUuRmlsbEVtcHR5TWVhc3VyZXNXaXRoV2hvbGVSZXN0c3x8KGUuRmlsbEVtcHR5TWVhc3VyZXNXaXRoV2hvbGVSZXN0cz17fSkpLGZ1bmN0aW9uKHQpe3RbdC5TVkc9MF09XCJTVkdcIix0W3QuQ2FudmFzPTFdPVwiQ2FudmFzXCJ9KG49ZS5CYWNrZW5kVHlwZXx8KGUuQmFja2VuZFR5cGU9e30pKTtlLk9TTURPcHRpb25zPWNsYXNze3N0YXRpYyBPU01ET3B0aW9uc1N0YW5kYXJkKCl7cmV0dXJue2F1dG9SZXNpemU6ITAsYmFja2VuZDpcInN2Z1wiLGRyYXdpbmdQYXJhbWV0ZXJzOnMuRHJhd2luZ1BhcmFtZXRlcnNFbnVtLmRlZmF1bHR9fXN0YXRpYyBCYWNrZW5kVHlwZUZyb21TdHJpbmcodCl7cmV0dXJuIHQmJlwiY2FudmFzXCI9PT10LnRvTG93ZXJDYXNlKCk/bi5DYW52YXM6bi5TVkd9fX0sZnVuY3Rpb24odCxlLGkpe1widXNlIHN0cmljdFwiO09iamVjdC5kZWZpbmVQcm9wZXJ0eShlLFwiX19lc01vZHVsZVwiLHt2YWx1ZTohMH0pO2NvbnN0IHM9aSgzKSxuPWkoNSkscj1pKDQpO2NsYXNzIG8gZXh0ZW5kcyBuLkdyYXBoaWNhbE9iamVjdHtjb25zdHJ1Y3Rvcih0KXtzdXBlcigpLHRoaXMubXVzaWNTeXN0ZW1zPVtdLHRoaXMubGFiZWxzPVtdLHRoaXMucGFyZW50PXQsdGhpcy5ib3VuZGluZ0JveD1uZXcgcy5Cb3VuZGluZ0JveCh0aGlzLHZvaWQgMCl9Z2V0IE11c2ljU3lzdGVtcygpe3JldHVybiB0aGlzLm11c2ljU3lzdGVtc31zZXQgTXVzaWNTeXN0ZW1zKHQpe3RoaXMubXVzaWNTeXN0ZW1zPXR9Z2V0IExhYmVscygpe3JldHVybiB0aGlzLmxhYmVsc31zZXQgTGFiZWxzKHQpe3RoaXMubGFiZWxzPXR9Z2V0IFBhcmVudCgpe3JldHVybiB0aGlzLnBhcmVudH1zZXQgUGFyZW50KHQpe3RoaXMucGFyZW50PXR9Z2V0IFBhZ2VOdW1iZXIoKXtyZXR1cm4gdGhpcy5wYWdlTnVtYmVyfXNldCBQYWdlTnVtYmVyKHQpe3RoaXMucGFnZU51bWJlcj10fXNldE11c2ljUGFnZUFic29sdXRlUG9zaXRpb24odCxlKXtyZXR1cm4gbmV3IHIuUG9pbnRGMkQoMCwwKX19ZS5HcmFwaGljYWxNdXNpY1BhZ2U9byxmdW5jdGlvbih0KXt0W3QuRG93bj0wXT1cIkRvd25cIix0W3QuUmlnaHQ9MV09XCJSaWdodFwiLHRbdC5SaWdodERvd249Ml09XCJSaWdodERvd25cIn0oZS5QYWdlUGxhY2VtZW50RW51bXx8KGUuUGFnZVBsYWNlbWVudEVudW09e30pKX0sZnVuY3Rpb24odCxlLGkpe1widXNlIHN0cmljdFwiO09iamVjdC5kZWZpbmVQcm9wZXJ0eShlLFwiX19lc01vZHVsZVwiLHt2YWx1ZTohMH0pO3ZhciBzPWkoMzUpO2UuYXJyYXlzPXM7dmFyIG49aSgxNDkpO2UuQmFnPW4uZGVmYXVsdDt2YXIgcj1pKDE1MCk7ZS5CU1RyZWU9ci5kZWZhdWx0O3ZhciBvPWkoODIpO2UuQlNUcmVlS1Y9by5kZWZhdWx0O3ZhciBhPWkoMTIpO2UuRGljdGlvbmFyeT1hLmRlZmF1bHQ7dmFyIGg9aSg4NCk7ZS5IZWFwPWguZGVmYXVsdDt2YXIgbD1pKDE1MSk7ZS5MaW5rZWREaWN0aW9uYXJ5PWwuZGVmYXVsdDt2YXIgYz1pKDU0KTtlLkxpbmtlZExpc3Q9Yy5kZWZhdWx0O3ZhciB1PWkoMTUyKTtlLk11bHRpRGljdGlvbmFyeT11LmRlZmF1bHQ7dmFyIGQ9aSg4NSk7ZS5GYWN0b3J5RGljdGlvbmFyeT1kLmRlZmF1bHQ7dmFyIGY9aSg4NSk7ZS5EZWZhdWx0RGljdGlvbmFyeT1mLmRlZmF1bHQ7dmFyIG09aSg4Myk7ZS5RdWV1ZT1tLmRlZmF1bHQ7dmFyIHA9aSgxNTMpO2UuUHJpb3JpdHlRdWV1ZT1wLmRlZmF1bHQ7dmFyIGc9aSg4MSk7ZS5TZXQ9Zy5kZWZhdWx0O3ZhciBiPWkoMTU0KTtlLlN0YWNrPWIuZGVmYXVsdDt2YXIgUz1pKDE1NSk7ZS5NdWx0aVJvb3RUcmVlPVMuZGVmYXVsdDt2YXIgeT1pKDkpO2UudXRpbD15fSxmdW5jdGlvbih0LGUsaSl7XCJ1c2Ugc3RyaWN0XCI7T2JqZWN0LmRlZmluZVByb3BlcnR5KGUsXCJfX2VzTW9kdWxlXCIse3ZhbHVlOiEwfSk7Y29uc3Qgcz1pKDIpLG49aSgxNCkscj1pKDIpO2UuQ2hvcmRTeW1ib2xDb250YWluZXI9Y2xhc3N7Y29uc3RydWN0b3IodCxlLGkscyxuKXt0aGlzLnJvb3RQaXRjaD10LHRoaXMuY2hvcmRLaW5kPWUsdGhpcy5iYXNzUGl0Y2g9aSx0aGlzLmRlZ3JlZT1zLHRoaXMucnVsZXM9bn1nZXQgUm9vdFBpdGNoKCl7cmV0dXJuIHRoaXMucm9vdFBpdGNofWdldCBDaG9yZEtpbmQoKXtyZXR1cm4gdGhpcy5jaG9yZEtpbmR9Z2V0IEJhc3NQaXRjaCgpe3JldHVybiB0aGlzLmJhc3NQaXRjaH1nZXQgQ2hvcmREZWdyZWUoKXtyZXR1cm4gdGhpcy5kZWdyZWV9c3RhdGljIGNhbGN1bGF0ZUNob3JkVGV4dCh0LGUsaSl7bGV0IGE9dC5Sb290UGl0Y2g7bi5NdXNpY1NoZWV0Q2FsY3VsYXRvci50cmFuc3Bvc2VDYWxjdWxhdG9yJiYoYT1uLk11c2ljU2hlZXRDYWxjdWxhdG9yLnRyYW5zcG9zZUNhbGN1bGF0b3IudHJhbnNwb3NlUGl0Y2godC5Sb290UGl0Y2gsaSxlKSk7bGV0IGg9cy5QaXRjaC5nZXROb3RlRW51bVN0cmluZyhhLkZ1bmRhbWVudGFsTm90ZSk7aWYoYS5BY2NpZGVudGFsIT09ci5BY2NpZGVudGFsRW51bS5OT05FJiYoaCs9dGhpcy5nZXRUZXh0Rm9yQWNjaWRlbnRhbChhLkFjY2lkZW50YWwpKSxoKz10LmdldFRleHRGcm9tQ2hvcmRLaW5kRW51bSh0LkNob3JkS2luZCksdC5DaG9yZERlZ3JlZSlzd2l0Y2godC5DaG9yZERlZ3JlZS50ZXh0KXtjYXNlIG8uYWRkOmgrPVwiYWRkXCIsaCs9dC5DaG9yZERlZ3JlZS52YWx1ZS50b1N0cmluZygpO2JyZWFrO2Nhc2Ugby5hbHRlcjp0LkNob3JkRGVncmVlLmFsdGVyYXRpb24hPT1yLkFjY2lkZW50YWxFbnVtLk5PTkUmJihoKz10aGlzLmdldFRleHRGb3JBY2NpZGVudGFsKHQuQ2hvcmREZWdyZWUuYWx0ZXJhdGlvbikpLGgrPXQuQ2hvcmREZWdyZWUudmFsdWUudG9TdHJpbmcoKTticmVhaztjYXNlIG8uc3VidHJhY3Q6aCs9XCIob21pdFwiLGgrPXQuQ2hvcmREZWdyZWUudmFsdWUudG9TdHJpbmcoKSxoKz1cIilcIn1pZih0LkJhc3NQaXRjaCl7bGV0IHI9dC5CYXNzUGl0Y2g7bi5NdXNpY1NoZWV0Q2FsY3VsYXRvci50cmFuc3Bvc2VDYWxjdWxhdG9yJiYocj1uLk11c2ljU2hlZXRDYWxjdWxhdG9yLnRyYW5zcG9zZUNhbGN1bGF0b3IudHJhbnNwb3NlUGl0Y2godC5CYXNzUGl0Y2gsaSxlKSksaCs9XCIvXCIsaCs9cy5QaXRjaC5nZXROb3RlRW51bVN0cmluZyhyLkZ1bmRhbWVudGFsTm90ZSksaCs9dGhpcy5nZXRUZXh0Rm9yQWNjaWRlbnRhbChyLkFjY2lkZW50YWwpfXJldHVybiBofXN0YXRpYyBnZXRUZXh0Rm9yQWNjaWRlbnRhbCh0KXtsZXQgZT1cIlwiO3N3aXRjaCh0KXtjYXNlIHIuQWNjaWRlbnRhbEVudW0uRE9VQkxFRkxBVDplKz1cImJiXCI7YnJlYWs7Y2FzZSByLkFjY2lkZW50YWxFbnVtLkZMQVQ6ZSs9XCJiXCI7YnJlYWs7Y2FzZSByLkFjY2lkZW50YWxFbnVtLlNIQVJQOmUrPVwiI1wiO2JyZWFrO2Nhc2Ugci5BY2NpZGVudGFsRW51bS5ET1VCTEVTSEFSUDplKz1cInhcIn1yZXR1cm4gZX1nZXRUZXh0RnJvbUNob3JkS2luZEVudW0odCl7dmFyIGU7cmV0dXJuIG51bGwhPT0oZT10aGlzLnJ1bGVzLkNob3JkU3ltYm9sTGFiZWxUZXh0cy5nZXRWYWx1ZSh0KSkmJnZvaWQgMCE9PWU/ZTpcIlwifX07dmFyIG87ZS5EZWdyZWU9Y2xhc3N7Y29uc3RydWN0b3IodCxlLGkpe3RoaXMudmFsdWU9dCx0aGlzLmFsdGVyYXRpb249ZSx0aGlzLnRleHQ9aX19LGZ1bmN0aW9uKHQpe3RbdC5hZGQ9MF09XCJhZGRcIix0W3QuYWx0ZXI9MV09XCJhbHRlclwiLHRbdC5zdWJ0cmFjdD0yXT1cInN1YnRyYWN0XCJ9KG89ZS5DaG9yZERlZ3JlZVRleHR8fChlLkNob3JkRGVncmVlVGV4dD17fSkpLGZ1bmN0aW9uKHQpe3RbdC5tYWpvcj0wXT1cIm1ham9yXCIsdFt0Lm1pbm9yPTFdPVwibWlub3JcIix0W3QuYXVnbWVudGVkPTJdPVwiYXVnbWVudGVkXCIsdFt0LmRpbWluaXNoZWQ9M109XCJkaW1pbmlzaGVkXCIsdFt0LmRvbWluYW50PTRdPVwiZG9taW5hbnRcIix0W3QubWFqb3JzZXZlbnRoPTVdPVwibWFqb3JzZXZlbnRoXCIsdFt0Lm1pbm9yc2V2ZW50aD02XT1cIm1pbm9yc2V2ZW50aFwiLHRbdC5kaW1pbmlzaGVkc2V2ZW50aD03XT1cImRpbWluaXNoZWRzZXZlbnRoXCIsdFt0LmF1Z21lbnRlZHNldmVudGg9OF09XCJhdWdtZW50ZWRzZXZlbnRoXCIsdFt0LmhhbGZkaW1pbmlzaGVkPTldPVwiaGFsZmRpbWluaXNoZWRcIix0W3QubWFqb3JtaW5vcj0xMF09XCJtYWpvcm1pbm9yXCIsdFt0Lm1ham9yc2l4dGg9MTFdPVwibWFqb3JzaXh0aFwiLHRbdC5taW5vcnNpeHRoPTEyXT1cIm1pbm9yc2l4dGhcIix0W3QuZG9taW5hbnRuaW50aD0xM109XCJkb21pbmFudG5pbnRoXCIsdFt0Lm1ham9ybmludGg9MTRdPVwibWFqb3JuaW50aFwiLHRbdC5taW5vcm5pbnRoPTE1XT1cIm1pbm9ybmludGhcIix0W3QuZG9taW5hbnQxMXRoPTE2XT1cImRvbWluYW50MTF0aFwiLHRbdC5tYWpvcjExdGg9MTddPVwibWFqb3IxMXRoXCIsdFt0Lm1pbm9yMTF0aD0xOF09XCJtaW5vcjExdGhcIix0W3QuZG9taW5hbnQxM3RoPTE5XT1cImRvbWluYW50MTN0aFwiLHRbdC5tYWpvcjEzdGg9MjBdPVwibWFqb3IxM3RoXCIsdFt0Lm1pbm9yMTN0aD0yMV09XCJtaW5vcjEzdGhcIix0W3Quc3VzcGVuZGVkc2Vjb25kPTIyXT1cInN1c3BlbmRlZHNlY29uZFwiLHRbdC5zdXNwZW5kZWRmb3VydGg9MjNdPVwic3VzcGVuZGVkZm91cnRoXCIsdFt0Lk5lYXBvbGl0YW49MjRdPVwiTmVhcG9saXRhblwiLHRbdC5JdGFsaWFuPTI1XT1cIkl0YWxpYW5cIix0W3QuRnJlbmNoPTI2XT1cIkZyZW5jaFwiLHRbdC5HZXJtYW49MjddPVwiR2VybWFuXCIsdFt0LnBlZGFsPTI4XT1cInBlZGFsXCIsdFt0LnBvd2VyPTI5XT1cInBvd2VyXCIsdFt0LlRyaXN0YW49MzBdPVwiVHJpc3RhblwifShlLkNob3JkU3ltYm9sRW51bXx8KGUuQ2hvcmRTeW1ib2xFbnVtPXt9KSl9LGZ1bmN0aW9uKHQsZSxpKXtcInVzZSBzdHJpY3RcIjtPYmplY3QuZGVmaW5lUHJvcGVydHkoZSxcIl9fZXNNb2R1bGVcIix7dmFsdWU6ITB9KTtlLkFic3RyYWN0Tm90YXRpb25JbnN0cnVjdGlvbj1jbGFzc3tjb25zdHJ1Y3Rvcih0KXt0aGlzLnByaW50T2JqZWN0PSEwLHRoaXMucGFyZW50PXR9Z2V0IFBhcmVudCgpe3JldHVybiB0aGlzLnBhcmVudH1zZXQgUGFyZW50KHQpe3RoaXMucGFyZW50PXR9Z2V0IFByaW50T2JqZWN0KCl7cmV0dXJuIHRoaXMucHJpbnRPYmplY3R9c2V0IFByaW50T2JqZWN0KHQpe3RoaXMucHJpbnRPYmplY3Q9dH19fSxmdW5jdGlvbih0LGUsaSl7XCJ1c2Ugc3RyaWN0XCI7T2JqZWN0LmRlZmluZVByb3BlcnR5KGUsXCJfX2VzTW9kdWxlXCIse3ZhbHVlOiEwfSk7Y29uc3Qgcz1pKDIpO2UuT3JuYW1lbnRDb250YWluZXI9Y2xhc3N7Y29uc3RydWN0b3IodCl7dGhpcy5hY2NpZGVudGFsQWJvdmU9cy5BY2NpZGVudGFsRW51bS5OT05FLHRoaXMuYWNjaWRlbnRhbEJlbG93PXMuQWNjaWRlbnRhbEVudW0uTk9ORSx0aGlzLm9ybmFtZW50PXR9Z2V0IEdldE9ybmFtZW50KCl7cmV0dXJuIHRoaXMub3JuYW1lbnR9Z2V0IEFjY2lkZW50YWxBYm92ZSgpe3JldHVybiB0aGlzLmFjY2lkZW50YWxBYm92ZX1zZXQgQWNjaWRlbnRhbEFib3ZlKHQpe3RoaXMuYWNjaWRlbnRhbEFib3ZlPXR9Z2V0IEFjY2lkZW50YWxCZWxvdygpe3JldHVybiB0aGlzLmFjY2lkZW50YWxCZWxvd31zZXQgQWNjaWRlbnRhbEJlbG93KHQpe3RoaXMuYWNjaWRlbnRhbEJlbG93PXR9fSxmdW5jdGlvbih0KXt0W3QuVHJpbGw9MF09XCJUcmlsbFwiLHRbdC5UdXJuPTFdPVwiVHVyblwiLHRbdC5JbnZlcnRlZFR1cm49Ml09XCJJbnZlcnRlZFR1cm5cIix0W3QuRGVsYXllZFR1cm49M109XCJEZWxheWVkVHVyblwiLHRbdC5EZWxheWVkSW52ZXJ0ZWRUdXJuPTRdPVwiRGVsYXllZEludmVydGVkVHVyblwiLHRbdC5Nb3JkZW50PTVdPVwiTW9yZGVudFwiLHRbdC5JbnZlcnRlZE1vcmRlbnQ9Nl09XCJJbnZlcnRlZE1vcmRlbnRcIn0oZS5Pcm5hbWVudEVudW18fChlLk9ybmFtZW50RW51bT17fSkpfSxmdW5jdGlvbih0LGUsaSl7XCJ1c2Ugc3RyaWN0XCI7T2JqZWN0LmRlZmluZVByb3BlcnR5KGUsXCJfX2VzTW9kdWxlXCIse3ZhbHVlOiEwfSk7ZS5Wb2ljZT1jbGFzc3tjb25zdHJ1Y3Rvcih0LGUpe3RoaXMudm9pY2VFbnRyaWVzPVtdLHRoaXMudm9sdW1lPTEsdGhpcy5wYXJlbnQ9dCx0aGlzLnZpc2libGU9ITAsdGhpcy5hdWRpYmxlPSEwLHRoaXMuZm9sbG93aW5nPSEwLHRoaXMudm9pY2VJZD1lfWdldCBWb2ljZUVudHJpZXMoKXtyZXR1cm4gdGhpcy52b2ljZUVudHJpZXN9Z2V0IFBhcmVudCgpe3JldHVybiB0aGlzLnBhcmVudH1nZXQgVmlzaWJsZSgpe3JldHVybiB0aGlzLnZpc2libGV9c2V0IFZpc2libGUodCl7dGhpcy52aXNpYmxlPXR9Z2V0IEF1ZGlibGUoKXtyZXR1cm4gdGhpcy5hdWRpYmxlfXNldCBBdWRpYmxlKHQpe3RoaXMuYXVkaWJsZT10fWdldCBGb2xsb3dpbmcoKXtyZXR1cm4gdGhpcy5mb2xsb3dpbmd9c2V0IEZvbGxvd2luZyh0KXt0aGlzLmZvbGxvd2luZz10fWdldCBWb2ljZUlkKCl7cmV0dXJuIHRoaXMudm9pY2VJZH1nZXQgVm9sdW1lKCl7cmV0dXJuIHRoaXMudm9sdW1lfXNldCBWb2x1bWUodCl7dGhpcy52b2x1bWU9dH19fSxmdW5jdGlvbih0LGUsaSl7XCJ1c2Ugc3RyaWN0XCI7T2JqZWN0LmRlZmluZVByb3BlcnR5KGUsXCJfX2VzTW9kdWxlXCIse3ZhbHVlOiEwfSk7Y29uc3Qgcz1pKDApO2UuVmVydGljYWxTb3VyY2VTdGFmZkVudHJ5Q29udGFpbmVyPWNsYXNze2NvbnN0cnVjdG9yKHQsZSxpKXt0aGlzLnN0YWZmRW50cmllcz1bXSx0aGlzLmNvbW1lbnRzPVtdLHRoaXMudGltZXN0YW1wPWUsdGhpcy5zdGFmZkVudHJpZXM9bmV3IEFycmF5KGkpLHRoaXMucGFyZW50TWVhc3VyZT10fSRnZXQkKHQpe3JldHVybiB0aGlzLnN0YWZmRW50cmllc1t0XX0kc2V0JCh0LGUpe3RoaXMuc3RhZmZFbnRyaWVzW3RdPWV9Z2V0IFRpbWVzdGFtcCgpe3JldHVybiB0aGlzLnRpbWVzdGFtcH1zZXQgVGltZXN0YW1wKHQpe3RoaXMudGltZXN0YW1wPXR9Z2V0IFN0YWZmRW50cmllcygpe3JldHVybiB0aGlzLnN0YWZmRW50cmllc31zZXQgU3RhZmZFbnRyaWVzKHQpe3RoaXMuc3RhZmZFbnRyaWVzPXR9Z2V0IENvbW1lbnRzKCl7cmV0dXJuIHRoaXMuY29tbWVudHN9c2V0IENvbW1lbnRzKHQpe3RoaXMuY29tbWVudHM9dH1nZXQgUGFyZW50TWVhc3VyZSgpe3JldHVybiB0aGlzLnBhcmVudE1lYXN1cmV9c2V0IFBhcmVudE1lYXN1cmUodCl7dGhpcy5wYXJlbnRNZWFzdXJlPXR9Z2V0QWJzb2x1dGVUaW1lc3RhbXAoKXtyZXR1cm4gcy5GcmFjdGlvbi5wbHVzKHRoaXMudGltZXN0YW1wLHRoaXMucGFyZW50TWVhc3VyZS5BYnNvbHV0ZVRpbWVzdGFtcCl9fX0sZnVuY3Rpb24odCxlLGkpe1widXNlIHN0cmljdFwiO3ZhciBzPXRoaXMmJnRoaXMuX19pbXBvcnREZWZhdWx0fHxmdW5jdGlvbih0KXtyZXR1cm4gdCYmdC5fX2VzTW9kdWxlP3Q6e2RlZmF1bHQ6dH19O09iamVjdC5kZWZpbmVQcm9wZXJ0eShlLFwiX19lc01vZHVsZVwiLHt2YWx1ZTohMH0pO2NvbnN0IG49aSgyMCkscj1pKDMzKSxvPWkoNCksYT1pKDM4KSxoPWkoNiksbD1zKGkoMSkpO2NsYXNzIGMgZXh0ZW5kcyBhLkFic3RyYWN0R3JhcGhpY2FsRXhwcmVzc2lvbntjb25zdHJ1Y3Rvcih0LGUsaSl7c3VwZXIoZSx0LGkpLHRoaXMubGluZXM9W10sdGhpcy5pc1NwbGl0dGVkUGFydD0hMSx0aGlzLm5vdFRvQmVSZW1vdmVkPSExfWdldCBTdGFydE1lYXN1cmUoKXtyZXR1cm4gdGhpcy5zdGFydE1lYXN1cmV9c2V0IFN0YXJ0TWVhc3VyZSh0KXt0aGlzLnN0YXJ0TWVhc3VyZT10fWdldCBFbmRNZWFzdXJlKCl7cmV0dXJuIHRoaXMuZW5kTWVhc3VyZX1zZXQgRW5kTWVhc3VyZSh0KXt0aGlzLmVuZE1lYXN1cmU9dH1nZXQgRW5kU3RhZmZMaW5lKCl7cmV0dXJuIHRoaXMuZW5kTWVhc3VyZT90aGlzLmVuZE1lYXN1cmUuUGFyZW50U3RhZmZMaW5lOnZvaWQgMH1nZXQgSXNTcGxpdHRlZFBhcnQoKXtyZXR1cm4gdGhpcy5pc1NwbGl0dGVkUGFydH1zZXQgSXNTcGxpdHRlZFBhcnQodCl7dGhpcy5pc1NwbGl0dGVkUGFydD10fWdldCBJc1ZlcmJhbCgpe3JldHVybiB0aGlzLkNvbnRpbnVvdXNEeW5hbWljLkxhYmVsJiZ0aGlzLkNvbnRpbnVvdXNEeW5hbWljLkxhYmVsLmxlbmd0aD4wfWdldCBOb3RUb0JlUmVtb3ZlZCgpe3JldHVybiB0aGlzLm5vdFRvQmVSZW1vdmVkfXNldCBOb3RUb0JlUmVtb3ZlZCh0KXt0aGlzLm5vdFRvQmVSZW1vdmVkPXR9Z2V0IExpbmVzKCl7cmV0dXJuIHRoaXMubGluZXN9Z2V0IENvbnRpbnVvdXNEeW5hbWljKCl7cmV0dXJuIHRoaXMuU291cmNlRXhwcmVzc2lvbn11cGRhdGVTa3lCb3R0b21MaW5lKCl7dmFyIHQ7Y29uc3QgZT10aGlzLnBhcmVudFN0YWZmTGluZS5Ta3lCb3R0b21MaW5lQ2FsY3VsYXRvcixpPXRoaXMuSXNWZXJiYWw/dGhpcy5sYWJlbC5Qb3NpdGlvbkFuZFNoYXBlLlJlbGF0aXZlUG9zaXRpb24ueCt0aGlzLmxhYmVsLlBvc2l0aW9uQW5kU2hhcGUuQm9yZGVyTWFyZ2luTGVmdDowLHM9dGhpcy5Jc1ZlcmJhbD90aGlzLmxhYmVsLlBvc2l0aW9uQW5kU2hhcGUuUmVsYXRpdmVQb3NpdGlvbi54K3RoaXMubGFiZWwuUG9zaXRpb25BbmRTaGFwZS5Cb3JkZXJNYXJnaW5SaWdodDowO3N3aXRjaCghdGhpcy5Jc1ZlcmJhbCYmdGhpcy5saW5lcy5sZW5ndGg8MiYmbC5kZWZhdWx0Lndhcm4oXCJOb3QgZW5vdWdoIGxpbmVzIGZvciBTa3lCb3R0b21MaW5lIGNhbGN1bGF0aW9uXCIpLHRoaXMuSXNWZXJiYWx8fHRoaXMuQ29udGludW91c0R5bmFtaWMuRHluYW1pY1R5cGUhPT1yLkNvbnREeW5hbWljRW51bS5jcmVzY2VuZG8mJnRoaXMuQ29udGludW91c0R5bmFtaWMuRHluYW1pY1R5cGUhPT1yLkNvbnREeW5hbWljRW51bS5kaW1pbnVlbmRvJiZsLmRlZmF1bHQud2FybihcIkdyYXBoaWNhbENvbnRpbnVvdXNEeW5hbWljRXhwcmVzc2lvbi51cGRhdGVTa3lCb3R0b21MaW5lKCk6IHVuaGFuZGxlZCBjb250aW51b3VzIGR5bmFtaWMgdHlwZS4gc3RhcnQgbWVhc3VyZTogXCIrKG51bGw9PT0odD10aGlzLnN0YXJ0TWVhc3VyZSl8fHZvaWQgMD09PXQ/dm9pZCAwOnQuTWVhc3VyZU51bWJlcikpLHRoaXMuUGxhY2VtZW50KXtjYXNlIGguUGxhY2VtZW50RW51bS5BYm92ZTppZih0aGlzLklzVmVyYmFsKXtjb25zdCB0PXRoaXMubGFiZWwuUG9zaXRpb25BbmRTaGFwZS5Cb3JkZXJNYXJnaW5Ub3ArdGhpcy5sYWJlbC5Qb3NpdGlvbkFuZFNoYXBlLlJlbGF0aXZlUG9zaXRpb24ueTtlLnVwZGF0ZVNreUxpbmVJblJhbmdlKGkscyx0KX1lbHNlIHRoaXMuQ29udGludW91c0R5bmFtaWMuRHluYW1pY1R5cGU9PT1yLkNvbnREeW5hbWljRW51bS5jcmVzY2VuZG8/ZS51cGRhdGVTa3lMaW5lV2l0aFdlZGdlKHRoaXMubGluZXNbMF0uU3RhcnQsdGhpcy5saW5lc1swXS5FbmQpOnRoaXMuQ29udGludW91c0R5bmFtaWMuRHluYW1pY1R5cGU9PT1yLkNvbnREeW5hbWljRW51bS5kaW1pbnVlbmRvJiZlLnVwZGF0ZVNreUxpbmVXaXRoV2VkZ2UodGhpcy5saW5lc1swXS5FbmQsdGhpcy5saW5lc1swXS5TdGFydCk7YnJlYWs7Y2FzZSBoLlBsYWNlbWVudEVudW0uQmVsb3c6aWYodGhpcy5Jc1ZlcmJhbCl7Y29uc3QgdD10aGlzLmxhYmVsLlBvc2l0aW9uQW5kU2hhcGUuQm9yZGVyTWFyZ2luQm90dG9tK3RoaXMubGFiZWwuUG9zaXRpb25BbmRTaGFwZS5SZWxhdGl2ZVBvc2l0aW9uLnk7ZS51cGRhdGVCb3R0b21MaW5lSW5SYW5nZShpLHMsdCl9ZWxzZSB0aGlzLkNvbnRpbnVvdXNEeW5hbWljLkR5bmFtaWNUeXBlPT09ci5Db250RHluYW1pY0VudW0uY3Jlc2NlbmRvP2UudXBkYXRlQm90dG9tTGluZVdpdGhXZWRnZSh0aGlzLmxpbmVzWzFdLlN0YXJ0LHRoaXMubGluZXNbMV0uRW5kKTp0aGlzLkNvbnRpbnVvdXNEeW5hbWljLkR5bmFtaWNUeXBlPT09ci5Db250RHluYW1pY0VudW0uZGltaW51ZW5kbyYmZS51cGRhdGVCb3R0b21MaW5lV2l0aFdlZGdlKHRoaXMubGluZXNbMV0uRW5kLHRoaXMubGluZXNbMV0uU3RhcnQpO2JyZWFrO2RlZmF1bHQ6bC5kZWZhdWx0LmVycm9yKFwiUGxhY2VtZW50IGZvciBHcmFwaGljYWxDb250aW51b3VzRHluYW1pY0V4cHJlc3Npb24gaXMgdW5rbm93blwiKX19Y3JlYXRlQ3Jlc2NlbmRvTGluZXModCxlLGkscz10aGlzLnJ1bGVzLldlZGdlT3BlbmluZ0xlbmd0aCxuPXRoaXMucnVsZXMuV2VkZ2VMaW5lV2lkdGgpe2NvbnN0IHI9bmV3IG8uUG9pbnRGMkQodCxpKSxhPW5ldyBvLlBvaW50RjJEKGUsaS1zLzIpLGg9bmV3IG8uUG9pbnRGMkQoZSxpK3MvMik7dGhpcy5hZGRXZWRnZUxpbmVzKHIsYSxoLG4pfWNyZWF0ZUZpcnN0SGFsZkNyZXNjZW5kb0xpbmVzKHQsZSxpLHM9dGhpcy5ydWxlcy5XZWRnZU1lYXN1cmVFbmRPcGVuaW5nTGVuZ3RoLG49dGhpcy5ydWxlcy5XZWRnZUxpbmVXaWR0aCl7Y29uc3Qgcj1uZXcgby5Qb2ludEYyRCh0LGkpLGE9bmV3IG8uUG9pbnRGMkQoZSxpLXMvMiksaD1uZXcgby5Qb2ludEYyRChlLGkrcy8yKTt0aGlzLmFkZFdlZGdlTGluZXMocixhLGgsbil9Y3JlYXRlU2Vjb25kSGFsZkNyZXNjZW5kb0xpbmVzKHQsZSxpLHM9dGhpcy5ydWxlcy5XZWRnZU1lYXN1cmVCZWdpbk9wZW5pbmdMZW5ndGgsbj10aGlzLnJ1bGVzLldlZGdlT3BlbmluZ0xlbmd0aCxyPXRoaXMucnVsZXMuV2VkZ2VMaW5lV2lkdGgpe2NvbnN0IGE9bmV3IG8uUG9pbnRGMkQodCxpLXMvMiksaD1uZXcgby5Qb2ludEYyRCh0LGkrcy8yKSxsPW5ldyBvLlBvaW50RjJEKGUsaS1uLzIpLGM9bmV3IG8uUG9pbnRGMkQoZSxpK24vMik7dGhpcy5hZGREb3VibGVMaW5lcyhhLGwsaCxjLHIpfXJlY2FsY3VsYXRlQ3Jlc2NlbmRvTGluZXModCxlLGkpe2NvbnN0IHM9TWF0aC5hYnModGhpcy5saW5lc1swXS5TdGFydC55LXRoaXMubGluZXNbMV0uU3RhcnQueSk+MWUtNDt0aGlzLmxpbmVzLmNsZWFyKCkscz90aGlzLmNyZWF0ZVNlY29uZEhhbGZDcmVzY2VuZG9MaW5lcyh0LGUsaSk6dGhpcy5pc1NwbGl0dGVkUGFydD90aGlzLmNyZWF0ZUZpcnN0SGFsZkNyZXNjZW5kb0xpbmVzKHQsZSxpKTp0aGlzLmNyZWF0ZUNyZXNjZW5kb0xpbmVzKHQsZSxpKX1jcmVhdGVEaW1pbnVlbmRvTGluZXModCxlLGkscz10aGlzLnJ1bGVzLldlZGdlT3BlbmluZ0xlbmd0aCxuPXRoaXMucnVsZXMuV2VkZ2VMaW5lV2lkdGgpe2NvbnN0IHI9bmV3IG8uUG9pbnRGMkQodCxpLXMvMiksYT1uZXcgby5Qb2ludEYyRCh0LGkrcy8yKSxoPW5ldyBvLlBvaW50RjJEKGUsaSk7dGhpcy5hZGRXZWRnZUxpbmVzKGgscixhLG4pfWNyZWF0ZUZpcnN0SGFsZkRpbWludWVuZG9MaW5lcyh0LGUsaSxzPXRoaXMucnVsZXMuV2VkZ2VPcGVuaW5nTGVuZ3RoLG49dGhpcy5ydWxlcy5XZWRnZU1lYXN1cmVFbmRPcGVuaW5nTGVuZ3RoLHI9dGhpcy5ydWxlcy5XZWRnZUxpbmVXaWR0aCl7Y29uc3QgYT1uZXcgby5Qb2ludEYyRCh0LGktcy8yKSxoPW5ldyBvLlBvaW50RjJEKHQsaStzLzIpLGw9bmV3IG8uUG9pbnRGMkQoZSxpLW4vMiksYz1uZXcgby5Qb2ludEYyRChlLGkrbi8yKTt0aGlzLmFkZERvdWJsZUxpbmVzKGEsbCxoLGMscil9Y3JlYXRlU2Vjb25kSGFsZkRpbWludWVuZG9MaW5lcyh0LGUsaSxzPXRoaXMucnVsZXMuV2VkZ2VNZWFzdXJlQmVnaW5PcGVuaW5nTGVuZ3RoLG49dGhpcy5ydWxlcy5XZWRnZUxpbmVXaWR0aCl7Y29uc3Qgcj1uZXcgby5Qb2ludEYyRCh0LGktcy8yKSxhPW5ldyBvLlBvaW50RjJEKHQsaStzLzIpLGg9bmV3IG8uUG9pbnRGMkQoZSxpKTt0aGlzLmFkZFdlZGdlTGluZXMoaCxyLGEsbil9cmVjYWxjdWxhdGVEaW1pbnVlbmRvTGluZXModCxlLGkpe2NvbnN0IHM9TWF0aC5hYnModGhpcy5saW5lc1swXS5FbmQueS10aGlzLmxpbmVzWzFdLkVuZC55KT4xZS00O3RoaXMubGluZXMuY2xlYXIoKSxzP3RoaXMuY3JlYXRlRmlyc3RIYWxmRGltaW51ZW5kb0xpbmVzKHQsZSxpKTp0aGlzLmlzU3BsaXR0ZWRQYXJ0P3RoaXMuY3JlYXRlU2Vjb25kSGFsZkRpbWludWVuZG9MaW5lcyh0LGUsaSk6dGhpcy5jcmVhdGVEaW1pbnVlbmRvTGluZXModCxlLGkpfWNhbGNQc2koKXt0aGlzLklzVmVyYmFsP3RoaXMuUG9zaXRpb25BbmRTaGFwZS5jYWxjdWxhdGVCb3VuZGluZ0JveCgpOih0aGlzLlBvc2l0aW9uQW5kU2hhcGUuUmVsYXRpdmVQb3NpdGlvbj10aGlzLmxpbmVzWzBdLlN0YXJ0LHRoaXMuUG9zaXRpb25BbmRTaGFwZS5Cb3JkZXJNYXJnaW5Ub3A9dGhpcy5saW5lc1swXS5FbmQueS10aGlzLmxpbmVzWzBdLlN0YXJ0LnksdGhpcy5Qb3NpdGlvbkFuZFNoYXBlLkJvcmRlck1hcmdpbkJvdHRvbT10aGlzLmxpbmVzWzFdLkVuZC55LXRoaXMubGluZXNbMV0uU3RhcnQueSx0aGlzLlBvc2l0aW9uQW5kU2hhcGUuQ2VudGVyLnk9KHRoaXMuUG9zaXRpb25BbmRTaGFwZS5Cb3JkZXJNYXJnaW5Ub3ArdGhpcy5Qb3NpdGlvbkFuZFNoYXBlLkJvcmRlck1hcmdpbkJvdHRvbSkvMix0aGlzLkNvbnRpbnVvdXNEeW5hbWljLkR5bmFtaWNUeXBlPT09ci5Db250RHluYW1pY0VudW0uY3Jlc2NlbmRvPyh0aGlzLlBvc2l0aW9uQW5kU2hhcGUuQm9yZGVyTWFyZ2luTGVmdD0wLHRoaXMuUG9zaXRpb25BbmRTaGFwZS5Cb3JkZXJNYXJnaW5SaWdodD10aGlzLmxpbmVzWzBdLkVuZC54LXRoaXMubGluZXNbMF0uU3RhcnQueCk6KHRoaXMuUG9zaXRpb25BbmRTaGFwZS5Cb3JkZXJNYXJnaW5MZWZ0PXRoaXMubGluZXNbMF0uRW5kLngtdGhpcy5saW5lc1swXS5TdGFydC54LHRoaXMuUG9zaXRpb25BbmRTaGFwZS5Cb3JkZXJNYXJnaW5SaWdodD0wKSl9Y2xlYW5VcCgpe3RoaXMubGluZXMuY2xlYXIoKX1zaGlmdFlQb3NpdGlvbih0KXt0aGlzLklzVmVyYmFsPyh0aGlzLlBvc2l0aW9uQW5kU2hhcGUuUmVsYXRpdmVQb3NpdGlvbi55Kz10LHRoaXMuUG9zaXRpb25BbmRTaGFwZS5jYWxjdWxhdGVCb3VuZGluZ0JveCgpKToodGhpcy5saW5lc1swXS5TdGFydC55Kz10LHRoaXMubGluZXNbMF0uRW5kLnkrPXQsdGhpcy5saW5lc1sxXS5FbmQueSs9dCl9c3F1ZWV6ZSh0KXtpZih0aGlzLklzVmVyYmFsKXJldHVybjtNYXRoLmFicyh0aGlzLmxpbmVzWzBdLkVuZC54LXRoaXMubGluZXNbMF0uU3RhcnQueCk8TWF0aC5hYnModCl8fCh0aGlzLkNvbnRpbnVvdXNEeW5hbWljLkR5bmFtaWNUeXBlPT09ci5Db250RHluYW1pY0VudW0uY3Jlc2NlbmRvP3Q+MD90aGlzLmxpbmVzWzBdLlN0YXJ0LngrPXQ6KHRoaXMubGluZXNbMF0uRW5kLngrPXQsdGhpcy5saW5lc1sxXS5FbmQueCs9dCk6dDwwP3RoaXMubGluZXNbMF0uU3RhcnQueCs9dDoodGhpcy5saW5lc1swXS5FbmQueCs9dCx0aGlzLmxpbmVzWzFdLkVuZC54Kz10KSx0aGlzLmNhbGNQc2koKSl9YWRkV2VkZ2VMaW5lcyh0LGUsaSxzKXtjb25zdCByPW5ldyBuLkdyYXBoaWNhbExpbmUodCxlLHMpLG89bmV3IG4uR3JhcGhpY2FsTGluZSh0LGkscyk7dGhpcy5saW5lcy5wdXNoKHIpLHRoaXMubGluZXMucHVzaChvKX1hZGREb3VibGVMaW5lcyh0LGUsaSxzLHIpe2NvbnN0IG89bmV3IG4uR3JhcGhpY2FsTGluZSh0LGUsciksYT1uZXcgbi5HcmFwaGljYWxMaW5lKGkscyxyKTt0aGlzLmxpbmVzLnB1c2gobyksdGhpcy5saW5lcy5wdXNoKGEpfX1lLkdyYXBoaWNhbENvbnRpbnVvdXNEeW5hbWljRXhwcmVzc2lvbj1jfSxmdW5jdGlvbih0LGUsaSl7XCJ1c2Ugc3RyaWN0XCI7ZnVuY3Rpb24gcyh0KXtmb3IodmFyIGkgaW4gdCllLmhhc093blByb3BlcnR5KGkpfHwoZVtpXT10W2ldKX1PYmplY3QuZGVmaW5lUHJvcGVydHkoZSxcIl9fZXNNb2R1bGVcIix7dmFsdWU6ITB9KSxzKGkoMzgpKSxzKGkoMTU3KSkscyhpKDkyKSkscyhpKDEwNikpLHMoaSgzKSkscyhpKDkwKSkscyhpKDIxKSkscyhpKDEwMikpLHMoaSgyOCkpLHMoaSgyOSkpLHMoaSgxMDcpKSxzKGkoMTU4KSkscyhpKDQ5KSkscyhpKDEwOCkpLHMoaSg2NSkpLHMoaSg1NikpLHMoaSgyMikpLHMoaSgyMCkpLHMoaSgxMDkpKSxzKGkoMTEwKSkscyhpKDE1OSkpLHMoaSgxMTEpKSxzKGkoNDIpKSxzKGkoNTUpKSxzKGkoMTEyKSkscyhpKDUpKSxzKGkoMTEzKSkscyhpKDE2MCkpLHMoaSgxMTQpKSxzKGkoMTE1KSkscyhpKDE2MikpLHMoaSgxMTYpKSxzKGkoMTE3KSkscyhpKDE0KSkscyhpKDEwMSkpLHMoaSg2MykpLHMoaSg5OCkpLHMoaSg4OSkpLHMoaSg5MSkpLHMoaSgxNjMpKSxzKGkoMTY0KSkscyhpKDExOCkpLHMoaSgxMTkpKSxzKGkoNTMpKSxzKGkoMTAwKSkscyhpKDM2KSkscyhpKDMyKSkscyhpKDg4KSkscyhpKDE2NSkpfSxmdW5jdGlvbih0LGUsaSl7XCJ1c2Ugc3RyaWN0XCI7dmFyIHM9dGhpcyYmdGhpcy5fX2ltcG9ydERlZmF1bHR8fGZ1bmN0aW9uKHQpe3JldHVybiB0JiZ0Ll9fZXNNb2R1bGU/dDp7ZGVmYXVsdDp0fX07T2JqZWN0LmRlZmluZVByb3BlcnR5KGUsXCJfX2VzTW9kdWxlXCIse3ZhbHVlOiEwfSk7Y29uc3Qgbj1pKDYpLHI9aSgxNjYpLG89aSgxMSksYT1zKGkoMSkpO2NsYXNzIGggZXh0ZW5kcyBuLkFic3RyYWN0RXhwcmVzc2lvbntjb25zdHJ1Y3Rvcih0LGUsaSxzLG4pe3N1cGVyKGkpLHN1cGVyLnBhcmVudE1lYXN1cmU9bix0aGlzLmR5bmFtaWNFbnVtPWxbdC50b0xvd2VyQ2FzZSgpXSx0aGlzLnNvdW5kRHluYW1pYz1lLHRoaXMuc3RhZmZOdW1iZXI9c31nZXQgUGFyZW50TXVsdGlFeHByZXNzaW9uKCl7cmV0dXJuIHRoaXMubXVsdGlFeHByZXNzaW9ufXNldCBQYXJlbnRNdWx0aUV4cHJlc3Npb24odCl7dGhpcy5tdWx0aUV4cHJlc3Npb249dH1nZXQgRHluRW51bSgpe3JldHVybiB0aGlzLmR5bmFtaWNFbnVtfXNldCBEeW5FbnVtKHQpe3RoaXMuZHluYW1pY0VudW09dH1nZXQgU291bmREeW5hbWljKCl7cmV0dXJuIHRoaXMuc291bmREeW5hbWljfXNldCBTb3VuZER5bmFtaWModCl7dGhpcy5zb3VuZER5bmFtaWM9dH1nZXQgUGxhY2VtZW50KCl7cmV0dXJuIHRoaXMucGxhY2VtZW50fXNldCBQbGFjZW1lbnQodCl7dGhpcy5wbGFjZW1lbnQ9dH1nZXQgU3RhZmZOdW1iZXIoKXtyZXR1cm4gdGhpcy5zdGFmZk51bWJlcn1zZXQgU3RhZmZOdW1iZXIodCl7dGhpcy5zdGFmZk51bWJlcj10fWdldCBMZW5ndGgoKXtyZXR1cm4gTWF0aC5hYnModGhpcy5sZW5ndGgpPDFlLTQmJih0aGlzLmxlbmd0aD10aGlzLmNhbGN1bGF0ZUxlbmd0aCgpKSx0aGlzLmxlbmd0aH1nZXQgTWlkaVZvbHVtZSgpe3JldHVybiAxMjcqaC5keW5hbWljVG9SZWxhdGl2ZVZvbHVtZURpY3RbdGhpcy5keW5hbWljRW51bV19c3RhdGljIGlzSW5wdXRTdHJpbmdJbnN0YW50YW5lb3VzRHluYW1pYyh0KXtyZXR1cm4hIXQmJmguaXNTdHJpbmdJblN0cmluZ0xpc3QoaC5saXN0SW5zdGFudGFuZW91c0R5bmFtaWNzLHQpfWdldER5bmFtaWNFeHByZXNzaW9uU3ltYm9sKHQpe3N3aXRjaCh0KXtjYXNlXCJwXCI6cmV0dXJuIHIuRHluYW1pY0V4cHJlc3Npb25TeW1ib2xFbnVtLnA7Y2FzZVwiZlwiOnJldHVybiByLkR5bmFtaWNFeHByZXNzaW9uU3ltYm9sRW51bS5mO2Nhc2VcInNcIjpyZXR1cm4gci5EeW5hbWljRXhwcmVzc2lvblN5bWJvbEVudW0ucztjYXNlXCJ6XCI6cmV0dXJuIHIuRHluYW1pY0V4cHJlc3Npb25TeW1ib2xFbnVtLno7Y2FzZVwibVwiOnJldHVybiByLkR5bmFtaWNFeHByZXNzaW9uU3ltYm9sRW51bS5tO2Nhc2VcInJcIjpyZXR1cm4gci5EeW5hbWljRXhwcmVzc2lvblN5bWJvbEVudW0ucjtkZWZhdWx0OnRocm93IG5ldyBvLkludmFsaWRFbnVtQXJndW1lbnRFeGNlcHRpb24oXCJ1bmtub3duIER5bmFtaWNFeHByZXNzaW9uU3ltYm9sRW51bTogXCIrdCl9fWNhbGN1bGF0ZUxlbmd0aCgpe3JldHVybiBhLmRlZmF1bHQuZGVidWcoXCJbQW5kcmVhXSBpbnN0YW50YW5lb3VzRHluYW1pY0V4cHJlc3Npb246IG5vdCBpbXBsZW1lbnRlZDogY2FsY3VsYXRlTGVuZ3RoIVwiKSwwfX12YXIgbDtlLkluc3RhbnRhbmVvdXNEeW5hbWljRXhwcmVzc2lvbj1oLGguZHluYW1pY1RvUmVsYXRpdmVWb2x1bWVEaWN0PXtmOjkyLzEyNyxmZjoxMDgvMTI3LGZmZjoxMjQvMTI3LGZmZmY6MTI1LzEyNyxmZmZmZjoxMjYvMTI3LGZmZmZmZjoxLGZwOi41LGZ6Oi41LG1mOjc2LzEyNyxtcDo2MC8xMjcscDo0NC8xMjcscHA6MjgvMTI3LHBwcDoxMi8xMjcscHBwcDoxMC8xMjcscHBwcHA6OC8xMjcscHBwcHBwOjYvMTI3LHJmOi41LHJmejouNSxzZjouNSxzZmY6LjUsc2ZmejouNSxzZnA6LjUsc2ZwcDouNSxzZno6LjV9LGgubGlzdEluc3RhbnRhbmVvdXNEeW5hbWljcz1bXCJwcHBwcHBcIixcInBwcHBwXCIsXCJwcHBwXCIsXCJwcHBcIixcInBwXCIsXCJwXCIsXCJmZmZmZmZcIixcImZmZmZmXCIsXCJmZmZmXCIsXCJmZmZcIixcImZmXCIsXCJmXCIsXCJtZlwiLFwibXBcIixcInNmXCIsXCJzZmZcIixcInNwXCIsXCJzcHBcIixcImZwXCIsXCJyZlwiLFwicmZ6XCIsXCJzZnpcIixcInNmZnpcIixcImZ6XCJdLGZ1bmN0aW9uKHQpe3RbdC5wcHBwcHA9MF09XCJwcHBwcHBcIix0W3QucHBwcHA9MV09XCJwcHBwcFwiLHRbdC5wcHBwPTJdPVwicHBwcFwiLHRbdC5wcHA9M109XCJwcHBcIix0W3QucHA9NF09XCJwcFwiLHRbdC5wPTVdPVwicFwiLHRbdC5tcD02XT1cIm1wXCIsdFt0Lm1mPTddPVwibWZcIix0W3QuZj04XT1cImZcIix0W3QuZmY9OV09XCJmZlwiLHRbdC5mZmY9MTBdPVwiZmZmXCIsdFt0LmZmZmY9MTFdPVwiZmZmZlwiLHRbdC5mZmZmZj0xMl09XCJmZmZmZlwiLHRbdC5mZmZmZmY9MTNdPVwiZmZmZmZmXCIsdFt0LnNmPTE0XT1cInNmXCIsdFt0LnNmZj0xNV09XCJzZmZcIix0W3Quc2ZwPTE2XT1cInNmcFwiLHRbdC5zZnBwPTE3XT1cInNmcHBcIix0W3QuZnA9MThdPVwiZnBcIix0W3QucmY9MTldPVwicmZcIix0W3QucmZ6PTIwXT1cInJmelwiLHRbdC5zZno9MjFdPVwic2Z6XCIsdFt0LnNmZno9MjJdPVwic2ZmelwiLHRbdC5mej0yM109XCJmelwiLHRbdC5vdGhlcj0yNF09XCJvdGhlclwifShsPWUuRHluYW1pY0VudW18fChlLkR5bmFtaWNFbnVtPXt9KSl9LGZ1bmN0aW9uKHQsZSxpKXtcInVzZSBzdHJpY3RcIjtPYmplY3QuZGVmaW5lUHJvcGVydHkoZSxcIl9fZXNNb2R1bGVcIix7dmFsdWU6ITB9KTtjb25zdCBzPWkoODApLG49aSg0KTtjbGFzcyBye2NvbnN0cnVjdG9yKHQsZSxpLHMpe3RoaXMueD0wLHRoaXMueT0wLHRoaXMud2lkdGg9MCx0aGlzLmhlaWdodD0wLHRoaXMueD10LHRoaXMueT1lLHRoaXMud2lkdGg9aSx0aGlzLmhlaWdodD1zfXN0YXRpYyBjcmVhdGVGcm9tTG9jYXRpb25BbmRTaXplKHQsZSl7cmV0dXJuIG5ldyByKHQueCx0LnksZS53aWR0aCxlLmhlaWdodCl9Z2V0IExvY2F0aW9uKCl7cmV0dXJuIG5ldyBuLlBvaW50RjJEKHRoaXMueCx0aGlzLnkpfWdldCBTaXplKCl7cmV0dXJuIG5ldyBzLlNpemVGMkQodGhpcy53aWR0aCx0aGlzLmhlaWdodCl9fWUuUmVjdGFuZ2xlRjJEPXJ9LGZ1bmN0aW9uKHQsZSxpKXtcInVzZSBzdHJpY3RcIjtPYmplY3QuZGVmaW5lUHJvcGVydHkoZSxcIl9fZXNNb2R1bGVcIix7dmFsdWU6ITB9KTtjb25zdCBzPWkoNSksbj1pKDMpO2NsYXNzIHIgZXh0ZW5kcyBzLkdyYXBoaWNhbE9iamVjdHtjb25zdHJ1Y3Rvcih0KXtzdXBlcigpLHRoaXMucGFyZW50U3RhZmZMaW5lPXQ7Y29uc3QgZT10LlBvc2l0aW9uQW5kU2hhcGU7dGhpcy5ib3VuZGluZ0JveD1uZXcgbi5Cb3VuZGluZ0JveCh0aGlzLGUpLHRoaXMuYm91bmRpbmdCb3guQm9yZGVyUmlnaHQ9Nix0aGlzLmJvdW5kaW5nQm94LkJvcmRlckJvdHRvbT00LjUsdGhpcy5ib3VuZGluZ0JveC5Cb3JkZXJMZWZ0PS0xLjUsdGhpcy5ib3VuZGluZ0JveC5Cb3JkZXJUb3A9LTEuNX19ZS5TdGFmZkxpbmVBY3Rpdml0eVN5bWJvbD1yfSxmdW5jdGlvbih0LGUsaSl7XCJ1c2Ugc3RyaWN0XCI7T2JqZWN0LmRlZmluZVByb3BlcnR5KGUsXCJfX2VzTW9kdWxlXCIse3ZhbHVlOiEwfSk7dmFyIHM9aSg5KSxuPWkoMzUpLHI9ZnVuY3Rpb24oKXtmdW5jdGlvbiB0KCl7dGhpcy5maXJzdE5vZGU9bnVsbCx0aGlzLmxhc3ROb2RlPW51bGwsdGhpcy5uRWxlbWVudHM9MH1yZXR1cm4gdC5wcm90b3R5cGUuYWRkPWZ1bmN0aW9uKHQsZSl7aWYocy5pc1VuZGVmaW5lZChlKSYmKGU9dGhpcy5uRWxlbWVudHMpLGU8MHx8ZT50aGlzLm5FbGVtZW50c3x8cy5pc1VuZGVmaW5lZCh0KSlyZXR1cm4hMTt2YXIgaT10aGlzLmNyZWF0ZU5vZGUodCk7aWYoMD09PXRoaXMubkVsZW1lbnRzfHxudWxsPT09dGhpcy5sYXN0Tm9kZSl0aGlzLmZpcnN0Tm9kZT1pLHRoaXMubGFzdE5vZGU9aTtlbHNlIGlmKGU9PT10aGlzLm5FbGVtZW50cyl0aGlzLmxhc3ROb2RlLm5leHQ9aSx0aGlzLmxhc3ROb2RlPWk7ZWxzZSBpZigwPT09ZSlpLm5leHQ9dGhpcy5maXJzdE5vZGUsdGhpcy5maXJzdE5vZGU9aTtlbHNle3ZhciBuPXRoaXMubm9kZUF0SW5kZXgoZS0xKTtpZihudWxsPT09bilyZXR1cm4hMTtpLm5leHQ9bi5uZXh0LG4ubmV4dD1pfXJldHVybiB0aGlzLm5FbGVtZW50cysrLCEwfSx0LnByb3RvdHlwZS5maXJzdD1mdW5jdGlvbigpe2lmKG51bGwhPT10aGlzLmZpcnN0Tm9kZSlyZXR1cm4gdGhpcy5maXJzdE5vZGUuZWxlbWVudH0sdC5wcm90b3R5cGUubGFzdD1mdW5jdGlvbigpe2lmKG51bGwhPT10aGlzLmxhc3ROb2RlKXJldHVybiB0aGlzLmxhc3ROb2RlLmVsZW1lbnR9LHQucHJvdG90eXBlLmVsZW1lbnRBdEluZGV4PWZ1bmN0aW9uKHQpe3ZhciBlPXRoaXMubm9kZUF0SW5kZXgodCk7aWYobnVsbCE9PWUpcmV0dXJuIGUuZWxlbWVudH0sdC5wcm90b3R5cGUuaW5kZXhPZj1mdW5jdGlvbih0LGUpe3ZhciBpPWV8fHMuZGVmYXVsdEVxdWFscztpZihzLmlzVW5kZWZpbmVkKHQpKXJldHVybi0xO2Zvcih2YXIgbj10aGlzLmZpcnN0Tm9kZSxyPTA7bnVsbCE9PW47KXtpZihpKG4uZWxlbWVudCx0KSlyZXR1cm4gcjtyKyssbj1uLm5leHR9cmV0dXJuLTF9LHQucHJvdG90eXBlLmNvbnRhaW5zPWZ1bmN0aW9uKHQsZSl7cmV0dXJuIHRoaXMuaW5kZXhPZih0LGUpPj0wfSx0LnByb3RvdHlwZS5yZW1vdmU9ZnVuY3Rpb24odCxlKXt2YXIgaT1lfHxzLmRlZmF1bHRFcXVhbHM7aWYodGhpcy5uRWxlbWVudHM8MXx8cy5pc1VuZGVmaW5lZCh0KSlyZXR1cm4hMTtmb3IodmFyIG49bnVsbCxyPXRoaXMuZmlyc3ROb2RlO251bGwhPT1yOyl7aWYoaShyLmVsZW1lbnQsdCkpcmV0dXJuIG51bGw9PT1uPyh0aGlzLmZpcnN0Tm9kZT1yLm5leHQscj09PXRoaXMubGFzdE5vZGUmJih0aGlzLmxhc3ROb2RlPW51bGwpKTpyPT09dGhpcy5sYXN0Tm9kZT8odGhpcy5sYXN0Tm9kZT1uLG4ubmV4dD1yLm5leHQsci5uZXh0PW51bGwpOihuLm5leHQ9ci5uZXh0LHIubmV4dD1udWxsKSx0aGlzLm5FbGVtZW50cy0tLCEwO249cixyPXIubmV4dH1yZXR1cm4hMX0sdC5wcm90b3R5cGUuY2xlYXI9ZnVuY3Rpb24oKXt0aGlzLmZpcnN0Tm9kZT1udWxsLHRoaXMubGFzdE5vZGU9bnVsbCx0aGlzLm5FbGVtZW50cz0wfSx0LnByb3RvdHlwZS5lcXVhbHM9ZnVuY3Rpb24oZSxpKXt2YXIgbj1pfHxzLmRlZmF1bHRFcXVhbHM7cmV0dXJuIGUgaW5zdGFuY2VvZiB0JiYodGhpcy5zaXplKCk9PT1lLnNpemUoKSYmdGhpcy5lcXVhbHNBdXgodGhpcy5maXJzdE5vZGUsZS5maXJzdE5vZGUsbikpfSx0LnByb3RvdHlwZS5lcXVhbHNBdXg9ZnVuY3Rpb24odCxlLGkpe2Zvcig7bnVsbCE9PXQmJm51bGwhPT1lOyl7aWYoIWkodC5lbGVtZW50LGUuZWxlbWVudCkpcmV0dXJuITE7dD10Lm5leHQsZT1lLm5leHR9cmV0dXJuITB9LHQucHJvdG90eXBlLnJlbW92ZUVsZW1lbnRBdEluZGV4PWZ1bmN0aW9uKHQpe2lmKCEodDwwfHx0Pj10aGlzLm5FbGVtZW50c3x8bnVsbD09PXRoaXMuZmlyc3ROb2RlfHxudWxsPT09dGhpcy5sYXN0Tm9kZSkpe3ZhciBlO2lmKDE9PT10aGlzLm5FbGVtZW50cyllPXRoaXMuZmlyc3ROb2RlLmVsZW1lbnQsdGhpcy5maXJzdE5vZGU9bnVsbCx0aGlzLmxhc3ROb2RlPW51bGw7ZWxzZXt2YXIgaT10aGlzLm5vZGVBdEluZGV4KHQtMSk7bnVsbD09PWk/KGU9dGhpcy5maXJzdE5vZGUuZWxlbWVudCx0aGlzLmZpcnN0Tm9kZT10aGlzLmZpcnN0Tm9kZS5uZXh0KTppLm5leHQ9PT10aGlzLmxhc3ROb2RlJiYoZT10aGlzLmxhc3ROb2RlLmVsZW1lbnQsdGhpcy5sYXN0Tm9kZT1pKSxudWxsIT09aSYmbnVsbCE9PWkubmV4dCYmKGU9aS5uZXh0LmVsZW1lbnQsaS5uZXh0PWkubmV4dC5uZXh0KX1yZXR1cm4gdGhpcy5uRWxlbWVudHMtLSxlfX0sdC5wcm90b3R5cGUuZm9yRWFjaD1mdW5jdGlvbih0KXtmb3IodmFyIGU9dGhpcy5maXJzdE5vZGU7bnVsbCE9PWUmJiExIT09dChlLmVsZW1lbnQpOyllPWUubmV4dH0sdC5wcm90b3R5cGUucmV2ZXJzZT1mdW5jdGlvbigpe2Zvcih2YXIgdD1udWxsLGU9dGhpcy5maXJzdE5vZGUsaT1udWxsO251bGwhPT1lOylpPWUubmV4dCxlLm5leHQ9dCx0PWUsZT1pO2k9dGhpcy5maXJzdE5vZGUsdGhpcy5maXJzdE5vZGU9dGhpcy5sYXN0Tm9kZSx0aGlzLmxhc3ROb2RlPWl9LHQucHJvdG90eXBlLnRvQXJyYXk9ZnVuY3Rpb24oKXtmb3IodmFyIHQ9W10sZT10aGlzLmZpcnN0Tm9kZTtudWxsIT09ZTspdC5wdXNoKGUuZWxlbWVudCksZT1lLm5leHQ7cmV0dXJuIHR9LHQucHJvdG90eXBlLnNpemU9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5uRWxlbWVudHN9LHQucHJvdG90eXBlLmlzRW1wdHk9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5uRWxlbWVudHM8PTB9LHQucHJvdG90eXBlLnRvU3RyaW5nPWZ1bmN0aW9uKCl7cmV0dXJuIG4udG9TdHJpbmcodGhpcy50b0FycmF5KCkpfSx0LnByb3RvdHlwZS5ub2RlQXRJbmRleD1mdW5jdGlvbih0KXtpZih0PDB8fHQ+PXRoaXMubkVsZW1lbnRzKXJldHVybiBudWxsO2lmKHQ9PT10aGlzLm5FbGVtZW50cy0xKXJldHVybiB0aGlzLmxhc3ROb2RlO2Zvcih2YXIgZT10aGlzLmZpcnN0Tm9kZSxpPTA7aTx0JiZudWxsIT09ZTtpKyspZT1lLm5leHQ7cmV0dXJuIGV9LHQucHJvdG90eXBlLmNyZWF0ZU5vZGU9ZnVuY3Rpb24odCl7cmV0dXJue2VsZW1lbnQ6dCxuZXh0Om51bGx9fSx0fSgpO2UuZGVmYXVsdD1yfSxmdW5jdGlvbih0LGUsaSl7XCJ1c2Ugc3RyaWN0XCI7dmFyIHM9dGhpcyYmdGhpcy5fX2ltcG9ydERlZmF1bHR8fGZ1bmN0aW9uKHQpe3JldHVybiB0JiZ0Ll9fZXNNb2R1bGU/dDp7ZGVmYXVsdDp0fX07T2JqZWN0LmRlZmluZVByb3BlcnR5KGUsXCJfX2VzTW9kdWxlXCIse3ZhbHVlOiEwfSk7Y29uc3Qgbj1pKDg4KSxyPWkoMjApLG89aSg0KSxhPWkoOCksaD1pKDE1KSxsPWkoMCksYz1pKDMpLHU9cyhpKDEpKSxkPWkoMjQpO2UuR3JhcGhpY2FsTXVzaWNTaGVldD1jbGFzc3tjb25zdHJ1Y3Rvcih0LGUpe3RoaXMubXVzaWNQYWdlcz1bXSx0aGlzLm1lYXN1cmVMaXN0PVtdLHRoaXMudmVydGljYWxHcmFwaGljYWxTdGFmZkVudHJ5Q29udGFpbmVycz1bXSx0aGlzLmN1cnNvcnM9W10sdGhpcy5sZWFkU2hlZXQ9ITEsdGhpcy5tdXNpY1NoZWV0PXQsdGhpcy5udW1iZXJPZlN0YXZlcz10aGlzLm11c2ljU2hlZXQuU3RhdmVzLmxlbmd0aCx0aGlzLmNhbGN1bGF0b3I9ZSx0aGlzLmNhbGN1bGF0b3IuaW5pdGlhbGl6ZSh0aGlzKX1nZXQgUGFyZW50TXVzaWNTaGVldCgpe3JldHVybiB0aGlzLm11c2ljU2hlZXR9Z2V0IEdldENhbGN1bGF0b3IoKXtyZXR1cm4gdGhpcy5jYWxjdWxhdG9yfWdldCBNdXNpY1BhZ2VzKCl7cmV0dXJuIHRoaXMubXVzaWNQYWdlc31zZXQgTXVzaWNQYWdlcyh0KXt0aGlzLm11c2ljUGFnZXM9dH1nZXQgTWVhc3VyZUxpc3QoKXtyZXR1cm4gdGhpcy5tZWFzdXJlTGlzdH1zZXQgTWVhc3VyZUxpc3QodCl7dGhpcy5tZWFzdXJlTGlzdD10fWdldCBWZXJ0aWNhbEdyYXBoaWNhbFN0YWZmRW50cnlDb250YWluZXJzKCl7cmV0dXJuIHRoaXMudmVydGljYWxHcmFwaGljYWxTdGFmZkVudHJ5Q29udGFpbmVyc31zZXQgVmVydGljYWxHcmFwaGljYWxTdGFmZkVudHJ5Q29udGFpbmVycyh0KXt0aGlzLnZlcnRpY2FsR3JhcGhpY2FsU3RhZmZFbnRyeUNvbnRhaW5lcnM9dH1nZXQgVGl0bGUoKXtyZXR1cm4gdGhpcy50aXRsZX1zZXQgVGl0bGUodCl7dGhpcy50aXRsZT10fWdldCBTdWJ0aXRsZSgpe3JldHVybiB0aGlzLnN1YnRpdGxlfXNldCBTdWJ0aXRsZSh0KXt0aGlzLnN1YnRpdGxlPXR9Z2V0IENvbXBvc2VyKCl7cmV0dXJuIHRoaXMuY29tcG9zZXJ9c2V0IENvbXBvc2VyKHQpe3RoaXMuY29tcG9zZXI9dH1nZXQgTHlyaWNpc3QoKXtyZXR1cm4gdGhpcy5seXJpY2lzdH1zZXQgTHlyaWNpc3QodCl7dGhpcy5seXJpY2lzdD10fWdldCBDdXJzb3JzKCl7cmV0dXJuIHRoaXMuY3Vyc29yc31nZXQgU2VsZWN0aW9uU3RhcnRTeW1ib2woKXtyZXR1cm4gdGhpcy5zZWxlY3Rpb25TdGFydFN5bWJvbH1nZXQgU2VsZWN0aW9uRW5kU3ltYm9sKCl7cmV0dXJuIHRoaXMuc2VsZWN0aW9uRW5kU3ltYm9sfWdldCBNaW5BbGxvd2VkU3lzdGVtV2lkdGgoKXtyZXR1cm4gdGhpcy5taW5BbGxvd2VkU3lzdGVtV2lkdGh9c2V0IE1pbkFsbG93ZWRTeXN0ZW1XaWR0aCh0KXt0aGlzLm1pbkFsbG93ZWRTeXN0ZW1XaWR0aD10fWdldCBOdW1iZXJPZlN0YXZlcygpe3JldHVybiB0aGlzLm51bWJlck9mU3RhdmVzfWdldCBMZWFkU2hlZXQoKXtyZXR1cm4gdGhpcy5sZWFkU2hlZXR9c2V0IExlYWRTaGVldCh0KXt0aGlzLmxlYWRTaGVldD10fXN0YXRpYyB0cmFuc2Zvcm1SZWxhdGl2ZVRvQWJzb2x1dGVQb3NpdGlvbih0KXtmb3IobGV0IGU9MDtlPHQuTXVzaWNQYWdlcy5sZW5ndGg7ZSsrKXtjb25zdCBpPXQuTXVzaWNQYWdlc1tlXS5zZXRNdXNpY1BhZ2VBYnNvbHV0ZVBvc2l0aW9uKGUsdC5QYXJlbnRNdXNpY1NoZWV0LlJ1bGVzKTt0Lk11c2ljUGFnZXNbZV0uUG9zaXRpb25BbmRTaGFwZS5jYWxjdWxhdGVBYnNvbHV0ZVBvc2l0aW9uc1JlY3Vyc2l2ZShpLngsaS55KX19SW5pdGlhbGl6ZSgpe3RoaXMudmVydGljYWxHcmFwaGljYWxTdGFmZkVudHJ5Q29udGFpbmVycz1bXSx0aGlzLm11c2ljUGFnZXM9W10sdGhpcy5tZWFzdXJlTGlzdD1bXX1yZUNhbGN1bGF0ZSgpe3RoaXMuY2FsY3VsYXRvci5jYWxjdWxhdGUoKX1wcmVwYXJlKCl7dGhpcy5jYWxjdWxhdG9yLnByZXBhcmVHcmFwaGljYWxNdXNpY1NoZWV0KCl9RW5mb3JjZVJlZHJhd09mTXVzaWNTeXN0ZW1zKCl7Zm9yKGxldCB0PTAsZT10aGlzLm11c2ljUGFnZXMubGVuZ3RoO3Q8ZTsrK3Qpe2NvbnN0IGU9dGhpcy5tdXNpY1BhZ2VzW3RdO2ZvcihsZXQgdD0wLGk9ZS5NdXNpY1N5c3RlbXMubGVuZ3RoO3Q8aTsrK3Qpe2UuTXVzaWNTeXN0ZW1zW3RdLm5lZWRzVG9CZVJlZHJhd249ITB9fX1nZXRDbGlja2VkT2JqZWN0KHQpe2ZvcihsZXQgZT0wLGk9dGhpcy5NdXNpY1BhZ2VzLmxlbmd0aDtlPGk7KytlKXtyZXR1cm4gdGhpcy5NdXNpY1BhZ2VzW2VdLlBvc2l0aW9uQW5kU2hhcGUuZ2V0Q2xpY2tlZE9iamVjdE9mVHlwZSh0KX19ZmluZEdyYXBoaWNhbFN0YWZmRW50cnlGcm9tTWVhc3VyZUxpc3QodCxlLGkpe2ZvcihsZXQgcz1lO3M8dGhpcy5tZWFzdXJlTGlzdC5sZW5ndGg7cysrKXtjb25zdCBlPXRoaXMubWVhc3VyZUxpc3Rbc11bdF07Zm9yKGxldCB0PTAscz1lLnN0YWZmRW50cmllcy5sZW5ndGg7dDxzOysrdCl7Y29uc3Qgcz1lLnN0YWZmRW50cmllc1t0XTtpZihzLnNvdXJjZVN0YWZmRW50cnk9PT1pKXJldHVybiBzfX19ZmluZE5leHRHcmFwaGljYWxTdGFmZkVudHJ5KHQsZSxpKXtjb25zdCBzPWkucGFyZW50TWVhc3VyZSxuPXMuc3RhZmZFbnRyaWVzLmluZGV4T2YoaSk7aWYobjxzLnN0YWZmRW50cmllcy5sZW5ndGgtMSlyZXR1cm4gcy5zdGFmZkVudHJpZXNbbisxXTtpZihlPHRoaXMubWVhc3VyZUxpc3QubGVuZ3RoLTEpe2NvbnN0IGk9dGhpcy5tZWFzdXJlTGlzdFtlKzFdW3RdO2lmKGkuc3RhZmZFbnRyaWVzLmxlbmd0aD4wKXJldHVybiBpLnN0YWZmRW50cmllc1swXX19Z2V0Rmlyc3RWaXNpYmxlTWVhc3VyZXNMaXN0RnJvbUluZGljZXModCxlKXtjb25zdCBpPVtdLHM9dGhpcy5tZWFzdXJlTGlzdFswXS5sZW5ndGg7Zm9yKGxldCBuPXQ7bjw9ZTtuKyspZm9yKGxldCB0PTA7dDxzO3QrKylpZih0aGlzLm1lYXN1cmVMaXN0W25dW3RdLmlzVmlzaWJsZSgpKXtpLnB1c2godGhpcy5tZWFzdXJlTGlzdFtuXVt0XSk7YnJlYWt9cmV0dXJuIGl9b3JkZXJNZWFzdXJlc0J5U3RhZmZMaW5lKHQpe2NvbnN0IGU9W107bGV0IGk9W107ZS5wdXNoKGkpO2ZvcihsZXQgcz0wO3M8dC5sZW5ndGg7cysrKTA9PT1zP2kucHVzaCh0WzBdKToodFtzXS5QYXJlbnRTdGFmZkxpbmU9PT10W3MtMV0uUGFyZW50U3RhZmZMaW5lfHwoLTE9PT1lLmluZGV4T2YoaSkmJmUucHVzaChpKSxpPVtdLGUucHVzaChpKSksaS5wdXNoKHRbc10pKTtyZXR1cm4gZX1pbml0aWFsaXplQWN0aXZlQ2xlZnMoKXtjb25zdCB0PVtdLGU9dGhpcy5tdXNpY1NoZWV0LmdldEZpcnN0U291cmNlTWVhc3VyZSgpO2lmKGUpZm9yKGxldCBpPTA7aTxlLkNvbXBsZXRlTnVtYmVyT2ZTdGF2ZXM7aSsrKXtsZXQgcz1uZXcgYS5DbGVmSW5zdHJ1Y3Rpb247aWYoZS5GaXJzdEluc3RydWN0aW9uc1N0YWZmRW50cmllc1tpXSlmb3IobGV0IHQ9MCxuPWUuRmlyc3RJbnN0cnVjdGlvbnNTdGFmZkVudHJpZXNbaV0uSW5zdHJ1Y3Rpb25zLmxlbmd0aDt0PG47Kyt0KXtjb25zdCBuPWUuRmlyc3RJbnN0cnVjdGlvbnNTdGFmZkVudHJpZXNbaV0uSW5zdHJ1Y3Rpb25zW3RdO24gaW5zdGFuY2VvZiBhLkNsZWZJbnN0cnVjdGlvbiYmKHM9bil9dC5wdXNoKHMpfXJldHVybiB0fUdldE1haW5LZXkoKXtjb25zdCB0PXRoaXMubXVzaWNTaGVldC5nZXRGaXJzdFNvdXJjZU1lYXN1cmUoKTtpZih0KWZvcihsZXQgZT0wO2U8dC5Db21wbGV0ZU51bWJlck9mU3RhdmVzO2UrKylmb3IobGV0IGk9MCxzPXQuRmlyc3RJbnN0cnVjdGlvbnNTdGFmZkVudHJpZXNbZV0uSW5zdHJ1Y3Rpb25zLmxlbmd0aDtpPHM7KytpKXtjb25zdCBzPXQuRmlyc3RJbnN0cnVjdGlvbnNTdGFmZkVudHJpZXNbZV0uSW5zdHJ1Y3Rpb25zW2ldO2lmKHMgaW5zdGFuY2VvZiBoLktleUluc3RydWN0aW9uKXJldHVybiBzfX1nZXRPckNyZWF0ZVZlcnRpY2FsQ29udGFpbmVyKHQpe2lmKDA9PT10aGlzLnZlcnRpY2FsR3JhcGhpY2FsU3RhZmZFbnRyeUNvbnRhaW5lcnMubGVuZ3RofHxkLkNvbGxlY3Rpb25VdGlsLmdldExhc3RFbGVtZW50KHRoaXMudmVydGljYWxHcmFwaGljYWxTdGFmZkVudHJ5Q29udGFpbmVycykuQWJzb2x1dGVUaW1lc3RhbXAubHQodCkpe2NvbnN0IGU9bmV3IG4uVmVydGljYWxHcmFwaGljYWxTdGFmZkVudHJ5Q29udGFpbmVyKHRoaXMubnVtYmVyT2ZTdGF2ZXMsdCk7cmV0dXJuIHRoaXMudmVydGljYWxHcmFwaGljYWxTdGFmZkVudHJ5Q29udGFpbmVycy5wdXNoKGUpLGV9Zm9yKGxldCBlPXRoaXMudmVydGljYWxHcmFwaGljYWxTdGFmZkVudHJ5Q29udGFpbmVycy5sZW5ndGgtMTtlPj0wO2UtLSl7aWYodGhpcy52ZXJ0aWNhbEdyYXBoaWNhbFN0YWZmRW50cnlDb250YWluZXJzW2VdLkFic29sdXRlVGltZXN0YW1wLmx0KHQpKXtjb25zdCBpPW5ldyBuLlZlcnRpY2FsR3JhcGhpY2FsU3RhZmZFbnRyeUNvbnRhaW5lcih0aGlzLm51bWJlck9mU3RhdmVzLHQpO3JldHVybiB0aGlzLnZlcnRpY2FsR3JhcGhpY2FsU3RhZmZFbnRyeUNvbnRhaW5lcnMuc3BsaWNlKGUrMSwwLGkpLGl9aWYodGhpcy52ZXJ0aWNhbEdyYXBoaWNhbFN0YWZmRW50cnlDb250YWluZXJzW2VdLkFic29sdXRlVGltZXN0YW1wLkVxdWFscyh0KSlyZXR1cm4gdGhpcy52ZXJ0aWNhbEdyYXBoaWNhbFN0YWZmRW50cnlDb250YWluZXJzW2VdfX1HZXRWZXJ0aWNhbENvbnRhaW5lckZyb21UaW1lc3RhbXAodCxlPTApe2NvbnN0IGk9ZC5Db2xsZWN0aW9uVXRpbC5iaW5hcnlTZWFyY2godGhpcy52ZXJ0aWNhbEdyYXBoaWNhbFN0YWZmRW50cnlDb250YWluZXJzLG5ldyBuLlZlcnRpY2FsR3JhcGhpY2FsU3RhZmZFbnRyeUNvbnRhaW5lcigwLHQpLG4uVmVydGljYWxHcmFwaGljYWxTdGFmZkVudHJ5Q29udGFpbmVyLmNvbXBhcmVCeVRpbWVzdGFtcCxlKTtpZihpPj0wKXJldHVybiB0aGlzLnZlcnRpY2FsR3JhcGhpY2FsU3RhZmZFbnRyeUNvbnRhaW5lcnNbaV19R2V0SW50ZXJwb2xhdGVkSW5kZXhJblZlcnRpY2FsQ29udGFpbmVycyh0KXtjb25zdCBlPXRoaXMudmVydGljYWxHcmFwaGljYWxTdGFmZkVudHJ5Q29udGFpbmVycztsZXQgaSxzPTAsbj1lLmxlbmd0aC0xLHI9dm9pZCAwLG89dm9pZCAwO2lmKHQubHRlKGVbZS5sZW5ndGgtMV0uQWJzb2x1dGVUaW1lc3RhbXApKXtmb3IoO24tcz4xOyl7Y29uc3QgaT1NYXRoLmZsb29yKChuK3MpLzIpO2lmKGVbc10uQWJzb2x1dGVUaW1lc3RhbXAuRXF1YWxzKHQpKXtuPXM7YnJlYWt9aWYoZVtuXS5BYnNvbHV0ZVRpbWVzdGFtcC5FcXVhbHModCkpe3M9bjticmVha31pZihlW2ldLkFic29sdXRlVGltZXN0YW1wLkVxdWFscyh0KSlyZXR1cm4gdGhpcy52ZXJ0aWNhbEdyYXBoaWNhbFN0YWZmRW50cnlDb250YWluZXJzLmluZGV4T2YoZVtpXSk7dC5sdChlW2ldLkFic29sdXRlVGltZXN0YW1wKT9uPWk6cz1pfWlmKHM9PT1uKXJldHVybiB0aGlzLnZlcnRpY2FsR3JhcGhpY2FsU3RhZmZFbnRyeUNvbnRhaW5lcnMuaW5kZXhPZihlW3NdKTtyPWVbc10uQWJzb2x1dGVUaW1lc3RhbXAsbz1lW25dLkFic29sdXRlVGltZXN0YW1wfWVsc2Ugcj1lW2UubGVuZ3RoLTFdLkFic29sdXRlVGltZXN0YW1wLG89bC5GcmFjdGlvbi5wbHVzKHRoaXMuZ2V0TG9uZ2VzdFN0YWZmRW50cnlEdXJhdGlvbihlLmxlbmd0aC0xKSxyKSxuPWUubGVuZ3RoO2NvbnN0IGE9by5SZWFsVmFsdWUtci5SZWFsVmFsdWU7cmV0dXJuIGk9bi0oby5SZWFsVmFsdWUtdC5SZWFsVmFsdWUpL2EsTWF0aC5taW4oaSx0aGlzLnZlcnRpY2FsR3JhcGhpY2FsU3RhZmZFbnRyeUNvbnRhaW5lcnMubGVuZ3RoKX1nZXRWaXNpYmxlU3RhdmVzSW5kaWNlc0Zyb21Tb3VyY2VNZWFzdXJlKHQpe2NvbnN0IGU9W10saT1bXTtmb3IobGV0IGk9MCxzPXQubGVuZ3RoO2k8czsrK2kpe2NvbnN0IHM9dFtpXS5QYXJlbnRTdGFmZi5QYXJlbnRJbnN0cnVtZW50Oy0xPT09ZS5pbmRleE9mKHMpJiZlLnB1c2gocyl9Zm9yKGxldCB0PTAscz1lLmxlbmd0aDt0PHM7Kyt0KXtjb25zdCBzPWVbdF0sbj10aGlzLm11c2ljU2hlZXQuZ2V0R2xvYmFsU3RhZmZJbmRleE9mRmlyc3RTdGFmZihzKTtmb3IobGV0IHQ9MDt0PHMuU3RhdmVzLmxlbmd0aDt0KyspaS5wdXNoKG4rdCl9cmV0dXJuIGl9Z2V0R3JhcGhpY2FsTWVhc3VyZUZyb21Tb3VyY2VNZWFzdXJlQW5kSW5kZXgodCxlKXtmb3IobGV0IGk9MDtpPHRoaXMubWVhc3VyZUxpc3QubGVuZ3RoO2krKylpZih0aGlzLm1lYXN1cmVMaXN0W2ldWzBdLnBhcmVudFNvdXJjZU1lYXN1cmU9PT10KXJldHVybiB0aGlzLm1lYXN1cmVMaXN0W2ldW2VdfWdldExhc3RHcmFwaGljYWxNZWFzdXJlRnJvbUluZGV4KHQsZT0hMCl7bGV0IGk9dGhpcy5tZWFzdXJlTGlzdC5sZW5ndGgtMTtyZXR1cm4gZSYmKGk9TWF0aC5taW4oaSx0aGlzLm11c2ljU2hlZXQuUnVsZXMuTWF4TWVhc3VyZVRvRHJhd0luZGV4KSksdGhpcy5tZWFzdXJlTGlzdFtpXVt0XX1nZXRNZWFzdXJlSW5kZXgodCxlLGkpe2ZvcihlPTAsMDtlPHRoaXMubWVhc3VyZUxpc3QubGVuZ3RoO2UrKylmb3IobGV0IGk9MCxzPXRoaXMubWVhc3VyZUxpc3RbZV0ubGVuZ3RoO2k8czsrK2kpe2lmKHRoaXMubWVhc3VyZUxpc3RbZV1baV09PT10KXJldHVybiEwfXJldHVybiExfUdldE5lYXJlc3ROb3RlKHQsZSl7Y29uc3QgaT1bXSxzPW5ldyBjLkJvdW5kaW5nQm94O3MuQm9yZGVyTGVmdD10LngtMTAscy5Cb3JkZXJUb3A9dC55LTEwLHMuQm9yZGVyUmlnaHQ9dC54KzEwLHMuQm9yZGVyQm90dG9tPXQueSsxMCxzLkFic29sdXRlUG9zaXRpb249bmV3IG8uUG9pbnRGMkQoMCwwKTtmb3IobGV0IG49MCxyPXRoaXMuTXVzaWNQYWdlcy5sZW5ndGg7bjxyOysrbil7Y29uc3Qgcj10aGlzLk11c2ljUGFnZXNbbl0uUG9zaXRpb25BbmRTaGFwZS5nZXRPYmplY3RzSW5SZWdpb24ocyk7aWYocilmb3IobGV0IHM9MCxuPXIubGVuZ3RoO3M8bjsrK3Mpe2NvbnN0IG49cltzXTtNYXRoLmFicyhuLlBvc2l0aW9uQW5kU2hhcGUuQWJzb2x1dGVQb3NpdGlvbi54LXQueCk8ZS54JiZNYXRoLmFicyhuLlBvc2l0aW9uQW5kU2hhcGUuQWJzb2x1dGVQb3NpdGlvbi55LXQueSk8ZS55JiZpLnB1c2gobil9fWxldCBuPXZvaWQgMDtmb3IobGV0IGU9MCxzPWkubGVuZ3RoO2U8czsrK2Upe2NvbnN0IHM9aVtlXTtpZih2b2lkIDA9PT1uKW49cztlbHNle2lmKCFzLnBhcmVudFZvaWNlRW50cnkucGFyZW50U3RhZmZFbnRyeS5yZWxJbk1lYXN1cmVUaW1lc3RhbXApY29udGludWU7dGhpcy5DYWxjdWxhdGVEaXN0YW5jZShzLlBvc2l0aW9uQW5kU2hhcGUuQWJzb2x1dGVQb3NpdGlvbix0KTx0aGlzLkNhbGN1bGF0ZURpc3RhbmNlKG4uUG9zaXRpb25BbmRTaGFwZS5BYnNvbHV0ZVBvc2l0aW9uLHQpJiYobj1zKX19aWYobilyZXR1cm4gbn1HZXRDbGlja2FibGVMYWJlbCh0KXtjb25zdCBlPW5ldyBjLkJvdW5kaW5nQm94O2UuQm9yZGVyTGVmdD10LngtNCxlLkJvcmRlclRvcD10LnktNCxlLkJvcmRlclJpZ2h0PXQueCs0LGUuQm9yZGVyQm90dG9tPXQueSs0LGUuQWJzb2x1dGVQb3NpdGlvbj1uZXcgby5Qb2ludEYyRCgwLDApO2ZvcihsZXQgdD0wLGk9dGhpcy5NdXNpY1BhZ2VzLmxlbmd0aDt0PGk7Kyt0KXtjb25zdCBpPXRoaXMuTXVzaWNQYWdlc1t0XS5Qb3NpdGlvbkFuZFNoYXBlLmdldE9iamVjdHNJblJlZ2lvbihlKTtpZigxPT09aS5sZW5ndGgpZm9yKGxldCB0PTAsZT1pLmxlbmd0aDt0PGU7Kyt0KXtyZXR1cm4gaVt0XX19fUdldE5lYXJlc3RTdGFmZkVudHJ5KHQpe2NvbnN0IGU9W10saT1uZXcgYy5Cb3VuZGluZ0JveCh2b2lkIDApO2kuQm9yZGVyTGVmdD10LngtMTAsaS5Cb3JkZXJUb3A9dC55LTEwLGkuQm9yZGVyUmlnaHQ9dC54KzEwLGkuQm9yZGVyQm90dG9tPXQueSsxMCxpLkFic29sdXRlUG9zaXRpb249bmV3IG8uUG9pbnRGMkQoMCwwKTtmb3IobGV0IHQ9MCxzPXRoaXMuTXVzaWNQYWdlcy5sZW5ndGg7dDxzOysrdCl7Y29uc3Qgcz10aGlzLk11c2ljUGFnZXNbdF0uUG9zaXRpb25BbmRTaGFwZS5nZXRPYmplY3RzSW5SZWdpb24oaSwhMSk7aWYocyYmMCE9PXMubGVuZ3RoKWZvcihsZXQgdD0wLGk9cy5sZW5ndGg7dDxpOysrdCl7Y29uc3QgaT1zW3RdO2UucHVzaChpKX19bGV0IHM9dm9pZCAwO2ZvcihsZXQgaT0wLG49ZS5sZW5ndGg7aTxuOysraSl7Y29uc3Qgbj1lW2ldO2lmKHZvaWQgMD09PXMpcz1uO2Vsc2V7aWYoIW4ucmVsSW5NZWFzdXJlVGltZXN0YW1wKWNvbnRpbnVlO3RoaXMuQ2FsY3VsYXRlRGlzdGFuY2Uobi5Qb3NpdGlvbkFuZFNoYXBlLkFic29sdXRlUG9zaXRpb24sdCk8dGhpcy5DYWxjdWxhdGVEaXN0YW5jZShzLlBvc2l0aW9uQW5kU2hhcGUuQWJzb2x1dGVQb3NpdGlvbix0KSYmKHM9bil9fWlmKHMpcmV0dXJuIHN9R2V0UG9zc2libGVDb21tZW50QW5jaG9yKHQpe2NvbnN0IGU9dGhpcy5HZXROZWFyZXN0U3RhZmZFbnRyeSh0KTtpZihlKXJldHVybiBlLnNvdXJjZVN0YWZmRW50cnl9Z2V0Q2xpY2tlZE9iamVjdE9mVHlwZSh0KXtmb3IobGV0IGU9MCxpPXRoaXMubXVzaWNQYWdlcy5sZW5ndGg7ZTxpOysrZSl7Y29uc3QgaT10aGlzLm11c2ljUGFnZXNbZV0uUG9zaXRpb25BbmRTaGFwZS5nZXRDbGlja2VkT2JqZWN0T2ZUeXBlKHQpO2lmKGkpcmV0dXJuIGl9fXRyeUdldFRpbWVzdGFtcEZyb21Qb3NpdGlvbih0KXtjb25zdCBlPXRoaXMuZ2V0Q2xpY2tlZE9iamVjdE9mVHlwZSh0KTtpZihlKXJldHVybiBlLmdldEFic29sdXRlVGltZXN0YW1wKCl9dHJ5R2V0Q2xpY2thYmxlTGFiZWwodCl7dHJ5e3JldHVybiB0aGlzLkdldENsaWNrYWJsZUxhYmVsKHQpfWNhdGNoKGUpe3UuZGVmYXVsdC5pbmZvKFwiR3JhcGhpY2FsTXVzaWNTaGVldC50cnlHZXRDbGlja2FibGVPYmplY3RcIixcInBvc2l0aW9uT25NdXNpY1NoZWV0OiBcIit0LGUpfX10cnlHZXRUaW1lU3RhbXBGcm9tUG9zaXRpb24odCl7dHJ5e2NvbnN0IGU9dGhpcy5HZXROZWFyZXN0U3RhZmZFbnRyeSh0KTtpZighZSlyZXR1cm47cmV0dXJuIGUuZ2V0QWJzb2x1dGVUaW1lc3RhbXAoKX1jYXRjaChlKXt1LmRlZmF1bHQuaW5mbyhcIkdyYXBoaWNhbE11c2ljU2hlZXQudHJ5R2V0VGltZVN0YW1wRnJvbVBvc2l0aW9uXCIsXCJwb3NpdGlvbk9uTXVzaWNTaGVldDogXCIrdCxlKX19Z2V0U3RhZmZFbnRyeSh0KXtjb25zdCBlPXRoaXMuVmVydGljYWxHcmFwaGljYWxTdGFmZkVudHJ5Q29udGFpbmVyc1t0XTtsZXQgaT12b2lkIDA7dHJ5e2ZvcihsZXQgdD0wLHM9ZS5TdGFmZkVudHJpZXMubGVuZ3RoO3Q8czsrK3Qpe2NvbnN0IHM9ZS5TdGFmZkVudHJpZXNbdF07cyYmcy5zb3VyY2VTdGFmZkVudHJ5LlBhcmVudFN0YWZmLlBhcmVudEluc3RydW1lbnQuVmlzaWJsZSYmKGk/cy5Qb3NpdGlvbkFuZFNoYXBlJiZpLlBvc2l0aW9uQW5kU2hhcGUmJmkuUG9zaXRpb25BbmRTaGFwZS5SZWxhdGl2ZVBvc2l0aW9uLng+cy5Qb3NpdGlvbkFuZFNoYXBlLlJlbGF0aXZlUG9zaXRpb24ueCYmKGk9cyk6aT1zKX19Y2F0Y2godCl7dS5kZWZhdWx0LmluZm8oXCJHcmFwaGljYWxNdXNpY1NoZWV0LmdldFN0YWZmRW50cnlcIix0KX1yZXR1cm4gaX1HZXRQcmV2aW91c1Zpc2libGVDb250YWluZXJJbmRleCh0KXtmb3IobGV0IGU9dC0xO2U+PTA7ZS0tKXtjb25zdCB0PXRoaXMudmVydGljYWxHcmFwaGljYWxTdGFmZkVudHJ5Q29udGFpbmVyc1tlXS5TdGFmZkVudHJpZXM7Zm9yKGxldCBpPTAscz10Lmxlbmd0aDtpPHM7KytpKXtjb25zdCBzPXRbaV07aWYocyYmcy5zb3VyY2VTdGFmZkVudHJ5LlBhcmVudFN0YWZmLlBhcmVudEluc3RydW1lbnQuVmlzaWJsZSlyZXR1cm4gZX19cmV0dXJuLTF9R2V0TmV4dFZpc2libGVDb250YWluZXJJbmRleCh0KXtmb3IobGV0IGU9dCsxO2U8dGhpcy52ZXJ0aWNhbEdyYXBoaWNhbFN0YWZmRW50cnlDb250YWluZXJzLmxlbmd0aDsrK2Upe2NvbnN0IHQ9dGhpcy52ZXJ0aWNhbEdyYXBoaWNhbFN0YWZmRW50cnlDb250YWluZXJzW2VdLlN0YWZmRW50cmllcztmb3IobGV0IGk9MCxzPXQubGVuZ3RoO2k8czsrK2kpe2NvbnN0IHM9dFtpXTtpZihzJiZzLnNvdXJjZVN0YWZmRW50cnkuUGFyZW50U3RhZmYuUGFyZW50SW5zdHJ1bWVudC5WaXNpYmxlKXJldHVybiBlfX1yZXR1cm4tMX1maW5kQ2xvc2VzdExlZnRTdGFmZkVudHJ5KHQsZSl7bGV0IGk9dm9pZCAwLHM9TWF0aC5mbG9vcih0KTtzPU1hdGgubWluKHRoaXMuVmVydGljYWxHcmFwaGljYWxTdGFmZkVudHJ5Q29udGFpbmVycy5sZW5ndGgtMSxzKTtmb3IobGV0IHQ9czt0Pj0wO3QtLSlpZihpPXRoaXMuZ2V0U3RhZmZFbnRyeSh0KSxpKXtpZighZSlyZXR1cm4gaTtpZihpLnNvdXJjZVN0YWZmRW50cnkuUGFyZW50U3RhZmYuUGFyZW50SW5zdHJ1bWVudC5WaXNpYmxlKXJldHVybiBpfX1maW5kQ2xvc2VzdFJpZ2h0U3RhZmZFbnRyeSh0LGUpe2xldCBpPXZvaWQgMDtmb3IobGV0IHM9TWF0aC5tYXgoMCxNYXRoLmNlaWwodCkpO3M8dGhpcy5WZXJ0aWNhbEdyYXBoaWNhbFN0YWZmRW50cnlDb250YWluZXJzLmxlbmd0aDtzKyspaWYoaT10aGlzLmdldFN0YWZmRW50cnkocyksaSl7aWYoIWUpcmV0dXJuIGk7aWYoaS5zb3VyY2VTdGFmZkVudHJ5LlBhcmVudFN0YWZmLlBhcmVudEluc3RydW1lbnQuVmlzaWJsZSlyZXR1cm4gaX19Y2FsY3VsYXRlQ3Vyc29yTGluZUF0VGltZXN0YW1wKHQsZSl7Y29uc3QgaT10aGlzLmNhbGN1bGF0ZVhQb3NpdGlvbkZyb21UaW1lc3RhbXAodCkscz1pWzBdLG49aVsxXTtpZighbnx8MD09PW4uU3RhZmZMaW5lcy5sZW5ndGgpcmV0dXJuO2NvbnN0IGE9bi5Qb3NpdGlvbkFuZFNoYXBlLkFic29sdXRlUG9zaXRpb24ueSxoPWQuQ29sbGVjdGlvblV0aWwubGFzdChuLlN0YWZmTGluZXMpLlBvc2l0aW9uQW5kU2hhcGUuUmVsYXRpdmVQb3NpdGlvbi55KzQ7cmV0dXJuIG5ldyByLkdyYXBoaWNhbExpbmUobmV3IG8uUG9pbnRGMkQocyxhKSxuZXcgby5Qb2ludEYyRChzLGEraCksMyxlKX1jYWxjdWxhdGVYUG9zaXRpb25Gcm9tVGltZXN0YW1wKHQpe3ZhciBlLGkscyxuO2xldCByPXZvaWQgMDtjb25zdCBvPXRoaXMuR2V0SW50ZXJwb2xhdGVkSW5kZXhJblZlcnRpY2FsQ29udGFpbmVycyh0KSxhPXRoaXMuZmluZENsb3Nlc3RMZWZ0U3RhZmZFbnRyeShvLCEwKSxoPXRoaXMuZmluZENsb3Nlc3RSaWdodFN0YWZmRW50cnkobywhMCksYz10LlJlYWxWYWx1ZTtpZighYSYmIWgpcmV0dXJuWzAsdm9pZCAwXTtsZXQgdT12b2lkIDA7dT1hP251bGw9PT0oZT1hLnBhcmVudE1lYXN1cmUuUGFyZW50U3RhZmZMaW5lKXx8dm9pZCAwPT09ZT92b2lkIDA6ZS5QYXJlbnRNdXNpY1N5c3RlbTpudWxsPT09KGk9aC5wYXJlbnRNZWFzdXJlLlBhcmVudFN0YWZmTGluZSl8fHZvaWQgMD09PWk/dm9pZCAwOmkuUGFyZW50TXVzaWNTeXN0ZW07bGV0IGQ9dm9pZCAwO2lmKGQ9aD9udWxsPT09KHM9aC5wYXJlbnRNZWFzdXJlLlBhcmVudFN0YWZmTGluZSl8fHZvaWQgMD09PXM/dm9pZCAwOnMuUGFyZW50TXVzaWNTeXN0ZW06bnVsbD09PShuPWEucGFyZW50TWVhc3VyZS5QYXJlbnRTdGFmZkxpbmUpfHx2b2lkIDA9PT1uP3ZvaWQgMDpuLlBhcmVudE11c2ljU3lzdGVtLHU9PT1kKXtsZXQgdCxlLGk7aWYocj11LGEpaWYoaCllPWEuUG9zaXRpb25BbmRTaGFwZS5BYnNvbHV0ZVBvc2l0aW9uLngsaT1oLlBvc2l0aW9uQW5kU2hhcGUuQWJzb2x1dGVQb3NpdGlvbi54LHQ9YT09PWg/MDooYy1hLmdldEFic29sdXRlVGltZXN0YW1wKCkuUmVhbFZhbHVlKS8oaC5nZXRBYnNvbHV0ZVRpbWVzdGFtcCgpLlJlYWxWYWx1ZS1hLmdldEFic29sdXRlVGltZXN0YW1wKCkuUmVhbFZhbHVlKTtlbHNle2U9YS5Qb3NpdGlvbkFuZFNoYXBlLkFic29sdXRlUG9zaXRpb24ueCxpPXIuR2V0UmlnaHRCb3JkZXJBYnNvbHV0ZVhQb3NpdGlvbigpO2NvbnN0IHM9YS5wYXJlbnRNZWFzdXJlLnBhcmVudFNvdXJjZU1lYXN1cmU7dD0oYy1hLmdldEFic29sdXRlVGltZXN0YW1wKCkuUmVhbFZhbHVlKS8obC5GcmFjdGlvbi5wbHVzKHMuQWJzb2x1dGVUaW1lc3RhbXAscy5EdXJhdGlvbikuUmVhbFZhbHVlLWEuZ2V0QWJzb2x1dGVUaW1lc3RhbXAoKS5SZWFsVmFsdWUpfWVsc2UgZT1pPWguUG9zaXRpb25BbmRTaGFwZS5BYnNvbHV0ZVBvc2l0aW9uLngsdD0wO3JldHVybiB0PU1hdGgubWluKDEsTWF0aC5tYXgoMCx0KSksW2UrdCooaS1lKSxyXX17Y29uc3QgdD1oLnBhcmVudE1lYXN1cmUucGFyZW50U291cmNlTWVhc3VyZS5BYnNvbHV0ZVRpbWVzdGFtcC5SZWFsVmFsdWU7bGV0IGUsaTtpZihjPHQpe3I9dTtjb25zdCBzPWEuUG9zaXRpb25BbmRTaGFwZS5BYnNvbHV0ZVBvc2l0aW9uLngsbj1yLkdldFJpZ2h0Qm9yZGVyQWJzb2x1dGVYUG9zaXRpb24oKTtlPShjLWEuZ2V0QWJzb2x1dGVUaW1lc3RhbXAoKS5SZWFsVmFsdWUpLyh0LWEuZ2V0QWJzb2x1dGVUaW1lc3RhbXAoKS5SZWFsVmFsdWUpLGU9TWF0aC5taW4oMSxNYXRoLm1heCgwLGUpKSxpPXMrZSoobi1zKX1lbHNle3I9ZDtjb25zdCBzPWguUG9zaXRpb25BbmRTaGFwZS5BYnNvbHV0ZVBvc2l0aW9uLngsbj1yLkdldExlZnRCb3JkZXJBYnNvbHV0ZVhQb3NpdGlvbigpO2U9KGMtdCkvKGguZ2V0QWJzb2x1dGVUaW1lc3RhbXAoKS5SZWFsVmFsdWUtdCksZT1NYXRoLm1pbigxLE1hdGgubWF4KDAsZSkpLGk9bitlKihzLW4pfXJldHVybltpLHJdfX1HZXROdW1iZXJPZlZpc2libGVJbnN0cnVtZW50cygpe2xldCB0PTA7Zm9yKGxldCBlPTAsaT10aGlzLm11c2ljU2hlZXQuSW5zdHJ1bWVudHMubGVuZ3RoO2U8aTsrK2UpeyEwPT09dGhpcy5tdXNpY1NoZWV0Lkluc3RydW1lbnRzW2VdLlZpc2libGUmJnQrK31yZXR1cm4gdH1HZXROdW1iZXJPZkZvbGxvd2VkSW5zdHJ1bWVudHMoKXtsZXQgdD0wO2ZvcihsZXQgZT0wLGk9dGhpcy5tdXNpY1NoZWV0Lkluc3RydW1lbnRzLmxlbmd0aDtlPGk7KytlKXshMD09PXRoaXMubXVzaWNTaGVldC5JbnN0cnVtZW50c1tlXS5Gb2xsb3dpbmcmJnQrK31yZXR1cm4gdH1HZXRHcmFwaGljYWxGcm9tU291cmNlU3RhZmZFbnRyeSh0KXtyZXR1cm4gdC5WZXJ0aWNhbENvbnRhaW5lclBhcmVudC5QYXJlbnRNZWFzdXJlLlZlcnRpY2FsTWVhc3VyZUxpc3RbdC5QYXJlbnRTdGFmZi5pZEluTXVzaWNTaGVldF0uZmluZEdyYXBoaWNhbFN0YWZmRW50cnlGcm9tVGltZXN0YW1wKHQuVGltZXN0YW1wKX1DYWxjdWxhdGVEaXN0YW5jZSh0LGUpe2NvbnN0IGk9dC54LWUueCxzPXQueS1lLnk7cmV0dXJuIGkqaStzKnN9Z2V0TG9uZ2VzdFN0YWZmRW50cnlEdXJhdGlvbih0KXtsZXQgZT1uZXcgbC5GcmFjdGlvbigwLDEpO2Zvcihjb25zdCBpIG9mIHRoaXMudmVydGljYWxHcmFwaGljYWxTdGFmZkVudHJ5Q29udGFpbmVyc1t0XS5TdGFmZkVudHJpZXMpe2lmKCFpKWNvbnRpbnVlO2NvbnN0IHQ9aS5maW5kU3RhZmZFbnRyeU1heE5vdGVMZW5ndGgoKTtlLmx0KHQpJiYoZT10KX1yZXR1cm4gZX19O2UuU3lzdGVtSW1hZ2VQcm9wZXJ0aWVzPWNsYXNze319LGZ1bmN0aW9uKHQsZSxpKXtcInVzZSBzdHJpY3RcIjtPYmplY3QuZGVmaW5lUHJvcGVydHkoZSxcIl9fZXNNb2R1bGVcIix7dmFsdWU6ITB9KTtjb25zdCBzPWkoMzgpO2NsYXNzIG4gZXh0ZW5kcyBzLkFic3RyYWN0R3JhcGhpY2FsRXhwcmVzc2lvbntjb25zdHJ1Y3Rvcih0LGUpe3N1cGVyKGUuUG9zaXRpb25BbmRTaGFwZS5QYXJlbnQuRGF0YU9iamVjdCx0LHQucGFyZW50TWVhc3VyZSksdGhpcy5sYWJlbD1lfWdldCBHcmFwaGljYWxMYWJlbCgpe3JldHVybiB0aGlzLmxhYmVsfXVwZGF0ZVNreUJvdHRvbUxpbmUoKXt9fWUuR3JhcGhpY2FsSW5zdGFudGFuZW91c1RlbXBvRXhwcmVzc2lvbj1ufSxmdW5jdGlvbih0LGUsaSl7XCJ1c2Ugc3RyaWN0XCI7T2JqZWN0LmRlZmluZVByb3BlcnR5KGUsXCJfX2VzTW9kdWxlXCIse3ZhbHVlOiEwfSk7Y29uc3Qgcz1pKDkzKSxuPWkoMTEpLHI9aSgwKTtjbGFzcyBvIGV4dGVuZHMgcy5BYnN0cmFjdFRlbXBvRXhwcmVzc2lvbntjb25zdHJ1Y3Rvcih0LGUsaSxzLG4scj0hMSl7c3VwZXIodCxlLGksbiksdGhpcy5zZXRUZW1wb0FuZFRlbXBvVHlwZShzKX1zdGF0aWMgZ2V0RGVmYXVsdFZhbHVlRm9yVGVtcG9UeXBlKHQpe3N3aXRjaCh0KXtjYXNlIGEubGFyZ2hpc3NpbW86cmV0dXJuIDIwO2Nhc2UgYS5ncmF2ZTpyZXR1cm4gMzA7Y2FzZSBhLmxlbnRvOnJldHVybiA0ODtjYXNlIGEubGFyZ286cmV0dXJuIDUyO2Nhc2UgYS5sYXJnaGV0dG86cmV0dXJuIDYzO2Nhc2UgYS5hZGFnaW86cmV0dXJuIDcwO2Nhc2UgYS5hZGFnaWV0dG86cmV0dXJuIDc1O2Nhc2UgYS5hbmRhbnRlTW9kZXJhdG86cmV0dXJuIDg4O2Nhc2UgYS5hbmRhbnRlOnJldHVybiA5MjtjYXNlIGEuYW5kYW50aW5vOnJldHVybiA5NjtjYXNlIGEubW9kZXJhdG86cmV0dXJuIDEwNjtjYXNlIGEuYWxsZWdyZXR0bzpyZXR1cm4gMTEyO2Nhc2UgYS5hbGxlZ3JvTW9kZXJhdG86cmV0dXJuIDExODtjYXNlIGEuYWxsZWdybzpyZXR1cm4gMTMwO2Nhc2UgYS52aXZhY2U6cmV0dXJuIDE0MDtjYXNlIGEudml2YWNpc3NpbW86cmV0dXJuIDE1NTtjYXNlIGEuYWxsZWdyaXNzaW1vOnJldHVybiAxNzA7Y2FzZSBhLnByZXN0bzpyZXR1cm4gMTg0O2Nhc2UgYS5wcmVzdGlzc2ltbzpyZXR1cm4gMjAwO2RlZmF1bHQ6dGhyb3cgbmV3IG4uQXJndW1lbnRPdXRPZlJhbmdlRXhjZXB0aW9uKFwidGVtcG9FbnVtXCIpfX1zdGF0aWMgaXNJbnB1dFN0cmluZ0luc3RhbnRhbmVvdXNUZW1wbyh0KXtyZXR1cm4hIXQmJihvLmlzU3RyaW5nSW5TdHJpbmdMaXN0KG8ubGlzdEluc3RhbnRhbmVvdXNUZW1wb0xhcmdoaXNzaW1vLHQpfHxvLmlzU3RyaW5nSW5TdHJpbmdMaXN0KG8ubGlzdEluc3RhbnRhbmVvdXNUZW1wb0dyYXZlLHQpfHxvLmlzU3RyaW5nSW5TdHJpbmdMaXN0KG8ubGlzdEluc3RhbnRhbmVvdXNUZW1wb0xlbnRvLHQpfHxvLmlzU3RyaW5nSW5TdHJpbmdMaXN0KG8ubGlzdEluc3RhbnRhbmVvdXNUZW1wb0xhcmdvLHQpfHxvLmlzU3RyaW5nSW5TdHJpbmdMaXN0KG8ubGlzdEluc3RhbnRhbmVvdXNUZW1wb0xhcmdoZXR0byx0KXx8by5pc1N0cmluZ0luU3RyaW5nTGlzdChvLmxpc3RJbnN0YW50YW5lb3VzVGVtcG9BZGFnaW8sdCl8fG8uaXNTdHJpbmdJblN0cmluZ0xpc3Qoby5saXN0SW5zdGFudGFuZW91c1RlbXBvQWRhZ2lldHRvLHQpfHxvLmlzU3RyaW5nSW5TdHJpbmdMaXN0KG8ubGlzdEluc3RhbnRhbmVvdXNUZW1wb0FuZGFudGVNb2RlcmF0byx0KXx8by5pc1N0cmluZ0luU3RyaW5nTGlzdChvLmxpc3RJbnN0YW50YW5lb3VzVGVtcG9BbmRhbnRlLHQpfHxvLmlzU3RyaW5nSW5TdHJpbmdMaXN0KG8ubGlzdEluc3RhbnRhbmVvdXNUZW1wb0FuZGFudGlubyx0KXx8by5pc1N0cmluZ0luU3RyaW5nTGlzdChvLmxpc3RJbnN0YW50YW5lb3VzVGVtcG9Nb2RlcmF0byx0KXx8by5pc1N0cmluZ0luU3RyaW5nTGlzdChvLmxpc3RJbnN0YW50YW5lb3VzVGVtcG9BbGxlZ3JldHRvLHQpfHxvLmlzU3RyaW5nSW5TdHJpbmdMaXN0KG8ubGlzdEluc3RhbnRhbmVvdXNUZW1wb0FsbGVncm9Nb2RlcmF0byx0KXx8by5pc1N0cmluZ0luU3RyaW5nTGlzdChvLmxpc3RJbnN0YW50YW5lb3VzVGVtcG9BbGxlZ3JvLHQpfHxvLmlzU3RyaW5nSW5TdHJpbmdMaXN0KG8ubGlzdEluc3RhbnRhbmVvdXNUZW1wb1ZpdmFjZSx0KXx8by5pc1N0cmluZ0luU3RyaW5nTGlzdChvLmxpc3RJbnN0YW50YW5lb3VzVGVtcG9WaXZhY2lzc2ltbyx0KXx8by5pc1N0cmluZ0luU3RyaW5nTGlzdChvLmxpc3RJbnN0YW50YW5lb3VzVGVtcG9BbGxlZ3Jpc3NpbW8sdCl8fG8uaXNTdHJpbmdJblN0cmluZ0xpc3Qoby5saXN0SW5zdGFudGFuZW91c1RlbXBvUHJlc3RvLHQpfHxvLmlzU3RyaW5nSW5TdHJpbmdMaXN0KG8ubGlzdEluc3RhbnRhbmVvdXNUZW1wb1ByZXN0aXNzaW1vLHQpfHxvLmlzU3RyaW5nSW5TdHJpbmdMaXN0KG8ubGlzdEluc3RhbnRhbmVvdXNUZW1wb0NoYW5nZXNHZW5lcmFsLHQpKX1nZXQgTGFiZWwoKXtyZXR1cm4gdGhpcy5sYWJlbH1zZXQgTGFiZWwodCl7dGhpcy5sYWJlbD10fWdldCBQbGFjZW1lbnQoKXtyZXR1cm4gdGhpcy5wbGFjZW1lbnR9c2V0IFBsYWNlbWVudCh0KXt0aGlzLnBsYWNlbWVudD10fWdldCBTdGFmZk51bWJlcigpe3JldHVybiB0aGlzLnN0YWZmTnVtYmVyfXNldCBTdGFmZk51bWJlcih0KXt0aGlzLnN0YWZmTnVtYmVyPXR9Z2V0IEVudW0oKXtyZXR1cm4gdGhpcy50ZW1wb0VudW19Z2V0IFRlbXBvSW5CcG0oKXtyZXR1cm4gdGhpcy50ZW1wb0luQnBtfXNldCBUZW1wb0luQnBtKHQpe3RoaXMudGVtcG9JbkJwbT10fWdldCBQYXJlbnRNdWx0aVRlbXBvRXhwcmVzc2lvbigpe3JldHVybiB0aGlzLnBhcmVudE11bHRpVGVtcG9FeHByZXNzaW9ufWdldEFic29sdXRlVGltZXN0YW1wKCl7cmV0dXJuIHIuRnJhY3Rpb24ucGx1cyh0aGlzLlBhcmVudE11bHRpVGVtcG9FeHByZXNzaW9uLlNvdXJjZU1lYXN1cmVQYXJlbnQuQWJzb2x1dGVUaW1lc3RhbXAsdGhpcy5QYXJlbnRNdWx0aVRlbXBvRXhwcmVzc2lvbi5UaW1lc3RhbXApfWdldEFic29sdXRlRmxvYXRUaW1lc3RhbXAoKXtyZXR1cm4gci5GcmFjdGlvbi5wbHVzKHRoaXMuUGFyZW50TXVsdGlUZW1wb0V4cHJlc3Npb24uU291cmNlTWVhc3VyZVBhcmVudC5BYnNvbHV0ZVRpbWVzdGFtcCx0aGlzLlBhcmVudE11bHRpVGVtcG9FeHByZXNzaW9uLlRpbWVzdGFtcCkuUmVhbFZhbHVlfXNldFRlbXBvQW5kVGVtcG9UeXBlKHQpe3JldHVybiB0aGlzLmxhYmVsP28uaXNTdHJpbmdJblN0cmluZ0xpc3Qoby5saXN0SW5zdGFudGFuZW91c1RlbXBvTGFyZ2hpc3NpbW8sdGhpcy5sYWJlbCk/KDA9PT10JiYodD1vLmdldERlZmF1bHRWYWx1ZUZvclRlbXBvVHlwZShhLmxhcmdoaXNzaW1vKSksdGhpcy50ZW1wb0luQnBtPXQsdm9pZCh0aGlzLnRlbXBvRW51bT1hLmxhcmdoaXNzaW1vKSk6by5pc1N0cmluZ0luU3RyaW5nTGlzdChvLmxpc3RJbnN0YW50YW5lb3VzVGVtcG9HcmF2ZSx0aGlzLmxhYmVsKT8oMD09PXQmJih0PW8uZ2V0RGVmYXVsdFZhbHVlRm9yVGVtcG9UeXBlKGEuZ3JhdmUpKSx0aGlzLnRlbXBvSW5CcG09dCx2b2lkKHRoaXMudGVtcG9FbnVtPWEuZ3JhdmUpKTpvLmlzU3RyaW5nSW5TdHJpbmdMaXN0KG8ubGlzdEluc3RhbnRhbmVvdXNUZW1wb0xlbnRvLHRoaXMubGFiZWwpPygwPT09dCYmKHQ9by5nZXREZWZhdWx0VmFsdWVGb3JUZW1wb1R5cGUoYS5sZW50bykpLHRoaXMudGVtcG9JbkJwbT10LHZvaWQodGhpcy50ZW1wb0VudW09YS5sZW50bykpOm8uaXNTdHJpbmdJblN0cmluZ0xpc3Qoby5saXN0SW5zdGFudGFuZW91c1RlbXBvTGFyZ28sdGhpcy5sYWJlbCk/KDA9PT10JiYodD1vLmdldERlZmF1bHRWYWx1ZUZvclRlbXBvVHlwZShhLmxhcmdvKSksdGhpcy50ZW1wb0luQnBtPXQsdm9pZCh0aGlzLnRlbXBvRW51bT1hLmxhcmdvKSk6by5pc1N0cmluZ0luU3RyaW5nTGlzdChvLmxpc3RJbnN0YW50YW5lb3VzVGVtcG9MYXJnaGV0dG8sdGhpcy5sYWJlbCk/KDA9PT10JiYodD1vLmdldERlZmF1bHRWYWx1ZUZvclRlbXBvVHlwZShhLmxhcmdoZXR0bykpLHRoaXMudGVtcG9JbkJwbT10LHZvaWQodGhpcy50ZW1wb0VudW09YS5sYXJnaGV0dG8pKTpvLmlzU3RyaW5nSW5TdHJpbmdMaXN0KG8ubGlzdEluc3RhbnRhbmVvdXNUZW1wb0FkYWdpbyx0aGlzLmxhYmVsKT8oMD09PXQmJih0PW8uZ2V0RGVmYXVsdFZhbHVlRm9yVGVtcG9UeXBlKGEuYWRhZ2lvKSksdGhpcy50ZW1wb0luQnBtPXQsdm9pZCh0aGlzLnRlbXBvRW51bT1hLmFkYWdpbykpOm8uaXNTdHJpbmdJblN0cmluZ0xpc3Qoby5saXN0SW5zdGFudGFuZW91c1RlbXBvQWRhZ2lldHRvLHRoaXMubGFiZWwpPygwPT09dCYmKHQ9by5nZXREZWZhdWx0VmFsdWVGb3JUZW1wb1R5cGUoYS5hZGFnaWV0dG8pKSx0aGlzLnRlbXBvSW5CcG09dCx2b2lkKHRoaXMudGVtcG9FbnVtPWEuYWRhZ2lldHRvKSk6by5pc1N0cmluZ0luU3RyaW5nTGlzdChvLmxpc3RJbnN0YW50YW5lb3VzVGVtcG9BbmRhbnRlTW9kZXJhdG8sdGhpcy5sYWJlbCk/KDA9PT10JiYodD1vLmdldERlZmF1bHRWYWx1ZUZvclRlbXBvVHlwZShhLmFuZGFudGVNb2RlcmF0bykpLHRoaXMudGVtcG9JbkJwbT10LHZvaWQodGhpcy50ZW1wb0VudW09YS5hbmRhbnRlTW9kZXJhdG8pKTpvLmlzU3RyaW5nSW5TdHJpbmdMaXN0KG8ubGlzdEluc3RhbnRhbmVvdXNUZW1wb0FuZGFudGUsdGhpcy5sYWJlbCk/KDA9PT10JiYodD1vLmdldERlZmF1bHRWYWx1ZUZvclRlbXBvVHlwZShhLmFuZGFudGUpKSx0aGlzLnRlbXBvSW5CcG09dCx2b2lkKHRoaXMudGVtcG9FbnVtPWEuYW5kYW50ZSkpOm8uaXNTdHJpbmdJblN0cmluZ0xpc3Qoby5saXN0SW5zdGFudGFuZW91c1RlbXBvQW5kYW50aW5vLHRoaXMubGFiZWwpPygwPT09dCYmKHQ9by5nZXREZWZhdWx0VmFsdWVGb3JUZW1wb1R5cGUoYS5hbmRhbnRpbm8pKSx0aGlzLnRlbXBvSW5CcG09dCx2b2lkKHRoaXMudGVtcG9FbnVtPWEuYW5kYW50aW5vKSk6by5pc1N0cmluZ0luU3RyaW5nTGlzdChvLmxpc3RJbnN0YW50YW5lb3VzVGVtcG9Nb2RlcmF0byx0aGlzLmxhYmVsKT8oMD09PXQmJih0PW8uZ2V0RGVmYXVsdFZhbHVlRm9yVGVtcG9UeXBlKGEubW9kZXJhdG8pKSx0aGlzLnRlbXBvSW5CcG09dCx2b2lkKHRoaXMudGVtcG9FbnVtPWEubW9kZXJhdG8pKTpvLmlzU3RyaW5nSW5TdHJpbmdMaXN0KG8ubGlzdEluc3RhbnRhbmVvdXNUZW1wb0FsbGVncmV0dG8sdGhpcy5sYWJlbCk/KDA9PT10JiYodD1vLmdldERlZmF1bHRWYWx1ZUZvclRlbXBvVHlwZShhLmFsbGVncmV0dG8pKSx0aGlzLnRlbXBvSW5CcG09dCx2b2lkKHRoaXMudGVtcG9FbnVtPWEuYWxsZWdyZXR0bykpOm8uaXNTdHJpbmdJblN0cmluZ0xpc3Qoby5saXN0SW5zdGFudGFuZW91c1RlbXBvQWxsZWdyb01vZGVyYXRvLHRoaXMubGFiZWwpPygwPT09dCYmKHQ9by5nZXREZWZhdWx0VmFsdWVGb3JUZW1wb1R5cGUoYS5hbGxlZ3JvTW9kZXJhdG8pKSx0aGlzLnRlbXBvSW5CcG09dCx2b2lkKHRoaXMudGVtcG9FbnVtPWEuYWxsZWdyb01vZGVyYXRvKSk6by5pc1N0cmluZ0luU3RyaW5nTGlzdChvLmxpc3RJbnN0YW50YW5lb3VzVGVtcG9BbGxlZ3JvLHRoaXMubGFiZWwpPygwPT09dCYmKHQ9by5nZXREZWZhdWx0VmFsdWVGb3JUZW1wb1R5cGUoYS5hbGxlZ3JvKSksdGhpcy50ZW1wb0luQnBtPXQsdm9pZCh0aGlzLnRlbXBvRW51bT1hLmFsbGVncm8pKTpvLmlzU3RyaW5nSW5TdHJpbmdMaXN0KG8ubGlzdEluc3RhbnRhbmVvdXNUZW1wb1ZpdmFjZSx0aGlzLmxhYmVsKT8oMD09PXQmJih0PW8uZ2V0RGVmYXVsdFZhbHVlRm9yVGVtcG9UeXBlKGEudml2YWNlKSksdGhpcy50ZW1wb0luQnBtPXQsdm9pZCh0aGlzLnRlbXBvRW51bT1hLnZpdmFjZSkpOm8uaXNTdHJpbmdJblN0cmluZ0xpc3Qoby5saXN0SW5zdGFudGFuZW91c1RlbXBvVml2YWNpc3NpbW8sdGhpcy5sYWJlbCk/KDA9PT10JiYodD1vLmdldERlZmF1bHRWYWx1ZUZvclRlbXBvVHlwZShhLnZpdmFjaXNzaW1vKSksdGhpcy50ZW1wb0luQnBtPXQsdm9pZCh0aGlzLnRlbXBvRW51bT1hLnZpdmFjaXNzaW1vKSk6by5pc1N0cmluZ0luU3RyaW5nTGlzdChvLmxpc3RJbnN0YW50YW5lb3VzVGVtcG9BbGxlZ3Jpc3NpbW8sdGhpcy5sYWJlbCk/KDA9PT10JiYodD1vLmdldERlZmF1bHRWYWx1ZUZvclRlbXBvVHlwZShhLmFsbGVncmlzc2ltbykpLHRoaXMudGVtcG9JbkJwbT10LHZvaWQodGhpcy50ZW1wb0VudW09YS5hbGxlZ3Jpc3NpbW8pKTpvLmlzU3RyaW5nSW5TdHJpbmdMaXN0KG8ubGlzdEluc3RhbnRhbmVvdXNUZW1wb1ByZXN0byx0aGlzLmxhYmVsKT8oMD09PXQmJih0PW8uZ2V0RGVmYXVsdFZhbHVlRm9yVGVtcG9UeXBlKGEucHJlc3RvKSksdGhpcy50ZW1wb0luQnBtPXQsdm9pZCh0aGlzLnRlbXBvRW51bT1hLnByZXN0bykpOm8uaXNTdHJpbmdJblN0cmluZ0xpc3Qoby5saXN0SW5zdGFudGFuZW91c1RlbXBvUHJlc3Rpc3NpbW8sdGhpcy5sYWJlbCk/KDA9PT10JiYodD1vLmdldERlZmF1bHRWYWx1ZUZvclRlbXBvVHlwZShhLnByZXN0aXNzaW1vKSksdGhpcy50ZW1wb0luQnBtPXQsdm9pZCh0aGlzLnRlbXBvRW51bT1hLnByZXN0aXNzaW1vKSk6by5pc1N0cmluZ0luU3RyaW5nTGlzdChvLmxpc3RJbnN0YW50YW5lb3VzVGVtcG9BZGRvbnMsdGhpcy5sYWJlbCk/KHRoaXMudGVtcG9JbkJwbT0wLHZvaWQodGhpcy50ZW1wb0VudW09YS5hZGRvbikpOm8uaXNTdHJpbmdJblN0cmluZ0xpc3Qoby5saXN0SW5zdGFudGFuZW91c1RlbXBvQ2hhbmdlc0dlbmVyYWwsdGhpcy5sYWJlbCk/KHRoaXMudGVtcG9JbkJwbT0wLHZvaWQodGhpcy50ZW1wb0VudW09YS5jaGFuZ2VzKSk6dm9pZCAwOih0aGlzLnRlbXBvSW5CcG09dCx2b2lkKHRoaXMudGVtcG9FbnVtPWEubWV0cm9ub21lTWFyaykpfX12YXIgYTtlLkluc3RhbnRhbmVvdXNUZW1wb0V4cHJlc3Npb249byxvLmxpc3RJbnN0YW50YW5lb3VzVGVtcG9MYXJnaGlzc2ltbz1bXCJMYXJnaGlzc2ltb1wiLFwiU2VociBicmVpdFwiLFwidmVyeSwgdmVyeSBzbG93XCJdLG8ubGlzdEluc3RhbnRhbmVvdXNUZW1wb0dyYXZlPVtcIkdyYXZlXCIsXCJTY2h3ZXJcIixcInNsb3cgYW5kIHNvbGVtblwiXSxvLmxpc3RJbnN0YW50YW5lb3VzVGVtcG9MZW50bz1bXCJMZW50b1wiLFwiTGVudFwiLFwiTGFuZ3NhbVwiLFwic2xvd2x5XCJdLG8ubGlzdEluc3RhbnRhbmVvdXNUZW1wb0xhcmdvPVtcIkxhcmdvXCIsXCJCcmVpdFwiLFwiYnJvYWRseVwiXSxvLmxpc3RJbnN0YW50YW5lb3VzVGVtcG9MYXJnaGV0dG89W1wiTGFyZ2hldHRvXCIsXCJFdHdhcyBicmVpdFwiLFwicmF0aGVyIGJyb2FkbHlcIl0sby5saXN0SW5zdGFudGFuZW91c1RlbXBvQWRhZ2lvPVtcIkFkYWdpb1wiLFwiTGFuZ3NhbVwiLFwiUnVoaWdcIixcInNsb3cgYW5kIHN0YXRlbHlcIl0sby5saXN0SW5zdGFudGFuZW91c1RlbXBvQWRhZ2lldHRvPVtcIkFkYWdpZXR0b1wiLFwiWmllbWxpY2ggcnVoaWdcIixcIlppZW1saWNoIGxhbmdzYW1cIixcInJhdGhlciBzbG93XCJdLG8ubGlzdEluc3RhbnRhbmVvdXNUZW1wb0FuZGFudGVNb2RlcmF0bz1bXCJBbmRhbnRlIG1vZGVyYXRvXCJdLG8ubGlzdEluc3RhbnRhbmVvdXNUZW1wb0FuZGFudGU9W1wiQW5kYW50ZVwiLFwiR2VoZW5kXCIsXCJTY2hyZWl0ZW5kXCIsXCJhdCBhIHdhbGtpbmcgcGFjZVwiXSxvLmxpc3RJbnN0YW50YW5lb3VzVGVtcG9BbmRhbnRpbm89W1wiQW5kYW50aW5vXCJdLG8ubGlzdEluc3RhbnRhbmVvdXNUZW1wb01vZGVyYXRvPVtcIk1vZGVyYXRvXCIsXCJNw6TDn2lnXCIsXCJNb2Tvv71y77+9XCIsXCJtb2RlcmF0ZWx5XCJdLG8ubGlzdEluc3RhbnRhbmVvdXNUZW1wb0FsbGVncmV0dG89W1wiQWxsZWdyZXR0b1wiLFwiZmFzdFwiXSxvLmxpc3RJbnN0YW50YW5lb3VzVGVtcG9BbGxlZ3JvTW9kZXJhdG89W1wiQWxsZWdybyBtb2RlcmF0b1wiXSxvLmxpc3RJbnN0YW50YW5lb3VzVGVtcG9BbGxlZ3JvPVtcIkFsbGVncm9cIixcIlJhcGlkZVwiLFwiVml0ZVwiLFwiUmFzY2hcIixcIlNjaG5lbGxcIixcIkZy77+9aGxpY2hcIl0sby5saXN0SW5zdGFudGFuZW91c1RlbXBvVml2YWNlPVtcIlZpdmFjZVwiLFwiTGViaGFmdFwiLFwiTGViZW5kaWdcIixcImxpdmVseSBhbmQgZmFzdFwiXSxvLmxpc3RJbnN0YW50YW5lb3VzVGVtcG9WaXZhY2lzc2ltbz1bXCJWaXZhY2lzc2ltb1wiLFwiU2VociBsZWJoYWZ0XCIsXCJTZWhyIGxlYmVuZGlnXCJdLG8ubGlzdEluc3RhbnRhbmVvdXNUZW1wb0FsbGVncmlzc2ltbz1bXCJBbGxlZ3Jpc3NpbW9cIixcInZlcnkgZmFzdFwiXSxvLmxpc3RJbnN0YW50YW5lb3VzVGVtcG9QcmVzdG89W1wiUHJlc3RvXCIsXCJTZWhyIHNjaG5lbGxcIixcIkdlc2Nod2luZFwiXSxvLmxpc3RJbnN0YW50YW5lb3VzVGVtcG9QcmVzdGlzc2ltbz1bXCJQcmVzdGlzc2ltb1wiLFwiw6R1w59lcnN0IHNjaG5lbGxcIl0sby5saXN0SW5zdGFudGFuZW91c1RlbXBvQ2hhbmdlc0dlbmVyYWw9W1widGVtcG8gcHJpbW9cIixcImEgdGVtcG9cIixcInRlbXBvIGlcIixcInJ1YmF0b1wiLFwiZG9wcGlvIG1vdmltZW50b1wiXSxvLmxpc3RJbnN0YW50YW5lb3VzVGVtcG9BZGRvbnM9W1wiYXNzYWlcIixcImFtb3Jvc29cIixcImNhbnRhYmlsZVwiLFwiY29uIGJyaW9cIixcImNvbiBkb2xvcmVcIixcImNvbiBlc3ByZXNzaW9uZVwiLFwiY29uIGZ1b2NvXCIsXCJjb24gbW90b1wiLFwiY29uIHNwaXJpdG9cIixcInNwaXJpdG9zb1wiLFwiZXNwcmVzc2l2b1wiLFwiZ2lvY29zb1wiLFwiZ2l1c3RvXCIsXCJncmF6aW9zb1wiLFwibGVzdG9cIixcImx1Z3VicmVcIixcIm1hZXN0b3NvXCIsXCJtYSBub24gdHJvcHBvXCIsXCJtYXJjYXRvXCIsXCJtb2x0b1wiLFwibW9yZW5kb1wiLFwibW9zc29cIixcIm5vbiB0YW50b1wiLFwicGl1XCIsXCJ1biBwb2NvXCIsXCJwb2NvXCIsXCJxdWFzaVwiLFwicmlzb2x1dG9cIixcInNjaGVyemFuZG9cIixcInNvc3RlbnV0b1wiLFwidGVuZXJhbWVudGVcIixcInRlbXBvIGdpdXN0b1wiLFwidHJhbnF1aWxsb1wiLFwic2VoclwiLFwibGllYmxpY2hcIixcImxpZWJldm9sbFwiLFwibWl0IExlaWRlbnNjaGFmdFwiLFwibWl0IExpZWJlXCIsXCJhbW91csO2c1wiLFwiZ2VzYW5nbGljaFwiLFwibWl0IFNjaHd1bmdcIixcIm1pdCBGZXVlclwiLFwibWl0IFNjaG1lcnpcIixcIm1pdCBBdXNkcnVja1wiLFwibWl0IEJld2VndW5nXCIsXCJnZWlzdHZvbGxcIixcImF1c2RydWNrc3ZvbGxcIixcImZyZXVkaWdcIixcInZlcnNwaWVsdFwiLFwiYW5nZW1lc3NlblwiLFwiZ3JhemnDtnNcIixcIm1pdCBHcmF6aWVcIixcImZsaW5rXCIsXCJiZWjDpG5kZVwiLFwidHJhdXJpZ1wiLFwia2xhZ2VuZFwiLFwibWFqZXN0w6R0aXNjaFwiLFwiYWJlciBuaWNodCB6dSBzZWhyXCIsXCJtYXJrYW50XCIsXCJnZW3DpMOfaWd0XCIsXCJ2aWVsXCIsXCJzZWhyXCIsXCJlcnN0ZXJiZW5kXCIsXCJiZXdlZ3RcIixcIm5pY2h0IHp1IHNlaHJcIixcIm1laHJcIixcImVpbiB3ZW5pZ1wiLFwiZ2xlaWNoc2FtXCIsXCJlbnRzY2hsb3NzZW5cIixcInp1cGFja2VuZFwiLFwiaGVpdGVyXCIsXCJuYWNoZHLDvGNrbGljaFwiLFwiZ2V0cmFnZW5cIixcImdld2ljaHRpZ1wiLFwiemFydFwiLFwiesOkcnRsaWNoXCIsXCJpbSBhbmdlbWVzc2VuZW4gWmVpdG1hw59cIixcInJ1aGlnXCIsXCJlaW4gd2VuaWdcIixcImFsbGEgbWFyY2lhXCIsXCJhZCBsaWJpdHVtXCIsXCJhbGxhIGJyZXZlXCJdLGZ1bmN0aW9uKHQpe3RbdC5ub25lPTBdPVwibm9uZVwiLHRbdC5sYXJnaGlzc2ltbz0xXT1cImxhcmdoaXNzaW1vXCIsdFt0LmdyYXZlPTJdPVwiZ3JhdmVcIix0W3QubGVudG89M109XCJsZW50b1wiLHRbdC5sYXJnbz00XT1cImxhcmdvXCIsdFt0LmxhcmdoZXR0bz01XT1cImxhcmdoZXR0b1wiLHRbdC5hZGFnaW89Nl09XCJhZGFnaW9cIix0W3QuYWRhZ2lldHRvPTddPVwiYWRhZ2lldHRvXCIsdFt0LmFuZGFudGVNb2RlcmF0bz04XT1cImFuZGFudGVNb2RlcmF0b1wiLHRbdC5hbmRhbnRlPTldPVwiYW5kYW50ZVwiLHRbdC5hbmRhbnRpbm89MTBdPVwiYW5kYW50aW5vXCIsdFt0Lm1vZGVyYXRvPTExXT1cIm1vZGVyYXRvXCIsdFt0LmFsbGVncmV0dG89MTJdPVwiYWxsZWdyZXR0b1wiLHRbdC5hbGxlZ3JvTW9kZXJhdG89MTNdPVwiYWxsZWdyb01vZGVyYXRvXCIsdFt0LmFsbGVncm89MTRdPVwiYWxsZWdyb1wiLHRbdC52aXZhY2U9MTVdPVwidml2YWNlXCIsdFt0LnZpdmFjaXNzaW1vPTE2XT1cInZpdmFjaXNzaW1vXCIsdFt0LmFsbGVncmlzc2ltbz0xN109XCJhbGxlZ3Jpc3NpbW9cIix0W3QucHJlc3RvPTE4XT1cInByZXN0b1wiLHRbdC5wcmVzdGlzc2ltbz0xOV09XCJwcmVzdGlzc2ltb1wiLHRbdC5sYXN0UmVhbFRlbXBvPTIwXT1cImxhc3RSZWFsVGVtcG9cIix0W3QuYWRkb249MjFdPVwiYWRkb25cIix0W3QuY2hhbmdlcz0yMl09XCJjaGFuZ2VzXCIsdFt0Lm1ldHJvbm9tZU1hcms9MjNdPVwibWV0cm9ub21lTWFya1wifShhPWUuVGVtcG9FbnVtfHwoZS5UZW1wb0VudW09e30pKX0sZnVuY3Rpb24odCxlLGkpe1widXNlIHN0cmljdFwiO09iamVjdC5kZWZpbmVQcm9wZXJ0eShlLFwiX19lc01vZHVsZVwiLHt2YWx1ZTohMH0pO2NvbnN0IHM9aSgwKSxuPWkoOTMpO2NsYXNzIHIgZXh0ZW5kcyBuLkFic3RyYWN0VGVtcG9FeHByZXNzaW9ue2NvbnN0cnVjdG9yKHQsZSxpLHMpe3N1cGVyKHQsZSxpLHMpLHRoaXMuc2V0VGVtcG9UeXBlKCl9c3RhdGljIGlzSW5wdXRTdHJpbmdDb250aW51b3VzVGVtcG8odCl7cmV0dXJuISF0JiYoci5pc1N0cmluZ0luU3RyaW5nTGlzdChyLmxpc3RDb250aW51b3VzVGVtcG9GYXN0ZXIsdCl8fHIuaXNTdHJpbmdJblN0cmluZ0xpc3Qoci5saXN0Q29udGludW91c1RlbXBvU2xvd2VyLHQpKX1zdGF0aWMgaXNJbmNyZWFzaW5nVGVtcG8odCl7cmV0dXJuIHQ8PW8ucGl1TW9zc299c3RhdGljIGlzRGVjcmVhc2luZ1RlbXBvKHQpe3JldHVybiB0Pj1vLmFsbGFyZ2FuZG8mJnQ8PW8ucml0ZW51dG99Z2V0IFRlbXBvVHlwZSgpe3JldHVybiB0aGlzLnRlbXBvVHlwZX1zZXQgVGVtcG9UeXBlKHQpe3RoaXMudGVtcG9UeXBlPXR9Z2V0IFN0YXJ0VGVtcG8oKXtyZXR1cm4gdGhpcy5zdGFydFRlbXBvfXNldCBTdGFydFRlbXBvKHQpe3RoaXMuc3RhcnRUZW1wbz10fWdldCBFbmRUZW1wbygpe3JldHVybiB0aGlzLmVuZFRlbXBvfXNldCBFbmRUZW1wbyh0KXt0aGlzLmVuZFRlbXBvPXR9Z2V0IEFic29sdXRlRW5kVGltZXN0YW1wKCl7cmV0dXJuIHRoaXMuYWJzb2x1dGVFbmRUaW1lc3RhbXB9c2V0IEFic29sdXRlRW5kVGltZXN0YW1wKHQpe3RoaXMuYWJzb2x1dGVFbmRUaW1lc3RhbXA9dH1nZXQgQWJzb2x1dGVUaW1lc3RhbXAoKXtyZXR1cm4gdGhpcy5QYXJlbnRNdWx0aVRlbXBvRXhwcmVzc2lvbi5BYnNvbHV0ZVRpbWVzdGFtcH1nZXRBYnNvbHV0ZUZsb2F0VGltZXN0YW1wKCl7cmV0dXJuIHRoaXMuUGFyZW50TXVsdGlUZW1wb0V4cHJlc3Npb24uQWJzb2x1dGVUaW1lc3RhbXAuUmVhbFZhbHVlfWdldEludGVycG9sYXRlZFRlbXBvKHQpe2NvbnN0IGU9cy5GcmFjdGlvbi5wbHVzKHRoaXMucGFyZW50TXVsdGlUZW1wb0V4cHJlc3Npb24uU291cmNlTWVhc3VyZVBhcmVudC5BYnNvbHV0ZVRpbWVzdGFtcCx0aGlzLnBhcmVudE11bHRpVGVtcG9FeHByZXNzaW9uLlRpbWVzdGFtcCk7aWYodC5sdChlKSlyZXR1cm4tMTtpZih0aGlzLmFic29sdXRlRW5kVGltZXN0YW1wLmx0KHQpKXJldHVybi0yO2NvbnN0IGk9cy5GcmFjdGlvbi5taW51cyh0LGUpLlJlYWxWYWx1ZS9zLkZyYWN0aW9uLm1pbnVzKHRoaXMuYWJzb2x1dGVFbmRUaW1lc3RhbXAsZSkuUmVhbFZhbHVlO3JldHVybiBNYXRoLm1heCgwLE1hdGgubWluKDI1MCx0aGlzLnN0YXJ0VGVtcG8rKHRoaXMuZW5kVGVtcG8tdGhpcy5zdGFydFRlbXBvKSppKSl9c2V0VGVtcG9UeXBlKCl7ci5pc1N0cmluZ0luU3RyaW5nTGlzdChyLmxpc3RDb250aW51b3VzVGVtcG9GYXN0ZXIsdGhpcy5sYWJlbCk/dGhpcy50ZW1wb1R5cGU9by5hY2NlbGVyYW5kbzpyLmlzU3RyaW5nSW5TdHJpbmdMaXN0KHIubGlzdENvbnRpbnVvdXNUZW1wb1Nsb3dlcix0aGlzLmxhYmVsKSYmKHRoaXMudGVtcG9UeXBlPW8ucml0YXJkYW5kbyl9fXZhciBvO2UuQ29udGludW91c1RlbXBvRXhwcmVzc2lvbj1yLHIubGlzdENvbnRpbnVvdXNUZW1wb0Zhc3Rlcj1bXCJhY2NlbGVyYW5kb1wiLFwicGl1IG1vc3NvXCIsXCJwb2NvIHBpdVwiLFwic3RyZXR0b1wiXSxyLmxpc3RDb250aW51b3VzVGVtcG9TbG93ZXI9W1wicG9jbyBtZW5vXCIsXCJtZW5vIG1vc3NvXCIsXCJwaXUgbGVudG9cIixcImNhbGFuZG9cIixcImFsbGFyZ2FuZG9cIixcInJhbGxlbnRhbmRvXCIsXCJyaXRhcmRhbmRvXCIsXCJyaXRlbnV0b1wiLFwicml0YXJkLlwiLFwicml0YXJkXCIsXCJyaXQuXCIsXCJyaXRcIixcInJpdGVuLlwiLFwicml0ZW5cIl0sZnVuY3Rpb24odCl7dFt0LmFjY2VsZXJhbmRvPTBdPVwiYWNjZWxlcmFuZG9cIix0W3Quc3RyZXR0bz0xXT1cInN0cmV0dG9cIix0W3Quc3RyaW5nZW5kbz0yXT1cInN0cmluZ2VuZG9cIix0W3QubW9zc289M109XCJtb3Nzb1wiLHRbdC5waXVNb3Nzbz00XT1cInBpdU1vc3NvXCIsdFt0LmFsbGFyZ2FuZG89NV09XCJhbGxhcmdhbmRvXCIsdFt0LmNhbGFuZG89Nl09XCJjYWxhbmRvXCIsdFt0Lm1lbm9Nb3Nzbz03XT1cIm1lbm9Nb3Nzb1wiLHRbdC5yYWxsZW50YW5kbz04XT1cInJhbGxlbnRhbmRvXCIsdFt0LnJpdGFyZGFuZG89OV09XCJyaXRhcmRhbmRvXCIsdFt0LnJpdGFyZD0xMF09XCJyaXRhcmRcIix0W3Qucml0PTExXT1cInJpdFwiLHRbdC5yaXRlbnV0bz0xMl09XCJyaXRlbnV0b1wiLHRbdC5ydWJhdG89MTNdPVwicnViYXRvXCIsdFt0LnByZWNpcGl0YW5kbz0xNF09XCJwcmVjaXBpdGFuZG9cIn0obz1lLkNvbnRpbnVvdXNUZW1wb1R5cGV8fChlLkNvbnRpbnVvdXNUZW1wb1R5cGU9e30pKX0sZnVuY3Rpb24odCxlLGkpe1widXNlIHN0cmljdFwiO09iamVjdC5kZWZpbmVQcm9wZXJ0eShlLFwiX19lc01vZHVsZVwiLHt2YWx1ZTohMH0pO2NsYXNzIHN7Y29uc3RydWN0b3IodCl7aWYodGhpcy5oYXNBdHRyaWJ1dGVzPSExLCF0KXRocm93IG5ldyBFcnJvcihcIklYbWxFbGVtZW50OiBleHBlY3RlZCBFbGVtZW50LCBnb3QgdW5kZWZpbmVkXCIpO3RoaXMuZWxlbT10LHRoaXMubmFtZT10Lm5vZGVOYW1lLnRvTG93ZXJDYXNlKCksdC5oYXNBdHRyaWJ1dGVzKCkmJih0aGlzLmhhc0F0dHJpYnV0ZXM9ITAsdGhpcy5maXJzdEF0dHJpYnV0ZT10LmF0dHJpYnV0ZXNbMF0pLHRoaXMuaGFzRWxlbWVudHM9dC5oYXNDaGlsZE5vZGVzKCksMT09PXQuY2hpbGROb2Rlcy5sZW5ndGgmJnQuY2hpbGROb2Rlc1swXS5ub2RlVHlwZT09PU5vZGUuVEVYVF9OT0RFP3RoaXMudmFsdWU9dC5jaGlsZE5vZGVzWzBdLm5vZGVWYWx1ZTp0aGlzLnZhbHVlPVwiXCJ9YXR0cmlidXRlKHQpe3JldHVybiB0aGlzLmVsZW0uYXR0cmlidXRlcy5nZXROYW1lZEl0ZW0odCl9YXR0cmlidXRlcygpe2lmKCF0aGlzLmF0dHJzKXtjb25zdCB0PXRoaXMuZWxlbS5hdHRyaWJ1dGVzLGU9W107Zm9yKGxldCBpPTA7aTx0Lmxlbmd0aDtpKz0xKWUucHVzaCh0W2ldKTt0aGlzLmF0dHJzPWV9cmV0dXJuIHRoaXMuYXR0cnN9ZWxlbWVudCh0KXtjb25zdCBlPXRoaXMuZWxlbS5jaGlsZE5vZGVzO2ZvcihsZXQgaT0wLG49ZS5sZW5ndGg7aTxuO2krPTEpe2NvbnN0IG49ZVtpXTtpZihuLm5vZGVUeXBlPT09Tm9kZS5FTEVNRU5UX05PREUmJm4ubm9kZU5hbWUudG9Mb3dlckNhc2UoKT09PXQpcmV0dXJuIG5ldyBzKG4pfX1lbGVtZW50cyh0KXtjb25zdCBlPXRoaXMuZWxlbS5jaGlsZE5vZGVzLGk9W10sbj0hdDtufHwodD10LnRvTG93ZXJDYXNlKCkpO2ZvcihsZXQgcj0wO3I8ZS5sZW5ndGg7cis9MSl7Y29uc3Qgbz1lW3JdO28ubm9kZVR5cGUhPT1Ob2RlLkVMRU1FTlRfTk9ERXx8IW4mJm8ubm9kZU5hbWUudG9Mb3dlckNhc2UoKSE9PXR8fGkucHVzaChuZXcgcyhvKSl9cmV0dXJuIGl9fWUuSVhtbEVsZW1lbnQ9c30sZnVuY3Rpb24odCxlLGkpe1widXNlIHN0cmljdFwiO09iamVjdC5kZWZpbmVQcm9wZXJ0eShlLFwiX19lc01vZHVsZVwiLHt2YWx1ZTohMH0pO2NvbnN0IHM9aSg2MSksbj1pKDEzKSxyPWkoOTkpO2NsYXNzIG8gZXh0ZW5kcyBzLkluc3RydW1lbnRhbEdyb3Vwe2NvbnN0cnVjdG9yKHQsZSxpLHMpe3N1cGVyKHZvaWQgMCxpLHMpLHRoaXMudHJhbnNwb3NlPTAsdGhpcy52b2ljZXM9W10sdGhpcy5zdGF2ZXM9W10sdGhpcy5oYXNMeXJpY3M9ITEsdGhpcy5oYXNDaG9yZFN5bWJvbHM9ITEsdGhpcy5seXJpY1ZlcnNlc051bWJlcnM9W10sdGhpcy5zdWJJbnN0cnVtZW50cz1bXSx0aGlzLmlkPXQsdGhpcy5pZFN0cmluZz1lLHRoaXMubmFtZUxhYmVsPW5ldyBuLkxhYmVsKGUpfWdldCBWb2ljZXMoKXtyZXR1cm4gdGhpcy52b2ljZXN9Z2V0IFN0YXZlcygpe3JldHVybiB0aGlzLnN0YXZlc31nZXQgTmFtZUxhYmVsKCl7cmV0dXJuIHRoaXMubmFtZUxhYmVsfWdldCBIYXNMeXJpY3MoKXtyZXR1cm4gdGhpcy5oYXNMeXJpY3N9c2V0IEhhc0x5cmljcyh0KXt0aGlzLmhhc0x5cmljcz10fWdldCBIYXNDaG9yZFN5bWJvbHMoKXtyZXR1cm4gdGhpcy5oYXNDaG9yZFN5bWJvbHN9c2V0IEhhc0Nob3JkU3ltYm9scyh0KXt0aGlzLmhhc0Nob3JkU3ltYm9scz10fWdldCBMeXJpY1ZlcnNlc051bWJlcnMoKXtyZXR1cm4gdGhpcy5seXJpY1ZlcnNlc051bWJlcnN9c2V0IEx5cmljVmVyc2VzTnVtYmVycyh0KXt0aGlzLmx5cmljVmVyc2VzTnVtYmVycz10fWdldCBOYW1lKCl7cmV0dXJuIHRoaXMubmFtZUxhYmVsLnRleHR9c2V0IE5hbWUodCl7dGhpcy5uYW1lTGFiZWwudGV4dD10fWdldCBJZFN0cmluZygpe3JldHVybiB0aGlzLmlkU3RyaW5nfWdldCBJZCgpe3JldHVybiB0aGlzLmlkfWdldCBNaWRpSW5zdHJ1bWVudElkKCl7cmV0dXJuIHRoaXMuc3ViSW5zdHJ1bWVudHNbMF0ubWlkaUluc3RydW1lbnRJRH1zZXQgTWlkaUluc3RydW1lbnRJZCh0KXt0aGlzLnN1Ykluc3RydW1lbnRzWzBdLm1pZGlJbnN0cnVtZW50SUQ9dH1nZXQgVm9sdW1lKCl7cmV0dXJuIHRoaXMuc3ViSW5zdHJ1bWVudHNbMF0udm9sdW1lfXNldCBWb2x1bWUodCl7Zm9yKGxldCBlPTAsaT10aGlzLnN1Ykluc3RydW1lbnRzLmxlbmd0aDtlPGk7KytlKXt0aGlzLnN1Ykluc3RydW1lbnRzW2VdLnZvbHVtZT10fX1nZXQgUGxheWJhY2tUcmFuc3Bvc2UoKXtyZXR1cm4gdGhpcy5wbGF5YmFja1RyYW5zcG9zZX1zZXQgUGxheWJhY2tUcmFuc3Bvc2UodCl7dGhpcy5wbGF5YmFja1RyYW5zcG9zZT10fWdldCBTdWJJbnN0cnVtZW50cygpe3JldHVybiB0aGlzLnN1Ykluc3RydW1lbnRzfWdldFN1Ykluc3RydW1lbnQodCl7Zm9yKGxldCBlPTAsaT10aGlzLnN1Ykluc3RydW1lbnRzLmxlbmd0aDtlPGk7KytlKXtjb25zdCBpPXRoaXMuc3ViSW5zdHJ1bWVudHNbZV07aWYoaS5pZFN0cmluZz09PXQpcmV0dXJuIGl9fWdldCBQYXJ0QWJicmV2aWF0aW9uKCl7cmV0dXJuIHRoaXMucGFydEFiYnJldmlhdGlvbn1zZXQgUGFydEFiYnJldmlhdGlvbih0KXt0aGlzLnBhcnRBYmJyZXZpYXRpb249dH1nZXQgVmlzaWJsZSgpe3JldHVybiB0aGlzLnZvaWNlcy5sZW5ndGg+MCYmdGhpcy5Wb2ljZXNbMF0uVmlzaWJsZX1zZXQgVmlzaWJsZSh0KXtmb3IobGV0IGU9MCxpPXRoaXMuVm9pY2VzLmxlbmd0aDtlPGk7KytlKXt0aGlzLlZvaWNlc1tlXS5WaXNpYmxlPXR9fWdldCBBdWRpYmxlKCl7bGV0IHQ9ITE7Zm9yKGxldCBlPTAsaT10aGlzLlZvaWNlcy5sZW5ndGg7ZTxpOysrZSl7Y29uc3QgaT10aGlzLlZvaWNlc1tlXTt0PXR8fGkuQXVkaWJsZX1yZXR1cm4gdH1zZXQgQXVkaWJsZSh0KXtmb3IobGV0IGU9MCxpPXRoaXMuVm9pY2VzLmxlbmd0aDtlPGk7KytlKXt0aGlzLlZvaWNlc1tlXS5BdWRpYmxlPXR9Zm9yKGxldCBlPTAsaT10aGlzLnN0YXZlcy5sZW5ndGg7ZTxpOysrZSl7dGhpcy5zdGF2ZXNbZV0uYXVkaWJsZT10fX1nZXQgRm9sbG93aW5nKCl7bGV0IHQ9ITE7Zm9yKGxldCBlPTAsaT10aGlzLlZvaWNlcy5sZW5ndGg7ZTxpOysrZSl7Y29uc3QgaT10aGlzLlZvaWNlc1tlXTt0PXR8fGkuRm9sbG93aW5nfXJldHVybiB0fXNldCBGb2xsb3dpbmcodCl7Zm9yKGxldCBlPTAsaT10aGlzLlZvaWNlcy5sZW5ndGg7ZTxpOysrZSl7dGhpcy5Wb2ljZXNbZV0uRm9sbG93aW5nPXR9Zm9yKGxldCBlPTAsaT10aGlzLnN0YXZlcy5sZW5ndGg7ZTxpOysrZSl7dGhpcy5zdGF2ZXNbZV0uZm9sbG93aW5nPXR9fVNldFZvaWNlQXVkaWJsZSh0LGUpe2ZvcihsZXQgaT0wLHM9dGhpcy5Wb2ljZXMubGVuZ3RoO2k8czsrK2kpe2NvbnN0IHM9dGhpcy5Wb2ljZXNbaV07aWYocy5Wb2ljZUlkPT09dCl7cy5BdWRpYmxlPWU7YnJlYWt9fX1TZXRWb2ljZUZvbGxvd2luZyh0LGUpe2ZvcihsZXQgaT0wLHM9dGhpcy5Wb2ljZXMubGVuZ3RoO2k8czsrK2kpe2NvbnN0IHM9dGhpcy5Wb2ljZXNbaV07aWYocy5Wb2ljZUlkPT09dCl7cy5Gb2xsb3dpbmc9ZTticmVha319fVNldFN0YWZmQXVkaWJsZSh0LGUpe2NvbnN0IGk9dGhpcy5zdGF2ZXNbdC0xXTtpZihpLmF1ZGlibGU9ZSxlKWZvcihsZXQgdD0wLGU9aS5Wb2ljZXMubGVuZ3RoO3Q8ZTsrK3Qpe2kuVm9pY2VzW3RdLkF1ZGlibGU9ITB9ZWxzZSBmb3IobGV0IGU9MCxzPWkuVm9pY2VzLmxlbmd0aDtlPHM7KytlKXtjb25zdCBzPWkuVm9pY2VzW2VdO2xldCBuPSExO2ZvcihsZXQgZT0wLGk9dGhpcy5TdGF2ZXMubGVuZ3RoO2U8aTsrK2Upe2NvbnN0IGk9dGhpcy5TdGF2ZXNbZV07aWYoaS5JZCE9PXQmJmkuYXVkaWJsZSlmb3IobGV0IHQ9MCxlPWkuVm9pY2VzLmxlbmd0aDt0PGU7Kyt0KXtpLlZvaWNlc1t0XT09PXMmJihuPSEwKX19bnx8KHMuQXVkaWJsZT0hMSl9fVNldFN0YWZmRm9sbG93KHQsZSl7Y29uc3QgaT10aGlzLnN0YXZlc1t0LTFdO2lmKGkuZm9sbG93aW5nPWUsZSlmb3IobGV0IHQ9MCxlPWkuVm9pY2VzLmxlbmd0aDt0PGU7Kyt0KXtpLlZvaWNlc1t0XS5Gb2xsb3dpbmc9ITB9ZWxzZSBmb3IobGV0IGU9MCxzPWkuVm9pY2VzLmxlbmd0aDtlPHM7KytlKXtjb25zdCBzPWkuVm9pY2VzW2VdO2xldCBuPSExO2ZvcihsZXQgZT0wLGk9dGhpcy5TdGF2ZXMubGVuZ3RoO2U8aTsrK2Upe2NvbnN0IGk9dGhpcy5TdGF2ZXNbZV07aWYoaS5JZCE9PXQmJmkuZm9sbG93aW5nKWZvcihsZXQgdD0wLGU9aS5Wb2ljZXMubGVuZ3RoO3Q8ZTsrK3Qpe2kuVm9pY2VzW3RdPT09cyYmKG49ITApfX1ufHwocy5Gb2xsb3dpbmc9ITEpfX1hcmVBbGxWb2ljZVZpc2libGUoKXtmb3IoY29uc3QgdCBvZiB0aGlzLlZvaWNlcylpZighdC5WaXNpYmxlKXJldHVybiExO3JldHVybiEwfWNyZWF0ZVN0YXZlcyh0KXtmb3IobGV0IGU9MDtlPHQ7ZSsrKXRoaXMuc3RhdmVzLnB1c2gobmV3IHIuU3RhZmYodGhpcyxlKzEpKX10b1N0cmluZygpe3JldHVybmAke3RoaXMuTmFtZX0gLCBpZDogJHt0aGlzLmlkfSwgaWRzdHJpbmc6ICR7dGhpcy5pZFN0cmluZ31gfX1lLkluc3RydW1lbnQ9b30sZnVuY3Rpb24odCxlLGkpe1widXNlIHN0cmljdFwiO09iamVjdC5kZWZpbmVQcm9wZXJ0eShlLFwiX19lc01vZHVsZVwiLHt2YWx1ZTohMH0pO2UuSW5zdHJ1bWVudGFsR3JvdXA9Y2xhc3N7Y29uc3RydWN0b3IodCxlLGkpe3RoaXMuaW5zdHJ1bWVudGFsR3JvdXBzPVtdLHRoaXMubmFtZT10LHRoaXMubXVzaWNTaGVldD1lLHRoaXMucGFyZW50PWl9Z2V0IEluc3RydW1lbnRhbEdyb3Vwcygpe3JldHVybiB0aGlzLmluc3RydW1lbnRhbEdyb3Vwc31nZXQgUGFyZW50KCl7cmV0dXJuIHRoaXMucGFyZW50fWdldCBOYW1lKCl7cmV0dXJuIHRoaXMubmFtZX1zZXQgTmFtZSh0KXt0aGlzLm5hbWU9dH1nZXQgR2V0TXVzaWNTaGVldCgpe3JldHVybiB0aGlzLm11c2ljU2hlZXR9fX0sZnVuY3Rpb24odCxlLGkpe1widXNlIHN0cmljdFwiO3ZhciBzPXRoaXMmJnRoaXMuX19pbXBvcnREZWZhdWx0fHxmdW5jdGlvbih0KXtyZXR1cm4gdCYmdC5fX2VzTW9kdWxlP3Q6e2RlZmF1bHQ6dH19O09iamVjdC5kZWZpbmVQcm9wZXJ0eShlLFwiX19lc01vZHVsZVwiLHt2YWx1ZTohMH0pO2NvbnN0IG49cyhpKDEpKTtjbGFzcyBye2NvbnN0cnVjdG9yKHQsZSxpKXt0aGlzLnNvdXJjZU5vdGU9dCx0aGlzLnNldFNoYXBlRnJvbVhtbChlLGkpfXNldFNoYXBlRnJvbVhtbCh0LGUpe3RoaXMuc2hhcGU9ci5TaGFwZVR5cGVYbWxUb1NoYXBlKHQpO2xldCBpPWU7dm9pZCAwPT09aSYmKHRoaXMuc291cmNlTm90ZT9pPXRoaXMuc291cmNlTm90ZS5MZW5ndGguRGVub21pbmF0b3I+Mjoobi5kZWZhdWx0Lndhcm4oXCJub3RlaGVhZDogc291cmNlTm90ZSBhbmQgZmlsbGVkWG1sQXR0cmlidXRlIHVuZGVmaW5lZC5cIiksaT0hMCkpLHRoaXMuZmlsbGVkPWl9Z2V0IFNvdXJjZU5vdGUoKXtyZXR1cm4gdGhpcy5zb3VyY2VOb3RlfWdldCBTaGFwZSgpe3JldHVybiB0aGlzLnNoYXBlfWdldCBGaWxsZWQoKXtyZXR1cm4gdGhpcy5maWxsZWR9c3RhdGljIFNoYXBlVHlwZVhtbFRvU2hhcGUodCl7c3dpdGNoKHQudG9Mb3dlckNhc2UoKSl7Y2FzZVwibm9ybWFsXCI6cmV0dXJuIG8uTk9STUFMO2Nhc2VcInhcIjpyZXR1cm4gby5YO2Nhc2VcInNsYXNoXCI6cmV0dXJuIG8uU0xBU0g7Y2FzZVwiZGlhbW9uZFwiOnJldHVybiBvLkRJQU1PTkQ7Y2FzZVwic3F1YXJlXCI6Y2FzZVwibGFcIjpyZXR1cm4gby5TUVVBUkU7Y2FzZVwiZG9cIjpjYXNlXCJ0cmlhbmdsZVwiOnJldHVybiBvLlRSSUFOR0xFO2Nhc2VcInJlY3RhbmdsZVwiOnJldHVybiBvLlJFQ1RBTkdMRTtjYXNlXCJjaXJjbGUteFwiOnJldHVybiBvLkNJUkNMRVg7ZGVmYXVsdDpyZXR1cm4gbi5kZWZhdWx0LmluZm8oXCJ1bnN1cHBvcnRlZC91bmhhbmRsZWQgeG1sIG5vdGVoZWFkICdcIit0K1wiJy4gVXNpbmcgbm9ybWFsIG5vdGVoZWFkLlwiKSxvLk5PUk1BTH19fXZhciBvO2UuTm90ZWhlYWQ9cixmdW5jdGlvbih0KXt0W3QuQ0lSQ0xFWD0wXT1cIkNJUkNMRVhcIix0W3QuRElBTU9ORD0xXT1cIkRJQU1PTkRcIix0W3QuTk9STUFMPTJdPVwiTk9STUFMXCIsdFt0LlJFQ1RBTkdMRT0zXT1cIlJFQ1RBTkdMRVwiLHRbdC5TTEFTSD00XT1cIlNMQVNIXCIsdFt0LlNRVUFSRT01XT1cIlNRVUFSRVwiLHRbdC5UUklBTkdMRT02XT1cIlRSSUFOR0xFXCIsdFt0Llg9N109XCJYXCJ9KG89ZS5Ob3RlSGVhZFNoYXBlfHwoZS5Ob3RlSGVhZFNoYXBlPXt9KSl9LGZ1bmN0aW9uKHQsZSxpKXtcInVzZSBzdHJpY3RcIjtPYmplY3QuZGVmaW5lUHJvcGVydHkoZSxcIl9fZXNNb2R1bGVcIix7dmFsdWU6ITB9KSxmdW5jdGlvbih0KXt0W3QuVW51c2VkX2ZpcnN0X1N5bWJvbD0wXT1cIlVudXNlZF9maXJzdF9TeW1ib2xcIix0W3QuQkxBQ0tfSEVBRD0xXT1cIkJMQUNLX0hFQURcIix0W3QuVVBXQVJEU19UQUlMPTJdPVwiVVBXQVJEU19UQUlMXCIsdFt0LkRPV05XQVJEU19UQUlMPTNdPVwiRE9XTldBUkRTX1RBSUxcIix0W3QuVVBXQVJEU19ET1VCTEVfVEFJTD00XT1cIlVQV0FSRFNfRE9VQkxFX1RBSUxcIix0W3QuRE9XTldBUkRTX0RPVUJMRV9UQUlMPTVdPVwiRE9XTldBUkRTX0RPVUJMRV9UQUlMXCIsdFt0LlVQV0FSRFNfVFJJUExFX1RBSUw9Nl09XCJVUFdBUkRTX1RSSVBMRV9UQUlMXCIsdFt0LkRPV05XQVJEU19UUklQTEVfVEFJTD03XT1cIkRPV05XQVJEU19UUklQTEVfVEFJTFwiLHRbdC5VUFdBUkRTX1FVQURfVEFJTD04XT1cIlVQV0FSRFNfUVVBRF9UQUlMXCIsdFt0LkRPV05XQVJEU19RVUFEX1RBSUw9OV09XCJET1dOV0FSRFNfUVVBRF9UQUlMXCIsdFt0LlJPVU5EX0hFQUQ9MTBdPVwiUk9VTkRfSEVBRFwiLHRbdC5XSElURV9IRUFEPTExXT1cIldISVRFX0hFQURcIix0W3QuR19DTEVGPTEyXT1cIkdfQ0xFRlwiLHRbdC5GX0NMRUY9MTNdPVwiRl9DTEVGXCIsdFt0LkNfQ0xFRj0xNF09XCJDX0NMRUZcIix0W3QuQlJFVkU9MTVdPVwiQlJFVkVcIix0W3QuQlJFVkVfUkVTVD0xNl09XCJCUkVWRV9SRVNUXCIsdFt0LkNPTU1PTl9USU1FPTE3XT1cIkNPTU1PTl9USU1FXCIsdFt0LkNVVF9USU1FPTE4XT1cIkNVVF9USU1FXCIsdFt0LldIT0xFX1JFU1Q9MTldPVwiV0hPTEVfUkVTVFwiLHRbdC5IQUxGX1JFU1Q9MjBdPVwiSEFMRl9SRVNUXCIsdFt0LlFVQVJURVJfUkVTVD0yMV09XCJRVUFSVEVSX1JFU1RcIix0W3QuRUlHSFRIX1JFU1Q9MjJdPVwiRUlHSFRIX1JFU1RcIix0W3QuU0lYVEVFTlRIX1JFU1Q9MjNdPVwiU0lYVEVFTlRIX1JFU1RcIix0W3QuVEhJUlRZU0VDT05EX1JFU1Q9MjRdPVwiVEhJUlRZU0VDT05EX1JFU1RcIix0W3QuU0lYVFlGT1VSVEhfUkVTVD0yNV09XCJTSVhUWUZPVVJUSF9SRVNUXCIsdFt0LkZMQVQ9MjZdPVwiRkxBVFwiLHRbdC5TSEFSUD0yN109XCJTSEFSUFwiLHRbdC5OQVRVUkFMPTI4XT1cIk5BVFVSQUxcIix0W3QuRE9VQkxFX0ZMQVQ9MjldPVwiRE9VQkxFX0ZMQVRcIix0W3QuRE9VQkxFX1NIQVJQPTMwXT1cIkRPVUJMRV9TSEFSUFwiLHRbdC5aRVJPPTMxXT1cIlpFUk9cIix0W3QuT05FPTMyXT1cIk9ORVwiLHRbdC5UV089MzNdPVwiVFdPXCIsdFt0LlRIUkVFPTM0XT1cIlRIUkVFXCIsdFt0LkZPVVI9MzVdPVwiRk9VUlwiLHRbdC5GSVZFPTM2XT1cIkZJVkVcIix0W3QuU0lYPTM3XT1cIlNJWFwiLHRbdC5TRVZFTj0zOF09XCJTRVZFTlwiLHRbdC5FSUdIVD0zOV09XCJFSUdIVFwiLHRbdC5OSU5FPTQwXT1cIk5JTkVcIix0W3QuRE9UPTQxXT1cIkRPVFwiLHRbdC5GRVJNQVRBPTQyXT1cIkZFUk1BVEFcIix0W3QuSU5WRVJURURfRkVSTUFUQT00M109XCJJTlZFUlRFRF9GRVJNQVRBXCIsdFt0LlNQSUNDQVRPPTQ0XT1cIlNQSUNDQVRPXCIsdFt0LlRFTlVUTz00NV09XCJURU5VVE9cIix0W3QuTUFSQ0FUTz00Nl09XCJNQVJDQVRPXCIsdFt0Lk1BUkNBVElTU0lNTz00N109XCJNQVJDQVRJU1NJTU9cIix0W3QuSU5WRVJURURfTUFSQ0FUSVNTSU1PPTQ4XT1cIklOVkVSVEVEX01BUkNBVElTU0lNT1wiLHRbdC5QPTQ5XT1cIlBcIix0W3QuRj01MF09XCJGXCIsdFt0LlM9NTFdPVwiU1wiLHRbdC5aPTUyXT1cIlpcIix0W3QuTT01M109XCJNXCIsdFt0LlI9NTRdPVwiUlwiLHRbdC5TRUdOTz01NV09XCJTRUdOT1wiLHRbdC5DT0RBPTU2XT1cIkNPREFcIix0W3QuRFJVTV9DTEVGPTU3XT1cIkRSVU1fQ0xFRlwiLHRbdC5HX0NMRUZfU1VCOD01OF09XCJHX0NMRUZfU1VCOFwiLHRbdC5HX0NMRUZfU1VQRVI4PTU5XT1cIkdfQ0xFRl9TVVBFUjhcIix0W3QuR19DTEVGX1NVQjE1PTYwXT1cIkdfQ0xFRl9TVUIxNVwiLHRbdC5HX0NMRUZfU1VQRVIxNT02MV09XCJHX0NMRUZfU1VQRVIxNVwiLHRbdC5GX0NMRUZfU1VCOD02Ml09XCJGX0NMRUZfU1VCOFwiLHRbdC5GX0NMRUZfU1VQRVI4PTYzXT1cIkZfQ0xFRl9TVVBFUjhcIix0W3QuRl9DTEVGX1NVQjE1PTY0XT1cIkZfQ0xFRl9TVUIxNVwiLHRbdC5GX0NMRUZfU1VQRVIxNT02NV09XCJGX0NMRUZfU1VQRVIxNVwiLHRbdC5ET1dOX0JPVz02Nl09XCJET1dOX0JPV1wiLHRbdC5NT1JERU5UPTY3XT1cIk1PUkRFTlRcIix0W3QuSU5WRVJURURfTU9SREVOVD02OF09XCJJTlZFUlRFRF9NT1JERU5UXCIsdFt0LlRVUk49NjldPVwiVFVSTlwiLHRbdC5JTlZFUlRFRF9UVVJOPTcwXT1cIklOVkVSVEVEX1RVUk5cIix0W3QuTEVGVEhBTkRfUElaWklDQVRPPTcxXT1cIkxFRlRIQU5EX1BJWlpJQ0FUT1wiLHRbdC5SRUxFQVNFX1BFRD03Ml09XCJSRUxFQVNFX1BFRFwiLHRbdC5FTkdBR0VfUEVEPTczXT1cIkVOR0FHRV9QRURcIix0W3QuVkE4PTc0XT1cIlZBOFwiLHRbdC5WQjg9NzVdPVwiVkI4XCIsdFt0LlRSSUxMPTc2XT1cIlRSSUxMXCIsdFt0Lk1BMTU9NzddPVwiTUExNVwiLHRbdC5NQjE1PTc4XT1cIk1CMTVcIix0W3QuSElHSD03OV09XCJISUdIXCIsdFt0LlBMQVk9ODBdPVwiUExBWVwiLHRbdC5NSUM9ODFdPVwiTUlDXCIsdFt0LlNOQVBfUElaWklDQVRPPTgyXT1cIlNOQVBfUElaWklDQVRPXCIsdFt0Lk5BVFVSQUxfSEFSTU9OSUM9ODNdPVwiTkFUVVJBTF9IQVJNT05JQ1wiLHRbdC5FZGl0UGVuPTg0XT1cIkVkaXRQZW5cIn0oZS5NdXNpY1N5bWJvbHx8KGUuTXVzaWNTeW1ib2w9e30pKX0sZnVuY3Rpb24odCxlLGkpe1widXNlIHN0cmljdFwiO09iamVjdC5kZWZpbmVQcm9wZXJ0eShlLFwiX19lc01vZHVsZVwiLHt2YWx1ZTohMH0pO2NvbnN0IHM9aSgxOCk7ZS5WZXhGbG93VGV4dE1lYXN1cmVyPWNsYXNze2NvbnN0cnVjdG9yKHQpe3RoaXMuZm9udFNpemU9MjAsdGhpcy5mb250U2l6ZVN0YW5kYXJkPXRoaXMuZm9udFNpemU7Y29uc3QgZT1kb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiY2FudmFzXCIpO3RoaXMuY29udGV4dD1lLmdldENvbnRleHQoXCIyZFwiKSx0aGlzLnJ1bGVzPXR9Y29tcHV0ZVRleHRXaWR0aFRvSGVpZ2h0UmF0aW8odCxlLGksbixyPXRoaXMuZm9udFNpemUpe3JldHVybiB0aGlzLmNvbnRleHQuZm9udD1zLlZleEZsb3dDb252ZXJ0ZXIuZm9udChyLGksZSx0aGlzLnJ1bGVzLG4pLHRoaXMuY29udGV4dC5tZWFzdXJlVGV4dCh0KS53aWR0aC9yfXNldEZvbnRTaXplKHQ9dGhpcy5mb250U2l6ZVN0YW5kYXJkKXtyZXR1cm4gdGhpcy5mb250U2l6ZT10LHR9fX0sZnVuY3Rpb24odCxlLGkpe1widXNlIHN0cmljdFwiO3ZhciBzPXRoaXMmJnRoaXMuX19pbXBvcnREZWZhdWx0fHxmdW5jdGlvbih0KXtyZXR1cm4gdCYmdC5fX2VzTW9kdWxlP3Q6e2RlZmF1bHQ6dH19O09iamVjdC5kZWZpbmVQcm9wZXJ0eShlLFwiX19lc01vZHVsZVwiLHt2YWx1ZTohMH0pO2NvbnN0IG49aSgzOCkscj1pKDYpLG89cyhpKDEpKTtjbGFzcyBhIGV4dGVuZHMgbi5BYnN0cmFjdEdyYXBoaWNhbEV4cHJlc3Npb257Y29uc3RydWN0b3IodCxlLGkpe3N1cGVyKGUsdCxpLnBhcmVudFNvdXJjZU1lYXN1cmUpLHRoaXMubUluc3RhbnRhbmVvdXNEeW5hbWljRXhwcmVzc2lvbj10LHRoaXMubU1lYXN1cmU9aX11cGRhdGVTa3lCb3R0b21MaW5lKCl7Y29uc3QgdD10aGlzLnBhcmVudFN0YWZmTGluZS5Ta3lCb3R0b21MaW5lQ2FsY3VsYXRvcixlPXRoaXMuUG9zaXRpb25BbmRTaGFwZS5SZWxhdGl2ZVBvc2l0aW9uLngrdGhpcy5Qb3NpdGlvbkFuZFNoYXBlLkJvcmRlck1hcmdpbkxlZnQsaT10aGlzLlBvc2l0aW9uQW5kU2hhcGUuUmVsYXRpdmVQb3NpdGlvbi54K3RoaXMuUG9zaXRpb25BbmRTaGFwZS5Cb3JkZXJNYXJnaW5SaWdodDtsZXQgcz0wO3N3aXRjaCh0aGlzLlBsYWNlbWVudCl7Y2FzZSByLlBsYWNlbWVudEVudW0uQWJvdmU6cz10aGlzLlBvc2l0aW9uQW5kU2hhcGUuUmVsYXRpdmVQb3NpdGlvbi55K3RoaXMuUG9zaXRpb25BbmRTaGFwZS5Cb3JkZXJNYXJnaW5Ub3AsdC51cGRhdGVTa3lMaW5lSW5SYW5nZShlLGkscyk7YnJlYWs7Y2FzZSByLlBsYWNlbWVudEVudW0uQmVsb3c6cz10aGlzLlBvc2l0aW9uQW5kU2hhcGUuUmVsYXRpdmVQb3NpdGlvbi55K3RoaXMuUG9zaXRpb25BbmRTaGFwZS5Cb3JkZXJNYXJnaW5Cb3R0b20sdC51cGRhdGVCb3R0b21MaW5lSW5SYW5nZShlLGkscyk7YnJlYWs7ZGVmYXVsdDpvLmRlZmF1bHQuZXJyb3IoXCJQbGFjZW1lbnQgZm9yIEdyYXBoaWNhbEluc3RhbnRhbmVvdXNEeW5hbWljRXhwcmVzc2lvbiBpcyB1bmtub3duXCIpfX19ZS5HcmFwaGljYWxJbnN0YW50YW5lb3VzRHluYW1pY0V4cHJlc3Npb249YX0sZnVuY3Rpb24odCxlLGkpe1widXNlIHN0cmljdFwiO09iamVjdC5kZWZpbmVQcm9wZXJ0eShlLFwiX19lc01vZHVsZVwiLHt2YWx1ZTohMH0pO2NvbnN0IHM9aSgwKSxuPWkoNDgpLHI9aSgyNSksbz1pKDI2KSxhPWkoMTYpLGg9aSgxNSksbD1pKDUwKTtlLlNvdXJjZU1lYXN1cmU9Y2xhc3N7Y29uc3RydWN0b3IodCxlKXt0aGlzLnByaW50TmV3U3lzdGVtWG1sPSExLHRoaXMucHJpbnROZXdQYWdlWG1sPSExLHRoaXMuc3RhZmZMaW5rZWRFeHByZXNzaW9ucz1bXSx0aGlzLnRlbXBvRXhwcmVzc2lvbnM9W10sdGhpcy52ZXJ0aWNhbFNvdXJjZVN0YWZmRW50cnlDb250YWluZXJzPVtdLHRoaXMuZ3JhcGhpY2FsTWVhc3VyZUVycm9ycz1bXSx0aGlzLmZpcnN0UmVwZXRpdGlvbkluc3RydWN0aW9ucz1bXSx0aGlzLmxhc3RSZXBldGl0aW9uSW5zdHJ1Y3Rpb25zPVtdLHRoaXMuY29tcGxldGVOdW1iZXJPZlN0YXZlcz10LHRoaXMuaW1wbGljaXRNZWFzdXJlPSExLHRoaXMuaGFzRW5kTGluZT0hMSx0aGlzLmVuZGluZ0JhclN0eWxlWG1sPVwiXCIsdGhpcy5lbmRpbmdCYXJTdHlsZUVudW09bC5TeXN0ZW1MaW5lc0VudW0uU2luZ2xlVGhpbix0aGlzLmZpcnN0SW5zdHJ1Y3Rpb25zU3RhZmZFbnRyaWVzPW5ldyBBcnJheSh0KSx0aGlzLmxhc3RJbnN0cnVjdGlvbnNTdGFmZkVudHJpZXM9bmV3IEFycmF5KHQpLHRoaXMucnVsZXM9ZSx0aGlzLlRlbXBvSW5CUE09MDtmb3IobGV0IGU9MDtlPHQ7ZSsrKXRoaXMuZ3JhcGhpY2FsTWVhc3VyZUVycm9ycy5wdXNoKCExKSx0aGlzLnN0YWZmTGlua2VkRXhwcmVzc2lvbnMucHVzaChbXSl9Z2V0IE1lYXN1cmVOdW1iZXIoKXtyZXR1cm4gdGhpcy5tZWFzdXJlTnVtYmVyfXNldCBNZWFzdXJlTnVtYmVyKHQpe3RoaXMubWVhc3VyZU51bWJlcj10fWdldCBBYnNvbHV0ZVRpbWVzdGFtcCgpe3JldHVybiB0aGlzLmFic29sdXRlVGltZXN0YW1wfXNldCBBYnNvbHV0ZVRpbWVzdGFtcCh0KXt0aGlzLmFic29sdXRlVGltZXN0YW1wPXR9Z2V0IENvbXBsZXRlTnVtYmVyT2ZTdGF2ZXMoKXtyZXR1cm4gdGhpcy5jb21wbGV0ZU51bWJlck9mU3RhdmVzfWdldCBEdXJhdGlvbigpe3JldHVybiB0aGlzLmR1cmF0aW9ufXNldCBEdXJhdGlvbih0KXt0aGlzLmR1cmF0aW9uPXR9Z2V0IEFjdGl2ZVRpbWVTaWduYXR1cmUoKXtyZXR1cm4gdGhpcy5hY3RpdmVUaW1lU2lnbmF0dXJlfXNldCBBY3RpdmVUaW1lU2lnbmF0dXJlKHQpe3RoaXMuYWN0aXZlVGltZVNpZ25hdHVyZT10fWdldCBJbXBsaWNpdE1lYXN1cmUoKXtyZXR1cm4gdGhpcy5pbXBsaWNpdE1lYXN1cmV9c2V0IEltcGxpY2l0TWVhc3VyZSh0KXt0aGlzLmltcGxpY2l0TWVhc3VyZT10fWdldCBIYXNFbmRMaW5lKCl7cmV0dXJuIHRoaXMuaGFzRW5kTGluZX1zZXQgSGFzRW5kTGluZSh0KXt0aGlzLmhhc0VuZExpbmU9dH1nZXQgU3RhZmZMaW5rZWRFeHByZXNzaW9ucygpe3JldHVybiB0aGlzLnN0YWZmTGlua2VkRXhwcmVzc2lvbnN9Z2V0IFRlbXBvRXhwcmVzc2lvbnMoKXtyZXR1cm4gdGhpcy50ZW1wb0V4cHJlc3Npb25zfWdldCBWZXJ0aWNhbFNvdXJjZVN0YWZmRW50cnlDb250YWluZXJzKCl7cmV0dXJuIHRoaXMudmVydGljYWxTb3VyY2VTdGFmZkVudHJ5Q29udGFpbmVyc31nZXQgRmlyc3RJbnN0cnVjdGlvbnNTdGFmZkVudHJpZXMoKXtyZXR1cm4gdGhpcy5maXJzdEluc3RydWN0aW9uc1N0YWZmRW50cmllc31nZXQgTGFzdEluc3RydWN0aW9uc1N0YWZmRW50cmllcygpe3JldHVybiB0aGlzLmxhc3RJbnN0cnVjdGlvbnNTdGFmZkVudHJpZXN9Z2V0IEZpcnN0UmVwZXRpdGlvbkluc3RydWN0aW9ucygpe3JldHVybiB0aGlzLmZpcnN0UmVwZXRpdGlvbkluc3RydWN0aW9uc31nZXQgTGFzdFJlcGV0aXRpb25JbnN0cnVjdGlvbnMoKXtyZXR1cm4gdGhpcy5sYXN0UmVwZXRpdGlvbkluc3RydWN0aW9uc31nZXRFcnJvckluTWVhc3VyZSh0KXtyZXR1cm4gdGhpcy5ncmFwaGljYWxNZWFzdXJlRXJyb3JzW3RdfXNldEVycm9ySW5HcmFwaGljYWxNZWFzdXJlKHQsZSl7dGhpcy5ncmFwaGljYWxNZWFzdXJlRXJyb3JzW3RdPWV9Z2V0TmV4dE1lYXN1cmUodCl7cmV0dXJuIHRbdGhpcy5tZWFzdXJlTGlzdEluZGV4KzFdfWdldFByZXZpb3VzTWVhc3VyZSh0KXtpZih0aGlzLm1lYXN1cmVMaXN0SW5kZXg+MSlyZXR1cm4gdFt0aGlzLm1lYXN1cmVMaXN0SW5kZXgtMV19Z2V0IFJ1bGVzKCl7cmV0dXJuIHRoaXMucnVsZXN9Z2V0IFZlcnRpY2FsTWVhc3VyZUxpc3QoKXtyZXR1cm4gdGhpcy52ZXJ0aWNhbE1lYXN1cmVMaXN0fXNldCBWZXJ0aWNhbE1lYXN1cmVMaXN0KHQpe3RoaXMudmVydGljYWxNZWFzdXJlTGlzdD10fWdldCBUZW1wb0luQlBNKCl7cmV0dXJuIHRoaXMudGVtcG9JbkJQTX1zZXQgVGVtcG9JbkJQTSh0KXt0aGlzLnRlbXBvSW5CUE09dH1maW5kT3JDcmVhdGVTdGFmZkVudHJ5KHQsZSxpKXtsZXQgcyxvPXZvaWQgMDtmb3IoY29uc3QgZSBvZiB0aGlzLnZlcnRpY2FsU291cmNlU3RhZmZFbnRyeUNvbnRhaW5lcnMpaWYoZS5UaW1lc3RhbXAuRXF1YWxzKHQpKXtzPWU7YnJlYWt9aWYocylyZXR1cm4gcy5TdGFmZkVudHJpZXNbZV0/bz1zLlN0YWZmRW50cmllc1tlXToobz1uZXcgci5Tb3VyY2VTdGFmZkVudHJ5KHMsaSkscy5TdGFmZkVudHJpZXNbZV09bykse2NyZWF0ZWROZXdDb250YWluZXI6ITEsc3RhZmZFbnRyeTpvfTtjb25zdCBhPXRoaXMudmVydGljYWxTb3VyY2VTdGFmZkVudHJ5Q29udGFpbmVyc1t0aGlzLnZlcnRpY2FsU291cmNlU3RhZmZFbnRyeUNvbnRhaW5lcnMubGVuZ3RoLTFdO2lmKDA9PT10aGlzLnZlcnRpY2FsU291cmNlU3RhZmZFbnRyeUNvbnRhaW5lcnMubGVuZ3RofHxhLlRpbWVzdGFtcC5sdCh0KSl7Y29uc3Qgcz1uZXcgbi5WZXJ0aWNhbFNvdXJjZVN0YWZmRW50cnlDb250YWluZXIodGhpcyx0LmNsb25lKCksdGhpcy5jb21wbGV0ZU51bWJlck9mU3RhdmVzKTt0aGlzLnZlcnRpY2FsU291cmNlU3RhZmZFbnRyeUNvbnRhaW5lcnMucHVzaChzKSxvPW5ldyByLlNvdXJjZVN0YWZmRW50cnkocyxpKSxzLlN0YWZmRW50cmllc1tlXT1vfWVsc2UgZm9yKGxldCBzPXRoaXMudmVydGljYWxTb3VyY2VTdGFmZkVudHJ5Q29udGFpbmVycy5sZW5ndGgtMTtzPj0wO3MtLSl7aWYodGhpcy52ZXJ0aWNhbFNvdXJjZVN0YWZmRW50cnlDb250YWluZXJzW3NdLlRpbWVzdGFtcC5sdCh0KSl7Y29uc3QgYT1uZXcgbi5WZXJ0aWNhbFNvdXJjZVN0YWZmRW50cnlDb250YWluZXIodGhpcyx0LmNsb25lKCksdGhpcy5jb21wbGV0ZU51bWJlck9mU3RhdmVzKTt0aGlzLnZlcnRpY2FsU291cmNlU3RhZmZFbnRyeUNvbnRhaW5lcnMuc3BsaWNlKHMrMSwwLGEpLG89bmV3IHIuU291cmNlU3RhZmZFbnRyeShhLGkpLGEuU3RhZmZFbnRyaWVzW2VdPW87YnJlYWt9aWYoMD09PXMpe2NvbnN0IGE9bmV3IG4uVmVydGljYWxTb3VyY2VTdGFmZkVudHJ5Q29udGFpbmVyKHRoaXMsdC5jbG9uZSgpLHRoaXMuY29tcGxldGVOdW1iZXJPZlN0YXZlcyk7dGhpcy52ZXJ0aWNhbFNvdXJjZVN0YWZmRW50cnlDb250YWluZXJzLnNwbGljZShzLDAsYSksbz1uZXcgci5Tb3VyY2VTdGFmZkVudHJ5KGEsaSksYS5TdGFmZkVudHJpZXNbZV09bzticmVha319cmV0dXJue2NyZWF0ZWROZXdDb250YWluZXI6ITAsc3RhZmZFbnRyeTpvfX1maW5kT3JDcmVhdGVWb2ljZUVudHJ5KHQsZSl7bGV0IGk9dm9pZCAwLHM9ITE7Zm9yKGNvbnN0IHMgb2YgdC5Wb2ljZUVudHJpZXMpaWYocy5QYXJlbnRWb2ljZT09PWUpe2k9czticmVha31yZXR1cm4gaXx8KGk9bmV3IGEuVm9pY2VFbnRyeSh0LlRpbWVzdGFtcCxlLHQpLHQuVm9pY2VFbnRyaWVzLnB1c2goaSkscz0hMCkse2NyZWF0ZWRWb2ljZUVudHJ5OnMsdm9pY2VFbnRyeTppfX1nZXRQcmV2aW91c1NvdXJjZVN0YWZmRW50cnlGcm9tSW5kZXgodCxlKXtmb3IobGV0IGk9ZS0xO2k+PTA7aS0tKWlmKHRoaXMudmVydGljYWxTb3VyY2VTdGFmZkVudHJ5Q29udGFpbmVyc1tpXVt0XSlyZXR1cm4gdGhpcy52ZXJ0aWNhbFNvdXJjZVN0YWZmRW50cnlDb250YWluZXJzW2ldW3RdfWdldFZlcnRpY2FsQ29udGFpbmVySW5kZXhCeVRpbWVzdGFtcCh0KXtmb3IobGV0IGU9MCxpPXRoaXMuVmVydGljYWxTb3VyY2VTdGFmZkVudHJ5Q29udGFpbmVycy5sZW5ndGg7ZTxpOysrZSlpZih0aGlzLlZlcnRpY2FsU291cmNlU3RhZmZFbnRyeUNvbnRhaW5lcnNbZV0uVGltZXN0YW1wLkVxdWFscyh0KSlyZXR1cm4gZTtyZXR1cm4tMX1nZXRWZXJ0aWNhbENvbnRhaW5lckJ5VGltZXN0YW1wKHQpe2ZvcihsZXQgZT0wLGk9dGhpcy5WZXJ0aWNhbFNvdXJjZVN0YWZmRW50cnlDb250YWluZXJzLmxlbmd0aDtlPGk7KytlKXtjb25zdCBpPXRoaXMuVmVydGljYWxTb3VyY2VTdGFmZkVudHJ5Q29udGFpbmVyc1tlXTtpZihpLlRpbWVzdGFtcC5FcXVhbHModCkpcmV0dXJuIGl9fWNoZWNrRm9yRW1wdHlWZXJ0aWNhbENvbnRhaW5lcih0KXtsZXQgZT0wO2ZvcihsZXQgaT0wO2k8dGhpcy5jb21wbGV0ZU51bWJlck9mU3RhdmVzO2krKyl0aGlzLnZlcnRpY2FsU291cmNlU3RhZmZFbnRyeUNvbnRhaW5lcnNbdF1baV18fGUrKztlPT09dGhpcy5jb21wbGV0ZU51bWJlck9mU3RhdmVzJiZ0aGlzLnZlcnRpY2FsU291cmNlU3RhZmZFbnRyeUNvbnRhaW5lcnMuc3BsaWNlKHQsMSl9cmV2ZXJzZUNoZWNrKHQsZSl7bGV0IGk9bmV3IHMuRnJhY3Rpb24oMCwxKTtjb25zdCBuPVtdO2ZvcihsZXQgZT0wO2U8dC5JbnN0cnVtZW50cy5sZW5ndGg7ZSsrKXtsZXQgaT1uZXcgcy5GcmFjdGlvbigwLDEpO2NvbnN0IHI9dC5nZXRHbG9iYWxTdGFmZkluZGV4T2ZGaXJzdFN0YWZmKHQuSW5zdHJ1bWVudHNbZV0pO2ZvcihsZXQgbj0wO248dC5JbnN0cnVtZW50c1tlXS5TdGF2ZXMubGVuZ3RoO24rKyl7Y29uc3QgdD10aGlzLmdldExhc3RTb3VyY2VTdGFmZkVudHJ5Rm9ySW5zdHJ1bWVudChyK24pO2lmKHZvaWQgMCE9PXQmJiF0Lmhhc1RpZSgpKXtmb3IobGV0IGU9dGhpcy52ZXJ0aWNhbFNvdXJjZVN0YWZmRW50cnlDb250YWluZXJzLmluZGV4T2YodC5WZXJ0aWNhbENvbnRhaW5lclBhcmVudCktMTtlPj0wO2UtLSl7Y29uc3QgdD10aGlzLnZlcnRpY2FsU291cmNlU3RhZmZFbnRyeUNvbnRhaW5lcnNbZV1bcituXTtpZih2b2lkIDAhPT10JiZ0Lmhhc1RpZSgpJiZpLmx0KHMuRnJhY3Rpb24ucGx1cyh0LlRpbWVzdGFtcCx0LmNhbGN1bGF0ZU1heE5vdGVMZW5ndGgoKSkpKXtpPXMuRnJhY3Rpb24ucGx1cyh0LlRpbWVzdGFtcCx0LmNhbGN1bGF0ZU1heE5vdGVMZW5ndGgoKSk7YnJlYWt9fX19bi5wdXNoKGkpfWZvcihsZXQgdD0wLGU9bi5sZW5ndGg7dDxlOysrdCl7Y29uc3QgZT1uW3RdO2kubHQoZSkmJihpPWUpfXJldHVybiBzLkZyYWN0aW9uLm1heChpLGUpfWNhbGN1bGF0ZUluc3RydW1lbnRzRHVyYXRpb24odCxlKXtjb25zdCBpPVtdO2ZvcihsZXQgbj0wO248dC5JbnN0cnVtZW50cy5sZW5ndGg7bisrKXtsZXQgcj1uZXcgcy5GcmFjdGlvbigwLDEpO2NvbnN0IG89dC5nZXRHbG9iYWxTdGFmZkluZGV4T2ZGaXJzdFN0YWZmKHQuSW5zdHJ1bWVudHNbbl0pO2ZvcihsZXQgZT0wO2U8dC5JbnN0cnVtZW50c1tuXS5TdGF2ZXMubGVuZ3RoO2UrKyl7Y29uc3QgdD10aGlzLmdldExhc3RTb3VyY2VTdGFmZkVudHJ5Rm9ySW5zdHJ1bWVudChvK2UpO3ZvaWQgMCE9PXQmJnQuVGltZXN0YW1wJiZyLmx0KHMuRnJhY3Rpb24ucGx1cyh0LlRpbWVzdGFtcCx0LmNhbGN1bGF0ZU1heE5vdGVMZW5ndGgoKSkpJiYocj1zLkZyYWN0aW9uLnBsdXModC5UaW1lc3RhbXAsdC5jYWxjdWxhdGVNYXhOb3RlTGVuZ3RoKCkpKX1yLmx0KGVbbl0pJiYocj1lW25dKSxpLnB1c2gocil9cmV0dXJuIGl9Z2V0RW50cmllc1BlclN0YWZmKHQpe2NvbnN0IGU9W107Zm9yKGNvbnN0IGkgb2YgdGhpcy5WZXJ0aWNhbFNvdXJjZVN0YWZmRW50cnlDb250YWluZXJzKXtjb25zdCBzPWkuU3RhZmZFbnRyaWVzW3RdO3MmJmUucHVzaChzKX1yZXR1cm4gZX1oYXNCZWdpbkluc3RydWN0aW9ucygpe2ZvcihsZXQgdD0wLGU9dGhpcy5GaXJzdEluc3RydWN0aW9uc1N0YWZmRW50cmllcy5sZW5ndGg7dDxlO3QrKyl7Y29uc3QgZT10aGlzLkZpcnN0SW5zdHJ1Y3Rpb25zU3RhZmZFbnRyaWVzW3RdO2lmKHZvaWQgMCE9PWUmJmUuSW5zdHJ1Y3Rpb25zLmxlbmd0aD4wKXJldHVybiEwfXJldHVybiExfWJlZ2luc1dpdGhMaW5lUmVwZXRpdGlvbigpe2ZvcihsZXQgdD0wLGU9dGhpcy5GaXJzdFJlcGV0aXRpb25JbnN0cnVjdGlvbnMubGVuZ3RoO3Q8ZTsrK3Qpe2NvbnN0IGU9dGhpcy5GaXJzdFJlcGV0aXRpb25JbnN0cnVjdGlvbnNbdF07aWYoZS50eXBlPT09by5SZXBldGl0aW9uSW5zdHJ1Y3Rpb25FbnVtLlN0YXJ0TGluZSlyZXR1cm4hMDtpZih2b2lkIDAhPT1lLnBhcmVudFJlcGV0aXRpb24mJmU9PT1lLnBhcmVudFJlcGV0aXRpb24uc3RhcnRNYXJrZXImJiFlLnBhcmVudFJlcGV0aXRpb24uRnJvbVdvcmRzKXJldHVybiEwfXJldHVybiExfWVuZHNXaXRoTGluZVJlcGV0aXRpb24oKXtmb3IobGV0IHQ9MCxlPXRoaXMuTGFzdFJlcGV0aXRpb25JbnN0cnVjdGlvbnMubGVuZ3RoO3Q8ZTsrK3Qpe2NvbnN0IGU9dGhpcy5MYXN0UmVwZXRpdGlvbkluc3RydWN0aW9uc1t0XTtpZihlLnR5cGU9PT1vLlJlcGV0aXRpb25JbnN0cnVjdGlvbkVudW0uQmFja0p1bXBMaW5lKXJldHVybiEwO2NvbnN0IGk9ZS5wYXJlbnRSZXBldGl0aW9uO2lmKGkmJiFpLkZyb21Xb3Jkcylmb3IobGV0IHQ9MCxzPWkuQmFja3dhcmRKdW1wSW5zdHJ1Y3Rpb25zLmxlbmd0aDt0PHM7Kyt0KXtpZihlPT09aS5CYWNrd2FyZEp1bXBJbnN0cnVjdGlvbnNbdF0pcmV0dXJuITB9fXJldHVybiExfWJlZ2luc1dpdGhXb3JkUmVwZXRpdGlvbigpe2ZvcihsZXQgdD0wLGU9dGhpcy5GaXJzdFJlcGV0aXRpb25JbnN0cnVjdGlvbnMubGVuZ3RoO3Q8ZTsrK3Qpe2NvbnN0IGU9dGhpcy5GaXJzdFJlcGV0aXRpb25JbnN0cnVjdGlvbnNbdF07aWYodm9pZCAwIT09ZS5wYXJlbnRSZXBldGl0aW9uJiZlPT09ZS5wYXJlbnRSZXBldGl0aW9uLnN0YXJ0TWFya2VyJiZlLnBhcmVudFJlcGV0aXRpb24uRnJvbVdvcmRzKXJldHVybiEwfXJldHVybiExfWVuZHNXaXRoV29yZFJlcGV0aXRpb24oKXtmb3IobGV0IHQ9MCxlPXRoaXMuTGFzdFJlcGV0aXRpb25JbnN0cnVjdGlvbnMubGVuZ3RoO3Q8ZTsrK3Qpe2NvbnN0IGU9dGhpcy5MYXN0UmVwZXRpdGlvbkluc3RydWN0aW9uc1t0XSxpPWUucGFyZW50UmVwZXRpdGlvbjtpZihpJiZpLkZyb21Xb3Jkcyl7Zm9yKGxldCB0PTAscz1pLkJhY2t3YXJkSnVtcEluc3RydWN0aW9ucy5sZW5ndGg7dDxzOysrdCl7aWYoZT09PWkuQmFja3dhcmRKdW1wSW5zdHJ1Y3Rpb25zW3RdKXJldHVybiEwfWlmKGU9PT1pLmZvcndhcmRKdW1wSW5zdHJ1Y3Rpb24pcmV0dXJuITB9fXJldHVybiExfWJlZ2luc1JlcGV0aXRpb25FbmRpbmcoKXtmb3IoY29uc3QgdCBvZiB0aGlzLkZpcnN0UmVwZXRpdGlvbkluc3RydWN0aW9ucylpZih0LnR5cGU9PT1vLlJlcGV0aXRpb25JbnN0cnVjdGlvbkVudW0uRW5kaW5nJiZ0LmFsaWdubWVudD09PW8uQWxpZ25tZW50VHlwZS5CZWdpbilyZXR1cm4hMDtyZXR1cm4hMX1lbmRzUmVwZXRpdGlvbkVuZGluZygpe2Zvcihjb25zdCB0IG9mIHRoaXMuTGFzdFJlcGV0aXRpb25JbnN0cnVjdGlvbnMpaWYodC50eXBlPT09by5SZXBldGl0aW9uSW5zdHJ1Y3Rpb25FbnVtLkVuZGluZyYmdC5hbGlnbm1lbnQ9PT1vLkFsaWdubWVudFR5cGUuRW5kKXJldHVybiEwO3JldHVybiExfWdldEtleUluc3RydWN0aW9uKHQpe2lmKHRoaXMuRmlyc3RJbnN0cnVjdGlvbnNTdGFmZkVudHJpZXNbdF0pe2NvbnN0IGU9dGhpcy5GaXJzdEluc3RydWN0aW9uc1N0YWZmRW50cmllc1t0XTtmb3IobGV0IHQ9MCxpPWUuSW5zdHJ1Y3Rpb25zLmxlbmd0aDt0PGk7Kyt0KXtjb25zdCBpPWUuSW5zdHJ1Y3Rpb25zW3RdO2lmKGkgaW5zdGFuY2VvZiBoLktleUluc3RydWN0aW9uKXJldHVybiBpfX19Z2V0TGFzdFNvdXJjZVN0YWZmRW50cnlGb3JJbnN0cnVtZW50KHQpe2xldCBlO2ZvcihsZXQgaT10aGlzLnZlcnRpY2FsU291cmNlU3RhZmZFbnRyeUNvbnRhaW5lcnMubGVuZ3RoLTE7aT49MCYmKGU9dGhpcy52ZXJ0aWNhbFNvdXJjZVN0YWZmRW50cnlDb250YWluZXJzW2ldLlN0YWZmRW50cmllc1t0XSwhZSk7aS0tKTtyZXR1cm4gZX19fSxmdW5jdGlvbih0LGUsaSl7XCJ1c2Ugc3RyaWN0XCI7T2JqZWN0LmRlZmluZVByb3BlcnR5KGUsXCJfX2VzTW9kdWxlXCIse3ZhbHVlOiEwfSk7Y29uc3Qgcz1pKDQ5KSxuPWkoMjIpLHI9aSgxMyksbz1pKDcpLGE9aSgyMyk7Y2xhc3MgaCBleHRlbmRzIHMuR3JhcGhpY2FsQ29udGludW91c0R5bmFtaWNFeHByZXNzaW9ue2NvbnN0cnVjdG9yKHQsZSxpLHMpe2lmKHN1cGVyKHQsZSxpKSx0aGlzLklzVmVyYmFsKXtjb25zdCBlPW5ldyByLkxhYmVsKHQuTGFiZWwpO3RoaXMubGFiZWw9bmV3IG4uR3JhcGhpY2FsTGFiZWwoZSxzfHx0aGlzLnJ1bGVzLkNvbnRpbnVvdXNEeW5hbWljVGV4dEhlaWdodCxvLlRleHRBbGlnbm1lbnRFbnVtLkxlZnRDZW50ZXIsdGhpcy5ydWxlcyx0aGlzLlBvc2l0aW9uQW5kU2hhcGUpLHRoaXMubGFiZWwuTGFiZWwuZm9udFN0eWxlPWEuRm9udFN0eWxlcy5JdGFsaWMsdGhpcy5sYWJlbC5zZXRMYWJlbFBvc2l0aW9uQW5kU2hhcGVCb3JkZXJzKCksdGhpcy5Qb3NpdGlvbkFuZFNoYXBlLmNhbGN1bGF0ZUJvdW5kaW5nQm94KCl9fX1lLlZleEZsb3dDb250aW51b3VzRHluYW1pY0V4cHJlc3Npb249aH0sZnVuY3Rpb24odCxlLGkpe1widXNlIHN0cmljdFwiO3ZhciBzPXRoaXMmJnRoaXMuX19pbXBvcnREZWZhdWx0fHxmdW5jdGlvbih0KXtyZXR1cm4gdCYmdC5fX2VzTW9kdWxlP3Q6e2RlZmF1bHQ6dH19O09iamVjdC5kZWZpbmVQcm9wZXJ0eShlLFwiX19lc01vZHVsZVwiLHt2YWx1ZTohMH0pO2NvbnN0IG49cyhpKDEwKSkscj1pKDY5KSxvPWkoMTgpLGE9aSgzNCksaD1pKDQyKTtjbGFzcyBsIGV4dGVuZHMgci5WZXhGbG93QmFja2VuZHtjb25zdHJ1Y3Rvcih0KXtzdXBlcigpLHRoaXMucnVsZXM9dH1nZXRWZXhmbG93QmFja2VuZFR5cGUoKXtyZXR1cm4gMX1nZXRPU01EQmFja2VuZFR5cGUoKXtyZXR1cm4gYS5CYWNrZW5kVHlwZS5DYW52YXN9aW5pdGlhbGl6ZSh0KXt0aGlzLmNhbnZhcz1kb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiY2FudmFzXCIpLHRoaXMuZ3JhcGhpY2FsTXVzaWNQYWdlfHwodGhpcy5ncmFwaGljYWxNdXNpY1BhZ2U9bmV3IGguR3JhcGhpY2FsTXVzaWNQYWdlKHZvaWQgMCksdGhpcy5ncmFwaGljYWxNdXNpY1BhZ2UuUGFnZU51bWJlcj0xKSx0aGlzLmNhbnZhcy5pZD1cIm9zbWRDYW52YXNWZXhGbG93QmFja2VuZENhbnZhc1wiK3RoaXMuZ3JhcGhpY2FsTXVzaWNQYWdlLlBhZ2VOdW1iZXIsdGhpcy5pbm5lcj1kb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpLHRoaXMuaW5uZXIuc3R5bGUucG9zaXRpb249XCJyZWxhdGl2ZVwiLHRoaXMuY2FudmFzLnN0eWxlLnpJbmRleD1cIjBcIix0aGlzLmlubmVyLmFwcGVuZENoaWxkKHRoaXMuY2FudmFzKSx0LmFwcGVuZENoaWxkKHRoaXMuaW5uZXIpLHRoaXMucmVuZGVyZXI9bmV3IG4uZGVmYXVsdC5GbG93LlJlbmRlcmVyKHRoaXMuY2FudmFzLHRoaXMuZ2V0VmV4Zmxvd0JhY2tlbmRUeXBlKCkpLHRoaXMuY3R4PXRoaXMucmVuZGVyZXIuZ2V0Q29udGV4dCgpfWluaXRpYWxpemVIZWFkbGVzcyh0PTMwMCxlPTMwMCl7dGhpcy5ncmFwaGljYWxNdXNpY1BhZ2V8fCh0aGlzLmdyYXBoaWNhbE11c2ljUGFnZT1uZXcgaC5HcmFwaGljYWxNdXNpY1BhZ2Uodm9pZCAwKSx0aGlzLmdyYXBoaWNhbE11c2ljUGFnZS5QYWdlTnVtYmVyPTEpLHRoaXMuY2FudmFzPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJjYW52YXNcIiksdGhpcy5jYW52YXMud2lkdGg9dCx0aGlzLmNhbnZhcy5oZWlnaHQ9ZSx0aGlzLnJlbmRlcmVyPW5ldyBuLmRlZmF1bHQuRmxvdy5SZW5kZXJlcih0aGlzLmNhbnZhcyx0aGlzLmdldFZleGZsb3dCYWNrZW5kVHlwZSgpKSx0aGlzLmN0eD10aGlzLnJlbmRlcmVyLmdldENvbnRleHQoKX1nZXRDb250ZXh0KCl7cmV0dXJuIHRoaXMuY3R4fWNsZWFyKCl7dGhpcy5jdHguY2xlYXJSZWN0KDAsMCx0aGlzLmNhbnZhcy53aWR0aCx0aGlzLmNhbnZhcy5oZWlnaHQpLHRoaXMucnVsZXMuUGFnZUJhY2tncm91bmRDb2xvciYmKHRoaXMuY3R4LnNhdmUoKSx0aGlzLmN0eC5zZXRGaWxsU3R5bGUodGhpcy5ydWxlcy5QYWdlQmFja2dyb3VuZENvbG9yKSx0aGlzLmN0eC5maWxsUmVjdCgwLDAsdGhpcy5jYW52YXMud2lkdGgsdGhpcy5jYW52YXMuaGVpZ2h0KSx0aGlzLmN0eC5yZXN0b3JlKCkpfXNjYWxlKHQpe3RoaXMuY3R4LnNjYWxlKHQsdCl9dHJhbnNsYXRlKHQsZSl7dGhpcy5DYW52YXNSZW5kZXJpbmdDdHgudHJhbnNsYXRlKHQsZSl9cmVuZGVyVGV4dCh0LGUsaSxzLG4scixhLGgpe2NvbnN0IGw9dGhpcy5DYW52YXNSZW5kZXJpbmdDdHguZm9udDt0aGlzLkNhbnZhc1JlbmRlcmluZ0N0eC5zYXZlKCksdGhpcy5DYW52YXNSZW5kZXJpbmdDdHguZm9udD1vLlZleEZsb3dDb252ZXJ0ZXIuZm9udCh0LGUsaSx0aGlzLnJ1bGVzLGgpLHRoaXMuQ2FudmFzUmVuZGVyaW5nQ3R4LmZpbGxTdHlsZT1hLHRoaXMuQ2FudmFzUmVuZGVyaW5nQ3R4LnN0cm9rZVN0eWxlPWEsdGhpcy5DYW52YXNSZW5kZXJpbmdDdHguZmlsbFRleHQocyxyLngsci55K24pLHRoaXMuQ2FudmFzUmVuZGVyaW5nQ3R4LnJlc3RvcmUoKSx0aGlzLkNhbnZhc1JlbmRlcmluZ0N0eC5mb250PWx9cmVuZGVyUmVjdGFuZ2xlKHQsZSxpPTEpe2NvbnN0IHM9dGhpcy5DYW52YXNSZW5kZXJpbmdDdHguZmlsbFN0eWxlO3RoaXMuQ2FudmFzUmVuZGVyaW5nQ3R4LmZpbGxTdHlsZT1vLlZleEZsb3dDb252ZXJ0ZXIuc3R5bGUoZSksdGhpcy5DYW52YXNSZW5kZXJpbmdDdHguZ2xvYmFsQWxwaGE9aSx0aGlzLmN0eC5maWxsUmVjdCh0LngsdC55LHQud2lkdGgsdC5oZWlnaHQpLHRoaXMuQ2FudmFzUmVuZGVyaW5nQ3R4LmZpbGxTdHlsZT1zLHRoaXMuQ2FudmFzUmVuZGVyaW5nQ3R4Lmdsb2JhbEFscGhhPTF9cmVuZGVyTGluZSh0LGUsaT1cIiNGRjAwMDBGRlwiLHM9Mil7Y29uc3Qgbj10aGlzLkNhbnZhc1JlbmRlcmluZ0N0eC5zdHJva2VTdHlsZTt0aGlzLkNhbnZhc1JlbmRlcmluZ0N0eC5zdHJva2VTdHlsZT1pLHRoaXMuQ2FudmFzUmVuZGVyaW5nQ3R4LmJlZ2luUGF0aCgpLHRoaXMuQ2FudmFzUmVuZGVyaW5nQ3R4Lm1vdmVUbyh0LngsdC55KSx0aGlzLkNhbnZhc1JlbmRlcmluZ0N0eC5saW5lVG8oZS54LGUueSksdGhpcy5DYW52YXNSZW5kZXJpbmdDdHguc3Ryb2tlKCksdGhpcy5DYW52YXNSZW5kZXJpbmdDdHguc3Ryb2tlU3R5bGU9bn1yZW5kZXJDdXJ2ZSh0KXt0aGlzLmN0eC5iZWdpblBhdGgoKSx0aGlzLmN0eC5tb3ZlVG8odFswXS54LHRbMF0ueSksdGhpcy5jdHguYmV6aWVyQ3VydmVUbyh0WzFdLngsdFsxXS55LHRbMl0ueCx0WzJdLnksdFszXS54LHRbM10ueSksdGhpcy5jdHgubGluZVRvKHRbN10ueCx0WzddLnkpLHRoaXMuY3R4LmJlemllckN1cnZlVG8odFs2XS54LHRbNl0ueSx0WzVdLngsdFs1XS55LHRbNF0ueCx0WzRdLnkpLHRoaXMuY3R4LmxpbmVUbyh0WzBdLngsdFswXS55KSx0aGlzLmN0eC5jbG9zZVBhdGgoKSx0aGlzLmN0eC5maWxsKCl9Z2V0IENhbnZhc1JlbmRlcmluZ0N0eCgpe3JldHVybiB0aGlzLmN0eC52ZXhGbG93Q2FudmFzQ29udGV4dH19ZS5DYW52YXNWZXhGbG93QmFja2VuZD1sfSxmdW5jdGlvbih0LGUsaSl7XCJ1c2Ugc3RyaWN0XCI7dmFyIHM9dGhpcyYmdGhpcy5fX2ltcG9ydERlZmF1bHR8fGZ1bmN0aW9uKHQpe3JldHVybiB0JiZ0Ll9fZXNNb2R1bGU/dDp7ZGVmYXVsdDp0fX07T2JqZWN0LmRlZmluZVByb3BlcnR5KGUsXCJfX2VzTW9kdWxlXCIse3ZhbHVlOiEwfSk7cyhpKDEwKSk7ZS5WZXhGbG93QmFja2VuZHM9Y2xhc3N7fTtlLlZleEZsb3dCYWNrZW5kPWNsYXNze2dldElubmVyRWxlbWVudCgpe3JldHVybiB0aGlzLmlubmVyfWdldENhbnZhcygpe3JldHVybiB0aGlzLmNhbnZhc31nZXRSZW5kZXJFbGVtZW50KCl7bGV0IHQ9dGhpcy5jYW52YXM7cmV0dXJuIDE9PT10aGlzLmdldFZleGZsb3dCYWNrZW5kVHlwZSgpJiYodD10aGlzLmlubmVyKSx0fWdldFJlbmRlcmVyKCl7cmV0dXJuIHRoaXMucmVuZGVyZXJ9cmVtb3ZlQWxsQ2hpbGRyZW5Gcm9tQ29udGFpbmVyKHQpe2Zvcig7MCE9PXQuY2hpbGRyZW4ubGVuZ3RoOyl0LnJlbW92ZUNoaWxkKHQuY2hpbGRyZW4uaXRlbSgwKSl9cmVtb3ZlRnJvbUNvbnRhaW5lcih0KXtjb25zdCBlPXRoaXMuZ2V0UmVuZGVyRWxlbWVudCgpO2ZvcihsZXQgaT0wO2k8dC5jaGlsZHJlbi5sZW5ndGg7aSsrKWlmKHQuY2hpbGRyZW4uaXRlbShpKT09PWUpe3QucmVtb3ZlQ2hpbGQoZSk7YnJlYWt9fXJlc2l6ZSh0LGUpe3RoaXMucmVuZGVyZXIucmVzaXplKHQsZSl9fX0sZnVuY3Rpb24odCxlLGkpe1widXNlIHN0cmljdFwiO09iamVjdC5kZWZpbmVQcm9wZXJ0eShlLFwiX19lc01vZHVsZVwiLHt2YWx1ZTohMH0pO2NvbnN0IHM9aSgxMTIpLG49aSgxOCkscj1pKDMxKTtjbGFzcyBvIGV4dGVuZHMgcy5HcmFwaGljYWxOb3Rle2NvbnN0cnVjdG9yKHQsZSxpLHM9ci5PY3RhdmVFbnVtLk5PTkUsbyl7aWYoc3VwZXIodCxlLG8pLHRoaXMuY2xlZj1pLHRoaXMub2N0YXZlU2hpZnQ9cyx0LlBpdGNoKXtjb25zdCBlPXIuT2N0YXZlU2hpZnQuZ2V0UGl0Y2hGcm9tT2N0YXZlU2hpZnQodC5QaXRjaCxzKTt0aGlzLnZmcGl0Y2g9bi5WZXhGbG93Q29udmVydGVyLnBpdGNoKHRoaXMsZSksdGhpcy52ZnBpdGNoWzFdPXZvaWQgMH19c2V0QWNjaWRlbnRhbCh0KXtjb25zdCBlPXIuT2N0YXZlU2hpZnQuZ2V0UGl0Y2hGcm9tT2N0YXZlU2hpZnQodCx0aGlzLm9jdGF2ZVNoaWZ0KTt0aGlzLnZmcGl0Y2g9bi5WZXhGbG93Q29udmVydGVyLnBpdGNoKHRoaXMsZSl9VHJhbnNwb3NlKHQsZSxpLHMpe2NvbnN0IG89c3VwZXIuVHJhbnNwb3NlKHQsZSxpLHMpLGE9ci5PY3RhdmVTaGlmdC5nZXRQaXRjaEZyb21PY3RhdmVTaGlmdChvLHRoaXMub2N0YXZlU2hpZnQpO3JldHVybiB0aGlzLnZmcGl0Y2g9bi5WZXhGbG93Q29udmVydGVyLnBpdGNoKHRoaXMsYSksdGhpcy52ZnBpdGNoWzFdPXZvaWQgMCxhfXNldEluZGV4KHQsZSl7dGhpcy52Zm5vdGU9W3QsZV19Q2xlZigpe3JldHVybiB0aGlzLmNsZWZ9Z2V0U1ZHSWQoKXtyZXR1cm4gdGhpcy52Zm5vdGVbMF0uZ2V0QXR0cmlidXRlKFwiaWRcIil9Z2V0U1ZHR0VsZW1lbnQoKXtyZXR1cm4gdGhpcy52Zm5vdGVbMF0uZ2V0QXR0cmlidXRlKFwiZWxcIil9fWUuVmV4Rmxvd0dyYXBoaWNhbE5vdGU9b30sZnVuY3Rpb24odCxlLGkpe1widXNlIHN0cmljdFwiO3ZhciBzPXRoaXMmJnRoaXMuX19pbXBvcnREZWZhdWx0fHxmdW5jdGlvbih0KXtyZXR1cm4gdCYmdC5fX2VzTW9kdWxlP3Q6e2RlZmF1bHQ6dH19O09iamVjdC5kZWZpbmVQcm9wZXJ0eShlLFwiX19lc01vZHVsZVwiLHt2YWx1ZTohMH0pO2NvbnN0IG49cyhpKDEwKSkscj1pKDUpLG89aSgzKSxhPWkoMTkpO2NsYXNzIGggZXh0ZW5kcyByLkdyYXBoaWNhbE9iamVjdHtjb25zdHJ1Y3Rvcih0LGUsaT0wKXtzdXBlcigpLHRoaXMuUG9zaXRpb25BbmRTaGFwZT1uZXcgby5Cb3VuZGluZ0JveCh0aGlzLHQuUGFyZW50TXVzaWNTeXN0ZW0uUG9zaXRpb25BbmRTaGFwZSk7Y29uc3Qgcz10Lk1lYXN1cmVzWzBdLG49ZS5NZWFzdXJlc1swXTt0aGlzLmFkZENvbm5lY3RvcihzLmdldFZGU3RhdmUoKSxuLmdldFZGU3RhdmUoKSw0LGkpfWRyYXcodCl7dGhpcy52ZXhmbG93Q29ubmVjdG9yLnNldENvbnRleHQodCkuZHJhdygpO2NvbnN0IGU9dGhpcy52ZXhmbG93Q29ubmVjdG9yLGk9ZS50b3Bfc3RhdmUuZ2V0WUZvckxpbmUoMCkscz1lLmJvdHRvbV9zdGF2ZS5nZXRZRm9yTGluZShlLmJvdHRvbV9zdGF2ZS5nZXROdW1MaW5lcygpLTEpK2UudGhpY2tuZXNzO3RoaXMuUG9zaXRpb25BbmRTaGFwZS5BYnNvbHV0ZVBvc2l0aW9uLng9KGUudG9wX3N0YXZlLmdldFgoKS0yK2UueF9zaGlmdCkvYS51bml0SW5QaXhlbHMsdGhpcy5Qb3NpdGlvbkFuZFNoYXBlLkFic29sdXRlUG9zaXRpb24ueT1pL2EudW5pdEluUGl4ZWxzLHRoaXMuUG9zaXRpb25BbmRTaGFwZS5TaXplLmhlaWdodD0ocy1pKS9hLnVuaXRJblBpeGVscyx0aGlzLlBvc2l0aW9uQW5kU2hhcGUuU2l6ZS53aWR0aD0xMi9hLnVuaXRJblBpeGVsc31hZGRDb25uZWN0b3IodCxlLGkscyl7dGhpcy52ZXhmbG93Q29ubmVjdG9yPW5ldyBuLmRlZmF1bHQuRmxvdy5TdGF2ZUNvbm5lY3Rvcih0LGUpLnNldFR5cGUoaSkuc2V0WFNoaWZ0KC01KnMpfX1lLlZleEZsb3dJbnN0cnVtZW50QnJhY2tldD1ofSxmdW5jdGlvbih0LGUsaSl7XCJ1c2Ugc3RyaWN0XCI7dmFyIHM9dGhpcyYmdGhpcy5fX2ltcG9ydERlZmF1bHR8fGZ1bmN0aW9uKHQpe3JldHVybiB0JiZ0Ll9fZXNNb2R1bGU/dDp7ZGVmYXVsdDp0fX07T2JqZWN0LmRlZmluZVByb3BlcnR5KGUsXCJfX2VzTW9kdWxlXCIse3ZhbHVlOiEwfSk7Y29uc3Qgbj1zKGkoMTApKSxyPWkoMTExKSxvPWkoMzIpLGE9aSg4KSxoPWkoMTgpO3ZhciBsPW4uZGVmYXVsdC5GbG93Lk5vdGVTdWJHcm91cDtjb25zdCBjPXMoaSgxKSksdT1pKDE5KSxkPWkoMjYpLGY9aSgzNiksbT1pKDE2KSxwPWkoNzMpLGc9aSgwKSxiPWkoMzcpLFM9aSg3NCkseT1pKDYpLHg9aSgzOSk7Y2xhc3MgRSBleHRlbmRzIHIuR3JhcGhpY2FsTWVhc3VyZXtjb25zdHJ1Y3Rvcih0LGUsaSl7c3VwZXIodCxlLGkpLHRoaXMub2N0YXZlT2Zmc2V0PTMsdGhpcy52ZlZvaWNlcz17fSx0aGlzLnZmVGllcz1bXSx0aGlzLnZmUmVwZXRpdGlvbldvcmRzPVtdLHRoaXMuY29ubmVjdG9ycz1bXSx0aGlzLmJlYW1zPXt9LHRoaXMudHVwbGV0cz17fSx0aGlzLnZmdHVwbGV0cz17fSx0aGlzLm1pbmltdW1TdGFmZkVudHJpZXNXaWR0aD0tMSxpP3RoaXMucnVsZXM9aS5QYXJlbnRNdXNpY1N5c3RlbS5ydWxlczplJiYodGhpcy5ydWxlcz1lLlJ1bGVzKSx0aGlzLnJlc2V0TGF5b3V0KCl9c2V0QWJzb2x1dGVDb29yZGluYXRlcyh0LGUpe3RoaXMuc3RhdmUuc2V0WCh0KS5zZXRZKGUpfXJlc2V0TGF5b3V0KCl7dGhpcy5zdGF2ZT1uZXcgbi5kZWZhdWx0LkZsb3cuU3RhdmUoMCwwLDAse3NwYWNlX2Fib3ZlX3N0YWZmX2xuOjAsc3BhY2VfYmVsb3dfc3RhZmZfbG46MH0pLHRoaXMuUGFyZW50U3RhZmYmJnRoaXMuc2V0TGluZU51bWJlcih0aGlzLlBhcmVudFN0YWZmLlN0YWZmbGluZUNvdW50KSx0aGlzLnN0YXZlLnNldEJlZ0JhclR5cGUoNyksdGhpcy5wYXJlbnRTb3VyY2VNZWFzdXJlJiZ0aGlzLnBhcmVudFNvdXJjZU1lYXN1cmUuZW5kaW5nQmFyU3R5bGVFbnVtPT09by5TeXN0ZW1MaW5lc0VudW0uTm9uZSYmdGhpcy5zdGF2ZS5zZXRFbmRCYXJUeXBlKDcpLHRoaXMudXBkYXRlSW5zdHJ1Y3Rpb25XaWR0aCgpfWNsZWFuKCl7dGhpcy52ZlRpZXMubGVuZ3RoPTAsdGhpcy5jb25uZWN0b3JzPVtdLHRoaXMucmVzZXRMYXlvdXQoKX1nZXRMaW5lV2lkdGgodCl7c3dpdGNoKHQpe2Nhc2Ugby5TeXN0ZW1MaW5lc0VudW0uQm9sZFRoaW5Eb3RzOmNhc2Ugby5TeXN0ZW1MaW5lc0VudW0uRG90c1RoaW5Cb2xkOmNhc2Ugby5TeXN0ZW1MaW5lc0VudW0uRG90c0JvbGRCb2xkRG90czpyZXR1cm4gMTAvdS51bml0SW5QaXhlbHM7ZGVmYXVsdDpyZXR1cm4gMH19YWRkQ2xlZkF0QmVnaW4odCl7aWYodGhpcy5vY3RhdmVPZmZzZXQ9dC5PY3RhdmVPZmZzZXQsdC5DbGVmVHlwZT09PWEuQ2xlZkVudW0uVEFCKXRoaXMuc3RhdmUuYWRkQ2xlZihcInRhYlwiLHZvaWQgMCx2b2lkIDAsdm9pZCAwKTtlbHNle2NvbnN0IGU9aC5WZXhGbG93Q29udmVydGVyLkNsZWYodCxcImRlZmF1bHRcIik7dGhpcy5zdGF2ZS5hZGRDbGVmKGUudHlwZSxlLnNpemUsZS5hbm5vdGF0aW9uLDUpfXRoaXMudXBkYXRlSW5zdHJ1Y3Rpb25XaWR0aCgpfXNldExpbmVOdW1iZXIodCl7NSE9PXQmJigwPT09dD8odGhpcy5zdGF2ZS5zZXROdW1MaW5lcygwKSx0aGlzLnN0YXZlLmdldEJvdHRvbUxpbmVZPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZ2V0WUZvckxpbmUodGhpcy5vcHRpb25zLm51bV9saW5lcyl9KToxPT09dD8odGhpcy5zdGF2ZS5vcHRpb25zLmxpbmVfY29uZmlnPVt7dmlzaWJsZTohMX0se3Zpc2libGU6ITF9LHt2aXNpYmxlOiEwfSx7dmlzaWJsZTohMX0se3Zpc2libGU6ITF9XSx0aGlzLnN0YXZlLmdldEJvdHRvbUxpbmVZPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZ2V0WUZvckxpbmUoMil9KToyPT09dD8odGhpcy5zdGF2ZS5vcHRpb25zLmxpbmVfY29uZmlnPVt7dmlzaWJsZTohMX0se3Zpc2libGU6ITF9LHt2aXNpYmxlOiEwfSx7dmlzaWJsZTohMH0se3Zpc2libGU6ITF9XSx0aGlzLnN0YXZlLmdldEJvdHRvbUxpbmVZPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZ2V0WUZvckxpbmUoMyl9KTozPT09dD8odGhpcy5zdGF2ZS5vcHRpb25zLmxpbmVfY29uZmlnPVt7dmlzaWJsZTohMX0se3Zpc2libGU6ITB9LHt2aXNpYmxlOiEwfSx7dmlzaWJsZTohMH0se3Zpc2libGU6ITF9XSx0aGlzLnN0YXZlLmdldEJvdHRvbUxpbmVZPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZ2V0WUZvckxpbmUoMil9KToodGhpcy5zdGF2ZS5zZXROdW1MaW5lcyh0KSx0aGlzLnN0YXZlLmdldEJvdHRvbUxpbmVZPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZ2V0WUZvckxpbmUodGhpcy5vcHRpb25zLm51bV9saW5lcyl9KSl9YWRkS2V5QXRCZWdpbih0LGUsaSl7dGhpcy5zdGF2ZS5zZXRLZXlTaWduYXR1cmUoaC5WZXhGbG93Q29udmVydGVyLmtleVNpZ25hdHVyZSh0KSxoLlZleEZsb3dDb252ZXJ0ZXIua2V5U2lnbmF0dXJlKGUpLHZvaWQgMCksdGhpcy51cGRhdGVJbnN0cnVjdGlvbldpZHRoKCl9YWRkUmh5dGhtQXRCZWdpbih0KXtjb25zdCBlPWguVmV4Rmxvd0NvbnZlcnRlci5UaW1lU2lnbmF0dXJlKHQpO3RoaXMuc3RhdmUuYWRkTW9kaWZpZXIoZSw1KSx0aGlzLnVwZGF0ZUluc3RydWN0aW9uV2lkdGgoKX1hZGRDbGVmQXRFbmQodCl7Y29uc3QgZT1oLlZleEZsb3dDb252ZXJ0ZXIuQ2xlZih0LFwic21hbGxcIik7dGhpcy5zdGF2ZS5zZXRFbmRDbGVmKGUudHlwZSxlLnNpemUsZS5hbm5vdGF0aW9uKSx0aGlzLnVwZGF0ZUluc3RydWN0aW9uV2lkdGgoKX1hZGRNZWFzdXJlTGluZSh0LGUpe3N3aXRjaChlKXtjYXNlIGYuU3lzdGVtTGluZVBvc2l0aW9uLk1lYXN1cmVCZWdpbjpzd2l0Y2godCl7Y2FzZSBvLlN5c3RlbUxpbmVzRW51bS5Cb2xkVGhpbkRvdHM6dGhpcy5zdGF2ZS5zZXRCZWdCYXJUeXBlKDQpfWJyZWFrO2Nhc2UgZi5TeXN0ZW1MaW5lUG9zaXRpb24uTWVhc3VyZUVuZDpzd2l0Y2godCl7Y2FzZSBvLlN5c3RlbUxpbmVzRW51bS5Eb3RzQm9sZEJvbGREb3RzOnRoaXMuc3RhdmUuc2V0RW5kQmFyVHlwZSg2KTticmVhaztjYXNlIG8uU3lzdGVtTGluZXNFbnVtLkRvdHNUaGluQm9sZDp0aGlzLnN0YXZlLnNldEVuZEJhclR5cGUoNSk7YnJlYWs7Y2FzZSBvLlN5c3RlbUxpbmVzRW51bS5Eb3VibGVUaGluOnRoaXMuc3RhdmUuc2V0RW5kQmFyVHlwZSgyKTticmVhaztjYXNlIG8uU3lzdGVtTGluZXNFbnVtLlRoaW5Cb2xkOnRoaXMuc3RhdmUuc2V0RW5kQmFyVHlwZSgzKTticmVhaztjYXNlIG8uU3lzdGVtTGluZXNFbnVtLk5vbmU6dGhpcy5zdGF2ZS5zZXRFbmRCYXJUeXBlKDcpfX19YWRkTWVhc3VyZU51bWJlcigpe2NvbnN0IHQ9dGhpcy5NZWFzdXJlTnVtYmVyLnRvU3RyaW5nKCksZT12LkFCT1ZFO3RoaXMuc3RhdmUuc2V0VGV4dCh0LGUse2p1c3RpZmljYXRpb246MSxzaGlmdF94OjAsc2hpZnRfeTowfSl9YWRkV29yZFJlcGV0aXRpb24odCl7bGV0IGU9dm9pZCAwLGk9Njtzd2l0Y2godC50eXBlKXtjYXNlIGQuUmVwZXRpdGlvbkluc3RydWN0aW9uRW51bS5TZWdubzplPTQsaT01O2JyZWFrO2Nhc2UgZC5SZXBldGl0aW9uSW5zdHJ1Y3Rpb25FbnVtLkNvZGE6ZT0yLGk9NTticmVhaztjYXNlIGQuUmVwZXRpdGlvbkluc3RydWN0aW9uRW51bS5EYUNhcG86ZT02O2JyZWFrO2Nhc2UgZC5SZXBldGl0aW9uSW5zdHJ1Y3Rpb25FbnVtLkRhbFNlZ25vOmU9OTticmVhaztjYXNlIGQuUmVwZXRpdGlvbkluc3RydWN0aW9uRW51bS5GaW5lOmU9MTI7YnJlYWs7Y2FzZSBkLlJlcGV0aXRpb25JbnN0cnVjdGlvbkVudW0uVG9Db2RhOmJyZWFrO2Nhc2UgZC5SZXBldGl0aW9uSW5zdHJ1Y3Rpb25FbnVtLkRhQ2Fwb0FsRmluZTplPTg7YnJlYWs7Y2FzZSBkLlJlcGV0aXRpb25JbnN0cnVjdGlvbkVudW0uRGFDYXBvQWxDb2RhOmU9NzticmVhaztjYXNlIGQuUmVwZXRpdGlvbkluc3RydWN0aW9uRW51bS5EYWxTZWdub0FsRmluZTplPTExO2JyZWFrO2Nhc2UgZC5SZXBldGl0aW9uSW5zdHJ1Y3Rpb25FbnVtLkRhbFNlZ25vQWxDb2RhOmU9MTB9ZT90aGlzLnN0YXZlLmFkZE1vZGlmaWVyKG5ldyBuLmRlZmF1bHQuRmxvdy5SZXBldGl0aW9uKGUsMCwwKSxpKTp0aGlzLmFkZFZvbHRhKHQpfWFkZFZvbHRhKHQpe2xldCBlPTI7aWYodC50eXBlPT09ZC5SZXBldGl0aW9uSW5zdHJ1Y3Rpb25FbnVtLkVuZGluZyl7c3dpdGNoKHQuYWxpZ25tZW50KXtjYXNlIGQuQWxpZ25tZW50VHlwZS5CZWdpbjplPXRoaXMucGFyZW50U291cmNlTWVhc3VyZS5lbmRzUmVwZXRpdGlvbkVuZGluZygpPzU6MjticmVhaztjYXNlIGQuQWxpZ25tZW50VHlwZS5FbmQ6aWYodGhpcy5wYXJlbnRTb3VyY2VNZWFzdXJlLmJlZ2luc1JlcGV0aXRpb25FbmRpbmcoKSlyZXR1cm47ZT00fWNvbnN0IGk9dGhpcy5QYXJlbnRTdGFmZkxpbmUuU2t5Qm90dG9tTGluZUNhbGN1bGF0b3Iscz10aGlzLlBvc2l0aW9uQW5kU2hhcGUuQWJzb2x1dGVQb3NpdGlvbi54K3RoaXMuUG9zaXRpb25BbmRTaGFwZS5Cb3JkZXJNYXJnaW5MZWZ0Ky40LG49dGhpcy5Qb3NpdGlvbkFuZFNoYXBlLkFic29sdXRlUG9zaXRpb24ueCt0aGlzLlBvc2l0aW9uQW5kU2hhcGUuQm9yZGVyTWFyZ2luUmlnaHQscj1pLmdldFNreUxpbmVNaW5JblJhbmdlKHMsbiktMjtsZXQgbz0tNi4xK3RoaXMucnVsZXMuVm9sdGFPZmZzZXQsYT10aGlzLnJ1bGVzLlZvbHRhT2Zmc2V0O2lmKHI8byl7YSs9ci1vLG89cn1hKj0xMCx0aGlzLnN0YXZlLnNldFZvbHRhVHlwZShlLHQuZW5kaW5nSW5kaWNlc1swXSxhKSxpLnVwZGF0ZVNreUxpbmVJblJhbmdlKHMsbixvKX19c2V0V2lkdGgodCl7c3VwZXIuc2V0V2lkdGgodCksdGhpcy5zdGF2ZS5zZXRXaWR0aCh0KnUudW5pdEluUGl4ZWxzKX1sYXlvdXRTeW1ib2xzKCl7fWRyYXcodCl7dGhpcy5zdGF2ZS5zZXRDb250ZXh0KHQpLmRyYXcoKTtmb3IoY29uc3QgZSBpbiB0aGlzLnZmVm9pY2VzKXRoaXMudmZWb2ljZXMuaGFzT3duUHJvcGVydHkoZSkmJih0LnNhdmUoKSx0aGlzLnZmVm9pY2VzW2VdLmRyYXcodCx0aGlzLnN0YXZlKSx0LnJlc3RvcmUoKSk7Zm9yKGNvbnN0IGUgaW4gdGhpcy52ZmJlYW1zKWlmKHRoaXMudmZiZWFtcy5oYXNPd25Qcm9wZXJ0eShlKSlmb3IoY29uc3QgaSBvZiB0aGlzLnZmYmVhbXNbZV0paS5zZXRDb250ZXh0KHQpLmRyYXcoKTtpZih0aGlzLmF1dG9WZkJlYW1zKWZvcihjb25zdCBlIG9mIHRoaXMuYXV0b1ZmQmVhbXMpZS5zZXRDb250ZXh0KHQpLmRyYXcoKTtpZih0aGlzLmF1dG9UdXBsZXRWZkJlYW1zKWZvcihjb25zdCBlIG9mIHRoaXMuYXV0b1R1cGxldFZmQmVhbXMpZS5zZXRDb250ZXh0KHQpLmRyYXcoKTtmb3IoY29uc3QgZSBpbiB0aGlzLnZmdHVwbGV0cylpZih0aGlzLnZmdHVwbGV0cy5oYXNPd25Qcm9wZXJ0eShlKSlmb3IoY29uc3QgaSBvZiB0aGlzLnZmdHVwbGV0c1tlXSlpLnNldENvbnRleHQodCkuZHJhdygpO2Zvcihjb25zdCBlIG9mIHRoaXMudmZUaWVzKWUuc2V0Q29udGV4dCh0KS5kcmF3KCk7Zm9yKGNvbnN0IGUgb2YgdGhpcy5jb25uZWN0b3JzKWUuc2V0Q29udGV4dCh0KS5kcmF3KCl9Zm9ybWF0KCl7dGhpcy5mb3JtYXRWb2ljZXMmJnRoaXMuZm9ybWF0Vm9pY2VzKCh0aGlzLlBvc2l0aW9uQW5kU2hhcGUuU2l6ZS53aWR0aC10aGlzLmJlZ2luSW5zdHJ1Y3Rpb25zV2lkdGgtdGhpcy5lbmRJbnN0cnVjdGlvbnNXaWR0aCkqdS51bml0SW5QaXhlbHMpfWdldFZvaWNlc1dpdGhpbk1lYXN1cmUoKXtjb25zdCB0PVtdO2Zvcihjb25zdCBlIG9mIHRoaXMuc3RhZmZFbnRyaWVzKWZvcihjb25zdCBpIG9mIGUuZ3JhcGhpY2FsVm9pY2VFbnRyaWVzKS0xPT09dC5pbmRleE9mKGkucGFyZW50Vm9pY2VFbnRyeS5QYXJlbnRWb2ljZSkmJnQucHVzaChpLnBhcmVudFZvaWNlRW50cnkuUGFyZW50Vm9pY2UpO3JldHVybiB0fWdldEdyYXBoaWNhbFZvaWNlRW50cmllc1BlclZvaWNlKHQpe2NvbnN0IGU9W107Zm9yKGNvbnN0IGkgb2YgdGhpcy5zdGFmZkVudHJpZXMpZm9yKGNvbnN0IHMgb2YgaS5ncmFwaGljYWxWb2ljZUVudHJpZXMpcy5wYXJlbnRWb2ljZUVudHJ5LlBhcmVudFZvaWNlPT09dCYmZS5wdXNoKHMpO3JldHVybiBlfWdldFJlc3RGaWxsZWRWZXhGbG93U3RhdmVOb3Rlc1BlclZvaWNlKHQpe2xldCBlPXZvaWQgMDtjb25zdCBpPXRoaXMuZ2V0R3JhcGhpY2FsVm9pY2VFbnRyaWVzUGVyVm9pY2UodCk7Zm9yKGxldCB0PTAscz1pLmxlbmd0aDt0PHM7Kyt0KXtjb25zdCBzPWlbdF0sbj1zLm5vdGVzWzBdLnNvdXJjZU5vdGUuZ2V0QWJzb2x1dGVUaW1lc3RhbXAoKTtsZXQgcj1uZXcgZy5GcmFjdGlvbjtmb3IoY29uc3QgdCBvZiBzLm5vdGVzKXtjb25zdCBlPWcuRnJhY3Rpb24ucGx1cyh0LnNvdXJjZU5vdGUuZ2V0QWJzb2x1dGVUaW1lc3RhbXAoKSx0LnNvdXJjZU5vdGUuTGVuZ3RoKTtyLmx0KGUpJiYocj1lKX1pZihlKXtjb25zdCBzPWcuRnJhY3Rpb24ubWludXMobixlKTtpZihzLlJlYWxWYWx1ZT4wKXtjLmRlZmF1bHQudHJhY2UoYEdob3N0IEZvdW5kIGluIGJldHdlZW4gKG1lYXN1cmUgJHt0aGlzLk1lYXN1cmVOdW1iZXJ9KWApO2NvbnN0IGU9aC5WZXhGbG93Q29udmVydGVyLkdob3N0Tm90ZShzKSxuPW5ldyBwLlZleEZsb3dWb2ljZUVudHJ5KHZvaWQgMCx2b2lkIDApO24udmZTdGF2ZU5vdGU9ZSxpLnNwbGljZSh0LDAsbiksdCsrfX1lbHNle2NvbnN0IGU9Zy5GcmFjdGlvbi5taW51cyhuLHRoaXMucGFyZW50U291cmNlTWVhc3VyZS5BYnNvbHV0ZVRpbWVzdGFtcCk7aWYoZS5SZWFsVmFsdWU+MCl7Yy5kZWZhdWx0LnRyYWNlKGBHaG9zdCBGb3VuZCBhdCBzdGFydCAobWVhc3VyZSAke3RoaXMuTWVhc3VyZU51bWJlcn0pYCk7Y29uc3Qgcz1oLlZleEZsb3dDb252ZXJ0ZXIuR2hvc3ROb3RlKGUpLG49bmV3IHAuVmV4Rmxvd1ZvaWNlRW50cnkodm9pZCAwLHZvaWQgMCk7bi52ZlN0YXZlTm90ZT1zLGkuc3BsaWNlKDAsMCxuKSx0Kyt9fWU9cn1jb25zdCBzPWcuRnJhY3Rpb24ucGx1cyh0aGlzLnBhcmVudFNvdXJjZU1lYXN1cmUuQWJzb2x1dGVUaW1lc3RhbXAsdGhpcy5wYXJlbnRTb3VyY2VNZWFzdXJlLkR1cmF0aW9uKSxuPWcuRnJhY3Rpb24ubWludXMocyxlKTtpZihuLlJlYWxWYWx1ZT4wKXtjLmRlZmF1bHQudHJhY2UoYEdob3N0IEZvdW5kIGF0IGVuZCAobWVhc3VyZSAke3RoaXMuTWVhc3VyZU51bWJlcn0pYCk7Y29uc3QgdD1oLlZleEZsb3dDb252ZXJ0ZXIuR2hvc3ROb3RlKG4pLGU9bmV3IHAuVmV4Rmxvd1ZvaWNlRW50cnkodm9pZCAwLHZvaWQgMCk7ZS52ZlN0YXZlTm90ZT10LGkucHVzaChlKX1yZXR1cm4gaX1oYW5kbGVCZWFtKHQsZSl7Y29uc3QgaT10LnNvdXJjZU5vdGUuUGFyZW50Vm9pY2VFbnRyeS5QYXJlbnRWb2ljZS5Wb2ljZUlkO2xldCBzLG49dGhpcy5iZWFtc1tpXTtufHwobj10aGlzLmJlYW1zW2ldPVtdKTtmb3IoY29uc3QgdCBvZiBuKXRbMF09PT1lJiYocz10KTtzfHwocz1bZSxbXV0sbi5wdXNoKHMpKTtjb25zdCByPXQucGFyZW50Vm9pY2VFbnRyeTtzWzFdLmluZGV4T2Yocik8MCYmc1sxXS5wdXNoKHIpfWhhbmRsZVR1cGxldCh0LGUpe2NvbnN0IGk9dC5zb3VyY2VOb3RlLlBhcmVudFZvaWNlRW50cnkuUGFyZW50Vm9pY2UuVm9pY2VJZDtlPXQuc291cmNlTm90ZS5Ob3RlVHVwbGV0O2xldCBzLG49dGhpcy50dXBsZXRzW2ldO258fChuPXRoaXMudHVwbGV0c1tpXT1bXSk7Zm9yKGNvbnN0IHQgb2Ygbil0WzBdPT09ZSYmKHM9dCk7c3x8KHM9W2UsW11dLG4ucHVzaChzKSk7Y29uc3Qgcj10LnBhcmVudFZvaWNlRW50cnk7c1sxXS5pbmRleE9mKHIpPDAmJnNbMV0ucHVzaChyKX1maW5hbGl6ZUJlYW1zKCl7dGhpcy52ZmJlYW1zPXt9O2NvbnN0IHQ9W107Zm9yKGNvbnN0IGUgaW4gdGhpcy5iZWFtcylpZih0aGlzLmJlYW1zLmhhc093blByb3BlcnR5KGUpKXtsZXQgaT10aGlzLnZmYmVhbXNbZV07aXx8KGk9dGhpcy52ZmJlYW1zW2VdPVtdKTtmb3IoY29uc3QgcyBvZiB0aGlzLmJlYW1zW2VdKXtsZXQgZT0hMTtmb3IoY29uc3QgdCBvZiBzWzBdLk5vdGVzKWlmKHQuTGVuZ3RoLlJlYWxWYWx1ZT49bmV3IGcuRnJhY3Rpb24oMSw0KS5SZWFsVmFsdWUmJighdC5UeXBlTGVuZ3RofHx0LlR5cGVMZW5ndGguUmVhbFZhbHVlPi4xMjUpKXtlPSEwO2JyZWFrfWlmKGUpe2MuZGVmYXVsdC5kZWJ1ZyhcIkJlYW0gYmV0d2VlbiBub3RlID49IHF1YXJ0ZXIsIGxpa2VseSB0cmVtb2xvLCBjdXJyZW50bHkgdW5zdXBwb3J0ZWQuIGNvbnRpbnVpbmcuXCIpO2NvbnRpbnVlfWNvbnN0IHI9W10sbz1zWzBdLGE9c1sxXTtsZXQgaD0hMDtmb3IoY29uc3QgdCBvZiBhKXQucGFyZW50Vm9pY2VFbnRyeS5QYXJlbnRWb2ljZT09PW8uTm90ZXNbMF0uUGFyZW50Vm9pY2VFbnRyeS5QYXJlbnRWb2ljZSYmKGg9dC5wYXJlbnRWb2ljZUVudHJ5LldhbnRlZFN0ZW1EaXJlY3Rpb249PT1tLlN0ZW1EaXJlY3Rpb25UeXBlLlVuZGVmaW5lZCk7bGV0IGwsdT0hMTtjb25zdCBkPVtdO2Zvcihjb25zdCBlIG9mIGEpe2NvbnN0IGk9ZS52ZlN0YXZlTm90ZTtpJiYoci5wdXNoKGkpLHQucHVzaChpKSksZS5wYXJlbnRWb2ljZUVudHJ5LklzR3JhY2UmJih1PSEwKSxlLnBhcmVudFZvaWNlRW50cnkuU3RlbUNvbG9yJiZ0aGlzLnJ1bGVzLkNvbG9yaW5nRW5hYmxlZCYmZC5wdXNoKGUucGFyZW50Vm9pY2VFbnRyeS5TdGVtQ29sb3IpfWlmKHIubGVuZ3RoPjEpe2NvbnN0IHQ9bmV3IG4uZGVmYXVsdC5GbG93LkJlYW0ocixoKTtpZih1JiYodC5yZW5kZXJfb3B0aW9ucy5iZWFtX3dpZHRoPTMsdC5yZW5kZXJfb3B0aW9ucy5wYXJ0aWFsX2JlYW1fbGVuZ3RoPTQpLGQubGVuZ3RoPj0yJiZ0aGlzLnJ1bGVzLkNvbG9yQmVhbXMpe2w9ZFswXTtmb3IoY29uc3QgdCBvZiBkKWlmKHQhPT1sKXtsPXZvaWQgMDticmVha310LnNldFN0eWxlKHtmaWxsU3R5bGU6bCxzdHJva2VTdHlsZTpsfSl9aS5wdXNoKHQpfWVsc2UgYy5kZWZhdWx0LmRlYnVnKFwiV2FybmluZyEgQmVhbSB3aXRoIG5vIG5vdGVzIVwiKX19dGhpcy5ydWxlcy5BdXRvQmVhbU5vdGVzJiZ0aGlzLmF1dG9CZWFtTm90ZXModCl9YXV0b0JlYW1Ob3Rlcyh0KXtsZXQgZSxpPVtdLHM9W10scj1bXTt0aGlzLmF1dG9UdXBsZXRWZkJlYW1zPVtdO2NvbnN0IG89W107dGhpcy5hdXRvVmZCZWFtcz1bXTtsZXQgYT10aGlzLnBhcmVudFNvdXJjZU1lYXN1cmUuQWN0aXZlVGltZVNpZ25hdHVyZTthfHwoYT10aGlzLnBhcmVudFNvdXJjZU1lYXN1cmUuRHVyYXRpb24pO2Zvcihjb25zdCBoIG9mIHRoaXMuc3RhZmZFbnRyaWVzKWZvcihjb25zdCBsIG9mIGguZ3JhcGhpY2FsVm9pY2VFbnRyaWVzKXtjb25zdCBjPWwudmZTdGF2ZU5vdGUsdT1sLm5vdGVzWzBdLGQ9aC5yZWxJbk1lYXN1cmVUaW1lc3RhbXAuaXNPbkJlYXQoYSksZj1zLmxlbmd0aD49MixtPXUuc291cmNlTm90ZS5MZW5ndGguUmVhbFZhbHVlLW5ldyBnLkZyYWN0aW9uKDEsNCkuUmVhbFZhbHVlPi1nLkZyYWN0aW9uLkZsb2F0SW5hY2N1cmFjeVRvbGVyYW5jZSxwPWwucGFyZW50Vm9pY2VFbnRyeS5Jc0dyYWNlfHxtfHx0LmNvbnRhaW5zKGMpO2lmKHB8fGQpe2lmKGYpe2Zvcihjb25zdCB0IG9mIHMpaS5wdXNoKHQpO28ucHVzaChpLnNsaWNlKCkpLGk9W119aWYocz1bXSxwKWNvbnRpbnVlfWNvbnN0IGI9bC5ub3Rlc1swXS5zb3VyY2VOb3RlLk5vdGVUdXBsZXQ7aWYoYil7bGV0IHQ9ITE7Zm9yKGNvbnN0IGUgb2YgYi5Ob3Rlcyl7Zm9yKGNvbnN0IGkgb2YgZSlpZihpLk5vdGVUeXBlWG1sPj14Lk5vdGVUeXBlLlFVQVJURVJ8fGkuUGFyZW50Vm9pY2VFbnRyeS5Jc0dyYWNlfHxpLmlzUmVzdCgpJiYhdGhpcy5ydWxlcy5BdXRvQmVhbU9wdGlvbnMuYmVhbV9yZXN0cyl7dD0hMDticmVha31pZih0KWJyZWFrfWU/ZSE9PWImJihyLmxlbmd0aD4xJiZ0aGlzLmF1dG9UdXBsZXRWZkJlYW1zLnB1c2gobmV3IG4uZGVmYXVsdC5GbG93LkJlYW0ociwhMCkpLHI9W10sZT1iKTplPWIsdHx8ci5wdXNoKGMpfWVsc2UgZT12b2lkIDAscy5wdXNoKGMpfWlmKHIubGVuZ3RoPj0yJiZ0aGlzLmF1dG9UdXBsZXRWZkJlYW1zLnB1c2gobmV3IG4uZGVmYXVsdC5GbG93LkJlYW0ociwhMCkpLHMubGVuZ3RoPj0yKXtmb3IoY29uc3QgdCBvZiBzKWkucHVzaCh0KTtvLnB1c2goaSl9Y29uc3QgaD10aGlzLnJ1bGVzLkF1dG9CZWFtT3B0aW9ucyxsPXtiZWFtX21pZGRsZV9vbmx5OmguYmVhbV9taWRkbGVfcmVzdHNfb25seSxiZWFtX3Jlc3RzOmguYmVhbV9yZXN0cyxtYWludGFpbl9zdGVtX2RpcmVjdGlvbnM6aC5tYWludGFpbl9zdGVtX2RpcmVjdGlvbnN9O2lmKGguZ3JvdXBzJiZoLmdyb3Vwcy5sZW5ndGgpe2NvbnN0IHQ9W107Zm9yKGNvbnN0IGUgb2YgaC5ncm91cHMpdC5wdXNoKG5ldyBuLmRlZmF1bHQuRmxvdy5GcmFjdGlvbihlWzBdLGVbMV0pKTtsLmdyb3Vwcz10fWZvcihjb25zdCB0IG9mIG8pe2NvbnN0IGU9bi5kZWZhdWx0LkZsb3cuQmVhbS5nZW5lcmF0ZUJlYW1zKHQsbCk7Zm9yKGNvbnN0IHQgb2YgZSl0aGlzLmF1dG9WZkJlYW1zLnB1c2godCl9fWZpbmFsaXplVHVwbGV0cygpe3RoaXMudmZ0dXBsZXRzPXt9O2Zvcihjb25zdCB0IGluIHRoaXMudHVwbGV0cylpZih0aGlzLnR1cGxldHMuaGFzT3duUHJvcGVydHkodCkpe2xldCBlPXRoaXMudmZ0dXBsZXRzW3RdO2V8fChlPXRoaXMudmZ0dXBsZXRzW3RdPVtdKTtmb3IoY29uc3QgaSBvZiB0aGlzLnR1cGxldHNbdF0pe2NvbnN0IHQ9W10scz1pWzFdO2Zvcihjb25zdCBlIG9mIHMpdC5wdXNoKGUudmZTdGF2ZU5vdGUpO2lmKHQubGVuZ3RoPjEpe2NvbnN0IHM9aVswXSxyPXMuTm90ZXNbMF1bMF0uTm9ybWFsTm90ZXMsbz1zLkJyYWNrZXR8fDM9PT1zLlR1cGxldExhYmVsTnVtYmVyJiZ0aGlzLnJ1bGVzLlRyaXBsZXRzQnJhY2tldGVkfHwzIT09cy5UdXBsZXRMYWJlbE51bWJlciYmdGhpcy5ydWxlcy5UdXBsZXRzQnJhY2tldGVkO2UucHVzaChuZXcgbi5kZWZhdWx0LkZsb3cuVHVwbGV0KHQse2JyYWNrZXRlZDpvLG5vdGVzX29jY3VwaWVkOnIsbnVtX25vdGVzOnMuVHVwbGV0TGFiZWxOdW1iZXIscmF0aW9lZDp0aGlzLnJ1bGVzLlR1cGxldHNSYXRpb2VkfSkpfWVsc2UgYy5kZWZhdWx0LmRlYnVnKFwiV2FybmluZyEgVHVwbGV0IHdpdGggbm8gbm90ZXMhIFRyeWluZyB0byBpZ25vcmUsIGJ1dCB0aGlzIGlzIGEgc2VyaW91cyBwcm9ibGVtLlwiKX19fWxheW91dFN0YWZmRW50cnkodCl7fWdyYXBoaWNhbE1lYXN1cmVDcmVhdGVkQ2FsY3VsYXRpb25zKCl7bGV0IHQsZT1bXTtmb3IoY29uc3QgaSBvZiB0aGlzLnN0YWZmRW50cmllcyl7dD0hMSxlPVtdO2Zvcihjb25zdCBzIG9mIGkuZ3JhcGhpY2FsVm9pY2VFbnRyaWVzKWlmKHMucGFyZW50Vm9pY2VFbnRyeS5Jc0dyYWNlKWUucHVzaChzKSx0fHwodD1zLnBhcmVudFZvaWNlRW50cnkuR3JhY2VTbHVyKTtlbHNlIGlmKHMubm90ZXNbMF0uc291cmNlTm90ZS5QcmludE9iamVjdCxzLnZmU3RhdmVOb3RlPWguVmV4Rmxvd0NvbnZlcnRlci5TdGF2ZU5vdGUocyksZS5sZW5ndGg+MCl7Y29uc3QgaT1bXTtmb3IobGV0IHQ9MDt0PGUubGVuZ3RoO3QrKyl7Y29uc3Qgcz1lW3RdLG49aC5WZXhGbG93Q29udmVydGVyLlN0YXZlTm90ZShzKTtzLnZmU3RhdmVOb3RlPW4saS5wdXNoKG4pfWNvbnN0IHI9bmV3IG4uZGVmYXVsdC5GbG93LkdyYWNlTm90ZUdyb3VwKGksdCk7cy52ZlN0YXZlTm90ZS5hZGRNb2RpZmllcigwLHIpLGU9W119fWlmKGUubGVuZ3RoPjApZm9yKGNvbnN0IHQgb2YgZSl0LnZmU3RhdmVOb3RlPWguVmV4Rmxvd0NvbnZlcnRlci5TdGF2ZU5vdGUodCksdC5wYXJlbnRWb2ljZUVudHJ5LkdyYWNlQWZ0ZXJNYWluTm90ZT0hMDt0aGlzLmZpbmFsaXplQmVhbXMoKSx0aGlzLmZpbmFsaXplVHVwbGV0cygpO2NvbnN0IGk9dGhpcy5nZXRWb2ljZXNXaXRoaW5NZWFzdXJlKCk7Zm9yKGNvbnN0IHQgb2YgaSl7aWYoIXQpY29udGludWU7Y29uc3QgZT0hKHQgaW5zdGFuY2VvZiBiLkxpbmtlZFZvaWNlKTt0aGlzLnZmVm9pY2VzW3QuVm9pY2VJZF09bmV3IG4uZGVmYXVsdC5GbG93LlZvaWNlKHtiZWF0X3ZhbHVlOnRoaXMucGFyZW50U291cmNlTWVhc3VyZS5EdXJhdGlvbi5EZW5vbWluYXRvcixudW1fYmVhdHM6dGhpcy5wYXJlbnRTb3VyY2VNZWFzdXJlLkR1cmF0aW9uLk51bWVyYXRvcixyZXNvbHV0aW9uOm4uZGVmYXVsdC5GbG93LlJFU09MVVRJT059KS5zZXRNb2RlKDIpO2NvbnN0IGk9dGhpcy5nZXRSZXN0RmlsbGVkVmV4Rmxvd1N0YXZlTm90ZXNQZXJWb2ljZSh0KTtmb3IoY29uc3QgcyBvZiBpKXtpZihzLnBhcmVudFZvaWNlRW50cnkmJnMucGFyZW50Vm9pY2VFbnRyeS5Jc0dyYWNlJiYhcy5wYXJlbnRWb2ljZUVudHJ5LkdyYWNlQWZ0ZXJNYWluTm90ZSljb250aW51ZTtjb25zdCBpPXM7aWYoMCE9PXMubm90ZXMubGVuZ3RoJiZzLm5vdGVzWzBdJiZzLm5vdGVzWzBdLnNvdXJjZU5vdGUuUHJpbnRPYmplY3Qpe2lmKGUpe2NvbnN0IHQ9aS5wYXJlbnRTdGFmZkVudHJ5O2lmKHQmJnQudmZDbGVmQmVmb3JlKXtjb25zdCBlPW5ldyBsKFt0LnZmQ2xlZkJlZm9yZV0pO2kudmZTdGF2ZU5vdGUuZ2V0Q2F0ZWdvcnkmJlwic3RhdmVub3Rlc1wiPT09aS52ZlN0YXZlTm90ZS5nZXRDYXRlZ29yeSgpJiZpLnZmU3RhdmVOb3RlLmFkZE1vZGlmaWVyKDAsZSl9fWlmKHMucGFyZW50Vm9pY2VFbnRyeSYmdGhpcy5ydWxlcy5SZW5kZXJGaW5nZXJpbmdzJiZ0aGlzLmNyZWF0ZUZpbmdlcmluZ3Mocykscy5wYXJlbnRWb2ljZUVudHJ5JiZzLnBhcmVudFZvaWNlRW50cnkuQXJwZWdnaW8pe2NvbnN0IHQ9cy5wYXJlbnRWb2ljZUVudHJ5LkFycGVnZ2lvO2lmKHMubm90ZXMmJnMubm90ZXMubGVuZ3RoPjEpe2NvbnN0IGU9aC5WZXhGbG93Q29udmVydGVyLlN0cm9rZVR5cGVGcm9tQXJwZWdnaW9UeXBlKHQudHlwZSkscz1uZXcgbi5kZWZhdWx0LkZsb3cuU3Ryb2tlKGUse2FsbF92b2ljZXM6dGhpcy5ydWxlcy5BcnBlZ2dpb3NHb0Fjcm9zc1ZvaWNlc30pO3RoaXMucnVsZXMuUmVuZGVyQXJwZWdnaW9zJiZpLnZmU3RhdmVOb3RlLmFkZFN0cm9rZSgwLHMpfWVsc2UgYy5kZWZhdWx0LmRlYnVnKGBbT1NNRF0gYXJwZWdnaW8gaW4gbWVhc3VyZSAke3RoaXMuTWVhc3VyZU51bWJlcn0gY291bGQgbm90IGJlIGRyYXduLlxcbiAgICAgICAgICAgICAgICAgICAgICAgIHZvaWNlIGVudHJ5IGhhZCBsZXNzIHRoYW4gdHdvIG5vdGVzLCBhcnBlZ2dpbyBpcyBsaWtlbHkgYmV0d2VlbiB2b2ljZSBlbnRyaWVzLCBub3QgY3VycmVudGx5IHN1cHBvcnRlZCBpbiBWZXhmbG93LmApfXRoaXMudmZWb2ljZXNbdC5Wb2ljZUlkXS5hZGRUaWNrYWJsZShpLnZmU3RhdmVOb3RlKX1lbHNlIHRoaXMudmZWb2ljZXNbdC5Wb2ljZUlkXS5hZGRUaWNrYWJsZShpLnZmU3RhdmVOb3RlKX19dGhpcy5jcmVhdGVBcnRpY3VsYXRpb25zKCksdGhpcy5jcmVhdGVPcm5hbWVudHMoKSx0aGlzLnNldFN0ZW1EaXJlY3Rpb25Gcm9tVmV4RmxvdygpfXNldFN0ZW1EaXJlY3Rpb25Gcm9tVmV4Rmxvdygpe2Zvcihjb25zdCB0IG9mIHRoaXMuc3RhZmZFbnRyaWVzKWZvcihjb25zdCBlIG9mIHQuZ3JhcGhpY2FsVm9pY2VFbnRyaWVzKWZvcihjb25zdCB0IG9mIGUubm90ZXMpe2NvbnN0IGk9dC52Zm5vdGU7aWYoaSYmaVswXSlzd2l0Y2goaVswXS5nZXRTdGVtRGlyZWN0aW9uKCkpe2Nhc2Ugbi5kZWZhdWx0LkZsb3cuU3RlbS5VUDplLnBhcmVudFZvaWNlRW50cnkuU3RlbURpcmVjdGlvbj1tLlN0ZW1EaXJlY3Rpb25UeXBlLlVwO2JyZWFrO2Nhc2Ugbi5kZWZhdWx0LkZsb3cuU3RlbS5ET1dOOmUucGFyZW50Vm9pY2VFbnRyeS5TdGVtRGlyZWN0aW9uPW0uU3RlbURpcmVjdGlvblR5cGUuRG93bn19fWNyZWF0ZUFydGljdWxhdGlvbnMoKXtmb3IobGV0IHQ9MCxlPXRoaXMuc3RhZmZFbnRyaWVzLmxlbmd0aDt0PGU7Kyt0KXtjb25zdCBlPXRoaXMuc3RhZmZFbnRyaWVzW3RdLmdyYXBoaWNhbFZvaWNlRW50cmllcztmb3IoY29uc3QgdCBvZiBlKXtjb25zdCBlPXQudmZTdGF2ZU5vdGU7aC5WZXhGbG93Q29udmVydGVyLmdlbmVyYXRlQXJ0aWN1bGF0aW9ucyhlLHQubm90ZXNbMF0uc291cmNlTm90ZS5QYXJlbnRWb2ljZUVudHJ5LkFydGljdWxhdGlvbnMpfX19Y3JlYXRlT3JuYW1lbnRzKCl7Zm9yKGxldCB0PTAsZT10aGlzLnN0YWZmRW50cmllcy5sZW5ndGg7dDxlOysrdCl7Y29uc3QgZT10aGlzLnN0YWZmRW50cmllc1t0XS5ncmFwaGljYWxWb2ljZUVudHJpZXM7Zm9yKGNvbnN0IHQgaW4gZSlpZihlLmhhc093blByb3BlcnR5KHQpKXtjb25zdCBpPWVbdF0udmZTdGF2ZU5vdGUscz1lW3RdLm5vdGVzWzBdLnNvdXJjZU5vdGUuUGFyZW50Vm9pY2VFbnRyeS5Pcm5hbWVudENvbnRhaW5lcjtzJiZoLlZleEZsb3dDb252ZXJ0ZXIuZ2VuZXJhdGVPcm5hbWVudHMoaSxzKX19fWNyZWF0ZUZpbmdlcmluZ3ModCl7Y29uc3QgZT10LGk9dC5wYXJlbnRWb2ljZUVudHJ5LlRlY2huaWNhbEluc3RydWN0aW9ucztsZXQgcz0wO2Zvcihjb25zdCB0IG9mIGkpdC50eXBlPT09Uy5UZWNobmljYWxJbnN0cnVjdGlvblR5cGUuRmluZ2VyaW5nJiZzKys7bGV0IHI9LTE7Zm9yKGNvbnN0IG8gb2YgaSl7aWYoby50eXBlIT09Uy5UZWNobmljYWxJbnN0cnVjdGlvblR5cGUuRmluZ2VyaW5nKWNvbnRpbnVlO3IrKztsZXQgaSxhPXRoaXMucnVsZXMuRmluZ2VyaW5nUG9zaXRpb247c3dpdGNoKG8ucGxhY2VtZW50IT09eS5QbGFjZW1lbnRFbnVtLk5vdFlldERlZmluZWQmJihhPW8ucGxhY2VtZW50KSxhKXtkZWZhdWx0OmNhc2UgeS5QbGFjZW1lbnRFbnVtLkxlZnQ6aT0xO2JyZWFrO2Nhc2UgeS5QbGFjZW1lbnRFbnVtLlJpZ2h0Omk9MjticmVhaztjYXNlIHkuUGxhY2VtZW50RW51bS5BYm92ZTppPTM7YnJlYWs7Y2FzZSB5LlBsYWNlbWVudEVudW0uQmVsb3c6aT00O2JyZWFrO2Nhc2UgeS5QbGFjZW1lbnRFbnVtLk5vdFlldERlZmluZWQ6Y29uc3QgZT10LnBhcmVudFN0YWZmRW50cnkuc291cmNlU3RhZmZFbnRyeS5QYXJlbnRTdGFmZjt0Lm5vdGVzLmxlbmd0aD4xfHx0LnBhcmVudFN0YWZmRW50cnkuZ3JhcGhpY2FsVm9pY2VFbnRyaWVzLmxlbmd0aD4xP2k9MTowPT09ZS5pZEluTXVzaWNTaGVldD8oaT0zLGE9eS5QbGFjZW1lbnRFbnVtLkFib3ZlKTooaT00LGE9eS5QbGFjZW1lbnRFbnVtLkJlbG93KX1jb25zdCBoPW5ldyBuLmRlZmF1bHQuRmxvdy5GcmV0SGFuZEZpbmdlcihvLnZhbHVlKTtpZihoLnNldFBvc2l0aW9uKGkpLGguc2V0T2Zmc2V0WCh0aGlzLnJ1bGVzLkZpbmdlcmluZ09mZnNldFgpLGE9PT15LlBsYWNlbWVudEVudW0uQWJvdmV8fGE9PT15LlBsYWNlbWVudEVudW0uQmVsb3cpe2NvbnN0IHQ9YT09PXkuUGxhY2VtZW50RW51bS5BYm92ZT8tMToxLGw9YT09PXkuUGxhY2VtZW50RW51bS5BYm92ZT9yOnMtMS1yO2lmKHRoaXMucnVsZXMuRmluZ2VyaW5nSW5zaWRlU3RhZmZsaW5lcyYmcz4xKXtjb25zdCBlPWguZ2V0V2lkdGgoKS8yLGk9Mi41KnM7aC5zZXRPZmZzZXRZKHQqKGwraSkqZSl9ZWxzZSBpZighdGhpcy5ydWxlcy5GaW5nZXJpbmdJbnNpZGVTdGFmZmxpbmVzKXtjb25zdCBzPW5ldyBuLmRlZmF1bHQuRmxvdy5TdHJpbmdOdW1iZXIoby52YWx1ZSk7cy5yYWRpdXM9MCxzLnNldFBvc2l0aW9uKGkpLHMuc2V0T2Zmc2V0WSh0Kmwqcy5nZXRXaWR0aCgpKjIvMyksZS52ZlN0YXZlTm90ZS5hZGRNb2RpZmllcihyLHMpO2NvbnRpbnVlfX1cInRhYm5vdGVzXCI9PT1lLnZmU3RhdmVOb3RlLmdldENhdGVnb3J5KCl8fGUudmZTdGF2ZU5vdGUuYWRkTW9kaWZpZXIocixoKX19bGluZVRvKHQsZSl7Y29uc3QgaT1uZXcgbi5kZWZhdWx0LkZsb3cuU3RhdmVDb25uZWN0b3IodC5nZXRWRlN0YXZlKCksdGhpcy5zdGF2ZSk7aS5zZXRUeXBlKGUpLHRoaXMuY29ubmVjdG9ycy5wdXNoKGkpfWdldFZGU3RhdmUoKXtyZXR1cm4gdGhpcy5zdGF2ZX11cGRhdGVJbnN0cnVjdGlvbldpZHRoKCl7bGV0IHQ9MCxlPTA7Y29uc3QgaT10aGlzLnN0YXZlLmdldE1vZGlmaWVycygpO2Zvcihjb25zdCBzIG9mIGkpcy5nZXRQb3NpdGlvbigpPT09di5CRUdJTj90Kz1zLmdldFdpZHRoKCkrcy5nZXRQYWRkaW5nKHZvaWQgMCk6cy5nZXRQb3NpdGlvbigpPT09di5FTkQmJihlKz1zLmdldFdpZHRoKCkrcy5nZXRQYWRkaW5nKHZvaWQgMCkpO3RoaXMuYmVnaW5JbnN0cnVjdGlvbnNXaWR0aD10L3UudW5pdEluUGl4ZWxzLHRoaXMuZW5kSW5zdHJ1Y3Rpb25zV2lkdGg9ZS91LnVuaXRJblBpeGVsc319dmFyIHY7ZS5WZXhGbG93TWVhc3VyZT1FLGZ1bmN0aW9uKHQpe3RbdC5MRUZUPTFdPVwiTEVGVFwiLHRbdC5SSUdIVD0yXT1cIlJJR0hUXCIsdFt0LkFCT1ZFPTNdPVwiQUJPVkVcIix0W3QuQkVMT1c9NF09XCJCRUxPV1wiLHRbdC5CRUdJTj01XT1cIkJFR0lOXCIsdFt0LkVORD02XT1cIkVORFwifSh2PWUuU3RhdmVQb3NpdGlvbkVudW18fChlLlN0YXZlUG9zaXRpb25FbnVtPXt9KSl9LGZ1bmN0aW9uKHQsZSxpKXtcInVzZSBzdHJpY3RcIjtPYmplY3QuZGVmaW5lUHJvcGVydHkoZSxcIl9fZXNNb2R1bGVcIix7dmFsdWU6ITB9KTtjb25zdCBzPWkoMTE3KSxuPWkoMTkpLHI9aSgyOCk7Y2xhc3MgbyBleHRlbmRzIHMuR3JhcGhpY2FsVm9pY2VFbnRyeXtjb25zdHJ1Y3Rvcih0LGUpe3N1cGVyKHQsZSl9YXBwbHlCb3JkZXJzRnJvbVZleGZsb3coKXtjb25zdCB0PXRoaXMudmZTdGF2ZU5vdGU7aWYoIXQuZ2V0Tm90ZUhlYWRCZWdpblgpcmV0dXJuO2NvbnN0IGU9dC5nZXRCb3VuZGluZ0JveCgpLGk9dC5nZXROb3RlSGVhZEJlZ2luWCgpLWUueDt0aGlzLlBvc2l0aW9uQW5kU2hhcGUuUmVsYXRpdmVQb3NpdGlvbi55PWUueS9uLnVuaXRJblBpeGVscyx0aGlzLlBvc2l0aW9uQW5kU2hhcGUuQm9yZGVyVG9wPTAsdGhpcy5Qb3NpdGlvbkFuZFNoYXBlLkJvcmRlckJvdHRvbT1lLmgvbi51bml0SW5QaXhlbHMsdGhpcy5Qb3NpdGlvbkFuZFNoYXBlLkJvcmRlckxlZnQ9LShpK3Qud2lkdGgvMikvbi51bml0SW5QaXhlbHMsdGhpcy5Qb3NpdGlvbkFuZFNoYXBlLkJvcmRlclJpZ2h0PShlLnctaSkvbi51bml0SW5QaXhlbHN9c2V0IHZmU3RhdmVOb3RlKHQpe3RoaXMubVZleEZsb3dTdGF2ZU5vdGU9dH1nZXQgdmZTdGF2ZU5vdGUoKXtyZXR1cm4gdGhpcy5tVmV4Rmxvd1N0YXZlTm90ZX1jb2xvcigpe2NvbnN0IHQ9dGhpcy5ydWxlcy5EZWZhdWx0Q29sb3JOb3RlaGVhZCxlPXRoaXMucnVsZXMuRGVmYXVsdENvbG9yUmVzdCxpPXRoaXMucnVsZXMuRGVmYXVsdENvbG9yU3RlbTtsZXQgcyxuO2NvbnN0IG89dGhpcy52ZlN0YXZlTm90ZTtmb3IobGV0IGk9MDtpPHRoaXMubm90ZXMubGVuZ3RoO2krKyl7Y29uc3QgYT10aGlzLm5vdGVzW2ldO2lmKG49YS5zb3VyY2VOb3RlLk5vdGVoZWFkQ29sb3Iscz1uLHRoaXMucnVsZXMuQ29sb3JpbmdNb2RlPT09ci5Db2xvcmluZ01vZGVzLkF1dG9Db2xvcmluZ3x8dGhpcy5ydWxlcy5Db2xvcmluZ01vZGU9PT1yLkNvbG9yaW5nTW9kZXMuQ3VzdG9tQ29sb3JTZXQpaWYoYS5zb3VyY2VOb3RlLmlzUmVzdCgpKXM9dGhpcy5ydWxlcy5Db2xvcmluZ1NldEN1cnJlbnQuZ2V0VmFsdWUoLTEpO2Vsc2V7Y29uc3QgdD1hLnNvdXJjZU5vdGUuUGl0Y2guRnVuZGFtZW50YWxOb3RlO3M9dGhpcy5ydWxlcy5Db2xvcmluZ1NldEN1cnJlbnQuZ2V0VmFsdWUodCl9aWYoYS5zb3VyY2VOb3RlLlByaW50T2JqZWN0P3MmJlwiIzAwMDAwMFwiIT09c3x8KHM9dGhpcy5ydWxlcy5EZWZhdWx0Q29sb3JOb3RlaGVhZCk6cz1cIiMwMDAwMDAwMFwiLCFuJiZ0aGlzLnJ1bGVzLkNvbG9yaW5nTW9kZT09PXIuQ29sb3JpbmdNb2Rlcy5YTUwmJmEuc291cmNlTm90ZS5QcmludE9iamVjdCYmKCFhLnNvdXJjZU5vdGUuaXNSZXN0KCkmJnQ/cz10OmEuc291cmNlTm90ZS5pc1Jlc3QoKSYmZSYmKHM9ZSkpLHMmJmEuc291cmNlTm90ZS5QcmludE9iamVjdClhLnNvdXJjZU5vdGUuTm90ZWhlYWRDb2xvckN1cnJlbnRseVJlbmRlcmVkPXM7ZWxzZSBpZighcyljb250aW51ZTtpZih0aGlzLnJ1bGVzLkNvbG9yaW5nRW5hYmxlZCYmYS5zb3VyY2VOb3RlLk5vdGVCZWFtJiZ0aGlzLnJ1bGVzLkNvbG9yQmVhbXMpe2NvbnN0IHQ9YS5zb3VyY2VOb3RlLk5vdGVCZWFtLk5vdGVzO2xldCBlPSEwO2ZvcihsZXQgaT0wO2k8dC5sZW5ndGg7aSsrKXRbaV0uTm90ZWhlYWRDb2xvckN1cnJlbnRseVJlbmRlcmVkIT09cyYmKGU9ITEpO2UmJm51bGwhPT1vLmJlYW0mJm8uYmVhbS5zZXRTdHlsZSYmby5iZWFtLnNldFN0eWxlKHtmaWxsU3R5bGU6cyxzdHJva2VTdHlsZTpzfSl9aWYobyYmby5ub3RlX2hlYWRzKXtjb25zdCB0PW8ubm90ZV9oZWFkc1tpXTt0JiZ0LnNldFN0eWxlKHtmaWxsU3R5bGU6cyxzdHJva2VTdHlsZTpzfSl9fWxldCBhPWk7dGhpcy5ydWxlcy5Db2xvcmluZ0VuYWJsZWQmJihhPXRoaXMucGFyZW50Vm9pY2VFbnRyeS5TdGVtQ29sb3IsYSYmXCIjMDAwMDAwXCIhPT1hfHwoYT1pKSx0aGlzLnJ1bGVzLkNvbG9yU3RlbXNMaWtlTm90ZWhlYWRzJiZzJiYoYT1zKSk7bGV0IGg9ITA7Zm9yKGNvbnN0IHQgb2YgdGhpcy5wYXJlbnRWb2ljZUVudHJ5Lk5vdGVzKWlmKHQuUHJpbnRPYmplY3Qpe2g9ITE7YnJlYWt9aCYmKGE9XCIjMDAwMDAwMDBcIik7Y29uc3QgbD17ZmlsbFN0eWxlOmEsc3Ryb2tlU3R5bGU6YX07byYmby5zZXRTdGVtU3R5bGUmJihofHwodGhpcy5wYXJlbnRWb2ljZUVudHJ5LlN0ZW1Db2xvcj1hKSxvLnNldFN0ZW1TdHlsZShsKSxvLmZsYWcmJm8uc2V0RmxhZ1N0eWxlJiZ0aGlzLnJ1bGVzLkNvbG9yRmxhZ3MmJm8uc2V0RmxhZ1N0eWxlKGwpKX19ZS5WZXhGbG93Vm9pY2VFbnRyeT1vfSxmdW5jdGlvbih0LGUsaSl7XCJ1c2Ugc3RyaWN0XCI7T2JqZWN0LmRlZmluZVByb3BlcnR5KGUsXCJfX2VzTW9kdWxlXCIse3ZhbHVlOiEwfSksZnVuY3Rpb24odCl7dFt0LkZpbmdlcmluZz0wXT1cIkZpbmdlcmluZ1wifShlLlRlY2huaWNhbEluc3RydWN0aW9uVHlwZXx8KGUuVGVjaG5pY2FsSW5zdHJ1Y3Rpb25UeXBlPXt9KSk7ZS5UZWNobmljYWxJbnN0cnVjdGlvbj1jbGFzc3t9fSxmdW5jdGlvbih0LGUsaSl7XCJ1c2Ugc3RyaWN0XCI7T2JqZWN0LmRlZmluZVByb3BlcnR5KGUsXCJfX2VzTW9kdWxlXCIse3ZhbHVlOiEwfSk7Y29uc3Qgcz1pKDApO2UuVGllPWNsYXNze2NvbnN0cnVjdG9yKHQpe3RoaXMubm90ZXM9W10sdGhpcy5BZGROb3RlKHQpfWdldCBOb3Rlcygpe3JldHVybiB0aGlzLm5vdGVzfWdldCBTdGFydE5vdGUoKXtyZXR1cm4gdGhpcy5ub3Rlc1swXX1nZXQgRHVyYXRpb24oKXtjb25zdCB0PW5ldyBzLkZyYWN0aW9uO2Zvcihjb25zdCBlIG9mIHRoaXMubm90ZXMpdC5BZGQoZS5MZW5ndGgpO3JldHVybiB0fWdldCBQaXRjaCgpe3JldHVybiB0aGlzLlN0YXJ0Tm90ZS5QaXRjaH1BZGROb3RlKHQpe3RoaXMubm90ZXMucHVzaCh0KSx0Lk5vdGVUaWU9dGhpc319fSxmdW5jdGlvbih0LGUsaSl7XCJ1c2Ugc3RyaWN0XCI7T2JqZWN0LmRlZmluZVByb3BlcnR5KGUsXCJfX2VzTW9kdWxlXCIse3ZhbHVlOiEwfSk7ZS5QYXJ0TGlzdEVudHJ5PWNsYXNze2NvbnN0cnVjdG9yKHQpe3RoaXMuZW5yb2xsZWRUaW1lc3RhbXBzPVtdLHRoaXMudmlzaWJsZT0hMCx0aGlzLm11c2ljU2hlZXQ9dH1nZXQgVmlzaWJsZSgpe3JldHVybiB0aGlzLnZpc2libGV9c2V0IFZpc2libGUodCl7dGhpcy52aXNpYmxlPXR9Z2V0Rmlyc3RTb3VyY2VNZWFzdXJlKCl7cmV0dXJuIHRoaXMubXVzaWNTaGVldC5Tb3VyY2VNZWFzdXJlc1t0aGlzLnN0YXJ0SW5kZXhdfWdldExhc3RTb3VyY2VNZWFzdXJlKCl7cmV0dXJuIHRoaXMubXVzaWNTaGVldC5Tb3VyY2VNZWFzdXJlc1t0aGlzLmVuZEluZGV4XX19fSxmdW5jdGlvbih0LGUsaSl7XCJ1c2Ugc3RyaWN0XCI7ZnVuY3Rpb24gcyh0KXtmb3IodmFyIGkgaW4gdCllLmhhc093blByb3BlcnR5KGkpfHwoZVtpXT10W2ldKX1PYmplY3QuZGVmaW5lUHJvcGVydHkoZSxcIl9fZXNNb2R1bGVcIix7dmFsdWU6ITB9KSxzKGkoMzQpKSxzKGkoMTQ3KSkscyhpKDE5NCkpLHMoaSgxMjgpKX0sZnVuY3Rpb24odCxlLGkpe1widXNlIHN0cmljdFwiO09iamVjdC5kZWZpbmVQcm9wZXJ0eShlLFwiX19lc01vZHVsZVwiLHt2YWx1ZTohMH0pO2UuQUpBWD1jbGFzc3tzdGF0aWMgYWpheCh0KXtsZXQgZTtjb25zdCBpPXQuaW5kZXhPZihcIi5teGxcIik+LTE/XCJ0ZXh0L3BsYWluOyBjaGFyc2V0PXgtdXNlci1kZWZpbmVkXCI6XCJhcHBsaWNhdGlvbi94bWxcIjtpZihYTUxIdHRwUmVxdWVzdCllPW5ldyBYTUxIdHRwUmVxdWVzdDtlbHNle2lmKCFBY3RpdmVYT2JqZWN0KXJldHVybiBQcm9taXNlLnJlamVjdChuZXcgRXJyb3IoXCJYTUxIdHRwIG5vdCBzdXBwb3J0ZWQuXCIpKTtlPW5ldyBBY3RpdmVYT2JqZWN0KFwiTWljcm9zb2Z0LlhNTEhUVFBcIil9cmV0dXJuIG5ldyBQcm9taXNlKChzLG4pPT57ZS5vbnJlYWR5c3RhdGVjaGFuZ2U9KCk9PntlLnJlYWR5U3RhdGU9PT1YTUxIdHRwUmVxdWVzdC5ET05FJiYoMjAwPT09ZS5zdGF0dXN8fDA9PT1lLnN0YXR1cyYmZS5yZXNwb25zZVRleHQ/cyhlLnJlc3BvbnNlVGV4dCk6bihuZXcgRXJyb3IoXCJDb3VsZCBub3QgcmV0cmlldmUgcmVxdWVzdGVkIFVSTCBcIitlLnN0YXR1cykpKX0sZS5vbnRpbWVvdXQ9dD0+e24obmV3IEVycm9yKFwiU2VydmVyIHJlcXVlc3QgVGltZW91dFwiKSl9LGUub3ZlcnJpZGVNaW1lVHlwZShpKSxlLm9wZW4oXCJHRVRcIix0LCEwKSxlLnNlbmQoKX0pfX19LGZ1bmN0aW9uKHQsZSxpKXtcInVzZSBzdHJpY3RcIjtPYmplY3QuZGVmaW5lUHJvcGVydHkoZSxcIl9fZXNNb2R1bGVcIix7dmFsdWU6ITB9KTtjb25zdCBzPWkoNzcpO2UuQ3Vyc29yPWNsYXNze2NvbnN0cnVjdG9yKHQsZSl7dGhpcy5oaWRkZW49ITAsdGhpcy5jb250YWluZXI9dCx0aGlzLm9wZW5TaGVldE11c2ljRGlzcGxheT1lLHRoaXMucnVsZXM9dGhpcy5vcGVuU2hlZXRNdXNpY0Rpc3BsYXkuRW5ncmF2aW5nUnVsZXM7bGV0IGk9MDtmb3IodGhpcy5jdXJzb3JFbGVtZW50SWQ9XCJjdXJzb3JJbWctMFwiO2RvY3VtZW50LmdldEVsZW1lbnRCeUlkKHRoaXMuY3Vyc29yRWxlbWVudElkKTspaSsrLHRoaXMuY3Vyc29yRWxlbWVudElkPWBjdXJzb3JJbWctJHtpfWA7Y29uc3Qgcz1kb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiaW1nXCIpO3MuaWQ9dGhpcy5jdXJzb3JFbGVtZW50SWQscy5zdHlsZS5wb3NpdGlvbj1cImFic29sdXRlXCIscy5zdHlsZS56SW5kZXg9XCItMVwiLHRoaXMuY3Vyc29yRWxlbWVudD1zLHRoaXMuY29udGFpbmVyLmFwcGVuZENoaWxkKHMpfWluaXQodCxlKXt0aGlzLm1hbmFnZXI9dCx0aGlzLmdyYXBoaWM9ZSx0aGlzLnJlc2V0KCksdGhpcy5oaWRkZW49ITAsdGhpcy5oaWRlKCl9c2hvdygpe3RoaXMuaGlkZGVuPSExLHRoaXMucmVzZXRJdGVyYXRvcigpLHRoaXMudXBkYXRlKCl9cmVzZXRJdGVyYXRvcigpe2lmKCF0aGlzLm9wZW5TaGVldE11c2ljRGlzcGxheS5TaGVldHx8IXRoaXMub3BlblNoZWV0TXVzaWNEaXNwbGF5LlNoZWV0LlNvdXJjZU1lYXN1cmVzKXJldHVybiB2b2lkIGNvbnNvbGUubG9nKFwiT1NNRC5DdXJzb3IucmVzZXRJdGVyYXRvcigpOiBzaGVldCBvciBtZWFzdXJlcyB3ZXJlIG51bGwvdW5kZWZpbmVkLlwiKTtjb25zdCB0PXRoaXMub3BlblNoZWV0TXVzaWNEaXNwbGF5LlNoZWV0LlNvdXJjZU1lYXN1cmVzLmxlbmd0aC0xO2xldCBlPXRoaXMucnVsZXMuTWluTWVhc3VyZVRvRHJhd0luZGV4O2U9TWF0aC5taW4oZSx0KTtsZXQgaT10aGlzLnJ1bGVzLk1heE1lYXN1cmVUb0RyYXdJbmRleDtpZihpPU1hdGgubWluKGksdCksdGhpcy5vcGVuU2hlZXRNdXNpY0Rpc3BsYXkuU2hlZXQmJnRoaXMub3BlblNoZWV0TXVzaWNEaXNwbGF5LlNoZWV0LlNvdXJjZU1lYXN1cmVzLmxlbmd0aD5lJiYodGhpcy5vcGVuU2hlZXRNdXNpY0Rpc3BsYXkuU2hlZXQuU2VsZWN0aW9uU3RhcnQ9dGhpcy5vcGVuU2hlZXRNdXNpY0Rpc3BsYXkuU2hlZXQuU291cmNlTWVhc3VyZXNbZV0uQWJzb2x1dGVUaW1lc3RhbXApLHRoaXMub3BlblNoZWV0TXVzaWNEaXNwbGF5LlNoZWV0JiZ0aGlzLm9wZW5TaGVldE11c2ljRGlzcGxheS5TaGVldC5Tb3VyY2VNZWFzdXJlcy5sZW5ndGg+aSl7Y29uc3QgdD10aGlzLm9wZW5TaGVldE11c2ljRGlzcGxheS5TaGVldC5Tb3VyY2VNZWFzdXJlc1tpXTt0aGlzLm9wZW5TaGVldE11c2ljRGlzcGxheS5TaGVldC5TZWxlY3Rpb25FbmQ9cy5GcmFjdGlvbi5wbHVzKHQuQWJzb2x1dGVUaW1lc3RhbXAsdC5EdXJhdGlvbil9dGhpcy5pdGVyYXRvcj10aGlzLm1hbmFnZXIuZ2V0SXRlcmF0b3IoKX1nZXRTdGFmZkVudHJ5RnJvbVZvaWNlRW50cnkodCl7Y29uc3QgZT10LlBhcmVudFNvdXJjZVN0YWZmRW50cnkuVmVydGljYWxDb250YWluZXJQYXJlbnQuUGFyZW50TWVhc3VyZS5tZWFzdXJlTGlzdEluZGV4LGk9dC5QYXJlbnRTb3VyY2VTdGFmZkVudHJ5LlBhcmVudFN0YWZmLmlkSW5NdXNpY1NoZWV0O3JldHVybiB0aGlzLmdyYXBoaWMuZmluZEdyYXBoaWNhbFN0YWZmRW50cnlGcm9tTWVhc3VyZUxpc3QoaSxlLHQuUGFyZW50U291cmNlU3RhZmZFbnRyeSl9dXBkYXRlKCl7aWYodGhpcy5oaWRkZW58fHZvaWQgMD09PXRoaXMuaGlkZGVufHxudWxsPT09dGhpcy5oaWRkZW4pcmV0dXJuO2NvbnN0IHQ9dGhpcy5pdGVyYXRvcixlPXQuQ3VycmVudFZpc2libGVWb2ljZUVudHJpZXMoKTtpZih0LkVuZFJlYWNoZWR8fCF0LkN1cnJlbnRWb2ljZUVudHJpZXN8fDA9PT1lLmxlbmd0aClyZXR1cm47bGV0IGk9MCxzPTAsbj0wO2NvbnN0IHI9ZS5tYXAodD0+dGhpcy5nZXRTdGFmZkVudHJ5RnJvbVZvaWNlRW50cnkodCkpLnNvcnQoKHQsZSk9Pnt2YXIgaSxzLG4scjtyZXR1cm4obnVsbD09PShzPW51bGw9PT0oaT1udWxsPT10P3ZvaWQgMDp0LlBvc2l0aW9uQW5kU2hhcGUpfHx2b2lkIDA9PT1pP3ZvaWQgMDppLkFic29sdXRlUG9zaXRpb24pfHx2b2lkIDA9PT1zP3ZvaWQgMDpzLngpPD0obnVsbD09PShyPW51bGw9PT0obj1udWxsPT1lP3ZvaWQgMDplLlBvc2l0aW9uQW5kU2hhcGUpfHx2b2lkIDA9PT1uP3ZvaWQgMDpuLkFic29sdXRlUG9zaXRpb24pfHx2b2lkIDA9PT1yP3ZvaWQgMDpyLngpPy0xOjF9KVswXTtpPXIuUG9zaXRpb25BbmRTaGFwZS5BYnNvbHV0ZVBvc2l0aW9uLng7Y29uc3Qgbz1yLnBhcmVudE1lYXN1cmUuUGFyZW50TXVzaWNTeXN0ZW07aWYoIW8pcmV0dXJuO3M9by5Qb3NpdGlvbkFuZFNoYXBlLkFic29sdXRlUG9zaXRpb24ueStvLlN0YWZmTGluZXNbMF0uUG9zaXRpb25BbmRTaGFwZS5SZWxhdGl2ZVBvc2l0aW9uLnk7Y29uc3QgYT1vLlN0YWZmTGluZXNbby5TdGFmZkxpbmVzLmxlbmd0aC0xXTtuPW8uUG9zaXRpb25BbmRTaGFwZS5BYnNvbHV0ZVBvc2l0aW9uLnkrYS5Qb3NpdGlvbkFuZFNoYXBlLlJlbGF0aXZlUG9zaXRpb24ueSthLlN0YWZmSGVpZ2h0LXM7Y29uc3QgaD10aGlzLmN1cnNvckVsZW1lbnQ7aC5zdHlsZS50b3A9MTAqcyp0aGlzLm9wZW5TaGVldE11c2ljRGlzcGxheS56b29tK1wicHhcIixoLnN0eWxlLmxlZnQ9MTAqKGktMS41KSp0aGlzLm9wZW5TaGVldE11c2ljRGlzcGxheS56b29tK1wicHhcIixoLmhlaWdodD0xMCpuKnRoaXMub3BlblNoZWV0TXVzaWNEaXNwbGF5Lnpvb207Y29uc3QgbD0zMCp0aGlzLm9wZW5TaGVldE11c2ljRGlzcGxheS56b29tO2lmKGwhPT1oLndpZHRoJiYoaC53aWR0aD1sLHRoaXMudXBkYXRlU3R5bGUobCkpLHRoaXMub3BlblNoZWV0TXVzaWNEaXNwbGF5LkZvbGxvd0N1cnNvcil7Y29uc3QgdD10aGlzLmN1cnNvckVsZW1lbnQuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCkudG9wO3RoaXMuY3Vyc29yRWxlbWVudC5zY3JvbGxJbnRvVmlldyh7YmVoYXZpb3I6dDwxZTM/XCJzbW9vdGhcIjpcImF1dG9cIixibG9jazpcImNlbnRlclwifSl9dGhpcy5jdXJzb3JFbGVtZW50LnN0eWxlLmRpc3BsYXk9XCJcIn1oaWRlKCl7dGhpcy5jdXJzb3JFbGVtZW50LnN0eWxlLmRpc3BsYXk9XCJub25lXCIsdGhpcy5oaWRkZW49ITB9bmV4dCgpe3RoaXMuaXRlcmF0b3IubW92ZVRvTmV4dCgpLHRoaXMudXBkYXRlKCl9cmVzZXQoKXt0aGlzLnJlc2V0SXRlcmF0b3IoKSx0aGlzLnVwZGF0ZSgpfXVwZGF0ZVN0eWxlKHQsZT1cIiMzM2UwMmZcIil7Y29uc3QgaT1kb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiY2FudmFzXCIpO2kud2lkdGg9dGhpcy5jdXJzb3JFbGVtZW50LndpZHRoLGkuaGVpZ2h0PTE7Y29uc3Qgcz1pLmdldENvbnRleHQoXCIyZFwiKTtzLmdsb2JhbEFscGhhPS41O2NvbnN0IG49cy5jcmVhdGVMaW5lYXJHcmFkaWVudCgwLDAsdGhpcy5jdXJzb3JFbGVtZW50LndpZHRoLDApO24uYWRkQ29sb3JTdG9wKDAsXCJ3aGl0ZVwiKSxuLmFkZENvbG9yU3RvcCguMixlKSxuLmFkZENvbG9yU3RvcCguOCxlKSxuLmFkZENvbG9yU3RvcCgxLFwid2hpdGVcIikscy5maWxsU3R5bGU9bixzLmZpbGxSZWN0KDAsMCx0LDEpLHRoaXMuY3Vyc29yRWxlbWVudC5zcmM9aS50b0RhdGFVUkwoXCJpbWFnZS9wbmdcIil9Z2V0IEl0ZXJhdG9yKCl7cmV0dXJuIHRoaXMuaXRlcmF0b3J9Z2V0IEhpZGRlbigpe3JldHVybiB0aGlzLmhpZGRlbn1Wb2ljZXNVbmRlckN1cnNvcih0KXtyZXR1cm4gdGhpcy5pdGVyYXRvci5DdXJyZW50VmlzaWJsZVZvaWNlRW50cmllcyh0KX1Ob3Rlc1VuZGVyQ3Vyc29yKHQpe2NvbnN0IGU9dGhpcy5Wb2ljZXNVbmRlckN1cnNvcih0KSxpPVtdO3JldHVybiBlLmZvckVhY2godD0+e2kucHVzaC5hcHBseShpLHQuTm90ZXMpfSksaX19fSxmdW5jdGlvbih0LGUsaSl7XCJ1c2Ugc3RyaWN0XCI7T2JqZWN0LmRlZmluZVByb3BlcnR5KGUsXCJfX2VzTW9kdWxlXCIse3ZhbHVlOiEwfSk7ZS5TaXplRjJEPWNsYXNze2NvbnN0cnVjdG9yKHQ9MCxlPTApe3RoaXMud2lkdGg9dCx0aGlzLmhlaWdodD1lfX19LGZ1bmN0aW9uKHQsZSxpKXtcInVzZSBzdHJpY3RcIjtPYmplY3QuZGVmaW5lUHJvcGVydHkoZSxcIl9fZXNNb2R1bGVcIix7dmFsdWU6ITB9KTt2YXIgcz1pKDkpLG49aSgzNSkscj1pKDEyKSxvPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gdCh0KXt0aGlzLmRpY3Rpb25hcnk9bmV3IHIuZGVmYXVsdCh0KX1yZXR1cm4gdC5wcm90b3R5cGUuY29udGFpbnM9ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMuZGljdGlvbmFyeS5jb250YWluc0tleSh0KX0sdC5wcm90b3R5cGUuYWRkPWZ1bmN0aW9uKHQpe3JldHVybiF0aGlzLmNvbnRhaW5zKHQpJiYhcy5pc1VuZGVmaW5lZCh0KSYmKHRoaXMuZGljdGlvbmFyeS5zZXRWYWx1ZSh0LHQpLCEwKX0sdC5wcm90b3R5cGUuaW50ZXJzZWN0aW9uPWZ1bmN0aW9uKHQpe3ZhciBlPXRoaXM7dGhpcy5mb3JFYWNoKChmdW5jdGlvbihpKXtyZXR1cm4gdC5jb250YWlucyhpKXx8ZS5yZW1vdmUoaSksITB9KSl9LHQucHJvdG90eXBlLnVuaW9uPWZ1bmN0aW9uKHQpe3ZhciBlPXRoaXM7dC5mb3JFYWNoKChmdW5jdGlvbih0KXtyZXR1cm4gZS5hZGQodCksITB9KSl9LHQucHJvdG90eXBlLmRpZmZlcmVuY2U9ZnVuY3Rpb24odCl7dmFyIGU9dGhpczt0LmZvckVhY2goKGZ1bmN0aW9uKHQpe3JldHVybiBlLnJlbW92ZSh0KSwhMH0pKX0sdC5wcm90b3R5cGUuaXNTdWJzZXRPZj1mdW5jdGlvbih0KXtpZih0aGlzLnNpemUoKT50LnNpemUoKSlyZXR1cm4hMTt2YXIgZT0hMDtyZXR1cm4gdGhpcy5mb3JFYWNoKChmdW5jdGlvbihpKXtyZXR1cm4hIXQuY29udGFpbnMoaSl8fChlPSExLCExKX0pKSxlfSx0LnByb3RvdHlwZS5yZW1vdmU9ZnVuY3Rpb24odCl7cmV0dXJuISF0aGlzLmNvbnRhaW5zKHQpJiYodGhpcy5kaWN0aW9uYXJ5LnJlbW92ZSh0KSwhMCl9LHQucHJvdG90eXBlLmZvckVhY2g9ZnVuY3Rpb24odCl7dGhpcy5kaWN0aW9uYXJ5LmZvckVhY2goKGZ1bmN0aW9uKGUsaSl7cmV0dXJuIHQoaSl9KSl9LHQucHJvdG90eXBlLnRvQXJyYXk9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5kaWN0aW9uYXJ5LnZhbHVlcygpfSx0LnByb3RvdHlwZS5pc0VtcHR5PWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZGljdGlvbmFyeS5pc0VtcHR5KCl9LHQucHJvdG90eXBlLnNpemU9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5kaWN0aW9uYXJ5LnNpemUoKX0sdC5wcm90b3R5cGUuY2xlYXI9ZnVuY3Rpb24oKXt0aGlzLmRpY3Rpb25hcnkuY2xlYXIoKX0sdC5wcm90b3R5cGUudG9TdHJpbmc9ZnVuY3Rpb24oKXtyZXR1cm4gbi50b1N0cmluZyh0aGlzLnRvQXJyYXkoKSl9LHR9KCk7ZS5kZWZhdWx0PW99LGZ1bmN0aW9uKHQsZSxpKXtcInVzZSBzdHJpY3RcIjtPYmplY3QuZGVmaW5lUHJvcGVydHkoZSxcIl9fZXNNb2R1bGVcIix7dmFsdWU6ITB9KTt2YXIgcz1pKDkpLG49aSg4Mykscj1mdW5jdGlvbigpe2Z1bmN0aW9uIHQodCl7dGhpcy5yb290PW51bGwsdGhpcy5jb21wYXJlPXR8fHMuZGVmYXVsdENvbXBhcmUsdGhpcy5uRWxlbWVudHM9MH1yZXR1cm4gdC5wcm90b3R5cGUuYWRkPWZ1bmN0aW9uKHQpe3JldHVybiFzLmlzVW5kZWZpbmVkKHQpJiYobnVsbCE9PXRoaXMuaW5zZXJ0Tm9kZSh0aGlzLmNyZWF0ZU5vZGUodCkpJiYodGhpcy5uRWxlbWVudHMrKywhMCkpfSx0LnByb3RvdHlwZS5jbGVhcj1mdW5jdGlvbigpe3RoaXMucm9vdD1udWxsLHRoaXMubkVsZW1lbnRzPTB9LHQucHJvdG90eXBlLmlzRW1wdHk9ZnVuY3Rpb24oKXtyZXR1cm4gMD09PXRoaXMubkVsZW1lbnRzfSx0LnByb3RvdHlwZS5zaXplPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMubkVsZW1lbnRzfSx0LnByb3RvdHlwZS5jb250YWlucz1mdW5jdGlvbih0KXtyZXR1cm4hcy5pc1VuZGVmaW5lZCh0KSYmbnVsbCE9PXRoaXMuc2VhcmNoTm9kZSh0aGlzLnJvb3QsdCl9LHQucHJvdG90eXBlLnNlYXJjaD1mdW5jdGlvbih0KXt2YXIgZT10aGlzLnNlYXJjaE5vZGUodGhpcy5yb290LHQpO2lmKG51bGwhPT1lKXJldHVybiBlLmVsZW1lbnR9LHQucHJvdG90eXBlLnJlbW92ZT1mdW5jdGlvbih0KXt2YXIgZT10aGlzLnNlYXJjaE5vZGUodGhpcy5yb290LHQpO3JldHVybiBudWxsIT09ZSYmKHRoaXMucmVtb3ZlTm9kZShlKSx0aGlzLm5FbGVtZW50cy0tLCEwKX0sdC5wcm90b3R5cGUuaW5vcmRlclRyYXZlcnNhbD1mdW5jdGlvbih0KXt0aGlzLmlub3JkZXJUcmF2ZXJzYWxBdXgodGhpcy5yb290LHQse3N0b3A6ITF9KX0sdC5wcm90b3R5cGUucHJlb3JkZXJUcmF2ZXJzYWw9ZnVuY3Rpb24odCl7dGhpcy5wcmVvcmRlclRyYXZlcnNhbEF1eCh0aGlzLnJvb3QsdCx7c3RvcDohMX0pfSx0LnByb3RvdHlwZS5wb3N0b3JkZXJUcmF2ZXJzYWw9ZnVuY3Rpb24odCl7dGhpcy5wb3N0b3JkZXJUcmF2ZXJzYWxBdXgodGhpcy5yb290LHQse3N0b3A6ITF9KX0sdC5wcm90b3R5cGUubGV2ZWxUcmF2ZXJzYWw9ZnVuY3Rpb24odCl7dGhpcy5sZXZlbFRyYXZlcnNhbEF1eCh0aGlzLnJvb3QsdCl9LHQucHJvdG90eXBlLm1pbmltdW09ZnVuY3Rpb24oKXtpZighdGhpcy5pc0VtcHR5KCkmJm51bGwhPT10aGlzLnJvb3QpcmV0dXJuIHRoaXMubWluaW11bUF1eCh0aGlzLnJvb3QpLmVsZW1lbnR9LHQucHJvdG90eXBlLm1heGltdW09ZnVuY3Rpb24oKXtpZighdGhpcy5pc0VtcHR5KCkmJm51bGwhPT10aGlzLnJvb3QpcmV0dXJuIHRoaXMubWF4aW11bUF1eCh0aGlzLnJvb3QpLmVsZW1lbnR9LHQucHJvdG90eXBlLmZvckVhY2g9ZnVuY3Rpb24odCl7dGhpcy5pbm9yZGVyVHJhdmVyc2FsKHQpfSx0LnByb3RvdHlwZS50b0FycmF5PWZ1bmN0aW9uKCl7dmFyIHQ9W107cmV0dXJuIHRoaXMuaW5vcmRlclRyYXZlcnNhbCgoZnVuY3Rpb24oZSl7cmV0dXJuIHQucHVzaChlKSwhMH0pKSx0fSx0LnByb3RvdHlwZS5oZWlnaHQ9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5oZWlnaHRBdXgodGhpcy5yb290KX0sdC5wcm90b3R5cGUuc2VhcmNoTm9kZT1mdW5jdGlvbih0LGUpe2Zvcih2YXIgaT0xO251bGwhPT10JiYwIT09aTspKGk9dGhpcy5jb21wYXJlKGUsdC5lbGVtZW50KSk8MD90PXQubGVmdENoOmk+MCYmKHQ9dC5yaWdodENoKTtyZXR1cm4gdH0sdC5wcm90b3R5cGUudHJhbnNwbGFudD1mdW5jdGlvbih0LGUpe251bGw9PT10LnBhcmVudD90aGlzLnJvb3Q9ZTp0PT09dC5wYXJlbnQubGVmdENoP3QucGFyZW50LmxlZnRDaD1lOnQucGFyZW50LnJpZ2h0Q2g9ZSxudWxsIT09ZSYmKGUucGFyZW50PXQucGFyZW50KX0sdC5wcm90b3R5cGUucmVtb3ZlTm9kZT1mdW5jdGlvbih0KXtpZihudWxsPT09dC5sZWZ0Q2gpdGhpcy50cmFuc3BsYW50KHQsdC5yaWdodENoKTtlbHNlIGlmKG51bGw9PT10LnJpZ2h0Q2gpdGhpcy50cmFuc3BsYW50KHQsdC5sZWZ0Q2gpO2Vsc2V7dmFyIGU9dGhpcy5taW5pbXVtQXV4KHQucmlnaHRDaCk7ZS5wYXJlbnQhPT10JiYodGhpcy50cmFuc3BsYW50KGUsZS5yaWdodENoKSxlLnJpZ2h0Q2g9dC5yaWdodENoLGUucmlnaHRDaC5wYXJlbnQ9ZSksdGhpcy50cmFuc3BsYW50KHQsZSksZS5sZWZ0Q2g9dC5sZWZ0Q2gsZS5sZWZ0Q2gucGFyZW50PWV9fSx0LnByb3RvdHlwZS5pbm9yZGVyVHJhdmVyc2FsQXV4PWZ1bmN0aW9uKHQsZSxpKXtudWxsPT09dHx8aS5zdG9wfHwodGhpcy5pbm9yZGVyVHJhdmVyc2FsQXV4KHQubGVmdENoLGUsaSksaS5zdG9wfHwoaS5zdG9wPSExPT09ZSh0LmVsZW1lbnQpLGkuc3RvcHx8dGhpcy5pbm9yZGVyVHJhdmVyc2FsQXV4KHQucmlnaHRDaCxlLGkpKSl9LHQucHJvdG90eXBlLmxldmVsVHJhdmVyc2FsQXV4PWZ1bmN0aW9uKHQsZSl7dmFyIGk9bmV3IG4uZGVmYXVsdDtmb3IobnVsbCE9PXQmJmkuZW5xdWV1ZSh0KSx0PWkuZGVxdWV1ZSgpfHxudWxsO251bGwhPXQ7KXtpZighMT09PWUodC5lbGVtZW50KSlyZXR1cm47bnVsbCE9PXQubGVmdENoJiZpLmVucXVldWUodC5sZWZ0Q2gpLG51bGwhPT10LnJpZ2h0Q2gmJmkuZW5xdWV1ZSh0LnJpZ2h0Q2gpLHQ9aS5kZXF1ZXVlKCl8fG51bGx9fSx0LnByb3RvdHlwZS5wcmVvcmRlclRyYXZlcnNhbEF1eD1mdW5jdGlvbih0LGUsaSl7bnVsbD09PXR8fGkuc3RvcHx8KGkuc3RvcD0hMT09PWUodC5lbGVtZW50KSxpLnN0b3B8fCh0aGlzLnByZW9yZGVyVHJhdmVyc2FsQXV4KHQubGVmdENoLGUsaSksaS5zdG9wfHx0aGlzLnByZW9yZGVyVHJhdmVyc2FsQXV4KHQucmlnaHRDaCxlLGkpKSl9LHQucHJvdG90eXBlLnBvc3RvcmRlclRyYXZlcnNhbEF1eD1mdW5jdGlvbih0LGUsaSl7bnVsbD09PXR8fGkuc3RvcHx8KHRoaXMucG9zdG9yZGVyVHJhdmVyc2FsQXV4KHQubGVmdENoLGUsaSksaS5zdG9wfHwodGhpcy5wb3N0b3JkZXJUcmF2ZXJzYWxBdXgodC5yaWdodENoLGUsaSksaS5zdG9wfHwoaS5zdG9wPSExPT09ZSh0LmVsZW1lbnQpKSkpfSx0LnByb3RvdHlwZS5taW5pbXVtQXV4PWZ1bmN0aW9uKHQpe2Zvcig7bnVsbCE9dCYmbnVsbCE9PXQubGVmdENoOyl0PXQubGVmdENoO3JldHVybiB0fSx0LnByb3RvdHlwZS5tYXhpbXVtQXV4PWZ1bmN0aW9uKHQpe2Zvcig7bnVsbCE9dCYmbnVsbCE9PXQucmlnaHRDaDspdD10LnJpZ2h0Q2g7cmV0dXJuIHR9LHQucHJvdG90eXBlLmhlaWdodEF1eD1mdW5jdGlvbih0KXtyZXR1cm4gbnVsbD09PXQ/LTE6TWF0aC5tYXgodGhpcy5oZWlnaHRBdXgodC5sZWZ0Q2gpLHRoaXMuaGVpZ2h0QXV4KHQucmlnaHRDaCkpKzF9LHQucHJvdG90eXBlLmluc2VydE5vZGU9ZnVuY3Rpb24odCl7Zm9yKHZhciBlPW51bGwsaT10aGlzLnJvb3Q7bnVsbCE9PWk7KXt2YXIgcz10aGlzLmNvbXBhcmUodC5lbGVtZW50LGkuZWxlbWVudCk7aWYoMD09PXMpcmV0dXJuIG51bGw7czwwPyhlPWksaT1pLmxlZnRDaCk6KGU9aSxpPWkucmlnaHRDaCl9cmV0dXJuIHQucGFyZW50PWUsbnVsbD09PWU/dGhpcy5yb290PXQ6dGhpcy5jb21wYXJlKHQuZWxlbWVudCxlLmVsZW1lbnQpPDA/ZS5sZWZ0Q2g9dDplLnJpZ2h0Q2g9dCx0fSx0LnByb3RvdHlwZS5jcmVhdGVOb2RlPWZ1bmN0aW9uKHQpe3JldHVybntlbGVtZW50OnQsbGVmdENoOm51bGwscmlnaHRDaDpudWxsLHBhcmVudDpudWxsfX0sdH0oKTtlLmRlZmF1bHQ9cn0sZnVuY3Rpb24odCxlLGkpe1widXNlIHN0cmljdFwiO09iamVjdC5kZWZpbmVQcm9wZXJ0eShlLFwiX19lc01vZHVsZVwiLHt2YWx1ZTohMH0pO3ZhciBzPWkoNTQpLG49ZnVuY3Rpb24oKXtmdW5jdGlvbiB0KCl7dGhpcy5saXN0PW5ldyBzLmRlZmF1bHR9cmV0dXJuIHQucHJvdG90eXBlLmVucXVldWU9ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMubGlzdC5hZGQodCl9LHQucHJvdG90eXBlLmFkZD1mdW5jdGlvbih0KXtyZXR1cm4gdGhpcy5saXN0LmFkZCh0KX0sdC5wcm90b3R5cGUuZGVxdWV1ZT1mdW5jdGlvbigpe2lmKDAhPT10aGlzLmxpc3Quc2l6ZSgpKXt2YXIgdD10aGlzLmxpc3QuZmlyc3QoKTtyZXR1cm4gdGhpcy5saXN0LnJlbW92ZUVsZW1lbnRBdEluZGV4KDApLHR9fSx0LnByb3RvdHlwZS5wZWVrPWZ1bmN0aW9uKCl7aWYoMCE9PXRoaXMubGlzdC5zaXplKCkpcmV0dXJuIHRoaXMubGlzdC5maXJzdCgpfSx0LnByb3RvdHlwZS5zaXplPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMubGlzdC5zaXplKCl9LHQucHJvdG90eXBlLmNvbnRhaW5zPWZ1bmN0aW9uKHQsZSl7cmV0dXJuIHRoaXMubGlzdC5jb250YWlucyh0LGUpfSx0LnByb3RvdHlwZS5pc0VtcHR5PWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMubGlzdC5zaXplKCk8PTB9LHQucHJvdG90eXBlLmNsZWFyPWZ1bmN0aW9uKCl7dGhpcy5saXN0LmNsZWFyKCl9LHQucHJvdG90eXBlLmZvckVhY2g9ZnVuY3Rpb24odCl7dGhpcy5saXN0LmZvckVhY2godCl9LHR9KCk7ZS5kZWZhdWx0PW59LGZ1bmN0aW9uKHQsZSxpKXtcInVzZSBzdHJpY3RcIjtPYmplY3QuZGVmaW5lUHJvcGVydHkoZSxcIl9fZXNNb2R1bGVcIix7dmFsdWU6ITB9KTt2YXIgcz1pKDkpLG49aSgzNSkscj1mdW5jdGlvbigpe2Z1bmN0aW9uIHQodCl7dGhpcy5kYXRhPVtdLHRoaXMuY29tcGFyZT10fHxzLmRlZmF1bHRDb21wYXJlfXJldHVybiB0LnByb3RvdHlwZS5sZWZ0Q2hpbGRJbmRleD1mdW5jdGlvbih0KXtyZXR1cm4gMip0KzF9LHQucHJvdG90eXBlLnJpZ2h0Q2hpbGRJbmRleD1mdW5jdGlvbih0KXtyZXR1cm4gMip0KzJ9LHQucHJvdG90eXBlLnBhcmVudEluZGV4PWZ1bmN0aW9uKHQpe3JldHVybiBNYXRoLmZsb29yKCh0LTEpLzIpfSx0LnByb3RvdHlwZS5taW5JbmRleD1mdW5jdGlvbih0LGUpe3JldHVybiBlPj10aGlzLmRhdGEubGVuZ3RoP3Q+PXRoaXMuZGF0YS5sZW5ndGg/LTE6dDp0aGlzLmNvbXBhcmUodGhpcy5kYXRhW3RdLHRoaXMuZGF0YVtlXSk8PTA/dDplfSx0LnByb3RvdHlwZS5zaWZ0VXA9ZnVuY3Rpb24odCl7Zm9yKHZhciBlPXRoaXMucGFyZW50SW5kZXgodCk7dD4wJiZ0aGlzLmNvbXBhcmUodGhpcy5kYXRhW2VdLHRoaXMuZGF0YVt0XSk+MDspbi5zd2FwKHRoaXMuZGF0YSxlLHQpLHQ9ZSxlPXRoaXMucGFyZW50SW5kZXgodCl9LHQucHJvdG90eXBlLnNpZnREb3duPWZ1bmN0aW9uKHQpe2Zvcih2YXIgZT10aGlzLm1pbkluZGV4KHRoaXMubGVmdENoaWxkSW5kZXgodCksdGhpcy5yaWdodENoaWxkSW5kZXgodCkpO2U+PTAmJnRoaXMuY29tcGFyZSh0aGlzLmRhdGFbdF0sdGhpcy5kYXRhW2VdKT4wOyluLnN3YXAodGhpcy5kYXRhLGUsdCksdD1lLGU9dGhpcy5taW5JbmRleCh0aGlzLmxlZnRDaGlsZEluZGV4KHQpLHRoaXMucmlnaHRDaGlsZEluZGV4KHQpKX0sdC5wcm90b3R5cGUucGVlaz1mdW5jdGlvbigpe3JldHVybiB0aGlzLmRhdGEubGVuZ3RoPjA/dGhpcy5kYXRhWzBdOnZvaWQgMH0sdC5wcm90b3R5cGUuYWRkPWZ1bmN0aW9uKHQpe3JldHVybiFzLmlzVW5kZWZpbmVkKHQpJiYodGhpcy5kYXRhLnB1c2godCksdGhpcy5zaWZ0VXAodGhpcy5kYXRhLmxlbmd0aC0xKSwhMCl9LHQucHJvdG90eXBlLnJlbW92ZVJvb3Q9ZnVuY3Rpb24oKXtpZih0aGlzLmRhdGEubGVuZ3RoPjApe3ZhciB0PXRoaXMuZGF0YVswXTtyZXR1cm4gdGhpcy5kYXRhWzBdPXRoaXMuZGF0YVt0aGlzLmRhdGEubGVuZ3RoLTFdLHRoaXMuZGF0YS5zcGxpY2UodGhpcy5kYXRhLmxlbmd0aC0xLDEpLHRoaXMuZGF0YS5sZW5ndGg+MCYmdGhpcy5zaWZ0RG93bigwKSx0fX0sdC5wcm90b3R5cGUuY29udGFpbnM9ZnVuY3Rpb24odCl7dmFyIGU9cy5jb21wYXJlVG9FcXVhbHModGhpcy5jb21wYXJlKTtyZXR1cm4gbi5jb250YWlucyh0aGlzLmRhdGEsdCxlKX0sdC5wcm90b3R5cGUuc2l6ZT1mdW5jdGlvbigpe3JldHVybiB0aGlzLmRhdGEubGVuZ3RofSx0LnByb3RvdHlwZS5pc0VtcHR5PWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZGF0YS5sZW5ndGg8PTB9LHQucHJvdG90eXBlLmNsZWFyPWZ1bmN0aW9uKCl7dGhpcy5kYXRhLmxlbmd0aD0wfSx0LnByb3RvdHlwZS5mb3JFYWNoPWZ1bmN0aW9uKHQpe24uZm9yRWFjaCh0aGlzLmRhdGEsdCl9LHR9KCk7ZS5kZWZhdWx0PXJ9LGZ1bmN0aW9uKHQsZSxpKXtcInVzZSBzdHJpY3RcIjt2YXIgcyxuPXRoaXMmJnRoaXMuX19leHRlbmRzfHwocz1PYmplY3Quc2V0UHJvdG90eXBlT2Z8fHtfX3Byb3RvX186W119aW5zdGFuY2VvZiBBcnJheSYmZnVuY3Rpb24odCxlKXt0Ll9fcHJvdG9fXz1lfXx8ZnVuY3Rpb24odCxlKXtmb3IodmFyIGkgaW4gZSllLmhhc093blByb3BlcnR5KGkpJiYodFtpXT1lW2ldKX0sZnVuY3Rpb24odCxlKXtmdW5jdGlvbiBpKCl7dGhpcy5jb25zdHJ1Y3Rvcj10fXModCxlKSx0LnByb3RvdHlwZT1udWxsPT09ZT9PYmplY3QuY3JlYXRlKGUpOihpLnByb3RvdHlwZT1lLnByb3RvdHlwZSxuZXcgaSl9KTtPYmplY3QuZGVmaW5lUHJvcGVydHkoZSxcIl9fZXNNb2R1bGVcIix7dmFsdWU6ITB9KTt2YXIgcj1pKDEyKSxvPWkoOSksYT1mdW5jdGlvbih0KXtmdW5jdGlvbiBlKGUsaSl7dmFyIHM9dC5jYWxsKHRoaXMsaSl8fHRoaXM7cmV0dXJuIHMuZGVmYXVsdEZhY3RvcnlGdW5jdGlvbj1lLHN9cmV0dXJuIG4oZSx0KSxlLnByb3RvdHlwZS5zZXREZWZhdWx0PWZ1bmN0aW9uKGUsaSl7dmFyIHM9dC5wcm90b3R5cGUuZ2V0VmFsdWUuY2FsbCh0aGlzLGUpO3JldHVybiBvLmlzVW5kZWZpbmVkKHMpPyh0aGlzLnNldFZhbHVlKGUsaSksaSk6c30sZS5wcm90b3R5cGUuZ2V0VmFsdWU9ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMuc2V0RGVmYXVsdCh0LHRoaXMuZGVmYXVsdEZhY3RvcnlGdW5jdGlvbigpKX0sZX0oci5kZWZhdWx0KTtlLmRlZmF1bHQ9YX0sZnVuY3Rpb24odCxlLGkpe1widXNlIHN0cmljdFwiO2Z1bmN0aW9uIHModCl7Zm9yKHZhciBpIGluIHQpZS5oYXNPd25Qcm9wZXJ0eShpKXx8KGVbaV09dFtpXSl9T2JqZWN0LmRlZmluZVByb3BlcnR5KGUsXCJfX2VzTW9kdWxlXCIse3ZhbHVlOiEwfSkscyhpKDIzKSkscyhpKDg3KSkscyhpKDcpKX0sZnVuY3Rpb24odCxlLGkpe1widXNlIHN0cmljdFwiO09iamVjdC5kZWZpbmVQcm9wZXJ0eShlLFwiX19lc01vZHVsZVwiLHt2YWx1ZTohMH0pLGZ1bmN0aW9uKHQpe3RbdC5UaW1lc05ld1JvbWFuPTBdPVwiVGltZXNOZXdSb21hblwiLHRbdC5Lb2tpbGE9MV09XCJLb2tpbGFcIn0oZS5Gb250c3x8KGUuRm9udHM9e30pKX0sZnVuY3Rpb24odCxlLGkpe1widXNlIHN0cmljdFwiO09iamVjdC5kZWZpbmVQcm9wZXJ0eShlLFwiX19lc01vZHVsZVwiLHt2YWx1ZTohMH0pO2UuVmVydGljYWxHcmFwaGljYWxTdGFmZkVudHJ5Q29udGFpbmVyPWNsYXNze2NvbnN0cnVjdG9yKHQsZSl7dGhpcy5zdGFmZkVudHJpZXM9W10sdGhpcy5hYnNvbHV0ZVRpbWVzdGFtcD1lLHRoaXMuc3RhZmZFbnRyaWVzPW5ldyBBcnJheSh0KX1nZXQgSW5kZXgoKXtyZXR1cm4gdGhpcy5pbmRleH1zZXQgSW5kZXgodCl7dGhpcy5pbmRleD10fWdldCBBYnNvbHV0ZVRpbWVzdGFtcCgpe3JldHVybiB0aGlzLmFic29sdXRlVGltZXN0YW1wfWdldCBTdGFmZkVudHJpZXMoKXtyZXR1cm4gdGhpcy5zdGFmZkVudHJpZXN9c2V0IFN0YWZmRW50cmllcyh0KXt0aGlzLnN0YWZmRW50cmllcz10fXN0YXRpYyBjb21wYXJlQnlUaW1lc3RhbXAodCxlKXtjb25zdCBpPXQuYWJzb2x1dGVUaW1lc3RhbXAuUmVhbFZhbHVlLHM9ZS5hYnNvbHV0ZVRpbWVzdGFtcC5SZWFsVmFsdWU7cmV0dXJuIGk8cz8tMTppPnM/MTowfWdldEZpcnN0Tm9uTnVsbFN0YWZmRW50cnkoKXtmb3IobGV0IHQ9MCxlPXRoaXMuc3RhZmZFbnRyaWVzLmxlbmd0aDt0PGU7Kyt0KXtjb25zdCBlPXRoaXMuc3RhZmZFbnRyaWVzW3RdO2lmKGUpcmV0dXJuIGV9fX19LGZ1bmN0aW9uKHQsZSxpKXtcInVzZSBzdHJpY3RcIjtPYmplY3QuZGVmaW5lUHJvcGVydHkoZSxcIl9fZXNNb2R1bGVcIix7dmFsdWU6ITB9KTtjb25zdCBzPWkoNDIpLG49aSgxNykscj1pKDE1KSxvPWkoOCksYT1pKDQpLGg9aSgyMCksbD1pKDMyKSxjPWkoMTQpLHU9aSg4KSxkPWkoMjQpLGY9aSgzNik7ZS5NdXNpY1N5c3RlbUJ1aWxkZXI9Y2xhc3N7Y29uc3RydWN0b3IoKXt0aGlzLm11c2ljU3lzdGVtcz1bXSx0aGlzLmdsb2JhbFN5c3RlbUluZGV4PTAsdGhpcy5sZWFkU2hlZXQ9ITF9aW5pdGlhbGl6ZSh0LGUsaSl7dGhpcy5sZWFkU2hlZXQ9dC5MZWFkU2hlZXQsdGhpcy5ncmFwaGljYWxNdXNpY1NoZWV0PXQsdGhpcy5ydWxlcz10aGlzLmdyYXBoaWNhbE11c2ljU2hlZXQuUGFyZW50TXVzaWNTaGVldC5SdWxlcyx0aGlzLm1lYXN1cmVMaXN0PWUsdGhpcy5udW1iZXJPZlZpc2libGVTdGFmZkxpbmVzPWksdGhpcy5hY3RpdmVSaHl0aG09bmV3IEFycmF5KHRoaXMubnVtYmVyT2ZWaXNpYmxlU3RhZmZMaW5lcyksdGhpcy5hY3RpdmVLZXlzPW5ldyBBcnJheSh0aGlzLm51bWJlck9mVmlzaWJsZVN0YWZmTGluZXMpLHRoaXMuYWN0aXZlQ2xlZnM9bmV3IEFycmF5KHRoaXMubnVtYmVyT2ZWaXNpYmxlU3RhZmZMaW5lcyksdGhpcy5pbml0aWFsaXplQWN0aXZlSW5zdHJ1Y3Rpb25zKHRoaXMubWVhc3VyZUxpc3RbMF0pfWJ1aWxkTXVzaWNTeXN0ZW1zKCl7Y29uc3QgdD10aGlzLmdldEZ1bGxQYWdlU3lzdGVtV2lkdGgoKTtsZXQgZT0hMTt0aGlzLm1lYXN1cmVMaXN0SW5kZXg9MCx0aGlzLmN1cnJlbnRTeXN0ZW1QYXJhbXM9bmV3IG0sdGhpcy5jdXJyZW50U3lzdGVtUGFyYW1zLmN1cnJlbnRTeXN0ZW09dGhpcy5pbml0TXVzaWNTeXN0ZW0oKTtsZXQgaT0wO2ZvcihsZXQgdD0wLGU9dGhpcy5tZWFzdXJlTGlzdC5sZW5ndGg7dDxlOysrdCl0aGlzLm1lYXN1cmVMaXN0W3RdLmxlbmd0aD4wJiZpKys7Zm9yKDt0aGlzLm1lYXN1cmVMaXN0SW5kZXg8aTspe2NvbnN0IGk9dGhpcy5tZWFzdXJlTGlzdFt0aGlzLm1lYXN1cmVMaXN0SW5kZXhdO2ZvcihsZXQgdD0wLGU9aS5sZW5ndGg7dDxlOysrdClpW3RdLnJlc2V0TGF5b3V0KCk7Y29uc3Qgcz1pWzBdLnBhcmVudFNvdXJjZU1lYXN1cmUsbj1zLkhhc0VuZExpbmUscj10aGlzLmN1cnJlbnRTeXN0ZW1QYXJhbXMuSXNTeXN0ZW1TdGFydE1lYXN1cmUoKSxvPXM9PT10aGlzLmdyYXBoaWNhbE11c2ljU2hlZXQuUGFyZW50TXVzaWNTaGVldC5nZXRGaXJzdFNvdXJjZU1lYXN1cmUoKTtsZXQgYT10aGlzLnJ1bGVzLk1lYXN1cmVMZWZ0TWFyZ2luLGg9MDtjb25zdCBsPXRoaXMuZ2V0TWVhc3VyZVN0YXJ0TGluZSgpO2lmKGErPXRoaXMuZ2V0TGluZVdpZHRoKGlbMF0sbCxyKSwhdGhpcy5sZWFkU2hlZXQpe2xldCB0PSExO2UmJnRoaXMucnVsZXMuU2hvd1JoeXRobUFnYWluQWZ0ZXJQYXJ0RW5kT3JGaW5hbEJhcmxpbmUmJih0PSEwKSxhKz10aGlzLmFkZEJlZ2luSW5zdHJ1Y3Rpb25zKGkscixvfHx0KSxoKz10aGlzLmFkZEVuZEluc3RydWN0aW9ucyhpKX1sZXQgYz0wO2ZvcihsZXQgdD0wO3Q8dGhpcy5udW1iZXJPZlZpc2libGVTdGFmZkxpbmVzO3QrKyljPU1hdGgubWF4KGMsaVt0XS5taW5pbXVtU3RhZmZFbnRyaWVzV2lkdGgpO2NvbnN0IHU9dGhpcy5nZXRNZWFzdXJlRW5kTGluZSgpO2grPXRoaXMuZ2V0TGluZVdpZHRoKGlbMF0sdSxyKTtsZXQgZD10aGlzLnJ1bGVzLk1lYXN1cmVMZWZ0TWFyZ2luLGY9dm9pZCAwO2lmKHRoaXMubWVhc3VyZUxpc3RJbmRleCsxPHRoaXMubWVhc3VyZUxpc3QubGVuZ3RoKXtjb25zdCB0PXRoaXMubWVhc3VyZUxpc3RbdGhpcy5tZWFzdXJlTGlzdEluZGV4KzFdO2Y9dFswXS5wYXJlbnRTb3VyY2VNZWFzdXJlLGYuaGFzQmVnaW5JbnN0cnVjdGlvbnMoKSYmKGQrPXRoaXMuYWRkQmVnaW5JbnN0cnVjdGlvbnModCwhMSwhMSkpfWNvbnN0IG09YStoK2MscD10aGlzLmN1cnJlbnRTeXN0ZW1QYXJhbXMuY3VycmVudFdpZHRoK20rZDx0LGc9dGhpcy5ydWxlcy5OZXdQYWdlQXRYTUxOZXdQYWdlQXR0cmlidXRlJiZzLnByaW50TmV3UGFnZVhtbCxiPWd8fHRoaXMucnVsZXMuTmV3U3lzdGVtQXRYTUxOZXdTeXN0ZW1BdHRyaWJ1dGUmJnMucHJpbnROZXdTeXN0ZW1YbWw7cnx8cCYmIWI/KHRoaXMuYWRkTWVhc3VyZVRvU3lzdGVtKGksbCx1LG0sYSxjLGgpLHRoaXMudXBkYXRlQWN0aXZlQ2xlZnMocyxpKSx0aGlzLm1lYXN1cmVMaXN0SW5kZXgrKyxuJiZ0aGlzLmZpbmFsaXplQ3VycmVudEFuZENyZWF0ZU5ld1N5c3RlbShpLCEwLCExKSxlPW4pOnRoaXMuZmluYWxpemVDdXJyZW50QW5kQ3JlYXRlTmV3U3lzdGVtKGksITEsITAsZyl9cmV0dXJuIHRoaXMuY3VycmVudFN5c3RlbVBhcmFtcy5zeXN0ZW1NZWFzdXJlcy5sZW5ndGg+MCYmdGhpcy5maW5hbGl6ZUN1cnJlbnRBbmRDcmVhdGVOZXdTeXN0ZW0odGhpcy5tZWFzdXJlTGlzdFt0aGlzLm1lYXN1cmVMaXN0Lmxlbmd0aC0xXSwhMCwhMSksdGhpcy5tdXNpY1N5c3RlbXN9Y2FsY3VsYXRlU3lzdGVtWUxheW91dCgpe2Zvcihjb25zdCB0IG9mIHRoaXMubXVzaWNTeXN0ZW1zKXRoaXMub3B0aW1pemVEaXN0YW5jZUJldHdlZW5TdGFmZkxpbmVzKHQpO3RoaXMuY2FsY3VsYXRlTXVzaWNTeXN0ZW1zUmVsYXRpdmVQb3NpdGlvbnMoKX1zZXRNZWFzdXJlV2lkdGgodCxlLGkscyl7Zm9yKGxldCBuPTAscj10Lmxlbmd0aDtuPHI7KytuKXtjb25zdCByPXRbbl07ci5zZXRXaWR0aChlKSxpPjAmJihyLmJlZ2luSW5zdHJ1Y3Rpb25zV2lkdGg9aSkscz4wJiYoci5lbmRJbnN0cnVjdGlvbnNXaWR0aD1zKX19ZmluYWxpemVDdXJyZW50QW5kQ3JlYXRlTmV3U3lzdGVtKHQsZT0hMSxpPSEwLHM9ITEpe3RoaXMuY3VycmVudFN5c3RlbVBhcmFtcy5jdXJyZW50U3lzdGVtLmJyZWFrc1BhZ2U9cyx0aGlzLmFkYXB0UmVwZXRpdGlvbkxpbmVXaXRoSWZOZWVkZWQoKSx2b2lkIDAhPT10JiZpJiZ0aGlzLmNoZWNrQW5kQ3JlYXRlRXh0cmFJbnN0cnVjdGlvbk1lYXN1cmUodCksdGhpcy5zdHJldGNoTXVzaWNTeXN0ZW0oZSksdGhpcy5jdXJyZW50U3lzdGVtUGFyYW1zPW5ldyBtLHZvaWQgMCE9PXQmJnRoaXMubWVhc3VyZUxpc3RJbmRleDx0aGlzLm1lYXN1cmVMaXN0Lmxlbmd0aCYmKHRoaXMuY3VycmVudFN5c3RlbVBhcmFtcy5jdXJyZW50U3lzdGVtPXRoaXMuaW5pdE11c2ljU3lzdGVtKCkpfWFkYXB0UmVwZXRpdGlvbkxpbmVXaXRoSWZOZWVkZWQoKXtjb25zdCB0PXRoaXMuY3VycmVudFN5c3RlbVBhcmFtcy5zeXN0ZW1NZWFzdXJlcztpZih0Lmxlbmd0aD49MSl7Y29uc3QgZT10aGlzLmN1cnJlbnRTeXN0ZW1QYXJhbXMuY3VycmVudFN5c3RlbS5HcmFwaGljYWxNZWFzdXJlc1t0aGlzLmN1cnJlbnRTeXN0ZW1QYXJhbXMuY3VycmVudFN5c3RlbS5HcmFwaGljYWxNZWFzdXJlcy5sZW5ndGgtMV0saT10W3QubGVuZ3RoLTFdO2xldCBzPTA7aS5lbmRMaW5lPT09bC5TeXN0ZW1MaW5lc0VudW0uRG90c0JvbGRCb2xkRG90cyYmKGkuZW5kTGluZT1sLlN5c3RlbUxpbmVzRW51bS5Eb3RzVGhpbkJvbGQscz1lWzBdLmdldExpbmVXaWR0aChsLlN5c3RlbUxpbmVzRW51bS5Eb3RzQm9sZEJvbGREb3RzKS8yLWVbMF0uZ2V0TGluZVdpZHRoKGwuU3lzdGVtTGluZXNFbnVtLkRvdHNUaGluQm9sZCkpLHRoaXMuY3VycmVudFN5c3RlbVBhcmFtcy5jdXJyZW50U3lzdGVtRml4V2lkdGgtPXM7Zm9yKGxldCB0PTAsaT1lLmxlbmd0aDt0PGk7Kyt0KXtlW3RdLmVuZEluc3RydWN0aW9uc1dpZHRoLT1zfX19YWRkTWVhc3VyZVRvU3lzdGVtKHQsZSxpLHMsbixyLG8pe3RoaXMuY3VycmVudFN5c3RlbVBhcmFtcy5zeXN0ZW1NZWFzdXJlcy5wdXNoKHtiZWdpbkxpbmU6ZSxlbmRMaW5lOml9KSx0aGlzLnNldE1lYXN1cmVXaWR0aCh0LHMsbixvKSx0aGlzLmFkZFN0YXZlTWVhc3VyZXNUb1N5c3RlbSh0KSx0aGlzLmN1cnJlbnRTeXN0ZW1QYXJhbXMuY3VycmVudFdpZHRoKz1zLHRoaXMuY3VycmVudFN5c3RlbVBhcmFtcy5jdXJyZW50U3lzdGVtRml4V2lkdGgrPW4rbyx0aGlzLmN1cnJlbnRTeXN0ZW1QYXJhbXMuY3VycmVudFN5c3RlbVZhcldpZHRoKz1yLHRoaXMuY3VycmVudFN5c3RlbVBhcmFtcy5zeXN0ZW1NZWFzdXJlSW5kZXgrK31pbml0TXVzaWNTeXN0ZW0oKXtjb25zdCB0PWMuTXVzaWNTaGVldENhbGN1bGF0b3Iuc3ltYm9sRmFjdG9yeS5jcmVhdGVNdXNpY1N5c3RlbSh0aGlzLmdsb2JhbFN5c3RlbUluZGV4KyssdGhpcy5ydWxlcyk7cmV0dXJuIHRoaXMubXVzaWNTeXN0ZW1zLnB1c2godCksdGhpcy5sYXlvdXRTeXN0ZW1TdGF2ZXModCksdC5jcmVhdGVNdXNpY1N5c3RlbUxhYmVsKHRoaXMucnVsZXMuSW5zdHJ1bWVudExhYmVsVGV4dEhlaWdodCx0aGlzLnJ1bGVzLlN5c3RlbUxhYmVsc1JpZ2h0TWFyZ2luLHRoaXMucnVsZXMuTGFiZWxNYXJnaW5Cb3JkZXJGYWN0b3IsMT09PXRoaXMubXVzaWNTeXN0ZW1zLmxlbmd0aCksdH1nZXRGdWxsUGFnZVN5c3RlbVdpZHRoKCl7cmV0dXJuIHRoaXMuZ3JhcGhpY2FsTXVzaWNTaGVldC5QYXJlbnRNdXNpY1NoZWV0LnBhZ2VXaWR0aC10aGlzLnJ1bGVzLlBhZ2VMZWZ0TWFyZ2luLXRoaXMucnVsZXMuUGFnZVJpZ2h0TWFyZ2luLXRoaXMucnVsZXMuU3lzdGVtTGVmdE1hcmdpbi10aGlzLnJ1bGVzLlN5c3RlbVJpZ2h0TWFyZ2lufWxheW91dFN5c3RlbVN0YXZlcyh0KXtjb25zdCBlPXRoaXMuZ2V0RnVsbFBhZ2VTeXN0ZW1XaWR0aCgpLGk9dC5Qb3NpdGlvbkFuZFNoYXBlO2kuQm9yZGVyTGVmdD0wLGkuQm9yZGVyUmlnaHQ9ZSxpLkJvcmRlclRvcD0wO2NvbnN0IHM9W10sbj10aGlzLmdyYXBoaWNhbE11c2ljU2hlZXQuUGFyZW50TXVzaWNTaGVldC5JbnN0cnVtZW50cztmb3IobGV0IHQ9MCxlPW4ubGVuZ3RoO3Q8ZTsrK3Qpe2NvbnN0IGU9blt0XTtpZigwIT09ZS5Wb2ljZXMubGVuZ3RoJiZlLlZpc2libGUpZm9yKGxldCB0PTAsaT1lLlN0YXZlcy5sZW5ndGg7dDxpOysrdCl7Y29uc3QgaT1lLlN0YXZlc1t0XTtzLnB1c2goaSl9fWxldCByPSExO2lmKHRoaXMubGVhZFNoZWV0KWZvcihsZXQgdD0wLGU9cy5sZW5ndGg7dDxlOysrdCl7aWYoc1t0XS5QYXJlbnRJbnN0cnVtZW50Lkx5cmljVmVyc2VzTnVtYmVycy5sZW5ndGg+MSl7cj0hMDticmVha319bGV0IG89MDtmb3IobGV0IGU9MDtlPHMubGVuZ3RoO2UrKylpZih0aGlzLmFkZFN0YWZmTGluZVRvTXVzaWNTeXN0ZW0odCxvLHNbZV0pLG8rPXRoaXMucnVsZXMuU3RhZmZIZWlnaHQsZSsxPHMubGVuZ3RoKXtsZXQgdD0wO3Q9dGhpcy5sZWFkU2hlZXQmJiFyPzIuNTpzW2VdLlBhcmVudEluc3RydW1lbnQ9PT1zW2UrMV0uUGFyZW50SW5zdHJ1bWVudD90aGlzLnJ1bGVzLkJldHdlZW5TdGFmZkRpc3RhbmNlOnRoaXMucnVsZXMuU3RhZmZEaXN0YW5jZSxvKz10fWkuQm9yZGVyQm90dG9tPW99YWRkU3RhZmZMaW5lVG9NdXNpY1N5c3RlbSh0LGUsaSl7aWYodCl7Y29uc3Qgcz1jLk11c2ljU2hlZXRDYWxjdWxhdG9yLnN5bWJvbEZhY3RvcnkuY3JlYXRlU3RhZmZMaW5lKHQsaSk7dC5TdGFmZkxpbmVzLnB1c2gocyk7Y29uc3Qgbj1zLlBvc2l0aW9uQW5kU2hhcGUscj1uZXcgYS5Qb2ludEYyRDt0IT09dGhpcy5tdXNpY1N5c3RlbXNbMF18fHRoaXMucnVsZXMuQ29tcGFjdE1vZGU/KHIueD0wLG4uQm9yZGVyUmlnaHQ9dC5Qb3NpdGlvbkFuZFNoYXBlLlNpemUud2lkdGgpOihyLng9dGhpcy5ydWxlcy5GaXJzdFN5c3RlbU1hcmdpbixuLkJvcmRlclJpZ2h0PXQuUG9zaXRpb25BbmRTaGFwZS5TaXplLndpZHRoLXRoaXMucnVsZXMuRmlyc3RTeXN0ZW1NYXJnaW4pLHIueT1lLG4uUmVsYXRpdmVQb3NpdGlvbj1yLG4uQm9yZGVyTGVmdD0wLG4uQm9yZGVyVG9wPTAsbi5Cb3JkZXJCb3R0b209dGhpcy5ydWxlcy5TdGFmZkhlaWdodDtmb3IobGV0IHQ9MDt0PDU7dCsrKXtjb25zdCBlPW5ldyBhLlBvaW50RjJEO2UueD0wLGUueT10KnRoaXMucnVsZXMuU3RhZmZIZWlnaHQvNDtjb25zdCBpPW5ldyBhLlBvaW50RjJEO2kueD1zLlBvc2l0aW9uQW5kU2hhcGUuU2l6ZS53aWR0aCxpLnk9dCp0aGlzLnJ1bGVzLlN0YWZmSGVpZ2h0LzQsdGhpcy5sZWFkU2hlZXQmJihlLnk9aS55PTApLHMuU3RhZmZMaW5lc1t0XT1uZXcgaC5HcmFwaGljYWxMaW5lKGUsaSx0aGlzLnJ1bGVzLlN0YWZmTGluZVdpZHRoKX19fWluaXRpYWxpemVBY3RpdmVJbnN0cnVjdGlvbnModCl7Y29uc3QgZT10aGlzLmdyYXBoaWNhbE11c2ljU2hlZXQuUGFyZW50TXVzaWNTaGVldC5nZXRGaXJzdFNvdXJjZU1lYXN1cmUoKTtpZihlKXt0aGlzLnZpc2libGVTdGFmZkluZGljZXM9dGhpcy5ncmFwaGljYWxNdXNpY1NoZWV0LmdldFZpc2libGVTdGF2ZXNJbmRpY2VzRnJvbVNvdXJjZU1lYXN1cmUodCk7Zm9yKGxldCB0PTAsaT10aGlzLnZpc2libGVTdGFmZkluZGljZXMubGVuZ3RoO3Q8aTt0Kyspe2NvbnN0IGk9dGhpcy52aXNpYmxlU3RhZmZJbmRpY2VzW3RdLHM9dGhpcy5ncmFwaGljYWxNdXNpY1NoZWV0LmdldEdyYXBoaWNhbE1lYXN1cmVGcm9tU291cmNlTWVhc3VyZUFuZEluZGV4KGUsaSk7dGhpcy5hY3RpdmVDbGVmc1t0XT1lLkZpcnN0SW5zdHJ1Y3Rpb25zU3RhZmZFbnRyaWVzW2ldLkluc3RydWN0aW9uc1swXTtsZXQgbj1yLktleUluc3RydWN0aW9uLmNvcHkoZS5GaXJzdEluc3RydWN0aW9uc1N0YWZmRW50cmllc1tpXS5JbnN0cnVjdGlvbnNbMV0pO249dGhpcy50cmFuc3Bvc2VLZXlJbnN0cnVjdGlvbihuLHMpLHRoaXMuYWN0aXZlS2V5c1t0XT1uLHRoaXMuYWN0aXZlUmh5dGhtW3RdPWUuRmlyc3RJbnN0cnVjdGlvbnNTdGFmZkVudHJpZXNbaV0uSW5zdHJ1Y3Rpb25zWzJdfX19dHJhbnNwb3NlS2V5SW5zdHJ1Y3Rpb24odCxlKXtyZXR1cm4gMCE9PXRoaXMuZ3JhcGhpY2FsTXVzaWNTaGVldC5QYXJlbnRNdXNpY1NoZWV0LlRyYW5zcG9zZSYmZS5QYXJlbnRTdGFmZi5QYXJlbnRJbnN0cnVtZW50Lk1pZGlJbnN0cnVtZW50SWQhPT11Lk1pZGlJbnN0cnVtZW50LlBlcmN1c3Npb24mJnZvaWQgMCE9PWMuTXVzaWNTaGVldENhbGN1bGF0b3IudHJhbnNwb3NlQ2FsY3VsYXRvciYmYy5NdXNpY1NoZWV0Q2FsY3VsYXRvci50cmFuc3Bvc2VDYWxjdWxhdG9yLnRyYW5zcG9zZUtleSh0LHRoaXMuZ3JhcGhpY2FsTXVzaWNTaGVldC5QYXJlbnRNdXNpY1NoZWV0LlRyYW5zcG9zZSksdH1hZGRCZWdpbkluc3RydWN0aW9ucyh0LGUsaSl7Y29uc3Qgcz10Lmxlbmd0aDtpZigwPT09cylyZXR1cm4gMDtsZXQgbj0wO2NvbnN0IHI9dFswXS5wYXJlbnRTb3VyY2VNZWFzdXJlO2ZvcihsZXQgbz0wO288czsrK28pe2NvbnN0IHM9dFtvXSxhPXRoaXMudmlzaWJsZVN0YWZmSW5kaWNlc1tvXSxoPXIuRmlyc3RJbnN0cnVjdGlvbnNTdGFmZkVudHJpZXNbYV0sbD10aGlzLkFkZEluc3RydWN0aW9uc0F0TWVhc3VyZUJlZ2luKGgscyxvLGksZSk7bj1NYXRoLm1heChuLGwpfXJldHVybiBufWFkZEVuZEluc3RydWN0aW9ucyh0KXtjb25zdCBlPXQubGVuZ3RoO2lmKDA9PT1lKXJldHVybiAwO2xldCBpPS41O2NvbnN0IHM9dFswXS5wYXJlbnRTb3VyY2VNZWFzdXJlO2ZvcihsZXQgbj0wO248ZTtuKyspe2NvbnN0IGU9dFtuXSxyPXRoaXMudmlzaWJsZVN0YWZmSW5kaWNlc1tuXSxvPXMuTGFzdEluc3RydWN0aW9uc1N0YWZmRW50cmllc1tyXSxhPXRoaXMuYWRkSW5zdHJ1Y3Rpb25zQXRNZWFzdXJlRW5kKG8sZSk7aT1NYXRoLm1heChpLGEpfXJldHVybiBpfUFkZEluc3RydWN0aW9uc0F0TWVhc3VyZUJlZ2luKHQsZSxpLHMsYSl7bGV0IGg9MCxsPXZvaWQgMCxjPXZvaWQgMCx1PXZvaWQgMDtpZih0KWZvcihsZXQgZT0wLGk9dC5JbnN0cnVjdGlvbnMubGVuZ3RoO2U8aTsrK2Upe2NvbnN0IGk9dC5JbnN0cnVjdGlvbnNbZV07aSBpbnN0YW5jZW9mIG8uQ2xlZkluc3RydWN0aW9uP2w9aTppIGluc3RhbmNlb2Ygci5LZXlJbnN0cnVjdGlvbj9jPWk6aSBpbnN0YW5jZW9mIG4uUmh5dGhtSW5zdHJ1Y3Rpb24mJih1PWkpfWEmJihsfHwobD10aGlzLmFjdGl2ZUNsZWZzW2ldKSxjfHwoYz10aGlzLmFjdGl2ZUtleXNbaV0pLHMmJiF1JiYodT10aGlzLmFjdGl2ZVJoeXRobVtpXSkpO2xldCBkPSExLGY9ITEsbT0hMTtpZihsPyhlLmFkZENsZWZBdEJlZ2luKGwpLGQ9ITApOmw9dGhpcy5hY3RpdmVDbGVmc1tpXSxjKXtjPXRoaXMudHJhbnNwb3NlS2V5SW5zdHJ1Y3Rpb24oYyxlKTtjb25zdCB0PWE/dm9pZCAwOnRoaXMuYWN0aXZlS2V5c1tpXTtlLmFkZEtleUF0QmVnaW4oYyx0LGwpLGY9ITB9cmV0dXJuIHZvaWQgMCE9PXUmJnUuUHJpbnRPYmplY3QmJihlLmFkZFJoeXRobUF0QmVnaW4odSksbT0hMCksKGR8fGZ8fG0pJiYoaCs9ZS5iZWdpbkluc3RydWN0aW9uc1dpZHRoLG0mJihoKz10aGlzLnJ1bGVzLlJoeXRobVJpZ2h0TWFyZ2luKSksaH1hZGRJbnN0cnVjdGlvbnNBdE1lYXN1cmVFbmQodCxlKXtpZighdHx8IXQuSW5zdHJ1Y3Rpb25zfHwwPT09dC5JbnN0cnVjdGlvbnMubGVuZ3RoKXJldHVybiAwO2ZvcihsZXQgaT0wLHM9dC5JbnN0cnVjdGlvbnMubGVuZ3RoO2k8czsrK2kpe2NvbnN0IHM9dC5JbnN0cnVjdGlvbnNbaV07aWYocyBpbnN0YW5jZW9mIG8uQ2xlZkluc3RydWN0aW9uKXtjb25zdCB0PXM7ZS5hZGRDbGVmQXRFbmQodCl9fXJldHVybiB0aGlzLnJ1bGVzLk1lYXN1cmVSaWdodE1hcmdpbitlLmVuZEluc3RydWN0aW9uc1dpZHRofXVwZGF0ZUFjdGl2ZUNsZWZzKHQsZSl7Zm9yKGxldCBpPTAscz1lLmxlbmd0aDtpPHM7aSsrKXtjb25zdCBlPXRoaXMudmlzaWJsZVN0YWZmSW5kaWNlc1tpXSxzPXQuRmlyc3RJbnN0cnVjdGlvbnNTdGFmZkVudHJpZXNbZV07aWYocylmb3IobGV0IHQ9MCxlPXMuSW5zdHJ1Y3Rpb25zLmxlbmd0aDt0PGU7Kyt0KXtjb25zdCBlPXMuSW5zdHJ1Y3Rpb25zW3RdO2UgaW5zdGFuY2VvZiBvLkNsZWZJbnN0cnVjdGlvbj90aGlzLmFjdGl2ZUNsZWZzW2ldPWU6ZSBpbnN0YW5jZW9mIHIuS2V5SW5zdHJ1Y3Rpb24/dGhpcy5hY3RpdmVLZXlzW2ldPWU6ZSBpbnN0YW5jZW9mIG4uUmh5dGhtSW5zdHJ1Y3Rpb24mJih0aGlzLmFjdGl2ZVJoeXRobVtpXT1lKX1jb25zdCBhPXQuZ2V0RW50cmllc1BlclN0YWZmKGUpO2ZvcihsZXQgdD0wLGU9YS5sZW5ndGg7dDxlOysrdCl7Y29uc3QgZT1hW3RdO2lmKGUuSW5zdHJ1Y3Rpb25zKWZvcihsZXQgdD0wLHM9ZS5JbnN0cnVjdGlvbnMubGVuZ3RoO3Q8czsrK3Qpe2NvbnN0IHM9ZS5JbnN0cnVjdGlvbnNbdF07cyBpbnN0YW5jZW9mIG8uQ2xlZkluc3RydWN0aW9uJiYodGhpcy5hY3RpdmVDbGVmc1tpXT1zKX19Y29uc3QgaD10Lkxhc3RJbnN0cnVjdGlvbnNTdGFmZkVudHJpZXNbZV07aWYoaCl7Y29uc3QgdD1oLkluc3RydWN0aW9ucztmb3IobGV0IGU9MCxzPXQubGVuZ3RoO2U8czsrK2Upe2NvbnN0IHM9dFtlXTtzIGluc3RhbmNlb2Ygby5DbGVmSW5zdHJ1Y3Rpb24mJih0aGlzLmFjdGl2ZUNsZWZzW2ldPXMpfX19fWNoZWNrQW5kQ3JlYXRlRXh0cmFJbnN0cnVjdGlvbk1lYXN1cmUodCl7Y29uc3QgZT10WzBdLnBhcmVudFNvdXJjZU1lYXN1cmUuRmlyc3RJbnN0cnVjdGlvbnNTdGFmZkVudHJpZXMsaT1bXTtmb3IobGV0IHM9MCxuPXQubGVuZ3RoO3M8bjsrK3Mpe2NvbnN0IG49dFtzXTtpLnB1c2goZVtuLlBhcmVudFN0YWZmLmlkSW5NdXNpY1NoZWV0XSl9bGV0IHM9MDtmb3IobGV0IHQ9MCxlPWkubGVuZ3RoO3Q8ZTsrK3Qpe2NvbnN0IGU9aVt0XTtpZighZSljb250aW51ZTtjb25zdCBvPWUuSW5zdHJ1Y3Rpb25zO2xldCBhPXZvaWQgMCxoPXZvaWQgMDtmb3IobGV0IGU9MCxpPW8ubGVuZ3RoO2U8aTsrK2Upe2NvbnN0IGk9b1tlXTtpIGluc3RhbmNlb2Ygci5LZXlJbnN0cnVjdGlvbiYmaS5LZXkhPT10aGlzLmFjdGl2ZUtleXNbdF0uS2V5JiYoYT1pKSxpIGluc3RhbmNlb2Ygbi5SaHl0aG1JbnN0cnVjdGlvbiYmaSE9PXRoaXMuYWN0aXZlUmh5dGhtW3RdJiYoaD1pKX1pZih2b2lkIDAhPT1hfHxoKXtjb25zdCBlPXRoaXMuYWRkRXh0cmFJbnN0cnVjdGlvbk1lYXN1cmUodCxhLGgpO3M9TWF0aC5tYXgocyxlKX19cz4wJiYodGhpcy5jdXJyZW50U3lzdGVtUGFyYW1zLnN5c3RlbU1lYXN1cmVzLnB1c2goe2JlZ2luTGluZTpsLlN5c3RlbUxpbmVzRW51bS5Ob25lLGVuZExpbmU6bC5TeXN0ZW1MaW5lc0VudW0uTm9uZX0pLHRoaXMuY3VycmVudFN5c3RlbVBhcmFtcy5jdXJyZW50V2lkdGgrPXMsdGhpcy5jdXJyZW50U3lzdGVtUGFyYW1zLmN1cnJlbnRTeXN0ZW1GaXhXaWR0aCs9cyl9YWRkRXh0cmFJbnN0cnVjdGlvbk1lYXN1cmUodCxlLGkpe2NvbnN0IHM9dGhpcy5jdXJyZW50U3lzdGVtUGFyYW1zLmN1cnJlbnRTeXN0ZW0sbj1jLk11c2ljU2hlZXRDYWxjdWxhdG9yLnN5bWJvbEZhY3RvcnkuY3JlYXRlRXh0cmFHcmFwaGljYWxNZWFzdXJlKHMuU3RhZmZMaW5lc1t0XSk7W10ucHVzaChuKSxlJiZuLmFkZEtleUF0QmVnaW4oZSx0aGlzLmFjdGl2ZUtleXNbdF0sdGhpcy5hY3RpdmVDbGVmc1t0XSksdm9pZCAwIT09aSYmaS5QcmludE9iamVjdCYmbi5hZGRSaHl0aG1BdEJlZ2luKGkpLG4uUG9zaXRpb25BbmRTaGFwZS5Cb3JkZXJMZWZ0PTAsbi5Qb3NpdGlvbkFuZFNoYXBlLkJvcmRlclRvcD0wLG4uUG9zaXRpb25BbmRTaGFwZS5Cb3JkZXJCb3R0b209dGhpcy5ydWxlcy5TdGFmZkhlaWdodDtjb25zdCByPXRoaXMucnVsZXMuTWVhc3VyZUxlZnRNYXJnaW4rbi5iZWdpbkluc3RydWN0aW9uc1dpZHRoK3RoaXMucnVsZXMuTWVhc3VyZVJpZ2h0TWFyZ2luO3JldHVybiBuLlBvc2l0aW9uQW5kU2hhcGUuQm9yZGVyUmlnaHQ9cixzLlN0YWZmTGluZXNbdF0uTWVhc3VyZXMucHVzaChuKSxyfWFkZFN0YXZlTWVhc3VyZXNUb1N5c3RlbSh0KXtpZih0WzBdKXtjb25zdCBlPVtdO2ZvcihsZXQgaT0wO2k8dC5sZW5ndGg7aSsrKWUucHVzaCh0W2ldKTtjb25zdCBpPXRoaXMuY3VycmVudFN5c3RlbVBhcmFtcy5jdXJyZW50U3lzdGVtO2ZvcihsZXQgdD0wO3Q8dGhpcy5udW1iZXJPZlZpc2libGVTdGFmZkxpbmVzO3QrKyl7Y29uc3Qgcz1lW3RdO2kuU3RhZmZMaW5lc1t0XS5NZWFzdXJlcy5wdXNoKHMpLHMuUGFyZW50U3RhZmZMaW5lPWkuU3RhZmZMaW5lc1t0XX1pLkFkZEdyYXBoaWNhbE1lYXN1cmVzKGUpfX1nZXRNZWFzdXJlU3RhcnRMaW5lKCl7aWYodGhpcy50aGlzTWVhc3VyZUJlZ2luc0xpbmVSZXBldGl0aW9uKCkpe2NvbnN0IHQ9dGhpcy5jdXJyZW50U3lzdGVtUGFyYW1zLklzU3lzdGVtU3RhcnRNZWFzdXJlKCksZT0wPT09dGhpcy5tZWFzdXJlTGlzdEluZGV4O2lmKHRoaXMucHJldmlvdXNNZWFzdXJlRW5kc0xpbmVSZXBldGl0aW9uKCkmJiF0KXJldHVybiBsLlN5c3RlbUxpbmVzRW51bS5Eb3RzQm9sZEJvbGREb3RzO2lmKCFlKXJldHVybiBsLlN5c3RlbUxpbmVzRW51bS5Cb2xkVGhpbkRvdHN9cmV0dXJuIGwuU3lzdGVtTGluZXNFbnVtLk5vbmV9Z2V0TWVhc3VyZUVuZExpbmUoKXtsZXQgdD12b2lkIDA7dHJ5e3Q9dGhpcy5tZWFzdXJlTGlzdFt0aGlzLm1lYXN1cmVMaXN0SW5kZXhdWzBdLnBhcmVudFNvdXJjZU1lYXN1cmV9ZmluYWxseXt9cmV0dXJuIHRoaXMubmV4dE1lYXN1cmVCZWdpbnNMaW5lUmVwZXRpdGlvbigpJiZ0aGlzLnRoaXNNZWFzdXJlRW5kc0xpbmVSZXBldGl0aW9uKCk/bC5TeXN0ZW1MaW5lc0VudW0uRG90c0JvbGRCb2xkRG90czp0aGlzLnRoaXNNZWFzdXJlRW5kc0xpbmVSZXBldGl0aW9uKCk/bC5TeXN0ZW1MaW5lc0VudW0uRG90c1RoaW5Cb2xkOnRoaXMubmV4dE1lYXN1cmVIYXNLZXlJbnN0cnVjdGlvbkNoYW5nZSgpfHx0aGlzLnRoaXNNZWFzdXJlRW5kc1dvcmRSZXBldGl0aW9uKCl8fHRoaXMubmV4dE1lYXN1cmVCZWdpbnNXb3JkUmVwZXRpdGlvbigpP2wuU3lzdGVtTGluZXNFbnVtLkRvdWJsZVRoaW46dCYmdm9pZCAwIT09dC5lbmRpbmdCYXJTdHlsZUVudW0/dC5lbmRpbmdCYXJTdHlsZUVudW06bC5TeXN0ZW1MaW5lc0VudW0uU2luZ2xlVGhpbn1nZXRMaW5lV2lkdGgodCxlLGkpe2xldCBzPXQuZ2V0TGluZVdpZHRoKGUpO3JldHVybiBlPT09bC5TeXN0ZW1MaW5lc0VudW0uRG90c0JvbGRCb2xkRG90cyYmKHMvPTIpLGkmJmU9PT1sLlN5c3RlbUxpbmVzRW51bS5Cb2xkVGhpbkRvdHMmJihzKz10aGlzLnJ1bGVzLkRpc3RhbmNlQmV0d2Vlbkxhc3RJbnN0cnVjdGlvbkFuZFJlcGV0aXRpb25CYXJsaW5lKSxzfXByZXZpb3VzTWVhc3VyZUVuZHNMaW5lUmVwZXRpdGlvbigpe2lmKDA9PT10aGlzLm1lYXN1cmVMaXN0SW5kZXgpcmV0dXJuITE7Zm9yKGxldCB0PTAsZT10aGlzLm1lYXN1cmVMaXN0W3RoaXMubWVhc3VyZUxpc3RJbmRleC0xXS5sZW5ndGg7dDxlOysrdCl7aWYodGhpcy5tZWFzdXJlTGlzdFt0aGlzLm1lYXN1cmVMaXN0SW5kZXgtMV1bdF0uZW5kc1dpdGhMaW5lUmVwZXRpdGlvbigpKXJldHVybiEwfXJldHVybiExfXRoaXNNZWFzdXJlQmVnaW5zTGluZVJlcGV0aXRpb24oKXtmb3IobGV0IHQ9MCxlPXRoaXMubWVhc3VyZUxpc3RbdGhpcy5tZWFzdXJlTGlzdEluZGV4XS5sZW5ndGg7dDxlOysrdCl7aWYodGhpcy5tZWFzdXJlTGlzdFt0aGlzLm1lYXN1cmVMaXN0SW5kZXhdW3RdLmJlZ2luc1dpdGhMaW5lUmVwZXRpdGlvbigpKXJldHVybiEwfXJldHVybiExfW5leHRNZWFzdXJlQmVnaW5zTGluZVJlcGV0aXRpb24oKXtjb25zdCB0PXRoaXMubWVhc3VyZUxpc3RJbmRleCsxO2lmKHQ+PXRoaXMuZ3JhcGhpY2FsTXVzaWNTaGVldC5QYXJlbnRNdXNpY1NoZWV0LlNvdXJjZU1lYXN1cmVzLmxlbmd0aHx8IXRoaXMubWVhc3VyZUxpc3RbdF0pcmV0dXJuITE7Zm9yKGxldCBlPTAsaT10aGlzLm1lYXN1cmVMaXN0W3RdLmxlbmd0aDtlPGk7KytlKXtpZih0aGlzLm1lYXN1cmVMaXN0W3RdW2VdLmJlZ2luc1dpdGhMaW5lUmVwZXRpdGlvbigpKXJldHVybiEwfXJldHVybiExfXRoaXNNZWFzdXJlRW5kc0xpbmVSZXBldGl0aW9uKCl7Zm9yKGxldCB0PTAsZT10aGlzLm1lYXN1cmVMaXN0W3RoaXMubWVhc3VyZUxpc3RJbmRleF0ubGVuZ3RoO3Q8ZTsrK3Qpe2lmKHRoaXMubWVhc3VyZUxpc3RbdGhpcy5tZWFzdXJlTGlzdEluZGV4XVt0XS5lbmRzV2l0aExpbmVSZXBldGl0aW9uKCkpcmV0dXJuITB9cmV0dXJuITF9bmV4dE1lYXN1cmVCZWdpbnNXb3JkUmVwZXRpdGlvbigpe2NvbnN0IHQ9dGhpcy5tZWFzdXJlTGlzdEluZGV4KzE7aWYodD49dGhpcy5ncmFwaGljYWxNdXNpY1NoZWV0LlBhcmVudE11c2ljU2hlZXQuU291cmNlTWVhc3VyZXMubGVuZ3RofHx0PnRoaXMubWVhc3VyZUxpc3QubGVuZ3RoLTEpcmV0dXJuITE7Zm9yKGxldCBlPTAsaT10aGlzLm1lYXN1cmVMaXN0W3RdLmxlbmd0aDtlPGk7KytlKXtpZih0aGlzLm1lYXN1cmVMaXN0W3RdW2VdLmJlZ2luc1dpdGhXb3JkUmVwZXRpdGlvbigpKXJldHVybiEwfXJldHVybiExfXRoaXNNZWFzdXJlRW5kc1dvcmRSZXBldGl0aW9uKCl7Zm9yKGxldCB0PTAsZT10aGlzLm1lYXN1cmVMaXN0W3RoaXMubWVhc3VyZUxpc3RJbmRleF0ubGVuZ3RoO3Q8ZTsrK3Qpe2lmKHRoaXMubWVhc3VyZUxpc3RbdGhpcy5tZWFzdXJlTGlzdEluZGV4XVt0XS5lbmRzV2l0aFdvcmRSZXBldGl0aW9uKCkpcmV0dXJuITB9cmV0dXJuITF9bmV4dE1lYXN1cmVIYXNLZXlJbnN0cnVjdGlvbkNoYW5nZSgpe3JldHVybiB2b2lkIDAhPT10aGlzLmdldE5leHRNZWFzdXJlS2V5SW5zdHJ1Y3Rpb24oKX1nZXROZXh0TWVhc3VyZUtleUluc3RydWN0aW9uKCl7aWYodGhpcy5tZWFzdXJlTGlzdEluZGV4PHRoaXMubWVhc3VyZUxpc3QubGVuZ3RoLTEpZm9yKGxldCB0PTA7dDx0aGlzLm1lYXN1cmVMaXN0W3RoaXMubWVhc3VyZUxpc3RJbmRleF0ubGVuZ3RoO3QrKyl7Y29uc3QgZT10aGlzLm1lYXN1cmVMaXN0W3RoaXMubWVhc3VyZUxpc3RJbmRleCsxXVt0XS5wYXJlbnRTb3VyY2VNZWFzdXJlO2lmKCFlKXJldHVybjtyZXR1cm4gZS5nZXRLZXlJbnN0cnVjdGlvbih0aGlzLnZpc2libGVTdGFmZkluZGljZXNbdF0pfX1jYWxjdWxhdGVYU2NhbGluZ0ZhY3Rvcih0LGUpe2lmKE1hdGguYWJzKGUtMCk8MWUtNXx8TWF0aC5hYnModC0wKTwxZS01KXJldHVybiAxO2xldCBpO3JldHVybiBpPXRoaXMuY3VycmVudFN5c3RlbVBhcmFtcy5jdXJyZW50U3lzdGVtLlN0YWZmTGluZXNbMF0uUG9zaXRpb25BbmRTaGFwZS5TaXplLndpZHRoLChpLXQpL2V9c3RyZXRjaE11c2ljU3lzdGVtKHQpe2xldCBlPXRoaXMuY2FsY3VsYXRlWFNjYWxpbmdGYWN0b3IodGhpcy5jdXJyZW50U3lzdGVtUGFyYW1zLmN1cnJlbnRTeXN0ZW1GaXhXaWR0aCx0aGlzLmN1cnJlbnRTeXN0ZW1QYXJhbXMuY3VycmVudFN5c3RlbVZhcldpZHRoKTt0JiYoZT1NYXRoLm1pbihlLHRoaXMucnVsZXMuTGFzdFN5c3RlbU1heFNjYWxpbmdGYWN0b3IpKTtjb25zdCBpPXRoaXMuY3VycmVudFN5c3RlbVBhcmFtcy5jdXJyZW50U3lzdGVtO2ZvcihsZXQgdD0wLHM9aS5TdGFmZkxpbmVzLmxlbmd0aDt0PHM7Kyt0KXtjb25zdCBzPWkuU3RhZmZMaW5lc1t0XTtsZXQgbj0wO2ZvcihsZXQgdD0wO3Q8cy5NZWFzdXJlcy5sZW5ndGg7dCsrKXtjb25zdCByPXMuTWVhc3VyZXNbdF07aWYoci5zZXRQb3NpdGlvbkluU3RhZmZsaW5lKG4pLHIuc2V0V2lkdGgoci5iZWdpbkluc3RydWN0aW9uc1dpZHRoK3IubWluaW11bVN0YWZmRW50cmllc1dpZHRoKmUrci5lbmRJbnN0cnVjdGlvbnNXaWR0aCksdDx0aGlzLmN1cnJlbnRTeXN0ZW1QYXJhbXMuc3lzdGVtTWVhc3VyZXMubGVuZ3RoKXtjb25zdCBlPXRoaXMuY3VycmVudFN5c3RlbVBhcmFtcy5zeXN0ZW1NZWFzdXJlc1t0XS5iZWdpbkxpbmUscz1yLmdldExpbmVXaWR0aChsLlN5c3RlbUxpbmVzRW51bS5Cb2xkVGhpbkRvdHMpO3N3aXRjaChlKXtjYXNlIGwuU3lzdGVtTGluZXNFbnVtLkJvbGRUaGluRG90czpsZXQgbz1uOzA9PT10JiYobz1uK3IuYmVnaW5JbnN0cnVjdGlvbnNXaWR0aC1zKSxpLmNyZWF0ZVZlcnRpY2FsTGluZUZvck1lYXN1cmUobyxzLGUsZi5TeXN0ZW1MaW5lUG9zaXRpb24uTWVhc3VyZUJlZ2luLHQscil9fWlmKHIuc3RhZmZFbnRyaWVzU2NhbGVGYWN0b3I9ZSxyLmxheW91dFN5bWJvbHMoKSwhKHQrMTx0aGlzLmN1cnJlbnRTeXN0ZW1QYXJhbXMuc3lzdGVtTWVhc3VyZXMubGVuZ3RoJiZ0aGlzLmN1cnJlbnRTeXN0ZW1QYXJhbXMuc3lzdGVtTWVhc3VyZXNbdCsxXS5iZWdpbkxpbmU9PT1sLlN5c3RlbUxpbmVzRW51bS5Cb2xkVGhpbkRvdHMpKXtsZXQgZT1sLlN5c3RlbUxpbmVzRW51bS5TaW5nbGVUaGluO3Q8dGhpcy5jdXJyZW50U3lzdGVtUGFyYW1zLnN5c3RlbU1lYXN1cmVzLmxlbmd0aCYmKGU9dGhpcy5jdXJyZW50U3lzdGVtUGFyYW1zLnN5c3RlbU1lYXN1cmVzW3RdLmVuZExpbmUpO2NvbnN0IHM9ci5nZXRMaW5lV2lkdGgoZSk7bGV0IG49ci5Qb3NpdGlvbkFuZFNoYXBlLlJlbGF0aXZlUG9zaXRpb24ueCtyLlBvc2l0aW9uQW5kU2hhcGUuQm9yZGVyUmlnaHQtcztlPT09bC5TeXN0ZW1MaW5lc0VudW0uRG90c0JvbGRCb2xkRG90cyYmKG4tPXMvMiksaS5jcmVhdGVWZXJ0aWNhbExpbmVGb3JNZWFzdXJlKG4scyxlLGYuU3lzdGVtTGluZVBvc2l0aW9uLk1lYXN1cmVFbmQsdCxyKX1uPXIuUG9zaXRpb25BbmRTaGFwZS5SZWxhdGl2ZVBvc2l0aW9uLngrci5Qb3NpdGlvbkFuZFNoYXBlLkJvcmRlclJpZ2h0fX10JiZ0aGlzLmRlY3JlYXNlTXVzaWNTeXN0ZW1Cb3JkZXJzKCl9ZGVjcmVhc2VNdXNpY1N5c3RlbUJvcmRlcnMoKXtjb25zdCB0PXRoaXMuY3VycmVudFN5c3RlbVBhcmFtcy5jdXJyZW50U3lzdGVtLGU9ZC5Db2xsZWN0aW9uVXRpbC5sYXN0KHQuU3RhZmZMaW5lc1swXS5NZWFzdXJlcykuUG9zaXRpb25BbmRTaGFwZSxpPWUuUmVsYXRpdmVQb3NpdGlvbi54K2UuU2l6ZS53aWR0aDtmb3IobGV0IGU9MCxzPXQuU3RhZmZMaW5lcy5sZW5ndGg7ZTxzOysrZSl7Y29uc3Qgcz10LlN0YWZmTGluZXNbZV07cy5Qb3NpdGlvbkFuZFNoYXBlLkJvcmRlclJpZ2h0PWk7Zm9yKGxldCB0PTAsZT1zLlN0YWZmTGluZXMubGVuZ3RoO3Q8ZTsrK3Qpe2NvbnN0IGU9cy5TdGFmZkxpbmVzW3RdO2UuRW5kPW5ldyBhLlBvaW50RjJEKGksZS5FbmQueSl9fXQuUG9zaXRpb25BbmRTaGFwZS5Cb3JkZXJSaWdodD1pK3RoaXMuY3VycmVudFN5c3RlbVBhcmFtcy5tYXhMYWJlbExlbmd0aCt0aGlzLnJ1bGVzLlN5c3RlbUxhYmVsc1JpZ2h0TWFyZ2lufXVwZGF0ZVN0YWZmTGluZXNSZWxhdGl2ZVBvc2l0aW9uKHQsZSxpKXtmb3IobGV0IHM9ZTtzPHQuU3RhZmZMaW5lcy5sZW5ndGg7cysrKXQuU3RhZmZMaW5lc1tzXS5Qb3NpdGlvbkFuZFNoYXBlLlJlbGF0aXZlUG9zaXRpb24ueT1pO3QuUG9zaXRpb25BbmRTaGFwZS5Cb3JkZXJCb3R0b20rPWl9Y3JlYXRlTXVzaWNQYWdlKCl7Y29uc3QgdD1uZXcgcy5HcmFwaGljYWxNdXNpY1BhZ2UodGhpcy5ncmFwaGljYWxNdXNpY1NoZWV0KTtyZXR1cm4gdGhpcy5ncmFwaGljYWxNdXNpY1NoZWV0Lk11c2ljUGFnZXMucHVzaCh0KSx0LlBhZ2VOdW1iZXI9dGhpcy5ncmFwaGljYWxNdXNpY1NoZWV0Lk11c2ljUGFnZXMubGVuZ3RoLHQuUG9zaXRpb25BbmRTaGFwZS5Cb3JkZXJMZWZ0PTAsdC5Qb3NpdGlvbkFuZFNoYXBlLkJvcmRlclJpZ2h0PXRoaXMuZ3JhcGhpY2FsTXVzaWNTaGVldC5QYXJlbnRNdXNpY1NoZWV0LnBhZ2VXaWR0aCx0LlBvc2l0aW9uQW5kU2hhcGUuQm9yZGVyVG9wPTAsdC5Qb3NpdGlvbkFuZFNoYXBlLkJvcmRlckJvdHRvbT10aGlzLnJ1bGVzLlBhZ2VIZWlnaHQsdC5Qb3NpdGlvbkFuZFNoYXBlLlJlbGF0aXZlUG9zaXRpb249bmV3IGEuUG9pbnRGMkQoMCwwKSx0fWFkZFN5c3RlbVRvUGFnZSh0LGUpe3QuTXVzaWNTeXN0ZW1zLnB1c2goZSksZS5QYXJlbnQ9dH1vcHRpbWl6ZURpc3RhbmNlQmV0d2VlblN0YWZmTGluZXModCl7aWYoIXQuY2hlY2tTdGFmZkVudHJpZXNGb3JTdGFmZkVudHJ5TGluaygpKWZvcihsZXQgZT0wO2U8dC5TdGFmZkxpbmVzLmxlbmd0aC0xO2UrKyl7Y29uc3QgaT10LlN0YWZmTGluZXNbZV0uQm90dG9tTGluZSxzPXQuU3RhZmZMaW5lc1tlKzFdLlNreUxpbmU7bGV0IG49MDtmb3IobGV0IHQ9MDt0PGkubGVuZ3RoO3QrKyl7Y29uc3QgZT1pW3RdLHI9TWF0aC5tYXgoMCx0LTYpLG89TWF0aC5taW4ocy5sZW5ndGgtMSx0KzYpO2xldCBhPTA7Zm9yKGxldCB0PXI7dDw9bzt0KyspYT1NYXRoLm1pbihhLHNbdF0pO2NvbnN0IGg9ZS1hO249TWF0aC5tYXgoaCxuKX1uKz10aGlzLnJ1bGVzLk1pblNreUJvdHRvbURpc3RCZXR3ZWVuU3RhdmVzLG49TWF0aC5tYXgobix0aGlzLnJ1bGVzLlN0YWZmSGVpZ2h0K3RoaXMucnVsZXMuTWluaW11bVN0YWZmTGluZURpc3RhbmNlKTtjb25zdCByPW4rdC5TdGFmZkxpbmVzW2VdLlBvc2l0aW9uQW5kU2hhcGUuUmVsYXRpdmVQb3NpdGlvbi55O3RoaXMudXBkYXRlU3RhZmZMaW5lc1JlbGF0aXZlUG9zaXRpb24odCxlKzEscil9Y29uc3QgZT10LlN0YWZmTGluZXNbMF07dC5Qb3NpdGlvbkFuZFNoYXBlLkJvcmRlclRvcD1lLlBvc2l0aW9uQW5kU2hhcGUuUmVsYXRpdmVQb3NpdGlvbi55K2UuUG9zaXRpb25BbmRTaGFwZS5Cb3JkZXJUb3A7Y29uc3QgaT10LlN0YWZmTGluZXNbdC5TdGFmZkxpbmVzLmxlbmd0aC0xXTt0LlBvc2l0aW9uQW5kU2hhcGUuQm9yZGVyQm90dG9tPWkuUG9zaXRpb25BbmRTaGFwZS5SZWxhdGl2ZVBvc2l0aW9uLnkraS5Qb3NpdGlvbkFuZFNoYXBlLkJvcmRlckJvdHRvbX1jYWxjdWxhdGVNdXNpY1N5c3RlbXNSZWxhdGl2ZVBvc2l0aW9ucygpe2xldCB0PXRoaXMuY3JlYXRlTXVzaWNQYWdlKCksZT0wLGk9dGhpcy5tdXNpY1N5c3RlbXNbMF0scz0wO2ZvcihsZXQgbj0wO248dGhpcy5tdXNpY1N5c3RlbXMubGVuZ3RoO24rKylpZihpPXRoaXMubXVzaWNTeXN0ZW1zW25dLDA9PT10Lk11c2ljU3lzdGVtcy5sZW5ndGgpe3RoaXMuYWRkU3lzdGVtVG9QYWdlKHQsaSksZT10aGlzLnJ1bGVzLkNvbXBhY3RNb2RlP3RoaXMucnVsZXMuUGFnZVRvcE1hcmdpbk5hcnJvdzp0aGlzLnJ1bGVzLlBhZ2VUb3BNYXJnaW4sMT09PXRoaXMuZ3JhcGhpY2FsTXVzaWNTaGVldC5NdXNpY1BhZ2VzLmxlbmd0aCYmdGhpcy5ydWxlcy5SZW5kZXJUaXRsZSYmKGUrPXRoaXMucnVsZXMuVGl0bGVUb3BEaXN0YW5jZSt0aGlzLnJ1bGVzLlNoZWV0VGl0bGVIZWlnaHQrdGhpcy5ydWxlcy5UaXRsZUJvdHRvbURpc3RhbmNlKSxlKz0taS5Qb3NpdGlvbkFuZFNoYXBlLkJvcmRlclRvcDtjb25zdCBuPW5ldyBhLlBvaW50RjJEKHRoaXMucnVsZXMuUGFnZUxlZnRNYXJnaW4rdGhpcy5ydWxlcy5TeXN0ZW1MZWZ0TWFyZ2luLGUpO2kuUG9zaXRpb25BbmRTaGFwZS5SZWxhdGl2ZVBvc2l0aW9uPW4sZStpLlBvc2l0aW9uQW5kU2hhcGUuQm9yZGVyQm90dG9tPnRoaXMucnVsZXMuUGFnZUhlaWdodC10aGlzLnJ1bGVzLlBhZ2VCb3R0b21NYXJnaW4mJihzKyssczw9NCYmY29uc29sZS5sb2coYHdhcm5pbmc6IGNvdWxkIG5vdCBmaXQgYSBzaW5nbGUgc3lzdGVtIG9uIHBhZ2UgJHt0LlBhZ2VOdW1iZXJ9YCtgIGFuZCBtZWFzdXJlIG51bWJlciAke2kuR3JhcGhpY2FsTWVhc3VyZXNbMF1bMF0uTWVhc3VyZU51bWJlcn0uXFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIFRoZSBQYWdlRm9ybWF0IG1heSBiZSB0b28gc21hbGwgZm9yIHRoaXMgc2hlZXQuXCJcXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgV2lsbCBub3QgZ2l2ZSBmdXJ0aGVyIHdhcm5pbmdzIGZvciBhbGwgcGFnZXMsIG9ubHkgdG90YWwuYCkpfWVsc2V7Y29uc3Qgcz10aGlzLm11c2ljU3lzdGVtc1tuLTFdLHI9cy5TdGFmZkxpbmVzW3MuU3RhZmZMaW5lcy5sZW5ndGgtMV0sbz1yLlBvc2l0aW9uQW5kU2hhcGU7bGV0IGg9dGhpcy5maW5kUmVxaXJlZERpc3RhbmNlV2l0aFNreUJvdHRvbUxpbmUocyxpKTtoKz10aGlzLnJ1bGVzLk1pblNreUJvdHRvbURpc3RCZXR3ZWVuU3lzdGVtcyxoPU1hdGgubWF4KGgsdGhpcy5ydWxlcy5NaW5pbXVtRGlzdGFuY2VCZXR3ZWVuU3lzdGVtcytyLlN0YWZmSGVpZ2h0KTtjb25zdCBsPWUrby5SZWxhdGl2ZVBvc2l0aW9uLnkraCxjPWwraS5Qb3NpdGlvbkFuZFNoYXBlLkJvcmRlck1hcmdpbkJvdHRvbTtpZih0aGlzLnJ1bGVzLk5ld1BhZ2VBdFhNTE5ld1BhZ2VBdHRyaWJ1dGUmJnMuYnJlYWtzUGFnZXx8IShjPHRoaXMucnVsZXMuUGFnZUhlaWdodC10aGlzLnJ1bGVzLlBhZ2VCb3R0b21NYXJnaW4pKXt0PXRoaXMuY3JlYXRlTXVzaWNQYWdlKCksbi09MTtjb250aW51ZX17dGhpcy5hZGRTeXN0ZW1Ub1BhZ2UodCxpKSxlPWw7Y29uc3Qgcz1uZXcgYS5Qb2ludEYyRCh0aGlzLnJ1bGVzLlBhZ2VMZWZ0TWFyZ2luK3RoaXMucnVsZXMuU3lzdGVtTGVmdE1hcmdpbixlKTtpLlBvc2l0aW9uQW5kU2hhcGUuUmVsYXRpdmVQb3NpdGlvbj1zfX1zPjAmJmNvbnNvbGUubG9nKGB0b3RhbCBhbW91bnQgb2YgcGFnZXMgdGhhdCBjb3VsZG4ndCBmaXQgYSBzaW5nbGUgbXVzaWMgc3lzdGVtOiAke3N9IG9mICR7dC5QYWdlTnVtYmVyfWApfWZpbmRSZXFpcmVkRGlzdGFuY2VXaXRoU2t5Qm90dG9tTGluZSh0LGUpe2NvbnN0IGk9dC5TdGFmZkxpbmVzW3QuU3RhZmZMaW5lcy5sZW5ndGgtMV0scz1lLlN0YWZmTGluZXNbMF0sbj1pLkJvdHRvbUxpbmUscj1zLlNreUxpbmUsbz1pLlBvc2l0aW9uQW5kU2hhcGUsYT1zLlBvc2l0aW9uQW5kU2hhcGUsaD0xL3RoaXMucnVsZXMuU2FtcGxpbmdVbml0O2xldCBsPTA7Zm9yKGxldCB0PTA7dDxuLmxlbmd0aDt0Kyspe2NvbnN0IGU9blt0XSxpPXQrTWF0aC5yb3VuZCgoby5SZWxhdGl2ZVBvc2l0aW9uLngtYS5SZWxhdGl2ZVBvc2l0aW9uLngpKmgpO2lmKGk8MCljb250aW51ZTtpZihpPj1yLmxlbmd0aClicmVhaztjb25zdCBzPU1hdGgubWF4KDAsaS02KSxjPU1hdGgubWluKHIubGVuZ3RoLTEsaSs2KTtsZXQgdT0wO2ZvcihsZXQgdD1zO3Q8PWM7dCsrKXU9TWF0aC5taW4odSxyW3RdKTtjb25zdCBkPWUtdTtsPU1hdGgubWF4KGQsbCl9cmV0dXJuIDA9PT1sJiYobD1vLkJvcmRlckJvdHRvbS1hLkJvcmRlclRvcCksbH19O2NsYXNzIG17Y29uc3RydWN0b3IoKXt0aGlzLnN5c3RlbU1lYXN1cmVzPVtdLHRoaXMuc3lzdGVtTWVhc3VyZUluZGV4PTAsdGhpcy5jdXJyZW50V2lkdGg9MCx0aGlzLmN1cnJlbnRTeXN0ZW1GaXhXaWR0aD0wLHRoaXMuY3VycmVudFN5c3RlbVZhcldpZHRoPTAsdGhpcy5tYXhMYWJlbExlbmd0aD0wfUlzU3lzdGVtU3RhcnRNZWFzdXJlKCl7cmV0dXJuIDA9PT10aGlzLnN5c3RlbU1lYXN1cmVJbmRleH19ZS5TeXN0ZW1CdWlsZFBhcmFtZXRlcnM9bTtlLk1lYXN1cmVCdWlsZFBhcmFtZXRlcnM9Y2xhc3N7fX0sZnVuY3Rpb24odCxlLGkpe1widXNlIHN0cmljdFwiO09iamVjdC5kZWZpbmVQcm9wZXJ0eShlLFwiX19lc01vZHVsZVwiLHt2YWx1ZTohMH0pO2NvbnN0IHM9aSg1KTtjbGFzcyBuIGV4dGVuZHMgcy5HcmFwaGljYWxPYmplY3R7fWUuQ2xpY2thYmxlPW59LGZ1bmN0aW9uKHQsZSxpKXtcInVzZSBzdHJpY3RcIjtPYmplY3QuZGVmaW5lUHJvcGVydHkoZSxcIl9fZXNNb2R1bGVcIix7dmFsdWU6ITB9KTtlLk9jdGF2ZVNoaWZ0UGFyYW1zPWNsYXNze2NvbnN0cnVjdG9yKHQsZSxpKXt0aGlzLmdldE9wZW5PY3RhdmVTaGlmdD10LHRoaXMuZ2V0QWJzb2x1dGVTdGFydFRpbWVzdGFtcD1lLHRoaXMuZ2V0QWJzb2x1dGVFbmRUaW1lc3RhbXA9aX19fSxmdW5jdGlvbih0LGUsaSl7XCJ1c2Ugc3RyaWN0XCI7dmFyIHM9dGhpcyYmdGhpcy5fX2ltcG9ydERlZmF1bHR8fGZ1bmN0aW9uKHQpe3JldHVybiB0JiZ0Ll9fZXNNb2R1bGU/dDp7ZGVmYXVsdDp0fX07T2JqZWN0LmRlZmluZVByb3BlcnR5KGUsXCJfX2VzTW9kdWxlXCIse3ZhbHVlOiEwfSk7Y29uc3Qgbj1pKDIpLHI9aSgyKSxvPXMoaSgxMikpLGE9aSgxNCk7ZS5BY2NpZGVudGFsQ2FsY3VsYXRvcj1jbGFzc3tjb25zdHJ1Y3Rvcigpe3RoaXMua2V5U2lnbmF0dXJlTm90ZUFsdGVyYXRpb25zRGljdD1uZXcgby5kZWZhdWx0LHRoaXMuY3VycmVudEFsdGVyYXRpb25zQ29tcGFyZWRUb0tleUluc3RydWN0aW9uTGlzdD1bXSx0aGlzLmN1cnJlbnRJbk1lYXN1cmVOb3RlQWx0ZXJhdGlvbnNEaWN0PW5ldyBvLmRlZmF1bHR9Z2V0IEFjdGl2ZUtleUluc3RydWN0aW9uKCl7cmV0dXJuIHRoaXMuYWN0aXZlS2V5SW5zdHJ1Y3Rpb259c2V0IEFjdGl2ZUtleUluc3RydWN0aW9uKHQpe3RoaXMuYWN0aXZlS2V5SW5zdHJ1Y3Rpb249dCx0aGlzLnJlYWN0T25LZXlJbnN0cnVjdGlvbkNoYW5nZSgpfWRvQ2FsY3VsYXRpb25zQXRFbmRPZk1lYXN1cmUoKXt0aGlzLmN1cnJlbnRJbk1lYXN1cmVOb3RlQWx0ZXJhdGlvbnNEaWN0LmNsZWFyKCk7Zm9yKGNvbnN0IHQgb2YgdGhpcy5rZXlTaWduYXR1cmVOb3RlQWx0ZXJhdGlvbnNEaWN0LmtleXMoKSl0aGlzLmN1cnJlbnRJbk1lYXN1cmVOb3RlQWx0ZXJhdGlvbnNEaWN0LnNldFZhbHVlKHQsdGhpcy5rZXlTaWduYXR1cmVOb3RlQWx0ZXJhdGlvbnNEaWN0LmdldFZhbHVlKHQpKX1jaGVja0FjY2lkZW50YWwodCxlKXtpZighZSlyZXR1cm47Y29uc3QgaT1lLkZ1bmRhbWVudGFsTm90ZSsxMiplLk9jdGF2ZSxzPXRoaXMuY3VycmVudEFsdGVyYXRpb25zQ29tcGFyZWRUb0tleUluc3RydWN0aW9uTGlzdC5pbmRleE9mKGkpPj0wO3RoaXMuY3VycmVudEluTWVhc3VyZU5vdGVBbHRlcmF0aW9uc0RpY3QuY29udGFpbnNLZXkoaSk/KHMmJnRoaXMuY3VycmVudEFsdGVyYXRpb25zQ29tcGFyZWRUb0tleUluc3RydWN0aW9uTGlzdC5zcGxpY2UodGhpcy5jdXJyZW50QWx0ZXJhdGlvbnNDb21wYXJlZFRvS2V5SW5zdHJ1Y3Rpb25MaXN0LmluZGV4T2YoaSksMSksdGhpcy5jdXJyZW50SW5NZWFzdXJlTm90ZUFsdGVyYXRpb25zRGljdC5nZXRWYWx1ZShpKSE9PWUuQWNjaWRlbnRhbEhhbGZUb25lcyYmKHRoaXMua2V5U2lnbmF0dXJlTm90ZUFsdGVyYXRpb25zRGljdC5jb250YWluc0tleShpKSYmdGhpcy5rZXlTaWduYXR1cmVOb3RlQWx0ZXJhdGlvbnNEaWN0LmdldFZhbHVlKGkpIT09ZS5BY2NpZGVudGFsSGFsZlRvbmVzPyh0aGlzLmN1cnJlbnRBbHRlcmF0aW9uc0NvbXBhcmVkVG9LZXlJbnN0cnVjdGlvbkxpc3QucHVzaChpKSx0aGlzLmN1cnJlbnRJbk1lYXN1cmVOb3RlQWx0ZXJhdGlvbnNEaWN0LnNldFZhbHVlKGksZS5BY2NpZGVudGFsSGFsZlRvbmVzKSk6dGhpcy5jdXJyZW50SW5NZWFzdXJlTm90ZUFsdGVyYXRpb25zRGljdC5yZW1vdmUoaSksZS5BY2NpZGVudGFsPT09bi5BY2NpZGVudGFsRW51bS5OT05FJiYoZT1uZXcgci5QaXRjaChlLkZ1bmRhbWVudGFsTm90ZSxlLk9jdGF2ZSxuLkFjY2lkZW50YWxFbnVtLk5BVFVSQUwpKSxhLk11c2ljU2hlZXRDYWxjdWxhdG9yLnN5bWJvbEZhY3RvcnkuYWRkR3JhcGhpY2FsQWNjaWRlbnRhbCh0LGUpKSk6ZS5BY2NpZGVudGFsIT09bi5BY2NpZGVudGFsRW51bS5OT05FPyhzfHx0aGlzLmN1cnJlbnRBbHRlcmF0aW9uc0NvbXBhcmVkVG9LZXlJbnN0cnVjdGlvbkxpc3QucHVzaChpKSx0aGlzLmN1cnJlbnRJbk1lYXN1cmVOb3RlQWx0ZXJhdGlvbnNEaWN0LnNldFZhbHVlKGksZS5BY2NpZGVudGFsSGFsZlRvbmVzKSxhLk11c2ljU2hlZXRDYWxjdWxhdG9yLnN5bWJvbEZhY3RvcnkuYWRkR3JhcGhpY2FsQWNjaWRlbnRhbCh0LGUpKTpzJiYoZT1uZXcgci5QaXRjaChlLkZ1bmRhbWVudGFsTm90ZSxlLk9jdGF2ZSxuLkFjY2lkZW50YWxFbnVtLk5BVFVSQUwpLHRoaXMuY3VycmVudEFsdGVyYXRpb25zQ29tcGFyZWRUb0tleUluc3RydWN0aW9uTGlzdC5zcGxpY2UodGhpcy5jdXJyZW50QWx0ZXJhdGlvbnNDb21wYXJlZFRvS2V5SW5zdHJ1Y3Rpb25MaXN0LmluZGV4T2YoaSksMSksYS5NdXNpY1NoZWV0Q2FsY3VsYXRvci5zeW1ib2xGYWN0b3J5LmFkZEdyYXBoaWNhbEFjY2lkZW50YWwodCxlKSl9cmVhY3RPbktleUluc3RydWN0aW9uQ2hhbmdlKCl7Y29uc3QgdD10aGlzLmFjdGl2ZUtleUluc3RydWN0aW9uLkFsdGVyYXRlZE5vdGVzO2xldCBlO2U9dGhpcy5hY3RpdmVLZXlJbnN0cnVjdGlvbi5LZXk+MD9uLkFjY2lkZW50YWxFbnVtLlNIQVJQOm4uQWNjaWRlbnRhbEVudW0uRkxBVCx0aGlzLmtleVNpZ25hdHVyZU5vdGVBbHRlcmF0aW9uc0RpY3QuY2xlYXIoKSx0aGlzLmN1cnJlbnRBbHRlcmF0aW9uc0NvbXBhcmVkVG9LZXlJbnN0cnVjdGlvbkxpc3QubGVuZ3RoPTA7Zm9yKGxldCBpPS05O2k8OTtpKyspZm9yKGxldCBzPTA7czx0Lmxlbmd0aDtzKyspdGhpcy5rZXlTaWduYXR1cmVOb3RlQWx0ZXJhdGlvbnNEaWN0LnNldFZhbHVlKHRbc10rMTIqaSxyLlBpdGNoLkhhbGZUb25lc0Zyb21BY2NpZGVudGFsKGUpKTt0aGlzLmRvQ2FsY3VsYXRpb25zQXRFbmRPZk1lYXN1cmUoKX19fSxmdW5jdGlvbih0LGUsaSl7XCJ1c2Ugc3RyaWN0XCI7T2JqZWN0LmRlZmluZVByb3BlcnR5KGUsXCJfX2VzTW9kdWxlXCIse3ZhbHVlOiEwfSk7Y29uc3Qgcz1pKDYpO2NsYXNzIG4gZXh0ZW5kcyBzLkFic3RyYWN0RXhwcmVzc2lvbntjb25zdHJ1Y3Rvcih0LGUsaSxzKXtzdXBlcihlKSx0aGlzLmxhYmVsPXQsdGhpcy5zdGFmZk51bWJlcj1pLHRoaXMucGFyZW50TXVsdGlUZW1wb0V4cHJlc3Npb249c31nZXQgTGFiZWwoKXtyZXR1cm4gdGhpcy5sYWJlbH1zZXQgTGFiZWwodCl7dGhpcy5sYWJlbD10fWdldCBQbGFjZW1lbnQoKXtyZXR1cm4gdGhpcy5wbGFjZW1lbnR9c2V0IFBsYWNlbWVudCh0KXt0aGlzLnBsYWNlbWVudD10fWdldCBTdGFmZk51bWJlcigpe3JldHVybiB0aGlzLnN0YWZmTnVtYmVyfXNldCBTdGFmZk51bWJlcih0KXt0aGlzLnN0YWZmTnVtYmVyPXR9Z2V0IFBhcmVudE11bHRpVGVtcG9FeHByZXNzaW9uKCl7cmV0dXJuIHRoaXMucGFyZW50TXVsdGlUZW1wb0V4cHJlc3Npb259c3RhdGljIGlzU3RyaW5nSW5TdHJpbmdMaXN0KHQsZSl7Zm9yKGNvbnN0IGkgb2YgdClpZihuLnN0cmluZ0NvbnRhaW5zU2VwYXJhdGVkV29yZChlLnRvTG93ZXJDYXNlKCkudHJpbSgpLGkudG9Mb3dlckNhc2UoKS50cmltKCkpKXJldHVybiEwO3JldHVybiExfXN0YXRpYyBzdHJpbmdDb250YWluc1NlcGFyYXRlZFdvcmQodCxlKXtyZXR1cm4gdD09PWV8fC0xIT09dC5pbmRleE9mKFwiIFwiK2UpfHwtMSE9PXQuaW5kZXhPZihlK1wiIFwiKX19ZS5BYnN0cmFjdFRlbXBvRXhwcmVzc2lvbj1ufSxmdW5jdGlvbih0LGUsaSl7XCJ1c2Ugc3RyaWN0XCI7dmFyIHM9dGhpcyYmdGhpcy5fX2ltcG9ydERlZmF1bHR8fGZ1bmN0aW9uKHQpe3JldHVybiB0JiZ0Ll9fZXNNb2R1bGU/dDp7ZGVmYXVsdDp0fX07T2JqZWN0LmRlZmluZVByb3BlcnR5KGUsXCJfX2VzTW9kdWxlXCIse3ZhbHVlOiEwfSk7Y29uc3Qgbj1pKDM4KSxyPWkoNiksbz1zKGkoMSkpO2NsYXNzIGEgZXh0ZW5kcyBuLkFic3RyYWN0R3JhcGhpY2FsRXhwcmVzc2lvbntjb25zdHJ1Y3Rvcih0LGUsaSxzLG4pe3N1cGVyKHQsbmV3IHIuQWJzdHJhY3RFeHByZXNzaW9uKGkpLHMpLHRoaXMubGFiZWw9ZSx0aGlzLnNvdXJjZU11bHRpRXhwcmVzc2lvbj1ufXVwZGF0ZVNreUJvdHRvbUxpbmUoKXtjb25zdCB0PXRoaXMucGFyZW50U3RhZmZMaW5lLlNreUJvdHRvbUxpbmVDYWxjdWxhdG9yLGU9dGhpcy5sYWJlbC5Qb3NpdGlvbkFuZFNoYXBlLlJlbGF0aXZlUG9zaXRpb24ueCt0aGlzLmxhYmVsLlBvc2l0aW9uQW5kU2hhcGUuQm9yZGVyTWFyZ2luTGVmdCxpPXRoaXMubGFiZWwuUG9zaXRpb25BbmRTaGFwZS5SZWxhdGl2ZVBvc2l0aW9uLngrdGhpcy5sYWJlbC5Qb3NpdGlvbkFuZFNoYXBlLkJvcmRlck1hcmdpblJpZ2h0O3N3aXRjaCh0aGlzLlBsYWNlbWVudCl7Y2FzZSByLlBsYWNlbWVudEVudW0uQWJvdmU6Y29uc3Qgcz10aGlzLmxhYmVsLlBvc2l0aW9uQW5kU2hhcGUuQm9yZGVyTWFyZ2luVG9wK3RoaXMubGFiZWwuUG9zaXRpb25BbmRTaGFwZS5SZWxhdGl2ZVBvc2l0aW9uLnk7dC51cGRhdGVTa3lMaW5lSW5SYW5nZShlLGkscyk7YnJlYWs7Y2FzZSByLlBsYWNlbWVudEVudW0uQmVsb3c6Y29uc3Qgbj10aGlzLmxhYmVsLlBvc2l0aW9uQW5kU2hhcGUuQm9yZGVyTWFyZ2luQm90dG9tK3RoaXMubGFiZWwuUG9zaXRpb25BbmRTaGFwZS5SZWxhdGl2ZVBvc2l0aW9uLnk7dC51cGRhdGVCb3R0b21MaW5lSW5SYW5nZShlLGksbik7YnJlYWs7ZGVmYXVsdDpvLmRlZmF1bHQuZXJyb3IoXCJQbGFjZW1lbnQgZm9yIEdyYXBoaWNhbFVua25vd25FeHByZXNzaW9uIGlzIHVua25vd25cIil9fX1lLkdyYXBoaWNhbFVua25vd25FeHByZXNzaW9uPWF9LGZ1bmN0aW9uKHQsZSxpKXtcInVzZSBzdHJpY3RcIjt2YXIgcz10aGlzJiZ0aGlzLl9faW1wb3J0RGVmYXVsdHx8ZnVuY3Rpb24odCl7cmV0dXJuIHQmJnQuX19lc01vZHVsZT90OntkZWZhdWx0OnR9fTtPYmplY3QuZGVmaW5lUHJvcGVydHkoZSxcIl9fZXNNb2R1bGVcIix7dmFsdWU6ITB9KTtjb25zdCBuPWkoMTQpLHI9aSg5Niksbz1pKDExNiksYT1pKDY0KSxoPXMoaSgxMCkpLGw9cyhpKDEpKSxjPWkoMTkpLHU9aSgxMDkpLGQ9aSgxMTApLGY9aSgxMjMpLG09aSgxMjEpLHA9aSg3KSxnPWkoMTE0KSxiPWkoNjcpLFM9aSgzNCkseT1pKDE3MCk7Y2xhc3MgeCBleHRlbmRzIG4uTXVzaWNTaGVldENhbGN1bGF0b3J7Y29uc3RydWN0b3IodCl7c3VwZXIoKSx0aGlzLmJlYW1zTmVlZFVwZGF0ZT0hMSx0aGlzLnJ1bGVzPXQsbi5NdXNpY1NoZWV0Q2FsY3VsYXRvci5zeW1ib2xGYWN0b3J5PW5ldyByLlZleEZsb3dHcmFwaGljYWxTeW1ib2xGYWN0b3J5LG4uTXVzaWNTaGVldENhbGN1bGF0b3IuVGV4dE1lYXN1cmVyPW5ldyBhLlZleEZsb3dUZXh0TWVhc3VyZXIodGhpcy5ydWxlcyksbi5NdXNpY1NoZWV0Q2FsY3VsYXRvci5zdGFmZmxpbmVOb3RlQ2FsY3VsYXRvcj1uZXcgeS5WZXhmbG93U3RhZmZsaW5lTm90ZUNhbGN1bGF0b3IodGhpcy5ydWxlcyl9Y2xlYXJSZWNyZWF0ZWRPYmplY3RzKCl7c3VwZXIuY2xlYXJSZWNyZWF0ZWRPYmplY3RzKCksbi5NdXNpY1NoZWV0Q2FsY3VsYXRvci5zdGFmZmxpbmVOb3RlQ2FsY3VsYXRvcj1uZXcgeS5WZXhmbG93U3RhZmZsaW5lTm90ZUNhbGN1bGF0b3IodGhpcy5ydWxlcyk7Zm9yKGNvbnN0IHQgb2YgdGhpcy5ncmFwaGljYWxNdXNpY1NoZWV0Lk1lYXN1cmVMaXN0KWZvcihjb25zdCBlIG9mIHQpZS5jbGVhbigpfWZvcm1hdE1lYXN1cmVzKCl7Zm9yKGNvbnN0IHQgb2YgdGhpcy5ncmFwaGljYWxNdXNpY1NoZWV0Lk1lYXN1cmVMaXN0KXt0WzBdLmZvcm1hdCgpO2Zvcihjb25zdCBlIG9mIHQpe2Zvcihjb25zdCB0IG9mIGUuc3RhZmZFbnRyaWVzKXQuY2FsY3VsYXRlWFBvc2l0aW9uKCk7dGhpcy5iZWFtc05lZWRVcGRhdGUmJmUuZmluYWxpemVCZWFtcygpfX10aGlzLmJlYW1zTmVlZFVwZGF0ZT0hMX1jYWxjdWxhdGVNZWFzdXJlWExheW91dCh0KXtjb25zdCBlPVtdO2Zvcihjb25zdCBpIG9mIHQpZS5wdXNoKGkpO3Q9ZTtjb25zdCBpPVtdLHM9bmV3IGguZGVmYXVsdC5GbG93LkZvcm1hdHRlcjtmb3IoY29uc3QgZSBvZiB0KXtjb25zdCB0PWUudmZWb2ljZXMsbj1bXTtmb3IoY29uc3QgZSBpbiB0KXQuaGFzT3duUHJvcGVydHkoZSkmJihuLnB1c2godFtlXSksaS5wdXNoKHRbZV0pKTswIT09bi5sZW5ndGg/cy5qb2luVm9pY2VzKG4pOmwuZGVmYXVsdC5kZWJ1ZyhcIkZvdW5kIGEgbWVhc3VyZSB3aXRoIG5vIHZvaWNlcy4gQ29udGludWluZyBhbnl3YXkuXCIsdCl9bGV0IHI9MTI7aWYoaS5sZW5ndGg+MCl7cj1zLnByZUNhbGN1bGF0ZU1pblRvdGFsV2lkdGgoaSkvYy51bml0SW5QaXhlbHMrNSxuLk11c2ljU2hlZXRDYWxjdWxhdG9yLnNldE1lYXN1cmVzTWluU3RhZmZFbnRyaWVzV2lkdGgodCxyKTtjb25zdCBlPXQ9PntzLmZvcm1hdChpLHQpfSxvPXQ9PntzLmZvcm1hdChpLHQse2FsaWduX3Jlc3RzOiEwLGNvbnRleHQ6dm9pZCAwfSl9O2Zvcihjb25zdCBpIG9mIHQpe2lmKHRoaXMucnVsZXMuQWxpZ25SZXN0cz09PVMuQWxpZ25SZXN0T3B0aW9uLk5ldmVyKWkuZm9ybWF0Vm9pY2VzPWU7ZWxzZSBpZih0aGlzLnJ1bGVzLkFsaWduUmVzdHM9PT1TLkFsaWduUmVzdE9wdGlvbi5BbHdheXMpaS5mb3JtYXRWb2ljZXM9bztlbHNlIGlmKHRoaXMucnVsZXMuQWxpZ25SZXN0cz09PVMuQWxpZ25SZXN0T3B0aW9uLkF1dG8pe2xldCB0PSExO2Zvcihjb25zdCBlIG9mIGkuc3RhZmZFbnRyaWVzKXtsZXQgaT0wLHM9MDtmb3IoY29uc3QgbiBvZiBlLmdyYXBoaWNhbFZvaWNlRW50cmllcylpZihuLnBhcmVudFZvaWNlRW50cnkuSXNHcmFjZXx8biYmbi5ub3RlcyYmbi5ub3Rlc1swXSYmbi5ub3Rlc1swXS5zb3VyY2VOb3RlJiZuLm5vdGVzWzBdLnNvdXJjZU5vdGUuUHJpbnRPYmplY3QmJmkrKyxuJiZuLm5vdGVzJiZuLm5vdGVzWzBdJiZuLm5vdGVzWzBdLnNvdXJjZU5vdGUmJm4ubm90ZXNbMF0uc291cmNlTm90ZS5pc1Jlc3QoKSYmbi5ub3Rlc1swXS5zb3VyY2VOb3RlLlByaW50T2JqZWN0JiZzKyssaT4xJiZzPj0xKXt0PSEwO2JyZWFrfWlmKHQpYnJlYWt9aS5mb3JtYXRWb2ljZXM9dD9vOmV9aWYoaT09PXRbMF0pe2kuZm9ybWF0Vm9pY2VzKHIqYy51bml0SW5QaXhlbHMpfX19Zm9yKGNvbnN0IGUgb2YgdClmb3IoY29uc3QgdCBvZiBlLnN0YWZmRW50cmllcyl0LmNhbGN1bGF0ZVhQb3NpdGlvbigpO3JldHVybiByfWNhbGN1bGF0ZU1lYXN1cmVXaWR0aEZyb21MeXJpY3ModCxlKXtsZXQgaT0xO2Zvcihjb25zdCBzIG9mIHQpe2NvbnN0IHQ9e307Zm9yKGxldCBuPTA7bjxzLnN0YWZmRW50cmllcy5sZW5ndGg7bisrKXtjb25zdCByPXMuc3RhZmZFbnRyaWVzW25dO2lmKDAhPT1yLkx5cmljc0VudHJpZXMubGVuZ3RoKWZvcihsZXQgbj0wO248ci5MeXJpY3NFbnRyaWVzLmxlbmd0aDtuKyspe2NvbnN0IG89ci5MeXJpY3NFbnRyaWVzW25dLGE9by5HcmFwaGljYWxMYWJlbC5MYWJlbC50ZXh0QWxpZ25tZW50O2xldCBoPXRoaXMucnVsZXMuSG9yaXpvbnRhbEJldHdlZW5MeXJpY3NEaXN0YW5jZSxsPXRoaXMucnVsZXMuTHlyaWNPdmVybGFwQWxsb3dlZEludG9OZXh0TWVhc3VyZTtpZihvLlBhcmVudEx5cmljV29yZCl7by5MeXJpY3NFbnRyeS5TeWxsYWJsZUluZGV4PjAmJihoPXRoaXMucnVsZXMuQmV0d2VlblN5bGxhYmxlTWluaW11bURpc3RhbmNlLHAuVGV4dEFsaWdubWVudC5Jc0NlbnRlckFsaWduZWQoby5HcmFwaGljYWxMYWJlbC5MYWJlbC50ZXh0QWxpZ25tZW50KSYmKGgrPTEpKTtjb25zdCB0PW8uUGFyZW50THlyaWNXb3JkLkdldEx5cmljV29yZC5TeWxsYWJsZXM7dC5sZW5ndGg+MSYmby5MeXJpY3NFbnRyeS5TeWxsYWJsZUluZGV4PHQubGVuZ3RoLTEmJih2b2lkIDA9PT10aGlzLmRhc2hTcGFjZSYmKHRoaXMuZGFzaFNwYWNlPTEuNSksbC09dGhpcy5kYXNoU3BhY2UpfWNvbnN0IGM9by5HcmFwaGljYWxMYWJlbC5Qb3NpdGlvbkFuZFNoYXBlLHU9Yy5TaXplLndpZHRoLGQ9ci5Qb3NpdGlvbkFuZFNoYXBlLlJlbGF0aXZlUG9zaXRpb24ueCtjLkJvcmRlck1hcmdpbkxlZnQ7bGV0IGYsbSxnLGI7dFtuXSYmdFtuXS5leHRlbmQsdFtuXSYmKG09ZC10W25dLmx5cmljc1hQb3NpdGlvbik7Y29uc3QgUz1lKmk7cC5UZXh0QWxpZ25tZW50LklzQ2VudGVyQWxpZ25lZChhKT8obC89NCxnPVMtZCxiPXUvMi1sLHRbbl0mJihmPXRbbl0ubGFiZWxXaWR0aC8yK3UvMitoKSk6cC5UZXh0QWxpZ25tZW50LklzTGVmdChhKSYmKGc9Uy1kLGI9dS1sLHRbbl0mJihmPXRbbl0ubGFiZWxXaWR0aCtoKSk7bGV0IHk9MTtjb25zdCB4PWIvZztsZXQgRT0xO2lmKHRbbl0pe2NvbnN0IGU9dFtuXS5zb3VyY2VOb3RlRHVyYXRpb247RT1mL20sZS5EZW5vbWluYXRvcj40JiYoRSo9MS4xKX15PU1hdGgubWF4KHgsRSksaT1NYXRoLm1heChpLHkpLHRbbl09e2V4dGVuZDpvLkx5cmljc0VudHJ5LmV4dGVuZCxsYWJlbFdpZHRoOnUsbHlyaWNzWFBvc2l0aW9uOmQsbWVhc3VyZU51bWJlcjpzLk1lYXN1cmVOdW1iZXIsc291cmNlTm90ZUR1cmF0aW9uOm8uTHlyaWNzRW50cnkuUGFyZW50Lk5vdGVzWzBdLkxlbmd0aCx0ZXh0Om8uTHlyaWNzRW50cnkuVGV4dH19fX1yZXR1cm4gZSppfWNyZWF0ZUdyYXBoaWNhbFRpZSh0LGUsaSxzLG4pe3JldHVybiBuZXcgby5HcmFwaGljYWxUaWUodCxzLG4pfXVwZGF0ZVN0YWZmTGluZUJvcmRlcnModCl7dC5Ta3lCb3R0b21MaW5lQ2FsY3VsYXRvci51cGRhdGVTdGFmZkxpbmVCb3JkZXJzKCl9Z3JhcGhpY2FsTWVhc3VyZUNyZWF0ZWRDYWxjdWxhdGlvbnModCl7dC5ydWxlcz10aGlzLnJ1bGVzLHQuZ3JhcGhpY2FsTWVhc3VyZUNyZWF0ZWRDYWxjdWxhdGlvbnMoKX1sYXlvdXRWb2ljZUVudHJ5KHQsZSxpLHMpe31sYXlvdXRTdGFmZkVudHJ5KHQpe3QucGFyZW50TWVhc3VyZS5sYXlvdXRTdGFmZkVudHJ5KHQpfWluaXRHcmFwaGljYWxNZWFzdXJlc0NyZWF0aW9uKCl7fWxheW91dEFydGljdWxhdGlvbk1hcmtzKHQsZSxpKXt9bGF5b3V0R3JhcGhpY2FsVGllKHQsZSl7Y29uc3QgaT10LlN0YXJ0Tm90ZSxzPXQuRW5kTm90ZTtsZXQgbj12b2lkIDAscj0wO2kmJmkudmZub3RlJiZpLnZmbm90ZS5sZW5ndGg+PTImJihuPWkudmZub3RlWzBdLHI9aS52Zm5vdGVbMV0pO2xldCBvPXZvaWQgMCxhPTA7aWYocyYmcy52Zm5vdGUmJnMudmZub3RlLmxlbmd0aD49MiYmKG89cy52Zm5vdGVbMF0sYT1zLnZmbm90ZVsxXSksZSl7aWYobil7Y29uc3QgdD1uZXcgaC5kZWZhdWx0LkZsb3cuU3RhdmVUaWUoe2ZpcnN0X2luZGljZXM6W3JdLGZpcnN0X25vdGU6bn0pO2kucGFyZW50Vm9pY2VFbnRyeS5wYXJlbnRTdGFmZkVudHJ5LnBhcmVudE1lYXN1cmUudmZUaWVzLnB1c2godCl9aWYobyl7Y29uc3QgdD1uZXcgaC5kZWZhdWx0LkZsb3cuU3RhdmVUaWUoe2xhc3RfaW5kaWNlczpbYV0sbGFzdF9ub3RlOm99KTtzLnBhcmVudFZvaWNlRW50cnkucGFyZW50U3RhZmZFbnRyeS5wYXJlbnRNZWFzdXJlLnZmVGllcy5wdXNoKHQpfX1lbHNlIGlmKG58fG8pe2NvbnN0IHQ9bmV3IGguZGVmYXVsdC5GbG93LlN0YXZlVGllKHtmaXJzdF9pbmRpY2VzOltyXSxmaXJzdF9ub3RlOm4sbGFzdF9pbmRpY2VzOlthXSxsYXN0X25vdGU6b30pO3MucGFyZW50Vm9pY2VFbnRyeS5wYXJlbnRTdGFmZkVudHJ5LnBhcmVudE1lYXN1cmUudmZUaWVzLnB1c2godCl9fWNhbGN1bGF0ZUR5bmFtaWNFeHByZXNzaW9uc0Zvck11bHRpRXhwcmVzc2lvbih0LGUsaSl7aWYoZTx0aGlzLnJ1bGVzLk1pbk1lYXN1cmVUb0RyYXdJbmRleHx8ZT50aGlzLnJ1bGVzLk1heE1lYXN1cmVUb0RyYXdJbmRleClyZXR1cm47Y29uc3Qgcz10LkFic29sdXRlVGltZXN0YW1wLG49dGhpcy5ncmFwaGljYWxNdXNpY1NoZWV0Lk1lYXN1cmVMaXN0W2VdLHI9bltpXS5QYXJlbnRTdGFmZkxpbmUsbz1uW2ldLGE9dGhpcy5nZXRSZWxhdGl2ZVBvc2l0aW9uSW5TdGFmZkxpbmVGcm9tVGltZXN0YW1wKHMsaSxyLG51bGw9PXI/dm9pZCAwOnIuaXNQYXJ0T2ZNdWx0aVN0YWZmSW5zdHJ1bWVudCgpKSxoPWE7aWYoYS54PD0wJiYoaC54PW8uYmVnaW5JbnN0cnVjdGlvbnNXaWR0aCt0aGlzLnJ1bGVzLlJoeXRobVJpZ2h0TWFyZ2luKSx0Lkluc3RhbnRhbmVvdXNEeW5hbWljKXtjb25zdCBlPW5ldyBtLlZleEZsb3dJbnN0YW50YW5lb3VzRHluYW1pY0V4cHJlc3Npb24odC5JbnN0YW50YW5lb3VzRHluYW1pYyxyLG8pO3RoaXMuY2FsY3VsYXRlR3JhcGhpY2FsSW5zdGFudGFuZW91c0R5bmFtaWNFeHByZXNzaW9uKGUsaCl9aWYodC5TdGFydGluZ0NvbnRpbnVvdXNEeW5hbWljKXtjb25zdCBlPXQuU3RhcnRpbmdDb250aW51b3VzRHluYW1pYyxpPW5ldyBiLlZleEZsb3dDb250aW51b3VzRHluYW1pY0V4cHJlc3Npb24odC5TdGFydGluZ0NvbnRpbnVvdXNEeW5hbWljLHIsby5wYXJlbnRTb3VyY2VNZWFzdXJlKTtpZihpLlN0YXJ0TWVhc3VyZT1vLCFpLklzVmVyYmFsJiZlLkVuZE11bHRpRXhwcmVzc2lvbil0cnl7dGhpcy5jYWxjdWxhdGVHcmFwaGljYWxDb250aW51b3VzRHluYW1pYyhpLGgpfWNhdGNoKHQpe31lbHNlIGkuSXNWZXJiYWw/dGhpcy5jYWxjdWxhdGVHcmFwaGljYWxWZXJiYWxDb250aW51b3VzRHluYW1pYyhpLGgpOmwuZGVmYXVsdC53YXJuKFwiVGhpcyBjb250aW51b3VzIGR5bmFtaWMgaXMgbm90IGNvdmVyZWRcIil9fWNyZWF0ZU1ldHJvbm9tZU1hcmsodCl7Y29uc3QgZT10aGlzLmdyYXBoaWNhbE11c2ljU2hlZXQuTWVhc3VyZUxpc3RbMF1bMF0uZ2V0VkZTdGF2ZSgpO2Uuc2V0VGVtcG8oe2JwbTp0LlRlbXBvSW5CcG0sZG90czp0LmRvdHRlZCxkdXJhdGlvbjpcInFcIn0sdGhpcy5ydWxlcy5NZXRyb25vbWVNYXJrWVNoaWZ0KmMudW5pdEluUGl4ZWxzKSxlLmdldE1vZGlmaWVycygpW2UuZ2V0TW9kaWZpZXJzKCkubGVuZ3RoLTFdLnNldFNoaWZ0WCh0aGlzLnJ1bGVzLk1ldHJvbm9tZU1hcmtYU2hpZnQqYy51bml0SW5QaXhlbHMpO2NvbnN0IGk9dGhpcy5ncmFwaGljYWxNdXNpY1NoZWV0Lk1lYXN1cmVMaXN0WzBdWzBdLlBhcmVudFN0YWZmTGluZS5Ta3lMaW5lO2lbMF09TWF0aC5taW4oaVswXSwtNC41K3RoaXMucnVsZXMuTWV0cm9ub21lTWFya1lTaGlmdCl9Y2FsY3VsYXRlU2luZ2xlT2N0YXZlU2hpZnQodCxlLGkscyl7dmFyIG47Y29uc3Qgcj1lLk9jdGF2ZVNoaWZ0U3RhcnQsbz1yLlBhcmVudFN0YXJ0TXVsdGlFeHByZXNzaW9uLlRpbWVzdGFtcCxhPW51bGw9PT0obj1yLlBhcmVudEVuZE11bHRpRXhwcmVzc2lvbil8fHZvaWQgMD09PW4/dm9pZCAwOm4uVGltZXN0YW1wLGg9dGhpcy5ydWxlcy5NaW5NZWFzdXJlVG9EcmF3SW5kZXgsYz10aGlzLnJ1bGVzLk1heE1lYXN1cmVUb0RyYXdJbmRleDtsZXQgdT10aGlzLmdyYXBoaWNhbE11c2ljU2hlZXQuTWVhc3VyZUxpc3RbaV1bc10uUGFyZW50U3RhZmZMaW5lO3V8fCh1PXRoaXMuZ3JhcGhpY2FsTXVzaWNTaGVldC5NZWFzdXJlTGlzdFtoXVtzXS5QYXJlbnRTdGFmZkxpbmUpO2xldCBkPXZvaWQgMDtkPXIuUGFyZW50RW5kTXVsdGlFeHByZXNzaW9uP3RoaXMuZ3JhcGhpY2FsTXVzaWNTaGVldC5nZXRHcmFwaGljYWxNZWFzdXJlRnJvbVNvdXJjZU1lYXN1cmVBbmRJbmRleChyLlBhcmVudEVuZE11bHRpRXhwcmVzc2lvbi5Tb3VyY2VNZWFzdXJlUGFyZW50LHMpOnRoaXMuZ3JhcGhpY2FsTXVzaWNTaGVldC5nZXRMYXN0R3JhcGhpY2FsTWVhc3VyZUZyb21JbmRleChzLCEwKSxkLk1lYXN1cmVOdW1iZXI+YysxJiYoZD10aGlzLmdyYXBoaWNhbE11c2ljU2hlZXQuZ2V0TGFzdEdyYXBoaWNhbE1lYXN1cmVGcm9tSW5kZXgocywhMCkpO2xldCBtPXZvaWQgMDtpZihtPXIuUGFyZW50RW5kTXVsdGlFeHByZXNzaW9uP3RoaXMuZ3JhcGhpY2FsTXVzaWNTaGVldC5nZXRHcmFwaGljYWxNZWFzdXJlRnJvbVNvdXJjZU1lYXN1cmVBbmRJbmRleChyLlBhcmVudFN0YXJ0TXVsdGlFeHByZXNzaW9uLlNvdXJjZU1lYXN1cmVQYXJlbnQscyk6dGhpcy5ncmFwaGljYWxNdXNpY1NoZWV0Lk1lYXN1cmVMaXN0W2hdW3NdLG0uTWVhc3VyZU51bWJlcjxoKzEmJihtPXRoaXMuZ3JhcGhpY2FsTXVzaWNTaGVldC5NZWFzdXJlTGlzdFtoXVtzXSksbS5NZWFzdXJlTnVtYmVyPGgrMXx8bS5NZWFzdXJlTnVtYmVyPmMrMXx8ZC5NZWFzdXJlTnVtYmVyPGgrMXx8ZC5NZWFzdXJlTnVtYmVyPmMrMSlyZXR1cm47bGV0IHA9ZC5QYXJlbnRTdGFmZkxpbmU7aWYocHx8KHA9dSksZCYmdSYmcCl7Y29uc3QgdD1uZXcgZi5WZXhGbG93T2N0YXZlU2hpZnQocix1LlBvc2l0aW9uQW5kU2hhcGUpO3QuZ2V0U3RhcnROb3RlKCl8fHQuc2V0U3RhcnROb3RlKG0uc3RhZmZFbnRyaWVzWzBdKSx0LmdldFN0YXJ0Tm90ZSgpfHx0LnNldEVuZE5vdGUoZC5zdGFmZkVudHJpZXMubGFzdCgpKSx1Lk9jdGF2ZVNoaWZ0cy5wdXNoKHQpO2xldCBlPW0uZmluZEdyYXBoaWNhbFN0YWZmRW50cnlGcm9tVGltZXN0YW1wKG8pO2V8fChlPW0uc3RhZmZFbnRyaWVzWzBdKTtsZXQgaT1kLmZpbmRHcmFwaGljYWxTdGFmZkVudHJ5RnJvbVRpbWVzdGFtcChhKTtpZihpfHwoaT1kLnN0YWZmRW50cmllc1tkLnN0YWZmRW50cmllcy5sZW5ndGgtMV0pLHQuc2V0U3RhcnROb3RlKGUpLHAhPT11KXt0LmVuZHNPbkRpZmZlcmVudFN0YWZmTGluZT0hMDtsZXQgcz11Lk1lYXN1cmVzW3UuTWVhc3VyZXMubGVuZ3RoLTFdO3N8fChzPWQpO2NvbnN0IG49cy5zdGFmZkVudHJpZXNbcy5zdGFmZkVudHJpZXMubGVuZ3RoLTFdO3Quc2V0RW5kTm90ZShuKTtjb25zdCBvPW5ldyBmLlZleEZsb3dPY3RhdmVTaGlmdChyLGQuUG9zaXRpb25BbmRTaGFwZSk7cC5PY3RhdmVTaGlmdHMucHVzaChvKTtsZXQgYT1wLk1lYXN1cmVzWzBdO2F8fChhPW0pO2NvbnN0IGg9YS5zdGFmZkVudHJpZXNbMF07by5zZXRTdGFydE5vdGUoaCksby5zZXRFbmROb3RlKGkpLHRoaXMuY2FsY3VsYXRlT2N0YXZlU2hpZnRTa3lCb3R0b21MaW5lKGUsbix0LHUpLHRoaXMuY2FsY3VsYXRlT2N0YXZlU2hpZnRTa3lCb3R0b21MaW5lKGgsaSxvLHApfWVsc2UgdC5zZXRFbmROb3RlKGkpLHRoaXMuY2FsY3VsYXRlT2N0YXZlU2hpZnRTa3lCb3R0b21MaW5lKGUsaSx0LHUpfWVsc2UgbC5kZWZhdWx0Lndhcm4oXCJFbmQgbWVhc3VyZSBvciBzdGFmZkxpbmVzIGZvciBvY3RhdmUgc2hpZnQgYXJlIHVuZGVmaW5lZCEgVGhpcyBzaG91bGQgbm90IGhhcHBlbiFcIil9Y2FsY3VsYXRlT2N0YXZlU2hpZnRTa3lCb3R0b21MaW5lKHQsZSxpLHMpe2NvbnN0IG49dC5Qb3NpdGlvbkFuZFNoYXBlLkFic29sdXRlUG9zaXRpb24ueC10LlBvc2l0aW9uQW5kU2hhcGUuU2l6ZS53aWR0aC8yLHI9ZS5Qb3NpdGlvbkFuZFNoYXBlLkFic29sdXRlUG9zaXRpb24ueCtlLlBvc2l0aW9uQW5kU2hhcGUuU2l6ZS53aWR0aC8yO2kuUG9zaXRpb25BbmRTaGFwZS5TaXplLndpZHRoPW4tcjtjb25zdCBvPWkuZ2V0VGV4dEJyYWNrZXQoKSxhPW8uZm9udC5zaXplLzEwO2lmKDE9PT1vLnBvc2l0aW9uKXtjb25zdCB0PU1hdGguY2VpbChzLlNreUJvdHRvbUxpbmVDYWxjdWxhdG9yLmdldFNreUxpbmVNaW5JblJhbmdlKG4scikpO2lmKHQ9PT0xLzApcmV0dXJuO28uc3RhcnQuZ2V0U3RhdmUoKS5vcHRpb25zLnRvcF90ZXh0X3Bvc2l0aW9uPU1hdGguYWJzKHQpLHMuU2t5Qm90dG9tTGluZUNhbGN1bGF0b3IudXBkYXRlU2t5TGluZUluUmFuZ2UobixyLHQtMiphKX1lbHNle2NvbnN0IHQ9cy5Ta3lCb3R0b21MaW5lQ2FsY3VsYXRvci5nZXRCb3R0b21MaW5lTWF4SW5SYW5nZShuLHIpO2lmKHQ9PT0xLzApcmV0dXJuO28uc3RhcnQuZ2V0U3RhdmUoKS5vcHRpb25zLmJvdHRvbV90ZXh0X3Bvc2l0aW9uPXQscy5Ta3lCb3R0b21MaW5lQ2FsY3VsYXRvci51cGRhdGVCb3R0b21MaW5lSW5SYW5nZShuLHIsdCsxLjUqYSl9fWNhbGN1bGF0ZVdvcmRSZXBldGl0aW9uSW5zdHJ1Y3Rpb24odCxlKXtsZXQgaT12b2lkIDA7Y29uc3Qgcz10aGlzLmdyYXBoaWNhbE11c2ljU2hlZXQuTWVhc3VyZUxpc3RbZV07Zm9yKGxldCB0PTAsZT1zLmxlbmd0aDt0PGU7Kyt0KXtjb25zdCBlPXNbdF07aWYoZS5QYXJlbnRTdGFmZkxpbmUmJmUuUGFyZW50U3RhZmYuUGFyZW50SW5zdHJ1bWVudC5WaXNpYmxlKXtpPWU7YnJlYWt9fWkmJmkuYWRkV29yZFJlcGV0aXRpb24odCl9Y2FsY3VsYXRlRXhwcmVzc2lvbkFsaWduZW1lbnRzKCl7Zm9yKGNvbnN0IHQgb2YgdGhpcy5tdXNpY1N5c3RlbXMpZm9yKGNvbnN0IGUgb2YgdC5TdGFmZkxpbmVzKXRyeXtlLkFsaWdubWVudE1hbmFnZXIuYWxpZ25EeW5hbWljRXhwcmVzc2lvbnMoKSxlLkFic3RyYWN0RXhwcmVzc2lvbnMuZm9yRWFjaCh0PT57dC51cGRhdGVTa3lCb3R0b21MaW5lKCl9KX1jYXRjaCh0KXt9fWhhbmRsZVRpZWRHcmFwaGljYWxOb3RlKHQsZSxpLHMsbixyLG8sYSl7fWhhbmRsZUJlYW0odCxlLGkpe3QucGFyZW50Vm9pY2VFbnRyeS5wYXJlbnRTdGFmZkVudHJ5LnBhcmVudE1lYXN1cmUuaGFuZGxlQmVhbSh0LGUpfWhhbmRsZVZvaWNlRW50cnlMeXJpY3ModCxlLGkpe3QuTHlyaWNzRW50cmllcy5mb3JFYWNoKCh0LHMpPT57Y29uc3Qgbj1uZXcgdS5HcmFwaGljYWxMeXJpY0VudHJ5KHMsZSx0aGlzLnJ1bGVzLkx5cmljc0hlaWdodCx0aGlzLnJ1bGVzLlN0YWZmSGVpZ2h0KTtpZihlLkx5cmljc0VudHJpZXMucHVzaChuKSxuLkdyYXBoaWNhbExhYmVsLnNldExhYmVsUG9zaXRpb25BbmRTaGFwZUJvcmRlcnMoKSxzLldvcmQpe2NvbnN0IHQ9cy5Xb3JkLlN5bGxhYmxlcy5pbmRleE9mKHMpO2xldCBlPWkuaW5kZXhPZihzLldvcmQpO2lmKC0xPT09ZSYmKGkucHVzaChzLldvcmQpLGU9aS5pbmRleE9mKHMuV29yZCkpLDA9PT10aGlzLmdyYXBoaWNhbEx5cmljV29yZHMubGVuZ3RofHxlPnRoaXMuZ3JhcGhpY2FsTHlyaWNXb3Jkcy5sZW5ndGgtMSl7Y29uc3QgZT1uZXcgZC5HcmFwaGljYWxMeXJpY1dvcmQocy5Xb3JkKTtuLlBhcmVudEx5cmljV29yZD1lLGUuR3JhcGhpY2FsTHlyaWNzRW50cmllc1t0XT1uLHRoaXMuZ3JhcGhpY2FsTHlyaWNXb3Jkcy5wdXNoKGUpfWVsc2V7Y29uc3Qgcz10aGlzLmdyYXBoaWNhbEx5cmljV29yZHNbZV07bi5QYXJlbnRMeXJpY1dvcmQ9cyxzLkdyYXBoaWNhbEx5cmljc0VudHJpZXNbdF09bixzLmlzRmlsbGVkKCkmJihpLnNwbGljZShlLDEpLHRoaXMuZ3JhcGhpY2FsTHlyaWNXb3Jkcy5zcGxpY2UodGhpcy5ncmFwaGljYWxMeXJpY1dvcmRzLmluZGV4T2YocyksMSkpfX19KX1oYW5kbGVWb2ljZUVudHJ5T3JuYW1lbnRzKHQsZSxpKXt9aGFuZGxlVm9pY2VFbnRyeUFydGljdWxhdGlvbnModCxlLGkpe31oYW5kbGVWb2ljZUVudHJ5VGVjaG5pY2FsSW5zdHJ1Y3Rpb25zKHQsZSxpKXt9aGFuZGxlVHVwbGV0KHQsZSxpKXt0LnBhcmVudFZvaWNlRW50cnkucGFyZW50U3RhZmZFbnRyeS5wYXJlbnRNZWFzdXJlLmhhbmRsZVR1cGxldCh0LGUpfWZpbmRJbmRleEdyYXBoaWNhbFNsdXJGcm9tU2x1cih0LGUpe2ZvcihsZXQgaT0wO2k8dC5sZW5ndGg7aSsrKWlmKHRbaV0uc2x1cj09PWUpcmV0dXJuIGk7cmV0dXJuLTF9Y2FsY3VsYXRlU2x1cnMoKXtjb25zdCB0PXt9O2Zvcihjb25zdCBlIG9mIHRoaXMuZ3JhcGhpY2FsTXVzaWNTaGVldC5NZWFzdXJlTGlzdFswXSl0W2UuUGFyZW50U3RhZmYuaWRJbk11c2ljU2hlZXRdPVtdO2Zvcihjb25zdCBlIG9mIHRoaXMubXVzaWNTeXN0ZW1zKWZvcihjb25zdCBpIG9mIGUuU3RhZmZMaW5lcyl7Y29uc3QgZT10W2kuUGFyZW50U3RhZmYuaWRJbk11c2ljU2hlZXRdO2ZvcihsZXQgdD0wO3Q8ZS5sZW5ndGg7dCsrKXtjb25zdCBzPWVbdF0sbj1uZXcgZy5HcmFwaGljYWxTbHVyKHMuc2x1cik7aS5hZGRTbHVyVG9TdGFmZmxpbmUobiksZVt0XT1ufWZvcihjb25zdCB0IG9mIGkuTWVhc3VyZXMpZm9yKGNvbnN0IHMgb2YgdC5zdGFmZkVudHJpZXMpe2Zvcihjb25zdCB0IG9mIHMuZ3JhcGhpY2FsVm9pY2VFbnRyaWVzKWZvcihjb25zdCBuIG9mIHQubm90ZXMpZm9yKGNvbnN0IHQgb2Ygbi5zb3VyY2VOb3RlLk5vdGVTbHVycylpZih0LkVuZE5vdGUmJnQuU3RhcnROb3RlKXtpZih0LlN0YXJ0Tm90ZT09PW4uc291cmNlTm90ZSl7aWYobi5zb3VyY2VOb3RlLk5vdGVUaWUmJm4ucGFyZW50Vm9pY2VFbnRyeS5wYXJlbnRTdGFmZkVudHJ5LmdldEFic29sdXRlVGltZXN0YW1wKCkhPT1uLnNvdXJjZU5vdGUuTm90ZVRpZS5TdGFydE5vdGUuZ2V0QWJzb2x1dGVUaW1lc3RhbXAoKSlicmVhaztjb25zdCBzPW5ldyBnLkdyYXBoaWNhbFNsdXIodCk7ZS5wdXNoKHMpLGkuYWRkU2x1clRvU3RhZmZsaW5lKHMpfWlmKHQuRW5kTm90ZT09PW4uc291cmNlTm90ZSl7Y29uc3QgaT10aGlzLmZpbmRJbmRleEdyYXBoaWNhbFNsdXJGcm9tU2x1cihlLHQpO2lmKGk+PTApe2NvbnN0IHQ9ZVtpXTstMT09PXQuc3RhZmZFbnRyaWVzLmluZGV4T2YocykmJnQuc3RhZmZFbnRyaWVzLnB1c2gocyksZS5zcGxpY2UoaSwxKX19fWZvcihjb25zdCB0IG9mIGUpLTE9PT10LnN0YWZmRW50cmllcy5pbmRleE9mKHMpJiZ0LnN0YWZmRW50cmllcy5wdXNoKHMpfX1mb3IoY29uc3QgdCBvZiB0aGlzLm11c2ljU3lzdGVtcylmb3IoY29uc3QgZSBvZiB0LlN0YWZmTGluZXMpe2NvbnN0IHQ9ZS5HcmFwaGljYWxTbHVycy5zb3J0KGcuR3JhcGhpY2FsU2x1ci5Db21wYXJlKTtmb3IoY29uc3QgZSBvZiB0KWUuc2x1ci5pc0Nyb3NzZWQoKXx8ZS5jYWxjdWxhdGVDdXJ2ZSh0aGlzLnJ1bGVzKX19fWUuVmV4Rmxvd011c2ljU2hlZXRDYWxjdWxhdG9yPXh9LGZ1bmN0aW9uKHQsZSxpKXtcInVzZSBzdHJpY3RcIjt2YXIgcz10aGlzJiZ0aGlzLl9faW1wb3J0RGVmYXVsdHx8ZnVuY3Rpb24odCl7cmV0dXJuIHQmJnQuX19lc01vZHVsZT90OntkZWZhdWx0OnR9fTtPYmplY3QuZGVmaW5lUHJvcGVydHkoZSxcIl9fZXNNb2R1bGVcIix7dmFsdWU6ITB9KTtjb25zdCBuPXMoaSgxMCkpLHI9aSg5Nyksbz1pKDcyKSxhPWkoMTI0KSxoPWkoMzEpLGw9aSg3MCksYz1pKDEwNyksdT1pKDczKSxkPWkoMTgpLGY9aSgxNjkpLG09aSgxMjUpO2UuVmV4Rmxvd0dyYXBoaWNhbFN5bWJvbEZhY3Rvcnk9Y2xhc3N7Y3JlYXRlTXVzaWNTeXN0ZW0odCxlKXtyZXR1cm4gbmV3IHIuVmV4Rmxvd011c2ljU3lzdGVtKHQsZSl9Y3JlYXRlU3RhZmZMaW5lKHQsZSl7cmV0dXJuIG5ldyBtLlZleEZsb3dTdGFmZkxpbmUodCxlKX1jcmVhdGVHcmFwaGljYWxNZWFzdXJlKHQsZSxpPSExKXtyZXR1cm4gbmV3IG8uVmV4Rmxvd01lYXN1cmUoZSx0LHZvaWQgMCl9Y3JlYXRlVGFiU3RhZmZNZWFzdXJlKHQsZSl7cmV0dXJuIG5ldyBmLlZleEZsb3dUYWJNZWFzdXJlKGUsdCl9Y3JlYXRlRXh0cmFHcmFwaGljYWxNZWFzdXJlKHQpe3JldHVybiBuZXcgby5WZXhGbG93TWVhc3VyZSh0LlBhcmVudFN0YWZmLHZvaWQgMCx0KX1jcmVhdGVTdGFmZkVudHJ5KHQsZSl7cmV0dXJuIG5ldyBhLlZleEZsb3dTdGFmZkVudHJ5KGUsdCx2b2lkIDApfWNyZWF0ZVZvaWNlRW50cnkodCxlKXtyZXR1cm4gbmV3IHUuVmV4Rmxvd1ZvaWNlRW50cnkodCxlKX1jcmVhdGVOb3RlKHQsZSxpLHM9aC5PY3RhdmVFbnVtLk5PTkUsbil7cmV0dXJuIG5ldyBsLlZleEZsb3dHcmFwaGljYWxOb3RlKHQsZSxpLHMsbil9Y3JlYXRlR3JhY2VOb3RlKHQsZSxpLHM9aC5PY3RhdmVFbnVtLk5PTkUpe3JldHVybiBuZXcgbC5WZXhGbG93R3JhcGhpY2FsTm90ZSh0LGUsaSxzKX1hZGRHcmFwaGljYWxBY2NpZGVudGFsKHQsZSl7dC5zZXRBY2NpZGVudGFsKGUpfWFkZEZlcm1hdGFBdFRpZWRFbmROb3RlKHQsZSl7fWNyZWF0ZUluU3RhZmZDbGVmKHQsZSl7Y29uc3QgaT10LHM9ZC5WZXhGbG93Q29udmVydGVyLkNsZWYoZSxcInNtYWxsXCIpO2kudmZDbGVmQmVmb3JlPW5ldyBuLmRlZmF1bHQuRmxvdy5DbGVmTm90ZShzLnR5cGUscy5zaXplLHMuYW5ub3RhdGlvbil9Y3JlYXRlQ2hvcmRTeW1ib2xzKHQsZSxpLHMpe2NvbnN0IG49ZS5wYXJlbnRNZWFzdXJlLnBhcmVudFNvdXJjZU1lYXN1cmUuUnVsZXM7bGV0IHI9MDtjb25zdCBvPW4uQ2hvcmRTeW1ib2xYU3BhY2luZztmb3IoY29uc3QgYSBvZiB0LkNob3JkQ29udGFpbmVycyl7Y29uc3QgdD1uZXcgYy5HcmFwaGljYWxDaG9yZFN5bWJvbENvbnRhaW5lcihhLGUuUG9zaXRpb25BbmRTaGFwZSxuLkNob3JkU3ltYm9sVGV4dEhlaWdodCxpLHMsZS5wYXJlbnRNZWFzdXJlLnBhcmVudFNvdXJjZU1lYXN1cmUuUnVsZXMpLGg9dC5HZXRHcmFwaGljYWxMYWJlbDtoLlBvc2l0aW9uQW5kU2hhcGUuUmVsYXRpdmVQb3NpdGlvbi55LT1uLkNob3JkU3ltYm9sWU9mZnNldCxoLlBvc2l0aW9uQW5kU2hhcGUuUmVsYXRpdmVQb3NpdGlvbi54Kz1yLGguc2V0TGFiZWxQb3NpdGlvbkFuZFNoYXBlQm9yZGVycygpLHQuUG9zaXRpb25BbmRTaGFwZS5jYWxjdWxhdGVCb3VuZGluZ0JveCgpLGUuZ3JhcGhpY2FsQ2hvcmRDb250YWluZXJzLnB1c2godCkscis9aC5Qb3NpdGlvbkFuZFNoYXBlLlNpemUud2lkdGgrb319Y3JlYXRlR3JhcGhpY2FsVGVjaG5pY2FsSW5zdHJ1Y3Rpb24odCxlKXt9fX0sZnVuY3Rpb24odCxlLGkpe1widXNlIHN0cmljdFwiO09iamVjdC5kZWZpbmVQcm9wZXJ0eShlLFwiX19lc01vZHVsZVwiLHt2YWx1ZTohMH0pO2NvbnN0IHM9aSg5OCksbj1pKDEwMCkscj1pKDE4KSxvPWkoNzEpLGE9aSgxMjIpO2NsYXNzIGggZXh0ZW5kcyBzLk11c2ljU3lzdGVte2NvbnN0cnVjdG9yKHQsZSl7c3VwZXIodCksdGhpcy5ydWxlcz1lfWNhbGN1bGF0ZUJvcmRlcnModCl7aWYoMD09PXRoaXMuc3RhZmZMaW5lcy5sZW5ndGgpcmV0dXJuO2NvbnN0IGU9dGhpcy5jYWxjQnJhY2tldHNXaWR0aCgpO3RoaXMuYm91bmRpbmdCb3guQm9yZGVyTGVmdD0tZSx0aGlzLmJvdW5kaW5nQm94LkJvcmRlck1hcmdpbkxlZnQ9LWUsdGhpcy5ib3VuZGluZ0JveC5YQm9yZGVyc0hhdmVCZWVuU2V0PSEwO2NvbnN0IGk9dGhpcy5zdGFmZkxpbmVzWzBdLlNreUJvdHRvbUxpbmVDYWxjdWxhdG9yLmdldFNreUxpbmVNaW4oKTt0aGlzLmJvdW5kaW5nQm94LkJvcmRlclRvcD1pLHRoaXMuYm91bmRpbmdCb3guQm9yZGVyTWFyZ2luVG9wPWk7Y29uc3Qgcz10aGlzLnN0YWZmTGluZXNbdGhpcy5zdGFmZkxpbmVzLmxlbmd0aC0xXSxuPXMuU2t5Qm90dG9tTGluZUNhbGN1bGF0b3IuZ2V0Qm90dG9tTGluZU1heCgpK3MuUG9zaXRpb25BbmRTaGFwZS5SZWxhdGl2ZVBvc2l0aW9uLnk7dGhpcy5ib3VuZGluZ0JveC5Cb3JkZXJCb3R0b209bix0aGlzLmJvdW5kaW5nQm94LkJvcmRlck1hcmdpbkJvdHRvbT1uLHRoaXMuYm91bmRpbmdCb3guWEJvcmRlcnNIYXZlQmVlblNldD0hMCx0aGlzLmJvdW5kaW5nQm94LllCb3JkZXJzSGF2ZUJlZW5TZXQ9ITB9Y3JlYXRlU3lzdGVtTGluZSh0LGUsaSxzLG8sYSxoKXtyZXR1cm4gYS5hZGRNZWFzdXJlTGluZShpLHMpLGgmJihoLmxpbmVUbyhhLHIuVmV4Rmxvd0NvbnZlcnRlci5saW5lKGkscykpLGguYWRkTWVhc3VyZUxpbmUoaSxzKSksbmV3IG4uU3lzdGVtTGluZShpLHMsdGhpcyxhLGgpfWNyZWF0ZUluc3RydW1lbnRCcmFja2V0KHQsZSl7Y29uc3QgaT10LHM9ZSxuPW5ldyBhLlZleEZsb3dJbnN0cnVtZW50QnJhY2UoaSxzKTt0aGlzLkluc3RydW1lbnRCcmFja2V0cy5wdXNoKG4pfWNyZWF0ZUdyb3VwQnJhY2tldCh0LGUsaSl7Y29uc3Qgcz10LG49ZTtpZigwPT09aSl7Y29uc3QgdD1uZXcgby5WZXhGbG93SW5zdHJ1bWVudEJyYWNrZXQocyxuLGkpO3RoaXMuR3JvdXBCcmFja2V0cy5wdXNoKHQpfWVsc2V7Y29uc3QgdD1uZXcgYS5WZXhGbG93SW5zdHJ1bWVudEJyYWNlKHMsbixpKTt0aGlzLkdyb3VwQnJhY2tldHMucHVzaCh0KX19fWUuVmV4Rmxvd011c2ljU3lzdGVtPWh9LGZ1bmN0aW9uKHQsZSxpKXtcInVzZSBzdHJpY3RcIjt2YXIgcz10aGlzJiZ0aGlzLl9faW1wb3J0RGVmYXVsdHx8ZnVuY3Rpb24odCl7cmV0dXJuIHQmJnQuX19lc01vZHVsZT90OntkZWZhdWx0OnR9fTtPYmplY3QuZGVmaW5lUHJvcGVydHkoZSxcIl9fZXNNb2R1bGVcIix7dmFsdWU6ITB9KTtjb25zdCBuPWkoNjApLHI9aSgzKSxvPWkoMCksYT1pKDcpLGg9aSgyMiksbD1pKDUpLGM9aSg0KSx1PWkoMzIpLGQ9cyhpKDEyKSksZj1pKDM2KSxtPWkoMTMpO2NsYXNzIHAgZXh0ZW5kcyBsLkdyYXBoaWNhbE9iamVjdHtjb25zdHJ1Y3Rvcih0KXtzdXBlcigpLHRoaXMubmVlZHNUb0JlUmVkcmF3bj0hMCx0aGlzLnN0YWZmTGluZXM9W10sdGhpcy5ncmFwaGljYWxNZWFzdXJlcz1bXSx0aGlzLmxhYmVscz1uZXcgZC5kZWZhdWx0LHRoaXMubWVhc3VyZU51bWJlckxhYmVscz1bXSx0aGlzLm9iamVjdHNUb1JlZHJhdz1bXSx0aGlzLmluc3RydW1lbnRCcmFja2V0cz1bXSx0aGlzLmdyb3VwQnJhY2tldHM9W10sdGhpcy5ncmFwaGljYWxNYXJrZWRBcmVhcz1bXSx0aGlzLmdyYXBoaWNhbENvbW1lbnRzPVtdLHRoaXMuc3lzdGVtTGluZXM9W10sdGhpcy5icmVha3NQYWdlPSExLHRoaXMuaWQ9dCx0aGlzLmJvdW5kaW5nQm94PW5ldyByLkJvdW5kaW5nQm94KHRoaXMpLHRoaXMubWF4TGFiZWxMZW5ndGg9MH1nZXQgUGFyZW50KCl7cmV0dXJuIHRoaXMucGFyZW50fXNldCBQYXJlbnQodCl7aWYodGhpcy5wYXJlbnQpe2NvbnN0IHQ9dGhpcy5wYXJlbnQuTXVzaWNTeXN0ZW1zLmluZGV4T2YodGhpcywwKTt0Pi0xJiZ0aGlzLnBhcmVudC5NdXNpY1N5c3RlbXMuc3BsaWNlKHQsMSl9dGhpcy5wYXJlbnQ9dCx0aGlzLmJvdW5kaW5nQm94LlBhcmVudD10LlBvc2l0aW9uQW5kU2hhcGV9Z2V0IE5leHRTeXN0ZW0oKXtjb25zdCB0PXRoaXMuUGFyZW50Lk11c2ljU3lzdGVtcy5pbmRleE9mKHRoaXMpO3JldHVybiB0IT09dGhpcy5QYXJlbnQuTXVzaWNTeXN0ZW1zLmxlbmd0aD90aGlzLlBhcmVudC5NdXNpY1N5c3RlbXNbdCsxXTp2b2lkIDB9Z2V0IFN0YWZmTGluZXMoKXtyZXR1cm4gdGhpcy5zdGFmZkxpbmVzfWdldCBHcmFwaGljYWxNZWFzdXJlcygpe3JldHVybiB0aGlzLmdyYXBoaWNhbE1lYXN1cmVzfWdldCBNZWFzdXJlTnVtYmVyTGFiZWxzKCl7cmV0dXJuIHRoaXMubWVhc3VyZU51bWJlckxhYmVsc31nZXQgTGFiZWxzKCl7cmV0dXJuIHRoaXMubGFiZWxzLnZhbHVlcygpfWdldCBPYmplY3RzVG9SZWRyYXcoKXtyZXR1cm4gdGhpcy5vYmplY3RzVG9SZWRyYXd9Z2V0IEluc3RydW1lbnRCcmFja2V0cygpe3JldHVybiB0aGlzLmluc3RydW1lbnRCcmFja2V0c31nZXQgR3JvdXBCcmFja2V0cygpe3JldHVybiB0aGlzLmdyb3VwQnJhY2tldHN9Z2V0IEdyYXBoaWNhbE1hcmtlZEFyZWFzKCl7cmV0dXJuIHRoaXMuZ3JhcGhpY2FsTWFya2VkQXJlYXN9Z2V0IEdyYXBoaWNhbENvbW1lbnRzKCl7cmV0dXJuIHRoaXMuZ3JhcGhpY2FsQ29tbWVudHN9Z2V0IFN5c3RlbUxpbmVzKCl7cmV0dXJuIHRoaXMuc3lzdGVtTGluZXN9Z2V0IElkKCl7cmV0dXJuIHRoaXMuaWR9Y3JlYXRlU3lzdGVtTGVmdExpbmUodCxlLGkpe2xldCBzPS10LzI7aSYmKHM9dGhpcy5tYXhMYWJlbExlbmd0aCtlLXQvMik7Y29uc3Qgbj10aGlzLnN0YWZmTGluZXNbMF0uTWVhc3VyZXNbMF07bGV0IHI9dm9pZCAwO3RoaXMuc3RhZmZMaW5lcy5sZW5ndGg+MSYmKHI9dGhpcy5zdGFmZkxpbmVzW3RoaXMuc3RhZmZMaW5lcy5sZW5ndGgtMV0uTWVhc3VyZXNbMF0pO2NvbnN0IG89dGhpcy5jcmVhdGVTeXN0ZW1MaW5lKHMsdCx1LlN5c3RlbUxpbmVzRW51bS5TaW5nbGVUaGluLGYuU3lzdGVtTGluZVBvc2l0aW9uLk1lYXN1cmVCZWdpbix0aGlzLG4scik7dGhpcy5TeXN0ZW1MaW5lcy5wdXNoKG8pLG8uUG9zaXRpb25BbmRTaGFwZS5SZWxhdGl2ZVBvc2l0aW9uPW5ldyBjLlBvaW50RjJEKHMsMCksby5Qb3NpdGlvbkFuZFNoYXBlLkJvcmRlckxlZnQ9MCxvLlBvc2l0aW9uQW5kU2hhcGUuQm9yZGVyUmlnaHQ9dCxvLlBvc2l0aW9uQW5kU2hhcGUuQm9yZGVyVG9wPTAsby5Qb3NpdGlvbkFuZFNoYXBlLkJvcmRlckJvdHRvbT10aGlzLmJvdW5kaW5nQm94LlNpemUuaGVpZ2h0LHRoaXMuY3JlYXRlTGluZXNGb3JTeXN0ZW1MaW5lKG8pfWNyZWF0ZVZlcnRpY2FsTGluZUZvck1lYXN1cmUodCxlLGkscyxuLHIpe2NvbnN0IG89ci5QYXJlbnRTdGFmZkxpbmUsYT1uZXcgYy5Qb2ludEYyRChvLlBvc2l0aW9uQW5kU2hhcGUuUmVsYXRpdmVQb3NpdGlvbi54LG8uUG9zaXRpb25BbmRTaGFwZS5SZWxhdGl2ZVBvc2l0aW9uLnkpLGg9by5QYXJlbnRTdGFmZi5QYXJlbnRJbnN0cnVtZW50LlN0YXZlcztpZihvLlBhcmVudFN0YWZmPT09aFswXSl7bGV0IGw9dm9pZCAwO2gubGVuZ3RoPjEmJihsPXRoaXMuZ2V0Qm90dG9tU3RhZmZMaW5lKG8pLk1lYXN1cmVzW25dKTtjb25zdCB1PXRoaXMuY3JlYXRlU3lzdGVtTGluZSh0LGUsaSxzLHRoaXMscixsKSxkPWEueCt0O3UuUG9zaXRpb25BbmRTaGFwZS5SZWxhdGl2ZVBvc2l0aW9uPW5ldyBjLlBvaW50RjJEKGQsMCksdS5Qb3NpdGlvbkFuZFNoYXBlLkJvcmRlckxlZnQ9MCx1LlBvc2l0aW9uQW5kU2hhcGUuQm9yZGVyUmlnaHQ9ZSx0aGlzLlN5c3RlbUxpbmVzLnB1c2godSl9fXNldFlQb3NpdGlvbnNUb1ZlcnRpY2FsTGluZU9iamVjdHNBbmRDcmVhdGVMaW5lcyh0KXt9Y2FsY3VsYXRlQm9yZGVycyh0KXt9YWxpZ25CZWdpbkluc3RydWN0aW9ucygpe31HZXRMZWZ0Qm9yZGVyQWJzb2x1dGVYUG9zaXRpb24oKXtyZXR1cm4gdGhpcy5TdGFmZkxpbmVzWzBdLlBvc2l0aW9uQW5kU2hhcGUuQWJzb2x1dGVQb3NpdGlvbi54K3RoaXMuU3RhZmZMaW5lc1swXS5NZWFzdXJlc1swXS5iZWdpbkluc3RydWN0aW9uc1dpZHRofUdldFJpZ2h0Qm9yZGVyQWJzb2x1dGVYUG9zaXRpb24oKXtyZXR1cm4gdGhpcy5TdGFmZkxpbmVzWzBdLlBvc2l0aW9uQW5kU2hhcGUuQWJzb2x1dGVQb3NpdGlvbi54K3RoaXMuU3RhZmZMaW5lc1swXS5TdGFmZkxpbmVzWzBdLkVuZC54fUFkZEdyYXBoaWNhbE1lYXN1cmVzKHQpe2ZvcihsZXQgZT0wLGk9dC5sZW5ndGg7ZTxpOysrZSl7dFtlXS5QYXJlbnRNdXNpY1N5c3RlbT10aGlzfXRoaXMuZ3JhcGhpY2FsTWVhc3VyZXMucHVzaCh0KX1HZXRTeXN0ZW1zRmlyc3RUaW1lU3RhbXAoKXtyZXR1cm4gdGhpcy5ncmFwaGljYWxNZWFzdXJlc1swXVswXS5wYXJlbnRTb3VyY2VNZWFzdXJlLkFic29sdXRlVGltZXN0YW1wfUdldFN5c3RlbXNMYXN0VGltZVN0YW1wKCl7Y29uc3QgdD10aGlzLmdyYXBoaWNhbE1lYXN1cmVzW3RoaXMuZ3JhcGhpY2FsTWVhc3VyZXMubGVuZ3RoLTFdWzBdLnBhcmVudFNvdXJjZU1lYXN1cmU7cmV0dXJuIG8uRnJhY3Rpb24ucGx1cyh0LkFic29sdXRlVGltZXN0YW1wLHQuRHVyYXRpb24pfWNyZWF0ZUluc3RydW1lbnRCcmFja2V0cyh0LGUpe2ZvcihsZXQgZT0wLGk9dC5sZW5ndGg7ZTxpOysrZSl7Y29uc3QgaT10W2VdO2lmKGkuU3RhdmVzLmxlbmd0aD4xKXtsZXQgdD12b2lkIDAsZT12b2lkIDA7Zm9yKGxldCBzPTAsbj10aGlzLnN0YWZmTGluZXMubGVuZ3RoO3M8bjsrK3Mpe2NvbnN0IG49dGhpcy5zdGFmZkxpbmVzW3NdO24uUGFyZW50U3RhZmY9PT1pLlN0YXZlc1swXSYmKHQ9biksbi5QYXJlbnRTdGFmZj09PWkuU3RhdmVzW2kuU3RhdmVzLmxlbmd0aC0xXSYmKGU9bil9dCYmZSYmdGhpcy5jcmVhdGVJbnN0cnVtZW50QnJhY2tldCh0LGUpfX19Y3JlYXRlR3JvdXBCcmFja2V0cyh0LGUsaSl7Zm9yKGxldCBzPTAsbj10Lmxlbmd0aDtzPG47KytzKXtjb25zdCBuPXRbc107aWYobi5JbnN0cnVtZW50YWxHcm91cHMubGVuZ3RoPDEpY29udGludWU7Y29uc3Qgcj10aGlzLmZpbmRGaXJzdFZpc2libGVJbnN0cnVtZW50SW5JbnN0cnVtZW50YWxHcm91cChuKSxvPXRoaXMuZmluZExhc3RWaXNpYmxlSW5zdHJ1bWVudEluSW5zdHJ1bWVudGFsR3JvdXAobik7aWYoIXJ8fCFvKWNvbnRpbnVlO2xldCBhPXZvaWQgMCxoPXZvaWQgMDtmb3IobGV0IHQ9MCxlPXRoaXMuc3RhZmZMaW5lcy5sZW5ndGg7dDxlOysrdCl7Y29uc3QgZT10aGlzLnN0YWZmTGluZXNbdF07ZS5QYXJlbnRTdGFmZj09PXIuU3RhdmVzWzBdJiYoYT1lKSxlLlBhcmVudFN0YWZmPT09by5TdGF2ZXNbMF0mJihoPWUpfWEmJmgmJnRoaXMuY3JlYXRlR3JvdXBCcmFja2V0KGEsaCxpKSxuLkluc3RydW1lbnRhbEdyb3Vwcy5sZW5ndGg8MXx8dGhpcy5jcmVhdGVHcm91cEJyYWNrZXRzKG4uSW5zdHJ1bWVudGFsR3JvdXBzLGUsaSsxKX19Y3JlYXRlTXVzaWNTeXN0ZW1MYWJlbCh0LGUsaSxzPSExKXtmb3IobGV0IGk9MCxuPXRoaXMuc3RhZmZMaW5lcy5sZW5ndGg7aTxuOysraSl7Y29uc3Qgbj10aGlzLnN0YWZmTGluZXNbaV0uUGFyZW50U3RhZmYuUGFyZW50SW5zdHJ1bWVudDtsZXQgcjtpZihzKXI9bi5OYW1lTGFiZWwsdGhpcy5ydWxlcy5SZW5kZXJQYXJ0TmFtZXN8fChyPW5ldyBtLkxhYmVsKFwiXCIsbi5OYW1lTGFiZWwudGV4dEFsaWdubWVudCxuLk5hbWVMYWJlbC5mb250KSxlPTApO2Vsc2V7aWYoIXRoaXMucnVsZXMuUmVuZGVyUGFydEFiYnJldmlhdGlvbnN8fDE9PT10aGlzLnN0YWZmTGluZXMubGVuZ3RofHwhbi5QYXJ0QWJicmV2aWF0aW9ufHxcIlwiPT09bi5QYXJ0QWJicmV2aWF0aW9uKXJldHVybjtjb25zdCB0PW4uUGFydEFiYnJldmlhdGlvbjtyPW5ldyBtLkxhYmVsKHQsbi5OYW1lTGFiZWwudGV4dEFsaWdubWVudCxuLk5hbWVMYWJlbC5mb250KX1jb25zdCBvPW5ldyBoLkdyYXBoaWNhbExhYmVsKHIsdCxhLlRleHRBbGlnbm1lbnRFbnVtLkxlZnRDZW50ZXIsdGhpcy5ydWxlcyx0aGlzLmJvdW5kaW5nQm94KTtvLnNldExhYmVsUG9zaXRpb25BbmRTaGFwZUJvcmRlcnMoKSx0aGlzLmxhYmVscy5zZXRWYWx1ZShuLG8pfXRoaXMubWF4TGFiZWxMZW5ndGg9MDtjb25zdCBuPXRoaXMubGFiZWxzLnZhbHVlcygpO2ZvcihsZXQgdD0wLGU9bi5sZW5ndGg7dDxlOysrdCl7Y29uc3QgZT1uW3RdO2UuUG9zaXRpb25BbmRTaGFwZS5TaXplLndpZHRoPnRoaXMubWF4TGFiZWxMZW5ndGgmJih0aGlzLm1heExhYmVsTGVuZ3RoPWUuUG9zaXRpb25BbmRTaGFwZS5TaXplLndpZHRoKX10aGlzLnVwZGF0ZU11c2ljU3lzdGVtU3RhZmZMaW5lWFBvc2l0aW9uKGUpfXNldE11c2ljU3lzdGVtTGFiZWxzWVBvc2l0aW9uKCl7dGhpcy5sYWJlbHMuZm9yRWFjaCgodCxlKT0+e2xldCBpPTAscz0wO2ZvcihsZXQgZT0wO2U8dGhpcy5zdGFmZkxpbmVzLmxlbmd0aDtlKyspaWYodGhpcy5zdGFmZkxpbmVzW2VdLlBhcmVudFN0YWZmLlBhcmVudEluc3RydW1lbnQ9PT10KXtmb3IobGV0IG49ZTtuPHRoaXMuc3RhZmZMaW5lcy5sZW5ndGg7bisrKXtjb25zdCBlPXRoaXMuc3RhZmZMaW5lc1tuXTtpZihlLlBhcmVudFN0YWZmLlBhcmVudEluc3RydW1lbnQhPT10KWJyZWFrO2krPWUuUG9zaXRpb25BbmRTaGFwZS5SZWxhdGl2ZVBvc2l0aW9uLnkscysrfWJyZWFrfXM+MCYmKGUuUG9zaXRpb25BbmRTaGFwZS5SZWxhdGl2ZVBvc2l0aW9uPW5ldyBjLlBvaW50RjJEKDAsaS9zKzIpKX0pfWNoZWNrU3RhZmZFbnRyaWVzRm9yU3RhZmZFbnRyeUxpbmsoKXtsZXQgdD0hMSxlPSExO2ZvcihsZXQgaT0wO2k8dGhpcy5zdGFmZkxpbmVzLmxlbmd0aC0xO2krKyl7Zm9yKGxldCBlPTAscz10aGlzLnN0YWZmTGluZXNbaV0uTWVhc3VyZXMubGVuZ3RoO2U8czsrK2Upe2NvbnN0IHM9dGhpcy5zdGFmZkxpbmVzW2ldLk1lYXN1cmVzW2VdO2ZvcihsZXQgZT0wLGk9cy5zdGFmZkVudHJpZXMubGVuZ3RoO2U8aTsrK2Upe3Muc3RhZmZFbnRyaWVzW2VdLnNvdXJjZVN0YWZmRW50cnkuTGluayYmKHQ9ITApfX1mb3IobGV0IHQ9MCxzPXRoaXMuc3RhZmZMaW5lc1tpKzFdLk1lYXN1cmVzLmxlbmd0aDt0PHM7Kyt0KXtjb25zdCBzPXRoaXMuc3RhZmZMaW5lc1tpKzFdLk1lYXN1cmVzW3RdO2ZvcihsZXQgdD0wLGk9cy5zdGFmZkVudHJpZXMubGVuZ3RoO3Q8aTsrK3Qpe3Muc3RhZmZFbnRyaWVzW3RdLnNvdXJjZVN0YWZmRW50cnkuTGluayYmKGU9ITApfX19cmV0dXJuISghdHx8IWUpfWdldEJvdHRvbVN0YWZmTGluZSh0KXtjb25zdCBlPXQuUGFyZW50U3RhZmYuUGFyZW50SW5zdHJ1bWVudC5TdGF2ZXMsaT1lW2UubGVuZ3RoLTFdO2Zvcihjb25zdCBlIG9mIHQuUGFyZW50TXVzaWNTeXN0ZW0uc3RhZmZMaW5lcylpZihlLlBhcmVudFN0YWZmPT09aSlyZXR1cm4gZX1jcmVhdGVTeXN0ZW1MaW5lKHQsZSxpLHMsbixyLG8pe3Rocm93IG5ldyBFcnJvcihcIm5vdCBpbXBsZW1lbnRlZFwiKX1jcmVhdGVMaW5lc0ZvclN5c3RlbUxpbmUodCl7fWNhbGNCcmFja2V0c1dpZHRoKCl7bGV0IHQ9MDtmb3IobGV0IGU9MCxpPXRoaXMuR3JvdXBCcmFja2V0cy5sZW5ndGg7ZTxpOysrZSl7Y29uc3QgaT10aGlzLkdyb3VwQnJhY2tldHNbZV07dD1NYXRoLm1heCh0LGkuUG9zaXRpb25BbmRTaGFwZS5TaXplLndpZHRoKX1mb3IobGV0IGU9MCxpPXRoaXMuSW5zdHJ1bWVudEJyYWNrZXRzLmxlbmd0aDtlPGk7KytlKXtjb25zdCBpPXRoaXMuSW5zdHJ1bWVudEJyYWNrZXRzW2VdO3Q9TWF0aC5tYXgodCxpLlBvc2l0aW9uQW5kU2hhcGUuU2l6ZS53aWR0aCl9cmV0dXJuIHR9Y3JlYXRlSW5zdHJ1bWVudEJyYWNrZXQodCxlKXt9Y3JlYXRlR3JvdXBCcmFja2V0KHQsZSxpKXt9ZmluZEZpcnN0VmlzaWJsZUluc3RydW1lbnRJbkluc3RydW1lbnRhbEdyb3VwKHQpe2ZvcihsZXQgZT0wLGk9dC5JbnN0cnVtZW50YWxHcm91cHMubGVuZ3RoO2U8aTsrK2Upe2NvbnN0IGk9dC5JbnN0cnVtZW50YWxHcm91cHNbZV07aWYoIShpIGluc3RhbmNlb2Ygbi5JbnN0cnVtZW50KSlyZXR1cm4gdGhpcy5maW5kRmlyc3RWaXNpYmxlSW5zdHJ1bWVudEluSW5zdHJ1bWVudGFsR3JvdXAoaSk7aWYoITA9PT1pLlZpc2libGUpcmV0dXJuIGl9fWZpbmRMYXN0VmlzaWJsZUluc3RydW1lbnRJbkluc3RydW1lbnRhbEdyb3VwKHQpe2xldCBlO2ZvcihsZXQgaT10Lkluc3RydW1lbnRhbEdyb3Vwcy5sZW5ndGgtMTtpPj0wO2ktLSl7aWYoZT10Lkluc3RydW1lbnRhbEdyb3Vwc1tpXSwhKGUgaW5zdGFuY2VvZiBuLkluc3RydW1lbnQpKXJldHVybiB0aGlzLmZpbmRMYXN0VmlzaWJsZUluc3RydW1lbnRJbkluc3RydW1lbnRhbEdyb3VwKGUpO2lmKCEwPT09ZS5WaXNpYmxlKXJldHVybiBlfX11cGRhdGVNdXNpY1N5c3RlbVN0YWZmTGluZVhQb3NpdGlvbih0KXtmb3IobGV0IGU9MCxpPXRoaXMuU3RhZmZMaW5lcy5sZW5ndGg7ZTxpOysrZSl7Y29uc3QgaT10aGlzLlN0YWZmTGluZXNbZV0scz1pLlBvc2l0aW9uQW5kU2hhcGUuUmVsYXRpdmVQb3NpdGlvbjtzLng9dGhpcy5tYXhMYWJlbExlbmd0aCt0LGkuUG9zaXRpb25BbmRTaGFwZS5SZWxhdGl2ZVBvc2l0aW9uPXMsaS5Qb3NpdGlvbkFuZFNoYXBlLkJvcmRlclJpZ2h0PXRoaXMuYm91bmRpbmdCb3guU2l6ZS53aWR0aC10aGlzLm1heExhYmVsTGVuZ3RoLXQ7Zm9yKGxldCB0PTA7dDxpLlN0YWZmTGluZXMubGVuZ3RoO3QrKyl7Y29uc3QgZT1uZXcgYy5Qb2ludEYyRChpLlBvc2l0aW9uQW5kU2hhcGUuU2l6ZS53aWR0aCxpLlN0YWZmTGluZXNbdF0uRW5kLnkpO2kuU3RhZmZMaW5lc1t0XS5FbmQ9ZX19fX1lLk11c2ljU3lzdGVtPXB9LGZ1bmN0aW9uKHQsZSxpKXtcInVzZSBzdHJpY3RcIjtPYmplY3QuZGVmaW5lUHJvcGVydHkoZSxcIl9fZXNNb2R1bGVcIix7dmFsdWU6ITB9KTtlLlN0YWZmPWNsYXNze2NvbnN0cnVjdG9yKHQsZSl7dGhpcy5pc1RhYj0hMSx0aGlzLnZvaWNlcz1bXSx0aGlzLnZvbHVtZT0xLHRoaXMuc3RhZmZsaW5lQ291bnQ9NSx0aGlzLnBhcmVudEluc3RydW1lbnQ9dCx0aGlzLmlkPWUsdGhpcy5hdWRpYmxlPSEwLHRoaXMuZm9sbG93aW5nPSEwfWdldCBQYXJlbnRJbnN0cnVtZW50KCl7cmV0dXJuIHRoaXMucGFyZW50SW5zdHJ1bWVudH1zZXQgUGFyZW50SW5zdHJ1bWVudCh0KXt0aGlzLnBhcmVudEluc3RydW1lbnQ9dH1nZXQgVm9pY2VzKCl7cmV0dXJuIHRoaXMudm9pY2VzfWdldCBJZCgpe3JldHVybiB0aGlzLmlkfWdldCBWb2x1bWUoKXtyZXR1cm4gdGhpcy52b2x1bWV9c2V0IFZvbHVtZSh0KXt0aGlzLnZvbHVtZT10fWdldCBTdGFmZmxpbmVDb3VudCgpe3JldHVybiB0aGlzLnN0YWZmbGluZUNvdW50fXNldCBTdGFmZmxpbmVDb3VudCh0KXt0aGlzLnN0YWZmbGluZUNvdW50PXR9fX0sZnVuY3Rpb24odCxlLGkpe1widXNlIHN0cmljdFwiO09iamVjdC5kZWZpbmVQcm9wZXJ0eShlLFwiX19lc01vZHVsZVwiLHt2YWx1ZTohMH0pO2NvbnN0IHM9aSgzMiksbj1pKDMpLHI9aSg1KTtjbGFzcyBvIGV4dGVuZHMgci5HcmFwaGljYWxPYmplY3R7Y29uc3RydWN0b3IodCxlLGkscyxyKXtzdXBlcigpLHRoaXMubGluZVR5cGU9dCx0aGlzLmxpbmVQb3NpdGlvbj1lLHRoaXMucGFyZW50TXVzaWNTeXN0ZW09aSx0aGlzLnRvcE1lYXN1cmU9cyx0aGlzLmJvdHRvbU1lYXN1cmU9cix0aGlzLnBhcmVudFRvcFN0YWZmTGluZT1zLlBhcmVudFN0YWZmTGluZSx0aGlzLmJvdW5kaW5nQm94PW5ldyBuLkJvdW5kaW5nQm94KHRoaXMsaS5Qb3NpdGlvbkFuZFNoYXBlKX1zdGF0aWMgZ2V0T2JqZWN0V2lkdGhGb3JMaW5lVHlwZSh0LGUpe3N3aXRjaChlKXtjYXNlIHMuU3lzdGVtTGluZXNFbnVtLlNpbmdsZVRoaW46cmV0dXJuIHQuU3lzdGVtVGhpbkxpbmVXaWR0aDtjYXNlIHMuU3lzdGVtTGluZXNFbnVtLkRvdWJsZVRoaW46cmV0dXJuIDIqdC5TeXN0ZW1UaGluTGluZVdpZHRoK3QuRGlzdGFuY2VCZXR3ZWVuVmVydGljYWxTeXN0ZW1MaW5lcztjYXNlIHMuU3lzdGVtTGluZXNFbnVtLlRoaW5Cb2xkOnJldHVybiB0LlN5c3RlbVRoaW5MaW5lV2lkdGgrdC5TeXN0ZW1Cb2xkTGluZVdpZHRoK3QuRGlzdGFuY2VCZXR3ZWVuVmVydGljYWxTeXN0ZW1MaW5lcztjYXNlIHMuU3lzdGVtTGluZXNFbnVtLkJvbGRUaGluRG90czpjYXNlIHMuU3lzdGVtTGluZXNFbnVtLkRvdHNUaGluQm9sZDpyZXR1cm4gdC5TeXN0ZW1UaGluTGluZVdpZHRoK3QuU3lzdGVtQm9sZExpbmVXaWR0aCt0LkRpc3RhbmNlQmV0d2VlblZlcnRpY2FsU3lzdGVtTGluZXMrdC5TeXN0ZW1Eb3RXaWR0aCt0LkRpc3RhbmNlQmV0d2VlbkRvdEFuZExpbmU7Y2FzZSBzLlN5c3RlbUxpbmVzRW51bS5Eb3RzQm9sZEJvbGREb3RzOnJldHVybiAyKnQuU3lzdGVtQm9sZExpbmVXaWR0aCsyKnQuU3lzdGVtRG90V2lkdGgrMip0LkRpc3RhbmNlQmV0d2VlbkRvdEFuZExpbmUrdC5EaXN0YW5jZUJldHdlZW5WZXJ0aWNhbFN5c3RlbUxpbmVzO2RlZmF1bHQ6cmV0dXJuIDB9fX1lLlN5c3RlbUxpbmU9b30sZnVuY3Rpb24odCxlLGkpe1widXNlIHN0cmljdFwiO09iamVjdC5kZWZpbmVQcm9wZXJ0eShlLFwiX19lc01vZHVsZVwiLHt2YWx1ZTohMH0pO2NvbnN0IHM9aSgzKSxuPWkoMjEpLHI9aSgyMCksbz1pKDUyKSxhPWkoNCksaD1pKDIyKSxsPWkoMTMpLGM9aSg3KSx1PWkoMTEpLGQ9aSg2MyksZj1pKDEwMik7ZS5NdXNpY1NoZWV0RHJhd2VyPWNsYXNze2NvbnN0cnVjdG9yKHQsZSl7dGhpcy5kcmF3YWJsZUJvdW5kaW5nQm94RWxlbWVudD0hMSx0aGlzLnNreUxpbmVWaXNpYmxlPSExLHRoaXMuYm90dG9tTGluZVZpc2libGU9ITEsdGhpcy5waG9uaWNTY29yZU1vZGU9Zi5QaG9uaWNTY29yZU1vZGVzLk1hbnVhbCx0aGlzLnRleHRNZWFzdXJlcj10LHRoaXMuc3BsaXRTY3JlZW5MaW5lQ29sb3I9LTEsdGhpcy5kcmF3aW5nUGFyYW1ldGVycz1lfXNldCBNb2RlKHQpe3RoaXMucGhvbmljU2NvcmVNb2RlPXR9ZHJhd1NoZWV0KHQpe2lmKHRoaXMuZ3JhcGhpY2FsTXVzaWNTaGVldD10LHRoaXMucnVsZXM9dC5QYXJlbnRNdXNpY1NoZWV0LlJ1bGVzLHRoaXMuZHJhd1NwbGl0U2NyZWVuTGluZSgpLHRoaXMuZHJhd2luZ1BhcmFtZXRlcnMuZHJhd0N1cnNvcnMpZm9yKGNvbnN0IGUgb2YgdC5DdXJzb3JzKXtpZighZSljb250aW51ZTtjb25zdCB0PW5ldyBzLkJvdW5kaW5nQm94KGUpO3QuQWJzb2x1dGVQb3NpdGlvbj1lLlN0YXJ0LHQuQm9yZGVyQm90dG9tPWUuRW5kLnktZS5TdGFydC55LHQuQm9yZGVyUmlnaHQ9ZS5XaWR0aC8yLHQuQm9yZGVyTGVmdD0tZS5XaWR0aC8yLHRoaXMuaXNWaXNpYmxlKHQpJiZ0aGlzLmRyYXdMaW5lQXNWZXJ0aWNhbFJlY3RhbmdsZShlLG4uR3JhcGhpY2FsTGF5ZXJzLkN1cnNvcil9dGhpcy5kcmF3aW5nUGFyYW1ldGVycy5kcmF3U2Nyb2xsSW5kaWNhdG9yJiZ0aGlzLmRyYXdTY3JvbGxJbmRpY2F0b3IoKTtmb3IoY29uc3QgdCBvZiB0aGlzLmdyYXBoaWNhbE11c2ljU2hlZXQuTXVzaWNQYWdlcyl0aGlzLmRyYXdQYWdlKHQpfWRyYXdMaW5lQXNIb3Jpem9udGFsUmVjdGFuZ2xlKHQsZSl7bGV0IGk9bmV3IG8uUmVjdGFuZ2xlRjJEKHQuU3RhcnQueCx0LkVuZC55LXQuV2lkdGgvMix0LkVuZC54LXQuU3RhcnQueCx0LldpZHRoKTtpPXRoaXMuYXBwbHlTY3JlZW5UcmFuc2Zvcm1hdGlvbkZvclJlY3QoaSksdGhpcy5yZW5kZXJSZWN0YW5nbGUoaSxlLHQuc3R5bGVJZCl9ZHJhd0xpbmVBc1ZlcnRpY2FsUmVjdGFuZ2xlKHQsZSl7Y29uc3QgaT10LlN0YXJ0LHM9dC5XaWR0aDtsZXQgbj1uZXcgby5SZWN0YW5nbGVGMkQoaS54LXMvMixpLnkscyx0LkVuZC55LWkueSk7bj10aGlzLmFwcGx5U2NyZWVuVHJhbnNmb3JtYXRpb25Gb3JSZWN0KG4pLHRoaXMucmVuZGVyUmVjdGFuZ2xlKG4sZSx0LnN0eWxlSWQpfWRyYXdMaW5lQXNIb3Jpem9udGFsUmVjdGFuZ2xlV2l0aE9mZnNldCh0LGUsaSl7Y29uc3Qgcz1uZXcgYS5Qb2ludEYyRCh0LlN0YXJ0LngrZS54LHQuU3RhcnQueStlLnkpLG49bmV3IGEuUG9pbnRGMkQodC5FbmQueCtlLngsdC5FbmQueStlLnkpLHI9dC5XaWR0aDtsZXQgaD1uZXcgby5SZWN0YW5nbGVGMkQocy54LG4ueS1yLzIsbi54LXMueCxyKTtoPXRoaXMuYXBwbHlTY3JlZW5UcmFuc2Zvcm1hdGlvbkZvclJlY3QoaCksdGhpcy5yZW5kZXJSZWN0YW5nbGUoaCxpLHQuc3R5bGVJZCl9ZHJhd0xpbmVBc1ZlcnRpY2FsUmVjdGFuZ2xlV2l0aE9mZnNldCh0LGUsaSl7Y29uc3Qgcz1uZXcgYS5Qb2ludEYyRCh0LlN0YXJ0LngrZS54LHQuU3RhcnQueStlLnkpLG49bmV3IGEuUG9pbnRGMkQodC5FbmQueCtlLngsdC5FbmQueStlLnkpLHI9dC5XaWR0aDtsZXQgaD1uZXcgby5SZWN0YW5nbGVGMkQocy54LHMueSxyLG4ueS1zLnkpO2g9dGhpcy5hcHBseVNjcmVlblRyYW5zZm9ybWF0aW9uRm9yUmVjdChoKSx0aGlzLnJlbmRlclJlY3RhbmdsZShoLGksdC5zdHlsZUlkKX1kcmF3UmVjdGFuZ2xlKHQsZSl7Y29uc3QgaT10LlBvc2l0aW9uQW5kU2hhcGU7bGV0IHM9bmV3IG8uUmVjdGFuZ2xlRjJEKGkuQWJzb2x1dGVQb3NpdGlvbi54LGkuQWJzb2x1dGVQb3NpdGlvbi55LGkuQm9yZGVyUmlnaHQsaS5Cb3JkZXJCb3R0b20pO3M9dGhpcy5hcHBseVNjcmVlblRyYW5zZm9ybWF0aW9uRm9yUmVjdChzKSx0aGlzLnJlbmRlclJlY3RhbmdsZShzLGUsdC5zdHlsZSl9Y2FsY3VsYXRlUGl4ZWxEaXN0YW5jZSh0KXt0aHJvdyBuZXcgRXJyb3IoXCJub3QgaW1wbGVtZW50ZWRcIil9ZHJhd0xhYmVsKHQsZSl7aWYoIXRoaXMuaXNWaXNpYmxlKHQuUG9zaXRpb25BbmRTaGFwZSkpcmV0dXJuO2NvbnN0IGk9dC5MYWJlbDtpZihcIlwiPT09aS50ZXh0LnRyaW0oKSlyZXR1cm47Y29uc3Qgcz10aGlzLmFwcGx5U2NyZWVuVHJhbnNmb3JtYXRpb24odC5Qb3NpdGlvbkFuZFNoYXBlLkFic29sdXRlUG9zaXRpb24pLG49dGhpcy5jYWxjdWxhdGVQaXhlbERpc3RhbmNlKGkuZm9udEhlaWdodCkscj1uKnRoaXMudGV4dE1lYXN1cmVyLmNvbXB1dGVUZXh0V2lkdGhUb0hlaWdodFJhdGlvKGkudGV4dCxpLmZvbnQsaS5mb250U3R5bGUpLG89TWF0aC5jZWlsKHIpLGE9TWF0aC5jZWlsKDEuMipuKTtzd2l0Y2goaS50ZXh0QWxpZ25tZW50KXtjYXNlIGMuVGV4dEFsaWdubWVudEVudW0uTGVmdFRvcDpicmVhaztjYXNlIGMuVGV4dEFsaWdubWVudEVudW0uTGVmdENlbnRlcjpzLnktPWEvMjticmVhaztjYXNlIGMuVGV4dEFsaWdubWVudEVudW0uTGVmdEJvdHRvbTpzLnktPWE7YnJlYWs7Y2FzZSBjLlRleHRBbGlnbm1lbnRFbnVtLkNlbnRlclRvcDpzLngtPW8vMjticmVhaztjYXNlIGMuVGV4dEFsaWdubWVudEVudW0uQ2VudGVyQ2VudGVyOnMueC09by8yLHMueS09YS8yO2JyZWFrO2Nhc2UgYy5UZXh0QWxpZ25tZW50RW51bS5DZW50ZXJCb3R0b206cy54LT1vLzIscy55LT1hO2JyZWFrO2Nhc2UgYy5UZXh0QWxpZ25tZW50RW51bS5SaWdodFRvcDpzLngtPW87YnJlYWs7Y2FzZSBjLlRleHRBbGlnbm1lbnRFbnVtLlJpZ2h0Q2VudGVyOnMueC09byxzLnktPWEvMjticmVhaztjYXNlIGMuVGV4dEFsaWdubWVudEVudW0uUmlnaHRCb3R0b206cy54LT1vLHMueS09YTticmVhaztkZWZhdWx0OnRocm93IG5ldyB1LkFyZ3VtZW50T3V0T2ZSYW5nZUV4Y2VwdGlvbihcIlwiKX10aGlzLnJlbmRlckxhYmVsKHQsZSxvLGEsbixzKX1hcHBseVNjcmVlblRyYW5zZm9ybWF0aW9uKHQpe3Rocm93IG5ldyBFcnJvcihcIm5vdCBpbXBsZW1lbnRlZFwiKX1hcHBseVNjcmVlblRyYW5zZm9ybWF0aW9ucyh0KXtjb25zdCBlPVtdO2Zvcihjb25zdCBpIG9mIHQpZS5wdXNoKHRoaXMuYXBwbHlTY3JlZW5UcmFuc2Zvcm1hdGlvbihpKSk7cmV0dXJuIGV9YXBwbHlTY3JlZW5UcmFuc2Zvcm1hdGlvbkZvclJlY3QodCl7dGhyb3cgbmV3IEVycm9yKFwibm90IGltcGxlbWVudGVkXCIpfWRyYXdTcGxpdFNjcmVlbkxpbmUoKXt9cmVuZGVyUmVjdGFuZ2xlKHQsZSxpLHM9MSl7dGhyb3cgbmV3IEVycm9yKFwibm90IGltcGxlbWVudGVkXCIpfWRyYXdTY3JvbGxJbmRpY2F0b3IoKXt9ZHJhd1NlbGVjdGlvblN0YXJ0U3ltYm9sKHQpe31kcmF3U2VsZWN0aW9uRW5kU3ltYm9sKHQpe31yZW5kZXJMYWJlbCh0LGUsaSxzLG4scil7dGhyb3cgbmV3IEVycm9yKFwibm90IGltcGxlbWVudGVkXCIpfXJlbmRlclN5c3RlbVRvU2NyZWVuKHQsZSxpKXt9ZHJhd01lYXN1cmUodCl7dGhyb3cgbmV3IEVycm9yKFwibm90IGltcGxlbWVudGVkXCIpfWRyYXdTa3lMaW5lKHQpe31kcmF3Qm90dG9tTGluZSh0KXt9ZHJhd0luc3RydW1lbnRCcmFjZSh0LGUpe31kcmF3R3JvdXBCcmFja2V0KHQsZSl7fWlzVmlzaWJsZSh0KXtyZXR1cm4hMH1kcmF3TXVzaWNTeXN0ZW0odCl7Y29uc3QgZT10aGlzLmdldFN5c3RlbUFic0JvdW5kaW5nUmVjdCh0KSxpPXRoaXMuZ2V0U3l0ZW1Cb3VuZGluZ0JveEluUGl4ZWxzKGUpO3RoaXMuZHJhd011c2ljU3lzdGVtQ29tcG9uZW50cyh0LGksZSl9Z2V0U3l0ZW1Cb3VuZGluZ0JveEluUGl4ZWxzKHQpe2NvbnN0IGU9dGhpcy5hcHBseVNjcmVlblRyYW5zZm9ybWF0aW9uRm9yUmVjdCh0KTtyZXR1cm4gZS54PU1hdGgucm91bmQoZS54KSxlLnk9TWF0aC5yb3VuZChlLnkpLGV9Z2V0U3lzdGVtQWJzQm91bmRpbmdSZWN0KHQpe2NvbnN0IGU9dC5Qb3NpdGlvbkFuZFNoYXBlLkJvdW5kaW5nUmVjdGFuZ2xlO3JldHVybiBuZXcgby5SZWN0YW5nbGVGMkQodC5Qb3NpdGlvbkFuZFNoYXBlLkFic29sdXRlUG9zaXRpb24ueCt0LlBvc2l0aW9uQW5kU2hhcGUuQm9yZGVyTGVmdC0xLHQuUG9zaXRpb25BbmRTaGFwZS5BYnNvbHV0ZVBvc2l0aW9uLnkrdC5Qb3NpdGlvbkFuZFNoYXBlLkJvcmRlclRvcC0xLGUud2lkdGgrNixlLmhlaWdodCsyKX1kcmF3TXVzaWNTeXN0ZW1Db21wb25lbnRzKHQsZSxpKXtjb25zdCBzPXRoaXMuZ3JhcGhpY2FsTXVzaWNTaGVldC5TZWxlY3Rpb25TdGFydFN5bWJvbCxyPXRoaXMuZ3JhcGhpY2FsTXVzaWNTaGVldC5TZWxlY3Rpb25FbmRTeW1ib2w7dGhpcy5kcmF3aW5nUGFyYW1ldGVycy5kcmF3U2VsZWN0aW9uU3RhcnRTeW1ib2wmJnZvaWQgMCE9PXMmJnRoaXMuaXNWaXNpYmxlKHMuUG9zaXRpb25BbmRTaGFwZSkmJnRoaXMuZHJhd1NlbGVjdGlvblN0YXJ0U3ltYm9sKHMpLHRoaXMuZHJhd2luZ1BhcmFtZXRlcnMuZHJhd1NlbGVjdGlvbkVuZFN5bWJvbCYmdm9pZCAwIT09ciYmdGhpcy5pc1Zpc2libGUoci5Qb3NpdGlvbkFuZFNoYXBlKSYmdGhpcy5kcmF3U2VsZWN0aW9uRW5kU3ltYm9sKHIpO2Zvcihjb25zdCBlIG9mIHQuU3RhZmZMaW5lcyl0aGlzLmRyYXdTdGFmZkxpbmUoZSksdGhpcy5ydWxlcy5SZW5kZXJMeXJpY3MmJihlLkx5cmljc0Rhc2hlcy5sZW5ndGg+MCYmdGhpcy5kcmF3RGFzaGVzKGUuTHlyaWNzRGFzaGVzKSxlLkx5cmljTGluZXMubGVuZ3RoPjAmJnRoaXMuZHJhd0x5cmljTGluZXMoZS5MeXJpY0xpbmVzLGUpKTtmb3IoY29uc3QgZSBvZiB0LlN5c3RlbUxpbmVzKXRoaXMuZHJhd1N5c3RlbUxpbmVPYmplY3QoZSk7aWYodC5QYXJlbnQ9PT10LlBhcmVudC5QYXJlbnQuTXVzaWNQYWdlc1swXSlmb3IoY29uc3QgZSBvZiB0LkxhYmVscyl0aGlzLmRyYXdMYWJlbChlLG4uR3JhcGhpY2FsTGF5ZXJzLk5vdGVzKTtmb3IoY29uc3QgZSBvZiB0Lkluc3RydW1lbnRCcmFja2V0cyl0aGlzLmRyYXdJbnN0cnVtZW50QnJhY2UoZSx0KTtmb3IoY29uc3QgZSBvZiB0Lkdyb3VwQnJhY2tldHMpdGhpcy5kcmF3R3JvdXBCcmFja2V0KGUsdCk7aWYoIXRoaXMubGVhZFNoZWV0KWZvcihjb25zdCBlIG9mIHQuTWVhc3VyZU51bWJlckxhYmVscyl0aGlzLmRyYXdMYWJlbChlLG4uR3JhcGhpY2FsTGF5ZXJzLk5vdGVzKTtmb3IoY29uc3QgZSBvZiB0LlN0YWZmTGluZXMpdGhpcy5kcmF3U3RhZmZMaW5lU3ltYm9scyhlKTt0aGlzLmRyYXdpbmdQYXJhbWV0ZXJzLmRyYXdNYXJrZWRBcmVhcyYmdGhpcy5kcmF3TWFya2VkQXJlYXModCksdGhpcy5kcmF3aW5nUGFyYW1ldGVycy5kcmF3Q29tbWVudHMmJnRoaXMuZHJhd0NvbW1lbnQodCl9YWN0aXZhdGVTeXN0ZW1SZW5kZXJpbmcodCxlLGkscyl7cmV0dXJuITB9ZHJhd1N5c3RlbUxpbmVPYmplY3QodCl7fWRyYXdTdGFmZkxpbmUodCl7Zm9yKGNvbnN0IGUgb2YgdC5NZWFzdXJlcyl0aGlzLmRyYXdNZWFzdXJlKGUpO3RoaXMucnVsZXMuUmVuZGVyTHlyaWNzJiZ0Lkx5cmljc0Rhc2hlcy5sZW5ndGg+MCYmdGhpcy5kcmF3RGFzaGVzKHQuTHlyaWNzRGFzaGVzKSx0aGlzLmRyYXdPY3RhdmVTaGlmdHModCksdGhpcy5kcmF3RXhwcmVzc2lvbnModCksdGhpcy5za3lMaW5lVmlzaWJsZSYmdGhpcy5kcmF3U2t5TGluZSh0KSx0aGlzLmJvdHRvbUxpbmVWaXNpYmxlJiZ0aGlzLmRyYXdCb3R0b21MaW5lKHQpfWRyYXdMeXJpY0xpbmVzKHQsZSl7ZS5MeXJpY0xpbmVzLmZvckVhY2godD0+e3QuU3RhcnQueSs9ZS5Qb3NpdGlvbkFuZFNoYXBlLkFic29sdXRlUG9zaXRpb24ueSx0LkVuZC55Kz1lLlBvc2l0aW9uQW5kU2hhcGUuQWJzb2x1dGVQb3NpdGlvbi55LHQuU3RhcnQueCs9ZS5Qb3NpdGlvbkFuZFNoYXBlLkFic29sdXRlUG9zaXRpb24ueCx0LkVuZC54Kz1lLlBvc2l0aW9uQW5kU2hhcGUuQWJzb2x1dGVQb3NpdGlvbi54LHRoaXMuZHJhd0dyYXBoaWNhbExpbmUodCx0aGlzLnJ1bGVzLkx5cmljVW5kZXJzY29yZUxpbmVXaWR0aCl9KX1kcmF3RXhwcmVzc2lvbnModCl7fWRyYXdHcmFwaGljYWxMaW5lKHQsZSxpPVwiYmxhY2tcIil7dGhpcy5kcmF3TGluZSh0LlN0YXJ0LHQuRW5kLGksZSl9ZHJhd0xpbmUodCxlLGk9XCIjRkYwMDAwRkZcIixzKXt9ZHJhd0Rhc2hlcyh0KXt0LmZvckVhY2godD0+dGhpcy5kcmF3TGFiZWwodCxuLkdyYXBoaWNhbExheWVycy5Ob3RlcykpfWRyYXdPY3RhdmVTaGlmdHModCl7fWRyYXdTdGFmZkxpbmVzKHQpe2lmKHQuU3RhZmZMaW5lcyl7Y29uc3QgZT10LlBvc2l0aW9uQW5kU2hhcGUuQWJzb2x1dGVQb3NpdGlvbjtmb3IobGV0IGk9MDtpPDU7aSsrKXRoaXMuZHJhd0xpbmVBc0hvcml6b250YWxSZWN0YW5nbGVXaXRoT2Zmc2V0KHQuU3RhZmZMaW5lc1tpXSxlLG4uR3JhcGhpY2FsTGF5ZXJzLk5vdGVzKX19ZHJhd0luc3RhbnRhbmVvdXNEeW5hbWljKHQpe3Rocm93IG5ldyBFcnJvcihcIm5vdCBpbXBsZW1lbnRlZFwiKX1kcmF3Q29udGludW91c0R5bmFtaWModCl7dGhyb3cgbmV3IEVycm9yKFwibm90IGltcGxlbWVudGVkXCIpfWRyYXdTeW1ib2wodCxlLGkscz0xLHI9bi5HcmFwaGljYWxMYXllcnMuTm90ZXMpe31nZXQgbGVhZFNoZWV0KCl7cmV0dXJuIHRoaXMuZ3JhcGhpY2FsTXVzaWNTaGVldC5MZWFkU2hlZXR9c2V0IGxlYWRTaGVldCh0KXt0aGlzLmdyYXBoaWNhbE11c2ljU2hlZXQuTGVhZFNoZWV0PXR9ZHJhd1BhZ2UodCl7aWYodGhpcy5pc1Zpc2libGUodC5Qb3NpdGlvbkFuZFNoYXBlKSl7Zm9yKGNvbnN0IGUgb2YgdC5NdXNpY1N5c3RlbXMpdGhpcy5pc1Zpc2libGUoZS5Qb3NpdGlvbkFuZFNoYXBlKSYmdGhpcy5kcmF3TXVzaWNTeXN0ZW0oZSk7aWYodD09PXQuUGFyZW50Lk11c2ljUGFnZXNbMF0pZm9yKGNvbnN0IGUgb2YgdC5MYWJlbHMpdGhpcy5kcmF3TGFiZWwoZSxuLkdyYXBoaWNhbExheWVycy5Ob3Rlcyk7dGhpcy5kcmF3YWJsZUJvdW5kaW5nQm94RWxlbWVudCYmdGhpcy5kcmF3Qm91bmRpbmdCb3hlcyh0LlBvc2l0aW9uQW5kU2hhcGUsMCx0aGlzLmRyYXdhYmxlQm91bmRpbmdCb3hFbGVtZW50KX19ZHJhd0JvdW5kaW5nQm94ZXModCxlPTAsaT1cImFsbFwiKXtjb25zdCBzPXQuRGF0YU9iamVjdC5jb25zdHJ1Y3Rvci5uYW1lO2lmKHM9PT1pfHxcImFsbFwiPT09aSl7bGV0IGk9bmV3IG8uUmVjdGFuZ2xlRjJEKHQuQWJzb2x1dGVQb3NpdGlvbi54K3QuQm9yZGVyTWFyZ2luTGVmdCx0LkFic29sdXRlUG9zaXRpb24ueSt0LkJvcmRlck1hcmdpblRvcCx0LkJvcmRlck1hcmdpblJpZ2h0LXQuQm9yZGVyTWFyZ2luTGVmdCx0LkJvcmRlck1hcmdpbkJvdHRvbS10LkJvcmRlck1hcmdpblRvcCk7dGhpcy5kcmF3TGluZUFzSG9yaXpvbnRhbFJlY3RhbmdsZShuZXcgci5HcmFwaGljYWxMaW5lKG5ldyBhLlBvaW50RjJEKHQuQWJzb2x1dGVQb3NpdGlvbi54LTEsdC5BYnNvbHV0ZVBvc2l0aW9uLnkpLG5ldyBhLlBvaW50RjJEKHQuQWJzb2x1dGVQb3NpdGlvbi54KzEsdC5BYnNvbHV0ZVBvc2l0aW9uLnkpLC4xLG4uT3V0bGluZUFuZEZpbGxTdHlsZUVudW0uQmFzZVdyaXRpbmdDb2xvciksZS0xKSx0aGlzLmRyYXdMaW5lQXNWZXJ0aWNhbFJlY3RhbmdsZShuZXcgci5HcmFwaGljYWxMaW5lKG5ldyBhLlBvaW50RjJEKHQuQWJzb2x1dGVQb3NpdGlvbi54LHQuQWJzb2x1dGVQb3NpdGlvbi55LTEpLG5ldyBhLlBvaW50RjJEKHQuQWJzb2x1dGVQb3NpdGlvbi54LHQuQWJzb2x1dGVQb3NpdGlvbi55KzEpLC4xLG4uT3V0bGluZUFuZEZpbGxTdHlsZUVudW0uQmFzZVdyaXRpbmdDb2xvciksZS0xKSxpPXRoaXMuYXBwbHlTY3JlZW5UcmFuc2Zvcm1hdGlvbkZvclJlY3QoaSksdGhpcy5yZW5kZXJSZWN0YW5nbGUoaSxuLkdyYXBoaWNhbExheWVycy5CYWNrZ3JvdW5kLGUsLjUpO2NvbnN0IHU9bmV3IGwuTGFiZWwocyk7dGhpcy5yZW5kZXJMYWJlbChuZXcgaC5HcmFwaGljYWxMYWJlbCh1LC44LGMuVGV4dEFsaWdubWVudEVudW0uQ2VudGVyQ2VudGVyLHRoaXMucnVsZXMpLGUsaS53aWR0aCxpLmhlaWdodCxpLmhlaWdodCxuZXcgYS5Qb2ludEYyRChpLngsaS55KzEyKSl9ZSsrLHQuQ2hpbGRFbGVtZW50cy5mb3JFYWNoKHQ9PnRoaXMuZHJhd0JvdW5kaW5nQm94ZXModCxlLGkpKX1kcmF3TWFya2VkQXJlYXModCl7Zm9yKGNvbnN0IGUgb2YgdC5HcmFwaGljYWxNYXJrZWRBcmVhcyllJiYoZS5zeXN0ZW1SZWN0YW5nbGUmJnRoaXMuZHJhd1JlY3RhbmdsZShlLnN5c3RlbVJlY3RhbmdsZSxuLkdyYXBoaWNhbExheWVycy5CYWNrZ3JvdW5kKSxlLnNldHRpbmdzJiZ0aGlzLmRyYXdMYWJlbChlLnNldHRpbmdzLG4uR3JhcGhpY2FsTGF5ZXJzLkNvbW1lbnQpLGUubGFiZWxSZWN0YW5nbGUmJnRoaXMuZHJhd1JlY3RhbmdsZShlLmxhYmVsUmVjdGFuZ2xlLG4uR3JhcGhpY2FsTGF5ZXJzLkJhY2tncm91bmQpLGUubGFiZWwmJnRoaXMuZHJhd0xhYmVsKGUubGFiZWwsbi5HcmFwaGljYWxMYXllcnMuQ29tbWVudCkpfWRyYXdDb21tZW50KHQpe2Zvcihjb25zdCBlIG9mIHQuR3JhcGhpY2FsQ29tbWVudHMpZSYmKGUuc2V0dGluZ3MmJnRoaXMuZHJhd0xhYmVsKGUuc2V0dGluZ3Msbi5HcmFwaGljYWxMYXllcnMuQ29tbWVudCksZS5sYWJlbCYmdGhpcy5kcmF3TGFiZWwoZS5sYWJlbCxuLkdyYXBoaWNhbExheWVycy5Db21tZW50KSl9ZHJhd1N0YWZmTGluZVN5bWJvbHModCl7Y29uc3QgZT10LlBhcmVudFN0YWZmLlBhcmVudEluc3RydW1lbnQsaT10LlBvc2l0aW9uQW5kU2hhcGUuQWJzb2x1dGVQb3NpdGlvbi54LHM9dC5Qb3NpdGlvbkFuZFNoYXBlLkFic29sdXRlUG9zaXRpb24ueSsyLG89dC5Qb3NpdGlvbkFuZFNoYXBlLkJvcmRlclJpZ2h0O2UuaGlnaGxpZ2h0JiZ0aGlzLmRyYXdpbmdQYXJhbWV0ZXJzLmRyYXdIaWdobGlnaHRzJiZ0aGlzLmRyYXdMaW5lQXNIb3Jpem9udGFsUmVjdGFuZ2xlKG5ldyByLkdyYXBoaWNhbExpbmUobmV3IGEuUG9pbnRGMkQoaSxzKSxuZXcgYS5Qb2ludEYyRChpK28scyksNCxuLk91dGxpbmVBbmRGaWxsU3R5bGVFbnVtLkhpZ2hsaWdodGVkKSxuLkdyYXBoaWNhbExheWVycy5IaWdobGlnaHQpO2xldCBoPWYuTXVzaWNTeW1ib2xEcmF3aW5nU3R5bGUuRGlzYWJsZWQsbD1kLk11c2ljU3ltYm9sLlBMQVksYz10aGlzLmRyYXdpbmdQYXJhbWV0ZXJzLmRyYXdBY3Rpdml0eVN5bWJvbHM7c3dpdGNoKHRoaXMucGhvbmljU2NvcmVNb2RlKXtjYXNlIGYuUGhvbmljU2NvcmVNb2Rlcy5NaWRpOmw9ZC5NdXNpY1N5bWJvbC5QTEFZLHRoaXMubWlkaVBsYXliYWNrQXZhaWxhYmxlJiZ0LlBhcmVudFN0YWZmLmF1ZGlibGUmJihoPWYuTXVzaWNTeW1ib2xEcmF3aW5nU3R5bGUuUGxheWJhY2tTeW1ib2xzKTticmVhaztjYXNlIGYuUGhvbmljU2NvcmVNb2Rlcy5Gb2xsb3dpbmc6bD1kLk11c2ljU3ltYm9sLk1JQyx0LlBhcmVudFN0YWZmLmZvbGxvd2luZyYmKGg9Zi5NdXNpY1N5bWJvbERyYXdpbmdTdHlsZS5Gb2xsb3dTeW1ib2xzKTticmVhaztkZWZhdWx0OmM9ITF9aWYoYyl7Y29uc3QgdD1uZXcgYS5Qb2ludEYyRChpK28rMixzKTt0aGlzLmRyYXdTeW1ib2wobCxoLHQpfWlmKHRoaXMuZHJhd2luZ1BhcmFtZXRlcnMuZHJhd0Vycm9ycylmb3IoY29uc3QgZSBvZiB0Lk1lYXN1cmVzKXtjb25zdCB0PWUuUG9zaXRpb25BbmRTaGFwZSxpPXQuQWJzb2x1dGVQb3NpdGlvbi54LHM9dC5BYnNvbHV0ZVBvc2l0aW9uLnkrMjtlLmhhc0Vycm9yJiZ0aGlzLmdyYXBoaWNhbE11c2ljU2hlZXQuUGFyZW50TXVzaWNTaGVldC5EcmF3RXJyb25lb3VzTWVhc3VyZXMmJnRoaXMuZHJhd0xpbmVBc0hvcml6b250YWxSZWN0YW5nbGUobmV3IHIuR3JhcGhpY2FsTGluZShuZXcgYS5Qb2ludEYyRChpLHMpLG5ldyBhLlBvaW50RjJEKGkrdC5Cb3JkZXJSaWdodCxzKSw0LG4uT3V0bGluZUFuZEZpbGxTdHlsZUVudW0uRXJyb3JVbmRlcmxheSksbi5HcmFwaGljYWxMYXllcnMuTWVhc3VyZUVycm9yKX19fX0sZnVuY3Rpb24odCxlLGkpe1widXNlIHN0cmljdFwiO09iamVjdC5kZWZpbmVQcm9wZXJ0eShlLFwiX19lc01vZHVsZVwiLHt2YWx1ZTohMH0pLGZ1bmN0aW9uKHQpe3RbdC5BbGw9MF09XCJBbGxcIix0W3QuTm9PdmVybGF5cz0xXT1cIk5vT3ZlcmxheXNcIix0W3QuTGVhZHNoZWV0PTJdPVwiTGVhZHNoZWV0XCJ9KGUuRHJhd2luZ01vZGV8fChlLkRyYXdpbmdNb2RlPXt9KSksZnVuY3Rpb24odCl7dFt0Lk5vcm1hbD0wXT1cIk5vcm1hbFwiLHRbdC5EaXNhYmxlZD0xXT1cIkRpc2FibGVkXCIsdFt0LlNlbGVjdGVkPTJdPVwiU2VsZWN0ZWRcIix0W3QuQ2xpY2thYmxlPTNdPVwiQ2xpY2thYmxlXCIsdFt0LlBsYXliYWNrU3ltYm9scz00XT1cIlBsYXliYWNrU3ltYm9sc1wiLHRbdC5Gb2xsb3dTeW1ib2xzPTVdPVwiRm9sbG93U3ltYm9sc1wiLHRbdC5RRmVlZGJhY2tOb3RGb3VuZD02XT1cIlFGZWVkYmFja05vdEZvdW5kXCIsdFt0LlFGZWVkYmFja09rPTddPVwiUUZlZWRiYWNrT2tcIix0W3QuUUZlZWRiYWNrUGVyZmVjdD04XT1cIlFGZWVkYmFja1BlcmZlY3RcIix0W3QuRGVidWcxPTldPVwiRGVidWcxXCIsdFt0LkRlYnVnMj0xMF09XCJEZWJ1ZzJcIix0W3QuRGVidWczPTExXT1cIkRlYnVnM1wifShlLk11c2ljU3ltYm9sRHJhd2luZ1N0eWxlfHwoZS5NdXNpY1N5bWJvbERyYXdpbmdTdHlsZT17fSkpLGZ1bmN0aW9uKHQpe3RbdC5Gb2xsb3dpbmc9MF09XCJGb2xsb3dpbmdcIix0W3QuTWlkaT0xXT1cIk1pZGlcIix0W3QuTWFudWFsPTJdPVwiTWFudWFsXCJ9KGUuUGhvbmljU2NvcmVNb2Rlc3x8KGUuUGhvbmljU2NvcmVNb2Rlcz17fSkpfSxmdW5jdGlvbih0LGUsaSl7XCJ1c2Ugc3RyaWN0XCI7T2JqZWN0LmRlZmluZVByb3BlcnR5KGUsXCJfX2VzTW9kdWxlXCIse3ZhbHVlOiEwfSk7dmFyIHM7ZS5BcnBlZ2dpbz1jbGFzc3tjb25zdHJ1Y3Rvcih0LGU9cy5BUlBFR0dJT19ESVJFQ1RJT05MRVNTKXt0aGlzLnBhcmVudFZvaWNlRW50cnk9dCx0aGlzLnR5cGU9ZSx0aGlzLm5vdGVzPVtdfWFkZE5vdGUodCl7dGhpcy5ub3Rlcy5wdXNoKHQpLHQuQXJwZWdnaW89dGhpc319LGZ1bmN0aW9uKHQpe3RbdC5CUlVTSF9ET1dOPTFdPVwiQlJVU0hfRE9XTlwiLHRbdC5CUlVTSF9VUD0yXT1cIkJSVVNIX1VQXCIsdFt0LlJPTExfRE9XTj0zXT1cIlJPTExfRE9XTlwiLHRbdC5ST0xMX1VQPTRdPVwiUk9MTF9VUFwiLHRbdC5SQVNRVUVET19ET1dOPTVdPVwiUkFTUVVFRE9fRE9XTlwiLHRbdC5SQVNRVUVET19VUD02XT1cIlJBU1FVRURPX1VQXCIsdFt0LkFSUEVHR0lPX0RJUkVDVElPTkxFU1M9N109XCJBUlBFR0dJT19ESVJFQ1RJT05MRVNTXCJ9KHM9ZS5BcnBlZ2dpb1R5cGV8fChlLkFycGVnZ2lvVHlwZT17fSkpfSxmdW5jdGlvbih0LGUsaSl7XCJ1c2Ugc3RyaWN0XCI7T2JqZWN0LmRlZmluZVByb3BlcnR5KGUsXCJfX2VzTW9kdWxlXCIse3ZhbHVlOiEwfSk7ZS5CZWFtPWNsYXNze2NvbnN0cnVjdG9yKCl7dGhpcy5ub3Rlcz1bXSx0aGlzLmV4dGVuZGVkTm90ZUxpc3Q9W119Z2V0IE5vdGVzKCl7cmV0dXJuIHRoaXMubm90ZXN9c2V0IE5vdGVzKHQpe3RoaXMubm90ZXM9dH1nZXQgRXh0ZW5kZWROb3RlTGlzdCgpe3JldHVybiB0aGlzLmV4dGVuZGVkTm90ZUxpc3R9c2V0IEV4dGVuZGVkTm90ZUxpc3QodCl7dGhpcy5leHRlbmRlZE5vdGVMaXN0PXR9YWRkTm90ZVRvQmVhbSh0KXt0JiYodC5Ob3RlQmVhbT10aGlzLHRoaXMubm90ZXMucHVzaCh0KSx0aGlzLmV4dGVuZGVkTm90ZUxpc3QucHVzaCh0KSl9fSxmdW5jdGlvbih0KXt0W3QuQmVhbU5vbmU9LTFdPVwiQmVhbU5vbmVcIix0W3QuQmVhbUJlZ2luPTBdPVwiQmVhbUJlZ2luXCIsdFt0LkJlYW1Db250aW51ZT0xXT1cIkJlYW1Db250aW51ZVwiLHRbdC5CZWFtRW5kPTJdPVwiQmVhbUVuZFwiLHRbdC5CZWFtRm9yd2FyZD0zXT1cIkJlYW1Gb3J3YXJkXCIsdFt0LkJlYW1CYWNrd2FyZD00XT1cIkJlYW1CYWNrd2FyZFwifShlLkJlYW1FbnVtfHwoZS5CZWFtRW51bT17fSkpfSxmdW5jdGlvbih0LGUsaSl7XCJ1c2Ugc3RyaWN0XCI7dmFyIHM7T2JqZWN0LmRlZmluZVByb3BlcnR5KGUsXCJfX2VzTW9kdWxlXCIse3ZhbHVlOiEwfSksZnVuY3Rpb24odCl7dFt0LlVOREVGSU5FRD0wXT1cIlVOREVGSU5FRFwiLHRbdC5fMTAyNHRoPTFdPVwiXzEwMjR0aFwiLHRbdC5fNTEydGg9Ml09XCJfNTEydGhcIix0W3QuXzI1NnRoPTNdPVwiXzI1NnRoXCIsdFt0Ll8xMjh0aD00XT1cIl8xMjh0aFwiLHRbdC5fNjR0aD01XT1cIl82NHRoXCIsdFt0Ll8zMm5kPTZdPVwiXzMybmRcIix0W3QuXzE2dGg9N109XCJfMTZ0aFwiLHRbdC5FSUdUSD04XT1cIkVJR1RIXCIsdFt0LlFVQVJURVI9OV09XCJRVUFSVEVSXCIsdFt0LkhBTEY9MTBdPVwiSEFMRlwiLHRbdC5XSE9MRT0xMV09XCJXSE9MRVwiLHRbdC5CUkVWRT0xMl09XCJCUkVWRVwiLHRbdC5MT05HPTEzXT1cIkxPTkdcIix0W3QuTUFYSU1BPTE0XT1cIk1BWElNQVwifShzPWUuTm90ZVR5cGV8fChlLk5vdGVUeXBlPXt9KSk7Y2xhc3MgbntzdGF0aWMgTm90ZVR5cGVUb1N0cmluZyh0KXtyZXR1cm4gdGhpcy5Ob3RlVHlwZVhtbFZhbHVlc1t0XX1zdGF0aWMgU3RyaW5nVG9Ob3RlVHlwZSh0KXtjb25zdCBlPXRoaXMuTm90ZVR5cGVYbWxWYWx1ZXMuaW5kZXhPZih0KTtyZXR1cm4tMSE9PWU/ZTpzLlVOREVGSU5FRH19ZS5Ob3RlVHlwZUhhbmRsZXI9bixuLk5vdGVUeXBlWG1sVmFsdWVzPVtcIlwiLFwiMTAyNHRoXCIsXCI1MTJ0aFwiLFwiMjU2dGhcIixcIjEyOHRoXCIsXCI2NHRoXCIsXCIzMm5kXCIsXCIxNnRoXCIsXCJlaWd0aFwiLFwicXVhcnRlclwiLFwiaGFsZlwiLFwid2hvbGVcIixcImJyZXZlXCIsXCJsb25nXCIsXCJtYXhpbWFcIl19LGZ1bmN0aW9uKHQsZSxpKXtcInVzZSBzdHJpY3RcIjtPYmplY3QuZGVmaW5lUHJvcGVydHkoZSxcIl9fZXNNb2R1bGVcIix7dmFsdWU6ITB9KTtjb25zdCBzPWkoNjcpLG49aSg0KTtlLkFsaWdubWVudE1hbmFnZXI9Y2xhc3N7Y29uc3RydWN0b3IodCl7dGhpcy5wYXJlbnRTdGFmZmxpbmU9dCx0aGlzLnJ1bGVzPXRoaXMucGFyZW50U3RhZmZsaW5lLlBhcmVudE11c2ljU3lzdGVtLnJ1bGVzfWFsaWduRHluYW1pY0V4cHJlc3Npb25zKCl7dmFyIHQsZTtjb25zdCBpPVtdO2xldCBuPW5ldyBBcnJheTtmb3IobGV0IHM9MDtzPHRoaXMucGFyZW50U3RhZmZsaW5lLkFic3RyYWN0RXhwcmVzc2lvbnMubGVuZ3RoLTE7cysrKXtjb25zdCByPXRoaXMucGFyZW50U3RhZmZsaW5lLkFic3RyYWN0RXhwcmVzc2lvbnNbc10sbz10aGlzLnBhcmVudFN0YWZmbGluZS5BYnN0cmFjdEV4cHJlc3Npb25zW3MrMV07aWYoKG51bGw9PT0odD1udWxsPT1yP3ZvaWQgMDpyLlNvdXJjZUV4cHJlc3Npb24pfHx2b2lkIDA9PT10P3ZvaWQgMDp0LlBsYWNlbWVudCk9PT0obnVsbD09PShlPW51bGw9PW8/dm9pZCAwOm8uU291cmNlRXhwcmVzc2lvbil8fHZvaWQgMD09PWU/dm9pZCAwOmUuUGxhY2VtZW50KSl7Y29uc3QgdD10aGlzLmdldERpc3RhbmNlKHIuUG9zaXRpb25BbmRTaGFwZSxvLlBvc2l0aW9uQW5kU2hhcGUpO01hdGguYWJzKHQueCk8dGhpcy5ydWxlcy5EeW5hbWljRXhwcmVzc2lvbk1heERpc3RhbmNlPygtMT09PW4uaW5kZXhPZihyKSYmbi5wdXNoKHIpLG4ucHVzaChvKSk6KGkucHVzaChuKSxuPW5ldyBBcnJheSl9fWkucHVzaChuKTtmb3IoY29uc3QgdCBvZiBpKWlmKHQubGVuZ3RoPjApe2NvbnN0IGU9dC5tYXAodD0+dC5Qb3NpdGlvbkFuZFNoYXBlLkNlbnRlci55KSxpPU1hdGgubWF4KC4uLmUpO2ZvcihsZXQgbj0wO248dC5sZW5ndGg7bisrKXtjb25zdCByPXRbbl0sbz1lW25dLWk7aWYociBpbnN0YW5jZW9mIHMuVmV4Rmxvd0NvbnRpbnVvdXNEeW5hbWljRXhwcmVzc2lvbj8oci5zaGlmdFlQb3NpdGlvbigtbyksci5jYWxjUHNpKCkpOihyLlBvc2l0aW9uQW5kU2hhcGUuUmVsYXRpdmVQb3NpdGlvbi55LT0uOCpvLHIuUG9zaXRpb25BbmRTaGFwZS5jYWxjdWxhdGVCb3VuZGluZ0JveCgpKSxyLnNxdWVlemUpe2NvbnN0IGU9bjx0Lmxlbmd0aC0xP3RbbisxXTp2b2lkIDAsaT1uPjA/dFtuLTFdOnZvaWQgMDtpZihlKXtjb25zdCB0PXRoaXMuZ2V0T3ZlcmxhcChyLlBvc2l0aW9uQW5kU2hhcGUsZS5Qb3NpdGlvbkFuZFNoYXBlKTtyLnNxdWVlemUoLSh0LngrdGhpcy5ydWxlcy5EeW5hbWljRXhwcmVzc2lvblNwYWNlcikpfWlmKGkpe2NvbnN0IHQ9dGhpcy5nZXRPdmVybGFwKGkuUG9zaXRpb25BbmRTaGFwZSxyLlBvc2l0aW9uQW5kU2hhcGUpO3Iuc3F1ZWV6ZSh0LngrdGhpcy5ydWxlcy5EeW5hbWljRXhwcmVzc2lvblNwYWNlcil9fX19fWdldERpc3RhbmNlKHQsZSl7Y29uc3QgaT10LlJlbGF0aXZlUG9zaXRpb24ueCt0LkJvcmRlck1hcmdpblJpZ2h0LHM9ZS5SZWxhdGl2ZVBvc2l0aW9uLngrZS5Cb3JkZXJNYXJnaW5MZWZ0LHI9dC5SZWxhdGl2ZVBvc2l0aW9uLnkrdC5Cb3JkZXJNYXJnaW5Cb3R0b20sbz1lLlJlbGF0aXZlUG9zaXRpb24ueStlLkJvcmRlck1hcmdpblRvcDtyZXR1cm4gbmV3IG4uUG9pbnRGMkQocy1pLG8tcil9Z2V0T3ZlcmxhcCh0LGUpe3JldHVybiBuZXcgbi5Qb2ludEYyRCh0LlJlbGF0aXZlUG9zaXRpb24ueCt0LkJvcmRlck1hcmdpblJpZ2h0LShlLlJlbGF0aXZlUG9zaXRpb24ueCtlLkJvcmRlck1hcmdpbkxlZnQpLHQuUmVsYXRpdmVQb3NpdGlvbi55K3QuQm9yZGVyTWFyZ2luQm90dG9tLShlLlJlbGF0aXZlUG9zaXRpb24ueStlLkJvcmRlck1hcmdpblRvcCkpfX19LGZ1bmN0aW9uKHQsZSxpKXtcInVzZSBzdHJpY3RcIjtPYmplY3QuZGVmaW5lUHJvcGVydHkoZSxcIl9fZXNNb2R1bGVcIix7dmFsdWU6ITB9KTtjb25zdCBzPWkoNyksbj1pKDEzKSxyPWkoMjIpLG89aSg0NCksYT1pKDMpLGg9aSg1KSxsPWkoNCk7Y2xhc3MgYyBleHRlbmRzIGguR3JhcGhpY2FsT2JqZWN0e2NvbnN0cnVjdG9yKHQsZSxpLHMsbixyKXtzdXBlcigpLHRoaXMuY2hvcmRTeW1ib2xDb250YWluZXI9dCx0aGlzLmJvdW5kaW5nQm94PW5ldyBhLkJvdW5kaW5nQm94KHRoaXMsZSksdGhpcy5jYWxjdWxhdGVMYWJlbChpLG4scyksdGhpcy5ydWxlcz1yfWdldCBHZXRDaG9yZFN5bWJvbENvbnRhaW5lcigpe3JldHVybiB0aGlzLmNob3JkU3ltYm9sQ29udGFpbmVyfWdldCBHZXRHcmFwaGljYWxMYWJlbCgpe3JldHVybiB0aGlzLmdyYXBoaWNhbExhYmVsfWNhbGN1bGF0ZUxhYmVsKHQsZSxpKXtjb25zdCBhPW8uQ2hvcmRTeW1ib2xDb250YWluZXIuY2FsY3VsYXRlQ2hvcmRUZXh0KHRoaXMuY2hvcmRTeW1ib2xDb250YWluZXIsZSxpKTt0aGlzLmdyYXBoaWNhbExhYmVsPW5ldyByLkdyYXBoaWNhbExhYmVsKG5ldyBuLkxhYmVsKGEpLHQscy5UZXh0QWxpZ25tZW50RW51bS5DZW50ZXJCb3R0b20sdGhpcy5ydWxlcyx0aGlzLmJvdW5kaW5nQm94KSx0aGlzLmdyYXBoaWNhbExhYmVsLlBvc2l0aW9uQW5kU2hhcGUuUmVsYXRpdmVQb3NpdGlvbj1uZXcgbC5Qb2ludEYyRCgwLDApfX1lLkdyYXBoaWNhbENob3JkU3ltYm9sQ29udGFpbmVyPWN9LGZ1bmN0aW9uKHQsZSxpKXtcInVzZSBzdHJpY3RcIjtPYmplY3QuZGVmaW5lUHJvcGVydHkoZSxcIl9fZXNNb2R1bGVcIix7dmFsdWU6ITB9KTtjb25zdCBzPWkoNCk7Y2xhc3Mgbntjb25zdHJ1Y3Rvcigpe24udFBvdzM9bmV3IEFycmF5KG4uYmV6aWVyQ3VydmVTdGVwU2l6ZSksbi5vbmVNaW51c1RQb3czPW5ldyBBcnJheShuLmJlemllckN1cnZlU3RlcFNpemUpLG4uYmV6aWVyRmFjdG9yT25lPW5ldyBBcnJheShuLmJlemllckN1cnZlU3RlcFNpemUpLG4uYmV6aWVyRmFjdG9yVHdvPW5ldyBBcnJheShuLmJlemllckN1cnZlU3RlcFNpemUpO2ZvcihsZXQgdD0wO3Q8bi5iZXppZXJDdXJ2ZVN0ZXBTaXplO3QrKyl7Y29uc3QgZT10L24uYmV6aWVyQ3VydmVTdGVwU2l6ZTtuLnRQb3czW3RdPU1hdGgucG93KGUsMyksbi5vbmVNaW51c1RQb3czW3RdPU1hdGgucG93KDEtZSwzKSxuLmJlemllckZhY3Rvck9uZVt0XT0zKk1hdGgucG93KDEtZSwyKSplLG4uYmV6aWVyRmFjdG9yVHdvW3RdPTMqKDEtZSkqTWF0aC5wb3coZSwyKX19Y2FsY3VsYXRlQ3VydmVQb2ludEF0SW5kZXgodCl7Y29uc3QgZT1NYXRoLnJvdW5kKHQqbi5iZXppZXJDdXJ2ZVN0ZXBTaXplKTtyZXR1cm4gZTwwfHxlPj1uLmJlemllckN1cnZlU3RlcFNpemU/bmV3IHMuUG9pbnRGMkQ6bmV3IHMuUG9pbnRGMkQobi5vbmVNaW51c1RQb3czW2VdKnRoaXMuYmV6aWVyU3RhcnRQdC54K24uYmV6aWVyRmFjdG9yT25lW2VdKnRoaXMuYmV6aWVyU3RhcnRDb250cm9sUHQueCtuLmJlemllckZhY3RvclR3b1tlXSp0aGlzLmJlemllckVuZENvbnRyb2xQdC54K24udFBvdzNbZV0qdGhpcy5iZXppZXJFbmRQdC54LG4ub25lTWludXNUUG93M1tlXSp0aGlzLmJlemllclN0YXJ0UHQueStuLmJlemllckZhY3Rvck9uZVtlXSp0aGlzLmJlemllclN0YXJ0Q29udHJvbFB0Lnkrbi5iZXppZXJGYWN0b3JUd29bZV0qdGhpcy5iZXppZXJFbmRDb250cm9sUHQueStuLnRQb3czW2VdKnRoaXMuYmV6aWVyRW5kUHQueSl9fWUuR3JhcGhpY2FsQ3VydmU9bixuLmJlemllckN1cnZlU3RlcFNpemU9MWUzfSxmdW5jdGlvbih0LGUsaSl7XCJ1c2Ugc3RyaWN0XCI7T2JqZWN0LmRlZmluZVByb3BlcnR5KGUsXCJfX2VzTW9kdWxlXCIse3ZhbHVlOiEwfSk7Y29uc3Qgcz1pKDIyKSxuPWkoMTMpLHI9aSg0KSxvPWkoNyk7ZS5HcmFwaGljYWxMeXJpY0VudHJ5PWNsYXNze2NvbnN0cnVjdG9yKHQsZSxpLGEpe3RoaXMubHlyaWNzRW50cnk9dCx0aGlzLmdyYXBoaWNhbFN0YWZmRW50cnk9ZTtjb25zdCBoPWUucGFyZW50TWVhc3VyZS5wYXJlbnRTb3VyY2VNZWFzdXJlLlJ1bGVzLkx5cmljc0FsaWdubWVudFN0YW5kYXJkO3QuVGV4dC5sZW5ndGg+PTQmJnQuUGFyZW50Lk5vdGVzWzBdLkxlbmd0aC5EZW5vbWluYXRvcj40JiZvLlRleHRBbGlnbm1lbnRFbnVtLkxlZnRCb3R0b207Y29uc3QgbD1uZXcgbi5MYWJlbCh0LlRleHQpO3RoaXMuZ3JhcGhpY2FsTGFiZWw9bmV3IHMuR3JhcGhpY2FsTGFiZWwobCxpLGgsdGhpcy5ncmFwaGljYWxTdGFmZkVudHJ5LnBhcmVudE1lYXN1cmUucGFyZW50U291cmNlTWVhc3VyZS5SdWxlcyxlLlBvc2l0aW9uQW5kU2hhcGUpLHRoaXMuZ3JhcGhpY2FsTGFiZWwuUG9zaXRpb25BbmRTaGFwZS5SZWxhdGl2ZVBvc2l0aW9uPW5ldyByLlBvaW50RjJEKDAsYSksaD09PW8uVGV4dEFsaWdubWVudEVudW0uTGVmdEJvdHRvbSYmKHRoaXMuZ3JhcGhpY2FsTGFiZWwuUG9zaXRpb25BbmRTaGFwZS5SZWxhdGl2ZVBvc2l0aW9uLngtPTEpfWdldCBMeXJpY3NFbnRyeSgpe3JldHVybiB0aGlzLmx5cmljc0VudHJ5fWdldCBQYXJlbnRMeXJpY1dvcmQoKXtyZXR1cm4gdGhpcy5ncmFwaGljYWxMeXJpY1dvcmR9c2V0IFBhcmVudEx5cmljV29yZCh0KXt0aGlzLmdyYXBoaWNhbEx5cmljV29yZD10fWdldCBHcmFwaGljYWxMYWJlbCgpe3JldHVybiB0aGlzLmdyYXBoaWNhbExhYmVsfXNldCBHcmFwaGljYWxMYWJlbCh0KXt0aGlzLmdyYXBoaWNhbExhYmVsPXR9Z2V0IFN0YWZmRW50cnlQYXJlbnQoKXtyZXR1cm4gdGhpcy5ncmFwaGljYWxTdGFmZkVudHJ5fXNldCBTdGFmZkVudHJ5UGFyZW50KHQpe3RoaXMuZ3JhcGhpY2FsU3RhZmZFbnRyeT10fX19LGZ1bmN0aW9uKHQsZSxpKXtcInVzZSBzdHJpY3RcIjtPYmplY3QuZGVmaW5lUHJvcGVydHkoZSxcIl9fZXNNb2R1bGVcIix7dmFsdWU6ITB9KTtlLkdyYXBoaWNhbEx5cmljV29yZD1jbGFzc3tjb25zdHJ1Y3Rvcih0KXt0aGlzLmdyYXBoaWNhbEx5cmljc0VudHJpZXM9W10sdGhpcy5seXJpY1dvcmQ9dCx0aGlzLmluaXRpYWxpemUoKX1nZXQgR2V0THlyaWNXb3JkKCl7cmV0dXJuIHRoaXMubHlyaWNXb3JkfWdldCBHcmFwaGljYWxMeXJpY3NFbnRyaWVzKCl7cmV0dXJuIHRoaXMuZ3JhcGhpY2FsTHlyaWNzRW50cmllc31zZXQgR3JhcGhpY2FsTHlyaWNzRW50cmllcyh0KXt0aGlzLmdyYXBoaWNhbEx5cmljc0VudHJpZXM9dH1pc0ZpbGxlZCgpe2ZvcihsZXQgdD0wO3Q8dGhpcy5ncmFwaGljYWxMeXJpY3NFbnRyaWVzLmxlbmd0aDt0KyspaWYoIXRoaXMuZ3JhcGhpY2FsTHlyaWNzRW50cmllc1t0XSlyZXR1cm4hMTtyZXR1cm4hMH1pbml0aWFsaXplKCl7Zm9yKGxldCB0PTA7dDx0aGlzLmx5cmljV29yZC5TeWxsYWJsZXMubGVuZ3RoO3QrKyl0aGlzLmdyYXBoaWNhbEx5cmljc0VudHJpZXMucHVzaCh2b2lkIDApfX19LGZ1bmN0aW9uKHQsZSxpKXtcInVzZSBzdHJpY3RcIjtPYmplY3QuZGVmaW5lUHJvcGVydHkoZSxcIl9fZXNNb2R1bGVcIix7dmFsdWU6ITB9KTtjb25zdCBzPWkoNSksbj1pKDApLHI9aSgzKSxvPWkoNCk7Y2xhc3MgYSBleHRlbmRzIHMuR3JhcGhpY2FsT2JqZWN0e2NvbnN0cnVjdG9yKHQsZSxpKXtzdXBlcigpLHRoaXMubWVhc3VyZU51bWJlcj0tMSx0aGlzLnBhcmVudFN0YWZmPXQsdGhpcy5wYXJlbnRTb3VyY2VNZWFzdXJlPWUsdGhpcy5wYXJlbnRTdGFmZkxpbmU9aSxpPyh0aGlzLnBhcmVudFN0YWZmPWkuUGFyZW50U3RhZmYsdGhpcy5Qb3NpdGlvbkFuZFNoYXBlPW5ldyByLkJvdW5kaW5nQm94KHRoaXMsaS5Qb3NpdGlvbkFuZFNoYXBlKSk6dGhpcy5Qb3NpdGlvbkFuZFNoYXBlPW5ldyByLkJvdW5kaW5nQm94KHRoaXMpLHRoaXMuUG9zaXRpb25BbmRTaGFwZS5Cb3JkZXJCb3R0b209NCx0aGlzLnBhcmVudFNvdXJjZU1lYXN1cmUmJih0aGlzLm1lYXN1cmVOdW1iZXI9dGhpcy5wYXJlbnRTb3VyY2VNZWFzdXJlLk1lYXN1cmVOdW1iZXIpLHRoaXMuc3RhZmZFbnRyaWVzPVtdfWdldCBQYXJlbnRTdGFmZigpe3JldHVybiB0aGlzLnBhcmVudFN0YWZmfWdldCBQYXJlbnRNdXNpY1N5c3RlbSgpe3JldHVybiB0aGlzLnBhcmVudE11c2ljU3lzdGVtfXNldCBQYXJlbnRNdXNpY1N5c3RlbSh0KXt0aGlzLnBhcmVudE11c2ljU3lzdGVtPXR9Z2V0IE1lYXN1cmVOdW1iZXIoKXtyZXR1cm4gdGhpcy5tZWFzdXJlTnVtYmVyfWdldCBGaXJzdEluc3RydWN0aW9uU3RhZmZFbnRyeSgpe3JldHVybiB0aGlzLmZpcnN0SW5zdHJ1Y3Rpb25TdGFmZkVudHJ5fXNldCBGaXJzdEluc3RydWN0aW9uU3RhZmZFbnRyeSh0KXt0aGlzLmZpcnN0SW5zdHJ1Y3Rpb25TdGFmZkVudHJ5PXR9Z2V0IExhc3RJbnN0cnVjdGlvblN0YWZmRW50cnkoKXtyZXR1cm4gdGhpcy5sYXN0SW5zdHJ1Y3Rpb25TdGFmZkVudHJ5fXNldCBMYXN0SW5zdHJ1Y3Rpb25TdGFmZkVudHJ5KHQpe3RoaXMubGFzdEluc3RydWN0aW9uU3RhZmZFbnRyeT10fWdldCBQYXJlbnRTdGFmZkxpbmUoKXtyZXR1cm4gdGhpcy5wYXJlbnRTdGFmZkxpbmV9c2V0IFBhcmVudFN0YWZmTGluZSh0KXt0aGlzLnBhcmVudFN0YWZmTGluZT10LHRoaXMucGFyZW50U3RhZmZMaW5lJiYodGhpcy5Qb3NpdGlvbkFuZFNoYXBlLlBhcmVudD10aGlzLnBhcmVudFN0YWZmTGluZS5Qb3NpdGlvbkFuZFNoYXBlKX1yZXNldExheW91dCgpe3Rocm93IG5ldyBFcnJvcihcIm5vdCBpbXBsZW1lbnRlZFwiKX1nZXRMaW5lV2lkdGgodCl7dGhyb3cgbmV3IEVycm9yKFwibm90IGltcGxlbWVudGVkXCIpfWFkZENsZWZBdEJlZ2luKHQpe3Rocm93IG5ldyBFcnJvcihcIm5vdCBpbXBsZW1lbnRlZFwiKX1hZGRLZXlBdEJlZ2luKHQsZSxpKXt0aHJvdyBuZXcgRXJyb3IoXCJub3QgaW1wbGVtZW50ZWRcIil9YWRkUmh5dGhtQXRCZWdpbih0KXt0aHJvdyBuZXcgRXJyb3IoXCJub3QgaW1wbGVtZW50ZWRcIil9YWRkQ2xlZkF0RW5kKHQpe3Rocm93IG5ldyBFcnJvcihcIm5vdCBpbXBsZW1lbnRlZFwiKX1zZXRQb3NpdGlvbkluU3RhZmZsaW5lKHQpe3RoaXMuUG9zaXRpb25BbmRTaGFwZS5SZWxhdGl2ZVBvc2l0aW9uPW5ldyBvLlBvaW50RjJEKHQsMCl9c2V0V2lkdGgodCl7dGhpcy5Qb3NpdGlvbkFuZFNoYXBlLkJvcmRlclJpZ2h0PXR9bGF5b3V0U3ltYm9scygpe3Rocm93IG5ldyBFcnJvcihcIm5vdCBpbXBsZW1lbnRlZFwiKX1maW5kR3JhcGhpY2FsU3RhZmZFbnRyeUZyb21UaW1lc3RhbXAodCl7dmFyIGU7Zm9yKGxldCBpPTAscz10aGlzLnN0YWZmRW50cmllcy5sZW5ndGg7aTxzOysraSl7Y29uc3Qgcz10aGlzLnN0YWZmRW50cmllc1tpXTtpZihudWxsPT09KGU9cy5yZWxJbk1lYXN1cmVUaW1lc3RhbXApfHx2b2lkIDA9PT1lP3ZvaWQgMDplLkVxdWFscyh0KSlyZXR1cm4gc319ZmluZEdyYXBoaWNhbFN0YWZmRW50cnlGcm9tVmVydGljYWxDb250YWluZXJUaW1lc3RhbXAodCl7Zm9yKGxldCBlPTAsaT10aGlzLnN0YWZmRW50cmllcy5sZW5ndGg7ZTxpOysrZSl7Y29uc3QgaT10aGlzLnN0YWZmRW50cmllc1tlXTtpZihpLnNvdXJjZVN0YWZmRW50cnkuVmVydGljYWxDb250YWluZXJQYXJlbnQuZ2V0QWJzb2x1dGVUaW1lc3RhbXAoKS5FcXVhbHModCkpcmV0dXJuIGl9fWhhc1NhbWVEdXJhdGlvbldpdGhTb3VyY2VNZWFzdXJlUGFyZW50KCl7Y29uc3QgdD1uZXcgbi5GcmFjdGlvbigwLDEpO2ZvcihsZXQgZT0wLGk9dGhpcy5zdGFmZkVudHJpZXMubGVuZ3RoO2U8aTsrK2Upe2NvbnN0IGk9dGhpcy5zdGFmZkVudHJpZXNbZV07dC5BZGQoaS5maW5kU3RhZmZFbnRyeU1pbk5vdGVMZW5ndGgoKSl9cmV0dXJuIHQuRXF1YWxzKHRoaXMucGFyZW50U291cmNlTWVhc3VyZS5EdXJhdGlvbil9aGFzTXVsdGlwbGVWb2ljZXMoKXtpZigwPT09dGhpcy5zdGFmZkVudHJpZXMubGVuZ3RoKXJldHVybiExO2NvbnN0IHQ9W107Zm9yKGxldCBlPTAsaT10aGlzLnN0YWZmRW50cmllcy5sZW5ndGg7ZTxpOysrZSl7Y29uc3QgaT10aGlzLnN0YWZmRW50cmllc1tlXTtmb3IobGV0IGU9MCxzPWkuc291cmNlU3RhZmZFbnRyeS5Wb2ljZUVudHJpZXMubGVuZ3RoO2U8czsrK2Upe2NvbnN0IHM9aS5zb3VyY2VTdGFmZkVudHJ5LlZvaWNlRW50cmllc1tlXTt0LmluZGV4T2Yocy5QYXJlbnRWb2ljZSk8MCYmdC5wdXNoKHMuUGFyZW50Vm9pY2UpfX1yZXR1cm4gdC5sZW5ndGg+MX1pc1Zpc2libGUoKXtyZXR1cm4gdGhpcy5QYXJlbnRTdGFmZi5QYXJlbnRJbnN0cnVtZW50LlZpc2libGV9Z2V0R3JhcGhpY2FsTWVhc3VyZUR1cmF0aW9uRnJvbVN0YWZmRW50cmllcygpe2xldCB0PW5ldyBuLkZyYWN0aW9uKDAsMSk7Y29uc3QgZT1bXTtmb3IobGV0IHQ9MCxpPXRoaXMuc3RhZmZFbnRyaWVzLmxlbmd0aDt0PGk7Kyt0KXtjb25zdCBpPXRoaXMuc3RhZmZFbnRyaWVzW3RdO2ZvcihsZXQgdD0wLHM9aS5zb3VyY2VTdGFmZkVudHJ5LlZvaWNlRW50cmllcy5sZW5ndGg7dDxzOysrdCl7Y29uc3Qgcz1pLnNvdXJjZVN0YWZmRW50cnkuVm9pY2VFbnRyaWVzW3RdO2UuaW5kZXhPZihzLlBhcmVudFZvaWNlKTwwJiZlLnB1c2gocy5QYXJlbnRWb2ljZSl9fWZvcihsZXQgaT0wLHM9ZS5sZW5ndGg7aTxzOysraSl7Y29uc3Qgcz1lW2ldLHI9bmV3IG4uRnJhY3Rpb24oMCwxKTtmb3IoY29uc3QgdCBvZiB0aGlzLnN0YWZmRW50cmllcylmb3IoY29uc3QgZSBvZiB0LmdyYXBoaWNhbFZvaWNlRW50cmllcyllLnBhcmVudFZvaWNlRW50cnkuUGFyZW50Vm9pY2U9PT1zJiZlLm5vdGVzLmxlbmd0aD4wJiZyLkFkZChlLm5vdGVzWzBdLmdyYXBoaWNhbE5vdGVMZW5ndGgpO3QubHQocikmJih0PW4uRnJhY3Rpb24uY3JlYXRlRnJvbUZyYWN0aW9uKHIpKX1yZXR1cm4gdH1hZGRHcmFwaGljYWxTdGFmZkVudHJ5KHQpe3RoaXMuc3RhZmZFbnRyaWVzLnB1c2godCl9YWRkR3JhcGhpY2FsU3RhZmZFbnRyeUF0VGltZXN0YW1wKHQpe2lmKHQpaWYoMD09PXRoaXMuc3RhZmZFbnRyaWVzLmxlbmd0aHx8dGhpcy5zdGFmZkVudHJpZXNbdGhpcy5zdGFmZkVudHJpZXMubGVuZ3RoLTFdLnJlbEluTWVhc3VyZVRpbWVzdGFtcC5sdCh0LnJlbEluTWVhc3VyZVRpbWVzdGFtcCkpdGhpcy5zdGFmZkVudHJpZXMucHVzaCh0KTtlbHNlIGZvcihsZXQgZT10aGlzLnN0YWZmRW50cmllcy5sZW5ndGgtMTtlPj0wO2UtLSl7aWYodGhpcy5zdGFmZkVudHJpZXNbZV0ucmVsSW5NZWFzdXJlVGltZXN0YW1wLmx0KHQucmVsSW5NZWFzdXJlVGltZXN0YW1wKSl7dGhpcy5zdGFmZkVudHJpZXMuc3BsaWNlKGUrMSwwLHQpO2JyZWFrfTA9PT1lJiZ0aGlzLnN0YWZmRW50cmllcy5zcGxpY2UoZSwwLHQpfX1iZWdpbnNXaXRoTGluZVJlcGV0aXRpb24oKXtjb25zdCB0PXRoaXMucGFyZW50U291cmNlTWVhc3VyZTtyZXR1cm4hIXQmJnQuYmVnaW5zV2l0aExpbmVSZXBldGl0aW9uKCl9ZW5kc1dpdGhMaW5lUmVwZXRpdGlvbigpe2NvbnN0IHQ9dGhpcy5wYXJlbnRTb3VyY2VNZWFzdXJlO3JldHVybiEhdCYmdC5lbmRzV2l0aExpbmVSZXBldGl0aW9uKCl9YmVnaW5zV2l0aFdvcmRSZXBldGl0aW9uKCl7Y29uc3QgdD10aGlzLnBhcmVudFNvdXJjZU1lYXN1cmU7cmV0dXJuISF0JiZ0LmJlZ2luc1dpdGhXb3JkUmVwZXRpdGlvbigpfWVuZHNXaXRoV29yZFJlcGV0aXRpb24oKXtjb25zdCB0PXRoaXMucGFyZW50U291cmNlTWVhc3VyZTtyZXR1cm4hIXQmJnQuZW5kc1dpdGhXb3JkUmVwZXRpdGlvbigpfX1lLkdyYXBoaWNhbE1lYXN1cmU9YX0sZnVuY3Rpb24odCxlLGkpe1widXNlIHN0cmljdFwiO09iamVjdC5kZWZpbmVQcm9wZXJ0eShlLFwiX19lc01vZHVsZVwiLHt2YWx1ZTohMH0pO2NvbnN0IHM9aSg1KSxuPWkoMTQpLHI9aSgzKTtjbGFzcyBvIGV4dGVuZHMgcy5HcmFwaGljYWxPYmplY3R7Y29uc3RydWN0b3IodCxlLGkpe3N1cGVyKCksdGhpcy5zb3VyY2VOb3RlPXQsdGhpcy5wYXJlbnRWb2ljZUVudHJ5PWUsdGhpcy5Qb3NpdGlvbkFuZFNoYXBlPW5ldyByLkJvdW5kaW5nQm94KHRoaXMsZS5Qb3NpdGlvbkFuZFNoYXBlKSx0aGlzLmdyYXBoaWNhbE5vdGVMZW5ndGg9aXx8dC5MZW5ndGgsdGhpcy5udW1iZXJPZkRvdHM9dGhpcy5jYWxjdWxhdGVOdW1iZXJPZk5lZWRlZERvdHModGhpcy5ncmFwaGljYWxOb3RlTGVuZ3RoKX1UcmFuc3Bvc2UodCxlLGkscyl7bGV0IHI9dGhpcy5zb3VyY2VOb3RlLlBpdGNoO3JldHVybiBuLk11c2ljU2hlZXRDYWxjdWxhdG9yLnRyYW5zcG9zZUNhbGN1bGF0b3ImJihyPW4uTXVzaWNTaGVldENhbGN1bGF0b3IudHJhbnNwb3NlQ2FsY3VsYXRvci50cmFuc3Bvc2VQaXRjaCh0aGlzLnNvdXJjZU5vdGUuUGl0Y2gsdCxpKSkscn1jYWxjdWxhdGVOdW1iZXJPZk5lZWRlZERvdHModCl7bGV0IGU9MSxpPTI7Y29uc3Qgcz10LkdldEV4cGFuZGVkTnVtZXJhdG9yKCk7aWYoIXRoaXMuc291cmNlTm90ZXx8IXRoaXMuc291cmNlTm90ZS5Ob3RlVHVwbGV0KWZvcig7aTxzOyllKyssaT1NYXRoLnBvdygyLGUpO3JldHVybiBNYXRoLm1pbigzLGUtMSl9Z2V0IFBhcmVudE11c2ljUGFnZSgpe3JldHVybiB0aGlzLnBhcmVudFZvaWNlRW50cnkucGFyZW50U3RhZmZFbnRyeS5wYXJlbnRNZWFzdXJlLlBhcmVudE11c2ljU3lzdGVtLlBhcmVudH19ZS5HcmFwaGljYWxOb3RlPW99LGZ1bmN0aW9uKHQsZSxpKXtcInVzZSBzdHJpY3RcIjtPYmplY3QuZGVmaW5lUHJvcGVydHkoZSxcIl9fZXNNb2R1bGVcIix7dmFsdWU6ITB9KTtjb25zdCBzPWkoNSksbj1pKDMxKSxyPWkoMyksbz1pKDYzKSxhPWkoMTEpO2NsYXNzIGggZXh0ZW5kcyBzLkdyYXBoaWNhbE9iamVjdHtjb25zdHJ1Y3Rvcih0LGUpe3N1cGVyKCksdGhpcy5nZXRPY3RhdmVTaGlmdD10LHRoaXMuc2V0U3ltYm9sKCksdGhpcy5Qb3NpdGlvbkFuZFNoYXBlPW5ldyByLkJvdW5kaW5nQm94KHRoaXMsZSl9c2V0U3ltYm9sKCl7c3dpdGNoKHRoaXMuZ2V0T2N0YXZlU2hpZnQuVHlwZSl7Y2FzZSBuLk9jdGF2ZUVudW0uVkE4OnRoaXMub2N0YXZlU3ltYm9sPW8uTXVzaWNTeW1ib2wuVkE4O2JyZWFrO2Nhc2Ugbi5PY3RhdmVFbnVtLlZCODp0aGlzLm9jdGF2ZVN5bWJvbD1vLk11c2ljU3ltYm9sLlZCODticmVhaztjYXNlIG4uT2N0YXZlRW51bS5NQTE1OnRoaXMub2N0YXZlU3ltYm9sPW8uTXVzaWNTeW1ib2wuTUExNTticmVhaztjYXNlIG4uT2N0YXZlRW51bS5NQjE1OnRoaXMub2N0YXZlU3ltYm9sPW8uTXVzaWNTeW1ib2wuTUIxNTticmVhaztkZWZhdWx0OnRocm93IG5ldyBhLkFyZ3VtZW50T3V0T2ZSYW5nZUV4Y2VwdGlvbihcIlwiKX19fWUuR3JhcGhpY2FsT2N0YXZlU2hpZnQ9aH0sZnVuY3Rpb24odCxlLGkpe1widXNlIHN0cmljdFwiO09iamVjdC5kZWZpbmVQcm9wZXJ0eShlLFwiX19lc01vZHVsZVwiLHt2YWx1ZTohMH0pO2NvbnN0IHM9aSg0KSxuPWkoMTA4KSxyPWkoNiksbz1pKDE2MSksYT1pKDM3KSxoPWkoMCksbD1pKDE2KTtjbGFzcyBjIGV4dGVuZHMgbi5HcmFwaGljYWxDdXJ2ZXtjb25zdHJ1Y3Rvcih0KXtzdXBlcigpLHRoaXMuc3RhZmZFbnRyaWVzPVtdLHRoaXMuc2x1cj10fXN0YXRpYyBDb21wYXJlKHQsZSl7aWYodC5zdGFmZkVudHJpZXMubGVuZ3RoPDEpcmV0dXJuLTE7aWYoZS5zdGFmZkVudHJpZXMubGVuZ3RoPDEpcmV0dXJuIDE7Y29uc3QgaT1oLkZyYWN0aW9uLm1pbnVzKHQuc3RhZmZFbnRyaWVzW3Quc3RhZmZFbnRyaWVzLmxlbmd0aC0xXS5nZXRBYnNvbHV0ZVRpbWVzdGFtcCgpLHQuc3RhZmZFbnRyaWVzWzBdLmdldEFic29sdXRlVGltZXN0YW1wKCkpLHM9aC5GcmFjdGlvbi5taW51cyhlLnN0YWZmRW50cmllc1tlLnN0YWZmRW50cmllcy5sZW5ndGgtMV0uZ2V0QWJzb2x1dGVUaW1lc3RhbXAoKSxlLnN0YWZmRW50cmllc1swXS5nZXRBYnNvbHV0ZVRpbWVzdGFtcCgpKTtyZXR1cm4gaS5SZWFsVmFsdWU+cy5SZWFsVmFsdWU/MTpzLlJlYWxWYWx1ZT5pLlJlYWxWYWx1ZT8tMTowfWNhbGN1bGF0ZUN1cnZlKHQpe2NvbnN0IGU9dGhpcy5zdGFmZkVudHJpZXNbMF0saT10aGlzLnN0YWZmRW50cmllc1t0aGlzLnN0YWZmRW50cmllcy5sZW5ndGgtMV07bGV0IG49ZS5maW5kR3JhcGhpY2FsTm90ZUZyb21Ob3RlKHRoaXMuc2x1ci5TdGFydE5vdGUpOyFuJiZ0aGlzLmdyYWNlU3RhcnQmJihuPWUuZmluZEdyYXBoaWNhbE5vdGVGcm9tR3JhY2VOb3RlKHRoaXMuc2x1ci5TdGFydE5vdGUpKSxufHwobj1lLmZpbmRFbmRUaWVHcmFwaGljYWxOb3RlRnJvbU5vdGVXaXRoU3RhcnRpbmdTbHVyKHRoaXMuc2x1ci5TdGFydE5vdGUsdGhpcy5zbHVyKSk7bGV0IGE9aS5maW5kR3JhcGhpY2FsTm90ZUZyb21Ob3RlKHRoaXMuc2x1ci5FbmROb3RlKTshYSYmdGhpcy5ncmFjZUVuZCYmKGE9aS5maW5kR3JhcGhpY2FsTm90ZUZyb21HcmFjZU5vdGUodGhpcy5zbHVyLkVuZE5vdGUpKTtjb25zdCBoPWUucGFyZW50TWVhc3VyZS5QYXJlbnRTdGFmZkxpbmUsbD1oLlNreUJvdHRvbUxpbmVDYWxjdWxhdG9yO3RoaXMuY2FsY3VsYXRlUGxhY2VtZW50KGwsaCk7Y29uc3QgYz10aGlzLmNhbGN1bGF0ZVN0YXJ0QW5kRW5kKG4sYSxoLHQsbCksdT1jLnN0YXJ0WCxkPWMuZW5kWDtsZXQgZj1jLnN0YXJ0WSxtPWMuZW5kWTtjb25zdCBwPXQuU2x1clRhbmdlbnRNaW5BbmdsZSxnPXQuU2x1clRhbmdlbnRNYXhBbmdsZTtsZXQgYixTLHk7aWYodGhpcy5wbGFjZW1lbnQ9PT1yLlBsYWNlbWVudEVudW0uQWJvdmUpe2YtPXQuU2x1ck5vdGVIZWFkWU9mZnNldCxtLT10LlNsdXJOb3RlSGVhZFlPZmZzZXQsYj1uZXcgcy5Qb2ludEYyRCh1LGYpLFM9bmV3IHMuUG9pbnRGMkQoZCxtKTtjb25zdCBlPW5ldyBzLlBvaW50RjJEKHRoaXMuc3RhZmZFbnRyaWVzWzBdLnBhcmVudE1lYXN1cmUuUG9zaXRpb25BbmRTaGFwZS5SZWxhdGl2ZVBvc2l0aW9uLngrdGhpcy5zdGFmZkVudHJpZXNbMF0uUG9zaXRpb25BbmRTaGFwZS5SZWxhdGl2ZVBvc2l0aW9uLngsZik7bj9lLngrPXRoaXMuc3RhZmZFbnRyaWVzWzBdLlBvc2l0aW9uQW5kU2hhcGUuQm9yZGVyUmlnaHQ6ZS54PXRoaXMuc3RhZmZFbnRyaWVzWzBdLnBhcmVudE1lYXN1cmUuYmVnaW5JbnN0cnVjdGlvbnNXaWR0aCx0aGlzLmdyYWNlU3RhcnQmJihlLngrPWkuUG9zaXRpb25BbmRTaGFwZS5SZWxhdGl2ZVBvc2l0aW9uLngpO2NvbnN0IHI9bmV3IHMuUG9pbnRGMkQodGhpcy5zdGFmZkVudHJpZXNbdGhpcy5zdGFmZkVudHJpZXMubGVuZ3RoLTFdLnBhcmVudE1lYXN1cmUuUG9zaXRpb25BbmRTaGFwZS5SZWxhdGl2ZVBvc2l0aW9uLngrdGhpcy5zdGFmZkVudHJpZXNbdGhpcy5zdGFmZkVudHJpZXMubGVuZ3RoLTFdLlBvc2l0aW9uQW5kU2hhcGUuUmVsYXRpdmVQb3NpdGlvbi54LG0pO2lmKGE/ci54Kz10aGlzLnN0YWZmRW50cmllc1t0aGlzLnN0YWZmRW50cmllcy5sZW5ndGgtMV0uUG9zaXRpb25BbmRTaGFwZS5Cb3JkZXJMZWZ0OnIueD10aGlzLnN0YWZmRW50cmllc1t0aGlzLnN0YWZmRW50cmllcy5sZW5ndGgtMV0ucGFyZW50TWVhc3VyZS5Qb3NpdGlvbkFuZFNoYXBlLlJlbGF0aXZlUG9zaXRpb24ueCt0aGlzLnN0YWZmRW50cmllc1t0aGlzLnN0YWZmRW50cmllcy5sZW5ndGgtMV0ucGFyZW50TWVhc3VyZS5Qb3NpdGlvbkFuZFNoYXBlLlNpemUud2lkdGgsdGhpcy5ncmFjZUVuZCYmKHIueCs9aS5zdGFmZkVudHJ5UGFyZW50LlBvc2l0aW9uQW5kU2hhcGUuUmVsYXRpdmVQb3NpdGlvbi54KSx5PXRoaXMuY2FsY3VsYXRlVG9wUG9pbnRzKGUscixoLGwpLDA9PT15Lmxlbmd0aCl7Y29uc3QgdD1uZXcgcy5Qb2ludEYyRCgoci54LWUueCkvMitlLngsKHIueS1lLnkpLzIrZS55KTt5LnB1c2godCl9Y29uc3QgYz1NYXRoLmF0YW4oKG0tZikvKGQtdSkpLHg9bmV3IHMuUG9pbnRGMkQoMCwwKTtsZXQgRSx2LF89bmV3IHMuUG9pbnRGMkQoZC11LC0obS1mKSk7RT1vLk1hdHJpeDJELmdldFJvdGF0aW9uTWF0cml4KGMpLHY9RS5nZXRUcmFuc3Bvc2VNYXRyaXgoKSxfPUUudmVjdG9yTXVsdGlwbGljYXRpb24oXyk7Y29uc3Qgdz10aGlzLmNhbGN1bGF0ZVRyYW5zbGF0ZWRBbmRSb3RhdGVkUG9pbnRMaXN0QWJvdmUoeSx1LGYsRSksTT10aGlzLmNhbGN1bGF0ZU1heExlZnRTbG9wZSh3LHgsXyksVD10aGlzLmNhbGN1bGF0ZU1heFJpZ2h0U2xvcGUodyx4LF8pLFA9eC55LXgueCpNLEw9Xy55LV8ueCpULEE9bmV3IHMuUG9pbnRGMkQ7bGV0IEk9ITE7TWF0aC5hYnMoTWF0aC5hYnMoTSktTWF0aC5hYnMoVCkpPDFlLTQ/KEEueD1fLngvMixBLnk9MCxJPSEwKTooQS54PShMLVApLyhNLVQpLEEueT1NKkEueCtQKTtjb25zdCBDPXAsUj0tcDtJfHx0aGlzLmNhbGN1bGF0ZUFuZ2xlcyhDLFIsTSxULGcpO2NvbnN0IE49dGhpcy5jYWxjdWxhdGVDb250cm9sUG9pbnRzKF8ueCxDLFIsdyk7bGV0IEI9Ti5sZWZ0Q29udHJvbFBvaW50LEY9Ti5yaWdodENvbnRyb2xQb2ludDtCPXYudmVjdG9yTXVsdGlwbGljYXRpb24oQiksQi54Kz11LEIueT0tQi55K2YsRj12LnZlY3Rvck11bHRpcGxpY2F0aW9uKEYpLEYueCs9dSxGLnk9LUYueStmLHRoaXMuYmV6aWVyU3RhcnRQdD1iLHRoaXMuYmV6aWVyU3RhcnRDb250cm9sUHQ9Qix0aGlzLmJlemllckVuZENvbnRyb2xQdD1GLHRoaXMuYmV6aWVyRW5kUHQ9Uztjb25zdCBEPWguU2t5TGluZS5sZW5ndGgsaz1sLmdldExlZnRJbmRleEZvclBvaW50WCh0aGlzLmJlemllclN0YXJ0UHQueCxEKSxPPWwuZ2V0TGVmdEluZGV4Rm9yUG9pbnRYKHRoaXMuYmV6aWVyRW5kUHQueCxEKSxWPXRoaXMuYmV6aWVyRW5kUHQueC10aGlzLmJlemllclN0YXJ0UHQueCxHPWwuU2FtcGxpbmdVbml0O2ZvcihsZXQgdD1rO3Q8Tzt0Kyspe2NvbnN0IGU9dC9HLXRoaXMuYmV6aWVyU3RhcnRQdC54LGk9dGhpcy5jYWxjdWxhdGVDdXJ2ZVBvaW50QXRJbmRleChNYXRoLmFicyhlKS9WKTtsZXQgcz1sLmdldExlZnRJbmRleEZvclBvaW50WChpLngsRCk7cz49ayYmKGguU2t5TGluZVtzXT1NYXRoLm1pbihoLlNreUxpbmVbc10saS55KSkscysrLHM8RCYmKGguU2t5TGluZVtzXT1NYXRoLm1pbihoLlNreUxpbmVbc10saS55KSl9fWVsc2V7Zis9dC5TbHVyTm90ZUhlYWRZT2Zmc2V0LG0rPXQuU2x1ck5vdGVIZWFkWU9mZnNldCxiPW5ldyBzLlBvaW50RjJEKHUsZiksUz1uZXcgcy5Qb2ludEYyRChkLG0pO2NvbnN0IGU9bmV3IHMuUG9pbnRGMkQodGhpcy5zdGFmZkVudHJpZXNbMF0ucGFyZW50TWVhc3VyZS5Qb3NpdGlvbkFuZFNoYXBlLlJlbGF0aXZlUG9zaXRpb24ueCt0aGlzLnN0YWZmRW50cmllc1swXS5Qb3NpdGlvbkFuZFNoYXBlLlJlbGF0aXZlUG9zaXRpb24ueCxmKTtuP2UueCs9dGhpcy5zdGFmZkVudHJpZXNbMF0uUG9zaXRpb25BbmRTaGFwZS5Cb3JkZXJSaWdodDplLng9dGhpcy5zdGFmZkVudHJpZXNbMF0ucGFyZW50TWVhc3VyZS5iZWdpbkluc3RydWN0aW9uc1dpZHRoLHRoaXMuZ3JhY2VTdGFydCYmKGUueCs9aS5Qb3NpdGlvbkFuZFNoYXBlLlJlbGF0aXZlUG9zaXRpb24ueCk7Y29uc3Qgcj1uZXcgcy5Qb2ludEYyRCh0aGlzLnN0YWZmRW50cmllc1t0aGlzLnN0YWZmRW50cmllcy5sZW5ndGgtMV0ucGFyZW50TWVhc3VyZS5Qb3NpdGlvbkFuZFNoYXBlLlJlbGF0aXZlUG9zaXRpb24ueCt0aGlzLnN0YWZmRW50cmllc1t0aGlzLnN0YWZmRW50cmllcy5sZW5ndGgtMV0uUG9zaXRpb25BbmRTaGFwZS5SZWxhdGl2ZVBvc2l0aW9uLngsbSk7aWYoYT9yLngrPXRoaXMuc3RhZmZFbnRyaWVzW3RoaXMuc3RhZmZFbnRyaWVzLmxlbmd0aC0xXS5Qb3NpdGlvbkFuZFNoYXBlLkJvcmRlckxlZnQ6ci54PXRoaXMuc3RhZmZFbnRyaWVzW3RoaXMuc3RhZmZFbnRyaWVzLmxlbmd0aC0xXS5wYXJlbnRNZWFzdXJlLlBvc2l0aW9uQW5kU2hhcGUuUmVsYXRpdmVQb3NpdGlvbi54K3RoaXMuc3RhZmZFbnRyaWVzW3RoaXMuc3RhZmZFbnRyaWVzLmxlbmd0aC0xXS5wYXJlbnRNZWFzdXJlLlBvc2l0aW9uQW5kU2hhcGUuU2l6ZS53aWR0aCx0aGlzLmdyYWNlRW5kJiYoci54Kz1pLnN0YWZmRW50cnlQYXJlbnQuUG9zaXRpb25BbmRTaGFwZS5SZWxhdGl2ZVBvc2l0aW9uLngpLHk9dGhpcy5jYWxjdWxhdGVCb3R0b21Qb2ludHMoZSxyLGgsbCksMD09PXkubGVuZ3RoKXtjb25zdCB0PW5ldyBzLlBvaW50RjJEKChyLngtZS54KS8yK2UueCwoci55LWUueSkvMitlLnkpO3kucHVzaCh0KX1jb25zdCBjPU1hdGguYXRhbigobS1mKS8oZC11KSkseD1uZXcgcy5Qb2ludEYyRCgwLDApO2xldCBFLHYsXz1uZXcgcy5Qb2ludEYyRChkLXUsbS1mKTtFPW8uTWF0cml4MkQuZ2V0Um90YXRpb25NYXRyaXgoLWMpLHY9RS5nZXRUcmFuc3Bvc2VNYXRyaXgoKSxfPUUudmVjdG9yTXVsdGlwbGljYXRpb24oXyk7Y29uc3Qgdz10aGlzLmNhbGN1bGF0ZVRyYW5zbGF0ZWRBbmRSb3RhdGVkUG9pbnRMaXN0QmVsb3coeSx1LGYsRSksTT10aGlzLmNhbGN1bGF0ZU1heExlZnRTbG9wZSh3LHgsXyksVD10aGlzLmNhbGN1bGF0ZU1heFJpZ2h0U2xvcGUodyx4LF8pLFA9eC55LXgueCpNLEw9Xy55LV8ueCpULEE9bmV3IHMuUG9pbnRGMkQ7bGV0IEk9ITE7TWF0aC5hYnMoTWF0aC5hYnMoTSktTWF0aC5hYnMoVCkpPDFlLTQ/KEEueD1fLngvMixBLnk9MCxJPSEwKTooQS54PShMLVApLyhNLVQpLEEueT1NKkEueCtQKTtjb25zdCBDPXAsUj0tcDtJfHx0aGlzLmNhbGN1bGF0ZUFuZ2xlcyhDLFIsTSxULGcpO2NvbnN0IE49dGhpcy5jYWxjdWxhdGVDb250cm9sUG9pbnRzKF8ueCxDLFIsdyk7bGV0IEI9Ti5sZWZ0Q29udHJvbFBvaW50LEY9Ti5yaWdodENvbnRyb2xQb2ludDtCPXYudmVjdG9yTXVsdGlwbGljYXRpb24oQiksQi54Kz11LEIueSs9ZixGPXYudmVjdG9yTXVsdGlwbGljYXRpb24oRiksRi54Kz11LEYueSs9Zix0aGlzLmJlemllclN0YXJ0UHQ9Yix0aGlzLmJlemllclN0YXJ0Q29udHJvbFB0PUIsdGhpcy5iZXppZXJFbmRDb250cm9sUHQ9Rix0aGlzLmJlemllckVuZFB0PVM7Y29uc3QgRD1oLkJvdHRvbUxpbmUubGVuZ3RoLGs9bC5nZXRMZWZ0SW5kZXhGb3JQb2ludFgodGhpcy5iZXppZXJTdGFydFB0LngsRCksTz1sLmdldExlZnRJbmRleEZvclBvaW50WCh0aGlzLmJlemllckVuZFB0LngsRCksVj10aGlzLmJlemllckVuZFB0LngtdGhpcy5iZXppZXJTdGFydFB0LngsRz1sLlNhbXBsaW5nVW5pdDtmb3IobGV0IHQ9azt0PE87dCsrKXtjb25zdCBlPXQvRy10aGlzLmJlemllclN0YXJ0UHQueCxpPXRoaXMuY2FsY3VsYXRlQ3VydmVQb2ludEF0SW5kZXgoTWF0aC5hYnMoZSkvVik7bGV0IHM9bC5nZXRMZWZ0SW5kZXhGb3JQb2ludFgoaS54LEQpO3M+PWsmJihoLkJvdHRvbUxpbmVbc109TWF0aC5tYXgoaC5Cb3R0b21MaW5lW3NdLGkueSkpLHMrKyxzPEQmJihoLkJvdHRvbUxpbmVbc109TWF0aC5tYXgoaC5Cb3R0b21MaW5lW3NdLGkueSkpfX19Y2FsY3VsYXRlU3RhcnRBbmRFbmQodCxlLGkscyxuKXtsZXQgbz0wLGE9MCxoPTAsYz0wO2lmKHQpe289dC5Qb3NpdGlvbkFuZFNoYXBlLlJlbGF0aXZlUG9zaXRpb24ueCt0LnBhcmVudFZvaWNlRW50cnkucGFyZW50U3RhZmZFbnRyeS5Qb3NpdGlvbkFuZFNoYXBlLlJlbGF0aXZlUG9zaXRpb24ueCt0LnBhcmVudFZvaWNlRW50cnkucGFyZW50U3RhZmZFbnRyeS5wYXJlbnRNZWFzdXJlLlBvc2l0aW9uQW5kU2hhcGUuUmVsYXRpdmVQb3NpdGlvbi54LHRoaXMuZ3JhY2VTdGFydCYmKG8rPXQucGFyZW50Vm9pY2VFbnRyeS5wYXJlbnRTdGFmZkVudHJ5LnN0YWZmRW50cnlQYXJlbnQuUG9zaXRpb25BbmRTaGFwZS5SZWxhdGl2ZVBvc2l0aW9uLngpO2NvbnN0IGU9dC5wYXJlbnRWb2ljZUVudHJ5O2E9dGhpcy5wbGFjZW1lbnQ9PT1yLlBsYWNlbWVudEVudW0uQWJvdmU/ZS5Qb3NpdGlvbkFuZFNoYXBlLlJlbGF0aXZlUG9zaXRpb24ueStlLlBvc2l0aW9uQW5kU2hhcGUuQm9yZGVyVG9wOmUuUG9zaXRpb25BbmRTaGFwZS5SZWxhdGl2ZVBvc2l0aW9uLnkrZS5Qb3NpdGlvbkFuZFNoYXBlLkJvcmRlckJvdHRvbSxlLnBhcmVudFZvaWNlRW50cnkuU3RlbURpcmVjdGlvbj09PWwuU3RlbURpcmVjdGlvblR5cGUuRG93biYmdGhpcy5wbGFjZW1lbnQ9PT1yLlBsYWNlbWVudEVudW0uQmVsb3cmJihvLT0uNSksZS5wYXJlbnRWb2ljZUVudHJ5LlN0ZW1EaXJlY3Rpb249PT1sLlN0ZW1EaXJlY3Rpb25UeXBlLlVwJiZ0aGlzLnBsYWNlbWVudD09PXIuUGxhY2VtZW50RW51bS5BYm92ZSYmKG8rPS41KX1lbHNlIG89aS5NZWFzdXJlc1swXS5iZWdpbkluc3RydWN0aW9uc1dpZHRoO2lmKGUpe2g9ZS5Qb3NpdGlvbkFuZFNoYXBlLlJlbGF0aXZlUG9zaXRpb24ueCtlLnBhcmVudFZvaWNlRW50cnkucGFyZW50U3RhZmZFbnRyeS5Qb3NpdGlvbkFuZFNoYXBlLlJlbGF0aXZlUG9zaXRpb24ueCtlLnBhcmVudFZvaWNlRW50cnkucGFyZW50U3RhZmZFbnRyeS5wYXJlbnRNZWFzdXJlLlBvc2l0aW9uQW5kU2hhcGUuUmVsYXRpdmVQb3NpdGlvbi54LHRoaXMuZ3JhY2VFbmQmJihoKz1lLnBhcmVudFZvaWNlRW50cnkucGFyZW50U3RhZmZFbnRyeS5zdGFmZkVudHJ5UGFyZW50LlBvc2l0aW9uQW5kU2hhcGUuUmVsYXRpdmVQb3NpdGlvbi54KTtjb25zdCB0PWUucGFyZW50Vm9pY2VFbnRyeTtjPXRoaXMucGxhY2VtZW50PT09ci5QbGFjZW1lbnRFbnVtLkFib3ZlP3QuUG9zaXRpb25BbmRTaGFwZS5SZWxhdGl2ZVBvc2l0aW9uLnkrdC5Qb3NpdGlvbkFuZFNoYXBlLkJvcmRlclRvcDp0LlBvc2l0aW9uQW5kU2hhcGUuUmVsYXRpdmVQb3NpdGlvbi55K3QuUG9zaXRpb25BbmRTaGFwZS5Cb3JkZXJCb3R0b20sdC5wYXJlbnRWb2ljZUVudHJ5LlN0ZW1EaXJlY3Rpb249PT1sLlN0ZW1EaXJlY3Rpb25UeXBlLkRvd24mJnRoaXMucGxhY2VtZW50PT09ci5QbGFjZW1lbnRFbnVtLkJlbG93JiYoaC09LjUpLHQucGFyZW50Vm9pY2VFbnRyeS5TdGVtRGlyZWN0aW9uPT09bC5TdGVtRGlyZWN0aW9uVHlwZS5VcCYmdGhpcy5wbGFjZW1lbnQ9PT1yLlBsYWNlbWVudEVudW0uQWJvdmUmJihoKz0uNSl9ZWxzZSBoPWkuUG9zaXRpb25BbmRTaGFwZS5TaXplLndpZHRoO3JldHVybiB0fHxlfHwoYT0wLGM9MCksdHx8KGE9YyksZXx8KGM9YSksdGhpcy5zbHVyLnN0YXJ0Tm90ZUhhc01vcmVTdGFydGluZ1NsdXJzKCkmJnRoaXMuc2x1ci5pc1NsdXJMb25nZXIoKSYmKHRoaXMucGxhY2VtZW50PT09ci5QbGFjZW1lbnRFbnVtLkFib3ZlP2EtPXMuU2x1cnNTdGFydGluZ0F0U2FtZVN0YWZmRW50cnlZT2Zmc2V0OmErPXMuU2x1cnNTdGFydGluZ0F0U2FtZVN0YWZmRW50cnlZT2Zmc2V0KSx0aGlzLnNsdXIuZW5kTm90ZUhhc01vcmVFbmRpbmdTbHVycygpJiZ0aGlzLnNsdXIuaXNTbHVyTG9uZ2VyKCkmJih0aGlzLnBsYWNlbWVudD09PXIuUGxhY2VtZW50RW51bS5BYm92ZT9jLT1zLlNsdXJzU3RhcnRpbmdBdFNhbWVTdGFmZkVudHJ5WU9mZnNldDpjKz1zLlNsdXJzU3RhcnRpbmdBdFNhbWVTdGFmZkVudHJ5WU9mZnNldCkse3N0YXJ0WDpvLHN0YXJ0WTphLGVuZFg6aCxlbmRZOmN9fWNhbGN1bGF0ZVBsYWNlbWVudCh0LGUpe2ZvcihsZXQgdD0wLGU9dGhpcy5zdGFmZkVudHJpZXMubGVuZ3RoO3Q8ZTsrK3Qpe2lmKHRoaXMuc3RhZmZFbnRyaWVzW3RdLnBhcmVudE1lYXN1cmUuaGFzTXVsdGlwbGVWb2ljZXMoKSlyZXR1cm4gdm9pZCh0aGlzLnNsdXIuU3RhcnROb3RlLlBhcmVudFZvaWNlRW50cnkuUGFyZW50Vm9pY2UgaW5zdGFuY2VvZiBhLkxpbmtlZFZvaWNlfHx0aGlzLnNsdXIuRW5kTm90ZS5QYXJlbnRWb2ljZUVudHJ5LlBhcmVudFZvaWNlIGluc3RhbmNlb2YgYS5MaW5rZWRWb2ljZT90aGlzLnBsYWNlbWVudD1yLlBsYWNlbWVudEVudW0uQmVsb3c6dGhpcy5wbGFjZW1lbnQ9ci5QbGFjZW1lbnRFbnVtLkFib3ZlKX1mb3IobGV0IHQ9MCxlPXRoaXMuc3RhZmZFbnRyaWVzLmxlbmd0aDt0PGU7Kyt0KXtpZih0aGlzLnN0YWZmRW50cmllc1t0XS5MeXJpY3NFbnRyaWVzLmxlbmd0aD4wKXJldHVybiB2b2lkKHRoaXMucGxhY2VtZW50PXIuUGxhY2VtZW50RW51bS5BYm92ZSl9Y29uc3QgaT10aGlzLnN0YWZmRW50cmllc1swXSxzPXRoaXMuc3RhZmZFbnRyaWVzW3RoaXMuc3RhZmZFbnRyaWVzLmxlbmd0aC0xXSxuPWkuZ3JhcGhpY2FsVm9pY2VFbnRyaWVzWzBdLnBhcmVudFZvaWNlRW50cnkuU3RlbURpcmVjdGlvbjtpZihuPT09cy5ncmFwaGljYWxWb2ljZUVudHJpZXNbMF0ucGFyZW50Vm9pY2VFbnRyeS5TdGVtRGlyZWN0aW9uKXRoaXMucGxhY2VtZW50PW49PT1sLlN0ZW1EaXJlY3Rpb25UeXBlLlVwP3IuUGxhY2VtZW50RW51bS5CZWxvdzpyLlBsYWNlbWVudEVudW0uQWJvdmU7ZWxzZXtsZXQgbj1pLlBvc2l0aW9uQW5kU2hhcGUuQm9yZGVyTGVmdCtpLlBvc2l0aW9uQW5kU2hhcGUuUmVsYXRpdmVQb3NpdGlvbi54K2kucGFyZW50TWVhc3VyZS5Qb3NpdGlvbkFuZFNoYXBlLlJlbGF0aXZlUG9zaXRpb24ueCxvPXMuUG9zaXRpb25BbmRTaGFwZS5Cb3JkZXJSaWdodCtzLlBvc2l0aW9uQW5kU2hhcGUuUmVsYXRpdmVQb3NpdGlvbi54K3MucGFyZW50TWVhc3VyZS5Qb3NpdGlvbkFuZFNoYXBlLlJlbGF0aXZlUG9zaXRpb24ueDt0aGlzLmdyYWNlU3RhcnQmJihuKz1zLlBvc2l0aW9uQW5kU2hhcGUuUmVsYXRpdmVQb3NpdGlvbi54KSx0aGlzLmdyYWNlRW5kJiYobys9cy5zdGFmZkVudHJ5UGFyZW50LlBvc2l0aW9uQW5kU2hhcGUuUmVsYXRpdmVQb3NpdGlvbi54KTtjb25zdCBhPS0xKnQuZ2V0U2t5TGluZU1pbkluUmFuZ2UobixvKSxoPXQuZ2V0Qm90dG9tTGluZU1heEluUmFuZ2UobixvKS1lLlN0YWZmSGVpZ2h0O3RoaXMucGxhY2VtZW50PWg+YT9yLlBsYWNlbWVudEVudW0uQWJvdmU6ci5QbGFjZW1lbnRFbnVtLkJlbG93fX1jYWxjdWxhdGVUb3BQb2ludHModCxlLGksbil7Y29uc3Qgcj1bXTtsZXQgbz1uLmdldFJpZ2h0SW5kZXhGb3JQb2ludFgodC54LGkuU2t5TGluZS5sZW5ndGgpLGE9bi5nZXRMZWZ0SW5kZXhGb3JQb2ludFgoZS54LGkuU2t5TGluZS5sZW5ndGgpO288MCYmKG89MCksYT49aS5Ta3lMaW5lLmxlbmd0aCYmKGE9aS5Ta3lMaW5lLmxlbmd0aC0xKTtmb3IobGV0IHQ9bzt0PGE7dCsrKXtjb25zdCBlPW5ldyBzLlBvaW50RjJEKCguNSt0KS9uLlNhbXBsaW5nVW5pdCxpLlNreUxpbmVbdF0pO3IucHVzaChlKX1yZXR1cm4gcn1jYWxjdWxhdGVCb3R0b21Qb2ludHModCxlLGksbil7Y29uc3Qgcj1bXTtsZXQgbz1uLmdldFJpZ2h0SW5kZXhGb3JQb2ludFgodC54LGkuQm90dG9tTGluZS5sZW5ndGgpLGE9bi5nZXRMZWZ0SW5kZXhGb3JQb2ludFgoZS54LGkuQm90dG9tTGluZS5sZW5ndGgpO288MCYmKG89MCksYT49aS5Cb3R0b21MaW5lLmxlbmd0aCYmKGE9aS5Cb3R0b21MaW5lLmxlbmd0aC0xKTtmb3IobGV0IHQ9bzt0PGE7dCsrKXtjb25zdCBlPW5ldyBzLlBvaW50RjJEKCguNSt0KS9uLlNhbXBsaW5nVW5pdCxpLkJvdHRvbUxpbmVbdF0pO3IucHVzaChlKX1yZXR1cm4gcn1jYWxjdWxhdGVNYXhMZWZ0U2xvcGUodCxlLGkpe2xldCBzPS1OdW1iZXIuTUFYX1ZBTFVFO2NvbnN0IG49ZS54LHI9ZS55O2ZvcihsZXQgZT0wO2U8dC5sZW5ndGg7ZSsrKU1hdGguYWJzKHRbZV0ueS1OdW1iZXIuTUFYX1ZBTFVFKTwxZS00fHxNYXRoLmFicyh0W2VdLnktIC1OdW1iZXIuTUFYX1ZBTFVFKTwxZS00fHwocz1NYXRoLm1heChzLCh0W2VdLnktcikvKHRbZV0ueC1uKSkpO3JldHVybiBzPU1hdGgubWF4KHMsTWF0aC5hYnMoaS55LXIpLyhpLngtbikpLHN9Y2FsY3VsYXRlTWF4UmlnaHRTbG9wZSh0LGUsaSl7bGV0IHM9TnVtYmVyLk1BWF9WQUxVRTtjb25zdCBuPWkueCxyPWkueTtmb3IobGV0IGU9MDtlPHQubGVuZ3RoO2UrKylNYXRoLmFicyh0W2VdLnktTnVtYmVyLk1BWF9WQUxVRSk8MWUtNHx8TWF0aC5hYnModFtlXS55LSAtTnVtYmVyLk1BWF9WQUxVRSk8MWUtNHx8KHM9TWF0aC5taW4ocywoci10W2VdLnkpLyhuLXRbZV0ueCkpKTtyZXR1cm4gcz1NYXRoLm1pbihzLChyLWUueSkvKG4tZS54KSksc31nZXRQb2ludExpc3RNYXhZKHQpe2xldCBlPS1OdW1iZXIuTUFYX1ZBTFVFO2ZvcihsZXQgaT0wLHM9dC5sZW5ndGg7aTxzOysraSl7Y29uc3Qgcz10W2ldO01hdGguYWJzKHMueS0gLU51bWJlci5NQVhfVkFMVUUpPDFlLTR8fE1hdGguYWJzKHMueS1OdW1iZXIuTUFYX1ZBTFVFKTwxZS00fHwoZT1NYXRoLm1heChlLHMueSkpfXJldHVybiBlfWNhbGN1bGF0ZVRyYW5zbGF0ZWRBbmRSb3RhdGVkUG9pbnRMaXN0QWJvdmUodCxlLGksbil7Y29uc3Qgcj1bXTtmb3IobGV0IG89MDtvPHQubGVuZ3RoO28rKyl7aWYoTWF0aC5hYnModFtvXS55LU51bWJlci5NQVhfVkFMVUUpPDFlLTR8fE1hdGguYWJzKHRbb10ueS0gLU51bWJlci5NQVhfVkFMVUUpPDFlLTQpY29udGludWU7bGV0IGE9bmV3IHMuUG9pbnRGMkQodFtvXS54LWUsLSh0W29dLnktaSkpO2E9bi52ZWN0b3JNdWx0aXBsaWNhdGlvbihhKSxyLnB1c2goYSl9cmV0dXJuIHJ9Y2FsY3VsYXRlVHJhbnNsYXRlZEFuZFJvdGF0ZWRQb2ludExpc3RCZWxvdyh0LGUsaSxuKXtjb25zdCByPVtdO2ZvcihsZXQgbz0wO288dC5sZW5ndGg7bysrKXtpZihNYXRoLmFicyh0W29dLnktTnVtYmVyLk1BWF9WQUxVRSk8MWUtNHx8TWF0aC5hYnModFtvXS55LSAtTnVtYmVyLk1BWF9WQUxVRSk8MWUtNCljb250aW51ZTtsZXQgYT1uZXcgcy5Qb2ludEYyRCh0W29dLngtZSx0W29dLnktaSk7YT1uLnZlY3Rvck11bHRpcGxpY2F0aW9uKGEpLHIucHVzaChhKX1yZXR1cm4gcn1jYWxjdWxhdGVIZWlnaHRXaWR0aFJhdGlvKHQsZSl7aWYoMD09PWUubGVuZ3RoKXJldHVybiAwO3JldHVybiBNYXRoLm1heCgwLHRoaXMuZ2V0UG9pbnRMaXN0TWF4WShlKSkvdH1jYWxjdWxhdGVDb250cm9sUG9pbnRzKHQsZSxpLG4pe2NvbnN0IHI9dGhpcy5jYWxjdWxhdGVIZWlnaHRXaWR0aFJhdGlvKHQsbiksbz10KihjLmsqcitjLmQpLGE9bmV3IHMuUG9pbnRGMkQ7YS54PW8qTWF0aC5jb3MoZSpjLmRlZ3JlZXNUb1JhZGlhbnNGYWN0b3IpLGEueT1vKk1hdGguc2luKGUqYy5kZWdyZWVzVG9SYWRpYW5zRmFjdG9yKTtjb25zdCBoPW5ldyBzLlBvaW50RjJEO3JldHVybiBoLng9dC1vKk1hdGguY29zKGkqYy5kZWdyZWVzVG9SYWRpYW5zRmFjdG9yKSxoLnk9LW8qTWF0aC5zaW4oaSpjLmRlZ3JlZXNUb1JhZGlhbnNGYWN0b3IpLHtsZWZ0Q29udHJvbFBvaW50OmEscmlnaHRDb250cm9sUG9pbnQ6aH19Y2FsY3VsYXRlQW5nbGVzKHQsZSxpLHMsbil7bGV0IHI9TWF0aC5hdGFuKGkpL2MuZGVncmVlc1RvUmFkaWFuc0ZhY3RvcjtpPjA/cis9MjA6ci09MjA7bGV0IG89TWF0aC5hdGFuKHMpL2MuZGVncmVlc1RvUmFkaWFuc0ZhY3RvcjtzPDA/by09MjA6bys9MjAsdD1NYXRoLm1pbihNYXRoLm1heCh0LHIpLG4pLGU9TWF0aC5tYXgoTWF0aC5taW4oZSxvKSwtbil9fWUuR3JhcGhpY2FsU2x1cj1jLGMuZGVncmVlc1RvUmFkaWFuc0ZhY3Rvcj1NYXRoLlBJLzE4MCxjLms9LjksYy5kPS4yfSxmdW5jdGlvbih0LGUsaSl7XCJ1c2Ugc3RyaWN0XCI7T2JqZWN0LmRlZmluZVByb3BlcnR5KGUsXCJfX2VzTW9kdWxlXCIse3ZhbHVlOiEwfSk7Y29uc3Qgcz1pKDMpLG49aSgwKSxyPWkoNSksbz1pKDI0KSxhPWkoMTQpO2NsYXNzIGggZXh0ZW5kcyByLkdyYXBoaWNhbE9iamVjdHtjb25zdHJ1Y3Rvcih0LGUsaSl7c3VwZXIoKSx0aGlzLmdyYXBoaWNhbENob3JkQ29udGFpbmVycz1bXSx0aGlzLnRhYlN0YWZmRW50cnk9dm9pZCAwLHRoaXMuZ3JhcGhpY2FsSW5zdHJ1Y3Rpb25zPVtdLHRoaXMuZ3JhcGhpY2FsVGllcz1bXSx0aGlzLmx5cmljc0VudHJpZXM9W10sdGhpcy5wYXJlbnRNZWFzdXJlPXQsdGhpcy5ncmFwaGljYWxWb2ljZUVudHJpZXM9W10sdGhpcy5zb3VyY2VTdGFmZkVudHJ5PWUsaT8odGhpcy5zdGFmZkVudHJ5UGFyZW50PWksdGhpcy5wYXJlbnRWZXJ0aWNhbENvbnRhaW5lcj1pLnBhcmVudFZlcnRpY2FsQ29udGFpbmVyLHRoaXMuUG9zaXRpb25BbmRTaGFwZT1uZXcgcy5Cb3VuZGluZ0JveCh0aGlzLGkuUG9zaXRpb25BbmRTaGFwZSkpOnRoaXMuUG9zaXRpb25BbmRTaGFwZT1uZXcgcy5Cb3VuZGluZ0JveCh0aGlzLHQuUG9zaXRpb25BbmRTaGFwZSksZSYmKHRoaXMucmVsSW5NZWFzdXJlVGltZXN0YW1wPWUuVGltZXN0YW1wKX1nZXQgR3JhcGhpY2FsSW5zdHJ1Y3Rpb25zKCl7cmV0dXJuIHRoaXMuZ3JhcGhpY2FsSW5zdHJ1Y3Rpb25zfWdldCBHcmFwaGljYWxUaWVzKCl7cmV0dXJuIHRoaXMuZ3JhcGhpY2FsVGllc31nZXQgTHlyaWNzRW50cmllcygpe3JldHVybiB0aGlzLmx5cmljc0VudHJpZXN9c2V0IEx5cmljc0VudHJpZXModCl7dGhpcy5seXJpY3NFbnRyaWVzPXR9Z2V0QWJzb2x1dGVUaW1lc3RhbXAoKXtjb25zdCB0PXRoaXMucGFyZW50TWVhc3VyZS5wYXJlbnRTb3VyY2VNZWFzdXJlLkFic29sdXRlVGltZXN0YW1wLmNsb25lKCk7cmV0dXJuIHRoaXMucmVsSW5NZWFzdXJlVGltZXN0YW1wJiZ0LkFkZCh0aGlzLnJlbEluTWVhc3VyZVRpbWVzdGFtcCksdH1maW5kRW5kVGllR3JhcGhpY2FsTm90ZUZyb21Ob3RlKHQpe2Zvcihjb25zdCBlIG9mIHRoaXMuZ3JhcGhpY2FsVm9pY2VFbnRyaWVzKWZvcihjb25zdCBpIG9mIGUubm90ZXMpe2NvbnN0IGU9aS5zb3VyY2VOb3RlO2lmKCFlLmlzUmVzdCgpJiZlLlBpdGNoLkZ1bmRhbWVudGFsTm90ZT09PXQuUGl0Y2guRnVuZGFtZW50YWxOb3RlJiZlLlBpdGNoLk9jdGF2ZT09PXQuUGl0Y2guT2N0YXZlJiZlLmdldEFic29sdXRlVGltZXN0YW1wKCkuRXF1YWxzKHQuZ2V0QWJzb2x1dGVUaW1lc3RhbXAoKSkpcmV0dXJuIGl9fWZpbmRFbmRUaWVHcmFwaGljYWxOb3RlRnJvbU5vdGVXaXRoU3RhcnRpbmdTbHVyKHQsZSl7aWYodClmb3IoY29uc3QgaSBvZiB0aGlzLmdyYXBoaWNhbFZvaWNlRW50cmllcylpZihpLnBhcmVudFZvaWNlRW50cnk9PT10LlBhcmVudFZvaWNlRW50cnkpZm9yKGNvbnN0IHQgb2YgaS5ub3Rlcyl7Y29uc3QgaT10LnNvdXJjZU5vdGU7aWYoaS5Ob3RlVGllJiYtMSE9PWkuTm90ZVNsdXJzLmluZGV4T2YoZSkpcmV0dXJuIHR9fWZpbmRHcmFwaGljYWxOb3RlRnJvbUdyYWNlTm90ZSh0KXtpZih0KWZvcihjb25zdCBlIG9mIHRoaXMuZ3JhcGhpY2FsVm9pY2VFbnRyaWVzKWlmKGUucGFyZW50Vm9pY2VFbnRyeT09PXQuUGFyZW50Vm9pY2VFbnRyeSlmb3IoY29uc3QgaSBvZiBlLm5vdGVzKWlmKGkuc291cmNlTm90ZT09PXQpcmV0dXJuIGl9ZmluZEdyYXBoaWNhbE5vdGVGcm9tTm90ZSh0KXtpZih0KWZvcihjb25zdCBlIG9mIHRoaXMuZ3JhcGhpY2FsVm9pY2VFbnRyaWVzKWlmKGUucGFyZW50Vm9pY2VFbnRyeT09PXQuUGFyZW50Vm9pY2VFbnRyeSlmb3IoY29uc3QgaSBvZiBlLm5vdGVzKWlmKGkuc291cmNlTm90ZT09PXQmJnRoaXMuZ2V0QWJzb2x1dGVUaW1lc3RhbXAoKS5FcXVhbHModC5nZXRBYnNvbHV0ZVRpbWVzdGFtcCgpKSlyZXR1cm4gaX1nZXRHcmFwaGljYWxOb3RlRHVyYXRpb25Gcm9tVm9pY2UodCl7Zm9yKGNvbnN0IGUgb2YgdGhpcy5ncmFwaGljYWxWb2ljZUVudHJpZXMpaWYoZS5wYXJlbnRWb2ljZUVudHJ5LlBhcmVudFZvaWNlPT09dClyZXR1cm4gZS5ub3Rlc1swXS5ncmFwaGljYWxOb3RlTGVuZ3RoO3JldHVybiBuZXcgbi5GcmFjdGlvbigwLDEpfWZpbmRWb2ljZUVudHJ5R3JhcGhpY2FsTm90ZXModCl7Zm9yKGNvbnN0IGUgb2YgdGhpcy5ncmFwaGljYWxWb2ljZUVudHJpZXMpaWYoZS5wYXJlbnRWb2ljZUVudHJ5PT09dClyZXR1cm4gZS5ub3Rlc31pc1ZvaWNlRW50cnlQYXJ0T2ZMaW5rZWRWb2ljZUVudHJ5KHQpe2lmKHRoaXMuc291cmNlU3RhZmZFbnRyeS5MaW5rKWZvcihsZXQgZT0wLGk9dGhpcy5zb3VyY2VTdGFmZkVudHJ5LkxpbmsuTGlua1N0YWZmRW50cmllcy5sZW5ndGg7ZTxpOysrZSl7Y29uc3QgaT10aGlzLnNvdXJjZVN0YWZmRW50cnkuTGluay5MaW5rU3RhZmZFbnRyaWVzW2VdO2lmKC0xIT09aS5Wb2ljZUVudHJpZXMuaW5kZXhPZih0KSYmaSE9PXRoaXMuc291cmNlU3RhZmZFbnRyeSlyZXR1cm4hMH1yZXR1cm4hMX1maW5kU3RhZmZFbnRyeU1pbk5vdGVMZW5ndGgoKXtsZXQgdD1uZXcgbi5GcmFjdGlvbihOdW1iZXIuTUFYX1ZBTFVFLDEpO2Zvcihjb25zdCBlIG9mIHRoaXMuZ3JhcGhpY2FsVm9pY2VFbnRyaWVzKWZvcihjb25zdCBpIG9mIGUubm90ZXMpe2NvbnN0IGU9aS5ncmFwaGljYWxOb3RlTGVuZ3RoO2UubHQodCkmJmUuR2V0RXhwYW5kZWROdW1lcmF0b3IoKT4wJiYodD1lKX1yZXR1cm4gdH1maW5kU3RhZmZFbnRyeU1heE5vdGVMZW5ndGgoKXtsZXQgdD1uZXcgbi5GcmFjdGlvbigwLDEpO2Zvcihjb25zdCBlIG9mIHRoaXMuZ3JhcGhpY2FsVm9pY2VFbnRyaWVzKWZvcihjb25zdCBpIG9mIGUubm90ZXMpe2NvbnN0IGU9aS5ncmFwaGljYWxOb3RlTGVuZ3RoO3QubHQoZSkmJmUuR2V0RXhwYW5kZWROdW1lcmF0b3IoKT4wJiYodD1lKX1yZXR1cm4gdH1maW5kT3JDcmVhdGVHcmFwaGljYWxWb2ljZUVudHJ5KHQpe2Zvcihjb25zdCBlIG9mIHRoaXMuZ3JhcGhpY2FsVm9pY2VFbnRyaWVzKWlmKGUucGFyZW50Vm9pY2VFbnRyeT09PXQpcmV0dXJuIGU7Y29uc3QgZT1hLk11c2ljU2hlZXRDYWxjdWxhdG9yLnN5bWJvbEZhY3RvcnkuY3JlYXRlVm9pY2VFbnRyeSh0LHRoaXMpO3JldHVybiB0aGlzLmdyYXBoaWNhbFZvaWNlRW50cmllcy5wdXNoKGUpLGV9ZmluZE9yQ3JlYXRlR3JhcGhpY2FsVm9pY2VFbnRyeUZyb21HcmFwaGljYWxOb3RlKHQpe2Zvcihjb25zdCBlIG9mIHRoaXMuZ3JhcGhpY2FsVm9pY2VFbnRyaWVzKWlmKGU9PT10LnBhcmVudFZvaWNlRW50cnkpcmV0dXJuIGU7Y29uc3QgZT1hLk11c2ljU2hlZXRDYWxjdWxhdG9yLnN5bWJvbEZhY3RvcnkuY3JlYXRlVm9pY2VFbnRyeSh0LnNvdXJjZU5vdGUuUGFyZW50Vm9pY2VFbnRyeSx0aGlzKTtyZXR1cm4gdGhpcy5ncmFwaGljYWxWb2ljZUVudHJpZXMucHVzaChlKSxlfWFkZEdyYXBoaWNhbE5vdGVUb0xpc3RBdENvcnJlY3RZUG9zaXRpb24odCxlKXtjb25zdCBpPXQubm90ZXM7aWYoMD09PWkubGVuZ3RofHxlLlBvc2l0aW9uQW5kU2hhcGUuUmVsYXRpdmVQb3NpdGlvbi55PG8uQ29sbGVjdGlvblV0aWwubGFzdChpKS5Qb3NpdGlvbkFuZFNoYXBlLlJlbGF0aXZlUG9zaXRpb24ueSlpLnB1c2goZSk7ZWxzZSBmb3IobGV0IHQ9aS5sZW5ndGgtMTt0Pj0wO3QtLSl7aWYoaVt0XS5Qb3NpdGlvbkFuZFNoYXBlLlJlbGF0aXZlUG9zaXRpb24ueT5lLlBvc2l0aW9uQW5kU2hhcGUuUmVsYXRpdmVQb3NpdGlvbi55KXtpLnNwbGljZSh0KzEsMCxlKTticmVha31pZigwPT09dCl7aS5zcGxpY2UoMCwwLGUpO2JyZWFrfX19aGFzT25seVJlc3RzKCl7Zm9yKGNvbnN0IHQgb2YgdGhpcy5ncmFwaGljYWxWb2ljZUVudHJpZXMpZm9yKGNvbnN0IGUgb2YgdC5ub3Rlcyl7aWYoIWUuc291cmNlTm90ZS5pc1Jlc3QoKSlyZXR1cm4hMX1yZXR1cm4hMH19ZS5HcmFwaGljYWxTdGFmZkVudHJ5PWh9LGZ1bmN0aW9uKHQsZSxpKXtcInVzZSBzdHJpY3RcIjtPYmplY3QuZGVmaW5lUHJvcGVydHkoZSxcIl9fZXNNb2R1bGVcIix7dmFsdWU6ITB9KTtlLkdyYXBoaWNhbFRpZT1jbGFzc3tjb25zdHJ1Y3Rvcih0LGUsaSl7dGhpcy50aWU9dCx0aGlzLnN0YXJ0Tm90ZT1lLHRoaXMuZW5kTm90ZT1pfWdldCBHZXRUaWUoKXtyZXR1cm4gdGhpcy50aWV9Z2V0IFN0YXJ0Tm90ZSgpe3JldHVybiB0aGlzLnN0YXJ0Tm90ZX1zZXQgU3RhcnROb3RlKHQpe3RoaXMuc3RhcnROb3RlPXR9Z2V0IEVuZE5vdGUoKXtyZXR1cm4gdGhpcy5lbmROb3RlfXNldCBFbmROb3RlKHQpe3RoaXMuZW5kTm90ZT10fX19LGZ1bmN0aW9uKHQsZSxpKXtcInVzZSBzdHJpY3RcIjtPYmplY3QuZGVmaW5lUHJvcGVydHkoZSxcIl9fZXNNb2R1bGVcIix7dmFsdWU6ITB9KTtjb25zdCBzPWkoNSksbj1pKDMpLHI9aSgyOSk7Y2xhc3MgbyBleHRlbmRzIHMuR3JhcGhpY2FsT2JqZWN0e2NvbnN0cnVjdG9yKHQsZSl7c3VwZXIoKSx0aGlzLnBhcmVudFZvaWNlRW50cnk9dCx0aGlzLnBhcmVudFN0YWZmRW50cnk9ZSx0aGlzLlBvc2l0aW9uQW5kU2hhcGU9bmV3IG4uQm91bmRpbmdCb3godGhpcyxlP2UuUG9zaXRpb25BbmRTaGFwZTp2b2lkIDAsITApLHRoaXMubm90ZXM9W10sdGhpcy5ydWxlcz1lP2UucGFyZW50TWVhc3VyZS5wYXJlbnRTb3VyY2VNZWFzdXJlLlJ1bGVzOm5ldyByLkVuZ3JhdmluZ1J1bGVzfXNvcnQoKXt0aGlzLm5vdGVzLnNvcnQoKHQsZSk9PmUuc291cmNlTm90ZS5QaXRjaC5nZXRIYWxmVG9uZSgpLXQuc291cmNlTm90ZS5QaXRjaC5nZXRIYWxmVG9uZSgpKX1jb2xvcigpe319ZS5HcmFwaGljYWxWb2ljZUVudHJ5PW99LGZ1bmN0aW9uKHQsZSxpKXtcInVzZSBzdHJpY3RcIjt2YXIgcz10aGlzJiZ0aGlzLl9faW1wb3J0RGVmYXVsdHx8ZnVuY3Rpb24odCl7cmV0dXJuIHQmJnQuX19lc01vZHVsZT90OntkZWZhdWx0OnR9fTtPYmplY3QuZGVmaW5lUHJvcGVydHkoZSxcIl9fZXNNb2R1bGVcIix7dmFsdWU6ITB9KTtjb25zdCBuPWkoNCkscj1pKDY4KSxvPWkoMTkpLGE9cyhpKDEpKTtlLlNreUJvdHRvbUxpbmVDYWxjdWxhdG9yPWNsYXNze2NvbnN0cnVjdG9yKHQpe3RoaXMubVN0YWZmTGluZVBhcmVudD10LHRoaXMubVJ1bGVzPXQuUGFyZW50TXVzaWNTeXN0ZW0ucnVsZXN9Y2FsY3VsYXRlTGluZXMoKXtjb25zdCB0PU1hdGgubWF4KE1hdGguY2VpbCh0aGlzLlN0YWZmTGluZVBhcmVudC5Qb3NpdGlvbkFuZFNoYXBlLlNpemUud2lkdGgqdGhpcy5TYW1wbGluZ1VuaXQpLDEpO3RoaXMubVNreUxpbmU9W10sdGhpcy5tQm90dG9tTGluZT1bXTtjb25zdCBlPW5ldyByLkNhbnZhc1ZleEZsb3dCYWNrZW5kKHRoaXMuU3RhZmZMaW5lUGFyZW50LlBhcmVudE11c2ljU3lzdGVtLnJ1bGVzKTtmb3IoY29uc3QgdCBvZiB0aGlzLlN0YWZmTGluZVBhcmVudC5NZWFzdXJlcyl7dC5Qb3NpdGlvbkFuZFNoYXBlLmNhbGN1bGF0ZUFic29sdXRlUG9zaXRpb25zUmVjdXJzaXZlKDAsMCk7Y29uc3QgaT10LmdldFZGU3RhdmUoKTtlLmluaXRpYWxpemVIZWFkbGVzcyhpLmdldFdpZHRoKCkpO2NvbnN0IHM9ZS5nZXRDb250ZXh0KCkscj1lLmdldENhbnZhcygpLG89ci53aWR0aCxoPXIuaGVpZ2h0O2kuc2V0WShpLnkrMTAwKTtjb25zdCBsPWkuZ2V0V2lkdGgoKTtpLnNldFdpZHRoKG8pLHQuZm9ybWF0KCksaS5zZXRXaWR0aChsKTt0cnl7dC5kcmF3KHMpfWNhdGNoKHQpe2EuZGVmYXVsdC53YXJuKFwiU2t5Qm90dG9tTGluZUNhbGN1bGF0b3IuY2FsY3VsYXRlTGluZXMuZHJhd1wiLHQpfWNvbnN0IGM9cy5nZXRJbWFnZURhdGEoMCwwLG8saCksdT00LGQ9TWF0aC5tYXgoTWF0aC5jZWlsKHQuUG9zaXRpb25BbmRTaGFwZS5TaXplLndpZHRoKnRoaXMubVJ1bGVzLlNhbXBsaW5nVW5pdCksMSksZj1uZXcgQXJyYXkoZCksbT1uZXcgQXJyYXkoZCk7Zm9yKGxldCB0PTA7dDxvO3QrKyl7Zm9yKGxldCBlPTA7ZTxoO2UrKyl7Y29uc3QgaT1lKm8qdSt0KnU7aWYoYy5kYXRhW2krM10+MCl7Zlt0XT1lO2JyZWFrfX1mb3IobGV0IGU9aDtlPjA7ZS0tKXtjb25zdCBpPWUqbyp1K3QqdTtpZihjLmRhdGFbaSszXT4wKXttW3RdPWU7YnJlYWt9fX1pZih0aGlzLm1Ta3lMaW5lLnB1c2goLi4uZiksdGhpcy5tQm90dG9tTGluZS5wdXNoKC4uLm0pLCExKXtmLmZvckVhY2goKHQsaSk9PnRoaXMuZHJhd1BpeGVsKG5ldyBuLlBvaW50RjJEKGksdCksZSkpLG0uZm9yRWFjaCgodCxpKT0+dGhpcy5kcmF3UGl4ZWwobmV3IG4uUG9pbnRGMkQoaSx0KSxlLFwiYmx1ZVwiKSk7Y29uc3QgdD1yLnRvRGF0YVVSTChcImltYWdlL3BuZ1wiKTtkb2N1bWVudC53cml0ZSgnPGltZyBzcmM9XCInK3QrJ1wiLz4nKX1lLmNsZWFyKCl9Y29uc3QgaT10aGlzLm1Ta3lMaW5lLmxlbmd0aC90LHM9W10saD1bXTtmb3IobGV0IGU9MDtlPHRoaXMubVNreUxpbmUubGVuZ3RoJiZzLmxlbmd0aCE9PXQ7ZSs9aSl7Y29uc3QgdD1NYXRoLm1pbih0aGlzLm1Ta3lMaW5lLmxlbmd0aCxlK2kpO2xldCBuPXRoaXMubVNreUxpbmUuc2xpY2UoZSx0KzEpO3MucHVzaChNYXRoLm1pbiguLi5uKSksbj10aGlzLm1Cb3R0b21MaW5lLnNsaWNlKGUsdCsxKSxoLnB1c2goTWF0aC5tYXgoLi4ubikpfXRoaXMubVNreUxpbmU9cyx0aGlzLm1Cb3R0b21MaW5lPWgsdGhpcy5tU2t5TGluZS5sZW5ndGghPT10JiZhLmRlZmF1bHQuZGVidWcoYFNreUxpbmUgY2FsY3VsYXRpb24gd2FzIG5vdCBjb3JyZWN0ICgke3RoaXMubVNreUxpbmUubGVuZ3RofSBpbnN0ZWFkIG9mICR7dH0pYCksdGhpcy5tU2t5TGluZT10aGlzLm1Ta3lMaW5lLm1hcCh0PT4odC1NYXRoLm1heCguLi50aGlzLm1Ta3lMaW5lKSkvby51bml0SW5QaXhlbHMrdGhpcy5TdGFmZkxpbmVQYXJlbnQuVG9wTGluZU9mZnNldCksdGhpcy5tQm90dG9tTGluZT10aGlzLm1Cb3R0b21MaW5lLm1hcCh0PT4odC1NYXRoLm1pbiguLi50aGlzLm1Cb3R0b21MaW5lKSkvby51bml0SW5QaXhlbHMrdGhpcy5TdGFmZkxpbmVQYXJlbnQuQm90dG9tTGluZU9mZnNldCl9ZHJhd1BpeGVsKHQsZSxpPVwiI0ZGMDAwMEZGXCIpe2NvbnN0IHM9ZS5nZXRDb250ZXh0KCksbj1zLmZpbGxTdHlsZTtzLmZpbGxTdHlsZT1pLHMuZmlsbFJlY3QodC54LHQueSwyLDIpLHMuZmlsbFN0eWxlPW59dXBkYXRlU2t5TGluZVdpdGhXZWRnZSh0LGUpe2xldCBpPU1hdGguZmxvb3IodC54KnRoaXMuU2FtcGxpbmdVbml0KSxzPU1hdGguY2VpbChlLngqdGhpcy5TYW1wbGluZ1VuaXQpLG49KGUueS10LnkpLyhlLngtdC54KTtzLWk8PTEmJihzKyssbj0wKSxpPDAmJihpPTApLGk+PXRoaXMuQm90dG9tTGluZS5sZW5ndGgmJihpPXRoaXMuQm90dG9tTGluZS5sZW5ndGgtMSksczwwJiYocz0wKSxzPj10aGlzLkJvdHRvbUxpbmUubGVuZ3RoJiYocz10aGlzLkJvdHRvbUxpbmUubGVuZ3RoKSx0aGlzLlNreUxpbmVbaV09dC55O2ZvcihsZXQgdD1pKzE7dDxNYXRoLm1pbihzLHRoaXMuU2t5TGluZS5sZW5ndGgpO3QrKyl0aGlzLlNreUxpbmVbdF09dGhpcy5Ta3lMaW5lW3QtMV0rbi90aGlzLlNhbXBsaW5nVW5pdH11cGRhdGVCb3R0b21MaW5lV2l0aFdlZGdlKHQsZSl7bGV0IGk9TWF0aC5mbG9vcih0LngqdGhpcy5TYW1wbGluZ1VuaXQpLHM9TWF0aC5jZWlsKGUueCp0aGlzLlNhbXBsaW5nVW5pdCksbj0oZS55LXQueSkvKGUueC10LngpO3MtaTw9MSYmKHMrKyxuPTApLGk8MCYmKGk9MCksaT49dGhpcy5Cb3R0b21MaW5lLmxlbmd0aCYmKGk9dGhpcy5Cb3R0b21MaW5lLmxlbmd0aC0xKSxzPDAmJihzPTApLHM+PXRoaXMuQm90dG9tTGluZS5sZW5ndGgmJihzPXRoaXMuQm90dG9tTGluZS5sZW5ndGgpLHRoaXMuQm90dG9tTGluZVtpXT10Lnk7Zm9yKGxldCB0PWkrMTt0PHM7dCsrKXRoaXMuQm90dG9tTGluZVt0XT10aGlzLkJvdHRvbUxpbmVbdC0xXStuL3RoaXMuU2FtcGxpbmdVbml0fXVwZGF0ZVNreUxpbmVJblJhbmdlKHQsZSxpKXt0aGlzLnVwZGF0ZUluUmFuZ2UodGhpcy5tU2t5TGluZSx0LGUsaSl9dXBkYXRlQm90dG9tTGluZUluUmFuZ2UodCxlLGkpe3RoaXMudXBkYXRlSW5SYW5nZSh0aGlzLkJvdHRvbUxpbmUsdCxlLGkpfXJlc2V0U2t5TGluZUluUmFuZ2UodCxlKXt0aGlzLnVwZGF0ZUluUmFuZ2UodGhpcy5Ta3lMaW5lLHQsZSl9cmVzZXRCb3R0b21MaW5lSW5SYW5nZSh0LGUpe3RoaXMuc2V0SW5SYW5nZSh0aGlzLkJvdHRvbUxpbmUsdCxlKX1zZXRTa3lMaW5lV2l0aFZhbHVlKHQpe3RoaXMuU2t5TGluZS5mb3JFYWNoKGU9PnQpfXNldEJvdHRvbUxpbmVXaXRoVmFsdWUodCl7dGhpcy5Cb3R0b21MaW5lLmZvckVhY2goZT0+dCl9Z2V0TGVmdEluZGV4Rm9yUG9pbnRYKHQsZSl7Y29uc3QgaT1NYXRoLmZsb29yKHQqdGhpcy5TYW1wbGluZ1VuaXQpO3JldHVybiBpPDA/MDppPj1lP2UtMTppfWdldFJpZ2h0SW5kZXhGb3JQb2ludFgodCxlKXtjb25zdCBpPU1hdGguY2VpbCh0KnRoaXMuU2FtcGxpbmdVbml0KTtyZXR1cm4gaTwwPzA6aT49ZT9lLTE6aX11cGRhdGVTdGFmZkxpbmVCb3JkZXJzKCl7dGhpcy5tU3RhZmZMaW5lUGFyZW50LlBvc2l0aW9uQW5kU2hhcGUuQm9yZGVyVG9wPXRoaXMuZ2V0U2t5TGluZU1pbigpLHRoaXMubVN0YWZmTGluZVBhcmVudC5Qb3NpdGlvbkFuZFNoYXBlLkJvcmRlck1hcmdpblRvcD10aGlzLmdldFNreUxpbmVNaW4oKSx0aGlzLm1TdGFmZkxpbmVQYXJlbnQuUG9zaXRpb25BbmRTaGFwZS5Cb3JkZXJCb3R0b209dGhpcy5nZXRCb3R0b21MaW5lTWF4KCksdGhpcy5tU3RhZmZMaW5lUGFyZW50LlBvc2l0aW9uQW5kU2hhcGUuQm9yZGVyTWFyZ2luQm90dG9tPXRoaXMuZ2V0Qm90dG9tTGluZU1heCgpfWdldFNreUxpbmVNaW4oKXtyZXR1cm4gTWF0aC5taW4oLi4udGhpcy5Ta3lMaW5lLmZpbHRlcih0PT4haXNOYU4odCkpKX1nZXRTa3lMaW5lTWluQXRQb2ludCh0KXtjb25zdCBlPU1hdGgucm91bmQodCp0aGlzLlNhbXBsaW5nVW5pdCk7cmV0dXJuIHRoaXMubVNreUxpbmVbZV19Z2V0U2t5TGluZU1pbkluUmFuZ2UodCxlKXtyZXR1cm4gdGhpcy5nZXRNaW5JblJhbmdlKHRoaXMuU2t5TGluZSx0LGUpfWdldEJvdHRvbUxpbmVNYXgoKXtyZXR1cm4gTWF0aC5tYXgoLi4udGhpcy5Cb3R0b21MaW5lLmZpbHRlcih0PT4haXNOYU4odCkpKX1nZXRCb3R0b21MaW5lTWF4QXRQb2ludCh0KXtjb25zdCBlPU1hdGgucm91bmQodCp0aGlzLlNhbXBsaW5nVW5pdCk7cmV0dXJuIHRoaXMubUJvdHRvbUxpbmVbZV19Z2V0Qm90dG9tTGluZU1heEluUmFuZ2UodCxlKXtyZXR1cm4gdGhpcy5nZXRNYXhJblJhbmdlKHRoaXMuQm90dG9tTGluZSx0LGUpfWdldEJvdHRvbUxpbmVNYXhJbkJvdW5kaW5nQm94KHQpe2NvbnN0IGU9TWF0aC5mbG9vcih0LkFic29sdXRlUG9zaXRpb24ueCt0LkJvcmRlckxlZnQpLGk9TWF0aC5jZWlsKHQuQWJzb2x1dGVQb3NpdGlvbi54K3QuQm9yZGVyUmlnaHQpO3JldHVybiB0aGlzLmdldE1heEluUmFuZ2UodGhpcy5tQm90dG9tTGluZSxlLGkpfXVwZGF0ZVdpdGhCb3VuZGluZ0JveFJlY3Vyc2l2bHkodCl7aWYodC5DaGlsZEVsZW1lbnRzJiZ0LkNoaWxkRWxlbWVudHMubGVuZ3RoPjApdGhpcy51cGRhdGVXaXRoQm91bmRpbmdCb3hSZWN1cnNpdmx5KHQpO2Vsc2V7Y29uc3QgZT10LkJvcmRlclRvcCt0LkFic29sdXRlUG9zaXRpb24ueSxpPXQuQm9yZGVyQm90dG9tK3QuQWJzb2x1dGVQb3NpdGlvbi55O2lmKGU8MCl7Y29uc3QgaT1NYXRoLmZsb29yKHQuQWJzb2x1dGVQb3NpdGlvbi54K3QuQm9yZGVyTGVmdCkscz1NYXRoLmNlaWwodC5BYnNvbHV0ZVBvc2l0aW9uLngrdC5Cb3JkZXJSaWdodCk7dGhpcy51cGRhdGVJblJhbmdlKHRoaXMubVNreUxpbmUsaSxzLGUpfWVsc2UgaWYoaT50aGlzLlN0YWZmTGluZVBhcmVudC5TdGFmZkhlaWdodCl7Y29uc3QgZT1NYXRoLmZsb29yKHQuQWJzb2x1dGVQb3NpdGlvbi54K3QuQm9yZGVyTGVmdCkscz1NYXRoLmNlaWwodC5BYnNvbHV0ZVBvc2l0aW9uLngrdC5Cb3JkZXJSaWdodCk7dGhpcy51cGRhdGVJblJhbmdlKHRoaXMubUJvdHRvbUxpbmUsZSxzLGkpfX19dXBkYXRlSW5SYW5nZSh0LGU9MCxpPXQubGVuZ3RoLHM9MCl7aWYoZT1NYXRoLmZsb29yKGUqdGhpcy5TYW1wbGluZ1VuaXQpLChpPU1hdGguY2VpbChpKnRoaXMuU2FtcGxpbmdVbml0KSk8ZSl0aHJvdyBuZXcgRXJyb3IoXCJzdGFydCBpbmRleCBvZiBsaW5lIGlzIGdyZWF0ZXIgdGhlbiB0aGUgZW5kIGluZGV4XCIpO2U8MCYmKGU9MCksaT50Lmxlbmd0aCYmKGk9dC5sZW5ndGgpO2ZvcihsZXQgbj1lO248aTtuKyspdFtuXT1NYXRoLmFicyhzKT5NYXRoLmFicyh0W25dKT9zOnRbbl19c2V0SW5SYW5nZSh0LGU9MCxpPXQubGVuZ3RoLHM9MCl7aWYoZT1NYXRoLmZsb29yKGUqdGhpcy5TYW1wbGluZ1VuaXQpLChpPU1hdGguY2VpbChpKnRoaXMuU2FtcGxpbmdVbml0KSk8ZSl0aHJvdyBuZXcgRXJyb3IoXCJzdGFydCBpbmRleCBvZiBsaW5lIGlzIGdyZWF0ZXIgdGhlbiB0aGUgZW5kIGluZGV4XCIpO2U8MCYmKGU9MCksaT50Lmxlbmd0aCYmKGk9dC5sZW5ndGgpO2ZvcihsZXQgbj1lO248aTtuKyspdFtuXT1zfWdldE1pbkluUmFuZ2UodCxlLGkpe3JldHVybiBlPU1hdGguZmxvb3IoZSp0aGlzLlNhbXBsaW5nVW5pdCksaT1NYXRoLmNlaWwoaSp0aGlzLlNhbXBsaW5nVW5pdCksdD8oZTwwJiYoZT0wKSxlPj10Lmxlbmd0aCYmKGU9dC5sZW5ndGgtMSksaTwwJiYoaT0wKSxpPj10Lmxlbmd0aCYmKGk9dC5sZW5ndGgpLGU+PTAmJmk8PXQubGVuZ3RoP01hdGgubWluKC4uLnQuc2xpY2UoZSxpKzEpKTp2b2lkIDApOk51bWJlci5NQVhfVkFMVUV9Z2V0TWF4SW5SYW5nZSh0LGUsaSl7cmV0dXJuIGU9TWF0aC5mbG9vcihlKnRoaXMuU2FtcGxpbmdVbml0KSxpPU1hdGguY2VpbChpKnRoaXMuU2FtcGxpbmdVbml0KSx0PyhlPDAmJihlPTApLGU+PXQubGVuZ3RoJiYoZT10Lmxlbmd0aC0xKSxpPDAmJihpPTApLGk+PXQubGVuZ3RoJiYoaT10Lmxlbmd0aCksZT49MCYmaTw9dC5sZW5ndGg/TWF0aC5tYXgoLi4udC5zbGljZShlLGkrMSkpOnZvaWQgMCk6TnVtYmVyLk1JTl9WQUxVRX1nZXQgU2FtcGxpbmdVbml0KCl7cmV0dXJuIHRoaXMubVJ1bGVzLlNhbXBsaW5nVW5pdH1nZXQgU3RhZmZMaW5lUGFyZW50KCl7cmV0dXJuIHRoaXMubVN0YWZmTGluZVBhcmVudH1nZXQgU2t5TGluZSgpe3JldHVybiB0aGlzLm1Ta3lMaW5lfWdldCBCb3R0b21MaW5lKCl7cmV0dXJuIHRoaXMubUJvdHRvbUxpbmV9fX0sZnVuY3Rpb24odCxlLGkpe1widXNlIHN0cmljdFwiO09iamVjdC5kZWZpbmVQcm9wZXJ0eShlLFwiX19lc01vZHVsZVwiLHt2YWx1ZTohMH0pO2NvbnN0IHM9aSgzKSxuPWkoNSkscj1pKDUzKSxvPWkoNCksYT1pKDExOCk7Y2xhc3MgaCBleHRlbmRzIG4uR3JhcGhpY2FsT2JqZWN0e2NvbnN0cnVjdG9yKHQsZSl7c3VwZXIoKSx0aGlzLm1lYXN1cmVzPVtdLHRoaXMuc3RhZmZMaW5lcz1uZXcgQXJyYXkoNSksdGhpcy5vY3RhdmVTaGlmdHM9W10sdGhpcy5seXJpY0xpbmVzPVtdLHRoaXMubHlyaWNzRGFzaGVzPVtdLHRoaXMuYWJzdHJhY3RFeHByZXNzaW9ucz1bXSx0aGlzLmdyYXBoaWNhbFNsdXJzPVtdLHRoaXMucGFyZW50TXVzaWNTeXN0ZW09dCx0aGlzLnBhcmVudFN0YWZmPWUsdGhpcy5ib3VuZGluZ0JveD1uZXcgcy5Cb3VuZGluZ0JveCh0aGlzLHQuUG9zaXRpb25BbmRTaGFwZSksdGhpcy5za3lCb3R0b21MaW5lPW5ldyBhLlNreUJvdHRvbUxpbmVDYWxjdWxhdG9yKHRoaXMpLHRoaXMuc3RhZmZIZWlnaHQ9dGhpcy5wYXJlbnRNdXNpY1N5c3RlbS5ydWxlcy5TdGFmZkhlaWdodCx0aGlzLnRvcExpbmVPZmZzZXQ9MCx0aGlzLmJvdHRvbUxpbmVPZmZzZXQ9NCx0aGlzLmNhbGN1bGF0ZVN0YWZmTGluZU9mZnNldHMoKX1jYWxjdWxhdGVTdGFmZkxpbmVPZmZzZXRzKCl7aWYodGhpcy5QYXJlbnRTdGFmZi5pc1RhYilzd2l0Y2godGhpcy5QYXJlbnRTdGFmZi5TdGFmZmxpbmVDb3VudCl7Y2FzZSA1OnRoaXMuc3RhZmZIZWlnaHQ9dGhpcy5ib3R0b21MaW5lT2Zmc2V0PTYqdGhpcy5QYXJlbnRTdGFmZi5QYXJlbnRJbnN0cnVtZW50LkdldE11c2ljU2hlZXQuUnVsZXMuVGFiU3RhZmZJbnRlcmxpbmVIZWlnaHQ7YnJlYWs7ZGVmYXVsdDp0aGlzLnN0YWZmSGVpZ2h0PXRoaXMuYm90dG9tTGluZU9mZnNldD10aGlzLlBhcmVudFN0YWZmLlBhcmVudEluc3RydW1lbnQuR2V0TXVzaWNTaGVldC5SdWxlcy5UYWJTdGFmZkludGVybGluZUhlaWdodCp0aGlzLlBhcmVudFN0YWZmLlN0YWZmbGluZUNvdW50fWVsc2Ugc3dpdGNoKHRoaXMuUGFyZW50U3RhZmYuU3RhZmZsaW5lQ291bnQpe2Nhc2UgNDp0aGlzLmJvdHRvbUxpbmVPZmZzZXQ9MTticmVhaztjYXNlIDM6dGhpcy50b3BMaW5lT2Zmc2V0PTEsdGhpcy5ib3R0b21MaW5lT2Zmc2V0PTE7YnJlYWs7Y2FzZSAyOnRoaXMudG9wTGluZU9mZnNldD0yLHRoaXMuYm90dG9tTGluZU9mZnNldD0xO2JyZWFrO2Nhc2UgMTp0aGlzLnRvcExpbmVPZmZzZXQ9Mix0aGlzLmJvdHRvbUxpbmVPZmZzZXQ9Mn19Z2V0IE1lYXN1cmVzKCl7cmV0dXJuIHRoaXMubWVhc3VyZXN9c2V0IE1lYXN1cmVzKHQpe3RoaXMubWVhc3VyZXM9dH1nZXQgU3RhZmZMaW5lcygpe3JldHVybiB0aGlzLnN0YWZmTGluZXN9c2V0IFN0YWZmTGluZXModCl7dGhpcy5zdGFmZkxpbmVzPXR9Z2V0IE5leHRTdGFmZkxpbmUoKXtjb25zdCB0PXRoaXMucGFyZW50TXVzaWNTeXN0ZW0uU3RhZmZMaW5lcy5pbmRleE9mKHRoaXMpO3JldHVybiB0IT09dGhpcy5wYXJlbnRNdXNpY1N5c3RlbS5TdGFmZkxpbmVzLmxlbmd0aD90aGlzLnBhcmVudE11c2ljU3lzdGVtLlN0YWZmTGluZXNbdCsxXTp2b2lkIDB9Z2V0IEx5cmljTGluZXMoKXtyZXR1cm4gdGhpcy5seXJpY0xpbmVzfWdldCBBYnN0cmFjdEV4cHJlc3Npb25zKCl7cmV0dXJuIHRoaXMuYWJzdHJhY3RFeHByZXNzaW9uc31zZXQgQWJzdHJhY3RFeHByZXNzaW9ucyh0KXt0aGlzLmFic3RyYWN0RXhwcmVzc2lvbnM9dH1zZXQgTHlyaWNMaW5lcyh0KXt0aGlzLmx5cmljTGluZXM9dH1nZXQgTHlyaWNzRGFzaGVzKCl7cmV0dXJuIHRoaXMubHlyaWNzRGFzaGVzfXNldCBMeXJpY3NEYXNoZXModCl7dGhpcy5seXJpY3NEYXNoZXM9dH1nZXQgUGFyZW50TXVzaWNTeXN0ZW0oKXtyZXR1cm4gdGhpcy5wYXJlbnRNdXNpY1N5c3RlbX1zZXQgUGFyZW50TXVzaWNTeXN0ZW0odCl7dGhpcy5wYXJlbnRNdXNpY1N5c3RlbT10fWdldCBQYXJlbnRTdGFmZigpe3JldHVybiB0aGlzLnBhcmVudFN0YWZmfXNldCBQYXJlbnRTdGFmZih0KXt0aGlzLnBhcmVudFN0YWZmPXR9Z2V0IFNreUJvdHRvbUxpbmVDYWxjdWxhdG9yKCl7cmV0dXJuIHRoaXMuc2t5Qm90dG9tTGluZX1nZXQgU2t5TGluZSgpe3JldHVybiB0aGlzLnNreUJvdHRvbUxpbmUuU2t5TGluZX1nZXQgQm90dG9tTGluZSgpe3JldHVybiB0aGlzLnNreUJvdHRvbUxpbmUuQm90dG9tTGluZX1nZXQgT2N0YXZlU2hpZnRzKCl7cmV0dXJuIHRoaXMub2N0YXZlU2hpZnRzfXNldCBPY3RhdmVTaGlmdHModCl7dGhpcy5vY3RhdmVTaGlmdHM9dH1nZXQgU3RhZmZIZWlnaHQoKXtyZXR1cm4gdGhpcy5zdGFmZkhlaWdodH1nZXQgVG9wTGluZU9mZnNldCgpe3JldHVybiB0aGlzLnRvcExpbmVPZmZzZXR9Z2V0IEJvdHRvbUxpbmVPZmZzZXQoKXtyZXR1cm4gdGhpcy5ib3R0b21MaW5lT2Zmc2V0fWdldCBHcmFwaGljYWxTbHVycygpe3JldHVybiB0aGlzLmdyYXBoaWNhbFNsdXJzfWFkZFNsdXJUb1N0YWZmbGluZSh0KXt0aGlzLmdyYXBoaWNhbFNsdXJzLnB1c2godCl9YWRkQWN0aXZpdHlTeW1ib2xDbGlja0FyZWEoKXtjb25zdCB0PW5ldyByLlN0YWZmTGluZUFjdGl2aXR5U3ltYm9sKHRoaXMpLGU9dGhpcy5Qb3NpdGlvbkFuZFNoYXBlO3QuUG9zaXRpb25BbmRTaGFwZS5SZWxhdGl2ZVBvc2l0aW9uPW5ldyBvLlBvaW50RjJEKGUuUmVsYXRpdmVQb3NpdGlvbi54K2UuQm9yZGVyUmlnaHQrLjUsZS5SZWxhdGl2ZVBvc2l0aW9uLnkrLjUpLHQuUG9zaXRpb25BbmRTaGFwZS5QYXJlbnQ9dGhpcy5wYXJlbnRNdXNpY1N5c3RlbS5Qb3NpdGlvbkFuZFNoYXBlfWlzUGFydE9mTXVsdGlTdGFmZkluc3RydW1lbnQoKXtyZXR1cm4gdGhpcy5wYXJlbnRTdGFmZi5QYXJlbnRJbnN0cnVtZW50LlN0YXZlcy5sZW5ndGg+MX1maW5kQ2xvc2VzdFN0YWZmRW50cnkodCl7bGV0IGU9dm9pZCAwO2ZvcihsZXQgaT0wLHM9dGhpcy5NZWFzdXJlcy5sZW5ndGg7aTxzOysraSl7Y29uc3Qgcz10aGlzLk1lYXN1cmVzW2ldO2ZvcihsZXQgaT0wLG49cy5zdGFmZkVudHJpZXMubGVuZ3RoO2k8bjsrK2kpe2NvbnN0IG49cy5zdGFmZkVudHJpZXNbaV07TWF0aC5hYnMobi5Qb3NpdGlvbkFuZFNoYXBlLlJlbGF0aXZlUG9zaXRpb24ueC10K3MuUG9zaXRpb25BbmRTaGFwZS5SZWxhdGl2ZVBvc2l0aW9uLngpPDUmJihlPW4pfX1yZXR1cm4gZX19ZS5TdGFmZkxpbmU9aH0sZnVuY3Rpb24odCxlLGkpe1widXNlIHN0cmljdFwiO3ZhciBzPXRoaXMmJnRoaXMuX19pbXBvcnREZWZhdWx0fHxmdW5jdGlvbih0KXtyZXR1cm4gdCYmdC5fX2VzTW9kdWxlP3Q6e2RlZmF1bHQ6dH19O09iamVjdC5kZWZpbmVQcm9wZXJ0eShlLFwiX19lc01vZHVsZVwiLHt2YWx1ZTohMH0pO2NvbnN0IG49cyhpKDEwKSkscj1pKDY5KSxvPWkoMTgpLGE9aSgyMyksaD1pKDM0KTtjbGFzcyBsIGV4dGVuZHMgci5WZXhGbG93QmFja2VuZHtjb25zdHJ1Y3Rvcih0KXtzdXBlcigpLHRoaXMucnVsZXM9dH1nZXRWZXhmbG93QmFja2VuZFR5cGUoKXtyZXR1cm4gM31nZXRPU01EQmFja2VuZFR5cGUoKXtyZXR1cm4gaC5CYWNrZW5kVHlwZS5TVkd9aW5pdGlhbGl6ZSh0KXt0aGlzLmNhbnZhcz1kb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpLHRoaXMuaW5uZXI9dGhpcy5jYW52YXMsdGhpcy5pbm5lci5zdHlsZS5wb3NpdGlvbj1cInJlbGF0aXZlXCIsdGhpcy5jYW52YXMuc3R5bGUuekluZGV4PVwiMFwiLHQuYXBwZW5kQ2hpbGQodGhpcy5pbm5lciksdGhpcy5yZW5kZXJlcj1uZXcgbi5kZWZhdWx0LkZsb3cuUmVuZGVyZXIodGhpcy5jYW52YXMsdGhpcy5nZXRWZXhmbG93QmFja2VuZFR5cGUoKSksdGhpcy5jdHg9dGhpcy5yZW5kZXJlci5nZXRDb250ZXh0KCl9Z2V0Q29udGV4dCgpe3JldHVybiB0aGlzLmN0eH1nZXRTdmdFbGVtZW50KCl7cmV0dXJuIHRoaXMuY3R4LnN2Z31jbGVhcigpe2lmKCF0aGlzLmN0eClyZXR1cm47Y29uc3QgdD10aGlzLmN0eC5zdmc7Zm9yKDt0Lmxhc3RDaGlsZDspdC5yZW1vdmVDaGlsZCh0Lmxhc3RDaGlsZCk7dGhpcy5ydWxlcy5QYWdlQmFja2dyb3VuZENvbG9yJiYodGhpcy5jdHguc2F2ZSgpLHRoaXMuY3R4LnNldEZpbGxTdHlsZSh0aGlzLnJ1bGVzLlBhZ2VCYWNrZ3JvdW5kQ29sb3IpLHRoaXMuY3R4LmZpbGxSZWN0KDAsMCx0aGlzLmNhbnZhcy5vZmZzZXRXaWR0aCx0aGlzLmNhbnZhcy5vZmZzZXRIZWlnaHQpLHRoaXMuY3R4LnJlc3RvcmUoKSl9c2NhbGUodCl7dGhpcy5jdHguc2NhbGUodCx0KX10cmFuc2xhdGUodCxlKXt9cmVuZGVyVGV4dCh0LGUsaSxzLG4scixoLGwpe3RoaXMuY3R4LnNhdmUoKSxoJiYodGhpcy5jdHguYXR0cmlidXRlcy5maWxsPWgsdGhpcy5jdHguYXR0cmlidXRlcy5zdHJva2U9aCk7bGV0IGM9bDtsJiZcImRlZmF1bHRcIiE9PWx8fChjPXRoaXMucnVsZXMuRGVmYXVsdEZvbnRGYW1pbHkpLHRoaXMuY3R4LnNldEZvbnQoYyx0LG8uVmV4Rmxvd0NvbnZlcnRlci5mb250U3R5bGUoZSkpLHRoaXMuY3R4LmF0dHJpYnV0ZXNbXCJmb250LXNpemVcIl09YCR7dH1weGAsdGhpcy5jdHguc3RhdGVbXCJmb250LXNpemVcIl09YCR7dH1weGA7bGV0IHU9XCJub3JtYWxcIixkPVwibm9ybWFsXCI7c3dpdGNoKGUpe2Nhc2UgYS5Gb250U3R5bGVzLkJvbGQ6dT1cImJvbGRcIjticmVhaztjYXNlIGEuRm9udFN0eWxlcy5JdGFsaWM6ZD1cIml0YWxpY1wiO2JyZWFrO2Nhc2UgYS5Gb250U3R5bGVzLkJvbGRJdGFsaWM6dT1cImJvbGRcIixkPVwiaXRhbGljXCI7YnJlYWs7ZGVmYXVsdDp1PVwibm9ybWFsXCJ9dGhpcy5jdHguYXR0cmlidXRlc1tcImZvbnQtd2VpZ2h0XCJdPXUsdGhpcy5jdHguc3RhdGVbXCJmb250LXdlaWdodFwiXT11LHRoaXMuY3R4LmF0dHJpYnV0ZXNbXCJmb250LXN0eWxlXCJdPWQsdGhpcy5jdHguc3RhdGVbXCJmb250LXN0eWxlXCJdPWQsdGhpcy5jdHguZmlsbFRleHQocyxyLngsci55K24pLHRoaXMuY3R4LnJlc3RvcmUoKX1yZW5kZXJSZWN0YW5nbGUodCxlLGk9MSl7dGhpcy5jdHguc2F2ZSgpLHRoaXMuY3R4LmF0dHJpYnV0ZXMuZmlsbD1vLlZleEZsb3dDb252ZXJ0ZXIuc3R5bGUoZSksdGhpcy5jdHguYXR0cmlidXRlc1tcImZpbGwtb3BhY2l0eVwiXT1pLHRoaXMuY3R4LmZpbGxSZWN0KHQueCx0LnksdC53aWR0aCx0LmhlaWdodCksdGhpcy5jdHgucmVzdG9yZSgpLHRoaXMuY3R4LmF0dHJpYnV0ZXNbXCJmaWxsLW9wYWNpdHlcIl09MX1yZW5kZXJMaW5lKHQsZSxpPVwiI0ZGMDAwMEZGXCIscz0yKXt0aGlzLmN0eC5zYXZlKCksdGhpcy5jdHguYmVnaW5QYXRoKCksdGhpcy5jdHgubW92ZVRvKHQueCx0LnkpLHRoaXMuY3R4LmxpbmVUbyhlLngsZS55KSx0aGlzLmN0eC5hdHRyaWJ1dGVzLnN0cm9rZT1pLHRoaXMuY3R4LmxpbmVXaWR0aD1zLHRoaXMuY3R4LnN0cm9rZSgpLHRoaXMuY3R4LnJlc3RvcmUoKX1yZW5kZXJDdXJ2ZSh0KXt0aGlzLmN0eC5iZWdpblBhdGgoKSx0aGlzLmN0eC5tb3ZlVG8odFswXS54LHRbMF0ueSksdGhpcy5jdHguYmV6aWVyQ3VydmVUbyh0WzFdLngsdFsxXS55LHRbMl0ueCx0WzJdLnksdFszXS54LHRbM10ueSksdGhpcy5jdHgubGluZVRvKHRbN10ueCx0WzddLnkpLHRoaXMuY3R4LmJlemllckN1cnZlVG8odFs2XS54LHRbNl0ueSx0WzVdLngsdFs1XS55LHRbNF0ueCx0WzRdLnkpLHRoaXMuY3R4LmxpbmVUbyh0WzBdLngsdFswXS55KSx0aGlzLmN0eC5jbG9zZVBhdGgoKSx0aGlzLmN0eC5maWxsKCl9fWUuU3ZnVmV4Rmxvd0JhY2tlbmQ9bH0sZnVuY3Rpb24odCxlLGkpe1widXNlIHN0cmljdFwiO09iamVjdC5kZWZpbmVQcm9wZXJ0eShlLFwiX19lc01vZHVsZVwiLHt2YWx1ZTohMH0pO2NvbnN0IHM9aSg2NSksbj1pKDUxKSxyPWkoMjIpLG89aSgxMyksYT1pKDcpLGg9aSgyMyk7Y2xhc3MgbCBleHRlbmRzIHMuR3JhcGhpY2FsSW5zdGFudGFuZW91c0R5bmFtaWNFeHByZXNzaW9ue2NvbnN0cnVjdG9yKHQsZSxpKXtzdXBlcih0LGUsaSk7Y29uc3Qgcz1uZXcgby5MYWJlbCh0aGlzLkV4cHJlc3Npb24pO3RoaXMubGFiZWw9bmV3IHIuR3JhcGhpY2FsTGFiZWwocyx0aGlzLnJ1bGVzLkNvbnRpbnVvdXNEeW5hbWljVGV4dEhlaWdodCxhLlRleHRBbGlnbm1lbnRFbnVtLkNlbnRlckNlbnRlcix0aGlzLnJ1bGVzLHRoaXMuUG9zaXRpb25BbmRTaGFwZSksdGhpcy5sYWJlbC5MYWJlbC5mb250U3R5bGU9aC5Gb250U3R5bGVzLkJvbGRJdGFsaWMsdGhpcy5sYWJlbC5zZXRMYWJlbFBvc2l0aW9uQW5kU2hhcGVCb3JkZXJzKCksdGhpcy5Qb3NpdGlvbkFuZFNoYXBlLmNhbGN1bGF0ZUJvdW5kaW5nQm94KCl9Z2V0IEluc3RhbnRhbmVvdXNEeW5hbWljKCl7cmV0dXJuIHRoaXMubUluc3RhbnRhbmVvdXNEeW5hbWljRXhwcmVzc2lvbn1nZXQgRXhwcmVzc2lvbigpe3JldHVybiBuLkR5bmFtaWNFbnVtW3RoaXMubUluc3RhbnRhbmVvdXNEeW5hbWljRXhwcmVzc2lvbi5EeW5FbnVtXX19ZS5WZXhGbG93SW5zdGFudGFuZW91c0R5bmFtaWNFeHByZXNzaW9uPWx9LGZ1bmN0aW9uKHQsZSxpKXtcInVzZSBzdHJpY3RcIjt2YXIgcz10aGlzJiZ0aGlzLl9faW1wb3J0RGVmYXVsdHx8ZnVuY3Rpb24odCl7cmV0dXJuIHQmJnQuX19lc01vZHVsZT90OntkZWZhdWx0OnR9fTtPYmplY3QuZGVmaW5lUHJvcGVydHkoZSxcIl9fZXNNb2R1bGVcIix7dmFsdWU6ITB9KTtzKGkoMTApKTtjb25zdCBuPWkoNzEpO2NsYXNzIHIgZXh0ZW5kcyBuLlZleEZsb3dJbnN0cnVtZW50QnJhY2tldHtjb25zdHJ1Y3Rvcih0LGUsaT0wKXtzdXBlcih0LGUsaSksdGhpcy52ZXhmbG93Q29ubmVjdG9yLnNldFR5cGUoMyl9fWUuVmV4Rmxvd0luc3RydW1lbnRCcmFjZT1yfSxmdW5jdGlvbih0LGUsaSl7XCJ1c2Ugc3RyaWN0XCI7dmFyIHM9dGhpcyYmdGhpcy5fX2ltcG9ydERlZmF1bHR8fGZ1bmN0aW9uKHQpe3JldHVybiB0JiZ0Ll9fZXNNb2R1bGU/dDp7ZGVmYXVsdDp0fX07T2JqZWN0LmRlZmluZVByb3BlcnR5KGUsXCJfX2VzTW9kdWxlXCIse3ZhbHVlOiEwfSk7Y29uc3Qgbj1zKGkoMTApKSxyPWkoMTEzKSxvPWkoMzEpLGE9cyhpKDEpKTtjbGFzcyBoIGV4dGVuZHMgci5HcmFwaGljYWxPY3RhdmVTaGlmdHtjb25zdHJ1Y3Rvcih0LGUpe3N3aXRjaChzdXBlcih0LGUpLHQuVHlwZSl7Y2FzZSBvLk9jdGF2ZUVudW0uVkE4OnRoaXMucG9zaXRpb249MSx0aGlzLnN1cHNjcmlwdD1cInZhXCIsdGhpcy50ZXh0PVwiOFwiO2JyZWFrO2Nhc2Ugby5PY3RhdmVFbnVtLk1BMTU6dGhpcy5wb3NpdGlvbj0xLHRoaXMuc3Vwc2NyaXB0PVwibWFcIix0aGlzLnRleHQ9XCIxNVwiO2JyZWFrO2Nhc2Ugby5PY3RhdmVFbnVtLlZCODp0aGlzLnBvc2l0aW9uPS0xLHRoaXMuc3Vwc2NyaXB0PVwidmJcIix0aGlzLnRleHQ9XCI4XCI7YnJlYWs7Y2FzZSBvLk9jdGF2ZUVudW0uTUIxNTp0aGlzLnBvc2l0aW9uPS0xLHRoaXMuc3Vwc2NyaXB0PVwibWJcIix0aGlzLnRleHQ9XCIxNVwiO2JyZWFrO2RlZmF1bHQ6YS5kZWZhdWx0LmVycm9yKFwiVW5rbm93biBvciBOT05FIG9jdGF2ZXNoaWZ0LiBUaGlzIHNob3VsZCBub3QgYmUgY2FsbGVkIVwiKX19c2V0U3RhcnROb3RlKHQpe3RoaXMuc3RhcnROb3RlPXQuZ3JhcGhpY2FsVm9pY2VFbnRyaWVzWzBdLnZmU3RhdmVOb3RlfXNldEVuZE5vdGUodCl7dGhpcy5lbmROb3RlPXQuZ3JhcGhpY2FsVm9pY2VFbnRyaWVzWzBdLnZmU3RhdmVOb3RlfWdldFN0YXJ0Tm90ZSgpe3JldHVybiB0aGlzLnN0YXJ0Tm90ZX1nZXRFbmROb3RlKCl7cmV0dXJuIHRoaXMuZW5kTm90ZX1nZXRUZXh0QnJhY2tldCgpe3JldHVybiBuZXcgbi5kZWZhdWx0LkZsb3cuVGV4dEJyYWNrZXQoe3Bvc2l0aW9uOnRoaXMucG9zaXRpb24sc3RhcnQ6dGhpcy5zdGFydE5vdGUsc3RvcDp0aGlzLmVuZE5vdGUsc3VwZXJzY3JpcHQ6dGhpcy5zdXBzY3JpcHQsdGV4dDp0aGlzLnRleHR9KX19ZS5WZXhGbG93T2N0YXZlU2hpZnQ9aH0sZnVuY3Rpb24odCxlLGkpe1widXNlIHN0cmljdFwiO09iamVjdC5kZWZpbmVQcm9wZXJ0eShlLFwiX19lc01vZHVsZVwiLHt2YWx1ZTohMH0pO2NvbnN0IHM9aSgxMTUpLG49aSgxOSk7Y2xhc3MgciBleHRlbmRzIHMuR3JhcGhpY2FsU3RhZmZFbnRyeXtjb25zdHJ1Y3Rvcih0LGUsaSl7c3VwZXIodCxlLGkpfWNhbGN1bGF0ZVhQb3NpdGlvbigpe2NvbnN0IHQ9dGhpcy5wYXJlbnRNZWFzdXJlLmdldFZGU3RhdmUoKTtsZXQgZT0wO2Zvcihjb25zdCBpIG9mIHRoaXMuZ3JhcGhpY2FsVm9pY2VFbnRyaWVzKWlmKGkudmZTdGF2ZU5vdGUpe2lmKGkudmZTdGF2ZU5vdGUuc2V0U3RhdmUodCksIWkudmZTdGF2ZU5vdGUucHJlRm9ybWF0dGVkKWNvbnRpbnVlO2kuYXBwbHlCb3JkZXJzRnJvbVZleGZsb3coKSx0aGlzLnBhcmVudE1lYXN1cmUuUGFyZW50U3RhZmYuaXNUYWI/dGhpcy5Qb3NpdGlvbkFuZFNoYXBlLlJlbGF0aXZlUG9zaXRpb24ueD0oaS52ZlN0YXZlTm90ZS5nZXRBYnNvbHV0ZVgoKStpLnZmU3RhdmVOb3RlLmdseXBoLmdldFdpZHRoKCkpL24udW5pdEluUGl4ZWxzOnRoaXMuUG9zaXRpb25BbmRTaGFwZS5SZWxhdGl2ZVBvc2l0aW9uLng9aS52ZlN0YXZlTm90ZS5nZXRCb3VuZGluZ0JveCgpLmdldFgoKS9uLnVuaXRJblBpeGVscztjb25zdCBzPWkubm90ZXNbMF0uc291cmNlTm90ZTtzLmlzUmVzdCgpJiZzLkxlbmd0aC5SZWFsVmFsdWU9PT10aGlzLnBhcmVudE1lYXN1cmUucGFyZW50U291cmNlTWVhc3VyZS5BY3RpdmVUaW1lU2lnbmF0dXJlLlJlYWxWYWx1ZSYmKHRoaXMuUG9zaXRpb25BbmRTaGFwZS5SZWxhdGl2ZVBvc2l0aW9uLngrPXRoaXMucGFyZW50TWVhc3VyZS5wYXJlbnRTb3VyY2VNZWFzdXJlLlJ1bGVzLldob2xlUmVzdFhTaGlmdFZleGZsb3ctLjEsaS5Qb3NpdGlvbkFuZFNoYXBlLkJvcmRlckxlZnQ9LS43LGkuUG9zaXRpb25BbmRTaGFwZS5Cb3JkZXJSaWdodD0uNyksaS5Qb3NpdGlvbkFuZFNoYXBlLkJvcmRlckxlZnQ8ZSYmKGU9aS5Qb3NpdGlvbkFuZFNoYXBlLkJvcmRlckxlZnQpfXRoaXMuUG9zaXRpb25BbmRTaGFwZS5SZWxhdGl2ZVBvc2l0aW9uLngtPWUsdGhpcy5Qb3NpdGlvbkFuZFNoYXBlLmNhbGN1bGF0ZUJvdW5kaW5nQm94KCl9fWUuVmV4Rmxvd1N0YWZmRW50cnk9cn0sZnVuY3Rpb24odCxlLGkpe1widXNlIHN0cmljdFwiO09iamVjdC5kZWZpbmVQcm9wZXJ0eShlLFwiX19lc01vZHVsZVwiLHt2YWx1ZTohMH0pO2NvbnN0IHM9aSgxMTkpLG49aSgxMDYpO2NsYXNzIHIgZXh0ZW5kcyBzLlN0YWZmTGluZXtjb25zdHJ1Y3Rvcih0LGUpe3N1cGVyKHQsZSksdGhpcy5zbHVyc0luVkZTdGFmZkxpbmU9W10sdGhpcy5hbGlnbm1lbnRNYW5hZ2VyPW5ldyBuLkFsaWdubWVudE1hbmFnZXIodGhpcyl9Z2V0IFNsdXJzSW5WRlN0YWZmTGluZSgpe3JldHVybiB0aGlzLnNsdXJzSW5WRlN0YWZmTGluZX1hZGRWRlNsdXJUb1ZGU3RhZmZsaW5lKHQpe3RoaXMuc2x1cnNJblZGU3RhZmZMaW5lLnB1c2godCl9Z2V0IEFsaWdubWVudE1hbmFnZXIoKXtyZXR1cm4gdGhpcy5hbGlnbm1lbnRNYW5hZ2VyfX1lLlZleEZsb3dTdGFmZkxpbmU9cn0sZnVuY3Rpb24odCxlLGkpe1widXNlIHN0cmljdFwiO09iamVjdC5kZWZpbmVQcm9wZXJ0eShlLFwiX19lc01vZHVsZVwiLHt2YWx1ZTohMH0pO2UuU3RhZmZFbnRyeUxpbms9Y2xhc3N7Y29uc3RydWN0b3IodCl7dGhpcy5saW5rU3RhZmZFbnRyaWVzPVtdLHRoaXMudm9pY2VFbnRyeT10fWdldCBHZXRWb2ljZUVudHJ5KCl7cmV0dXJuIHRoaXMudm9pY2VFbnRyeX1nZXQgTGlua1N0YWZmRW50cmllcygpe3JldHVybiB0aGlzLmxpbmtTdGFmZkVudHJpZXN9c2V0IExpbmtTdGFmZkVudHJpZXModCl7dGhpcy5saW5rU3RhZmZFbnRyaWVzPXR9fX0sZnVuY3Rpb24odCxlLGkpe1widXNlIHN0cmljdFwiO09iamVjdC5kZWZpbmVQcm9wZXJ0eShlLFwiX19lc01vZHVsZVwiLHt2YWx1ZTohMH0pO2UuVHVwbGV0PWNsYXNze2NvbnN0cnVjdG9yKHQsZT0hMSl7dGhpcy5ub3Rlcz1bXSx0aGlzLmZyYWN0aW9ucz1bXSx0aGlzLnR1cGxldExhYmVsTnVtYmVyPXQsdGhpcy5icmFja2V0PWV9Z2V0IFR1cGxldExhYmVsTnVtYmVyKCl7cmV0dXJuIHRoaXMudHVwbGV0TGFiZWxOdW1iZXJ9c2V0IFR1cGxldExhYmVsTnVtYmVyKHQpe3RoaXMudHVwbGV0TGFiZWxOdW1iZXI9dH1nZXQgTm90ZXMoKXtyZXR1cm4gdGhpcy5ub3Rlc31zZXQgTm90ZXModCl7dGhpcy5ub3Rlcz10fWdldCBGcmFjdGlvbnMoKXtyZXR1cm4gdGhpcy5mcmFjdGlvbnN9c2V0IEZyYWN0aW9ucyh0KXt0aGlzLmZyYWN0aW9ucz10fWdldCBCcmFja2V0KCl7cmV0dXJuIHRoaXMuYnJhY2tldH1zZXQgQnJhY2tldCh0KXt0aGlzLmJyYWNrZXQ9dH1nZXROb3RlSW5kZXgodCl7Zm9yKGxldCBlPXRoaXMubm90ZXMubGVuZ3RoLTE7ZT49MDtlLS0pZm9yKGxldCBpPTA7aTx0aGlzLm5vdGVzW2VdLmxlbmd0aDtpKyspaWYodD09PXRoaXMubm90ZXNbZV1baV0pcmV0dXJuIGU7cmV0dXJuIDB9fX0sZnVuY3Rpb24odCxlLGkpe1widXNlIHN0cmljdFwiO2Z1bmN0aW9uIHModCl7Zm9yKHZhciBpIGluIHQpZS5oYXNPd25Qcm9wZXJ0eShpKXx8KGVbaV09dFtpXSl9T2JqZWN0LmRlZmluZVByb3BlcnR5KGUsXCJfX2VzTW9kdWxlXCIse3ZhbHVlOiEwfSkscyhpKDApKSxzKGkoMikpLHMoaSg4NikpLHMoaSgxNzEpKX0sZnVuY3Rpb24odCxlLGkpe1widXNlIHN0cmljdFwiO3ZhciBzPXRoaXMmJnRoaXMuX19pbXBvcnREZWZhdWx0fHxmdW5jdGlvbih0KXtyZXR1cm4gdCYmdC5fX2VzTW9kdWxlP3Q6e2RlZmF1bHQ6dH19O09iamVjdC5kZWZpbmVQcm9wZXJ0eShlLFwiX19lc01vZHVsZVwiLHt2YWx1ZTohMH0pO2NvbnN0IG49aSg1OSkscj1zKGkoMTcyKSk7ZS5NWExIZWxwZXI9Y2xhc3N7c3RhdGljIE1YTHRvSVhtbEVsZW1lbnQodCl7Y29uc3QgZT1uZXcgci5kZWZhdWx0O3JldHVybiBlLmxvYWRBc3luYyh0KS50aGVuKHQ9PmUuZmlsZShcIk1FVEEtSU5GL2NvbnRhaW5lci54bWxcIikuYXN5bmMoXCJ0ZXh0XCIpLHQ9Pnt0aHJvdyB0fSkudGhlbih0PT57Y29uc3QgaT0obmV3IERPTVBhcnNlcikucGFyc2VGcm9tU3RyaW5nKHQsXCJ0ZXh0L3htbFwiKS5nZXRFbGVtZW50c0J5VGFnTmFtZShcInJvb3RmaWxlXCIpWzBdLmdldEF0dHJpYnV0ZShcImZ1bGwtcGF0aFwiKTtyZXR1cm4gZS5maWxlKGkpLmFzeW5jKFwidGV4dFwiKX0sdD0+e3Rocm93IHR9KS50aGVuKHQ9Pntjb25zdCBlPShuZXcgRE9NUGFyc2VyKS5wYXJzZUZyb21TdHJpbmcodCxcInRleHQveG1sXCIpLGk9bmV3IG4uSVhtbEVsZW1lbnQoZS5kb2N1bWVudEVsZW1lbnQpO3JldHVybiBQcm9taXNlLnJlc29sdmUoaSl9LHQ9Pnt0aHJvdyB0fSkudGhlbih0PT50LHQ9Pnt0aHJvdyBuZXcgRXJyb3IoXCJleHRyYWN0U2hlZXRGcm9tTXhsOiBcIit0Lm1lc3NhZ2UpfSl9c3RhdGljIE1YTHRvWE1Mc3RyaW5nKHQpe2NvbnN0IGU9bmV3IHIuZGVmYXVsdDtyZXR1cm4gZS5sb2FkQXN5bmModCkudGhlbih0PT5lLmZpbGUoXCJNRVRBLUlORi9jb250YWluZXIueG1sXCIpLmFzeW5jKFwidGV4dFwiKSx0PT57dGhyb3cgdH0pLnRoZW4odD0+e2NvbnN0IGk9KG5ldyBET01QYXJzZXIpLnBhcnNlRnJvbVN0cmluZyh0LFwidGV4dC94bWxcIikuZ2V0RWxlbWVudHNCeVRhZ05hbWUoXCJyb290ZmlsZVwiKVswXS5nZXRBdHRyaWJ1dGUoXCJmdWxsLXBhdGhcIik7cmV0dXJuIGUuZmlsZShpKS5hc3luYyhcInRleHRcIil9LHQ9Pnt0aHJvdyB0fSl9fX0sZnVuY3Rpb24odCxlLGkpe1widXNlIHN0cmljdFwiO3ZhciBzPXRoaXMmJnRoaXMuX19pbXBvcnREZWZhdWx0fHxmdW5jdGlvbih0KXtyZXR1cm4gdCYmdC5fX2VzTW9kdWxlP3Q6e2RlZmF1bHQ6dH19O09iamVjdC5kZWZpbmVQcm9wZXJ0eShlLFwiX19lc01vZHVsZVwiLHt2YWx1ZTohMH0pO2NvbnN0IG49aSgxMzEpLHI9aSg2Niksbz1pKDApLGE9aSgxMzQpLGg9aSg2MCksbD1pKDI3KSxjPWkoMTEpLHU9cyhpKDEpKSxkPWkoMTcpLGY9aSgxNyksbT1pKDI1KSxwPWkoNjEpLGc9aSgxNDMpLGI9aSg4KSxTPWkoMTMpLHk9aSgxNDQpLHg9aSg1MCk7Y2xhc3MgRXtjb25zdHJ1Y3Rvcih0LGU9bmV3IHguRW5ncmF2aW5nUnVsZXMpe3RoaXMuY29tcGxldGVOdW1iZXJPZlN0YXZlcz0wLHRoaXMuYWZ0ZXJTaGVldFJlYWRpbmdNb2R1bGVzPXR8fFtdLHRoaXMucmVwZXRpdGlvbkluc3RydWN0aW9uUmVhZGVyPXkuTXVzaWNTeW1ib2xNb2R1bGVGYWN0b3J5LmNyZWF0ZVJlcGV0aXRpb25JbnN0cnVjdGlvblJlYWRlcigpLHRoaXMucmVwZXRpdGlvbkNhbGN1bGF0b3I9eS5NdXNpY1N5bWJvbE1vZHVsZUZhY3RvcnkuY3JlYXRlUmVwZXRpdGlvbkNhbGN1bGF0b3IoKSx0aGlzLnJ1bGVzPWV9Z2V0IENvbXBsZXRlTnVtYmVyT2ZTdGF2ZXMoKXtyZXR1cm4gdGhpcy5jb21wbGV0ZU51bWJlck9mU3RhdmVzfXN0YXRpYyBkb0NhbGN1bGF0aW9uc0FmdGVyRHVyYXRpb25IYXNCZWVuU2V0KHQpe2Zvcihjb25zdCBlIG9mIHQpZS5kb0NhbGN1bGF0aW9uc0FmdGVyRHVyYXRpb25IYXNCZWVuU2V0KCl9Y3JlYXRlTXVzaWNTaGVldCh0LGUpe3RyeXtyZXR1cm4gdGhpcy5fY3JlYXRlTXVzaWNTaGVldCh0LGUpfWNhdGNoKHQpe3JldHVybiB2b2lkIHUuZGVmYXVsdC5lcnJvcihcIk11c2ljU2hlZXRSZWFkZXIuQ3JlYXRlTXVzaWNTaGVldFwiLHQpfX1fcmVtb3ZlRnJvbUFycmF5KHQsZSl7Y29uc3QgaT10LmluZGV4T2YoZSk7LTEhPT1pJiZ0LnNwbGljZShpLDEpfXRyaW1TdHJpbmcodCl7cmV0dXJuIHQucmVwbGFjZSgvXlxccyt8XFxzKyQvZyxcIlwiKX1fbGFzdEVsZW1lbnQodCl7cmV0dXJuIHRbdC5sZW5ndGgtMV19X2NyZWF0ZU11c2ljU2hlZXQodCxlKXtjb25zdCBpPVtdO2xldCBzPTA7aWYodGhpcy5tdXNpY1NoZWV0PW5ldyBuLk11c2ljU2hlZXQsdGhpcy5tdXNpY1NoZWV0LlBhdGg9ZSx0aGlzLm11c2ljU2hlZXQuUnVsZXM9dGhpcy5ydWxlcywhdCl0aHJvdyBuZXcgYy5NdXNpY1NoZWV0UmVhZGluZ0V4Y2VwdGlvbihcIlVuZGVmaW5lZCByb290IGVsZW1lbnRcIik7dGhpcy5wdXNoU2hlZXRMYWJlbHModCxlKTtjb25zdCBhPXQuZWxlbWVudChcInBhcnQtbGlzdFwiKTtpZighYSl0aHJvdyBuZXcgYy5NdXNpY1NoZWV0UmVhZGluZ0V4Y2VwdGlvbihcIlVuZGVmaW5lZCBwYXJ0TGlzdE5vZGVcIik7Y29uc3QgaD10LmVsZW1lbnRzKFwicGFydFwiKSx1PWEuZWxlbWVudHMoKTt0aGlzLmluaXRpYWxpemVSZWFkaW5nKHUsaCxpKTtsZXQgZD0hMDt0aGlzLmN1cnJlbnRGcmFjdGlvbj1uZXcgby5GcmFjdGlvbigwLDEpO2xldCBmPSExLG09dC5lbGVtZW50KFwiaWRlbnRpZmljYXRpb25cIik7Zm9yKG0mJihtPW0uZWxlbWVudChcImVuY29kaW5nXCIpKSxtJiYobT1tLmVsZW1lbnQoXCJzb2Z0d2FyZVwiKSksdm9pZCAwIT09bSYmXCJHdWl0YXIgUHJvIDVcIj09PW0udmFsdWUmJihmPSEwKTtkOyl7dm9pZCAwIT09dGhpcy5jdXJyZW50TWVhc3VyZSYmdGhpcy5jdXJyZW50TWVhc3VyZS5IYXNFbmRMaW5lJiYocz0wKSx0aGlzLmN1cnJlbnRNZWFzdXJlPW5ldyByLlNvdXJjZU1lYXN1cmUodGhpcy5jb21wbGV0ZU51bWJlck9mU3RhdmVzLHRoaXMubXVzaWNTaGVldC5SdWxlcyk7Zm9yKGNvbnN0IHQgb2YgaSl0cnl7ZD1kJiZ0LnJlYWROZXh0WG1sTWVhc3VyZSh0aGlzLmN1cnJlbnRNZWFzdXJlLHRoaXMuY3VycmVudEZyYWN0aW9uLGYpfWNhdGNoKHQpe2NvbnN0IGU9bC5JVGV4dFRyYW5zbGF0aW9uLnRyYW5zbGF0ZVRleHQoXCJSZWFkZXJFcnJvck1lc3NhZ2VzL0luc3RydW1lbnRFcnJvclwiLFwiRXJyb3Igd2hpbGUgcmVhZGluZyBpbnN0cnVtZW50cy5cIik7dGhyb3cgbmV3IGMuTXVzaWNTaGVldFJlYWRpbmdFeGNlcHRpb24oZSx0KX1kJiYodGhpcy5tdXNpY1NoZWV0LmFkZE1lYXN1cmUodGhpcy5jdXJyZW50TWVhc3VyZSksdGhpcy5jaGVja0lmUmh5dGhtSW5zdHJ1Y3Rpb25zQXJlU2V0QW5kRXF1YWwoaSksdGhpcy5jaGVja1NvdXJjZU1lYXN1cmVGb3JOdWxsRW50cmllcygpLHM9dGhpcy5zZXRTb3VyY2VNZWFzdXJlRHVyYXRpb24oaSxzKSxFLmRvQ2FsY3VsYXRpb25zQWZ0ZXJEdXJhdGlvbkhhc0JlZW5TZXQoaSksdGhpcy5jdXJyZW50TWVhc3VyZS5BYnNvbHV0ZVRpbWVzdGFtcD10aGlzLmN1cnJlbnRGcmFjdGlvbi5jbG9uZSgpLHRoaXMubXVzaWNTaGVldC5TaGVldEVycm9ycy5maW5hbGl6ZU1lYXN1cmUodGhpcy5jdXJyZW50TWVhc3VyZS5NZWFzdXJlTnVtYmVyKSx0aGlzLmN1cnJlbnRGcmFjdGlvbi5BZGQodGhpcy5jdXJyZW50TWVhc3VyZS5EdXJhdGlvbiksdGhpcy5wcmV2aW91c01lYXN1cmU9dGhpcy5jdXJyZW50TWVhc3VyZSl9dGhpcy5yZXBldGl0aW9uSW5zdHJ1Y3Rpb25SZWFkZXImJih0aGlzLnJlcGV0aXRpb25JbnN0cnVjdGlvblJlYWRlci5yZW1vdmVSZWR1bmRhbnRJbnN0cnVjdGlvbnMoKSx0aGlzLnJlcGV0aXRpb25DYWxjdWxhdG9yJiZ0aGlzLnJlcGV0aXRpb25DYWxjdWxhdG9yLmNhbGN1bGF0ZVJlcGV0aXRpb25zKHRoaXMubXVzaWNTaGVldCx0aGlzLnJlcGV0aXRpb25JbnN0cnVjdGlvblJlYWRlci5yZXBldGl0aW9uSW5zdHJ1Y3Rpb25zKSksdGhpcy5tdXNpY1NoZWV0LmNoZWNrRm9ySW5zdHJ1bWVudFdpdGhOb1ZvaWNlKCksdGhpcy5tdXNpY1NoZWV0LmZpbGxTdGFmZkxpc3QoKTtmb3IobGV0IHQ9MCxlPXRoaXMuYWZ0ZXJTaGVldFJlYWRpbmdNb2R1bGVzLmxlbmd0aDt0PGU7Kyt0KXt0aGlzLmFmdGVyU2hlZXRSZWFkaW5nTW9kdWxlc1t0XS5jYWxjdWxhdGUodGhpcy5tdXNpY1NoZWV0KX1yZXR1cm4gdGhpcy5tdXNpY1NoZWV0LkRlZmF1bHRTdGFydFRlbXBvSW5CcG09dGhpcy5tdXNpY1NoZWV0LlNvdXJjZU1lYXN1cmVzWzBdLlRlbXBvSW5CUE0sdGhpcy5tdXNpY1NoZWV0LnVzZXJTdGFydFRlbXBvSW5CUE09dGhpcy5tdXNpY1NoZWV0LnVzZXJTdGFydFRlbXBvSW5CUE18fHRoaXMubXVzaWNTaGVldC5EZWZhdWx0U3RhcnRUZW1wb0luQnBtLHRoaXMubXVzaWNTaGVldH1pbml0aWFsaXplUmVhZGluZyh0LGUsaSl7Y29uc3Qgcz10aGlzLmNyZWF0ZUluc3RydW1lbnRHcm91cHModCk7dGhpcy5jb21wbGV0ZU51bWJlck9mU3RhdmVzPXRoaXMuZ2V0Q29tcGxldGVOdW1iZXJPZlN0YXZlc0Zyb21YbWwoZSksMCE9PWUubGVuZ3RoJiYodGhpcy5yZXBldGl0aW9uSW5zdHJ1Y3Rpb25SZWFkZXIuTXVzaWNTaGVldD10aGlzLm11c2ljU2hlZXQsdGhpcy5jdXJyZW50RnJhY3Rpb249bmV3IG8uRnJhY3Rpb24oMCwxKSx0aGlzLmN1cnJlbnRNZWFzdXJlPXZvaWQgMCx0aGlzLnByZXZpb3VzTWVhc3VyZT12b2lkIDApO2xldCBuPTA7Zm9yKGNvbnN0IHQgb2YgZSl7Y29uc3QgZT10LmF0dHJpYnV0ZShcImlkXCIpO2lmKGUpe2NvbnN0IHI9c1tlLnZhbHVlXSxvPXQuZWxlbWVudHMoXCJtZWFzdXJlXCIpO2xldCBoPTE7dHJ5e2g9dGhpcy5nZXRJbnN0cnVtZW50TnVtYmVyT2ZTdGF2ZXNGcm9tWG1sKHQpfWNhdGNoKHQpe2NvbnN0IGU9bC5JVGV4dFRyYW5zbGF0aW9uLnRyYW5zbGF0ZVRleHQoXCJSZWFkZXJFcnJvck1lc3NhZ2VzL0luc3RydW1lbnRTdGF2ZXNOdW1iZXJFcnJvclwiLFwiSW52YWxpZCBudW1iZXIgb2Ygc3RhdmVzIGF0IGluc3RydW1lbnQ6IFwiKTt0aGlzLm11c2ljU2hlZXQuU2hlZXRFcnJvcnMucHVzaChlK3IuTmFtZSk7Y29udGludWV9ci5jcmVhdGVTdGF2ZXMoaCksaS5wdXNoKG5ldyBhLkluc3RydW1lbnRSZWFkZXIodGhpcy5yZXBldGl0aW9uSW5zdHJ1Y3Rpb25SZWFkZXIsbyxyKSksdGhpcy5yZXBldGl0aW9uSW5zdHJ1Y3Rpb25SZWFkZXImJih0aGlzLnJlcGV0aXRpb25JbnN0cnVjdGlvblJlYWRlci54bWxNZWFzdXJlTGlzdFtuXT1vKSxuKyt9fX1jaGVja0lmUmh5dGhtSW5zdHJ1Y3Rpb25zQXJlU2V0QW5kRXF1YWwodCl7Y29uc3QgZT1bXTtmb3IobGV0IHQ9MDt0PHRoaXMuY29tcGxldGVOdW1iZXJPZlN0YXZlczt0KyspaWYodGhpcy5jdXJyZW50TWVhc3VyZS5GaXJzdEluc3RydWN0aW9uc1N0YWZmRW50cmllc1t0XSl7Y29uc3QgaT10aGlzLmN1cnJlbnRNZWFzdXJlLkZpcnN0SW5zdHJ1Y3Rpb25zU3RhZmZFbnRyaWVzW3RdLkluc3RydWN0aW9uc1t0aGlzLmN1cnJlbnRNZWFzdXJlLkZpcnN0SW5zdHJ1Y3Rpb25zU3RhZmZFbnRyaWVzW3RdLkluc3RydWN0aW9ucy5sZW5ndGgtMV07aSBpbnN0YW5jZW9mIGQuUmh5dGhtSW5zdHJ1Y3Rpb24mJmUucHVzaChpKX1sZXQgaT0wLHM9LTE7Zm9yKGxldCB0PTAsbj1lLmxlbmd0aDt0PG47Kyt0KXtjb25zdCBuPWVbdF07aWYobi5SaHl0aG0uUmVhbFZhbHVlPmkpe2lmKHRoaXMuYXJlUmh5dGhtSW5zdHJ1Y3Rpb25zTWl4ZWQoZSkmJm4uU3ltYm9sRW51bSE9PWYuUmh5dGhtU3ltYm9sRW51bS5OT05FKWNvbnRpbnVlO2k9bi5SaHl0aG0uUmVhbFZhbHVlLHM9ZS5pbmRleE9mKG4pfX1pZihlLmxlbmd0aD4wJiZlLmxlbmd0aDx0aGlzLmNvbXBsZXRlTnVtYmVyT2ZTdGF2ZXMpe2NvbnN0IGk9ZVtzXS5jbG9uZSgpO2ZvcihsZXQgdD0wO3Q8dGhpcy5jb21wbGV0ZU51bWJlck9mU3RhdmVzO3QrKyl2b2lkIDA9PT10aGlzLmN1cnJlbnRNZWFzdXJlLkZpcnN0SW5zdHJ1Y3Rpb25zU3RhZmZFbnRyaWVzW3RdfHx0aGlzLl9sYXN0RWxlbWVudCh0aGlzLmN1cnJlbnRNZWFzdXJlLkZpcnN0SW5zdHJ1Y3Rpb25zU3RhZmZFbnRyaWVzW3RdLkluc3RydWN0aW9ucylpbnN0YW5jZW9mIGQuUmh5dGhtSW5zdHJ1Y3Rpb258fCh0aGlzLmN1cnJlbnRNZWFzdXJlLkZpcnN0SW5zdHJ1Y3Rpb25zU3RhZmZFbnRyaWVzW3RdLnJlbW92ZUFsbEluc3RydWN0aW9uc09mVHlwZVJoeXRobUluc3RydWN0aW9uKCksdGhpcy5jdXJyZW50TWVhc3VyZS5GaXJzdEluc3RydWN0aW9uc1N0YWZmRW50cmllc1t0XS5JbnN0cnVjdGlvbnMucHVzaChpLmNsb25lKCkpKSx0aGlzLmN1cnJlbnRNZWFzdXJlLkZpcnN0SW5zdHJ1Y3Rpb25zU3RhZmZFbnRyaWVzW3RdfHwodGhpcy5jdXJyZW50TWVhc3VyZS5GaXJzdEluc3RydWN0aW9uc1N0YWZmRW50cmllc1t0XT1uZXcgbS5Tb3VyY2VTdGFmZkVudHJ5KHZvaWQgMCx2b2lkIDApLHRoaXMuY3VycmVudE1lYXN1cmUuRmlyc3RJbnN0cnVjdGlvbnNTdGFmZkVudHJpZXNbdF0uSW5zdHJ1Y3Rpb25zLnB1c2goaS5jbG9uZSgpKSk7Zm9yKGxldCBlPTAscz10Lmxlbmd0aDtlPHM7KytlKXt0W2VdLkFjdGl2ZVJoeXRobT1pfX1pZigwPT09ZS5sZW5ndGgmJnRoaXMuY3VycmVudE1lYXN1cmU9PT10aGlzLm11c2ljU2hlZXQuU291cmNlTWVhc3VyZXNbMF0pe2NvbnN0IGU9bmV3IGQuUmh5dGhtSW5zdHJ1Y3Rpb24obmV3IG8uRnJhY3Rpb24oNCw0LDAsITEpLGYuUmh5dGhtU3ltYm9sRW51bS5OT05FKTtmb3IobGV0IHQ9MDt0PHRoaXMuY29tcGxldGVOdW1iZXJPZlN0YXZlczt0KyspdGhpcy5jdXJyZW50TWVhc3VyZS5GaXJzdEluc3RydWN0aW9uc1N0YWZmRW50cmllc1t0XT90aGlzLmN1cnJlbnRNZWFzdXJlLkZpcnN0SW5zdHJ1Y3Rpb25zU3RhZmZFbnRyaWVzW3RdLnJlbW92ZUFsbEluc3RydWN0aW9uc09mVHlwZVJoeXRobUluc3RydWN0aW9uKCk6dGhpcy5jdXJyZW50TWVhc3VyZS5GaXJzdEluc3RydWN0aW9uc1N0YWZmRW50cmllc1t0XT1uZXcgbS5Tb3VyY2VTdGFmZkVudHJ5KHZvaWQgMCx2b2lkIDApLHRoaXMuY3VycmVudE1lYXN1cmUuRmlyc3RJbnN0cnVjdGlvbnNTdGFmZkVudHJpZXNbdF0uSW5zdHJ1Y3Rpb25zLnB1c2goZSk7Zm9yKGxldCBpPTAscz10Lmxlbmd0aDtpPHM7KytpKXt0W2ldLkFjdGl2ZVJoeXRobT1lfX1mb3IobGV0IHQ9MCxuPWUubGVuZ3RoO3Q8bjsrK3Qpe2NvbnN0IG49ZVt0XTtpZihuLlJoeXRobS5SZWFsVmFsdWU8aSYmdGhpcy5fbGFzdEVsZW1lbnQodGhpcy5jdXJyZW50TWVhc3VyZS5GaXJzdEluc3RydWN0aW9uc1N0YWZmRW50cmllc1tlLmluZGV4T2YobildLkluc3RydWN0aW9ucylpbnN0YW5jZW9mIGQuUmh5dGhtSW5zdHJ1Y3Rpb24pe2NvbnN0IHQ9dGhpcy5jdXJyZW50TWVhc3VyZS5GaXJzdEluc3RydWN0aW9uc1N0YWZmRW50cmllc1tlLmluZGV4T2YobildLkluc3RydWN0aW9uczt0W3QubGVuZ3RoLTFdPWVbc10uY2xvbmUoKX1NYXRoLmFicyhuLlJoeXRobS5SZWFsVmFsdWUtaSk8MWUtNiYmbi5TeW1ib2xFbnVtIT09Zi5SaHl0aG1TeW1ib2xFbnVtLk5PTkUmJnRoaXMuYXJlUmh5dGhtSW5zdHJ1Y3Rpb25zTWl4ZWQoZSkmJihuLlN5bWJvbEVudW09Zi5SaHl0aG1TeW1ib2xFbnVtLk5PTkUpfX1hcmVSaHl0aG1JbnN0cnVjdGlvbnNNaXhlZCh0KXtmb3IobGV0IGU9MTtlPHQubGVuZ3RoO2UrKylpZihNYXRoLmFicyh0W2VdLlJoeXRobS5SZWFsVmFsdWUtdFswXS5SaHl0aG0uUmVhbFZhbHVlKTwxZS02JiZ0W2VdLlN5bWJvbEVudW0hPT10WzBdLlN5bWJvbEVudW0pcmV0dXJuITA7cmV0dXJuITF9c2V0U291cmNlTWVhc3VyZUR1cmF0aW9uKHQsZSl7bGV0IGk9bmV3IG8uRnJhY3Rpb24oMCwxKTtjb25zdCBzPVtdO2Zvcihjb25zdCBlIG9mIHQpe3MucHVzaChlLk1heFRpZU5vdGVGcmFjdGlvbik7Y29uc3QgdD1lLkFjdGl2ZVJoeXRobS5SaHl0aG07aS5sdCh0KSYmKGk9bmV3IG8uRnJhY3Rpb24odC5OdW1lcmF0b3IsdC5EZW5vbWluYXRvciwwLCExKSl9Y29uc3Qgbj10aGlzLmN1cnJlbnRNZWFzdXJlLmNhbGN1bGF0ZUluc3RydW1lbnRzRHVyYXRpb24odGhpcy5tdXNpY1NoZWV0LHMpO2xldCByPW5ldyBvLkZyYWN0aW9uKDAsMSk7Zm9yKGNvbnN0IHQgb2YgbilyLmx0KHQpJiYocj10KTtvLkZyYWN0aW9uLkVxdWFsKHIsaSk/dGhpcy5jaGVja0ZyYWN0aW9uc0ZvckVxdWl2YWxlbmNlKHIsaSk6ci5sdChpKSYmKHI9dGhpcy5jdXJyZW50TWVhc3VyZS5yZXZlcnNlQ2hlY2sodGhpcy5tdXNpY1NoZWV0LHIpLHRoaXMuY2hlY2tGcmFjdGlvbnNGb3JFcXVpdmFsZW5jZShyLGkpKSx0aGlzLmN1cnJlbnRNZWFzdXJlLkltcGxpY2l0TWVhc3VyZT10aGlzLmNoZWNrSWZNZWFzdXJlSXNJbXBsaWNpdChyLGkpLHRoaXMuY3VycmVudE1lYXN1cmUuSW1wbGljaXRNZWFzdXJlfHxlKyssdGhpcy5jdXJyZW50TWVhc3VyZS5EdXJhdGlvbj1yLHRoaXMuY3VycmVudE1lYXN1cmUuQWN0aXZlVGltZVNpZ25hdHVyZT1pLHRoaXMuY3VycmVudE1lYXN1cmUuTWVhc3VyZU51bWJlcj1lO2ZvcihsZXQgdD0wO3Q8bi5sZW5ndGg7dCsrKXtjb25zdCBlPW5bdF07aWYodGhpcy5jdXJyZW50TWVhc3VyZS5JbXBsaWNpdE1lYXN1cmUmJmUhPT1yfHwhby5GcmFjdGlvbi5FcXVhbChlLGkpJiYhdGhpcy5hbGxJbnN0cnVtZW50c0hhdmVTYW1lRHVyYXRpb24obixyKSl7Y29uc3QgZT10aGlzLm11c2ljU2hlZXQuZ2V0R2xvYmFsU3RhZmZJbmRleE9mRmlyc3RTdGFmZih0aGlzLm11c2ljU2hlZXQuSW5zdHJ1bWVudHNbdF0pO2ZvcihsZXQgaT0wO2k8dGhpcy5tdXNpY1NoZWV0Lkluc3RydW1lbnRzW3RdLlN0YXZlcy5sZW5ndGg7aSsrKWlmKCF0aGlzLmdyYXBoaWNhbE1lYXN1cmVJc0VtcHR5KGUraSkpe3RoaXMuY3VycmVudE1lYXN1cmUuc2V0RXJyb3JJbkdyYXBoaWNhbE1lYXN1cmUoZStpLCEwKTtjb25zdCB0PWwuSVRleHRUcmFuc2xhdGlvbi50cmFuc2xhdGVUZXh0KFwiUmVhZGVyRXJyb3JNZXNzYWdlcy9NaXNzaW5nTm90ZXNFcnJvclwiLFwiR2l2ZW4gTm90ZXMgZG9uJ3QgY29ycmVzcG9uZCB0byBtZWFzdXJlIGR1cmF0aW9uLlwiKTt0aGlzLm11c2ljU2hlZXQuU2hlZXRFcnJvcnMucHVzaE1lYXN1cmVFcnJvcih0KX19fXJldHVybiBlfWNoZWNrRnJhY3Rpb25zRm9yRXF1aXZhbGVuY2UodCxlKXtpZihlLkRlbm9taW5hdG9yPnQuRGVub21pbmF0b3Ipe2NvbnN0IGk9ZS5EZW5vbWluYXRvci90LkRlbm9taW5hdG9yO3QuZXhwYW5kKGkpfX1jaGVja0lmTWVhc3VyZUlzSW1wbGljaXQodCxlKXtyZXR1cm4hKHRoaXMucHJldmlvdXNNZWFzdXJlfHwhdC5sdChlKSl8fCEhdGhpcy5wcmV2aW91c01lYXN1cmUmJm8uRnJhY3Rpb24ucGx1cyh0aGlzLnByZXZpb3VzTWVhc3VyZS5EdXJhdGlvbix0KS5FcXVhbHMoZSl9YWxsSW5zdHJ1bWVudHNIYXZlU2FtZUR1cmF0aW9uKHQsZSl7bGV0IGk9MDtmb3IobGV0IHM9MCxuPXQubGVuZ3RoO3M8bjsrK3Mpe3Rbc10uRXF1YWxzKGUpJiZpKyt9cmV0dXJuIGk9PT10Lmxlbmd0aCYmZSE9PW5ldyBvLkZyYWN0aW9uKDAsMSl9Z3JhcGhpY2FsTWVhc3VyZUlzRW1wdHkodCl7bGV0IGU9MDtmb3IobGV0IGk9MDtpPHRoaXMuY3VycmVudE1lYXN1cmUuVmVydGljYWxTb3VyY2VTdGFmZkVudHJ5Q29udGFpbmVycy5sZW5ndGg7aSsrKXRoaXMuY3VycmVudE1lYXN1cmUuVmVydGljYWxTb3VyY2VTdGFmZkVudHJ5Q29udGFpbmVyc1tpXS5TdGFmZkVudHJpZXNbdF18fGUrKztyZXR1cm4gZT09PXRoaXMuY3VycmVudE1lYXN1cmUuVmVydGljYWxTb3VyY2VTdGFmZkVudHJ5Q29udGFpbmVycy5sZW5ndGh9Y2hlY2tTb3VyY2VNZWFzdXJlRm9yTnVsbEVudHJpZXMoKXtmb3IobGV0IHQ9dGhpcy5jdXJyZW50TWVhc3VyZS5WZXJ0aWNhbFNvdXJjZVN0YWZmRW50cnlDb250YWluZXJzLmxlbmd0aC0xO3Q+PTA7dC0tKWZvcihsZXQgZT10aGlzLmN1cnJlbnRNZWFzdXJlLlZlcnRpY2FsU291cmNlU3RhZmZFbnRyeUNvbnRhaW5lcnNbdF0uU3RhZmZFbnRyaWVzLmxlbmd0aC0xO2U+PTA7ZS0tKXtjb25zdCBpPXRoaXMuY3VycmVudE1lYXN1cmUuVmVydGljYWxTb3VyY2VTdGFmZkVudHJ5Q29udGFpbmVyc1t0XS5TdGFmZkVudHJpZXNbZV07aWYoaSlmb3IobGV0IHQ9aS5Wb2ljZUVudHJpZXMubGVuZ3RoLTE7dD49MDt0LS0pe2NvbnN0IGU9aS5Wb2ljZUVudHJpZXNbdF07MD09PWUuTm90ZXMubGVuZ3RoJiYodGhpcy5fcmVtb3ZlRnJvbUFycmF5KGUuUGFyZW50Vm9pY2UuVm9pY2VFbnRyaWVzLGUpLHRoaXMuX3JlbW92ZUZyb21BcnJheShpLlZvaWNlRW50cmllcyxlKSl9dm9pZCAwIT09aSYmMD09PWkuVm9pY2VFbnRyaWVzLmxlbmd0aCYmKHRoaXMuY3VycmVudE1lYXN1cmUuVmVydGljYWxTb3VyY2VTdGFmZkVudHJ5Q29udGFpbmVyc1t0XS5TdGFmZkVudHJpZXNbZV09dm9pZCAwKX1mb3IobGV0IHQ9dGhpcy5jdXJyZW50TWVhc3VyZS5WZXJ0aWNhbFNvdXJjZVN0YWZmRW50cnlDb250YWluZXJzLmxlbmd0aC0xO3Q+PTA7dC0tKXtsZXQgZT0wO2ZvcihsZXQgaT0wLHM9dGhpcy5jdXJyZW50TWVhc3VyZS5WZXJ0aWNhbFNvdXJjZVN0YWZmRW50cnlDb250YWluZXJzW3RdLlN0YWZmRW50cmllcy5sZW5ndGg7aTxzOysraSl7dGhpcy5jdXJyZW50TWVhc3VyZS5WZXJ0aWNhbFNvdXJjZVN0YWZmRW50cnlDb250YWluZXJzW3RdLlN0YWZmRW50cmllc1tpXXx8ZSsrfWU9PT10aGlzLmN1cnJlbnRNZWFzdXJlLlZlcnRpY2FsU291cmNlU3RhZmZFbnRyeUNvbnRhaW5lcnNbdF0uU3RhZmZFbnRyaWVzLmxlbmd0aCYmdGhpcy5fcmVtb3ZlRnJvbUFycmF5KHRoaXMuY3VycmVudE1lYXN1cmUuVmVydGljYWxTb3VyY2VTdGFmZkVudHJ5Q29udGFpbmVycyx0aGlzLmN1cnJlbnRNZWFzdXJlLlZlcnRpY2FsU291cmNlU3RhZmZFbnRyeUNvbnRhaW5lcnNbdF0pfX1wdXNoU2hlZXRMYWJlbHModCxlKXt0aGlzLnJlYWRDb21wb3Nlcih0KSx0aGlzLnJlYWRUaXRsZSh0KTt0cnl7dGhpcy5tdXNpY1NoZWV0LlRpdGxlJiZ0aGlzLm11c2ljU2hlZXQuQ29tcG9zZXJ8fHRoaXMucmVhZFRpdGxlQW5kQ29tcG9zZXJGcm9tQ3JlZGl0cyh0KX1jYXRjaCh0KXt1LmRlZmF1bHQuaW5mbyhcIk11c2ljU2hlZXRSZWFkZXIucHVzaFNoZWV0TGFiZWxzXCIsXCJyZWFkVGl0bGVBbmRDb21wb3NlckZyb21DcmVkaXRzXCIsdCl9dHJ5e2lmKCF0aGlzLm11c2ljU2hlZXQuVGl0bGUpe2NvbnN0IHQ9TWF0aC5tYXgoMCxlLmxhc3RJbmRleE9mKFwiL1wiKSxlLmxhc3RJbmRleE9mKFwiXFxcXFwiKSksaT1lLnN1YnN0cih0KS5zcGxpdChcIi5cIiwxKTt0aGlzLm11c2ljU2hlZXQuVGl0bGU9bmV3IFMuTGFiZWwoaVswXSl9fWNhdGNoKHQpe3UuZGVmYXVsdC5pbmZvKFwiTXVzaWNTaGVldFJlYWRlci5wdXNoU2hlZXRMYWJlbHNcIixcInJlYWQgdGl0bGUgZnJvbSBmaWxlIG5hbWVcIix0KX19cHJlc2VudEF0dHJzV2l0aFZhbHVlKHQsZSl7Zm9yKGNvbnN0IGkgb2YgdC5hdHRyaWJ1dGVzKCkpaWYoaS52YWx1ZT09PWUpcmV0dXJuITA7cmV0dXJuITF9cmVhZENvbXBvc2VyKHQpe2NvbnN0IGU9dC5lbGVtZW50KFwiaWRlbnRpZmljYXRpb25cIik7aWYoZSl7Y29uc3QgdD1lLmVsZW1lbnRzKFwiY3JlYXRvclwiKTtmb3IobGV0IGU9MCxpPXQubGVuZ3RoO2U8aTsrK2Upe2NvbnN0IGk9dFtlXTtpZihpLmhhc0F0dHJpYnV0ZXMpe2lmKHRoaXMucHJlc2VudEF0dHJzV2l0aFZhbHVlKGksXCJjb21wb3NlclwiKSl7dGhpcy5tdXNpY1NoZWV0LkNvbXBvc2VyPW5ldyBTLkxhYmVsKHRoaXMudHJpbVN0cmluZyhpLnZhbHVlKSk7Y29udGludWV9KHRoaXMucHJlc2VudEF0dHJzV2l0aFZhbHVlKGksXCJseXJpY2lzdFwiKXx8dGhpcy5wcmVzZW50QXR0cnNXaXRoVmFsdWUoaSxcInBvZXRcIikpJiYodGhpcy5tdXNpY1NoZWV0Lkx5cmljaXN0PW5ldyBTLkxhYmVsKHRoaXMudHJpbVN0cmluZyhpLnZhbHVlKSkpfX19fXJlYWRUaXRsZUFuZENvbXBvc2VyRnJvbUNyZWRpdHModCl7Y29uc3QgZT10aGlzLmNvbXB1dGVTeXN0ZW1ZQ29vcmRpbmF0ZXModCk7aWYoMD09PWUpcmV0dXJuO2xldCBpPTEscz12b2lkIDAsbj0wLHI9dm9pZCAwLG89dm9pZCAwO2NvbnN0IGE9dC5lbGVtZW50cyhcImNyZWRpdFwiKTtmb3IobGV0IHQ9MCxoPWEubGVuZ3RoO3Q8aDsrK3Qpe2NvbnN0IGg9YVt0XTtpZighaC5hdHRyaWJ1dGUoXCJwYWdlXCIpKXJldHVybjtpZihcIjFcIj09PWguYXR0cmlidXRlKFwicGFnZVwiKS52YWx1ZSl7bGV0IHQ9dm9pZCAwO2lmKGgpe2lmKHQ9aC5lbGVtZW50KFwiY3JlZGl0LXdvcmRzXCIpLCF0LmF0dHJpYnV0ZShcImp1c3RpZnlcIikpYnJlYWs7Y29uc3QgYT10LmF0dHJpYnV0ZShcImp1c3RpZnlcIikudmFsdWUsbD10LmF0dHJpYnV0ZShcImRlZmF1bHQteVwiKS52YWx1ZSxjPXBhcnNlRmxvYXQobCk7aWYoYz5lKXtpZighdGhpcy5tdXNpY1NoZWV0LlRpdGxlKXtjb25zdCBlPXQuYXR0cmlidXRlKFwiZm9udC1zaXplXCIpLnZhbHVlLG49cGFyc2VGbG9hdChlKTtpPG4mJihpPW4scz10LnZhbHVlKX1pZih0aGlzLm11c2ljU2hlZXQuU3VidGl0bGV8fFwicmlnaHRcIiE9PWEmJlwibGVmdFwiIT09YSYmbjxjJiYobj1jLG8/KHI9byxvPXQudmFsdWUpOm89dC52YWx1ZSksdm9pZCAwPT09dGhpcy5tdXNpY1NoZWV0LkNvbXBvc2VyfHwhdGhpcy5tdXNpY1NoZWV0Lkx5cmljaXN0KXN3aXRjaChhKXtjYXNlXCJyaWdodFwiOnRoaXMubXVzaWNTaGVldC5Db21wb3Nlcj1uZXcgUy5MYWJlbCh0aGlzLnRyaW1TdHJpbmcodC52YWx1ZSkpO2JyZWFrO2Nhc2VcImxlZnRcIjp0aGlzLm11c2ljU2hlZXQuTHlyaWNpc3Q9bmV3IFMuTGFiZWwodGhpcy50cmltU3RyaW5nKHQudmFsdWUpKX19fX19IXRoaXMubXVzaWNTaGVldC5UaXRsZSYmcyYmKHRoaXMubXVzaWNTaGVldC5UaXRsZT1uZXcgUy5MYWJlbCh0aGlzLnRyaW1TdHJpbmcocykpKSwhdGhpcy5tdXNpY1NoZWV0LlN1YnRpdGxlJiZyJiYodGhpcy5tdXNpY1NoZWV0LlN1YnRpdGxlPW5ldyBTLkxhYmVsKHRoaXMudHJpbVN0cmluZyhyKSkpfWNvbXB1dGVTeXN0ZW1ZQ29vcmRpbmF0ZXModCl7aWYoIXQuZWxlbWVudChcImRlZmF1bHRzXCIpKXJldHVybiAwO2xldCBlPTAsaT0wO3RyeXtjb25zdCBpPXQuZWxlbWVudChcImRlZmF1bHRzXCIpLmVsZW1lbnQoXCJwYWdlLWxheW91dFwiKS5lbGVtZW50KFwicGFnZS1oZWlnaHRcIikudmFsdWU7ZT1wYXJzZUZsb2F0KGkpfWNhdGNoKHQpe3JldHVybiB1LmRlZmF1bHQuaW5mbyhcIk11c2ljU2hlZXRSZWFkZXIuY29tcHV0ZVN5c3RlbVlDb29yZGluYXRlcygpOiBjb3VsZG4ndCBmaW5kIHBhZ2UgaGVpZ2h0LCBub3QgcmVhZGluZyB0aXRsZS9jb21wb3Nlci5cIiksMH1sZXQgcz0hMTtjb25zdCBuPXQuZWxlbWVudHMoXCJwYXJ0XCIpO2ZvcihsZXQgdD0wLGU9bi5sZW5ndGg7dDxlOysrdCl7Y29uc3QgZT1uW3RdLmVsZW1lbnRzKFwibWVhc3VyZVwiKTtmb3IobGV0IHQ9MCxuPWUubGVuZ3RoO3Q8bjsrK3Qpe2NvbnN0IG49ZVt0XTtpZihuLmVsZW1lbnQoXCJwcmludFwiKSl7Y29uc3QgdD1uLmVsZW1lbnQoXCJwcmludFwiKS5lbGVtZW50cyhcInN5c3RlbS1sYXlvdXRcIik7Zm9yKGxldCBlPTAsbj10Lmxlbmd0aDtlPG47KytlKXtjb25zdCBuPXRbZV07aWYobi5lbGVtZW50KFwidG9wLXN5c3RlbS1kaXN0YW5jZVwiKSl7Y29uc3QgdD1uLmVsZW1lbnQoXCJ0b3Atc3lzdGVtLWRpc3RhbmNlXCIpLnZhbHVlO2k9cGFyc2VGbG9hdCh0KSxzPSEwO2JyZWFrfX1icmVha319aWYocylicmVha31pZih0LmVsZW1lbnQoXCJkZWZhdWx0c1wiKS5lbGVtZW50KFwic3lzdGVtLWxheW91dFwiKSl7aWYodC5lbGVtZW50KFwiZGVmYXVsdHNcIikuZWxlbWVudChcInN5c3RlbS1sYXlvdXRcIikuZWxlbWVudChcInRvcC1zeXN0ZW0tZGlzdGFuY2VcIikpe2NvbnN0IGU9dC5lbGVtZW50KFwiZGVmYXVsdHNcIikuZWxlbWVudChcInN5c3RlbS1sYXlvdXRcIikuZWxlbWVudChcInRvcC1zeXN0ZW0tZGlzdGFuY2VcIikudmFsdWU7aT1wYXJzZUZsb2F0KGUpfX1yZXR1cm4gMD09PWk/MDplLWl9cmVhZFRpdGxlKHQpe2NvbnN0IGU9dC5lbGVtZW50KFwid29ya1wiKTtsZXQgaT12b2lkIDA7ZSYmKGk9ZS5lbGVtZW50KFwid29yay10aXRsZVwiKSxpJiZpLnZhbHVlJiYodGhpcy5tdXNpY1NoZWV0LlRpdGxlPW5ldyBTLkxhYmVsKHRoaXMudHJpbVN0cmluZyhpLnZhbHVlKSkpKTtjb25zdCBzPXQuZWxlbWVudChcIm1vdmVtZW50LXRpdGxlXCIpO2xldCBuPVwiXCI7aWYocyYmKHRoaXMubXVzaWNTaGVldC5UaXRsZT9uPXRoaXMudHJpbVN0cmluZyhzLnZhbHVlKTp0aGlzLm11c2ljU2hlZXQuVGl0bGU9bmV3IFMuTGFiZWwodGhpcy50cmltU3RyaW5nKHMudmFsdWUpKSksZSl7Y29uc3QgdD1lLmVsZW1lbnQoXCJ3b3JrLW51bWJlclwiKTtpZih0KXtjb25zdCBlPXQudmFsdWU7ZSYmKG49XCJcIj09PW4/ZTpuK1wiLCBcIitlKX19biYmKHRoaXMubXVzaWNTaGVldC5TdWJ0aXRsZT1uZXcgUy5MYWJlbChuKSl9Y3JlYXRlSW5zdHJ1bWVudEdyb3Vwcyh0KXtsZXQgZT0wO2NvbnN0IGk9e307bGV0IHM7dHJ5e2NvbnN0IG49dDtmb3IobGV0IHQ9MCxyPW4ubGVuZ3RoO3Q8cjsrK3Qpe2NvbnN0IHI9blt0XTtpZihcInNjb3JlLXBhcnRcIj09PXIubmFtZSl7Y29uc3QgdD1yLmF0dHJpYnV0ZShcImlkXCIpLnZhbHVlLG49bmV3IGguSW5zdHJ1bWVudChlLHQsdGhpcy5tdXNpY1NoZWV0LHMpO2UrKztjb25zdCBvPXIuZWxlbWVudHMoKTtmb3IobGV0IHQ9MCxlPW8ubGVuZ3RoO3Q8ZTsrK3Qpe2NvbnN0IGU9b1t0XTt0cnl7aWYoXCJwYXJ0LW5hbWVcIj09PWUubmFtZSluLk5hbWU9ZS52YWx1ZTtlbHNlIGlmKFwicGFydC1hYmJyZXZpYXRpb25cIj09PWUubmFtZSluLlBhcnRBYmJyZXZpYXRpb249ZS52YWx1ZTtlbHNlIGlmKFwic2NvcmUtaW5zdHJ1bWVudFwiPT09ZS5uYW1lKXtjb25zdCB0PW5ldyBnLlN1Ykluc3RydW1lbnQobik7dC5pZFN0cmluZz1lLmZpcnN0QXR0cmlidXRlLnZhbHVlLG4uU3ViSW5zdHJ1bWVudHMucHVzaCh0KTtjb25zdCBpPWUuZWxlbWVudChcImluc3RydW1lbnQtbmFtZVwiKTtpJiYodC5uYW1lPWkudmFsdWUsdC5zZXRNaWRpSW5zdHJ1bWVudChpLnZhbHVlKSl9ZWxzZSBpZihcIm1pZGktaW5zdHJ1bWVudFwiPT09ZS5uYW1lKXtsZXQgdD1uLmdldFN1Ykluc3RydW1lbnQoZS5maXJzdEF0dHJpYnV0ZS52YWx1ZSk7Zm9yKGxldCBpPTAscz1uLlN1Ykluc3RydW1lbnRzLmxlbmd0aDtpPHM7KytpKXtjb25zdCBzPW4uU3ViSW5zdHJ1bWVudHNbaV07aWYocy5pZFN0cmluZz09PWUudmFsdWUpe3Q9czticmVha319Y29uc3QgaT1lLmVsZW1lbnRzKCk7Zm9yKGxldCBlPTAscz1pLmxlbmd0aDtlPHM7KytlKXtjb25zdCBzPWlbZV07dHJ5e2lmKFwibWlkaS1jaGFubmVsXCI9PT1zLm5hbWUpMTA9PT1wYXJzZUludChzLnZhbHVlLDEwKSYmKG4uTWlkaUluc3RydW1lbnRJZD1iLk1pZGlJbnN0cnVtZW50LlBlcmN1c3Npb24pO2Vsc2UgaWYoXCJtaWRpLXByb2dyYW1cIj09PXMubmFtZSluLlN1Ykluc3RydW1lbnRzLmxlbmd0aD4wJiZuLk1pZGlJbnN0cnVtZW50SWQhPT1iLk1pZGlJbnN0cnVtZW50LlBlcmN1c3Npb24mJih0Lm1pZGlJbnN0cnVtZW50SUQ9TWF0aC5tYXgoMCxwYXJzZUludChzLnZhbHVlLDEwKS0xKSk7ZWxzZSBpZihcIm1pZGktdW5waXRjaGVkXCI9PT1zLm5hbWUpdC5maXhlZEtleT1NYXRoLm1heCgwLHBhcnNlSW50KHMudmFsdWUsMTApKTtlbHNlIGlmKFwidm9sdW1lXCI9PT1zLm5hbWUpdHJ5e2NvbnN0IGU9cGFyc2VGbG9hdChzLnZhbHVlKTt0LnZvbHVtZT1lLzEyN31jYXRjaCh0KXt1LmRlZmF1bHQuZGVidWcoXCJFeHByZXNzaW9uUmVhZGVyLnJlYWRFeHByZXNzaW9uUGFyYW1ldGVyc1wiLFwicmVhZCB2b2x1bWVcIix0KX1lbHNlIGlmKFwicGFuXCI9PT1zLm5hbWUpdHJ5e2NvbnN0IGU9cGFyc2VGbG9hdChzLnZhbHVlKTt0LnBhbj1lLzY0fWNhdGNoKHQpe3UuZGVmYXVsdC5kZWJ1ZyhcIkV4cHJlc3Npb25SZWFkZXIucmVhZEV4cHJlc3Npb25QYXJhbWV0ZXJzXCIsXCJyZWFkIHBhblwiLHQpfX1jYXRjaCh0KXt1LmRlZmF1bHQuaW5mbyhcIk11c2ljU2hlZXRSZWFkZXIuY3JlYXRlSW5zdHJ1bWVudEdyb3VwcyBtaWRpIHNldHRpbmdzOiBcIix0KX19fX1jYXRjaCh0KXt1LmRlZmF1bHQuaW5mbyhcIk11c2ljU2hlZXRSZWFkZXIuY3JlYXRlSW5zdHJ1bWVudEdyb3VwczogXCIsdCl9fWlmKDA9PT1uLlN1Ykluc3RydW1lbnRzLmxlbmd0aCl7Y29uc3QgdD1uZXcgZy5TdWJJbnN0cnVtZW50KG4pO24uU3ViSW5zdHJ1bWVudHMucHVzaCh0KX1pW3RdPW4scz8ocy5JbnN0cnVtZW50YWxHcm91cHMucHVzaChuKSx0aGlzLm11c2ljU2hlZXQuSW5zdHJ1bWVudHMucHVzaChuKSk6KHRoaXMubXVzaWNTaGVldC5JbnN0cnVtZW50YWxHcm91cHMucHVzaChuKSx0aGlzLm11c2ljU2hlZXQuSW5zdHJ1bWVudHMucHVzaChuKSl9ZWxzZSBpZihcInBhcnQtZ3JvdXBcIj09PXIubmFtZSYmXCJzdGFydFwiPT09ci5hdHRyaWJ1dGUoXCJ0eXBlXCIpLnZhbHVlKXtjb25zdCB0PW5ldyBwLkluc3RydW1lbnRhbEdyb3VwKFwiZ3JvdXBcIix0aGlzLm11c2ljU2hlZXQscyk7cz9zLkluc3RydW1lbnRhbEdyb3Vwcy5wdXNoKHQpOnRoaXMubXVzaWNTaGVldC5JbnN0cnVtZW50YWxHcm91cHMucHVzaCh0KSxzPXR9ZWxzZSBpZihcInBhcnQtZ3JvdXBcIj09PXIubmFtZSYmXCJzdG9wXCI9PT1yLmF0dHJpYnV0ZShcInR5cGVcIikudmFsdWUmJnMpe2lmKDE9PT1zLkluc3RydW1lbnRhbEdyb3Vwcy5sZW5ndGgpe2NvbnN0IHQ9cy5JbnN0cnVtZW50YWxHcm91cHNbMF07cy5QYXJlbnQ/KHMuUGFyZW50Lkluc3RydW1lbnRhbEdyb3Vwcy5wdXNoKHQpLHRoaXMuX3JlbW92ZUZyb21BcnJheShzLlBhcmVudC5JbnN0cnVtZW50YWxHcm91cHMscykpOih0aGlzLm11c2ljU2hlZXQuSW5zdHJ1bWVudGFsR3JvdXBzLnB1c2godCksdGhpcy5fcmVtb3ZlRnJvbUFycmF5KHRoaXMubXVzaWNTaGVldC5JbnN0cnVtZW50YWxHcm91cHMscykpfXM9cy5QYXJlbnR9fX1jYXRjaCh0KXtjb25zdCBlPWwuSVRleHRUcmFuc2xhdGlvbi50cmFuc2xhdGVUZXh0KFwiUmVhZGVyRXJyb3JNZXNzYWdlcy9JbnN0cnVtZW50RXJyb3JcIixcIkVycm9yIHdoaWxlIHJlYWRpbmcgSW5zdHJ1bWVudHNcIik7dGhyb3cgbmV3IGMuTXVzaWNTaGVldFJlYWRpbmdFeGNlcHRpb24oZSx0KX1mb3IobGV0IHQ9MCxlPXRoaXMubXVzaWNTaGVldC5JbnN0cnVtZW50cy5sZW5ndGg7dDxlOysrdCl7Y29uc3QgZT10aGlzLm11c2ljU2hlZXQuSW5zdHJ1bWVudHNbdF07ZS5OYW1lfHwoZS5OYW1lPVwiSW5zdHIuIFwiK2UuSWRTdHJpbmcpfXJldHVybiBpfWdldENvbXBsZXRlTnVtYmVyT2ZTdGF2ZXNGcm9tWG1sKHQpe2xldCBlPTA7Zm9yKGNvbnN0IGkgb2YgdCl7Y29uc3QgdD1pLmVsZW1lbnRzKFwibWVhc3VyZVwiKTtpZih0Lmxlbmd0aD4wKXtjb25zdCBpPXRbMF07aWYoaSl7bGV0IHQ9aS5lbGVtZW50KFwiYXR0cmlidXRlc1wiKTt0JiYodD10LmVsZW1lbnQoXCJzdGF2ZXNcIikpLHQ/ZSs9cGFyc2VJbnQodC52YWx1ZSwxMCk6ZSsrfX19aWYoaXNOYU4oZSl8fGU8PTApe2NvbnN0IHQ9bC5JVGV4dFRyYW5zbGF0aW9uLnRyYW5zbGF0ZVRleHQoXCJSZWFkZXJFcnJvck1lc3NhZ2VzL1N0YWZmRXJyb3JcIixcIkludmFsaWQgbnVtYmVyIG9mIHN0YXZlcy5cIik7dGhyb3cgbmV3IGMuTXVzaWNTaGVldFJlYWRpbmdFeGNlcHRpb24odCl9cmV0dXJuIGV9Z2V0SW5zdHJ1bWVudE51bWJlck9mU3RhdmVzRnJvbVhtbCh0KXtsZXQgZT0wO2NvbnN0IGk9dC5lbGVtZW50KFwibWVhc3VyZVwiKTtpZihpKXtjb25zdCB0PWkuZWxlbWVudChcImF0dHJpYnV0ZXNcIik7bGV0IHM9dm9pZCAwO3QmJihzPXQuZWxlbWVudChcInN0YXZlc1wiKSksZT10JiZzP3BhcnNlSW50KHMudmFsdWUsMTApOjF9aWYoaXNOYU4oZSl8fGU8PTApe2NvbnN0IHQ9bC5JVGV4dFRyYW5zbGF0aW9uLnRyYW5zbGF0ZVRleHQoXCJSZWFkZXJFcnJvck1lc3NhZ2VzL1N0YWZmRXJyb3JcIixcIkludmFsaWQgbnVtYmVyIG9mIFN0YXZlcy5cIik7dGhyb3cgbmV3IGMuTXVzaWNTaGVldFJlYWRpbmdFeGNlcHRpb24odCl9cmV0dXJuIGV9fWUuTXVzaWNTaGVldFJlYWRlcj1FfSxmdW5jdGlvbih0LGUsaSl7XCJ1c2Ugc3RyaWN0XCI7dmFyIHM9dGhpcyYmdGhpcy5fX2ltcG9ydERlZmF1bHR8fGZ1bmN0aW9uKHQpe3JldHVybiB0JiZ0Ll9fZXNNb2R1bGU/dDp7ZGVmYXVsdDp0fX07T2JqZWN0LmRlZmluZVByb3BlcnR5KGUsXCJfX2VzTW9kdWxlXCIse3ZhbHVlOiEwfSk7Y29uc3Qgbj1pKDApLHI9aSgxNzkpLG89aSgxMzIpLGE9aSg0NyksaD1pKDE4MiksbD1pKDI5KSxjPWkoMjEpLHU9cyhpKDEpKTtjbGFzcyBke31lLlBsYXliYWNrU2V0dGluZ3M9ZDtjbGFzcyBme2NvbnN0cnVjdG9yKCl7dGhpcy5pZFN0cmluZz1cInJhbmRvbSBpZFN0cmluZywgbm90IGluaXRpYWxpemVkXCIsdGhpcy5zb3VyY2VNZWFzdXJlcz1bXSx0aGlzLnJlcGV0aXRpb25zPVtdLHRoaXMuZHluTGlzdFN0YXZlcz1bXSx0aGlzLnRpbWVzdGFtcFNvcnRlZER5bmFtaWNFeHByZXNzaW9uc0xpc3Q9W10sdGhpcy50aW1lc3RhbXBTb3J0ZWRUZW1wb0V4cHJlc3Npb25zTGlzdD1bXSx0aGlzLmluc3RydW1lbnRhbEdyb3Vwcz1bXSx0aGlzLmluc3RydW1lbnRzPVtdLHRoaXMubXVzaWNQYXJ0TWFuYWdlcj12b2lkIDAsdGhpcy5tdXNpY1NoZWV0RXJyb3JzPW5ldyBoLk11c2ljU2hlZXRFcnJvcnMsdGhpcy5zdGF2ZXM9W10sdGhpcy50cmFuc3Bvc2U9MCx0aGlzLmRlZmF1bHRTdGFydFRlbXBvSW5CcG09MCx0aGlzLmRyYXdFcnJvbmVvdXNNZWFzdXJlcz0hMSx0aGlzLmhhc0JlZW5PcGVuZWRGb3JUaGVGaXJzdFRpbWU9ITEsdGhpcy5jdXJyZW50RW5yb2xsZWRQb3NpdGlvbj1uZXcgbi5GcmFjdGlvbigwLDEpLHRoaXMucGxheWJhY2tTZXR0aW5ncz1uZXcgZCx0aGlzLnBsYXliYWNrU2V0dGluZ3Mucmh5dGhtPW5ldyBuLkZyYWN0aW9uKDQsNCwwLCExKSx0aGlzLnVzZXJTdGFydFRlbXBvSW5CUE09MTAwLHRoaXMucGFnZVdpZHRoPTEyMCx0aGlzLk11c2ljUGFydE1hbmFnZXI9bmV3IHIuTXVzaWNQYXJ0TWFuYWdlcih0aGlzKSx0aGlzLmhhc0JQTUluZm89ITF9c3RhdGljIGdldEluZGV4RnJvbVN0YWZmKHQpe3JldHVybiB0LmlkSW5NdXNpY1NoZWV0fWdldCBTb3VyY2VNZWFzdXJlcygpe3JldHVybiB0aGlzLnNvdXJjZU1lYXN1cmVzfXNldCBTb3VyY2VNZWFzdXJlcyh0KXt0aGlzLnNvdXJjZU1lYXN1cmVzPXR9Z2V0IFJlcGV0aXRpb25zKCl7cmV0dXJuIHRoaXMucmVwZXRpdGlvbnN9c2V0IFJlcGV0aXRpb25zKHQpe3RoaXMucmVwZXRpdGlvbnM9dH1nZXQgRHluTGlzdFN0YXZlcygpe3JldHVybiB0aGlzLmR5bkxpc3RTdGF2ZXN9Z2V0IFRpbWVzdGFtcFNvcnRlZFRlbXBvRXhwcmVzc2lvbnNMaXN0KCl7cmV0dXJuIHRoaXMudGltZXN0YW1wU29ydGVkVGVtcG9FeHByZXNzaW9uc0xpc3R9Z2V0IFRpbWVzdGFtcFNvcnRlZER5bmFtaWNFeHByZXNzaW9uc0xpc3QoKXtyZXR1cm4gdGhpcy50aW1lc3RhbXBTb3J0ZWREeW5hbWljRXhwcmVzc2lvbnNMaXN0fWdldCBJbnN0cnVtZW50YWxHcm91cHMoKXtyZXR1cm4gdGhpcy5pbnN0cnVtZW50YWxHcm91cHN9Z2V0IFBhcnRzKCl7cmV0dXJuIHRoaXMuaW5zdHJ1bWVudHN9Z2V0IEluc3RydW1lbnRzKCl7cmV0dXJuIHRoaXMuaW5zdHJ1bWVudHN9Z2V0IFNoZWV0UGxheWJhY2tTZXR0aW5nKCl7cmV0dXJuIHRoaXMucGxheWJhY2tTZXR0aW5nc31zZXQgU2hlZXRQbGF5YmFja1NldHRpbmcodCl7dGhpcy5wbGF5YmFja1NldHRpbmdzPXR9Z2V0IERyYXdFcnJvbmVvdXNNZWFzdXJlcygpe3JldHVybiB0aGlzLmRyYXdFcnJvbmVvdXNNZWFzdXJlc31zZXQgRHJhd0Vycm9uZW91c01lYXN1cmVzKHQpe3RoaXMuZHJhd0Vycm9uZW91c01lYXN1cmVzPXR9Z2V0IEhhc0JlZW5PcGVuZWRGb3JUaGVGaXJzdFRpbWUoKXtyZXR1cm4gdGhpcy5oYXNCZWVuT3BlbmVkRm9yVGhlRmlyc3RUaW1lfXNldCBIYXNCZWVuT3BlbmVkRm9yVGhlRmlyc3RUaW1lKHQpe3RoaXMuaGFzQmVlbk9wZW5lZEZvclRoZUZpcnN0VGltZT10fUluaXRpYWxpemVTdGFydFRlbXBvSW5CUE0odCl7dGhpcy51c2VyU3RhcnRUZW1wb0luQlBNPXR9Z2V0IERlZmF1bHRTdGFydFRlbXBvSW5CcG0oKXtyZXR1cm4gdGhpcy5kZWZhdWx0U3RhcnRUZW1wb0luQnBtfXNldCBEZWZhdWx0U3RhcnRUZW1wb0luQnBtKHQpe3RoaXMuZGVmYXVsdFN0YXJ0VGVtcG9JbkJwbT10LHRoaXMuSW5pdGlhbGl6ZVN0YXJ0VGVtcG9JbkJQTSh0KX1nZXQgUGF0aCgpe3JldHVybiB0aGlzLnBhdGh9c2V0IFBhdGgodCl7dGhpcy5wYXRoPXR9Z2V0IFN0YXZlcygpe3JldHVybiB0aGlzLnN0YXZlc31nZXQgVGl0bGVTdHJpbmcoKXtyZXR1cm4gdGhpcy50aXRsZT90aGlzLnRpdGxlLnRleHQ6XCJcIn1nZXQgU3VidGl0bGVTdHJpbmcoKXtyZXR1cm4gdGhpcy5zdWJ0aXRsZT90aGlzLnN1YnRpdGxlLnRleHQ6XCJcIn1nZXQgQ29tcG9zZXJTdHJpbmcoKXtyZXR1cm4gdGhpcy5jb21wb3Nlcj90aGlzLmNvbXBvc2VyLnRleHQ6XCJcIn1nZXQgTHlyaWNpc3RTdHJpbmcoKXtyZXR1cm4gdGhpcy5seXJpY2lzdD90aGlzLmx5cmljaXN0LnRleHQ6XCJcIn1nZXQgVGl0bGUoKXtyZXR1cm4gdGhpcy50aXRsZX1zZXQgVGl0bGUodCl7dGhpcy50aXRsZT10fWdldCBTdWJ0aXRsZSgpe3JldHVybiB0aGlzLnN1YnRpdGxlfXNldCBTdWJ0aXRsZSh0KXt0aGlzLnN1YnRpdGxlPXR9Z2V0IENvbXBvc2VyKCl7cmV0dXJuIHRoaXMuY29tcG9zZXJ9c2V0IENvbXBvc2VyKHQpe3RoaXMuY29tcG9zZXI9dH1nZXQgTHlyaWNpc3QoKXtyZXR1cm4gdGhpcy5seXJpY2lzdH1zZXQgTHlyaWNpc3QodCl7dGhpcy5seXJpY2lzdD10fWdldCBSdWxlcygpe3JldHVybiB0aGlzLnJ1bGVzfHwodS5kZWZhdWx0LmRlYnVnKFwid2FybmluZzogc2hlZXQuUnVsZXMgd2FzIHVuZGVmaW5lZC4gQ3JlYXRpbmcgbmV3IEVuZ3JhdmluZ1J1bGVzLlwiKSx0aGlzLnJ1bGVzPW5ldyBsLkVuZ3JhdmluZ1J1bGVzKSx0aGlzLnJ1bGVzfXNldCBSdWxlcyh0KXt0aGlzLnJ1bGVzPXR9Z2V0IFNoZWV0RXJyb3JzKCl7cmV0dXJuIHRoaXMubXVzaWNTaGVldEVycm9yc31nZXQgU2VsZWN0aW9uU3RhcnQoKXtyZXR1cm4gdGhpcy5zZWxlY3Rpb25TdGFydH1zZXQgU2VsZWN0aW9uU3RhcnQodCl7dGhpcy5zZWxlY3Rpb25TdGFydD10LmNsb25lKCksdGhpcy5jdXJyZW50RW5yb2xsZWRQb3NpdGlvbj10LmNsb25lKCl9Z2V0IFNlbGVjdGlvbkVuZCgpe3JldHVybiB0aGlzLnNlbGVjdGlvbkVuZH1zZXQgU2VsZWN0aW9uRW5kKHQpe3RoaXMuc2VsZWN0aW9uRW5kPXR9c2V0IEhhc0JQTUluZm8odCl7dGhpcy5oYXNCUE1JbmZvPXR9Z2V0IEhhc0JQTUluZm8oKXtyZXR1cm4gdGhpcy5oYXNCUE1JbmZvfWFkZE1lYXN1cmUodCl7dGhpcy5zb3VyY2VNZWFzdXJlcy5wdXNoKHQpLHQubWVhc3VyZUxpc3RJbmRleD10aGlzLnNvdXJjZU1lYXN1cmVzLmxlbmd0aC0xfWNoZWNrRm9ySW5zdHJ1bWVudFdpdGhOb1ZvaWNlKCl7Zm9yKGxldCB0PTAsZT10aGlzLmluc3RydW1lbnRzLmxlbmd0aDt0PGU7Kyt0KXtjb25zdCBlPXRoaXMuaW5zdHJ1bWVudHNbdF07aWYoMD09PWUuVm9pY2VzLmxlbmd0aCl7Y29uc3QgdD1uZXcgYS5Wb2ljZShlLDEpO2UuVm9pY2VzLnB1c2godCl9fX1nZXRTdGFmZkZyb21JbmRleCh0KXtyZXR1cm4gdGhpcy5zdGF2ZXNbdF19ZmlsbFN0YWZmTGlzdCgpe2xldCB0PTA7Zm9yKGxldCBlPTAsaT10aGlzLmluc3RydW1lbnRzLmxlbmd0aDtlPGk7KytlKXtjb25zdCBpPXRoaXMuaW5zdHJ1bWVudHNbZV07Zm9yKGxldCBlPTAscz1pLlN0YXZlcy5sZW5ndGg7ZTxzOysrZSl7Y29uc3Qgcz1pLlN0YXZlc1tlXTtzLmlkSW5NdXNpY1NoZWV0PXQsdGhpcy5zdGF2ZXMucHVzaChzKSx0Kyt9fX1nZXQgTXVzaWNQYXJ0TWFuYWdlcigpe3JldHVybiB0aGlzLm11c2ljUGFydE1hbmFnZXJ9c2V0IE11c2ljUGFydE1hbmFnZXIodCl7dGhpcy5tdXNpY1BhcnRNYW5hZ2VyPXR9Z2V0Q29tcGxldGVOdW1iZXJPZlN0YXZlcygpe2xldCB0PTA7Zm9yKGxldCBlPTAsaT10aGlzLmluc3RydW1lbnRzLmxlbmd0aDtlPGk7KytlKXt0Kz10aGlzLmluc3RydW1lbnRzW2VdLlN0YXZlcy5sZW5ndGh9cmV0dXJuIHR9Z2V0TGlzdE9mTWVhc3VyZXNGcm9tSW5kZWNlcyh0LGUpe2NvbnN0IGk9W107Zm9yKGxldCBzPXQ7czw9ZTtzKyspaS5wdXNoKHRoaXMuc291cmNlTWVhc3VyZXNbc10pO3JldHVybiBpfWdldE5leHRTb3VyY2VNZWFzdXJlKHQpe2NvbnN0IGU9dGhpcy5zb3VyY2VNZWFzdXJlcy5pbmRleE9mKHQpO3JldHVybiBlPT09dGhpcy5zb3VyY2VNZWFzdXJlcy5sZW5ndGgtMT90OnRoaXMuc291cmNlTWVhc3VyZXNbZSsxXX1nZXRGaXJzdFNvdXJjZU1lYXN1cmUoKXtyZXR1cm4gdGhpcy5zb3VyY2VNZWFzdXJlc1swXX1nZXRMYXN0U291cmNlTWVhc3VyZSgpe3JldHVybiB0aGlzLnNvdXJjZU1lYXN1cmVzW3RoaXMuc291cmNlTWVhc3VyZXMubGVuZ3RoLTFdfXJlc2V0QWxsTm90ZVN0YXRlcygpe2NvbnN0IHQ9dGhpcy5NdXNpY1BhcnRNYW5hZ2VyLmdldEl0ZXJhdG9yKCk7Zm9yKDshdC5FbmRSZWFjaGVkJiZ0LkN1cnJlbnRWb2ljZUVudHJpZXM7KXtmb3IobGV0IGU9MCxpPXQuQ3VycmVudFZvaWNlRW50cmllcy5sZW5ndGg7ZTxpOysrZSl7Y29uc3QgaT10LkN1cnJlbnRWb2ljZUVudHJpZXNbZV07Zm9yKGxldCB0PTAsZT1pLk5vdGVzLmxlbmd0aDt0PGU7Kyt0KXtpLk5vdGVzW3RdLnN0YXRlPWMuTm90ZVN0YXRlLk5vcm1hbH19dC5tb3ZlVG9OZXh0KCl9fWdldE11c2ljU2hlZXRJbnN0cnVtZW50SW5kZXgodCl7cmV0dXJuIHRoaXMuSW5zdHJ1bWVudHMuaW5kZXhPZih0KX1nZXRHbG9iYWxTdGFmZkluZGV4T2ZGaXJzdFN0YWZmKHQpe2NvbnN0IGU9dGhpcy5nZXRNdXNpY1NoZWV0SW5zdHJ1bWVudEluZGV4KHQpO2xldCBpPTA7Zm9yKGxldCB0PTA7dDxlO3QrKylpKz10aGlzLkluc3RydW1lbnRzW3RdLlN0YXZlcy5sZW5ndGg7cmV0dXJuIGl9c2V0UmVwZXRpdGlvbk5ld1VzZXJOdW1iZXJPZlJlcGV0aXRpb25zKHQsZSl7bGV0IGk9MDtmb3IobGV0IHM9MDtzPHRoaXMucmVwZXRpdGlvbnMubGVuZ3RoO3MrKylpZih0aGlzLnJlcGV0aXRpb25zW3NdaW5zdGFuY2VvZiBvLlJlcGV0aXRpb24pe2lmKHQ9PT1pKXt0aGlzLnJlcGV0aXRpb25zW3NdLlVzZXJOdW1iZXJPZlJlcGV0aXRpb25zPWU7YnJlYWt9aSsrfX1nZXRSZXBldGl0aW9uQnlJbmRleCh0KXtsZXQgZT0wO2ZvcihsZXQgaT0wO2k8dGhpcy5yZXBldGl0aW9ucy5sZW5ndGg7aSsrKWlmKHRoaXMucmVwZXRpdGlvbnNbaV1pbnN0YW5jZW9mIG8uUmVwZXRpdGlvbil7aWYodD09PWUpcmV0dXJuIHRoaXMucmVwZXRpdGlvbnNbaV07ZSsrfX1Db21wYXJlVG8odCl7cmV0dXJuIHRoaXMuVGl0bGUudGV4dC5sb2NhbGVDb21wYXJlKHQuVGl0bGUudGV4dCl9Z2V0IEVycm9ycygpe3JldHVybiB0aGlzLm11c2ljU2hlZXRFcnJvcnMubWVhc3VyZUVycm9yc31nZXQgRmlyc3RNZWFzdXJlTnVtYmVyKCl7dHJ5e3JldHVybiB0aGlzLmdldEZpcnN0U291cmNlTWVhc3VyZSgpLk1lYXN1cmVOdW1iZXJ9Y2F0Y2godCl7cmV0dXJuIHUuZGVmYXVsdC5pbmZvKFwiTXVzaWNTaGVldC5GaXJzdE1lYXN1cmVOdW1iZXI6IFwiLHQpLDB9fWdldCBMYXN0TWVhc3VyZU51bWJlcigpe3RyeXtyZXR1cm4gdGhpcy5nZXRMYXN0U291cmNlTWVhc3VyZSgpLk1lYXN1cmVOdW1iZXJ9Y2F0Y2godCl7cmV0dXJuIHUuZGVmYXVsdC5pbmZvKFwiTXVzaWNTaGVldC5MYXN0TWVhc3VyZU51bWJlcjogXCIsdCksMH19Z2V0IEN1cnJlbnRFbnJvbGxlZFBvc2l0aW9uKCl7cmV0dXJuIHRoaXMuY3VycmVudEVucm9sbGVkUG9zaXRpb24uY2xvbmUoKX1zZXQgQ3VycmVudEVucm9sbGVkUG9zaXRpb24odCl7dGhpcy5jdXJyZW50RW5yb2xsZWRQb3NpdGlvbj10LmNsb25lKCl9Z2V0IFRyYW5zcG9zZSgpe3JldHVybiB0aGlzLnRyYW5zcG9zZX1zZXQgVHJhbnNwb3NlKHQpe3RoaXMudHJhbnNwb3NlPXR9Z2V0IEZ1bGxOYW1lU3RyaW5nKCl7cmV0dXJuIHRoaXMuQ29tcG9zZXJTdHJpbmcrXCIgXCIrdGhpcy5UaXRsZVN0cmluZ31nZXQgSWRTdHJpbmcoKXtyZXR1cm4gdGhpcy5pZFN0cmluZ31zZXQgSWRTdHJpbmcodCl7dGhpcy5pZFN0cmluZz10fWdldEVucm9sbGVkU2VsZWN0aW9uU3RhcnRUaW1lU3RhbXBXb3JrYXJvdW5kKCl7Y29uc3QgdD10aGlzLk11c2ljUGFydE1hbmFnZXIuZ2V0SXRlcmF0b3IodGhpcy5TZWxlY3Rpb25TdGFydCk7cmV0dXJuIG4uRnJhY3Rpb24uY3JlYXRlRnJvbUZyYWN0aW9uKHQuQ3VycmVudEVucm9sbGVkVGltZXN0YW1wKX1nZXQgU2hlZXRFbmRUaW1lc3RhbXAoKXtjb25zdCB0PXRoaXMuZ2V0TGFzdFNvdXJjZU1lYXN1cmUoKTtyZXR1cm4gbi5GcmFjdGlvbi5wbHVzKHQuQWJzb2x1dGVUaW1lc3RhbXAsdC5EdXJhdGlvbil9Z2V0U291cmNlTWVhc3VyZUZyb21UaW1lU3RhbXAodCl7Zm9yKGxldCBlPTAsaT10aGlzLnNvdXJjZU1lYXN1cmVzLmxlbmd0aDtlPGk7KytlKXtjb25zdCBpPXRoaXMuc291cmNlTWVhc3VyZXNbZV07Zm9yKGxldCBlPTAscz1pLlZlcnRpY2FsU291cmNlU3RhZmZFbnRyeUNvbnRhaW5lcnMubGVuZ3RoO2U8czsrK2Upe2NvbnN0IHM9aS5WZXJ0aWNhbFNvdXJjZVN0YWZmRW50cnlDb250YWluZXJzW2VdO2lmKHQuRXF1YWxzKHMuZ2V0QWJzb2x1dGVUaW1lc3RhbXAoKSkpcmV0dXJuIGl9fXJldHVybiB0aGlzLmZpbmRTb3VyY2VNZWFzdXJlRnJvbVRpbWVTdGFtcCh0KX1maW5kU291cmNlTWVhc3VyZUZyb21UaW1lU3RhbXAodCl7Zm9yKGNvbnN0IGUgb2YgdGhpcy5zb3VyY2VNZWFzdXJlcylpZihlLkFic29sdXRlVGltZXN0YW1wLmx0ZSh0KSYmdC5sdChuLkZyYWN0aW9uLnBsdXMoZS5BYnNvbHV0ZVRpbWVzdGFtcCxlLkR1cmF0aW9uKSkpcmV0dXJuIGV9Z2V0VmlzaWJsZUluc3RydW1lbnRzKCl7Y29uc3QgdD1bXTtmb3IobGV0IGU9MCxpPXRoaXMuSW5zdHJ1bWVudHMubGVuZ3RoO2U8aTsrK2Upe2NvbnN0IGk9dGhpcy5JbnN0cnVtZW50c1tlXTtpLlZvaWNlcy5sZW5ndGg+MCYmaS5Wb2ljZXNbMF0uVmlzaWJsZSYmdC5wdXNoKGkpfXJldHVybiB0fX1lLk11c2ljU2hlZXQ9ZixmLmRlZmF1bHRUaXRsZT1cIltubyB0aXRsZSBnaXZlbl1cIn0sZnVuY3Rpb24odCxlLGkpe1widXNlIHN0cmljdFwiO3ZhciBzPXRoaXMmJnRoaXMuX19pbXBvcnREZWZhdWx0fHxmdW5jdGlvbih0KXtyZXR1cm4gdCYmdC5fX2VzTW9kdWxlP3Q6e2RlZmF1bHQ6dH19O09iamVjdC5kZWZpbmVQcm9wZXJ0eShlLFwiX19lc01vZHVsZVwiLHt2YWx1ZTohMH0pO2NvbnN0IG49aSgxMzMpLHI9aSgwKSxvPWkoNzYpLGE9cyhpKDEpKTtjbGFzcyBoIGV4dGVuZHMgby5QYXJ0TGlzdEVudHJ5e2NvbnN0cnVjdG9yKHQsZSl7c3VwZXIodCksdGhpcy5iYWNrd2FyZEp1bXBJbnN0cnVjdGlvbnM9W10sdGhpcy5lbmRpbmdQYXJ0cz1bXSx0aGlzLmVuZGluZ0luZGV4RGljdD17fSx0aGlzLnVzZXJOdW1iZXJPZlJlcGV0aXRpb25zPTAsdGhpcy52aXNpYmxlcz1bXSx0aGlzLmZyb21Xb3Jkcz0hMSx0aGlzLnJlcGV0aXRvbkl0ZXJhdGlvbk9yZGVyPVtdLHRoaXMubnVtYmVyT2ZFbmRpbmdzPTEsdGhpcy5tdXNpY1NoZWV0Mj10LHRoaXMudmlydHVhbE92ZXJhbGxSZXBldGl0aW9uPWV9Z2V0IEJhY2t3YXJkSnVtcEluc3RydWN0aW9ucygpe3JldHVybiB0aGlzLmJhY2t3YXJkSnVtcEluc3RydWN0aW9uc31nZXQgRW5kaW5nSW5kZXhEaWN0KCl7cmV0dXJuIHRoaXMuZW5kaW5nSW5kZXhEaWN0fWdldCBFbmRpbmdQYXJ0cygpe3JldHVybiB0aGlzLmVuZGluZ1BhcnRzfWdldCBWaXNpYmxlcygpe3JldHVybiB0aGlzLnZpc2libGVzfXNldCBWaXNpYmxlcyh0KXt0aGlzLnZpc2libGVzPXR9Z2V0IERlZmF1bHROdW1iZXJPZlJlcGV0aXRpb25zKCl7bGV0IHQ9MjtyZXR1cm4gdGhpcy52aXJ0dWFsT3ZlcmFsbFJlcGV0aXRpb24mJih0PTEpLE1hdGgubWF4KHQsT2JqZWN0LmtleXModGhpcy5lbmRpbmdJbmRleERpY3QpLmxlbmd0aCx0aGlzLmNoZWNrUmVwZXRpdGlvbkZvck11bHRpcGxlTHlyaWNWZXJzZXMoKSl9Z2V0IFVzZXJOdW1iZXJPZlJlcGV0aXRpb25zKCl7cmV0dXJuIHRoaXMudXNlck51bWJlck9mUmVwZXRpdGlvbnN9c2V0IFVzZXJOdW1iZXJPZlJlcGV0aXRpb25zKHQpe3RoaXMudXNlck51bWJlck9mUmVwZXRpdGlvbnM9dCx0aGlzLnJlcGV0aXRvbkl0ZXJhdGlvbk9yZGVyPVtdO2NvbnN0IGU9dGhpcy51c2VyTnVtYmVyT2ZSZXBldGl0aW9ucy10aGlzLk51bWJlck9mRW5kaW5ncztmb3IobGV0IHQ9MTt0PD10aGlzLnVzZXJOdW1iZXJPZlJlcGV0aXRpb25zO3QrKyl0PD1lP3RoaXMucmVwZXRpdG9uSXRlcmF0aW9uT3JkZXIucHVzaCgxKTp0aGlzLnJlcGV0aXRvbkl0ZXJhdGlvbk9yZGVyLnB1c2godC1lKX1nZXRGb3J3YXJkSnVtcFRhcmdldEZvckl0ZXJhdGlvbih0KXtjb25zdCBlPXRoaXMucmVwZXRpdG9uSXRlcmF0aW9uT3JkZXJbdC0xXTtyZXR1cm4gdGhpcy5lbmRpbmdJbmRleERpY3RbZV0/dGhpcy5lbmRpbmdJbmRleERpY3RbZV0ucGFydC5TdGFydEluZGV4Oi0xfWdldEJhY2t3YXJkSnVtcFRhcmdldCgpe3JldHVybiB0aGlzLnN0YXJ0TWFya2VyLm1lYXN1cmVJbmRleH1TZXRFbmRpbmdTdGFydEluZGV4KHQsZSl7Y29uc3QgaT1uZXcgbChuZXcgbi5Tb3VyY2VNdXNpY1BhcnQodGhpcy5tdXNpY1NoZWV0MixlLGUpKTt0aGlzLmVuZGluZ1BhcnRzLnB1c2goaSk7Zm9yKGNvbnN0IGUgb2YgdCl0cnl7dGhpcy5lbmRpbmdJbmRleERpY3RbZV09aSxpLmVuZGluZ0luZGljZXMucHVzaChlKSx0aGlzLm51bWJlck9mRW5kaW5nczxlJiYodGhpcy5udW1iZXJPZkVuZGluZ3M9ZSl9Y2F0Y2godCl7YS5kZWZhdWx0LmVycm9yKFwiUmVwZXRpdGlvbjogRXhjZXB0aW9uLlwiLHQpfX1zZXRFbmRpbmdFbmRJbmRleCh0LGUpe3RoaXMuZW5kaW5nSW5kZXhEaWN0W3RdJiZ0aGlzLmVuZGluZ0luZGV4RGljdFt0XS5wYXJ0LnNldEVuZEluZGV4KGUpfWdldCBOdW1iZXJPZkVuZGluZ3MoKXtyZXR1cm4gdGhpcy5udW1iZXJPZkVuZGluZ3N9Z2V0IEZyb21Xb3Jkcygpe3JldHVybiB0aGlzLmZyb21Xb3Jkc31zZXQgRnJvbVdvcmRzKHQpe3RoaXMuZnJvbVdvcmRzPXR9Z2V0IEFic29sdXRlVGltZXN0YW1wKCl7cmV0dXJuIHIuRnJhY3Rpb24uY3JlYXRlRnJvbUZyYWN0aW9uKHRoaXMubXVzaWNTaGVldDIuU291cmNlTWVhc3VyZXNbdGhpcy5zdGFydE1hcmtlci5tZWFzdXJlSW5kZXhdLkFic29sdXRlVGltZXN0YW1wKX1nZXQgU3RhcnRJbmRleCgpe3JldHVybiB0aGlzLnN0YXJ0TWFya2VyLm1lYXN1cmVJbmRleH1nZXQgRW5kSW5kZXgoKXtpZigwPT09dGhpcy5CYWNrd2FyZEp1bXBJbnN0cnVjdGlvbnMubGVuZ3RoKXJldHVybiB0aGlzLlN0YXJ0SW5kZXg7bGV0IHQ9dGhpcy5iYWNrd2FyZEp1bXBJbnN0cnVjdGlvbnNbdGhpcy5iYWNrd2FyZEp1bXBJbnN0cnVjdGlvbnMubGVuZ3RoLTFdLm1lYXN1cmVJbmRleDtyZXR1cm4gdGhpcy5lbmRpbmdJbmRleERpY3RbdGhpcy5OdW1iZXJPZkVuZGluZ3NdJiYodD1NYXRoLm1heCh0aGlzLmVuZGluZ0luZGV4RGljdFt0aGlzLk51bWJlck9mRW5kaW5nc10ucGFydC5FbmRJbmRleCx0KSksdH1jaGVja1JlcGV0aXRpb25Gb3JNdWx0aXBsZUx5cmljVmVyc2VzKCl7bGV0IHQ9MDtjb25zdCBlPXRoaXMuU3RhcnRJbmRleCxpPXRoaXMuRW5kSW5kZXg7Zm9yKGxldCBzPWU7czw9aTtzKyspe2NvbnN0IGU9dGhpcy5tdXNpY1NoZWV0Mi5Tb3VyY2VNZWFzdXJlc1tzXTtmb3IobGV0IGk9MDtpPGUuQ29tcGxldGVOdW1iZXJPZlN0YXZlcztpKyspZm9yKGNvbnN0IHMgb2YgZS5WZXJ0aWNhbFNvdXJjZVN0YWZmRW50cnlDb250YWluZXJzW2ldLlN0YWZmRW50cmllcylpZihzKXtsZXQgZT0wO2Zvcihjb25zdCB0IG9mIHMuVm9pY2VFbnRyaWVzKWUrPU9iamVjdC5rZXlzKHQuTHlyaWNzRW50cmllcykubGVuZ3RoO3Q9TWF0aC5tYXgodCxlKX19cmV0dXJuIHR9Z2V0IEZpcnN0U291cmNlTWVhc3VyZU51bWJlcigpe3JldHVybiB0aGlzLmdldEZpcnN0U291cmNlTWVhc3VyZSgpLk1lYXN1cmVOdW1iZXJ9Z2V0IExhc3RTb3VyY2VNZWFzdXJlTnVtYmVyKCl7cmV0dXJuIHRoaXMuZ2V0TGFzdFNvdXJjZU1lYXN1cmUoKS5NZWFzdXJlTnVtYmVyfX1lLlJlcGV0aXRpb249aDtjbGFzcyBse2NvbnN0cnVjdG9yKHQpe3RoaXMuZW5kaW5nSW5kaWNlcz1bXSx0aGlzLnBhcnQ9dH1Ub1N0cmluZygpe3JldHVybiB0aGlzLmVuZGluZ0luZGljZXMuam9pbihcIiwgXCIpfX1lLlJlcGV0aXRpb25FbmRpbmdQYXJ0PWx9LGZ1bmN0aW9uKHQsZSxpKXtcInVzZSBzdHJpY3RcIjtPYmplY3QuZGVmaW5lUHJvcGVydHkoZSxcIl9fZXNNb2R1bGVcIix7dmFsdWU6ITB9KTtjb25zdCBzPWkoNzYpLG49aSgwKTtjbGFzcyByIGV4dGVuZHMgcy5QYXJ0TGlzdEVudHJ5e2NvbnN0cnVjdG9yKHQsZSxpKXtzdXBlcih0KSx0aGlzLm11c2ljU2hlZXQ9dCx0aGlzLnN0YXJ0SW5kZXg9ZSx0aGlzLmVuZEluZGV4PWl9Z2V0IE1lYXN1cmVzQ291bnQoKXtyZXR1cm4gdGhpcy5lbmRJbmRleC10aGlzLnN0YXJ0SW5kZXgrMX1nZXQgU3RhcnRJbmRleCgpe3JldHVybiB0aGlzLnN0YXJ0SW5kZXh9Z2V0IEVuZEluZGV4KCl7cmV0dXJuIHRoaXMuZW5kSW5kZXh9Z2V0IFBhcmVudFJlcGV0aXRpb24oKXtyZXR1cm4gdGhpcy5wYXJlbnRSZXBldGl0aW9ufXNldCBQYXJlbnRSZXBldGl0aW9uKHQpe3RoaXMucGFyZW50UmVwZXRpdGlvbj10fWdldCBBYnNvbHV0ZVRpbWVzdGFtcCgpe3JldHVybiBuLkZyYWN0aW9uLmNyZWF0ZUZyb21GcmFjdGlvbih0aGlzLm11c2ljU2hlZXQuU291cmNlTWVhc3VyZXNbdGhpcy5zdGFydEluZGV4XS5BYnNvbHV0ZVRpbWVzdGFtcCl9c2V0U3RhcnRJbmRleCh0KXt0aGlzLnN0YXJ0SW5kZXg9dH1zZXRFbmRJbmRleCh0KXt0aGlzLmVuZEluZGV4PXR9fWUuU291cmNlTXVzaWNQYXJ0PXJ9LGZ1bmN0aW9uKHQsZSxpKXtcInVzZSBzdHJpY3RcIjt2YXIgcz10aGlzJiZ0aGlzLl9faW1wb3J0RGVmYXVsdHx8ZnVuY3Rpb24odCl7cmV0dXJuIHQmJnQuX19lc01vZHVsZT90OntkZWZhdWx0OnR9fTtPYmplY3QuZGVmaW5lUHJvcGVydHkoZSxcIl9fZXNNb2R1bGVcIix7dmFsdWU6ITB9KTtjb25zdCBuPWkoMTM1KSxyPWkoMjUpLG89aSg4KSxhPWkoMTUpLGg9aSgxNyksbD1pKDApLGM9aSgyNyksdT1pKDExKSxkPWkoOCksZj1pKDE3KSxtPWkoMTUpLHA9cyhpKDEpKSxnPWkoOCksYj1pKDEzOCksUz1pKDEzOSkseT1pKDE0MikseD1pKDE2KSxFPWkoMzkpLHY9aSg1MCk7ZS5JbnN0cnVtZW50UmVhZGVyPWNsYXNze2NvbnN0cnVjdG9yKHQsZSxpKXt0aGlzLnZvaWNlR2VuZXJhdG9yc0RpY3Q9e30sdGhpcy5zdGFmZk1haW5Wb2ljZUdlbmVyYXRvckRpY3Q9e30sdGhpcy5kaXZpc2lvbnM9MCx0aGlzLmN1cnJlbnRDbGVmTnVtYmVyPTEsdGhpcy5jdXJyZW50WG1sTWVhc3VyZUluZGV4PTAsdGhpcy5hY3RpdmVLZXlIYXNCZWVuSW5pdGlhbGl6ZWQ9ITEsdGhpcy5hYnN0cmFjdEluc3RydWN0aW9ucz1bXSx0aGlzLm9wZW5DaG9yZFN5bWJvbENvbnRhaW5lcnM9W10sdGhpcy5yZXBldGl0aW9uSW5zdHJ1Y3Rpb25SZWFkZXI9dCx0aGlzLnhtbE1lYXN1cmVMaXN0PWUsdGhpcy5tdXNpY1NoZWV0PWkuR2V0TXVzaWNTaGVldCx0aGlzLmluc3RydW1lbnQ9aSx0aGlzLmFjdGl2ZUNsZWZzPW5ldyBBcnJheShpLlN0YXZlcy5sZW5ndGgpLHRoaXMuYWN0aXZlQ2xlZnNIYXZlQmVlbkluaXRpYWxpemVkPW5ldyBBcnJheShpLlN0YXZlcy5sZW5ndGgpO2ZvcihsZXQgdD0wO3Q8aS5TdGF2ZXMubGVuZ3RoO3QrKyl0aGlzLmFjdGl2ZUNsZWZzSGF2ZUJlZW5Jbml0aWFsaXplZFt0XT0hMTt0aGlzLmNyZWF0ZUV4cHJlc3Npb25HZW5lcmF0b3JzKGkuU3RhdmVzLmxlbmd0aCksdGhpcy5zbHVyUmVhZGVyPW5ldyB5LlNsdXJSZWFkZXIodGhpcy5tdXNpY1NoZWV0KX1nZXQgQWN0aXZlS2V5KCl7cmV0dXJuIHRoaXMuYWN0aXZlS2V5fWdldCBNYXhUaWVOb3RlRnJhY3Rpb24oKXtyZXR1cm4gdGhpcy5tYXhUaWVOb3RlRnJhY3Rpb259Z2V0IEFjdGl2ZVJoeXRobSgpe3JldHVybiB0aGlzLmFjdGl2ZVJoeXRobX1zZXQgQWN0aXZlUmh5dGhtKHQpe3RoaXMuYWN0aXZlUmh5dGhtPXR9cmVhZE5leHRYbWxNZWFzdXJlKHQsZSxpKXt2YXIgcztpZih0aGlzLmN1cnJlbnRYbWxNZWFzdXJlSW5kZXg+PXRoaXMueG1sTWVhc3VyZUxpc3QubGVuZ3RoKXJldHVybiExO3RoaXMuY3VycmVudE1lYXN1cmU9dCx0aGlzLmluU291cmNlTWVhc3VyZUluc3RydW1lbnRJbmRleD10aGlzLm11c2ljU2hlZXQuZ2V0R2xvYmFsU3RhZmZJbmRleE9mRmlyc3RTdGFmZih0aGlzLmluc3RydW1lbnQpLHRoaXMucmVwZXRpdGlvbkluc3RydWN0aW9uUmVhZGVyJiZ0aGlzLnJlcGV0aXRpb25JbnN0cnVjdGlvblJlYWRlci5wcmVwYXJlUmVhZGluZ01lYXN1cmUodCx0aGlzLmN1cnJlbnRYbWxNZWFzdXJlSW5kZXgpO2xldCBuPW5ldyBsLkZyYWN0aW9uKDAsMSkscj1uZXcgbC5GcmFjdGlvbigwLDEpLG89ITE7dGhpcy5tYXhUaWVOb3RlRnJhY3Rpb249bmV3IGwuRnJhY3Rpb24oMCwxKTtsZXQgYT0hMTt0cnl7Y29uc3QgaD10aGlzLnhtbE1lYXN1cmVMaXN0W3RoaXMuY3VycmVudFhtbE1lYXN1cmVJbmRleF0uZWxlbWVudHMoKTtmb3IoY29uc3QgZCBvZiBoKWlmKFwicHJpbnRcIj09PWQubmFtZSl7Y29uc3QgZT1kLmF0dHJpYnV0ZShcIm5ldy1zeXN0ZW1cIik7XCJ5ZXNcIj09PShudWxsPT1lP3ZvaWQgMDplLnZhbHVlKSYmKHQucHJpbnROZXdTeXN0ZW1YbWw9ITApO2NvbnN0IGk9ZC5hdHRyaWJ1dGUoXCJuZXctcGFnZVwiKTtcInllc1wiPT09KG51bGw9PWk/dm9pZCAwOmkudmFsdWUpJiYodC5wcmludE5ld1BhZ2VYbWw9ITApfWVsc2UgaWYoXCJub3RlXCI9PT1kLm5hbWUpe2xldCB0PSEwO2QuaGFzQXR0cmlidXRlcyYmZC5hdHRyaWJ1dGUoXCJwcmludC1vYmplY3RcIikmJlwibm9cIj09PWQuYXR0cmlidXRlKFwicHJpbnQtb2JqZWN0XCIpLnZhbHVlJiYodD0hMSk7bGV0IHM9MTt0aGlzLmluc3RydW1lbnQuU3RhdmVzLmxlbmd0aD4xJiZkLmVsZW1lbnQoXCJzdGFmZlwiKSYmKHM9cGFyc2VJbnQoZC5lbGVtZW50KFwic3RhZmZcIikudmFsdWUsMTApLGlzTmFOKHMpJiYocC5kZWZhdWx0LmRlYnVnKFwiSW5zdHJ1bWVudFJlYWRlci5yZWFkTmV4dFhtbE1lYXN1cmUuZ2V0IHN0YWZmIG51bWJlclwiKSxzPTEpKSx0aGlzLmN1cnJlbnRTdGFmZj10aGlzLmluc3RydW1lbnQuU3RhdmVzW3MtMV07Y29uc3Qgbz12b2lkIDAhPT1kLmVsZW1lbnQoXCJjaG9yZFwiKTtpZihkLmVsZW1lbnQoXCJ2b2ljZVwiKSl7Y29uc3QgdD1wYXJzZUludChkLmVsZW1lbnQoXCJ2b2ljZVwiKS52YWx1ZSwxMCk7dGhpcy5jdXJyZW50Vm9pY2VHZW5lcmF0b3I9dGhpcy5nZXRPckNyZWF0ZVZvaWNlR2VuZXJhdG9yKHQscy0xKX1lbHNlIG8mJnRoaXMuY3VycmVudFZvaWNlR2VuZXJhdG9yfHwodGhpcy5jdXJyZW50Vm9pY2VHZW5lcmF0b3I9dGhpcy5nZXRPckNyZWF0ZVZvaWNlR2VuZXJhdG9yKDEscy0xKSk7bGV0IGg9MCx1PW5ldyBsLkZyYWN0aW9uKDAsMSksZj0yLG09dm9pZCAwLGc9ITE7aWYoZC5lbGVtZW50KFwiZHVyYXRpb25cIikpe2lmKGg9cGFyc2VJbnQoZC5lbGVtZW50KFwiZHVyYXRpb25cIikudmFsdWUsMTApLGlzTmFOKGgpKXtjb25zdCB0PWMuSVRleHRUcmFuc2xhdGlvbi50cmFuc2xhdGVUZXh0KFwiUmVhZGVyRXJyb3JNZXNzYWdlcy9Ob3RlRHVyYXRpb25FcnJvclwiLFwiSW52YWxpZCBOb3RlIER1cmF0aW9uLlwiKTt0aGlzLm11c2ljU2hlZXQuU2hlZXRFcnJvcnMucHVzaE1lYXN1cmVFcnJvcih0KSxwLmRlZmF1bHQuZGVidWcoXCJJbnN0cnVtZW50UmVhZGVyLnJlYWROZXh0WG1sTWVhc3VyZVwiLHQpO2NvbnRpbnVlfWlmKHU9bmV3IGwuRnJhY3Rpb24oaCw0KnRoaXMuZGl2aXNpb25zKSwwPT09aD91PXRoaXMuZ2V0Tm90ZUR1cmF0aW9uRnJvbVR5cGVOb2RlKGQpOm09dGhpcy5nZXROb3RlRHVyYXRpb25Gcm9tVHlwZU5vZGUoZCksZC5lbGVtZW50KFwidGltZS1tb2RpZmljYXRpb25cIikpe3U9dGhpcy5nZXROb3RlRHVyYXRpb25Gb3JUdXBsZXQoZCk7Y29uc3QgdD1kLmVsZW1lbnQoXCJ0aW1lLW1vZGlmaWNhdGlvblwiKTt0JiZ0LmVsZW1lbnQoXCJub3JtYWwtbm90ZXNcIikmJihmPXBhcnNlSW50KHQuZWxlbWVudChcIm5vcm1hbC1ub3Rlc1wiKS52YWx1ZSwxMCkpLGc9ITB9fWNvbnN0IGI9dm9pZCAwIT09ZC5lbGVtZW50KFwicmVzdFwiKSxTPWQuZWxlbWVudChcIm5vdGF0aW9uc1wiKSx5PXZvaWQgMCE9PWQuZWxlbWVudChcImdyYWNlXCIpfHwwPT09aHx8byYmYTtsZXQgdj0hMSxfPSExO2lmKHkpe2NvbnN0IHQ9ZC5lbGVtZW50KFwiZ3JhY2VcIik7aWYodCYmdC5hdHRyaWJ1dGVzKCkmJnQuYXR0cmlidXRlKFwic2xhc2hcIikpe1wieWVzXCI9PT10LmF0dHJpYnV0ZShcInNsYXNoXCIpLnZhbHVlJiYodj0hMCl9dT10aGlzLmdldE5vdGVEdXJhdGlvbkZyb21UeXBlTm9kZShkKTtjb25zdCBlPWQuZWxlbWVudChcIm5vdGF0aW9uc1wiKTtlJiZlLmVsZW1lbnQoXCJzbHVyXCIpJiYoXz0hMCl9bGV0IHc9ITE7ZC5lbGVtZW50KFwiY3VlXCIpJiYodz0hMCk7Y29uc3QgTT1kLmVsZW1lbnQoXCJ0eXBlXCIpO2xldCBUPUUuTm90ZVR5cGUuVU5ERUZJTkVEO2lmKE0pe2NvbnN0IHQ9TS5hdHRyaWJ1dGUoXCJzaXplXCIpO251bGwhPXQmJlwiY3VlXCI9PT10LnZhbHVlJiYodz0hMCksVD1FLk5vdGVUeXBlSGFuZGxlci5TdHJpbmdUb05vdGVUeXBlKE0udmFsdWUpfWxldCBQLEw9eC5TdGVtRGlyZWN0aW9uVHlwZS5VbmRlZmluZWQ7Y29uc3QgQT1kLmVsZW1lbnQoXCJzdGVtXCIpO2lmKEEpe3N3aXRjaChBLnZhbHVlKXtjYXNlXCJkb3duXCI6TD14LlN0ZW1EaXJlY3Rpb25UeXBlLkRvd247YnJlYWs7Y2FzZVwidXBcIjpMPXguU3RlbURpcmVjdGlvblR5cGUuVXA7YnJlYWs7Y2FzZVwiZG91YmxlXCI6TD14LlN0ZW1EaXJlY3Rpb25UeXBlLkRvdWJsZTticmVhaztjYXNlXCJub25lXCI6TD14LlN0ZW1EaXJlY3Rpb25UeXBlLk5vbmU7YnJlYWs7ZGVmYXVsdDpMPXguU3RlbURpcmVjdGlvblR5cGUuVW5kZWZpbmVkfWNvbnN0IHQ9QS5hdHRyaWJ1dGUoXCJjb2xvclwiKTt0JiYoUD10aGlzLnBhcnNlWG1sQ29sb3IodC52YWx1ZSkpfWxldCBJLEM9MDtpZihTKXtjb25zdCB0PVMuZWxlbWVudChcIm9ybmFtZW50c1wiKTtpZih0KXtjb25zdCBlPXQuZWxlbWVudChcInRyZW1vbG9cIik7aWYoZSl7Y29uc3QgdD1lLmF0dHJpYnV0ZShcInR5cGVcIik7aWYodCYmXCJzaW5nbGVcIj09PXQudmFsdWUpe2NvbnN0IHQ9cGFyc2VJbnQoZS52YWx1ZSwxMCk7dD4wJiYoQz10KX19fX1jb25zdCBSPWQuZWxlbWVudChcIm5vdGVoZWFkXCIpO2lmKFIpe2NvbnN0IHQ9Ui5hdHRyaWJ1dGUoXCJjb2xvclwiKTt0JiYoST10aGlzLnBhcnNlWG1sQ29sb3IodC52YWx1ZSkpfWxldCBOO2NvbnN0IEI9ZC5hdHRyaWJ1dGUoXCJjb2xvclwiKTtCJiYoTj10aGlzLnBhcnNlWG1sQ29sb3IoQi52YWx1ZSksSXx8KEk9TiksUHx8KFA9TikpO2xldCBGPW4uY2xvbmUoKTtvJiYoRj1yLmNsb25lKCkpLHRoaXMuY3VycmVudFN0YWZmRW50cnk9dGhpcy5jdXJyZW50TWVhc3VyZS5maW5kT3JDcmVhdGVTdGFmZkVudHJ5KEYsdGhpcy5pblNvdXJjZU1lYXN1cmVJbnN0cnVtZW50SW5kZXgrcy0xLHRoaXMuY3VycmVudFN0YWZmKS5zdGFmZkVudHJ5LCghdGhpcy5jdXJyZW50Vm9pY2VHZW5lcmF0b3IuaGFzVm9pY2VFbnRyeSgpfHwhbyYmIXkmJiFhfHx5JiYhYXx8eSYmIW98fCF5JiZhKSYmdGhpcy5jdXJyZW50Vm9pY2VHZW5lcmF0b3IuY3JlYXRlVm9pY2VFbnRyeShGLHRoaXMuY3VycmVudFN0YWZmRW50cnksIWImJiF5LHksdixfKSx5fHxvfHwocj1uLmNsb25lKCksbi5BZGQodSkpLG8mJnZvaWQgMCE9PXRoaXMuY3VycmVudFN0YWZmRW50cnkmJnRoaXMuY3VycmVudFN0YWZmRW50cnkuUGFyZW50U3RhZmYhPT10aGlzLmN1cnJlbnRTdGFmZiYmKHRoaXMuY3VycmVudFN0YWZmRW50cnk9dGhpcy5jdXJyZW50Vm9pY2VHZW5lcmF0b3IuY2hlY2tGb3JTdGFmZkVudHJ5TGluayh0aGlzLmluU291cmNlTWVhc3VyZUluc3RydW1lbnRJbmRleCtzLTEsdGhpcy5jdXJyZW50U3RhZmYsdGhpcy5jdXJyZW50U3RhZmZFbnRyeSx0aGlzLmN1cnJlbnRNZWFzdXJlKSk7Y29uc3QgRD12b2lkIDAhPT10aGlzLmN1cnJlbnRTdGFmZkVudHJ5JiZ2b2lkIDAhPT10aGlzLmN1cnJlbnRTdGFmZkVudHJ5LlRpbWVzdGFtcCYmdGhpcy5jdXJyZW50U3RhZmZFbnRyeS5UaW1lc3RhbXAuRXF1YWxzKG5ldyBsLkZyYWN0aW9uKDAsMSkpJiYhdGhpcy5jdXJyZW50U3RhZmZFbnRyeS5oYXNOb3RlcygpO2lmKHRoaXMuc2F2ZUFic3RyYWN0SW5zdHJ1Y3Rpb25MaXN0KHRoaXMuaW5zdHJ1bWVudC5TdGF2ZXMubGVuZ3RoLEQpLDAhPT10aGlzLm9wZW5DaG9yZFN5bWJvbENvbnRhaW5lcnMubGVuZ3RoJiYodGhpcy5jdXJyZW50U3RhZmZFbnRyeS5DaG9yZENvbnRhaW5lcnM9dGhpcy5vcGVuQ2hvcmRTeW1ib2xDb250YWluZXJzLHRoaXMub3BlbkNob3JkU3ltYm9sQ29udGFpbmVycz1bXSksdGhpcy5hY3RpdmVSaHl0aG0sZ3x8eXx8KHU9bmV3IGwuRnJhY3Rpb24oaCw0KnRoaXMuZGl2aXNpb25zKSksdGhpcy5jdXJyZW50Vm9pY2VHZW5lcmF0b3IucmVhZChkLHUsbSxULGYsYix0aGlzLmN1cnJlbnRTdGFmZkVudHJ5LHRoaXMuY3VycmVudE1lYXN1cmUsZSx0aGlzLm1heFRpZU5vdGVGcmFjdGlvbixvLGksdCx3LEwsQyxQLEkpLHZvaWQgMCE9PVMmJlMuZWxlbWVudChcImR5bmFtaWNzXCIpKXtjb25zdCB0PXRoaXMuZXhwcmVzc2lvblJlYWRlcnNbdGhpcy5yZWFkRXhwcmVzc2lvblN0YWZmTnVtYmVyKGQpLTFdO3QmJih0LnJlYWRFeHByZXNzaW9uUGFyYW1ldGVycyhkLHRoaXMuaW5zdHJ1bWVudCx0aGlzLmRpdmlzaW9ucyxuLHIsdGhpcy5jdXJyZW50TWVhc3VyZS5NZWFzdXJlTnVtYmVyLCExKSx0LnJlYWQoZCx0aGlzLmN1cnJlbnRNZWFzdXJlLHIpKX1hPXl9ZWxzZSBpZihcImF0dHJpYnV0ZXNcIj09PWQubmFtZSl7Y29uc3QgdD1kLmVsZW1lbnQoXCJkaXZpc2lvbnNcIik7aWYodCYmKHRoaXMuZGl2aXNpb25zPXBhcnNlSW50KHQudmFsdWUsMTApLGlzTmFOKHRoaXMuZGl2aXNpb25zKSkpe2NvbnN0IHQ9Yy5JVGV4dFRyYW5zbGF0aW9uLnRyYW5zbGF0ZVRleHQoXCJSZWFkZXJFcnJvck1lc3NhZ2VzL0RpdmlzaW9uRXJyb3JcIixcIkludmFsaWQgZGl2aXNpb25zIHZhbHVlIGF0IEluc3RydW1lbnQ6IFwiKTtpZihwLmRlZmF1bHQuZGVidWcoXCJJbnN0cnVtZW50UmVhZGVyLnJlYWROZXh0WG1sTWVhc3VyZVwiLHQpLHRoaXMuZGl2aXNpb25zPXRoaXMucmVhZERpdmlzaW9uc0Zyb21Ob3RlcygpLCEodGhpcy5kaXZpc2lvbnM+MCkpdGhyb3cgbz0hMCxuZXcgdS5NdXNpY1NoZWV0UmVhZGluZ0V4Y2VwdGlvbih0K3RoaXMuaW5zdHJ1bWVudC5OYW1lKTt0aGlzLm11c2ljU2hlZXQuU2hlZXRFcnJvcnMucHVzaCh0K3RoaXMuaW5zdHJ1bWVudC5OYW1lKX1pZighZC5lbGVtZW50KFwiZGl2aXNpb25zXCIpJiYwPT09dGhpcy5kaXZpc2lvbnMmJjA9PT10aGlzLmN1cnJlbnRYbWxNZWFzdXJlSW5kZXgpe2NvbnN0IHQ9Yy5JVGV4dFRyYW5zbGF0aW9uLnRyYW5zbGF0ZVRleHQoXCJSZWFkZXJFcnJvck1lc3NhZ2VzL0RpdmlzaW9uRXJyb3JcIixcIkludmFsaWQgZGl2aXNpb25zIHZhbHVlIGF0IEluc3RydW1lbnQ6IFwiKTtpZih0aGlzLmRpdmlzaW9ucz10aGlzLnJlYWREaXZpc2lvbnNGcm9tTm90ZXMoKSwhKHRoaXMuZGl2aXNpb25zPjApKXRocm93IG89ITAsbmV3IHUuTXVzaWNTaGVldFJlYWRpbmdFeGNlcHRpb24odCt0aGlzLmluc3RydW1lbnQuTmFtZSk7dGhpcy5tdXNpY1NoZWV0LlNoZWV0RXJyb3JzLnB1c2godCt0aGlzLmluc3RydW1lbnQuTmFtZSl9dGhpcy5hZGRBYnN0cmFjdEluc3RydWN0aW9uKGQsaSksbi5FcXVhbHMobmV3IGwuRnJhY3Rpb24oMCwxKSkmJnRoaXMuaXNBdHRyaWJ1dGVzTm9kZUF0QmVnaW5PZk1lYXN1cmUodGhpcy54bWxNZWFzdXJlTGlzdFt0aGlzLmN1cnJlbnRYbWxNZWFzdXJlSW5kZXhdLGQpJiZ0aGlzLnNhdmVBYnN0cmFjdEluc3RydWN0aW9uTGlzdCh0aGlzLmluc3RydW1lbnQuU3RhdmVzLmxlbmd0aCwhMCksdGhpcy5pc0F0dHJpYnV0ZXNOb2RlQXRFbmRPZk1lYXN1cmUodGhpcy54bWxNZWFzdXJlTGlzdFt0aGlzLmN1cnJlbnRYbWxNZWFzdXJlSW5kZXhdLGQpJiZ0aGlzLnNhdmVDbGVmSW5zdHJ1Y3Rpb25BdEVuZE9mTWVhc3VyZSgpO2NvbnN0IGU9ZC5lbGVtZW50KFwic3RhZmYtZGV0YWlsc1wiKTtpZihlKXtjb25zdCB0PWUuZWxlbWVudChcInN0YWZmLWxpbmVzXCIpO2lmKHQpe2xldCBpPTE7Y29uc3Qgcz1lLmF0dHJpYnV0ZShcIm51bWJlclwiKTtzJiYoaT1wYXJzZUludChzLnZhbHVlLDEwKSksdGhpcy5pbnN0cnVtZW50LlN0YXZlc1tpLTFdLlN0YWZmbGluZUNvdW50PXBhcnNlSW50KHQudmFsdWUsMTApfX19ZWxzZSBpZihcImZvcndhcmRcIj09PWQubmFtZSl7Y29uc3QgdD1wYXJzZUludChkLmVsZW1lbnQoXCJkdXJhdGlvblwiKS52YWx1ZSwxMCk7bi5BZGQobmV3IGwuRnJhY3Rpb24odCw0KnRoaXMuZGl2aXNpb25zKSl9ZWxzZSBpZihcImJhY2t1cFwiPT09ZC5uYW1lKXtjb25zdCB0PXBhcnNlSW50KGQuZWxlbWVudChcImR1cmF0aW9uXCIpLnZhbHVlLDEwKTtuLlN1YihuZXcgbC5GcmFjdGlvbih0LDQqdGhpcy5kaXZpc2lvbnMpKSxuLklzTmVnYXRpdmUoKSYmKG49bmV3IGwuRnJhY3Rpb24oMCwxKSksci5TdWIobmV3IGwuRnJhY3Rpb24odCw0KnRoaXMuZGl2aXNpb25zKSksci5Jc05lZ2F0aXZlKCkmJihyPW5ldyBsLkZyYWN0aW9uKDAsMSkpfWVsc2UgaWYoXCJkaXJlY3Rpb25cIj09PWQubmFtZSl7Y29uc3QgdD1kLmVsZW1lbnQoXCJkaXJlY3Rpb24tdHlwZVwiKTtsZXQgZT1NYXRoLm1pbigxLG4uUmVhbFZhbHVlKTt2b2lkIDAhPT10aGlzLmFjdGl2ZVJoeXRobSYmdGhpcy5hY3RpdmVSaHl0aG0uUmh5dGhtJiYoZS89dGhpcy5hY3RpdmVSaHl0aG0uUmh5dGhtLlJlYWxWYWx1ZSk7bGV0IGk9ITE7aWYodGhpcy5yZXBldGl0aW9uSW5zdHJ1Y3Rpb25SZWFkZXImJihpPXRoaXMucmVwZXRpdGlvbkluc3RydWN0aW9uUmVhZGVyLmhhbmRsZVJlcGV0aXRpb25JbnN0cnVjdGlvbnNGcm9tV29yZHNPclN5bWJvbHModCxlKSksIWkpe2xldCBlPXRoaXMuZXhwcmVzc2lvblJlYWRlcnNbMF07Y29uc3QgaT10aGlzLnJlYWRFeHByZXNzaW9uU3RhZmZOdW1iZXIoZCktMTtpPHRoaXMuZXhwcmVzc2lvblJlYWRlcnMubGVuZ3RoJiYoZT10aGlzLmV4cHJlc3Npb25SZWFkZXJzW2ldKSxlJiYodC5lbGVtZW50KFwib2N0YXZlLXNoaWZ0XCIpJiYoZS5yZWFkRXhwcmVzc2lvblBhcmFtZXRlcnMoZCx0aGlzLmluc3RydW1lbnQsdGhpcy5kaXZpc2lvbnMsbixyLHRoaXMuY3VycmVudE1lYXN1cmUuTWVhc3VyZU51bWJlciwhMCksZS5hZGRPY3RhdmVTaGlmdChkLHRoaXMuY3VycmVudE1lYXN1cmUsci5jbG9uZSgpKSksZS5yZWFkRXhwcmVzc2lvblBhcmFtZXRlcnMoZCx0aGlzLmluc3RydW1lbnQsdGhpcy5kaXZpc2lvbnMsbixyLHRoaXMuY3VycmVudE1lYXN1cmUuTWVhc3VyZU51bWJlciwhMSksZS5yZWFkKGQsdGhpcy5jdXJyZW50TWVhc3VyZSxuKSl9fWVsc2UgaWYoXCJiYXJsaW5lXCI9PT1kLm5hbWUpe2lmKHRoaXMucmVwZXRpdGlvbkluc3RydWN0aW9uUmVhZGVyKXt0aGlzLnJlcGV0aXRpb25JbnN0cnVjdGlvblJlYWRlci5oYW5kbGVMaW5lUmVwZXRpdGlvbkluc3RydWN0aW9ucyhkKSYmKHRoaXMuY3VycmVudE1lYXN1cmUuSGFzRW5kTGluZT0hMCl9Y29uc3QgdD1kLmF0dHJpYnV0ZShcImxvY2F0aW9uXCIpO2lmKHQmJlwicmlnaHRcIj09PXQudmFsdWUpe2NvbnN0IHQ9bnVsbD09PShzPWQuZWxlbWVudChcImJhci1zdHlsZVwiKSl8fHZvaWQgMD09PXM/dm9pZCAwOnMudmFsdWU7dCYmKHRoaXMuY3VycmVudE1lYXN1cmUuZW5kaW5nQmFyU3R5bGVYbWw9dCx0aGlzLmN1cnJlbnRNZWFzdXJlLmVuZGluZ0JhclN0eWxlRW51bT12LlN5c3RlbUxpbmVzRW51bUhlbHBlci54bWxCYXJsaW5lU3R5bGVUb1N5c3RlbUxpbmVzRW51bSh0KSl9fWVsc2VcInNvdW5kXCI9PT1kLm5hbWV8fFwiaGFybW9ueVwiPT09ZC5uYW1lJiZ0aGlzLm9wZW5DaG9yZFN5bWJvbENvbnRhaW5lcnMucHVzaChiLkNob3JkU3ltYm9sUmVhZGVyLnJlYWRDaG9yZFN5bWJvbChkLHRoaXMubXVzaWNTaGVldCx0aGlzLmFjdGl2ZUtleSkpO2Zvcihjb25zdCB0IGluIHRoaXMudm9pY2VHZW5lcmF0b3JzRGljdClpZih0aGlzLnZvaWNlR2VuZXJhdG9yc0RpY3QuaGFzT3duUHJvcGVydHkodCkpe3RoaXMudm9pY2VHZW5lcmF0b3JzRGljdFt0XS5jaGVja0Zvck9wZW5CZWFtKCl9aWYodGhpcy5jdXJyZW50WG1sTWVhc3VyZUluZGV4PT09dGhpcy54bWxNZWFzdXJlTGlzdC5sZW5ndGgtMSl7Zm9yKGxldCB0PTA7dDx0aGlzLmluc3RydW1lbnQuU3RhdmVzLmxlbmd0aDt0KyspdGhpcy5hY3RpdmVDbGVmc0hhdmVCZWVuSW5pdGlhbGl6ZWRbdF18fHRoaXMuY3JlYXRlRGVmYXVsdENsZWZJbnN0cnVjdGlvbih0aGlzLm11c2ljU2hlZXQuZ2V0R2xvYmFsU3RhZmZJbmRleE9mRmlyc3RTdGFmZih0aGlzLmluc3RydW1lbnQpK3QpO3RoaXMuYWN0aXZlS2V5SGFzQmVlbkluaXRpYWxpemVkfHx0aGlzLmNyZWF0ZURlZmF1bHRLZXlJbnN0cnVjdGlvbigpO2ZvcihsZXQgdD0wO3Q8dGhpcy5leHByZXNzaW9uUmVhZGVycy5sZW5ndGg7dCsrKXtjb25zdCBlPXRoaXMuZXhwcmVzc2lvblJlYWRlcnNbdF07ZSYmZS5jaGVja0Zvck9wZW5FeHByZXNzaW9ucyh0aGlzLmN1cnJlbnRNZWFzdXJlLG4pfX10aGlzLm11c2ljU2hlZXQuSGFzQlBNSW5mbz8wPT09dC5UZW1wb0luQlBNJiYodGhpcy5jdXJyZW50TWVhc3VyZS5UZW1wb0luQlBNPXRoaXMucHJldmlvdXNNZWFzdXJlLlRlbXBvSW5CUE0pOnRoaXMuY3VycmVudE1lYXN1cmUuVGVtcG9JbkJQTT0xMjB9Y2F0Y2godCl7aWYobyl0aHJvdyBuZXcgdS5NdXNpY1NoZWV0UmVhZGluZ0V4Y2VwdGlvbih0Lk1lc3NhZ2UpO2NvbnN0IGU9Yy5JVGV4dFRyYW5zbGF0aW9uLnRyYW5zbGF0ZVRleHQoXCJSZWFkZXJFcnJvck1lc3NhZ2VzL01lYXN1cmVFcnJvclwiLFwiRXJyb3Igd2hpbGUgcmVhZGluZyBNZWFzdXJlLlwiKTt0aGlzLm11c2ljU2hlZXQuU2hlZXRFcnJvcnMucHVzaE1lYXN1cmVFcnJvcihlKSxwLmRlZmF1bHQuZGVidWcoXCJJbnN0cnVtZW50UmVhZGVyLnJlYWROZXh0WG1sTWVhc3VyZVwiLGUsdCl9cmV0dXJuIHRoaXMucHJldmlvdXNNZWFzdXJlPXRoaXMuY3VycmVudE1lYXN1cmUsdGhpcy5jdXJyZW50WG1sTWVhc3VyZUluZGV4Kz0xLCEwfXBhcnNlWG1sQ29sb3IodCl7aWYodClyZXR1cm4gNz09PXQubGVuZ3RoP3Q6OT09PXQubGVuZ3RoP1wiI1wiK3Quc3Vic3RyKDMpOnZvaWQgMH1kb0NhbGN1bGF0aW9uc0FmdGVyRHVyYXRpb25IYXNCZWVuU2V0KCl7Zm9yKGNvbnN0IHQgaW4gdGhpcy52b2ljZUdlbmVyYXRvcnNEaWN0KXRoaXMudm9pY2VHZW5lcmF0b3JzRGljdC5oYXNPd25Qcm9wZXJ0eSh0KSYmdGhpcy52b2ljZUdlbmVyYXRvcnNEaWN0W3RdLmNoZWNrT3BlblRpZXMoKX1nZXRPckNyZWF0ZVZvaWNlR2VuZXJhdG9yKHQsZSl7Y29uc3QgaT10aGlzLmluc3RydW1lbnQuU3RhdmVzW2VdO2xldCBzPXRoaXMudm9pY2VHZW5lcmF0b3JzRGljdFt0XTtpZihzKS0xPT09aS5Wb2ljZXMuaW5kZXhPZihzLkdldFZvaWNlKSYmaS5Wb2ljZXMucHVzaChzLkdldFZvaWNlKTtlbHNle2NvbnN0IHI9dGhpcy5zdGFmZk1haW5Wb2ljZUdlbmVyYXRvckRpY3RbZV07cj8ocz1uZXcgbi5Wb2ljZUdlbmVyYXRvcih0aGlzLmluc3RydW1lbnQsdCx0aGlzLnNsdXJSZWFkZXIsci5HZXRWb2ljZSksaS5Wb2ljZXMucHVzaChzLkdldFZvaWNlKSx0aGlzLnZvaWNlR2VuZXJhdG9yc0RpY3RbdF09cyk6KHM9bmV3IG4uVm9pY2VHZW5lcmF0b3IodGhpcy5pbnN0cnVtZW50LHQsdGhpcy5zbHVyUmVhZGVyKSxpLlZvaWNlcy5wdXNoKHMuR2V0Vm9pY2UpLHRoaXMudm9pY2VHZW5lcmF0b3JzRGljdFt0XT1zLHRoaXMuc3RhZmZNYWluVm9pY2VHZW5lcmF0b3JEaWN0W2VdPXMpfXJldHVybiBzfWNyZWF0ZUV4cHJlc3Npb25HZW5lcmF0b3JzKHQpe3RoaXMuZXhwcmVzc2lvblJlYWRlcnM9bmV3IEFycmF5KHQpO2ZvcihsZXQgZT0wO2U8dDtlKyspdGhpcy5leHByZXNzaW9uUmVhZGVyc1tlXT1uZXcgUy5FeHByZXNzaW9uUmVhZGVyKHRoaXMubXVzaWNTaGVldCx0aGlzLmluc3RydW1lbnQsZSsxKX1jcmVhdGVEZWZhdWx0Q2xlZkluc3RydWN0aW9uKHQpe2xldCBlO2U9dGhpcy5tdXNpY1NoZWV0LlNvdXJjZU1lYXN1cmVzLmxlbmd0aD4wP3RoaXMubXVzaWNTaGVldC5Tb3VyY2VNZWFzdXJlc1swXTp0aGlzLmN1cnJlbnRNZWFzdXJlO2NvbnN0IGk9bmV3IG8uQ2xlZkluc3RydWN0aW9uKGQuQ2xlZkVudW0uRywwLDIpO2xldCBzO2UuRmlyc3RJbnN0cnVjdGlvbnNTdGFmZkVudHJpZXNbdF0/KHM9ZS5GaXJzdEluc3RydWN0aW9uc1N0YWZmRW50cmllc1t0XSxzLnJlbW92ZUZpcnN0SW5zdHJ1Y3Rpb25PZlR5cGVDbGVmSW5zdHJ1Y3Rpb24oKSk6KHM9bmV3IHIuU291cmNlU3RhZmZFbnRyeSh2b2lkIDAsdm9pZCAwKSxlLkZpcnN0SW5zdHJ1Y3Rpb25zU3RhZmZFbnRyaWVzW3RdPXMpLGkuUGFyZW50PXMscy5JbnN0cnVjdGlvbnMuc3BsaWNlKDAsMCxpKX1jcmVhdGVEZWZhdWx0S2V5SW5zdHJ1Y3Rpb24oKXtsZXQgdDt0PXRoaXMubXVzaWNTaGVldC5Tb3VyY2VNZWFzdXJlcy5sZW5ndGg+MD90aGlzLm11c2ljU2hlZXQuU291cmNlTWVhc3VyZXNbMF06dGhpcy5jdXJyZW50TWVhc3VyZTtjb25zdCBlPW5ldyBhLktleUluc3RydWN0aW9uKHZvaWQgMCwwLG0uS2V5RW51bS5tYWpvcik7Zm9yKGxldCBpPXRoaXMuaW5Tb3VyY2VNZWFzdXJlSW5zdHJ1bWVudEluZGV4O2k8dGhpcy5pblNvdXJjZU1lYXN1cmVJbnN0cnVtZW50SW5kZXgrdGhpcy5pbnN0cnVtZW50LlN0YXZlcy5sZW5ndGg7aSsrKWlmKHQuRmlyc3RJbnN0cnVjdGlvbnNTdGFmZkVudHJpZXNbaV0pe2NvbnN0IHM9dC5GaXJzdEluc3RydWN0aW9uc1N0YWZmRW50cmllc1tpXTtlLlBhcmVudD1zLHMucmVtb3ZlRmlyc3RJbnN0cnVjdGlvbk9mVHlwZUtleUluc3RydWN0aW9uKCkscy5JbnN0cnVjdGlvbnNbMF1pbnN0YW5jZW9mIG8uQ2xlZkluc3RydWN0aW9uP3MuSW5zdHJ1Y3Rpb25zLnNwbGljZSgxLDAsZSk6cy5JbnN0cnVjdGlvbnMuc3BsaWNlKDAsMCxlKX1lbHNle2NvbnN0IHM9bmV3IHIuU291cmNlU3RhZmZFbnRyeSh2b2lkIDAsdm9pZCAwKTt0LkZpcnN0SW5zdHJ1Y3Rpb25zU3RhZmZFbnRyaWVzW2ldPXMsZS5QYXJlbnQ9cyxzLkluc3RydWN0aW9ucy5wdXNoKGUpfX1pc0F0dHJpYnV0ZXNOb2RlQXRCZWdpbk9mTWVhc3VyZSh0LGUpe2NvbnN0IGk9dC5lbGVtZW50cygpLHM9aS5pbmRleE9mKGUpO2lmKHM+MCYmXCJiYWNrdXBcIj09PWlbcy0xXS5uYW1lKXJldHVybiEwO2xldCBuPS0xO2ZvcihsZXQgdD0wO3Q8aS5sZW5ndGg7dCsrKWlmKFwibm90ZVwiPT09aVt0XS5uYW1lKXtuPXQ7YnJlYWt9cmV0dXJuIHM8biYmbj4wfHxuPDB9aXNBdHRyaWJ1dGVzTm9kZUF0RW5kT2ZNZWFzdXJlKHQsZSl7Y29uc3QgaT10LmVsZW1lbnRzKCkuc2xpY2UoKTtsZXQgcz0wO2ZvcihsZXQgdD0wO3Q8aS5sZW5ndGg7dCsrKWlmKGlbdF09PT1lKXtzPXQ7YnJlYWt9bGV0IG49MDtmb3IobGV0IHQ9czt0PGkubGVuZ3RoO3QrKylpZihcIm5vdGVcIj09PWlbdF0ubmFtZSl7bj10O2JyZWFrfXJldHVybiBzPm59Z2V0Tm90ZUR1cmF0aW9uRnJvbVR5cGVOb2RlKHQpe2NvbnN0IGU9dC5lbGVtZW50KFwidHlwZVwiKTtpZihlKXtjb25zdCB0PWUudmFsdWU7cmV0dXJuIHRoaXMuY3VycmVudFZvaWNlR2VuZXJhdG9yLmdldE5vdGVEdXJhdGlvbkZyb21UeXBlKHQpfXJldHVybiBuZXcgbC5GcmFjdGlvbigwLDQqdGhpcy5kaXZpc2lvbnMpfWFkZEFic3RyYWN0SW5zdHJ1Y3Rpb24odCxlKXtpZih0LmVsZW1lbnQoXCJkaXZpc2lvbnNcIikmJjE9PT10LmVsZW1lbnRzKCkubGVuZ3RoKXJldHVybjtjb25zdCBpPXQuZWxlbWVudChcInRyYW5zcG9zZVwiKTtpZihpKXtjb25zdCB0PWkuZWxlbWVudChcImNocm9tYXRpY1wiKTt0JiYodGhpcy5pbnN0cnVtZW50LlBsYXliYWNrVHJhbnNwb3NlPXBhcnNlSW50KHQudmFsdWUsMTApKX1jb25zdCBzPXQuZWxlbWVudHMoXCJjbGVmXCIpO2xldCBuO2lmKHMubGVuZ3RoPjApZm9yKGxldCB0PTAsZT1zLmxlbmd0aDt0PGU7Kyt0KXtjb25zdCBlPXNbdF07bGV0IGk9ZC5DbGVmRW51bS5HLHI9MixhPTEsaD0wO2NvbnN0IGw9ZS5lbGVtZW50KFwibGluZVwiKTtpZihsKXRyeXtyPXBhcnNlSW50KGwudmFsdWUsMTApfWNhdGNoKHQpe249Yy5JVGV4dFRyYW5zbGF0aW9uLnRyYW5zbGF0ZVRleHQoXCJSZWFkZXJFcnJvck1lc3NhZ2VzL0NsZWZMaW5lRXJyb3JcIixcIkludmFsaWQgY2xlZiBsaW5lIGdpdmVuIC0+IHVzaW5nIGRlZmF1bHQgY2xlZiBsaW5lLlwiKSx0aGlzLm11c2ljU2hlZXQuU2hlZXRFcnJvcnMucHVzaE1lYXN1cmVFcnJvcihuKSxyPTIscC5kZWZhdWx0LmRlYnVnKFwiSW5zdHJ1bWVudFJlYWRlci5hZGRBYnN0cmFjdEluc3RydWN0aW9uXCIsbix0KX1jb25zdCB1PWUuZWxlbWVudChcInNpZ25cIik7aWYodSl0cnl7aT1kLkNsZWZFbnVtW3UudmFsdWVdLG8uQ2xlZkluc3RydWN0aW9uLmlzU3VwcG9ydGVkQ2xlZihpKXx8KG49Yy5JVGV4dFRyYW5zbGF0aW9uLnRyYW5zbGF0ZVRleHQoXCJSZWFkZXJFcnJvck1lc3NhZ2VzL0NsZWZFcnJvclwiLFwiVW5zdXBwb3J0ZWQgY2xlZiBmb3VuZCAtPiB1c2luZyBkZWZhdWx0IGNsZWYuXCIpLHRoaXMubXVzaWNTaGVldC5TaGVldEVycm9ycy5wdXNoTWVhc3VyZUVycm9yKG4pLGk9ZC5DbGVmRW51bS5HLHI9MiksaT09PWQuQ2xlZkVudW0uVEFCJiYoaD0tMSl9Y2F0Y2godCl7bj1jLklUZXh0VHJhbnNsYXRpb24udHJhbnNsYXRlVGV4dChcIlJlYWRlckVycm9yTWVzc2FnZXMvQ2xlZkVycm9yXCIsXCJJbnZhbGlkIGNsZWYgZm91bmQgLT4gdXNpbmcgZGVmYXVsdCBjbGVmLlwiKSx0aGlzLm11c2ljU2hlZXQuU2hlZXRFcnJvcnMucHVzaE1lYXN1cmVFcnJvcihuKSxpPWQuQ2xlZkVudW0uRyxyPTIscC5kZWZhdWx0LmRlYnVnKFwiSW5zdHJ1bWVudFJlYWRlci5hZGRBYnN0cmFjdEluc3RydWN0aW9uXCIsbix0KX1jb25zdCBmPWUuZWxlbWVudChcImNsZWYtb2N0YXZlLWNoYW5nZVwiKTtpZihmKXRyeXtoPXBhcnNlSW50KGYudmFsdWUsMTApfWNhdGNoKHQpe249Yy5JVGV4dFRyYW5zbGF0aW9uLnRyYW5zbGF0ZVRleHQoXCJSZWFkZXJFcnJvck1lc3NhZ2VzL0NsZWZPY3RhdmVFcnJvclwiLFwiSW52YWxpZCBjbGVmIG9jdGF2ZSBmb3VuZCAtPiB1c2luZyBkZWZhdWx0IGNsZWYgb2N0YXZlLlwiKSx0aGlzLm11c2ljU2hlZXQuU2hlZXRFcnJvcnMucHVzaE1lYXN1cmVFcnJvcihuKSxoPTB9aWYoZS5oYXNBdHRyaWJ1dGVzJiZcIm51bWJlclwiPT09ZS5hdHRyaWJ1dGVzKClbMF0ubmFtZSl0cnl7YT1wYXJzZUludChlLmF0dHJpYnV0ZXMoKVswXS52YWx1ZSwxMCksYT50aGlzLmN1cnJlbnRDbGVmTnVtYmVyJiYoYT10aGlzLmN1cnJlbnRDbGVmTnVtYmVyKSx0aGlzLmN1cnJlbnRDbGVmTnVtYmVyPWErMX1jYXRjaCh0KXtuPWMuSVRleHRUcmFuc2xhdGlvbi50cmFuc2xhdGVUZXh0KFwiUmVhZGVyRXJyb3JNZXNzYWdlcy9DbGVmRXJyb3JcIixcIkludmFsaWQgY2xlZiBmb3VuZCAtPiB1c2luZyBkZWZhdWx0IGNsZWYuXCIpLHRoaXMubXVzaWNTaGVldC5TaGVldEVycm9ycy5wdXNoTWVhc3VyZUVycm9yKG4pLGE9MSx0aGlzLmN1cnJlbnRDbGVmTnVtYmVyPWErMX1jb25zdCBtPW5ldyBvLkNsZWZJbnN0cnVjdGlvbihpLGgscik7dGhpcy5hYnN0cmFjdEluc3RydWN0aW9ucy5wdXNoKFthLG1dKX1pZih2b2lkIDAhPT10LmVsZW1lbnQoXCJrZXlcIikmJnRoaXMuaW5zdHJ1bWVudC5NaWRpSW5zdHJ1bWVudElkIT09Zy5NaWRpSW5zdHJ1bWVudC5QZXJjdXNzaW9uKXtsZXQgZT0wO2NvbnN0IGk9dC5lbGVtZW50KFwia2V5XCIpLmVsZW1lbnQoXCJmaWZ0aHNcIik7aWYoaSl0cnl7ZT1wYXJzZUludChpLnZhbHVlLDEwKX1jYXRjaCh0KXtuPWMuSVRleHRUcmFuc2xhdGlvbi50cmFuc2xhdGVUZXh0KFwiUmVhZGVyRXJyb3JNZXNzYWdlcy9LZXlFcnJvclwiLFwiSW52YWxpZCBrZXkgZm91bmQgLT4gc2V0IHRvIGRlZmF1bHQuXCIpLHRoaXMubXVzaWNTaGVldC5TaGVldEVycm9ycy5wdXNoTWVhc3VyZUVycm9yKG4pLGU9MCxwLmRlZmF1bHQuZGVidWcoXCJJbnN0cnVtZW50UmVhZGVyLmFkZEFic3RyYWN0SW5zdHJ1Y3Rpb25cIixuLHQpfWxldCBzPW0uS2V5RW51bS5ub25lLHI9dC5lbGVtZW50KFwia2V5XCIpO2lmKHImJihyPXIuZWxlbWVudChcIm1vZGVcIikpLHIpdHJ5e3M9bS5LZXlFbnVtW3IudmFsdWVdfWNhdGNoKHQpe249Yy5JVGV4dFRyYW5zbGF0aW9uLnRyYW5zbGF0ZVRleHQoXCJSZWFkZXJFcnJvck1lc3NhZ2VzL0tleUVycm9yXCIsXCJJbnZhbGlkIGtleSBmb3VuZCAtPiBzZXQgdG8gZGVmYXVsdC5cIiksdGhpcy5tdXNpY1NoZWV0LlNoZWV0RXJyb3JzLnB1c2hNZWFzdXJlRXJyb3Iobikscz1tLktleUVudW0ubWFqb3IscC5kZWZhdWx0LmRlYnVnKFwiSW5zdHJ1bWVudFJlYWRlci5hZGRBYnN0cmFjdEluc3RydWN0aW9uXCIsbix0KX1jb25zdCBvPW5ldyBhLktleUluc3RydWN0aW9uKHZvaWQgMCxlLHMpO3RoaXMuYWJzdHJhY3RJbnN0cnVjdGlvbnMucHVzaChbMSxvXSl9aWYodC5lbGVtZW50KFwidGltZVwiKSl7Y29uc3QgZT10LmVsZW1lbnQoXCJ0aW1lXCIpO2xldCBpPWYuUmh5dGhtU3ltYm9sRW51bS5OT05FLHM9ITA7aWYodm9pZCAwIT09ZSYmZS5oYXNBdHRyaWJ1dGVzKXtjb25zdCB0PWUuYXR0cmlidXRlKFwic3ltYm9sXCIpO3QmJihcImNvbW1vblwiPT09dC52YWx1ZT9pPWYuUmh5dGhtU3ltYm9sRW51bS5DT01NT046XCJjdXRcIj09PXQudmFsdWUmJihpPWYuUmh5dGhtU3ltYm9sRW51bS5DVVQpKTtjb25zdCBuPWUuYXR0cmlidXRlKFwicHJpbnQtb2JqZWN0XCIpO24mJlwibm9cIj09PW4udmFsdWUmJihzPSExKX1sZXQgcj0wLG89MDtjb25zdCBhPWUmJnZvaWQgMCE9PWUuZWxlbWVudChcInNlbnphLW1pc3VyYVwiKSx1PXQuZWxlbWVudHMoXCJ0aW1lXCIpLGQ9W10sbT1bXTtmb3IobGV0IHQ9MCxlPXUubGVuZ3RoO3Q8ZTsrK3Qpe2NvbnN0IGU9dVt0XTtkLnB1c2guYXBwbHkoZCxlLmVsZW1lbnRzKFwiYmVhdHNcIikpLG0ucHVzaC5hcHBseShtLGUuZWxlbWVudHMoXCJiZWF0LXR5cGVcIikpfWlmKGEpdGhpcy5hYnN0cmFjdEluc3RydWN0aW9ucy5wdXNoKFsxLG5ldyBoLlJoeXRobUluc3RydWN0aW9uKG5ldyBsLkZyYWN0aW9uKDQsNCwwLCExKSxmLlJoeXRobVN5bWJvbEVudW0uTk9ORSldKTtlbHNle3RyeXtpZih2b2lkIDAhPT1kJiZkLmxlbmd0aD4wJiZ2b2lkIDAhPT1tJiZkLmxlbmd0aD09PW0ubGVuZ3RoKXtjb25zdCB0PWQubGVuZ3RoLGU9bmV3IEFycmF5KHQpO2xldCBpPTA7Zm9yKGxldCBzPTA7czx0O3MrKyl7Y29uc3QgdD1kW3NdLnZhbHVlO2xldCBuPTAscj0wO2lmKC0xIT09dC5pbmRleE9mKFwiK1wiKSl7Y29uc3QgZT10LnNwbGl0KFwiK1wiKTtmb3IobGV0IHQ9MCxpPWUubGVuZ3RoO3Q8aTsrK3Qpbis9cGFyc2VJbnQoZVt0XSwxMCl9ZWxzZSBuPXBhcnNlSW50KHQsMTApO3I9cGFyc2VJbnQobVtzXS52YWx1ZSwxMCksaT1NYXRoLm1heChpLHIpLGVbc109bmV3IGwuRnJhY3Rpb24obixyLDAsITEpfWZvcihsZXQgcz0wO3M8dDtzKyspZVtzXS5EZW5vbWluYXRvcj09PWk/cis9ZVtzXS5OdW1lcmF0b3I6cis9aS9lW3NdLkRlbm9taW5hdG9yKmVbc10uTnVtZXJhdG9yO289aX1lbHNlIHI9cGFyc2VJbnQodC5lbGVtZW50KFwidGltZVwiKS5lbGVtZW50KFwiYmVhdHNcIikudmFsdWUsMTApLG89cGFyc2VJbnQodC5lbGVtZW50KFwidGltZVwiKS5lbGVtZW50KFwiYmVhdC10eXBlXCIpLnZhbHVlLDEwKX1jYXRjaCh0KXtuPWMuSVRleHRUcmFuc2xhdGlvbi50cmFuc2xhdGVUZXh0KFwiUmVhZGVyRXJyb3JNZXNzYWdlcy9SaHl0aG1FcnJvclwiLFwiSW52YWxpZCByaHl0aG0gZm91bmQgLT4gc2V0IHRvIGRlZmF1bHQuXCIpLHRoaXMubXVzaWNTaGVldC5TaGVldEVycm9ycy5wdXNoTWVhc3VyZUVycm9yKG4pLHI9NCxvPTQscC5kZWZhdWx0LmRlYnVnKFwiSW5zdHJ1bWVudFJlYWRlci5hZGRBYnN0cmFjdEluc3RydWN0aW9uXCIsbix0KX1jb25zdCBlPW5ldyBoLlJoeXRobUluc3RydWN0aW9uKG5ldyBsLkZyYWN0aW9uKHIsbywwLCExKSxpKTtlLlByaW50T2JqZWN0PXMsdGhpcy5hYnN0cmFjdEluc3RydWN0aW9ucy5wdXNoKFsxLGVdKX19fXNhdmVBYnN0cmFjdEluc3RydWN0aW9uTGlzdCh0LGUpe2ZvcihsZXQgaT10aGlzLmFic3RyYWN0SW5zdHJ1Y3Rpb25zLmxlbmd0aC0xO2k+PTA7aS0tKXtjb25zdCBzPXRoaXMuYWJzdHJhY3RJbnN0cnVjdGlvbnNbaV0sbj1zWzBdLGw9c1sxXTtpZihsIGluc3RhbmNlb2Ygby5DbGVmSW5zdHJ1Y3Rpb24pe2NvbnN0IHQ9bDtpZigwPT09dGhpcy5jdXJyZW50WG1sTWVhc3VyZUluZGV4fHxuPD10aGlzLmFjdGl2ZUNsZWZzLmxlbmd0aCYmdCE9PXRoaXMuYWN0aXZlQ2xlZnNbbi0xXSlpZihlfHx2b2lkIDA9PT10aGlzLmN1cnJlbnRTdGFmZkVudHJ5fHx0aGlzLmN1cnJlbnRTdGFmZkVudHJ5Lmhhc05vdGVzKCl8fG4tMSE9PXRoaXMuaW5zdHJ1bWVudC5TdGF2ZXMuaW5kZXhPZih0aGlzLmN1cnJlbnRTdGFmZkVudHJ5LlBhcmVudFN0YWZmKSl7aWYoZSl7bGV0IGU7aWYodGhpcy5jdXJyZW50TWVhc3VyZSl7Y29uc3Qgcz10LGE9dGhpcy5pblNvdXJjZU1lYXN1cmVJbnN0cnVtZW50SW5kZXgrbi0xLGg9dGhpcy5jdXJyZW50TWVhc3VyZS5GaXJzdEluc3RydWN0aW9uc1N0YWZmRW50cmllc1thXTtpZigwPT09dGhpcy5jdXJyZW50WG1sTWVhc3VyZUluZGV4KWlmKGgpaWYodm9pZCAwPT09dGhpcy5jdXJyZW50TWVhc3VyZS5GaXJzdEluc3RydWN0aW9uc1N0YWZmRW50cmllc1thXXx8aC5JbnN0cnVjdGlvbnNbMF1pbnN0YW5jZW9mIG8uQ2xlZkluc3RydWN0aW9uKXtjb25zdCB0PW5ldyByLlNvdXJjZVN0YWZmRW50cnkodm9pZCAwLHZvaWQgMCk7dGhpcy5jdXJyZW50TWVhc3VyZS5MYXN0SW5zdHJ1Y3Rpb25zU3RhZmZFbnRyaWVzW2FdPXQscy5QYXJlbnQ9dCx0Lkluc3RydWN0aW9ucy5wdXNoKHMpfWVsc2UgZT1oLHMuUGFyZW50PWUsZS5yZW1vdmVGaXJzdEluc3RydWN0aW9uT2ZUeXBlQ2xlZkluc3RydWN0aW9uKCksZS5JbnN0cnVjdGlvbnMuc3BsaWNlKDAsMCxzKSx0aGlzLmFjdGl2ZUNsZWZzSGF2ZUJlZW5Jbml0aWFsaXplZFtuLTFdPSEwO2Vsc2UgZT1uZXcgci5Tb3VyY2VTdGFmZkVudHJ5KHZvaWQgMCx2b2lkIDApLHRoaXMuY3VycmVudE1lYXN1cmUuRmlyc3RJbnN0cnVjdGlvbnNTdGFmZkVudHJpZXNbYV09ZSxzLlBhcmVudD1lLGUuSW5zdHJ1Y3Rpb25zLnB1c2gocyksdGhpcy5hY3RpdmVDbGVmc0hhdmVCZWVuSW5pdGlhbGl6ZWRbbi0xXT0hMDtlbHNlIGlmKHRoaXMuYWN0aXZlQ2xlZnNIYXZlQmVlbkluaXRpYWxpemVkW24tMV0pe2NvbnN0IHQ9bmV3IHIuU291cmNlU3RhZmZFbnRyeSh2b2lkIDAsdm9pZCAwKTt0aGlzLnByZXZpb3VzTWVhc3VyZS5MYXN0SW5zdHJ1Y3Rpb25zU3RhZmZFbnRyaWVzW2FdPXQscy5QYXJlbnQ9dCx0Lkluc3RydWN0aW9ucy5wdXNoKHMpfWVsc2V7Y29uc3QgdD10aGlzLm11c2ljU2hlZXQuU291cmNlTWVhc3VyZXNbMF07dC5GaXJzdEluc3RydWN0aW9uc1N0YWZmRW50cmllc1thXT8oZT10LkZpcnN0SW5zdHJ1Y3Rpb25zU3RhZmZFbnRyaWVzW2FdLGUucmVtb3ZlRmlyc3RJbnN0cnVjdGlvbk9mVHlwZUNsZWZJbnN0cnVjdGlvbigpKTplPW5ldyByLlNvdXJjZVN0YWZmRW50cnkodm9pZCAwLHZvaWQgMCkscy5QYXJlbnQ9ZSxlLkluc3RydWN0aW9ucy5zcGxpY2UoMCwwLHMpLHRoaXMuYWN0aXZlQ2xlZnNIYXZlQmVlbkluaXRpYWxpemVkW24tMV09ITB9dGhpcy5hY3RpdmVDbGVmc1tuLTFdPXQsdGhpcy5hYnN0cmFjdEluc3RydWN0aW9ucy5zcGxpY2UoaSwxKX19fWVsc2V7Y29uc3QgZT10O2UuUGFyZW50PXRoaXMuY3VycmVudFN0YWZmRW50cnksdGhpcy5jdXJyZW50U3RhZmZFbnRyeS5yZW1vdmVGaXJzdEluc3RydWN0aW9uT2ZUeXBlQ2xlZkluc3RydWN0aW9uKCksdGhpcy5jdXJyZW50U3RhZmZFbnRyeS5JbnN0cnVjdGlvbnMucHVzaChlKSx0aGlzLmFjdGl2ZUNsZWZzW24tMV09dCx0aGlzLmFic3RyYWN0SW5zdHJ1Y3Rpb25zLnNwbGljZShpLDEpfWVsc2Ugbjw9dGhpcy5hY3RpdmVDbGVmcy5sZW5ndGgmJnQ9PT10aGlzLmFjdGl2ZUNsZWZzW24tMV0mJnRoaXMuYWJzdHJhY3RJbnN0cnVjdGlvbnMuc3BsaWNlKGksMSl9aWYobCBpbnN0YW5jZW9mIGEuS2V5SW5zdHJ1Y3Rpb24pe2NvbnN0IGU9bDtpZih0aGlzLmFjdGl2ZUtleSYmdGhpcy5hY3RpdmVLZXkuS2V5PT09ZS5LZXkpdGhpcy5hYnN0cmFjdEluc3RydWN0aW9ucy5zcGxpY2UoaSwxKTtlbHNle2xldCBzO2lmKHRoaXMuYWN0aXZlS2V5PWUsdGhpcy5hYnN0cmFjdEluc3RydWN0aW9ucy5zcGxpY2UoaSwxKSx0aGlzLmFjdGl2ZUtleUhhc0JlZW5Jbml0aWFsaXplZD9zPXRoaXMuY3VycmVudE1lYXN1cmU6KHRoaXMuYWN0aXZlS2V5SGFzQmVlbkluaXRpYWxpemVkPSEwLHM9dGhpcy5jdXJyZW50WG1sTWVhc3VyZUluZGV4PjA/dGhpcy5tdXNpY1NoZWV0LlNvdXJjZU1lYXN1cmVzWzBdOnRoaXMuY3VycmVudE1lYXN1cmUpLHMpZm9yKGxldCBpPXRoaXMuaW5Tb3VyY2VNZWFzdXJlSW5zdHJ1bWVudEluZGV4O2k8dGhpcy5pblNvdXJjZU1lYXN1cmVJbnN0cnVtZW50SW5kZXgrdDtpKyspe2NvbnN0IHQ9ZTtpZihzLkZpcnN0SW5zdHJ1Y3Rpb25zU3RhZmZFbnRyaWVzW2ldKXtjb25zdCBlPXMuRmlyc3RJbnN0cnVjdGlvbnNTdGFmZkVudHJpZXNbaV07dC5QYXJlbnQ9ZSxlLnJlbW92ZUZpcnN0SW5zdHJ1Y3Rpb25PZlR5cGVLZXlJbnN0cnVjdGlvbigpLDA9PT1lLkluc3RydWN0aW9ucy5sZW5ndGg/ZS5JbnN0cnVjdGlvbnMucHVzaCh0KTplLkluc3RydWN0aW9uc1swXWluc3RhbmNlb2Ygby5DbGVmSW5zdHJ1Y3Rpb24/ZS5JbnN0cnVjdGlvbnMuc3BsaWNlKDEsMCx0KTplLkluc3RydWN0aW9ucy5zcGxpY2UoMCwwLHQpfWVsc2V7Y29uc3QgZT1uZXcgci5Tb3VyY2VTdGFmZkVudHJ5KHZvaWQgMCx2b2lkIDApO3MuRmlyc3RJbnN0cnVjdGlvbnNTdGFmZkVudHJpZXNbaV09ZSx0LlBhcmVudD1lLGUuSW5zdHJ1Y3Rpb25zLnB1c2godCl9fX19aWYobCBpbnN0YW5jZW9mIGguUmh5dGhtSW5zdHJ1Y3Rpb24pe2NvbnN0IGU9bDtpZih0aGlzLmFjdGl2ZVJoeXRobSYmdGhpcy5hY3RpdmVSaHl0aG09PT1lKXRoaXMuYWJzdHJhY3RJbnN0cnVjdGlvbnMuc3BsaWNlKGksMSk7ZWxzZSBpZih0aGlzLmFjdGl2ZVJoeXRobT1lLHRoaXMuYWJzdHJhY3RJbnN0cnVjdGlvbnMuc3BsaWNlKGksMSksdGhpcy5jdXJyZW50TWVhc3VyZSlmb3IobGV0IGk9dGhpcy5pblNvdXJjZU1lYXN1cmVJbnN0cnVtZW50SW5kZXg7aTx0aGlzLmluU291cmNlTWVhc3VyZUluc3RydW1lbnRJbmRleCt0O2krKyl7Y29uc3QgdD1lO2xldCBzO3RoaXMuY3VycmVudE1lYXN1cmUuRmlyc3RJbnN0cnVjdGlvbnNTdGFmZkVudHJpZXNbaV0/KHM9dGhpcy5jdXJyZW50TWVhc3VyZS5GaXJzdEluc3RydWN0aW9uc1N0YWZmRW50cmllc1tpXSxzLnJlbW92ZUZpcnN0SW5zdHJ1Y3Rpb25PZlR5cGVSaHl0aG1JbnN0cnVjdGlvbigpKToocz1uZXcgci5Tb3VyY2VTdGFmZkVudHJ5KHZvaWQgMCx2b2lkIDApLHRoaXMuY3VycmVudE1lYXN1cmUuRmlyc3RJbnN0cnVjdGlvbnNTdGFmZkVudHJpZXNbaV09cyksdC5QYXJlbnQ9cyxzLkluc3RydWN0aW9ucy5wdXNoKHQpfX19fXNhdmVDbGVmSW5zdHJ1Y3Rpb25BdEVuZE9mTWVhc3VyZSgpe2ZvcihsZXQgdD10aGlzLmFic3RyYWN0SW5zdHJ1Y3Rpb25zLmxlbmd0aC0xO3Q+PTA7dC0tKXtjb25zdCBlPXRoaXMuYWJzdHJhY3RJbnN0cnVjdGlvbnNbdF1bMF0saT10aGlzLmFic3RyYWN0SW5zdHJ1Y3Rpb25zW3RdWzFdO2lmKGkgaW5zdGFuY2VvZiBvLkNsZWZJbnN0cnVjdGlvbil7Y29uc3Qgcz1pO2lmKCF0aGlzLmFjdGl2ZUNsZWZzW2UtMV18fHMuQ2xlZlR5cGUhPT10aGlzLmFjdGl2ZUNsZWZzW2UtMV0uQ2xlZlR5cGV8fHMuQ2xlZlR5cGU9PT10aGlzLmFjdGl2ZUNsZWZzW2UtMV0uQ2xlZlR5cGUmJnMuTGluZSE9PXRoaXMuYWN0aXZlQ2xlZnNbZS0xXS5MaW5lKXtjb25zdCBpPW5ldyByLlNvdXJjZVN0YWZmRW50cnkodm9pZCAwLHZvaWQgMCk7dGhpcy5jdXJyZW50TWVhc3VyZS5MYXN0SW5zdHJ1Y3Rpb25zU3RhZmZFbnRyaWVzW3RoaXMuaW5Tb3VyY2VNZWFzdXJlSW5zdHJ1bWVudEluZGV4K2UtMV09aTtjb25zdCBuPXM7bi5QYXJlbnQ9aSxpLkluc3RydWN0aW9ucy5wdXNoKG4pLHRoaXMuYWN0aXZlQ2xlZnNbZS0xXT1zLHRoaXMuYWJzdHJhY3RJbnN0cnVjdGlvbnMuc3BsaWNlKHQsMSl9fX19Z2V0Tm90ZUR1cmF0aW9uRm9yVHVwbGV0KHQpe2xldCBlPW5ldyBsLkZyYWN0aW9uKDAsMSk7Y29uc3QgaT10aGlzLmdldE5vdGVEdXJhdGlvbkZyb21UeXBlTm9kZSh0KTtpZih0LmVsZW1lbnQoXCJ0aW1lLW1vZGlmaWNhdGlvblwiKSl7Y29uc3Qgcz10LmVsZW1lbnQoXCJ0aW1lLW1vZGlmaWNhdGlvblwiKTtpZihzJiZ2b2lkIDAhPT1zLmVsZW1lbnQoXCJhY3R1YWwtbm90ZXNcIikmJnMuZWxlbWVudChcIm5vcm1hbC1ub3Rlc1wiKSl7Y29uc3QgdD1zLmVsZW1lbnQoXCJhY3R1YWwtbm90ZXNcIiksbj1zLmVsZW1lbnQoXCJub3JtYWwtbm90ZXNcIik7aWYodm9pZCAwIT09dCYmbil7Y29uc3Qgcz1wYXJzZUludCh0LnZhbHVlLDEwKSxyPXBhcnNlSW50KG4udmFsdWUsMTApO2U9bmV3IGwuRnJhY3Rpb24ocippLk51bWVyYXRvcixzKmkuRGVub21pbmF0b3IpfX19cmV0dXJuIGV9cmVhZEV4cHJlc3Npb25TdGFmZk51bWJlcih0KXtsZXQgZT0xO2lmKHQuZWxlbWVudChcInN0YWZmXCIpKXtjb25zdCBpPXQuZWxlbWVudChcInN0YWZmXCIpO2lmKGkpdHJ5e2U9cGFyc2VJbnQoaS52YWx1ZSwxMCl9Y2F0Y2godCl7Y29uc3QgaT1jLklUZXh0VHJhbnNsYXRpb24udHJhbnNsYXRlVGV4dChcIlJlYWRlckVycm9yTWVzc2FnZXMvRXhwcmVzc2lvblN0YWZmRXJyb3JcIixcIkludmFsaWQgRXhwcmVzc2lvbiBzdGFmZiBudW1iZXIgLT4gc2V0IHRvIGRlZmF1bHQuXCIpO3RoaXMubXVzaWNTaGVldC5TaGVldEVycm9ycy5wdXNoTWVhc3VyZUVycm9yKGkpLGU9MSxwLmRlZmF1bHQuZGVidWcoXCJJbnN0cnVtZW50UmVhZGVyLnJlYWRFeHByZXNzaW9uU3RhZmZOdW1iZXJcIixpLHQpfX1yZXR1cm4gZX1yZWFkRGl2aXNpb25zRnJvbU5vdGVzKCl7bGV0IHQ9MCxlPXRoaXMuY3VycmVudFhtbE1lYXN1cmVJbmRleCxpPSExO2Zvcig7IWk7KXtjb25zdCBzPXRoaXMueG1sTWVhc3VyZUxpc3RbZV0uZWxlbWVudHMoKTtmb3IobGV0IGU9MCxuPXMubGVuZ3RoO2U8bjsrK2Upe2NvbnN0IG49c1tlXTtpZihcIm5vdGVcIj09PW4ubmFtZSYmIW4uZWxlbWVudChcInRpbWUtbW9kaWZpY2F0aW9uXCIpKXtjb25zdCBlPW4uZWxlbWVudChcImR1cmF0aW9uXCIpLGk9bi5lbGVtZW50KFwidHlwZVwiKTtpZih2b2lkIDAhPT1lJiZpKXtjb25zdCBzPWkudmFsdWU7bGV0IG49MDt0cnl7bj1wYXJzZUludChlLnZhbHVlLDEwKX1jYXRjaCh0KXtwLmRlZmF1bHQuZGVidWcoXCJJbnN0cnVtZW50UmVhZGVyLnJlYWREaXZpc2lvbnNGcm9tTm90ZXNcIix0KTtjb250aW51ZX1zd2l0Y2gocyl7Y2FzZVwiMTAyNHRoXCI6dD1uLzQqMTAyNDticmVhaztjYXNlXCI1MTJ0aFwiOnQ9bi80KjUxMjticmVhaztjYXNlXCIyNTZ0aFwiOnQ9bi80KjI1NjticmVhaztjYXNlXCIxMjh0aFwiOnQ9bi80KjEyODticmVhaztjYXNlXCI2NHRoXCI6dD1uLzQqNjQ7YnJlYWs7Y2FzZVwiMzJuZFwiOnQ9bi80KjMyO2JyZWFrO2Nhc2VcIjE2dGhcIjp0PW4vNCoxNjticmVhaztjYXNlXCJlaWdodGhcIjp0PW4vNCo4O2JyZWFrO2Nhc2VcInF1YXJ0ZXJcIjp0PW4vNCo0O2JyZWFrO2Nhc2VcImhhbGZcIjp0PW4vNCoyO2JyZWFrO2Nhc2VcIndob2xlXCI6dD1uLzQ7YnJlYWs7Y2FzZVwiYnJldmVcIjp0PW4vNC8yO2JyZWFrO2Nhc2VcImxvbmdcIjp0PW4vNC80O2JyZWFrO2Nhc2VcIm1heGltYVwiOnQ9bi80Lzh9fX1pZih0PjApe2k9ITA7YnJlYWt9fWlmKDA9PT10JiYoZSsrLGU9PT10aGlzLnhtbE1lYXN1cmVMaXN0Lmxlbmd0aCkpe2NvbnN0IHQ9Yy5JVGV4dFRyYW5zbGF0aW9uLnRyYW5zbGF0ZVRleHQoXCJSZWFkZXJFcnJvck1Fc3NhZ2VzL0RpdmlzaW9uc0Vycm9yXCIsXCJJbnZhbGlkIGRpdmlzaW9ucyB2YWx1ZSBhdCBJbnN0cnVtZW50OiBcIik7dGhyb3cgbmV3IHUuTXVzaWNTaGVldFJlYWRpbmdFeGNlcHRpb24odCt0aGlzLmluc3RydW1lbnQuTmFtZSl9fXJldHVybiB0fX19LGZ1bmN0aW9uKHQsZSxpKXtcInVzZSBzdHJpY3RcIjt2YXIgcz10aGlzJiZ0aGlzLl9faW1wb3J0RGVmYXVsdHx8ZnVuY3Rpb24odCl7cmV0dXJuIHQmJnQuX19lc01vZHVsZT90OntkZWZhdWx0OnR9fTtPYmplY3QuZGVmaW5lUHJvcGVydHkoZSxcIl9fZXNNb2R1bGVcIix7dmFsdWU6ITB9KTtjb25zdCBuPWkoMzcpLHI9aSg0Nyksbz1pKDE2KSxhPWkoMzApLGg9aSgyNSksbD1pKDEwNCksYz1pKDc1KSx1PWkoMTI3KSxkPWkoMCksZj1pKDI3KSxtPWkoMTM2KSxwPWkoMTEpLGc9aSgyKSxiPWkoMiksUz1pKDEyNikseT1zKGkoMSkpLHg9aSgyKSxFPWkoMjQpLHY9aSgxMzcpLF89aSg2Miksdz1pKDEwMyksTT1pKDE4NSk7ZS5Wb2ljZUdlbmVyYXRvcj1jbGFzc3tjb25zdHJ1Y3Rvcih0LGUsaSxzKXt0aGlzLmxhc3RCZWFtVGFnPVwiXCIsdGhpcy5vcGVuVGllRGljdD17fSx0aGlzLmN1cnJlbnRPY3RhdmVTaGlmdD0wLHRoaXMudHVwbGV0RGljdD17fSx0aGlzLm9wZW5UdXBsZXROdW1iZXI9MCx0aGlzLm11c2ljU2hlZXQ9dC5HZXRNdXNpY1NoZWV0LHRoaXMuc2x1clJlYWRlcj1pLHRoaXMudm9pY2U9cz9uZXcgbi5MaW5rZWRWb2ljZSh0LGUscyk6bmV3IHIuVm9pY2UodCxlKSx0LlZvaWNlcy5wdXNoKHRoaXMudm9pY2UpLHRoaXMubHlyaWNzUmVhZGVyPW5ldyBtLkx5cmljc1JlYWRlcih0aGlzLm11c2ljU2hlZXQpLHRoaXMuYXJ0aWN1bGF0aW9uUmVhZGVyPW5ldyB2LkFydGljdWxhdGlvblJlYWRlcn1nZXQgR2V0Vm9pY2UoKXtyZXR1cm4gdGhpcy52b2ljZX1nZXQgT2N0YXZlU2hpZnQoKXtyZXR1cm4gdGhpcy5jdXJyZW50T2N0YXZlU2hpZnR9c2V0IE9jdGF2ZVNoaWZ0KHQpe3RoaXMuY3VycmVudE9jdGF2ZVNoaWZ0PXR9Y3JlYXRlVm9pY2VFbnRyeSh0LGUsaSxzPSExLG49ITEscj0hMSl7dGhpcy5jdXJyZW50Vm9pY2VFbnRyeT1uZXcgby5Wb2ljZUVudHJ5KHQuY2xvbmUoKSx0aGlzLnZvaWNlLGUscyxuLHIpLGkmJnRoaXMudm9pY2UuVm9pY2VFbnRyaWVzLnB1c2godGhpcy5jdXJyZW50Vm9pY2VFbnRyeSksLTE9PT1lLlZvaWNlRW50cmllcy5pbmRleE9mKHRoaXMuY3VycmVudFZvaWNlRW50cnkpJiZlLlZvaWNlRW50cmllcy5wdXNoKHRoaXMuY3VycmVudFZvaWNlRW50cnkpfXJlYWQodCxlLGkscyxuLHIsbyxhLGgsbCxjLHUsbSxwLGcsYixTLHkpe3RoaXMuY3VycmVudFN0YWZmRW50cnk9byx0aGlzLmN1cnJlbnRNZWFzdXJlPWE7dHJ5e3RoaXMuY3VycmVudE5vdGU9cj90aGlzLmFkZFJlc3ROb3RlKGUscyxtLHAseSk6dGhpcy5hZGRTaW5nbGVOb3RlKHQsZSxzLGksbixjLHUsbSxwLGcsYixTLHkpO2NvbnN0IG89dC5lbGVtZW50cyhcImx5cmljXCIpO3ZvaWQgMCE9PXRoaXMubHlyaWNzUmVhZGVyJiZvJiYodGhpcy5seXJpY3NSZWFkZXIuYWRkTHlyaWNFbnRyeShvLHRoaXMuY3VycmVudFZvaWNlRW50cnkpLHRoaXMudm9pY2UuUGFyZW50Lkhhc0x5cmljcz0hMCk7bGV0IGE9ITE7Y29uc3QgZj10LmVsZW1lbnQoXCJub3RhdGlvbnNcIik7aWYoZil7dGhpcy5hcnRpY3VsYXRpb25SZWFkZXImJnRoaXMucmVhZEFydGljdWxhdGlvbnMoZix0aGlzLmN1cnJlbnRWb2ljZUVudHJ5KTtjb25zdCBlPWYuZWxlbWVudHMoXCJzbHVyXCIpO3ZvaWQgMCE9PXRoaXMuc2x1clJlYWRlciYmZS5sZW5ndGg+MCYmIXRoaXMuY3VycmVudE5vdGUuUGFyZW50Vm9pY2VFbnRyeS5Jc0dyYWNlJiZ0aGlzLnNsdXJSZWFkZXIuYWRkU2x1cihlLHRoaXMuY3VycmVudE5vdGUpO2NvbnN0IGk9Zi5lbGVtZW50cyhcInR1cGxldFwiKTtpLmxlbmd0aD4wJiYodGhpcy5vcGVuVHVwbGV0TnVtYmVyPXRoaXMuYWRkVHVwbGV0KHQsaSksYT0hMCk7Y29uc3Qgcz1mLmVsZW1lbnQoXCJhcnBlZ2dpYXRlXCIpO2lmKHZvaWQgMCE9PXMmJiF0aGlzLmN1cnJlbnRWb2ljZUVudHJ5LklzR3JhY2Upe2xldCB0O2lmKHRoaXMuY3VycmVudFZvaWNlRW50cnkuQXJwZWdnaW8pdD10aGlzLmN1cnJlbnRWb2ljZUVudHJ5LkFycGVnZ2lvO2Vsc2V7bGV0IGU9ITE7Zm9yKGNvbnN0IGkgb2YgdGhpcy5jdXJyZW50U3RhZmZFbnRyeS5Wb2ljZUVudHJpZXMpaWYoaS5BcnBlZ2dpbyl7ZT0hMCx0PWkuQXJwZWdnaW87YnJlYWt9aWYoIWUpe2xldCBlPXcuQXJwZWdnaW9UeXBlLkFSUEVHR0lPX0RJUkVDVElPTkxFU1M7Y29uc3QgaT1zLmF0dHJpYnV0ZShcImRpcmVjdGlvblwiKTtpZihudWxsIT09aSlzd2l0Y2goaS52YWx1ZSl7Y2FzZVwidXBcIjplPXcuQXJwZWdnaW9UeXBlLlJPTExfVVA7YnJlYWs7Y2FzZVwiZG93blwiOmU9dy5BcnBlZ2dpb1R5cGUuUk9MTF9ET1dOO2JyZWFrO2RlZmF1bHQ6ZT13LkFycGVnZ2lvVHlwZS5BUlBFR0dJT19ESVJFQ1RJT05MRVNTfXQ9bmV3IHcuQXJwZWdnaW8odGhpcy5jdXJyZW50Vm9pY2VFbnRyeSxlKSx0aGlzLmN1cnJlbnRWb2ljZUVudHJ5LkFycGVnZ2lvPXR9fXQuYWRkTm90ZSh0aGlzLmN1cnJlbnROb3RlKX1jb25zdCBuPWYuZWxlbWVudHMoXCJ0aWVkXCIpO24ubGVuZ3RoPjAmJnRoaXMuYWRkVGllKG4saCxsKTtjb25zdCByPXRoaXMub3BlblRpZURpY3Q7Zm9yKGNvbnN0IHQgaW4gcilpZihyLmhhc093blByb3BlcnR5KHQpKXtjb25zdCBlPXJbdF07ZC5GcmFjdGlvbi5wbHVzKGUuU3RhcnROb3RlLlBhcmVudFN0YWZmRW50cnkuVGltZXN0YW1wLGUuRHVyYXRpb24pLmx0KHRoaXMuY3VycmVudFN0YWZmRW50cnkuVGltZXN0YW1wKSYmZGVsZXRlIHJbdF19fXZvaWQgMD09PXQuZWxlbWVudChcInRpbWUtbW9kaWZpY2F0aW9uXCIpfHxhfHx0aGlzLmhhbmRsZVRpbWVNb2RpZmljYXRpb25Ob2RlKHQpfWNhdGNoKHQpe2NvbnN0IGU9Zi5JVGV4dFRyYW5zbGF0aW9uLnRyYW5zbGF0ZVRleHQoXCJSZWFkZXJFcnJvck1lc3NhZ2VzL05vdGVFcnJvclwiLFwiSWdub3JlZCBlcnJvbmVvdXMgTm90ZS5cIik7dGhpcy5tdXNpY1NoZWV0LlNoZWV0RXJyb3JzLnB1c2hNZWFzdXJlRXJyb3IoZSl9cmV0dXJuIHRoaXMuY3VycmVudE5vdGV9Y2hlY2tGb3JTdGFmZkVudHJ5TGluayh0LGUsaSxzKXtjb25zdCBuPW5ldyBTLlN0YWZmRW50cnlMaW5rKHRoaXMuY3VycmVudFZvaWNlRW50cnkpO24uTGlua1N0YWZmRW50cmllcy5wdXNoKGkpLGkuTGluaz1uO2NvbnN0IHI9dGhpcy5jdXJyZW50Vm9pY2VFbnRyeS5UaW1lc3RhbXAuY2xvbmUoKSxvPXMuZ2V0VmVydGljYWxDb250YWluZXJCeVRpbWVzdGFtcChyKTtyZXR1cm4oaT1vLlN0YWZmRW50cmllc1t0XSl8fChpPW5ldyBoLlNvdXJjZVN0YWZmRW50cnkobyxlKSxvLlN0YWZmRW50cmllc1t0XT1pKSxpLlZvaWNlRW50cmllcy5wdXNoKHRoaXMuY3VycmVudFZvaWNlRW50cnkpLG4uTGlua1N0YWZmRW50cmllcy5wdXNoKGkpLGkuTGluaz1uLGl9Y2hlY2tGb3JPcGVuQmVhbSgpe3ZvaWQgMCE9PXRoaXMub3BlbkJlYW0mJnRoaXMuY3VycmVudE5vdGUmJnRoaXMuaGFuZGxlT3BlbkJlYW0oKX1jaGVja09wZW5UaWVzKCl7Y29uc3QgdD10aGlzLm9wZW5UaWVEaWN0O2Zvcihjb25zdCBlIGluIHQpaWYodC5oYXNPd25Qcm9wZXJ0eShlKSl7Y29uc3QgaT10W2VdO2QuRnJhY3Rpb24ucGx1cyhpLlN0YXJ0Tm90ZS5QYXJlbnRTdGFmZkVudHJ5LlRpbWVzdGFtcCxpLkR1cmF0aW9uKS5sdChpLlN0YXJ0Tm90ZS5QYXJlbnRTdGFmZkVudHJ5LlZlcnRpY2FsQ29udGFpbmVyUGFyZW50LlBhcmVudE1lYXN1cmUuRHVyYXRpb24pJiZkZWxldGUgdFtlXX19aGFzVm9pY2VFbnRyeSgpe3JldHVybiB2b2lkIDAhPT10aGlzLmN1cnJlbnRWb2ljZUVudHJ5fWdldE5vdGVEdXJhdGlvbkZyb21UeXBlKHQpe3N3aXRjaCh0KXtjYXNlXCIxMDI0dGhcIjpyZXR1cm4gbmV3IGQuRnJhY3Rpb24oMSwxMDI0KTtjYXNlXCI1MTJ0aFwiOnJldHVybiBuZXcgZC5GcmFjdGlvbigxLDUxMik7Y2FzZVwiMjU2dGhcIjpyZXR1cm4gbmV3IGQuRnJhY3Rpb24oMSwyNTYpO2Nhc2VcIjEyOHRoXCI6cmV0dXJuIG5ldyBkLkZyYWN0aW9uKDEsMTI4KTtjYXNlXCI2NHRoXCI6cmV0dXJuIG5ldyBkLkZyYWN0aW9uKDEsNjQpO2Nhc2VcIjMydGhcIjpjYXNlXCIzMm5kXCI6cmV0dXJuIG5ldyBkLkZyYWN0aW9uKDEsMzIpO2Nhc2VcIjE2dGhcIjpyZXR1cm4gbmV3IGQuRnJhY3Rpb24oMSwxNik7Y2FzZVwiZWlnaHRoXCI6cmV0dXJuIG5ldyBkLkZyYWN0aW9uKDEsOCk7Y2FzZVwicXVhcnRlclwiOnJldHVybiBuZXcgZC5GcmFjdGlvbigxLDQpO2Nhc2VcImhhbGZcIjpyZXR1cm4gbmV3IGQuRnJhY3Rpb24oMSwyKTtjYXNlXCJ3aG9sZVwiOnJldHVybiBuZXcgZC5GcmFjdGlvbigxLDEpO2Nhc2VcImJyZXZlXCI6cmV0dXJuIG5ldyBkLkZyYWN0aW9uKDIsMSk7Y2FzZVwibG9uZ1wiOnJldHVybiBuZXcgZC5GcmFjdGlvbig0LDEpO2Nhc2VcIm1heGltYVwiOnJldHVybiBuZXcgZC5GcmFjdGlvbig4LDEpO2RlZmF1bHQ6e2NvbnN0IHQ9Zi5JVGV4dFRyYW5zbGF0aW9uLnRyYW5zbGF0ZVRleHQoXCJSZWFkZXJFcnJvck1lc3NhZ2VzL05vdGVEdXJhdGlvbkVycm9yXCIsXCJJbnZhbGlkIG5vdGUgZHVyYXRpb24uXCIpO3Rocm93IG5ldyBwLk11c2ljU2hlZXRSZWFkaW5nRXhjZXB0aW9uKHQpfX19cmVhZEFydGljdWxhdGlvbnModCxlKXtjb25zdCBpPXQuZWxlbWVudChcImFydGljdWxhdGlvbnNcIik7aSYmdGhpcy5hcnRpY3VsYXRpb25SZWFkZXIuYWRkQXJ0aWN1bGF0aW9uRXhwcmVzc2lvbihpLGUpO2NvbnN0IHM9dC5lbGVtZW50KFwiZmVybWF0YVwiKTtzJiZ0aGlzLmFydGljdWxhdGlvblJlYWRlci5hZGRGZXJtYXRhKHMsZSk7Y29uc3Qgbj10LmVsZW1lbnQoXCJ0ZWNobmljYWxcIik7biYmdGhpcy5hcnRpY3VsYXRpb25SZWFkZXIuYWRkVGVjaG5pY2FsQXJ0aWN1bGF0aW9ucyhuLGUpO2NvbnN0IHI9dC5lbGVtZW50KFwib3JuYW1lbnRzXCIpO3ImJnRoaXMuYXJ0aWN1bGF0aW9uUmVhZGVyLmFkZE9ybmFtZW50KHIsZSl9YWRkU2luZ2xlTm90ZSh0LGUsaSxzLG4scixvLGgsbCxjLHUsbSxTKXtsZXQgRT0wLHY9Zy5BY2NpZGVudGFsRW51bS5OT05FLHc9Yi5Ob3RlRW51bS5DLFQ9MCxQPXZvaWQgMCxMPXZvaWQgMCxBPXZvaWQgMDtjb25zdCBJPXQuZWxlbWVudHMoKTtmb3IobGV0IHQ9MCxlPUkubGVuZ3RoO3Q8ZTsrK3Qpe2NvbnN0IGU9SVt0XTt0cnl7aWYoXCJwaXRjaFwiPT09ZS5uYW1lKXtjb25zdCB0PWUuZWxlbWVudHMoKTtmb3IobGV0IGU9MCxpPXQubGVuZ3RoO2U8aTsrK2Upe2NvbnN0IGk9dFtlXTtMPXZvaWQgMCxBPXZvaWQgMDt0cnl7aWYoXCJzdGVwXCI9PT1pLm5hbWUpe2lmKHc9Yi5Ob3RlRW51bVtpLnZhbHVlXSx2b2lkIDA9PT13KXtjb25zdCB0PWYuSVRleHRUcmFuc2xhdGlvbi50cmFuc2xhdGVUZXh0KFwiUmVhZGVyRXJyb3JNZXNzYWdlcy9Ob3RlUGl0Y2hFcnJvclwiLFwiSW52YWxpZCBwaXRjaCB3aGlsZSByZWFkaW5nIG5vdGUuXCIpO3Rocm93IHRoaXMubXVzaWNTaGVldC5TaGVldEVycm9ycy5wdXNoTWVhc3VyZUVycm9yKHQpLG5ldyBwLk11c2ljU2hlZXRSZWFkaW5nRXhjZXB0aW9uKHQsdm9pZCAwKX19ZWxzZSBpZihcImFsdGVyXCI9PT1pLm5hbWUpe2lmKEU9cGFyc2VGbG9hdChpLnZhbHVlKSxpc05hTihFKSl7Y29uc3QgdD1mLklUZXh0VHJhbnNsYXRpb24udHJhbnNsYXRlVGV4dChcIlJlYWRlckVycm9yTWVzc2FnZXMvTm90ZUFsdGVyYXRpb25FcnJvclwiLFwiSW52YWxpZCBhbHRlcmF0aW9uIHdoaWxlIHJlYWRpbmcgbm90ZS5cIik7dGhyb3cgdGhpcy5tdXNpY1NoZWV0LlNoZWV0RXJyb3JzLnB1c2hNZWFzdXJlRXJyb3IodCksbmV3IHAuTXVzaWNTaGVldFJlYWRpbmdFeGNlcHRpb24odCx2b2lkIDApfXY9eC5QaXRjaC5BY2NpZGVudGFsRnJvbUhhbGZUb25lcyhFKX1lbHNlIGlmKFwib2N0YXZlXCI9PT1pLm5hbWUmJihUPXBhcnNlSW50KGkudmFsdWUsMTApLGlzTmFOKFQpKSl7Y29uc3QgdD1mLklUZXh0VHJhbnNsYXRpb24udHJhbnNsYXRlVGV4dChcIlJlYWRlckVycm9yTWVzc2FnZXMvTm90ZU9jdGF2ZUVycm9yXCIsXCJJbnZhbGlkIG9jdGF2ZSB2YWx1ZSB3aGlsZSByZWFkaW5nIG5vdGUuXCIpO3Rocm93IHRoaXMubXVzaWNTaGVldC5TaGVldEVycm9ycy5wdXNoTWVhc3VyZUVycm9yKHQpLG5ldyBwLk11c2ljU2hlZXRSZWFkaW5nRXhjZXB0aW9uKHQsdm9pZCAwKX19Y2F0Y2godCl7eS5kZWZhdWx0LmluZm8oXCJWb2ljZUdlbmVyYXRvci5hZGRTaW5nbGVOb3RlIHJlYWQgU3RlcDogXCIsdC5tZXNzYWdlKX19fWVsc2UgaWYoXCJhY2NpZGVudGFsXCI9PT1lLm5hbWUpe1wibmF0dXJhbFwiPT09ZS52YWx1ZSYmKHY9Zy5BY2NpZGVudGFsRW51bS5OQVRVUkFMKX1lbHNlIGlmKFwidW5waXRjaGVkXCI9PT1lLm5hbWUpe2NvbnN0IHQ9ZS5lbGVtZW50KFwiZGlzcGxheS1zdGVwXCIpO3QmJih3PWIuTm90ZUVudW1bdC52YWx1ZS50b1VwcGVyQ2FzZSgpXSk7Y29uc3QgaT1lLmVsZW1lbnQoXCJkaXNwbGF5LW9jdGF2ZVwiKTtpJiYoVD1wYXJzZUludChpLnZhbHVlLDEwKSxvJiYoVCs9MSkpfWVsc2VcImluc3RydW1lbnRcIj09PWUubmFtZT9lLmZpcnN0QXR0cmlidXRlJiYoUD1lLmZpcnN0QXR0cmlidXRlLnZhbHVlKTpcIm5vdGVoZWFkXCI9PT1lLm5hbWUmJihMPWUudmFsdWUsbnVsbCE9PWUuYXR0cmlidXRlKFwiZmlsbGVkXCIpJiYoQT1cInllc1wiPT09ZS5hdHRyaWJ1dGUoXCJmaWxsZWRcIikudmFsdWUpKX1jYXRjaCh0KXt5LmRlZmF1bHQuaW5mbyhcIlZvaWNlR2VuZXJhdG9yLmFkZFNpbmdsZU5vdGU6IFwiLHQpfX1ULT14LlBpdGNoLk9jdGF2ZVhtbERpZmZlcmVuY2U7Y29uc3QgQz1uZXcgeC5QaXRjaCh3LFQsdiksUj1kLkZyYWN0aW9uLmNyZWF0ZUZyb21GcmFjdGlvbihlKTtsZXQgTj12b2lkIDAsQj0tMSxGPS0xO2NvbnN0IEQ9dC5lbGVtZW50KFwibm90YXRpb25zXCIpO2lmKEQpe2NvbnN0IHQ9RC5lbGVtZW50KFwidGVjaG5pY2FsXCIpO2lmKHQpe2NvbnN0IGU9dC5lbGVtZW50KFwic3RyaW5nXCIpO2UmJihCPXBhcnNlSW50KGUudmFsdWUsMTApKTtjb25zdCBpPXQuZWxlbWVudChcImZyZXRcIik7aSYmKEY9cGFyc2VJbnQoaS52YWx1ZSwxMCkpfX1yZXR1cm4gTj1CPDB8fEY8MD9uZXcgYS5Ob3RlKHRoaXMuY3VycmVudFZvaWNlRW50cnksdGhpcy5jdXJyZW50U3RhZmZFbnRyeSxSLEMpOm5ldyBNLlRhYk5vdGUodGhpcy5jdXJyZW50Vm9pY2VFbnRyeSx0aGlzLmN1cnJlbnRTdGFmZkVudHJ5LFIsQyxCLEYpLE4uVHlwZUxlbmd0aD1zLE4uTm90ZVR5cGVYbWw9aSxOLk5vcm1hbE5vdGVzPW4sTi5QcmludE9iamVjdD1oLE4uSXNDdWVOb3RlPWwsTi5TdGVtRGlyZWN0aW9uWG1sPWMsTi5UcmVtb2xvU3Ryb2tlcz11LCh2b2lkIDAhPT1MJiZcIm5vcm1hbFwiIT09THx8dm9pZCAwIT09QSkmJihOLk5vdGVoZWFkPW5ldyBfLk5vdGVoZWFkKE4sTCxBKSksTi5Ob3RlaGVhZENvbG9yWG1sPVMsTi5Ob3RlaGVhZENvbG9yPVMsTi5QbGF5YmFja0luc3RydW1lbnRJZD1QLHRoaXMuY3VycmVudFZvaWNlRW50cnkuTm90ZXMucHVzaChOKSx0aGlzLmN1cnJlbnRWb2ljZUVudHJ5LlN0ZW1EaXJlY3Rpb25YbWw9YyxtJiYodGhpcy5jdXJyZW50Vm9pY2VFbnRyeS5TdGVtQ29sb3JYbWw9bSx0aGlzLmN1cnJlbnRWb2ljZUVudHJ5LlN0ZW1Db2xvcj1tLE4uU3RlbUNvbG9yWG1sPW0pLHQuZWxlbWVudHMoXCJiZWFtXCIpJiYhciYmdGhpcy5jcmVhdGVCZWFtKHQsTiksTn1hZGRSZXN0Tm90ZSh0LGUsaSxzLG4pe2NvbnN0IHI9ZC5GcmFjdGlvbi5jcmVhdGVGcm9tRnJhY3Rpb24odCksbz1uZXcgYS5Ob3RlKHRoaXMuY3VycmVudFZvaWNlRW50cnksdGhpcy5jdXJyZW50U3RhZmZFbnRyeSxyLHZvaWQgMCk7cmV0dXJuIG8uTm90ZVR5cGVYbWw9ZSxvLlByaW50T2JqZWN0PWksby5Jc0N1ZU5vdGU9cyxvLk5vdGVoZWFkQ29sb3JYbWw9bixvLk5vdGVoZWFkQ29sb3I9bix0aGlzLmN1cnJlbnRWb2ljZUVudHJ5Lk5vdGVzLnB1c2gobyksdGhpcy5vcGVuQmVhbSYmdGhpcy5vcGVuQmVhbS5FeHRlbmRlZE5vdGVMaXN0LnB1c2gobyksb31jcmVhdGVCZWFtKHQsZSl7dHJ5e2NvbnN0IGk9dC5lbGVtZW50KFwiYmVhbVwiKTtsZXQgcz12b2lkIDA7aWYodm9pZCAwIT09aSYmaS5oYXNBdHRyaWJ1dGVzJiYocz1pLmF0dHJpYnV0ZShcIm51bWJlclwiKSkscyl7Y29uc3QgaT1wYXJzZUludChzLnZhbHVlLDEwKSxuPXQuZWxlbWVudHMoXCJiZWFtXCIpLHI9blswXS52YWx1ZTsxPT09aSYmbiYmKFwiYmVnaW5cIj09PXImJnRoaXMubGFzdEJlYW1UYWchPT1yJiYodGhpcy5vcGVuQmVhbSYmdGhpcy5oYW5kbGVPcGVuQmVhbSgpLHRoaXMub3BlbkJlYW09bmV3IGwuQmVhbSksdGhpcy5sYXN0QmVhbVRhZz1yKTtsZXQgbz0hMTtpZighdGhpcy5vcGVuQmVhbSlyZXR1cm47Zm9yKGxldCB0PTAsZT10aGlzLm9wZW5CZWFtLk5vdGVzLmxlbmd0aDt0PGU7Kyt0KXtjb25zdCBlPXRoaXMub3BlbkJlYW0uTm90ZXNbdF07dGhpcy5jdXJyZW50Vm9pY2VFbnRyeT09PWUuUGFyZW50Vm9pY2VFbnRyeSYmKG89ITApfW98fCh0aGlzLm9wZW5CZWFtLmFkZE5vdGVUb0JlYW0oZSksXCJlbmRcIj09PXImJjE9PT1pJiYodGhpcy5vcGVuQmVhbT12b2lkIDApKX19Y2F0Y2godCl7Y29uc3QgZT1mLklUZXh0VHJhbnNsYXRpb24udHJhbnNsYXRlVGV4dChcIlJlYWRlckVycm9yTWVzc2FnZXMvQmVhbUVycm9yXCIsXCJFcnJvciB3aGlsZSByZWFkaW5nIGJlYW0uXCIpO3Rocm93IHRoaXMubXVzaWNTaGVldC5TaGVldEVycm9ycy5wdXNoTWVhc3VyZUVycm9yKGUpLG5ldyBwLk11c2ljU2hlZXRSZWFkaW5nRXhjZXB0aW9uKFwiXCIsdCl9fWhhbmRsZU9wZW5CZWFtKCl7aWYoMT09PXRoaXMub3BlbkJlYW0uTm90ZXMubGVuZ3RoKXtyZXR1cm4gdGhpcy5vcGVuQmVhbS5Ob3Rlc1swXS5Ob3RlQmVhbT12b2lkIDAsdm9pZCh0aGlzLm9wZW5CZWFtPXZvaWQgMCl9aWYodGhpcy5jdXJyZW50Tm90ZT09PUUuQ29sbGVjdGlvblV0aWwubGFzdCh0aGlzLm9wZW5CZWFtLk5vdGVzKSl0aGlzLm9wZW5CZWFtPXZvaWQgMDtlbHNle2NvbnN0IHQ9RS5Db2xsZWN0aW9uVXRpbC5sYXN0KHRoaXMub3BlbkJlYW0uTm90ZXMpLlBhcmVudFN0YWZmRW50cnksZT10aGlzLmN1cnJlbnRNZWFzdXJlLmdldFZlcnRpY2FsQ29udGFpbmVySW5kZXhCeVRpbWVzdGFtcCh0LlRpbWVzdGFtcCksaT10LlZlcnRpY2FsQ29udGFpbmVyUGFyZW50LlN0YWZmRW50cmllcy5pbmRleE9mKHQpO2lmKGU8dGhpcy5jdXJyZW50TWVhc3VyZS5WZXJ0aWNhbFNvdXJjZVN0YWZmRW50cnlDb250YWluZXJzLmxlbmd0aC0xKXtjb25zdCB0PXRoaXMuY3VycmVudE1lYXN1cmUuVmVydGljYWxTb3VyY2VTdGFmZkVudHJ5Q29udGFpbmVyc1tlKzFdLlN0YWZmRW50cmllc1tpXTtpZih0KWZvcihsZXQgZT0wLGk9dC5Wb2ljZUVudHJpZXMubGVuZ3RoO2U8aTsrK2Upe2NvbnN0IGk9dC5Wb2ljZUVudHJpZXNbZV07aWYoaS5QYXJlbnRWb2ljZT09PXRoaXMudm9pY2Upe2NvbnN0IHQ9aS5Ob3Rlc1swXTt0Lkxlbmd0aC5sdGUobmV3IGQuRnJhY3Rpb24oMSw4KSk/KHRoaXMub3BlbkJlYW0uYWRkTm90ZVRvQmVhbSh0KSx0aGlzLm9wZW5CZWFtPXZvaWQgMCk6dGhpcy5vcGVuQmVhbT12b2lkIDB9fX1lbHNlIHRoaXMub3BlbkJlYW09dm9pZCAwfX1hZGRUdXBsZXQodCxlKXtsZXQgaT0hMTtpZih2b2lkIDAhPT1lJiZlLmxlbmd0aD4xKXtsZXQgcz10LmVsZW1lbnQoXCJ0aW1lLW1vZGlmaWNhdGlvblwiKTtzJiYocz1zLmVsZW1lbnQoXCJhY3R1YWwtbm90ZXNcIikpO2NvbnN0IG49ZTtmb3IobGV0IGU9MCxyPW4ubGVuZ3RoO2U8cjsrK2Upe2NvbnN0IHI9bltlXTtpZih2b2lkIDAhPT1yJiZyLmF0dHJpYnV0ZXMoKSl7Y29uc3QgZT1yLmF0dHJpYnV0ZShcImJyYWNrZXRcIik7ZSYmXCJ5ZXNcIj09PWUudmFsdWUmJihpPSEwKTtjb25zdCBuPXIuYXR0cmlidXRlKFwidHlwZVwiKTtpZihuJiZcInN0YXJ0XCI9PT1uLnZhbHVlKXtsZXQgZT0xO3IuYXR0cmlidXRlKFwibnVtYmVyXCIpJiYoZT1wYXJzZUludChyLmF0dHJpYnV0ZShcIm51bWJlclwiKS52YWx1ZSwxMCkpO2xldCBuPTA7aWYocyYmKG49cGFyc2VJbnQocy52YWx1ZSwxMCksaXNOYU4obikpKXtjb25zdCB0PWYuSVRleHRUcmFuc2xhdGlvbi50cmFuc2xhdGVUZXh0KFwiUmVhZGVyRXJyb3JNZXNzYWdlcy9UdXBsZXROb3RlRHVyYXRpb25FcnJvclwiLFwiSW52YWxpZCB0dXBsZXQgbm90ZSBkdXJhdGlvbi5cIik7dGhyb3cgdGhpcy5tdXNpY1NoZWV0LlNoZWV0RXJyb3JzLnB1c2hNZWFzdXJlRXJyb3IodCksbmV3IHAuTXVzaWNTaGVldFJlYWRpbmdFeGNlcHRpb24odCx2b2lkIDApfWNvbnN0IG89bmV3IHUuVHVwbGV0KG4saSk7dGhpcy50dXBsZXREaWN0W2VdJiYoZGVsZXRlIHRoaXMudHVwbGV0RGljdFtlXSwwPT09T2JqZWN0LmtleXModGhpcy50dXBsZXREaWN0KS5sZW5ndGg/dGhpcy5vcGVuVHVwbGV0TnVtYmVyPTA6T2JqZWN0LmtleXModGhpcy50dXBsZXREaWN0KS5sZW5ndGg+MSYmdGhpcy5vcGVuVHVwbGV0TnVtYmVyLS0pLHRoaXMudHVwbGV0RGljdFtlXT1vO2NvbnN0IGE9W107YS5wdXNoKHRoaXMuY3VycmVudE5vdGUpLG8uTm90ZXMucHVzaChhKSxvLkZyYWN0aW9ucy5wdXNoKHRoaXMuZ2V0VHVwbGV0Tm90ZUR1cmF0aW9uRnJvbVR5cGUodCkpLHRoaXMuY3VycmVudE5vdGUuTm90ZVR1cGxldD1vLHRoaXMub3BlblR1cGxldE51bWJlcj1lfWVsc2UgaWYoXCJzdG9wXCI9PT1uLnZhbHVlKXtsZXQgZT0xO3IuYXR0cmlidXRlKFwibnVtYmVyXCIpJiYoZT1wYXJzZUludChyLmF0dHJpYnV0ZShcIm51bWJlclwiKS52YWx1ZSwxMCkpO2NvbnN0IGk9dGhpcy50dXBsZXREaWN0W2VdO2lmKGkpe2NvbnN0IHM9W107cy5wdXNoKHRoaXMuY3VycmVudE5vdGUpLGkuTm90ZXMucHVzaChzKSxpLkZyYWN0aW9ucy5wdXNoKHRoaXMuZ2V0VHVwbGV0Tm90ZUR1cmF0aW9uRnJvbVR5cGUodCkpLHRoaXMuY3VycmVudE5vdGUuTm90ZVR1cGxldD1pLGRlbGV0ZSB0aGlzLnR1cGxldERpY3RbZV0sMD09PU9iamVjdC5rZXlzKHRoaXMudHVwbGV0RGljdCkubGVuZ3RoP3RoaXMub3BlblR1cGxldE51bWJlcj0wOk9iamVjdC5rZXlzKHRoaXMudHVwbGV0RGljdCkubGVuZ3RoPjEmJnRoaXMub3BlblR1cGxldE51bWJlci0tfX19fX1lbHNlIGlmKGVbMF0pe2NvbnN0IHM9ZVswXTtpZihzLmhhc0F0dHJpYnV0ZXMpe2NvbnN0IGU9cy5hdHRyaWJ1dGUoXCJ0eXBlXCIpLnZhbHVlO2xldCBuPTE7cy5hdHRyaWJ1dGUoXCJudW1iZXJcIikmJihuPXBhcnNlSW50KHMuYXR0cmlidXRlKFwibnVtYmVyXCIpLnZhbHVlLDEwKSk7Y29uc3Qgcj1pc05hTihuKSxvPXMuYXR0cmlidXRlKFwiYnJhY2tldFwiKTtpZihvJiZcInllc1wiPT09by52YWx1ZSYmKGk9ITApLFwic3RhcnRcIj09PWUpe2xldCBlPTAscz10LmVsZW1lbnQoXCJ0aW1lLW1vZGlmaWNhdGlvblwiKTtpZihzJiYocz1zLmVsZW1lbnQoXCJhY3R1YWwtbm90ZXNcIikpLHMmJihlPXBhcnNlSW50KHMudmFsdWUsMTApLGlzTmFOKGUpKSl7Y29uc3QgdD1mLklUZXh0VHJhbnNsYXRpb24udHJhbnNsYXRlVGV4dChcIlJlYWRlckVycm9yTWVzc2FnZXMvVHVwbGV0Tm90ZUR1cmF0aW9uRXJyb3JcIixcIkludmFsaWQgdHVwbGV0IG5vdGUgZHVyYXRpb24uXCIpO3Rocm93IHRoaXMubXVzaWNTaGVldC5TaGVldEVycm9ycy5wdXNoTWVhc3VyZUVycm9yKHQpLG5ldyBwLk11c2ljU2hlZXRSZWFkaW5nRXhjZXB0aW9uKHQpfXImJih0aGlzLm9wZW5UdXBsZXROdW1iZXIrKyxuPXRoaXMub3BlblR1cGxldE51bWJlcik7bGV0IG89dGhpcy50dXBsZXREaWN0W25dO298fChvPXRoaXMudHVwbGV0RGljdFtuXT1uZXcgdS5UdXBsZXQoZSxpKSk7Y29uc3QgYT1bXTthLnB1c2godGhpcy5jdXJyZW50Tm90ZSksby5Ob3Rlcy5wdXNoKGEpLG8uRnJhY3Rpb25zLnB1c2godGhpcy5nZXRUdXBsZXROb3RlRHVyYXRpb25Gcm9tVHlwZSh0KSksdGhpcy5jdXJyZW50Tm90ZS5Ob3RlVHVwbGV0PW8sdGhpcy5vcGVuVHVwbGV0TnVtYmVyPW59ZWxzZSBpZihcInN0b3BcIj09PWUpe3ImJihuPXRoaXMub3BlblR1cGxldE51bWJlcik7Y29uc3QgZT10aGlzLnR1cGxldERpY3RbdGhpcy5vcGVuVHVwbGV0TnVtYmVyXTtpZihlKXtjb25zdCBpPVtdO2kucHVzaCh0aGlzLmN1cnJlbnROb3RlKSxlLk5vdGVzLnB1c2goaSksZS5GcmFjdGlvbnMucHVzaCh0aGlzLmdldFR1cGxldE5vdGVEdXJhdGlvbkZyb21UeXBlKHQpKSx0aGlzLmN1cnJlbnROb3RlLk5vdGVUdXBsZXQ9ZSwwPT09T2JqZWN0LmtleXModGhpcy50dXBsZXREaWN0KS5sZW5ndGg/dGhpcy5vcGVuVHVwbGV0TnVtYmVyPTA6T2JqZWN0LmtleXModGhpcy50dXBsZXREaWN0KS5sZW5ndGg+MSYmdGhpcy5vcGVuVHVwbGV0TnVtYmVyLS0sZGVsZXRlIHRoaXMudHVwbGV0RGljdFtuXX19fX1yZXR1cm4gdGhpcy5vcGVuVHVwbGV0TnVtYmVyfWhhbmRsZVRpbWVNb2RpZmljYXRpb25Ob2RlKHQpe2lmKHRoaXMudHVwbGV0RGljdFt0aGlzLm9wZW5UdXBsZXROdW1iZXJdKXRyeXtjb25zdCBlPXRoaXMudHVwbGV0RGljdFt0aGlzLm9wZW5UdXBsZXROdW1iZXJdLGk9RS5Db2xsZWN0aW9uVXRpbC5sYXN0KGUuTm90ZXMpO2xldCBzO2lbMF0uUGFyZW50Vm9pY2VFbnRyeS5UaW1lc3RhbXAuRXF1YWxzKHRoaXMuY3VycmVudFZvaWNlRW50cnkuVGltZXN0YW1wKT9zPWk6KHM9W10sZS5Ob3Rlcy5wdXNoKHMpLGUuRnJhY3Rpb25zLnB1c2godGhpcy5nZXRUdXBsZXROb3RlRHVyYXRpb25Gcm9tVHlwZSh0KSkpLHMucHVzaCh0aGlzLmN1cnJlbnROb3RlKSx0aGlzLmN1cnJlbnROb3RlLk5vdGVUdXBsZXQ9ZX1jYXRjaCh0KXtjb25zdCBlPWYuSVRleHRUcmFuc2xhdGlvbi50cmFuc2xhdGVUZXh0KFwiUmVhZGVyRXJyb3JNZXNzYWdlcy9UdXBsZXROdW1iZXJFcnJvclwiLFwiSW52YWxpZCB0dXBsZXQgbnVtYmVyLlwiKTt0aHJvdyB0aGlzLm11c2ljU2hlZXQuU2hlZXRFcnJvcnMucHVzaE1lYXN1cmVFcnJvcihlKSx0fWVsc2UgaWYodGhpcy5jdXJyZW50Vm9pY2VFbnRyeS5Ob3Rlcy5sZW5ndGg+MCl7Y29uc3QgdD10aGlzLmN1cnJlbnRWb2ljZUVudHJ5Lk5vdGVzWzBdO2lmKHQuTm90ZVR1cGxldCl7Y29uc3QgZT10Lk5vdGVUdXBsZXQ7RS5Db2xsZWN0aW9uVXRpbC5sYXN0KGUuTm90ZXMpLnB1c2godGhpcy5jdXJyZW50Tm90ZSksdGhpcy5jdXJyZW50Tm90ZS5Ob3RlVHVwbGV0PWV9fX1hZGRUaWUodCxlLGkpe2lmKHQpaWYoMT09PXQubGVuZ3RoKXtjb25zdCBlPXRbMF07aWYodm9pZCAwIT09ZSYmZS5hdHRyaWJ1dGVzKCkpe2NvbnN0IHQ9ZS5hdHRyaWJ1dGUoXCJ0eXBlXCIpLnZhbHVlO3RyeXtpZihcInN0YXJ0XCI9PT10KXtjb25zdCB0PXRoaXMuZmluZEN1cnJlbnROb3RlSW5UaWVEaWN0KHRoaXMuY3VycmVudE5vdGUpO3Q8MCYmZGVsZXRlIHRoaXMub3BlblRpZURpY3RbdF07Y29uc3QgZT10aGlzLmdldE5leHRBdmFpbGFibGVOdW1iZXJGb3JUaWUoKSxpPW5ldyBjLlRpZSh0aGlzLmN1cnJlbnROb3RlKTt0aGlzLm9wZW5UaWVEaWN0W2VdPWl9ZWxzZSBpZihcInN0b3BcIj09PXQpe2NvbnN0IHQ9dGhpcy5maW5kQ3VycmVudE5vdGVJblRpZURpY3QodGhpcy5jdXJyZW50Tm90ZSksZT10aGlzLm9wZW5UaWVEaWN0W3RdO2UmJihlLkFkZE5vdGUodGhpcy5jdXJyZW50Tm90ZSksaS5sdChkLkZyYWN0aW9uLnBsdXModGhpcy5jdXJyZW50U3RhZmZFbnRyeS5UaW1lc3RhbXAsdGhpcy5jdXJyZW50Tm90ZS5MZW5ndGgpKSYmKGk9ZC5GcmFjdGlvbi5wbHVzKHRoaXMuY3VycmVudFN0YWZmRW50cnkuVGltZXN0YW1wLHRoaXMuY3VycmVudE5vdGUuTGVuZ3RoKSksZGVsZXRlIHRoaXMub3BlblRpZURpY3RbdF0pfX1jYXRjaCh0KXtjb25zdCBlPWYuSVRleHRUcmFuc2xhdGlvbi50cmFuc2xhdGVUZXh0KFwiUmVhZGVyRXJyb3JNZXNzYWdlcy9UaWVFcnJvclwiLFwiRXJyb3Igd2hpbGUgcmVhZGluZyB0aWUuXCIpO3RoaXMubXVzaWNTaGVldC5TaGVldEVycm9ycy5wdXNoTWVhc3VyZUVycm9yKGUpfX19ZWxzZSBpZigyPT09dC5sZW5ndGgpe2NvbnN0IHQ9dGhpcy5maW5kQ3VycmVudE5vdGVJblRpZURpY3QodGhpcy5jdXJyZW50Tm90ZSk7aWYodD49MCl7dGhpcy5vcGVuVGllRGljdFt0XS5BZGROb3RlKHRoaXMuY3VycmVudE5vdGUpLGkubHQoZC5GcmFjdGlvbi5wbHVzKHRoaXMuY3VycmVudFN0YWZmRW50cnkuVGltZXN0YW1wLHRoaXMuY3VycmVudE5vdGUuTGVuZ3RoKSkmJihpPWQuRnJhY3Rpb24ucGx1cyh0aGlzLmN1cnJlbnRTdGFmZkVudHJ5LlRpbWVzdGFtcCx0aGlzLmN1cnJlbnROb3RlLkxlbmd0aCkpfX19Z2V0TmV4dEF2YWlsYWJsZU51bWJlckZvclRpZSgpe2NvbnN0IHQ9T2JqZWN0LmtleXModGhpcy5vcGVuVGllRGljdCk7aWYoMD09PXQubGVuZ3RoKXJldHVybiAxO3Quc29ydCgodCxlKT0+K3QtK2UpO2ZvcihsZXQgZT0wO2U8dC5sZW5ndGg7ZSsrKWlmKFwiXCIrKGUrMSkhPT10W2VdKXJldHVybiBlKzE7cmV0dXJuK3RbdC5sZW5ndGgtMV0rMX1maW5kQ3VycmVudE5vdGVJblRpZURpY3QodCl7Y29uc3QgZT10aGlzLm9wZW5UaWVEaWN0O2Zvcihjb25zdCBpIGluIGUpaWYoZS5oYXNPd25Qcm9wZXJ0eShpKSl7Y29uc3Qgcz1lW2ldO2lmKHMuUGl0Y2guRnVuZGFtZW50YWxOb3RlPT09dC5QaXRjaC5GdW5kYW1lbnRhbE5vdGUmJnMuUGl0Y2guT2N0YXZlPT09dC5QaXRjaC5PY3RhdmUpcmV0dXJuK2l9cmV0dXJuLTF9Z2V0VHVwbGV0Tm90ZUR1cmF0aW9uRnJvbVR5cGUodCl7aWYodC5lbGVtZW50KFwidHlwZVwiKSl7Y29uc3QgZT10LmVsZW1lbnQoXCJ0eXBlXCIpO2lmKGUpe2NvbnN0IHQ9ZS52YWx1ZTt0cnl7cmV0dXJuIHRoaXMuZ2V0Tm90ZUR1cmF0aW9uRnJvbVR5cGUodCl9Y2F0Y2godCl7Y29uc3QgZT1mLklUZXh0VHJhbnNsYXRpb24udHJhbnNsYXRlVGV4dChcIlJlYWRlckVycm9yTWVzc2FnZXMvTm90ZUR1cmF0aW9uRXJyb3JcIixcIkludmFsaWQgbm90ZSBkdXJhdGlvbi5cIik7dGhyb3cgdGhpcy5tdXNpY1NoZWV0LlNoZWV0RXJyb3JzLnB1c2hNZWFzdXJlRXJyb3IoZSksbmV3IHAuTXVzaWNTaGVldFJlYWRpbmdFeGNlcHRpb24oXCJcIix0KX19fX19fSxmdW5jdGlvbih0LGUsaSl7XCJ1c2Ugc3RyaWN0XCI7T2JqZWN0LmRlZmluZVByb3BlcnR5KGUsXCJfX2VzTW9kdWxlXCIse3ZhbHVlOiEwfSk7Y29uc3Qgcz1pKDE4Myksbj1pKDE4NCkscj1pKDI3KTtlLkx5cmljc1JlYWRlcj1jbGFzc3tjb25zdHJ1Y3Rvcih0KXt0aGlzLm9wZW5MeXJpY1dvcmRzPXt9LHRoaXMubXVzaWNTaGVldD10fWFkZEx5cmljRW50cnkodCxlKXtpZih0KXtjb25zdCBpPXQ7Zm9yKGxldCB0PTAsbz1pLmxlbmd0aDt0PG87Kyt0KXtjb25zdCBvPWlbdF07dHJ5e2xldCB0PVwic2luZ2xlXCI7aWYoby5lbGVtZW50KFwidGV4dFwiKSl7bGV0IGk9by5lbGVtZW50KFwidGV4dFwiKTtpZihvLmVsZW1lbnQoXCJzeWxsYWJpY1wiKSYmKHQ9by5lbGVtZW50KFwic3lsbGFiaWNcIikudmFsdWUpLGkpe2NvbnN0IGE9aS52YWx1ZTtpZih2b2lkIDAhPT1vLmVsZW1lbnQoXCJlbGlzaW9uXCIpJiZcIi1cIj09PWEpe2NvbnN0IGU9by5lbGVtZW50cygpO2xldCBzPTA7Zm9yKGxldCB0PTA7dDxlLmxlbmd0aDt0Kyspe2lmKFwiZWxpc2lvblwiPT09ZVt0XS5uYW1lKXtzPXQ7YnJlYWt9fWxldCBuPXZvaWQgMCxyPXZvaWQgMDtpZihzPjApZm9yKGxldCB0PXM7dDxlLmxlbmd0aDt0Kyspe2NvbnN0IGk9ZVt0XTtcInRleHRcIj09PWkubmFtZSYmKG49aSksXCJzeWxsYWJpY1wiPT09aS5uYW1lJiYocj1pKX12b2lkIDAhPT1uJiZyJiYoaT1uLHQ9XCJtaWRkbGVcIil9bGV0IGg9MSxsPSExO2lmKHZvaWQgMCE9PW8uYXR0cmlidXRlcygpJiZvLmF0dHJpYnV0ZShcIm51bWJlclwiKSl7dHJ5e2g9cGFyc2VJbnQoby5hdHRyaWJ1dGUoXCJudW1iZXJcIikudmFsdWUsMTApfWNhdGNoKHQpe2w9ITB9aWYobD1sfHxpc05hTihoKSxsKXRyeXtjb25zdCB0PW8uYXR0cmlidXRlKFwibnVtYmVyXCIpLnZhbHVlLnRvTG93ZXJDYXNlKCkuc3BsaXQoXCJ2ZXJzZVwiKTt0Lmxlbmd0aD4xJiYoaD1wYXJzZUludCh0WzFdLDEwKSl9Y2F0Y2godCl7Y29uc3QgZT1yLklUZXh0VHJhbnNsYXRpb24udHJhbnNsYXRlVGV4dChcIlJlYWRlckVycm9yTWVzc2FnZXMvTHlyaWNWZXJzZU51bWJlckVycm9yXCIsXCJJbnZhbGlkIGx5cmljIHZlcnNlIG51bWJlclwiKTt0aGlzLm11c2ljU2hlZXQuU2hlZXRFcnJvcnMucHVzaE1lYXN1cmVFcnJvcihlKTtjb250aW51ZX19bGV0IGM9dm9pZCAwO2lmKFwic2luZ2xlXCI9PT10fHxcImVuZFwiPT09dCl7aWYodGhpcy5vcGVuTHlyaWNXb3Jkc1toXSl7dGhpcy5jdXJyZW50THlyaWNXb3JkPXRoaXMub3Blbkx5cmljV29yZHNbaF07Y29uc3QgdD10aGlzLmN1cnJlbnRMeXJpY1dvcmQuU3lsbGFibGVzLmxlbmd0aDtjPW5ldyBuLkx5cmljc0VudHJ5KGEsaCx0aGlzLmN1cnJlbnRMeXJpY1dvcmQsZSx0KSx0aGlzLmN1cnJlbnRMeXJpY1dvcmQuU3lsbGFibGVzLnB1c2goYyksZGVsZXRlIHRoaXMub3Blbkx5cmljV29yZHNbaF0sdGhpcy5jdXJyZW50THlyaWNXb3JkPXZvaWQgMH1lbHNlIGM9bmV3IG4uTHlyaWNzRW50cnkoYSxoLHZvaWQgMCxlKTtjLmV4dGVuZD12b2lkIDAhPT1vLmVsZW1lbnQoXCJleHRlbmRcIil9ZWxzZSBpZihcImJlZ2luXCI9PT10KXRoaXMub3Blbkx5cmljV29yZHNbaF0mJihkZWxldGUgdGhpcy5vcGVuTHlyaWNXb3Jkc1toXSx0aGlzLmN1cnJlbnRMeXJpY1dvcmQ9dm9pZCAwKSx0aGlzLmN1cnJlbnRMeXJpY1dvcmQ9bmV3IHMuTHlyaWNXb3JkLHRoaXMub3Blbkx5cmljV29yZHNbaF09dGhpcy5jdXJyZW50THlyaWNXb3JkLGM9bmV3IG4uTHlyaWNzRW50cnkoYSxoLHRoaXMuY3VycmVudEx5cmljV29yZCxlLDApLHRoaXMuY3VycmVudEx5cmljV29yZC5TeWxsYWJsZXMucHVzaChjKTtlbHNlIGlmKFwibWlkZGxlXCI9PT10KWlmKHRoaXMub3Blbkx5cmljV29yZHNbaF0pe3RoaXMuY3VycmVudEx5cmljV29yZD10aGlzLm9wZW5MeXJpY1dvcmRzW2hdO2NvbnN0IHQ9dGhpcy5jdXJyZW50THlyaWNXb3JkLlN5bGxhYmxlcy5sZW5ndGg7Yz1uZXcgbi5MeXJpY3NFbnRyeShhLGgsdGhpcy5jdXJyZW50THlyaWNXb3JkLGUsdCksdGhpcy5jdXJyZW50THlyaWNXb3JkLlN5bGxhYmxlcy5wdXNoKGMpfWVsc2UgYz1uZXcgbi5MeXJpY3NFbnRyeShhLGgsdm9pZCAwLGUpO2MmJihlLkx5cmljc0VudHJpZXNbaF18fGUuTHlyaWNzRW50cmllcy5zZXRWYWx1ZShoLGMpLGUuUGFyZW50Vm9pY2UuUGFyZW50Lkx5cmljVmVyc2VzTnVtYmVyc1toXXx8ZS5QYXJlbnRWb2ljZS5QYXJlbnQuTHlyaWNWZXJzZXNOdW1iZXJzLnB1c2goaCkpfX19Y2F0Y2godCl7Y29uc3QgZT1yLklUZXh0VHJhbnNsYXRpb24udHJhbnNsYXRlVGV4dChcIlJlYWRlckVycm9yTWVzc2FnZXMvTHlyaWNFcnJvclwiLFwiRXJyb3Igd2hpbGUgcmVhZGluZyBseXJpYyBlbnRyeS5cIik7dGhpcy5tdXNpY1NoZWV0LlNoZWV0RXJyb3JzLnB1c2hNZWFzdXJlRXJyb3IoZSk7Y29udGludWV9fWUuUGFyZW50Vm9pY2UuUGFyZW50Lkx5cmljVmVyc2VzTnVtYmVycz1lLlBhcmVudFZvaWNlLlBhcmVudC5MeXJpY1ZlcnNlc051bWJlcnMuZmlsdGVyKCh0LGUsaSk9PmkuaW5kZXhPZih0KT09PWUpfX19fSxmdW5jdGlvbih0LGUsaSl7XCJ1c2Ugc3RyaWN0XCI7dmFyIHM9dGhpcyYmdGhpcy5fX2ltcG9ydERlZmF1bHR8fGZ1bmN0aW9uKHQpe3JldHVybiB0JiZ0Ll9fZXNNb2R1bGU/dDp7ZGVmYXVsdDp0fX07T2JqZWN0LmRlZmluZVByb3BlcnR5KGUsXCJfX2VzTW9kdWxlXCIse3ZhbHVlOiEwfSk7Y29uc3Qgbj1pKDE2KSxyPXMoaSgxKSksbz1pKDc0KSxhPWkoNDYpLGg9aSg2KSxsPWkoMik7ZS5BcnRpY3VsYXRpb25SZWFkZXI9Y2xhc3N7Z2V0QWNjRW51bUZyb21TdHJpbmcodCl7c3dpdGNoKHQpe2Nhc2VcInNoYXJwXCI6cmV0dXJuIGwuQWNjaWRlbnRhbEVudW0uU0hBUlA7Y2FzZVwiZmxhdFwiOnJldHVybiBsLkFjY2lkZW50YWxFbnVtLkZMQVQ7Y2FzZVwibmF0dXJhbFwiOnJldHVybiBsLkFjY2lkZW50YWxFbnVtLk5BVFVSQUw7Y2FzZVwiZG91YmxlLXNoYXJwXCI6Y2FzZVwic2hhcnAtc2hhcnBcIjpyZXR1cm4gbC5BY2NpZGVudGFsRW51bS5ET1VCTEVTSEFSUDtjYXNlXCJkb3VibGUtZmxhdFwiOmNhc2VcImZsYXQtZmxhdFwiOnJldHVybiBsLkFjY2lkZW50YWxFbnVtLkRPVUJMRUZMQVQ7Y2FzZVwicXVhcnRlci1zaGFycFwiOnJldHVybiBsLkFjY2lkZW50YWxFbnVtLlFVQVJURVJUT05FU0hBUlA7Y2FzZVwicXVhcnRlci1mbGF0XCI6cmV0dXJuIGwuQWNjaWRlbnRhbEVudW0uUVVBUlRFUlRPTkVGTEFUO2Nhc2VcInRyaXBsZS1zaGFycFwiOnJldHVybiBsLkFjY2lkZW50YWxFbnVtLlRSSVBMRVNIQVJQO2Nhc2VcInRyaXBsZS1mbGF0XCI6cmV0dXJuIGwuQWNjaWRlbnRhbEVudW0uVFJJUExFRkxBVDtkZWZhdWx0OnJldHVybiBsLkFjY2lkZW50YWxFbnVtLk5PTkV9fWFkZEFydGljdWxhdGlvbkV4cHJlc3Npb24odCxlKXtpZih2b2lkIDAhPT10JiZ0LmVsZW1lbnRzKCkubGVuZ3RoPjApe2NvbnN0IGk9dC5lbGVtZW50cygpO2ZvcihsZXQgdD0wLHM9aS5sZW5ndGg7dDxzOysrdCl7Y29uc3Qgcz1pW3RdLm5hbWU7dHJ5e3MucmVwbGFjZShcIi1cIixcIlwiKTtjb25zdCB0PW4uQXJ0aWN1bGF0aW9uRW51bVtzXTtuLlZvaWNlRW50cnkuaXNTdXBwb3J0ZWRBcnRpY3VsYXRpb24odCkmJihcInN0YWNjYXRvXCI9PT1zJiZlLkFydGljdWxhdGlvbnMubGVuZ3RoPjAmJmUuQXJ0aWN1bGF0aW9uc1swXSE9PW4uQXJ0aWN1bGF0aW9uRW51bS5zdGFjY2F0byYmZS5BcnRpY3VsYXRpb25zLnNwbGljZSgwLDAsdCksLTE9PT1lLkFydGljdWxhdGlvbnMuaW5kZXhPZih0KSYmZS5BcnRpY3VsYXRpb25zLnB1c2godCkpfWNhdGNoKHQpe2NvbnN0IGU9XCJJbnZhbGlkIG5vdGUgYXJ0aWN1bGF0aW9uLlwiO3JldHVybiB2b2lkIHIuZGVmYXVsdC5kZWJ1ZyhcImFkZEFydGljdWxhdGlvbkV4cHJlc3Npb25cIixlLHQpfX19fWFkZEZlcm1hdGEodCxlKXtsZXQgaT1uLkFydGljdWxhdGlvbkVudW0uZmVybWF0YTt0LmF0dHJpYnV0ZXMoKS5sZW5ndGg+MCYmdC5hdHRyaWJ1dGUoXCJ0eXBlXCIpJiZcImludmVydGVkXCI9PT10LmF0dHJpYnV0ZShcInR5cGVcIikudmFsdWUmJihpPW4uQXJ0aWN1bGF0aW9uRW51bS5pbnZlcnRlZGZlcm1hdGEpLGUuQXJ0aWN1bGF0aW9ucy5wdXNoKGkpfWFkZFRlY2huaWNhbEFydGljdWxhdGlvbnModCxlKXtjb25zdCBpPXtcImRvd24tYm93XCI6bi5BcnRpY3VsYXRpb25FbnVtLmRvd25ib3csXCJvcGVuLXN0cmluZ1wiOm4uQXJ0aWN1bGF0aW9uRW51bS5uYXR1cmFsaGFybW9uaWMsXCJzbmFwLXBpenppY2F0b1wiOm4uQXJ0aWN1bGF0aW9uRW51bS5zbmFwcGl6emljYXRvLHN0b3BwZWQ6bi5BcnRpY3VsYXRpb25FbnVtLmxlZnRoYW5kcGl6emljYXRvLFwidXAtYm93XCI6bi5BcnRpY3VsYXRpb25FbnVtLnVwYm93fTtmb3IoY29uc3QgcyBpbiBpKXtpZighaS5oYXNPd25Qcm9wZXJ0eShzKSljb250aW51ZTtjb25zdCBuPWlbc107dC5lbGVtZW50KHMpJiYtMT09PWUuQXJ0aWN1bGF0aW9ucy5pbmRleE9mKG4pJiZlLkFydGljdWxhdGlvbnMucHVzaChuKX1jb25zdCBzPXQuZWxlbWVudChcImZpbmdlcmluZ1wiKTtpZihzKXtjb25zdCB0PW5ldyBvLlRlY2huaWNhbEluc3RydWN0aW9uO3QudHlwZT1vLlRlY2huaWNhbEluc3RydWN0aW9uVHlwZS5GaW5nZXJpbmcsdC52YWx1ZT1zLnZhbHVlLHQucGxhY2VtZW50PWguUGxhY2VtZW50RW51bS5Ob3RZZXREZWZpbmVkO2NvbnN0IGk9cy5hdHRyaWJ1dGUoXCJwbGFjZW1lbnRcIik7aWYobnVsbCE9aSlzd2l0Y2goaS52YWx1ZSl7Y2FzZVwiYWJvdmVcIjp0LnBsYWNlbWVudD1oLlBsYWNlbWVudEVudW0uQWJvdmU7YnJlYWs7Y2FzZVwiYmVsb3dcIjp0LnBsYWNlbWVudD1oLlBsYWNlbWVudEVudW0uQmVsb3c7YnJlYWs7Y2FzZVwibGVmdFwiOnQucGxhY2VtZW50PWguUGxhY2VtZW50RW51bS5MZWZ0O2JyZWFrO2Nhc2VcInJpZ2h0XCI6dC5wbGFjZW1lbnQ9aC5QbGFjZW1lbnRFbnVtLlJpZ2h0O2JyZWFrO2RlZmF1bHQ6dC5wbGFjZW1lbnQ9aC5QbGFjZW1lbnRFbnVtLk5vdFlldERlZmluZWR9ZS5UZWNobmljYWxJbnN0cnVjdGlvbnMucHVzaCh0KX19YWRkT3JuYW1lbnQodCxlKXtpZih0KXtsZXQgaT12b2lkIDA7Y29uc3Qgcz17XCJkZWxheWVkLWludmVydGVkLXR1cm5cIjphLk9ybmFtZW50RW51bS5EZWxheWVkSW52ZXJ0ZWRUdXJuLFwiZGVsYXllZC10dXJuXCI6YS5Pcm5hbWVudEVudW0uRGVsYXllZFR1cm4sXCJpbnZlcnRlZC1tb3JkZW50XCI6YS5Pcm5hbWVudEVudW0uSW52ZXJ0ZWRNb3JkZW50LFwiaW52ZXJ0ZWQtdHVyblwiOmEuT3JuYW1lbnRFbnVtLkludmVydGVkVHVybixtb3JkZW50OmEuT3JuYW1lbnRFbnVtLk1vcmRlbnQsXCJ0cmlsbC1tYXJrXCI6YS5Pcm5hbWVudEVudW0uVHJpbGwsdHVybjphLk9ybmFtZW50RW51bS5UdXJufTtmb3IoY29uc3QgZSBpbiBzKXtpZighcy5oYXNPd25Qcm9wZXJ0eShlKSljb250aW51ZTt0LmVsZW1lbnQoZSkmJihpPW5ldyBhLk9ybmFtZW50Q29udGFpbmVyKHNbZV0pKX1pZihpKXtjb25zdCBzPXQuZWxlbWVudHMoXCJhY2NpZGVudGFsLW1hcmtcIik7aWYocyl7bGV0IHQ9aC5QbGFjZW1lbnRFbnVtLkJlbG93LGU9bC5BY2NpZGVudGFsRW51bS5OT05FO2NvbnN0IG49cztmb3IobGV0IHM9MCxyPW4ubGVuZ3RoO3M8cjsrK3Mpe2NvbnN0IHI9bltzXTtsZXQgbz1yLnZhbHVlO2U9dGhpcy5nZXRBY2NFbnVtRnJvbVN0cmluZyhvKTtjb25zdCBhPXIuYXR0cmlidXRlKFwicGxhY2VtZW50XCIpO3IuaGFzQXR0cmlidXRlcyYmYSYmKG89YS52YWx1ZSxcImFib3ZlXCI9PT1vP3Q9aC5QbGFjZW1lbnRFbnVtLkFib3ZlOlwiYmVsb3dcIj09PW8mJih0PWguUGxhY2VtZW50RW51bS5CZWxvdykpLHQ9PT1oLlBsYWNlbWVudEVudW0uQWJvdmU/aS5BY2NpZGVudGFsQWJvdmU9ZTp0PT09aC5QbGFjZW1lbnRFbnVtLkJlbG93JiYoaS5BY2NpZGVudGFsQmVsb3c9ZSl9fWUuT3JuYW1lbnRDb250YWluZXI9aX19fX19LGZ1bmN0aW9uKHQsZSxpKXtcInVzZSBzdHJpY3RcIjt2YXIgcz10aGlzJiZ0aGlzLl9faW1wb3J0RGVmYXVsdHx8ZnVuY3Rpb24odCl7cmV0dXJuIHQmJnQuX19lc01vZHVsZT90OntkZWZhdWx0OnR9fTtPYmplY3QuZGVmaW5lUHJvcGVydHkoZSxcIl9fZXNNb2R1bGVcIix7dmFsdWU6ITB9KTtjb25zdCBuPWkoNDQpLHI9aSgyKSxvPWkoMjcpLGE9cyhpKDEpKTtlLkNob3JkU3ltYm9sUmVhZGVyPWNsYXNze3N0YXRpYyByZWFkQ2hvcmRTeW1ib2wodCxlLGkpe2NvbnN0IHM9dC5lbGVtZW50KFwicm9vdFwiKSxoPXQuZWxlbWVudChcImtpbmRcIiksbD1oLmF0dHJpYnV0ZShcInRleHRcIik7aWYoIXN8fCFoKXJldHVybjtjb25zdCBjPXMuZWxlbWVudChcInJvb3Qtc3RlcFwiKSx1PXMuZWxlbWVudChcInJvb3QtYWx0ZXJcIik7aWYoIWMpcmV0dXJuO2xldCBkO3RyeXtkPXIuTm90ZUVudW1bYy52YWx1ZS50cmltKCldfWNhdGNoKHQpe2NvbnN0IGk9by5JVGV4dFRyYW5zbGF0aW9uLnRyYW5zbGF0ZVRleHQoXCJSZWFkZXJFcnJvck1lc3NhZ2VzL0Nob3JkU3ltYm9sRXJyb3JcIixcIkludmFsaWQgY2hvcmQgc3ltYm9sXCIpO3JldHVybiBlLlNoZWV0RXJyb3JzLnB1c2hNZWFzdXJlRXJyb3IoaSksdm9pZCBhLmRlZmF1bHQuZGVidWcoXCJJbnN0cnVtZW50UmVhZGVyLnJlYWRDaG9yZFN5bWJvbFwiLGksdCl9bGV0IGY9ci5BY2NpZGVudGFsRW51bS5OT05FO2lmKHUpdHJ5e2Y9ci5QaXRjaC5BY2NpZGVudGFsRnJvbUhhbGZUb25lcyhwYXJzZUludCh1LnZhbHVlLHZvaWQgMCkpfWNhdGNoKHQpe2NvbnN0IGk9by5JVGV4dFRyYW5zbGF0aW9uLnRyYW5zbGF0ZVRleHQoXCJSZWFkZXJFcnJvck1lc3NhZ2VzL0Nob3JkU3ltYm9sRXJyb3JcIixcIkludmFsaWQgY2hvcmQgc3ltYm9sXCIpO2UuU2hlZXRFcnJvcnMucHVzaE1lYXN1cmVFcnJvcihpKSxhLmRlZmF1bHQuZGVidWcoXCJJbnN0cnVtZW50UmVhZGVyLnJlYWRDaG9yZFN5bWJvbFwiLGksdCl9Y29uc3QgbT1uZXcgci5QaXRjaChkLDEsZik7bGV0IHAsZz1oLnZhbHVlLnRyaW0oKS5yZXBsYWNlKFwiLVwiLFwiXCIpO2lmKGwpc3dpdGNoKGwudmFsdWUpe2Nhc2VcImF1Z1wiOmc9XCJhdWdtZW50ZWRcIjticmVhaztjYXNlXCJkaW1cIjpnPVwiZGltaW5pc2hlZFwifXRyeXtwPW4uQ2hvcmRTeW1ib2xFbnVtW2ddfWNhdGNoKHQpe2NvbnN0IGk9by5JVGV4dFRyYW5zbGF0aW9uLnRyYW5zbGF0ZVRleHQoXCJSZWFkZXJFcnJvck1lc3NhZ2VzL0Nob3JkU3ltYm9sRXJyb3JcIixcIkludmFsaWQgY2hvcmQgc3ltYm9sXCIpO3JldHVybiBlLlNoZWV0RXJyb3JzLnB1c2hNZWFzdXJlRXJyb3IoaSksdm9pZCBhLmRlZmF1bHQuZGVidWcoXCJJbnN0cnVtZW50UmVhZGVyLnJlYWRDaG9yZFN5bWJvbFwiLGksdCl9bGV0IGI9dm9pZCAwO2NvbnN0IFM9dC5lbGVtZW50KFwiYmFzc1wiKTtpZihTKXtjb25zdCB0PVMuZWxlbWVudChcImJhc3Mtc3RlcFwiKSxpPVMuZWxlbWVudChcImJhc3MtYWx0ZXJcIik7bGV0IHM9ci5Ob3RlRW51bS5DO2lmKHQpdHJ5e3M9ci5Ob3RlRW51bVt0LnZhbHVlLnRyaW0oKV19Y2F0Y2godCl7Y29uc3QgaT1vLklUZXh0VHJhbnNsYXRpb24udHJhbnNsYXRlVGV4dChcIlJlYWRlckVycm9yTWVzc2FnZXMvQ2hvcmRTeW1ib2xFcnJvclwiLFwiSW52YWxpZCBjaG9yZCBzeW1ib2xcIik7cmV0dXJuIGUuU2hlZXRFcnJvcnMucHVzaE1lYXN1cmVFcnJvcihpKSx2b2lkIGEuZGVmYXVsdC5kZWJ1ZyhcIkluc3RydW1lbnRSZWFkZXIucmVhZENob3JkU3ltYm9sXCIsaSx0KX1sZXQgbj1yLkFjY2lkZW50YWxFbnVtLk5PTkU7aWYoaSl0cnl7bj1yLlBpdGNoLkFjY2lkZW50YWxGcm9tSGFsZlRvbmVzKHBhcnNlSW50KGkudmFsdWUsdm9pZCAwKSl9Y2F0Y2godCl7Y29uc3QgaT1vLklUZXh0VHJhbnNsYXRpb24udHJhbnNsYXRlVGV4dChcIlJlYWRlckVycm9yTWVzc2FnZXMvQ2hvcmRTeW1ib2xFcnJvclwiLFwiSW52YWxpZCBjaG9yZCBzeW1ib2xcIik7ZS5TaGVldEVycm9ycy5wdXNoTWVhc3VyZUVycm9yKGkpLGEuZGVmYXVsdC5kZWJ1ZyhcIkluc3RydW1lbnRSZWFkZXIucmVhZENob3JkU3ltYm9sXCIsaSx0KX1iPW5ldyByLlBpdGNoKHMsMSxuKX1sZXQgeT12b2lkIDA7Y29uc3QgeD10LmVsZW1lbnQoXCJkZWdyZWVcIik7aWYoeCl7Y29uc3QgdD14LmVsZW1lbnQoXCJkZWdyZWUtdmFsdWVcIiksaT14LmVsZW1lbnQoXCJkZWdyZWUtYWx0ZXJcIikscz14LmVsZW1lbnQoXCJkZWdyZWUtdHlwZVwiKTtpZighdHx8IWl8fCFzKXJldHVybjtsZXQgaCxsLGM7dHJ5e2g9cGFyc2VJbnQodC52YWx1ZS50cmltKCksdm9pZCAwKX1jYXRjaCh0KXtjb25zdCBpPW8uSVRleHRUcmFuc2xhdGlvbi50cmFuc2xhdGVUZXh0KFwiUmVhZGVyRXJyb3JNZXNzYWdlcy9DaG9yZFN5bWJvbEVycm9yXCIsXCJJbnZhbGlkIGNob3JkIHN5bWJvbFwiKTtyZXR1cm4gZS5TaGVldEVycm9ycy5wdXNoTWVhc3VyZUVycm9yKGkpLHZvaWQgYS5kZWZhdWx0LmRlYnVnKFwiSW5zdHJ1bWVudFJlYWRlci5yZWFkQ2hvcmRTeW1ib2xcIixpLHQpfXRyeXtsPXIuUGl0Y2guQWNjaWRlbnRhbEZyb21IYWxmVG9uZXMocGFyc2VJbnQoaS52YWx1ZSx2b2lkIDApKX1jYXRjaCh0KXtjb25zdCBpPW8uSVRleHRUcmFuc2xhdGlvbi50cmFuc2xhdGVUZXh0KFwiUmVhZGVyRXJyb3JNZXNzYWdlcy9DaG9yZFN5bWJvbEVycm9yXCIsXCJJbnZhbGlkIGNob3JkIHN5bWJvbFwiKTtyZXR1cm4gZS5TaGVldEVycm9ycy5wdXNoTWVhc3VyZUVycm9yKGkpLHZvaWQgYS5kZWZhdWx0LmRlYnVnKFwiSW5zdHJ1bWVudFJlYWRlci5yZWFkQ2hvcmRTeW1ib2xcIixpLHQpfXRyeXtjPW4uQ2hvcmREZWdyZWVUZXh0W3MudmFsdWUudHJpbSgpLnRvTG93ZXJDYXNlKCldfWNhdGNoKHQpe2NvbnN0IGk9by5JVGV4dFRyYW5zbGF0aW9uLnRyYW5zbGF0ZVRleHQoXCJSZWFkZXJFcnJvck1lc3NhZ2VzL0Nob3JkU3ltYm9sRXJyb3JcIixcIkludmFsaWQgY2hvcmQgc3ltYm9sXCIpO3JldHVybiBlLlNoZWV0RXJyb3JzLnB1c2hNZWFzdXJlRXJyb3IoaSksdm9pZCBhLmRlZmF1bHQuZGVidWcoXCJJbnN0cnVtZW50UmVhZGVyLnJlYWRDaG9yZFN5bWJvbFwiLGksdCl9eT1uZXcgbi5EZWdyZWUoaCxsLGMpfXJldHVybiBuZXcgbi5DaG9yZFN5bWJvbENvbnRhaW5lcihtLHAsYix5LGUuUnVsZXMpfX19LGZ1bmN0aW9uKHQsZSxpKXtcInVzZSBzdHJpY3RcIjt2YXIgcz10aGlzJiZ0aGlzLl9faW1wb3J0RGVmYXVsdHx8ZnVuY3Rpb24odCl7cmV0dXJuIHQmJnQuX19lc01vZHVsZT90OntkZWZhdWx0OnR9fTtPYmplY3QuZGVmaW5lUHJvcGVydHkoZSxcIl9fZXNNb2R1bGVcIix7dmFsdWU6ITB9KTtjb25zdCBuPWkoMCkscj1pKDE4Niksbz1pKDMzKSxhPWkoNTgpLGg9aSg1MSksbD1pKDMxKSxjPWkoMTg3KSx1PWkoNTcpLGQ9aSgxNDApLGY9aSgxNDEpLG09aSg2KSxwPWkoNyksZz1pKDI3KSxiPXMoaSgxKSk7ZS5FeHByZXNzaW9uUmVhZGVyPWNsYXNze2NvbnN0cnVjdG9yKHQsZSxpKXt0aGlzLm11c2ljU2hlZXQ9dCx0aGlzLnN0YWZmTnVtYmVyPWksdGhpcy5nbG9iYWxTdGFmZkluZGV4PXQuZ2V0R2xvYmFsU3RhZmZJbmRleE9mRmlyc3RTdGFmZihlKSsoaS0xKSx0aGlzLmluaXRpYWxpemUoKX1yZWFkRXhwcmVzc2lvblBhcmFtZXRlcnModCxlLGkscyxyLG8sYSl7dGhpcy5pbml0aWFsaXplKCk7Y29uc3QgaD10LmVsZW1lbnQoXCJvZmZzZXRcIik7aWYodm9pZCAwIT09aCYmIWEpdHJ5e3RoaXMub2Zmc2V0RGl2aXNpb25zPXBhcnNlSW50KGgudmFsdWUsMTApfWNhdGNoKHQpe2NvbnN0IGU9XCJSZWFkZXJFcnJvck1lc3NhZ2VzL0V4cHJlc3Npb25PZmZzZXRFcnJvciwgSW52YWxpZCBleHByZXNzaW9uIG9mZnNldCAtPiBzZXQgdG8gZGVmYXVsdC5cIjtiLmRlZmF1bHQuZGVidWcoXCJFeHByZXNzaW9uUmVhZGVyLnJlYWRFeHByZXNzaW9uUGFyYW1ldGVyc1wiLGUsdCksdGhpcy5tdXNpY1NoZWV0LlNoZWV0RXJyb3JzLnB1c2hNZWFzdXJlRXJyb3IoZSksdGhpcy5vZmZzZXREaXZpc2lvbnM9MH10aGlzLmRpcmVjdGlvblRpbWVzdGFtcD1uLkZyYWN0aW9uLmNyZWF0ZUZyb21GcmFjdGlvbihzKTtsZXQgbD1uZXcgbi5GcmFjdGlvbihNYXRoLmFicyh0aGlzLm9mZnNldERpdmlzaW9ucyksNCppKTt0aGlzLm9mZnNldERpdmlzaW9ucz4wP3MuUmVhbFZhbHVlPjA/KGw9bi5GcmFjdGlvbi5tdWx0aXBseShuLkZyYWN0aW9uLm1pbnVzKHMsciksbCksdGhpcy5kaXJlY3Rpb25UaW1lc3RhbXA9bi5GcmFjdGlvbi5wbHVzKGwscykpOnRoaXMuZGlyZWN0aW9uVGltZXN0YW1wPW4uRnJhY3Rpb24uY3JlYXRlRnJvbUZyYWN0aW9uKGwpOnRoaXMub2Zmc2V0RGl2aXNpb25zPDAmJihzLlJlYWxWYWx1ZT4wPyhsPW4uRnJhY3Rpb24ubXVsdGlwbHkobi5GcmFjdGlvbi5taW51cyhzLHIpLGwpLHRoaXMuZGlyZWN0aW9uVGltZXN0YW1wPW4uRnJhY3Rpb24ubWludXMocyxsKSk6dGhpcy5kaXJlY3Rpb25UaW1lc3RhbXA9bi5GcmFjdGlvbi5jcmVhdGVGcm9tRnJhY3Rpb24obCkpO2NvbnN0IGM9dC5hdHRyaWJ1dGUoXCJwbGFjZW1lbnRcIik7aWYobnVsbCE9Yyl0cnl7Y29uc3QgdD1jLnZhbHVlO1wiYmVsb3dcIj09PXQ/dGhpcy5wbGFjZW1lbnQ9bS5QbGFjZW1lbnRFbnVtLkJlbG93OlwiYWJvdmVcIj09PXQmJih0aGlzLnBsYWNlbWVudD1tLlBsYWNlbWVudEVudW0uQWJvdmUpfWNhdGNoKHQpe2NvbnN0IGU9Zy5JVGV4dFRyYW5zbGF0aW9uLnRyYW5zbGF0ZVRleHQoXCJSZWFkZXJFcnJvck1lc3NhZ2VzL0V4cHJlc3Npb25QbGFjZW1lbnRFcnJvclwiLFwiSW52YWxpZCBleHByZXNzaW9uIHBsYWNlbWVudCAtPiBzZXQgdG8gZGVmYXVsdC5cIik7Yi5kZWZhdWx0LmRlYnVnKFwiRXhwcmVzc2lvblJlYWRlci5yZWFkRXhwcmVzc2lvblBhcmFtZXRlcnNcIixlLHQpLHRoaXMubXVzaWNTaGVldC5TaGVldEVycm9ycy5wdXNoTWVhc3VyZUVycm9yKGUpLHRoaXMucGxhY2VtZW50PW0uUGxhY2VtZW50RW51bS5CZWxvd31pZih0aGlzLnBsYWNlbWVudD09PW0uUGxhY2VtZW50RW51bS5Ob3RZZXREZWZpbmVkKXRyeXtjb25zdCBlPXQuZWxlbWVudChcImRpcmVjdGlvbi10eXBlXCIpO2lmKGUpe2NvbnN0IHQ9ZS5lbGVtZW50KFwiZHluYW1pY3NcIik7aWYodCl7Y29uc3QgZT10LmF0dHJpYnV0ZShcImRlZmF1bHQteVwiKTtudWxsIT1lJiZ0aGlzLnJlYWRFeHByZXNzaW9uUGxhY2VtZW50KGUsXCJyZWFkIGR5bmFtaWNzIHkgcG9zXCIpfWNvbnN0IGk9ZS5lbGVtZW50KFwid2VkZ2VcIik7aWYoaSl7Y29uc3QgdD1pLmF0dHJpYnV0ZShcImRlZmF1bHQteVwiKTtudWxsIT10JiZ0aGlzLnJlYWRFeHByZXNzaW9uUGxhY2VtZW50KHQsXCJyZWFkIHdlZGdlIHkgcG9zXCIpfWNvbnN0IHM9ZS5lbGVtZW50KFwid29yZHNcIik7aWYocyl7Y29uc3QgdD1zLmF0dHJpYnV0ZShcImRlZmF1bHQteVwiKTtudWxsIT10JiZ0aGlzLnJlYWRFeHByZXNzaW9uUGxhY2VtZW50KHQsXCJyZWFkIHdvcmRzIHkgcG9zXCIpfX19Y2F0Y2godCl7Y29uc3QgZT1nLklUZXh0VHJhbnNsYXRpb24udHJhbnNsYXRlVGV4dChcIlJlYWRlckVycm9yTWVzc2FnZXMvRXhwcmVzc2lvblBsYWNlbWVudEVycm9yXCIsXCJJbnZhbGlkIGV4cHJlc3Npb24gcGxhY2VtZW50IC0+IHNldCB0byBkZWZhdWx0LlwiKTtiLmRlZmF1bHQuZGVidWcoXCJFeHByZXNzaW9uUmVhZGVyLnJlYWRFeHByZXNzaW9uUGFyYW1ldGVyc1wiLGUsdCksdGhpcy5tdXNpY1NoZWV0LlNoZWV0RXJyb3JzLnB1c2hNZWFzdXJlRXJyb3IoZSksdGhpcy5wbGFjZW1lbnQ9bS5QbGFjZW1lbnRFbnVtLkJlbG93fXRoaXMucGxhY2VtZW50PT09bS5QbGFjZW1lbnRFbnVtLk5vdFlldERlZmluZWQmJihlLlN0YXZlcy5sZW5ndGg+MT90aGlzLnBsYWNlbWVudD1tLlBsYWNlbWVudEVudW0uQmVsb3c6ZS5IYXNMeXJpY3M/dGhpcy5wbGFjZW1lbnQ9bS5QbGFjZW1lbnRFbnVtLkFib3ZlOnRoaXMucGxhY2VtZW50PW0uUGxhY2VtZW50RW51bS5CZWxvdyl9cmVhZCh0LGUsaSl7bGV0IHM9ITEscj0hMTtjb25zdCBvPXQuZWxlbWVudChcInNvdW5kXCIpO2lmKG8pe2NvbnN0IHQ9by5hdHRyaWJ1dGUoXCJ0ZW1wb1wiKSxpPW8uYXR0cmlidXRlKFwiZHluYW1pY3NcIik7aWYodCl7Y29uc3QgaT10LnZhbHVlLm1hdGNoKC9cXGQrLyk7dGhpcy5zb3VuZFRlbXBvPXZvaWQgMCE9PWk/cGFyc2VJbnQoaVswXSwxMCk6MTAwLGUuVGVtcG9JbkJQTT10aGlzLnNvdW5kVGVtcG8sdGhpcy5tdXNpY1NoZWV0Lkhhc0JQTUluZm89ITAscz0hMH1pZihpKXtjb25zdCB0PWkudmFsdWUubWF0Y2goL1xcZCsvKTt0aGlzLnNvdW5kRHluYW1pYz12b2lkIDAhPT10P3BhcnNlSW50KHRbMF0sMTApOjEwMCxyPSEwfX1jb25zdCBhPXQuZWxlbWVudChcImRpcmVjdGlvbi10eXBlXCIpO2lmKCFhKXJldHVybjtsZXQgaD1hLmVsZW1lbnQoXCJtZXRyb25vbWVcIik7aWYoaCl7Y29uc3QgdD1oLmVsZW1lbnQoXCJiZWF0LXVuaXRcIikscz12b2lkIDAhPT1oLmVsZW1lbnQoXCJiZWF0LXVuaXQtZG90XCIpLHI9aC5lbGVtZW50KFwicGVyLW1pbnV0ZVwiKTtpZih2b2lkIDAhPT10JiZyKXtoLmhhc0F0dHJpYnV0ZXMmJnZvaWQgMCE9PWguYXR0cmlidXRlKFwiZGVmYXVsdC14XCIpJiYodGhpcy5kaXJlY3Rpb25UaW1lc3RhbXA9bi5GcmFjdGlvbi5jcmVhdGVGcm9tRnJhY3Rpb24oaSkpO2NvbnN0IG89cGFyc2VJbnQoci52YWx1ZSwxMCk7dGhpcy5jcmVhdGVOZXdUZW1wb0V4cHJlc3Npb25JZk5lZWRlZChlKTtjb25zdCBhPW5ldyB1Lkluc3RhbnRhbmVvdXNUZW1wb0V4cHJlc3Npb24odm9pZCAwLHRoaXMucGxhY2VtZW50LHRoaXMuc3RhZmZOdW1iZXIsbyx0aGlzLmN1cnJlbnRNdWx0aVRlbXBvRXhwcmVzc2lvbiwhMCk7dGhpcy5zb3VuZFRlbXBvPW8sZS5UZW1wb0luQlBNPXRoaXMuc291bmRUZW1wbyx0aGlzLm11c2ljU2hlZXQuSGFzQlBNSW5mbz0hMCxhLmRvdHRlZD1zLGEuYmVhdFVuaXQ9dC52YWx1ZSx0aGlzLmN1cnJlbnRNdWx0aVRlbXBvRXhwcmVzc2lvbi5hZGRFeHByZXNzaW9uKGEsXCJcIiksdGhpcy5jdXJyZW50TXVsdGlUZW1wb0V4cHJlc3Npb24uQ29tYmluZWRFeHByZXNzaW9uc1RleHQ9XCJ0ZXN0XCJ9fWVsc2UgaWYoaD1hLmVsZW1lbnQoXCJkeW5hbWljc1wiKSxoKXtjb25zdCBzPXZvaWQgMCE9PXQuZWxlbWVudChcIm5vdGF0aW9uc1wiKTt0aGlzLmludGVycHJldEluc3RhbnRhbmVvdXNEeW5hbWljcyhoLGUsaSxzKX1lbHNlIGlmKGg9YS5lbGVtZW50KFwid29yZHNcIiksaClpZihzKXt0aGlzLmNyZWF0ZU5ld1RlbXBvRXhwcmVzc2lvbklmTmVlZGVkKGUpLHRoaXMuY3VycmVudE11bHRpVGVtcG9FeHByZXNzaW9uLkNvbWJpbmVkRXhwcmVzc2lvbnNUZXh0PWgudmFsdWU7Y29uc3QgdD1uZXcgdS5JbnN0YW50YW5lb3VzVGVtcG9FeHByZXNzaW9uKGgudmFsdWUsdGhpcy5wbGFjZW1lbnQsdGhpcy5zdGFmZk51bWJlcix0aGlzLnNvdW5kVGVtcG8sdGhpcy5jdXJyZW50TXVsdGlUZW1wb0V4cHJlc3Npb24pO3RoaXMuY3VycmVudE11bHRpVGVtcG9FeHByZXNzaW9uLmFkZEV4cHJlc3Npb24odCxcIlwiKX1lbHNlIHJ8fHRoaXMuaW50ZXJwcmV0V29yZHMoaCxlLGkpO2Vsc2UgaD1hLmVsZW1lbnQoXCJ3ZWRnZVwiKSxoJiZ0aGlzLmludGVycHJldFdlZGdlKGgsZSxpLGUuTWVhc3VyZU51bWJlcil9Y2hlY2tGb3JPcGVuRXhwcmVzc2lvbnModCxlKXt0aGlzLm9wZW5Db250aW51b3VzRHluYW1pY0V4cHJlc3Npb24mJih0aGlzLmNyZWF0ZU5ld011bHRpRXhwcmVzc2lvbklmTmVlZGVkKHQsZSksdGhpcy5jbG9zZU9wZW5Db250aW51b3VzRHluYW1pYygpKSx0aGlzLm9wZW5Db250aW51b3VzVGVtcG9FeHByZXNzaW9uJiZ0aGlzLmNsb3NlT3BlbkNvbnRpbnVvdXNUZW1wbyhuLkZyYWN0aW9uLnBsdXModC5BYnNvbHV0ZVRpbWVzdGFtcCxlKSl9YWRkT2N0YXZlU2hpZnQodCxlLGkpe2xldCBzPTE7Y29uc3Qgbj10LmVsZW1lbnQoXCJzdGFmZlwiKTtpZihuKXRyeXtzPXBhcnNlSW50KG4udmFsdWUsMTApfWNhdGNoKHQpe2NvbnN0IGU9Zy5JVGV4dFRyYW5zbGF0aW9uLnRyYW5zbGF0ZVRleHQoXCJSZWFkZXJFcnJvck1lc3NhZ2VzL09jdGF2ZVNoaWZ0U3RhZmZFcnJvclwiLFwiSW52YWxpZCBvY3RhdmUgc2hpZnQgc3RhZmYgbnVtYmVyIC0+IHNldCB0byBkZWZhdWx0XCIpO3RoaXMubXVzaWNTaGVldC5TaGVldEVycm9ycy5wdXNoTWVhc3VyZUVycm9yKGUpLHM9MSxiLmRlZmF1bHQuZGVidWcoXCJFeHByZXNzaW9uUmVhZGVyLmFkZE9jdGF2ZVNoaWZ0XCIsZSx0KX1jb25zdCByPXQuZWxlbWVudChcImRpcmVjdGlvbi10eXBlXCIpO2lmKHIpe2NvbnN0IHQ9ci5lbGVtZW50KFwib2N0YXZlLXNoaWZ0XCIpO2lmKHZvaWQgMCE9PXQmJnQuaGFzQXR0cmlidXRlcyl0cnl7aWYodC5hdHRyaWJ1dGUoXCJzaXplXCIpKXtjb25zdCBuPXBhcnNlSW50KHQuYXR0cmlidXRlKFwic2l6ZVwiKS52YWx1ZSwxMCk7bGV0IHI9MDtpZig4PT09bj9yPTE6MTU9PT1uJiYocj0yKSx0LmF0dHJpYnV0ZShcInR5cGVcIikpe2NvbnN0IG49dC5hdHRyaWJ1dGUoXCJ0eXBlXCIpLnZhbHVlO2lmKFwidXBcIj09PW58fFwiZG93blwiPT09bil7Y29uc3QgdD1uZXcgbC5PY3RhdmVTaGlmdChuLHIpO3QuU3RhZmZOdW1iZXI9cyx0aGlzLmNyZWF0ZU5ld011bHRpRXhwcmVzc2lvbklmTmVlZGVkKGUpLHRoaXMuZ2V0TXVsdGlFeHByZXNzaW9uLk9jdGF2ZVNoaWZ0U3RhcnQ9dCx0LlBhcmVudFN0YXJ0TXVsdGlFeHByZXNzaW9uPXRoaXMuZ2V0TXVsdGlFeHByZXNzaW9uLHRoaXMub3Blbk9jdGF2ZVNoaWZ0PXR9ZWxzZVwic3RvcFwiPT09biYmdGhpcy5vcGVuT2N0YXZlU2hpZnQmJih0aGlzLmNyZWF0ZU5ld011bHRpRXhwcmVzc2lvbklmTmVlZGVkKGUsaSksdGhpcy5nZXRNdWx0aUV4cHJlc3Npb24uT2N0YXZlU2hpZnRFbmQ9dGhpcy5vcGVuT2N0YXZlU2hpZnQsdGhpcy5vcGVuT2N0YXZlU2hpZnQuUGFyZW50RW5kTXVsdGlFeHByZXNzaW9uPXRoaXMuZ2V0TXVsdGlFeHByZXNzaW9uLHRoaXMub3Blbk9jdGF2ZVNoaWZ0PXZvaWQgMCl9fX1jYXRjaCh0KXtjb25zdCBlPWcuSVRleHRUcmFuc2xhdGlvbi50cmFuc2xhdGVUZXh0KFwiUmVhZGVyRXJyb3JNZXNzYWdlcy9PY3RhdmVTaGlmdEVycm9yXCIsXCJFcnJvciB3aGlsZSByZWFkaW5nIG9jdGF2ZSBzaGlmdC5cIik7dGhpcy5tdXNpY1NoZWV0LlNoZWV0RXJyb3JzLnB1c2hNZWFzdXJlRXJyb3IoZSksYi5kZWZhdWx0LmRlYnVnKFwiRXhwcmVzc2lvblJlYWRlci5hZGRPY3RhdmVTaGlmdFwiLGUsdCl9fX1pbml0aWFsaXplKCl7dGhpcy5wbGFjZW1lbnQ9bS5QbGFjZW1lbnRFbnVtLk5vdFlldERlZmluZWQsdGhpcy5zb3VuZFRlbXBvPTAsdGhpcy5zb3VuZER5bmFtaWM9MCx0aGlzLm9mZnNldERpdmlzaW9ucz0wfXJlYWRFeHByZXNzaW9uUGxhY2VtZW50KHQsZSl7dHJ5e2NvbnN0IGU9cGFyc2VJbnQodC52YWx1ZSwxMCk7ZTwwP3RoaXMucGxhY2VtZW50PW0uUGxhY2VtZW50RW51bS5CZWxvdzplPjAmJih0aGlzLnBsYWNlbWVudD1tLlBsYWNlbWVudEVudW0uQWJvdmUpfWNhdGNoKHQpe2IuZGVmYXVsdC5kZWJ1ZyhcIkV4cHJlc3Npb25SZWFkZXIucmVhZEV4cHJlc3Npb25QYXJhbWV0ZXJzXCIsZSx0KX19aW50ZXJwcmV0SW5zdGFudGFuZW91c0R5bmFtaWNzKHQsZSxpLHMpe2lmKHQuaGFzRWxlbWVudHMpe3QuaGFzQXR0cmlidXRlcyYmdC5hdHRyaWJ1dGUoXCJkZWZhdWx0LXhcIikmJih0aGlzLmRpcmVjdGlvblRpbWVzdGFtcD1uLkZyYWN0aW9uLmNyZWF0ZUZyb21GcmFjdGlvbihpKSk7bGV0IHI9dC5lbGVtZW50cygpWzBdLm5hbWU7aWYoXCJvdGhlci1keW5hbWljc1wiPT09ciYmKHI9dC5lbGVtZW50cygpWzBdLnZhbHVlKSxyKXtzP3RoaXMuY3JlYXRlTmV3TXVsdGlFeHByZXNzaW9uSWZOZWVkZWQoZSxuLkZyYWN0aW9uLmNyZWF0ZUZyb21GcmFjdGlvbihpKSk6dGhpcy5jcmVhdGVOZXdNdWx0aUV4cHJlc3Npb25JZk5lZWRlZChlKSx2b2lkIDAhPT10aGlzLm9wZW5Db250aW51b3VzRHluYW1pY0V4cHJlc3Npb24mJnRoaXMub3BlbkNvbnRpbnVvdXNEeW5hbWljRXhwcmVzc2lvbi5TdGFydE11bHRpRXhwcmVzc2lvbiE9PXRoaXMuZ2V0TXVsdGlFeHByZXNzaW9uJiZ0aGlzLmNsb3NlT3BlbkNvbnRpbnVvdXNEeW5hbWljKCk7Y29uc3QgdD1uZXcgaC5JbnN0YW50YW5lb3VzRHluYW1pY0V4cHJlc3Npb24ocix0aGlzLnNvdW5kRHluYW1pYyx0aGlzLnBsYWNlbWVudCx0aGlzLnN0YWZmTnVtYmVyLGUpO3RoaXMuZ2V0TXVsdGlFeHByZXNzaW9uLmFkZEV4cHJlc3Npb24odCxcIlwiKSx0aGlzLmluaXRpYWxpemUoKSx0aGlzLmFjdGl2ZUluc3RhbnRhbmVvdXNEeW5hbWljP3RoaXMuYWN0aXZlSW5zdGFudGFuZW91c0R5bmFtaWMuRHluRW51bT10LkR5bkVudW06dGhpcy5hY3RpdmVJbnN0YW50YW5lb3VzRHluYW1pYz1uZXcgaC5JbnN0YW50YW5lb3VzRHluYW1pY0V4cHJlc3Npb24ociwwLG0uUGxhY2VtZW50RW51bS5Ob3RZZXREZWZpbmVkLDEsZSl9fX1pbnRlcnByZXRXb3Jkcyh0LGUsaSl7Y29uc3Qgcz10LnZhbHVlO2lmKHMubGVuZ3RoPjApe2lmKHQuaGFzQXR0cmlidXRlcyYmdC5hdHRyaWJ1dGUoXCJkZWZhdWx0LXhcIikmJih0aGlzLmRpcmVjdGlvblRpbWVzdGFtcD1uLkZyYWN0aW9uLmNyZWF0ZUZyb21GcmFjdGlvbihpKSksdGhpcy5jaGVja0lmV29yZHNOb2RlSXNSZXBldGl0aW9uSW5zdHJ1Y3Rpb24ocykpcmV0dXJuO3RoaXMuZmlsbE11bHRpT3JUZW1wb0V4cHJlc3Npb24ocyxlKSx0aGlzLmluaXRpYWxpemUoKX19aW50ZXJwcmV0V2VkZ2UodCxlLGkscyl7dm9pZCAwIT09dCYmdC5oYXNBdHRyaWJ1dGVzJiZ0LmF0dHJpYnV0ZShcImRlZmF1bHQteFwiKSYmKHRoaXMuZGlyZWN0aW9uVGltZXN0YW1wPW4uRnJhY3Rpb24uY3JlYXRlRnJvbUZyYWN0aW9uKGkpKSx0aGlzLmNyZWF0ZU5ld011bHRpRXhwcmVzc2lvbklmTmVlZGVkKGUpLHRoaXMuYWRkV2VkZ2UodCxlKSx0aGlzLmluaXRpYWxpemUoKX1jcmVhdGVOZXdNdWx0aUV4cHJlc3Npb25JZk5lZWRlZCh0LGUpe2V8fChlPXRoaXMuZGlyZWN0aW9uVGltZXN0YW1wKSwoIXRoaXMuZ2V0TXVsdGlFeHByZXNzaW9ufHx0aGlzLmdldE11bHRpRXhwcmVzc2lvbiYmKHRoaXMuZ2V0TXVsdGlFeHByZXNzaW9uLlNvdXJjZU1lYXN1cmVQYXJlbnQhPT10fHx0aGlzLmdldE11bHRpRXhwcmVzc2lvbi5Tb3VyY2VNZWFzdXJlUGFyZW50PT09dCYmdGhpcy5nZXRNdWx0aUV4cHJlc3Npb24uVGltZXN0YW1wIT09ZSkpJiYodGhpcy5nZXRNdWx0aUV4cHJlc3Npb249bmV3IGMuTXVsdGlFeHByZXNzaW9uKHQsbi5GcmFjdGlvbi5jcmVhdGVGcm9tRnJhY3Rpb24oZSkpLHQuU3RhZmZMaW5rZWRFeHByZXNzaW9uc1t0aGlzLmdsb2JhbFN0YWZmSW5kZXhdLnB1c2godGhpcy5nZXRNdWx0aUV4cHJlc3Npb24pKX1jcmVhdGVOZXdUZW1wb0V4cHJlc3Npb25JZk5lZWRlZCh0KXt0aGlzLmN1cnJlbnRNdWx0aVRlbXBvRXhwcmVzc2lvbiYmdGhpcy5jdXJyZW50TXVsdGlUZW1wb0V4cHJlc3Npb24uU291cmNlTWVhc3VyZVBhcmVudD09PXQmJnRoaXMuY3VycmVudE11bHRpVGVtcG9FeHByZXNzaW9uLlRpbWVzdGFtcD09PXRoaXMuZGlyZWN0aW9uVGltZXN0YW1wfHwodGhpcy5jdXJyZW50TXVsdGlUZW1wb0V4cHJlc3Npb249bmV3IHIuTXVsdGlUZW1wb0V4cHJlc3Npb24odCxuLkZyYWN0aW9uLmNyZWF0ZUZyb21GcmFjdGlvbih0aGlzLmRpcmVjdGlvblRpbWVzdGFtcCkpLHQuVGVtcG9FeHByZXNzaW9ucy5wdXNoKHRoaXMuY3VycmVudE11bHRpVGVtcG9FeHByZXNzaW9uKSl9YWRkV2VkZ2UodCxlKXtpZih2b2lkIDAhPT10JiZ0Lmhhc0F0dHJpYnV0ZXMpe2NvbnN0IGk9dC5hdHRyaWJ1dGUoXCJ0eXBlXCIpLnZhbHVlLnRvTG93ZXJDYXNlKCk7dHJ5e2lmKFwiY3Jlc2NlbmRvXCI9PT1pfHxcImRpbWludWVuZG9cIj09PWkpe2NvbnN0IHQ9bmV3IG8uQ29udGludW91c0R5bmFtaWNFeHByZXNzaW9uKG8uQ29udER5bmFtaWNFbnVtW2ldLHRoaXMucGxhY2VtZW50LHRoaXMuc3RhZmZOdW1iZXIsZSk7dGhpcy5vcGVuQ29udGludW91c0R5bmFtaWNFeHByZXNzaW9uJiZ0aGlzLmNsb3NlT3BlbkNvbnRpbnVvdXNEeW5hbWljKCksdGhpcy5vcGVuQ29udGludW91c0R5bmFtaWNFeHByZXNzaW9uPXQsdGhpcy5nZXRNdWx0aUV4cHJlc3Npb24uU3RhcnRpbmdDb250aW51b3VzRHluYW1pYz10LHQuU3RhcnRNdWx0aUV4cHJlc3Npb249dGhpcy5nZXRNdWx0aUV4cHJlc3Npb24sdm9pZCAwIT09dGhpcy5hY3RpdmVJbnN0YW50YW5lb3VzRHluYW1pYyYmdGhpcy5hY3RpdmVJbnN0YW50YW5lb3VzRHluYW1pYy5TdGFmZk51bWJlcj09PXQuU3RhZmZOdW1iZXImJih0aGlzLmFjdGl2ZUluc3RhbnRhbmVvdXNEeW5hbWljPXZvaWQgMCl9ZWxzZVwic3RvcFwiPT09aSYmdGhpcy5vcGVuQ29udGludW91c0R5bmFtaWNFeHByZXNzaW9uJiZ0aGlzLmNsb3NlT3BlbkNvbnRpbnVvdXNEeW5hbWljKCl9Y2F0Y2godCl7Y29uc3QgZT1cIlJlYWRlckVycm9yTWVzc2FnZXMvV2VkZ2VFcnJvciwgRXJyb3Igd2hpbGUgcmVhZGluZyBDcmVzY2VuZG8gLyBEaW1pbnVlbmRvLlwiO3RoaXMubXVzaWNTaGVldC5TaGVldEVycm9ycy5wdXNoTWVhc3VyZUVycm9yKGUpLGIuZGVmYXVsdC5kZWJ1ZyhcIkV4cHJlc3Npb25SZWFkZXIuYWRkV2VkZ2VcIixlLHQpfX19ZmlsbE11bHRpT3JUZW1wb0V4cHJlc3Npb24odCxlKXtpZighdClyZXR1cm47Y29uc3QgaT10LnRyaW0oKTt0aGlzLmNyZWF0ZUV4cHJlc3Npb25Gcm9tU3RyaW5nKFwiXCIsaSxlLHQpfWNyZWF0ZUV4cHJlc3Npb25Gcm9tU3RyaW5nKHQsZSxpLHMpe2lmKHUuSW5zdGFudGFuZW91c1RlbXBvRXhwcmVzc2lvbi5pc0lucHV0U3RyaW5nSW5zdGFudGFuZW91c1RlbXBvKGUpfHxhLkNvbnRpbnVvdXNUZW1wb0V4cHJlc3Npb24uaXNJbnB1dFN0cmluZ0NvbnRpbnVvdXNUZW1wbyhlKSl7aWYoaS5UZW1wb0V4cHJlc3Npb25zLmxlbmd0aD4wKWZvcihsZXQgdD0wLHM9aS5UZW1wb0V4cHJlc3Npb25zLmxlbmd0aDt0PHM7Kyt0KXtjb25zdCBzPWkuVGVtcG9FeHByZXNzaW9uc1t0XTtpZihzLlRpbWVzdGFtcD09PXRoaXMuZGlyZWN0aW9uVGltZXN0YW1wJiZ2b2lkIDAhPT1zLkluc3RhbnRhbmVvdXNUZW1wbyYmLTEhPT1zLkluc3RhbnRhbmVvdXNUZW1wby5MYWJlbC5pbmRleE9mKGUpKXJldHVybiExfWlmKHRoaXMuY3JlYXRlTmV3VGVtcG9FeHByZXNzaW9uSWZOZWVkZWQoaSksdGhpcy5jdXJyZW50TXVsdGlUZW1wb0V4cHJlc3Npb24uQ29tYmluZWRFeHByZXNzaW9uc1RleHQ9cyx1Lkluc3RhbnRhbmVvdXNUZW1wb0V4cHJlc3Npb24uaXNJbnB1dFN0cmluZ0luc3RhbnRhbmVvdXNUZW1wbyhlKSl7Y29uc3QgaT1uZXcgdS5JbnN0YW50YW5lb3VzVGVtcG9FeHByZXNzaW9uKGUsdGhpcy5wbGFjZW1lbnQsdGhpcy5zdGFmZk51bWJlcix0aGlzLnNvdW5kVGVtcG8sdGhpcy5jdXJyZW50TXVsdGlUZW1wb0V4cHJlc3Npb24pO3JldHVybiB0aGlzLmN1cnJlbnRNdWx0aVRlbXBvRXhwcmVzc2lvbi5hZGRFeHByZXNzaW9uKGksdCksITB9aWYoYS5Db250aW51b3VzVGVtcG9FeHByZXNzaW9uLmlzSW5wdXRTdHJpbmdDb250aW51b3VzVGVtcG8oZSkpe2NvbnN0IGk9bmV3IGEuQ29udGludW91c1RlbXBvRXhwcmVzc2lvbihlLHRoaXMucGxhY2VtZW50LHRoaXMuc3RhZmZOdW1iZXIsdGhpcy5jdXJyZW50TXVsdGlUZW1wb0V4cHJlc3Npb24pO3JldHVybiB0aGlzLmN1cnJlbnRNdWx0aVRlbXBvRXhwcmVzc2lvbi5hZGRFeHByZXNzaW9uKGksdCksITB9fWlmKGguSW5zdGFudGFuZW91c0R5bmFtaWNFeHByZXNzaW9uLmlzSW5wdXRTdHJpbmdJbnN0YW50YW5lb3VzRHluYW1pYyhlKXx8by5Db250aW51b3VzRHluYW1pY0V4cHJlc3Npb24uaXNJbnB1dFN0cmluZ0NvbnRpbnVvdXNEeW5hbWljKGUpKXtpZih0aGlzLmNyZWF0ZU5ld011bHRpRXhwcmVzc2lvbklmTmVlZGVkKGkpLGguSW5zdGFudGFuZW91c0R5bmFtaWNFeHByZXNzaW9uLmlzSW5wdXRTdHJpbmdJbnN0YW50YW5lb3VzRHluYW1pYyhlKSl7dm9pZCAwPT09dGhpcy5vcGVuQ29udGludW91c0R5bmFtaWNFeHByZXNzaW9ufHx0aGlzLm9wZW5Db250aW51b3VzRHluYW1pY0V4cHJlc3Npb24uRW5kTXVsdGlFeHByZXNzaW9ufHx0aGlzLmNsb3NlT3BlbkNvbnRpbnVvdXNEeW5hbWljKCk7Y29uc3Qgcz1uZXcgaC5JbnN0YW50YW5lb3VzRHluYW1pY0V4cHJlc3Npb24oZSx0aGlzLnNvdW5kRHluYW1pYyx0aGlzLnBsYWNlbWVudCx0aGlzLnN0YWZmTnVtYmVyLGkpO3JldHVybiB0aGlzLmdldE11bHRpRXhwcmVzc2lvbi5hZGRFeHByZXNzaW9uKHMsdCksITB9aWYoby5Db250aW51b3VzRHluYW1pY0V4cHJlc3Npb24uaXNJbnB1dFN0cmluZ0NvbnRpbnVvdXNEeW5hbWljKGUpKXtjb25zdCBzPW5ldyBvLkNvbnRpbnVvdXNEeW5hbWljRXhwcmVzc2lvbih2b2lkIDAsdGhpcy5wbGFjZW1lbnQsdGhpcy5zdGFmZk51bWJlcixpLGUpO3JldHVybiB2b2lkIDA9PT10aGlzLm9wZW5Db250aW51b3VzRHluYW1pY0V4cHJlc3Npb258fHRoaXMub3BlbkNvbnRpbnVvdXNEeW5hbWljRXhwcmVzc2lvbi5FbmRNdWx0aUV4cHJlc3Npb258fHRoaXMuY2xvc2VPcGVuQ29udGludW91c0R5bmFtaWMoKSx2b2lkIDAhPT10aGlzLmFjdGl2ZUluc3RhbnRhbmVvdXNEeW5hbWljJiZ0aGlzLmFjdGl2ZUluc3RhbnRhbmVvdXNEeW5hbWljLlN0YWZmTnVtYmVyPT09cy5TdGFmZk51bWJlciYmKHRoaXMuYWN0aXZlSW5zdGFudGFuZW91c0R5bmFtaWM9dm9pZCAwKSx0aGlzLm9wZW5Db250aW51b3VzRHluYW1pY0V4cHJlc3Npb249cyxzLlN0YXJ0TXVsdGlFeHByZXNzaW9uPXRoaXMuZ2V0TXVsdGlFeHByZXNzaW9uLHRoaXMuZ2V0TXVsdGlFeHByZXNzaW9uLmFkZEV4cHJlc3Npb24ocyx0KSwhMH19aWYoZC5Nb29kRXhwcmVzc2lvbi5pc0lucHV0U3RyaW5nTW9vZChlKSl7dGhpcy5jcmVhdGVOZXdNdWx0aUV4cHJlc3Npb25JZk5lZWRlZChpKTtjb25zdCBzPW5ldyBkLk1vb2RFeHByZXNzaW9uKGUsdGhpcy5wbGFjZW1lbnQsdGhpcy5zdGFmZk51bWJlcik7cmV0dXJuIHRoaXMuZ2V0TXVsdGlFeHByZXNzaW9uLmFkZEV4cHJlc3Npb24ocyx0KSwhMH1pZih0aGlzLmNyZWF0ZU5ld011bHRpRXhwcmVzc2lvbklmTmVlZGVkKGkpLGkuVGVtcG9FeHByZXNzaW9ucy5sZW5ndGg+MClmb3IobGV0IHQ9MCxzPWkuVGVtcG9FeHByZXNzaW9ucy5sZW5ndGg7dDxzOysrdCl7Y29uc3Qgcz1pLlRlbXBvRXhwcmVzc2lvbnNbdF07aWYocy5UaW1lc3RhbXA9PT10aGlzLmRpcmVjdGlvblRpbWVzdGFtcCYmdm9pZCAwIT09cy5JbnN0YW50YW5lb3VzVGVtcG8mJnMuRW50cmllc0xpc3QubGVuZ3RoPjAmJiF0aGlzLmhhc0RpZ2l0KGUpJiZ0aGlzLmdsb2JhbFN0YWZmSW5kZXg+MCl7aWYocy5FbnRyaWVzTGlzdFswXS5sYWJlbC5pbmRleE9mKGUpPj0wKXJldHVybiExO2JyZWFrfX1sZXQgbj1wLlRleHRBbGlnbm1lbnRFbnVtLkNlbnRlckJvdHRvbTt0aGlzLm11c2ljU2hlZXQuUnVsZXMuQ29tcGFjdE1vZGUmJihuPXAuVGV4dEFsaWdubWVudEVudW0uTGVmdEJvdHRvbSk7Y29uc3Qgcj1uZXcgZi5Vbmtub3duRXhwcmVzc2lvbihlLHRoaXMucGxhY2VtZW50LG4sdGhpcy5zdGFmZk51bWJlcik7cmV0dXJuIHRoaXMuZ2V0TXVsdGlFeHByZXNzaW9uLmFkZEV4cHJlc3Npb24ocix0KSwhMX1jbG9zZU9wZW5Db250aW51b3VzRHluYW1pYygpe3RoaXMub3BlbkNvbnRpbnVvdXNEeW5hbWljRXhwcmVzc2lvbi5FbmRNdWx0aUV4cHJlc3Npb249dGhpcy5nZXRNdWx0aUV4cHJlc3Npb24sdGhpcy5nZXRNdWx0aUV4cHJlc3Npb24uRW5kaW5nQ29udGludW91c0R5bmFtaWM9dGhpcy5vcGVuQ29udGludW91c0R5bmFtaWNFeHByZXNzaW9uLHRoaXMub3BlbkNvbnRpbnVvdXNEeW5hbWljRXhwcmVzc2lvbj12b2lkIDB9Y2xvc2VPcGVuQ29udGludW91c1RlbXBvKHQpe3RoaXMub3BlbkNvbnRpbnVvdXNUZW1wb0V4cHJlc3Npb24uQWJzb2x1dGVFbmRUaW1lc3RhbXA9dCx0aGlzLm9wZW5Db250aW51b3VzVGVtcG9FeHByZXNzaW9uPXZvaWQgMH1jaGVja0lmV29yZHNOb2RlSXNSZXBldGl0aW9uSW5zdHJ1Y3Rpb24odCl7cmV0dXJuXCJjb2RhXCI9PT0odD10LnRyaW0oKS50b0xvd2VyQ2FzZSgpKXx8XCJ0b2NvZGFcIj09PXR8fFwidG8gY29kYVwiPT09dHx8XCJmaW5lXCI9PT10fHxcImQuYy5cIj09PXR8fFwiZGFjYXBvXCI9PT10fHxcImRhIGNhcG9cIj09PXR8fFwiZC5zLlwiPT09dHx8XCJkYWxzZWdub1wiPT09dHx8XCJkYWwgc2Vnbm9cIj09PXR8fFwiZC5jLiBhbCBmaW5lXCI9PT10fHxcImQucy4gYWwgZmluZVwiPT09dHx8XCJkLmMuIGFsIGNvZGFcIj09PXR8fFwiZC5zLiBhbCBjb2RhXCI9PT10fWhhc0RpZ2l0KHQpe3JldHVybi9cXGQvLnRlc3QodCl9fX0sZnVuY3Rpb24odCxlLGkpe1widXNlIHN0cmljdFwiO09iamVjdC5kZWZpbmVQcm9wZXJ0eShlLFwiX19lc01vZHVsZVwiLHt2YWx1ZTohMH0pO2NvbnN0IHM9aSg2KTtjbGFzcyBuIGV4dGVuZHMgcy5BYnN0cmFjdEV4cHJlc3Npb257Y29uc3RydWN0b3IodCxlLGkpe3N1cGVyKGUpLHRoaXMubGFiZWw9dCx0aGlzLnN0YWZmTnVtYmVyPWksdGhpcy5zZXRNb29kVHlwZSgpfXN0YXRpYyBpc0lucHV0U3RyaW5nTW9vZCh0KXtyZXR1cm4hIXQmJihuLmlzU3RyaW5nSW5TdHJpbmdMaXN0KG4ubGlzdE1vb2RBZmZldHR1b3NvLHQpfHxuLmlzU3RyaW5nSW5TdHJpbmdMaXN0KG4ubGlzdE1vb2RBZ2l0YXRvLHQpfHxuLmlzU3RyaW5nSW5TdHJpbmdMaXN0KG4ubGlzdE1vb2RBbmltYXRvLHQpfHxuLmlzU3RyaW5nSW5TdHJpbmdMaXN0KG4ubGlzdE1vb2RBcHBhc3Npb25hdG8sdCl8fG4uaXNTdHJpbmdJblN0cmluZ0xpc3Qobi5saXN0TW9vZEJyaWxsYW50ZSx0KXx8bi5pc1N0cmluZ0luU3RyaW5nTGlzdChuLmxpc3RNb29kQ2FudGFiaWxlLHQpfHxuLmlzU3RyaW5nSW5TdHJpbmdMaXN0KG4ubGlzdE1vb2REb2xjZSx0KXx8bi5pc1N0cmluZ0luU3RyaW5nTGlzdChuLmxpc3RNb29kRW5lcmdpY28sdCl8fG4uaXNTdHJpbmdJblN0cmluZ0xpc3Qobi5saXN0TW9vZEVyb2ljbyx0KXx8bi5pc1N0cmluZ0luU3RyaW5nTGlzdChuLmxpc3RNb29kRXNwcmVzc2l2byx0KXx8bi5pc1N0cmluZ0luU3RyaW5nTGlzdChuLmxpc3RNb29kRnVyaW9zbyx0KXx8bi5pc1N0cmluZ0luU3RyaW5nTGlzdChuLmxpc3RNb29kR2lvY29zbyx0KXx8bi5pc1N0cmluZ0luU3RyaW5nTGlzdChuLmxpc3RNb29kR2lvaW9zbyx0KXx8bi5pc1N0cmluZ0luU3RyaW5nTGlzdChuLmxpc3RNb29kR3JhbmRpb3NvLHQpfHxuLmlzU3RyaW5nSW5TdHJpbmdMaXN0KG4ubGlzdE1vb2RHcmF6aW9zbyx0KXx8bi5pc1N0cmluZ0luU3RyaW5nTGlzdChuLmxpc3RNb29kTGFjcmltb3NvLHQpfHxuLmlzU3RyaW5nSW5TdHJpbmdMaXN0KG4ubGlzdE1vb2RMZWdnaWVybyx0KXx8bi5pc1N0cmluZ0luU3RyaW5nTGlzdChuLmxpc3RNb29kTWFlc3Rvc28sdCl8fG4uaXNTdHJpbmdJblN0cmluZ0xpc3Qobi5saXN0TW9vZE1hbGluY29uaWNvLHQpfHxuLmlzU3RyaW5nSW5TdHJpbmdMaXN0KG4ubGlzdE1vb2RNYXJjYXRvLHQpfHxuLmlzU3RyaW5nSW5TdHJpbmdMaXN0KG4ubGlzdE1vb2RNYXJ6aWFsZSx0KXx8bi5pc1N0cmluZ0luU3RyaW5nTGlzdChuLmxpc3RNb29kTWVzdG8sdCl8fG4uaXNTdHJpbmdJblN0cmluZ0xpc3Qobi5saXN0TW9vZE1vcmVuZG8sdCl8fG4uaXNTdHJpbmdJblN0cmluZ0xpc3Qobi5saXN0TW9vZE5vYmlsbWVudGUsdCl8fG4uaXNTdHJpbmdJblN0cmluZ0xpc3Qobi5saXN0TW9vZFBhdGV0aWNvLHQpfHxuLmlzU3RyaW5nSW5TdHJpbmdMaXN0KG4ubGlzdE1vb2RQZXNhbnRlLHQpfHxuLmlzU3RyaW5nSW5TdHJpbmdMaXN0KG4ubGlzdE1vb2RTYWx0YW5kbyx0KXx8bi5pc1N0cmluZ0luU3RyaW5nTGlzdChuLmxpc3RNb29kU2F1dGlsbGUsdCl8fG4uaXNTdHJpbmdJblN0cmluZ0xpc3Qobi5saXN0TW9vZFNjaGVyemFuZG8sdCl8fG4uaXNTdHJpbmdJblN0cmluZ0xpc3Qobi5saXN0TW9vZFNvc3RlbnV0byx0KXx8bi5pc1N0cmluZ0luU3RyaW5nTGlzdChuLmxpc3RNb29kU3BpY2NhdG8sdCl8fG4uaXNTdHJpbmdJblN0cmluZ0xpc3Qobi5saXN0TW9vZFRlbmVyZXp6YSx0KXx8bi5pc1N0cmluZ0luU3RyaW5nTGlzdChuLmxpc3RNb29kVHJhbnF1aWxsYW1lbnRlLHQpfHxuLmlzU3RyaW5nSW5TdHJpbmdMaXN0KG4ubGlzdE1vb2RUcmlvbmZhbnRlLHQpKX1nZXQgTGFiZWwoKXtyZXR1cm4gdGhpcy5sYWJlbH1zZXQgTGFiZWwodCl7dGhpcy5sYWJlbD10fWdldCBNb29kKCl7cmV0dXJuIHRoaXMubW9vZFR5cGV9c2V0IE1vb2QodCl7dGhpcy5tb29kVHlwZT10fWdldCBTdGFmZk51bWJlcigpe3JldHVybiB0aGlzLnN0YWZmTnVtYmVyfXNldCBTdGFmZk51bWJlcih0KXt0aGlzLnN0YWZmTnVtYmVyPXR9Z2V0IFBsYWNlbWVudCgpe3JldHVybiB0aGlzLnBsYWNlbWVudH1zZXQgUGxhY2VtZW50KHQpe3RoaXMucGxhY2VtZW50PXR9c2V0TW9vZFR5cGUoKXtuLmlzU3RyaW5nSW5TdHJpbmdMaXN0KG4ubGlzdE1vb2RBZmZldHR1b3NvLHRoaXMubGFiZWwpP3RoaXMubW9vZFR5cGU9ci5BZmZldHR1b3NvOm4uaXNTdHJpbmdJblN0cmluZ0xpc3Qobi5saXN0TW9vZEFnaXRhdG8sdGhpcy5sYWJlbCk/dGhpcy5tb29kVHlwZT1yLkFnaXRhdG86bi5pc1N0cmluZ0luU3RyaW5nTGlzdChuLmxpc3RNb29kQW5pbWF0byx0aGlzLmxhYmVsKT90aGlzLm1vb2RUeXBlPXIuQW5pbWF0bzpuLmlzU3RyaW5nSW5TdHJpbmdMaXN0KG4ubGlzdE1vb2RBcHBhc3Npb25hdG8sdGhpcy5sYWJlbCk/dGhpcy5tb29kVHlwZT1yLkFwcGFzc2lvbmF0bzpuLmlzU3RyaW5nSW5TdHJpbmdMaXN0KG4ubGlzdE1vb2RCcmlsbGFudGUsdGhpcy5sYWJlbCk/dGhpcy5tb29kVHlwZT1yLkJyaWxsYW50ZTpuLmlzU3RyaW5nSW5TdHJpbmdMaXN0KG4ubGlzdE1vb2RDYW50YWJpbGUsdGhpcy5sYWJlbCk/dGhpcy5tb29kVHlwZT1yLkNhbnRhYmlsZTpuLmlzU3RyaW5nSW5TdHJpbmdMaXN0KG4ubGlzdE1vb2REb2xjZSx0aGlzLmxhYmVsKT90aGlzLm1vb2RUeXBlPXIuRG9sY2U6bi5pc1N0cmluZ0luU3RyaW5nTGlzdChuLmxpc3RNb29kRW5lcmdpY28sdGhpcy5sYWJlbCk/dGhpcy5tb29kVHlwZT1yLkVuZXJnaWNvOm4uaXNTdHJpbmdJblN0cmluZ0xpc3Qobi5saXN0TW9vZEVyb2ljbyx0aGlzLmxhYmVsKT90aGlzLm1vb2RUeXBlPXIuRXJvaWNvOm4uaXNTdHJpbmdJblN0cmluZ0xpc3Qobi5saXN0TW9vZEVzcHJlc3Npdm8sdGhpcy5sYWJlbCk/dGhpcy5tb29kVHlwZT1yLkVzcHJlc3Npdm86bi5pc1N0cmluZ0luU3RyaW5nTGlzdChuLmxpc3RNb29kRnVyaW9zbyx0aGlzLmxhYmVsKT90aGlzLm1vb2RUeXBlPXIuRnVyaW9zbzpuLmlzU3RyaW5nSW5TdHJpbmdMaXN0KG4ubGlzdE1vb2RHaW9jb3NvLHRoaXMubGFiZWwpP3RoaXMubW9vZFR5cGU9ci5HaW9jb3NvOm4uaXNTdHJpbmdJblN0cmluZ0xpc3Qobi5saXN0TW9vZEdpb2lvc28sdGhpcy5sYWJlbCk/dGhpcy5tb29kVHlwZT1yLkdpb2lvc286bi5pc1N0cmluZ0luU3RyaW5nTGlzdChuLmxpc3RNb29kR3JhbmRpb3NvLHRoaXMubGFiZWwpP3RoaXMubW9vZFR5cGU9ci5HcmFuZGlvc286bi5pc1N0cmluZ0luU3RyaW5nTGlzdChuLmxpc3RNb29kR3Jhemlvc28sdGhpcy5sYWJlbCk/dGhpcy5tb29kVHlwZT1yLkdyYXppb3NvOm4uaXNTdHJpbmdJblN0cmluZ0xpc3Qobi5saXN0TW9vZExhY3JpbW9zbyx0aGlzLmxhYmVsKT90aGlzLm1vb2RUeXBlPXIuTGFjcmltb3NvOm4uaXNTdHJpbmdJblN0cmluZ0xpc3Qobi5saXN0TW9vZExlZ2dpZXJvLHRoaXMubGFiZWwpP3RoaXMubW9vZFR5cGU9ci5MZWdnaWVybzpuLmlzU3RyaW5nSW5TdHJpbmdMaXN0KG4ubGlzdE1vb2RNYWVzdG9zbyx0aGlzLmxhYmVsKT90aGlzLm1vb2RUeXBlPXIuTWFlc3Rvc286bi5pc1N0cmluZ0luU3RyaW5nTGlzdChuLmxpc3RNb29kTWFsaW5jb25pY28sdGhpcy5sYWJlbCk/dGhpcy5tb29kVHlwZT1yLk1hbGluY29uaWNvOm4uaXNTdHJpbmdJblN0cmluZ0xpc3Qobi5saXN0TW9vZE1hcmNhdG8sdGhpcy5sYWJlbCk/dGhpcy5tb29kVHlwZT1yLk1hcmNhdG86bi5pc1N0cmluZ0luU3RyaW5nTGlzdChuLmxpc3RNb29kTWFyemlhbGUsdGhpcy5sYWJlbCk/dGhpcy5tb29kVHlwZT1yLk1hcnppYWxlOm4uaXNTdHJpbmdJblN0cmluZ0xpc3Qobi5saXN0TW9vZE1lc3RvLHRoaXMubGFiZWwpP3RoaXMubW9vZFR5cGU9ci5NZXN0bzpuLmlzU3RyaW5nSW5TdHJpbmdMaXN0KG4ubGlzdE1vb2RNb3JlbmRvLHRoaXMubGFiZWwpP3RoaXMubW9vZFR5cGU9ci5Nb3JlbmRvOm4uaXNTdHJpbmdJblN0cmluZ0xpc3Qobi5saXN0TW9vZE5vYmlsbWVudGUsdGhpcy5sYWJlbCk/dGhpcy5tb29kVHlwZT1yLk5vYmlsbWVudGU6bi5pc1N0cmluZ0luU3RyaW5nTGlzdChuLmxpc3RNb29kUGF0ZXRpY28sdGhpcy5sYWJlbCk/dGhpcy5tb29kVHlwZT1yLlBhdGV0aWNvOm4uaXNTdHJpbmdJblN0cmluZ0xpc3Qobi5saXN0TW9vZFBlc2FudGUsdGhpcy5sYWJlbCk/dGhpcy5tb29kVHlwZT1yLlBlc2FudGU6bi5pc1N0cmluZ0luU3RyaW5nTGlzdChuLmxpc3RNb29kU2FsdGFuZG8sdGhpcy5sYWJlbCk/dGhpcy5tb29kVHlwZT1yLlNhbHRhbmRvOm4uaXNTdHJpbmdJblN0cmluZ0xpc3Qobi5saXN0TW9vZFNhdXRpbGxlLHRoaXMubGFiZWwpP3RoaXMubW9vZFR5cGU9ci5TYXV0aWxsZTpuLmlzU3RyaW5nSW5TdHJpbmdMaXN0KG4ubGlzdE1vb2RTY2hlcnphbmRvLHRoaXMubGFiZWwpP3RoaXMubW9vZFR5cGU9ci5TY2hlcnphbmRvOm4uaXNTdHJpbmdJblN0cmluZ0xpc3Qobi5saXN0TW9vZFNvc3RlbnV0byx0aGlzLmxhYmVsKT90aGlzLm1vb2RUeXBlPXIuU29zdGVudXRvOm4uaXNTdHJpbmdJblN0cmluZ0xpc3Qobi5saXN0TW9vZFNwaWNjYXRvLHRoaXMubGFiZWwpP3RoaXMubW9vZFR5cGU9ci5TcGljY2F0bzpuLmlzU3RyaW5nSW5TdHJpbmdMaXN0KG4ubGlzdE1vb2RUZW5lcmV6emEsdGhpcy5sYWJlbCk/dGhpcy5tb29kVHlwZT1yLlRlbmVyZXp6YTpuLmlzU3RyaW5nSW5TdHJpbmdMaXN0KG4ubGlzdE1vb2RUcmFucXVpbGxhbWVudGUsdGhpcy5sYWJlbCk/dGhpcy5tb29kVHlwZT1yLlRyYW5xdWlsbGFtZW50ZTpuLmlzU3RyaW5nSW5TdHJpbmdMaXN0KG4ubGlzdE1vb2RUcmlvbmZhbnRlLHRoaXMubGFiZWwpJiYodGhpcy5tb29kVHlwZT1yLlRyaW9uZmFudGUpfX12YXIgcjtlLk1vb2RFeHByZXNzaW9uPW4sbi5saXN0TW9vZEFmZmV0dHVvc289W1wiYWZmZXR0dW9zb1wiXSxuLmxpc3RNb29kQWdpdGF0bz1bXCJhZ2l0YXRvXCJdLG4ubGlzdE1vb2RBcHBhc3Npb25hdG89W1wiYXBwYXNzaW9uYXRvXCJdLG4ubGlzdE1vb2RBbmltYXRvPVtcImFuaW1hdG9cIixcImxpdmVseVwiXSxuLmxpc3RNb29kQnJpbGxhbnRlPVtcImJyaWxsYW50ZVwiXSxuLmxpc3RNb29kQ2FudGFiaWxlPVtcImNhbnRhYmlsZVwiXSxuLmxpc3RNb29kRG9sY2U9W1wiZG9sY2VcIl0sbi5saXN0TW9vZEVuZXJnaWNvPVtcImVuZXJnaWNvXCJdLG4ubGlzdE1vb2RFcm9pY289W1wiZXJvaWNvXCJdLG4ubGlzdE1vb2RFc3ByZXNzaXZvPVtcImVzcHJlc3Npdm9cIl0sbi5saXN0TW9vZEZ1cmlvc289W1wiZnVyaW9zb1wiXSxuLmxpc3RNb29kR2lvY29zbz1bXCJnaW9jb3NvXCJdLG4ubGlzdE1vb2RHaW9pb3NvPVtcImdpb2lvc29cIl0sbi5saXN0TW9vZExhY3JpbW9zbz1bXCJsYWNyaW1vc29cIl0sbi5saXN0TW9vZEdyYW5kaW9zbz1bXCJncmFuZGlvc29cIl0sbi5saXN0TW9vZEdyYXppb3NvPVtcImdyYXppb3NvXCJdLG4ubGlzdE1vb2RMZWdnaWVybz1bXCJsZWdnaWVyb1wiXSxuLmxpc3RNb29kTWFlc3Rvc289W1wibWFlc3Rvc29cIl0sbi5saXN0TW9vZE1hbGluY29uaWNvPVtcIm1hbGluY29uaWNvXCJdLG4ubGlzdE1vb2RNYXJjYXRvPVtcIm1hcmNhdG9cIl0sbi5saXN0TW9vZE1hcnppYWxlPVtcIm1hcnppYWxlXCJdLG4ubGlzdE1vb2RNZXN0bz1bXCJtZXN0b1wiXSxuLmxpc3RNb29kTW9yZW5kbz1bXCJtb3JlbmRvXCJdLG4ubGlzdE1vb2ROb2JpbG1lbnRlPVtcIm5vYmlsbWVudGVcIl0sbi5saXN0TW9vZFBhdGV0aWNvPVtcInBhdGV0aWNvXCJdLG4ubGlzdE1vb2RQZXNhbnRlPVtcInBlc2FudGVcIl0sbi5saXN0TW9vZFNhdXRpbGxlPVtcInNhdXRpbGxlXCJdLG4ubGlzdE1vb2RTYWx0YW5kbz1bXCJzYWx0YW5kb1wiXSxuLmxpc3RNb29kU2NoZXJ6YW5kbz1bXCJzY2hlcnphbmRvXCJdLG4ubGlzdE1vb2RTb3N0ZW51dG89W1wic29zdGVudXRvXCJdLG4ubGlzdE1vb2RTcGljY2F0bz1bXCJzcGljY2F0b1wiXSxuLmxpc3RNb29kVGVuZXJlenphPVtcInRlbmVyZXp6YVwiXSxuLmxpc3RNb29kVHJhbnF1aWxsYW1lbnRlPVtcInRyYW5xdWlsbGFtZW50ZVwiXSxuLmxpc3RNb29kVHJpb25mYW50ZT1bXCJ0cmlvbmZhbnRlXCJdLGZ1bmN0aW9uKHQpe3RbdC5BZmZldHR1b3NvPTBdPVwiQWZmZXR0dW9zb1wiLHRbdC5BZ2l0YXRvPTFdPVwiQWdpdGF0b1wiLHRbdC5BcHBhc3Npb25hdG89Ml09XCJBcHBhc3Npb25hdG9cIix0W3QuQW5pbWF0bz0zXT1cIkFuaW1hdG9cIix0W3QuQnJpbGxhbnRlPTRdPVwiQnJpbGxhbnRlXCIsdFt0LkNhbnRhYmlsZT01XT1cIkNhbnRhYmlsZVwiLHRbdC5Eb2xjZT02XT1cIkRvbGNlXCIsdFt0LkVuZXJnaWNvPTddPVwiRW5lcmdpY29cIix0W3QuRXJvaWNvPThdPVwiRXJvaWNvXCIsdFt0LkVzcHJlc3Npdm89OV09XCJFc3ByZXNzaXZvXCIsdFt0LkZ1cmlvc289MTBdPVwiRnVyaW9zb1wiLHRbdC5HaW9jb3NvPTExXT1cIkdpb2Nvc29cIix0W3QuR2lvaW9zbz0xMl09XCJHaW9pb3NvXCIsdFt0LkxhY3JpbW9zbz0xM109XCJMYWNyaW1vc29cIix0W3QuR3JhbmRpb3NvPTE0XT1cIkdyYW5kaW9zb1wiLHRbdC5HcmF6aW9zbz0xNV09XCJHcmF6aW9zb1wiLHRbdC5MZWdnaWVybz0xNl09XCJMZWdnaWVyb1wiLHRbdC5NYWVzdG9zbz0xN109XCJNYWVzdG9zb1wiLHRbdC5NYWxpbmNvbmljbz0xOF09XCJNYWxpbmNvbmljb1wiLHRbdC5NYXJjYXRvPTE5XT1cIk1hcmNhdG9cIix0W3QuTWFyemlhbGU9MjBdPVwiTWFyemlhbGVcIix0W3QuTWVzdG89MjFdPVwiTWVzdG9cIix0W3QuTW9yZW5kbz0yMl09XCJNb3JlbmRvXCIsdFt0Lk5vYmlsbWVudGU9MjNdPVwiTm9iaWxtZW50ZVwiLHRbdC5QYXRldGljbz0yNF09XCJQYXRldGljb1wiLHRbdC5QZXNhbnRlPTI1XT1cIlBlc2FudGVcIix0W3QuU2F1dGlsbGU9MjZdPVwiU2F1dGlsbGVcIix0W3QuU2FsdGFuZG89MjddPVwiU2FsdGFuZG9cIix0W3QuU2NoZXJ6YW5kbz0yOF09XCJTY2hlcnphbmRvXCIsdFt0LlNvc3RlbnV0bz0yOV09XCJTb3N0ZW51dG9cIix0W3QuU3BpY2NhdG89MzBdPVwiU3BpY2NhdG9cIix0W3QuVGVuZXJlenphPTMxXT1cIlRlbmVyZXp6YVwiLHRbdC5UcmFucXVpbGxhbWVudGU9MzJdPVwiVHJhbnF1aWxsYW1lbnRlXCIsdFt0LlRyaW9uZmFudGU9MzNdPVwiVHJpb25mYW50ZVwiLHRbdC5WaXZhY2U9MzRdPVwiVml2YWNlXCJ9KHI9ZS5Nb29kRW51bXx8KGUuTW9vZEVudW09e30pKX0sZnVuY3Rpb24odCxlLGkpe1widXNlIHN0cmljdFwiO09iamVjdC5kZWZpbmVQcm9wZXJ0eShlLFwiX19lc01vZHVsZVwiLHt2YWx1ZTohMH0pO2NvbnN0IHM9aSg2KSxuPWkoNyk7Y2xhc3MgciBleHRlbmRzIHMuQWJzdHJhY3RFeHByZXNzaW9ue2NvbnN0cnVjdG9yKHQsZSxpLHMpe3N1cGVyKGUpLHRoaXMubGFiZWw9dCx0aGlzLnN0YWZmTnVtYmVyPXMsdm9pZCAwPT09aSYmKGk9bi5UZXh0QWxpZ25tZW50RW51bS5MZWZ0Qm90dG9tKSx0aGlzLnRleHRBbGlnbm1lbnQ9aX1nZXQgTGFiZWwoKXtyZXR1cm4gdGhpcy5sYWJlbH1nZXQgUGxhY2VtZW50KCl7cmV0dXJuIHRoaXMucGxhY2VtZW50fXNldCBQbGFjZW1lbnQodCl7dGhpcy5wbGFjZW1lbnQ9dH1nZXQgU3RhZmZOdW1iZXIoKXtyZXR1cm4gdGhpcy5zdGFmZk51bWJlcn1zZXQgU3RhZmZOdW1iZXIodCl7dGhpcy5zdGFmZk51bWJlcj10fWdldCBUZXh0QWxpZ25tZW50KCl7cmV0dXJuIHRoaXMudGV4dEFsaWdubWVudH19ZS5Vbmtub3duRXhwcmVzc2lvbj1yfSxmdW5jdGlvbih0LGUsaSl7XCJ1c2Ugc3RyaWN0XCI7dmFyIHM9dGhpcyYmdGhpcy5fX2ltcG9ydERlZmF1bHR8fGZ1bmN0aW9uKHQpe3JldHVybiB0JiZ0Ll9fZXNNb2R1bGU/dDp7ZGVmYXVsdDp0fX07T2JqZWN0LmRlZmluZVByb3BlcnR5KGUsXCJfX2VzTW9kdWxlXCIse3ZhbHVlOiEwfSk7Y29uc3Qgbj1pKDE4OCkscj1zKGkoMSkpLG89aSgyNyk7ZS5TbHVyUmVhZGVyPWNsYXNze2NvbnN0cnVjdG9yKHQpe3RoaXMub3BlblNsdXJEaWN0PXt9LHRoaXMubXVzaWNTaGVldD10fWFkZFNsdXIodCxlKXt0cnl7aWYodClmb3IoY29uc3QgaSBvZiB0KWlmKGkuYXR0cmlidXRlcygpLmxlbmd0aD4wKXtjb25zdCB0PWkuYXR0cmlidXRlKFwidHlwZVwiKS52YWx1ZTtsZXQgcz0xO3RyeXtpLmF0dHJpYnV0ZShcIm51bWJlclwiKSYmKHM9cGFyc2VJbnQoaS5hdHRyaWJ1dGUoXCJudW1iZXJcIikudmFsdWUsMTApKX1jYXRjaCh0KXtyLmRlZmF1bHQuZGVidWcoXCJWb2ljZUdlbmVyYXRvci5hZGRTbHVyIG51bWJlcjogXCIsdCl9aWYoXCJzdGFydFwiPT09dCl7bGV0IHQ9dGhpcy5vcGVuU2x1ckRpY3Rbc107dHx8KHQ9bmV3IG4uU2x1cix0aGlzLm9wZW5TbHVyRGljdFtzXT10KSx0LlN0YXJ0Tm90ZT1lfWVsc2UgaWYoXCJzdG9wXCI9PT10KXtjb25zdCB0PXRoaXMub3BlblNsdXJEaWN0W3NdO2lmKHQpe2lmKHQuRW5kTm90ZT1lLCFlLmNoZWNrRm9yRG91YmxlU2x1cih0KSl7ZS5Ob3RlU2x1cnMucHVzaCh0KSx0LlN0YXJ0Tm90ZS5Ob3RlU2x1cnMucHVzaCh0KX1kZWxldGUgdGhpcy5vcGVuU2x1ckRpY3Rbc119fX19Y2F0Y2godCl7Y29uc3QgZT1vLklUZXh0VHJhbnNsYXRpb24udHJhbnNsYXRlVGV4dChcIlJlYWRlckVycm9yTWVzc2FnZXMvU2x1ckVycm9yXCIsXCJFcnJvciB3aGlsZSByZWFkaW5nIHNsdXIuXCIpO3RoaXMubXVzaWNTaGVldC5TaGVldEVycm9ycy5wdXNoTWVhc3VyZUVycm9yKGUpfX19fSxmdW5jdGlvbih0LGUsaSl7XCJ1c2Ugc3RyaWN0XCI7dmFyIHM9dGhpcyYmdGhpcy5fX2ltcG9ydERlZmF1bHR8fGZ1bmN0aW9uKHQpe3JldHVybiB0JiZ0Ll9fZXNNb2R1bGU/dDp7ZGVmYXVsdDp0fX07T2JqZWN0LmRlZmluZVByb3BlcnR5KGUsXCJfX2VzTW9kdWxlXCIse3ZhbHVlOiEwfSk7Y29uc3Qgbj1pKDgpLHI9cyhpKDEpKTtjbGFzcyBve2NvbnN0cnVjdG9yKHQpe3RoaXMucGFyZW50SW5zdHJ1bWVudD10LHRoaXMuZml4ZWRLZXk9LTEsdGhpcy5uYW1lPXRoaXMucGFyc2VNaWRpSW5zdHJ1bWVudCh0aGlzLnBhcmVudEluc3RydW1lbnQuTmFtZSksdGhpcy5taWRpSW5zdHJ1bWVudElEPW8ubWlkaUluc3RydW1lbnRbdGhpcy5uYW1lXSx0aGlzLnZvbHVtZT0xfWdldCBQYXJlbnRJbnN0cnVtZW50KCl7cmV0dXJuIHRoaXMucGFyZW50SW5zdHJ1bWVudH1zdGF0aWMgaXNQaWFub0luc3RydW1lbnQodCl7cmV0dXJuIHQ9PT1uLk1pZGlJbnN0cnVtZW50LkFjb3VzdGljX0dyYW5kX1BpYW5vfHx0PT09bi5NaWRpSW5zdHJ1bWVudC5CcmlnaHRfQWNvdXN0aWNfUGlhbm98fHQ9PT1uLk1pZGlJbnN0cnVtZW50LkVsZWN0cmljX0dyYW5kX1BpYW5vfHx0PT09bi5NaWRpSW5zdHJ1bWVudC5FbGVjdHJpY19QaWFub18xfHx0PT09bi5NaWRpSW5zdHJ1bWVudC5FbGVjdHJpY19QaWFub18yfXNldE1pZGlJbnN0cnVtZW50KHQpe3RoaXMubWlkaUluc3RydW1lbnRJRD1vLm1pZGlJbnN0cnVtZW50W3RoaXMucGFyc2VNaWRpSW5zdHJ1bWVudCh0KV19cGFyc2VNaWRpSW5zdHJ1bWVudCh0KXt0cnl7aWYodCl7Y29uc3QgZT10LnRvTG93ZXJDYXNlKCkudHJpbSgpO2Zvcihjb25zdCB0IGluIG8ubWlkaUluc3RydW1lbnQpaWYoLTEhPT1lLmluZGV4T2YodCkpcmV0dXJuIHR9aWYodGhpcy5wYXJlbnRJbnN0cnVtZW50Lk5hbWUpe2NvbnN0IHQ9dGhpcy5wYXJlbnRJbnN0cnVtZW50Lk5hbWUudG9Mb3dlckNhc2UoKS50cmltKCk7Zm9yKGNvbnN0IGUgaW4gby5taWRpSW5zdHJ1bWVudClpZigtMSE9PXQuaW5kZXhPZihlKSlyZXR1cm4gZX19Y2F0Y2godCl7ci5kZWZhdWx0LmVycm9yKFwiRXJyb3IgcGFyc2luZyBNSURJIEluc3RydW1lbnQuIERlZmF1bHQgdG8gR3JhbmQgUGlhbm8uXCIpfXJldHVyblwidW5uYW1lZFwifX1lLlN1Ykluc3RydW1lbnQ9byxvLm1pZGlJbnN0cnVtZW50PXthbHQ6bi5NaWRpSW5zdHJ1bWVudC5TeW50aF9Wb2ljZSxhbHRvOm4uTWlkaUluc3RydW1lbnQuU3ludGhfVm9pY2UsYmFuam86bi5NaWRpSW5zdHJ1bWVudC5CYW5qbyxiYXJpdG9uOm4uTWlkaUluc3RydW1lbnQuU3ludGhfVm9pY2UsYmFyaXRvbmU6bi5NaWRpSW5zdHJ1bWVudC5TeW50aF9Wb2ljZSxiYXNzOm4uTWlkaUluc3RydW1lbnQuU3ludGhfVm9pY2UsXCJibG9ja2Zsw7Z0ZVwiOm4uTWlkaUluc3RydW1lbnQuUmVjb3JkZXIsYnJhc3M6bi5NaWRpSW5zdHJ1bWVudC5Ucm9tYm9uZSxicmF0c2NoZTpuLk1pZGlJbnN0cnVtZW50LlZpb2xhLGNlbGxvOm4uTWlkaUluc3RydW1lbnQuQ2VsbG8sY2xhcmluZXQ6bi5NaWRpSW5zdHJ1bWVudC5DbGFyaW5ldCxjb250cmFiYXNzOm4uTWlkaUluc3RydW1lbnQuQ29udHJhYmFzcyxkcnVtczpuLk1pZGlJbnN0cnVtZW50LlBlcmN1c3Npb24sZmx1dGU6bi5NaWRpSW5zdHJ1bWVudC5GbHV0ZSxcImZsw7Z0ZVwiOm4uTWlkaUluc3RydW1lbnQuRmx1dGUsZnJlbmNoaG9ybjpuLk1pZGlJbnN0cnVtZW50LkZyZW5jaF9Ib3JuLGdpdGFycmU6bi5NaWRpSW5zdHJ1bWVudC5BY291c3RpY19HdWl0YXJfbnlsb24sZ3VpdGFyOm4uTWlkaUluc3RydW1lbnQuQWNvdXN0aWNfR3VpdGFyX255bG9uLGhhcmZlOm4uTWlkaUluc3RydW1lbnQuT3JjaGVzdHJhbF9IYXJwLGhhcnA6bi5NaWRpSW5zdHJ1bWVudC5PcmNoZXN0cmFsX0hhcnAsa2xhcmluZXR0ZTpuLk1pZGlJbnN0cnVtZW50LkNsYXJpbmV0LGtsYXZpZXI6bi5NaWRpSW5zdHJ1bWVudC5BY291c3RpY19HcmFuZF9QaWFubyxrb250cmFiYXNzOm4uTWlkaUluc3RydW1lbnQuQ29udHJhYmFzcyxvYm9lOm4uTWlkaUluc3RydW1lbnQuT2JvZSxvcmdhbjpuLk1pZGlJbnN0cnVtZW50LkNodXJjaF9PcmdhbixvcmdlbDpuLk1pZGlJbnN0cnVtZW50LkNodXJjaF9Pcmdhbixvcmd1ZTpuLk1pZGlJbnN0cnVtZW50LkNodXJjaF9PcmdhbixwZXJjdXNzaW9uOm4uTWlkaUluc3RydW1lbnQuUGVyY3Vzc2lvbixwaWFubzpuLk1pZGlJbnN0cnVtZW50LkFjb3VzdGljX0dyYW5kX1BpYW5vLHBpY2NvbG86bi5NaWRpSW5zdHJ1bWVudC5QaWNjb2xvLHBvc2F1bmU6bi5NaWRpSW5zdHJ1bWVudC5Ucm9tYm9uZSxyZWNvcmRlcjpuLk1pZGlJbnN0cnVtZW50LlJlY29yZGVyLHNheDpuLk1pZGlJbnN0cnVtZW50LlRlbm9yX1NheCxzY2hsYWd3ZXJrOm4uTWlkaUluc3RydW1lbnQuUGVyY3Vzc2lvbixzY2hsYWd6ZXVnOm4uTWlkaUluc3RydW1lbnQuUGVyY3Vzc2lvbixzb3ByYW46bi5NaWRpSW5zdHJ1bWVudC5TeW50aF9Wb2ljZSxzdGVlbGRydW06bi5NaWRpSW5zdHJ1bWVudC5TdGVlbF9EcnVtcyxzdHJlaWNoZXI6bi5NaWRpSW5zdHJ1bWVudC5TdHJpbmdfRW5zZW1ibGVfMSxzdHJpbmdzOm4uTWlkaUluc3RydW1lbnQuU3RyaW5nX0Vuc2VtYmxlXzEsdGVub3I6bi5NaWRpSW5zdHJ1bWVudC5TeW50aF9Wb2ljZSx0cHQ6bi5NaWRpSW5zdHJ1bWVudC5UcnVtcGV0LHRyb21ib25lOm4uTWlkaUluc3RydW1lbnQuVHJvbWJvbmUsdHJvbXBldGU6bi5NaWRpSW5zdHJ1bWVudC5UcnVtcGV0LHRydW1wZXQ6bi5NaWRpSW5zdHJ1bWVudC5UcnVtcGV0LHR1YmE6bi5NaWRpSW5zdHJ1bWVudC5UdWJhLHVubmFtZWQ6bi5NaWRpSW5zdHJ1bWVudC5BY291c3RpY19HcmFuZF9QaWFubyx2aW9sYTpuLk1pZGlJbnN0cnVtZW50LlZpb2xhLHZpb2xpbjpuLk1pZGlJbnN0cnVtZW50LlZpb2xpbixcInZpb2xvbi1jXCI6bi5NaWRpSW5zdHJ1bWVudC5DZWxsbyxcInZpb2xvbi5cIjpuLk1pZGlJbnN0cnVtZW50LlZpb2xpbix2b2ljZTpuLk1pZGlJbnN0cnVtZW50LlN5bnRoX1ZvaWNlLHdvb2RibG9jazpuLk1pZGlJbnN0cnVtZW50Lldvb2RibG9ja319LGZ1bmN0aW9uKHQsZSxpKXtcInVzZSBzdHJpY3RcIjtPYmplY3QuZGVmaW5lUHJvcGVydHkoZSxcIl9fZXNNb2R1bGVcIix7dmFsdWU6ITB9KTtjb25zdCBzPWkoMTQ1KSxuPWkoMTQ2KTtlLk11c2ljU3ltYm9sTW9kdWxlRmFjdG9yeT1jbGFzc3tzdGF0aWMgY3JlYXRlUmVwZXRpdGlvbkluc3RydWN0aW9uUmVhZGVyKCl7cmV0dXJuIG5ldyBzLlJlcGV0aXRpb25JbnN0cnVjdGlvblJlYWRlcn1zdGF0aWMgY3JlYXRlUmVwZXRpdGlvbkNhbGN1bGF0b3IoKXtyZXR1cm4gbmV3IG4uUmVwZXRpdGlvbkNhbGN1bGF0b3J9fX0sZnVuY3Rpb24odCxlLGkpe1widXNlIHN0cmljdFwiO09iamVjdC5kZWZpbmVQcm9wZXJ0eShlLFwiX19lc01vZHVsZVwiLHt2YWx1ZTohMH0pO2NvbnN0IHM9aSgyNiksbj1pKDI2KSxyPWkoMTg5KTtlLlJlcGV0aXRpb25JbnN0cnVjdGlvblJlYWRlcj1jbGFzc3tzZXQgTXVzaWNTaGVldCh0KXt0aGlzLm11c2ljU2hlZXQ9dCx0aGlzLnhtbE1lYXN1cmVMaXN0PW5ldyBBcnJheSh0aGlzLm11c2ljU2hlZXQuSW5zdHJ1bWVudHMubGVuZ3RoKSx0aGlzLnJlcGV0aXRpb25JbnN0cnVjdGlvbnM9W119cHJlcGFyZVJlYWRpbmdNZWFzdXJlKHQsZSl7dGhpcy5jdXJyZW50TWVhc3VyZUluZGV4PWV9aGFuZGxlTGluZVJlcGV0aXRpb25JbnN0cnVjdGlvbnModCl7bGV0IGU9ITE7aWYodC5lbGVtZW50cygpLmxlbmd0aD4wKXtsZXQgaT1cIlwiLG49ITEscj1cIlwiLG89XCJcIixhPVwiXCI7Y29uc3QgaD1bXSxsPXQuZWxlbWVudChcImJhci1zdHlsZVwiKTtsJiYoYT1sLnZhbHVlKSxpPXQuYXR0cmlidXRlcygpLmxlbmd0aD4wJiZ0LmF0dHJpYnV0ZShcImxvY2F0aW9uXCIpP3QuYXR0cmlidXRlKFwibG9jYXRpb25cIikudmFsdWU6XCJyaWdodFwiO2NvbnN0IGM9dC5lbGVtZW50cygpO2ZvcihsZXQgdD0wLGU9Yy5sZW5ndGg7dDxlOysrdCl7Y29uc3QgZT1jW3RdO2lmKFwicmVwZWF0XCI9PT1lLm5hbWUmJmUuaGFzQXR0cmlidXRlcyluPSEwLHI9ZS5hdHRyaWJ1dGUoXCJkaXJlY3Rpb25cIikudmFsdWU7ZWxzZSBpZihcImVuZGluZ1wiPT09ZS5uYW1lJiZlLmhhc0F0dHJpYnV0ZXMmJnZvaWQgMCE9PWUuYXR0cmlidXRlKFwidHlwZVwiKSYmZS5hdHRyaWJ1dGUoXCJudW1iZXJcIikpe289ZS5hdHRyaWJ1dGUoXCJ0eXBlXCIpLnZhbHVlO2NvbnN0IHQ9ZS5hdHRyaWJ1dGUoXCJudW1iZXJcIikudmFsdWUuc3BsaXQoXCJbLCtdXCIpO2ZvcihsZXQgZT0wLGk9dC5sZW5ndGg7ZTxpOysrZSl7Y29uc3QgaT10W2VdLHM9aS5tYXRjaChcIlswLTldXCIpO2lmKC0xIT09aS5zZWFyY2goXCItXCIpJiYyPT09cy5sZW5ndGgpe2NvbnN0IHQ9cGFyc2VJbnQoc1swXSwxMCksZT1wYXJzZUludChzWzFdLDEwKTtmb3IobGV0IGk9dDtpPD1lO2krKyloLnB1c2goaSl9ZWxzZSBmb3IobGV0IHQ9MCxlPXMubGVuZ3RoO3Q8ZTsrK3Qpe2NvbnN0IGU9c1t0XTtoLnB1c2gocGFyc2VJbnQoZSwxMCkpfX19fWlmKFwibGlnaHQtaGVhdnlcIiE9PWF8fDAhPT1oLmxlbmd0aHx8bnx8KGU9ITApLG58fGgubGVuZ3RoPjApaWYoXCJsZWZ0XCI9PT1pKXtpZihcInN0YXJ0XCI9PT1vKXtjb25zdCB0PW5ldyBzLlJlcGV0aXRpb25JbnN0cnVjdGlvbih0aGlzLmN1cnJlbnRNZWFzdXJlSW5kZXgscy5SZXBldGl0aW9uSW5zdHJ1Y3Rpb25FbnVtLkVuZGluZyxzLkFsaWdubWVudFR5cGUuQmVnaW4sdm9pZCAwLGgpO3RoaXMuYWRkSW5zdHJ1Y3Rpb24odGhpcy5yZXBldGl0aW9uSW5zdHJ1Y3Rpb25zLHQpfWlmKFwiZm9yd2FyZFwiPT09cil7Y29uc3QgdD1uZXcgcy5SZXBldGl0aW9uSW5zdHJ1Y3Rpb24odGhpcy5jdXJyZW50TWVhc3VyZUluZGV4LHMuUmVwZXRpdGlvbkluc3RydWN0aW9uRW51bS5TdGFydExpbmUpO3RoaXMuYWRkSW5zdHJ1Y3Rpb24odGhpcy5yZXBldGl0aW9uSW5zdHJ1Y3Rpb25zLHQpfX1lbHNle2lmKFwic3RvcFwiPT09byl7Y29uc3QgdD1uZXcgcy5SZXBldGl0aW9uSW5zdHJ1Y3Rpb24odGhpcy5jdXJyZW50TWVhc3VyZUluZGV4LHMuUmVwZXRpdGlvbkluc3RydWN0aW9uRW51bS5FbmRpbmcscy5BbGlnbm1lbnRUeXBlLkVuZCx2b2lkIDAsaCk7dGhpcy5hZGRJbnN0cnVjdGlvbih0aGlzLnJlcGV0aXRpb25JbnN0cnVjdGlvbnMsdCl9aWYoXCJiYWNrd2FyZFwiPT09cil7Y29uc3QgdD1uZXcgcy5SZXBldGl0aW9uSW5zdHJ1Y3Rpb24odGhpcy5jdXJyZW50TWVhc3VyZUluZGV4LHMuUmVwZXRpdGlvbkluc3RydWN0aW9uRW51bS5CYWNrSnVtcExpbmUpO3RoaXMuYWRkSW5zdHJ1Y3Rpb24odGhpcy5yZXBldGl0aW9uSW5zdHJ1Y3Rpb25zLHQpfX19cmV0dXJuIGV9aGFuZGxlUmVwZXRpdGlvbkluc3RydWN0aW9uc0Zyb21Xb3Jkc09yU3ltYm9scyh0LGUpe2NvbnN0IGk9dC5lbGVtZW50KFwid29yZHNcIik7aWYoaSl7Y29uc3QgdD1cImRcXFxccz9cXFxcLnNcXFxcLlwiLG49aS52YWx1ZS50cmltKCkudG9Mb3dlckNhc2UoKTtpZihyLlN0cmluZ1V0aWwuU3RyaW5nQ29udGFpbnNTZXBhcmF0ZWRXb3JkKG4sdCtcIiBhbCBmaW5lXCIpKXtsZXQgdD10aGlzLmN1cnJlbnRNZWFzdXJlSW5kZXg7ZTwuNSYmdGhpcy5jdXJyZW50TWVhc3VyZUluZGV4PHRoaXMueG1sTWVhc3VyZUxpc3RbMF0ubGVuZ3RoLTEmJnQtLTtjb25zdCBpPW5ldyBzLlJlcGV0aXRpb25JbnN0cnVjdGlvbih0LHMuUmVwZXRpdGlvbkluc3RydWN0aW9uRW51bS5EYWxTZWdub0FsRmluZSk7cmV0dXJuIHRoaXMuYWRkSW5zdHJ1Y3Rpb24odGhpcy5yZXBldGl0aW9uSW5zdHJ1Y3Rpb25zLGkpLCEwfWNvbnN0IG89XCJkXFxcXC5cXFxccz9jXFxcXC5cIjtpZihyLlN0cmluZ1V0aWwuU3RyaW5nQ29udGFpbnNTZXBhcmF0ZWRXb3JkKG4sbytcIiBhbCBjb2RhXCIpKXtsZXQgdD10aGlzLmN1cnJlbnRNZWFzdXJlSW5kZXg7ZTwuNSYmdC0tO2NvbnN0IGk9bmV3IHMuUmVwZXRpdGlvbkluc3RydWN0aW9uKHQscy5SZXBldGl0aW9uSW5zdHJ1Y3Rpb25FbnVtLkRhbFNlZ25vQWxDb2RhKTtyZXR1cm4gdGhpcy5hZGRJbnN0cnVjdGlvbih0aGlzLnJlcGV0aXRpb25JbnN0cnVjdGlvbnMsaSksITB9aWYoci5TdHJpbmdVdGlsLlN0cmluZ0NvbnRhaW5zU2VwYXJhdGVkV29yZChuLG8rXCIgYWwgZmluZVwiKSl7bGV0IHQ9dGhpcy5jdXJyZW50TWVhc3VyZUluZGV4O2U8LjUmJnRoaXMuY3VycmVudE1lYXN1cmVJbmRleDx0aGlzLnhtbE1lYXN1cmVMaXN0WzBdLmxlbmd0aC0xJiZ0LS07Y29uc3QgaT1uZXcgcy5SZXBldGl0aW9uSW5zdHJ1Y3Rpb24odCxzLlJlcGV0aXRpb25JbnN0cnVjdGlvbkVudW0uRGFDYXBvQWxGaW5lKTtyZXR1cm4gdGhpcy5hZGRJbnN0cnVjdGlvbih0aGlzLnJlcGV0aXRpb25JbnN0cnVjdGlvbnMsaSksITB9aWYoci5TdHJpbmdVdGlsLlN0cmluZ0NvbnRhaW5zU2VwYXJhdGVkV29yZChuLG8rXCIgYWwgY29kYVwiKSl7bGV0IHQ9dGhpcy5jdXJyZW50TWVhc3VyZUluZGV4O2U8LjUmJnQtLTtjb25zdCBpPW5ldyBzLlJlcGV0aXRpb25JbnN0cnVjdGlvbih0LHMuUmVwZXRpdGlvbkluc3RydWN0aW9uRW51bS5EYUNhcG9BbENvZGEpO3JldHVybiB0aGlzLmFkZEluc3RydWN0aW9uKHRoaXMucmVwZXRpdGlvbkluc3RydWN0aW9ucyxpKSwhMH1pZihyLlN0cmluZ1V0aWwuU3RyaW5nQ29udGFpbnNTZXBhcmF0ZWRXb3JkKG4sbyl8fHIuU3RyaW5nVXRpbC5TdHJpbmdDb250YWluc1NlcGFyYXRlZFdvcmQobixcImRhXFxcXHM/Y2Fwb1wiKSl7bGV0IHQ9dGhpcy5jdXJyZW50TWVhc3VyZUluZGV4O2U8LjUmJnRoaXMuY3VycmVudE1lYXN1cmVJbmRleDx0aGlzLnhtbE1lYXN1cmVMaXN0WzBdLmxlbmd0aC0xJiZ0LS07Y29uc3QgaT1uZXcgcy5SZXBldGl0aW9uSW5zdHJ1Y3Rpb24odCxzLlJlcGV0aXRpb25JbnN0cnVjdGlvbkVudW0uRGFDYXBvKTtyZXR1cm4gdGhpcy5hZGRJbnN0cnVjdGlvbih0aGlzLnJlcGV0aXRpb25JbnN0cnVjdGlvbnMsaSksITB9aWYoci5TdHJpbmdVdGlsLlN0cmluZ0NvbnRhaW5zU2VwYXJhdGVkV29yZChuLHQpfHxyLlN0cmluZ1V0aWwuU3RyaW5nQ29udGFpbnNTZXBhcmF0ZWRXb3JkKG4sXCJkYWxcXFxccz9zZWdub1wiKSl7bGV0IHQ9dGhpcy5jdXJyZW50TWVhc3VyZUluZGV4O2U8LjUmJnRoaXMuY3VycmVudE1lYXN1cmVJbmRleDx0aGlzLnhtbE1lYXN1cmVMaXN0WzBdLmxlbmd0aC0xJiZ0LS07Y29uc3QgaT1uZXcgcy5SZXBldGl0aW9uSW5zdHJ1Y3Rpb24odCxzLlJlcGV0aXRpb25JbnN0cnVjdGlvbkVudW0uRGFsU2Vnbm8pO3JldHVybiB0aGlzLmFkZEluc3RydWN0aW9uKHRoaXMucmVwZXRpdGlvbkluc3RydWN0aW9ucyxpKSwhMH1pZihyLlN0cmluZ1V0aWwuU3RyaW5nQ29udGFpbnNTZXBhcmF0ZWRXb3JkKG4sXCJ0b1xcXFxzP2NvZGFcIil8fHIuU3RyaW5nVXRpbC5TdHJpbmdDb250YWluc1NlcGFyYXRlZFdvcmQobixcImEgKGxhICk/Y29kYVwiKSl7bGV0IHQ9dGhpcy5jdXJyZW50TWVhc3VyZUluZGV4O2U8LjUmJnQtLTtjb25zdCBpPW5ldyBzLlJlcGV0aXRpb25JbnN0cnVjdGlvbih0LHMuUmVwZXRpdGlvbkluc3RydWN0aW9uRW51bS5Ub0NvZGEpO3JldHVybiB0aGlzLmFkZEluc3RydWN0aW9uKHRoaXMucmVwZXRpdGlvbkluc3RydWN0aW9ucyxpKSwhMH1pZihyLlN0cmluZ1V0aWwuU3RyaW5nQ29udGFpbnNTZXBhcmF0ZWRXb3JkKG4sXCJmaW5lXCIpKXtsZXQgdD10aGlzLmN1cnJlbnRNZWFzdXJlSW5kZXg7ZTwuNSYmdC0tO2NvbnN0IGk9bmV3IHMuUmVwZXRpdGlvbkluc3RydWN0aW9uKHQscy5SZXBldGl0aW9uSW5zdHJ1Y3Rpb25FbnVtLkZpbmUpO3JldHVybiB0aGlzLmFkZEluc3RydWN0aW9uKHRoaXMucmVwZXRpdGlvbkluc3RydWN0aW9ucyxpKSwhMH1pZihyLlN0cmluZ1V0aWwuU3RyaW5nQ29udGFpbnNTZXBhcmF0ZWRXb3JkKG4sXCJjb2RhXCIpKXtsZXQgdD10aGlzLmN1cnJlbnRNZWFzdXJlSW5kZXg7ZT4uNSYmdCsrO2NvbnN0IGk9bmV3IHMuUmVwZXRpdGlvbkluc3RydWN0aW9uKHQscy5SZXBldGl0aW9uSW5zdHJ1Y3Rpb25FbnVtLkNvZGEpO3JldHVybiB0aGlzLmFkZEluc3RydWN0aW9uKHRoaXMucmVwZXRpdGlvbkluc3RydWN0aW9ucyxpKSwhMH1pZihyLlN0cmluZ1V0aWwuU3RyaW5nQ29udGFpbnNTZXBhcmF0ZWRXb3JkKG4sXCJzZWdub1wiKSl7bGV0IHQ9dGhpcy5jdXJyZW50TWVhc3VyZUluZGV4O2U+LjUmJnQrKztjb25zdCBpPW5ldyBzLlJlcGV0aXRpb25JbnN0cnVjdGlvbih0LHMuUmVwZXRpdGlvbkluc3RydWN0aW9uRW51bS5TZWdubyk7cmV0dXJuIHRoaXMuYWRkSW5zdHJ1Y3Rpb24odGhpcy5yZXBldGl0aW9uSW5zdHJ1Y3Rpb25zLGkpLCEwfX1lbHNle2lmKHQuZWxlbWVudChcInNlZ25vXCIpKXtsZXQgdD10aGlzLmN1cnJlbnRNZWFzdXJlSW5kZXg7ZT4uNSYmdCsrO2NvbnN0IGk9bmV3IHMuUmVwZXRpdGlvbkluc3RydWN0aW9uKHQscy5SZXBldGl0aW9uSW5zdHJ1Y3Rpb25FbnVtLlNlZ25vKTtyZXR1cm4gdGhpcy5hZGRJbnN0cnVjdGlvbih0aGlzLnJlcGV0aXRpb25JbnN0cnVjdGlvbnMsaSksITB9aWYodC5lbGVtZW50KFwiY29kYVwiKSl7bGV0IHQ9dGhpcy5jdXJyZW50TWVhc3VyZUluZGV4O2U+LjUmJnQrKztjb25zdCBpPW5ldyBzLlJlcGV0aXRpb25JbnN0cnVjdGlvbih0LHMuUmVwZXRpdGlvbkluc3RydWN0aW9uRW51bS5Db2RhKTtyZXR1cm4gdGhpcy5hZGRJbnN0cnVjdGlvbih0aGlzLnJlcGV0aXRpb25JbnN0cnVjdGlvbnMsaSksITB9fXJldHVybiExfXJlbW92ZVJlZHVuZGFudEluc3RydWN0aW9ucygpe2xldCB0PTAsZT0wLGk9MCxyPTA7Zm9yKGxldCBuPTA7bjx0aGlzLnJlcGV0aXRpb25JbnN0cnVjdGlvbnMubGVuZ3RoO24rKyl7Y29uc3Qgbz10aGlzLnJlcGV0aXRpb25JbnN0cnVjdGlvbnNbbl07c3dpdGNoKG8udHlwZSl7Y2FzZSBzLlJlcGV0aXRpb25JbnN0cnVjdGlvbkVudW0uQ29kYTppPjAmJnRoaXMuZmluZEluc3RydWN0aW9uSW5QcmV2aW91c01lYXN1cmUobixvLm1lYXN1cmVJbmRleCxzLlJlcGV0aXRpb25JbnN0cnVjdGlvbkVudW0uVG9Db2RhKSYmKG8udHlwZT1zLlJlcGV0aXRpb25JbnN0cnVjdGlvbkVudW0uTm9uZSksMD09PWUmJjA9PT1pJiYoby50eXBlPXMuUmVwZXRpdGlvbkluc3RydWN0aW9uRW51bS5Ub0NvZGEsby5hbGlnbm1lbnQ9cy5BbGlnbm1lbnRUeXBlLkVuZCxvLm1lYXN1cmVJbmRleC0tKTticmVhaztjYXNlIHMuUmVwZXRpdGlvbkluc3RydWN0aW9uRW51bS5TZWdubzppZih0LXI+MCl7bGV0IHQ9ITE7Zm9yKGxldCBuPTAscj10aGlzLnJlcGV0aXRpb25JbnN0cnVjdGlvbnMubGVuZ3RoO248cjsrK24pe2NvbnN0IHI9dGhpcy5yZXBldGl0aW9uSW5zdHJ1Y3Rpb25zW25dO2lmKG8ubWVhc3VyZUluZGV4LXIubWVhc3VyZUluZGV4PT0xKXN3aXRjaChyLnR5cGUpe2Nhc2Ugcy5SZXBldGl0aW9uSW5zdHJ1Y3Rpb25FbnVtLkJhY2tKdW1wTGluZTpyLnR5cGU9aS1lPjA/cy5SZXBldGl0aW9uSW5zdHJ1Y3Rpb25FbnVtLkRhbFNlZ25vQWxDb2RhOnMuUmVwZXRpdGlvbkluc3RydWN0aW9uRW51bS5EYWxTZWdubyxvLnR5cGU9cy5SZXBldGl0aW9uSW5zdHJ1Y3Rpb25FbnVtLk5vbmUsdD0hMDticmVhaztjYXNlIHMuUmVwZXRpdGlvbkluc3RydWN0aW9uRW51bS5EYWxTZWdubzpjYXNlIHMuUmVwZXRpdGlvbkluc3RydWN0aW9uRW51bS5EYWxTZWdub0FsRmluZTpjYXNlIHMuUmVwZXRpdGlvbkluc3RydWN0aW9uRW51bS5EYWxTZWdub0FsQ29kYTpvLnR5cGU9cy5SZXBldGl0aW9uSW5zdHJ1Y3Rpb25FbnVtLk5vbmUsdD0hMH1pZih0KWJyZWFrfWlmKHQpYnJlYWs7by50eXBlPWktZT4wP3MuUmVwZXRpdGlvbkluc3RydWN0aW9uRW51bS5EYWxTZWdub0FsQ29kYTpzLlJlcGV0aXRpb25JbnN0cnVjdGlvbkVudW0uRGFsU2Vnbm8sby5hbGlnbm1lbnQ9cy5BbGlnbm1lbnRUeXBlLkVuZCxvLm1lYXN1cmVJbmRleC0tfX1pZih0aGlzLmJhY2t3YXJkU2VhcmNoRm9yUHJldmlvdXNJZGVudGljYWxJbnN0cnVjdGlvbihuLG8pfHxvLnR5cGU9PT1zLlJlcGV0aXRpb25JbnN0cnVjdGlvbkVudW0uTm9uZSl0aGlzLnJlcGV0aXRpb25JbnN0cnVjdGlvbnMuc3BsaWNlKG4sMSksbi0tO2Vsc2Ugc3dpdGNoKG8udHlwZSl7Y2FzZSBzLlJlcGV0aXRpb25JbnN0cnVjdGlvbkVudW0uRmluZTpicmVhaztjYXNlIHMuUmVwZXRpdGlvbkluc3RydWN0aW9uRW51bS5Ub0NvZGE6aSsrO2JyZWFrO2Nhc2Ugcy5SZXBldGl0aW9uSW5zdHJ1Y3Rpb25FbnVtLkNvZGE6ZSsrO2JyZWFrO2Nhc2Ugcy5SZXBldGl0aW9uSW5zdHJ1Y3Rpb25FbnVtLlNlZ25vOnQrKzticmVhaztjYXNlIHMuUmVwZXRpdGlvbkluc3RydWN0aW9uRW51bS5EYWxTZWdub0FsRmluZTpjYXNlIHMuUmVwZXRpdGlvbkluc3RydWN0aW9uRW51bS5EYWxTZWdub0FsQ29kYTpyKyt9fXRoaXMucmVwZXRpdGlvbkluc3RydWN0aW9ucy5zb3J0KG4uUmVwZXRpdGlvbkluc3RydWN0aW9uQ29tcGFyZXIuQ29tcGFyZSl9ZmluZEluc3RydWN0aW9uSW5QcmV2aW91c01lYXN1cmUodCxlLGkpe2ZvcihsZXQgcz10LTE7cz49MDtzLS0pe2NvbnN0IHQ9dGhpcy5yZXBldGl0aW9uSW5zdHJ1Y3Rpb25zW3NdO2lmKGUtdC5tZWFzdXJlSW5kZXg9PTEmJnQudHlwZT09PWkpcmV0dXJuITB9cmV0dXJuITF9YmFja3dhcmRTZWFyY2hGb3JQcmV2aW91c0lkZW50aWNhbEluc3RydWN0aW9uKHQsZSl7Zm9yKGxldCBpPXQtMTtpPj0wO2ktLSl7aWYodGhpcy5yZXBldGl0aW9uSW5zdHJ1Y3Rpb25zW2ldLmVxdWFscyhlKSlyZXR1cm4hMH1yZXR1cm4hMX1hZGRJbnN0cnVjdGlvbih0LGUpe2xldCBpPSEwO2ZvcihsZXQgcz0wLG49dC5sZW5ndGg7czxuOysrcyl7Y29uc3Qgbj10W3NdO2lmKGUuZXF1YWxzKG4pKXtpPSExO2JyZWFrfX1pJiZ0LnB1c2goZSl9fX0sZnVuY3Rpb24odCxlLGkpe1widXNlIHN0cmljdFwiO09iamVjdC5kZWZpbmVQcm9wZXJ0eShlLFwiX19lc01vZHVsZVwiLHt2YWx1ZTohMH0pO2NvbnN0IHM9aSgyNiksbj1pKDI2KSxyPWkoMTEpO2UuUmVwZXRpdGlvbkNhbGN1bGF0b3I9Y2xhc3N7Y29uc3RydWN0b3IoKXt0aGlzLnJlcGV0aXRpb25JbnN0cnVjdGlvbnM9W119Y2FsY3VsYXRlUmVwZXRpdGlvbnModCxlKXt0aGlzLm11c2ljU2hlZXQ9dCx0aGlzLnJlcGV0aXRpb25JbnN0cnVjdGlvbnM9ZTtjb25zdCBpPXRoaXMubXVzaWNTaGVldC5Tb3VyY2VNZWFzdXJlcztmb3IobGV0IHQ9MCxlPXRoaXMucmVwZXRpdGlvbkluc3RydWN0aW9ucy5sZW5ndGg7dDxlOysrdCl7Y29uc3QgZT10aGlzLnJlcGV0aXRpb25JbnN0cnVjdGlvbnNbdF07dGhpcy5jdXJyZW50TWVhc3VyZUluZGV4PWUubWVhc3VyZUluZGV4LHRoaXMuY3VycmVudE1lYXN1cmU9aVt0aGlzLmN1cnJlbnRNZWFzdXJlSW5kZXhdLHRoaXMuaGFuZGxlUmVwZXRpdGlvbkluc3RydWN0aW9ucyhlKX1mb3IobGV0IHQ9MCxlPXRoaXMubXVzaWNTaGVldC5Tb3VyY2VNZWFzdXJlcy5sZW5ndGg7dDxlOysrdCl7Y29uc3QgZT10aGlzLm11c2ljU2hlZXQuU291cmNlTWVhc3VyZXNbdF07ZS5GaXJzdFJlcGV0aXRpb25JbnN0cnVjdGlvbnMubGVuZ3RoPjEmJmUuRmlyc3RSZXBldGl0aW9uSW5zdHJ1Y3Rpb25zLnNvcnQobi5SZXBldGl0aW9uSW5zdHJ1Y3Rpb25Db21wYXJlci5Db21wYXJlKSxlLkxhc3RSZXBldGl0aW9uSW5zdHJ1Y3Rpb25zLmxlbmd0aD4xJiZlLkxhc3RSZXBldGl0aW9uSW5zdHJ1Y3Rpb25zLnNvcnQobi5SZXBldGl0aW9uSW5zdHJ1Y3Rpb25Db21wYXJlci5Db21wYXJlKX19aGFuZGxlUmVwZXRpdGlvbkluc3RydWN0aW9ucyh0KXtpZighdGhpcy5jdXJyZW50TWVhc3VyZSlyZXR1cm4hMTtzd2l0Y2godC50eXBlKXtjYXNlIHMuUmVwZXRpdGlvbkluc3RydWN0aW9uRW51bS5TdGFydExpbmU6dGhpcy5jdXJyZW50TWVhc3VyZS5GaXJzdFJlcGV0aXRpb25JbnN0cnVjdGlvbnMucHVzaCh0KTticmVhaztjYXNlIHMuUmVwZXRpdGlvbkluc3RydWN0aW9uRW51bS5CYWNrSnVtcExpbmU6dGhpcy5jdXJyZW50TWVhc3VyZS5MYXN0UmVwZXRpdGlvbkluc3RydWN0aW9ucy5wdXNoKHQpO2JyZWFrO2Nhc2Ugcy5SZXBldGl0aW9uSW5zdHJ1Y3Rpb25FbnVtLkVuZGluZzppZih0LmFsaWdubWVudD09PXMuQWxpZ25tZW50VHlwZS5CZWdpbil0aGlzLmN1cnJlbnRNZWFzdXJlLkZpcnN0UmVwZXRpdGlvbkluc3RydWN0aW9ucy5wdXNoKHQpO2Vsc2UgZm9yKGxldCBlPTAsaT10LmVuZGluZ0luZGljZXMubGVuZ3RoO2U8aTsrK2UpdGhpcy5jdXJyZW50TWVhc3VyZS5MYXN0UmVwZXRpdGlvbkluc3RydWN0aW9ucy5wdXNoKHQpO2JyZWFrO2Nhc2Ugcy5SZXBldGl0aW9uSW5zdHJ1Y3Rpb25FbnVtLlNlZ25vOnRoaXMuY3VycmVudE1lYXN1cmUuRmlyc3RSZXBldGl0aW9uSW5zdHJ1Y3Rpb25zLnB1c2godCk7YnJlYWs7Y2FzZSBzLlJlcGV0aXRpb25JbnN0cnVjdGlvbkVudW0uRmluZTpjYXNlIHMuUmVwZXRpdGlvbkluc3RydWN0aW9uRW51bS5Ub0NvZGE6Y2FzZSBzLlJlcGV0aXRpb25JbnN0cnVjdGlvbkVudW0uQ29kYTpjYXNlIHMuUmVwZXRpdGlvbkluc3RydWN0aW9uRW51bS5EYUNhcG86Y2FzZSBzLlJlcGV0aXRpb25JbnN0cnVjdGlvbkVudW0uRGFsU2Vnbm86Y2FzZSBzLlJlcGV0aXRpb25JbnN0cnVjdGlvbkVudW0uRGFsU2Vnbm9BbEZpbmU6Y2FzZSBzLlJlcGV0aXRpb25JbnN0cnVjdGlvbkVudW0uRGFDYXBvQWxGaW5lOmNhc2Ugcy5SZXBldGl0aW9uSW5zdHJ1Y3Rpb25FbnVtLkRhbFNlZ25vQWxDb2RhOmNhc2Ugcy5SZXBldGl0aW9uSW5zdHJ1Y3Rpb25FbnVtLkRhQ2Fwb0FsQ29kYTp0aGlzLmN1cnJlbnRNZWFzdXJlLkxhc3RSZXBldGl0aW9uSW5zdHJ1Y3Rpb25zLnB1c2godCk7YnJlYWs7Y2FzZSBzLlJlcGV0aXRpb25JbnN0cnVjdGlvbkVudW0uTm9uZTpicmVhaztkZWZhdWx0OnRocm93IG5ldyByLkFyZ3VtZW50T3V0T2ZSYW5nZUV4Y2VwdGlvbihcImN1cnJlbnRSZXBldGl0aW9uSW5zdHJ1Y3Rpb25cIil9cmV0dXJuITB9fX0sZnVuY3Rpb24odCxlLGkpe1widXNlIHN0cmljdFwiO2Z1bmN0aW9uIHModCl7Zm9yKHZhciBpIGluIHQpZS5oYXNPd25Qcm9wZXJ0eShpKXx8KGVbaV09dFtpXSl9T2JqZWN0LmRlZmluZVByb3BlcnR5KGUsXCJfX2VzTW9kdWxlXCIse3ZhbHVlOiEwfSkscyhpKDExKSkscyhpKDYwKSkscyhpKDYxKSkscyhpKDEzKSkscyhpKDEzMSkpLHMoaSgxNDMpKSxzKGkoMzkpKSxzKGkoMTkwKSkscyhpKDE5MikpLHMoaSg1MCkpfSxmdW5jdGlvbih0LGUpe3ZhciBpLHMsbj10LmV4cG9ydHM9e307ZnVuY3Rpb24gcigpe3Rocm93IG5ldyBFcnJvcihcInNldFRpbWVvdXQgaGFzIG5vdCBiZWVuIGRlZmluZWRcIil9ZnVuY3Rpb24gbygpe3Rocm93IG5ldyBFcnJvcihcImNsZWFyVGltZW91dCBoYXMgbm90IGJlZW4gZGVmaW5lZFwiKX1mdW5jdGlvbiBhKHQpe2lmKGk9PT1zZXRUaW1lb3V0KXJldHVybiBzZXRUaW1lb3V0KHQsMCk7aWYoKGk9PT1yfHwhaSkmJnNldFRpbWVvdXQpcmV0dXJuIGk9c2V0VGltZW91dCxzZXRUaW1lb3V0KHQsMCk7dHJ5e3JldHVybiBpKHQsMCl9Y2F0Y2goZSl7dHJ5e3JldHVybiBpLmNhbGwobnVsbCx0LDApfWNhdGNoKGUpe3JldHVybiBpLmNhbGwodGhpcyx0LDApfX19IWZ1bmN0aW9uKCl7dHJ5e2k9XCJmdW5jdGlvblwiPT10eXBlb2Ygc2V0VGltZW91dD9zZXRUaW1lb3V0OnJ9Y2F0Y2godCl7aT1yfXRyeXtzPVwiZnVuY3Rpb25cIj09dHlwZW9mIGNsZWFyVGltZW91dD9jbGVhclRpbWVvdXQ6b31jYXRjaCh0KXtzPW99fSgpO3ZhciBoLGw9W10sYz0hMSx1PS0xO2Z1bmN0aW9uIGQoKXtjJiZoJiYoYz0hMSxoLmxlbmd0aD9sPWguY29uY2F0KGwpOnU9LTEsbC5sZW5ndGgmJmYoKSl9ZnVuY3Rpb24gZigpe2lmKCFjKXt2YXIgdD1hKGQpO2M9ITA7Zm9yKHZhciBlPWwubGVuZ3RoO2U7KXtmb3IoaD1sLGw9W107Kyt1PGU7KWgmJmhbdV0ucnVuKCk7dT0tMSxlPWwubGVuZ3RofWg9bnVsbCxjPSExLGZ1bmN0aW9uKHQpe2lmKHM9PT1jbGVhclRpbWVvdXQpcmV0dXJuIGNsZWFyVGltZW91dCh0KTtpZigocz09PW98fCFzKSYmY2xlYXJUaW1lb3V0KXJldHVybiBzPWNsZWFyVGltZW91dCxjbGVhclRpbWVvdXQodCk7dHJ5e3ModCl9Y2F0Y2goZSl7dHJ5e3JldHVybiBzLmNhbGwobnVsbCx0KX1jYXRjaChlKXtyZXR1cm4gcy5jYWxsKHRoaXMsdCl9fX0odCl9fWZ1bmN0aW9uIG0odCxlKXt0aGlzLmZ1bj10LHRoaXMuYXJyYXk9ZX1mdW5jdGlvbiBwKCl7fW4ubmV4dFRpY2s9ZnVuY3Rpb24odCl7dmFyIGU9bmV3IEFycmF5KGFyZ3VtZW50cy5sZW5ndGgtMSk7aWYoYXJndW1lbnRzLmxlbmd0aD4xKWZvcih2YXIgaT0xO2k8YXJndW1lbnRzLmxlbmd0aDtpKyspZVtpLTFdPWFyZ3VtZW50c1tpXTtsLnB1c2gobmV3IG0odCxlKSksMSE9PWwubGVuZ3RofHxjfHxhKGYpfSxtLnByb3RvdHlwZS5ydW49ZnVuY3Rpb24oKXt0aGlzLmZ1bi5hcHBseShudWxsLHRoaXMuYXJyYXkpfSxuLnRpdGxlPVwiYnJvd3NlclwiLG4uYnJvd3Nlcj0hMCxuLmVudj17fSxuLmFyZ3Y9W10sbi52ZXJzaW9uPVwiXCIsbi52ZXJzaW9ucz17fSxuLm9uPXAsbi5hZGRMaXN0ZW5lcj1wLG4ub25jZT1wLG4ub2ZmPXAsbi5yZW1vdmVMaXN0ZW5lcj1wLG4ucmVtb3ZlQWxsTGlzdGVuZXJzPXAsbi5lbWl0PXAsbi5wcmVwZW5kTGlzdGVuZXI9cCxuLnByZXBlbmRPbmNlTGlzdGVuZXI9cCxuLmxpc3RlbmVycz1mdW5jdGlvbih0KXtyZXR1cm5bXX0sbi5iaW5kaW5nPWZ1bmN0aW9uKHQpe3Rocm93IG5ldyBFcnJvcihcInByb2Nlc3MuYmluZGluZyBpcyBub3Qgc3VwcG9ydGVkXCIpfSxuLmN3ZD1mdW5jdGlvbigpe3JldHVyblwiL1wifSxuLmNoZGlyPWZ1bmN0aW9uKHQpe3Rocm93IG5ldyBFcnJvcihcInByb2Nlc3MuY2hkaXIgaXMgbm90IHN1cHBvcnRlZFwiKX0sbi51bWFzaz1mdW5jdGlvbigpe3JldHVybiAwfX0sZnVuY3Rpb24odCxlLGkpe1widXNlIHN0cmljdFwiO09iamVjdC5kZWZpbmVQcm9wZXJ0eShlLFwiX19lc01vZHVsZVwiLHt2YWx1ZTohMH0pO3ZhciBzPWkoOSksbj1pKDEyKSxyPWkoODEpLG89ZnVuY3Rpb24oKXtmdW5jdGlvbiB0KHQpe3RoaXMudG9TdHJGPXR8fHMuZGVmYXVsdFRvU3RyaW5nLHRoaXMuZGljdGlvbmFyeT1uZXcgbi5kZWZhdWx0KHRoaXMudG9TdHJGKSx0aGlzLm5FbGVtZW50cz0wfXJldHVybiB0LnByb3RvdHlwZS5hZGQ9ZnVuY3Rpb24odCxlKXtpZih2b2lkIDA9PT1lJiYoZT0xKSxzLmlzVW5kZWZpbmVkKHQpfHxlPD0wKXJldHVybiExO2lmKHRoaXMuY29udGFpbnModCkpdGhpcy5kaWN0aW9uYXJ5LmdldFZhbHVlKHQpLmNvcGllcys9ZTtlbHNle3ZhciBpPXt2YWx1ZTp0LGNvcGllczplfTt0aGlzLmRpY3Rpb25hcnkuc2V0VmFsdWUodCxpKX1yZXR1cm4gdGhpcy5uRWxlbWVudHMrPWUsITB9LHQucHJvdG90eXBlLmNvdW50PWZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLmNvbnRhaW5zKHQpP3RoaXMuZGljdGlvbmFyeS5nZXRWYWx1ZSh0KS5jb3BpZXM6MH0sdC5wcm90b3R5cGUuY29udGFpbnM9ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMuZGljdGlvbmFyeS5jb250YWluc0tleSh0KX0sdC5wcm90b3R5cGUucmVtb3ZlPWZ1bmN0aW9uKHQsZSl7aWYodm9pZCAwPT09ZSYmKGU9MSkscy5pc1VuZGVmaW5lZCh0KXx8ZTw9MClyZXR1cm4hMTtpZih0aGlzLmNvbnRhaW5zKHQpKXt2YXIgaT10aGlzLmRpY3Rpb25hcnkuZ2V0VmFsdWUodCk7cmV0dXJuIGU+aS5jb3BpZXM/dGhpcy5uRWxlbWVudHMtPWkuY29waWVzOnRoaXMubkVsZW1lbnRzLT1lLGkuY29waWVzLT1lLGkuY29waWVzPD0wJiZ0aGlzLmRpY3Rpb25hcnkucmVtb3ZlKHQpLCEwfXJldHVybiExfSx0LnByb3RvdHlwZS50b0FycmF5PWZ1bmN0aW9uKCl7Zm9yKHZhciB0PVtdLGU9MCxpPXRoaXMuZGljdGlvbmFyeS52YWx1ZXMoKTtlPGkubGVuZ3RoO2UrKylmb3IodmFyIHM9aVtlXSxuPXMudmFsdWUscj1zLmNvcGllcyxvPTA7bzxyO28rKyl0LnB1c2gobik7cmV0dXJuIHR9LHQucHJvdG90eXBlLnRvU2V0PWZ1bmN0aW9uKCl7Zm9yKHZhciB0PW5ldyByLmRlZmF1bHQodGhpcy50b1N0ckYpLGU9MCxpPXRoaXMuZGljdGlvbmFyeS52YWx1ZXMoKTtlPGkubGVuZ3RoO2UrKyl7dmFyIHM9aVtlXS52YWx1ZTt0LmFkZChzKX1yZXR1cm4gdH0sdC5wcm90b3R5cGUuZm9yRWFjaD1mdW5jdGlvbih0KXt0aGlzLmRpY3Rpb25hcnkuZm9yRWFjaCgoZnVuY3Rpb24oZSxpKXtmb3IodmFyIHM9aS52YWx1ZSxuPWkuY29waWVzLHI9MDtyPG47cisrKWlmKCExPT09dChzKSlyZXR1cm4hMTtyZXR1cm4hMH0pKX0sdC5wcm90b3R5cGUuc2l6ZT1mdW5jdGlvbigpe3JldHVybiB0aGlzLm5FbGVtZW50c30sdC5wcm90b3R5cGUuaXNFbXB0eT1mdW5jdGlvbigpe3JldHVybiAwPT09dGhpcy5uRWxlbWVudHN9LHQucHJvdG90eXBlLmNsZWFyPWZ1bmN0aW9uKCl7dGhpcy5uRWxlbWVudHM9MCx0aGlzLmRpY3Rpb25hcnkuY2xlYXIoKX0sdH0oKTtlLmRlZmF1bHQ9b30sZnVuY3Rpb24odCxlLGkpe1widXNlIHN0cmljdFwiO3ZhciBzLG49dGhpcyYmdGhpcy5fX2V4dGVuZHN8fChzPU9iamVjdC5zZXRQcm90b3R5cGVPZnx8e19fcHJvdG9fXzpbXX1pbnN0YW5jZW9mIEFycmF5JiZmdW5jdGlvbih0LGUpe3QuX19wcm90b19fPWV9fHxmdW5jdGlvbih0LGUpe2Zvcih2YXIgaSBpbiBlKWUuaGFzT3duUHJvcGVydHkoaSkmJih0W2ldPWVbaV0pfSxmdW5jdGlvbih0LGUpe2Z1bmN0aW9uIGkoKXt0aGlzLmNvbnN0cnVjdG9yPXR9cyh0LGUpLHQucHJvdG90eXBlPW51bGw9PT1lP09iamVjdC5jcmVhdGUoZSk6KGkucHJvdG90eXBlPWUucHJvdG90eXBlLG5ldyBpKX0pO09iamVjdC5kZWZpbmVQcm9wZXJ0eShlLFwiX19lc01vZHVsZVwiLHt2YWx1ZTohMH0pO3ZhciByPWZ1bmN0aW9uKHQpe2Z1bmN0aW9uIGUoKXtyZXR1cm4gbnVsbCE9PXQmJnQuYXBwbHkodGhpcyxhcmd1bWVudHMpfHx0aGlzfXJldHVybiBuKGUsdCksZX0oaSg4MikuZGVmYXVsdCk7ZS5kZWZhdWx0PXJ9LGZ1bmN0aW9uKHQsZSxpKXtcInVzZSBzdHJpY3RcIjt2YXIgcyxuPXRoaXMmJnRoaXMuX19leHRlbmRzfHwocz1PYmplY3Quc2V0UHJvdG90eXBlT2Z8fHtfX3Byb3RvX186W119aW5zdGFuY2VvZiBBcnJheSYmZnVuY3Rpb24odCxlKXt0Ll9fcHJvdG9fXz1lfXx8ZnVuY3Rpb24odCxlKXtmb3IodmFyIGkgaW4gZSllLmhhc093blByb3BlcnR5KGkpJiYodFtpXT1lW2ldKX0sZnVuY3Rpb24odCxlKXtmdW5jdGlvbiBpKCl7dGhpcy5jb25zdHJ1Y3Rvcj10fXModCxlKSx0LnByb3RvdHlwZT1udWxsPT09ZT9PYmplY3QuY3JlYXRlKGUpOihpLnByb3RvdHlwZT1lLnByb3RvdHlwZSxuZXcgaSl9KTtPYmplY3QuZGVmaW5lUHJvcGVydHkoZSxcIl9fZXNNb2R1bGVcIix7dmFsdWU6ITB9KTt2YXIgcj1pKDEyKSxvPWkoOSksYT1mdW5jdGlvbigpe2Z1bmN0aW9uIHQodCxlKXt0aGlzLmtleT10LHRoaXMudmFsdWU9ZX1yZXR1cm4gdC5wcm90b3R5cGUudW5saW5rPWZ1bmN0aW9uKCl7dGhpcy5wcmV2Lm5leHQ9dGhpcy5uZXh0LHRoaXMubmV4dC5wcmV2PXRoaXMucHJldn0sdH0oKSxoPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gdCgpe3RoaXMua2V5PW51bGwsdGhpcy52YWx1ZT1udWxsfXJldHVybiB0LnByb3RvdHlwZS51bmxpbms9ZnVuY3Rpb24oKXt0aGlzLnByZXYubmV4dD10aGlzLm5leHQsdGhpcy5uZXh0LnByZXY9dGhpcy5wcmV2fSx0fSgpO3ZhciBsPWZ1bmN0aW9uKHQpe2Z1bmN0aW9uIGUoZSl7dmFyIGk9dC5jYWxsKHRoaXMsZSl8fHRoaXM7cmV0dXJuIGkuaGVhZD1uZXcgaCxpLnRhaWw9bmV3IGgsaS5oZWFkLm5leHQ9aS50YWlsLGkudGFpbC5wcmV2PWkuaGVhZCxpfXJldHVybiBuKGUsdCksZS5wcm90b3R5cGUuYXBwZW5kVG9UYWlsPWZ1bmN0aW9uKHQpe3ZhciBlPXRoaXMudGFpbC5wcmV2O2UubmV4dD10LHQucHJldj1lLHQubmV4dD10aGlzLnRhaWwsdGhpcy50YWlsLnByZXY9dH0sZS5wcm90b3R5cGUuZ2V0TGlua2VkRGljdGlvbmFyeVBhaXI9ZnVuY3Rpb24odCl7aWYoIW8uaXNVbmRlZmluZWQodCkpe3ZhciBlPVwiJFwiK3RoaXMudG9TdHIodCk7cmV0dXJuIHRoaXMudGFibGVbZV19fSxlLnByb3RvdHlwZS5nZXRWYWx1ZT1mdW5jdGlvbih0KXt2YXIgZT10aGlzLmdldExpbmtlZERpY3Rpb25hcnlQYWlyKHQpO2lmKCFvLmlzVW5kZWZpbmVkKGUpKXJldHVybiBlLnZhbHVlfSxlLnByb3RvdHlwZS5yZW1vdmU9ZnVuY3Rpb24oZSl7dmFyIGk9dGhpcy5nZXRMaW5rZWREaWN0aW9uYXJ5UGFpcihlKTtpZighby5pc1VuZGVmaW5lZChpKSlyZXR1cm4gdC5wcm90b3R5cGUucmVtb3ZlLmNhbGwodGhpcyxlKSxpLnVubGluaygpLGkudmFsdWV9LGUucHJvdG90eXBlLmNsZWFyPWZ1bmN0aW9uKCl7dC5wcm90b3R5cGUuY2xlYXIuY2FsbCh0aGlzKSx0aGlzLmhlYWQubmV4dD10aGlzLnRhaWwsdGhpcy50YWlsLnByZXY9dGhpcy5oZWFkfSxlLnByb3RvdHlwZS5yZXBsYWNlPWZ1bmN0aW9uKHQsZSl7dmFyIGk9XCIkXCIrdGhpcy50b1N0cihlLmtleSk7ZS5uZXh0PXQubmV4dCxlLnByZXY9dC5wcmV2LHRoaXMucmVtb3ZlKHQua2V5KSxlLnByZXYubmV4dD1lLGUubmV4dC5wcmV2PWUsdGhpcy50YWJsZVtpXT1lLCsrdGhpcy5uRWxlbWVudHN9LGUucHJvdG90eXBlLnNldFZhbHVlPWZ1bmN0aW9uKHQsZSl7aWYoIW8uaXNVbmRlZmluZWQodCkmJiFvLmlzVW5kZWZpbmVkKGUpKXt2YXIgaT10aGlzLmdldExpbmtlZERpY3Rpb25hcnlQYWlyKHQpLHM9bmV3IGEodCxlKSxuPVwiJFwiK3RoaXMudG9TdHIodCk7cmV0dXJuIG8uaXNVbmRlZmluZWQoaSk/KHRoaXMuYXBwZW5kVG9UYWlsKHMpLHRoaXMudGFibGVbbl09cyx2b2lkKyt0aGlzLm5FbGVtZW50cyk6KHRoaXMucmVwbGFjZShpLHMpLGkudmFsdWUpfX0sZS5wcm90b3R5cGUua2V5cz1mdW5jdGlvbigpe3ZhciB0PVtdO3JldHVybiB0aGlzLmZvckVhY2goKGZ1bmN0aW9uKGUsaSl7dC5wdXNoKGUpfSkpLHR9LGUucHJvdG90eXBlLnZhbHVlcz1mdW5jdGlvbigpe3ZhciB0PVtdO3JldHVybiB0aGlzLmZvckVhY2goKGZ1bmN0aW9uKGUsaSl7dC5wdXNoKGkpfSkpLHR9LGUucHJvdG90eXBlLmZvckVhY2g9ZnVuY3Rpb24odCl7Zm9yKHZhciBlPXRoaXMuaGVhZC5uZXh0O2UubmV4dDspe2lmKCExPT09dChlLmtleSxlLnZhbHVlKSlyZXR1cm47ZT1lLm5leHR9fSxlfShyLmRlZmF1bHQpO2UuZGVmYXVsdD1sfSxmdW5jdGlvbih0LGUsaSl7XCJ1c2Ugc3RyaWN0XCI7T2JqZWN0LmRlZmluZVByb3BlcnR5KGUsXCJfX2VzTW9kdWxlXCIse3ZhbHVlOiEwfSk7dmFyIHM9aSg5KSxuPWkoMTIpLHI9aSgzNSksbz1mdW5jdGlvbigpe2Z1bmN0aW9uIHQodCxlLGkpe3ZvaWQgMD09PWkmJihpPSExKSx0aGlzLmRpY3Q9bmV3IG4uZGVmYXVsdCh0KSx0aGlzLmVxdWFsc0Y9ZXx8cy5kZWZhdWx0RXF1YWxzLHRoaXMuYWxsb3dEdXBsaWNhdGU9aX1yZXR1cm4gdC5wcm90b3R5cGUuZ2V0VmFsdWU9ZnVuY3Rpb24odCl7dmFyIGU9dGhpcy5kaWN0LmdldFZhbHVlKHQpO3JldHVybiBzLmlzVW5kZWZpbmVkKGUpP1tdOnIuY29weShlKX0sdC5wcm90b3R5cGUuc2V0VmFsdWU9ZnVuY3Rpb24odCxlKXtpZihzLmlzVW5kZWZpbmVkKHQpfHxzLmlzVW5kZWZpbmVkKGUpKXJldHVybiExO3ZhciBpPXRoaXMuZGljdC5nZXRWYWx1ZSh0KTtyZXR1cm4gcy5pc1VuZGVmaW5lZChpKT8odGhpcy5kaWN0LnNldFZhbHVlKHQsW2VdKSwhMCk6ISghdGhpcy5hbGxvd0R1cGxpY2F0ZSYmci5jb250YWlucyhpLGUsdGhpcy5lcXVhbHNGKSkmJihpLnB1c2goZSksITApfSx0LnByb3RvdHlwZS5yZW1vdmU9ZnVuY3Rpb24odCxlKXtpZihzLmlzVW5kZWZpbmVkKGUpKXt2YXIgaT10aGlzLmRpY3QucmVtb3ZlKHQpO3JldHVybiFzLmlzVW5kZWZpbmVkKGkpfXZhciBuPXRoaXMuZGljdC5nZXRWYWx1ZSh0KTtyZXR1cm4hKHMuaXNVbmRlZmluZWQobil8fCFyLnJlbW92ZShuLGUsdGhpcy5lcXVhbHNGKSkmJigwPT09bi5sZW5ndGgmJnRoaXMuZGljdC5yZW1vdmUodCksITApfSx0LnByb3RvdHlwZS5rZXlzPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZGljdC5rZXlzKCl9LHQucHJvdG90eXBlLnZhbHVlcz1mdW5jdGlvbigpe2Zvcih2YXIgdD1bXSxlPTAsaT10aGlzLmRpY3QudmFsdWVzKCk7ZTxpLmxlbmd0aDtlKyspZm9yKHZhciBzPTAsbj1pW2VdO3M8bi5sZW5ndGg7cysrKXt2YXIgcj1uW3NdO3QucHVzaChyKX1yZXR1cm4gdH0sdC5wcm90b3R5cGUuY29udGFpbnNLZXk9ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMuZGljdC5jb250YWluc0tleSh0KX0sdC5wcm90b3R5cGUuY2xlYXI9ZnVuY3Rpb24oKXt0aGlzLmRpY3QuY2xlYXIoKX0sdC5wcm90b3R5cGUuc2l6ZT1mdW5jdGlvbigpe3JldHVybiB0aGlzLmRpY3Quc2l6ZSgpfSx0LnByb3RvdHlwZS5pc0VtcHR5PWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZGljdC5pc0VtcHR5KCl9LHR9KCk7ZS5kZWZhdWx0PW99LGZ1bmN0aW9uKHQsZSxpKXtcInVzZSBzdHJpY3RcIjtPYmplY3QuZGVmaW5lUHJvcGVydHkoZSxcIl9fZXNNb2R1bGVcIix7dmFsdWU6ITB9KTt2YXIgcz1pKDkpLG49aSg4NCkscj1mdW5jdGlvbigpe2Z1bmN0aW9uIHQodCl7dGhpcy5oZWFwPW5ldyBuLmRlZmF1bHQocy5yZXZlcnNlQ29tcGFyZUZ1bmN0aW9uKHQpKX1yZXR1cm4gdC5wcm90b3R5cGUuZW5xdWV1ZT1mdW5jdGlvbih0KXtyZXR1cm4gdGhpcy5oZWFwLmFkZCh0KX0sdC5wcm90b3R5cGUuYWRkPWZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLmhlYXAuYWRkKHQpfSx0LnByb3RvdHlwZS5kZXF1ZXVlPWZ1bmN0aW9uKCl7aWYoMCE9PXRoaXMuaGVhcC5zaXplKCkpe3ZhciB0PXRoaXMuaGVhcC5wZWVrKCk7cmV0dXJuIHRoaXMuaGVhcC5yZW1vdmVSb290KCksdH19LHQucHJvdG90eXBlLnBlZWs9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5oZWFwLnBlZWsoKX0sdC5wcm90b3R5cGUuY29udGFpbnM9ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMuaGVhcC5jb250YWlucyh0KX0sdC5wcm90b3R5cGUuaXNFbXB0eT1mdW5jdGlvbigpe3JldHVybiB0aGlzLmhlYXAuaXNFbXB0eSgpfSx0LnByb3RvdHlwZS5zaXplPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuaGVhcC5zaXplKCl9LHQucHJvdG90eXBlLmNsZWFyPWZ1bmN0aW9uKCl7dGhpcy5oZWFwLmNsZWFyKCl9LHQucHJvdG90eXBlLmZvckVhY2g9ZnVuY3Rpb24odCl7dGhpcy5oZWFwLmZvckVhY2godCl9LHR9KCk7ZS5kZWZhdWx0PXJ9LGZ1bmN0aW9uKHQsZSxpKXtcInVzZSBzdHJpY3RcIjtPYmplY3QuZGVmaW5lUHJvcGVydHkoZSxcIl9fZXNNb2R1bGVcIix7dmFsdWU6ITB9KTt2YXIgcz1pKDU0KSxuPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gdCgpe3RoaXMubGlzdD1uZXcgcy5kZWZhdWx0fXJldHVybiB0LnByb3RvdHlwZS5wdXNoPWZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLmxpc3QuYWRkKHQsMCl9LHQucHJvdG90eXBlLmFkZD1mdW5jdGlvbih0KXtyZXR1cm4gdGhpcy5saXN0LmFkZCh0LDApfSx0LnByb3RvdHlwZS5wb3A9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5saXN0LnJlbW92ZUVsZW1lbnRBdEluZGV4KDApfSx0LnByb3RvdHlwZS5wZWVrPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMubGlzdC5maXJzdCgpfSx0LnByb3RvdHlwZS5zaXplPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMubGlzdC5zaXplKCl9LHQucHJvdG90eXBlLmNvbnRhaW5zPWZ1bmN0aW9uKHQsZSl7cmV0dXJuIHRoaXMubGlzdC5jb250YWlucyh0LGUpfSx0LnByb3RvdHlwZS5pc0VtcHR5PWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMubGlzdC5pc0VtcHR5KCl9LHQucHJvdG90eXBlLmNsZWFyPWZ1bmN0aW9uKCl7dGhpcy5saXN0LmNsZWFyKCl9LHQucHJvdG90eXBlLmZvckVhY2g9ZnVuY3Rpb24odCl7dGhpcy5saXN0LmZvckVhY2godCl9LHR9KCk7ZS5kZWZhdWx0PW59LGZ1bmN0aW9uKHQsZSxpKXtcInVzZSBzdHJpY3RcIjt2YXIgcztPYmplY3QuZGVmaW5lUHJvcGVydHkoZSxcIl9fZXNNb2R1bGVcIix7dmFsdWU6ITB9KSxmdW5jdGlvbih0KXt0W3QuQkVGT1JFPTBdPVwiQkVGT1JFXCIsdFt0LkFGVEVSPTFdPVwiQUZURVJcIix0W3QuSU5TSURFX0FUX0VORD0yXT1cIklOU0lERV9BVF9FTkRcIix0W3QuSU5TSURFX0FUX1NUQVJUPTNdPVwiSU5TSURFX0FUX1NUQVJUXCJ9KHN8fChzPXt9KSk7dmFyIG49ZnVuY3Rpb24oKXtmdW5jdGlvbiB0KHQsZSl7dm9pZCAwPT09dCYmKHQ9W10pLHZvaWQgMD09PWUmJihlPXt9KSx0aGlzLnJvb3RJZHM9dCx0aGlzLm5vZGVzPWUsdGhpcy5pbml0Um9vdElkcygpLHRoaXMuaW5pdE5vZGVzKCl9cmV0dXJuIHQucHJvdG90eXBlLmluaXRSb290SWRzPWZ1bmN0aW9uKCl7Zm9yKHZhciB0PTAsZT10aGlzLnJvb3RJZHM7dDxlLmxlbmd0aDt0Kyspe3ZhciBpPWVbdF07dGhpcy5jcmVhdGVFbXB0eU5vZGVJZk5vdEV4aXN0KGkpfX0sdC5wcm90b3R5cGUuaW5pdE5vZGVzPWZ1bmN0aW9uKCl7Zm9yKHZhciB0IGluIHRoaXMubm9kZXMpaWYodGhpcy5ub2Rlcy5oYXNPd25Qcm9wZXJ0eSh0KSlmb3IodmFyIGU9MCxpPXRoaXMubm9kZXNbdF07ZTxpLmxlbmd0aDtlKyspe3ZhciBzPWlbZV07dGhpcy5jcmVhdGVFbXB0eU5vZGVJZk5vdEV4aXN0KHMpfX0sdC5wcm90b3R5cGUuY3JlYXRlRW1wdHlOb2RlSWZOb3RFeGlzdD1mdW5jdGlvbih0KXt0aGlzLm5vZGVzW3RdfHwodGhpcy5ub2Rlc1t0XT1bXSl9LHQucHJvdG90eXBlLmdldFJvb3RJZHM9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5yb290SWRzLnNsaWNlKCl9LHQucHJvdG90eXBlLmdldE5vZGVzPWZ1bmN0aW9uKCl7dmFyIHQ9e307Zm9yKHZhciBlIGluIHRoaXMubm9kZXMpdGhpcy5ub2Rlcy5oYXNPd25Qcm9wZXJ0eShlKSYmKHRbZV09dGhpcy5ub2Rlc1tlXS5zbGljZSgpKTtyZXR1cm4gdH0sdC5wcm90b3R5cGUuZ2V0T2JqZWN0PWZ1bmN0aW9uKCl7cmV0dXJue3Jvb3RJZHM6dGhpcy5nZXRSb290SWRzKCksbm9kZXM6dGhpcy5nZXROb2RlcygpfX0sdC5wcm90b3R5cGUudG9PYmplY3Q9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5nZXRPYmplY3QoKX0sdC5wcm90b3R5cGUuZmxhdHRlbj1mdW5jdGlvbigpe2Zvcih2YXIgdD10aGlzLGU9W10saT0wO2k8dGhpcy5yb290SWRzLmxlbmd0aDtpKyspe3ZhciBzPXRoaXMucm9vdElkc1tpXTtlLnB1c2goe2lkOnMsbGV2ZWw6MCxoYXNQYXJlbnQ6ITEsY2hpbGRyZW5Db3VudDowfSksaChzLHRoaXMubm9kZXMsZSwwKX1mb3IodmFyIG49MCxyPWU7bjxyLmxlbmd0aDtuKyspe3ZhciBvPXJbbl07by5jaGlsZHJlbkNvdW50PWEoby5pZCl9cmV0dXJuIGU7ZnVuY3Rpb24gYShlKXtyZXR1cm4gdC5ub2Rlc1tlXT90Lm5vZGVzW2VdLmxlbmd0aDowfWZ1bmN0aW9uIGgodCxlLGkscyl7aWYodm9pZCAwPT09cyYmKHM9MCksdCYmZSYmaSYmZVt0XSl7cysrO2Zvcih2YXIgbj1lW3RdLHI9MDtyPG4ubGVuZ3RoO3IrKyl7dmFyIG89bltyXTtpLnB1c2goe2lkOm8sbGV2ZWw6cyxoYXNQYXJlbnQ6ITB9KSxoKG8sZSxpLHMpfXMtLX19fSx0LnByb3RvdHlwZS5tb3ZlSWRCZWZvcmVJZD1mdW5jdGlvbih0LGUpe3JldHVybiB0aGlzLm1vdmVJZCh0LGUscy5CRUZPUkUpfSx0LnByb3RvdHlwZS5tb3ZlSWRBZnRlcklkPWZ1bmN0aW9uKHQsZSl7cmV0dXJuIHRoaXMubW92ZUlkKHQsZSxzLkFGVEVSKX0sdC5wcm90b3R5cGUubW92ZUlkSW50b0lkPWZ1bmN0aW9uKHQsZSxpKXtyZXR1cm4gdm9pZCAwPT09aSYmKGk9ITApLGk/dGhpcy5tb3ZlSWQodCxlLHMuSU5TSURFX0FUX1NUQVJUKTp0aGlzLm1vdmVJZCh0LGUscy5JTlNJREVfQVRfRU5EKX0sdC5wcm90b3R5cGUuc3dhcFJvb3RJZFdpdGhSb290SWQ9ZnVuY3Rpb24odCxlKXt2YXIgaT10aGlzLmZpbmRSb290SWQodCkscz10aGlzLmZpbmRSb290SWQoZSk7dGhpcy5zd2FwUm9vdFBvc2l0aW9uV2l0aFJvb3RQb3NpdGlvbihpLHMpfSx0LnByb3RvdHlwZS5zd2FwUm9vdFBvc2l0aW9uV2l0aFJvb3RQb3NpdGlvbj1mdW5jdGlvbih0LGUpe3ZhciBpPXRoaXMucm9vdElkc1tlXTt0aGlzLnJvb3RJZHNbZV09dGhpcy5yb290SWRzW3RdLHRoaXMucm9vdElkc1t0XT1pfSx0LnByb3RvdHlwZS5kZWxldGVJZD1mdW5jdGlvbih0KXt0aGlzLnJvb3REZWxldGVJZCh0KSx0aGlzLm5vZGVBbmRTdWJOb2Rlc0RlbGV0ZSh0KSx0aGlzLm5vZGVSZWZyZW5jZXNEZWxldGUodCl9LHQucHJvdG90eXBlLmluc2VydElkQmVmb3JlSWQ9ZnVuY3Rpb24odCxlKXt2YXIgaT10aGlzLmZpbmRSb290SWQodCk7Zm9yKHZhciBzIGluIGk+LTEmJnRoaXMuaW5zZXJ0SWRJbnRvUm9vdChlLGkpLHRoaXMubm9kZXMpaWYodGhpcy5ub2Rlcy5oYXNPd25Qcm9wZXJ0eShzKSl7dmFyIG49dGhpcy5maW5kTm9kZUlkKHMsdCk7bj4tMSYmdGhpcy5pbnNlcnRJZEludG9Ob2RlKHMsZSxuKX19LHQucHJvdG90eXBlLmluc2VydElkQWZ0ZXJJZD1mdW5jdGlvbih0LGUpe3ZhciBpPXRoaXMuZmluZFJvb3RJZCh0KTtmb3IodmFyIHMgaW4gaT4tMSYmdGhpcy5pbnNlcnRJZEludG9Sb290KGUsaSsxKSx0aGlzLm5vZGVzKWlmKHRoaXMubm9kZXMuaGFzT3duUHJvcGVydHkocykpe3ZhciBuPXRoaXMuZmluZE5vZGVJZChzLHQpO24+LTEmJnRoaXMuaW5zZXJ0SWRJbnRvTm9kZShzLGUsbisxKX19LHQucHJvdG90eXBlLmluc2VydElkSW50b0lkPWZ1bmN0aW9uKHQsZSl7dGhpcy5ub2RlSW5zZXJ0QXRFbmQodCxlKSx0aGlzLm5vZGVzW2VdPVtdfSx0LnByb3RvdHlwZS5pbnNlcnRJZEludG9Sb290PWZ1bmN0aW9uKHQsZSl7aWYodm9pZCAwPT09ZSl0aGlzLnJvb3RJbnNlcnRBdEVuZCh0KTtlbHNlIGlmKGU8MCl7dmFyIGk9dGhpcy5yb290SWRzLmxlbmd0aDt0aGlzLnJvb3RJZHMuc3BsaWNlKGUraSsxLDAsdCl9ZWxzZSB0aGlzLnJvb3RJZHMuc3BsaWNlKGUsMCx0KTt0aGlzLm5vZGVzW3RdPXRoaXMubm9kZXNbdF18fFtdfSx0LnByb3RvdHlwZS5pbnNlcnRJZEludG9Ob2RlPWZ1bmN0aW9uKHQsZSxpKXtpZih0aGlzLm5vZGVzW3RdPXRoaXMubm9kZXNbdF18fFtdLHRoaXMubm9kZXNbZV09dGhpcy5ub2Rlc1tlXXx8W10sdm9pZCAwPT09aSl0aGlzLm5vZGVJbnNlcnRBdEVuZCh0LGUpO2Vsc2UgaWYoaTwwKXt2YXIgcz10aGlzLm5vZGVzW3RdLmxlbmd0aDt0aGlzLm5vZGVzW3RdLnNwbGljZShpK3MrMSwwLGUpfWVsc2UgdGhpcy5ub2Rlc1t0XS5zcGxpY2UoaSwwLGUpfSx0LnByb3RvdHlwZS5tb3ZlSWQ9ZnVuY3Rpb24odCxlLGkpe3ZhciBuPXQscj10aGlzLmZpbmRSb290SWQobik7Zm9yKHZhciBvIGluIHRoaXMubm9kZXNbZV0mJmUsdGhpcy5ub2RlcylpZih0aGlzLm5vZGVzLmhhc093blByb3BlcnR5KG8pKXt0aGlzLmZpbmROb2RlSWQobyxlKTticmVha312YXIgYT1lLGg9dGhpcy5maW5kUm9vdElkKGEpO2Zvcih2YXIgbyBpbiB0aGlzLm5vZGVzW2VdJiZlLHRoaXMubm9kZXMpaWYodGhpcy5ub2Rlcy5oYXNPd25Qcm9wZXJ0eShvKSl7dGhpcy5maW5kTm9kZUlkKG8sZSk7YnJlYWt9aWYocj4tMSlpZihoPi0xKXN3aXRjaCh0aGlzLnJvb3REZWxldGUociksaD5yJiZoLS0saSl7Y2FzZSBzLkJFRk9SRTp0aGlzLmluc2VydElkSW50b1Jvb3QobixoKTticmVhaztjYXNlIHMuQUZURVI6dGhpcy5pbnNlcnRJZEludG9Sb290KG4saCsxKTticmVhaztjYXNlIHMuSU5TSURFX0FUX1NUQVJUOnRoaXMubm9kZUluc2VydEF0U3RhcnQoYSxuKTticmVhaztjYXNlIHMuSU5TSURFX0FUX0VORDp0aGlzLm5vZGVJbnNlcnRBdEVuZChhLG4pfWVsc2UgZm9yKHZhciBvIGluIHRoaXMucm9vdERlbGV0ZShyKSx0aGlzLm5vZGVzKXtpZih0aGlzLm5vZGVzLmhhc093blByb3BlcnR5KG8pKWlmKChsPXRoaXMuZmluZE5vZGVJZChvLGEpKT4tMSl7c3dpdGNoKGkpe2Nhc2Ugcy5CRUZPUkU6dGhpcy5pbnNlcnRJZEludG9Ob2RlKG8sbixsKTticmVhaztjYXNlIHMuQUZURVI6dGhpcy5pbnNlcnRJZEludG9Ob2RlKG8sbixsKzEpO2JyZWFrO2Nhc2Ugcy5JTlNJREVfQVRfU1RBUlQ6dGhpcy5ub2RlSW5zZXJ0QXRTdGFydChhLG4pO2JyZWFrO2Nhc2Ugcy5JTlNJREVfQVRfRU5EOnRoaXMubm9kZUluc2VydEF0RW5kKGEsbil9YnJlYWt9fWVsc2UgaWYoaD4tMSl7Zm9yKHZhciBvIGluIHRoaXMubm9kZXMpe2lmKHRoaXMubm9kZXMuaGFzT3duUHJvcGVydHkobykpaWYoKGw9dGhpcy5maW5kTm9kZUlkKG8sbikpPi0xKXt0aGlzLm5vZGVEZWxldGVBdEluZGV4KG8sbCk7YnJlYWt9fXN3aXRjaChpKXtjYXNlIHMuQkVGT1JFOnRoaXMuaW5zZXJ0SWRJbnRvUm9vdChuLGgpO2JyZWFrO2Nhc2Ugcy5BRlRFUjp0aGlzLmluc2VydElkSW50b1Jvb3QobixoKzEpO2JyZWFrO2Nhc2Ugcy5JTlNJREVfQVRfU1RBUlQ6dGhpcy5ub2RlSW5zZXJ0QXRTdGFydChhLG4pO2JyZWFrO2Nhc2Ugcy5JTlNJREVfQVRfRU5EOnRoaXMubm9kZUluc2VydEF0RW5kKGEsbil9fWVsc2V7Zm9yKHZhciBvIGluIHRoaXMubm9kZXMpe2lmKHRoaXMubm9kZXMuaGFzT3duUHJvcGVydHkobykpaWYoKGw9dGhpcy5maW5kTm9kZUlkKG8sbikpPi0xKXt0aGlzLm5vZGVEZWxldGVBdEluZGV4KG8sbCk7YnJlYWt9fWZvcih2YXIgbyBpbiB0aGlzLm5vZGVzKXt2YXIgbDtpZih0aGlzLm5vZGVzLmhhc093blByb3BlcnR5KG8pKWlmKChsPXRoaXMuZmluZE5vZGVJZChvLGEpKT4tMSl7c3dpdGNoKGkpe2Nhc2Ugcy5CRUZPUkU6dGhpcy5pbnNlcnRJZEludG9Ob2RlKG8sbixsKTticmVhaztjYXNlIHMuQUZURVI6dGhpcy5pbnNlcnRJZEludG9Ob2RlKG8sbixsKzEpO2JyZWFrO2Nhc2Ugcy5JTlNJREVfQVRfU1RBUlQ6dGhpcy5ub2RlSW5zZXJ0QXRTdGFydChhLG4pO2JyZWFrO2Nhc2Ugcy5JTlNJREVfQVRfRU5EOnRoaXMubm9kZUluc2VydEF0RW5kKGEsbil9YnJlYWt9fX19LHQucHJvdG90eXBlLnN3YXBBcnJheUVsZW1lbnRzPWZ1bmN0aW9uKHQsZSxpKXt2YXIgcz10W2VdO3JldHVybiB0W2VdPXRbaV0sdFtpXT1zLHR9LHQucHJvdG90eXBlLnJvb3REZWxldGVJZD1mdW5jdGlvbih0KXt2YXIgZT10aGlzLmZpbmRSb290SWQodCk7ZT4tMSYmdGhpcy5yb290RGVsZXRlKGUpfSx0LnByb3RvdHlwZS5ub2RlQW5kU3ViTm9kZXNEZWxldGU9ZnVuY3Rpb24odCl7Zm9yKHZhciBlPVtdLGk9MDtpPHRoaXMubm9kZXNbdF0ubGVuZ3RoO2krKyl7dmFyIHM9dGhpcy5ub2Rlc1t0XVtpXTt0aGlzLm5vZGVBbmRTdWJOb2Rlc0RlbGV0ZShzKSxlLnB1c2godCl9dGhpcy5ub2RlRGVsZXRlKHQpO2ZvcihpPTA7aTxlLmxlbmd0aDtpKyspdGhpcy5ub2RlRGVsZXRlKGVbaV0pfSx0LnByb3RvdHlwZS5ub2RlUmVmcmVuY2VzRGVsZXRlPWZ1bmN0aW9uKHQpe2Zvcih2YXIgZSBpbiB0aGlzLm5vZGVzKWlmKHRoaXMubm9kZXMuaGFzT3duUHJvcGVydHkoZSkpZm9yKHZhciBpPTA7aTx0aGlzLm5vZGVzW2VdLmxlbmd0aDtpKyspe3RoaXMubm9kZXNbZV1baV09PT10JiZ0aGlzLm5vZGVEZWxldGVBdEluZGV4KGUsaSl9fSx0LnByb3RvdHlwZS5ub2RlRGVsZXRlPWZ1bmN0aW9uKHQpe2RlbGV0ZSB0aGlzLm5vZGVzW3RdfSx0LnByb3RvdHlwZS5maW5kUm9vdElkPWZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLnJvb3RJZHMuaW5kZXhPZih0KX0sdC5wcm90b3R5cGUuZmluZE5vZGVJZD1mdW5jdGlvbih0LGUpe3JldHVybiB0aGlzLm5vZGVzW3RdLmluZGV4T2YoZSl9LHQucHJvdG90eXBlLmZpbmROb2RlPWZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLm5vZGVzW3RdfSx0LnByb3RvdHlwZS5ub2RlSW5zZXJ0QXRTdGFydD1mdW5jdGlvbih0LGUpe3RoaXMubm9kZXNbdF0udW5zaGlmdChlKX0sdC5wcm90b3R5cGUubm9kZUluc2VydEF0RW5kPWZ1bmN0aW9uKHQsZSl7dGhpcy5ub2Rlc1t0XS5wdXNoKGUpfSx0LnByb3RvdHlwZS5yb290RGVsZXRlPWZ1bmN0aW9uKHQpe3RoaXMucm9vdElkcy5zcGxpY2UodCwxKX0sdC5wcm90b3R5cGUubm9kZURlbGV0ZUF0SW5kZXg9ZnVuY3Rpb24odCxlKXt0aGlzLm5vZGVzW3RdLnNwbGljZShlLDEpfSx0LnByb3RvdHlwZS5yb290SW5zZXJ0QXRTdGFydD1mdW5jdGlvbih0KXt0aGlzLnJvb3RJZHMudW5zaGlmdCh0KX0sdC5wcm90b3R5cGUucm9vdEluc2VydEF0RW5kPWZ1bmN0aW9uKHQpe3RoaXMucm9vdElkcy5wdXNoKHQpfSx0fSgpO2UuZGVmYXVsdD1ufSxmdW5jdGlvbih0LGUsaSl7XCJ1c2Ugc3RyaWN0XCI7dmFyIHM9dGhpcyYmdGhpcy5fX2ltcG9ydERlZmF1bHR8fGZ1bmN0aW9uKHQpe3JldHVybiB0JiZ0Ll9fZXNNb2R1bGU/dDp7ZGVmYXVsdDp0fX07T2JqZWN0LmRlZmluZVByb3BlcnR5KGUsXCJfX2VzTW9kdWxlXCIse3ZhbHVlOiEwfSk7Y29uc3Qgbj1pKDU5KSxyPWkoOTUpLG89aSgxMzApLGE9aSg1NSksaD1pKDE0KSxsPWkoMTkpLGM9aSgxMjApLHU9aSg2OCksZD1pKDc5KSxmPWkoMTI5KSxtPWkoNzgpLHA9cyhpKDEpKSxnPWkoMjgpLGI9aSg0MSksUz1pKDI5KSx5PWkoNikseD1pKDQzKSxFPWkoNzcpLHY9aSgxNDcpO2NsYXNzIF97Y29uc3RydWN0b3IodCxlPWIuT1NNRE9wdGlvbnMuT1NNRE9wdGlvbnNTdGFuZGFyZCgpKXtpZih0aGlzLnZlcnNpb249XCIwLjguMi1yZWxlYXNlXCIsdGhpcy56b29tPTEsdGhpcy56b29tVXBkYXRlZD0hMSxcInN0cmluZ1wiPT10eXBlb2YgdD90aGlzLmNvbnRhaW5lcj1kb2N1bWVudC5nZXRFbGVtZW50QnlJZCh0KTp0JiZcImFwcGVuZENoaWxkXCJpbiB0JiYodGhpcy5jb250YWluZXI9dCksIXRoaXMuY29udGFpbmVyKXRocm93IG5ldyBFcnJvcihcIlBsZWFzZSBwYXNzIGEgdmFsaWQgZGl2IGNvbnRhaW5lciB0byBPcGVuU2hlZXRNdXNpY0Rpc3BsYXlcIik7dm9pZCAwPT09ZS5hdXRvUmVzaXplJiYoZS5hdXRvUmVzaXplPSEwKSx0aGlzLmJhY2tlbmRUeXBlPWIuQmFja2VuZFR5cGUuU1ZHLHRoaXMuc2V0T3B0aW9ucyhlKX1sb2FkKHQpe2lmKHRoaXMucmVzZXQoKSxcInN0cmluZ1wiPT10eXBlb2YgdCl7Y29uc3QgZT10LGk9dGhpcztpZihcIlBLXHUwMDAzXHUwMDA0XCI9PT1lLnN1YnN0cigwLDQpKXJldHVybiBwLmRlZmF1bHQuZGVidWcoXCJbT1NNRF0gVGhpcyBpcyBhIHppcCBmaWxlLCB1bnBhY2sgaXQgZmlyc3Q6IFwiK2UpLGYuTVhMSGVscGVyLk1YTHRvWE1Mc3RyaW5nKGUpLnRoZW4odD0+aS5sb2FkKHQpLHQ9Pnt0aHJvdyBwLmRlZmF1bHQuZGVidWcodCksbmV3IEVycm9yKFwiT3BlblNoZWV0TXVzaWNEaXNwbGF5OiBJbnZhbGlkIE1YTCBmaWxlXCIpfSk7aWYoXCLvn6/vnrvvnr9cIj09PWUuc3Vic3RyKDAsMykpcmV0dXJuIHAuZGVmYXVsdC5kZWJ1ZyhcIltPU01EXSBVVEYgd2l0aCBCT00gZGV0ZWN0ZWQsIHRydW5jYXRlIGZpcnN0IHRocmVlIGJ5dGVzIGFuZCBwYXNzIGFsb25nOiBcIitlKSxpLmxvYWQoZS5zdWJzdHIoMykpO2xldCBzPWU7aWYoL15cXHMvLnRlc3QocykmJihzPXMudHJpbSgpKSxzLnN1YnN0cigwLDYpLmluY2x1ZGVzKFwiPD94bWxcIikpe3AuZGVmYXVsdC5kZWJ1ZyhcIltPU01EXSBGaW5hbGx5IHBhcnNpbmcgWE1MIGNvbnRlbnQsIGxlbmd0aDogXCIrcy5sZW5ndGgpLHQ9KG5ldyBET01QYXJzZXIpLnBhcnNlRnJvbVN0cmluZyhzLFwiYXBwbGljYXRpb24veG1sXCIpfWVsc2V7aWYocy5sZW5ndGg8MjA4MylyZXR1cm4gcC5kZWZhdWx0LmRlYnVnKFwiW09TTURdIFJldHJpZXZlIHRoZSBmaWxlIGF0IHRoZSBnaXZlbiBVUkw6IFwiK3MpLG0uQUpBWC5hamF4KHMpLnRoZW4odD0+aS5sb2FkKHQpLHQ9Pnt0aHJvdyB0fSk7Y29uc29sZS5lcnJvcihcIltPU01EXSBvc21kLmxvYWQoc3RyaW5nKTogQ291bGQgbm90IHByb2Nlc3Mgc3RyaW5nLiBEaWQgbm90IGZpbmQgPD94bWwgYXQgYmVnaW5uaW5nLlwiKX19aWYoIXR8fCF0Lm5vZGVOYW1lKXJldHVybiBQcm9taXNlLnJlamVjdChuZXcgRXJyb3IoXCJPcGVuU2hlZXRNdXNpY0Rpc3BsYXk6IFRoZSBkb2N1bWVudCB3aGljaCB3YXMgcHJvdmlkZWQgaXMgaW52YWxpZFwiKSk7Y29uc3QgZT10LGk9ZS5jaGlsZE5vZGVzO2xldCBzO3AuZGVmYXVsdC5kZWJ1ZyhcIltPU01EXSBsb2FkKCksIERvY3VtZW50IHVybDogXCIrZS5VUkwpO2ZvcihsZXQgdD0wLGU9aS5sZW5ndGg7dDxlO3QrPTEpe2NvbnN0IGU9aVt0XTtpZihlLm5vZGVUeXBlPT09Tm9kZS5FTEVNRU5UX05PREUmJlwic2NvcmUtcGFydHdpc2VcIj09PWUubm9kZU5hbWUudG9Mb3dlckNhc2UoKSl7cz1lO2JyZWFrfX1pZighcylyZXR1cm4gY29uc29sZS5lcnJvcihcIkNvdWxkIG5vdCBwYXJzZSBNdXNpY1hNTCwgbm8gdmFsaWQgcGFydHdpc2UgZWxlbWVudCBmb3VuZFwiKSxQcm9taXNlLnJlamVjdChuZXcgRXJyb3IoXCJPcGVuU2hlZXRNdXNpY0Rpc3BsYXk6IERvY3VtZW50IGlzIG5vdCBhIHZhbGlkICdwYXJ0d2lzZScgTXVzaWNYTUxcIikpO2NvbnN0IHI9bmV3IG4uSVhtbEVsZW1lbnQocyksYT1uZXcgby5NdXNpY1NoZWV0UmVhZGVyKHZvaWQgMCx0aGlzLnJ1bGVzKTtyZXR1cm4gdGhpcy5zaGVldD1hLmNyZWF0ZU11c2ljU2hlZXQocixcIlVudGl0bGVkIFNjb3JlXCIpLHZvaWQgMD09PXRoaXMuc2hlZXQ/UHJvbWlzZS5yZWplY3QobmV3IEVycm9yKFwiZ2l2ZW4gbXVzaWMgc2hlZXQgd2FzIGluY29tcGxldGUgb3IgY291bGQgbm90IGJlIGxvYWRlZC5cIikpOihwLmRlZmF1bHQuaW5mbyhgW09TTURdIExvYWRlZCBzaGVldCAke3RoaXMuc2hlZXQuVGl0bGVTdHJpbmd9IHN1Y2Nlc3NmdWxseS5gKSx0aGlzLm5lZWRCYWNrZW5kVXBkYXRlPSEwLHRoaXMudXBkYXRlR3JhcGhpYygpLFByb21pc2UucmVzb2x2ZSh7fSkpfXVwZGF0ZUdyYXBoaWMoKXtjb25zdCB0PW5ldyByLlZleEZsb3dNdXNpY1NoZWV0Q2FsY3VsYXRvcih0aGlzLnJ1bGVzKTt0aGlzLmdyYXBoaWM9bmV3IGEuR3JhcGhpY2FsTXVzaWNTaGVldCh0aGlzLnNoZWV0LHQpLHRoaXMuZHJhd2luZ1BhcmFtZXRlcnMuZHJhd0N1cnNvcnMmJnRoaXMuY3Vyc29yJiZ0aGlzLmN1cnNvci5pbml0KHRoaXMuc2hlZXQuTXVzaWNQYXJ0TWFuYWdlcix0aGlzLmdyYXBoaWMpfXJlbmRlcigpe2lmKCF0aGlzLmdyYXBoaWMpdGhyb3cgbmV3IEVycm9yKFwiT3BlblNoZWV0TXVzaWNEaXNwbGF5OiBCZWZvcmUgcmVuZGVyaW5nIGEgbXVzaWMgc2hlZXQsIHBsZWFzZSBsb2FkIGEgTXVzaWNYTUwgZmlsZVwiKTt0aGlzLmRyYXdlciYmdGhpcy5kcmF3ZXIuY2xlYXIoKTtsZXQgdD10aGlzLmNvbnRhaW5lci5vZmZzZXRXaWR0aDt0aGlzLnJ1bGVzLlJlbmRlclNpbmdsZUhvcml6b250YWxTdGFmZmxpbmUmJih0PTMyNzY3KSx0aGlzLnNoZWV0LnBhZ2VXaWR0aD10L3RoaXMuem9vbS8xMCx0aGlzLnJ1bGVzLlBhZ2VGb3JtYXQmJiF0aGlzLnJ1bGVzLlBhZ2VGb3JtYXQuSXNVbmRlZmluZWQ/KHRoaXMucnVsZXMuUGFnZUhlaWdodD10aGlzLnNoZWV0LnBhZ2VXaWR0aC90aGlzLnJ1bGVzLlBhZ2VGb3JtYXQuYXNwZWN0UmF0aW8scC5kZWZhdWx0LmRlYnVnKFwiW09TTURdIFBhZ2VIZWlnaHQ6IFwiK3RoaXMucnVsZXMuUGFnZUhlaWdodCkpOihwLmRlZmF1bHQuZGVidWcoXCJbT1NNRF0gZW5kbGVzcy91bmRlZmluZWQgcGFnZWZvcm1hdCwgaWQ6IFwiK3RoaXMucnVsZXMuUGFnZUZvcm1hdC5pZFN0cmluZyksdGhpcy5ydWxlcy5QYWdlSGVpZ2h0PTEwMDAwMSksdGhpcy5ncmFwaGljLnJlQ2FsY3VsYXRlKCksdGhpcy5kcmF3aW5nUGFyYW1ldGVycy5kcmF3Q3Vyc29ycyYmKHRoaXMuZ3JhcGhpYy5DdXJzb3JzLmxlbmd0aD0wKSx0aGlzLmNyZWF0ZU9yUmVmcmVzaFJlbmRlckJhY2tlbmQoKSx0aGlzLm5lZWRCYWNrZW5kVXBkYXRlPSExLHRoaXMuZHJhd2VyLnNldFpvb20odGhpcy56b29tKSx0aGlzLmRyYXdlci5kcmF3U2hlZXQodGhpcy5ncmFwaGljKSx0aGlzLmVuYWJsZU9yRGlzYWJsZUN1cnNvcih0aGlzLmRyYXdpbmdQYXJhbWV0ZXJzLmRyYXdDdXJzb3JzKSx0aGlzLmRyYXdpbmdQYXJhbWV0ZXJzLmRyYXdDdXJzb3JzJiZ0aGlzLmN1cnNvciYmdGhpcy5jdXJzb3IudXBkYXRlKCksdGhpcy56b29tVXBkYXRlZD0hMX1jcmVhdGVPclJlZnJlc2hSZW5kZXJCYWNrZW5kKCl7dGhpcy5kcmF3ZXImJnRoaXMuZHJhd2VyLkJhY2tlbmRzJiYodGhpcy5kcmF3ZXIuQmFja2VuZHNbMF0mJnRoaXMuZHJhd2VyLkJhY2tlbmRzWzBdLnJlbW92ZUFsbENoaWxkcmVuRnJvbUNvbnRhaW5lcih0aGlzLmNvbnRhaW5lciksdGhpcy5kcmF3ZXIuQmFja2VuZHMuY2xlYXIoKSksdGhpcy5kcmF3aW5nUGFyYW1ldGVycy5SdWxlcz10aGlzLnJ1bGVzLHRoaXMuZHJhd2VyPW5ldyBsLlZleEZsb3dNdXNpY1NoZWV0RHJhd2VyKHRoaXMuZHJhd2luZ1BhcmFtZXRlcnMpLHRoaXMuZHJhd2VyLmRyYXdhYmxlQm91bmRpbmdCb3hFbGVtZW50PXRoaXMuRHJhd0JvdW5kaW5nQm94LHRoaXMuZHJhd2VyLmJvdHRvbUxpbmVWaXNpYmxlPXRoaXMuZHJhd0JvdHRvbUxpbmUsdGhpcy5kcmF3ZXIuc2t5TGluZVZpc2libGU9dGhpcy5kcmF3U2t5TGluZTtsZXQgdCxlPXRoaXMuY29udGFpbmVyLm9mZnNldFdpZHRoO3RoaXMucnVsZXMuUmVuZGVyU2luZ2xlSG9yaXpvbnRhbFN0YWZmbGluZSYmKGU9MTAqdGhpcy5ncmFwaGljLk11c2ljUGFnZXNbMF0uUG9zaXRpb25BbmRTaGFwZS5TaXplLndpZHRoKnRoaXMuem9vbSk7Zm9yKGNvbnN0IGkgb2YgdGhpcy5ncmFwaGljLk11c2ljUGFnZXMpe2NvbnN0IHM9dGhpcy5jcmVhdGVCYWNrZW5kKHRoaXMuYmFja2VuZFR5cGUsaSksbj1cIiBleGNlZWRzIENhbnZhc0JhY2tlbmQgbGltaXQgb2YgMzI3NjcuIEN1dHRpbmcgb2ZmIHNjb3JlLlwiO3MuZ2V0T1NNREJhY2tlbmRUeXBlKCk9PT1iLkJhY2tlbmRUeXBlLkNhbnZhcyYmZT4zMjc2NyYmKGNvbnNvbGUubG9nKFwiW09TTURdIFdhcm5pbmc6IHdpZHRoIG9mIFwiK2UrbiksZT0zMjc2NyksdD10aGlzLnJ1bGVzLlBhZ2VGb3JtYXQmJiF0aGlzLnJ1bGVzLlBhZ2VGb3JtYXQuSXNVbmRlZmluZWQ/ZS90aGlzLnJ1bGVzLlBhZ2VGb3JtYXQuYXNwZWN0UmF0aW86KGkuUG9zaXRpb25BbmRTaGFwZS5TaXplLmhlaWdodCsxNSkqdGhpcy56b29tKjEwLHMuZ2V0T1NNREJhY2tlbmRUeXBlKCk9PT1iLkJhY2tlbmRUeXBlLkNhbnZhcyYmdD4zMjc2NyYmKGNvbnNvbGUubG9nKFwiW09TTURdIFdhcm5pbmc6IGhlaWdodCBvZiBcIit0K24pLHQ9TWF0aC5taW4odCwzMjc2NykpLHMucmVzaXplKGUsdCkscy5jbGVhcigpLHRoaXMuZHJhd2VyLkJhY2tlbmRzLnB1c2gocyl9fUlzUmVhZHlUb1JlbmRlcigpe3JldHVybiB2b2lkIDAhPT10aGlzLmdyYXBoaWN9Y2xlYXIoKXt0aGlzLmRyYXdlci5jbGVhcigpLHRoaXMucmVzZXQoKX1zZXRPcHRpb25zKHQpe2lmKHRoaXMucnVsZXN8fCh0aGlzLnJ1bGVzPW5ldyBTLkVuZ3JhdmluZ1J1bGVzKSx0aGlzLmRyYXdpbmdQYXJhbWV0ZXJzfHwodGhpcy5kcmF3aW5nUGFyYW1ldGVycz1uZXcgZy5EcmF3aW5nUGFyYW1ldGVycyx0aGlzLmRyYXdpbmdQYXJhbWV0ZXJzLlJ1bGVzPXRoaXMucnVsZXMpLG51bGw9PXQpcmV0dXJuIHZvaWQgcC5kZWZhdWx0Lndhcm4oXCJ3YXJuaW5nOiBvc21kLnNldE9wdGlvbnMoKSBjYWxsZWQgd2l0aG91dCBhbiBvcHRpb25zIHBhcmFtZXRlciwgaGFzIG5vIGVmZmVjdC5cXG5leGFtcGxlIHVzYWdlOiBvc21kLnNldE9wdGlvbnMoe2RyYXdDcmVkaXRzOiBmYWxzZSwgZHJhd1BhcnROYW1lczogZmFsc2V9KVwiKTt0LmRyYXdpbmdQYXJhbWV0ZXJzJiYodGhpcy5kcmF3aW5nUGFyYW1ldGVycy5EcmF3aW5nUGFyYW1ldGVyc0VudW09Zy5EcmF3aW5nUGFyYW1ldGVyc0VudW1bdC5kcmF3aW5nUGFyYW1ldGVycy50b0xvd2VyQ2FzZSgpXSk7bGV0IGU9IXRoaXMuZHJhd2VyfHwhdGhpcy5kcmF3ZXIuQmFja2VuZHN8fHRoaXMuZHJhd2VyLkJhY2tlbmRzLmxlbmd0aDwxO2lmKHZvaWQgMCE9PXQuYmFja2VuZCl7Y29uc3QgaT1iLk9TTURPcHRpb25zLkJhY2tlbmRUeXBlRnJvbVN0cmluZyh0LmJhY2tlbmQpO2U9ZXx8dGhpcy5iYWNrZW5kVHlwZSE9PWksdGhpcy5iYWNrZW5kVHlwZT1pfXRoaXMubmVlZEJhY2tlbmRVcGRhdGU9ZSx2b2lkIDAhPT10LmF1dG9CZWFtJiYodGhpcy5ydWxlcy5BdXRvQmVhbU5vdGVzPXQuYXV0b0JlYW0pO2NvbnN0IGk9dC5hdXRvQmVhbU9wdGlvbnM7aWYoaSYmKHZvaWQgMD09PWkubWFpbnRhaW5fc3RlbV9kaXJlY3Rpb25zJiYoaS5tYWludGFpbl9zdGVtX2RpcmVjdGlvbnM9ITEpLHRoaXMucnVsZXMuQXV0b0JlYW1PcHRpb25zPWksaS5ncm91cHMmJmkuZ3JvdXBzLmxlbmd0aCkpZm9yKGNvbnN0IHQgb2YgaS5ncm91cHMpaWYoMiE9PXQubGVuZ3RoKXRocm93IG5ldyBFcnJvcihcIkVhY2ggZnJhY3Rpb24gaW4gYXV0b0JlYW1PcHRpb25zLmdyb3VwcyBtdXN0IGJlIG9mIGxlbmd0aCAyLCBlLmcuIFszLDRdIGZvciBiZWFtaW5nIHRocmVlIGZvdXJ0aHNcIik7dm9pZCAwIT09dC5wZXJjdXNzaW9uT25lTGluZUN1dG9mZiYmKHRoaXMucnVsZXMuUGVyY3Vzc2lvbk9uZUxpbmVDdXRvZmY9dC5wZXJjdXNzaW9uT25lTGluZUN1dG9mZiksMCE9PXRoaXMucnVsZXMuUGVyY3Vzc2lvbk9uZUxpbmVDdXRvZmYmJnZvaWQgMCE9PXQucGVyY3Vzc2lvbkZvcmNlVm9pY2VzT25lTGluZUN1dG9mZiYmKHRoaXMucnVsZXMuUGVyY3Vzc2lvbkZvcmNlVm9pY2VzT25lTGluZUN1dG9mZj10LnBlcmN1c3Npb25Gb3JjZVZvaWNlc09uZUxpbmVDdXRvZmYpLHZvaWQgMCE9PXQuYWxpZ25SZXN0cyYmKHRoaXMucnVsZXMuQWxpZ25SZXN0cz10LmFsaWduUmVzdHMpLHZvaWQgMCE9PXQuY29sb3JpbmdNb2RlJiZ0aGlzLnNldENvbG9yaW5nTW9kZSh0KSx2b2lkIDAhPT10LmNvbG9yaW5nRW5hYmxlZCYmKHRoaXMucnVsZXMuQ29sb3JpbmdFbmFibGVkPXQuY29sb3JpbmdFbmFibGVkKSx2b2lkIDAhPT10LmNvbG9yU3RlbXNMaWtlTm90ZWhlYWRzJiYodGhpcy5ydWxlcy5Db2xvclN0ZW1zTGlrZU5vdGVoZWFkcz10LmNvbG9yU3RlbXNMaWtlTm90ZWhlYWRzKSx0LmRpc2FibGVDdXJzb3ImJih0aGlzLmRyYXdpbmdQYXJhbWV0ZXJzLmRyYXdDdXJzb3JzPSExKSx0LmRyYXdIaWRkZW5Ob3RlcyYmKHRoaXMuZHJhd2luZ1BhcmFtZXRlcnMuZHJhd0hpZGRlbk5vdGVzPSEwKSx2b2lkIDAhPT10LmRyYXdDcmVkaXRzJiYodGhpcy5kcmF3aW5nUGFyYW1ldGVycy5EcmF3Q3JlZGl0cz10LmRyYXdDcmVkaXRzKSx2b2lkIDAhPT10LmRyYXdDb21wb3NlciYmKHRoaXMuZHJhd2luZ1BhcmFtZXRlcnMuRHJhd0NvbXBvc2VyPXQuZHJhd0NvbXBvc2VyKSx2b2lkIDAhPT10LmRyYXdUaXRsZSYmKHRoaXMuZHJhd2luZ1BhcmFtZXRlcnMuRHJhd1RpdGxlPXQuZHJhd1RpdGxlKSx2b2lkIDAhPT10LmRyYXdTdWJ0aXRsZSYmKHRoaXMuZHJhd2luZ1BhcmFtZXRlcnMuRHJhd1N1YnRpdGxlPXQuZHJhd1N1YnRpdGxlKSx2b2lkIDAhPT10LmRyYXdMeXJpY2lzdCYmKHRoaXMuZHJhd2luZ1BhcmFtZXRlcnMuRHJhd0x5cmljaXN0PXQuZHJhd0x5cmljaXN0KSx2b2lkIDAhPT10LmRyYXdNZXRyb25vbWVNYXJrcyYmKHRoaXMucnVsZXMuTWV0cm9ub21lTWFya3NEcmF3bj10LmRyYXdNZXRyb25vbWVNYXJrcyksdm9pZCAwIT09dC5kcmF3UGFydE5hbWVzJiYodGhpcy5kcmF3aW5nUGFyYW1ldGVycy5EcmF3UGFydE5hbWVzPXQuZHJhd1BhcnROYW1lcyx0LmRyYXdQYXJ0QWJicmV2aWF0aW9uc3x8KHRoaXMucnVsZXMuUmVuZGVyUGFydEFiYnJldmlhdGlvbnM9dC5kcmF3UGFydE5hbWVzKSksdm9pZCAwIT09dC5kcmF3UGFydEFiYnJldmlhdGlvbnMmJih0aGlzLnJ1bGVzLlJlbmRlclBhcnRBYmJyZXZpYXRpb25zPXQuZHJhd1BhcnRBYmJyZXZpYXRpb25zKSwhMT09PXQuZHJhd0ZpbmdlcmluZ3MmJih0aGlzLnJ1bGVzLlJlbmRlckZpbmdlcmluZ3M9ITEpLHZvaWQgMCE9PXQuZHJhd01lYXN1cmVOdW1iZXJzJiYodGhpcy5ydWxlcy5SZW5kZXJNZWFzdXJlTnVtYmVycz10LmRyYXdNZWFzdXJlTnVtYmVycyksdm9pZCAwIT09dC5kcmF3THlyaWNzJiYodGhpcy5ydWxlcy5SZW5kZXJMeXJpY3M9dC5kcmF3THlyaWNzKSx2b2lkIDAhPT10LmRyYXdTbHVycyYmKHRoaXMucnVsZXMuUmVuZGVyU2x1cnM9dC5kcmF3U2x1cnMpLHZvaWQgMCE9PXQubWVhc3VyZU51bWJlckludGVydmFsJiYodGhpcy5ydWxlcy5NZWFzdXJlTnVtYmVyTGFiZWxPZmZzZXQ9dC5tZWFzdXJlTnVtYmVySW50ZXJ2YWwpLHZvaWQgMCE9PXQuZmluZ2VyaW5nUG9zaXRpb24mJih0aGlzLnJ1bGVzLkZpbmdlcmluZ1Bvc2l0aW9uPXkuQWJzdHJhY3RFeHByZXNzaW9uLlBsYWNlbWVudEVudW1Gcm9tU3RyaW5nKHQuZmluZ2VyaW5nUG9zaXRpb24pKSx2b2lkIDAhPT10LmZpbmdlcmluZ0luc2lkZVN0YWZmbGluZXMmJih0aGlzLnJ1bGVzLkZpbmdlcmluZ0luc2lkZVN0YWZmbGluZXM9dC5maW5nZXJpbmdJbnNpZGVTdGFmZmxpbmVzKSx2b2lkIDAhPT10Lm5ld1N5c3RlbUZyb21YTUwmJih0aGlzLnJ1bGVzLk5ld1N5c3RlbUF0WE1MTmV3U3lzdGVtQXR0cmlidXRlPXQubmV3U3lzdGVtRnJvbVhNTCksdm9pZCAwIT09dC5uZXdQYWdlRnJvbVhNTCYmKHRoaXMucnVsZXMuTmV3UGFnZUF0WE1MTmV3UGFnZUF0dHJpYnV0ZT10Lm5ld1BhZ2VGcm9tWE1MKSx2b2lkIDAhPT10LmZpbGxFbXB0eU1lYXN1cmVzV2l0aFdob2xlUmVzdCYmKHRoaXMucnVsZXMuRmlsbEVtcHR5TWVhc3VyZXNXaXRoV2hvbGVSZXN0PXQuZmlsbEVtcHR5TWVhc3VyZXNXaXRoV2hvbGVSZXN0KSx2b2lkIDAhPT10LmZvbGxvd0N1cnNvciYmKHRoaXMuRm9sbG93Q3Vyc29yPXQuZm9sbG93Q3Vyc29yKSx2b2lkIDAhPT10LnNldFdhbnRlZFN0ZW1EaXJlY3Rpb25CeVhtbCYmKHRoaXMucnVsZXMuU2V0V2FudGVkU3RlbURpcmVjdGlvbkJ5WG1sPXQuc2V0V2FudGVkU3RlbURpcmVjdGlvbkJ5WG1sKSx0LmRlZmF1bHRDb2xvck5vdGVoZWFkJiYodGhpcy5ydWxlcy5EZWZhdWx0Q29sb3JOb3RlaGVhZD10LmRlZmF1bHRDb2xvck5vdGVoZWFkKSx0LmRlZmF1bHRDb2xvclJlc3QmJih0aGlzLnJ1bGVzLkRlZmF1bHRDb2xvclJlc3Q9dC5kZWZhdWx0Q29sb3JSZXN0KSx0LmRlZmF1bHRDb2xvclN0ZW0mJih0aGlzLnJ1bGVzLkRlZmF1bHRDb2xvclN0ZW09dC5kZWZhdWx0Q29sb3JTdGVtKSx0LmRlZmF1bHRDb2xvckxhYmVsJiYodGhpcy5ydWxlcy5EZWZhdWx0Q29sb3JMYWJlbD10LmRlZmF1bHRDb2xvckxhYmVsKSx0LmRlZmF1bHRDb2xvclRpdGxlJiYodGhpcy5ydWxlcy5EZWZhdWx0Q29sb3JUaXRsZT10LmRlZmF1bHRDb2xvclRpdGxlKSx0LmRlZmF1bHRGb250RmFtaWx5JiYodGhpcy5ydWxlcy5EZWZhdWx0Rm9udEZhbWlseT10LmRlZmF1bHRGb250RmFtaWx5KSx0LmRlZmF1bHRGb250U3R5bGUmJih0aGlzLnJ1bGVzLkRlZmF1bHRGb250U3R5bGU9dC5kZWZhdWx0Rm9udFN0eWxlKSx0LmRyYXdVcFRvTWVhc3VyZU51bWJlciYmKHRoaXMucnVsZXMuTWF4TWVhc3VyZVRvRHJhd0luZGV4PXQuZHJhd1VwVG9NZWFzdXJlTnVtYmVyLTEpLHQuZHJhd0Zyb21NZWFzdXJlTnVtYmVyJiYodGhpcy5ydWxlcy5NaW5NZWFzdXJlVG9EcmF3SW5kZXg9dC5kcmF3RnJvbU1lYXN1cmVOdW1iZXItMSksdC50dXBsZXRzUmF0aW9lZCYmKHRoaXMucnVsZXMuVHVwbGV0c1JhdGlvZWQ9ITApLHQudHVwbGV0c0JyYWNrZXRlZCYmKHRoaXMucnVsZXMuVHVwbGV0c0JyYWNrZXRlZD0hMCksdC50cmlwbGV0c0JyYWNrZXRlZCYmKHRoaXMucnVsZXMuVHJpcGxldHNCcmFja2V0ZWQ9ITApLHQuYXV0b1Jlc2l6ZT8odGhpcy5yZXNpemVIYW5kbGVyQXR0YWNoZWR8fHRoaXMuYXV0b1Jlc2l6ZSgpLHRoaXMuYXV0b1Jlc2l6ZUVuYWJsZWQ9ITApOiExPT09dC5hdXRvUmVzaXplJiYodGhpcy5hdXRvUmVzaXplRW5hYmxlZD0hMSksdm9pZCAwIT09dC5wYWdlRm9ybWF0JiZ0aGlzLnNldFBhZ2VGb3JtYXQodC5wYWdlRm9ybWF0KSx2b2lkIDAhPT10LnBhZ2VCYWNrZ3JvdW5kQ29sb3ImJih0aGlzLnJ1bGVzLlBhZ2VCYWNrZ3JvdW5kQ29sb3I9dC5wYWdlQmFja2dyb3VuZENvbG9yKSx2b2lkIDAhPT10LnJlbmRlclNpbmdsZUhvcml6b250YWxTdGFmZmxpbmUmJih0aGlzLnJ1bGVzLlJlbmRlclNpbmdsZUhvcml6b250YWxTdGFmZmxpbmU9dC5yZW5kZXJTaW5nbGVIb3Jpem9udGFsU3RhZmZsaW5lKX1zZXRDb2xvcmluZ01vZGUodCl7aWYodC5jb2xvcmluZ01vZGU9PT1nLkNvbG9yaW5nTW9kZXMuWE1MKXJldHVybiB2b2lkKHRoaXMucnVsZXMuQ29sb3JpbmdNb2RlPWcuQ29sb3JpbmdNb2Rlcy5YTUwpO2NvbnN0IGU9W0UuTm90ZUVudW0uQyxFLk5vdGVFbnVtLkQsRS5Ob3RlRW51bS5FLEUuTm90ZUVudW0uRixFLk5vdGVFbnVtLkcsRS5Ob3RlRW51bS5BLEUuTm90ZUVudW0uQiwtMV07bGV0IGk7aWYodC5jb2xvcmluZ01vZGU9PT1nLkNvbG9yaW5nTW9kZXMuQ3VzdG9tQ29sb3JTZXQpe2lmKCF0LmNvbG9yaW5nU2V0Q3VzdG9tfHw4IT09dC5jb2xvcmluZ1NldEN1c3RvbS5sZW5ndGgpdGhyb3cgbmV3IEVycm9yKFwiSW52YWxpZCBhbW91bnQgb2YgY29sb3JzOiBXaXRoIGNvbG9yaW5nTW9kZXMuY3VzdG9tQ29sb3JTZXQsIHlvdSBoYXZlIHRvIHByb3ZpZGUgYSBjb2xvcmluZ1NldEN1c3RvbSBwYXJhbWV0ZXIgd2l0aCA4IHN0cmluZ3MgKEMgdG8gQiwgcmVzdCBub3RlKS5cIik7Zm9yKGNvbnN0IGUgb2YgdC5jb2xvcmluZ1NldEN1c3RvbSl7aWYoIS9eXFwjWzAtOWEtZkEtRl17Nn0kLy50ZXN0KGUpKXRocm93IG5ldyBFcnJvcihcIk9uZSBvZiB0aGUgY29sb3Igc3RyaW5ncyBpbiBvcHRpb25zLmNvbG9yaW5nU2V0Q3VzdG9tIHdhcyBub3QgYSB2YWxpZCBIVE1MIEhleCBjb2xvcjpcXG5cIitlKX1pPXQuY29sb3JpbmdTZXRDdXN0b219ZWxzZSBpZih0LmNvbG9yaW5nTW9kZT09PWcuQ29sb3JpbmdNb2Rlcy5BdXRvQ29sb3Jpbmcpe2k9W107Y29uc3QgdD1PYmplY3Qua2V5cyh2LkF1dG9Db2xvclNldCk7Zm9yKGxldCBlPTA7ZTx0Lmxlbmd0aDtlKyspaS5wdXNoKHYuQXV0b0NvbG9yU2V0W3RbZV1dKX1jb25zdCBzPW5ldyB4LkRpY3Rpb25hcnk7Zm9yKGxldCB0PTA7dDxlLmxlbmd0aDt0Kyspcy5zZXRWYWx1ZShlW3RdLGlbdF0pO3Muc2V0VmFsdWUoLTEsaVs3XSksdGhpcy5ydWxlcy5Db2xvcmluZ1NldEN1cnJlbnQ9cyx0aGlzLnJ1bGVzLkNvbG9yaW5nTW9kZT10LmNvbG9yaW5nTW9kZX1zZXRMb2dMZXZlbCh0KXtzd2l0Y2godCl7Y2FzZVwidHJhY2VcIjpwLmRlZmF1bHQuc2V0TGV2ZWwocC5kZWZhdWx0LmxldmVscy5UUkFDRSk7YnJlYWs7Y2FzZVwiZGVidWdcIjpwLmRlZmF1bHQuc2V0TGV2ZWwocC5kZWZhdWx0LmxldmVscy5ERUJVRyk7YnJlYWs7Y2FzZVwiaW5mb1wiOnAuZGVmYXVsdC5zZXRMZXZlbChwLmRlZmF1bHQubGV2ZWxzLklORk8pO2JyZWFrO2Nhc2VcIndhcm5cIjpwLmRlZmF1bHQuc2V0TGV2ZWwocC5kZWZhdWx0LmxldmVscy5XQVJOKTticmVhaztjYXNlXCJlcnJvclwiOnAuZGVmYXVsdC5zZXRMZXZlbChwLmRlZmF1bHQubGV2ZWxzLkVSUk9SKTticmVhaztkZWZhdWx0OnAuZGVmYXVsdC53YXJuKGBDb3VsZCBub3Qgc2V0IGxvZyBsZXZlbCB0byAke3R9LiBVc2luZyB3YXJuIGluc3RlYWQuYCkscC5kZWZhdWx0LnNldExldmVsKHAuZGVmYXVsdC5sZXZlbHMuV0FSTil9fWdldExvZ0xldmVsKCl7cmV0dXJuIHAuZGVmYXVsdC5nZXRMZXZlbCgpfXJlc2V0KCl7dGhpcy5kcmF3aW5nUGFyYW1ldGVycy5kcmF3Q3Vyc29ycyYmdGhpcy5jdXJzb3ImJnRoaXMuY3Vyc29yLmhpZGUoKSx0aGlzLnNoZWV0PXZvaWQgMCx0aGlzLmdyYXBoaWM9dm9pZCAwLHRoaXMuem9vbT0xfWF1dG9SZXNpemUoKXtjb25zdCB0PXRoaXM7dGhpcy5oYW5kbGVSZXNpemUoKCk9Pnt9LCgpPT57dmFyIGU7KG51bGw9PT0oZT10aGlzLmdyYXBoaWMpfHx2b2lkIDA9PT1lP3ZvaWQgMDplLkdldENhbGN1bGF0b3IpaW5zdGFuY2VvZiByLlZleEZsb3dNdXNpY1NoZWV0Q2FsY3VsYXRvciYmKHRoaXMuZ3JhcGhpYy5HZXRDYWxjdWxhdG9yLmJlYW1zTmVlZFVwZGF0ZT0hMCksdC5Jc1JlYWR5VG9SZW5kZXIoKSYmdC5yZW5kZXIoKX0pfWhhbmRsZVJlc2l6ZSh0LGUpe2xldCBpLHM9dm9pZCAwO2NvbnN0IG49dGhpcztmdW5jdGlvbiByKCl7bi5BdXRvUmVzaXplRW5hYmxlZCYmKGk9KG5ldyBEYXRlKS5nZXRUaW1lKCksc3x8KHQoKSxpPShuZXcgRGF0ZSkuZ2V0VGltZSgpLHM9d2luZG93LnNldFRpbWVvdXQobywyMDApKSl9ZnVuY3Rpb24gbygpe3M9dm9pZCAwLHdpbmRvdy5jbGVhclRpbWVvdXQocyksKG5ldyBEYXRlKS5nZXRUaW1lKCktaTwyMDA/cz13aW5kb3cuc2V0VGltZW91dChvLDIwMCk6ZSgpfXdpbmRvdy5hdHRhY2hFdmVudD93aW5kb3cuYXR0YWNoRXZlbnQoXCJvbnJlc2l6ZVwiLHIpOndpbmRvdy5hZGRFdmVudExpc3RlbmVyKFwicmVzaXplXCIsciksdGhpcy5yZXNpemVIYW5kbGVyQXR0YWNoZWQ9ITAsd2luZG93LnNldFRpbWVvdXQodCwwKSx3aW5kb3cuc2V0VGltZW91dChlLDEpfWVuYWJsZU9yRGlzYWJsZUN1cnNvcih0KXt2YXIgZSxpLHMsbjtpZih0aGlzLmRyYXdpbmdQYXJhbWV0ZXJzLmRyYXdDdXJzb3JzPXQsdCl7Y29uc3QgdD1udWxsPT09KGU9dGhpcy5jdXJzb3IpfHx2b2lkIDA9PT1lP3ZvaWQgMDplLkhpZGRlbixyPW51bGw9PT0oaT10aGlzLmN1cnNvcil8fHZvaWQgMD09PWk/dm9pZCAwOmkuSXRlcmF0b3I7KG51bGw9PT0obj1udWxsPT09KHM9dGhpcy5kcmF3ZXIpfHx2b2lkIDA9PT1zP3ZvaWQgMDpzLkJhY2tlbmRzKXx8dm9pZCAwPT09bj92b2lkIDA6bi5sZW5ndGgpPj0xJiZ0aGlzLmRyYXdlci5CYWNrZW5kc1swXS5nZXRSZW5kZXJFbGVtZW50KCkmJih0aGlzLmN1cnNvcj1uZXcgZC5DdXJzb3IodGhpcy5kcmF3ZXIuQmFja2VuZHNbMF0uZ2V0UmVuZGVyRWxlbWVudCgpLHRoaXMpKSx0aGlzLnNoZWV0JiZ0aGlzLmdyYXBoaWMmJnRoaXMuY3Vyc29yJiZ0aGlzLmN1cnNvci5pbml0KHRoaXMuc2hlZXQuTXVzaWNQYXJ0TWFuYWdlcix0aGlzLmdyYXBoaWMpLHRoaXMucnVsZXMuUmVzdG9yZUN1cnNvckFmdGVyUmVyZW5kZXImJih0aGlzLmN1cnNvci5oaWRkZW49dCxyJiYodGhpcy5jdXJzb3IuaXRlcmF0b3I9cikpfWVsc2V7aWYoIXRoaXMuY3Vyc29yKXJldHVybjt0aGlzLmN1cnNvci5oaWRlKCl9fWNyZWF0ZUJhY2tlbmQodCxlKXtsZXQgaTtyZXR1cm4gaT12b2lkIDA9PT10fHx0PT09Yi5CYWNrZW5kVHlwZS5TVkc/bmV3IGMuU3ZnVmV4Rmxvd0JhY2tlbmQodGhpcy5ydWxlcyk6bmV3IHUuQ2FudmFzVmV4Rmxvd0JhY2tlbmQodGhpcy5ydWxlcyksaS5ncmFwaGljYWxNdXNpY1BhZ2U9ZSxpLmluaXRpYWxpemUodGhpcy5jb250YWluZXIpLGl9c3RhdGljIFN0cmluZ1RvUGFnZUZvcm1hdCh0KXtsZXQgZT1TLlBhZ2VGb3JtYXQuVW5kZWZpbmVkUGFnZUZvcm1hdDtpZih0Lm1hdGNoKFwiXlswLTldK3hbMC05XSskXCIpKXtjb25zdCBpPXQuc3BsaXQoXCJ4XCIpLHM9TnVtYmVyLnBhcnNlSW50KGlbMF0sMTApLG49TnVtYmVyLnBhcnNlSW50KGlbMV0sMTApO3M+MCYmczwzMjc2OCYmbj4wJiZuPDMyNzY4JiYoZT1uZXcgUy5QYWdlRm9ybWF0KHMsbixgY3VzdG9tUGFnZUZvcm1hdCR7dH1gKSl9cmV0dXJuIHQ9KHQ9KHQ9dC5yZXBsYWNlKFwiIFwiLFwiX1wiKSkucmVwbGFjZShcIkxhbmRzY2FwZVwiLFwiTFwiKSkucmVwbGFjZShcIlBvcnRyYWl0XCIsXCJQXCIpLF8uUGFnZUZvcm1hdFN0YW5kYXJkcy5oYXNPd25Qcm9wZXJ0eSh0KT8oZT1fLlBhZ2VGb3JtYXRTdGFuZGFyZHNbdF0sZSk6ZX1zZXRQYWdlRm9ybWF0KHQpe2NvbnN0IGU9Xy5TdHJpbmdUb1BhZ2VGb3JtYXQodCk7dGhpcy5uZWVkQmFja2VuZFVwZGF0ZT0hZS5FcXVhbHModGhpcy5ydWxlcy5QYWdlRm9ybWF0KSx0aGlzLnJ1bGVzLlBhZ2VGb3JtYXQ9ZX1zZXRDdXN0b21QYWdlRm9ybWF0KHQsZSl7aWYodD4wJiZlPjApe2NvbnN0IGk9bmV3IFMuUGFnZUZvcm1hdCh0LGUpO3RoaXMucnVsZXMuUGFnZUZvcm1hdD1pfX1zZXQgRHJhd1NreUxpbmUodCl7dGhpcy5kcmF3U2t5TGluZT10LHRoaXMuZHJhd2VyJiYodGhpcy5kcmF3ZXIuc2t5TGluZVZpc2libGU9dCl9Z2V0IERyYXdTa3lMaW5lKCl7cmV0dXJuIHRoaXMuZHJhd2VyLnNreUxpbmVWaXNpYmxlfXNldCBEcmF3Qm90dG9tTGluZSh0KXt0aGlzLmRyYXdCb3R0b21MaW5lPXQsdGhpcy5kcmF3ZXImJih0aGlzLmRyYXdlci5ib3R0b21MaW5lVmlzaWJsZT10KX1nZXQgRHJhd0JvdHRvbUxpbmUoKXtyZXR1cm4gdGhpcy5kcmF3ZXIuYm90dG9tTGluZVZpc2libGV9c2V0IERyYXdCb3VuZGluZ0JveCh0KXt0aGlzLmRyYXdCb3VuZGluZ0JveD10LHRoaXMuZHJhd2VyLmRyYXdhYmxlQm91bmRpbmdCb3hFbGVtZW50PXQsdGhpcy5yZW5kZXIoKX1nZXQgRHJhd0JvdW5kaW5nQm94KCl7cmV0dXJuIHRoaXMuZHJhd0JvdW5kaW5nQm94fWdldCBBdXRvUmVzaXplRW5hYmxlZCgpe3JldHVybiB0aGlzLmF1dG9SZXNpemVFbmFibGVkfXNldCBBdXRvUmVzaXplRW5hYmxlZCh0KXt0aGlzLmF1dG9SZXNpemVFbmFibGVkPXR9c2V0IFpvb20odCl7dmFyIGU7dGhpcy56b29tPXQsdGhpcy56b29tVXBkYXRlZD0hMCwobnVsbD09PShlPXRoaXMuZ3JhcGhpYyl8fHZvaWQgMD09PWU/dm9pZCAwOmUuR2V0Q2FsY3VsYXRvcilpbnN0YW5jZW9mIHIuVmV4Rmxvd011c2ljU2hlZXRDYWxjdWxhdG9yJiYodGhpcy5ncmFwaGljLkdldENhbGN1bGF0b3IuYmVhbXNOZWVkVXBkYXRlPXRoaXMuem9vbVVwZGF0ZWQpfXNldCBGb2xsb3dDdXJzb3IodCl7dGhpcy5mb2xsb3dDdXJzb3I9dH1nZXQgRm9sbG93Q3Vyc29yKCl7cmV0dXJuIHRoaXMuZm9sbG93Q3Vyc29yfXNldCBUcmFuc3Bvc2VDYWxjdWxhdG9yKHQpe2guTXVzaWNTaGVldENhbGN1bGF0b3IudHJhbnNwb3NlQ2FsY3VsYXRvcj10fWdldCBUcmFuc3Bvc2VDYWxjdWxhdG9yKCl7cmV0dXJuIGguTXVzaWNTaGVldENhbGN1bGF0b3IudHJhbnNwb3NlQ2FsY3VsYXRvcn1nZXQgU2hlZXQoKXtyZXR1cm4gdGhpcy5zaGVldH1nZXQgRHJhd2VyKCl7cmV0dXJuIHRoaXMuZHJhd2VyfWdldCBHcmFwaGljU2hlZXQoKXtyZXR1cm4gdGhpcy5ncmFwaGljfWdldCBEcmF3aW5nUGFyYW1ldGVycygpe3JldHVybiB0aGlzLmRyYXdpbmdQYXJhbWV0ZXJzfWdldCBFbmdyYXZpbmdSdWxlcygpe3JldHVybiB0aGlzLnJ1bGVzfWdldCBWZXJzaW9uKCl7cmV0dXJuIHRoaXMudmVyc2lvbn19ZS5PcGVuU2hlZXRNdXNpY0Rpc3BsYXk9XyxfLlBhZ2VGb3JtYXRTdGFuZGFyZHM9e0EzX0w6bmV3IFMuUGFnZUZvcm1hdCg0MjAsMjk3LFwiQTNfTFwiKSxBM19QOm5ldyBTLlBhZ2VGb3JtYXQoMjk3LDQyMCxcIkEzX1BcIiksQTRfTDpuZXcgUy5QYWdlRm9ybWF0KDI5NywyMTAsXCJBNF9MXCIpLEE0X1A6bmV3IFMuUGFnZUZvcm1hdCgyMTAsMjk3LFwiQTRfUFwiKSxBNV9MOm5ldyBTLlBhZ2VGb3JtYXQoMjEwLDE0OCxcIkE1X0xcIiksQTVfUDpuZXcgUy5QYWdlRm9ybWF0KDE0OCwyMTAsXCJBNV9QXCIpLEE2X0w6bmV3IFMuUGFnZUZvcm1hdCgxNDgsMTA1LFwiQTZfTFwiKSxBNl9QOm5ldyBTLlBhZ2VGb3JtYXQoMTA1LDE0OCxcIkE2X1BcIiksRW5kbGVzczpTLlBhZ2VGb3JtYXQuVW5kZWZpbmVkUGFnZUZvcm1hdCxMZXR0ZXJfTDpuZXcgUy5QYWdlRm9ybWF0KDI3OS40LDIxNS45LFwiTGV0dGVyX0xcIiksTGV0dGVyX1A6bmV3IFMuUGFnZUZvcm1hdCgyMTUuOSwyNzkuNCxcIkxldHRlcl9QXCIpfX0sZnVuY3Rpb24odCxlLGkpe1widXNlIHN0cmljdFwiO09iamVjdC5kZWZpbmVQcm9wZXJ0eShlLFwiX19lc01vZHVsZVwiLHt2YWx1ZTohMH0pO2NvbnN0IHM9aSg1KTtjbGFzcyBuIGV4dGVuZHMgcy5HcmFwaGljYWxPYmplY3R7Y29uc3RydWN0b3IodCl7c3VwZXIoKSx0aGlzLnBhcmVudD10fWdldCBQYXJlbnQoKXtyZXR1cm4gdGhpcy5wYXJlbnR9c2V0IFBhcmVudCh0KXt0aGlzLnBhcmVudD10fX1lLkFic3RyYWN0R3JhcGhpY2FsSW5zdHJ1Y3Rpb249bn0sZnVuY3Rpb24odCxlLGkpe1widXNlIHN0cmljdFwiO09iamVjdC5kZWZpbmVQcm9wZXJ0eShlLFwiX19lc01vZHVsZVwiLHt2YWx1ZTohMH0pO2UuR3JhcGhpY2FsQ29tbWVudD1jbGFzc3tjb25zdHJ1Y3Rvcih0LGUpe3RoaXMubGFiZWw9dCx0aGlzLnNldHRpbmdzPWV9fX0sZnVuY3Rpb24odCxlLGkpe1widXNlIHN0cmljdFwiO09iamVjdC5kZWZpbmVQcm9wZXJ0eShlLFwiX19lc01vZHVsZVwiLHt2YWx1ZTohMH0pO2UuR3JhcGhpY2FsTWFya2VkQXJlYT1jbGFzc3tjb25zdHJ1Y3Rvcih0LGUsaSxzKXt0aGlzLnN5c3RlbVJlY3RhbmdsZT10LHRoaXMubGFiZWxSZWN0YW5nbGU9ZSx0aGlzLmxhYmVsPWksdGhpcy5zZXR0aW5ncz1zfX19LGZ1bmN0aW9uKHQsZSxpKXtcInVzZSBzdHJpY3RcIjtPYmplY3QuZGVmaW5lUHJvcGVydHkoZSxcIl9fZXNNb2R1bGVcIix7dmFsdWU6ITB9KTtjb25zdCBzPWkoMyksbj1pKDUpO2NsYXNzIHIgZXh0ZW5kcyBuLkdyYXBoaWNhbE9iamVjdHtjb25zdHJ1Y3Rvcih0LGUsaSxuKXtzdXBlcigpLHRoaXMuYm91bmRpbmdCb3g9bmV3IHMuQm91bmRpbmdCb3goaSksdGhpcy5ib3VuZGluZ0JveC5SZWxhdGl2ZVBvc2l0aW9uPXQsdGhpcy5ib3VuZGluZ0JveC5Cb3JkZXJSaWdodD1lLngtdC54LHRoaXMuYm91bmRpbmdCb3guQm9yZGVyQm90dG9tPWUueS10LnksdGhpcy5zdHlsZT1ufX1lLkdyYXBoaWNhbFJlY3RhbmdsZT1yfSxmdW5jdGlvbih0LGUsaSl7XCJ1c2Ugc3RyaWN0XCI7T2JqZWN0LmRlZmluZVByb3BlcnR5KGUsXCJfX2VzTW9kdWxlXCIse3ZhbHVlOiEwfSk7Y29uc3Qgcz1pKDQpO2NsYXNzIG57Y29uc3RydWN0b3IoKXt0aGlzLm1hdHJpeD1bXTtmb3IobGV0IHQ9MDt0PDI7dCsrKXt0aGlzLm1hdHJpeFt0XT1bXTtmb3IobGV0IGU9MDtlPDI7ZSsrKXRoaXMubWF0cml4W3RdW2VdPTB9fXN0YXRpYyBnZXRSb3RhdGlvbk1hdHJpeCh0KXtjb25zdCBlPW5ldyBuLGk9TWF0aC5jb3ModCkscz1NYXRoLnNpbih0KTtyZXR1cm4gZS5tYXRyaXhbMF1bMF09aSxlLm1hdHJpeFswXVsxXT0tcyxlLm1hdHJpeFsxXVswXT1zLGUubWF0cml4WzFdWzFdPWksZX1zY2FsYXJNdWx0aXBsaWNhdGlvbih0KXtmb3IobGV0IGU9MDtlPDI7ZSsrKWZvcihsZXQgaT0wO2k8MjtpKyspdGhpcy5tYXRyaXhbZV1baV0qPXR9Z2V0VHJhbnNwb3NlTWF0cml4KCl7Y29uc3QgdD1uZXcgbjtmb3IobGV0IGU9MDtlPDI7ZSsrKWZvcihsZXQgaT0wO2k8MjtpKyspdC5tYXRyaXhbZV1baV09dGhpcy5tYXRyaXhbaV1bZV07cmV0dXJuIHR9dmVjdG9yTXVsdGlwbGljYXRpb24odCl7Y29uc3QgZT1uZXcgcy5Qb2ludEYyRDtyZXR1cm4gZS54PXQueCp0aGlzLm1hdHJpeFswXVswXSt0LnkqdGhpcy5tYXRyaXhbMF1bMV0sZS55PXQueCp0aGlzLm1hdHJpeFsxXVswXSt0LnkqdGhpcy5tYXRyaXhbMV1bMV0sZX19ZS5NYXRyaXgyRD1ufSxmdW5jdGlvbih0LGUsaSl7XCJ1c2Ugc3RyaWN0XCI7T2JqZWN0LmRlZmluZVByb3BlcnR5KGUsXCJfX2VzTW9kdWxlXCIse3ZhbHVlOiEwfSk7ZS5HcmFwaGljYWxTdGFmZkVudHJ5TGluaz1jbGFzc3tjb25zdHJ1Y3Rvcih0KXt0aGlzLmdyYXBoaWNhbExpbmtlZFN0YWZmRW50cmllcz1bXSx0aGlzLnN0YWZmRW50cnlMaW5rPXQsdGhpcy5pbml0aWFsaXplKCl9Z2V0IEdldFN0YWZmRW50cnlMaW5rKCl7cmV0dXJuIHRoaXMuc3RhZmZFbnRyeUxpbmt9Z2V0IEdyYXBoaWNhbExpbmtlZFN0YWZmRW50cmllcygpe3JldHVybiB0aGlzLmdyYXBoaWNhbExpbmtlZFN0YWZmRW50cmllc31zZXQgR3JhcGhpY2FsTGlua2VkU3RhZmZFbnRyaWVzKHQpe3RoaXMuZ3JhcGhpY2FsTGlua2VkU3RhZmZFbnRyaWVzPXR9aXNGaWxsZWQoKXtmb3IobGV0IHQ9MDt0PHRoaXMuZ3JhcGhpY2FsTGlua2VkU3RhZmZFbnRyaWVzLmxlbmd0aDt0KyspaWYoIXRoaXMuZ3JhcGhpY2FsTGlua2VkU3RhZmZFbnRyaWVzW3RdKXJldHVybiExO3JldHVybiEwfWdldExpbmtlZFN0YWZmRW50cmllc0dyYXBoaWNhbE5vdGVzKHQpe2lmKC0xIT09dGhpcy5ncmFwaGljYWxMaW5rZWRTdGFmZkVudHJpZXMuaW5kZXhPZih0KSl7Y29uc3QgdD1bXTtmb3IobGV0IGU9MCxpPXRoaXMuZ3JhcGhpY2FsTGlua2VkU3RhZmZFbnRyaWVzLmxlbmd0aDtlPGk7KytlKXtjb25zdCBpPXRoaXMuZ3JhcGhpY2FsTGlua2VkU3RhZmZFbnRyaWVzW2VdO2Zvcihjb25zdCBlIG9mIGkuZ3JhcGhpY2FsVm9pY2VFbnRyaWVzKWZvcihjb25zdCBpIG9mIGUubm90ZXMpaS5zb3VyY2VOb3RlLlBhcmVudFN0YWZmRW50cnkuTGluayYmaS5zb3VyY2VOb3RlLlBhcmVudFZvaWNlRW50cnk9PT10aGlzLnN0YWZmRW50cnlMaW5rLkdldFZvaWNlRW50cnkmJnQucHVzaChpKX1yZXR1cm4gdH19aW5pdGlhbGl6ZSgpe2ZvcihsZXQgdD0wLGU9dGhpcy5zdGFmZkVudHJ5TGluay5MaW5rU3RhZmZFbnRyaWVzLmxlbmd0aDt0PGU7Kyt0KXRoaXMuZ3JhcGhpY2FsTGlua2VkU3RhZmZFbnRyaWVzLnB1c2godm9pZCAwKX19fSxmdW5jdGlvbih0LGUsaSl7XCJ1c2Ugc3RyaWN0XCI7T2JqZWN0LmRlZmluZVByb3BlcnR5KGUsXCJfX2VzTW9kdWxlXCIse3ZhbHVlOiEwfSk7Y29uc3Qgcz1pKDUpLG49aSgyMSkscj1pKDQpLG89aSgzKSxhPWkoMjApLGg9aSgyNCk7Y2xhc3MgbCBleHRlbmRzIHMuR3JhcGhpY2FsT2JqZWN0e2NvbnN0cnVjdG9yKHQsZSl7c3VwZXIoKTtjb25zdCBpPWUscz10LlBvc2l0aW9uQW5kU2hhcGUuQWJzb2x1dGVQb3NpdGlvbi55LGw9aC5Db2xsZWN0aW9uVXRpbC5sYXN0KHQuU3RhZmZMaW5lcykuUG9zaXRpb25BbmRTaGFwZS5SZWxhdGl2ZVBvc2l0aW9uLnkrNDt0aGlzLnZlcnRpY2FsTGluZT1uZXcgYS5HcmFwaGljYWxMaW5lKG5ldyByLlBvaW50RjJEKGkscyksbmV3IHIuUG9pbnRGMkQoaSxzK2wpLC40LG4uT3V0bGluZUFuZEZpbGxTdHlsZUVudW0uU2VsZWN0aW9uU3ltYm9sKTtmb3IobGV0IGU9MCxuPXQuU3RhZmZMaW5lcy5sZW5ndGg7ZTxuOysrZSl7Y29uc3Qgbj10LlN0YWZmTGluZXNbZV0sbz1uZXcgci5Qb2ludEYyRChpLHMrbi5Qb3NpdGlvbkFuZFNoYXBlLlJlbGF0aXZlUG9zaXRpb24ueSksYT1uZXcgQXJyYXkoMyk7by55LT0uMixhWzBdLng9by54LTMsYVswXS55PW8ueSsxLjIsYVsxXS54PW8ueC0yLGFbMV0ueT1vLnkrLjQsYVsyXS54PW8ueC0yLGFbMl0ueT1vLnkrMix0aGlzLmFycm93cy5wdXNoKGEpO2NvbnN0IGg9bmV3IEFycmF5KDgpLGw9Ljg7by54LT0uMSxvLnkrPS4zO2NvbnN0IGM9LjI7aFswXS54PW8ueC0yLGhbMF0ueT1vLnkrMS41LWMsaFsxXS54PW8ueC0xLGhbMV0ueT1vLnkrMS41LWMsaFsyXS54PW8ueC0xLGhbMl0ueT1vLnkrMi41LGhbM10ueD1vLngtMixoWzNdLnk9by55KzIuNSxoWzRdLng9aFswXS54LGhbNF0ueT1oWzBdLnktbCxoWzVdLng9aFs0XS54K2wrMSxoWzVdLnk9aFs0XS55LGhbNl0ueD1oWzVdLngsaFs2XS55PWhbM10ueStsLGhbN10ueD1oWzNdLngsaFs3XS55PWhbNl0ueSx0aGlzLmFycm93bGluZXMucHVzaChoKX10aGlzLmJvdW5kaW5nQm94PW5ldyBvLkJvdW5kaW5nQm94KHRoaXMpLHRoaXMuYm91bmRpbmdCb3guQWJzb2x1dGVQb3NpdGlvbj1uZXcgci5Qb2ludEYyRChpLHMpLHRoaXMuYm91bmRpbmdCb3guQm9yZGVyTGVmdD0tLjQsdGhpcy5ib3VuZGluZ0JveC5Cb3JkZXJSaWdodD00LHRoaXMuYm91bmRpbmdCb3guQm9yZGVyQm90dG9tPWx9fWUuU2VsZWN0aW9uRW5kU3ltYm9sPWx9LGZ1bmN0aW9uKHQsZSxpKXtcInVzZSBzdHJpY3RcIjtPYmplY3QuZGVmaW5lUHJvcGVydHkoZSxcIl9fZXNNb2R1bGVcIix7dmFsdWU6ITB9KTtjb25zdCBzPWkoNCksbj1pKDIxKSxyPWkoMjApLG89aSg1KSxhPWkoMyksaD1pKDI0KTtjbGFzcyBsIGV4dGVuZHMgby5HcmFwaGljYWxPYmplY3R7Y29uc3RydWN0b3IodCxlKXtzdXBlcigpO2NvbnN0IGk9ZSxvPXQuUG9zaXRpb25BbmRTaGFwZS5BYnNvbHV0ZVBvc2l0aW9uLnksbD1oLkNvbGxlY3Rpb25VdGlsLmxhc3QodC5TdGFmZkxpbmVzKS5Qb3NpdGlvbkFuZFNoYXBlLlJlbGF0aXZlUG9zaXRpb24ueSs0O3RoaXMudmVydGljYWxMaW5lPW5ldyByLkdyYXBoaWNhbExpbmUobmV3IHMuUG9pbnRGMkQoaSxvKSxuZXcgcy5Qb2ludEYyRChpLG8rbCksLjQsbi5PdXRsaW5lQW5kRmlsbFN0eWxlRW51bS5TZWxlY3Rpb25TeW1ib2wpO2ZvcihsZXQgZT0wLG49dC5TdGFmZkxpbmVzLmxlbmd0aDtlPG47KytlKXtjb25zdCBuPXQuU3RhZmZMaW5lc1tlXSxyPW5ldyBzLlBvaW50RjJEKGksbytuLlBvc2l0aW9uQW5kU2hhcGUuUmVsYXRpdmVQb3NpdGlvbi55KSxhPW5ldyBBcnJheSg3KTthWzBdLng9ci54KzQsYVswXS55PXIueSsyLGFbMV0ueD1yLngrMi41LGFbMV0ueT1yLnkrLjUsYVsyXS54PXIueCsyLjUsYVsyXS55PXIueSsxLjMsYVszXS54PXIueCsxLGFbM10ueT1yLnkrMS4zLGFbNF0ueD1yLngrMSxhWzRdLnk9ci55KzIuNyxhWzVdLng9ci54KzIuNSxhWzVdLnk9ci55KzIuNyxhWzZdLng9ci54KzIuNSxhWzZdLnk9ci55KzMuNSx0aGlzLmFycm93cy5wdXNoKGEpfXRoaXMuYm91bmRpbmdCb3g9bmV3IGEuQm91bmRpbmdCb3godGhpcyksdGhpcy5ib3VuZGluZ0JveC5BYnNvbHV0ZVBvc2l0aW9uPW5ldyBzLlBvaW50RjJEKGksbyksdGhpcy5ib3VuZGluZ0JveC5Cb3JkZXJMZWZ0PS0uNCx0aGlzLmJvdW5kaW5nQm94LkJvcmRlclJpZ2h0PTQsdGhpcy5ib3VuZGluZ0JveC5Cb3JkZXJCb3R0b209bH19ZS5TZWxlY3Rpb25TdGFydFN5bWJvbD1sfSxmdW5jdGlvbih0LGUsaSl7XCJ1c2Ugc3RyaWN0XCI7ZnVuY3Rpb24gcyh0KXtmb3IodmFyIGkgaW4gdCllLmhhc093blByb3BlcnR5KGkpfHwoZVtpXT10W2ldKX1PYmplY3QuZGVmaW5lUHJvcGVydHkoZSxcIl9fZXNNb2R1bGVcIix7dmFsdWU6ITB9KSxzKGkoNjgpKSxzKGkoMTIwKSkscyhpKDY5KSkscyhpKDY3KSkscyhpKDE4KSkscyhpKDcwKSkscyhpKDk2KSkscyhpKDEyMSkpLHMoaSgxMjIpKSxzKGkoNzEpKSxzKGkoNzIpKSxzKGkoOTUpKSxzKGkoMTkpKSxzKGkoOTcpKSxzKGkoMTIzKSkscyhpKDE2NykpLHMoaSgxMjQpKSxzKGkoMTI1KSkscyhpKDY0KSkscyhpKDczKSl9LGZ1bmN0aW9uKHQsZSxpKXtcInVzZSBzdHJpY3RcIjtPYmplY3QuZGVmaW5lUHJvcGVydHkoZSxcIl9fZXNNb2R1bGVcIix7dmFsdWU6ITB9KSxmdW5jdGlvbih0KXt0W3QucD0wXT1cInBcIix0W3QuZj0xXT1cImZcIix0W3Qucz0yXT1cInNcIix0W3Quej0zXT1cInpcIix0W3QubT00XT1cIm1cIix0W3Qucj01XT1cInJcIn0oZS5EeW5hbWljRXhwcmVzc2lvblN5bWJvbEVudW18fChlLkR5bmFtaWNFeHByZXNzaW9uU3ltYm9sRW51bT17fSkpfSxmdW5jdGlvbih0LGUsaSl7XCJ1c2Ugc3RyaWN0XCI7dmFyIHM9dGhpcyYmdGhpcy5fX2ltcG9ydERlZmF1bHR8fGZ1bmN0aW9uKHQpe3JldHVybiB0JiZ0Ll9fZXNNb2R1bGU/dDp7ZGVmYXVsdDp0fX07T2JqZWN0LmRlZmluZVByb3BlcnR5KGUsXCJfX2VzTW9kdWxlXCIse3ZhbHVlOiEwfSk7Y29uc3Qgbj1zKGkoMTApKTt2YXIgcjshZnVuY3Rpb24odCl7dFt0Lk5FQVJfSEVBRD0xXT1cIk5FQVJfSEVBRFwiLHRbdC5ORUFSX1RPUD0yXT1cIk5FQVJfVE9QXCJ9KHI9ZS5DdXJ2ZVBvc2l0aW9uRW51bXx8KGUuQ3VydmVQb3NpdGlvbkVudW09e30pKTtjbGFzcyBve2NvbnN0cnVjdG9yKHQpe3RoaXMudmZTdGFydE5vdGU9dm9pZCAwLHRoaXMudmZFbmROb3RlPXZvaWQgMCx0aGlzLnBhcmVudFNsdXI9dH1zdGF0aWMgY3JlYXRlRnJvbVZleGZsb3dTbHVyKHQpe3JldHVybiBuZXcgbyh0LnBhcmVudFNsdXIpfWdldCB2ZlNsdXIoKXtyZXR1cm4gdGhpcy5wYXJlbnRTbHVyfWN1cnZlX09wdGlvbnMoKXtyZXR1cm57Y3BzOlt7eDowLHk6MTB9LHt4OjAseToxMH1dLGludmVydDohMSxwb3NpdGlvbjpyLk5FQVJfVE9QLHBvc2l0aW9uX2VuZDpyLk5FQVJfVE9QLHNwYWNpbmc6Mix0aGlja25lc3M6Mix4X3NoaWZ0OjAseV9zaGlmdDoxMH19Y3JlYXRlVmV4Rmxvd0N1cnZlKCl7dGhpcy52ZkN1cnZlPW5ldyBuLmRlZmF1bHQuRmxvdy5DdXJ2ZSh0aGlzLnZmU3RhcnROb3RlLHRoaXMudmZFbmROb3RlLHZvaWQgMCl9fWUuVmV4Rmxvd1NsdXI9b30sZnVuY3Rpb24odCxlLGkpe1widXNlIHN0cmljdFwiO2Z1bmN0aW9uIHModCl7Zm9yKHZhciBpIGluIHQpZS5oYXNPd25Qcm9wZXJ0eShpKXx8KGVbaV09dFtpXSl9T2JqZWN0LmRlZmluZVByb3BlcnR5KGUsXCJfX2VzTW9kdWxlXCIse3ZhbHVlOiEwfSkscyhpKDQ1KSkscyhpKDgpKSxzKGkoMTUpKSxzKGkoMjYpKSxzKGkoMTcpKSxzKGkoNzQpKX0sZnVuY3Rpb24odCxlLGkpe1widXNlIHN0cmljdFwiO3ZhciBzPXRoaXMmJnRoaXMuX19pbXBvcnREZWZhdWx0fHxmdW5jdGlvbih0KXtyZXR1cm4gdCYmdC5fX2VzTW9kdWxlP3Q6e2RlZmF1bHQ6dH19O09iamVjdC5kZWZpbmVQcm9wZXJ0eShlLFwiX19lc01vZHVsZVwiLHt2YWx1ZTohMH0pO2NvbnN0IG49cyhpKDEwKSkscj1pKDcyKSxvPWkoMTgpLGE9cyhpKDEpKTtjbGFzcyBoIGV4dGVuZHMgci5WZXhGbG93TWVhc3VyZXtjb25zdHJ1Y3Rvcih0LGUsaSl7c3VwZXIodCxlLGkpfXJlc2V0TGF5b3V0KCl7dGhpcy5zdGF2ZT1uZXcgbi5kZWZhdWx0LkZsb3cuVGFiU3RhdmUoMCwwLDAse3NwYWNlX2Fib3ZlX3N0YWZmX2xuOjAsc3BhY2VfYmVsb3dfc3RhZmZfbG46MH0pLHRoaXMudXBkYXRlSW5zdHJ1Y3Rpb25XaWR0aCgpfWdyYXBoaWNhbE1lYXN1cmVDcmVhdGVkQ2FsY3VsYXRpb25zKCl7Zm9yKGxldCB0PTAsZT10aGlzLnN0YWZmRW50cmllcy5sZW5ndGg7dDxlOysrdCl7Y29uc3QgZT10aGlzLnN0YWZmRW50cmllc1t0XTtmb3IoY29uc3QgdCBvZiBlLmdyYXBoaWNhbFZvaWNlRW50cmllcyl0Lm5vdGVzWzBdLnNvdXJjZU5vdGUuaXNSZXN0KCk/dC52ZlN0YXZlTm90ZT1vLlZleEZsb3dDb252ZXJ0ZXIuR2hvc3ROb3RlKHQubm90ZXNbMF0uc291cmNlTm90ZS5MZW5ndGgpOnQudmZTdGF2ZU5vdGU9by5WZXhGbG93Q29udmVydGVyLkNyZWF0ZVRhYk5vdGUodCl9dGhpcy5maW5hbGl6ZVR1cGxldHMoKTtjb25zdCB0PXRoaXMuZ2V0Vm9pY2VzV2l0aGluTWVhc3VyZSgpO2Zvcihjb25zdCBlIG9mIHQpe2lmKCFlKWNvbnRpbnVlO3RoaXMudmZWb2ljZXNbZS5Wb2ljZUlkXT1uZXcgbi5kZWZhdWx0LkZsb3cuVm9pY2Uoe2JlYXRfdmFsdWU6dGhpcy5wYXJlbnRTb3VyY2VNZWFzdXJlLkR1cmF0aW9uLkRlbm9taW5hdG9yLG51bV9iZWF0czp0aGlzLnBhcmVudFNvdXJjZU1lYXN1cmUuRHVyYXRpb24uTnVtZXJhdG9yLHJlc29sdXRpb246bi5kZWZhdWx0LkZsb3cuUkVTT0xVVElPTn0pLnNldE1vZGUoMik7Y29uc3QgdD10aGlzLmdldFJlc3RGaWxsZWRWZXhGbG93U3RhdmVOb3Rlc1BlclZvaWNlKGUpO2Zvcihjb25zdCBpIG9mIHQpe2lmKGkucGFyZW50Vm9pY2VFbnRyeSYmaS5wYXJlbnRWb2ljZUVudHJ5LklzR3JhY2UmJiFpLnBhcmVudFZvaWNlRW50cnkuR3JhY2VBZnRlck1haW5Ob3RlKWNvbnRpbnVlO2NvbnN0IHQ9aTtpZigwIT09aS5ub3Rlcy5sZW5ndGgmJmkubm90ZXNbMF0mJmkubm90ZXNbMF0uc291cmNlTm90ZS5QcmludE9iamVjdCl7aWYoaS5wYXJlbnRWb2ljZUVudHJ5JiZ0aGlzLnJ1bGVzLlJlbmRlckZpbmdlcmluZ3MmJnRoaXMuY3JlYXRlRmluZ2VyaW5ncyhpKSxpLnBhcmVudFZvaWNlRW50cnkmJmkucGFyZW50Vm9pY2VFbnRyeS5BcnBlZ2dpbyl7Y29uc3QgZT1pLnBhcmVudFZvaWNlRW50cnkuQXJwZWdnaW87aWYoaS5ub3RlcyYmaS5ub3Rlcy5sZW5ndGg+MSl7Y29uc3QgaT1vLlZleEZsb3dDb252ZXJ0ZXIuU3Ryb2tlVHlwZUZyb21BcnBlZ2dpb1R5cGUoZS50eXBlKSxzPW5ldyBuLmRlZmF1bHQuRmxvdy5TdHJva2UoaSx7YWxsX3ZvaWNlczp0aGlzLnJ1bGVzLkFycGVnZ2lvc0dvQWNyb3NzVm9pY2VzfSk7dGhpcy5ydWxlcy5SZW5kZXJBcnBlZ2dpb3MmJnQudmZTdGF2ZU5vdGUuYWRkU3Ryb2tlKDAscyl9ZWxzZSBhLmRlZmF1bHQuZGVidWcoYFtPU01EXSBhcnBlZ2dpbyBpbiBtZWFzdXJlICR7dGhpcy5NZWFzdXJlTnVtYmVyfSBjb3VsZCBub3QgYmUgZHJhd24uXFxuICAgICAgICAgICAgICAgICAgICAgICAgdm9pY2UgZW50cnkgaGFkIGxlc3MgdGhhbiB0d28gbm90ZXMsIGFycGVnZ2lvIGlzIGxpa2VseSBiZXR3ZWVuIHZvaWNlIGVudHJpZXMsIG5vdCBjdXJyZW50bHkgc3VwcG9ydGVkIGluIFZleGZsb3cuYCl9dGhpcy52ZlZvaWNlc1tlLlZvaWNlSWRdLmFkZFRpY2thYmxlKHQudmZTdGF2ZU5vdGUpfWVsc2UgdGhpcy52ZlZvaWNlc1tlLlZvaWNlSWRdLmFkZFRpY2thYmxlKHQudmZTdGF2ZU5vdGUpfX19fWUuVmV4Rmxvd1RhYk1lYXN1cmU9aH0sZnVuY3Rpb24odCxlLGkpe1widXNlIHN0cmljdFwiO09iamVjdC5kZWZpbmVQcm9wZXJ0eShlLFwiX19lc01vZHVsZVwiLHt2YWx1ZTohMH0pO2NvbnN0IHM9aSgzOSksbj1pKDEyOCkscj1pKDcwKSxvPWkoNDMpO2UuVmV4Zmxvd1N0YWZmbGluZU5vdGVDYWxjdWxhdG9yPWNsYXNze2NvbnN0cnVjdG9yKHQpe3RoaXMuaW5zdHJ1bWVudFZvaWNlTWFwcGluZz1uZXcgby5EaWN0aW9uYXJ5LHRoaXMudm9pY2VJZHg9MCx0aGlzLnJ1bGVzPXR9cG9zaXRpb25Ob3RlKHQsZSxpKXtpZighKHQgaW5zdGFuY2VvZiByLlZleEZsb3dHcmFwaGljYWxOb3RlKXx8ZS5DbGVmVHlwZSE9PXMuQ2xlZkVudW0ucGVyY3Vzc2lvbnx8dC5zb3VyY2VOb3RlLmlzUmVzdCgpfHxpPjF8fDA9PT10aGlzLnJ1bGVzLlBlcmN1c3Npb25PbmVMaW5lQ3V0b2ZmKXJldHVybiB0O2NvbnN0IGE9dGhpcy5ydWxlcy5QZXJjdXNzaW9uRm9yY2VWb2ljZXNPbmVMaW5lQ3V0b2ZmLGg9dm9pZCAwIT09YSYmMCE9PWEmJigtMT09PWF8fHQuc291cmNlTm90ZS5QYXJlbnRTdGFmZi5QYXJlbnRJbnN0cnVtZW50LlN1Ykluc3RydW1lbnRzLmxlbmd0aDxhKSxsPXQuc291cmNlTm90ZS5QbGF5YmFja0luc3RydW1lbnRJZCxjPXQucGFyZW50Vm9pY2VFbnRyeS5wYXJlbnRWb2ljZUVudHJ5LlBhcmVudFZvaWNlLlZvaWNlSWQ7bGV0IHU9dm9pZCAwO3RoaXMuaW5zdHJ1bWVudFZvaWNlTWFwcGluZy5jb250YWluc0tleShsKT91PXRoaXMuaW5zdHJ1bWVudFZvaWNlTWFwcGluZy5nZXRWYWx1ZShsKToodT1uZXcgby5EaWN0aW9uYXJ5LHRoaXMuaW5zdHJ1bWVudFZvaWNlTWFwcGluZy5zZXRWYWx1ZShsLHUpKTtsZXQgZD1uLk5vdGVFbnVtLkIsZj0xO2NvbnN0IG09dDtpZighaClpZih1LmNvbnRhaW5zS2V5KGMpKXtjb25zdCB0PXUuZ2V0VmFsdWUoYyk7ZD10Lm5vdGUsZj10Lm9jdGF2ZX1lbHNle3N3aXRjaCh0aGlzLnZvaWNlSWR4JTUpe2Nhc2UgMTpkPW4uTm90ZUVudW0uQTticmVhaztjYXNlIDI6ZD1uLk5vdGVFbnVtLkY7YnJlYWs7Y2FzZSAzOmQ9bi5Ob3RlRW51bS5EO2JyZWFrO2Nhc2UgNDpkPW4uTm90ZUVudW0uQixmPTA7YnJlYWs7ZGVmYXVsdDpkPW4uTm90ZUVudW0uQyxmPTJ9dGhpcy52b2ljZUlkeCsrLHUuc2V0VmFsdWUoYyx7bm90ZTpkLG9jdGF2ZTpmfSl9cmV0dXJuIG0uc2V0QWNjaWRlbnRhbChuZXcgbi5QaXRjaChkLGYsbi5BY2NpZGVudGFsRW51bS5OT05FKSksdH19fSxmdW5jdGlvbih0LGUsaSl7XCJ1c2Ugc3RyaWN0XCI7ZnVuY3Rpb24gcyh0KXtmb3IodmFyIGkgaW4gdCllLmhhc093blByb3BlcnR5KGkpfHwoZVtpXT10W2ldKX1PYmplY3QuZGVmaW5lUHJvcGVydHkoZSxcIl9fZXNNb2R1bGVcIix7dmFsdWU6ITB9KSxzKGkoMTI5KSkscyhpKDU5KSl9LGZ1bmN0aW9uKHQsZSxpKXsoZnVuY3Rpb24oZSxpLHMpe3QuZXhwb3J0cz1mdW5jdGlvbiB0KGUsaSxzKXtmdW5jdGlvbiBuKG8sYSl7aWYoIWlbb10pe2lmKCFlW29dKXtpZihyKXJldHVybiByKG8sITApO3ZhciBoPW5ldyBFcnJvcihcIkNhbm5vdCBmaW5kIG1vZHVsZSAnXCIrbytcIidcIik7dGhyb3cgaC5jb2RlPVwiTU9EVUxFX05PVF9GT1VORFwiLGh9dmFyIGw9aVtvXT17ZXhwb3J0czp7fX07ZVtvXVswXS5jYWxsKGwuZXhwb3J0cywoZnVuY3Rpb24odCl7cmV0dXJuIG4oZVtvXVsxXVt0XXx8dCl9KSxsLGwuZXhwb3J0cyx0LGUsaSxzKX1yZXR1cm4gaVtvXS5leHBvcnRzfWZvcih2YXIgcj0hMSxvPTA7bzxzLmxlbmd0aDtvKyspbihzW29dKTtyZXR1cm4gbn0oezE6W2Z1bmN0aW9uKHQsZSxpKXtcInVzZSBzdHJpY3RcIjt2YXIgcz10KFwiLi91dGlsc1wiKSxuPXQoXCIuL3N1cHBvcnRcIikscj1cIkFCQ0RFRkdISUpLTE1OT1BRUlNUVVZXWFlaYWJjZGVmZ2hpamtsbW5vcHFyc3R1dnd4eXowMTIzNDU2Nzg5Ky89XCI7aS5lbmNvZGU9ZnVuY3Rpb24odCl7Zm9yKHZhciBlLGksbixvLGEsaCxsLGM9W10sdT0wLGQ9dC5sZW5ndGgsZj1kLG09XCJzdHJpbmdcIiE9PXMuZ2V0VHlwZU9mKHQpO3U8dC5sZW5ndGg7KWY9ZC11LG49bT8oZT10W3UrK10saT11PGQ/dFt1KytdOjAsdTxkP3RbdSsrXTowKTooZT10LmNoYXJDb2RlQXQodSsrKSxpPXU8ZD90LmNoYXJDb2RlQXQodSsrKTowLHU8ZD90LmNoYXJDb2RlQXQodSsrKTowKSxvPWU+PjIsYT0oMyZlKTw8NHxpPj40LGg9MTxmPygxNSZpKTw8MnxuPj42OjY0LGw9MjxmPzYzJm46NjQsYy5wdXNoKHIuY2hhckF0KG8pK3IuY2hhckF0KGEpK3IuY2hhckF0KGgpK3IuY2hhckF0KGwpKTtyZXR1cm4gYy5qb2luKFwiXCIpfSxpLmRlY29kZT1mdW5jdGlvbih0KXt2YXIgZSxpLHMsbyxhLGgsbD0wLGM9MCx1PVwiZGF0YTpcIjtpZih0LnN1YnN0cigwLHUubGVuZ3RoKT09PXUpdGhyb3cgbmV3IEVycm9yKFwiSW52YWxpZCBiYXNlNjQgaW5wdXQsIGl0IGxvb2tzIGxpa2UgYSBkYXRhIHVybC5cIik7dmFyIGQsZj0zKih0PXQucmVwbGFjZSgvW15BLVphLXowLTlcXCtcXC9cXD1dL2csXCJcIikpLmxlbmd0aC80O2lmKHQuY2hhckF0KHQubGVuZ3RoLTEpPT09ci5jaGFyQXQoNjQpJiZmLS0sdC5jaGFyQXQodC5sZW5ndGgtMik9PT1yLmNoYXJBdCg2NCkmJmYtLSxmJTEhPTApdGhyb3cgbmV3IEVycm9yKFwiSW52YWxpZCBiYXNlNjQgaW5wdXQsIGJhZCBjb250ZW50IGxlbmd0aC5cIik7Zm9yKGQ9bi51aW50OGFycmF5P25ldyBVaW50OEFycmF5KDB8Zik6bmV3IEFycmF5KDB8Zik7bDx0Lmxlbmd0aDspZT1yLmluZGV4T2YodC5jaGFyQXQobCsrKSk8PDJ8KG89ci5pbmRleE9mKHQuY2hhckF0KGwrKykpKT4+NCxpPSgxNSZvKTw8NHwoYT1yLmluZGV4T2YodC5jaGFyQXQobCsrKSkpPj4yLHM9KDMmYSk8PDZ8KGg9ci5pbmRleE9mKHQuY2hhckF0KGwrKykpKSxkW2MrK109ZSw2NCE9PWEmJihkW2MrK109aSksNjQhPT1oJiYoZFtjKytdPXMpO3JldHVybiBkfX0se1wiLi9zdXBwb3J0XCI6MzAsXCIuL3V0aWxzXCI6MzJ9XSwyOltmdW5jdGlvbih0LGUsaSl7XCJ1c2Ugc3RyaWN0XCI7dmFyIHM9dChcIi4vZXh0ZXJuYWxcIiksbj10KFwiLi9zdHJlYW0vRGF0YVdvcmtlclwiKSxyPXQoXCIuL3N0cmVhbS9EYXRhTGVuZ3RoUHJvYmVcIiksbz10KFwiLi9zdHJlYW0vQ3JjMzJQcm9iZVwiKTtmdW5jdGlvbiBhKHQsZSxpLHMsbil7dGhpcy5jb21wcmVzc2VkU2l6ZT10LHRoaXMudW5jb21wcmVzc2VkU2l6ZT1lLHRoaXMuY3JjMzI9aSx0aGlzLmNvbXByZXNzaW9uPXMsdGhpcy5jb21wcmVzc2VkQ29udGVudD1ufXI9dChcIi4vc3RyZWFtL0RhdGFMZW5ndGhQcm9iZVwiKSxhLnByb3RvdHlwZT17Z2V0Q29udGVudFdvcmtlcjpmdW5jdGlvbigpe3ZhciB0PW5ldyBuKHMuUHJvbWlzZS5yZXNvbHZlKHRoaXMuY29tcHJlc3NlZENvbnRlbnQpKS5waXBlKHRoaXMuY29tcHJlc3Npb24udW5jb21wcmVzc1dvcmtlcigpKS5waXBlKG5ldyByKFwiZGF0YV9sZW5ndGhcIikpLGU9dGhpcztyZXR1cm4gdC5vbihcImVuZFwiLChmdW5jdGlvbigpe2lmKHRoaXMuc3RyZWFtSW5mby5kYXRhX2xlbmd0aCE9PWUudW5jb21wcmVzc2VkU2l6ZSl0aHJvdyBuZXcgRXJyb3IoXCJCdWcgOiB1bmNvbXByZXNzZWQgZGF0YSBzaXplIG1pc21hdGNoXCIpfSkpLHR9LGdldENvbXByZXNzZWRXb3JrZXI6ZnVuY3Rpb24oKXtyZXR1cm4gbmV3IG4ocy5Qcm9taXNlLnJlc29sdmUodGhpcy5jb21wcmVzc2VkQ29udGVudCkpLndpdGhTdHJlYW1JbmZvKFwiY29tcHJlc3NlZFNpemVcIix0aGlzLmNvbXByZXNzZWRTaXplKS53aXRoU3RyZWFtSW5mbyhcInVuY29tcHJlc3NlZFNpemVcIix0aGlzLnVuY29tcHJlc3NlZFNpemUpLndpdGhTdHJlYW1JbmZvKFwiY3JjMzJcIix0aGlzLmNyYzMyKS53aXRoU3RyZWFtSW5mbyhcImNvbXByZXNzaW9uXCIsdGhpcy5jb21wcmVzc2lvbil9fSxhLmNyZWF0ZVdvcmtlckZyb209ZnVuY3Rpb24odCxlLGkpe3JldHVybiB0LnBpcGUobmV3IG8pLnBpcGUobmV3IHIoXCJ1bmNvbXByZXNzZWRTaXplXCIpKS5waXBlKGUuY29tcHJlc3NXb3JrZXIoaSkpLnBpcGUobmV3IHIoXCJjb21wcmVzc2VkU2l6ZVwiKSkud2l0aFN0cmVhbUluZm8oXCJjb21wcmVzc2lvblwiLGUpfSxlLmV4cG9ydHM9YX0se1wiLi9leHRlcm5hbFwiOjYsXCIuL3N0cmVhbS9DcmMzMlByb2JlXCI6MjUsXCIuL3N0cmVhbS9EYXRhTGVuZ3RoUHJvYmVcIjoyNixcIi4vc3RyZWFtL0RhdGFXb3JrZXJcIjoyN31dLDM6W2Z1bmN0aW9uKHQsZSxpKXtcInVzZSBzdHJpY3RcIjt2YXIgcz10KFwiLi9zdHJlYW0vR2VuZXJpY1dvcmtlclwiKTtpLlNUT1JFPXttYWdpYzpcIlxcMFxcMFwiLGNvbXByZXNzV29ya2VyOmZ1bmN0aW9uKHQpe3JldHVybiBuZXcgcyhcIlNUT1JFIGNvbXByZXNzaW9uXCIpfSx1bmNvbXByZXNzV29ya2VyOmZ1bmN0aW9uKCl7cmV0dXJuIG5ldyBzKFwiU1RPUkUgZGVjb21wcmVzc2lvblwiKX19LGkuREVGTEFURT10KFwiLi9mbGF0ZVwiKX0se1wiLi9mbGF0ZVwiOjcsXCIuL3N0cmVhbS9HZW5lcmljV29ya2VyXCI6Mjh9XSw0OltmdW5jdGlvbih0LGUsaSl7XCJ1c2Ugc3RyaWN0XCI7dmFyIHM9dChcIi4vdXRpbHNcIiksbj1mdW5jdGlvbigpe2Zvcih2YXIgdCxlPVtdLGk9MDtpPDI1NjtpKyspe3Q9aTtmb3IodmFyIHM9MDtzPDg7cysrKXQ9MSZ0PzM5ODgyOTIzODRedD4+PjE6dD4+PjE7ZVtpXT10fXJldHVybiBlfSgpO2UuZXhwb3J0cz1mdW5jdGlvbih0LGUpe3JldHVybiB2b2lkIDAhPT10JiZ0Lmxlbmd0aD9cInN0cmluZ1wiIT09cy5nZXRUeXBlT2YodCk/ZnVuY3Rpb24odCxlLGkscyl7dmFyIHI9bixvPTAraTt0Xj0tMTtmb3IodmFyIGE9MDthPG87YSsrKXQ9dD4+PjheclsyNTUmKHReZVthXSldO3JldHVybi0xXnR9KDB8ZSx0LHQubGVuZ3RoKTpmdW5jdGlvbih0LGUsaSxzKXt2YXIgcj1uLG89MCtpO3RePS0xO2Zvcih2YXIgYT0wO2E8bzthKyspdD10Pj4+OF5yWzI1NSYodF5lLmNoYXJDb2RlQXQoYSkpXTtyZXR1cm4tMV50fSgwfGUsdCx0Lmxlbmd0aCk6MH19LHtcIi4vdXRpbHNcIjozMn1dLDU6W2Z1bmN0aW9uKHQsZSxpKXtcInVzZSBzdHJpY3RcIjtpLmJhc2U2ND0hMSxpLmJpbmFyeT0hMSxpLmRpcj0hMSxpLmNyZWF0ZUZvbGRlcnM9ITAsaS5kYXRlPW51bGwsaS5jb21wcmVzc2lvbj1udWxsLGkuY29tcHJlc3Npb25PcHRpb25zPW51bGwsaS5jb21tZW50PW51bGwsaS51bml4UGVybWlzc2lvbnM9bnVsbCxpLmRvc1Blcm1pc3Npb25zPW51bGx9LHt9XSw2OltmdW5jdGlvbih0LGUsaSl7XCJ1c2Ugc3RyaWN0XCI7dmFyIHM7cz1cInVuZGVmaW5lZFwiIT10eXBlb2YgUHJvbWlzZT9Qcm9taXNlOnQoXCJsaWVcIiksZS5leHBvcnRzPXtQcm9taXNlOnN9fSx7bGllOjM3fV0sNzpbZnVuY3Rpb24odCxlLGkpe1widXNlIHN0cmljdFwiO3ZhciBzPVwidW5kZWZpbmVkXCIhPXR5cGVvZiBVaW50OEFycmF5JiZcInVuZGVmaW5lZFwiIT10eXBlb2YgVWludDE2QXJyYXkmJlwidW5kZWZpbmVkXCIhPXR5cGVvZiBVaW50MzJBcnJheSxuPXQoXCJwYWtvXCIpLHI9dChcIi4vdXRpbHNcIiksbz10KFwiLi9zdHJlYW0vR2VuZXJpY1dvcmtlclwiKSxhPXM/XCJ1aW50OGFycmF5XCI6XCJhcnJheVwiO2Z1bmN0aW9uIGgodCxlKXtvLmNhbGwodGhpcyxcIkZsYXRlV29ya2VyL1wiK3QpLHRoaXMuX3Bha289bnVsbCx0aGlzLl9wYWtvQWN0aW9uPXQsdGhpcy5fcGFrb09wdGlvbnM9ZSx0aGlzLm1ldGE9e319aS5tYWdpYz1cIlxcYlxcMFwiLHIuaW5oZXJpdHMoaCxvKSxoLnByb3RvdHlwZS5wcm9jZXNzQ2h1bms9ZnVuY3Rpb24odCl7dGhpcy5tZXRhPXQubWV0YSxudWxsPT09dGhpcy5fcGFrbyYmdGhpcy5fY3JlYXRlUGFrbygpLHRoaXMuX3Bha28ucHVzaChyLnRyYW5zZm9ybVRvKGEsdC5kYXRhKSwhMSl9LGgucHJvdG90eXBlLmZsdXNoPWZ1bmN0aW9uKCl7by5wcm90b3R5cGUuZmx1c2guY2FsbCh0aGlzKSxudWxsPT09dGhpcy5fcGFrbyYmdGhpcy5fY3JlYXRlUGFrbygpLHRoaXMuX3Bha28ucHVzaChbXSwhMCl9LGgucHJvdG90eXBlLmNsZWFuVXA9ZnVuY3Rpb24oKXtvLnByb3RvdHlwZS5jbGVhblVwLmNhbGwodGhpcyksdGhpcy5fcGFrbz1udWxsfSxoLnByb3RvdHlwZS5fY3JlYXRlUGFrbz1mdW5jdGlvbigpe3RoaXMuX3Bha289bmV3IG5bdGhpcy5fcGFrb0FjdGlvbl0oe3JhdzohMCxsZXZlbDp0aGlzLl9wYWtvT3B0aW9ucy5sZXZlbHx8LTF9KTt2YXIgdD10aGlzO3RoaXMuX3Bha28ub25EYXRhPWZ1bmN0aW9uKGUpe3QucHVzaCh7ZGF0YTplLG1ldGE6dC5tZXRhfSl9fSxpLmNvbXByZXNzV29ya2VyPWZ1bmN0aW9uKHQpe3JldHVybiBuZXcgaChcIkRlZmxhdGVcIix0KX0saS51bmNvbXByZXNzV29ya2VyPWZ1bmN0aW9uKCl7cmV0dXJuIG5ldyBoKFwiSW5mbGF0ZVwiLHt9KX19LHtcIi4vc3RyZWFtL0dlbmVyaWNXb3JrZXJcIjoyOCxcIi4vdXRpbHNcIjozMixwYWtvOjM4fV0sODpbZnVuY3Rpb24odCxlLGkpe1widXNlIHN0cmljdFwiO2Z1bmN0aW9uIHModCxlKXt2YXIgaSxzPVwiXCI7Zm9yKGk9MDtpPGU7aSsrKXMrPVN0cmluZy5mcm9tQ2hhckNvZGUoMjU1JnQpLHQ+Pj49ODtyZXR1cm4gc31mdW5jdGlvbiBuKHQsZSxpLG4sbyxjKXt2YXIgdSxkLGY9dC5maWxlLG09dC5jb21wcmVzc2lvbixwPWMhPT1hLnV0ZjhlbmNvZGUsZz1yLnRyYW5zZm9ybVRvKFwic3RyaW5nXCIsYyhmLm5hbWUpKSxiPXIudHJhbnNmb3JtVG8oXCJzdHJpbmdcIixhLnV0ZjhlbmNvZGUoZi5uYW1lKSksUz1mLmNvbW1lbnQseT1yLnRyYW5zZm9ybVRvKFwic3RyaW5nXCIsYyhTKSkseD1yLnRyYW5zZm9ybVRvKFwic3RyaW5nXCIsYS51dGY4ZW5jb2RlKFMpKSxFPWIubGVuZ3RoIT09Zi5uYW1lLmxlbmd0aCx2PXgubGVuZ3RoIT09Uy5sZW5ndGgsXz1cIlwiLHc9XCJcIixNPVwiXCIsVD1mLmRpcixQPWYuZGF0ZSxMPXtjcmMzMjowLGNvbXByZXNzZWRTaXplOjAsdW5jb21wcmVzc2VkU2l6ZTowfTtlJiYhaXx8KEwuY3JjMzI9dC5jcmMzMixMLmNvbXByZXNzZWRTaXplPXQuY29tcHJlc3NlZFNpemUsTC51bmNvbXByZXNzZWRTaXplPXQudW5jb21wcmVzc2VkU2l6ZSk7dmFyIEE9MDtlJiYoQXw9OCkscHx8IUUmJiF2fHwoQXw9MjA0OCk7dmFyIEk9MCxDPTA7VCYmKEl8PTE2KSxcIlVOSVhcIj09PW8/KEM9Nzk4LEl8PWZ1bmN0aW9uKHQsZSl7dmFyIGk9dDtyZXR1cm4gdHx8KGk9ZT8xNjg5MzozMzIwNCksKDY1NTM1JmkpPDwxNn0oZi51bml4UGVybWlzc2lvbnMsVCkpOihDPTIwLEl8PWZ1bmN0aW9uKHQpe3JldHVybiA2MyYodHx8MCl9KGYuZG9zUGVybWlzc2lvbnMpKSx1PVAuZ2V0VVRDSG91cnMoKSx1PDw9Nix1fD1QLmdldFVUQ01pbnV0ZXMoKSx1PDw9NSx1fD1QLmdldFVUQ1NlY29uZHMoKS8yLGQ9UC5nZXRVVENGdWxsWWVhcigpLTE5ODAsZDw8PTQsZHw9UC5nZXRVVENNb250aCgpKzEsZDw8PTUsZHw9UC5nZXRVVENEYXRlKCksRSYmKHc9cygxLDEpK3MoaChnKSw0KStiLF8rPVwidXBcIitzKHcubGVuZ3RoLDIpK3cpLHYmJihNPXMoMSwxKStzKGgoeSksNCkreCxfKz1cInVjXCIrcyhNLmxlbmd0aCwyKStNKTt2YXIgUj1cIlwiO3JldHVybiBSKz1cIlxcblxcMFwiLFIrPXMoQSwyKSxSKz1tLm1hZ2ljLFIrPXModSwyKSxSKz1zKGQsMiksUis9cyhMLmNyYzMyLDQpLFIrPXMoTC5jb21wcmVzc2VkU2l6ZSw0KSxSKz1zKEwudW5jb21wcmVzc2VkU2l6ZSw0KSxSKz1zKGcubGVuZ3RoLDIpLFIrPXMoXy5sZW5ndGgsMikse2ZpbGVSZWNvcmQ6bC5MT0NBTF9GSUxFX0hFQURFUitSK2crXyxkaXJSZWNvcmQ6bC5DRU5UUkFMX0ZJTEVfSEVBREVSK3MoQywyKStSK3MoeS5sZW5ndGgsMikrXCJcXDBcXDBcXDBcXDBcIitzKEksNCkrcyhuLDQpK2crXyt5fX12YXIgcj10KFwiLi4vdXRpbHNcIiksbz10KFwiLi4vc3RyZWFtL0dlbmVyaWNXb3JrZXJcIiksYT10KFwiLi4vdXRmOFwiKSxoPXQoXCIuLi9jcmMzMlwiKSxsPXQoXCIuLi9zaWduYXR1cmVcIik7ZnVuY3Rpb24gYyh0LGUsaSxzKXtvLmNhbGwodGhpcyxcIlppcEZpbGVXb3JrZXJcIiksdGhpcy5ieXRlc1dyaXR0ZW49MCx0aGlzLnppcENvbW1lbnQ9ZSx0aGlzLnppcFBsYXRmb3JtPWksdGhpcy5lbmNvZGVGaWxlTmFtZT1zLHRoaXMuc3RyZWFtRmlsZXM9dCx0aGlzLmFjY3VtdWxhdGU9ITEsdGhpcy5jb250ZW50QnVmZmVyPVtdLHRoaXMuZGlyUmVjb3Jkcz1bXSx0aGlzLmN1cnJlbnRTb3VyY2VPZmZzZXQ9MCx0aGlzLmVudHJpZXNDb3VudD0wLHRoaXMuY3VycmVudEZpbGU9bnVsbCx0aGlzLl9zb3VyY2VzPVtdfXIuaW5oZXJpdHMoYyxvKSxjLnByb3RvdHlwZS5wdXNoPWZ1bmN0aW9uKHQpe3ZhciBlPXQubWV0YS5wZXJjZW50fHwwLGk9dGhpcy5lbnRyaWVzQ291bnQscz10aGlzLl9zb3VyY2VzLmxlbmd0aDt0aGlzLmFjY3VtdWxhdGU/dGhpcy5jb250ZW50QnVmZmVyLnB1c2godCk6KHRoaXMuYnl0ZXNXcml0dGVuKz10LmRhdGEubGVuZ3RoLG8ucHJvdG90eXBlLnB1c2guY2FsbCh0aGlzLHtkYXRhOnQuZGF0YSxtZXRhOntjdXJyZW50RmlsZTp0aGlzLmN1cnJlbnRGaWxlLHBlcmNlbnQ6aT8oZSsxMDAqKGktcy0xKSkvaToxMDB9fSkpfSxjLnByb3RvdHlwZS5vcGVuZWRTb3VyY2U9ZnVuY3Rpb24odCl7dGhpcy5jdXJyZW50U291cmNlT2Zmc2V0PXRoaXMuYnl0ZXNXcml0dGVuLHRoaXMuY3VycmVudEZpbGU9dC5maWxlLm5hbWU7dmFyIGU9dGhpcy5zdHJlYW1GaWxlcyYmIXQuZmlsZS5kaXI7aWYoZSl7dmFyIGk9bih0LGUsITEsdGhpcy5jdXJyZW50U291cmNlT2Zmc2V0LHRoaXMuemlwUGxhdGZvcm0sdGhpcy5lbmNvZGVGaWxlTmFtZSk7dGhpcy5wdXNoKHtkYXRhOmkuZmlsZVJlY29yZCxtZXRhOntwZXJjZW50OjB9fSl9ZWxzZSB0aGlzLmFjY3VtdWxhdGU9ITB9LGMucHJvdG90eXBlLmNsb3NlZFNvdXJjZT1mdW5jdGlvbih0KXt0aGlzLmFjY3VtdWxhdGU9ITE7dmFyIGU9dGhpcy5zdHJlYW1GaWxlcyYmIXQuZmlsZS5kaXIsaT1uKHQsZSwhMCx0aGlzLmN1cnJlbnRTb3VyY2VPZmZzZXQsdGhpcy56aXBQbGF0Zm9ybSx0aGlzLmVuY29kZUZpbGVOYW1lKTtpZih0aGlzLmRpclJlY29yZHMucHVzaChpLmRpclJlY29yZCksZSl0aGlzLnB1c2goe2RhdGE6ZnVuY3Rpb24odCl7cmV0dXJuIGwuREFUQV9ERVNDUklQVE9SK3ModC5jcmMzMiw0KStzKHQuY29tcHJlc3NlZFNpemUsNCkrcyh0LnVuY29tcHJlc3NlZFNpemUsNCl9KHQpLG1ldGE6e3BlcmNlbnQ6MTAwfX0pO2Vsc2UgZm9yKHRoaXMucHVzaCh7ZGF0YTppLmZpbGVSZWNvcmQsbWV0YTp7cGVyY2VudDowfX0pO3RoaXMuY29udGVudEJ1ZmZlci5sZW5ndGg7KXRoaXMucHVzaCh0aGlzLmNvbnRlbnRCdWZmZXIuc2hpZnQoKSk7dGhpcy5jdXJyZW50RmlsZT1udWxsfSxjLnByb3RvdHlwZS5mbHVzaD1mdW5jdGlvbigpe2Zvcih2YXIgdD10aGlzLmJ5dGVzV3JpdHRlbixlPTA7ZTx0aGlzLmRpclJlY29yZHMubGVuZ3RoO2UrKyl0aGlzLnB1c2goe2RhdGE6dGhpcy5kaXJSZWNvcmRzW2VdLG1ldGE6e3BlcmNlbnQ6MTAwfX0pO3ZhciBpPXRoaXMuYnl0ZXNXcml0dGVuLXQsbj1mdW5jdGlvbih0LGUsaSxuLG8pe3ZhciBhPXIudHJhbnNmb3JtVG8oXCJzdHJpbmdcIixvKG4pKTtyZXR1cm4gbC5DRU5UUkFMX0RJUkVDVE9SWV9FTkQrXCJcXDBcXDBcXDBcXDBcIitzKHQsMikrcyh0LDIpK3MoZSw0KStzKGksNCkrcyhhLmxlbmd0aCwyKSthfSh0aGlzLmRpclJlY29yZHMubGVuZ3RoLGksdCx0aGlzLnppcENvbW1lbnQsdGhpcy5lbmNvZGVGaWxlTmFtZSk7dGhpcy5wdXNoKHtkYXRhOm4sbWV0YTp7cGVyY2VudDoxMDB9fSl9LGMucHJvdG90eXBlLnByZXBhcmVOZXh0U291cmNlPWZ1bmN0aW9uKCl7dGhpcy5wcmV2aW91cz10aGlzLl9zb3VyY2VzLnNoaWZ0KCksdGhpcy5vcGVuZWRTb3VyY2UodGhpcy5wcmV2aW91cy5zdHJlYW1JbmZvKSx0aGlzLmlzUGF1c2VkP3RoaXMucHJldmlvdXMucGF1c2UoKTp0aGlzLnByZXZpb3VzLnJlc3VtZSgpfSxjLnByb3RvdHlwZS5yZWdpc3RlclByZXZpb3VzPWZ1bmN0aW9uKHQpe3RoaXMuX3NvdXJjZXMucHVzaCh0KTt2YXIgZT10aGlzO3JldHVybiB0Lm9uKFwiZGF0YVwiLChmdW5jdGlvbih0KXtlLnByb2Nlc3NDaHVuayh0KX0pKSx0Lm9uKFwiZW5kXCIsKGZ1bmN0aW9uKCl7ZS5jbG9zZWRTb3VyY2UoZS5wcmV2aW91cy5zdHJlYW1JbmZvKSxlLl9zb3VyY2VzLmxlbmd0aD9lLnByZXBhcmVOZXh0U291cmNlKCk6ZS5lbmQoKX0pKSx0Lm9uKFwiZXJyb3JcIiwoZnVuY3Rpb24odCl7ZS5lcnJvcih0KX0pKSx0aGlzfSxjLnByb3RvdHlwZS5yZXN1bWU9ZnVuY3Rpb24oKXtyZXR1cm4hIW8ucHJvdG90eXBlLnJlc3VtZS5jYWxsKHRoaXMpJiYoIXRoaXMucHJldmlvdXMmJnRoaXMuX3NvdXJjZXMubGVuZ3RoPyh0aGlzLnByZXBhcmVOZXh0U291cmNlKCksITApOnRoaXMucHJldmlvdXN8fHRoaXMuX3NvdXJjZXMubGVuZ3RofHx0aGlzLmdlbmVyYXRlZEVycm9yP3ZvaWQgMDoodGhpcy5lbmQoKSwhMCkpfSxjLnByb3RvdHlwZS5lcnJvcj1mdW5jdGlvbih0KXt2YXIgZT10aGlzLl9zb3VyY2VzO2lmKCFvLnByb3RvdHlwZS5lcnJvci5jYWxsKHRoaXMsdCkpcmV0dXJuITE7Zm9yKHZhciBpPTA7aTxlLmxlbmd0aDtpKyspdHJ5e2VbaV0uZXJyb3IodCl9Y2F0Y2godCl7fXJldHVybiEwfSxjLnByb3RvdHlwZS5sb2NrPWZ1bmN0aW9uKCl7by5wcm90b3R5cGUubG9jay5jYWxsKHRoaXMpO2Zvcih2YXIgdD10aGlzLl9zb3VyY2VzLGU9MDtlPHQubGVuZ3RoO2UrKyl0W2VdLmxvY2soKX0sZS5leHBvcnRzPWN9LHtcIi4uL2NyYzMyXCI6NCxcIi4uL3NpZ25hdHVyZVwiOjIzLFwiLi4vc3RyZWFtL0dlbmVyaWNXb3JrZXJcIjoyOCxcIi4uL3V0ZjhcIjozMSxcIi4uL3V0aWxzXCI6MzJ9XSw5OltmdW5jdGlvbih0LGUsaSl7XCJ1c2Ugc3RyaWN0XCI7dmFyIHM9dChcIi4uL2NvbXByZXNzaW9uc1wiKSxuPXQoXCIuL1ppcEZpbGVXb3JrZXJcIik7aS5nZW5lcmF0ZVdvcmtlcj1mdW5jdGlvbih0LGUsaSl7dmFyIHI9bmV3IG4oZS5zdHJlYW1GaWxlcyxpLGUucGxhdGZvcm0sZS5lbmNvZGVGaWxlTmFtZSksbz0wO3RyeXt0LmZvckVhY2goKGZ1bmN0aW9uKHQsaSl7bysrO3ZhciBuPWZ1bmN0aW9uKHQsZSl7dmFyIGk9dHx8ZSxuPXNbaV07aWYoIW4pdGhyb3cgbmV3IEVycm9yKGkrXCIgaXMgbm90IGEgdmFsaWQgY29tcHJlc3Npb24gbWV0aG9kICFcIik7cmV0dXJuIG59KGkub3B0aW9ucy5jb21wcmVzc2lvbixlLmNvbXByZXNzaW9uKSxhPWkub3B0aW9ucy5jb21wcmVzc2lvbk9wdGlvbnN8fGUuY29tcHJlc3Npb25PcHRpb25zfHx7fSxoPWkuZGlyLGw9aS5kYXRlO2kuX2NvbXByZXNzV29ya2VyKG4sYSkud2l0aFN0cmVhbUluZm8oXCJmaWxlXCIse25hbWU6dCxkaXI6aCxkYXRlOmwsY29tbWVudDppLmNvbW1lbnR8fFwiXCIsdW5peFBlcm1pc3Npb25zOmkudW5peFBlcm1pc3Npb25zLGRvc1Blcm1pc3Npb25zOmkuZG9zUGVybWlzc2lvbnN9KS5waXBlKHIpfSkpLHIuZW50cmllc0NvdW50PW99Y2F0Y2godCl7ci5lcnJvcih0KX1yZXR1cm4gcn19LHtcIi4uL2NvbXByZXNzaW9uc1wiOjMsXCIuL1ppcEZpbGVXb3JrZXJcIjo4fV0sMTA6W2Z1bmN0aW9uKHQsZSxpKXtcInVzZSBzdHJpY3RcIjtmdW5jdGlvbiBzKCl7aWYoISh0aGlzIGluc3RhbmNlb2YgcykpcmV0dXJuIG5ldyBzO2lmKGFyZ3VtZW50cy5sZW5ndGgpdGhyb3cgbmV3IEVycm9yKFwiVGhlIGNvbnN0cnVjdG9yIHdpdGggcGFyYW1ldGVycyBoYXMgYmVlbiByZW1vdmVkIGluIEpTWmlwIDMuMCwgcGxlYXNlIGNoZWNrIHRoZSB1cGdyYWRlIGd1aWRlLlwiKTt0aGlzLmZpbGVzPXt9LHRoaXMuY29tbWVudD1udWxsLHRoaXMucm9vdD1cIlwiLHRoaXMuY2xvbmU9ZnVuY3Rpb24oKXt2YXIgdD1uZXcgcztmb3IodmFyIGUgaW4gdGhpcylcImZ1bmN0aW9uXCIhPXR5cGVvZiB0aGlzW2VdJiYodFtlXT10aGlzW2VdKTtyZXR1cm4gdH19KHMucHJvdG90eXBlPXQoXCIuL29iamVjdFwiKSkubG9hZEFzeW5jPXQoXCIuL2xvYWRcIikscy5zdXBwb3J0PXQoXCIuL3N1cHBvcnRcIikscy5kZWZhdWx0cz10KFwiLi9kZWZhdWx0c1wiKSxzLnZlcnNpb249XCIzLjQuMFwiLHMubG9hZEFzeW5jPWZ1bmN0aW9uKHQsZSl7cmV0dXJuKG5ldyBzKS5sb2FkQXN5bmModCxlKX0scy5leHRlcm5hbD10KFwiLi9leHRlcm5hbFwiKSxlLmV4cG9ydHM9c30se1wiLi9kZWZhdWx0c1wiOjUsXCIuL2V4dGVybmFsXCI6NixcIi4vbG9hZFwiOjExLFwiLi9vYmplY3RcIjoxNSxcIi4vc3VwcG9ydFwiOjMwfV0sMTE6W2Z1bmN0aW9uKHQsZSxpKXtcInVzZSBzdHJpY3RcIjt2YXIgcz10KFwiLi91dGlsc1wiKSxuPXQoXCIuL2V4dGVybmFsXCIpLHI9dChcIi4vdXRmOFwiKSxvPShzPXQoXCIuL3V0aWxzXCIpLHQoXCIuL3ppcEVudHJpZXNcIikpLGE9dChcIi4vc3RyZWFtL0NyYzMyUHJvYmVcIiksaD10KFwiLi9ub2RlanNVdGlsc1wiKTtmdW5jdGlvbiBsKHQpe3JldHVybiBuZXcgbi5Qcm9taXNlKChmdW5jdGlvbihlLGkpe3ZhciBzPXQuZGVjb21wcmVzc2VkLmdldENvbnRlbnRXb3JrZXIoKS5waXBlKG5ldyBhKTtzLm9uKFwiZXJyb3JcIiwoZnVuY3Rpb24odCl7aSh0KX0pKS5vbihcImVuZFwiLChmdW5jdGlvbigpe3Muc3RyZWFtSW5mby5jcmMzMiE9PXQuZGVjb21wcmVzc2VkLmNyYzMyP2kobmV3IEVycm9yKFwiQ29ycnVwdGVkIHppcCA6IENSQzMyIG1pc21hdGNoXCIpKTplKCl9KSkucmVzdW1lKCl9KSl9ZS5leHBvcnRzPWZ1bmN0aW9uKHQsZSl7dmFyIGk9dGhpcztyZXR1cm4gZT1zLmV4dGVuZChlfHx7fSx7YmFzZTY0OiExLGNoZWNrQ1JDMzI6ITEsb3B0aW1pemVkQmluYXJ5U3RyaW5nOiExLGNyZWF0ZUZvbGRlcnM6ITEsZGVjb2RlRmlsZU5hbWU6ci51dGY4ZGVjb2RlfSksaC5pc05vZGUmJmguaXNTdHJlYW0odCk/bi5Qcm9taXNlLnJlamVjdChuZXcgRXJyb3IoXCJKU1ppcCBjYW4ndCBhY2NlcHQgYSBzdHJlYW0gd2hlbiBsb2FkaW5nIGEgemlwIGZpbGUuXCIpKTpzLnByZXBhcmVDb250ZW50KFwidGhlIGxvYWRlZCB6aXAgZmlsZVwiLHQsITAsZS5vcHRpbWl6ZWRCaW5hcnlTdHJpbmcsZS5iYXNlNjQpLnRoZW4oKGZ1bmN0aW9uKHQpe3ZhciBpPW5ldyBvKGUpO3JldHVybiBpLmxvYWQodCksaX0pKS50aGVuKChmdW5jdGlvbih0KXt2YXIgaT1bbi5Qcm9taXNlLnJlc29sdmUodCldLHM9dC5maWxlcztpZihlLmNoZWNrQ1JDMzIpZm9yKHZhciByPTA7cjxzLmxlbmd0aDtyKyspaS5wdXNoKGwoc1tyXSkpO3JldHVybiBuLlByb21pc2UuYWxsKGkpfSkpLnRoZW4oKGZ1bmN0aW9uKHQpe2Zvcih2YXIgcz10LnNoaWZ0KCksbj1zLmZpbGVzLHI9MDtyPG4ubGVuZ3RoO3IrKyl7dmFyIG89bltyXTtpLmZpbGUoby5maWxlTmFtZVN0cixvLmRlY29tcHJlc3NlZCx7YmluYXJ5OiEwLG9wdGltaXplZEJpbmFyeVN0cmluZzohMCxkYXRlOm8uZGF0ZSxkaXI6by5kaXIsY29tbWVudDpvLmZpbGVDb21tZW50U3RyLmxlbmd0aD9vLmZpbGVDb21tZW50U3RyOm51bGwsdW5peFBlcm1pc3Npb25zOm8udW5peFBlcm1pc3Npb25zLGRvc1Blcm1pc3Npb25zOm8uZG9zUGVybWlzc2lvbnMsY3JlYXRlRm9sZGVyczplLmNyZWF0ZUZvbGRlcnN9KX1yZXR1cm4gcy56aXBDb21tZW50Lmxlbmd0aCYmKGkuY29tbWVudD1zLnppcENvbW1lbnQpLGl9KSl9fSx7XCIuL2V4dGVybmFsXCI6NixcIi4vbm9kZWpzVXRpbHNcIjoxNCxcIi4vc3RyZWFtL0NyYzMyUHJvYmVcIjoyNSxcIi4vdXRmOFwiOjMxLFwiLi91dGlsc1wiOjMyLFwiLi96aXBFbnRyaWVzXCI6MzN9XSwxMjpbZnVuY3Rpb24odCxlLGkpe1widXNlIHN0cmljdFwiO3ZhciBzPXQoXCIuLi91dGlsc1wiKSxuPXQoXCIuLi9zdHJlYW0vR2VuZXJpY1dvcmtlclwiKTtmdW5jdGlvbiByKHQsZSl7bi5jYWxsKHRoaXMsXCJOb2RlanMgc3RyZWFtIGlucHV0IGFkYXB0ZXIgZm9yIFwiK3QpLHRoaXMuX3Vwc3RyZWFtRW5kZWQ9ITEsdGhpcy5fYmluZFN0cmVhbShlKX1zLmluaGVyaXRzKHIsbiksci5wcm90b3R5cGUuX2JpbmRTdHJlYW09ZnVuY3Rpb24odCl7dmFyIGU9dGhpczsodGhpcy5fc3RyZWFtPXQpLnBhdXNlKCksdC5vbihcImRhdGFcIiwoZnVuY3Rpb24odCl7ZS5wdXNoKHtkYXRhOnQsbWV0YTp7cGVyY2VudDowfX0pfSkpLm9uKFwiZXJyb3JcIiwoZnVuY3Rpb24odCl7ZS5pc1BhdXNlZD90aGlzLmdlbmVyYXRlZEVycm9yPXQ6ZS5lcnJvcih0KX0pKS5vbihcImVuZFwiLChmdW5jdGlvbigpe2UuaXNQYXVzZWQ/ZS5fdXBzdHJlYW1FbmRlZD0hMDplLmVuZCgpfSkpfSxyLnByb3RvdHlwZS5wYXVzZT1mdW5jdGlvbigpe3JldHVybiEhbi5wcm90b3R5cGUucGF1c2UuY2FsbCh0aGlzKSYmKHRoaXMuX3N0cmVhbS5wYXVzZSgpLCEwKX0sci5wcm90b3R5cGUucmVzdW1lPWZ1bmN0aW9uKCl7cmV0dXJuISFuLnByb3RvdHlwZS5yZXN1bWUuY2FsbCh0aGlzKSYmKHRoaXMuX3Vwc3RyZWFtRW5kZWQ/dGhpcy5lbmQoKTp0aGlzLl9zdHJlYW0ucmVzdW1lKCksITApfSxlLmV4cG9ydHM9cn0se1wiLi4vc3RyZWFtL0dlbmVyaWNXb3JrZXJcIjoyOCxcIi4uL3V0aWxzXCI6MzJ9XSwxMzpbZnVuY3Rpb24odCxlLGkpe1widXNlIHN0cmljdFwiO3ZhciBzPXQoXCJyZWFkYWJsZS1zdHJlYW1cIikuUmVhZGFibGU7ZnVuY3Rpb24gbih0LGUsaSl7cy5jYWxsKHRoaXMsZSksdGhpcy5faGVscGVyPXQ7dmFyIG49dGhpczt0Lm9uKFwiZGF0YVwiLChmdW5jdGlvbih0LGUpe24ucHVzaCh0KXx8bi5faGVscGVyLnBhdXNlKCksaSYmaShlKX0pKS5vbihcImVycm9yXCIsKGZ1bmN0aW9uKHQpe24uZW1pdChcImVycm9yXCIsdCl9KSkub24oXCJlbmRcIiwoZnVuY3Rpb24oKXtuLnB1c2gobnVsbCl9KSl9dChcIi4uL3V0aWxzXCIpLmluaGVyaXRzKG4scyksbi5wcm90b3R5cGUuX3JlYWQ9ZnVuY3Rpb24oKXt0aGlzLl9oZWxwZXIucmVzdW1lKCl9LGUuZXhwb3J0cz1ufSx7XCIuLi91dGlsc1wiOjMyLFwicmVhZGFibGUtc3RyZWFtXCI6MTZ9XSwxNDpbZnVuY3Rpb24odCxpLHMpe1widXNlIHN0cmljdFwiO2kuZXhwb3J0cz17aXNOb2RlOnZvaWQgMCE9PWUsbmV3QnVmZmVyRnJvbTpmdW5jdGlvbih0LGkpe2lmKGUuZnJvbSYmZS5mcm9tIT09VWludDhBcnJheS5mcm9tKXJldHVybiBlLmZyb20odCxpKTtpZihcIm51bWJlclwiPT10eXBlb2YgdCl0aHJvdyBuZXcgRXJyb3IoJ1RoZSBcImRhdGFcIiBhcmd1bWVudCBtdXN0IG5vdCBiZSBhIG51bWJlcicpO3JldHVybiBuZXcgZSh0LGkpfSxhbGxvY0J1ZmZlcjpmdW5jdGlvbih0KXtpZihlLmFsbG9jKXJldHVybiBlLmFsbG9jKHQpO3ZhciBpPW5ldyBlKHQpO3JldHVybiBpLmZpbGwoMCksaX0saXNCdWZmZXI6ZnVuY3Rpb24odCl7cmV0dXJuIGUuaXNCdWZmZXIodCl9LGlzU3RyZWFtOmZ1bmN0aW9uKHQpe3JldHVybiB0JiZcImZ1bmN0aW9uXCI9PXR5cGVvZiB0Lm9uJiZcImZ1bmN0aW9uXCI9PXR5cGVvZiB0LnBhdXNlJiZcImZ1bmN0aW9uXCI9PXR5cGVvZiB0LnJlc3VtZX19fSx7fV0sMTU6W2Z1bmN0aW9uKHQsZSxpKXtcInVzZSBzdHJpY3RcIjtmdW5jdGlvbiBzKHQsZSxpKXt2YXIgcyxuPXIuZ2V0VHlwZU9mKGUpLGE9ci5leHRlbmQoaXx8e30saCk7YS5kYXRlPWEuZGF0ZXx8bmV3IERhdGUsbnVsbCE9PWEuY29tcHJlc3Npb24mJihhLmNvbXByZXNzaW9uPWEuY29tcHJlc3Npb24udG9VcHBlckNhc2UoKSksXCJzdHJpbmdcIj09dHlwZW9mIGEudW5peFBlcm1pc3Npb25zJiYoYS51bml4UGVybWlzc2lvbnM9cGFyc2VJbnQoYS51bml4UGVybWlzc2lvbnMsOCkpLGEudW5peFBlcm1pc3Npb25zJiYxNjM4NCZhLnVuaXhQZXJtaXNzaW9ucyYmKGEuZGlyPSEwKSxhLmRvc1Blcm1pc3Npb25zJiYxNiZhLmRvc1Blcm1pc3Npb25zJiYoYS5kaXI9ITApLGEuZGlyJiYodD1wKHQpKSxhLmNyZWF0ZUZvbGRlcnMmJihzPW0odCkpJiZnLmNhbGwodGhpcyxzLCEwKTt2YXIgdSxiPVwic3RyaW5nXCI9PT1uJiYhMT09PWEuYmluYXJ5JiYhMT09PWEuYmFzZTY0O2kmJnZvaWQgMCE9PWkuYmluYXJ5fHwoYS5iaW5hcnk9IWIpLChlIGluc3RhbmNlb2YgbCYmMD09PWUudW5jb21wcmVzc2VkU2l6ZXx8YS5kaXJ8fCFlfHwwPT09ZS5sZW5ndGgpJiYoYS5iYXNlNjQ9ITEsYS5iaW5hcnk9ITAsZT1cIlwiLGEuY29tcHJlc3Npb249XCJTVE9SRVwiLG49XCJzdHJpbmdcIiksdT1lIGluc3RhbmNlb2YgbHx8ZSBpbnN0YW5jZW9mIG8/ZTpkLmlzTm9kZSYmZC5pc1N0cmVhbShlKT9uZXcgZih0LGUpOnIucHJlcGFyZUNvbnRlbnQodCxlLGEuYmluYXJ5LGEub3B0aW1pemVkQmluYXJ5U3RyaW5nLGEuYmFzZTY0KTt2YXIgUz1uZXcgYyh0LHUsYSk7dGhpcy5maWxlc1t0XT1TfXZhciBuPXQoXCIuL3V0ZjhcIikscj10KFwiLi91dGlsc1wiKSxvPXQoXCIuL3N0cmVhbS9HZW5lcmljV29ya2VyXCIpLGE9dChcIi4vc3RyZWFtL1N0cmVhbUhlbHBlclwiKSxoPXQoXCIuL2RlZmF1bHRzXCIpLGw9dChcIi4vY29tcHJlc3NlZE9iamVjdFwiKSxjPXQoXCIuL3ppcE9iamVjdFwiKSx1PXQoXCIuL2dlbmVyYXRlXCIpLGQ9dChcIi4vbm9kZWpzVXRpbHNcIiksZj10KFwiLi9ub2RlanMvTm9kZWpzU3RyZWFtSW5wdXRBZGFwdGVyXCIpLG09ZnVuY3Rpb24odCl7XCIvXCI9PT10LnNsaWNlKC0xKSYmKHQ9dC5zdWJzdHJpbmcoMCx0Lmxlbmd0aC0xKSk7dmFyIGU9dC5sYXN0SW5kZXhPZihcIi9cIik7cmV0dXJuIDA8ZT90LnN1YnN0cmluZygwLGUpOlwiXCJ9LHA9ZnVuY3Rpb24odCl7cmV0dXJuXCIvXCIhPT10LnNsaWNlKC0xKSYmKHQrPVwiL1wiKSx0fSxnPWZ1bmN0aW9uKHQsZSl7cmV0dXJuIGU9dm9pZCAwIT09ZT9lOmguY3JlYXRlRm9sZGVycyx0PXAodCksdGhpcy5maWxlc1t0XXx8cy5jYWxsKHRoaXMsdCxudWxsLHtkaXI6ITAsY3JlYXRlRm9sZGVyczplfSksdGhpcy5maWxlc1t0XX07ZnVuY3Rpb24gYih0KXtyZXR1cm5cIltvYmplY3QgUmVnRXhwXVwiPT09T2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKHQpfXZhciBTPXtsb2FkOmZ1bmN0aW9uKCl7dGhyb3cgbmV3IEVycm9yKFwiVGhpcyBtZXRob2QgaGFzIGJlZW4gcmVtb3ZlZCBpbiBKU1ppcCAzLjAsIHBsZWFzZSBjaGVjayB0aGUgdXBncmFkZSBndWlkZS5cIil9LGZvckVhY2g6ZnVuY3Rpb24odCl7dmFyIGUsaSxzO2ZvcihlIGluIHRoaXMuZmlsZXMpdGhpcy5maWxlcy5oYXNPd25Qcm9wZXJ0eShlKSYmKHM9dGhpcy5maWxlc1tlXSwoaT1lLnNsaWNlKHRoaXMucm9vdC5sZW5ndGgsZS5sZW5ndGgpKSYmZS5zbGljZSgwLHRoaXMucm9vdC5sZW5ndGgpPT09dGhpcy5yb290JiZ0KGkscykpfSxmaWx0ZXI6ZnVuY3Rpb24odCl7dmFyIGU9W107cmV0dXJuIHRoaXMuZm9yRWFjaCgoZnVuY3Rpb24oaSxzKXt0KGkscykmJmUucHVzaChzKX0pKSxlfSxmaWxlOmZ1bmN0aW9uKHQsZSxpKXtpZigxIT09YXJndW1lbnRzLmxlbmd0aClyZXR1cm4gdD10aGlzLnJvb3QrdCxzLmNhbGwodGhpcyx0LGUsaSksdGhpcztpZihiKHQpKXt2YXIgbj10O3JldHVybiB0aGlzLmZpbHRlcigoZnVuY3Rpb24odCxlKXtyZXR1cm4hZS5kaXImJm4udGVzdCh0KX0pKX12YXIgcj10aGlzLmZpbGVzW3RoaXMucm9vdCt0XTtyZXR1cm4gciYmIXIuZGlyP3I6bnVsbH0sZm9sZGVyOmZ1bmN0aW9uKHQpe2lmKCF0KXJldHVybiB0aGlzO2lmKGIodCkpcmV0dXJuIHRoaXMuZmlsdGVyKChmdW5jdGlvbihlLGkpe3JldHVybiBpLmRpciYmdC50ZXN0KGUpfSkpO3ZhciBlPXRoaXMucm9vdCt0LGk9Zy5jYWxsKHRoaXMsZSkscz10aGlzLmNsb25lKCk7cmV0dXJuIHMucm9vdD1pLm5hbWUsc30scmVtb3ZlOmZ1bmN0aW9uKHQpe3Q9dGhpcy5yb290K3Q7dmFyIGU9dGhpcy5maWxlc1t0XTtpZihlfHwoXCIvXCIhPT10LnNsaWNlKC0xKSYmKHQrPVwiL1wiKSxlPXRoaXMuZmlsZXNbdF0pLGUmJiFlLmRpcilkZWxldGUgdGhpcy5maWxlc1t0XTtlbHNlIGZvcih2YXIgaT10aGlzLmZpbHRlcigoZnVuY3Rpb24oZSxpKXtyZXR1cm4gaS5uYW1lLnNsaWNlKDAsdC5sZW5ndGgpPT09dH0pKSxzPTA7czxpLmxlbmd0aDtzKyspZGVsZXRlIHRoaXMuZmlsZXNbaVtzXS5uYW1lXTtyZXR1cm4gdGhpc30sZ2VuZXJhdGU6ZnVuY3Rpb24odCl7dGhyb3cgbmV3IEVycm9yKFwiVGhpcyBtZXRob2QgaGFzIGJlZW4gcmVtb3ZlZCBpbiBKU1ppcCAzLjAsIHBsZWFzZSBjaGVjayB0aGUgdXBncmFkZSBndWlkZS5cIil9LGdlbmVyYXRlSW50ZXJuYWxTdHJlYW06ZnVuY3Rpb24odCl7dmFyIGUsaT17fTt0cnl7aWYoKGk9ci5leHRlbmQodHx8e30se3N0cmVhbUZpbGVzOiExLGNvbXByZXNzaW9uOlwiU1RPUkVcIixjb21wcmVzc2lvbk9wdGlvbnM6bnVsbCx0eXBlOlwiXCIscGxhdGZvcm06XCJET1NcIixjb21tZW50Om51bGwsbWltZVR5cGU6XCJhcHBsaWNhdGlvbi96aXBcIixlbmNvZGVGaWxlTmFtZTpuLnV0ZjhlbmNvZGV9KSkudHlwZT1pLnR5cGUudG9Mb3dlckNhc2UoKSxpLmNvbXByZXNzaW9uPWkuY29tcHJlc3Npb24udG9VcHBlckNhc2UoKSxcImJpbmFyeXN0cmluZ1wiPT09aS50eXBlJiYoaS50eXBlPVwic3RyaW5nXCIpLCFpLnR5cGUpdGhyb3cgbmV3IEVycm9yKFwiTm8gb3V0cHV0IHR5cGUgc3BlY2lmaWVkLlwiKTtyLmNoZWNrU3VwcG9ydChpLnR5cGUpLFwiZGFyd2luXCIhPT1pLnBsYXRmb3JtJiZcImZyZWVic2RcIiE9PWkucGxhdGZvcm0mJlwibGludXhcIiE9PWkucGxhdGZvcm0mJlwic3Vub3NcIiE9PWkucGxhdGZvcm18fChpLnBsYXRmb3JtPVwiVU5JWFwiKSxcIndpbjMyXCI9PT1pLnBsYXRmb3JtJiYoaS5wbGF0Zm9ybT1cIkRPU1wiKTt2YXIgcz1pLmNvbW1lbnR8fHRoaXMuY29tbWVudHx8XCJcIjtlPXUuZ2VuZXJhdGVXb3JrZXIodGhpcyxpLHMpfWNhdGNoKHQpeyhlPW5ldyBvKFwiZXJyb3JcIikpLmVycm9yKHQpfXJldHVybiBuZXcgYShlLGkudHlwZXx8XCJzdHJpbmdcIixpLm1pbWVUeXBlKX0sZ2VuZXJhdGVBc3luYzpmdW5jdGlvbih0LGUpe3JldHVybiB0aGlzLmdlbmVyYXRlSW50ZXJuYWxTdHJlYW0odCkuYWNjdW11bGF0ZShlKX0sZ2VuZXJhdGVOb2RlU3RyZWFtOmZ1bmN0aW9uKHQsZSl7cmV0dXJuKHQ9dHx8e30pLnR5cGV8fCh0LnR5cGU9XCJub2RlYnVmZmVyXCIpLHRoaXMuZ2VuZXJhdGVJbnRlcm5hbFN0cmVhbSh0KS50b05vZGVqc1N0cmVhbShlKX19O2UuZXhwb3J0cz1TfSx7XCIuL2NvbXByZXNzZWRPYmplY3RcIjoyLFwiLi9kZWZhdWx0c1wiOjUsXCIuL2dlbmVyYXRlXCI6OSxcIi4vbm9kZWpzL05vZGVqc1N0cmVhbUlucHV0QWRhcHRlclwiOjEyLFwiLi9ub2RlanNVdGlsc1wiOjE0LFwiLi9zdHJlYW0vR2VuZXJpY1dvcmtlclwiOjI4LFwiLi9zdHJlYW0vU3RyZWFtSGVscGVyXCI6MjksXCIuL3V0ZjhcIjozMSxcIi4vdXRpbHNcIjozMixcIi4vemlwT2JqZWN0XCI6MzV9XSwxNjpbZnVuY3Rpb24odCxlLGkpe2UuZXhwb3J0cz10KFwic3RyZWFtXCIpfSx7c3RyZWFtOnZvaWQgMH1dLDE3OltmdW5jdGlvbih0LGUsaSl7XCJ1c2Ugc3RyaWN0XCI7dmFyIHM9dChcIi4vRGF0YVJlYWRlclwiKTtmdW5jdGlvbiBuKHQpe3MuY2FsbCh0aGlzLHQpO2Zvcih2YXIgZT0wO2U8dGhpcy5kYXRhLmxlbmd0aDtlKyspdFtlXT0yNTUmdFtlXX10KFwiLi4vdXRpbHNcIikuaW5oZXJpdHMobixzKSxuLnByb3RvdHlwZS5ieXRlQXQ9ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMuZGF0YVt0aGlzLnplcm8rdF19LG4ucHJvdG90eXBlLmxhc3RJbmRleE9mU2lnbmF0dXJlPWZ1bmN0aW9uKHQpe2Zvcih2YXIgZT10LmNoYXJDb2RlQXQoMCksaT10LmNoYXJDb2RlQXQoMSkscz10LmNoYXJDb2RlQXQoMiksbj10LmNoYXJDb2RlQXQoMykscj10aGlzLmxlbmd0aC00OzA8PXI7LS1yKWlmKHRoaXMuZGF0YVtyXT09PWUmJnRoaXMuZGF0YVtyKzFdPT09aSYmdGhpcy5kYXRhW3IrMl09PT1zJiZ0aGlzLmRhdGFbciszXT09PW4pcmV0dXJuIHItdGhpcy56ZXJvO3JldHVybi0xfSxuLnByb3RvdHlwZS5yZWFkQW5kQ2hlY2tTaWduYXR1cmU9ZnVuY3Rpb24odCl7dmFyIGU9dC5jaGFyQ29kZUF0KDApLGk9dC5jaGFyQ29kZUF0KDEpLHM9dC5jaGFyQ29kZUF0KDIpLG49dC5jaGFyQ29kZUF0KDMpLHI9dGhpcy5yZWFkRGF0YSg0KTtyZXR1cm4gZT09PXJbMF0mJmk9PT1yWzFdJiZzPT09clsyXSYmbj09PXJbM119LG4ucHJvdG90eXBlLnJlYWREYXRhPWZ1bmN0aW9uKHQpe2lmKHRoaXMuY2hlY2tPZmZzZXQodCksMD09PXQpcmV0dXJuW107dmFyIGU9dGhpcy5kYXRhLnNsaWNlKHRoaXMuemVybyt0aGlzLmluZGV4LHRoaXMuemVybyt0aGlzLmluZGV4K3QpO3JldHVybiB0aGlzLmluZGV4Kz10LGV9LGUuZXhwb3J0cz1ufSx7XCIuLi91dGlsc1wiOjMyLFwiLi9EYXRhUmVhZGVyXCI6MTh9XSwxODpbZnVuY3Rpb24odCxlLGkpe1widXNlIHN0cmljdFwiO3ZhciBzPXQoXCIuLi91dGlsc1wiKTtmdW5jdGlvbiBuKHQpe3RoaXMuZGF0YT10LHRoaXMubGVuZ3RoPXQubGVuZ3RoLHRoaXMuaW5kZXg9MCx0aGlzLnplcm89MH1uLnByb3RvdHlwZT17Y2hlY2tPZmZzZXQ6ZnVuY3Rpb24odCl7dGhpcy5jaGVja0luZGV4KHRoaXMuaW5kZXgrdCl9LGNoZWNrSW5kZXg6ZnVuY3Rpb24odCl7aWYodGhpcy5sZW5ndGg8dGhpcy56ZXJvK3R8fHQ8MCl0aHJvdyBuZXcgRXJyb3IoXCJFbmQgb2YgZGF0YSByZWFjaGVkIChkYXRhIGxlbmd0aCA9IFwiK3RoaXMubGVuZ3RoK1wiLCBhc2tlZCBpbmRleCA9IFwiK3QrXCIpLiBDb3JydXB0ZWQgemlwID9cIil9LHNldEluZGV4OmZ1bmN0aW9uKHQpe3RoaXMuY2hlY2tJbmRleCh0KSx0aGlzLmluZGV4PXR9LHNraXA6ZnVuY3Rpb24odCl7dGhpcy5zZXRJbmRleCh0aGlzLmluZGV4K3QpfSxieXRlQXQ6ZnVuY3Rpb24odCl7fSxyZWFkSW50OmZ1bmN0aW9uKHQpe3ZhciBlLGk9MDtmb3IodGhpcy5jaGVja09mZnNldCh0KSxlPXRoaXMuaW5kZXgrdC0xO2U+PXRoaXMuaW5kZXg7ZS0tKWk9KGk8PDgpK3RoaXMuYnl0ZUF0KGUpO3JldHVybiB0aGlzLmluZGV4Kz10LGl9LHJlYWRTdHJpbmc6ZnVuY3Rpb24odCl7cmV0dXJuIHMudHJhbnNmb3JtVG8oXCJzdHJpbmdcIix0aGlzLnJlYWREYXRhKHQpKX0scmVhZERhdGE6ZnVuY3Rpb24odCl7fSxsYXN0SW5kZXhPZlNpZ25hdHVyZTpmdW5jdGlvbih0KXt9LHJlYWRBbmRDaGVja1NpZ25hdHVyZTpmdW5jdGlvbih0KXt9LHJlYWREYXRlOmZ1bmN0aW9uKCl7dmFyIHQ9dGhpcy5yZWFkSW50KDQpO3JldHVybiBuZXcgRGF0ZShEYXRlLlVUQygxOTgwKyh0Pj4yNSYxMjcpLCh0Pj4yMSYxNSktMSx0Pj4xNiYzMSx0Pj4xMSYzMSx0Pj41JjYzLCgzMSZ0KTw8MSkpfX0sZS5leHBvcnRzPW59LHtcIi4uL3V0aWxzXCI6MzJ9XSwxOTpbZnVuY3Rpb24odCxlLGkpe1widXNlIHN0cmljdFwiO3ZhciBzPXQoXCIuL1VpbnQ4QXJyYXlSZWFkZXJcIik7ZnVuY3Rpb24gbih0KXtzLmNhbGwodGhpcyx0KX10KFwiLi4vdXRpbHNcIikuaW5oZXJpdHMobixzKSxuLnByb3RvdHlwZS5yZWFkRGF0YT1mdW5jdGlvbih0KXt0aGlzLmNoZWNrT2Zmc2V0KHQpO3ZhciBlPXRoaXMuZGF0YS5zbGljZSh0aGlzLnplcm8rdGhpcy5pbmRleCx0aGlzLnplcm8rdGhpcy5pbmRleCt0KTtyZXR1cm4gdGhpcy5pbmRleCs9dCxlfSxlLmV4cG9ydHM9bn0se1wiLi4vdXRpbHNcIjozMixcIi4vVWludDhBcnJheVJlYWRlclwiOjIxfV0sMjA6W2Z1bmN0aW9uKHQsZSxpKXtcInVzZSBzdHJpY3RcIjt2YXIgcz10KFwiLi9EYXRhUmVhZGVyXCIpO2Z1bmN0aW9uIG4odCl7cy5jYWxsKHRoaXMsdCl9dChcIi4uL3V0aWxzXCIpLmluaGVyaXRzKG4scyksbi5wcm90b3R5cGUuYnl0ZUF0PWZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLmRhdGEuY2hhckNvZGVBdCh0aGlzLnplcm8rdCl9LG4ucHJvdG90eXBlLmxhc3RJbmRleE9mU2lnbmF0dXJlPWZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLmRhdGEubGFzdEluZGV4T2YodCktdGhpcy56ZXJvfSxuLnByb3RvdHlwZS5yZWFkQW5kQ2hlY2tTaWduYXR1cmU9ZnVuY3Rpb24odCl7cmV0dXJuIHQ9PT10aGlzLnJlYWREYXRhKDQpfSxuLnByb3RvdHlwZS5yZWFkRGF0YT1mdW5jdGlvbih0KXt0aGlzLmNoZWNrT2Zmc2V0KHQpO3ZhciBlPXRoaXMuZGF0YS5zbGljZSh0aGlzLnplcm8rdGhpcy5pbmRleCx0aGlzLnplcm8rdGhpcy5pbmRleCt0KTtyZXR1cm4gdGhpcy5pbmRleCs9dCxlfSxlLmV4cG9ydHM9bn0se1wiLi4vdXRpbHNcIjozMixcIi4vRGF0YVJlYWRlclwiOjE4fV0sMjE6W2Z1bmN0aW9uKHQsZSxpKXtcInVzZSBzdHJpY3RcIjt2YXIgcz10KFwiLi9BcnJheVJlYWRlclwiKTtmdW5jdGlvbiBuKHQpe3MuY2FsbCh0aGlzLHQpfXQoXCIuLi91dGlsc1wiKS5pbmhlcml0cyhuLHMpLG4ucHJvdG90eXBlLnJlYWREYXRhPWZ1bmN0aW9uKHQpe2lmKHRoaXMuY2hlY2tPZmZzZXQodCksMD09PXQpcmV0dXJuIG5ldyBVaW50OEFycmF5KDApO3ZhciBlPXRoaXMuZGF0YS5zdWJhcnJheSh0aGlzLnplcm8rdGhpcy5pbmRleCx0aGlzLnplcm8rdGhpcy5pbmRleCt0KTtyZXR1cm4gdGhpcy5pbmRleCs9dCxlfSxlLmV4cG9ydHM9bn0se1wiLi4vdXRpbHNcIjozMixcIi4vQXJyYXlSZWFkZXJcIjoxN31dLDIyOltmdW5jdGlvbih0LGUsaSl7XCJ1c2Ugc3RyaWN0XCI7dmFyIHM9dChcIi4uL3V0aWxzXCIpLG49dChcIi4uL3N1cHBvcnRcIikscj10KFwiLi9BcnJheVJlYWRlclwiKSxvPXQoXCIuL1N0cmluZ1JlYWRlclwiKSxhPXQoXCIuL05vZGVCdWZmZXJSZWFkZXJcIiksaD10KFwiLi9VaW50OEFycmF5UmVhZGVyXCIpO2UuZXhwb3J0cz1mdW5jdGlvbih0KXt2YXIgZT1zLmdldFR5cGVPZih0KTtyZXR1cm4gcy5jaGVja1N1cHBvcnQoZSksXCJzdHJpbmdcIiE9PWV8fG4udWludDhhcnJheT9cIm5vZGVidWZmZXJcIj09PWU/bmV3IGEodCk6bi51aW50OGFycmF5P25ldyBoKHMudHJhbnNmb3JtVG8oXCJ1aW50OGFycmF5XCIsdCkpOm5ldyByKHMudHJhbnNmb3JtVG8oXCJhcnJheVwiLHQpKTpuZXcgbyh0KX19LHtcIi4uL3N1cHBvcnRcIjozMCxcIi4uL3V0aWxzXCI6MzIsXCIuL0FycmF5UmVhZGVyXCI6MTcsXCIuL05vZGVCdWZmZXJSZWFkZXJcIjoxOSxcIi4vU3RyaW5nUmVhZGVyXCI6MjAsXCIuL1VpbnQ4QXJyYXlSZWFkZXJcIjoyMX1dLDIzOltmdW5jdGlvbih0LGUsaSl7XCJ1c2Ugc3RyaWN0XCI7aS5MT0NBTF9GSUxFX0hFQURFUj1cIlBLXHUwMDAzXHUwMDA0XCIsaS5DRU5UUkFMX0ZJTEVfSEVBREVSPVwiUEtcdTAwMDFcdTAwMDJcIixpLkNFTlRSQUxfRElSRUNUT1JZX0VORD1cIlBLXHUwMDA1XHUwMDA2XCIsaS5aSVA2NF9DRU5UUkFMX0RJUkVDVE9SWV9MT0NBVE9SPVwiUEtcdTAwMDZcdTAwMDdcIixpLlpJUDY0X0NFTlRSQUxfRElSRUNUT1JZX0VORD1cIlBLXHUwMDA2XHUwMDA2XCIsaS5EQVRBX0RFU0NSSVBUT1I9XCJQS1x1MDAwN1xcYlwifSx7fV0sMjQ6W2Z1bmN0aW9uKHQsZSxpKXtcInVzZSBzdHJpY3RcIjt2YXIgcz10KFwiLi9HZW5lcmljV29ya2VyXCIpLG49dChcIi4uL3V0aWxzXCIpO2Z1bmN0aW9uIHIodCl7cy5jYWxsKHRoaXMsXCJDb252ZXJ0V29ya2VyIHRvIFwiK3QpLHRoaXMuZGVzdFR5cGU9dH1uLmluaGVyaXRzKHIscyksci5wcm90b3R5cGUucHJvY2Vzc0NodW5rPWZ1bmN0aW9uKHQpe3RoaXMucHVzaCh7ZGF0YTpuLnRyYW5zZm9ybVRvKHRoaXMuZGVzdFR5cGUsdC5kYXRhKSxtZXRhOnQubWV0YX0pfSxlLmV4cG9ydHM9cn0se1wiLi4vdXRpbHNcIjozMixcIi4vR2VuZXJpY1dvcmtlclwiOjI4fV0sMjU6W2Z1bmN0aW9uKHQsZSxpKXtcInVzZSBzdHJpY3RcIjt2YXIgcz10KFwiLi9HZW5lcmljV29ya2VyXCIpLG49dChcIi4uL2NyYzMyXCIpO2Z1bmN0aW9uIHIoKXtzLmNhbGwodGhpcyxcIkNyYzMyUHJvYmVcIiksdGhpcy53aXRoU3RyZWFtSW5mbyhcImNyYzMyXCIsMCl9dChcIi4uL3V0aWxzXCIpLmluaGVyaXRzKHIscyksci5wcm90b3R5cGUucHJvY2Vzc0NodW5rPWZ1bmN0aW9uKHQpe3RoaXMuc3RyZWFtSW5mby5jcmMzMj1uKHQuZGF0YSx0aGlzLnN0cmVhbUluZm8uY3JjMzJ8fDApLHRoaXMucHVzaCh0KX0sZS5leHBvcnRzPXJ9LHtcIi4uL2NyYzMyXCI6NCxcIi4uL3V0aWxzXCI6MzIsXCIuL0dlbmVyaWNXb3JrZXJcIjoyOH1dLDI2OltmdW5jdGlvbih0LGUsaSl7XCJ1c2Ugc3RyaWN0XCI7dmFyIHM9dChcIi4uL3V0aWxzXCIpLG49dChcIi4vR2VuZXJpY1dvcmtlclwiKTtmdW5jdGlvbiByKHQpe24uY2FsbCh0aGlzLFwiRGF0YUxlbmd0aFByb2JlIGZvciBcIit0KSx0aGlzLnByb3BOYW1lPXQsdGhpcy53aXRoU3RyZWFtSW5mbyh0LDApfXMuaW5oZXJpdHMocixuKSxyLnByb3RvdHlwZS5wcm9jZXNzQ2h1bms9ZnVuY3Rpb24odCl7aWYodCl7dmFyIGU9dGhpcy5zdHJlYW1JbmZvW3RoaXMucHJvcE5hbWVdfHwwO3RoaXMuc3RyZWFtSW5mb1t0aGlzLnByb3BOYW1lXT1lK3QuZGF0YS5sZW5ndGh9bi5wcm90b3R5cGUucHJvY2Vzc0NodW5rLmNhbGwodGhpcyx0KX0sZS5leHBvcnRzPXJ9LHtcIi4uL3V0aWxzXCI6MzIsXCIuL0dlbmVyaWNXb3JrZXJcIjoyOH1dLDI3OltmdW5jdGlvbih0LGUsaSl7XCJ1c2Ugc3RyaWN0XCI7dmFyIHM9dChcIi4uL3V0aWxzXCIpLG49dChcIi4vR2VuZXJpY1dvcmtlclwiKTtmdW5jdGlvbiByKHQpe24uY2FsbCh0aGlzLFwiRGF0YVdvcmtlclwiKTt2YXIgZT10aGlzO3RoaXMuZGF0YUlzUmVhZHk9ITEsdGhpcy5pbmRleD0wLHRoaXMubWF4PTAsdGhpcy5kYXRhPW51bGwsdGhpcy50eXBlPVwiXCIsdGhpcy5fdGlja1NjaGVkdWxlZD0hMSx0LnRoZW4oKGZ1bmN0aW9uKHQpe2UuZGF0YUlzUmVhZHk9ITAsZS5kYXRhPXQsZS5tYXg9dCYmdC5sZW5ndGh8fDAsZS50eXBlPXMuZ2V0VHlwZU9mKHQpLGUuaXNQYXVzZWR8fGUuX3RpY2tBbmRSZXBlYXQoKX0pLChmdW5jdGlvbih0KXtlLmVycm9yKHQpfSkpfXMuaW5oZXJpdHMocixuKSxyLnByb3RvdHlwZS5jbGVhblVwPWZ1bmN0aW9uKCl7bi5wcm90b3R5cGUuY2xlYW5VcC5jYWxsKHRoaXMpLHRoaXMuZGF0YT1udWxsfSxyLnByb3RvdHlwZS5yZXN1bWU9ZnVuY3Rpb24oKXtyZXR1cm4hIW4ucHJvdG90eXBlLnJlc3VtZS5jYWxsKHRoaXMpJiYoIXRoaXMuX3RpY2tTY2hlZHVsZWQmJnRoaXMuZGF0YUlzUmVhZHkmJih0aGlzLl90aWNrU2NoZWR1bGVkPSEwLHMuZGVsYXkodGhpcy5fdGlja0FuZFJlcGVhdCxbXSx0aGlzKSksITApfSxyLnByb3RvdHlwZS5fdGlja0FuZFJlcGVhdD1mdW5jdGlvbigpe3RoaXMuX3RpY2tTY2hlZHVsZWQ9ITEsdGhpcy5pc1BhdXNlZHx8dGhpcy5pc0ZpbmlzaGVkfHwodGhpcy5fdGljaygpLHRoaXMuaXNGaW5pc2hlZHx8KHMuZGVsYXkodGhpcy5fdGlja0FuZFJlcGVhdCxbXSx0aGlzKSx0aGlzLl90aWNrU2NoZWR1bGVkPSEwKSl9LHIucHJvdG90eXBlLl90aWNrPWZ1bmN0aW9uKCl7aWYodGhpcy5pc1BhdXNlZHx8dGhpcy5pc0ZpbmlzaGVkKXJldHVybiExO3ZhciB0PW51bGwsZT1NYXRoLm1pbih0aGlzLm1heCx0aGlzLmluZGV4KzE2Mzg0KTtpZih0aGlzLmluZGV4Pj10aGlzLm1heClyZXR1cm4gdGhpcy5lbmQoKTtzd2l0Y2godGhpcy50eXBlKXtjYXNlXCJzdHJpbmdcIjp0PXRoaXMuZGF0YS5zdWJzdHJpbmcodGhpcy5pbmRleCxlKTticmVhaztjYXNlXCJ1aW50OGFycmF5XCI6dD10aGlzLmRhdGEuc3ViYXJyYXkodGhpcy5pbmRleCxlKTticmVhaztjYXNlXCJhcnJheVwiOmNhc2VcIm5vZGVidWZmZXJcIjp0PXRoaXMuZGF0YS5zbGljZSh0aGlzLmluZGV4LGUpfXJldHVybiB0aGlzLmluZGV4PWUsdGhpcy5wdXNoKHtkYXRhOnQsbWV0YTp7cGVyY2VudDp0aGlzLm1heD90aGlzLmluZGV4L3RoaXMubWF4KjEwMDowfX0pfSxlLmV4cG9ydHM9cn0se1wiLi4vdXRpbHNcIjozMixcIi4vR2VuZXJpY1dvcmtlclwiOjI4fV0sMjg6W2Z1bmN0aW9uKHQsZSxpKXtcInVzZSBzdHJpY3RcIjtmdW5jdGlvbiBzKHQpe3RoaXMubmFtZT10fHxcImRlZmF1bHRcIix0aGlzLnN0cmVhbUluZm89e30sdGhpcy5nZW5lcmF0ZWRFcnJvcj1udWxsLHRoaXMuZXh0cmFTdHJlYW1JbmZvPXt9LHRoaXMuaXNQYXVzZWQ9ITAsdGhpcy5pc0ZpbmlzaGVkPSExLHRoaXMuaXNMb2NrZWQ9ITEsdGhpcy5fbGlzdGVuZXJzPXtkYXRhOltdLGVuZDpbXSxlcnJvcjpbXX0sdGhpcy5wcmV2aW91cz1udWxsfXMucHJvdG90eXBlPXtwdXNoOmZ1bmN0aW9uKHQpe3RoaXMuZW1pdChcImRhdGFcIix0KX0sZW5kOmZ1bmN0aW9uKCl7aWYodGhpcy5pc0ZpbmlzaGVkKXJldHVybiExO3RoaXMuZmx1c2goKTt0cnl7dGhpcy5lbWl0KFwiZW5kXCIpLHRoaXMuY2xlYW5VcCgpLHRoaXMuaXNGaW5pc2hlZD0hMH1jYXRjaCh0KXt0aGlzLmVtaXQoXCJlcnJvclwiLHQpfXJldHVybiEwfSxlcnJvcjpmdW5jdGlvbih0KXtyZXR1cm4hdGhpcy5pc0ZpbmlzaGVkJiYodGhpcy5pc1BhdXNlZD90aGlzLmdlbmVyYXRlZEVycm9yPXQ6KHRoaXMuaXNGaW5pc2hlZD0hMCx0aGlzLmVtaXQoXCJlcnJvclwiLHQpLHRoaXMucHJldmlvdXMmJnRoaXMucHJldmlvdXMuZXJyb3IodCksdGhpcy5jbGVhblVwKCkpLCEwKX0sb246ZnVuY3Rpb24odCxlKXtyZXR1cm4gdGhpcy5fbGlzdGVuZXJzW3RdLnB1c2goZSksdGhpc30sY2xlYW5VcDpmdW5jdGlvbigpe3RoaXMuc3RyZWFtSW5mbz10aGlzLmdlbmVyYXRlZEVycm9yPXRoaXMuZXh0cmFTdHJlYW1JbmZvPW51bGwsdGhpcy5fbGlzdGVuZXJzPVtdfSxlbWl0OmZ1bmN0aW9uKHQsZSl7aWYodGhpcy5fbGlzdGVuZXJzW3RdKWZvcih2YXIgaT0wO2k8dGhpcy5fbGlzdGVuZXJzW3RdLmxlbmd0aDtpKyspdGhpcy5fbGlzdGVuZXJzW3RdW2ldLmNhbGwodGhpcyxlKX0scGlwZTpmdW5jdGlvbih0KXtyZXR1cm4gdC5yZWdpc3RlclByZXZpb3VzKHRoaXMpfSxyZWdpc3RlclByZXZpb3VzOmZ1bmN0aW9uKHQpe2lmKHRoaXMuaXNMb2NrZWQpdGhyb3cgbmV3IEVycm9yKFwiVGhlIHN0cmVhbSAnXCIrdGhpcytcIicgaGFzIGFscmVhZHkgYmVlbiB1c2VkLlwiKTt0aGlzLnN0cmVhbUluZm89dC5zdHJlYW1JbmZvLHRoaXMubWVyZ2VTdHJlYW1JbmZvKCksdGhpcy5wcmV2aW91cz10O3ZhciBlPXRoaXM7cmV0dXJuIHQub24oXCJkYXRhXCIsKGZ1bmN0aW9uKHQpe2UucHJvY2Vzc0NodW5rKHQpfSkpLHQub24oXCJlbmRcIiwoZnVuY3Rpb24oKXtlLmVuZCgpfSkpLHQub24oXCJlcnJvclwiLChmdW5jdGlvbih0KXtlLmVycm9yKHQpfSkpLHRoaXN9LHBhdXNlOmZ1bmN0aW9uKCl7cmV0dXJuIXRoaXMuaXNQYXVzZWQmJiF0aGlzLmlzRmluaXNoZWQmJih0aGlzLmlzUGF1c2VkPSEwLHRoaXMucHJldmlvdXMmJnRoaXMucHJldmlvdXMucGF1c2UoKSwhMCl9LHJlc3VtZTpmdW5jdGlvbigpe2lmKCF0aGlzLmlzUGF1c2VkfHx0aGlzLmlzRmluaXNoZWQpcmV0dXJuITE7dmFyIHQ9dGhpcy5pc1BhdXNlZD0hMTtyZXR1cm4gdGhpcy5nZW5lcmF0ZWRFcnJvciYmKHRoaXMuZXJyb3IodGhpcy5nZW5lcmF0ZWRFcnJvciksdD0hMCksdGhpcy5wcmV2aW91cyYmdGhpcy5wcmV2aW91cy5yZXN1bWUoKSwhdH0sZmx1c2g6ZnVuY3Rpb24oKXt9LHByb2Nlc3NDaHVuazpmdW5jdGlvbih0KXt0aGlzLnB1c2godCl9LHdpdGhTdHJlYW1JbmZvOmZ1bmN0aW9uKHQsZSl7cmV0dXJuIHRoaXMuZXh0cmFTdHJlYW1JbmZvW3RdPWUsdGhpcy5tZXJnZVN0cmVhbUluZm8oKSx0aGlzfSxtZXJnZVN0cmVhbUluZm86ZnVuY3Rpb24oKXtmb3IodmFyIHQgaW4gdGhpcy5leHRyYVN0cmVhbUluZm8pdGhpcy5leHRyYVN0cmVhbUluZm8uaGFzT3duUHJvcGVydHkodCkmJih0aGlzLnN0cmVhbUluZm9bdF09dGhpcy5leHRyYVN0cmVhbUluZm9bdF0pfSxsb2NrOmZ1bmN0aW9uKCl7aWYodGhpcy5pc0xvY2tlZCl0aHJvdyBuZXcgRXJyb3IoXCJUaGUgc3RyZWFtICdcIit0aGlzK1wiJyBoYXMgYWxyZWFkeSBiZWVuIHVzZWQuXCIpO3RoaXMuaXNMb2NrZWQ9ITAsdGhpcy5wcmV2aW91cyYmdGhpcy5wcmV2aW91cy5sb2NrKCl9LHRvU3RyaW5nOmZ1bmN0aW9uKCl7dmFyIHQ9XCJXb3JrZXIgXCIrdGhpcy5uYW1lO3JldHVybiB0aGlzLnByZXZpb3VzP3RoaXMucHJldmlvdXMrXCIgLT4gXCIrdDp0fX0sZS5leHBvcnRzPXN9LHt9XSwyOTpbZnVuY3Rpb24odCxpLHMpe1widXNlIHN0cmljdFwiO3ZhciBuPXQoXCIuLi91dGlsc1wiKSxyPXQoXCIuL0NvbnZlcnRXb3JrZXJcIiksbz10KFwiLi9HZW5lcmljV29ya2VyXCIpLGE9dChcIi4uL2Jhc2U2NFwiKSxoPXQoXCIuLi9zdXBwb3J0XCIpLGw9dChcIi4uL2V4dGVybmFsXCIpLGM9bnVsbDtpZihoLm5vZGVzdHJlYW0pdHJ5e2M9dChcIi4uL25vZGVqcy9Ob2RlanNTdHJlYW1PdXRwdXRBZGFwdGVyXCIpfWNhdGNoKHQpe31mdW5jdGlvbiB1KHQsZSxpKXt2YXIgcz1lO3N3aXRjaChlKXtjYXNlXCJibG9iXCI6Y2FzZVwiYXJyYXlidWZmZXJcIjpzPVwidWludDhhcnJheVwiO2JyZWFrO2Nhc2VcImJhc2U2NFwiOnM9XCJzdHJpbmdcIn10cnl7dGhpcy5faW50ZXJuYWxUeXBlPXMsdGhpcy5fb3V0cHV0VHlwZT1lLHRoaXMuX21pbWVUeXBlPWksbi5jaGVja1N1cHBvcnQocyksdGhpcy5fd29ya2VyPXQucGlwZShuZXcgcihzKSksdC5sb2NrKCl9Y2F0Y2godCl7dGhpcy5fd29ya2VyPW5ldyBvKFwiZXJyb3JcIiksdGhpcy5fd29ya2VyLmVycm9yKHQpfX11LnByb3RvdHlwZT17YWNjdW11bGF0ZTpmdW5jdGlvbih0KXtyZXR1cm4gZnVuY3Rpb24odCxpKXtyZXR1cm4gbmV3IGwuUHJvbWlzZSgoZnVuY3Rpb24ocyxyKXt2YXIgbz1bXSxoPXQuX2ludGVybmFsVHlwZSxsPXQuX291dHB1dFR5cGUsYz10Ll9taW1lVHlwZTt0Lm9uKFwiZGF0YVwiLChmdW5jdGlvbih0LGUpe28ucHVzaCh0KSxpJiZpKGUpfSkpLm9uKFwiZXJyb3JcIiwoZnVuY3Rpb24odCl7bz1bXSxyKHQpfSkpLm9uKFwiZW5kXCIsKGZ1bmN0aW9uKCl7dHJ5e3ZhciB0PWZ1bmN0aW9uKHQsZSxpKXtzd2l0Y2godCl7Y2FzZVwiYmxvYlwiOnJldHVybiBuLm5ld0Jsb2Iobi50cmFuc2Zvcm1UbyhcImFycmF5YnVmZmVyXCIsZSksaSk7Y2FzZVwiYmFzZTY0XCI6cmV0dXJuIGEuZW5jb2RlKGUpO2RlZmF1bHQ6cmV0dXJuIG4udHJhbnNmb3JtVG8odCxlKX19KGwsZnVuY3Rpb24odCxpKXt2YXIgcyxuPTAscj1udWxsLG89MDtmb3Iocz0wO3M8aS5sZW5ndGg7cysrKW8rPWlbc10ubGVuZ3RoO3N3aXRjaCh0KXtjYXNlXCJzdHJpbmdcIjpyZXR1cm4gaS5qb2luKFwiXCIpO2Nhc2VcImFycmF5XCI6cmV0dXJuIEFycmF5LnByb3RvdHlwZS5jb25jYXQuYXBwbHkoW10saSk7Y2FzZVwidWludDhhcnJheVwiOmZvcihyPW5ldyBVaW50OEFycmF5KG8pLHM9MDtzPGkubGVuZ3RoO3MrKylyLnNldChpW3NdLG4pLG4rPWlbc10ubGVuZ3RoO3JldHVybiByO2Nhc2VcIm5vZGVidWZmZXJcIjpyZXR1cm4gZS5jb25jYXQoaSk7ZGVmYXVsdDp0aHJvdyBuZXcgRXJyb3IoXCJjb25jYXQgOiB1bnN1cHBvcnRlZCB0eXBlICdcIit0K1wiJ1wiKX19KGgsbyksYyk7cyh0KX1jYXRjaCh0KXtyKHQpfW89W119KSkucmVzdW1lKCl9KSl9KHRoaXMsdCl9LG9uOmZ1bmN0aW9uKHQsZSl7dmFyIGk9dGhpcztyZXR1cm5cImRhdGFcIj09PXQ/dGhpcy5fd29ya2VyLm9uKHQsKGZ1bmN0aW9uKHQpe2UuY2FsbChpLHQuZGF0YSx0Lm1ldGEpfSkpOnRoaXMuX3dvcmtlci5vbih0LChmdW5jdGlvbigpe24uZGVsYXkoZSxhcmd1bWVudHMsaSl9KSksdGhpc30scmVzdW1lOmZ1bmN0aW9uKCl7cmV0dXJuIG4uZGVsYXkodGhpcy5fd29ya2VyLnJlc3VtZSxbXSx0aGlzLl93b3JrZXIpLHRoaXN9LHBhdXNlOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3dvcmtlci5wYXVzZSgpLHRoaXN9LHRvTm9kZWpzU3RyZWFtOmZ1bmN0aW9uKHQpe2lmKG4uY2hlY2tTdXBwb3J0KFwibm9kZXN0cmVhbVwiKSxcIm5vZGVidWZmZXJcIiE9PXRoaXMuX291dHB1dFR5cGUpdGhyb3cgbmV3IEVycm9yKHRoaXMuX291dHB1dFR5cGUrXCIgaXMgbm90IHN1cHBvcnRlZCBieSB0aGlzIG1ldGhvZFwiKTtyZXR1cm4gbmV3IGModGhpcyx7b2JqZWN0TW9kZTpcIm5vZGVidWZmZXJcIiE9PXRoaXMuX291dHB1dFR5cGV9LHQpfX0saS5leHBvcnRzPXV9LHtcIi4uL2Jhc2U2NFwiOjEsXCIuLi9leHRlcm5hbFwiOjYsXCIuLi9ub2RlanMvTm9kZWpzU3RyZWFtT3V0cHV0QWRhcHRlclwiOjEzLFwiLi4vc3VwcG9ydFwiOjMwLFwiLi4vdXRpbHNcIjozMixcIi4vQ29udmVydFdvcmtlclwiOjI0LFwiLi9HZW5lcmljV29ya2VyXCI6Mjh9XSwzMDpbZnVuY3Rpb24odCxpLHMpe1widXNlIHN0cmljdFwiO2lmKHMuYmFzZTY0PSEwLHMuYXJyYXk9ITAscy5zdHJpbmc9ITAscy5hcnJheWJ1ZmZlcj1cInVuZGVmaW5lZFwiIT10eXBlb2YgQXJyYXlCdWZmZXImJlwidW5kZWZpbmVkXCIhPXR5cGVvZiBVaW50OEFycmF5LHMubm9kZWJ1ZmZlcj12b2lkIDAhPT1lLHMudWludDhhcnJheT1cInVuZGVmaW5lZFwiIT10eXBlb2YgVWludDhBcnJheSxcInVuZGVmaW5lZFwiPT10eXBlb2YgQXJyYXlCdWZmZXIpcy5ibG9iPSExO2Vsc2V7dmFyIG49bmV3IEFycmF5QnVmZmVyKDApO3RyeXtzLmJsb2I9MD09PW5ldyBCbG9iKFtuXSx7dHlwZTpcImFwcGxpY2F0aW9uL3ppcFwifSkuc2l6ZX1jYXRjaCh0KXt0cnl7dmFyIHI9bmV3KHNlbGYuQmxvYkJ1aWxkZXJ8fHNlbGYuV2ViS2l0QmxvYkJ1aWxkZXJ8fHNlbGYuTW96QmxvYkJ1aWxkZXJ8fHNlbGYuTVNCbG9iQnVpbGRlcik7ci5hcHBlbmQobikscy5ibG9iPTA9PT1yLmdldEJsb2IoXCJhcHBsaWNhdGlvbi96aXBcIikuc2l6ZX1jYXRjaCh0KXtzLmJsb2I9ITF9fX10cnl7cy5ub2Rlc3RyZWFtPSEhdChcInJlYWRhYmxlLXN0cmVhbVwiKS5SZWFkYWJsZX1jYXRjaCh0KXtzLm5vZGVzdHJlYW09ITF9fSx7XCJyZWFkYWJsZS1zdHJlYW1cIjoxNn1dLDMxOltmdW5jdGlvbih0LGUsaSl7XCJ1c2Ugc3RyaWN0XCI7Zm9yKHZhciBzPXQoXCIuL3V0aWxzXCIpLG49dChcIi4vc3VwcG9ydFwiKSxyPXQoXCIuL25vZGVqc1V0aWxzXCIpLG89dChcIi4vc3RyZWFtL0dlbmVyaWNXb3JrZXJcIiksYT1uZXcgQXJyYXkoMjU2KSxoPTA7aDwyNTY7aCsrKWFbaF09MjUyPD1oPzY6MjQ4PD1oPzU6MjQwPD1oPzQ6MjI0PD1oPzM6MTkyPD1oPzI6MTtmdW5jdGlvbiBsKCl7by5jYWxsKHRoaXMsXCJ1dGYtOCBkZWNvZGVcIiksdGhpcy5sZWZ0T3Zlcj1udWxsfWZ1bmN0aW9uIGMoKXtvLmNhbGwodGhpcyxcInV0Zi04IGVuY29kZVwiKX1hWzI1NF09YVsyNTRdPTEsaS51dGY4ZW5jb2RlPWZ1bmN0aW9uKHQpe3JldHVybiBuLm5vZGVidWZmZXI/ci5uZXdCdWZmZXJGcm9tKHQsXCJ1dGYtOFwiKTpmdW5jdGlvbih0KXt2YXIgZSxpLHMscixvLGE9dC5sZW5ndGgsaD0wO2ZvcihyPTA7cjxhO3IrKyk1NTI5Nj09KDY0NTEyJihpPXQuY2hhckNvZGVBdChyKSkpJiZyKzE8YSYmNTYzMjA9PSg2NDUxMiYocz10LmNoYXJDb2RlQXQocisxKSkpJiYoaT02NTUzNisoaS01NTI5Njw8MTApKyhzLTU2MzIwKSxyKyspLGgrPWk8MTI4PzE6aTwyMDQ4PzI6aTw2NTUzNj8zOjQ7Zm9yKGU9bi51aW50OGFycmF5P25ldyBVaW50OEFycmF5KGgpOm5ldyBBcnJheShoKSxyPW89MDtvPGg7cisrKTU1Mjk2PT0oNjQ1MTImKGk9dC5jaGFyQ29kZUF0KHIpKSkmJnIrMTxhJiY1NjMyMD09KDY0NTEyJihzPXQuY2hhckNvZGVBdChyKzEpKSkmJihpPTY1NTM2KyhpLTU1Mjk2PDwxMCkrKHMtNTYzMjApLHIrKyksaTwxMjg/ZVtvKytdPWk6KGk8MjA0OD9lW28rK109MTkyfGk+Pj42OihpPDY1NTM2P2VbbysrXT0yMjR8aT4+PjEyOihlW28rK109MjQwfGk+Pj4xOCxlW28rK109MTI4fGk+Pj4xMiY2MyksZVtvKytdPTEyOHxpPj4+NiY2MyksZVtvKytdPTEyOHw2MyZpKTtyZXR1cm4gZX0odCl9LGkudXRmOGRlY29kZT1mdW5jdGlvbih0KXtyZXR1cm4gbi5ub2RlYnVmZmVyP3MudHJhbnNmb3JtVG8oXCJub2RlYnVmZmVyXCIsdCkudG9TdHJpbmcoXCJ1dGYtOFwiKTpmdW5jdGlvbih0KXt2YXIgZSxpLG4scixvPXQubGVuZ3RoLGg9bmV3IEFycmF5KDIqbyk7Zm9yKGU9aT0wO2U8bzspaWYoKG49dFtlKytdKTwxMjgpaFtpKytdPW47ZWxzZSBpZig0PChyPWFbbl0pKWhbaSsrXT02NTUzMyxlKz1yLTE7ZWxzZXtmb3IobiY9Mj09PXI/MzE6Mz09PXI/MTU6NzsxPHImJmU8bzspbj1uPDw2fDYzJnRbZSsrXSxyLS07MTxyP2hbaSsrXT02NTUzMzpuPDY1NTM2P2hbaSsrXT1uOihuLT02NTUzNixoW2krK109NTUyOTZ8bj4+MTAmMTAyMyxoW2krK109NTYzMjB8MTAyMyZuKX1yZXR1cm4gaC5sZW5ndGghPT1pJiYoaC5zdWJhcnJheT9oPWguc3ViYXJyYXkoMCxpKTpoLmxlbmd0aD1pKSxzLmFwcGx5RnJvbUNoYXJDb2RlKGgpfSh0PXMudHJhbnNmb3JtVG8obi51aW50OGFycmF5P1widWludDhhcnJheVwiOlwiYXJyYXlcIix0KSl9LHMuaW5oZXJpdHMobCxvKSxsLnByb3RvdHlwZS5wcm9jZXNzQ2h1bms9ZnVuY3Rpb24odCl7dmFyIGU9cy50cmFuc2Zvcm1UbyhuLnVpbnQ4YXJyYXk/XCJ1aW50OGFycmF5XCI6XCJhcnJheVwiLHQuZGF0YSk7aWYodGhpcy5sZWZ0T3ZlciYmdGhpcy5sZWZ0T3Zlci5sZW5ndGgpe2lmKG4udWludDhhcnJheSl7dmFyIHI9ZTsoZT1uZXcgVWludDhBcnJheShyLmxlbmd0aCt0aGlzLmxlZnRPdmVyLmxlbmd0aCkpLnNldCh0aGlzLmxlZnRPdmVyLDApLGUuc2V0KHIsdGhpcy5sZWZ0T3Zlci5sZW5ndGgpfWVsc2UgZT10aGlzLmxlZnRPdmVyLmNvbmNhdChlKTt0aGlzLmxlZnRPdmVyPW51bGx9dmFyIG89ZnVuY3Rpb24odCxlKXt2YXIgaTtmb3IoKGU9ZXx8dC5sZW5ndGgpPnQubGVuZ3RoJiYoZT10Lmxlbmd0aCksaT1lLTE7MDw9aSYmMTI4PT0oMTkyJnRbaV0pOylpLS07cmV0dXJuIGk8MHx8MD09PWk/ZTppK2FbdFtpXV0+ZT9pOmV9KGUpLGg9ZTtvIT09ZS5sZW5ndGgmJihuLnVpbnQ4YXJyYXk/KGg9ZS5zdWJhcnJheSgwLG8pLHRoaXMubGVmdE92ZXI9ZS5zdWJhcnJheShvLGUubGVuZ3RoKSk6KGg9ZS5zbGljZSgwLG8pLHRoaXMubGVmdE92ZXI9ZS5zbGljZShvLGUubGVuZ3RoKSkpLHRoaXMucHVzaCh7ZGF0YTppLnV0ZjhkZWNvZGUoaCksbWV0YTp0Lm1ldGF9KX0sbC5wcm90b3R5cGUuZmx1c2g9ZnVuY3Rpb24oKXt0aGlzLmxlZnRPdmVyJiZ0aGlzLmxlZnRPdmVyLmxlbmd0aCYmKHRoaXMucHVzaCh7ZGF0YTppLnV0ZjhkZWNvZGUodGhpcy5sZWZ0T3ZlciksbWV0YTp7fX0pLHRoaXMubGVmdE92ZXI9bnVsbCl9LGkuVXRmOERlY29kZVdvcmtlcj1sLHMuaW5oZXJpdHMoYyxvKSxjLnByb3RvdHlwZS5wcm9jZXNzQ2h1bms9ZnVuY3Rpb24odCl7dGhpcy5wdXNoKHtkYXRhOmkudXRmOGVuY29kZSh0LmRhdGEpLG1ldGE6dC5tZXRhfSl9LGkuVXRmOEVuY29kZVdvcmtlcj1jfSx7XCIuL25vZGVqc1V0aWxzXCI6MTQsXCIuL3N0cmVhbS9HZW5lcmljV29ya2VyXCI6MjgsXCIuL3N1cHBvcnRcIjozMCxcIi4vdXRpbHNcIjozMn1dLDMyOltmdW5jdGlvbih0LGUsaSl7XCJ1c2Ugc3RyaWN0XCI7dmFyIHM9dChcIi4vc3VwcG9ydFwiKSxuPXQoXCIuL2Jhc2U2NFwiKSxyPXQoXCIuL25vZGVqc1V0aWxzXCIpLG89dChcInNldC1pbW1lZGlhdGUtc2hpbVwiKSxhPXQoXCIuL2V4dGVybmFsXCIpO2Z1bmN0aW9uIGgodCl7cmV0dXJuIHR9ZnVuY3Rpb24gbCh0LGUpe2Zvcih2YXIgaT0wO2k8dC5sZW5ndGg7KytpKWVbaV09MjU1JnQuY2hhckNvZGVBdChpKTtyZXR1cm4gZX1pLm5ld0Jsb2I9ZnVuY3Rpb24odCxlKXtpLmNoZWNrU3VwcG9ydChcImJsb2JcIik7dHJ5e3JldHVybiBuZXcgQmxvYihbdF0se3R5cGU6ZX0pfWNhdGNoKGkpe3RyeXt2YXIgcz1uZXcoc2VsZi5CbG9iQnVpbGRlcnx8c2VsZi5XZWJLaXRCbG9iQnVpbGRlcnx8c2VsZi5Nb3pCbG9iQnVpbGRlcnx8c2VsZi5NU0Jsb2JCdWlsZGVyKTtyZXR1cm4gcy5hcHBlbmQodCkscy5nZXRCbG9iKGUpfWNhdGNoKHQpe3Rocm93IG5ldyBFcnJvcihcIkJ1ZyA6IGNhbid0IGNvbnN0cnVjdCB0aGUgQmxvYi5cIil9fX07dmFyIGM9e3N0cmluZ2lmeUJ5Q2h1bms6ZnVuY3Rpb24odCxlLGkpe3ZhciBzPVtdLG49MCxyPXQubGVuZ3RoO2lmKHI8PWkpcmV0dXJuIFN0cmluZy5mcm9tQ2hhckNvZGUuYXBwbHkobnVsbCx0KTtmb3IoO248cjspXCJhcnJheVwiPT09ZXx8XCJub2RlYnVmZmVyXCI9PT1lP3MucHVzaChTdHJpbmcuZnJvbUNoYXJDb2RlLmFwcGx5KG51bGwsdC5zbGljZShuLE1hdGgubWluKG4raSxyKSkpKTpzLnB1c2goU3RyaW5nLmZyb21DaGFyQ29kZS5hcHBseShudWxsLHQuc3ViYXJyYXkobixNYXRoLm1pbihuK2kscikpKSksbis9aTtyZXR1cm4gcy5qb2luKFwiXCIpfSxzdHJpbmdpZnlCeUNoYXI6ZnVuY3Rpb24odCl7Zm9yKHZhciBlPVwiXCIsaT0wO2k8dC5sZW5ndGg7aSsrKWUrPVN0cmluZy5mcm9tQ2hhckNvZGUodFtpXSk7cmV0dXJuIGV9LGFwcGx5Q2FuQmVVc2VkOnt1aW50OGFycmF5OmZ1bmN0aW9uKCl7dHJ5e3JldHVybiBzLnVpbnQ4YXJyYXkmJjE9PT1TdHJpbmcuZnJvbUNoYXJDb2RlLmFwcGx5KG51bGwsbmV3IFVpbnQ4QXJyYXkoMSkpLmxlbmd0aH1jYXRjaCh0KXtyZXR1cm4hMX19KCksbm9kZWJ1ZmZlcjpmdW5jdGlvbigpe3RyeXtyZXR1cm4gcy5ub2RlYnVmZmVyJiYxPT09U3RyaW5nLmZyb21DaGFyQ29kZS5hcHBseShudWxsLHIuYWxsb2NCdWZmZXIoMSkpLmxlbmd0aH1jYXRjaCh0KXtyZXR1cm4hMX19KCl9fTtmdW5jdGlvbiB1KHQpe3ZhciBlPTY1NTM2LHM9aS5nZXRUeXBlT2YodCksbj0hMDtpZihcInVpbnQ4YXJyYXlcIj09PXM/bj1jLmFwcGx5Q2FuQmVVc2VkLnVpbnQ4YXJyYXk6XCJub2RlYnVmZmVyXCI9PT1zJiYobj1jLmFwcGx5Q2FuQmVVc2VkLm5vZGVidWZmZXIpLG4pZm9yKDsxPGU7KXRyeXtyZXR1cm4gYy5zdHJpbmdpZnlCeUNodW5rKHQscyxlKX1jYXRjaCh0KXtlPU1hdGguZmxvb3IoZS8yKX1yZXR1cm4gYy5zdHJpbmdpZnlCeUNoYXIodCl9ZnVuY3Rpb24gZCh0LGUpe2Zvcih2YXIgaT0wO2k8dC5sZW5ndGg7aSsrKWVbaV09dFtpXTtyZXR1cm4gZX1pLmFwcGx5RnJvbUNoYXJDb2RlPXU7dmFyIGY9e307Zi5zdHJpbmc9e3N0cmluZzpoLGFycmF5OmZ1bmN0aW9uKHQpe3JldHVybiBsKHQsbmV3IEFycmF5KHQubGVuZ3RoKSl9LGFycmF5YnVmZmVyOmZ1bmN0aW9uKHQpe3JldHVybiBmLnN0cmluZy51aW50OGFycmF5KHQpLmJ1ZmZlcn0sdWludDhhcnJheTpmdW5jdGlvbih0KXtyZXR1cm4gbCh0LG5ldyBVaW50OEFycmF5KHQubGVuZ3RoKSl9LG5vZGVidWZmZXI6ZnVuY3Rpb24odCl7cmV0dXJuIGwodCxyLmFsbG9jQnVmZmVyKHQubGVuZ3RoKSl9fSxmLmFycmF5PXtzdHJpbmc6dSxhcnJheTpoLGFycmF5YnVmZmVyOmZ1bmN0aW9uKHQpe3JldHVybiBuZXcgVWludDhBcnJheSh0KS5idWZmZXJ9LHVpbnQ4YXJyYXk6ZnVuY3Rpb24odCl7cmV0dXJuIG5ldyBVaW50OEFycmF5KHQpfSxub2RlYnVmZmVyOmZ1bmN0aW9uKHQpe3JldHVybiByLm5ld0J1ZmZlckZyb20odCl9fSxmLmFycmF5YnVmZmVyPXtzdHJpbmc6ZnVuY3Rpb24odCl7cmV0dXJuIHUobmV3IFVpbnQ4QXJyYXkodCkpfSxhcnJheTpmdW5jdGlvbih0KXtyZXR1cm4gZChuZXcgVWludDhBcnJheSh0KSxuZXcgQXJyYXkodC5ieXRlTGVuZ3RoKSl9LGFycmF5YnVmZmVyOmgsdWludDhhcnJheTpmdW5jdGlvbih0KXtyZXR1cm4gbmV3IFVpbnQ4QXJyYXkodCl9LG5vZGVidWZmZXI6ZnVuY3Rpb24odCl7cmV0dXJuIHIubmV3QnVmZmVyRnJvbShuZXcgVWludDhBcnJheSh0KSl9fSxmLnVpbnQ4YXJyYXk9e3N0cmluZzp1LGFycmF5OmZ1bmN0aW9uKHQpe3JldHVybiBkKHQsbmV3IEFycmF5KHQubGVuZ3RoKSl9LGFycmF5YnVmZmVyOmZ1bmN0aW9uKHQpe3JldHVybiB0LmJ1ZmZlcn0sdWludDhhcnJheTpoLG5vZGVidWZmZXI6ZnVuY3Rpb24odCl7cmV0dXJuIHIubmV3QnVmZmVyRnJvbSh0KX19LGYubm9kZWJ1ZmZlcj17c3RyaW5nOnUsYXJyYXk6ZnVuY3Rpb24odCl7cmV0dXJuIGQodCxuZXcgQXJyYXkodC5sZW5ndGgpKX0sYXJyYXlidWZmZXI6ZnVuY3Rpb24odCl7cmV0dXJuIGYubm9kZWJ1ZmZlci51aW50OGFycmF5KHQpLmJ1ZmZlcn0sdWludDhhcnJheTpmdW5jdGlvbih0KXtyZXR1cm4gZCh0LG5ldyBVaW50OEFycmF5KHQubGVuZ3RoKSl9LG5vZGVidWZmZXI6aH0saS50cmFuc2Zvcm1Ubz1mdW5jdGlvbih0LGUpe2lmKGU9ZXx8XCJcIiwhdClyZXR1cm4gZTtpLmNoZWNrU3VwcG9ydCh0KTt2YXIgcz1pLmdldFR5cGVPZihlKTtyZXR1cm4gZltzXVt0XShlKX0saS5nZXRUeXBlT2Y9ZnVuY3Rpb24odCl7cmV0dXJuXCJzdHJpbmdcIj09dHlwZW9mIHQ/XCJzdHJpbmdcIjpcIltvYmplY3QgQXJyYXldXCI9PT1PYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwodCk/XCJhcnJheVwiOnMubm9kZWJ1ZmZlciYmci5pc0J1ZmZlcih0KT9cIm5vZGVidWZmZXJcIjpzLnVpbnQ4YXJyYXkmJnQgaW5zdGFuY2VvZiBVaW50OEFycmF5P1widWludDhhcnJheVwiOnMuYXJyYXlidWZmZXImJnQgaW5zdGFuY2VvZiBBcnJheUJ1ZmZlcj9cImFycmF5YnVmZmVyXCI6dm9pZCAwfSxpLmNoZWNrU3VwcG9ydD1mdW5jdGlvbih0KXtpZighc1t0LnRvTG93ZXJDYXNlKCldKXRocm93IG5ldyBFcnJvcih0K1wiIGlzIG5vdCBzdXBwb3J0ZWQgYnkgdGhpcyBwbGF0Zm9ybVwiKX0saS5NQVhfVkFMVUVfMTZCSVRTPTY1NTM1LGkuTUFYX1ZBTFVFXzMyQklUUz0tMSxpLnByZXR0eT1mdW5jdGlvbih0KXt2YXIgZSxpLHM9XCJcIjtmb3IoaT0wO2k8KHR8fFwiXCIpLmxlbmd0aDtpKyspcys9XCJcXFxceFwiKygoZT10LmNoYXJDb2RlQXQoaSkpPDE2P1wiMFwiOlwiXCIpK2UudG9TdHJpbmcoMTYpLnRvVXBwZXJDYXNlKCk7cmV0dXJuIHN9LGkuZGVsYXk9ZnVuY3Rpb24odCxlLGkpe28oKGZ1bmN0aW9uKCl7dC5hcHBseShpfHxudWxsLGV8fFtdKX0pKX0saS5pbmhlcml0cz1mdW5jdGlvbih0LGUpe2Z1bmN0aW9uIGkoKXt9aS5wcm90b3R5cGU9ZS5wcm90b3R5cGUsdC5wcm90b3R5cGU9bmV3IGl9LGkuZXh0ZW5kPWZ1bmN0aW9uKCl7dmFyIHQsZSxpPXt9O2Zvcih0PTA7dDxhcmd1bWVudHMubGVuZ3RoO3QrKylmb3IoZSBpbiBhcmd1bWVudHNbdF0pYXJndW1lbnRzW3RdLmhhc093blByb3BlcnR5KGUpJiZ2b2lkIDA9PT1pW2VdJiYoaVtlXT1hcmd1bWVudHNbdF1bZV0pO3JldHVybiBpfSxpLnByZXBhcmVDb250ZW50PWZ1bmN0aW9uKHQsZSxyLG8saCl7cmV0dXJuIGEuUHJvbWlzZS5yZXNvbHZlKGUpLnRoZW4oKGZ1bmN0aW9uKHQpe3JldHVybiBzLmJsb2ImJih0IGluc3RhbmNlb2YgQmxvYnx8LTEhPT1bXCJbb2JqZWN0IEZpbGVdXCIsXCJbb2JqZWN0IEJsb2JdXCJdLmluZGV4T2YoT2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKHQpKSkmJlwidW5kZWZpbmVkXCIhPXR5cGVvZiBGaWxlUmVhZGVyP25ldyBhLlByb21pc2UoKGZ1bmN0aW9uKGUsaSl7dmFyIHM9bmV3IEZpbGVSZWFkZXI7cy5vbmxvYWQ9ZnVuY3Rpb24odCl7ZSh0LnRhcmdldC5yZXN1bHQpfSxzLm9uZXJyb3I9ZnVuY3Rpb24odCl7aSh0LnRhcmdldC5lcnJvcil9LHMucmVhZEFzQXJyYXlCdWZmZXIodCl9KSk6dH0pKS50aGVuKChmdW5jdGlvbihlKXt2YXIgYz1pLmdldFR5cGVPZihlKTtyZXR1cm4gYz8oXCJhcnJheWJ1ZmZlclwiPT09Yz9lPWkudHJhbnNmb3JtVG8oXCJ1aW50OGFycmF5XCIsZSk6XCJzdHJpbmdcIj09PWMmJihoP2U9bi5kZWNvZGUoZSk6ciYmITAhPT1vJiYoZT1mdW5jdGlvbih0KXtyZXR1cm4gbCh0LHMudWludDhhcnJheT9uZXcgVWludDhBcnJheSh0Lmxlbmd0aCk6bmV3IEFycmF5KHQubGVuZ3RoKSl9KGUpKSksZSk6YS5Qcm9taXNlLnJlamVjdChuZXcgRXJyb3IoXCJDYW4ndCByZWFkIHRoZSBkYXRhIG9mICdcIit0K1wiJy4gSXMgaXQgaW4gYSBzdXBwb3J0ZWQgSmF2YVNjcmlwdCB0eXBlIChTdHJpbmcsIEJsb2IsIEFycmF5QnVmZmVyLCBldGMpID9cIikpfSkpfX0se1wiLi9iYXNlNjRcIjoxLFwiLi9leHRlcm5hbFwiOjYsXCIuL25vZGVqc1V0aWxzXCI6MTQsXCIuL3N1cHBvcnRcIjozMCxcInNldC1pbW1lZGlhdGUtc2hpbVwiOjU0fV0sMzM6W2Z1bmN0aW9uKHQsZSxpKXtcInVzZSBzdHJpY3RcIjt2YXIgcz10KFwiLi9yZWFkZXIvcmVhZGVyRm9yXCIpLG49dChcIi4vdXRpbHNcIikscj10KFwiLi9zaWduYXR1cmVcIiksbz10KFwiLi96aXBFbnRyeVwiKSxhPSh0KFwiLi91dGY4XCIpLHQoXCIuL3N1cHBvcnRcIikpO2Z1bmN0aW9uIGgodCl7dGhpcy5maWxlcz1bXSx0aGlzLmxvYWRPcHRpb25zPXR9aC5wcm90b3R5cGU9e2NoZWNrU2lnbmF0dXJlOmZ1bmN0aW9uKHQpe2lmKCF0aGlzLnJlYWRlci5yZWFkQW5kQ2hlY2tTaWduYXR1cmUodCkpe3RoaXMucmVhZGVyLmluZGV4LT00O3ZhciBlPXRoaXMucmVhZGVyLnJlYWRTdHJpbmcoNCk7dGhyb3cgbmV3IEVycm9yKFwiQ29ycnVwdGVkIHppcCBvciBidWc6IHVuZXhwZWN0ZWQgc2lnbmF0dXJlIChcIituLnByZXR0eShlKStcIiwgZXhwZWN0ZWQgXCIrbi5wcmV0dHkodCkrXCIpXCIpfX0saXNTaWduYXR1cmU6ZnVuY3Rpb24odCxlKXt2YXIgaT10aGlzLnJlYWRlci5pbmRleDt0aGlzLnJlYWRlci5zZXRJbmRleCh0KTt2YXIgcz10aGlzLnJlYWRlci5yZWFkU3RyaW5nKDQpPT09ZTtyZXR1cm4gdGhpcy5yZWFkZXIuc2V0SW5kZXgoaSksc30scmVhZEJsb2NrRW5kT2ZDZW50cmFsOmZ1bmN0aW9uKCl7dGhpcy5kaXNrTnVtYmVyPXRoaXMucmVhZGVyLnJlYWRJbnQoMiksdGhpcy5kaXNrV2l0aENlbnRyYWxEaXJTdGFydD10aGlzLnJlYWRlci5yZWFkSW50KDIpLHRoaXMuY2VudHJhbERpclJlY29yZHNPblRoaXNEaXNrPXRoaXMucmVhZGVyLnJlYWRJbnQoMiksdGhpcy5jZW50cmFsRGlyUmVjb3Jkcz10aGlzLnJlYWRlci5yZWFkSW50KDIpLHRoaXMuY2VudHJhbERpclNpemU9dGhpcy5yZWFkZXIucmVhZEludCg0KSx0aGlzLmNlbnRyYWxEaXJPZmZzZXQ9dGhpcy5yZWFkZXIucmVhZEludCg0KSx0aGlzLnppcENvbW1lbnRMZW5ndGg9dGhpcy5yZWFkZXIucmVhZEludCgyKTt2YXIgdD10aGlzLnJlYWRlci5yZWFkRGF0YSh0aGlzLnppcENvbW1lbnRMZW5ndGgpLGU9YS51aW50OGFycmF5P1widWludDhhcnJheVwiOlwiYXJyYXlcIixpPW4udHJhbnNmb3JtVG8oZSx0KTt0aGlzLnppcENvbW1lbnQ9dGhpcy5sb2FkT3B0aW9ucy5kZWNvZGVGaWxlTmFtZShpKX0scmVhZEJsb2NrWmlwNjRFbmRPZkNlbnRyYWw6ZnVuY3Rpb24oKXt0aGlzLnppcDY0RW5kT2ZDZW50cmFsU2l6ZT10aGlzLnJlYWRlci5yZWFkSW50KDgpLHRoaXMucmVhZGVyLnNraXAoNCksdGhpcy5kaXNrTnVtYmVyPXRoaXMucmVhZGVyLnJlYWRJbnQoNCksdGhpcy5kaXNrV2l0aENlbnRyYWxEaXJTdGFydD10aGlzLnJlYWRlci5yZWFkSW50KDQpLHRoaXMuY2VudHJhbERpclJlY29yZHNPblRoaXNEaXNrPXRoaXMucmVhZGVyLnJlYWRJbnQoOCksdGhpcy5jZW50cmFsRGlyUmVjb3Jkcz10aGlzLnJlYWRlci5yZWFkSW50KDgpLHRoaXMuY2VudHJhbERpclNpemU9dGhpcy5yZWFkZXIucmVhZEludCg4KSx0aGlzLmNlbnRyYWxEaXJPZmZzZXQ9dGhpcy5yZWFkZXIucmVhZEludCg4KSx0aGlzLnppcDY0RXh0ZW5zaWJsZURhdGE9e307Zm9yKHZhciB0LGUsaSxzPXRoaXMuemlwNjRFbmRPZkNlbnRyYWxTaXplLTQ0OzA8czspdD10aGlzLnJlYWRlci5yZWFkSW50KDIpLGU9dGhpcy5yZWFkZXIucmVhZEludCg0KSxpPXRoaXMucmVhZGVyLnJlYWREYXRhKGUpLHRoaXMuemlwNjRFeHRlbnNpYmxlRGF0YVt0XT17aWQ6dCxsZW5ndGg6ZSx2YWx1ZTppfX0scmVhZEJsb2NrWmlwNjRFbmRPZkNlbnRyYWxMb2NhdG9yOmZ1bmN0aW9uKCl7aWYodGhpcy5kaXNrV2l0aFppcDY0Q2VudHJhbERpclN0YXJ0PXRoaXMucmVhZGVyLnJlYWRJbnQoNCksdGhpcy5yZWxhdGl2ZU9mZnNldEVuZE9mWmlwNjRDZW50cmFsRGlyPXRoaXMucmVhZGVyLnJlYWRJbnQoOCksdGhpcy5kaXNrc0NvdW50PXRoaXMucmVhZGVyLnJlYWRJbnQoNCksMTx0aGlzLmRpc2tzQ291bnQpdGhyb3cgbmV3IEVycm9yKFwiTXVsdGktdm9sdW1lcyB6aXAgYXJlIG5vdCBzdXBwb3J0ZWRcIil9LHJlYWRMb2NhbEZpbGVzOmZ1bmN0aW9uKCl7dmFyIHQsZTtmb3IodD0wO3Q8dGhpcy5maWxlcy5sZW5ndGg7dCsrKWU9dGhpcy5maWxlc1t0XSx0aGlzLnJlYWRlci5zZXRJbmRleChlLmxvY2FsSGVhZGVyT2Zmc2V0KSx0aGlzLmNoZWNrU2lnbmF0dXJlKHIuTE9DQUxfRklMRV9IRUFERVIpLGUucmVhZExvY2FsUGFydCh0aGlzLnJlYWRlciksZS5oYW5kbGVVVEY4KCksZS5wcm9jZXNzQXR0cmlidXRlcygpfSxyZWFkQ2VudHJhbERpcjpmdW5jdGlvbigpe3ZhciB0O2Zvcih0aGlzLnJlYWRlci5zZXRJbmRleCh0aGlzLmNlbnRyYWxEaXJPZmZzZXQpO3RoaXMucmVhZGVyLnJlYWRBbmRDaGVja1NpZ25hdHVyZShyLkNFTlRSQUxfRklMRV9IRUFERVIpOykodD1uZXcgbyh7emlwNjQ6dGhpcy56aXA2NH0sdGhpcy5sb2FkT3B0aW9ucykpLnJlYWRDZW50cmFsUGFydCh0aGlzLnJlYWRlciksdGhpcy5maWxlcy5wdXNoKHQpO2lmKHRoaXMuY2VudHJhbERpclJlY29yZHMhPT10aGlzLmZpbGVzLmxlbmd0aCYmMCE9PXRoaXMuY2VudHJhbERpclJlY29yZHMmJjA9PT10aGlzLmZpbGVzLmxlbmd0aCl0aHJvdyBuZXcgRXJyb3IoXCJDb3JydXB0ZWQgemlwIG9yIGJ1ZzogZXhwZWN0ZWQgXCIrdGhpcy5jZW50cmFsRGlyUmVjb3JkcytcIiByZWNvcmRzIGluIGNlbnRyYWwgZGlyLCBnb3QgXCIrdGhpcy5maWxlcy5sZW5ndGgpfSxyZWFkRW5kT2ZDZW50cmFsOmZ1bmN0aW9uKCl7dmFyIHQ9dGhpcy5yZWFkZXIubGFzdEluZGV4T2ZTaWduYXR1cmUoci5DRU5UUkFMX0RJUkVDVE9SWV9FTkQpO2lmKHQ8MCl0aHJvdyB0aGlzLmlzU2lnbmF0dXJlKDAsci5MT0NBTF9GSUxFX0hFQURFUik/bmV3IEVycm9yKFwiQ29ycnVwdGVkIHppcDogY2FuJ3QgZmluZCBlbmQgb2YgY2VudHJhbCBkaXJlY3RvcnlcIik6bmV3IEVycm9yKFwiQ2FuJ3QgZmluZCBlbmQgb2YgY2VudHJhbCBkaXJlY3RvcnkgOiBpcyB0aGlzIGEgemlwIGZpbGUgPyBJZiBpdCBpcywgc2VlIGh0dHBzOi8vc3R1ay5naXRodWIuaW8vanN6aXAvZG9jdW1lbnRhdGlvbi9ob3d0by9yZWFkX3ppcC5odG1sXCIpO3RoaXMucmVhZGVyLnNldEluZGV4KHQpO3ZhciBlPXQ7aWYodGhpcy5jaGVja1NpZ25hdHVyZShyLkNFTlRSQUxfRElSRUNUT1JZX0VORCksdGhpcy5yZWFkQmxvY2tFbmRPZkNlbnRyYWwoKSx0aGlzLmRpc2tOdW1iZXI9PT1uLk1BWF9WQUxVRV8xNkJJVFN8fHRoaXMuZGlza1dpdGhDZW50cmFsRGlyU3RhcnQ9PT1uLk1BWF9WQUxVRV8xNkJJVFN8fHRoaXMuY2VudHJhbERpclJlY29yZHNPblRoaXNEaXNrPT09bi5NQVhfVkFMVUVfMTZCSVRTfHx0aGlzLmNlbnRyYWxEaXJSZWNvcmRzPT09bi5NQVhfVkFMVUVfMTZCSVRTfHx0aGlzLmNlbnRyYWxEaXJTaXplPT09bi5NQVhfVkFMVUVfMzJCSVRTfHx0aGlzLmNlbnRyYWxEaXJPZmZzZXQ9PT1uLk1BWF9WQUxVRV8zMkJJVFMpe2lmKHRoaXMuemlwNjQ9ITAsKHQ9dGhpcy5yZWFkZXIubGFzdEluZGV4T2ZTaWduYXR1cmUoci5aSVA2NF9DRU5UUkFMX0RJUkVDVE9SWV9MT0NBVE9SKSk8MCl0aHJvdyBuZXcgRXJyb3IoXCJDb3JydXB0ZWQgemlwOiBjYW4ndCBmaW5kIHRoZSBaSVA2NCBlbmQgb2YgY2VudHJhbCBkaXJlY3RvcnkgbG9jYXRvclwiKTtpZih0aGlzLnJlYWRlci5zZXRJbmRleCh0KSx0aGlzLmNoZWNrU2lnbmF0dXJlKHIuWklQNjRfQ0VOVFJBTF9ESVJFQ1RPUllfTE9DQVRPUiksdGhpcy5yZWFkQmxvY2taaXA2NEVuZE9mQ2VudHJhbExvY2F0b3IoKSwhdGhpcy5pc1NpZ25hdHVyZSh0aGlzLnJlbGF0aXZlT2Zmc2V0RW5kT2ZaaXA2NENlbnRyYWxEaXIsci5aSVA2NF9DRU5UUkFMX0RJUkVDVE9SWV9FTkQpJiYodGhpcy5yZWxhdGl2ZU9mZnNldEVuZE9mWmlwNjRDZW50cmFsRGlyPXRoaXMucmVhZGVyLmxhc3RJbmRleE9mU2lnbmF0dXJlKHIuWklQNjRfQ0VOVFJBTF9ESVJFQ1RPUllfRU5EKSx0aGlzLnJlbGF0aXZlT2Zmc2V0RW5kT2ZaaXA2NENlbnRyYWxEaXI8MCkpdGhyb3cgbmV3IEVycm9yKFwiQ29ycnVwdGVkIHppcDogY2FuJ3QgZmluZCB0aGUgWklQNjQgZW5kIG9mIGNlbnRyYWwgZGlyZWN0b3J5XCIpO3RoaXMucmVhZGVyLnNldEluZGV4KHRoaXMucmVsYXRpdmVPZmZzZXRFbmRPZlppcDY0Q2VudHJhbERpciksdGhpcy5jaGVja1NpZ25hdHVyZShyLlpJUDY0X0NFTlRSQUxfRElSRUNUT1JZX0VORCksdGhpcy5yZWFkQmxvY2taaXA2NEVuZE9mQ2VudHJhbCgpfXZhciBpPXRoaXMuY2VudHJhbERpck9mZnNldCt0aGlzLmNlbnRyYWxEaXJTaXplO3RoaXMuemlwNjQmJihpKz0yMCxpKz0xMit0aGlzLnppcDY0RW5kT2ZDZW50cmFsU2l6ZSk7dmFyIHM9ZS1pO2lmKDA8cyl0aGlzLmlzU2lnbmF0dXJlKGUsci5DRU5UUkFMX0ZJTEVfSEVBREVSKXx8KHRoaXMucmVhZGVyLnplcm89cyk7ZWxzZSBpZihzPDApdGhyb3cgbmV3IEVycm9yKFwiQ29ycnVwdGVkIHppcDogbWlzc2luZyBcIitNYXRoLmFicyhzKStcIiBieXRlcy5cIil9LHByZXBhcmVSZWFkZXI6ZnVuY3Rpb24odCl7dGhpcy5yZWFkZXI9cyh0KX0sbG9hZDpmdW5jdGlvbih0KXt0aGlzLnByZXBhcmVSZWFkZXIodCksdGhpcy5yZWFkRW5kT2ZDZW50cmFsKCksdGhpcy5yZWFkQ2VudHJhbERpcigpLHRoaXMucmVhZExvY2FsRmlsZXMoKX19LGUuZXhwb3J0cz1ofSx7XCIuL3JlYWRlci9yZWFkZXJGb3JcIjoyMixcIi4vc2lnbmF0dXJlXCI6MjMsXCIuL3N1cHBvcnRcIjozMCxcIi4vdXRmOFwiOjMxLFwiLi91dGlsc1wiOjMyLFwiLi96aXBFbnRyeVwiOjM0fV0sMzQ6W2Z1bmN0aW9uKHQsZSxpKXtcInVzZSBzdHJpY3RcIjt2YXIgcz10KFwiLi9yZWFkZXIvcmVhZGVyRm9yXCIpLG49dChcIi4vdXRpbHNcIikscj10KFwiLi9jb21wcmVzc2VkT2JqZWN0XCIpLG89dChcIi4vY3JjMzJcIiksYT10KFwiLi91dGY4XCIpLGg9dChcIi4vY29tcHJlc3Npb25zXCIpLGw9dChcIi4vc3VwcG9ydFwiKTtmdW5jdGlvbiBjKHQsZSl7dGhpcy5vcHRpb25zPXQsdGhpcy5sb2FkT3B0aW9ucz1lfWMucHJvdG90eXBlPXtpc0VuY3J5cHRlZDpmdW5jdGlvbigpe3JldHVybiAxPT0oMSZ0aGlzLmJpdEZsYWcpfSx1c2VVVEY4OmZ1bmN0aW9uKCl7cmV0dXJuIDIwNDg9PSgyMDQ4JnRoaXMuYml0RmxhZyl9LHJlYWRMb2NhbFBhcnQ6ZnVuY3Rpb24odCl7dmFyIGUsaTtpZih0LnNraXAoMjIpLHRoaXMuZmlsZU5hbWVMZW5ndGg9dC5yZWFkSW50KDIpLGk9dC5yZWFkSW50KDIpLHRoaXMuZmlsZU5hbWU9dC5yZWFkRGF0YSh0aGlzLmZpbGVOYW1lTGVuZ3RoKSx0LnNraXAoaSksLTE9PT10aGlzLmNvbXByZXNzZWRTaXplfHwtMT09PXRoaXMudW5jb21wcmVzc2VkU2l6ZSl0aHJvdyBuZXcgRXJyb3IoXCJCdWcgb3IgY29ycnVwdGVkIHppcCA6IGRpZG4ndCBnZXQgZW5vdWdoIGluZm9ybWF0aW9uIGZyb20gdGhlIGNlbnRyYWwgZGlyZWN0b3J5IChjb21wcmVzc2VkU2l6ZSA9PT0gLTEgfHwgdW5jb21wcmVzc2VkU2l6ZSA9PT0gLTEpXCIpO2lmKG51bGw9PT0oZT1mdW5jdGlvbih0KXtmb3IodmFyIGUgaW4gaClpZihoLmhhc093blByb3BlcnR5KGUpJiZoW2VdLm1hZ2ljPT09dClyZXR1cm4gaFtlXTtyZXR1cm4gbnVsbH0odGhpcy5jb21wcmVzc2lvbk1ldGhvZCkpKXRocm93IG5ldyBFcnJvcihcIkNvcnJ1cHRlZCB6aXAgOiBjb21wcmVzc2lvbiBcIituLnByZXR0eSh0aGlzLmNvbXByZXNzaW9uTWV0aG9kKStcIiB1bmtub3duIChpbm5lciBmaWxlIDogXCIrbi50cmFuc2Zvcm1UbyhcInN0cmluZ1wiLHRoaXMuZmlsZU5hbWUpK1wiKVwiKTt0aGlzLmRlY29tcHJlc3NlZD1uZXcgcih0aGlzLmNvbXByZXNzZWRTaXplLHRoaXMudW5jb21wcmVzc2VkU2l6ZSx0aGlzLmNyYzMyLGUsdC5yZWFkRGF0YSh0aGlzLmNvbXByZXNzZWRTaXplKSl9LHJlYWRDZW50cmFsUGFydDpmdW5jdGlvbih0KXt0aGlzLnZlcnNpb25NYWRlQnk9dC5yZWFkSW50KDIpLHQuc2tpcCgyKSx0aGlzLmJpdEZsYWc9dC5yZWFkSW50KDIpLHRoaXMuY29tcHJlc3Npb25NZXRob2Q9dC5yZWFkU3RyaW5nKDIpLHRoaXMuZGF0ZT10LnJlYWREYXRlKCksdGhpcy5jcmMzMj10LnJlYWRJbnQoNCksdGhpcy5jb21wcmVzc2VkU2l6ZT10LnJlYWRJbnQoNCksdGhpcy51bmNvbXByZXNzZWRTaXplPXQucmVhZEludCg0KTt2YXIgZT10LnJlYWRJbnQoMik7aWYodGhpcy5leHRyYUZpZWxkc0xlbmd0aD10LnJlYWRJbnQoMiksdGhpcy5maWxlQ29tbWVudExlbmd0aD10LnJlYWRJbnQoMiksdGhpcy5kaXNrTnVtYmVyU3RhcnQ9dC5yZWFkSW50KDIpLHRoaXMuaW50ZXJuYWxGaWxlQXR0cmlidXRlcz10LnJlYWRJbnQoMiksdGhpcy5leHRlcm5hbEZpbGVBdHRyaWJ1dGVzPXQucmVhZEludCg0KSx0aGlzLmxvY2FsSGVhZGVyT2Zmc2V0PXQucmVhZEludCg0KSx0aGlzLmlzRW5jcnlwdGVkKCkpdGhyb3cgbmV3IEVycm9yKFwiRW5jcnlwdGVkIHppcCBhcmUgbm90IHN1cHBvcnRlZFwiKTt0LnNraXAoZSksdGhpcy5yZWFkRXh0cmFGaWVsZHModCksdGhpcy5wYXJzZVpJUDY0RXh0cmFGaWVsZCh0KSx0aGlzLmZpbGVDb21tZW50PXQucmVhZERhdGEodGhpcy5maWxlQ29tbWVudExlbmd0aCl9LHByb2Nlc3NBdHRyaWJ1dGVzOmZ1bmN0aW9uKCl7dGhpcy51bml4UGVybWlzc2lvbnM9bnVsbCx0aGlzLmRvc1Blcm1pc3Npb25zPW51bGw7dmFyIHQ9dGhpcy52ZXJzaW9uTWFkZUJ5Pj44O3RoaXMuZGlyPSEhKDE2JnRoaXMuZXh0ZXJuYWxGaWxlQXR0cmlidXRlcyksMD09dCYmKHRoaXMuZG9zUGVybWlzc2lvbnM9NjMmdGhpcy5leHRlcm5hbEZpbGVBdHRyaWJ1dGVzKSwzPT10JiYodGhpcy51bml4UGVybWlzc2lvbnM9dGhpcy5leHRlcm5hbEZpbGVBdHRyaWJ1dGVzPj4xNiY2NTUzNSksdGhpcy5kaXJ8fFwiL1wiIT09dGhpcy5maWxlTmFtZVN0ci5zbGljZSgtMSl8fCh0aGlzLmRpcj0hMCl9LHBhcnNlWklQNjRFeHRyYUZpZWxkOmZ1bmN0aW9uKHQpe2lmKHRoaXMuZXh0cmFGaWVsZHNbMV0pe3ZhciBlPXModGhpcy5leHRyYUZpZWxkc1sxXS52YWx1ZSk7dGhpcy51bmNvbXByZXNzZWRTaXplPT09bi5NQVhfVkFMVUVfMzJCSVRTJiYodGhpcy51bmNvbXByZXNzZWRTaXplPWUucmVhZEludCg4KSksdGhpcy5jb21wcmVzc2VkU2l6ZT09PW4uTUFYX1ZBTFVFXzMyQklUUyYmKHRoaXMuY29tcHJlc3NlZFNpemU9ZS5yZWFkSW50KDgpKSx0aGlzLmxvY2FsSGVhZGVyT2Zmc2V0PT09bi5NQVhfVkFMVUVfMzJCSVRTJiYodGhpcy5sb2NhbEhlYWRlck9mZnNldD1lLnJlYWRJbnQoOCkpLHRoaXMuZGlza051bWJlclN0YXJ0PT09bi5NQVhfVkFMVUVfMzJCSVRTJiYodGhpcy5kaXNrTnVtYmVyU3RhcnQ9ZS5yZWFkSW50KDQpKX19LHJlYWRFeHRyYUZpZWxkczpmdW5jdGlvbih0KXt2YXIgZSxpLHMsbj10LmluZGV4K3RoaXMuZXh0cmFGaWVsZHNMZW5ndGg7Zm9yKHRoaXMuZXh0cmFGaWVsZHN8fCh0aGlzLmV4dHJhRmllbGRzPXt9KTt0LmluZGV4PG47KWU9dC5yZWFkSW50KDIpLGk9dC5yZWFkSW50KDIpLHM9dC5yZWFkRGF0YShpKSx0aGlzLmV4dHJhRmllbGRzW2VdPXtpZDplLGxlbmd0aDppLHZhbHVlOnN9fSxoYW5kbGVVVEY4OmZ1bmN0aW9uKCl7dmFyIHQ9bC51aW50OGFycmF5P1widWludDhhcnJheVwiOlwiYXJyYXlcIjtpZih0aGlzLnVzZVVURjgoKSl0aGlzLmZpbGVOYW1lU3RyPWEudXRmOGRlY29kZSh0aGlzLmZpbGVOYW1lKSx0aGlzLmZpbGVDb21tZW50U3RyPWEudXRmOGRlY29kZSh0aGlzLmZpbGVDb21tZW50KTtlbHNle3ZhciBlPXRoaXMuZmluZEV4dHJhRmllbGRVbmljb2RlUGF0aCgpO2lmKG51bGwhPT1lKXRoaXMuZmlsZU5hbWVTdHI9ZTtlbHNle3ZhciBpPW4udHJhbnNmb3JtVG8odCx0aGlzLmZpbGVOYW1lKTt0aGlzLmZpbGVOYW1lU3RyPXRoaXMubG9hZE9wdGlvbnMuZGVjb2RlRmlsZU5hbWUoaSl9dmFyIHM9dGhpcy5maW5kRXh0cmFGaWVsZFVuaWNvZGVDb21tZW50KCk7aWYobnVsbCE9PXMpdGhpcy5maWxlQ29tbWVudFN0cj1zO2Vsc2V7dmFyIHI9bi50cmFuc2Zvcm1Ubyh0LHRoaXMuZmlsZUNvbW1lbnQpO3RoaXMuZmlsZUNvbW1lbnRTdHI9dGhpcy5sb2FkT3B0aW9ucy5kZWNvZGVGaWxlTmFtZShyKX19fSxmaW5kRXh0cmFGaWVsZFVuaWNvZGVQYXRoOmZ1bmN0aW9uKCl7dmFyIHQ9dGhpcy5leHRyYUZpZWxkc1syODc4OV07aWYodCl7dmFyIGU9cyh0LnZhbHVlKTtyZXR1cm4gMSE9PWUucmVhZEludCgxKXx8byh0aGlzLmZpbGVOYW1lKSE9PWUucmVhZEludCg0KT9udWxsOmEudXRmOGRlY29kZShlLnJlYWREYXRhKHQubGVuZ3RoLTUpKX1yZXR1cm4gbnVsbH0sZmluZEV4dHJhRmllbGRVbmljb2RlQ29tbWVudDpmdW5jdGlvbigpe3ZhciB0PXRoaXMuZXh0cmFGaWVsZHNbMjU0NjFdO2lmKHQpe3ZhciBlPXModC52YWx1ZSk7cmV0dXJuIDEhPT1lLnJlYWRJbnQoMSl8fG8odGhpcy5maWxlQ29tbWVudCkhPT1lLnJlYWRJbnQoNCk/bnVsbDphLnV0ZjhkZWNvZGUoZS5yZWFkRGF0YSh0Lmxlbmd0aC01KSl9cmV0dXJuIG51bGx9fSxlLmV4cG9ydHM9Y30se1wiLi9jb21wcmVzc2VkT2JqZWN0XCI6MixcIi4vY29tcHJlc3Npb25zXCI6MyxcIi4vY3JjMzJcIjo0LFwiLi9yZWFkZXIvcmVhZGVyRm9yXCI6MjIsXCIuL3N1cHBvcnRcIjozMCxcIi4vdXRmOFwiOjMxLFwiLi91dGlsc1wiOjMyfV0sMzU6W2Z1bmN0aW9uKHQsZSxpKXtcInVzZSBzdHJpY3RcIjtmdW5jdGlvbiBzKHQsZSxpKXt0aGlzLm5hbWU9dCx0aGlzLmRpcj1pLmRpcix0aGlzLmRhdGU9aS5kYXRlLHRoaXMuY29tbWVudD1pLmNvbW1lbnQsdGhpcy51bml4UGVybWlzc2lvbnM9aS51bml4UGVybWlzc2lvbnMsdGhpcy5kb3NQZXJtaXNzaW9ucz1pLmRvc1Blcm1pc3Npb25zLHRoaXMuX2RhdGE9ZSx0aGlzLl9kYXRhQmluYXJ5PWkuYmluYXJ5LHRoaXMub3B0aW9ucz17Y29tcHJlc3Npb246aS5jb21wcmVzc2lvbixjb21wcmVzc2lvbk9wdGlvbnM6aS5jb21wcmVzc2lvbk9wdGlvbnN9fXZhciBuPXQoXCIuL3N0cmVhbS9TdHJlYW1IZWxwZXJcIikscj10KFwiLi9zdHJlYW0vRGF0YVdvcmtlclwiKSxvPXQoXCIuL3V0ZjhcIiksYT10KFwiLi9jb21wcmVzc2VkT2JqZWN0XCIpLGg9dChcIi4vc3RyZWFtL0dlbmVyaWNXb3JrZXJcIik7cy5wcm90b3R5cGU9e2ludGVybmFsU3RyZWFtOmZ1bmN0aW9uKHQpe3ZhciBlPW51bGwsaT1cInN0cmluZ1wiO3RyeXtpZighdCl0aHJvdyBuZXcgRXJyb3IoXCJObyBvdXRwdXQgdHlwZSBzcGVjaWZpZWQuXCIpO3ZhciBzPVwic3RyaW5nXCI9PT0oaT10LnRvTG93ZXJDYXNlKCkpfHxcInRleHRcIj09PWk7XCJiaW5hcnlzdHJpbmdcIiE9PWkmJlwidGV4dFwiIT09aXx8KGk9XCJzdHJpbmdcIiksZT10aGlzLl9kZWNvbXByZXNzV29ya2VyKCk7dmFyIHI9IXRoaXMuX2RhdGFCaW5hcnk7ciYmIXMmJihlPWUucGlwZShuZXcgby5VdGY4RW5jb2RlV29ya2VyKSksIXImJnMmJihlPWUucGlwZShuZXcgby5VdGY4RGVjb2RlV29ya2VyKSl9Y2F0Y2godCl7KGU9bmV3IGgoXCJlcnJvclwiKSkuZXJyb3IodCl9cmV0dXJuIG5ldyBuKGUsaSxcIlwiKX0sYXN5bmM6ZnVuY3Rpb24odCxlKXtyZXR1cm4gdGhpcy5pbnRlcm5hbFN0cmVhbSh0KS5hY2N1bXVsYXRlKGUpfSxub2RlU3RyZWFtOmZ1bmN0aW9uKHQsZSl7cmV0dXJuIHRoaXMuaW50ZXJuYWxTdHJlYW0odHx8XCJub2RlYnVmZmVyXCIpLnRvTm9kZWpzU3RyZWFtKGUpfSxfY29tcHJlc3NXb3JrZXI6ZnVuY3Rpb24odCxlKXtpZih0aGlzLl9kYXRhIGluc3RhbmNlb2YgYSYmdGhpcy5fZGF0YS5jb21wcmVzc2lvbi5tYWdpYz09PXQubWFnaWMpcmV0dXJuIHRoaXMuX2RhdGEuZ2V0Q29tcHJlc3NlZFdvcmtlcigpO3ZhciBpPXRoaXMuX2RlY29tcHJlc3NXb3JrZXIoKTtyZXR1cm4gdGhpcy5fZGF0YUJpbmFyeXx8KGk9aS5waXBlKG5ldyBvLlV0ZjhFbmNvZGVXb3JrZXIpKSxhLmNyZWF0ZVdvcmtlckZyb20oaSx0LGUpfSxfZGVjb21wcmVzc1dvcmtlcjpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9kYXRhIGluc3RhbmNlb2YgYT90aGlzLl9kYXRhLmdldENvbnRlbnRXb3JrZXIoKTp0aGlzLl9kYXRhIGluc3RhbmNlb2YgaD90aGlzLl9kYXRhOm5ldyByKHRoaXMuX2RhdGEpfX07Zm9yKHZhciBsPVtcImFzVGV4dFwiLFwiYXNCaW5hcnlcIixcImFzTm9kZUJ1ZmZlclwiLFwiYXNVaW50OEFycmF5XCIsXCJhc0FycmF5QnVmZmVyXCJdLGM9ZnVuY3Rpb24oKXt0aHJvdyBuZXcgRXJyb3IoXCJUaGlzIG1ldGhvZCBoYXMgYmVlbiByZW1vdmVkIGluIEpTWmlwIDMuMCwgcGxlYXNlIGNoZWNrIHRoZSB1cGdyYWRlIGd1aWRlLlwiKX0sdT0wO3U8bC5sZW5ndGg7dSsrKXMucHJvdG90eXBlW2xbdV1dPWM7ZS5leHBvcnRzPXN9LHtcIi4vY29tcHJlc3NlZE9iamVjdFwiOjIsXCIuL3N0cmVhbS9EYXRhV29ya2VyXCI6MjcsXCIuL3N0cmVhbS9HZW5lcmljV29ya2VyXCI6MjgsXCIuL3N0cmVhbS9TdHJlYW1IZWxwZXJcIjoyOSxcIi4vdXRmOFwiOjMxfV0sMzY6W2Z1bmN0aW9uKHQsZSxzKXsoZnVuY3Rpb24odCl7XCJ1c2Ugc3RyaWN0XCI7dmFyIGkscyxuPXQuTXV0YXRpb25PYnNlcnZlcnx8dC5XZWJLaXRNdXRhdGlvbk9ic2VydmVyO2lmKG4pe3ZhciByPTAsbz1uZXcgbihjKSxhPXQuZG9jdW1lbnQuY3JlYXRlVGV4dE5vZGUoXCJcIik7by5vYnNlcnZlKGEse2NoYXJhY3RlckRhdGE6ITB9KSxpPWZ1bmN0aW9uKCl7YS5kYXRhPXI9KytyJTJ9fWVsc2UgaWYodC5zZXRJbW1lZGlhdGV8fHZvaWQgMD09PXQuTWVzc2FnZUNoYW5uZWwpaT1cImRvY3VtZW50XCJpbiB0JiZcIm9ucmVhZHlzdGF0ZWNoYW5nZVwiaW4gdC5kb2N1bWVudC5jcmVhdGVFbGVtZW50KFwic2NyaXB0XCIpP2Z1bmN0aW9uKCl7dmFyIGU9dC5kb2N1bWVudC5jcmVhdGVFbGVtZW50KFwic2NyaXB0XCIpO2Uub25yZWFkeXN0YXRlY2hhbmdlPWZ1bmN0aW9uKCl7YygpLGUub25yZWFkeXN0YXRlY2hhbmdlPW51bGwsZS5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKGUpLGU9bnVsbH0sdC5kb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuYXBwZW5kQ2hpbGQoZSl9OmZ1bmN0aW9uKCl7c2V0VGltZW91dChjLDApfTtlbHNle3ZhciBoPW5ldyB0Lk1lc3NhZ2VDaGFubmVsO2gucG9ydDEub25tZXNzYWdlPWMsaT1mdW5jdGlvbigpe2gucG9ydDIucG9zdE1lc3NhZ2UoMCl9fXZhciBsPVtdO2Z1bmN0aW9uIGMoKXt2YXIgdCxlO3M9ITA7Zm9yKHZhciBpPWwubGVuZ3RoO2k7KXtmb3IoZT1sLGw9W10sdD0tMTsrK3Q8aTspZVt0XSgpO2k9bC5sZW5ndGh9cz0hMX1lLmV4cG9ydHM9ZnVuY3Rpb24odCl7MSE9PWwucHVzaCh0KXx8c3x8aSgpfX0pLmNhbGwodGhpcyx2b2lkIDAhPT1pP2k6XCJ1bmRlZmluZWRcIiE9dHlwZW9mIHNlbGY/c2VsZjpcInVuZGVmaW5lZFwiIT10eXBlb2Ygd2luZG93P3dpbmRvdzp7fSl9LHt9XSwzNzpbZnVuY3Rpb24odCxlLGkpe1widXNlIHN0cmljdFwiO3ZhciBzPXQoXCJpbW1lZGlhdGVcIik7ZnVuY3Rpb24gbigpe312YXIgcj17fSxvPVtcIlJFSkVDVEVEXCJdLGE9W1wiRlVMRklMTEVEXCJdLGg9W1wiUEVORElOR1wiXTtmdW5jdGlvbiBsKHQpe2lmKFwiZnVuY3Rpb25cIiE9dHlwZW9mIHQpdGhyb3cgbmV3IFR5cGVFcnJvcihcInJlc29sdmVyIG11c3QgYmUgYSBmdW5jdGlvblwiKTt0aGlzLnN0YXRlPWgsdGhpcy5xdWV1ZT1bXSx0aGlzLm91dGNvbWU9dm9pZCAwLHQhPT1uJiZmKHRoaXMsdCl9ZnVuY3Rpb24gYyh0LGUsaSl7dGhpcy5wcm9taXNlPXQsXCJmdW5jdGlvblwiPT10eXBlb2YgZSYmKHRoaXMub25GdWxmaWxsZWQ9ZSx0aGlzLmNhbGxGdWxmaWxsZWQ9dGhpcy5vdGhlckNhbGxGdWxmaWxsZWQpLFwiZnVuY3Rpb25cIj09dHlwZW9mIGkmJih0aGlzLm9uUmVqZWN0ZWQ9aSx0aGlzLmNhbGxSZWplY3RlZD10aGlzLm90aGVyQ2FsbFJlamVjdGVkKX1mdW5jdGlvbiB1KHQsZSxpKXtzKChmdW5jdGlvbigpe3ZhciBzO3RyeXtzPWUoaSl9Y2F0Y2gocyl7cmV0dXJuIHIucmVqZWN0KHQscyl9cz09PXQ/ci5yZWplY3QodCxuZXcgVHlwZUVycm9yKFwiQ2Fubm90IHJlc29sdmUgcHJvbWlzZSB3aXRoIGl0c2VsZlwiKSk6ci5yZXNvbHZlKHQscyl9KSl9ZnVuY3Rpb24gZCh0KXt2YXIgZT10JiZ0LnRoZW47aWYodCYmKFwib2JqZWN0XCI9PXR5cGVvZiB0fHxcImZ1bmN0aW9uXCI9PXR5cGVvZiB0KSYmXCJmdW5jdGlvblwiPT10eXBlb2YgZSlyZXR1cm4gZnVuY3Rpb24oKXtlLmFwcGx5KHQsYXJndW1lbnRzKX19ZnVuY3Rpb24gZih0LGUpe3ZhciBpPSExO2Z1bmN0aW9uIHMoZSl7aXx8KGk9ITAsci5yZWplY3QodCxlKSl9ZnVuY3Rpb24gbihlKXtpfHwoaT0hMCxyLnJlc29sdmUodCxlKSl9dmFyIG89bSgoZnVuY3Rpb24oKXtlKG4scyl9KSk7XCJlcnJvclwiPT09by5zdGF0dXMmJnMoby52YWx1ZSl9ZnVuY3Rpb24gbSh0LGUpe3ZhciBpPXt9O3RyeXtpLnZhbHVlPXQoZSksaS5zdGF0dXM9XCJzdWNjZXNzXCJ9Y2F0Y2godCl7aS5zdGF0dXM9XCJlcnJvclwiLGkudmFsdWU9dH1yZXR1cm4gaX0oZS5leHBvcnRzPWwpLnByb3RvdHlwZS5maW5hbGx5PWZ1bmN0aW9uKHQpe2lmKFwiZnVuY3Rpb25cIiE9dHlwZW9mIHQpcmV0dXJuIHRoaXM7dmFyIGU9dGhpcy5jb25zdHJ1Y3RvcjtyZXR1cm4gdGhpcy50aGVuKChmdW5jdGlvbihpKXtyZXR1cm4gZS5yZXNvbHZlKHQoKSkudGhlbigoZnVuY3Rpb24oKXtyZXR1cm4gaX0pKX0pLChmdW5jdGlvbihpKXtyZXR1cm4gZS5yZXNvbHZlKHQoKSkudGhlbigoZnVuY3Rpb24oKXt0aHJvdyBpfSkpfSkpfSxsLnByb3RvdHlwZS5jYXRjaD1mdW5jdGlvbih0KXtyZXR1cm4gdGhpcy50aGVuKG51bGwsdCl9LGwucHJvdG90eXBlLnRoZW49ZnVuY3Rpb24odCxlKXtpZihcImZ1bmN0aW9uXCIhPXR5cGVvZiB0JiZ0aGlzLnN0YXRlPT09YXx8XCJmdW5jdGlvblwiIT10eXBlb2YgZSYmdGhpcy5zdGF0ZT09PW8pcmV0dXJuIHRoaXM7dmFyIGk9bmV3IHRoaXMuY29uc3RydWN0b3Iobik7cmV0dXJuIHRoaXMuc3RhdGUhPT1oP3UoaSx0aGlzLnN0YXRlPT09YT90OmUsdGhpcy5vdXRjb21lKTp0aGlzLnF1ZXVlLnB1c2gobmV3IGMoaSx0LGUpKSxpfSxjLnByb3RvdHlwZS5jYWxsRnVsZmlsbGVkPWZ1bmN0aW9uKHQpe3IucmVzb2x2ZSh0aGlzLnByb21pc2UsdCl9LGMucHJvdG90eXBlLm90aGVyQ2FsbEZ1bGZpbGxlZD1mdW5jdGlvbih0KXt1KHRoaXMucHJvbWlzZSx0aGlzLm9uRnVsZmlsbGVkLHQpfSxjLnByb3RvdHlwZS5jYWxsUmVqZWN0ZWQ9ZnVuY3Rpb24odCl7ci5yZWplY3QodGhpcy5wcm9taXNlLHQpfSxjLnByb3RvdHlwZS5vdGhlckNhbGxSZWplY3RlZD1mdW5jdGlvbih0KXt1KHRoaXMucHJvbWlzZSx0aGlzLm9uUmVqZWN0ZWQsdCl9LHIucmVzb2x2ZT1mdW5jdGlvbih0LGUpe3ZhciBpPW0oZCxlKTtpZihcImVycm9yXCI9PT1pLnN0YXR1cylyZXR1cm4gci5yZWplY3QodCxpLnZhbHVlKTt2YXIgcz1pLnZhbHVlO2lmKHMpZih0LHMpO2Vsc2V7dC5zdGF0ZT1hLHQub3V0Y29tZT1lO2Zvcih2YXIgbj0tMSxvPXQucXVldWUubGVuZ3RoOysrbjxvOyl0LnF1ZXVlW25dLmNhbGxGdWxmaWxsZWQoZSl9cmV0dXJuIHR9LHIucmVqZWN0PWZ1bmN0aW9uKHQsZSl7dC5zdGF0ZT1vLHQub3V0Y29tZT1lO2Zvcih2YXIgaT0tMSxzPXQucXVldWUubGVuZ3RoOysraTxzOyl0LnF1ZXVlW2ldLmNhbGxSZWplY3RlZChlKTtyZXR1cm4gdH0sbC5yZXNvbHZlPWZ1bmN0aW9uKHQpe3JldHVybiB0IGluc3RhbmNlb2YgdGhpcz90OnIucmVzb2x2ZShuZXcgdGhpcyhuKSx0KX0sbC5yZWplY3Q9ZnVuY3Rpb24odCl7dmFyIGU9bmV3IHRoaXMobik7cmV0dXJuIHIucmVqZWN0KGUsdCl9LGwuYWxsPWZ1bmN0aW9uKHQpe3ZhciBlPXRoaXM7aWYoXCJbb2JqZWN0IEFycmF5XVwiIT09T2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKHQpKXJldHVybiB0aGlzLnJlamVjdChuZXcgVHlwZUVycm9yKFwibXVzdCBiZSBhbiBhcnJheVwiKSk7dmFyIGk9dC5sZW5ndGgscz0hMTtpZighaSlyZXR1cm4gdGhpcy5yZXNvbHZlKFtdKTtmb3IodmFyIG89bmV3IEFycmF5KGkpLGE9MCxoPS0xLGw9bmV3IHRoaXMobik7KytoPGk7KWModFtoXSxoKTtyZXR1cm4gbDtmdW5jdGlvbiBjKHQsbil7ZS5yZXNvbHZlKHQpLnRoZW4oKGZ1bmN0aW9uKHQpe29bbl09dCwrK2EhPT1pfHxzfHwocz0hMCxyLnJlc29sdmUobCxvKSl9KSwoZnVuY3Rpb24odCl7c3x8KHM9ITAsci5yZWplY3QobCx0KSl9KSl9fSxsLnJhY2U9ZnVuY3Rpb24odCl7aWYoXCJbb2JqZWN0IEFycmF5XVwiIT09T2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKHQpKXJldHVybiB0aGlzLnJlamVjdChuZXcgVHlwZUVycm9yKFwibXVzdCBiZSBhbiBhcnJheVwiKSk7dmFyIGU9dC5sZW5ndGgsaT0hMTtpZighZSlyZXR1cm4gdGhpcy5yZXNvbHZlKFtdKTtmb3IodmFyIHMsbz0tMSxhPW5ldyB0aGlzKG4pOysrbzxlOylzPXRbb10sdGhpcy5yZXNvbHZlKHMpLnRoZW4oKGZ1bmN0aW9uKHQpe2l8fChpPSEwLHIucmVzb2x2ZShhLHQpKX0pLChmdW5jdGlvbih0KXtpfHwoaT0hMCxyLnJlamVjdChhLHQpKX0pKTtyZXR1cm4gYX19LHtpbW1lZGlhdGU6MzZ9XSwzODpbZnVuY3Rpb24odCxlLGkpe1widXNlIHN0cmljdFwiO3ZhciBzPXt9OygwLHQoXCIuL2xpYi91dGlscy9jb21tb25cIikuYXNzaWduKShzLHQoXCIuL2xpYi9kZWZsYXRlXCIpLHQoXCIuL2xpYi9pbmZsYXRlXCIpLHQoXCIuL2xpYi96bGliL2NvbnN0YW50c1wiKSksZS5leHBvcnRzPXN9LHtcIi4vbGliL2RlZmxhdGVcIjozOSxcIi4vbGliL2luZmxhdGVcIjo0MCxcIi4vbGliL3V0aWxzL2NvbW1vblwiOjQxLFwiLi9saWIvemxpYi9jb25zdGFudHNcIjo0NH1dLDM5OltmdW5jdGlvbih0LGUsaSl7XCJ1c2Ugc3RyaWN0XCI7dmFyIHM9dChcIi4vemxpYi9kZWZsYXRlXCIpLG49dChcIi4vdXRpbHMvY29tbW9uXCIpLHI9dChcIi4vdXRpbHMvc3RyaW5nc1wiKSxvPXQoXCIuL3psaWIvbWVzc2FnZXNcIiksYT10KFwiLi96bGliL3pzdHJlYW1cIiksaD1PYmplY3QucHJvdG90eXBlLnRvU3RyaW5nO2Z1bmN0aW9uIGwodCl7aWYoISh0aGlzIGluc3RhbmNlb2YgbCkpcmV0dXJuIG5ldyBsKHQpO3RoaXMub3B0aW9ucz1uLmFzc2lnbih7bGV2ZWw6LTEsbWV0aG9kOjgsY2h1bmtTaXplOjE2Mzg0LHdpbmRvd0JpdHM6MTUsbWVtTGV2ZWw6OCxzdHJhdGVneTowLHRvOlwiXCJ9LHR8fHt9KTt2YXIgZT10aGlzLm9wdGlvbnM7ZS5yYXcmJjA8ZS53aW5kb3dCaXRzP2Uud2luZG93Qml0cz0tZS53aW5kb3dCaXRzOmUuZ3ppcCYmMDxlLndpbmRvd0JpdHMmJmUud2luZG93Qml0czwxNiYmKGUud2luZG93Qml0cys9MTYpLHRoaXMuZXJyPTAsdGhpcy5tc2c9XCJcIix0aGlzLmVuZGVkPSExLHRoaXMuY2h1bmtzPVtdLHRoaXMuc3RybT1uZXcgYSx0aGlzLnN0cm0uYXZhaWxfb3V0PTA7dmFyIGk9cy5kZWZsYXRlSW5pdDIodGhpcy5zdHJtLGUubGV2ZWwsZS5tZXRob2QsZS53aW5kb3dCaXRzLGUubWVtTGV2ZWwsZS5zdHJhdGVneSk7aWYoMCE9PWkpdGhyb3cgbmV3IEVycm9yKG9baV0pO2lmKGUuaGVhZGVyJiZzLmRlZmxhdGVTZXRIZWFkZXIodGhpcy5zdHJtLGUuaGVhZGVyKSxlLmRpY3Rpb25hcnkpe3ZhciBjO2lmKGM9XCJzdHJpbmdcIj09dHlwZW9mIGUuZGljdGlvbmFyeT9yLnN0cmluZzJidWYoZS5kaWN0aW9uYXJ5KTpcIltvYmplY3QgQXJyYXlCdWZmZXJdXCI9PT1oLmNhbGwoZS5kaWN0aW9uYXJ5KT9uZXcgVWludDhBcnJheShlLmRpY3Rpb25hcnkpOmUuZGljdGlvbmFyeSwwIT09KGk9cy5kZWZsYXRlU2V0RGljdGlvbmFyeSh0aGlzLnN0cm0sYykpKXRocm93IG5ldyBFcnJvcihvW2ldKTt0aGlzLl9kaWN0X3NldD0hMH19ZnVuY3Rpb24gYyh0LGUpe3ZhciBpPW5ldyBsKGUpO2lmKGkucHVzaCh0LCEwKSxpLmVycil0aHJvdyBpLm1zZ3x8b1tpLmVycl07cmV0dXJuIGkucmVzdWx0fWwucHJvdG90eXBlLnB1c2g9ZnVuY3Rpb24odCxlKXt2YXIgaSxvLGE9dGhpcy5zdHJtLGw9dGhpcy5vcHRpb25zLmNodW5rU2l6ZTtpZih0aGlzLmVuZGVkKXJldHVybiExO289ZT09PX5+ZT9lOiEwPT09ZT80OjAsXCJzdHJpbmdcIj09dHlwZW9mIHQ/YS5pbnB1dD1yLnN0cmluZzJidWYodCk6XCJbb2JqZWN0IEFycmF5QnVmZmVyXVwiPT09aC5jYWxsKHQpP2EuaW5wdXQ9bmV3IFVpbnQ4QXJyYXkodCk6YS5pbnB1dD10LGEubmV4dF9pbj0wLGEuYXZhaWxfaW49YS5pbnB1dC5sZW5ndGg7ZG97aWYoMD09PWEuYXZhaWxfb3V0JiYoYS5vdXRwdXQ9bmV3IG4uQnVmOChsKSxhLm5leHRfb3V0PTAsYS5hdmFpbF9vdXQ9bCksMSE9PShpPXMuZGVmbGF0ZShhLG8pKSYmMCE9PWkpcmV0dXJuIHRoaXMub25FbmQoaSksISh0aGlzLmVuZGVkPSEwKTswIT09YS5hdmFpbF9vdXQmJigwIT09YS5hdmFpbF9pbnx8NCE9PW8mJjIhPT1vKXx8KFwic3RyaW5nXCI9PT10aGlzLm9wdGlvbnMudG8/dGhpcy5vbkRhdGEoci5idWYyYmluc3RyaW5nKG4uc2hyaW5rQnVmKGEub3V0cHV0LGEubmV4dF9vdXQpKSk6dGhpcy5vbkRhdGEobi5zaHJpbmtCdWYoYS5vdXRwdXQsYS5uZXh0X291dCkpKX13aGlsZSgoMDxhLmF2YWlsX2lufHwwPT09YS5hdmFpbF9vdXQpJiYxIT09aSk7cmV0dXJuIDQ9PT1vPyhpPXMuZGVmbGF0ZUVuZCh0aGlzLnN0cm0pLHRoaXMub25FbmQoaSksdGhpcy5lbmRlZD0hMCwwPT09aSk6MiE9PW98fCh0aGlzLm9uRW5kKDApLCEoYS5hdmFpbF9vdXQ9MCkpfSxsLnByb3RvdHlwZS5vbkRhdGE9ZnVuY3Rpb24odCl7dGhpcy5jaHVua3MucHVzaCh0KX0sbC5wcm90b3R5cGUub25FbmQ9ZnVuY3Rpb24odCl7MD09PXQmJihcInN0cmluZ1wiPT09dGhpcy5vcHRpb25zLnRvP3RoaXMucmVzdWx0PXRoaXMuY2h1bmtzLmpvaW4oXCJcIik6dGhpcy5yZXN1bHQ9bi5mbGF0dGVuQ2h1bmtzKHRoaXMuY2h1bmtzKSksdGhpcy5jaHVua3M9W10sdGhpcy5lcnI9dCx0aGlzLm1zZz10aGlzLnN0cm0ubXNnfSxpLkRlZmxhdGU9bCxpLmRlZmxhdGU9YyxpLmRlZmxhdGVSYXc9ZnVuY3Rpb24odCxlKXtyZXR1cm4oZT1lfHx7fSkucmF3PSEwLGModCxlKX0saS5nemlwPWZ1bmN0aW9uKHQsZSl7cmV0dXJuKGU9ZXx8e30pLmd6aXA9ITAsYyh0LGUpfX0se1wiLi91dGlscy9jb21tb25cIjo0MSxcIi4vdXRpbHMvc3RyaW5nc1wiOjQyLFwiLi96bGliL2RlZmxhdGVcIjo0NixcIi4vemxpYi9tZXNzYWdlc1wiOjUxLFwiLi96bGliL3pzdHJlYW1cIjo1M31dLDQwOltmdW5jdGlvbih0LGUsaSl7XCJ1c2Ugc3RyaWN0XCI7dmFyIHM9dChcIi4vemxpYi9pbmZsYXRlXCIpLG49dChcIi4vdXRpbHMvY29tbW9uXCIpLHI9dChcIi4vdXRpbHMvc3RyaW5nc1wiKSxvPXQoXCIuL3psaWIvY29uc3RhbnRzXCIpLGE9dChcIi4vemxpYi9tZXNzYWdlc1wiKSxoPXQoXCIuL3psaWIvenN0cmVhbVwiKSxsPXQoXCIuL3psaWIvZ3poZWFkZXJcIiksYz1PYmplY3QucHJvdG90eXBlLnRvU3RyaW5nO2Z1bmN0aW9uIHUodCl7aWYoISh0aGlzIGluc3RhbmNlb2YgdSkpcmV0dXJuIG5ldyB1KHQpO3RoaXMub3B0aW9ucz1uLmFzc2lnbih7Y2h1bmtTaXplOjE2Mzg0LHdpbmRvd0JpdHM6MCx0bzpcIlwifSx0fHx7fSk7dmFyIGU9dGhpcy5vcHRpb25zO2UucmF3JiYwPD1lLndpbmRvd0JpdHMmJmUud2luZG93Qml0czwxNiYmKGUud2luZG93Qml0cz0tZS53aW5kb3dCaXRzLDA9PT1lLndpbmRvd0JpdHMmJihlLndpbmRvd0JpdHM9LTE1KSksISgwPD1lLndpbmRvd0JpdHMmJmUud2luZG93Qml0czwxNil8fHQmJnQud2luZG93Qml0c3x8KGUud2luZG93Qml0cys9MzIpLDE1PGUud2luZG93Qml0cyYmZS53aW5kb3dCaXRzPDQ4JiYwPT0oMTUmZS53aW5kb3dCaXRzKSYmKGUud2luZG93Qml0c3w9MTUpLHRoaXMuZXJyPTAsdGhpcy5tc2c9XCJcIix0aGlzLmVuZGVkPSExLHRoaXMuY2h1bmtzPVtdLHRoaXMuc3RybT1uZXcgaCx0aGlzLnN0cm0uYXZhaWxfb3V0PTA7dmFyIGk9cy5pbmZsYXRlSW5pdDIodGhpcy5zdHJtLGUud2luZG93Qml0cyk7aWYoaSE9PW8uWl9PSyl0aHJvdyBuZXcgRXJyb3IoYVtpXSk7dGhpcy5oZWFkZXI9bmV3IGwscy5pbmZsYXRlR2V0SGVhZGVyKHRoaXMuc3RybSx0aGlzLmhlYWRlcil9ZnVuY3Rpb24gZCh0LGUpe3ZhciBpPW5ldyB1KGUpO2lmKGkucHVzaCh0LCEwKSxpLmVycil0aHJvdyBpLm1zZ3x8YVtpLmVycl07cmV0dXJuIGkucmVzdWx0fXUucHJvdG90eXBlLnB1c2g9ZnVuY3Rpb24odCxlKXt2YXIgaSxhLGgsbCx1LGQsZj10aGlzLnN0cm0sbT10aGlzLm9wdGlvbnMuY2h1bmtTaXplLHA9dGhpcy5vcHRpb25zLmRpY3Rpb25hcnksZz0hMTtpZih0aGlzLmVuZGVkKXJldHVybiExO2E9ZT09PX5+ZT9lOiEwPT09ZT9vLlpfRklOSVNIOm8uWl9OT19GTFVTSCxcInN0cmluZ1wiPT10eXBlb2YgdD9mLmlucHV0PXIuYmluc3RyaW5nMmJ1Zih0KTpcIltvYmplY3QgQXJyYXlCdWZmZXJdXCI9PT1jLmNhbGwodCk/Zi5pbnB1dD1uZXcgVWludDhBcnJheSh0KTpmLmlucHV0PXQsZi5uZXh0X2luPTAsZi5hdmFpbF9pbj1mLmlucHV0Lmxlbmd0aDtkb3tpZigwPT09Zi5hdmFpbF9vdXQmJihmLm91dHB1dD1uZXcgbi5CdWY4KG0pLGYubmV4dF9vdXQ9MCxmLmF2YWlsX291dD1tKSwoaT1zLmluZmxhdGUoZixvLlpfTk9fRkxVU0gpKT09PW8uWl9ORUVEX0RJQ1QmJnAmJihkPVwic3RyaW5nXCI9PXR5cGVvZiBwP3Iuc3RyaW5nMmJ1ZihwKTpcIltvYmplY3QgQXJyYXlCdWZmZXJdXCI9PT1jLmNhbGwocCk/bmV3IFVpbnQ4QXJyYXkocCk6cCxpPXMuaW5mbGF0ZVNldERpY3Rpb25hcnkodGhpcy5zdHJtLGQpKSxpPT09by5aX0JVRl9FUlJPUiYmITA9PT1nJiYoaT1vLlpfT0ssZz0hMSksaSE9PW8uWl9TVFJFQU1fRU5EJiZpIT09by5aX09LKXJldHVybiB0aGlzLm9uRW5kKGkpLCEodGhpcy5lbmRlZD0hMCk7Zi5uZXh0X291dCYmKDAhPT1mLmF2YWlsX291dCYmaSE9PW8uWl9TVFJFQU1fRU5EJiYoMCE9PWYuYXZhaWxfaW58fGEhPT1vLlpfRklOSVNIJiZhIT09by5aX1NZTkNfRkxVU0gpfHwoXCJzdHJpbmdcIj09PXRoaXMub3B0aW9ucy50bz8oaD1yLnV0Zjhib3JkZXIoZi5vdXRwdXQsZi5uZXh0X291dCksbD1mLm5leHRfb3V0LWgsdT1yLmJ1ZjJzdHJpbmcoZi5vdXRwdXQsaCksZi5uZXh0X291dD1sLGYuYXZhaWxfb3V0PW0tbCxsJiZuLmFycmF5U2V0KGYub3V0cHV0LGYub3V0cHV0LGgsbCwwKSx0aGlzLm9uRGF0YSh1KSk6dGhpcy5vbkRhdGEobi5zaHJpbmtCdWYoZi5vdXRwdXQsZi5uZXh0X291dCkpKSksMD09PWYuYXZhaWxfaW4mJjA9PT1mLmF2YWlsX291dCYmKGc9ITApfXdoaWxlKCgwPGYuYXZhaWxfaW58fDA9PT1mLmF2YWlsX291dCkmJmkhPT1vLlpfU1RSRUFNX0VORCk7cmV0dXJuIGk9PT1vLlpfU1RSRUFNX0VORCYmKGE9by5aX0ZJTklTSCksYT09PW8uWl9GSU5JU0g/KGk9cy5pbmZsYXRlRW5kKHRoaXMuc3RybSksdGhpcy5vbkVuZChpKSx0aGlzLmVuZGVkPSEwLGk9PT1vLlpfT0spOmEhPT1vLlpfU1lOQ19GTFVTSHx8KHRoaXMub25FbmQoby5aX09LKSwhKGYuYXZhaWxfb3V0PTApKX0sdS5wcm90b3R5cGUub25EYXRhPWZ1bmN0aW9uKHQpe3RoaXMuY2h1bmtzLnB1c2godCl9LHUucHJvdG90eXBlLm9uRW5kPWZ1bmN0aW9uKHQpe3Q9PT1vLlpfT0smJihcInN0cmluZ1wiPT09dGhpcy5vcHRpb25zLnRvP3RoaXMucmVzdWx0PXRoaXMuY2h1bmtzLmpvaW4oXCJcIik6dGhpcy5yZXN1bHQ9bi5mbGF0dGVuQ2h1bmtzKHRoaXMuY2h1bmtzKSksdGhpcy5jaHVua3M9W10sdGhpcy5lcnI9dCx0aGlzLm1zZz10aGlzLnN0cm0ubXNnfSxpLkluZmxhdGU9dSxpLmluZmxhdGU9ZCxpLmluZmxhdGVSYXc9ZnVuY3Rpb24odCxlKXtyZXR1cm4oZT1lfHx7fSkucmF3PSEwLGQodCxlKX0saS51bmd6aXA9ZH0se1wiLi91dGlscy9jb21tb25cIjo0MSxcIi4vdXRpbHMvc3RyaW5nc1wiOjQyLFwiLi96bGliL2NvbnN0YW50c1wiOjQ0LFwiLi96bGliL2d6aGVhZGVyXCI6NDcsXCIuL3psaWIvaW5mbGF0ZVwiOjQ5LFwiLi96bGliL21lc3NhZ2VzXCI6NTEsXCIuL3psaWIvenN0cmVhbVwiOjUzfV0sNDE6W2Z1bmN0aW9uKHQsZSxpKXtcInVzZSBzdHJpY3RcIjt2YXIgcz1cInVuZGVmaW5lZFwiIT10eXBlb2YgVWludDhBcnJheSYmXCJ1bmRlZmluZWRcIiE9dHlwZW9mIFVpbnQxNkFycmF5JiZcInVuZGVmaW5lZFwiIT10eXBlb2YgSW50MzJBcnJheTtpLmFzc2lnbj1mdW5jdGlvbih0KXtmb3IodmFyIGU9QXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGwoYXJndW1lbnRzLDEpO2UubGVuZ3RoOyl7dmFyIGk9ZS5zaGlmdCgpO2lmKGkpe2lmKFwib2JqZWN0XCIhPXR5cGVvZiBpKXRocm93IG5ldyBUeXBlRXJyb3IoaStcIm11c3QgYmUgbm9uLW9iamVjdFwiKTtmb3IodmFyIHMgaW4gaSlpLmhhc093blByb3BlcnR5KHMpJiYodFtzXT1pW3NdKX19cmV0dXJuIHR9LGkuc2hyaW5rQnVmPWZ1bmN0aW9uKHQsZSl7cmV0dXJuIHQubGVuZ3RoPT09ZT90OnQuc3ViYXJyYXk/dC5zdWJhcnJheSgwLGUpOih0Lmxlbmd0aD1lLHQpfTt2YXIgbj17YXJyYXlTZXQ6ZnVuY3Rpb24odCxlLGkscyxuKXtpZihlLnN1YmFycmF5JiZ0LnN1YmFycmF5KXQuc2V0KGUuc3ViYXJyYXkoaSxpK3MpLG4pO2Vsc2UgZm9yKHZhciByPTA7cjxzO3IrKyl0W24rcl09ZVtpK3JdfSxmbGF0dGVuQ2h1bmtzOmZ1bmN0aW9uKHQpe3ZhciBlLGkscyxuLHIsbztmb3IoZT1zPTAsaT10Lmxlbmd0aDtlPGk7ZSsrKXMrPXRbZV0ubGVuZ3RoO2ZvcihvPW5ldyBVaW50OEFycmF5KHMpLGU9bj0wLGk9dC5sZW5ndGg7ZTxpO2UrKylyPXRbZV0sby5zZXQocixuKSxuKz1yLmxlbmd0aDtyZXR1cm4gb319LHI9e2FycmF5U2V0OmZ1bmN0aW9uKHQsZSxpLHMsbil7Zm9yKHZhciByPTA7cjxzO3IrKyl0W24rcl09ZVtpK3JdfSxmbGF0dGVuQ2h1bmtzOmZ1bmN0aW9uKHQpe3JldHVybltdLmNvbmNhdC5hcHBseShbXSx0KX19O2kuc2V0VHlwZWQ9ZnVuY3Rpb24odCl7dD8oaS5CdWY4PVVpbnQ4QXJyYXksaS5CdWYxNj1VaW50MTZBcnJheSxpLkJ1ZjMyPUludDMyQXJyYXksaS5hc3NpZ24oaSxuKSk6KGkuQnVmOD1BcnJheSxpLkJ1ZjE2PUFycmF5LGkuQnVmMzI9QXJyYXksaS5hc3NpZ24oaSxyKSl9LGkuc2V0VHlwZWQocyl9LHt9XSw0MjpbZnVuY3Rpb24odCxlLGkpe1widXNlIHN0cmljdFwiO3ZhciBzPXQoXCIuL2NvbW1vblwiKSxuPSEwLHI9ITA7dHJ5e1N0cmluZy5mcm9tQ2hhckNvZGUuYXBwbHkobnVsbCxbMF0pfWNhdGNoKHQpe249ITF9dHJ5e1N0cmluZy5mcm9tQ2hhckNvZGUuYXBwbHkobnVsbCxuZXcgVWludDhBcnJheSgxKSl9Y2F0Y2godCl7cj0hMX1mb3IodmFyIG89bmV3IHMuQnVmOCgyNTYpLGE9MDthPDI1NjthKyspb1thXT0yNTI8PWE/NjoyNDg8PWE/NToyNDA8PWE/NDoyMjQ8PWE/MzoxOTI8PWE/MjoxO2Z1bmN0aW9uIGgodCxlKXtpZihlPDY1NTM3JiYodC5zdWJhcnJheSYmcnx8IXQuc3ViYXJyYXkmJm4pKXJldHVybiBTdHJpbmcuZnJvbUNoYXJDb2RlLmFwcGx5KG51bGwscy5zaHJpbmtCdWYodCxlKSk7Zm9yKHZhciBpPVwiXCIsbz0wO288ZTtvKyspaSs9U3RyaW5nLmZyb21DaGFyQ29kZSh0W29dKTtyZXR1cm4gaX1vWzI1NF09b1syNTRdPTEsaS5zdHJpbmcyYnVmPWZ1bmN0aW9uKHQpe3ZhciBlLGksbixyLG8sYT10Lmxlbmd0aCxoPTA7Zm9yKHI9MDtyPGE7cisrKTU1Mjk2PT0oNjQ1MTImKGk9dC5jaGFyQ29kZUF0KHIpKSkmJnIrMTxhJiY1NjMyMD09KDY0NTEyJihuPXQuY2hhckNvZGVBdChyKzEpKSkmJihpPTY1NTM2KyhpLTU1Mjk2PDwxMCkrKG4tNTYzMjApLHIrKyksaCs9aTwxMjg/MTppPDIwNDg/MjppPDY1NTM2PzM6NDtmb3IoZT1uZXcgcy5CdWY4KGgpLHI9bz0wO288aDtyKyspNTUyOTY9PSg2NDUxMiYoaT10LmNoYXJDb2RlQXQocikpKSYmcisxPGEmJjU2MzIwPT0oNjQ1MTImKG49dC5jaGFyQ29kZUF0KHIrMSkpKSYmKGk9NjU1MzYrKGktNTUyOTY8PDEwKSsobi01NjMyMCkscisrKSxpPDEyOD9lW28rK109aTooaTwyMDQ4P2VbbysrXT0xOTJ8aT4+PjY6KGk8NjU1MzY/ZVtvKytdPTIyNHxpPj4+MTI6KGVbbysrXT0yNDB8aT4+PjE4LGVbbysrXT0xMjh8aT4+PjEyJjYzKSxlW28rK109MTI4fGk+Pj42JjYzKSxlW28rK109MTI4fDYzJmkpO3JldHVybiBlfSxpLmJ1ZjJiaW5zdHJpbmc9ZnVuY3Rpb24odCl7cmV0dXJuIGgodCx0Lmxlbmd0aCl9LGkuYmluc3RyaW5nMmJ1Zj1mdW5jdGlvbih0KXtmb3IodmFyIGU9bmV3IHMuQnVmOCh0Lmxlbmd0aCksaT0wLG49ZS5sZW5ndGg7aTxuO2krKyllW2ldPXQuY2hhckNvZGVBdChpKTtyZXR1cm4gZX0saS5idWYyc3RyaW5nPWZ1bmN0aW9uKHQsZSl7dmFyIGkscyxuLHIsYT1lfHx0Lmxlbmd0aCxsPW5ldyBBcnJheSgyKmEpO2ZvcihpPXM9MDtpPGE7KWlmKChuPXRbaSsrXSk8MTI4KWxbcysrXT1uO2Vsc2UgaWYoNDwocj1vW25dKSlsW3MrK109NjU1MzMsaSs9ci0xO2Vsc2V7Zm9yKG4mPTI9PT1yPzMxOjM9PT1yPzE1Ojc7MTxyJiZpPGE7KW49bjw8Nnw2MyZ0W2krK10sci0tOzE8cj9sW3MrK109NjU1MzM6bjw2NTUzNj9sW3MrK109bjoobi09NjU1MzYsbFtzKytdPTU1Mjk2fG4+PjEwJjEwMjMsbFtzKytdPTU2MzIwfDEwMjMmbil9cmV0dXJuIGgobCxzKX0saS51dGY4Ym9yZGVyPWZ1bmN0aW9uKHQsZSl7dmFyIGk7Zm9yKChlPWV8fHQubGVuZ3RoKT50Lmxlbmd0aCYmKGU9dC5sZW5ndGgpLGk9ZS0xOzA8PWkmJjEyOD09KDE5MiZ0W2ldKTspaS0tO3JldHVybiBpPDB8fDA9PT1pP2U6aStvW3RbaV1dPmU/aTplfX0se1wiLi9jb21tb25cIjo0MX1dLDQzOltmdW5jdGlvbih0LGUsaSl7XCJ1c2Ugc3RyaWN0XCI7ZS5leHBvcnRzPWZ1bmN0aW9uKHQsZSxpLHMpe2Zvcih2YXIgbj02NTUzNSZ0fDAscj10Pj4+MTYmNjU1MzV8MCxvPTA7MCE9PWk7KXtmb3IoaS09bz0yZTM8aT8yZTM6aTtyPXIrKG49bitlW3MrK118MCl8MCwtLW87KTtuJT02NTUyMSxyJT02NTUyMX1yZXR1cm4gbnxyPDwxNnwwfX0se31dLDQ0OltmdW5jdGlvbih0LGUsaSl7XCJ1c2Ugc3RyaWN0XCI7ZS5leHBvcnRzPXtaX05PX0ZMVVNIOjAsWl9QQVJUSUFMX0ZMVVNIOjEsWl9TWU5DX0ZMVVNIOjIsWl9GVUxMX0ZMVVNIOjMsWl9GSU5JU0g6NCxaX0JMT0NLOjUsWl9UUkVFUzo2LFpfT0s6MCxaX1NUUkVBTV9FTkQ6MSxaX05FRURfRElDVDoyLFpfRVJSTk86LTEsWl9TVFJFQU1fRVJST1I6LTIsWl9EQVRBX0VSUk9SOi0zLFpfQlVGX0VSUk9SOi01LFpfTk9fQ09NUFJFU1NJT046MCxaX0JFU1RfU1BFRUQ6MSxaX0JFU1RfQ09NUFJFU1NJT046OSxaX0RFRkFVTFRfQ09NUFJFU1NJT046LTEsWl9GSUxURVJFRDoxLFpfSFVGRk1BTl9PTkxZOjIsWl9STEU6MyxaX0ZJWEVEOjQsWl9ERUZBVUxUX1NUUkFURUdZOjAsWl9CSU5BUlk6MCxaX1RFWFQ6MSxaX1VOS05PV046MixaX0RFRkxBVEVEOjh9fSx7fV0sNDU6W2Z1bmN0aW9uKHQsZSxpKXtcInVzZSBzdHJpY3RcIjt2YXIgcz1mdW5jdGlvbigpe2Zvcih2YXIgdCxlPVtdLGk9MDtpPDI1NjtpKyspe3Q9aTtmb3IodmFyIHM9MDtzPDg7cysrKXQ9MSZ0PzM5ODgyOTIzODRedD4+PjE6dD4+PjE7ZVtpXT10fXJldHVybiBlfSgpO2UuZXhwb3J0cz1mdW5jdGlvbih0LGUsaSxuKXt2YXIgcj1zLG89bitpO3RePS0xO2Zvcih2YXIgYT1uO2E8bzthKyspdD10Pj4+OF5yWzI1NSYodF5lW2FdKV07cmV0dXJuLTFedH19LHt9XSw0NjpbZnVuY3Rpb24odCxlLGkpe1widXNlIHN0cmljdFwiO3ZhciBzLG49dChcIi4uL3V0aWxzL2NvbW1vblwiKSxyPXQoXCIuL3RyZWVzXCIpLG89dChcIi4vYWRsZXIzMlwiKSxhPXQoXCIuL2NyYzMyXCIpLGg9dChcIi4vbWVzc2FnZXNcIiksbD0tMixjPTI1OCx1PTI2MixkPTExMztmdW5jdGlvbiBmKHQsZSl7cmV0dXJuIHQubXNnPWhbZV0sZX1mdW5jdGlvbiBtKHQpe3JldHVybih0PDwxKS0oNDx0Pzk6MCl9ZnVuY3Rpb24gcCh0KXtmb3IodmFyIGU9dC5sZW5ndGg7MDw9LS1lOyl0W2VdPTB9ZnVuY3Rpb24gZyh0KXt2YXIgZT10LnN0YXRlLGk9ZS5wZW5kaW5nO2k+dC5hdmFpbF9vdXQmJihpPXQuYXZhaWxfb3V0KSwwIT09aSYmKG4uYXJyYXlTZXQodC5vdXRwdXQsZS5wZW5kaW5nX2J1ZixlLnBlbmRpbmdfb3V0LGksdC5uZXh0X291dCksdC5uZXh0X291dCs9aSxlLnBlbmRpbmdfb3V0Kz1pLHQudG90YWxfb3V0Kz1pLHQuYXZhaWxfb3V0LT1pLGUucGVuZGluZy09aSwwPT09ZS5wZW5kaW5nJiYoZS5wZW5kaW5nX291dD0wKSl9ZnVuY3Rpb24gYih0LGUpe3IuX3RyX2ZsdXNoX2Jsb2NrKHQsMDw9dC5ibG9ja19zdGFydD90LmJsb2NrX3N0YXJ0Oi0xLHQuc3Ryc3RhcnQtdC5ibG9ja19zdGFydCxlKSx0LmJsb2NrX3N0YXJ0PXQuc3Ryc3RhcnQsZyh0LnN0cm0pfWZ1bmN0aW9uIFModCxlKXt0LnBlbmRpbmdfYnVmW3QucGVuZGluZysrXT1lfWZ1bmN0aW9uIHkodCxlKXt0LnBlbmRpbmdfYnVmW3QucGVuZGluZysrXT1lPj4+OCYyNTUsdC5wZW5kaW5nX2J1Zlt0LnBlbmRpbmcrK109MjU1JmV9ZnVuY3Rpb24geCh0LGUpe3ZhciBpLHMsbj10Lm1heF9jaGFpbl9sZW5ndGgscj10LnN0cnN0YXJ0LG89dC5wcmV2X2xlbmd0aCxhPXQubmljZV9tYXRjaCxoPXQuc3Ryc3RhcnQ+dC53X3NpemUtdT90LnN0cnN0YXJ0LSh0Lndfc2l6ZS11KTowLGw9dC53aW5kb3csZD10LndfbWFzayxmPXQucHJldixtPXQuc3Ryc3RhcnQrYyxwPWxbcitvLTFdLGc9bFtyK29dO3QucHJldl9sZW5ndGg+PXQuZ29vZF9tYXRjaCYmKG4+Pj0yKSxhPnQubG9va2FoZWFkJiYoYT10Lmxvb2thaGVhZCk7ZG97aWYobFsoaT1lKStvXT09PWcmJmxbaStvLTFdPT09cCYmbFtpXT09PWxbcl0mJmxbKytpXT09PWxbcisxXSl7cis9MixpKys7ZG97fXdoaWxlKGxbKytyXT09PWxbKytpXSYmbFsrK3JdPT09bFsrK2ldJiZsWysrcl09PT1sWysraV0mJmxbKytyXT09PWxbKytpXSYmbFsrK3JdPT09bFsrK2ldJiZsWysrcl09PT1sWysraV0mJmxbKytyXT09PWxbKytpXSYmbFsrK3JdPT09bFsrK2ldJiZyPG0pO2lmKHM9Yy0obS1yKSxyPW0tYyxvPHMpe2lmKHQubWF0Y2hfc3RhcnQ9ZSxhPD0obz1zKSlicmVhaztwPWxbcitvLTFdLGc9bFtyK29dfX19d2hpbGUoKGU9ZltlJmRdKT5oJiYwIT0tLW4pO3JldHVybiBvPD10Lmxvb2thaGVhZD9vOnQubG9va2FoZWFkfWZ1bmN0aW9uIEUodCl7dmFyIGUsaSxzLHIsaCxsLGMsZCxmLG0scD10Lndfc2l6ZTtkb3tpZihyPXQud2luZG93X3NpemUtdC5sb29rYWhlYWQtdC5zdHJzdGFydCx0LnN0cnN0YXJ0Pj1wKyhwLXUpKXtmb3Iobi5hcnJheVNldCh0LndpbmRvdyx0LndpbmRvdyxwLHAsMCksdC5tYXRjaF9zdGFydC09cCx0LnN0cnN0YXJ0LT1wLHQuYmxvY2tfc3RhcnQtPXAsZT1pPXQuaGFzaF9zaXplO3M9dC5oZWFkWy0tZV0sdC5oZWFkW2VdPXA8PXM/cy1wOjAsLS1pOyk7Zm9yKGU9aT1wO3M9dC5wcmV2Wy0tZV0sdC5wcmV2W2VdPXA8PXM/cy1wOjAsLS1pOyk7cis9cH1pZigwPT09dC5zdHJtLmF2YWlsX2luKWJyZWFrO2lmKGw9dC5zdHJtLGM9dC53aW5kb3csZD10LnN0cnN0YXJ0K3QubG9va2FoZWFkLG09dm9pZCAwLChmPXIpPChtPWwuYXZhaWxfaW4pJiYobT1mKSxpPTA9PT1tPzA6KGwuYXZhaWxfaW4tPW0sbi5hcnJheVNldChjLGwuaW5wdXQsbC5uZXh0X2luLG0sZCksMT09PWwuc3RhdGUud3JhcD9sLmFkbGVyPW8obC5hZGxlcixjLG0sZCk6Mj09PWwuc3RhdGUud3JhcCYmKGwuYWRsZXI9YShsLmFkbGVyLGMsbSxkKSksbC5uZXh0X2luKz1tLGwudG90YWxfaW4rPW0sbSksdC5sb29rYWhlYWQrPWksdC5sb29rYWhlYWQrdC5pbnNlcnQ+PTMpZm9yKGg9dC5zdHJzdGFydC10Lmluc2VydCx0Lmluc19oPXQud2luZG93W2hdLHQuaW5zX2g9KHQuaW5zX2g8PHQuaGFzaF9zaGlmdF50LndpbmRvd1toKzFdKSZ0Lmhhc2hfbWFzazt0Lmluc2VydCYmKHQuaW5zX2g9KHQuaW5zX2g8PHQuaGFzaF9zaGlmdF50LndpbmRvd1toKzMtMV0pJnQuaGFzaF9tYXNrLHQucHJldltoJnQud19tYXNrXT10LmhlYWRbdC5pbnNfaF0sdC5oZWFkW3QuaW5zX2hdPWgsaCsrLHQuaW5zZXJ0LS0sISh0Lmxvb2thaGVhZCt0Lmluc2VydDwzKSk7KTt9d2hpbGUodC5sb29rYWhlYWQ8dSYmMCE9PXQuc3RybS5hdmFpbF9pbil9ZnVuY3Rpb24gdih0LGUpe2Zvcih2YXIgaSxzOzspe2lmKHQubG9va2FoZWFkPHUpe2lmKEUodCksdC5sb29rYWhlYWQ8dSYmMD09PWUpcmV0dXJuIDE7aWYoMD09PXQubG9va2FoZWFkKWJyZWFrfWlmKGk9MCx0Lmxvb2thaGVhZD49MyYmKHQuaW5zX2g9KHQuaW5zX2g8PHQuaGFzaF9zaGlmdF50LndpbmRvd1t0LnN0cnN0YXJ0KzMtMV0pJnQuaGFzaF9tYXNrLGk9dC5wcmV2W3Quc3Ryc3RhcnQmdC53X21hc2tdPXQuaGVhZFt0Lmluc19oXSx0LmhlYWRbdC5pbnNfaF09dC5zdHJzdGFydCksMCE9PWkmJnQuc3Ryc3RhcnQtaTw9dC53X3NpemUtdSYmKHQubWF0Y2hfbGVuZ3RoPXgodCxpKSksdC5tYXRjaF9sZW5ndGg+PTMpaWYocz1yLl90cl90YWxseSh0LHQuc3Ryc3RhcnQtdC5tYXRjaF9zdGFydCx0Lm1hdGNoX2xlbmd0aC0zKSx0Lmxvb2thaGVhZC09dC5tYXRjaF9sZW5ndGgsdC5tYXRjaF9sZW5ndGg8PXQubWF4X2xhenlfbWF0Y2gmJnQubG9va2FoZWFkPj0zKXtmb3IodC5tYXRjaF9sZW5ndGgtLTt0LnN0cnN0YXJ0KyssdC5pbnNfaD0odC5pbnNfaDw8dC5oYXNoX3NoaWZ0XnQud2luZG93W3Quc3Ryc3RhcnQrMy0xXSkmdC5oYXNoX21hc2ssaT10LnByZXZbdC5zdHJzdGFydCZ0LndfbWFza109dC5oZWFkW3QuaW5zX2hdLHQuaGVhZFt0Lmluc19oXT10LnN0cnN0YXJ0LDAhPS0tdC5tYXRjaF9sZW5ndGg7KTt0LnN0cnN0YXJ0Kyt9ZWxzZSB0LnN0cnN0YXJ0Kz10Lm1hdGNoX2xlbmd0aCx0Lm1hdGNoX2xlbmd0aD0wLHQuaW5zX2g9dC53aW5kb3dbdC5zdHJzdGFydF0sdC5pbnNfaD0odC5pbnNfaDw8dC5oYXNoX3NoaWZ0XnQud2luZG93W3Quc3Ryc3RhcnQrMV0pJnQuaGFzaF9tYXNrO2Vsc2Ugcz1yLl90cl90YWxseSh0LDAsdC53aW5kb3dbdC5zdHJzdGFydF0pLHQubG9va2FoZWFkLS0sdC5zdHJzdGFydCsrO2lmKHMmJihiKHQsITEpLDA9PT10LnN0cm0uYXZhaWxfb3V0KSlyZXR1cm4gMX1yZXR1cm4gdC5pbnNlcnQ9dC5zdHJzdGFydDwyP3Quc3Ryc3RhcnQ6Miw0PT09ZT8oYih0LCEwKSwwPT09dC5zdHJtLmF2YWlsX291dD8zOjQpOnQubGFzdF9saXQmJihiKHQsITEpLDA9PT10LnN0cm0uYXZhaWxfb3V0KT8xOjJ9ZnVuY3Rpb24gXyh0LGUpe2Zvcih2YXIgaSxzLG47Oyl7aWYodC5sb29rYWhlYWQ8dSl7aWYoRSh0KSx0Lmxvb2thaGVhZDx1JiYwPT09ZSlyZXR1cm4gMTtpZigwPT09dC5sb29rYWhlYWQpYnJlYWt9aWYoaT0wLHQubG9va2FoZWFkPj0zJiYodC5pbnNfaD0odC5pbnNfaDw8dC5oYXNoX3NoaWZ0XnQud2luZG93W3Quc3Ryc3RhcnQrMy0xXSkmdC5oYXNoX21hc2ssaT10LnByZXZbdC5zdHJzdGFydCZ0LndfbWFza109dC5oZWFkW3QuaW5zX2hdLHQuaGVhZFt0Lmluc19oXT10LnN0cnN0YXJ0KSx0LnByZXZfbGVuZ3RoPXQubWF0Y2hfbGVuZ3RoLHQucHJldl9tYXRjaD10Lm1hdGNoX3N0YXJ0LHQubWF0Y2hfbGVuZ3RoPTIsMCE9PWkmJnQucHJldl9sZW5ndGg8dC5tYXhfbGF6eV9tYXRjaCYmdC5zdHJzdGFydC1pPD10Lndfc2l6ZS11JiYodC5tYXRjaF9sZW5ndGg9eCh0LGkpLHQubWF0Y2hfbGVuZ3RoPD01JiYoMT09PXQuc3RyYXRlZ3l8fDM9PT10Lm1hdGNoX2xlbmd0aCYmNDA5Njx0LnN0cnN0YXJ0LXQubWF0Y2hfc3RhcnQpJiYodC5tYXRjaF9sZW5ndGg9MikpLHQucHJldl9sZW5ndGg+PTMmJnQubWF0Y2hfbGVuZ3RoPD10LnByZXZfbGVuZ3RoKXtmb3Iobj10LnN0cnN0YXJ0K3QubG9va2FoZWFkLTMscz1yLl90cl90YWxseSh0LHQuc3Ryc3RhcnQtMS10LnByZXZfbWF0Y2gsdC5wcmV2X2xlbmd0aC0zKSx0Lmxvb2thaGVhZC09dC5wcmV2X2xlbmd0aC0xLHQucHJldl9sZW5ndGgtPTI7Kyt0LnN0cnN0YXJ0PD1uJiYodC5pbnNfaD0odC5pbnNfaDw8dC5oYXNoX3NoaWZ0XnQud2luZG93W3Quc3Ryc3RhcnQrMy0xXSkmdC5oYXNoX21hc2ssaT10LnByZXZbdC5zdHJzdGFydCZ0LndfbWFza109dC5oZWFkW3QuaW5zX2hdLHQuaGVhZFt0Lmluc19oXT10LnN0cnN0YXJ0KSwwIT0tLXQucHJldl9sZW5ndGg7KTtpZih0Lm1hdGNoX2F2YWlsYWJsZT0wLHQubWF0Y2hfbGVuZ3RoPTIsdC5zdHJzdGFydCsrLHMmJihiKHQsITEpLDA9PT10LnN0cm0uYXZhaWxfb3V0KSlyZXR1cm4gMX1lbHNlIGlmKHQubWF0Y2hfYXZhaWxhYmxlKXtpZigocz1yLl90cl90YWxseSh0LDAsdC53aW5kb3dbdC5zdHJzdGFydC0xXSkpJiZiKHQsITEpLHQuc3Ryc3RhcnQrKyx0Lmxvb2thaGVhZC0tLDA9PT10LnN0cm0uYXZhaWxfb3V0KXJldHVybiAxfWVsc2UgdC5tYXRjaF9hdmFpbGFibGU9MSx0LnN0cnN0YXJ0KyssdC5sb29rYWhlYWQtLX1yZXR1cm4gdC5tYXRjaF9hdmFpbGFibGUmJihzPXIuX3RyX3RhbGx5KHQsMCx0LndpbmRvd1t0LnN0cnN0YXJ0LTFdKSx0Lm1hdGNoX2F2YWlsYWJsZT0wKSx0Lmluc2VydD10LnN0cnN0YXJ0PDI/dC5zdHJzdGFydDoyLDQ9PT1lPyhiKHQsITApLDA9PT10LnN0cm0uYXZhaWxfb3V0PzM6NCk6dC5sYXN0X2xpdCYmKGIodCwhMSksMD09PXQuc3RybS5hdmFpbF9vdXQpPzE6Mn1mdW5jdGlvbiB3KHQsZSxpLHMsbil7dGhpcy5nb29kX2xlbmd0aD10LHRoaXMubWF4X2xhenk9ZSx0aGlzLm5pY2VfbGVuZ3RoPWksdGhpcy5tYXhfY2hhaW49cyx0aGlzLmZ1bmM9bn1mdW5jdGlvbiBNKCl7dGhpcy5zdHJtPW51bGwsdGhpcy5zdGF0dXM9MCx0aGlzLnBlbmRpbmdfYnVmPW51bGwsdGhpcy5wZW5kaW5nX2J1Zl9zaXplPTAsdGhpcy5wZW5kaW5nX291dD0wLHRoaXMucGVuZGluZz0wLHRoaXMud3JhcD0wLHRoaXMuZ3poZWFkPW51bGwsdGhpcy5nemluZGV4PTAsdGhpcy5tZXRob2Q9OCx0aGlzLmxhc3RfZmx1c2g9LTEsdGhpcy53X3NpemU9MCx0aGlzLndfYml0cz0wLHRoaXMud19tYXNrPTAsdGhpcy53aW5kb3c9bnVsbCx0aGlzLndpbmRvd19zaXplPTAsdGhpcy5wcmV2PW51bGwsdGhpcy5oZWFkPW51bGwsdGhpcy5pbnNfaD0wLHRoaXMuaGFzaF9zaXplPTAsdGhpcy5oYXNoX2JpdHM9MCx0aGlzLmhhc2hfbWFzaz0wLHRoaXMuaGFzaF9zaGlmdD0wLHRoaXMuYmxvY2tfc3RhcnQ9MCx0aGlzLm1hdGNoX2xlbmd0aD0wLHRoaXMucHJldl9tYXRjaD0wLHRoaXMubWF0Y2hfYXZhaWxhYmxlPTAsdGhpcy5zdHJzdGFydD0wLHRoaXMubWF0Y2hfc3RhcnQ9MCx0aGlzLmxvb2thaGVhZD0wLHRoaXMucHJldl9sZW5ndGg9MCx0aGlzLm1heF9jaGFpbl9sZW5ndGg9MCx0aGlzLm1heF9sYXp5X21hdGNoPTAsdGhpcy5sZXZlbD0wLHRoaXMuc3RyYXRlZ3k9MCx0aGlzLmdvb2RfbWF0Y2g9MCx0aGlzLm5pY2VfbWF0Y2g9MCx0aGlzLmR5bl9sdHJlZT1uZXcgbi5CdWYxNigxMTQ2KSx0aGlzLmR5bl9kdHJlZT1uZXcgbi5CdWYxNigxMjIpLHRoaXMuYmxfdHJlZT1uZXcgbi5CdWYxNig3OCkscCh0aGlzLmR5bl9sdHJlZSkscCh0aGlzLmR5bl9kdHJlZSkscCh0aGlzLmJsX3RyZWUpLHRoaXMubF9kZXNjPW51bGwsdGhpcy5kX2Rlc2M9bnVsbCx0aGlzLmJsX2Rlc2M9bnVsbCx0aGlzLmJsX2NvdW50PW5ldyBuLkJ1ZjE2KDE2KSx0aGlzLmhlYXA9bmV3IG4uQnVmMTYoNTczKSxwKHRoaXMuaGVhcCksdGhpcy5oZWFwX2xlbj0wLHRoaXMuaGVhcF9tYXg9MCx0aGlzLmRlcHRoPW5ldyBuLkJ1ZjE2KDU3MykscCh0aGlzLmRlcHRoKSx0aGlzLmxfYnVmPTAsdGhpcy5saXRfYnVmc2l6ZT0wLHRoaXMubGFzdF9saXQ9MCx0aGlzLmRfYnVmPTAsdGhpcy5vcHRfbGVuPTAsdGhpcy5zdGF0aWNfbGVuPTAsdGhpcy5tYXRjaGVzPTAsdGhpcy5pbnNlcnQ9MCx0aGlzLmJpX2J1Zj0wLHRoaXMuYmlfdmFsaWQ9MH1mdW5jdGlvbiBUKHQpe3ZhciBlO3JldHVybiB0JiZ0LnN0YXRlPyh0LnRvdGFsX2luPXQudG90YWxfb3V0PTAsdC5kYXRhX3R5cGU9MiwoZT10LnN0YXRlKS5wZW5kaW5nPTAsZS5wZW5kaW5nX291dD0wLGUud3JhcDwwJiYoZS53cmFwPS1lLndyYXApLGUuc3RhdHVzPWUud3JhcD80MjpkLHQuYWRsZXI9Mj09PWUud3JhcD8wOjEsZS5sYXN0X2ZsdXNoPTAsci5fdHJfaW5pdChlKSwwKTpmKHQsbCl9ZnVuY3Rpb24gUCh0KXt2YXIgZT1UKHQpO3JldHVybiAwPT09ZSYmZnVuY3Rpb24odCl7dC53aW5kb3dfc2l6ZT0yKnQud19zaXplLHAodC5oZWFkKSx0Lm1heF9sYXp5X21hdGNoPXNbdC5sZXZlbF0ubWF4X2xhenksdC5nb29kX21hdGNoPXNbdC5sZXZlbF0uZ29vZF9sZW5ndGgsdC5uaWNlX21hdGNoPXNbdC5sZXZlbF0ubmljZV9sZW5ndGgsdC5tYXhfY2hhaW5fbGVuZ3RoPXNbdC5sZXZlbF0ubWF4X2NoYWluLHQuc3Ryc3RhcnQ9MCx0LmJsb2NrX3N0YXJ0PTAsdC5sb29rYWhlYWQ9MCx0Lmluc2VydD0wLHQubWF0Y2hfbGVuZ3RoPXQucHJldl9sZW5ndGg9Mix0Lm1hdGNoX2F2YWlsYWJsZT0wLHQuaW5zX2g9MH0odC5zdGF0ZSksZX1mdW5jdGlvbiBMKHQsZSxpLHMscixvKXtpZighdClyZXR1cm4gbDt2YXIgYT0xO2lmKC0xPT09ZSYmKGU9NiksczwwPyhhPTAscz0tcyk6MTU8cyYmKGE9MixzLT0xNikscjwxfHw5PHJ8fDghPT1pfHxzPDh8fDE1PHN8fGU8MHx8OTxlfHxvPDB8fDQ8bylyZXR1cm4gZih0LGwpOzg9PT1zJiYocz05KTt2YXIgaD1uZXcgTTtyZXR1cm4odC5zdGF0ZT1oKS5zdHJtPXQsaC53cmFwPWEsaC5nemhlYWQ9bnVsbCxoLndfYml0cz1zLGgud19zaXplPTE8PGgud19iaXRzLGgud19tYXNrPWgud19zaXplLTEsaC5oYXNoX2JpdHM9cis3LGguaGFzaF9zaXplPTE8PGguaGFzaF9iaXRzLGguaGFzaF9tYXNrPWguaGFzaF9zaXplLTEsaC5oYXNoX3NoaWZ0PX5+KChoLmhhc2hfYml0cyszLTEpLzMpLGgud2luZG93PW5ldyBuLkJ1ZjgoMipoLndfc2l6ZSksaC5oZWFkPW5ldyBuLkJ1ZjE2KGguaGFzaF9zaXplKSxoLnByZXY9bmV3IG4uQnVmMTYoaC53X3NpemUpLGgubGl0X2J1ZnNpemU9MTw8cis2LGgucGVuZGluZ19idWZfc2l6ZT00KmgubGl0X2J1ZnNpemUsaC5wZW5kaW5nX2J1Zj1uZXcgbi5CdWY4KGgucGVuZGluZ19idWZfc2l6ZSksaC5kX2J1Zj0xKmgubGl0X2J1ZnNpemUsaC5sX2J1Zj0zKmgubGl0X2J1ZnNpemUsaC5sZXZlbD1lLGguc3RyYXRlZ3k9byxoLm1ldGhvZD1pLFAodCl9cz1bbmV3IHcoMCwwLDAsMCwoZnVuY3Rpb24odCxlKXt2YXIgaT02NTUzNTtmb3IoaT50LnBlbmRpbmdfYnVmX3NpemUtNSYmKGk9dC5wZW5kaW5nX2J1Zl9zaXplLTUpOzspe2lmKHQubG9va2FoZWFkPD0xKXtpZihFKHQpLDA9PT10Lmxvb2thaGVhZCYmMD09PWUpcmV0dXJuIDE7aWYoMD09PXQubG9va2FoZWFkKWJyZWFrfXQuc3Ryc3RhcnQrPXQubG9va2FoZWFkLHQubG9va2FoZWFkPTA7dmFyIHM9dC5ibG9ja19zdGFydCtpO2lmKCgwPT09dC5zdHJzdGFydHx8dC5zdHJzdGFydD49cykmJih0Lmxvb2thaGVhZD10LnN0cnN0YXJ0LXMsdC5zdHJzdGFydD1zLGIodCwhMSksMD09PXQuc3RybS5hdmFpbF9vdXQpKXJldHVybiAxO2lmKHQuc3Ryc3RhcnQtdC5ibG9ja19zdGFydD49dC53X3NpemUtdSYmKGIodCwhMSksMD09PXQuc3RybS5hdmFpbF9vdXQpKXJldHVybiAxfXJldHVybiB0Lmluc2VydD0wLDQ9PT1lPyhiKHQsITApLDA9PT10LnN0cm0uYXZhaWxfb3V0PzM6NCk6KHQuc3Ryc3RhcnQ+dC5ibG9ja19zdGFydCYmKGIodCwhMSksdC5zdHJtLmF2YWlsX291dCksMSl9KSksbmV3IHcoNCw0LDgsNCx2KSxuZXcgdyg0LDUsMTYsOCx2KSxuZXcgdyg0LDYsMzIsMzIsdiksbmV3IHcoNCw0LDE2LDE2LF8pLG5ldyB3KDgsMTYsMzIsMzIsXyksbmV3IHcoOCwxNiwxMjgsMTI4LF8pLG5ldyB3KDgsMzIsMTI4LDI1NixfKSxuZXcgdygzMiwxMjgsMjU4LDEwMjQsXyksbmV3IHcoMzIsMjU4LDI1OCw0MDk2LF8pXSxpLmRlZmxhdGVJbml0PWZ1bmN0aW9uKHQsZSl7cmV0dXJuIEwodCxlLDgsMTUsOCwwKX0saS5kZWZsYXRlSW5pdDI9TCxpLmRlZmxhdGVSZXNldD1QLGkuZGVmbGF0ZVJlc2V0S2VlcD1ULGkuZGVmbGF0ZVNldEhlYWRlcj1mdW5jdGlvbih0LGUpe3JldHVybiB0JiZ0LnN0YXRlPzIhPT10LnN0YXRlLndyYXA/bDoodC5zdGF0ZS5nemhlYWQ9ZSwwKTpsfSxpLmRlZmxhdGU9ZnVuY3Rpb24odCxlKXt2YXIgaSxuLG8saDtpZighdHx8IXQuc3RhdGV8fDU8ZXx8ZTwwKXJldHVybiB0P2YodCxsKTpsO2lmKG49dC5zdGF0ZSwhdC5vdXRwdXR8fCF0LmlucHV0JiYwIT09dC5hdmFpbF9pbnx8NjY2PT09bi5zdGF0dXMmJjQhPT1lKXJldHVybiBmKHQsMD09PXQuYXZhaWxfb3V0Py01OmwpO2lmKG4uc3RybT10LGk9bi5sYXN0X2ZsdXNoLG4ubGFzdF9mbHVzaD1lLDQyPT09bi5zdGF0dXMpaWYoMj09PW4ud3JhcCl0LmFkbGVyPTAsUyhuLDMxKSxTKG4sMTM5KSxTKG4sOCksbi5nemhlYWQ/KFMobiwobi5nemhlYWQudGV4dD8xOjApKyhuLmd6aGVhZC5oY3JjPzI6MCkrKG4uZ3poZWFkLmV4dHJhPzQ6MCkrKG4uZ3poZWFkLm5hbWU/ODowKSsobi5nemhlYWQuY29tbWVudD8xNjowKSksUyhuLDI1NSZuLmd6aGVhZC50aW1lKSxTKG4sbi5nemhlYWQudGltZT4+OCYyNTUpLFMobixuLmd6aGVhZC50aW1lPj4xNiYyNTUpLFMobixuLmd6aGVhZC50aW1lPj4yNCYyNTUpLFMobiw5PT09bi5sZXZlbD8yOjI8PW4uc3RyYXRlZ3l8fG4ubGV2ZWw8Mj80OjApLFMobiwyNTUmbi5nemhlYWQub3MpLG4uZ3poZWFkLmV4dHJhJiZuLmd6aGVhZC5leHRyYS5sZW5ndGgmJihTKG4sMjU1Jm4uZ3poZWFkLmV4dHJhLmxlbmd0aCksUyhuLG4uZ3poZWFkLmV4dHJhLmxlbmd0aD4+OCYyNTUpKSxuLmd6aGVhZC5oY3JjJiYodC5hZGxlcj1hKHQuYWRsZXIsbi5wZW5kaW5nX2J1ZixuLnBlbmRpbmcsMCkpLG4uZ3ppbmRleD0wLG4uc3RhdHVzPTY5KTooUyhuLDApLFMobiwwKSxTKG4sMCksUyhuLDApLFMobiwwKSxTKG4sOT09PW4ubGV2ZWw/MjoyPD1uLnN0cmF0ZWd5fHxuLmxldmVsPDI/NDowKSxTKG4sMyksbi5zdGF0dXM9ZCk7ZWxzZXt2YXIgdT04KyhuLndfYml0cy04PDw0KTw8ODt1fD0oMjw9bi5zdHJhdGVneXx8bi5sZXZlbDwyPzA6bi5sZXZlbDw2PzE6Nj09PW4ubGV2ZWw/MjozKTw8NiwwIT09bi5zdHJzdGFydCYmKHV8PTMyKSx1Kz0zMS11JTMxLG4uc3RhdHVzPWQseShuLHUpLDAhPT1uLnN0cnN0YXJ0JiYoeShuLHQuYWRsZXI+Pj4xNikseShuLDY1NTM1JnQuYWRsZXIpKSx0LmFkbGVyPTF9aWYoNjk9PT1uLnN0YXR1cylpZihuLmd6aGVhZC5leHRyYSl7Zm9yKG89bi5wZW5kaW5nO24uZ3ppbmRleDwoNjU1MzUmbi5nemhlYWQuZXh0cmEubGVuZ3RoKSYmKG4ucGVuZGluZyE9PW4ucGVuZGluZ19idWZfc2l6ZXx8KG4uZ3poZWFkLmhjcmMmJm4ucGVuZGluZz5vJiYodC5hZGxlcj1hKHQuYWRsZXIsbi5wZW5kaW5nX2J1ZixuLnBlbmRpbmctbyxvKSksZyh0KSxvPW4ucGVuZGluZyxuLnBlbmRpbmchPT1uLnBlbmRpbmdfYnVmX3NpemUpKTspUyhuLDI1NSZuLmd6aGVhZC5leHRyYVtuLmd6aW5kZXhdKSxuLmd6aW5kZXgrKztuLmd6aGVhZC5oY3JjJiZuLnBlbmRpbmc+byYmKHQuYWRsZXI9YSh0LmFkbGVyLG4ucGVuZGluZ19idWYsbi5wZW5kaW5nLW8sbykpLG4uZ3ppbmRleD09PW4uZ3poZWFkLmV4dHJhLmxlbmd0aCYmKG4uZ3ppbmRleD0wLG4uc3RhdHVzPTczKX1lbHNlIG4uc3RhdHVzPTczO2lmKDczPT09bi5zdGF0dXMpaWYobi5nemhlYWQubmFtZSl7bz1uLnBlbmRpbmc7ZG97aWYobi5wZW5kaW5nPT09bi5wZW5kaW5nX2J1Zl9zaXplJiYobi5nemhlYWQuaGNyYyYmbi5wZW5kaW5nPm8mJih0LmFkbGVyPWEodC5hZGxlcixuLnBlbmRpbmdfYnVmLG4ucGVuZGluZy1vLG8pKSxnKHQpLG89bi5wZW5kaW5nLG4ucGVuZGluZz09PW4ucGVuZGluZ19idWZfc2l6ZSkpe2g9MTticmVha31oPW4uZ3ppbmRleDxuLmd6aGVhZC5uYW1lLmxlbmd0aD8yNTUmbi5nemhlYWQubmFtZS5jaGFyQ29kZUF0KG4uZ3ppbmRleCsrKTowLFMobixoKX13aGlsZSgwIT09aCk7bi5nemhlYWQuaGNyYyYmbi5wZW5kaW5nPm8mJih0LmFkbGVyPWEodC5hZGxlcixuLnBlbmRpbmdfYnVmLG4ucGVuZGluZy1vLG8pKSwwPT09aCYmKG4uZ3ppbmRleD0wLG4uc3RhdHVzPTkxKX1lbHNlIG4uc3RhdHVzPTkxO2lmKDkxPT09bi5zdGF0dXMpaWYobi5nemhlYWQuY29tbWVudCl7bz1uLnBlbmRpbmc7ZG97aWYobi5wZW5kaW5nPT09bi5wZW5kaW5nX2J1Zl9zaXplJiYobi5nemhlYWQuaGNyYyYmbi5wZW5kaW5nPm8mJih0LmFkbGVyPWEodC5hZGxlcixuLnBlbmRpbmdfYnVmLG4ucGVuZGluZy1vLG8pKSxnKHQpLG89bi5wZW5kaW5nLG4ucGVuZGluZz09PW4ucGVuZGluZ19idWZfc2l6ZSkpe2g9MTticmVha31oPW4uZ3ppbmRleDxuLmd6aGVhZC5jb21tZW50Lmxlbmd0aD8yNTUmbi5nemhlYWQuY29tbWVudC5jaGFyQ29kZUF0KG4uZ3ppbmRleCsrKTowLFMobixoKX13aGlsZSgwIT09aCk7bi5nemhlYWQuaGNyYyYmbi5wZW5kaW5nPm8mJih0LmFkbGVyPWEodC5hZGxlcixuLnBlbmRpbmdfYnVmLG4ucGVuZGluZy1vLG8pKSwwPT09aCYmKG4uc3RhdHVzPTEwMyl9ZWxzZSBuLnN0YXR1cz0xMDM7aWYoMTAzPT09bi5zdGF0dXMmJihuLmd6aGVhZC5oY3JjPyhuLnBlbmRpbmcrMj5uLnBlbmRpbmdfYnVmX3NpemUmJmcodCksbi5wZW5kaW5nKzI8PW4ucGVuZGluZ19idWZfc2l6ZSYmKFMobiwyNTUmdC5hZGxlciksUyhuLHQuYWRsZXI+PjgmMjU1KSx0LmFkbGVyPTAsbi5zdGF0dXM9ZCkpOm4uc3RhdHVzPWQpLDAhPT1uLnBlbmRpbmcpe2lmKGcodCksMD09PXQuYXZhaWxfb3V0KXJldHVybiBuLmxhc3RfZmx1c2g9LTEsMH1lbHNlIGlmKDA9PT10LmF2YWlsX2luJiZtKGUpPD1tKGkpJiY0IT09ZSlyZXR1cm4gZih0LC01KTtpZig2NjY9PT1uLnN0YXR1cyYmMCE9PXQuYXZhaWxfaW4pcmV0dXJuIGYodCwtNSk7aWYoMCE9PXQuYXZhaWxfaW58fDAhPT1uLmxvb2thaGVhZHx8MCE9PWUmJjY2NiE9PW4uc3RhdHVzKXt2YXIgeD0yPT09bi5zdHJhdGVneT9mdW5jdGlvbih0LGUpe2Zvcih2YXIgaTs7KXtpZigwPT09dC5sb29rYWhlYWQmJihFKHQpLDA9PT10Lmxvb2thaGVhZCkpe2lmKDA9PT1lKXJldHVybiAxO2JyZWFrfWlmKHQubWF0Y2hfbGVuZ3RoPTAsaT1yLl90cl90YWxseSh0LDAsdC53aW5kb3dbdC5zdHJzdGFydF0pLHQubG9va2FoZWFkLS0sdC5zdHJzdGFydCsrLGkmJihiKHQsITEpLDA9PT10LnN0cm0uYXZhaWxfb3V0KSlyZXR1cm4gMX1yZXR1cm4gdC5pbnNlcnQ9MCw0PT09ZT8oYih0LCEwKSwwPT09dC5zdHJtLmF2YWlsX291dD8zOjQpOnQubGFzdF9saXQmJihiKHQsITEpLDA9PT10LnN0cm0uYXZhaWxfb3V0KT8xOjJ9KG4sZSk6Mz09PW4uc3RyYXRlZ3k/ZnVuY3Rpb24odCxlKXtmb3IodmFyIGkscyxuLG8sYT10LndpbmRvdzs7KXtpZih0Lmxvb2thaGVhZDw9Yyl7aWYoRSh0KSx0Lmxvb2thaGVhZDw9YyYmMD09PWUpcmV0dXJuIDE7aWYoMD09PXQubG9va2FoZWFkKWJyZWFrfWlmKHQubWF0Y2hfbGVuZ3RoPTAsdC5sb29rYWhlYWQ+PTMmJjA8dC5zdHJzdGFydCYmKHM9YVtuPXQuc3Ryc3RhcnQtMV0pPT09YVsrK25dJiZzPT09YVsrK25dJiZzPT09YVsrK25dKXtvPXQuc3Ryc3RhcnQrYztkb3t9d2hpbGUocz09PWFbKytuXSYmcz09PWFbKytuXSYmcz09PWFbKytuXSYmcz09PWFbKytuXSYmcz09PWFbKytuXSYmcz09PWFbKytuXSYmcz09PWFbKytuXSYmcz09PWFbKytuXSYmbjxvKTt0Lm1hdGNoX2xlbmd0aD1jLShvLW4pLHQubWF0Y2hfbGVuZ3RoPnQubG9va2FoZWFkJiYodC5tYXRjaF9sZW5ndGg9dC5sb29rYWhlYWQpfWlmKHQubWF0Y2hfbGVuZ3RoPj0zPyhpPXIuX3RyX3RhbGx5KHQsMSx0Lm1hdGNoX2xlbmd0aC0zKSx0Lmxvb2thaGVhZC09dC5tYXRjaF9sZW5ndGgsdC5zdHJzdGFydCs9dC5tYXRjaF9sZW5ndGgsdC5tYXRjaF9sZW5ndGg9MCk6KGk9ci5fdHJfdGFsbHkodCwwLHQud2luZG93W3Quc3Ryc3RhcnRdKSx0Lmxvb2thaGVhZC0tLHQuc3Ryc3RhcnQrKyksaSYmKGIodCwhMSksMD09PXQuc3RybS5hdmFpbF9vdXQpKXJldHVybiAxfXJldHVybiB0Lmluc2VydD0wLDQ9PT1lPyhiKHQsITApLDA9PT10LnN0cm0uYXZhaWxfb3V0PzM6NCk6dC5sYXN0X2xpdCYmKGIodCwhMSksMD09PXQuc3RybS5hdmFpbF9vdXQpPzE6Mn0obixlKTpzW24ubGV2ZWxdLmZ1bmMobixlKTtpZigzIT09eCYmNCE9PXh8fChuLnN0YXR1cz02NjYpLDE9PT14fHwzPT09eClyZXR1cm4gMD09PXQuYXZhaWxfb3V0JiYobi5sYXN0X2ZsdXNoPS0xKSwwO2lmKDI9PT14JiYoMT09PWU/ci5fdHJfYWxpZ24obik6NSE9PWUmJihyLl90cl9zdG9yZWRfYmxvY2sobiwwLDAsITEpLDM9PT1lJiYocChuLmhlYWQpLDA9PT1uLmxvb2thaGVhZCYmKG4uc3Ryc3RhcnQ9MCxuLmJsb2NrX3N0YXJ0PTAsbi5pbnNlcnQ9MCkpKSxnKHQpLDA9PT10LmF2YWlsX291dCkpcmV0dXJuIG4ubGFzdF9mbHVzaD0tMSwwfXJldHVybiA0IT09ZT8wOm4ud3JhcDw9MD8xOigyPT09bi53cmFwPyhTKG4sMjU1JnQuYWRsZXIpLFMobix0LmFkbGVyPj44JjI1NSksUyhuLHQuYWRsZXI+PjE2JjI1NSksUyhuLHQuYWRsZXI+PjI0JjI1NSksUyhuLDI1NSZ0LnRvdGFsX2luKSxTKG4sdC50b3RhbF9pbj4+OCYyNTUpLFMobix0LnRvdGFsX2luPj4xNiYyNTUpLFMobix0LnRvdGFsX2luPj4yNCYyNTUpKTooeShuLHQuYWRsZXI+Pj4xNikseShuLDY1NTM1JnQuYWRsZXIpKSxnKHQpLDA8bi53cmFwJiYobi53cmFwPS1uLndyYXApLDAhPT1uLnBlbmRpbmc/MDoxKX0saS5kZWZsYXRlRW5kPWZ1bmN0aW9uKHQpe3ZhciBlO3JldHVybiB0JiZ0LnN0YXRlPzQyIT09KGU9dC5zdGF0ZS5zdGF0dXMpJiY2OSE9PWUmJjczIT09ZSYmOTEhPT1lJiYxMDMhPT1lJiZlIT09ZCYmNjY2IT09ZT9mKHQsbCk6KHQuc3RhdGU9bnVsbCxlPT09ZD9mKHQsLTMpOjApOmx9LGkuZGVmbGF0ZVNldERpY3Rpb25hcnk9ZnVuY3Rpb24odCxlKXt2YXIgaSxzLHIsYSxoLGMsdSxkLGY9ZS5sZW5ndGg7aWYoIXR8fCF0LnN0YXRlKXJldHVybiBsO2lmKDI9PT0oYT0oaT10LnN0YXRlKS53cmFwKXx8MT09PWEmJjQyIT09aS5zdGF0dXN8fGkubG9va2FoZWFkKXJldHVybiBsO2ZvcigxPT09YSYmKHQuYWRsZXI9byh0LmFkbGVyLGUsZiwwKSksaS53cmFwPTAsZj49aS53X3NpemUmJigwPT09YSYmKHAoaS5oZWFkKSxpLnN0cnN0YXJ0PTAsaS5ibG9ja19zdGFydD0wLGkuaW5zZXJ0PTApLGQ9bmV3IG4uQnVmOChpLndfc2l6ZSksbi5hcnJheVNldChkLGUsZi1pLndfc2l6ZSxpLndfc2l6ZSwwKSxlPWQsZj1pLndfc2l6ZSksaD10LmF2YWlsX2luLGM9dC5uZXh0X2luLHU9dC5pbnB1dCx0LmF2YWlsX2luPWYsdC5uZXh0X2luPTAsdC5pbnB1dD1lLEUoaSk7aS5sb29rYWhlYWQ+PTM7KXtmb3Iocz1pLnN0cnN0YXJ0LHI9aS5sb29rYWhlYWQtMjtpLmluc19oPShpLmluc19oPDxpLmhhc2hfc2hpZnReaS53aW5kb3dbcyszLTFdKSZpLmhhc2hfbWFzayxpLnByZXZbcyZpLndfbWFza109aS5oZWFkW2kuaW5zX2hdLGkuaGVhZFtpLmluc19oXT1zLHMrKywtLXI7KTtpLnN0cnN0YXJ0PXMsaS5sb29rYWhlYWQ9MixFKGkpfXJldHVybiBpLnN0cnN0YXJ0Kz1pLmxvb2thaGVhZCxpLmJsb2NrX3N0YXJ0PWkuc3Ryc3RhcnQsaS5pbnNlcnQ9aS5sb29rYWhlYWQsaS5sb29rYWhlYWQ9MCxpLm1hdGNoX2xlbmd0aD1pLnByZXZfbGVuZ3RoPTIsaS5tYXRjaF9hdmFpbGFibGU9MCx0Lm5leHRfaW49Yyx0LmlucHV0PXUsdC5hdmFpbF9pbj1oLGkud3JhcD1hLDB9LGkuZGVmbGF0ZUluZm89XCJwYWtvIGRlZmxhdGUgKGZyb20gTm9kZWNhIHByb2plY3QpXCJ9LHtcIi4uL3V0aWxzL2NvbW1vblwiOjQxLFwiLi9hZGxlcjMyXCI6NDMsXCIuL2NyYzMyXCI6NDUsXCIuL21lc3NhZ2VzXCI6NTEsXCIuL3RyZWVzXCI6NTJ9XSw0NzpbZnVuY3Rpb24odCxlLGkpe1widXNlIHN0cmljdFwiO2UuZXhwb3J0cz1mdW5jdGlvbigpe3RoaXMudGV4dD0wLHRoaXMudGltZT0wLHRoaXMueGZsYWdzPTAsdGhpcy5vcz0wLHRoaXMuZXh0cmE9bnVsbCx0aGlzLmV4dHJhX2xlbj0wLHRoaXMubmFtZT1cIlwiLHRoaXMuY29tbWVudD1cIlwiLHRoaXMuaGNyYz0wLHRoaXMuZG9uZT0hMX19LHt9XSw0ODpbZnVuY3Rpb24odCxlLGkpe1widXNlIHN0cmljdFwiO2UuZXhwb3J0cz1mdW5jdGlvbih0LGUpe3ZhciBpLHMsbixyLG8sYSxoLGwsYyx1LGQsZixtLHAsZyxiLFMseSx4LEUsdixfLHcsTSxUO2k9dC5zdGF0ZSxzPXQubmV4dF9pbixNPXQuaW5wdXQsbj1zKyh0LmF2YWlsX2luLTUpLHI9dC5uZXh0X291dCxUPXQub3V0cHV0LG89ci0oZS10LmF2YWlsX291dCksYT1yKyh0LmF2YWlsX291dC0yNTcpLGg9aS5kbWF4LGw9aS53c2l6ZSxjPWkud2hhdmUsdT1pLnduZXh0LGQ9aS53aW5kb3csZj1pLmhvbGQsbT1pLmJpdHMscD1pLmxlbmNvZGUsZz1pLmRpc3Rjb2RlLGI9KDE8PGkubGVuYml0cyktMSxTPSgxPDxpLmRpc3RiaXRzKS0xO3Q6ZG97bTwxNSYmKGYrPU1bcysrXTw8bSxtKz04LGYrPU1bcysrXTw8bSxtKz04KSx5PXBbZiZiXTtlOmZvcig7Oyl7aWYoZj4+Pj14PXk+Pj4yNCxtLT14LDA9PSh4PXk+Pj4xNiYyNTUpKVRbcisrXT02NTUzNSZ5O2Vsc2V7aWYoISgxNiZ4KSl7aWYoMD09KDY0JngpKXt5PXBbKDY1NTM1JnkpKyhmJigxPDx4KS0xKV07Y29udGludWUgZX1pZigzMiZ4KXtpLm1vZGU9MTI7YnJlYWsgdH10Lm1zZz1cImludmFsaWQgbGl0ZXJhbC9sZW5ndGggY29kZVwiLGkubW9kZT0zMDticmVhayB0fUU9NjU1MzUmeSwoeCY9MTUpJiYobTx4JiYoZis9TVtzKytdPDxtLG0rPTgpLEUrPWYmKDE8PHgpLTEsZj4+Pj14LG0tPXgpLG08MTUmJihmKz1NW3MrK108PG0sbSs9OCxmKz1NW3MrK108PG0sbSs9OCkseT1nW2YmU107aTpmb3IoOzspe2lmKGY+Pj49eD15Pj4+MjQsbS09eCwhKDE2Jih4PXk+Pj4xNiYyNTUpKSl7aWYoMD09KDY0JngpKXt5PWdbKDY1NTM1JnkpKyhmJigxPDx4KS0xKV07Y29udGludWUgaX10Lm1zZz1cImludmFsaWQgZGlzdGFuY2UgY29kZVwiLGkubW9kZT0zMDticmVhayB0fWlmKHY9NjU1MzUmeSxtPCh4Jj0xNSkmJihmKz1NW3MrK108PG0sKG0rPTgpPHgmJihmKz1NW3MrK108PG0sbSs9OCkpLGg8KHYrPWYmKDE8PHgpLTEpKXt0Lm1zZz1cImludmFsaWQgZGlzdGFuY2UgdG9vIGZhciBiYWNrXCIsaS5tb2RlPTMwO2JyZWFrIHR9aWYoZj4+Pj14LG0tPXgsKHg9ci1vKTx2KXtpZihjPCh4PXYteCkmJmkuc2FuZSl7dC5tc2c9XCJpbnZhbGlkIGRpc3RhbmNlIHRvbyBmYXIgYmFja1wiLGkubW9kZT0zMDticmVhayB0fWlmKHc9ZCwoXz0wKT09PXUpe2lmKF8rPWwteCx4PEUpe2ZvcihFLT14O1RbcisrXT1kW18rK10sLS14Oyk7Xz1yLXYsdz1UfX1lbHNlIGlmKHU8eCl7aWYoXys9bCt1LXgsKHgtPXUpPEUpe2ZvcihFLT14O1RbcisrXT1kW18rK10sLS14Oyk7aWYoXz0wLHU8RSl7Zm9yKEUtPXg9dTtUW3IrK109ZFtfKytdLC0teDspO189ci12LHc9VH19fWVsc2UgaWYoXys9dS14LHg8RSl7Zm9yKEUtPXg7VFtyKytdPWRbXysrXSwtLXg7KTtfPXItdix3PVR9Zm9yKDsyPEU7KVRbcisrXT13W18rK10sVFtyKytdPXdbXysrXSxUW3IrK109d1tfKytdLEUtPTM7RSYmKFRbcisrXT13W18rK10sMTxFJiYoVFtyKytdPXdbXysrXSkpfWVsc2V7Zm9yKF89ci12O1RbcisrXT1UW18rK10sVFtyKytdPVRbXysrXSxUW3IrK109VFtfKytdLDI8KEUtPTMpOyk7RSYmKFRbcisrXT1UW18rK10sMTxFJiYoVFtyKytdPVRbXysrXSkpfWJyZWFrfX1icmVha319d2hpbGUoczxuJiZyPGEpO3MtPUU9bT4+MyxmJj0oMTw8KG0tPUU8PDMpKS0xLHQubmV4dF9pbj1zLHQubmV4dF9vdXQ9cix0LmF2YWlsX2luPXM8bj9uLXMrNTo1LShzLW4pLHQuYXZhaWxfb3V0PXI8YT9hLXIrMjU3OjI1Ny0oci1hKSxpLmhvbGQ9ZixpLmJpdHM9bX19LHt9XSw0OTpbZnVuY3Rpb24odCxlLGkpe1widXNlIHN0cmljdFwiO3ZhciBzPXQoXCIuLi91dGlscy9jb21tb25cIiksbj10KFwiLi9hZGxlcjMyXCIpLHI9dChcIi4vY3JjMzJcIiksbz10KFwiLi9pbmZmYXN0XCIpLGE9dChcIi4vaW5mdHJlZXNcIiksaD0tMjtmdW5jdGlvbiBsKHQpe3JldHVybih0Pj4+MjQmMjU1KSsodD4+PjgmNjUyODApKygoNjUyODAmdCk8PDgpKygoMjU1JnQpPDwyNCl9ZnVuY3Rpb24gYygpe3RoaXMubW9kZT0wLHRoaXMubGFzdD0hMSx0aGlzLndyYXA9MCx0aGlzLmhhdmVkaWN0PSExLHRoaXMuZmxhZ3M9MCx0aGlzLmRtYXg9MCx0aGlzLmNoZWNrPTAsdGhpcy50b3RhbD0wLHRoaXMuaGVhZD1udWxsLHRoaXMud2JpdHM9MCx0aGlzLndzaXplPTAsdGhpcy53aGF2ZT0wLHRoaXMud25leHQ9MCx0aGlzLndpbmRvdz1udWxsLHRoaXMuaG9sZD0wLHRoaXMuYml0cz0wLHRoaXMubGVuZ3RoPTAsdGhpcy5vZmZzZXQ9MCx0aGlzLmV4dHJhPTAsdGhpcy5sZW5jb2RlPW51bGwsdGhpcy5kaXN0Y29kZT1udWxsLHRoaXMubGVuYml0cz0wLHRoaXMuZGlzdGJpdHM9MCx0aGlzLm5jb2RlPTAsdGhpcy5ubGVuPTAsdGhpcy5uZGlzdD0wLHRoaXMuaGF2ZT0wLHRoaXMubmV4dD1udWxsLHRoaXMubGVucz1uZXcgcy5CdWYxNigzMjApLHRoaXMud29yaz1uZXcgcy5CdWYxNigyODgpLHRoaXMubGVuZHluPW51bGwsdGhpcy5kaXN0ZHluPW51bGwsdGhpcy5zYW5lPTAsdGhpcy5iYWNrPTAsdGhpcy53YXM9MH1mdW5jdGlvbiB1KHQpe3ZhciBlO3JldHVybiB0JiZ0LnN0YXRlPyhlPXQuc3RhdGUsdC50b3RhbF9pbj10LnRvdGFsX291dD1lLnRvdGFsPTAsdC5tc2c9XCJcIixlLndyYXAmJih0LmFkbGVyPTEmZS53cmFwKSxlLm1vZGU9MSxlLmxhc3Q9MCxlLmhhdmVkaWN0PTAsZS5kbWF4PTMyNzY4LGUuaGVhZD1udWxsLGUuaG9sZD0wLGUuYml0cz0wLGUubGVuY29kZT1lLmxlbmR5bj1uZXcgcy5CdWYzMig4NTIpLGUuZGlzdGNvZGU9ZS5kaXN0ZHluPW5ldyBzLkJ1ZjMyKDU5MiksZS5zYW5lPTEsZS5iYWNrPS0xLDApOmh9ZnVuY3Rpb24gZCh0KXt2YXIgZTtyZXR1cm4gdCYmdC5zdGF0ZT8oKGU9dC5zdGF0ZSkud3NpemU9MCxlLndoYXZlPTAsZS53bmV4dD0wLHUodCkpOmh9ZnVuY3Rpb24gZih0LGUpe3ZhciBpLHM7cmV0dXJuIHQmJnQuc3RhdGU/KHM9dC5zdGF0ZSxlPDA/KGk9MCxlPS1lKTooaT0xKyhlPj40KSxlPDQ4JiYoZSY9MTUpKSxlJiYoZTw4fHwxNTxlKT9oOihudWxsIT09cy53aW5kb3cmJnMud2JpdHMhPT1lJiYocy53aW5kb3c9bnVsbCkscy53cmFwPWkscy53Yml0cz1lLGQodCkpKTpofWZ1bmN0aW9uIG0odCxlKXt2YXIgaSxzO3JldHVybiB0PyhzPW5ldyBjLCh0LnN0YXRlPXMpLndpbmRvdz1udWxsLDAhPT0oaT1mKHQsZSkpJiYodC5zdGF0ZT1udWxsKSxpKTpofXZhciBwLGcsYj0hMDtmdW5jdGlvbiBTKHQpe2lmKGIpe3ZhciBlO2ZvcihwPW5ldyBzLkJ1ZjMyKDUxMiksZz1uZXcgcy5CdWYzMigzMiksZT0wO2U8MTQ0Oyl0LmxlbnNbZSsrXT04O2Zvcig7ZTwyNTY7KXQubGVuc1tlKytdPTk7Zm9yKDtlPDI4MDspdC5sZW5zW2UrK109Nztmb3IoO2U8Mjg4Oyl0LmxlbnNbZSsrXT04O2ZvcihhKDEsdC5sZW5zLDAsMjg4LHAsMCx0Lndvcmsse2JpdHM6OX0pLGU9MDtlPDMyOyl0LmxlbnNbZSsrXT01O2EoMix0LmxlbnMsMCwzMixnLDAsdC53b3JrLHtiaXRzOjV9KSxiPSExfXQubGVuY29kZT1wLHQubGVuYml0cz05LHQuZGlzdGNvZGU9Zyx0LmRpc3RiaXRzPTV9ZnVuY3Rpb24geSh0LGUsaSxuKXt2YXIgcixvPXQuc3RhdGU7cmV0dXJuIG51bGw9PT1vLndpbmRvdyYmKG8ud3NpemU9MTw8by53Yml0cyxvLnduZXh0PTAsby53aGF2ZT0wLG8ud2luZG93PW5ldyBzLkJ1Zjgoby53c2l6ZSkpLG4+PW8ud3NpemU/KHMuYXJyYXlTZXQoby53aW5kb3csZSxpLW8ud3NpemUsby53c2l6ZSwwKSxvLnduZXh0PTAsby53aGF2ZT1vLndzaXplKToobjwocj1vLndzaXplLW8ud25leHQpJiYocj1uKSxzLmFycmF5U2V0KG8ud2luZG93LGUsaS1uLHIsby53bmV4dCksKG4tPXIpPyhzLmFycmF5U2V0KG8ud2luZG93LGUsaS1uLG4sMCksby53bmV4dD1uLG8ud2hhdmU9by53c2l6ZSk6KG8ud25leHQrPXIsby53bmV4dD09PW8ud3NpemUmJihvLnduZXh0PTApLG8ud2hhdmU8by53c2l6ZSYmKG8ud2hhdmUrPXIpKSksMH1pLmluZmxhdGVSZXNldD1kLGkuaW5mbGF0ZVJlc2V0Mj1mLGkuaW5mbGF0ZVJlc2V0S2VlcD11LGkuaW5mbGF0ZUluaXQ9ZnVuY3Rpb24odCl7cmV0dXJuIG0odCwxNSl9LGkuaW5mbGF0ZUluaXQyPW0saS5pbmZsYXRlPWZ1bmN0aW9uKHQsZSl7dmFyIGksYyx1LGQsZixtLHAsZyxiLHgsRSx2LF8sdyxNLFQsUCxMLEEsSSxDLFIsTixCLEY9MCxEPW5ldyBzLkJ1ZjgoNCksaz1bMTYsMTcsMTgsMCw4LDcsOSw2LDEwLDUsMTEsNCwxMiwzLDEzLDIsMTQsMSwxNV07aWYoIXR8fCF0LnN0YXRlfHwhdC5vdXRwdXR8fCF0LmlucHV0JiYwIT09dC5hdmFpbF9pbilyZXR1cm4gaDsxMj09PShpPXQuc3RhdGUpLm1vZGUmJihpLm1vZGU9MTMpLGY9dC5uZXh0X291dCx1PXQub3V0cHV0LHA9dC5hdmFpbF9vdXQsZD10Lm5leHRfaW4sYz10LmlucHV0LG09dC5hdmFpbF9pbixnPWkuaG9sZCxiPWkuYml0cyx4PW0sRT1wLFI9MDt0OmZvcig7Oylzd2l0Y2goaS5tb2RlKXtjYXNlIDE6aWYoMD09PWkud3JhcCl7aS5tb2RlPTEzO2JyZWFrfWZvcig7YjwxNjspe2lmKDA9PT1tKWJyZWFrIHQ7bS0tLGcrPWNbZCsrXTw8YixiKz04fWlmKDImaS53cmFwJiYzNTYxNT09PWcpe0RbaS5jaGVjaz0wXT0yNTUmZyxEWzFdPWc+Pj44JjI1NSxpLmNoZWNrPXIoaS5jaGVjayxELDIsMCksYj1nPTAsaS5tb2RlPTI7YnJlYWt9aWYoaS5mbGFncz0wLGkuaGVhZCYmKGkuaGVhZC5kb25lPSExKSwhKDEmaS53cmFwKXx8KCgoMjU1JmcpPDw4KSsoZz4+OCkpJTMxKXt0Lm1zZz1cImluY29ycmVjdCBoZWFkZXIgY2hlY2tcIixpLm1vZGU9MzA7YnJlYWt9aWYoOCE9KDE1JmcpKXt0Lm1zZz1cInVua25vd24gY29tcHJlc3Npb24gbWV0aG9kXCIsaS5tb2RlPTMwO2JyZWFrfWlmKGItPTQsQz04KygxNSYoZz4+Pj00KSksMD09PWkud2JpdHMpaS53Yml0cz1DO2Vsc2UgaWYoQz5pLndiaXRzKXt0Lm1zZz1cImludmFsaWQgd2luZG93IHNpemVcIixpLm1vZGU9MzA7YnJlYWt9aS5kbWF4PTE8PEMsdC5hZGxlcj1pLmNoZWNrPTEsaS5tb2RlPTUxMiZnPzEwOjEyLGI9Zz0wO2JyZWFrO2Nhc2UgMjpmb3IoO2I8MTY7KXtpZigwPT09bSlicmVhayB0O20tLSxnKz1jW2QrK108PGIsYis9OH1pZihpLmZsYWdzPWcsOCE9KDI1NSZpLmZsYWdzKSl7dC5tc2c9XCJ1bmtub3duIGNvbXByZXNzaW9uIG1ldGhvZFwiLGkubW9kZT0zMDticmVha31pZig1NzM0NCZpLmZsYWdzKXt0Lm1zZz1cInVua25vd24gaGVhZGVyIGZsYWdzIHNldFwiLGkubW9kZT0zMDticmVha31pLmhlYWQmJihpLmhlYWQudGV4dD1nPj44JjEpLDUxMiZpLmZsYWdzJiYoRFswXT0yNTUmZyxEWzFdPWc+Pj44JjI1NSxpLmNoZWNrPXIoaS5jaGVjayxELDIsMCkpLGI9Zz0wLGkubW9kZT0zO2Nhc2UgMzpmb3IoO2I8MzI7KXtpZigwPT09bSlicmVhayB0O20tLSxnKz1jW2QrK108PGIsYis9OH1pLmhlYWQmJihpLmhlYWQudGltZT1nKSw1MTImaS5mbGFncyYmKERbMF09MjU1JmcsRFsxXT1nPj4+OCYyNTUsRFsyXT1nPj4+MTYmMjU1LERbM109Zz4+PjI0JjI1NSxpLmNoZWNrPXIoaS5jaGVjayxELDQsMCkpLGI9Zz0wLGkubW9kZT00O2Nhc2UgNDpmb3IoO2I8MTY7KXtpZigwPT09bSlicmVhayB0O20tLSxnKz1jW2QrK108PGIsYis9OH1pLmhlYWQmJihpLmhlYWQueGZsYWdzPTI1NSZnLGkuaGVhZC5vcz1nPj44KSw1MTImaS5mbGFncyYmKERbMF09MjU1JmcsRFsxXT1nPj4+OCYyNTUsaS5jaGVjaz1yKGkuY2hlY2ssRCwyLDApKSxiPWc9MCxpLm1vZGU9NTtjYXNlIDU6aWYoMTAyNCZpLmZsYWdzKXtmb3IoO2I8MTY7KXtpZigwPT09bSlicmVhayB0O20tLSxnKz1jW2QrK108PGIsYis9OH1pLmxlbmd0aD1nLGkuaGVhZCYmKGkuaGVhZC5leHRyYV9sZW49ZyksNTEyJmkuZmxhZ3MmJihEWzBdPTI1NSZnLERbMV09Zz4+PjgmMjU1LGkuY2hlY2s9cihpLmNoZWNrLEQsMiwwKSksYj1nPTB9ZWxzZSBpLmhlYWQmJihpLmhlYWQuZXh0cmE9bnVsbCk7aS5tb2RlPTY7Y2FzZSA2OmlmKDEwMjQmaS5mbGFncyYmKG08KHY9aS5sZW5ndGgpJiYodj1tKSx2JiYoaS5oZWFkJiYoQz1pLmhlYWQuZXh0cmFfbGVuLWkubGVuZ3RoLGkuaGVhZC5leHRyYXx8KGkuaGVhZC5leHRyYT1uZXcgQXJyYXkoaS5oZWFkLmV4dHJhX2xlbikpLHMuYXJyYXlTZXQoaS5oZWFkLmV4dHJhLGMsZCx2LEMpKSw1MTImaS5mbGFncyYmKGkuY2hlY2s9cihpLmNoZWNrLGMsdixkKSksbS09dixkKz12LGkubGVuZ3RoLT12KSxpLmxlbmd0aCkpYnJlYWsgdDtpLmxlbmd0aD0wLGkubW9kZT03O2Nhc2UgNzppZigyMDQ4JmkuZmxhZ3Mpe2lmKDA9PT1tKWJyZWFrIHQ7Zm9yKHY9MDtDPWNbZCt2KytdLGkuaGVhZCYmQyYmaS5sZW5ndGg8NjU1MzYmJihpLmhlYWQubmFtZSs9U3RyaW5nLmZyb21DaGFyQ29kZShDKSksQyYmdjxtOyk7aWYoNTEyJmkuZmxhZ3MmJihpLmNoZWNrPXIoaS5jaGVjayxjLHYsZCkpLG0tPXYsZCs9dixDKWJyZWFrIHR9ZWxzZSBpLmhlYWQmJihpLmhlYWQubmFtZT1udWxsKTtpLmxlbmd0aD0wLGkubW9kZT04O2Nhc2UgODppZig0MDk2JmkuZmxhZ3Mpe2lmKDA9PT1tKWJyZWFrIHQ7Zm9yKHY9MDtDPWNbZCt2KytdLGkuaGVhZCYmQyYmaS5sZW5ndGg8NjU1MzYmJihpLmhlYWQuY29tbWVudCs9U3RyaW5nLmZyb21DaGFyQ29kZShDKSksQyYmdjxtOyk7aWYoNTEyJmkuZmxhZ3MmJihpLmNoZWNrPXIoaS5jaGVjayxjLHYsZCkpLG0tPXYsZCs9dixDKWJyZWFrIHR9ZWxzZSBpLmhlYWQmJihpLmhlYWQuY29tbWVudD1udWxsKTtpLm1vZGU9OTtjYXNlIDk6aWYoNTEyJmkuZmxhZ3Mpe2Zvcig7YjwxNjspe2lmKDA9PT1tKWJyZWFrIHQ7bS0tLGcrPWNbZCsrXTw8YixiKz04fWlmKGchPT0oNjU1MzUmaS5jaGVjaykpe3QubXNnPVwiaGVhZGVyIGNyYyBtaXNtYXRjaFwiLGkubW9kZT0zMDticmVha31iPWc9MH1pLmhlYWQmJihpLmhlYWQuaGNyYz1pLmZsYWdzPj45JjEsaS5oZWFkLmRvbmU9ITApLHQuYWRsZXI9aS5jaGVjaz0wLGkubW9kZT0xMjticmVhaztjYXNlIDEwOmZvcig7YjwzMjspe2lmKDA9PT1tKWJyZWFrIHQ7bS0tLGcrPWNbZCsrXTw8YixiKz04fXQuYWRsZXI9aS5jaGVjaz1sKGcpLGI9Zz0wLGkubW9kZT0xMTtjYXNlIDExOmlmKDA9PT1pLmhhdmVkaWN0KXJldHVybiB0Lm5leHRfb3V0PWYsdC5hdmFpbF9vdXQ9cCx0Lm5leHRfaW49ZCx0LmF2YWlsX2luPW0saS5ob2xkPWcsaS5iaXRzPWIsMjt0LmFkbGVyPWkuY2hlY2s9MSxpLm1vZGU9MTI7Y2FzZSAxMjppZig1PT09ZXx8Nj09PWUpYnJlYWsgdDtjYXNlIDEzOmlmKGkubGFzdCl7Zz4+Pj03JmIsYi09NyZiLGkubW9kZT0yNzticmVha31mb3IoO2I8Mzspe2lmKDA9PT1tKWJyZWFrIHQ7bS0tLGcrPWNbZCsrXTw8YixiKz04fXN3aXRjaChpLmxhc3Q9MSZnLGItPTEsMyYoZz4+Pj0xKSl7Y2FzZSAwOmkubW9kZT0xNDticmVhaztjYXNlIDE6aWYoUyhpKSxpLm1vZGU9MjAsNiE9PWUpYnJlYWs7Zz4+Pj0yLGItPTI7YnJlYWsgdDtjYXNlIDI6aS5tb2RlPTE3O2JyZWFrO2Nhc2UgMzp0Lm1zZz1cImludmFsaWQgYmxvY2sgdHlwZVwiLGkubW9kZT0zMH1nPj4+PTIsYi09MjticmVhaztjYXNlIDE0OmZvcihnPj4+PTcmYixiLT03JmI7YjwzMjspe2lmKDA9PT1tKWJyZWFrIHQ7bS0tLGcrPWNbZCsrXTw8YixiKz04fWlmKCg2NTUzNSZnKSE9KGc+Pj4xNl42NTUzNSkpe3QubXNnPVwiaW52YWxpZCBzdG9yZWQgYmxvY2sgbGVuZ3Roc1wiLGkubW9kZT0zMDticmVha31pZihpLmxlbmd0aD02NTUzNSZnLGI9Zz0wLGkubW9kZT0xNSw2PT09ZSlicmVhayB0O2Nhc2UgMTU6aS5tb2RlPTE2O2Nhc2UgMTY6aWYodj1pLmxlbmd0aCl7aWYobTx2JiYodj1tKSxwPHYmJih2PXApLDA9PT12KWJyZWFrIHQ7cy5hcnJheVNldCh1LGMsZCx2LGYpLG0tPXYsZCs9dixwLT12LGYrPXYsaS5sZW5ndGgtPXY7YnJlYWt9aS5tb2RlPTEyO2JyZWFrO2Nhc2UgMTc6Zm9yKDtiPDE0Oyl7aWYoMD09PW0pYnJlYWsgdDttLS0sZys9Y1tkKytdPDxiLGIrPTh9aWYoaS5ubGVuPTI1NysoMzEmZyksZz4+Pj01LGItPTUsaS5uZGlzdD0xKygzMSZnKSxnPj4+PTUsYi09NSxpLm5jb2RlPTQrKDE1JmcpLGc+Pj49NCxiLT00LDI4NjxpLm5sZW58fDMwPGkubmRpc3Qpe3QubXNnPVwidG9vIG1hbnkgbGVuZ3RoIG9yIGRpc3RhbmNlIHN5bWJvbHNcIixpLm1vZGU9MzA7YnJlYWt9aS5oYXZlPTAsaS5tb2RlPTE4O2Nhc2UgMTg6Zm9yKDtpLmhhdmU8aS5uY29kZTspe2Zvcig7YjwzOyl7aWYoMD09PW0pYnJlYWsgdDttLS0sZys9Y1tkKytdPDxiLGIrPTh9aS5sZW5zW2tbaS5oYXZlKytdXT03JmcsZz4+Pj0zLGItPTN9Zm9yKDtpLmhhdmU8MTk7KWkubGVuc1trW2kuaGF2ZSsrXV09MDtpZihpLmxlbmNvZGU9aS5sZW5keW4saS5sZW5iaXRzPTcsTj17Yml0czppLmxlbmJpdHN9LFI9YSgwLGkubGVucywwLDE5LGkubGVuY29kZSwwLGkud29yayxOKSxpLmxlbmJpdHM9Ti5iaXRzLFIpe3QubXNnPVwiaW52YWxpZCBjb2RlIGxlbmd0aHMgc2V0XCIsaS5tb2RlPTMwO2JyZWFrfWkuaGF2ZT0wLGkubW9kZT0xOTtjYXNlIDE5OmZvcig7aS5oYXZlPGkubmxlbitpLm5kaXN0Oyl7Zm9yKDtUPShGPWkubGVuY29kZVtnJigxPDxpLmxlbmJpdHMpLTFdKT4+PjE2JjI1NSxQPTY1NTM1JkYsISgoTT1GPj4+MjQpPD1iKTspe2lmKDA9PT1tKWJyZWFrIHQ7bS0tLGcrPWNbZCsrXTw8YixiKz04fWlmKFA8MTYpZz4+Pj1NLGItPU0saS5sZW5zW2kuaGF2ZSsrXT1QO2Vsc2V7aWYoMTY9PT1QKXtmb3IoQj1NKzI7YjxCOyl7aWYoMD09PW0pYnJlYWsgdDttLS0sZys9Y1tkKytdPDxiLGIrPTh9aWYoZz4+Pj1NLGItPU0sMD09PWkuaGF2ZSl7dC5tc2c9XCJpbnZhbGlkIGJpdCBsZW5ndGggcmVwZWF0XCIsaS5tb2RlPTMwO2JyZWFrfUM9aS5sZW5zW2kuaGF2ZS0xXSx2PTMrKDMmZyksZz4+Pj0yLGItPTJ9ZWxzZSBpZigxNz09PVApe2ZvcihCPU0rMztiPEI7KXtpZigwPT09bSlicmVhayB0O20tLSxnKz1jW2QrK108PGIsYis9OH1iLT1NLEM9MCx2PTMrKDcmKGc+Pj49TSkpLGc+Pj49MyxiLT0zfWVsc2V7Zm9yKEI9TSs3O2I8Qjspe2lmKDA9PT1tKWJyZWFrIHQ7bS0tLGcrPWNbZCsrXTw8YixiKz04fWItPU0sQz0wLHY9MTErKDEyNyYoZz4+Pj1NKSksZz4+Pj03LGItPTd9aWYoaS5oYXZlK3Y+aS5ubGVuK2kubmRpc3Qpe3QubXNnPVwiaW52YWxpZCBiaXQgbGVuZ3RoIHJlcGVhdFwiLGkubW9kZT0zMDticmVha31mb3IoO3YtLTspaS5sZW5zW2kuaGF2ZSsrXT1DfX1pZigzMD09PWkubW9kZSlicmVhaztpZigwPT09aS5sZW5zWzI1Nl0pe3QubXNnPVwiaW52YWxpZCBjb2RlIC0tIG1pc3NpbmcgZW5kLW9mLWJsb2NrXCIsaS5tb2RlPTMwO2JyZWFrfWlmKGkubGVuYml0cz05LE49e2JpdHM6aS5sZW5iaXRzfSxSPWEoMSxpLmxlbnMsMCxpLm5sZW4saS5sZW5jb2RlLDAsaS53b3JrLE4pLGkubGVuYml0cz1OLmJpdHMsUil7dC5tc2c9XCJpbnZhbGlkIGxpdGVyYWwvbGVuZ3RocyBzZXRcIixpLm1vZGU9MzA7YnJlYWt9aWYoaS5kaXN0Yml0cz02LGkuZGlzdGNvZGU9aS5kaXN0ZHluLE49e2JpdHM6aS5kaXN0Yml0c30sUj1hKDIsaS5sZW5zLGkubmxlbixpLm5kaXN0LGkuZGlzdGNvZGUsMCxpLndvcmssTiksaS5kaXN0Yml0cz1OLmJpdHMsUil7dC5tc2c9XCJpbnZhbGlkIGRpc3RhbmNlcyBzZXRcIixpLm1vZGU9MzA7YnJlYWt9aWYoaS5tb2RlPTIwLDY9PT1lKWJyZWFrIHQ7Y2FzZSAyMDppLm1vZGU9MjE7Y2FzZSAyMTppZig2PD1tJiYyNTg8PXApe3QubmV4dF9vdXQ9Zix0LmF2YWlsX291dD1wLHQubmV4dF9pbj1kLHQuYXZhaWxfaW49bSxpLmhvbGQ9ZyxpLmJpdHM9YixvKHQsRSksZj10Lm5leHRfb3V0LHU9dC5vdXRwdXQscD10LmF2YWlsX291dCxkPXQubmV4dF9pbixjPXQuaW5wdXQsbT10LmF2YWlsX2luLGc9aS5ob2xkLGI9aS5iaXRzLDEyPT09aS5tb2RlJiYoaS5iYWNrPS0xKTticmVha31mb3IoaS5iYWNrPTA7VD0oRj1pLmxlbmNvZGVbZyYoMTw8aS5sZW5iaXRzKS0xXSk+Pj4xNiYyNTUsUD02NTUzNSZGLCEoKE09Rj4+PjI0KTw9Yik7KXtpZigwPT09bSlicmVhayB0O20tLSxnKz1jW2QrK108PGIsYis9OH1pZihUJiYwPT0oMjQwJlQpKXtmb3IoTD1NLEE9VCxJPVA7VD0oRj1pLmxlbmNvZGVbSSsoKGcmKDE8PEwrQSktMSk+PkwpXSk+Pj4xNiYyNTUsUD02NTUzNSZGLCEoTCsoTT1GPj4+MjQpPD1iKTspe2lmKDA9PT1tKWJyZWFrIHQ7bS0tLGcrPWNbZCsrXTw8YixiKz04fWc+Pj49TCxiLT1MLGkuYmFjays9TH1pZihnPj4+PU0sYi09TSxpLmJhY2srPU0saS5sZW5ndGg9UCwwPT09VCl7aS5tb2RlPTI2O2JyZWFrfWlmKDMyJlQpe2kuYmFjaz0tMSxpLm1vZGU9MTI7YnJlYWt9aWYoNjQmVCl7dC5tc2c9XCJpbnZhbGlkIGxpdGVyYWwvbGVuZ3RoIGNvZGVcIixpLm1vZGU9MzA7YnJlYWt9aS5leHRyYT0xNSZULGkubW9kZT0yMjtjYXNlIDIyOmlmKGkuZXh0cmEpe2ZvcihCPWkuZXh0cmE7YjxCOyl7aWYoMD09PW0pYnJlYWsgdDttLS0sZys9Y1tkKytdPDxiLGIrPTh9aS5sZW5ndGgrPWcmKDE8PGkuZXh0cmEpLTEsZz4+Pj1pLmV4dHJhLGItPWkuZXh0cmEsaS5iYWNrKz1pLmV4dHJhfWkud2FzPWkubGVuZ3RoLGkubW9kZT0yMztjYXNlIDIzOmZvcig7VD0oRj1pLmRpc3Rjb2RlW2cmKDE8PGkuZGlzdGJpdHMpLTFdKT4+PjE2JjI1NSxQPTY1NTM1JkYsISgoTT1GPj4+MjQpPD1iKTspe2lmKDA9PT1tKWJyZWFrIHQ7bS0tLGcrPWNbZCsrXTw8YixiKz04fWlmKDA9PSgyNDAmVCkpe2ZvcihMPU0sQT1ULEk9UDtUPShGPWkuZGlzdGNvZGVbSSsoKGcmKDE8PEwrQSktMSk+PkwpXSk+Pj4xNiYyNTUsUD02NTUzNSZGLCEoTCsoTT1GPj4+MjQpPD1iKTspe2lmKDA9PT1tKWJyZWFrIHQ7bS0tLGcrPWNbZCsrXTw8YixiKz04fWc+Pj49TCxiLT1MLGkuYmFjays9TH1pZihnPj4+PU0sYi09TSxpLmJhY2srPU0sNjQmVCl7dC5tc2c9XCJpbnZhbGlkIGRpc3RhbmNlIGNvZGVcIixpLm1vZGU9MzA7YnJlYWt9aS5vZmZzZXQ9UCxpLmV4dHJhPTE1JlQsaS5tb2RlPTI0O2Nhc2UgMjQ6aWYoaS5leHRyYSl7Zm9yKEI9aS5leHRyYTtiPEI7KXtpZigwPT09bSlicmVhayB0O20tLSxnKz1jW2QrK108PGIsYis9OH1pLm9mZnNldCs9ZyYoMTw8aS5leHRyYSktMSxnPj4+PWkuZXh0cmEsYi09aS5leHRyYSxpLmJhY2srPWkuZXh0cmF9aWYoaS5vZmZzZXQ+aS5kbWF4KXt0Lm1zZz1cImludmFsaWQgZGlzdGFuY2UgdG9vIGZhciBiYWNrXCIsaS5tb2RlPTMwO2JyZWFrfWkubW9kZT0yNTtjYXNlIDI1OmlmKDA9PT1wKWJyZWFrIHQ7aWYodj1FLXAsaS5vZmZzZXQ+dil7aWYoKHY9aS5vZmZzZXQtdik+aS53aGF2ZSYmaS5zYW5lKXt0Lm1zZz1cImludmFsaWQgZGlzdGFuY2UgdG9vIGZhciBiYWNrXCIsaS5tb2RlPTMwO2JyZWFrfV89dj5pLnduZXh0Pyh2LT1pLnduZXh0LGkud3NpemUtdik6aS53bmV4dC12LHY+aS5sZW5ndGgmJih2PWkubGVuZ3RoKSx3PWkud2luZG93fWVsc2Ugdz11LF89Zi1pLm9mZnNldCx2PWkubGVuZ3RoO2ZvcihwPHYmJih2PXApLHAtPXYsaS5sZW5ndGgtPXY7dVtmKytdPXdbXysrXSwtLXY7KTswPT09aS5sZW5ndGgmJihpLm1vZGU9MjEpO2JyZWFrO2Nhc2UgMjY6aWYoMD09PXApYnJlYWsgdDt1W2YrK109aS5sZW5ndGgscC0tLGkubW9kZT0yMTticmVhaztjYXNlIDI3OmlmKGkud3JhcCl7Zm9yKDtiPDMyOyl7aWYoMD09PW0pYnJlYWsgdDttLS0sZ3w9Y1tkKytdPDxiLGIrPTh9aWYoRS09cCx0LnRvdGFsX291dCs9RSxpLnRvdGFsKz1FLEUmJih0LmFkbGVyPWkuY2hlY2s9aS5mbGFncz9yKGkuY2hlY2ssdSxFLGYtRSk6bihpLmNoZWNrLHUsRSxmLUUpKSxFPXAsKGkuZmxhZ3M/ZzpsKGcpKSE9PWkuY2hlY2spe3QubXNnPVwiaW5jb3JyZWN0IGRhdGEgY2hlY2tcIixpLm1vZGU9MzA7YnJlYWt9Yj1nPTB9aS5tb2RlPTI4O2Nhc2UgMjg6aWYoaS53cmFwJiZpLmZsYWdzKXtmb3IoO2I8MzI7KXtpZigwPT09bSlicmVhayB0O20tLSxnKz1jW2QrK108PGIsYis9OH1pZihnIT09KDQyOTQ5NjcyOTUmaS50b3RhbCkpe3QubXNnPVwiaW5jb3JyZWN0IGxlbmd0aCBjaGVja1wiLGkubW9kZT0zMDticmVha31iPWc9MH1pLm1vZGU9Mjk7Y2FzZSAyOTpSPTE7YnJlYWsgdDtjYXNlIDMwOlI9LTM7YnJlYWsgdDtjYXNlIDMxOnJldHVybi00O2Nhc2UgMzI6ZGVmYXVsdDpyZXR1cm4gaH1yZXR1cm4gdC5uZXh0X291dD1mLHQuYXZhaWxfb3V0PXAsdC5uZXh0X2luPWQsdC5hdmFpbF9pbj1tLGkuaG9sZD1nLGkuYml0cz1iLChpLndzaXplfHxFIT09dC5hdmFpbF9vdXQmJmkubW9kZTwzMCYmKGkubW9kZTwyN3x8NCE9PWUpKSYmeSh0LHQub3V0cHV0LHQubmV4dF9vdXQsRS10LmF2YWlsX291dCk/KGkubW9kZT0zMSwtNCk6KHgtPXQuYXZhaWxfaW4sRS09dC5hdmFpbF9vdXQsdC50b3RhbF9pbis9eCx0LnRvdGFsX291dCs9RSxpLnRvdGFsKz1FLGkud3JhcCYmRSYmKHQuYWRsZXI9aS5jaGVjaz1pLmZsYWdzP3IoaS5jaGVjayx1LEUsdC5uZXh0X291dC1FKTpuKGkuY2hlY2ssdSxFLHQubmV4dF9vdXQtRSkpLHQuZGF0YV90eXBlPWkuYml0cysoaS5sYXN0PzY0OjApKygxMj09PWkubW9kZT8xMjg6MCkrKDIwPT09aS5tb2RlfHwxNT09PWkubW9kZT8yNTY6MCksKDA9PXgmJjA9PT1FfHw0PT09ZSkmJjA9PT1SJiYoUj0tNSksUil9LGkuaW5mbGF0ZUVuZD1mdW5jdGlvbih0KXtpZighdHx8IXQuc3RhdGUpcmV0dXJuIGg7dmFyIGU9dC5zdGF0ZTtyZXR1cm4gZS53aW5kb3cmJihlLndpbmRvdz1udWxsKSx0LnN0YXRlPW51bGwsMH0saS5pbmZsYXRlR2V0SGVhZGVyPWZ1bmN0aW9uKHQsZSl7dmFyIGk7cmV0dXJuIHQmJnQuc3RhdGU/MD09KDImKGk9dC5zdGF0ZSkud3JhcCk/aDooKGkuaGVhZD1lKS5kb25lPSExLDApOmh9LGkuaW5mbGF0ZVNldERpY3Rpb25hcnk9ZnVuY3Rpb24odCxlKXt2YXIgaSxzPWUubGVuZ3RoO3JldHVybiB0JiZ0LnN0YXRlPzAhPT0oaT10LnN0YXRlKS53cmFwJiYxMSE9PWkubW9kZT9oOjExPT09aS5tb2RlJiZuKDEsZSxzLDApIT09aS5jaGVjaz8tMzp5KHQsZSxzLHMpPyhpLm1vZGU9MzEsLTQpOihpLmhhdmVkaWN0PTEsMCk6aH0saS5pbmZsYXRlSW5mbz1cInBha28gaW5mbGF0ZSAoZnJvbSBOb2RlY2EgcHJvamVjdClcIn0se1wiLi4vdXRpbHMvY29tbW9uXCI6NDEsXCIuL2FkbGVyMzJcIjo0MyxcIi4vY3JjMzJcIjo0NSxcIi4vaW5mZmFzdFwiOjQ4LFwiLi9pbmZ0cmVlc1wiOjUwfV0sNTA6W2Z1bmN0aW9uKHQsZSxpKXtcInVzZSBzdHJpY3RcIjt2YXIgcz10KFwiLi4vdXRpbHMvY29tbW9uXCIpLG49WzMsNCw1LDYsNyw4LDksMTAsMTEsMTMsMTUsMTcsMTksMjMsMjcsMzEsMzUsNDMsNTEsNTksNjcsODMsOTksMTE1LDEzMSwxNjMsMTk1LDIyNywyNTgsMCwwXSxyPVsxNiwxNiwxNiwxNiwxNiwxNiwxNiwxNiwxNywxNywxNywxNywxOCwxOCwxOCwxOCwxOSwxOSwxOSwxOSwyMCwyMCwyMCwyMCwyMSwyMSwyMSwyMSwxNiw3Miw3OF0sbz1bMSwyLDMsNCw1LDcsOSwxMywxNywyNSwzMyw0OSw2NSw5NywxMjksMTkzLDI1NywzODUsNTEzLDc2OSwxMDI1LDE1MzcsMjA0OSwzMDczLDQwOTcsNjE0NSw4MTkzLDEyMjg5LDE2Mzg1LDI0NTc3LDAsMF0sYT1bMTYsMTYsMTYsMTYsMTcsMTcsMTgsMTgsMTksMTksMjAsMjAsMjEsMjEsMjIsMjIsMjMsMjMsMjQsMjQsMjUsMjUsMjYsMjYsMjcsMjcsMjgsMjgsMjksMjksNjQsNjRdO2UuZXhwb3J0cz1mdW5jdGlvbih0LGUsaSxoLGwsYyx1LGQpe3ZhciBmLG0scCxnLGIsUyx5LHgsRSx2PWQuYml0cyxfPTAsdz0wLE09MCxUPTAsUD0wLEw9MCxBPTAsST0wLEM9MCxSPTAsTj1udWxsLEI9MCxGPW5ldyBzLkJ1ZjE2KDE2KSxEPW5ldyBzLkJ1ZjE2KDE2KSxrPW51bGwsTz0wO2ZvcihfPTA7Xzw9MTU7XysrKUZbX109MDtmb3Iodz0wO3c8aDt3KyspRltlW2krd11dKys7Zm9yKFA9dixUPTE1OzE8PVQmJjA9PT1GW1RdO1QtLSk7aWYoVDxQJiYoUD1UKSwwPT09VClyZXR1cm4gbFtjKytdPTIwOTcxNTIwLGxbYysrXT0yMDk3MTUyMCxkLmJpdHM9MSwwO2ZvcihNPTE7TTxUJiYwPT09RltNXTtNKyspO2ZvcihQPE0mJihQPU0pLF89ST0xO188PTE1O18rKylpZihJPDw9MSwoSS09RltfXSk8MClyZXR1cm4tMTtpZigwPEkmJigwPT09dHx8MSE9PVQpKXJldHVybi0xO2ZvcihEWzFdPTAsXz0xO188MTU7XysrKURbXysxXT1EW19dK0ZbX107Zm9yKHc9MDt3PGg7dysrKTAhPT1lW2krd10mJih1W0RbZVtpK3ddXSsrXT13KTtpZihTPTA9PT10PyhOPWs9dSwxOSk6MT09PXQ/KE49bixCLT0yNTcsaz1yLE8tPTI1NywyNTYpOihOPW8saz1hLC0xKSxfPU0sYj1jLEE9dz1SPTAscD0tMSxnPShDPTE8PChMPVApKS0xLDE9PT10JiY4NTI8Q3x8Mj09PXQmJjU5MjxDKXJldHVybiAxO2Zvcig7Oyl7Zm9yKHk9Xy1BLEU9dVt3XTxTPyh4PTAsdVt3XSk6dVt3XT5TPyh4PWtbTyt1W3ddXSxOW0IrdVt3XV0pOih4PTk2LDApLGY9MTw8Xy1BLE09bT0xPDxMO2xbYisoUj4+QSkrKG0tPWYpXT15PDwyNHx4PDwxNnxFfDAsMCE9PW07KTtmb3IoZj0xPDxfLTE7UiZmOylmPj49MTtpZigwIT09Zj8oUiY9Zi0xLFIrPWYpOlI9MCx3KyssMD09LS1GW19dKXtpZihfPT09VClicmVhaztfPWVbaSt1W3ddXX1pZihQPF8mJihSJmcpIT09cCl7Zm9yKDA9PT1BJiYoQT1QKSxiKz1NLEk9MTw8KEw9Xy1BKTtMK0E8VCYmISgoSS09RltMK0FdKTw9MCk7KUwrKyxJPDw9MTtpZihDKz0xPDxMLDE9PT10JiY4NTI8Q3x8Mj09PXQmJjU5MjxDKXJldHVybiAxO2xbcD1SJmddPVA8PDI0fEw8PDE2fGItY3wwfX1yZXR1cm4gMCE9PVImJihsW2IrUl09Xy1BPDwyNHw2NDw8MTZ8MCksZC5iaXRzPVAsMH19LHtcIi4uL3V0aWxzL2NvbW1vblwiOjQxfV0sNTE6W2Z1bmN0aW9uKHQsZSxpKXtcInVzZSBzdHJpY3RcIjtlLmV4cG9ydHM9ezI6XCJuZWVkIGRpY3Rpb25hcnlcIiwxOlwic3RyZWFtIGVuZFwiLDA6XCJcIixcIi0xXCI6XCJmaWxlIGVycm9yXCIsXCItMlwiOlwic3RyZWFtIGVycm9yXCIsXCItM1wiOlwiZGF0YSBlcnJvclwiLFwiLTRcIjpcImluc3VmZmljaWVudCBtZW1vcnlcIixcIi01XCI6XCJidWZmZXIgZXJyb3JcIixcIi02XCI6XCJpbmNvbXBhdGlibGUgdmVyc2lvblwifX0se31dLDUyOltmdW5jdGlvbih0LGUsaSl7XCJ1c2Ugc3RyaWN0XCI7dmFyIHM9dChcIi4uL3V0aWxzL2NvbW1vblwiKTtmdW5jdGlvbiBuKHQpe2Zvcih2YXIgZT10Lmxlbmd0aDswPD0tLWU7KXRbZV09MH12YXIgcj0yNTYsbz0yODYsYT0zMCxoPTE1LGw9WzAsMCwwLDAsMCwwLDAsMCwxLDEsMSwxLDIsMiwyLDIsMywzLDMsMyw0LDQsNCw0LDUsNSw1LDUsMF0sYz1bMCwwLDAsMCwxLDEsMiwyLDMsMyw0LDQsNSw1LDYsNiw3LDcsOCw4LDksOSwxMCwxMCwxMSwxMSwxMiwxMiwxMywxM10sdT1bMCwwLDAsMCwwLDAsMCwwLDAsMCwwLDAsMCwwLDAsMCwyLDMsN10sZD1bMTYsMTcsMTgsMCw4LDcsOSw2LDEwLDUsMTEsNCwxMiwzLDEzLDIsMTQsMSwxNV0sZj1uZXcgQXJyYXkoNTc2KTtuKGYpO3ZhciBtPW5ldyBBcnJheSg2MCk7bihtKTt2YXIgcD1uZXcgQXJyYXkoNTEyKTtuKHApO3ZhciBnPW5ldyBBcnJheSgyNTYpO24oZyk7dmFyIGI9bmV3IEFycmF5KDI5KTtuKGIpO3ZhciBTLHkseCxFPW5ldyBBcnJheShhKTtmdW5jdGlvbiB2KHQsZSxpLHMsbil7dGhpcy5zdGF0aWNfdHJlZT10LHRoaXMuZXh0cmFfYml0cz1lLHRoaXMuZXh0cmFfYmFzZT1pLHRoaXMuZWxlbXM9cyx0aGlzLm1heF9sZW5ndGg9bix0aGlzLmhhc19zdHJlZT10JiZ0Lmxlbmd0aH1mdW5jdGlvbiBfKHQsZSl7dGhpcy5keW5fdHJlZT10LHRoaXMubWF4X2NvZGU9MCx0aGlzLnN0YXRfZGVzYz1lfWZ1bmN0aW9uIHcodCl7cmV0dXJuIHQ8MjU2P3BbdF06cFsyNTYrKHQ+Pj43KV19ZnVuY3Rpb24gTSh0LGUpe3QucGVuZGluZ19idWZbdC5wZW5kaW5nKytdPTI1NSZlLHQucGVuZGluZ19idWZbdC5wZW5kaW5nKytdPWU+Pj44JjI1NX1mdW5jdGlvbiBUKHQsZSxpKXt0LmJpX3ZhbGlkPjE2LWk/KHQuYmlfYnVmfD1lPDx0LmJpX3ZhbGlkJjY1NTM1LE0odCx0LmJpX2J1ZiksdC5iaV9idWY9ZT4+MTYtdC5iaV92YWxpZCx0LmJpX3ZhbGlkKz1pLTE2KToodC5iaV9idWZ8PWU8PHQuYmlfdmFsaWQmNjU1MzUsdC5iaV92YWxpZCs9aSl9ZnVuY3Rpb24gUCh0LGUsaSl7VCh0LGlbMiplXSxpWzIqZSsxXSl9ZnVuY3Rpb24gTCh0LGUpe2Zvcih2YXIgaT0wO2l8PTEmdCx0Pj4+PTEsaTw8PTEsMDwtLWU7KTtyZXR1cm4gaT4+PjF9ZnVuY3Rpb24gQSh0LGUsaSl7dmFyIHMsbixyPW5ldyBBcnJheSgxNiksbz0wO2ZvcihzPTE7czw9aDtzKyspcltzXT1vPW8raVtzLTFdPDwxO2ZvcihuPTA7bjw9ZTtuKyspe3ZhciBhPXRbMipuKzFdOzAhPT1hJiYodFsyKm5dPUwoclthXSsrLGEpKX19ZnVuY3Rpb24gSSh0KXt2YXIgZTtmb3IoZT0wO2U8bztlKyspdC5keW5fbHRyZWVbMiplXT0wO2ZvcihlPTA7ZTxhO2UrKyl0LmR5bl9kdHJlZVsyKmVdPTA7Zm9yKGU9MDtlPDE5O2UrKyl0LmJsX3RyZWVbMiplXT0wO3QuZHluX2x0cmVlWzUxMl09MSx0Lm9wdF9sZW49dC5zdGF0aWNfbGVuPTAsdC5sYXN0X2xpdD10Lm1hdGNoZXM9MH1mdW5jdGlvbiBDKHQpezg8dC5iaV92YWxpZD9NKHQsdC5iaV9idWYpOjA8dC5iaV92YWxpZCYmKHQucGVuZGluZ19idWZbdC5wZW5kaW5nKytdPXQuYmlfYnVmKSx0LmJpX2J1Zj0wLHQuYmlfdmFsaWQ9MH1mdW5jdGlvbiBSKHQsZSxpLHMpe3ZhciBuPTIqZSxyPTIqaTtyZXR1cm4gdFtuXTx0W3JdfHx0W25dPT09dFtyXSYmc1tlXTw9c1tpXX1mdW5jdGlvbiBOKHQsZSxpKXtmb3IodmFyIHM9dC5oZWFwW2ldLG49aTw8MTtuPD10LmhlYXBfbGVuJiYobjx0LmhlYXBfbGVuJiZSKGUsdC5oZWFwW24rMV0sdC5oZWFwW25dLHQuZGVwdGgpJiZuKyssIVIoZSxzLHQuaGVhcFtuXSx0LmRlcHRoKSk7KXQuaGVhcFtpXT10LmhlYXBbbl0saT1uLG48PD0xO3QuaGVhcFtpXT1zfWZ1bmN0aW9uIEIodCxlLGkpe3ZhciBzLG4sbyxhLGg9MDtpZigwIT09dC5sYXN0X2xpdClmb3IoO3M9dC5wZW5kaW5nX2J1Zlt0LmRfYnVmKzIqaF08PDh8dC5wZW5kaW5nX2J1Zlt0LmRfYnVmKzIqaCsxXSxuPXQucGVuZGluZ19idWZbdC5sX2J1ZitoXSxoKyssMD09PXM/UCh0LG4sZSk6KFAodCwobz1nW25dKStyKzEsZSksMCE9PShhPWxbb10pJiZUKHQsbi09YltvXSxhKSxQKHQsbz13KC0tcyksaSksMCE9PShhPWNbb10pJiZUKHQscy09RVtvXSxhKSksaDx0Lmxhc3RfbGl0Oyk7UCh0LDI1NixlKX1mdW5jdGlvbiBGKHQsZSl7dmFyIGkscyxuLHI9ZS5keW5fdHJlZSxvPWUuc3RhdF9kZXNjLnN0YXRpY190cmVlLGE9ZS5zdGF0X2Rlc2MuaGFzX3N0cmVlLGw9ZS5zdGF0X2Rlc2MuZWxlbXMsYz0tMTtmb3IodC5oZWFwX2xlbj0wLHQuaGVhcF9tYXg9NTczLGk9MDtpPGw7aSsrKTAhPT1yWzIqaV0/KHQuaGVhcFsrK3QuaGVhcF9sZW5dPWM9aSx0LmRlcHRoW2ldPTApOnJbMippKzFdPTA7Zm9yKDt0LmhlYXBfbGVuPDI7KXJbMioobj10LmhlYXBbKyt0LmhlYXBfbGVuXT1jPDI/KytjOjApXT0xLHQuZGVwdGhbbl09MCx0Lm9wdF9sZW4tLSxhJiYodC5zdGF0aWNfbGVuLT1vWzIqbisxXSk7Zm9yKGUubWF4X2NvZGU9YyxpPXQuaGVhcF9sZW4+PjE7MTw9aTtpLS0pTih0LHIsaSk7Zm9yKG49bDtpPXQuaGVhcFsxXSx0LmhlYXBbMV09dC5oZWFwW3QuaGVhcF9sZW4tLV0sTih0LHIsMSkscz10LmhlYXBbMV0sdC5oZWFwWy0tdC5oZWFwX21heF09aSx0LmhlYXBbLS10LmhlYXBfbWF4XT1zLHJbMipuXT1yWzIqaV0rclsyKnNdLHQuZGVwdGhbbl09KHQuZGVwdGhbaV0+PXQuZGVwdGhbc10/dC5kZXB0aFtpXTp0LmRlcHRoW3NdKSsxLHJbMippKzFdPXJbMipzKzFdPW4sdC5oZWFwWzFdPW4rKyxOKHQsciwxKSwyPD10LmhlYXBfbGVuOyk7dC5oZWFwWy0tdC5oZWFwX21heF09dC5oZWFwWzFdLGZ1bmN0aW9uKHQsZSl7dmFyIGkscyxuLHIsbyxhLGw9ZS5keW5fdHJlZSxjPWUubWF4X2NvZGUsdT1lLnN0YXRfZGVzYy5zdGF0aWNfdHJlZSxkPWUuc3RhdF9kZXNjLmhhc19zdHJlZSxmPWUuc3RhdF9kZXNjLmV4dHJhX2JpdHMsbT1lLnN0YXRfZGVzYy5leHRyYV9iYXNlLHA9ZS5zdGF0X2Rlc2MubWF4X2xlbmd0aCxnPTA7Zm9yKHI9MDtyPD1oO3IrKyl0LmJsX2NvdW50W3JdPTA7Zm9yKGxbMip0LmhlYXBbdC5oZWFwX21heF0rMV09MCxpPXQuaGVhcF9tYXgrMTtpPDU3MztpKyspcDwocj1sWzIqbFsyKihzPXQuaGVhcFtpXSkrMV0rMV0rMSkmJihyPXAsZysrKSxsWzIqcysxXT1yLGM8c3x8KHQuYmxfY291bnRbcl0rKyxvPTAsbTw9cyYmKG89ZltzLW1dKSxhPWxbMipzXSx0Lm9wdF9sZW4rPWEqKHIrbyksZCYmKHQuc3RhdGljX2xlbis9YSoodVsyKnMrMV0rbykpKTtpZigwIT09Zyl7ZG97Zm9yKHI9cC0xOzA9PT10LmJsX2NvdW50W3JdOylyLS07dC5ibF9jb3VudFtyXS0tLHQuYmxfY291bnRbcisxXSs9Mix0LmJsX2NvdW50W3BdLS0sZy09Mn13aGlsZSgwPGcpO2ZvcihyPXA7MCE9PXI7ci0tKWZvcihzPXQuYmxfY291bnRbcl07MCE9PXM7KWM8KG49dC5oZWFwWy0taV0pfHwobFsyKm4rMV0hPT1yJiYodC5vcHRfbGVuKz0oci1sWzIqbisxXSkqbFsyKm5dLGxbMipuKzFdPXIpLHMtLSl9fSh0LGUpLEEocixjLHQuYmxfY291bnQpfWZ1bmN0aW9uIEQodCxlLGkpe3ZhciBzLG4scj0tMSxvPWVbMV0sYT0wLGg9NyxsPTQ7Zm9yKDA9PT1vJiYoaD0xMzgsbD0zKSxlWzIqKGkrMSkrMV09NjU1MzUscz0wO3M8PWk7cysrKW49byxvPWVbMioocysxKSsxXSwrK2E8aCYmbj09PW98fChhPGw/dC5ibF90cmVlWzIqbl0rPWE6MCE9PW4/KG4hPT1yJiZ0LmJsX3RyZWVbMipuXSsrLHQuYmxfdHJlZVszMl0rKyk6YTw9MTA/dC5ibF90cmVlWzM0XSsrOnQuYmxfdHJlZVszNl0rKyxyPW4sbD0oYT0wKT09PW8/KGg9MTM4LDMpOm49PT1vPyhoPTYsMyk6KGg9Nyw0KSl9ZnVuY3Rpb24gayh0LGUsaSl7dmFyIHMsbixyPS0xLG89ZVsxXSxhPTAsaD03LGw9NDtmb3IoMD09PW8mJihoPTEzOCxsPTMpLHM9MDtzPD1pO3MrKylpZihuPW8sbz1lWzIqKHMrMSkrMV0sISgrK2E8aCYmbj09PW8pKXtpZihhPGwpZm9yKDtQKHQsbix0LmJsX3RyZWUpLDAhPS0tYTspO2Vsc2UgMCE9PW4/KG4hPT1yJiYoUCh0LG4sdC5ibF90cmVlKSxhLS0pLFAodCwxNix0LmJsX3RyZWUpLFQodCxhLTMsMikpOmE8PTEwPyhQKHQsMTcsdC5ibF90cmVlKSxUKHQsYS0zLDMpKTooUCh0LDE4LHQuYmxfdHJlZSksVCh0LGEtMTEsNykpO3I9bixsPShhPTApPT09bz8oaD0xMzgsMyk6bj09PW8/KGg9NiwzKTooaD03LDQpfX1uKEUpO3ZhciBPPSExO2Z1bmN0aW9uIFYodCxlLGksbil7VCh0LDArKG4/MTowKSwzKSxmdW5jdGlvbih0LGUsaSxuKXtDKHQpLE0odCxpKSxNKHQsfmkpLHMuYXJyYXlTZXQodC5wZW5kaW5nX2J1Zix0LndpbmRvdyxlLGksdC5wZW5kaW5nKSx0LnBlbmRpbmcrPWl9KHQsZSxpKX1pLl90cl9pbml0PWZ1bmN0aW9uKHQpe098fChmdW5jdGlvbigpe3ZhciB0LGUsaSxzLG4scj1uZXcgQXJyYXkoMTYpO2ZvcihzPWk9MDtzPDI4O3MrKylmb3IoYltzXT1pLHQ9MDt0PDE8PGxbc107dCsrKWdbaSsrXT1zO2ZvcihnW2ktMV09cyxzPW49MDtzPDE2O3MrKylmb3IoRVtzXT1uLHQ9MDt0PDE8PGNbc107dCsrKXBbbisrXT1zO2ZvcihuPj49NztzPGE7cysrKWZvcihFW3NdPW48PDcsdD0wO3Q8MTw8Y1tzXS03O3QrKylwWzI1NituKytdPXM7Zm9yKGU9MDtlPD1oO2UrKylyW2VdPTA7Zm9yKHQ9MDt0PD0xNDM7KWZbMip0KzFdPTgsdCsrLHJbOF0rKztmb3IoO3Q8PTI1NTspZlsyKnQrMV09OSx0Kysscls5XSsrO2Zvcig7dDw9Mjc5OylmWzIqdCsxXT03LHQrKyxyWzddKys7Zm9yKDt0PD0yODc7KWZbMip0KzFdPTgsdCsrLHJbOF0rKztmb3IoQShmLDI4NyxyKSx0PTA7dDxhO3QrKyltWzIqdCsxXT01LG1bMip0XT1MKHQsNSk7Uz1uZXcgdihmLGwsMjU3LG8saCkseT1uZXcgdihtLGMsMCxhLGgpLHg9bmV3IHYobmV3IEFycmF5KDApLHUsMCwxOSw3KX0oKSxPPSEwKSx0LmxfZGVzYz1uZXcgXyh0LmR5bl9sdHJlZSxTKSx0LmRfZGVzYz1uZXcgXyh0LmR5bl9kdHJlZSx5KSx0LmJsX2Rlc2M9bmV3IF8odC5ibF90cmVlLHgpLHQuYmlfYnVmPTAsdC5iaV92YWxpZD0wLEkodCl9LGkuX3RyX3N0b3JlZF9ibG9jaz1WLGkuX3RyX2ZsdXNoX2Jsb2NrPWZ1bmN0aW9uKHQsZSxpLHMpe3ZhciBuLG8sYT0wOzA8dC5sZXZlbD8oMj09PXQuc3RybS5kYXRhX3R5cGUmJih0LnN0cm0uZGF0YV90eXBlPWZ1bmN0aW9uKHQpe3ZhciBlLGk9NDA5MzYyNDQ0Nztmb3IoZT0wO2U8PTMxO2UrKyxpPj4+PTEpaWYoMSZpJiYwIT09dC5keW5fbHRyZWVbMiplXSlyZXR1cm4gMDtpZigwIT09dC5keW5fbHRyZWVbMThdfHwwIT09dC5keW5fbHRyZWVbMjBdfHwwIT09dC5keW5fbHRyZWVbMjZdKXJldHVybiAxO2ZvcihlPTMyO2U8cjtlKyspaWYoMCE9PXQuZHluX2x0cmVlWzIqZV0pcmV0dXJuIDE7cmV0dXJuIDB9KHQpKSxGKHQsdC5sX2Rlc2MpLEYodCx0LmRfZGVzYyksYT1mdW5jdGlvbih0KXt2YXIgZTtmb3IoRCh0LHQuZHluX2x0cmVlLHQubF9kZXNjLm1heF9jb2RlKSxEKHQsdC5keW5fZHRyZWUsdC5kX2Rlc2MubWF4X2NvZGUpLEYodCx0LmJsX2Rlc2MpLGU9MTg7Mzw9ZSYmMD09PXQuYmxfdHJlZVsyKmRbZV0rMV07ZS0tKTtyZXR1cm4gdC5vcHRfbGVuKz0zKihlKzEpKzUrNSs0LGV9KHQpLG49dC5vcHRfbGVuKzMrNz4+PjMsKG89dC5zdGF0aWNfbGVuKzMrNz4+PjMpPD1uJiYobj1vKSk6bj1vPWkrNSxpKzQ8PW4mJi0xIT09ZT9WKHQsZSxpLHMpOjQ9PT10LnN0cmF0ZWd5fHxvPT09bj8oVCh0LDIrKHM/MTowKSwzKSxCKHQsZixtKSk6KFQodCw0KyhzPzE6MCksMyksZnVuY3Rpb24odCxlLGkscyl7dmFyIG47Zm9yKFQodCxlLTI1Nyw1KSxUKHQsaS0xLDUpLFQodCxzLTQsNCksbj0wO248cztuKyspVCh0LHQuYmxfdHJlZVsyKmRbbl0rMV0sMyk7ayh0LHQuZHluX2x0cmVlLGUtMSksayh0LHQuZHluX2R0cmVlLGktMSl9KHQsdC5sX2Rlc2MubWF4X2NvZGUrMSx0LmRfZGVzYy5tYXhfY29kZSsxLGErMSksQih0LHQuZHluX2x0cmVlLHQuZHluX2R0cmVlKSksSSh0KSxzJiZDKHQpfSxpLl90cl90YWxseT1mdW5jdGlvbih0LGUsaSl7cmV0dXJuIHQucGVuZGluZ19idWZbdC5kX2J1ZisyKnQubGFzdF9saXRdPWU+Pj44JjI1NSx0LnBlbmRpbmdfYnVmW3QuZF9idWYrMip0Lmxhc3RfbGl0KzFdPTI1NSZlLHQucGVuZGluZ19idWZbdC5sX2J1Zit0Lmxhc3RfbGl0XT0yNTUmaSx0Lmxhc3RfbGl0KyssMD09PWU/dC5keW5fbHRyZWVbMippXSsrOih0Lm1hdGNoZXMrKyxlLS0sdC5keW5fbHRyZWVbMiooZ1tpXStyKzEpXSsrLHQuZHluX2R0cmVlWzIqdyhlKV0rKyksdC5sYXN0X2xpdD09PXQubGl0X2J1ZnNpemUtMX0saS5fdHJfYWxpZ249ZnVuY3Rpb24odCl7VCh0LDIsMyksUCh0LDI1NixmKSxmdW5jdGlvbih0KXsxNj09PXQuYmlfdmFsaWQ/KE0odCx0LmJpX2J1ZiksdC5iaV9idWY9MCx0LmJpX3ZhbGlkPTApOjg8PXQuYmlfdmFsaWQmJih0LnBlbmRpbmdfYnVmW3QucGVuZGluZysrXT0yNTUmdC5iaV9idWYsdC5iaV9idWY+Pj04LHQuYmlfdmFsaWQtPTgpfSh0KX19LHtcIi4uL3V0aWxzL2NvbW1vblwiOjQxfV0sNTM6W2Z1bmN0aW9uKHQsZSxpKXtcInVzZSBzdHJpY3RcIjtlLmV4cG9ydHM9ZnVuY3Rpb24oKXt0aGlzLmlucHV0PW51bGwsdGhpcy5uZXh0X2luPTAsdGhpcy5hdmFpbF9pbj0wLHRoaXMudG90YWxfaW49MCx0aGlzLm91dHB1dD1udWxsLHRoaXMubmV4dF9vdXQ9MCx0aGlzLmF2YWlsX291dD0wLHRoaXMudG90YWxfb3V0PTAsdGhpcy5tc2c9XCJcIix0aGlzLnN0YXRlPW51bGwsdGhpcy5kYXRhX3R5cGU9Mix0aGlzLmFkbGVyPTB9fSx7fV0sNTQ6W2Z1bmN0aW9uKHQsZSxpKXtcInVzZSBzdHJpY3RcIjtlLmV4cG9ydHM9XCJmdW5jdGlvblwiPT10eXBlb2Ygcz9zOmZ1bmN0aW9uKCl7dmFyIHQ9W10uc2xpY2UuYXBwbHkoYXJndW1lbnRzKTt0LnNwbGljZSgxLDAsMCksc2V0VGltZW91dC5hcHBseShudWxsLHQpfX0se31dfSx7fSxbMTBdKSgxMCl9KS5jYWxsKHRoaXMsaSgxNzMpLkJ1ZmZlcixpKDQwKSxpKDE3Nykuc2V0SW1tZWRpYXRlKX0sZnVuY3Rpb24odCxlLGkpe1widXNlIHN0cmljdFwiOyhmdW5jdGlvbih0KXtcbi8qIVxuICogVGhlIGJ1ZmZlciBtb2R1bGUgZnJvbSBub2RlLmpzLCBmb3IgdGhlIGJyb3dzZXIuXG4gKlxuICogQGF1dGhvciAgIEZlcm9zcyBBYm91a2hhZGlqZWggPGh0dHA6Ly9mZXJvc3Mub3JnPlxuICogQGxpY2Vuc2UgIE1JVFxuICovXG52YXIgcz1pKDE3NCksbj1pKDE3NSkscj1pKDE3Nik7ZnVuY3Rpb24gbygpe3JldHVybiBoLlRZUEVEX0FSUkFZX1NVUFBPUlQ/MjE0NzQ4MzY0NzoxMDczNzQxODIzfWZ1bmN0aW9uIGEodCxlKXtpZihvKCk8ZSl0aHJvdyBuZXcgUmFuZ2VFcnJvcihcIkludmFsaWQgdHlwZWQgYXJyYXkgbGVuZ3RoXCIpO3JldHVybiBoLlRZUEVEX0FSUkFZX1NVUFBPUlQ/KHQ9bmV3IFVpbnQ4QXJyYXkoZSkpLl9fcHJvdG9fXz1oLnByb3RvdHlwZToobnVsbD09PXQmJih0PW5ldyBoKGUpKSx0Lmxlbmd0aD1lKSx0fWZ1bmN0aW9uIGgodCxlLGkpe2lmKCEoaC5UWVBFRF9BUlJBWV9TVVBQT1JUfHx0aGlzIGluc3RhbmNlb2YgaCkpcmV0dXJuIG5ldyBoKHQsZSxpKTtpZihcIm51bWJlclwiPT10eXBlb2YgdCl7aWYoXCJzdHJpbmdcIj09dHlwZW9mIGUpdGhyb3cgbmV3IEVycm9yKFwiSWYgZW5jb2RpbmcgaXMgc3BlY2lmaWVkIHRoZW4gdGhlIGZpcnN0IGFyZ3VtZW50IG11c3QgYmUgYSBzdHJpbmdcIik7cmV0dXJuIHUodGhpcyx0KX1yZXR1cm4gbCh0aGlzLHQsZSxpKX1mdW5jdGlvbiBsKHQsZSxpLHMpe2lmKFwibnVtYmVyXCI9PXR5cGVvZiBlKXRocm93IG5ldyBUeXBlRXJyb3IoJ1widmFsdWVcIiBhcmd1bWVudCBtdXN0IG5vdCBiZSBhIG51bWJlcicpO3JldHVyblwidW5kZWZpbmVkXCIhPXR5cGVvZiBBcnJheUJ1ZmZlciYmZSBpbnN0YW5jZW9mIEFycmF5QnVmZmVyP2Z1bmN0aW9uKHQsZSxpLHMpe2lmKGUuYnl0ZUxlbmd0aCxpPDB8fGUuYnl0ZUxlbmd0aDxpKXRocm93IG5ldyBSYW5nZUVycm9yKFwiJ29mZnNldCcgaXMgb3V0IG9mIGJvdW5kc1wiKTtpZihlLmJ5dGVMZW5ndGg8aSsoc3x8MCkpdGhyb3cgbmV3IFJhbmdlRXJyb3IoXCInbGVuZ3RoJyBpcyBvdXQgb2YgYm91bmRzXCIpO2U9dm9pZCAwPT09aSYmdm9pZCAwPT09cz9uZXcgVWludDhBcnJheShlKTp2b2lkIDA9PT1zP25ldyBVaW50OEFycmF5KGUsaSk6bmV3IFVpbnQ4QXJyYXkoZSxpLHMpO2guVFlQRURfQVJSQVlfU1VQUE9SVD8odD1lKS5fX3Byb3RvX189aC5wcm90b3R5cGU6dD1kKHQsZSk7cmV0dXJuIHR9KHQsZSxpLHMpOlwic3RyaW5nXCI9PXR5cGVvZiBlP2Z1bmN0aW9uKHQsZSxpKXtcInN0cmluZ1wiPT10eXBlb2YgaSYmXCJcIiE9PWl8fChpPVwidXRmOFwiKTtpZighaC5pc0VuY29kaW5nKGkpKXRocm93IG5ldyBUeXBlRXJyb3IoJ1wiZW5jb2RpbmdcIiBtdXN0IGJlIGEgdmFsaWQgc3RyaW5nIGVuY29kaW5nJyk7dmFyIHM9MHxtKGUsaSksbj0odD1hKHQscykpLndyaXRlKGUsaSk7biE9PXMmJih0PXQuc2xpY2UoMCxuKSk7cmV0dXJuIHR9KHQsZSxpKTpmdW5jdGlvbih0LGUpe2lmKGguaXNCdWZmZXIoZSkpe3ZhciBpPTB8ZihlLmxlbmd0aCk7cmV0dXJuIDA9PT0odD1hKHQsaSkpLmxlbmd0aHx8ZS5jb3B5KHQsMCwwLGkpLHR9aWYoZSl7aWYoXCJ1bmRlZmluZWRcIiE9dHlwZW9mIEFycmF5QnVmZmVyJiZlLmJ1ZmZlciBpbnN0YW5jZW9mIEFycmF5QnVmZmVyfHxcImxlbmd0aFwiaW4gZSlyZXR1cm5cIm51bWJlclwiIT10eXBlb2YgZS5sZW5ndGh8fChzPWUubGVuZ3RoKSE9cz9hKHQsMCk6ZCh0LGUpO2lmKFwiQnVmZmVyXCI9PT1lLnR5cGUmJnIoZS5kYXRhKSlyZXR1cm4gZCh0LGUuZGF0YSl9dmFyIHM7dGhyb3cgbmV3IFR5cGVFcnJvcihcIkZpcnN0IGFyZ3VtZW50IG11c3QgYmUgYSBzdHJpbmcsIEJ1ZmZlciwgQXJyYXlCdWZmZXIsIEFycmF5LCBvciBhcnJheS1saWtlIG9iamVjdC5cIil9KHQsZSl9ZnVuY3Rpb24gYyh0KXtpZihcIm51bWJlclwiIT10eXBlb2YgdCl0aHJvdyBuZXcgVHlwZUVycm9yKCdcInNpemVcIiBhcmd1bWVudCBtdXN0IGJlIGEgbnVtYmVyJyk7aWYodDwwKXRocm93IG5ldyBSYW5nZUVycm9yKCdcInNpemVcIiBhcmd1bWVudCBtdXN0IG5vdCBiZSBuZWdhdGl2ZScpfWZ1bmN0aW9uIHUodCxlKXtpZihjKGUpLHQ9YSh0LGU8MD8wOjB8ZihlKSksIWguVFlQRURfQVJSQVlfU1VQUE9SVClmb3IodmFyIGk9MDtpPGU7KytpKXRbaV09MDtyZXR1cm4gdH1mdW5jdGlvbiBkKHQsZSl7dmFyIGk9ZS5sZW5ndGg8MD8wOjB8ZihlLmxlbmd0aCk7dD1hKHQsaSk7Zm9yKHZhciBzPTA7czxpO3MrPTEpdFtzXT0yNTUmZVtzXTtyZXR1cm4gdH1mdW5jdGlvbiBmKHQpe2lmKHQ+PW8oKSl0aHJvdyBuZXcgUmFuZ2VFcnJvcihcIkF0dGVtcHQgdG8gYWxsb2NhdGUgQnVmZmVyIGxhcmdlciB0aGFuIG1heGltdW0gc2l6ZTogMHhcIitvKCkudG9TdHJpbmcoMTYpK1wiIGJ5dGVzXCIpO3JldHVybiAwfHR9ZnVuY3Rpb24gbSh0LGUpe2lmKGguaXNCdWZmZXIodCkpcmV0dXJuIHQubGVuZ3RoO2lmKFwidW5kZWZpbmVkXCIhPXR5cGVvZiBBcnJheUJ1ZmZlciYmXCJmdW5jdGlvblwiPT10eXBlb2YgQXJyYXlCdWZmZXIuaXNWaWV3JiYoQXJyYXlCdWZmZXIuaXNWaWV3KHQpfHx0IGluc3RhbmNlb2YgQXJyYXlCdWZmZXIpKXJldHVybiB0LmJ5dGVMZW5ndGg7XCJzdHJpbmdcIiE9dHlwZW9mIHQmJih0PVwiXCIrdCk7dmFyIGk9dC5sZW5ndGg7aWYoMD09PWkpcmV0dXJuIDA7Zm9yKHZhciBzPSExOzspc3dpdGNoKGUpe2Nhc2VcImFzY2lpXCI6Y2FzZVwibGF0aW4xXCI6Y2FzZVwiYmluYXJ5XCI6cmV0dXJuIGk7Y2FzZVwidXRmOFwiOmNhc2VcInV0Zi04XCI6Y2FzZSB2b2lkIDA6cmV0dXJuIEcodCkubGVuZ3RoO2Nhc2VcInVjczJcIjpjYXNlXCJ1Y3MtMlwiOmNhc2VcInV0ZjE2bGVcIjpjYXNlXCJ1dGYtMTZsZVwiOnJldHVybiAyKmk7Y2FzZVwiaGV4XCI6cmV0dXJuIGk+Pj4xO2Nhc2VcImJhc2U2NFwiOnJldHVybiBXKHQpLmxlbmd0aDtkZWZhdWx0OmlmKHMpcmV0dXJuIEcodCkubGVuZ3RoO2U9KFwiXCIrZSkudG9Mb3dlckNhc2UoKSxzPSEwfX1mdW5jdGlvbiBwKHQsZSxpKXt2YXIgcz0hMTtpZigodm9pZCAwPT09ZXx8ZTwwKSYmKGU9MCksZT50aGlzLmxlbmd0aClyZXR1cm5cIlwiO2lmKCh2b2lkIDA9PT1pfHxpPnRoaXMubGVuZ3RoKSYmKGk9dGhpcy5sZW5ndGgpLGk8PTApcmV0dXJuXCJcIjtpZigoaT4+Pj0wKTw9KGU+Pj49MCkpcmV0dXJuXCJcIjtmb3IodHx8KHQ9XCJ1dGY4XCIpOzspc3dpdGNoKHQpe2Nhc2VcImhleFwiOnJldHVybiBBKHRoaXMsZSxpKTtjYXNlXCJ1dGY4XCI6Y2FzZVwidXRmLThcIjpyZXR1cm4gVCh0aGlzLGUsaSk7Y2FzZVwiYXNjaWlcIjpyZXR1cm4gUCh0aGlzLGUsaSk7Y2FzZVwibGF0aW4xXCI6Y2FzZVwiYmluYXJ5XCI6cmV0dXJuIEwodGhpcyxlLGkpO2Nhc2VcImJhc2U2NFwiOnJldHVybiBNKHRoaXMsZSxpKTtjYXNlXCJ1Y3MyXCI6Y2FzZVwidWNzLTJcIjpjYXNlXCJ1dGYxNmxlXCI6Y2FzZVwidXRmLTE2bGVcIjpyZXR1cm4gSSh0aGlzLGUsaSk7ZGVmYXVsdDppZihzKXRocm93IG5ldyBUeXBlRXJyb3IoXCJVbmtub3duIGVuY29kaW5nOiBcIit0KTt0PSh0K1wiXCIpLnRvTG93ZXJDYXNlKCkscz0hMH19ZnVuY3Rpb24gZyh0LGUsaSl7dmFyIHM9dFtlXTt0W2VdPXRbaV0sdFtpXT1zfWZ1bmN0aW9uIGIodCxlLGkscyxuKXtpZigwPT09dC5sZW5ndGgpcmV0dXJuLTE7aWYoXCJzdHJpbmdcIj09dHlwZW9mIGk/KHM9aSxpPTApOmk+MjE0NzQ4MzY0Nz9pPTIxNDc0ODM2NDc6aTwtMjE0NzQ4MzY0OCYmKGk9LTIxNDc0ODM2NDgpLGk9K2ksaXNOYU4oaSkmJihpPW4/MDp0Lmxlbmd0aC0xKSxpPDAmJihpPXQubGVuZ3RoK2kpLGk+PXQubGVuZ3RoKXtpZihuKXJldHVybi0xO2k9dC5sZW5ndGgtMX1lbHNlIGlmKGk8MCl7aWYoIW4pcmV0dXJuLTE7aT0wfWlmKFwic3RyaW5nXCI9PXR5cGVvZiBlJiYoZT1oLmZyb20oZSxzKSksaC5pc0J1ZmZlcihlKSlyZXR1cm4gMD09PWUubGVuZ3RoPy0xOlModCxlLGkscyxuKTtpZihcIm51bWJlclwiPT10eXBlb2YgZSlyZXR1cm4gZSY9MjU1LGguVFlQRURfQVJSQVlfU1VQUE9SVCYmXCJmdW5jdGlvblwiPT10eXBlb2YgVWludDhBcnJheS5wcm90b3R5cGUuaW5kZXhPZj9uP1VpbnQ4QXJyYXkucHJvdG90eXBlLmluZGV4T2YuY2FsbCh0LGUsaSk6VWludDhBcnJheS5wcm90b3R5cGUubGFzdEluZGV4T2YuY2FsbCh0LGUsaSk6Uyh0LFtlXSxpLHMsbik7dGhyb3cgbmV3IFR5cGVFcnJvcihcInZhbCBtdXN0IGJlIHN0cmluZywgbnVtYmVyIG9yIEJ1ZmZlclwiKX1mdW5jdGlvbiBTKHQsZSxpLHMsbil7dmFyIHIsbz0xLGE9dC5sZW5ndGgsaD1lLmxlbmd0aDtpZih2b2lkIDAhPT1zJiYoXCJ1Y3MyXCI9PT0ocz1TdHJpbmcocykudG9Mb3dlckNhc2UoKSl8fFwidWNzLTJcIj09PXN8fFwidXRmMTZsZVwiPT09c3x8XCJ1dGYtMTZsZVwiPT09cykpe2lmKHQubGVuZ3RoPDJ8fGUubGVuZ3RoPDIpcmV0dXJuLTE7bz0yLGEvPTIsaC89MixpLz0yfWZ1bmN0aW9uIGwodCxlKXtyZXR1cm4gMT09PW8/dFtlXTp0LnJlYWRVSW50MTZCRShlKm8pfWlmKG4pe3ZhciBjPS0xO2ZvcihyPWk7cjxhO3IrKylpZihsKHQscik9PT1sKGUsLTE9PT1jPzA6ci1jKSl7aWYoLTE9PT1jJiYoYz1yKSxyLWMrMT09PWgpcmV0dXJuIGMqb31lbHNlLTEhPT1jJiYoci09ci1jKSxjPS0xfWVsc2UgZm9yKGkraD5hJiYoaT1hLWgpLHI9aTtyPj0wO3ItLSl7Zm9yKHZhciB1PSEwLGQ9MDtkPGg7ZCsrKWlmKGwodCxyK2QpIT09bChlLGQpKXt1PSExO2JyZWFrfWlmKHUpcmV0dXJuIHJ9cmV0dXJuLTF9ZnVuY3Rpb24geSh0LGUsaSxzKXtpPU51bWJlcihpKXx8MDt2YXIgbj10Lmxlbmd0aC1pO3M/KHM9TnVtYmVyKHMpKT5uJiYocz1uKTpzPW47dmFyIHI9ZS5sZW5ndGg7aWYociUyIT0wKXRocm93IG5ldyBUeXBlRXJyb3IoXCJJbnZhbGlkIGhleCBzdHJpbmdcIik7cz5yLzImJihzPXIvMik7Zm9yKHZhciBvPTA7bzxzOysrbyl7dmFyIGE9cGFyc2VJbnQoZS5zdWJzdHIoMipvLDIpLDE2KTtpZihpc05hTihhKSlyZXR1cm4gbzt0W2krb109YX1yZXR1cm4gb31mdW5jdGlvbiB4KHQsZSxpLHMpe3JldHVybiB6KEcoZSx0Lmxlbmd0aC1pKSx0LGkscyl9ZnVuY3Rpb24gRSh0LGUsaSxzKXtyZXR1cm4geihmdW5jdGlvbih0KXtmb3IodmFyIGU9W10saT0wO2k8dC5sZW5ndGg7KytpKWUucHVzaCgyNTUmdC5jaGFyQ29kZUF0KGkpKTtyZXR1cm4gZX0oZSksdCxpLHMpfWZ1bmN0aW9uIHYodCxlLGkscyl7cmV0dXJuIEUodCxlLGkscyl9ZnVuY3Rpb24gXyh0LGUsaSxzKXtyZXR1cm4geihXKGUpLHQsaSxzKX1mdW5jdGlvbiB3KHQsZSxpLHMpe3JldHVybiB6KGZ1bmN0aW9uKHQsZSl7Zm9yKHZhciBpLHMsbixyPVtdLG89MDtvPHQubGVuZ3RoJiYhKChlLT0yKTwwKTsrK28paT10LmNoYXJDb2RlQXQobykscz1pPj44LG49aSUyNTYsci5wdXNoKG4pLHIucHVzaChzKTtyZXR1cm4gcn0oZSx0Lmxlbmd0aC1pKSx0LGkscyl9ZnVuY3Rpb24gTSh0LGUsaSl7cmV0dXJuIDA9PT1lJiZpPT09dC5sZW5ndGg/cy5mcm9tQnl0ZUFycmF5KHQpOnMuZnJvbUJ5dGVBcnJheSh0LnNsaWNlKGUsaSkpfWZ1bmN0aW9uIFQodCxlLGkpe2k9TWF0aC5taW4odC5sZW5ndGgsaSk7Zm9yKHZhciBzPVtdLG49ZTtuPGk7KXt2YXIgcixvLGEsaCxsPXRbbl0sYz1udWxsLHU9bD4yMzk/NDpsPjIyMz8zOmw+MTkxPzI6MTtpZihuK3U8PWkpc3dpdGNoKHUpe2Nhc2UgMTpsPDEyOCYmKGM9bCk7YnJlYWs7Y2FzZSAyOjEyOD09KDE5MiYocj10W24rMV0pKSYmKGg9KDMxJmwpPDw2fDYzJnIpPjEyNyYmKGM9aCk7YnJlYWs7Y2FzZSAzOnI9dFtuKzFdLG89dFtuKzJdLDEyOD09KDE5MiZyKSYmMTI4PT0oMTkyJm8pJiYoaD0oMTUmbCk8PDEyfCg2MyZyKTw8Nnw2MyZvKT4yMDQ3JiYoaDw1NTI5Nnx8aD41NzM0MykmJihjPWgpO2JyZWFrO2Nhc2UgNDpyPXRbbisxXSxvPXRbbisyXSxhPXRbbiszXSwxMjg9PSgxOTImcikmJjEyOD09KDE5MiZvKSYmMTI4PT0oMTkyJmEpJiYoaD0oMTUmbCk8PDE4fCg2MyZyKTw8MTJ8KDYzJm8pPDw2fDYzJmEpPjY1NTM1JiZoPDExMTQxMTImJihjPWgpfW51bGw9PT1jPyhjPTY1NTMzLHU9MSk6Yz42NTUzNSYmKGMtPTY1NTM2LHMucHVzaChjPj4+MTAmMTAyM3w1NTI5NiksYz01NjMyMHwxMDIzJmMpLHMucHVzaChjKSxuKz11fXJldHVybiBmdW5jdGlvbih0KXt2YXIgZT10Lmxlbmd0aDtpZihlPD00MDk2KXJldHVybiBTdHJpbmcuZnJvbUNoYXJDb2RlLmFwcGx5KFN0cmluZyx0KTt2YXIgaT1cIlwiLHM9MDtmb3IoO3M8ZTspaSs9U3RyaW5nLmZyb21DaGFyQ29kZS5hcHBseShTdHJpbmcsdC5zbGljZShzLHMrPTQwOTYpKTtyZXR1cm4gaX0ocyl9ZS5CdWZmZXI9aCxlLlNsb3dCdWZmZXI9ZnVuY3Rpb24odCl7K3QhPXQmJih0PTApO3JldHVybiBoLmFsbG9jKCt0KX0sZS5JTlNQRUNUX01BWF9CWVRFUz01MCxoLlRZUEVEX0FSUkFZX1NVUFBPUlQ9dm9pZCAwIT09dC5UWVBFRF9BUlJBWV9TVVBQT1JUP3QuVFlQRURfQVJSQVlfU1VQUE9SVDpmdW5jdGlvbigpe3RyeXt2YXIgdD1uZXcgVWludDhBcnJheSgxKTtyZXR1cm4gdC5fX3Byb3RvX189e19fcHJvdG9fXzpVaW50OEFycmF5LnByb3RvdHlwZSxmb286ZnVuY3Rpb24oKXtyZXR1cm4gNDJ9fSw0Mj09PXQuZm9vKCkmJlwiZnVuY3Rpb25cIj09dHlwZW9mIHQuc3ViYXJyYXkmJjA9PT10LnN1YmFycmF5KDEsMSkuYnl0ZUxlbmd0aH1jYXRjaCh0KXtyZXR1cm4hMX19KCksZS5rTWF4TGVuZ3RoPW8oKSxoLnBvb2xTaXplPTgxOTIsaC5fYXVnbWVudD1mdW5jdGlvbih0KXtyZXR1cm4gdC5fX3Byb3RvX189aC5wcm90b3R5cGUsdH0saC5mcm9tPWZ1bmN0aW9uKHQsZSxpKXtyZXR1cm4gbChudWxsLHQsZSxpKX0saC5UWVBFRF9BUlJBWV9TVVBQT1JUJiYoaC5wcm90b3R5cGUuX19wcm90b19fPVVpbnQ4QXJyYXkucHJvdG90eXBlLGguX19wcm90b19fPVVpbnQ4QXJyYXksXCJ1bmRlZmluZWRcIiE9dHlwZW9mIFN5bWJvbCYmU3ltYm9sLnNwZWNpZXMmJmhbU3ltYm9sLnNwZWNpZXNdPT09aCYmT2JqZWN0LmRlZmluZVByb3BlcnR5KGgsU3ltYm9sLnNwZWNpZXMse3ZhbHVlOm51bGwsY29uZmlndXJhYmxlOiEwfSkpLGguYWxsb2M9ZnVuY3Rpb24odCxlLGkpe3JldHVybiBmdW5jdGlvbih0LGUsaSxzKXtyZXR1cm4gYyhlKSxlPD0wP2EodCxlKTp2b2lkIDAhPT1pP1wic3RyaW5nXCI9PXR5cGVvZiBzP2EodCxlKS5maWxsKGkscyk6YSh0LGUpLmZpbGwoaSk6YSh0LGUpfShudWxsLHQsZSxpKX0saC5hbGxvY1Vuc2FmZT1mdW5jdGlvbih0KXtyZXR1cm4gdShudWxsLHQpfSxoLmFsbG9jVW5zYWZlU2xvdz1mdW5jdGlvbih0KXtyZXR1cm4gdShudWxsLHQpfSxoLmlzQnVmZmVyPWZ1bmN0aW9uKHQpe3JldHVybiEobnVsbD09dHx8IXQuX2lzQnVmZmVyKX0saC5jb21wYXJlPWZ1bmN0aW9uKHQsZSl7aWYoIWguaXNCdWZmZXIodCl8fCFoLmlzQnVmZmVyKGUpKXRocm93IG5ldyBUeXBlRXJyb3IoXCJBcmd1bWVudHMgbXVzdCBiZSBCdWZmZXJzXCIpO2lmKHQ9PT1lKXJldHVybiAwO2Zvcih2YXIgaT10Lmxlbmd0aCxzPWUubGVuZ3RoLG49MCxyPU1hdGgubWluKGkscyk7bjxyOysrbilpZih0W25dIT09ZVtuXSl7aT10W25dLHM9ZVtuXTticmVha31yZXR1cm4gaTxzPy0xOnM8aT8xOjB9LGguaXNFbmNvZGluZz1mdW5jdGlvbih0KXtzd2l0Y2goU3RyaW5nKHQpLnRvTG93ZXJDYXNlKCkpe2Nhc2VcImhleFwiOmNhc2VcInV0ZjhcIjpjYXNlXCJ1dGYtOFwiOmNhc2VcImFzY2lpXCI6Y2FzZVwibGF0aW4xXCI6Y2FzZVwiYmluYXJ5XCI6Y2FzZVwiYmFzZTY0XCI6Y2FzZVwidWNzMlwiOmNhc2VcInVjcy0yXCI6Y2FzZVwidXRmMTZsZVwiOmNhc2VcInV0Zi0xNmxlXCI6cmV0dXJuITA7ZGVmYXVsdDpyZXR1cm4hMX19LGguY29uY2F0PWZ1bmN0aW9uKHQsZSl7aWYoIXIodCkpdGhyb3cgbmV3IFR5cGVFcnJvcignXCJsaXN0XCIgYXJndW1lbnQgbXVzdCBiZSBhbiBBcnJheSBvZiBCdWZmZXJzJyk7aWYoMD09PXQubGVuZ3RoKXJldHVybiBoLmFsbG9jKDApO3ZhciBpO2lmKHZvaWQgMD09PWUpZm9yKGU9MCxpPTA7aTx0Lmxlbmd0aDsrK2kpZSs9dFtpXS5sZW5ndGg7dmFyIHM9aC5hbGxvY1Vuc2FmZShlKSxuPTA7Zm9yKGk9MDtpPHQubGVuZ3RoOysraSl7dmFyIG89dFtpXTtpZighaC5pc0J1ZmZlcihvKSl0aHJvdyBuZXcgVHlwZUVycm9yKCdcImxpc3RcIiBhcmd1bWVudCBtdXN0IGJlIGFuIEFycmF5IG9mIEJ1ZmZlcnMnKTtvLmNvcHkocyxuKSxuKz1vLmxlbmd0aH1yZXR1cm4gc30saC5ieXRlTGVuZ3RoPW0saC5wcm90b3R5cGUuX2lzQnVmZmVyPSEwLGgucHJvdG90eXBlLnN3YXAxNj1mdW5jdGlvbigpe3ZhciB0PXRoaXMubGVuZ3RoO2lmKHQlMiE9MCl0aHJvdyBuZXcgUmFuZ2VFcnJvcihcIkJ1ZmZlciBzaXplIG11c3QgYmUgYSBtdWx0aXBsZSBvZiAxNi1iaXRzXCIpO2Zvcih2YXIgZT0wO2U8dDtlKz0yKWcodGhpcyxlLGUrMSk7cmV0dXJuIHRoaXN9LGgucHJvdG90eXBlLnN3YXAzMj1mdW5jdGlvbigpe3ZhciB0PXRoaXMubGVuZ3RoO2lmKHQlNCE9MCl0aHJvdyBuZXcgUmFuZ2VFcnJvcihcIkJ1ZmZlciBzaXplIG11c3QgYmUgYSBtdWx0aXBsZSBvZiAzMi1iaXRzXCIpO2Zvcih2YXIgZT0wO2U8dDtlKz00KWcodGhpcyxlLGUrMyksZyh0aGlzLGUrMSxlKzIpO3JldHVybiB0aGlzfSxoLnByb3RvdHlwZS5zd2FwNjQ9ZnVuY3Rpb24oKXt2YXIgdD10aGlzLmxlbmd0aDtpZih0JTghPTApdGhyb3cgbmV3IFJhbmdlRXJyb3IoXCJCdWZmZXIgc2l6ZSBtdXN0IGJlIGEgbXVsdGlwbGUgb2YgNjQtYml0c1wiKTtmb3IodmFyIGU9MDtlPHQ7ZSs9OClnKHRoaXMsZSxlKzcpLGcodGhpcyxlKzEsZSs2KSxnKHRoaXMsZSsyLGUrNSksZyh0aGlzLGUrMyxlKzQpO3JldHVybiB0aGlzfSxoLnByb3RvdHlwZS50b1N0cmluZz1mdW5jdGlvbigpe3ZhciB0PTB8dGhpcy5sZW5ndGg7cmV0dXJuIDA9PT10P1wiXCI6MD09PWFyZ3VtZW50cy5sZW5ndGg/VCh0aGlzLDAsdCk6cC5hcHBseSh0aGlzLGFyZ3VtZW50cyl9LGgucHJvdG90eXBlLmVxdWFscz1mdW5jdGlvbih0KXtpZighaC5pc0J1ZmZlcih0KSl0aHJvdyBuZXcgVHlwZUVycm9yKFwiQXJndW1lbnQgbXVzdCBiZSBhIEJ1ZmZlclwiKTtyZXR1cm4gdGhpcz09PXR8fDA9PT1oLmNvbXBhcmUodGhpcyx0KX0saC5wcm90b3R5cGUuaW5zcGVjdD1mdW5jdGlvbigpe3ZhciB0PVwiXCIsaT1lLklOU1BFQ1RfTUFYX0JZVEVTO3JldHVybiB0aGlzLmxlbmd0aD4wJiYodD10aGlzLnRvU3RyaW5nKFwiaGV4XCIsMCxpKS5tYXRjaCgvLnsyfS9nKS5qb2luKFwiIFwiKSx0aGlzLmxlbmd0aD5pJiYodCs9XCIgLi4uIFwiKSksXCI8QnVmZmVyIFwiK3QrXCI+XCJ9LGgucHJvdG90eXBlLmNvbXBhcmU9ZnVuY3Rpb24odCxlLGkscyxuKXtpZighaC5pc0J1ZmZlcih0KSl0aHJvdyBuZXcgVHlwZUVycm9yKFwiQXJndW1lbnQgbXVzdCBiZSBhIEJ1ZmZlclwiKTtpZih2b2lkIDA9PT1lJiYoZT0wKSx2b2lkIDA9PT1pJiYoaT10P3QubGVuZ3RoOjApLHZvaWQgMD09PXMmJihzPTApLHZvaWQgMD09PW4mJihuPXRoaXMubGVuZ3RoKSxlPDB8fGk+dC5sZW5ndGh8fHM8MHx8bj50aGlzLmxlbmd0aCl0aHJvdyBuZXcgUmFuZ2VFcnJvcihcIm91dCBvZiByYW5nZSBpbmRleFwiKTtpZihzPj1uJiZlPj1pKXJldHVybiAwO2lmKHM+PW4pcmV0dXJuLTE7aWYoZT49aSlyZXR1cm4gMTtpZih0aGlzPT09dClyZXR1cm4gMDtmb3IodmFyIHI9KG4+Pj49MCktKHM+Pj49MCksbz0oaT4+Pj0wKS0oZT4+Pj0wKSxhPU1hdGgubWluKHIsbyksbD10aGlzLnNsaWNlKHMsbiksYz10LnNsaWNlKGUsaSksdT0wO3U8YTsrK3UpaWYobFt1XSE9PWNbdV0pe3I9bFt1XSxvPWNbdV07YnJlYWt9cmV0dXJuIHI8bz8tMTpvPHI/MTowfSxoLnByb3RvdHlwZS5pbmNsdWRlcz1mdW5jdGlvbih0LGUsaSl7cmV0dXJuLTEhPT10aGlzLmluZGV4T2YodCxlLGkpfSxoLnByb3RvdHlwZS5pbmRleE9mPWZ1bmN0aW9uKHQsZSxpKXtyZXR1cm4gYih0aGlzLHQsZSxpLCEwKX0saC5wcm90b3R5cGUubGFzdEluZGV4T2Y9ZnVuY3Rpb24odCxlLGkpe3JldHVybiBiKHRoaXMsdCxlLGksITEpfSxoLnByb3RvdHlwZS53cml0ZT1mdW5jdGlvbih0LGUsaSxzKXtpZih2b2lkIDA9PT1lKXM9XCJ1dGY4XCIsaT10aGlzLmxlbmd0aCxlPTA7ZWxzZSBpZih2b2lkIDA9PT1pJiZcInN0cmluZ1wiPT10eXBlb2YgZSlzPWUsaT10aGlzLmxlbmd0aCxlPTA7ZWxzZXtpZighaXNGaW5pdGUoZSkpdGhyb3cgbmV3IEVycm9yKFwiQnVmZmVyLndyaXRlKHN0cmluZywgZW5jb2RpbmcsIG9mZnNldFssIGxlbmd0aF0pIGlzIG5vIGxvbmdlciBzdXBwb3J0ZWRcIik7ZXw9MCxpc0Zpbml0ZShpKT8oaXw9MCx2b2lkIDA9PT1zJiYocz1cInV0ZjhcIikpOihzPWksaT12b2lkIDApfXZhciBuPXRoaXMubGVuZ3RoLWU7aWYoKHZvaWQgMD09PWl8fGk+bikmJihpPW4pLHQubGVuZ3RoPjAmJihpPDB8fGU8MCl8fGU+dGhpcy5sZW5ndGgpdGhyb3cgbmV3IFJhbmdlRXJyb3IoXCJBdHRlbXB0IHRvIHdyaXRlIG91dHNpZGUgYnVmZmVyIGJvdW5kc1wiKTtzfHwocz1cInV0ZjhcIik7Zm9yKHZhciByPSExOzspc3dpdGNoKHMpe2Nhc2VcImhleFwiOnJldHVybiB5KHRoaXMsdCxlLGkpO2Nhc2VcInV0ZjhcIjpjYXNlXCJ1dGYtOFwiOnJldHVybiB4KHRoaXMsdCxlLGkpO2Nhc2VcImFzY2lpXCI6cmV0dXJuIEUodGhpcyx0LGUsaSk7Y2FzZVwibGF0aW4xXCI6Y2FzZVwiYmluYXJ5XCI6cmV0dXJuIHYodGhpcyx0LGUsaSk7Y2FzZVwiYmFzZTY0XCI6cmV0dXJuIF8odGhpcyx0LGUsaSk7Y2FzZVwidWNzMlwiOmNhc2VcInVjcy0yXCI6Y2FzZVwidXRmMTZsZVwiOmNhc2VcInV0Zi0xNmxlXCI6cmV0dXJuIHcodGhpcyx0LGUsaSk7ZGVmYXVsdDppZihyKXRocm93IG5ldyBUeXBlRXJyb3IoXCJVbmtub3duIGVuY29kaW5nOiBcIitzKTtzPShcIlwiK3MpLnRvTG93ZXJDYXNlKCkscj0hMH19LGgucHJvdG90eXBlLnRvSlNPTj1mdW5jdGlvbigpe3JldHVybnt0eXBlOlwiQnVmZmVyXCIsZGF0YTpBcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbCh0aGlzLl9hcnJ8fHRoaXMsMCl9fTtmdW5jdGlvbiBQKHQsZSxpKXt2YXIgcz1cIlwiO2k9TWF0aC5taW4odC5sZW5ndGgsaSk7Zm9yKHZhciBuPWU7bjxpOysrbilzKz1TdHJpbmcuZnJvbUNoYXJDb2RlKDEyNyZ0W25dKTtyZXR1cm4gc31mdW5jdGlvbiBMKHQsZSxpKXt2YXIgcz1cIlwiO2k9TWF0aC5taW4odC5sZW5ndGgsaSk7Zm9yKHZhciBuPWU7bjxpOysrbilzKz1TdHJpbmcuZnJvbUNoYXJDb2RlKHRbbl0pO3JldHVybiBzfWZ1bmN0aW9uIEEodCxlLGkpe3ZhciBzPXQubGVuZ3RoOyghZXx8ZTwwKSYmKGU9MCksKCFpfHxpPDB8fGk+cykmJihpPXMpO2Zvcih2YXIgbj1cIlwiLHI9ZTtyPGk7KytyKW4rPVYodFtyXSk7cmV0dXJuIG59ZnVuY3Rpb24gSSh0LGUsaSl7Zm9yKHZhciBzPXQuc2xpY2UoZSxpKSxuPVwiXCIscj0wO3I8cy5sZW5ndGg7cis9MiluKz1TdHJpbmcuZnJvbUNoYXJDb2RlKHNbcl0rMjU2KnNbcisxXSk7cmV0dXJuIG59ZnVuY3Rpb24gQyh0LGUsaSl7aWYodCUxIT0wfHx0PDApdGhyb3cgbmV3IFJhbmdlRXJyb3IoXCJvZmZzZXQgaXMgbm90IHVpbnRcIik7aWYodCtlPmkpdGhyb3cgbmV3IFJhbmdlRXJyb3IoXCJUcnlpbmcgdG8gYWNjZXNzIGJleW9uZCBidWZmZXIgbGVuZ3RoXCIpfWZ1bmN0aW9uIFIodCxlLGkscyxuLHIpe2lmKCFoLmlzQnVmZmVyKHQpKXRocm93IG5ldyBUeXBlRXJyb3IoJ1wiYnVmZmVyXCIgYXJndW1lbnQgbXVzdCBiZSBhIEJ1ZmZlciBpbnN0YW5jZScpO2lmKGU+bnx8ZTxyKXRocm93IG5ldyBSYW5nZUVycm9yKCdcInZhbHVlXCIgYXJndW1lbnQgaXMgb3V0IG9mIGJvdW5kcycpO2lmKGkrcz50Lmxlbmd0aCl0aHJvdyBuZXcgUmFuZ2VFcnJvcihcIkluZGV4IG91dCBvZiByYW5nZVwiKX1mdW5jdGlvbiBOKHQsZSxpLHMpe2U8MCYmKGU9NjU1MzUrZSsxKTtmb3IodmFyIG49MCxyPU1hdGgubWluKHQubGVuZ3RoLWksMik7bjxyOysrbil0W2krbl09KGUmMjU1PDw4KihzP246MS1uKSk+Pj44KihzP246MS1uKX1mdW5jdGlvbiBCKHQsZSxpLHMpe2U8MCYmKGU9NDI5NDk2NzI5NStlKzEpO2Zvcih2YXIgbj0wLHI9TWF0aC5taW4odC5sZW5ndGgtaSw0KTtuPHI7KytuKXRbaStuXT1lPj4+OCoocz9uOjMtbikmMjU1fWZ1bmN0aW9uIEYodCxlLGkscyxuLHIpe2lmKGkrcz50Lmxlbmd0aCl0aHJvdyBuZXcgUmFuZ2VFcnJvcihcIkluZGV4IG91dCBvZiByYW5nZVwiKTtpZihpPDApdGhyb3cgbmV3IFJhbmdlRXJyb3IoXCJJbmRleCBvdXQgb2YgcmFuZ2VcIil9ZnVuY3Rpb24gRCh0LGUsaSxzLHIpe3JldHVybiByfHxGKHQsMCxpLDQpLG4ud3JpdGUodCxlLGkscywyMyw0KSxpKzR9ZnVuY3Rpb24gayh0LGUsaSxzLHIpe3JldHVybiByfHxGKHQsMCxpLDgpLG4ud3JpdGUodCxlLGkscyw1Miw4KSxpKzh9aC5wcm90b3R5cGUuc2xpY2U9ZnVuY3Rpb24odCxlKXt2YXIgaSxzPXRoaXMubGVuZ3RoO2lmKCh0PX5+dCk8MD8odCs9cyk8MCYmKHQ9MCk6dD5zJiYodD1zKSwoZT12b2lkIDA9PT1lP3M6fn5lKTwwPyhlKz1zKTwwJiYoZT0wKTplPnMmJihlPXMpLGU8dCYmKGU9dCksaC5UWVBFRF9BUlJBWV9TVVBQT1JUKShpPXRoaXMuc3ViYXJyYXkodCxlKSkuX19wcm90b19fPWgucHJvdG90eXBlO2Vsc2V7dmFyIG49ZS10O2k9bmV3IGgobix2b2lkIDApO2Zvcih2YXIgcj0wO3I8bjsrK3IpaVtyXT10aGlzW3IrdF19cmV0dXJuIGl9LGgucHJvdG90eXBlLnJlYWRVSW50TEU9ZnVuY3Rpb24odCxlLGkpe3R8PTAsZXw9MCxpfHxDKHQsZSx0aGlzLmxlbmd0aCk7Zm9yKHZhciBzPXRoaXNbdF0sbj0xLHI9MDsrK3I8ZSYmKG4qPTI1Nik7KXMrPXRoaXNbdCtyXSpuO3JldHVybiBzfSxoLnByb3RvdHlwZS5yZWFkVUludEJFPWZ1bmN0aW9uKHQsZSxpKXt0fD0wLGV8PTAsaXx8Qyh0LGUsdGhpcy5sZW5ndGgpO2Zvcih2YXIgcz10aGlzW3QrLS1lXSxuPTE7ZT4wJiYobio9MjU2KTspcys9dGhpc1t0Ky0tZV0qbjtyZXR1cm4gc30saC5wcm90b3R5cGUucmVhZFVJbnQ4PWZ1bmN0aW9uKHQsZSl7cmV0dXJuIGV8fEModCwxLHRoaXMubGVuZ3RoKSx0aGlzW3RdfSxoLnByb3RvdHlwZS5yZWFkVUludDE2TEU9ZnVuY3Rpb24odCxlKXtyZXR1cm4gZXx8Qyh0LDIsdGhpcy5sZW5ndGgpLHRoaXNbdF18dGhpc1t0KzFdPDw4fSxoLnByb3RvdHlwZS5yZWFkVUludDE2QkU9ZnVuY3Rpb24odCxlKXtyZXR1cm4gZXx8Qyh0LDIsdGhpcy5sZW5ndGgpLHRoaXNbdF08PDh8dGhpc1t0KzFdfSxoLnByb3RvdHlwZS5yZWFkVUludDMyTEU9ZnVuY3Rpb24odCxlKXtyZXR1cm4gZXx8Qyh0LDQsdGhpcy5sZW5ndGgpLCh0aGlzW3RdfHRoaXNbdCsxXTw8OHx0aGlzW3QrMl08PDE2KSsxNjc3NzIxNip0aGlzW3QrM119LGgucHJvdG90eXBlLnJlYWRVSW50MzJCRT1mdW5jdGlvbih0LGUpe3JldHVybiBlfHxDKHQsNCx0aGlzLmxlbmd0aCksMTY3NzcyMTYqdGhpc1t0XSsodGhpc1t0KzFdPDwxNnx0aGlzW3QrMl08PDh8dGhpc1t0KzNdKX0saC5wcm90b3R5cGUucmVhZEludExFPWZ1bmN0aW9uKHQsZSxpKXt0fD0wLGV8PTAsaXx8Qyh0LGUsdGhpcy5sZW5ndGgpO2Zvcih2YXIgcz10aGlzW3RdLG49MSxyPTA7KytyPGUmJihuKj0yNTYpOylzKz10aGlzW3Qrcl0qbjtyZXR1cm4gcz49KG4qPTEyOCkmJihzLT1NYXRoLnBvdygyLDgqZSkpLHN9LGgucHJvdG90eXBlLnJlYWRJbnRCRT1mdW5jdGlvbih0LGUsaSl7dHw9MCxlfD0wLGl8fEModCxlLHRoaXMubGVuZ3RoKTtmb3IodmFyIHM9ZSxuPTEscj10aGlzW3QrLS1zXTtzPjAmJihuKj0yNTYpOylyKz10aGlzW3QrLS1zXSpuO3JldHVybiByPj0obio9MTI4KSYmKHItPU1hdGgucG93KDIsOCplKSkscn0saC5wcm90b3R5cGUucmVhZEludDg9ZnVuY3Rpb24odCxlKXtyZXR1cm4gZXx8Qyh0LDEsdGhpcy5sZW5ndGgpLDEyOCZ0aGlzW3RdPy0xKigyNTUtdGhpc1t0XSsxKTp0aGlzW3RdfSxoLnByb3RvdHlwZS5yZWFkSW50MTZMRT1mdW5jdGlvbih0LGUpe2V8fEModCwyLHRoaXMubGVuZ3RoKTt2YXIgaT10aGlzW3RdfHRoaXNbdCsxXTw8ODtyZXR1cm4gMzI3NjgmaT80Mjk0OTAxNzYwfGk6aX0saC5wcm90b3R5cGUucmVhZEludDE2QkU9ZnVuY3Rpb24odCxlKXtlfHxDKHQsMix0aGlzLmxlbmd0aCk7dmFyIGk9dGhpc1t0KzFdfHRoaXNbdF08PDg7cmV0dXJuIDMyNzY4Jmk/NDI5NDkwMTc2MHxpOml9LGgucHJvdG90eXBlLnJlYWRJbnQzMkxFPWZ1bmN0aW9uKHQsZSl7cmV0dXJuIGV8fEModCw0LHRoaXMubGVuZ3RoKSx0aGlzW3RdfHRoaXNbdCsxXTw8OHx0aGlzW3QrMl08PDE2fHRoaXNbdCszXTw8MjR9LGgucHJvdG90eXBlLnJlYWRJbnQzMkJFPWZ1bmN0aW9uKHQsZSl7cmV0dXJuIGV8fEModCw0LHRoaXMubGVuZ3RoKSx0aGlzW3RdPDwyNHx0aGlzW3QrMV08PDE2fHRoaXNbdCsyXTw8OHx0aGlzW3QrM119LGgucHJvdG90eXBlLnJlYWRGbG9hdExFPWZ1bmN0aW9uKHQsZSl7cmV0dXJuIGV8fEModCw0LHRoaXMubGVuZ3RoKSxuLnJlYWQodGhpcyx0LCEwLDIzLDQpfSxoLnByb3RvdHlwZS5yZWFkRmxvYXRCRT1mdW5jdGlvbih0LGUpe3JldHVybiBlfHxDKHQsNCx0aGlzLmxlbmd0aCksbi5yZWFkKHRoaXMsdCwhMSwyMyw0KX0saC5wcm90b3R5cGUucmVhZERvdWJsZUxFPWZ1bmN0aW9uKHQsZSl7cmV0dXJuIGV8fEModCw4LHRoaXMubGVuZ3RoKSxuLnJlYWQodGhpcyx0LCEwLDUyLDgpfSxoLnByb3RvdHlwZS5yZWFkRG91YmxlQkU9ZnVuY3Rpb24odCxlKXtyZXR1cm4gZXx8Qyh0LDgsdGhpcy5sZW5ndGgpLG4ucmVhZCh0aGlzLHQsITEsNTIsOCl9LGgucHJvdG90eXBlLndyaXRlVUludExFPWZ1bmN0aW9uKHQsZSxpLHMpeyh0PSt0LGV8PTAsaXw9MCxzKXx8Uih0aGlzLHQsZSxpLE1hdGgucG93KDIsOCppKS0xLDApO3ZhciBuPTEscj0wO2Zvcih0aGlzW2VdPTI1NSZ0OysrcjxpJiYobio9MjU2KTspdGhpc1tlK3JdPXQvbiYyNTU7cmV0dXJuIGUraX0saC5wcm90b3R5cGUud3JpdGVVSW50QkU9ZnVuY3Rpb24odCxlLGkscyl7KHQ9K3QsZXw9MCxpfD0wLHMpfHxSKHRoaXMsdCxlLGksTWF0aC5wb3coMiw4KmkpLTEsMCk7dmFyIG49aS0xLHI9MTtmb3IodGhpc1tlK25dPTI1NSZ0Oy0tbj49MCYmKHIqPTI1Nik7KXRoaXNbZStuXT10L3ImMjU1O3JldHVybiBlK2l9LGgucHJvdG90eXBlLndyaXRlVUludDg9ZnVuY3Rpb24odCxlLGkpe3JldHVybiB0PSt0LGV8PTAsaXx8Uih0aGlzLHQsZSwxLDI1NSwwKSxoLlRZUEVEX0FSUkFZX1NVUFBPUlR8fCh0PU1hdGguZmxvb3IodCkpLHRoaXNbZV09MjU1JnQsZSsxfSxoLnByb3RvdHlwZS53cml0ZVVJbnQxNkxFPWZ1bmN0aW9uKHQsZSxpKXtyZXR1cm4gdD0rdCxlfD0wLGl8fFIodGhpcyx0LGUsMiw2NTUzNSwwKSxoLlRZUEVEX0FSUkFZX1NVUFBPUlQ/KHRoaXNbZV09MjU1JnQsdGhpc1tlKzFdPXQ+Pj44KTpOKHRoaXMsdCxlLCEwKSxlKzJ9LGgucHJvdG90eXBlLndyaXRlVUludDE2QkU9ZnVuY3Rpb24odCxlLGkpe3JldHVybiB0PSt0LGV8PTAsaXx8Uih0aGlzLHQsZSwyLDY1NTM1LDApLGguVFlQRURfQVJSQVlfU1VQUE9SVD8odGhpc1tlXT10Pj4+OCx0aGlzW2UrMV09MjU1JnQpOk4odGhpcyx0LGUsITEpLGUrMn0saC5wcm90b3R5cGUud3JpdGVVSW50MzJMRT1mdW5jdGlvbih0LGUsaSl7cmV0dXJuIHQ9K3QsZXw9MCxpfHxSKHRoaXMsdCxlLDQsNDI5NDk2NzI5NSwwKSxoLlRZUEVEX0FSUkFZX1NVUFBPUlQ/KHRoaXNbZSszXT10Pj4+MjQsdGhpc1tlKzJdPXQ+Pj4xNix0aGlzW2UrMV09dD4+PjgsdGhpc1tlXT0yNTUmdCk6Qih0aGlzLHQsZSwhMCksZSs0fSxoLnByb3RvdHlwZS53cml0ZVVJbnQzMkJFPWZ1bmN0aW9uKHQsZSxpKXtyZXR1cm4gdD0rdCxlfD0wLGl8fFIodGhpcyx0LGUsNCw0Mjk0OTY3Mjk1LDApLGguVFlQRURfQVJSQVlfU1VQUE9SVD8odGhpc1tlXT10Pj4+MjQsdGhpc1tlKzFdPXQ+Pj4xNix0aGlzW2UrMl09dD4+PjgsdGhpc1tlKzNdPTI1NSZ0KTpCKHRoaXMsdCxlLCExKSxlKzR9LGgucHJvdG90eXBlLndyaXRlSW50TEU9ZnVuY3Rpb24odCxlLGkscyl7aWYodD0rdCxlfD0wLCFzKXt2YXIgbj1NYXRoLnBvdygyLDgqaS0xKTtSKHRoaXMsdCxlLGksbi0xLC1uKX12YXIgcj0wLG89MSxhPTA7Zm9yKHRoaXNbZV09MjU1JnQ7KytyPGkmJihvKj0yNTYpOyl0PDAmJjA9PT1hJiYwIT09dGhpc1tlK3ItMV0mJihhPTEpLHRoaXNbZStyXT0odC9vPj4wKS1hJjI1NTtyZXR1cm4gZStpfSxoLnByb3RvdHlwZS53cml0ZUludEJFPWZ1bmN0aW9uKHQsZSxpLHMpe2lmKHQ9K3QsZXw9MCwhcyl7dmFyIG49TWF0aC5wb3coMiw4KmktMSk7Uih0aGlzLHQsZSxpLG4tMSwtbil9dmFyIHI9aS0xLG89MSxhPTA7Zm9yKHRoaXNbZStyXT0yNTUmdDstLXI+PTAmJihvKj0yNTYpOyl0PDAmJjA9PT1hJiYwIT09dGhpc1tlK3IrMV0mJihhPTEpLHRoaXNbZStyXT0odC9vPj4wKS1hJjI1NTtyZXR1cm4gZStpfSxoLnByb3RvdHlwZS53cml0ZUludDg9ZnVuY3Rpb24odCxlLGkpe3JldHVybiB0PSt0LGV8PTAsaXx8Uih0aGlzLHQsZSwxLDEyNywtMTI4KSxoLlRZUEVEX0FSUkFZX1NVUFBPUlR8fCh0PU1hdGguZmxvb3IodCkpLHQ8MCYmKHQ9MjU1K3QrMSksdGhpc1tlXT0yNTUmdCxlKzF9LGgucHJvdG90eXBlLndyaXRlSW50MTZMRT1mdW5jdGlvbih0LGUsaSl7cmV0dXJuIHQ9K3QsZXw9MCxpfHxSKHRoaXMsdCxlLDIsMzI3NjcsLTMyNzY4KSxoLlRZUEVEX0FSUkFZX1NVUFBPUlQ/KHRoaXNbZV09MjU1JnQsdGhpc1tlKzFdPXQ+Pj44KTpOKHRoaXMsdCxlLCEwKSxlKzJ9LGgucHJvdG90eXBlLndyaXRlSW50MTZCRT1mdW5jdGlvbih0LGUsaSl7cmV0dXJuIHQ9K3QsZXw9MCxpfHxSKHRoaXMsdCxlLDIsMzI3NjcsLTMyNzY4KSxoLlRZUEVEX0FSUkFZX1NVUFBPUlQ/KHRoaXNbZV09dD4+PjgsdGhpc1tlKzFdPTI1NSZ0KTpOKHRoaXMsdCxlLCExKSxlKzJ9LGgucHJvdG90eXBlLndyaXRlSW50MzJMRT1mdW5jdGlvbih0LGUsaSl7cmV0dXJuIHQ9K3QsZXw9MCxpfHxSKHRoaXMsdCxlLDQsMjE0NzQ4MzY0NywtMjE0NzQ4MzY0OCksaC5UWVBFRF9BUlJBWV9TVVBQT1JUPyh0aGlzW2VdPTI1NSZ0LHRoaXNbZSsxXT10Pj4+OCx0aGlzW2UrMl09dD4+PjE2LHRoaXNbZSszXT10Pj4+MjQpOkIodGhpcyx0LGUsITApLGUrNH0saC5wcm90b3R5cGUud3JpdGVJbnQzMkJFPWZ1bmN0aW9uKHQsZSxpKXtyZXR1cm4gdD0rdCxlfD0wLGl8fFIodGhpcyx0LGUsNCwyMTQ3NDgzNjQ3LC0yMTQ3NDgzNjQ4KSx0PDAmJih0PTQyOTQ5NjcyOTUrdCsxKSxoLlRZUEVEX0FSUkFZX1NVUFBPUlQ/KHRoaXNbZV09dD4+PjI0LHRoaXNbZSsxXT10Pj4+MTYsdGhpc1tlKzJdPXQ+Pj44LHRoaXNbZSszXT0yNTUmdCk6Qih0aGlzLHQsZSwhMSksZSs0fSxoLnByb3RvdHlwZS53cml0ZUZsb2F0TEU9ZnVuY3Rpb24odCxlLGkpe3JldHVybiBEKHRoaXMsdCxlLCEwLGkpfSxoLnByb3RvdHlwZS53cml0ZUZsb2F0QkU9ZnVuY3Rpb24odCxlLGkpe3JldHVybiBEKHRoaXMsdCxlLCExLGkpfSxoLnByb3RvdHlwZS53cml0ZURvdWJsZUxFPWZ1bmN0aW9uKHQsZSxpKXtyZXR1cm4gayh0aGlzLHQsZSwhMCxpKX0saC5wcm90b3R5cGUud3JpdGVEb3VibGVCRT1mdW5jdGlvbih0LGUsaSl7cmV0dXJuIGsodGhpcyx0LGUsITEsaSl9LGgucHJvdG90eXBlLmNvcHk9ZnVuY3Rpb24odCxlLGkscyl7aWYoaXx8KGk9MCksc3x8MD09PXN8fChzPXRoaXMubGVuZ3RoKSxlPj10Lmxlbmd0aCYmKGU9dC5sZW5ndGgpLGV8fChlPTApLHM+MCYmczxpJiYocz1pKSxzPT09aSlyZXR1cm4gMDtpZigwPT09dC5sZW5ndGh8fDA9PT10aGlzLmxlbmd0aClyZXR1cm4gMDtpZihlPDApdGhyb3cgbmV3IFJhbmdlRXJyb3IoXCJ0YXJnZXRTdGFydCBvdXQgb2YgYm91bmRzXCIpO2lmKGk8MHx8aT49dGhpcy5sZW5ndGgpdGhyb3cgbmV3IFJhbmdlRXJyb3IoXCJzb3VyY2VTdGFydCBvdXQgb2YgYm91bmRzXCIpO2lmKHM8MCl0aHJvdyBuZXcgUmFuZ2VFcnJvcihcInNvdXJjZUVuZCBvdXQgb2YgYm91bmRzXCIpO3M+dGhpcy5sZW5ndGgmJihzPXRoaXMubGVuZ3RoKSx0Lmxlbmd0aC1lPHMtaSYmKHM9dC5sZW5ndGgtZStpKTt2YXIgbixyPXMtaTtpZih0aGlzPT09dCYmaTxlJiZlPHMpZm9yKG49ci0xO24+PTA7LS1uKXRbbitlXT10aGlzW24raV07ZWxzZSBpZihyPDFlM3x8IWguVFlQRURfQVJSQVlfU1VQUE9SVClmb3Iobj0wO248cjsrK24pdFtuK2VdPXRoaXNbbitpXTtlbHNlIFVpbnQ4QXJyYXkucHJvdG90eXBlLnNldC5jYWxsKHQsdGhpcy5zdWJhcnJheShpLGkrciksZSk7cmV0dXJuIHJ9LGgucHJvdG90eXBlLmZpbGw9ZnVuY3Rpb24odCxlLGkscyl7aWYoXCJzdHJpbmdcIj09dHlwZW9mIHQpe2lmKFwic3RyaW5nXCI9PXR5cGVvZiBlPyhzPWUsZT0wLGk9dGhpcy5sZW5ndGgpOlwic3RyaW5nXCI9PXR5cGVvZiBpJiYocz1pLGk9dGhpcy5sZW5ndGgpLDE9PT10Lmxlbmd0aCl7dmFyIG49dC5jaGFyQ29kZUF0KDApO248MjU2JiYodD1uKX1pZih2b2lkIDAhPT1zJiZcInN0cmluZ1wiIT10eXBlb2Ygcyl0aHJvdyBuZXcgVHlwZUVycm9yKFwiZW5jb2RpbmcgbXVzdCBiZSBhIHN0cmluZ1wiKTtpZihcInN0cmluZ1wiPT10eXBlb2YgcyYmIWguaXNFbmNvZGluZyhzKSl0aHJvdyBuZXcgVHlwZUVycm9yKFwiVW5rbm93biBlbmNvZGluZzogXCIrcyl9ZWxzZVwibnVtYmVyXCI9PXR5cGVvZiB0JiYodCY9MjU1KTtpZihlPDB8fHRoaXMubGVuZ3RoPGV8fHRoaXMubGVuZ3RoPGkpdGhyb3cgbmV3IFJhbmdlRXJyb3IoXCJPdXQgb2YgcmFuZ2UgaW5kZXhcIik7aWYoaTw9ZSlyZXR1cm4gdGhpczt2YXIgcjtpZihlPj4+PTAsaT12b2lkIDA9PT1pP3RoaXMubGVuZ3RoOmk+Pj4wLHR8fCh0PTApLFwibnVtYmVyXCI9PXR5cGVvZiB0KWZvcihyPWU7cjxpOysrcil0aGlzW3JdPXQ7ZWxzZXt2YXIgbz1oLmlzQnVmZmVyKHQpP3Q6RyhuZXcgaCh0LHMpLnRvU3RyaW5nKCkpLGE9by5sZW5ndGg7Zm9yKHI9MDtyPGktZTsrK3IpdGhpc1tyK2VdPW9bciVhXX1yZXR1cm4gdGhpc307dmFyIE89L1teK1xcLzAtOUEtWmEtei1fXS9nO2Z1bmN0aW9uIFYodCl7cmV0dXJuIHQ8MTY/XCIwXCIrdC50b1N0cmluZygxNik6dC50b1N0cmluZygxNil9ZnVuY3Rpb24gRyh0LGUpe3ZhciBpO2U9ZXx8MS8wO2Zvcih2YXIgcz10Lmxlbmd0aCxuPW51bGwscj1bXSxvPTA7bzxzOysrbyl7aWYoKGk9dC5jaGFyQ29kZUF0KG8pKT41NTI5NSYmaTw1NzM0NCl7aWYoIW4pe2lmKGk+NTYzMTkpeyhlLT0zKT4tMSYmci5wdXNoKDIzOSwxOTEsMTg5KTtjb250aW51ZX1pZihvKzE9PT1zKXsoZS09Myk+LTEmJnIucHVzaCgyMzksMTkxLDE4OSk7Y29udGludWV9bj1pO2NvbnRpbnVlfWlmKGk8NTYzMjApeyhlLT0zKT4tMSYmci5wdXNoKDIzOSwxOTEsMTg5KSxuPWk7Y29udGludWV9aT02NTUzNisobi01NTI5Njw8MTB8aS01NjMyMCl9ZWxzZSBuJiYoZS09Myk+LTEmJnIucHVzaCgyMzksMTkxLDE4OSk7aWYobj1udWxsLGk8MTI4KXtpZigoZS09MSk8MClicmVhaztyLnB1c2goaSl9ZWxzZSBpZihpPDIwNDgpe2lmKChlLT0yKTwwKWJyZWFrO3IucHVzaChpPj42fDE5Miw2MyZpfDEyOCl9ZWxzZSBpZihpPDY1NTM2KXtpZigoZS09Myk8MClicmVhaztyLnB1c2goaT4+MTJ8MjI0LGk+PjYmNjN8MTI4LDYzJml8MTI4KX1lbHNle2lmKCEoaTwxMTE0MTEyKSl0aHJvdyBuZXcgRXJyb3IoXCJJbnZhbGlkIGNvZGUgcG9pbnRcIik7aWYoKGUtPTQpPDApYnJlYWs7ci5wdXNoKGk+PjE4fDI0MCxpPj4xMiY2M3wxMjgsaT4+NiY2M3wxMjgsNjMmaXwxMjgpfX1yZXR1cm4gcn1mdW5jdGlvbiBXKHQpe3JldHVybiBzLnRvQnl0ZUFycmF5KGZ1bmN0aW9uKHQpe2lmKCh0PWZ1bmN0aW9uKHQpe3JldHVybiB0LnRyaW0/dC50cmltKCk6dC5yZXBsYWNlKC9eXFxzK3xcXHMrJC9nLFwiXCIpfSh0KS5yZXBsYWNlKE8sXCJcIikpLmxlbmd0aDwyKXJldHVyblwiXCI7Zm9yKDt0Lmxlbmd0aCU0IT0wOyl0Kz1cIj1cIjtyZXR1cm4gdH0odCkpfWZ1bmN0aW9uIHoodCxlLGkscyl7Zm9yKHZhciBuPTA7bjxzJiYhKG4raT49ZS5sZW5ndGh8fG4+PXQubGVuZ3RoKTsrK24pZVtuK2ldPXRbbl07cmV0dXJuIG59fSkuY2FsbCh0aGlzLGkoNDApKX0sZnVuY3Rpb24odCxlLGkpe1widXNlIHN0cmljdFwiO2UuYnl0ZUxlbmd0aD1mdW5jdGlvbih0KXt2YXIgZT1sKHQpLGk9ZVswXSxzPWVbMV07cmV0dXJuIDMqKGkrcykvNC1zfSxlLnRvQnl0ZUFycmF5PWZ1bmN0aW9uKHQpe3ZhciBlLGkscz1sKHQpLG89c1swXSxhPXNbMV0saD1uZXcgcihmdW5jdGlvbih0LGUsaSl7cmV0dXJuIDMqKGUraSkvNC1pfSgwLG8sYSkpLGM9MCx1PWE+MD9vLTQ6bztmb3IoaT0wO2k8dTtpKz00KWU9blt0LmNoYXJDb2RlQXQoaSldPDwxOHxuW3QuY2hhckNvZGVBdChpKzEpXTw8MTJ8blt0LmNoYXJDb2RlQXQoaSsyKV08PDZ8blt0LmNoYXJDb2RlQXQoaSszKV0saFtjKytdPWU+PjE2JjI1NSxoW2MrK109ZT4+OCYyNTUsaFtjKytdPTI1NSZlOzI9PT1hJiYoZT1uW3QuY2hhckNvZGVBdChpKV08PDJ8blt0LmNoYXJDb2RlQXQoaSsxKV0+PjQsaFtjKytdPTI1NSZlKTsxPT09YSYmKGU9blt0LmNoYXJDb2RlQXQoaSldPDwxMHxuW3QuY2hhckNvZGVBdChpKzEpXTw8NHxuW3QuY2hhckNvZGVBdChpKzIpXT4+MixoW2MrK109ZT4+OCYyNTUsaFtjKytdPTI1NSZlKTtyZXR1cm4gaH0sZS5mcm9tQnl0ZUFycmF5PWZ1bmN0aW9uKHQpe2Zvcih2YXIgZSxpPXQubGVuZ3RoLG49aSUzLHI9W10sbz0wLGE9aS1uO288YTtvKz0xNjM4MylyLnB1c2goYyh0LG8sbysxNjM4Mz5hP2E6bysxNjM4MykpOzE9PT1uPyhlPXRbaS0xXSxyLnB1c2goc1tlPj4yXStzW2U8PDQmNjNdK1wiPT1cIikpOjI9PT1uJiYoZT0odFtpLTJdPDw4KSt0W2ktMV0sci5wdXNoKHNbZT4+MTBdK3NbZT4+NCY2M10rc1tlPDwyJjYzXStcIj1cIikpO3JldHVybiByLmpvaW4oXCJcIil9O2Zvcih2YXIgcz1bXSxuPVtdLHI9XCJ1bmRlZmluZWRcIiE9dHlwZW9mIFVpbnQ4QXJyYXk/VWludDhBcnJheTpBcnJheSxvPVwiQUJDREVGR0hJSktMTU5PUFFSU1RVVldYWVphYmNkZWZnaGlqa2xtbm9wcXJzdHV2d3h5ejAxMjM0NTY3ODkrL1wiLGE9MCxoPW8ubGVuZ3RoO2E8aDsrK2Epc1thXT1vW2FdLG5bby5jaGFyQ29kZUF0KGEpXT1hO2Z1bmN0aW9uIGwodCl7dmFyIGU9dC5sZW5ndGg7aWYoZSU0PjApdGhyb3cgbmV3IEVycm9yKFwiSW52YWxpZCBzdHJpbmcuIExlbmd0aCBtdXN0IGJlIGEgbXVsdGlwbGUgb2YgNFwiKTt2YXIgaT10LmluZGV4T2YoXCI9XCIpO3JldHVybi0xPT09aSYmKGk9ZSksW2ksaT09PWU/MDo0LWklNF19ZnVuY3Rpb24gYyh0LGUsaSl7Zm9yKHZhciBuLHIsbz1bXSxhPWU7YTxpO2ErPTMpbj0odFthXTw8MTYmMTY3MTE2ODApKyh0W2ErMV08PDgmNjUyODApKygyNTUmdFthKzJdKSxvLnB1c2goc1socj1uKT4+MTgmNjNdK3Nbcj4+MTImNjNdK3Nbcj4+NiY2M10rc1s2MyZyXSk7cmV0dXJuIG8uam9pbihcIlwiKX1uW1wiLVwiLmNoYXJDb2RlQXQoMCldPTYyLG5bXCJfXCIuY2hhckNvZGVBdCgwKV09NjN9LGZ1bmN0aW9uKHQsZSl7ZS5yZWFkPWZ1bmN0aW9uKHQsZSxpLHMsbil7dmFyIHIsbyxhPTgqbi1zLTEsaD0oMTw8YSktMSxsPWg+PjEsYz0tNyx1PWk/bi0xOjAsZD1pPy0xOjEsZj10W2UrdV07Zm9yKHUrPWQscj1mJigxPDwtYyktMSxmPj49LWMsYys9YTtjPjA7cj0yNTYqcit0W2UrdV0sdSs9ZCxjLT04KTtmb3Iobz1yJigxPDwtYyktMSxyPj49LWMsYys9cztjPjA7bz0yNTYqbyt0W2UrdV0sdSs9ZCxjLT04KTtpZigwPT09cilyPTEtbDtlbHNle2lmKHI9PT1oKXJldHVybiBvP05hTjoxLzAqKGY/LTE6MSk7bys9TWF0aC5wb3coMixzKSxyLT1sfXJldHVybihmPy0xOjEpKm8qTWF0aC5wb3coMixyLXMpfSxlLndyaXRlPWZ1bmN0aW9uKHQsZSxpLHMsbixyKXt2YXIgbyxhLGgsbD04KnItbi0xLGM9KDE8PGwpLTEsdT1jPj4xLGQ9MjM9PT1uP01hdGgucG93KDIsLTI0KS1NYXRoLnBvdygyLC03Nyk6MCxmPXM/MDpyLTEsbT1zPzE6LTEscD1lPDB8fDA9PT1lJiYxL2U8MD8xOjA7Zm9yKGU9TWF0aC5hYnMoZSksaXNOYU4oZSl8fGU9PT0xLzA/KGE9aXNOYU4oZSk/MTowLG89Yyk6KG89TWF0aC5mbG9vcihNYXRoLmxvZyhlKS9NYXRoLkxOMiksZSooaD1NYXRoLnBvdygyLC1vKSk8MSYmKG8tLSxoKj0yKSwoZSs9byt1Pj0xP2QvaDpkKk1hdGgucG93KDIsMS11KSkqaD49MiYmKG8rKyxoLz0yKSxvK3U+PWM/KGE9MCxvPWMpOm8rdT49MT8oYT0oZSpoLTEpKk1hdGgucG93KDIsbiksbys9dSk6KGE9ZSpNYXRoLnBvdygyLHUtMSkqTWF0aC5wb3coMixuKSxvPTApKTtuPj04O3RbaStmXT0yNTUmYSxmKz1tLGEvPTI1NixuLT04KTtmb3Iobz1vPDxufGEsbCs9bjtsPjA7dFtpK2ZdPTI1NSZvLGYrPW0sby89MjU2LGwtPTgpO3RbaStmLW1dfD0xMjgqcH19LGZ1bmN0aW9uKHQsZSl7dmFyIGk9e30udG9TdHJpbmc7dC5leHBvcnRzPUFycmF5LmlzQXJyYXl8fGZ1bmN0aW9uKHQpe3JldHVyblwiW29iamVjdCBBcnJheV1cIj09aS5jYWxsKHQpfX0sZnVuY3Rpb24odCxlLGkpeyhmdW5jdGlvbih0KXt2YXIgcz12b2lkIDAhPT10JiZ0fHxcInVuZGVmaW5lZFwiIT10eXBlb2Ygc2VsZiYmc2VsZnx8d2luZG93LG49RnVuY3Rpb24ucHJvdG90eXBlLmFwcGx5O2Z1bmN0aW9uIHIodCxlKXt0aGlzLl9pZD10LHRoaXMuX2NsZWFyRm49ZX1lLnNldFRpbWVvdXQ9ZnVuY3Rpb24oKXtyZXR1cm4gbmV3IHIobi5jYWxsKHNldFRpbWVvdXQscyxhcmd1bWVudHMpLGNsZWFyVGltZW91dCl9LGUuc2V0SW50ZXJ2YWw9ZnVuY3Rpb24oKXtyZXR1cm4gbmV3IHIobi5jYWxsKHNldEludGVydmFsLHMsYXJndW1lbnRzKSxjbGVhckludGVydmFsKX0sZS5jbGVhclRpbWVvdXQ9ZS5jbGVhckludGVydmFsPWZ1bmN0aW9uKHQpe3QmJnQuY2xvc2UoKX0sci5wcm90b3R5cGUudW5yZWY9ci5wcm90b3R5cGUucmVmPWZ1bmN0aW9uKCl7fSxyLnByb3RvdHlwZS5jbG9zZT1mdW5jdGlvbigpe3RoaXMuX2NsZWFyRm4uY2FsbChzLHRoaXMuX2lkKX0sZS5lbnJvbGw9ZnVuY3Rpb24odCxlKXtjbGVhclRpbWVvdXQodC5faWRsZVRpbWVvdXRJZCksdC5faWRsZVRpbWVvdXQ9ZX0sZS51bmVucm9sbD1mdW5jdGlvbih0KXtjbGVhclRpbWVvdXQodC5faWRsZVRpbWVvdXRJZCksdC5faWRsZVRpbWVvdXQ9LTF9LGUuX3VucmVmQWN0aXZlPWUuYWN0aXZlPWZ1bmN0aW9uKHQpe2NsZWFyVGltZW91dCh0Ll9pZGxlVGltZW91dElkKTt2YXIgZT10Ll9pZGxlVGltZW91dDtlPj0wJiYodC5faWRsZVRpbWVvdXRJZD1zZXRUaW1lb3V0KChmdW5jdGlvbigpe3QuX29uVGltZW91dCYmdC5fb25UaW1lb3V0KCl9KSxlKSl9LGkoMTc4KSxlLnNldEltbWVkaWF0ZT1cInVuZGVmaW5lZFwiIT10eXBlb2Ygc2VsZiYmc2VsZi5zZXRJbW1lZGlhdGV8fHZvaWQgMCE9PXQmJnQuc2V0SW1tZWRpYXRlfHx0aGlzJiZ0aGlzLnNldEltbWVkaWF0ZSxlLmNsZWFySW1tZWRpYXRlPVwidW5kZWZpbmVkXCIhPXR5cGVvZiBzZWxmJiZzZWxmLmNsZWFySW1tZWRpYXRlfHx2b2lkIDAhPT10JiZ0LmNsZWFySW1tZWRpYXRlfHx0aGlzJiZ0aGlzLmNsZWFySW1tZWRpYXRlfSkuY2FsbCh0aGlzLGkoNDApKX0sZnVuY3Rpb24odCxlLGkpeyhmdW5jdGlvbih0LGUpeyFmdW5jdGlvbih0LGkpe1widXNlIHN0cmljdFwiO2lmKCF0LnNldEltbWVkaWF0ZSl7dmFyIHMsbixyLG8sYSxoPTEsbD17fSxjPSExLHU9dC5kb2N1bWVudCxkPU9iamVjdC5nZXRQcm90b3R5cGVPZiYmT2JqZWN0LmdldFByb3RvdHlwZU9mKHQpO2Q9ZCYmZC5zZXRUaW1lb3V0P2Q6dCxcIltvYmplY3QgcHJvY2Vzc11cIj09PXt9LnRvU3RyaW5nLmNhbGwodC5wcm9jZXNzKT9zPWZ1bmN0aW9uKHQpe2UubmV4dFRpY2soKGZ1bmN0aW9uKCl7bSh0KX0pKX06IWZ1bmN0aW9uKCl7aWYodC5wb3N0TWVzc2FnZSYmIXQuaW1wb3J0U2NyaXB0cyl7dmFyIGU9ITAsaT10Lm9ubWVzc2FnZTtyZXR1cm4gdC5vbm1lc3NhZ2U9ZnVuY3Rpb24oKXtlPSExfSx0LnBvc3RNZXNzYWdlKFwiXCIsXCIqXCIpLHQub25tZXNzYWdlPWksZX19KCk/dC5NZXNzYWdlQ2hhbm5lbD8oKHI9bmV3IE1lc3NhZ2VDaGFubmVsKS5wb3J0MS5vbm1lc3NhZ2U9ZnVuY3Rpb24odCl7bSh0LmRhdGEpfSxzPWZ1bmN0aW9uKHQpe3IucG9ydDIucG9zdE1lc3NhZ2UodCl9KTp1JiZcIm9ucmVhZHlzdGF0ZWNoYW5nZVwiaW4gdS5jcmVhdGVFbGVtZW50KFwic2NyaXB0XCIpPyhuPXUuZG9jdW1lbnRFbGVtZW50LHM9ZnVuY3Rpb24odCl7dmFyIGU9dS5jcmVhdGVFbGVtZW50KFwic2NyaXB0XCIpO2Uub25yZWFkeXN0YXRlY2hhbmdlPWZ1bmN0aW9uKCl7bSh0KSxlLm9ucmVhZHlzdGF0ZWNoYW5nZT1udWxsLG4ucmVtb3ZlQ2hpbGQoZSksZT1udWxsfSxuLmFwcGVuZENoaWxkKGUpfSk6cz1mdW5jdGlvbih0KXtzZXRUaW1lb3V0KG0sMCx0KX06KG89XCJzZXRJbW1lZGlhdGUkXCIrTWF0aC5yYW5kb20oKStcIiRcIixhPWZ1bmN0aW9uKGUpe2Uuc291cmNlPT09dCYmXCJzdHJpbmdcIj09dHlwZW9mIGUuZGF0YSYmMD09PWUuZGF0YS5pbmRleE9mKG8pJiZtKCtlLmRhdGEuc2xpY2Uoby5sZW5ndGgpKX0sdC5hZGRFdmVudExpc3RlbmVyP3QuYWRkRXZlbnRMaXN0ZW5lcihcIm1lc3NhZ2VcIixhLCExKTp0LmF0dGFjaEV2ZW50KFwib25tZXNzYWdlXCIsYSkscz1mdW5jdGlvbihlKXt0LnBvc3RNZXNzYWdlKG8rZSxcIipcIil9KSxkLnNldEltbWVkaWF0ZT1mdW5jdGlvbih0KXtcImZ1bmN0aW9uXCIhPXR5cGVvZiB0JiYodD1uZXcgRnVuY3Rpb24oXCJcIit0KSk7Zm9yKHZhciBlPW5ldyBBcnJheShhcmd1bWVudHMubGVuZ3RoLTEpLGk9MDtpPGUubGVuZ3RoO2krKyllW2ldPWFyZ3VtZW50c1tpKzFdO3ZhciBuPXtjYWxsYmFjazp0LGFyZ3M6ZX07cmV0dXJuIGxbaF09bixzKGgpLGgrK30sZC5jbGVhckltbWVkaWF0ZT1mfWZ1bmN0aW9uIGYodCl7ZGVsZXRlIGxbdF19ZnVuY3Rpb24gbSh0KXtpZihjKXNldFRpbWVvdXQobSwwLHQpO2Vsc2V7dmFyIGU9bFt0XTtpZihlKXtjPSEwO3RyeXshZnVuY3Rpb24odCl7dmFyIGU9dC5jYWxsYmFjayxpPXQuYXJncztzd2l0Y2goaS5sZW5ndGgpe2Nhc2UgMDplKCk7YnJlYWs7Y2FzZSAxOmUoaVswXSk7YnJlYWs7Y2FzZSAyOmUoaVswXSxpWzFdKTticmVhaztjYXNlIDM6ZShpWzBdLGlbMV0saVsyXSk7YnJlYWs7ZGVmYXVsdDplLmFwcGx5KHZvaWQgMCxpKX19KGUpfWZpbmFsbHl7Zih0KSxjPSExfX19fX0oXCJ1bmRlZmluZWRcIj09dHlwZW9mIHNlbGY/dm9pZCAwPT09dD90aGlzOnQ6c2VsZil9KS5jYWxsKHRoaXMsaSg0MCksaSgxNDgpKX0sZnVuY3Rpb24odCxlLGkpe1widXNlIHN0cmljdFwiO09iamVjdC5kZWZpbmVQcm9wZXJ0eShlLFwiX19lc01vZHVsZVwiLHt2YWx1ZTohMH0pO2NvbnN0IHM9aSgwKSxuPWkoMTgwKTtlLk11c2ljUGFydE1hbmFnZXI9Y2xhc3N7Y29uc3RydWN0b3IodCl7dGhpcy5tdXNpY1NoZWV0PXR9cmVJbml0KCl7dGhpcy5pbml0KCl9aW5pdCgpe3RoaXMucGFydHM9dGhpcy5tdXNpY1NoZWV0LlJlcGV0aXRpb25zLnNsaWNlKCksdGhpcy5zaGVldFN0YXJ0PXRoaXMubXVzaWNTaGVldC5TZWxlY3Rpb25TdGFydD1uZXcgcy5GcmFjdGlvbigwLDEpLHRoaXMuc2hlZXRFbmQ9dGhpcy5tdXNpY1NoZWV0LlNlbGVjdGlvbkVuZD10aGlzLm11c2ljU2hlZXQuU2hlZXRFbmRUaW1lc3RhbXAsdGhpcy5jYWxjTWFwcGluZygpfWdldEN1cnJlbnRSZXBldGl0aW9uVGltZXN0YW1wVHJhbnNmb3JtKHQpe2xldCBlPXZvaWQgMDtmb3IobGV0IGk9dGhpcy50aW1lc3RhbXBzLmxlbmd0aC0xO2k+PTA7aS0tKWlmKGU9dGhpcy50aW1lc3RhbXBzW2ldLHQuZ3RlKGUuJGZyb20pKXJldHVybiBlO3JldHVybiB0aGlzLnRpbWVzdGFtcHNbMF19YWJzb2x1dGVFbnJvbGxlZFRvU2hlZXRUaW1lc3RhbXAodCl7aWYoMD09PXRoaXMudGltZXN0YW1wcy5sZW5ndGgpcmV0dXJuIHQ7Y29uc3QgZT10aGlzLmdldEN1cnJlbnRSZXBldGl0aW9uVGltZXN0YW1wVHJhbnNmb3JtKHQpO3JldHVybiBzLkZyYWN0aW9uLnBsdXModCxzLkZyYWN0aW9uLm1pbnVzKGUudG8sZS4kZnJvbSkpfWdldCBQYXJ0cygpe3JldHVybiB0aGlzLnBhcnRzfWdldCBNdXNpY1NoZWV0KCl7cmV0dXJuIHRoaXMubXVzaWNTaGVldH1nZXRJdGVyYXRvcih0KXtyZXR1cm4gdD9uZXcgbi5NdXNpY1BhcnRNYW5hZ2VySXRlcmF0b3IodGhpcyx0LHZvaWQgMCk6bmV3IG4uTXVzaWNQYXJ0TWFuYWdlckl0ZXJhdG9yKHRoaXMsdGhpcy5tdXNpY1NoZWV0LlNlbGVjdGlvblN0YXJ0LHRoaXMubXVzaWNTaGVldC5TZWxlY3Rpb25FbmQpfXNldFNlbGVjdGlvblN0YXJ0KHQpe3RoaXMubXVzaWNTaGVldC5TZWxlY3Rpb25TdGFydD10LHRoaXMubXVzaWNTaGVldC5TZWxlY3Rpb25FbmQ9dm9pZCAwfXNldFNlbGVjdGlvblJhbmdlKHQsZSl7dGhpcy5tdXNpY1NoZWV0LlNlbGVjdGlvblN0YXJ0PW51bGwhPXQ/dDp0aGlzLnNoZWV0U3RhcnQsdGhpcy5tdXNpY1NoZWV0LlNlbGVjdGlvbkVuZD1udWxsIT1lP2U6dGhpcy5zaGVldEVuZH1jYWxjTWFwcGluZygpe2NvbnN0IHQ9W10sZT10aGlzLmdldEl0ZXJhdG9yKCk7bGV0IGk9ZS5DdXJyZW50UmVwZXRpdGlvbixzPW5ldyByKGUuQ3VycmVudEVucm9sbGVkVGltZXN0YW1wLmNsb25lKCksZS5DdXJyZW50U291cmNlVGltZXN0YW1wLmNsb25lKCksdm9pZCAwLDApO2Zvcih0LnB1c2gocyk7IWUuRW5kUmVhY2hlZDspe2lmKGUuSnVtcE9jY3VycmVkfHxpIT09ZS5DdXJyZW50UmVwZXRpdGlvbil7aWYoaT1lLkN1cnJlbnRSZXBldGl0aW9uLGUuYmFja0p1bXBPY2N1cnJlZCl7Y29uc3QgaT1lLkp1bXBSZXNwb25zaWJsZVJlcGV0aXRpb247cy5uZXh0QmFja0p1bXA9ZS5DdXJyZW50RW5yb2xsZWRUaW1lc3RhbXAscy5jdXJSZXBldGl0aW9uPWkscy5jdXJSZXBldGl0aW9uSXRlcmF0aW9uPWUuQ3VycmVudEp1bXBSZXNwb25zaWJsZVJlcGV0aXRpb25JdGVyYXRpb25CZWZvcmVKdW1wO2ZvcihsZXQgZT10aGlzLnRpbWVzdGFtcHMubGVuZ3RoLTI7ZT49MCYmKCF0W2VdLnRvLmx0KGkuQWJzb2x1dGVUaW1lc3RhbXApJiYhdFtlXS5jdXJSZXBldGl0aW9uKTtlLS0pdFtlXS5uZXh0QmFja0p1bXA9cy5uZXh0QmFja0p1bXAsdFtlXS5jdXJSZXBldGl0aW9uPWksdFtlXS5jdXJSZXBldGl0aW9uSXRlcmF0aW9uPXMuY3VyUmVwZXRpdGlvbkl0ZXJhdGlvbn1zPW5ldyByKGUuQ3VycmVudEVucm9sbGVkVGltZXN0YW1wLmNsb25lKCksZS5DdXJyZW50U291cmNlVGltZXN0YW1wLmNsb25lKCksdm9pZCAwLDApLHQucHVzaChzKX1lLm1vdmVUb05leHQoKX10aGlzLnRpbWVzdGFtcHM9dH19O2NsYXNzIHJ7Y29uc3RydWN0b3IodCxlLGkscyl7dGhpcy4kZnJvbT10LHRoaXMudG89ZSx0aGlzLmN1clJlcGV0aXRpb249aSx0aGlzLmN1clJlcGV0aXRpb25JdGVyYXRpb249cyx0aGlzLm5leHRCYWNrSnVtcD12b2lkIDAsdGhpcy5uZXh0Rm9yd2FyZEp1bXA9dm9pZCAwfX1lLlRpbWVzdGFtcFRyYW5zZm9ybT1yfSxmdW5jdGlvbih0LGUsaSl7XCJ1c2Ugc3RyaWN0XCI7dmFyIHM9dGhpcyYmdGhpcy5fX2ltcG9ydERlZmF1bHR8fGZ1bmN0aW9uKHQpe3JldHVybiB0JiZ0Ll9fZXNNb2R1bGU/dDp7ZGVmYXVsdDp0fX07T2JqZWN0LmRlZmluZVByb3BlcnR5KGUsXCJfX2VzTW9kdWxlXCIse3ZhbHVlOiEwfSk7Y29uc3Qgbj1pKDApLHI9aSgxODEpLG89aSgxNyksYT1pKDMzKSxoPXMoaSgxKSk7Y2xhc3MgbHtjb25zdHJ1Y3Rvcih0LGUsaSl7dGhpcy5jdXJyZW50TWVhc3VyZUluZGV4PTAsdGhpcy5jdXJyZW50UGFydEluZGV4PTAsdGhpcy5jdXJyZW50Vm9pY2VFbnRyeUluZGV4PS0xLHRoaXMuY3VycmVudER5bmFtaWNFbnRyeUluZGV4PTAsdGhpcy5jdXJyZW50VGVtcG9FbnRyeUluZGV4PTAsdGhpcy5jdXJyZW50RHluYW1pY0NoYW5naW5nRXhwcmVzc2lvbnM9W10sdGhpcy5jdXJyZW50UmVwZXRpdGlvbj12b2lkIDAsdGhpcy5lbmRSZWFjaGVkPSExLHRoaXMuZnJvbnRSZWFjaGVkPSExLHRoaXMuY3VycmVudFRpbWVTdGFtcD1uZXcgbi5GcmFjdGlvbigwLDEpLHRoaXMuY3VycmVudEVucm9sbGVkTWVhc3VyZVRpbWVzdGFtcD1uZXcgbi5GcmFjdGlvbigwLDEpLHRoaXMuY3VycmVudFZlcnRpY2FsQ29udGFpbmVySW5NZWFzdXJlVGltZXN0YW1wPW5ldyBuLkZyYWN0aW9uKDAsMSksdGhpcy5qdW1wUmVzcG9uc2libGVSZXBldGl0aW9uPXZvaWQgMCx0aGlzLmFjdGl2ZUR5bmFtaWNFeHByZXNzaW9ucz1bXTt0cnl7dGhpcy5mcm9udFJlYWNoZWQ9ITAsdGhpcy5tYW5hZ2VyPXQsdGhpcy5jdXJyZW50Vm9pY2VFbnRyaWVzPXZvaWQgMCx0aGlzLmZyb250UmVhY2hlZD0hMTtmb3IoY29uc3QgZSBvZiB0Lk11c2ljU2hlZXQuUmVwZXRpdGlvbnMpdGhpcy5zZXRSZXBldGl0aW9uSXRlcmF0aW9uQ291bnQoZSwxKTtpZih0aGlzLmFjdGl2ZUR5bmFtaWNFeHByZXNzaW9ucz1uZXcgQXJyYXkodC5NdXNpY1NoZWV0LmdldENvbXBsZXRlTnVtYmVyT2ZTdGF2ZXMoKSksdGhpcy5jdXJyZW50TWVhc3VyZT10aGlzLm1hbmFnZXIuTXVzaWNTaGVldC5Tb3VyY2VNZWFzdXJlc1swXSwhZSlyZXR1cm47ZG97dGhpcy5tb3ZlVG9OZXh0KCl9d2hpbGUoKCF0aGlzLmN1cnJlbnRWb2ljZUVudHJpZXN8fHRoaXMuY3VycmVudFRpbWVTdGFtcC5sdChlKSkmJiF0aGlzLmVuZFJlYWNoZWQpO2ZvcihsZXQgdD0wO3Q8dGhpcy5hY3RpdmVEeW5hbWljRXhwcmVzc2lvbnMubGVuZ3RoO3QrKylpZih0aGlzLmFjdGl2ZUR5bmFtaWNFeHByZXNzaW9uc1t0XSlpZih0aGlzLmFjdGl2ZUR5bmFtaWNFeHByZXNzaW9uc1t0XWluc3RhbmNlb2YgYS5Db250aW51b3VzRHluYW1pY0V4cHJlc3Npb24pe2NvbnN0IGU9dGhpcy5hY3RpdmVEeW5hbWljRXhwcmVzc2lvbnNbdF07dGhpcy5jdXJyZW50RHluYW1pY0NoYW5naW5nRXhwcmVzc2lvbnMucHVzaChuZXcgci5EeW5hbWljc0NvbnRhaW5lcihlLHQpKX1lbHNle2NvbnN0IGU9dGhpcy5hY3RpdmVEeW5hbWljRXhwcmVzc2lvbnNbdF07dGhpcy5jdXJyZW50RHluYW1pY0NoYW5naW5nRXhwcmVzc2lvbnMucHVzaChuZXcgci5EeW5hbWljc0NvbnRhaW5lcihlLHQpKX10aGlzLmN1cnJlbnRUZW1wb0NoYW5naW5nRXhwcmVzc2lvbj10aGlzLmFjdGl2ZVRlbXBvRXhwcmVzc2lvbn1jYXRjaCh0KXtoLmRlZmF1bHQuaW5mbyhcIk11c2ljUGFydE1hbmFnZXJJdGVyYXRvcjogXCIrdCl9fWdldCBFbmRSZWFjaGVkKCl7cmV0dXJuIHRoaXMuZW5kUmVhY2hlZH1nZXQgRnJvbnRSZWFjaGVkKCl7cmV0dXJuIHRoaXMuZnJvbnRSZWFjaGVkfWdldCBDdXJyZW50TWVhc3VyZSgpe3JldHVybiB0aGlzLmN1cnJlbnRNZWFzdXJlfWdldCBDdXJyZW50UmVwZXRpdGlvbigpe3JldHVybiB0aGlzLmN1cnJlbnRSZXBldGl0aW9ufWdldCBDdXJyZW50UmVwZXRpdGlvbkl0ZXJhdGlvbigpe3JldHVybiB0aGlzLkN1cnJlbnRSZXBldGl0aW9uP3RoaXMuZ2V0UmVwZXRpdGlvbkl0ZXJhdGlvbkNvdW50KHRoaXMuQ3VycmVudFJlcGV0aXRpb24pOjB9Z2V0IEN1cnJlbnRKdW1wUmVzcG9uc2libGVSZXBldGl0aW9uSXRlcmF0aW9uQmVmb3JlSnVtcCgpe3JldHVybiB0aGlzLmp1bXBSZXNwb25zaWJsZVJlcGV0aXRpb24/dGhpcy5nZXRSZXBldGl0aW9uSXRlcmF0aW9uQ291bnQodGhpcy5qdW1wUmVzcG9uc2libGVSZXBldGl0aW9uKS0xOjB9Z2V0IEN1cnJlbnRWb2ljZUVudHJpZXMoKXtyZXR1cm4gdGhpcy5jdXJyZW50Vm9pY2VFbnRyaWVzfWdldCBDdXJyZW50TWVhc3VyZUluZGV4KCl7cmV0dXJuIHRoaXMuY3VycmVudE1lYXN1cmVJbmRleH1nZXQgQ3VycmVudEVucm9sbGVkVGltZXN0YW1wKCl7cmV0dXJuIG4uRnJhY3Rpb24ucGx1cyh0aGlzLmN1cnJlbnRFbnJvbGxlZE1lYXN1cmVUaW1lc3RhbXAsdGhpcy5jdXJyZW50VmVydGljYWxDb250YWluZXJJbk1lYXN1cmVUaW1lc3RhbXApfWdldCBDdXJyZW50U291cmNlVGltZXN0YW1wKCl7cmV0dXJuIHRoaXMuY3VycmVudFRpbWVTdGFtcH1nZXQgSnVtcE9jY3VycmVkKCl7cmV0dXJuIHRoaXMuYmFja0p1bXBPY2N1cnJlZHx8dGhpcy5mb3J3YXJkSnVtcE9jY3VycmVkfWdldCBBY3RpdmVUZW1wb0V4cHJlc3Npb24oKXtyZXR1cm4gdGhpcy5hY3RpdmVUZW1wb0V4cHJlc3Npb259Z2V0IEFjdGl2ZUR5bmFtaWNFeHByZXNzaW9ucygpe3JldHVybiB0aGlzLmFjdGl2ZUR5bmFtaWNFeHByZXNzaW9uc31nZXQgQ3VycmVudFRlbXBvQ2hhbmdpbmdFeHByZXNzaW9uKCl7cmV0dXJuIHRoaXMuY3VycmVudFRlbXBvQ2hhbmdpbmdFeHByZXNzaW9ufWdldCBKdW1wUmVzcG9uc2libGVSZXBldGl0aW9uKCl7cmV0dXJuIHRoaXMuanVtcFJlc3BvbnNpYmxlUmVwZXRpdGlvbn1jbG9uZSh0KXtjb25zdCBlPW5ldyBsKHRoaXMubWFuYWdlcix0KTtyZXR1cm4gZS5jdXJyZW50Vm9pY2VFbnRyeUluZGV4PXRoaXMuY3VycmVudFZvaWNlRW50cnlJbmRleCxlLmN1cnJlbnRNYXBwaW5nUGFydD10aGlzLmN1cnJlbnRNYXBwaW5nUGFydCxlLmN1cnJlbnRQYXJ0SW5kZXg9dGhpcy5jdXJyZW50UGFydEluZGV4LGUuY3VycmVudFZvaWNlRW50cmllcz10aGlzLmN1cnJlbnRWb2ljZUVudHJpZXMsZS5lbmRSZWFjaGVkPXRoaXMuZW5kUmVhY2hlZCxlLmZyb250UmVhY2hlZD10aGlzLmZyb250UmVhY2hlZCxlfUN1cnJlbnRWaXNpYmxlVm9pY2VFbnRyaWVzKHQpe2NvbnN0IGU9W107aWYoIXRoaXMuY3VycmVudFZvaWNlRW50cmllcylyZXR1cm4gZTtpZih0KXtmb3IoY29uc3QgaSBvZiB0aGlzLmN1cnJlbnRWb2ljZUVudHJpZXMpaWYoaS5QYXJlbnRWb2ljZS5QYXJlbnQuSWRTdHJpbmc9PT10LklkU3RyaW5nKXJldHVybiB0aGlzLmdldFZpc2libGVFbnRyaWVzKGksZSksZX1lbHNlIGZvcihjb25zdCB0IG9mIHRoaXMuY3VycmVudFZvaWNlRW50cmllcyl0aGlzLmdldFZpc2libGVFbnRyaWVzKHQsZSk7cmV0dXJuIGV9Q3VycmVudEF1ZGlibGVWb2ljZUVudHJpZXModCl7Y29uc3QgZT1bXTtpZighdGhpcy5jdXJyZW50Vm9pY2VFbnRyaWVzKXJldHVybiBlO2lmKHQpe2Zvcihjb25zdCBpIG9mIHRoaXMuY3VycmVudFZvaWNlRW50cmllcylpZihpLlBhcmVudFZvaWNlLlBhcmVudC5JZFN0cmluZz09PXQuSWRTdHJpbmcpcmV0dXJuIHRoaXMuZ2V0QXVkaWJsZUVudHJpZXMoaSxlKSxlfWVsc2UgZm9yKGNvbnN0IHQgb2YgdGhpcy5jdXJyZW50Vm9pY2VFbnRyaWVzKXRoaXMuZ2V0QXVkaWJsZUVudHJpZXModCxlKTtyZXR1cm4gZX1nZXRDdXJyZW50RHluYW1pY0NoYW5naW5nRXhwcmVzc2lvbnMoKXtyZXR1cm4gdGhpcy5jdXJyZW50RHluYW1pY0NoYW5naW5nRXhwcmVzc2lvbnN9Q3VycmVudFNjb3JlRm9sbG93aW5nVm9pY2VFbnRyaWVzKHQpe2NvbnN0IGU9W107aWYoIXRoaXMuY3VycmVudFZvaWNlRW50cmllcylyZXR1cm4gZTtpZih0KXtmb3IoY29uc3QgaSBvZiB0aGlzLmN1cnJlbnRWb2ljZUVudHJpZXMpaWYoaS5QYXJlbnRWb2ljZS5QYXJlbnQuSWRTdHJpbmc9PT10LklkU3RyaW5nKXJldHVybiB0aGlzLmdldFNjb3JlRm9sbG93aW5nRW50cmllcyhpLGUpLGV9ZWxzZSBmb3IoY29uc3QgdCBvZiB0aGlzLmN1cnJlbnRWb2ljZUVudHJpZXMpdGhpcy5nZXRTY29yZUZvbGxvd2luZ0VudHJpZXModCxlKTtyZXR1cm4gZX1tb3ZlVG9OZXh0KCl7dGhpcy5mb3J3YXJkSnVtcE9jY3VycmVkPXRoaXMuYmFja0p1bXBPY2N1cnJlZD0hMSx0aGlzLmVuZFJlYWNoZWR8fCh0aGlzLmN1cnJlbnRWb2ljZUVudHJpZXMmJih0aGlzLmN1cnJlbnRWb2ljZUVudHJpZXM9W10pLHRoaXMucmVjdXJzaXZlTW92ZSgpLHRoaXMuY3VycmVudE1lYXN1cmV8fCh0aGlzLmN1cnJlbnRUaW1lU3RhbXA9bmV3IG4uRnJhY3Rpb24oOTk5OTksMSkpKX1tb3ZlVG9OZXh0VmlzaWJsZVZvaWNlRW50cnkodCl7Zm9yKDshdGhpcy5lbmRSZWFjaGVkOylpZih0aGlzLm1vdmVUb05leHQoKSx0aGlzLmNoZWNrRW50cmllcyh0KSlyZXR1cm59cmVzZXRSZXBldGl0aW9uSXRlcmF0aW9uQ291bnQodCl7cmV0dXJuIHRoaXMuc2V0UmVwZXRpdGlvbkl0ZXJhdGlvbkNvdW50KHQsMSksMX1pbmNyZW1lbnRSZXBldGl0aW9uSXRlcmF0aW9uQ291bnQodCl7cmV0dXJuLTE9PT10aGlzLnJlcGV0aXRpb25JdGVyYXRpb25Db3VudERpY3RLZXlzLmluZGV4T2YodCk/dGhpcy5zZXRSZXBldGl0aW9uSXRlcmF0aW9uQ291bnQodCwxKTp0aGlzLnNldFJlcGV0aXRpb25JdGVyYXRpb25Db3VudCh0LHRoaXMuZ2V0UmVwZXRpdGlvbkl0ZXJhdGlvbkNvdW50KHQpKzEpfXNldFJlcGV0aXRpb25JdGVyYXRpb25Db3VudCh0LGUpe2NvbnN0IGk9dGhpcy5yZXBldGl0aW9uSXRlcmF0aW9uQ291bnREaWN0S2V5cy5pbmRleE9mKHQpO3JldHVybi0xPT09aT8odGhpcy5yZXBldGl0aW9uSXRlcmF0aW9uQ291bnREaWN0S2V5cy5wdXNoKHQpLHRoaXMucmVwZXRpdGlvbkl0ZXJhdGlvbkNvdW50RGljdFZhbHVlcy5wdXNoKGUpKTp0aGlzLnJlcGV0aXRpb25JdGVyYXRpb25Db3VudERpY3RWYWx1ZXNbaV09ZSxlfWdldFJlcGV0aXRpb25JdGVyYXRpb25Db3VudCh0KXtjb25zdCBlPXRoaXMucmVwZXRpdGlvbkl0ZXJhdGlvbkNvdW50RGljdEtleXMuaW5kZXhPZih0KTtpZigtMSE9PWUpcmV0dXJuIHRoaXMucmVwZXRpdGlvbkl0ZXJhdGlvbkNvdW50RGljdFZhbHVlc1tlXX1oYW5kbGVSZXBldGl0aW9uc0F0TWVhc3VyZUJlZ2luKCl7Zm9yKGxldCB0PTAsZT10aGlzLmN1cnJlbnRNZWFzdXJlLkZpcnN0UmVwZXRpdGlvbkluc3RydWN0aW9ucy5sZW5ndGg7dDxlOysrdCl7Y29uc3QgZT10aGlzLmN1cnJlbnRNZWFzdXJlLkZpcnN0UmVwZXRpdGlvbkluc3RydWN0aW9uc1t0XTtpZighZS5wYXJlbnRSZXBldGl0aW9uKWNvbnRpbnVlO2NvbnN0IGk9ZS5wYXJlbnRSZXBldGl0aW9uO3RoaXMuY3VycmVudFJlcGV0aXRpb249aSxpLlN0YXJ0SW5kZXg9PT10aGlzLmN1cnJlbnRNZWFzdXJlSW5kZXgmJnZvaWQgMCE9PXRoaXMuSnVtcFJlc3BvbnNpYmxlUmVwZXRpdGlvbiYmaSE9PXRoaXMuSnVtcFJlc3BvbnNpYmxlUmVwZXRpdGlvbiYmaS5TdGFydEluZGV4Pj10aGlzLkp1bXBSZXNwb25zaWJsZVJlcGV0aXRpb24uU3RhcnRJbmRleCYmaS5FbmRJbmRleDw9dGhpcy5KdW1wUmVzcG9uc2libGVSZXBldGl0aW9uLkVuZEluZGV4JiZ0aGlzLnJlc2V0UmVwZXRpdGlvbkl0ZXJhdGlvbkNvdW50KGkpfX1oYW5kbGVSZXBldGl0aW9uc0F0TWVhc3VyZUVuZCgpe2ZvcihsZXQgdD0wLGU9dGhpcy5jdXJyZW50TWVhc3VyZS5MYXN0UmVwZXRpdGlvbkluc3RydWN0aW9ucy5sZW5ndGg7dDxlOysrdCl7Y29uc3QgZT10aGlzLmN1cnJlbnRNZWFzdXJlLkxhc3RSZXBldGl0aW9uSW5zdHJ1Y3Rpb25zW3RdLGk9ZS5wYXJlbnRSZXBldGl0aW9uO2lmKGkpe2lmKGkuQmFja3dhcmRKdW1wSW5zdHJ1Y3Rpb25zLmluZGV4T2YoZSk+LTEmJnRoaXMuZ2V0UmVwZXRpdGlvbkl0ZXJhdGlvbkNvdW50KGkpPGkuVXNlck51bWJlck9mUmVwZXRpdGlvbnMpcmV0dXJuIHRoaXMuZG9CYWNrSnVtcChpKSx2b2lkKHRoaXMuYmFja0p1bXBPY2N1cnJlZD0hMCk7aWYoZT09PWkuZm9yd2FyZEp1bXBJbnN0cnVjdGlvbil7dm9pZCAwIT09dGhpcy5KdW1wUmVzcG9uc2libGVSZXBldGl0aW9uJiZpIT09dGhpcy5KdW1wUmVzcG9uc2libGVSZXBldGl0aW9uJiZpLlN0YXJ0SW5kZXg+PXRoaXMuSnVtcFJlc3BvbnNpYmxlUmVwZXRpdGlvbi5TdGFydEluZGV4JiZpLkVuZEluZGV4PD10aGlzLkp1bXBSZXNwb25zaWJsZVJlcGV0aXRpb24uRW5kSW5kZXgmJnRoaXMucmVzZXRSZXBldGl0aW9uSXRlcmF0aW9uQ291bnQoaSk7Y29uc3QgdD1pLmdldEZvcndhcmRKdW1wVGFyZ2V0Rm9ySXRlcmF0aW9uKHRoaXMuZ2V0UmVwZXRpdGlvbkl0ZXJhdGlvbkNvdW50KGkpKTtpZih0Pj0wKXJldHVybiB0aGlzLmN1cnJlbnRNZWFzdXJlSW5kZXg9dCx0aGlzLmN1cnJlbnRNZWFzdXJlPXRoaXMubWFuYWdlci5NdXNpY1NoZWV0LlNvdXJjZU1lYXN1cmVzW3RoaXMuY3VycmVudE1lYXN1cmVJbmRleF0sdGhpcy5jdXJyZW50Vm9pY2VFbnRyeUluZGV4PS0xLHRoaXMuanVtcFJlc3BvbnNpYmxlUmVwZXRpdGlvbj1pLHZvaWQodGhpcy5mb3J3YXJkSnVtcE9jY3VycmVkPSEwKTstMj09PXQmJih0aGlzLmVuZFJlYWNoZWQ9ITApfX19dGhpcy5jdXJyZW50TWVhc3VyZUluZGV4Kyssdm9pZCAwIT09dGhpcy5KdW1wUmVzcG9uc2libGVSZXBldGl0aW9uJiZ0aGlzLmN1cnJlbnRNZWFzdXJlSW5kZXg+dGhpcy5KdW1wUmVzcG9uc2libGVSZXBldGl0aW9uLkVuZEluZGV4JiYodGhpcy5qdW1wUmVzcG9uc2libGVSZXBldGl0aW9uPXZvaWQgMCl9ZG9CYWNrSnVtcCh0KXt0aGlzLmN1cnJlbnRNZWFzdXJlSW5kZXg9dC5nZXRCYWNrd2FyZEp1bXBUYXJnZXQoKSx0aGlzLmN1cnJlbnRNZWFzdXJlPXRoaXMubWFuYWdlci5NdXNpY1NoZWV0LlNvdXJjZU1lYXN1cmVzW3RoaXMuY3VycmVudE1lYXN1cmVJbmRleF0sdGhpcy5jdXJyZW50Vm9pY2VFbnRyeUluZGV4PS0xLHRoaXMuaW5jcmVtZW50UmVwZXRpdGlvbkl0ZXJhdGlvbkNvdW50KHQpLHRoaXMuanVtcFJlc3BvbnNpYmxlUmVwZXRpdGlvbj10fWFjdGl2YXRlQ3VycmVudFJoeXRobUluc3RydWN0aW9ucygpe2lmKHZvaWQgMCE9PXRoaXMuY3VycmVudE1lYXN1cmUmJnRoaXMuY3VycmVudE1lYXN1cmUuRmlyc3RJbnN0cnVjdGlvbnNTdGFmZkVudHJpZXMubGVuZ3RoPjAmJnZvaWQgMCE9PXRoaXMuY3VycmVudE1lYXN1cmUuRmlyc3RJbnN0cnVjdGlvbnNTdGFmZkVudHJpZXNbMF0pe2NvbnN0IHQ9dGhpcy5jdXJyZW50TWVhc3VyZS5GaXJzdEluc3RydWN0aW9uc1N0YWZmRW50cmllc1swXS5JbnN0cnVjdGlvbnM7Zm9yKGxldCBlPTAsaT10Lmxlbmd0aDtlPGk7KytlKXtjb25zdCBpPXRbZV07aSBpbnN0YW5jZW9mIG8uUmh5dGhtSW5zdHJ1Y3Rpb24mJih0aGlzLm1hbmFnZXIuTXVzaWNTaGVldC5TaGVldFBsYXliYWNrU2V0dGluZy5yaHl0aG09aS5SaHl0aG0pfX19YWN0aXZhdGVDdXJyZW50RHluYW1pY09yVGVtcG9JbnN0cnVjdGlvbnMoKXtjb25zdCB0PXRoaXMubWFuYWdlci5NdXNpY1NoZWV0LlRpbWVzdGFtcFNvcnRlZER5bmFtaWNFeHByZXNzaW9uc0xpc3Q7Zm9yKDt0aGlzLmN1cnJlbnREeW5hbWljRW50cnlJbmRleD4wJiYodGhpcy5jdXJyZW50RHluYW1pY0VudHJ5SW5kZXg+PXQubGVuZ3RofHx0aGlzLkN1cnJlbnRTb3VyY2VUaW1lc3RhbXAubHRlKHRbdGhpcy5jdXJyZW50RHluYW1pY0VudHJ5SW5kZXhdLnBhck11bHRpRXhwcmVzc2lvbigpLkFic29sdXRlVGltZXN0YW1wKSk7KXRoaXMuY3VycmVudER5bmFtaWNFbnRyeUluZGV4LS07Zm9yKDt0aGlzLmN1cnJlbnREeW5hbWljRW50cnlJbmRleDx0Lmxlbmd0aCYmdFt0aGlzLmN1cnJlbnREeW5hbWljRW50cnlJbmRleF0ucGFyTXVsdGlFeHByZXNzaW9uKCkuQWJzb2x1dGVUaW1lc3RhbXAubHQodGhpcy5DdXJyZW50U291cmNlVGltZXN0YW1wKTspdGhpcy5jdXJyZW50RHluYW1pY0VudHJ5SW5kZXgrKztmb3IoO3RoaXMuY3VycmVudER5bmFtaWNFbnRyeUluZGV4PHQubGVuZ3RoJiZ0W3RoaXMuY3VycmVudER5bmFtaWNFbnRyeUluZGV4XS5wYXJNdWx0aUV4cHJlc3Npb24oKS5BYnNvbHV0ZVRpbWVzdGFtcC5FcXVhbHModGhpcy5DdXJyZW50U291cmNlVGltZXN0YW1wKTspe2NvbnN0IGU9dFt0aGlzLmN1cnJlbnREeW5hbWljRW50cnlJbmRleF0saT1lLnN0YWZmTnVtYmVyO3RoaXMuQ3VycmVudFNvdXJjZVRpbWVzdGFtcC5FcXVhbHMoZS5wYXJNdWx0aUV4cHJlc3Npb24oKS5BYnNvbHV0ZVRpbWVzdGFtcCkmJihlLmNvbnRpbnVvdXNEeW5hbWljRXhwcmVzc2lvbj90aGlzLmFjdGl2ZUR5bmFtaWNFeHByZXNzaW9uc1tpXT1lLmNvbnRpbnVvdXNEeW5hbWljRXhwcmVzc2lvbjplLmluc3RhbnRhbmVvdXNEeW5hbWljRXhwcmVzc2lvbiYmKHRoaXMuYWN0aXZlRHluYW1pY0V4cHJlc3Npb25zW2ldPWUuaW5zdGFudGFuZW91c0R5bmFtaWNFeHByZXNzaW9uKSksdGhpcy5jdXJyZW50RHluYW1pY0VudHJ5SW5kZXgrK310aGlzLmN1cnJlbnREeW5hbWljQ2hhbmdpbmdFeHByZXNzaW9ucz1bXTtmb3IobGV0IHQ9MDt0PHRoaXMuYWN0aXZlRHluYW1pY0V4cHJlc3Npb25zLmxlbmd0aDt0KyspaWYodGhpcy5hY3RpdmVEeW5hbWljRXhwcmVzc2lvbnNbdF0pe2xldCBlLGk7aWYodGhpcy5hY3RpdmVEeW5hbWljRXhwcmVzc2lvbnNbdF1pbnN0YW5jZW9mIGEuQ29udGludW91c0R5bmFtaWNFeHByZXNzaW9uKXtjb25zdCBzPXRoaXMuYWN0aXZlRHluYW1pY0V4cHJlc3Npb25zW3RdO2U9cy5TdGFydE11bHRpRXhwcmVzc2lvbi5BYnNvbHV0ZVRpbWVzdGFtcCxpPXMuRW5kTXVsdGlFeHByZXNzaW9uLkFic29sdXRlVGltZXN0YW1wLGUubHRlKHRoaXMuQ3VycmVudFNvdXJjZVRpbWVzdGFtcCkmJnRoaXMuQ3VycmVudFNvdXJjZVRpbWVzdGFtcC5sdGUoaSkmJnRoaXMuY3VycmVudER5bmFtaWNDaGFuZ2luZ0V4cHJlc3Npb25zLnB1c2gobmV3IHIuRHluYW1pY3NDb250YWluZXIocyx0KSl9ZWxzZXtjb25zdCBlPXRoaXMuYWN0aXZlRHluYW1pY0V4cHJlc3Npb25zW3RdO3RoaXMuQ3VycmVudFNvdXJjZVRpbWVzdGFtcC5FcXVhbHMoZS5QYXJlbnRNdWx0aUV4cHJlc3Npb24uQWJzb2x1dGVUaW1lc3RhbXApJiZ0aGlzLmN1cnJlbnREeW5hbWljQ2hhbmdpbmdFeHByZXNzaW9ucy5wdXNoKG5ldyByLkR5bmFtaWNzQ29udGFpbmVyKGUsdCkpfX1jb25zdCBlPXRoaXMubWFuYWdlci5NdXNpY1NoZWV0LlRpbWVzdGFtcFNvcnRlZFRlbXBvRXhwcmVzc2lvbnNMaXN0O2Zvcig7dGhpcy5jdXJyZW50VGVtcG9FbnRyeUluZGV4PjAmJih0aGlzLmN1cnJlbnRUZW1wb0VudHJ5SW5kZXg+PWUubGVuZ3RofHx0aGlzLkN1cnJlbnRTb3VyY2VUaW1lc3RhbXAubHRlKGVbdGhpcy5jdXJyZW50VGVtcG9FbnRyeUluZGV4XS5BYnNvbHV0ZVRpbWVzdGFtcCkpOyl0aGlzLmN1cnJlbnRUZW1wb0VudHJ5SW5kZXgtLTtmb3IoO3RoaXMuY3VycmVudFRlbXBvRW50cnlJbmRleDxlLmxlbmd0aCYmZVt0aGlzLmN1cnJlbnRUZW1wb0VudHJ5SW5kZXhdLkFic29sdXRlVGltZXN0YW1wLmx0KHRoaXMuQ3VycmVudFNvdXJjZVRpbWVzdGFtcCk7KXRoaXMuY3VycmVudFRlbXBvRW50cnlJbmRleCsrO2Zvcig7dGhpcy5jdXJyZW50VGVtcG9FbnRyeUluZGV4PGUubGVuZ3RoJiZlW3RoaXMuY3VycmVudFRlbXBvRW50cnlJbmRleF0uQWJzb2x1dGVUaW1lc3RhbXAuRXF1YWxzKHRoaXMuQ3VycmVudFNvdXJjZVRpbWVzdGFtcCk7KXRoaXMuYWN0aXZlVGVtcG9FeHByZXNzaW9uPWVbdGhpcy5jdXJyZW50VGVtcG9FbnRyeUluZGV4XSx0aGlzLmN1cnJlbnRUZW1wb0VudHJ5SW5kZXgrKztpZih0aGlzLmN1cnJlbnRUZW1wb0NoYW5naW5nRXhwcmVzc2lvbj12b2lkIDAsdGhpcy5hY3RpdmVUZW1wb0V4cHJlc3Npb24pe2xldCB0PXRoaXMuYWN0aXZlVGVtcG9FeHByZXNzaW9uLkFic29sdXRlVGltZXN0YW1wO3RoaXMuYWN0aXZlVGVtcG9FeHByZXNzaW9uLkNvbnRpbnVvdXNUZW1wbyYmKHQ9dGhpcy5hY3RpdmVUZW1wb0V4cHJlc3Npb24uQ29udGludW91c1RlbXBvLkFic29sdXRlRW5kVGltZXN0YW1wKSwodGhpcy5hY3RpdmVUZW1wb0V4cHJlc3Npb24uQWJzb2x1dGVUaW1lc3RhbXAubHRlKHRoaXMuQ3VycmVudFNvdXJjZVRpbWVzdGFtcCl8fHRoaXMuQ3VycmVudFNvdXJjZVRpbWVzdGFtcC5sdGUodCkpJiYodGhpcy5jdXJyZW50VGVtcG9DaGFuZ2luZ0V4cHJlc3Npb249dGhpcy5hY3RpdmVUZW1wb0V4cHJlc3Npb24pfX1yZWN1cnNpdmVNb3ZlKCl7aWYodGhpcy5jdXJyZW50Vm9pY2VFbnRyeUluZGV4KyssMD09PXRoaXMuY3VycmVudFZvaWNlRW50cnlJbmRleCYmKHRoaXMuaGFuZGxlUmVwZXRpdGlvbnNBdE1lYXN1cmVCZWdpbigpLHRoaXMuYWN0aXZhdGVDdXJyZW50Umh5dGhtSW5zdHJ1Y3Rpb25zKCkpLHRoaXMuY3VycmVudFZvaWNlRW50cnlJbmRleD49MCYmdGhpcy5jdXJyZW50Vm9pY2VFbnRyeUluZGV4PHRoaXMuY3VycmVudE1lYXN1cmUuVmVydGljYWxTb3VyY2VTdGFmZkVudHJ5Q29udGFpbmVycy5sZW5ndGgpe2NvbnN0IHQ9dGhpcy5jdXJyZW50TWVhc3VyZS5WZXJ0aWNhbFNvdXJjZVN0YWZmRW50cnlDb250YWluZXJzW3RoaXMuY3VycmVudFZvaWNlRW50cnlJbmRleF07dGhpcy5jdXJyZW50Vm9pY2VFbnRyaWVzPXRoaXMuZ2V0Vm9pY2VFbnRyaWVzKHQpLHRoaXMuY3VycmVudFZlcnRpY2FsQ29udGFpbmVySW5NZWFzdXJlVGltZXN0YW1wPXQuVGltZXN0YW1wLHRoaXMuY3VycmVudFRpbWVTdGFtcD1uLkZyYWN0aW9uLnBsdXModGhpcy5jdXJyZW50TWVhc3VyZS5BYnNvbHV0ZVRpbWVzdGFtcCx0aGlzLmN1cnJlbnRWZXJ0aWNhbENvbnRhaW5lckluTWVhc3VyZVRpbWVzdGFtcCk7Y29uc3QgZT10aGlzLm1hbmFnZXIuTXVzaWNTaGVldC5TZWxlY3Rpb25FbmQ7cmV0dXJuIGUmJnRoaXMuY3VycmVudFRpbWVTdGFtcC5ndGUoZSkmJih0aGlzLmVuZFJlYWNoZWQ9ITApLHZvaWQgdGhpcy5hY3RpdmF0ZUN1cnJlbnREeW5hbWljT3JUZW1wb0luc3RydWN0aW9ucygpfWlmKHRoaXMuY3VycmVudEVucm9sbGVkTWVhc3VyZVRpbWVzdGFtcC5BZGQodGhpcy5jdXJyZW50TWVhc3VyZS5EdXJhdGlvbiksdGhpcy5oYW5kbGVSZXBldGl0aW9uc0F0TWVhc3VyZUVuZCgpLHRoaXMuY3VycmVudE1lYXN1cmVJbmRleD49MCYmdGhpcy5jdXJyZW50TWVhc3VyZUluZGV4PHRoaXMubWFuYWdlci5NdXNpY1NoZWV0LlNvdXJjZU1lYXN1cmVzLmxlbmd0aClyZXR1cm4gdGhpcy5jdXJyZW50TWVhc3VyZT10aGlzLm1hbmFnZXIuTXVzaWNTaGVldC5Tb3VyY2VNZWFzdXJlc1t0aGlzLmN1cnJlbnRNZWFzdXJlSW5kZXhdLHRoaXMuY3VycmVudFRpbWVTdGFtcD1uLkZyYWN0aW9uLnBsdXModGhpcy5jdXJyZW50TWVhc3VyZS5BYnNvbHV0ZVRpbWVzdGFtcCx0aGlzLmN1cnJlbnRWZXJ0aWNhbENvbnRhaW5lckluTWVhc3VyZVRpbWVzdGFtcCksdGhpcy5jdXJyZW50Vm9pY2VFbnRyeUluZGV4PS0xLHZvaWQgdGhpcy5yZWN1cnNpdmVNb3ZlKCk7dGhpcy5jdXJyZW50VmVydGljYWxDb250YWluZXJJbk1lYXN1cmVUaW1lc3RhbXA9bmV3IG4uRnJhY3Rpb24sdGhpcy5jdXJyZW50TWVhc3VyZT12b2lkIDAsdGhpcy5jdXJyZW50Vm9pY2VFbnRyaWVzPXZvaWQgMCx0aGlzLmVuZFJlYWNoZWQ9ITB9Y2hlY2tFbnRyaWVzKHQpe2NvbnN0IGU9dGhpcy5DdXJyZW50VmlzaWJsZVZvaWNlRW50cmllcygpO2lmKGUubGVuZ3RoPjApe2lmKCF0KXJldHVybiEwO2ZvcihsZXQgdD0wLGk9ZS5sZW5ndGg7dDxpOysrdCl7aWYoZVt0XS5Ob3Rlc1swXS5QaXRjaClyZXR1cm4hMH19cmV0dXJuITF9Z2V0VmlzaWJsZUVudHJpZXModCxlKXt0LlBhcmVudFZvaWNlLlZpc2libGUmJmUucHVzaCh0KX1nZXRBdWRpYmxlRW50cmllcyh0LGUpe3QuUGFyZW50Vm9pY2UuQXVkaWJsZSYmZS5wdXNoKHQpfWdldFNjb3JlRm9sbG93aW5nRW50cmllcyh0LGUpe3QuUGFyZW50Vm9pY2UuRm9sbG93aW5nJiZ0LlBhcmVudFZvaWNlLlBhcmVudC5Gb2xsb3dpbmcmJmUucHVzaCh0KX1nZXRWb2ljZUVudHJpZXModCl7Y29uc3QgZT1bXTtmb3IoY29uc3QgaSBvZiB0LlN0YWZmRW50cmllcylpZihpKWZvcihjb25zdCB0IG9mIGkuVm9pY2VFbnRyaWVzKWUucHVzaCh0KTtyZXR1cm4gZX19ZS5NdXNpY1BhcnRNYW5hZ2VySXRlcmF0b3I9bH0sZnVuY3Rpb24odCxlLGkpe1widXNlIHN0cmljdFwiO09iamVjdC5kZWZpbmVQcm9wZXJ0eShlLFwiX19lc01vZHVsZVwiLHt2YWx1ZTohMH0pO2NvbnN0IHM9aSgzMyksbj1pKDUxKTtlLkR5bmFtaWNzQ29udGFpbmVyPWNsYXNze2NvbnN0cnVjdG9yKHQsZSl7dCBpbnN0YW5jZW9mIHMuQ29udGludW91c0R5bmFtaWNFeHByZXNzaW9uP3RoaXMuY29udGludW91c0R5bmFtaWNFeHByZXNzaW9uPXQ6dCBpbnN0YW5jZW9mIG4uSW5zdGFudGFuZW91c0R5bmFtaWNFeHByZXNzaW9uJiYodGhpcy5pbnN0YW50YW5lb3VzRHluYW1pY0V4cHJlc3Npb249dCksdGhpcy5zdGFmZk51bWJlcj1lfXBhck11bHRpRXhwcmVzc2lvbigpe3JldHVybiB0aGlzLmNvbnRpbnVvdXNEeW5hbWljRXhwcmVzc2lvbj90aGlzLmNvbnRpbnVvdXNEeW5hbWljRXhwcmVzc2lvbi5TdGFydE11bHRpRXhwcmVzc2lvbjp0aGlzLmluc3RhbnRhbmVvdXNEeW5hbWljRXhwcmVzc2lvbj90aGlzLmluc3RhbnRhbmVvdXNEeW5hbWljRXhwcmVzc2lvbi5QYXJlbnRNdWx0aUV4cHJlc3Npb246dm9pZCAwfUNvbXBhcmVUbyh0KXtyZXR1cm4gdGhpcy5wYXJNdWx0aUV4cHJlc3Npb24oKS5BYnNvbHV0ZVRpbWVzdGFtcC5Db21wYXJlVG8odC5wYXJNdWx0aUV4cHJlc3Npb24oKS5BYnNvbHV0ZVRpbWVzdGFtcCl9fX0sZnVuY3Rpb24odCxlLGkpe1widXNlIHN0cmljdFwiO09iamVjdC5kZWZpbmVQcm9wZXJ0eShlLFwiX19lc01vZHVsZVwiLHt2YWx1ZTohMH0pO2UuTXVzaWNTaGVldEVycm9ycz1jbGFzc3tjb25zdHJ1Y3Rvcigpe3RoaXMubWVhc3VyZUVycm9ycz17fSx0aGlzLmVycm9ycz1bXSx0aGlzLnRlbXBFcnJvcnM9W119ZmluYWxpemVNZWFzdXJlKHQpe2xldCBlPXRoaXMubWVhc3VyZUVycm9yc1t0XTtlfHwoZT1bXSksdGhpcy5tZWFzdXJlRXJyb3JzW3RdPWUuY29uY2F0KHRoaXMudGVtcEVycm9ycyksdGhpcy50ZW1wRXJyb3JzPVtdfXB1c2hNZWFzdXJlRXJyb3IodCl7dGhpcy50ZW1wRXJyb3JzLnB1c2godCl9cHVzaCh0KXt0aGlzLmVycm9ycy5wdXNoKHQpfX19LGZ1bmN0aW9uKHQsZSxpKXtcInVzZSBzdHJpY3RcIjtPYmplY3QuZGVmaW5lUHJvcGVydHkoZSxcIl9fZXNNb2R1bGVcIix7dmFsdWU6ITB9KTtlLkx5cmljV29yZD1jbGFzc3tjb25zdHJ1Y3Rvcigpe3RoaXMuc3lsbGFibGVzPVtdfWdldCBTeWxsYWJsZXMoKXtyZXR1cm4gdGhpcy5zeWxsYWJsZXN9Y29udGFpbnNWb2ljZUVudHJ5KHQpe2ZvcihsZXQgZT0wLGk9dGhpcy5TeWxsYWJsZXMubGVuZ3RoO2U8aTsrK2Upe2lmKHRoaXMuU3lsbGFibGVzW2VdLlBhcmVudD09PXQpcmV0dXJuITB9cmV0dXJuITF9ZmluZEx5cmljRW50cnlJblZvaWNlRW50cnkodCl7Zm9yKGxldCBlPTAsaT10aGlzLlN5bGxhYmxlcy5sZW5ndGg7ZTxpOysrZSl7Y29uc3QgaT10aGlzLlN5bGxhYmxlc1tlXTtpZihpLlBhcmVudD09PXQpcmV0dXJuIGl9fX19LGZ1bmN0aW9uKHQsZSxpKXtcInVzZSBzdHJpY3RcIjtPYmplY3QuZGVmaW5lUHJvcGVydHkoZSxcIl9fZXNNb2R1bGVcIix7dmFsdWU6ITB9KTtlLkx5cmljc0VudHJ5PWNsYXNze2NvbnN0cnVjdG9yKHQsZSxpLHMsbj0tMSl7dGhpcy50ZXh0PXQsdGhpcy53b3JkPWksdGhpcy5wYXJlbnQ9cyx0aGlzLnZlcnNlTnVtYmVyPWUsbj49MCYmKHRoaXMuc3lsbGFibGVJbmRleD1uKX1nZXQgVGV4dCgpe3JldHVybiB0aGlzLnRleHR9c2V0IFRleHQodCl7dGhpcy50ZXh0PXR9Z2V0IFdvcmQoKXtyZXR1cm4gdGhpcy53b3JkfWdldCBQYXJlbnQoKXtyZXR1cm4gdGhpcy5wYXJlbnR9c2V0IFBhcmVudCh0KXt0aGlzLnBhcmVudD10fWdldCBWZXJzZU51bWJlcigpe3JldHVybiB0aGlzLnZlcnNlTnVtYmVyfWdldCBTeWxsYWJsZUluZGV4KCl7cmV0dXJuIHRoaXMuc3lsbGFibGVJbmRleH19fSxmdW5jdGlvbih0LGUsaSl7XCJ1c2Ugc3RyaWN0XCI7T2JqZWN0LmRlZmluZVByb3BlcnR5KGUsXCJfX2VzTW9kdWxlXCIse3ZhbHVlOiEwfSk7Y29uc3Qgcz1pKDMwKTtjbGFzcyBuIGV4dGVuZHMgcy5Ob3Rle2NvbnN0cnVjdG9yKHQsZSxpLHMsbixyKXtzdXBlcih0LGUsaSxzKSx0aGlzLnN0cmluZ051bWJlcj1uLHRoaXMuZnJldE51bWJlcj1yfWdldCBTdHJpbmdOdW1iZXIoKXtyZXR1cm4gdGhpcy5zdHJpbmdOdW1iZXJ9Z2V0IEZyZXROdW1iZXIoKXtyZXR1cm4gdGhpcy5mcmV0TnVtYmVyfX1lLlRhYk5vdGU9bn0sZnVuY3Rpb24odCxlLGkpe1widXNlIHN0cmljdFwiO09iamVjdC5kZWZpbmVQcm9wZXJ0eShlLFwiX19lc01vZHVsZVwiLHt2YWx1ZTohMH0pO2NvbnN0IHM9aSgwKSxuPWkoNTcpLHI9aSg2KSxvPWkoMjMpLGE9aSg1OCk7ZS5NdWx0aVRlbXBvRXhwcmVzc2lvbj1jbGFzc3tjb25zdHJ1Y3Rvcih0LGUpe3RoaXMuZXhwcmVzc2lvbnM9W10sdGhpcy5zb3VyY2VNZWFzdXJlPXQsdGhpcy50aW1lc3RhbXA9ZX1nZXQgVGltZXN0YW1wKCl7cmV0dXJuIHRoaXMudGltZXN0YW1wfWdldCBBYnNvbHV0ZVRpbWVzdGFtcCgpe3JldHVybiBzLkZyYWN0aW9uLnBsdXModGhpcy5zb3VyY2VNZWFzdXJlLkFic29sdXRlVGltZXN0YW1wLHRoaXMudGltZXN0YW1wKX1nZXQgU291cmNlTWVhc3VyZVBhcmVudCgpe3JldHVybiB0aGlzLnNvdXJjZU1lYXN1cmV9c2V0IFNvdXJjZU1lYXN1cmVQYXJlbnQodCl7dGhpcy5zb3VyY2VNZWFzdXJlPXR9Z2V0IEluc3RhbnRhbmVvdXNUZW1wbygpe3JldHVybiB0aGlzLmluc3RhbnRhbmVvdXNUZW1wb31nZXQgQ29udGludW91c1RlbXBvKCl7cmV0dXJuIHRoaXMuY29udGludW91c1RlbXBvfWdldCBFbnRyaWVzTGlzdCgpe3JldHVybiB0aGlzLmV4cHJlc3Npb25zfWdldCBDb21iaW5lZEV4cHJlc3Npb25zVGV4dCgpe3JldHVybiB0aGlzLmNvbWJpbmVkRXhwcmVzc2lvbnNUZXh0fXNldCBDb21iaW5lZEV4cHJlc3Npb25zVGV4dCh0KXt0aGlzLmNvbWJpbmVkRXhwcmVzc2lvbnNUZXh0PXR9Z2V0UGxhY2VtZW50T2ZGaXJzdEVudHJ5KCl7bGV0IHQ9ci5QbGFjZW1lbnRFbnVtLkFib3ZlO3JldHVybiB0aGlzLmV4cHJlc3Npb25zLmxlbmd0aD4wJiYodGhpcy5leHByZXNzaW9uc1swXS5FeHByZXNzaW9uIGluc3RhbmNlb2Ygbi5JbnN0YW50YW5lb3VzVGVtcG9FeHByZXNzaW9ufHx0aGlzLmV4cHJlc3Npb25zWzBdLkV4cHJlc3Npb24gaW5zdGFuY2VvZiBhLkNvbnRpbnVvdXNUZW1wb0V4cHJlc3Npb24pJiYodD10aGlzLmV4cHJlc3Npb25zWzBdLkV4cHJlc3Npb24uUGxhY2VtZW50KSx0fWdldEZvbnRzdHlsZU9mRmlyc3RFbnRyeSgpe2xldCB0PW8uRm9udFN0eWxlcy5SZWd1bGFyO3JldHVybiB0aGlzLmV4cHJlc3Npb25zWzBdLkV4cHJlc3Npb24gaW5zdGFuY2VvZiBuLkluc3RhbnRhbmVvdXNUZW1wb0V4cHJlc3Npb24/dD1vLkZvbnRTdHlsZXMuQm9sZDp0aGlzLmV4cHJlc3Npb25zWzBdLkV4cHJlc3Npb24gaW5zdGFuY2VvZiBhLkNvbnRpbnVvdXNUZW1wb0V4cHJlc3Npb24mJih0PW8uRm9udFN0eWxlcy5JdGFsaWMpLHR9YWRkRXhwcmVzc2lvbih0LGUpe2lmKHRoaXMuY2hlY2tJZkFscmVhZHlFeGlzdHModCkpcmV0dXJuO3QgaW5zdGFuY2VvZiBuLkluc3RhbnRhbmVvdXNUZW1wb0V4cHJlc3Npb24/dGhpcy5pbnN0YW50YW5lb3VzVGVtcG89dDp0IGluc3RhbmNlb2YgYS5Db250aW51b3VzVGVtcG9FeHByZXNzaW9uJiYodGhpcy5jb250aW51b3VzVGVtcG89dCk7Y29uc3QgaT1uZXcgaDtpLnByZWZpeD1lLGkuRXhwcmVzc2lvbj10LGkubGFiZWw9dC5MYWJlbCx0aGlzLmV4cHJlc3Npb25zLnB1c2goaSl9Q29tcGFyZVRvKHQpe3JldHVybiB0aGlzLlRpbWVzdGFtcC5SZWFsVmFsdWU+dC5UaW1lc3RhbXAuUmVhbFZhbHVlPzE6dGhpcy5UaW1lc3RhbXAuUmVhbFZhbHVlPHQuVGltZXN0YW1wLlJlYWxWYWx1ZT8tMTowfWNoZWNrSWZBbHJlYWR5RXhpc3RzKHQpe2Zvcihjb25zdCBlIG9mIHRoaXMuZXhwcmVzc2lvbnMpaWYoZS5sYWJlbD09PXQuTGFiZWwpcmV0dXJuITA7cmV0dXJuITF9fTtjbGFzcyBoe2dldCBFeHByZXNzaW9uKCl7cmV0dXJuIHRoaXMuZXhwcmVzc2lvbn1zZXQgRXhwcmVzc2lvbih0KXt0aGlzLmV4cHJlc3Npb249dH19ZS5UZW1wb0V4cHJlc3Npb25FbnRyeT1ofSxmdW5jdGlvbih0LGUsaSl7XCJ1c2Ugc3RyaWN0XCI7T2JqZWN0LmRlZmluZVByb3BlcnR5KGUsXCJfX2VzTW9kdWxlXCIse3ZhbHVlOiEwfSk7Y29uc3Qgcz1pKDApLG49aSg1MSkscj1pKDMzKSxvPWkoMTQwKSxhPWkoMTQxKSxoPWkoNiksbD1pKDIzKTtlLk11bHRpRXhwcmVzc2lvbj1jbGFzc3tjb25zdHJ1Y3Rvcih0LGUpe3RoaXMudW5rbm93bkxpc3Q9W10sdGhpcy5tb29kTGlzdD1bXSx0aGlzLmV4cHJlc3Npb25zPVtdLHRoaXMuc291cmNlTWVhc3VyZT10LHRoaXMudGltZXN0YW1wPWV9Z2V0IFNvdXJjZU1lYXN1cmVQYXJlbnQoKXtyZXR1cm4gdGhpcy5zb3VyY2VNZWFzdXJlfXNldCBTb3VyY2VNZWFzdXJlUGFyZW50KHQpe3RoaXMuc291cmNlTWVhc3VyZT10fWdldCBTdGFmZk51bWJlcigpe3JldHVybiB0aGlzLnN0YWZmTnVtYmVyfXNldCBTdGFmZk51bWJlcih0KXt0aGlzLnN0YWZmTnVtYmVyPXR9Z2V0IFRpbWVzdGFtcCgpe3JldHVybiB0aGlzLnRpbWVzdGFtcH1zZXQgVGltZXN0YW1wKHQpe3RoaXMudGltZXN0YW1wPXR9Z2V0IEFic29sdXRlVGltZXN0YW1wKCl7cmV0dXJuIHMuRnJhY3Rpb24ucGx1cyh0aGlzLnRpbWVzdGFtcCx0aGlzLnNvdXJjZU1lYXN1cmUuQWJzb2x1dGVUaW1lc3RhbXApfWdldCBJbnN0YW50YW5lb3VzRHluYW1pYygpe3JldHVybiB0aGlzLmluc3RhbnRhbmVvdXNEeW5hbWljfXNldCBJbnN0YW50YW5lb3VzRHluYW1pYyh0KXt0aGlzLmluc3RhbnRhbmVvdXNEeW5hbWljPXR9Z2V0IEVuZGluZ0NvbnRpbnVvdXNEeW5hbWljKCl7cmV0dXJuIHRoaXMuZW5kaW5nQ29udGludW91c0R5bmFtaWN9c2V0IEVuZGluZ0NvbnRpbnVvdXNEeW5hbWljKHQpe3RoaXMuZW5kaW5nQ29udGludW91c0R5bmFtaWM9dH1nZXQgU3RhcnRpbmdDb250aW51b3VzRHluYW1pYygpe3JldHVybiB0aGlzLnN0YXJ0aW5nQ29udGludW91c0R5bmFtaWN9c2V0IFN0YXJ0aW5nQ29udGludW91c0R5bmFtaWModCl7dGhpcy5zdGFydGluZ0NvbnRpbnVvdXNEeW5hbWljPXR9Z2V0IE1vb2RMaXN0KCl7cmV0dXJuIHRoaXMubW9vZExpc3R9Z2V0IFVua25vd25MaXN0KCl7cmV0dXJuIHRoaXMudW5rbm93bkxpc3R9Z2V0IEVudHJpZXNMaXN0KCl7cmV0dXJuIHRoaXMuZXhwcmVzc2lvbnN9Z2V0IE9jdGF2ZVNoaWZ0U3RhcnQoKXtyZXR1cm4gdGhpcy5vY3RhdmVTaGlmdFN0YXJ0fXNldCBPY3RhdmVTaGlmdFN0YXJ0KHQpe3RoaXMub2N0YXZlU2hpZnRTdGFydD10fWdldCBPY3RhdmVTaGlmdEVuZCgpe3JldHVybiB0aGlzLm9jdGF2ZVNoaWZ0RW5kfXNldCBPY3RhdmVTaGlmdEVuZCh0KXt0aGlzLm9jdGF2ZVNoaWZ0RW5kPXR9Z2V0IENvbWJpbmVkRXhwcmVzc2lvbnNUZXh0KCl7cmV0dXJuIHRoaXMuY29tYmluZWRFeHByZXNzaW9uc1RleHR9c2V0IENvbWJpbmVkRXhwcmVzc2lvbnNUZXh0KHQpe3RoaXMuY29tYmluZWRFeHByZXNzaW9uc1RleHQ9dH1nZXRQbGFjZW1lbnRPZkZpcnN0RW50cnkoKXtsZXQgdD1oLlBsYWNlbWVudEVudW0uQWJvdmU7cmV0dXJuIHRoaXMuZXhwcmVzc2lvbnMubGVuZ3RoPjAmJih0aGlzLmV4cHJlc3Npb25zWzBdLmV4cHJlc3Npb24gaW5zdGFuY2VvZiBuLkluc3RhbnRhbmVvdXNEeW5hbWljRXhwcmVzc2lvbnx8dGhpcy5leHByZXNzaW9uc1swXS5leHByZXNzaW9uIGluc3RhbmNlb2Ygci5Db250aW51b3VzRHluYW1pY0V4cHJlc3Npb258fHRoaXMuZXhwcmVzc2lvbnNbMF0uZXhwcmVzc2lvbiBpbnN0YW5jZW9mIG8uTW9vZEV4cHJlc3Npb258fHRoaXMuZXhwcmVzc2lvbnNbMF0uZXhwcmVzc2lvbiBpbnN0YW5jZW9mIGEuVW5rbm93bkV4cHJlc3Npb24pJiYodD10aGlzLmV4cHJlc3Npb25zWzBdLmV4cHJlc3Npb24uUGxhY2VtZW50KSx0fWdldEZvbnRzdHlsZU9mRmlyc3RFbnRyeSgpe2xldCB0PWwuRm9udFN0eWxlcy5SZWd1bGFyO3JldHVybiB0aGlzLmV4cHJlc3Npb25zLmxlbmd0aD4wJiYodGhpcy5leHByZXNzaW9uc1swXS5leHByZXNzaW9uIGluc3RhbmNlb2Ygci5Db250aW51b3VzRHluYW1pY0V4cHJlc3Npb258fHRoaXMuZXhwcmVzc2lvbnNbMF0uZXhwcmVzc2lvbiBpbnN0YW5jZW9mIG8uTW9vZEV4cHJlc3Npb24/dD1sLkZvbnRTdHlsZXMuSXRhbGljOnRoaXMuZXhwcmVzc2lvbnNbMF0uZXhwcmVzc2lvbiBpbnN0YW5jZW9mIGEuVW5rbm93bkV4cHJlc3Npb24mJih0PWwuRm9udFN0eWxlcy5SZWd1bGFyKSksdH1hZGRFeHByZXNzaW9uKHQsZSl7dCBpbnN0YW5jZW9mIG4uSW5zdGFudGFuZW91c0R5bmFtaWNFeHByZXNzaW9uPyh0aGlzLmluc3RhbnRhbmVvdXNEeW5hbWljJiZ0aGlzLnJlbW92ZUV4cHJlc3Npb25Gcm9tRW50cnlMaXN0KHRoaXMuSW5zdGFudGFuZW91c0R5bmFtaWMpLHRoaXMuaW5zdGFudGFuZW91c0R5bmFtaWM9dCx0aGlzLmluc3RhbnRhbmVvdXNEeW5hbWljLlBhcmVudE11bHRpRXhwcmVzc2lvbj10aGlzKTp0IGluc3RhbmNlb2Ygci5Db250aW51b3VzRHluYW1pY0V4cHJlc3Npb24/dGhpcy5zdGFydGluZ0NvbnRpbnVvdXNEeW5hbWljPXQ6dCBpbnN0YW5jZW9mIG8uTW9vZEV4cHJlc3Npb24/dGhpcy5tb29kTGlzdC5wdXNoKHQpOnQgaW5zdGFuY2VvZiBhLlVua25vd25FeHByZXNzaW9uJiZ0aGlzLnVua25vd25MaXN0LnB1c2godCksdGhpcy5hZGRFeHByZXNzaW9uVG9FbnRyeUxpc3QodCxlKX1Db21wYXJlVG8odCl7cmV0dXJuIHRoaXMuVGltZXN0YW1wLlJlYWxWYWx1ZT50LlRpbWVzdGFtcC5SZWFsVmFsdWU/MTp0aGlzLlRpbWVzdGFtcC5SZWFsVmFsdWU8dC5UaW1lc3RhbXAuUmVhbFZhbHVlPy0xOjB9YWRkRXhwcmVzc2lvblRvRW50cnlMaXN0KHQsZSl7Y29uc3QgaT1uZXcgYztpLnByZWZpeD1lLGkuZXhwcmVzc2lvbj10LHQgaW5zdGFuY2VvZiByLkNvbnRpbnVvdXNEeW5hbWljRXhwcmVzc2lvbnx8dCBpbnN0YW5jZW9mIG8uTW9vZEV4cHJlc3Npb258fHQgaW5zdGFuY2VvZiBhLlVua25vd25FeHByZXNzaW9uP2kubGFiZWw9dC5MYWJlbDppLmxhYmVsPVwiXCIsdGhpcy5leHByZXNzaW9ucy5wdXNoKGkpfXJlbW92ZUV4cHJlc3Npb25Gcm9tRW50cnlMaXN0KHQpe2ZvcihsZXQgZT0wLGk9dGhpcy5leHByZXNzaW9ucy5sZW5ndGg7ZTxpOysrZSl7aWYodGhpcy5leHByZXNzaW9uc1tlXS5leHByZXNzaW9uPT09dCl7dGhpcy5leHByZXNzaW9ucy5zcGxpY2UoZSwxKTticmVha319fX07Y2xhc3MgY3t9ZS5NdWx0aUV4cHJlc3Npb25FbnRyeT1jfSxmdW5jdGlvbih0LGUsaSl7XCJ1c2Ugc3RyaWN0XCI7T2JqZWN0LmRlZmluZVByb3BlcnR5KGUsXCJfX2VzTW9kdWxlXCIse3ZhbHVlOiEwfSk7Y29uc3Qgcz1pKDApO2UuU2x1cj1jbGFzc3tjb25zdHJ1Y3Rvcigpe31nZXQgU3RhcnROb3RlKCl7cmV0dXJuIHRoaXMuc3RhcnROb3RlfXNldCBTdGFydE5vdGUodCl7dGhpcy5zdGFydE5vdGU9dH1nZXQgRW5kTm90ZSgpe3JldHVybiB0aGlzLmVuZE5vdGV9c2V0IEVuZE5vdGUodCl7dGhpcy5lbmROb3RlPXR9c3RhcnROb3RlSGFzTW9yZVN0YXJ0aW5nU2x1cnMoKXtpZighdGhpcy5zdGFydE5vdGUpcmV0dXJuITE7Zm9yKGxldCB0PTAsZT10aGlzLnN0YXJ0Tm90ZS5Ob3RlU2x1cnMubGVuZ3RoO3Q8ZTsrK3Qpe2NvbnN0IGU9dGhpcy5zdGFydE5vdGUuTm90ZVNsdXJzW3RdO2lmKGUhPT10aGlzJiZlLlN0YXJ0Tm90ZT09PXRoaXMuc3RhcnROb3RlKXJldHVybiEwfXJldHVybiExfWVuZE5vdGVIYXNNb3JlRW5kaW5nU2x1cnMoKXtpZighdGhpcy5lbmROb3RlKXJldHVybiExO2ZvcihsZXQgdD0wLGU9dGhpcy5lbmROb3RlLk5vdGVTbHVycy5sZW5ndGg7dDxlOysrdCl7Y29uc3QgZT10aGlzLmVuZE5vdGUuTm90ZVNsdXJzW3RdO2lmKGUhPT10aGlzJiZlLkVuZE5vdGU9PT10aGlzLmVuZE5vdGUpcmV0dXJuITB9cmV0dXJuITF9aXNDcm9zc2VkKCl7cmV0dXJuIHRoaXMuc3RhcnROb3RlLlBhcmVudFN0YWZmRW50cnkuUGFyZW50U3RhZmYhPT10aGlzLmVuZE5vdGUuUGFyZW50U3RhZmZFbnRyeS5QYXJlbnRTdGFmZn1pc1NsdXJMb25nZXIoKXtpZighdGhpcy5lbmROb3RlfHwhdGhpcy5zdGFydE5vdGUpcmV0dXJuITE7Y29uc3QgdD1zLkZyYWN0aW9uLm1pbnVzKHRoaXMuZW5kTm90ZS5nZXRBYnNvbHV0ZVRpbWVzdGFtcCgpLHRoaXMuc3RhcnROb3RlLmdldEFic29sdXRlVGltZXN0YW1wKCkpO2ZvcihsZXQgZT0wLGk9dGhpcy5zdGFydE5vdGUuTm90ZVNsdXJzLmxlbmd0aDtlPGk7KytlKXtjb25zdCBpPXRoaXMuc3RhcnROb3RlLk5vdGVTbHVyc1tlXTtpZihpIT09dGhpcyYmdm9pZCAwIT09aS5FbmROb3RlJiZ2b2lkIDAhPT1pLlN0YXJ0Tm90ZSYmLTE9PT1zLkZyYWN0aW9uLm1pbnVzKGkuRW5kTm90ZS5nZXRBYnNvbHV0ZVRpbWVzdGFtcCgpLGkuU3RhcnROb3RlLmdldEFic29sdXRlVGltZXN0YW1wKCkpLkNvbXBhcmVUbyh0KSlyZXR1cm4hMH1mb3IobGV0IGU9MCxpPXRoaXMuZW5kTm90ZS5Ob3RlU2x1cnMubGVuZ3RoO2U8aTsrK2Upe2NvbnN0IGk9dGhpcy5lbmROb3RlLk5vdGVTbHVyc1tlXTtpZihpIT09dGhpcyYmdm9pZCAwIT09aS5FbmROb3RlJiZ2b2lkIDAhPT1pLlN0YXJ0Tm90ZSYmcy5GcmFjdGlvbi5taW51cyhpLkVuZE5vdGUuZ2V0QWJzb2x1dGVUaW1lc3RhbXAoKSxpLlN0YXJ0Tm90ZS5nZXRBYnNvbHV0ZVRpbWVzdGFtcCgpKS5Db21wYXJlVG8odCkpcmV0dXJuITB9cmV0dXJuITF9fX0sZnVuY3Rpb24odCxlLGkpe1widXNlIHN0cmljdFwiO09iamVjdC5kZWZpbmVQcm9wZXJ0eShlLFwiX19lc01vZHVsZVwiLHt2YWx1ZTohMH0pO2UuU3RyaW5nVXRpbD1jbGFzc3tzdGF0aWMgU3RyaW5nQ29udGFpbnNTZXBhcmF0ZWRXb3JkKHQsZSl7cmV0dXJuISFuZXcgUmVnRXhwKFwiKCB8XilcIitlK1wiKFsgLl18JClcIikudGVzdCh0KX19fSxmdW5jdGlvbih0LGUsaSl7XCJ1c2Ugc3RyaWN0XCI7ZnVuY3Rpb24gcyh0KXtmb3IodmFyIGkgaW4gdCllLmhhc093blByb3BlcnR5KGkpfHwoZVtpXT10W2ldKX1PYmplY3QuZGVmaW5lUHJvcGVydHkoZSxcIl9fZXNNb2R1bGVcIix7dmFsdWU6ITB9KSxzKGkoMTkxKSkscyhpKDc2KSkscyhpKDEzMikpLHMoaSgxMzMpKX0sZnVuY3Rpb24odCxlLGkpe1widXNlIHN0cmljdFwiO09iamVjdC5kZWZpbmVQcm9wZXJ0eShlLFwiX19lc01vZHVsZVwiLHt2YWx1ZTohMH0pO2UuTWFwcGluZ1NvdXJjZU11c2ljUGFydD1jbGFzc3tjb25zdHJ1Y3Rvcih0LGUsaSxzPS0xLG49ITEpe3RoaXMucmVwZXRpdGlvblJ1bj0tMSx0aGlzLnNvdXJjZU11c2ljUGFydD10LHRoaXMucGFyZW50UGFydExpc3RFbnRyeT1pLHRoaXMuc3RhcnRUaW1lc3RhbXA9ZS5jbG9uZSgpLHRoaXMucmVwZXRpdGlvblJ1bj1zLHRoaXMucGFyZW50UmVwZXRpdGlvbj1pLHRoaXMuaXNFbmRpbmc9bn1nZXQgSXNSZXBldGl0aW9uKCl7cmV0dXJuIHZvaWQgMCE9PXRoaXMucGFyZW50UmVwZXRpdGlvbn1nZXQgSXNFbmRpbmcoKXtyZXR1cm4gdGhpcy5pc0VuZGluZ31nZXQgSXNMYXN0UmVwZXRpdGlvblJ1bigpe3JldHVybiB0aGlzLklzUmVwZXRpdGlvbiYmdGhpcy5yZXBldGl0aW9uUnVuKzE9PT10aGlzLnBhcmVudFJlcGV0aXRpb24uVXNlck51bWJlck9mUmVwZXRpdGlvbnN9Z2V0IFJlcGV0aXRpb25SdW4oKXtyZXR1cm4gdGhpcy5yZXBldGl0aW9uUnVufWdldCBQYXJlbnRQYXJ0TGlzdEVudHJ5KCl7cmV0dXJuIHRoaXMucGFyZW50UGFydExpc3RFbnRyeX1nZXQgU291cmNlTXVzaWNQYXJ0KCl7cmV0dXJuIHRoaXMuc291cmNlTXVzaWNQYXJ0fWdldCBTdGFydFRpbWVzdGFtcCgpe3JldHVybiB0aGlzLnN0YXJ0VGltZXN0YW1wfUNvbXBhcmVUbyh0KXtyZXR1cm4gdD90aGlzLnN0YXJ0VGltZXN0YW1wLkNvbXBhcmVUbyh0LnN0YXJ0VGltZXN0YW1wKToxfX19LGZ1bmN0aW9uKHQsZSxpKXtcInVzZSBzdHJpY3RcIjtmdW5jdGlvbiBzKHQpe2Zvcih2YXIgaSBpbiB0KWUuaGFzT3duUHJvcGVydHkoaSl8fChlW2ldPXRbaV0pfU9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLFwiX19lc01vZHVsZVwiLHt2YWx1ZTohMH0pLHMoaSgxMzQpKSxzKGkoMTMwKSkscyhpKDE0NCkpLHMoaSgxMzUpKSxzKGkoMTkzKSl9LGZ1bmN0aW9uKHQsZSxpKXtcInVzZSBzdHJpY3RcIjtmdW5jdGlvbiBzKHQpe2Zvcih2YXIgaSBpbiB0KWUuaGFzT3duUHJvcGVydHkoaSl8fChlW2ldPXRbaV0pfU9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLFwiX19lc01vZHVsZVwiLHt2YWx1ZTohMH0pLHMoaSgxMzcpKSxzKGkoMTM4KSkscyhpKDEzOSkpLHMoaSgxMzYpKSxzKGkoMTQ2KSkscyhpKDE0NSkpLHMoaSgxNDIpKX0sZnVuY3Rpb24odCxlLGkpe1widXNlIHN0cmljdFwiO2Z1bmN0aW9uIHModCl7Zm9yKHZhciBpIGluIHQpZS5oYXNPd25Qcm9wZXJ0eShpKXx8KGVbaV09dFtpXSl9T2JqZWN0LmRlZmluZVByb3BlcnR5KGUsXCJfX2VzTW9kdWxlXCIse3ZhbHVlOiEwfSkscyhpKDI0KSkscyhpKDE5NSkpfSxmdW5jdGlvbih0LGUsaSl7XCJ1c2Ugc3RyaWN0XCI7T2JqZWN0LmRlZmluZVByb3BlcnR5KGUsXCJfX2VzTW9kdWxlXCIse3ZhbHVlOiEwfSk7Y2xhc3Mgc3tzdGF0aWMgbG9nKHQsZSl7cmV0dXJuIE1hdGgubG9nKGUpL01hdGgubG9nKHQpfXN0YXRpYyBsb2cxMCh0KXtyZXR1cm4gcy5sb2coMTAsdCl9c3RhdGljIG1lYW5TaW1wbGUodCl7bGV0IGU9MDtmb3IobGV0IGk9MDtpPHQubGVuZ3RoO2krKyllKz10W2ldO3JldHVybiBlL3QubGVuZ3RofXN0YXRpYyBtZWFuV2VpZ2h0ZWQodCxlKXtpZih0Lmxlbmd0aCE9PWUubGVuZ3RofHwwPT09dC5sZW5ndGgpcmV0dXJuIDA7bGV0IGk9MCxzPTA7Zm9yKGxldCBuPTA7bjx0Lmxlbmd0aDtuKyspe2NvbnN0IHI9ZVtuXTtpKz10W25dKnIscys9cn1yZXR1cm4gaS9zfX1lLlBTTWF0aD1zfV0pfSkpOyJdLCJtYXBwaW5ncyI6IkFBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSIsInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./node_modules/opensheetmusicdisplay/build/opensheetmusicdisplay.min.js\n");

/***/ }),

/***/ "./node_modules/popper.js/dist/esm/popper.js":
/*!***************************************************!*\
  !*** ./node_modules/popper.js/dist/esm/popper.js ***!
  \***************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* WEBPACK VAR INJECTION */(function(global) {/**!\n * @fileOverview Kickass library to create and place poppers near their reference elements.\n * @version 1.16.1\n * @license\n * Copyright (c) 2016 Federico Zivolo and contributors\n *\n * Permission is hereby granted, free of charge, to any person obtaining a copy\n * of this software and associated documentation files (the \"Software\"), to deal\n * in the Software without restriction, including without limitation the rights\n * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n * copies of the Software, and to permit persons to whom the Software is\n * furnished to do so, subject to the following conditions:\n *\n * The above copyright notice and this permission notice shall be included in all\n * copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE\n * SOFTWARE.\n */\nvar isBrowser = typeof window !== 'undefined' && typeof document !== 'undefined' && typeof navigator !== 'undefined';\n\nvar timeoutDuration = function () {\n  var longerTimeoutBrowsers = ['Edge', 'Trident', 'Firefox'];\n  for (var i = 0; i < longerTimeoutBrowsers.length; i += 1) {\n    if (isBrowser && navigator.userAgent.indexOf(longerTimeoutBrowsers[i]) >= 0) {\n      return 1;\n    }\n  }\n  return 0;\n}();\n\nfunction microtaskDebounce(fn) {\n  var called = false;\n  return function () {\n    if (called) {\n      return;\n    }\n    called = true;\n    window.Promise.resolve().then(function () {\n      called = false;\n      fn();\n    });\n  };\n}\n\nfunction taskDebounce(fn) {\n  var scheduled = false;\n  return function () {\n    if (!scheduled) {\n      scheduled = true;\n      setTimeout(function () {\n        scheduled = false;\n        fn();\n      }, timeoutDuration);\n    }\n  };\n}\n\nvar supportsMicroTasks = isBrowser && window.Promise;\n\n/**\n* Create a debounced version of a method, that's asynchronously deferred\n* but called in the minimum time possible.\n*\n* @method\n* @memberof Popper.Utils\n* @argument {Function} fn\n* @returns {Function}\n*/\nvar debounce = supportsMicroTasks ? microtaskDebounce : taskDebounce;\n\n/**\n * Check if the given variable is a function\n * @method\n * @memberof Popper.Utils\n * @argument {Any} functionToCheck - variable to check\n * @returns {Boolean} answer to: is a function?\n */\nfunction isFunction(functionToCheck) {\n  var getType = {};\n  return functionToCheck && getType.toString.call(functionToCheck) === '[object Function]';\n}\n\n/**\n * Get CSS computed property of the given element\n * @method\n * @memberof Popper.Utils\n * @argument {Eement} element\n * @argument {String} property\n */\nfunction getStyleComputedProperty(element, property) {\n  if (element.nodeType !== 1) {\n    return [];\n  }\n  // NOTE: 1 DOM access here\n  var window = element.ownerDocument.defaultView;\n  var css = window.getComputedStyle(element, null);\n  return property ? css[property] : css;\n}\n\n/**\n * Returns the parentNode or the host of the element\n * @method\n * @memberof Popper.Utils\n * @argument {Element} element\n * @returns {Element} parent\n */\nfunction getParentNode(element) {\n  if (element.nodeName === 'HTML') {\n    return element;\n  }\n  return element.parentNode || element.host;\n}\n\n/**\n * Returns the scrolling parent of the given element\n * @method\n * @memberof Popper.Utils\n * @argument {Element} element\n * @returns {Element} scroll parent\n */\nfunction getScrollParent(element) {\n  // Return body, `getScroll` will take care to get the correct `scrollTop` from it\n  if (!element) {\n    return document.body;\n  }\n\n  switch (element.nodeName) {\n    case 'HTML':\n    case 'BODY':\n      return element.ownerDocument.body;\n    case '#document':\n      return element.body;\n  }\n\n  // Firefox want us to check `-x` and `-y` variations as well\n\n  var _getStyleComputedProp = getStyleComputedProperty(element),\n      overflow = _getStyleComputedProp.overflow,\n      overflowX = _getStyleComputedProp.overflowX,\n      overflowY = _getStyleComputedProp.overflowY;\n\n  if (/(auto|scroll|overlay)/.test(overflow + overflowY + overflowX)) {\n    return element;\n  }\n\n  return getScrollParent(getParentNode(element));\n}\n\n/**\n * Returns the reference node of the reference object, or the reference object itself.\n * @method\n * @memberof Popper.Utils\n * @param {Element|Object} reference - the reference element (the popper will be relative to this)\n * @returns {Element} parent\n */\nfunction getReferenceNode(reference) {\n  return reference && reference.referenceNode ? reference.referenceNode : reference;\n}\n\nvar isIE11 = isBrowser && !!(window.MSInputMethodContext && document.documentMode);\nvar isIE10 = isBrowser && /MSIE 10/.test(navigator.userAgent);\n\n/**\n * Determines if the browser is Internet Explorer\n * @method\n * @memberof Popper.Utils\n * @param {Number} version to check\n * @returns {Boolean} isIE\n */\nfunction isIE(version) {\n  if (version === 11) {\n    return isIE11;\n  }\n  if (version === 10) {\n    return isIE10;\n  }\n  return isIE11 || isIE10;\n}\n\n/**\n * Returns the offset parent of the given element\n * @method\n * @memberof Popper.Utils\n * @argument {Element} element\n * @returns {Element} offset parent\n */\nfunction getOffsetParent(element) {\n  if (!element) {\n    return document.documentElement;\n  }\n\n  var noOffsetParent = isIE(10) ? document.body : null;\n\n  // NOTE: 1 DOM access here\n  var offsetParent = element.offsetParent || null;\n  // Skip hidden elements which don't have an offsetParent\n  while (offsetParent === noOffsetParent && element.nextElementSibling) {\n    offsetParent = (element = element.nextElementSibling).offsetParent;\n  }\n\n  var nodeName = offsetParent && offsetParent.nodeName;\n\n  if (!nodeName || nodeName === 'BODY' || nodeName === 'HTML') {\n    return element ? element.ownerDocument.documentElement : document.documentElement;\n  }\n\n  // .offsetParent will return the closest TH, TD or TABLE in case\n  // no offsetParent is present, I hate this job...\n  if (['TH', 'TD', 'TABLE'].indexOf(offsetParent.nodeName) !== -1 && getStyleComputedProperty(offsetParent, 'position') === 'static') {\n    return getOffsetParent(offsetParent);\n  }\n\n  return offsetParent;\n}\n\nfunction isOffsetContainer(element) {\n  var nodeName = element.nodeName;\n\n  if (nodeName === 'BODY') {\n    return false;\n  }\n  return nodeName === 'HTML' || getOffsetParent(element.firstElementChild) === element;\n}\n\n/**\n * Finds the root node (document, shadowDOM root) of the given element\n * @method\n * @memberof Popper.Utils\n * @argument {Element} node\n * @returns {Element} root node\n */\nfunction getRoot(node) {\n  if (node.parentNode !== null) {\n    return getRoot(node.parentNode);\n  }\n\n  return node;\n}\n\n/**\n * Finds the offset parent common to the two provided nodes\n * @method\n * @memberof Popper.Utils\n * @argument {Element} element1\n * @argument {Element} element2\n * @returns {Element} common offset parent\n */\nfunction findCommonOffsetParent(element1, element2) {\n  // This check is needed to avoid errors in case one of the elements isn't defined for any reason\n  if (!element1 || !element1.nodeType || !element2 || !element2.nodeType) {\n    return document.documentElement;\n  }\n\n  // Here we make sure to give as \"start\" the element that comes first in the DOM\n  var order = element1.compareDocumentPosition(element2) & Node.DOCUMENT_POSITION_FOLLOWING;\n  var start = order ? element1 : element2;\n  var end = order ? element2 : element1;\n\n  // Get common ancestor container\n  var range = document.createRange();\n  range.setStart(start, 0);\n  range.setEnd(end, 0);\n  var commonAncestorContainer = range.commonAncestorContainer;\n\n  // Both nodes are inside #document\n\n  if (element1 !== commonAncestorContainer && element2 !== commonAncestorContainer || start.contains(end)) {\n    if (isOffsetContainer(commonAncestorContainer)) {\n      return commonAncestorContainer;\n    }\n\n    return getOffsetParent(commonAncestorContainer);\n  }\n\n  // one of the nodes is inside shadowDOM, find which one\n  var element1root = getRoot(element1);\n  if (element1root.host) {\n    return findCommonOffsetParent(element1root.host, element2);\n  } else {\n    return findCommonOffsetParent(element1, getRoot(element2).host);\n  }\n}\n\n/**\n * Gets the scroll value of the given element in the given side (top and left)\n * @method\n * @memberof Popper.Utils\n * @argument {Element} element\n * @argument {String} side `top` or `left`\n * @returns {number} amount of scrolled pixels\n */\nfunction getScroll(element) {\n  var side = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 'top';\n\n  var upperSide = side === 'top' ? 'scrollTop' : 'scrollLeft';\n  var nodeName = element.nodeName;\n\n  if (nodeName === 'BODY' || nodeName === 'HTML') {\n    var html = element.ownerDocument.documentElement;\n    var scrollingElement = element.ownerDocument.scrollingElement || html;\n    return scrollingElement[upperSide];\n  }\n\n  return element[upperSide];\n}\n\n/*\n * Sum or subtract the element scroll values (left and top) from a given rect object\n * @method\n * @memberof Popper.Utils\n * @param {Object} rect - Rect object you want to change\n * @param {HTMLElement} element - The element from the function reads the scroll values\n * @param {Boolean} subtract - set to true if you want to subtract the scroll values\n * @return {Object} rect - The modifier rect object\n */\nfunction includeScroll(rect, element) {\n  var subtract = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : false;\n\n  var scrollTop = getScroll(element, 'top');\n  var scrollLeft = getScroll(element, 'left');\n  var modifier = subtract ? -1 : 1;\n  rect.top += scrollTop * modifier;\n  rect.bottom += scrollTop * modifier;\n  rect.left += scrollLeft * modifier;\n  rect.right += scrollLeft * modifier;\n  return rect;\n}\n\n/*\n * Helper to detect borders of a given element\n * @method\n * @memberof Popper.Utils\n * @param {CSSStyleDeclaration} styles\n * Result of `getStyleComputedProperty` on the given element\n * @param {String} axis - `x` or `y`\n * @return {number} borders - The borders size of the given axis\n */\n\nfunction getBordersSize(styles, axis) {\n  var sideA = axis === 'x' ? 'Left' : 'Top';\n  var sideB = sideA === 'Left' ? 'Right' : 'Bottom';\n\n  return parseFloat(styles['border' + sideA + 'Width']) + parseFloat(styles['border' + sideB + 'Width']);\n}\n\nfunction getSize(axis, body, html, computedStyle) {\n  return Math.max(body['offset' + axis], body['scroll' + axis], html['client' + axis], html['offset' + axis], html['scroll' + axis], isIE(10) ? parseInt(html['offset' + axis]) + parseInt(computedStyle['margin' + (axis === 'Height' ? 'Top' : 'Left')]) + parseInt(computedStyle['margin' + (axis === 'Height' ? 'Bottom' : 'Right')]) : 0);\n}\n\nfunction getWindowSizes(document) {\n  var body = document.body;\n  var html = document.documentElement;\n  var computedStyle = isIE(10) && getComputedStyle(html);\n\n  return {\n    height: getSize('Height', body, html, computedStyle),\n    width: getSize('Width', body, html, computedStyle)\n  };\n}\n\nvar classCallCheck = function (instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n};\n\nvar createClass = function () {\n  function defineProperties(target, props) {\n    for (var i = 0; i < props.length; i++) {\n      var descriptor = props[i];\n      descriptor.enumerable = descriptor.enumerable || false;\n      descriptor.configurable = true;\n      if (\"value\" in descriptor) descriptor.writable = true;\n      Object.defineProperty(target, descriptor.key, descriptor);\n    }\n  }\n\n  return function (Constructor, protoProps, staticProps) {\n    if (protoProps) defineProperties(Constructor.prototype, protoProps);\n    if (staticProps) defineProperties(Constructor, staticProps);\n    return Constructor;\n  };\n}();\n\n\n\n\n\nvar defineProperty = function (obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n};\n\nvar _extends = Object.assign || function (target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i];\n\n    for (var key in source) {\n      if (Object.prototype.hasOwnProperty.call(source, key)) {\n        target[key] = source[key];\n      }\n    }\n  }\n\n  return target;\n};\n\n/**\n * Given element offsets, generate an output similar to getBoundingClientRect\n * @method\n * @memberof Popper.Utils\n * @argument {Object} offsets\n * @returns {Object} ClientRect like output\n */\nfunction getClientRect(offsets) {\n  return _extends({}, offsets, {\n    right: offsets.left + offsets.width,\n    bottom: offsets.top + offsets.height\n  });\n}\n\n/**\n * Get bounding client rect of given element\n * @method\n * @memberof Popper.Utils\n * @param {HTMLElement} element\n * @return {Object} client rect\n */\nfunction getBoundingClientRect(element) {\n  var rect = {};\n\n  // IE10 10 FIX: Please, don't ask, the element isn't\n  // considered in DOM in some circumstances...\n  // This isn't reproducible in IE10 compatibility mode of IE11\n  try {\n    if (isIE(10)) {\n      rect = element.getBoundingClientRect();\n      var scrollTop = getScroll(element, 'top');\n      var scrollLeft = getScroll(element, 'left');\n      rect.top += scrollTop;\n      rect.left += scrollLeft;\n      rect.bottom += scrollTop;\n      rect.right += scrollLeft;\n    } else {\n      rect = element.getBoundingClientRect();\n    }\n  } catch (e) {}\n\n  var result = {\n    left: rect.left,\n    top: rect.top,\n    width: rect.right - rect.left,\n    height: rect.bottom - rect.top\n  };\n\n  // subtract scrollbar size from sizes\n  var sizes = element.nodeName === 'HTML' ? getWindowSizes(element.ownerDocument) : {};\n  var width = sizes.width || element.clientWidth || result.width;\n  var height = sizes.height || element.clientHeight || result.height;\n\n  var horizScrollbar = element.offsetWidth - width;\n  var vertScrollbar = element.offsetHeight - height;\n\n  // if an hypothetical scrollbar is detected, we must be sure it's not a `border`\n  // we make this check conditional for performance reasons\n  if (horizScrollbar || vertScrollbar) {\n    var styles = getStyleComputedProperty(element);\n    horizScrollbar -= getBordersSize(styles, 'x');\n    vertScrollbar -= getBordersSize(styles, 'y');\n\n    result.width -= horizScrollbar;\n    result.height -= vertScrollbar;\n  }\n\n  return getClientRect(result);\n}\n\nfunction getOffsetRectRelativeToArbitraryNode(children, parent) {\n  var fixedPosition = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : false;\n\n  var isIE10 = isIE(10);\n  var isHTML = parent.nodeName === 'HTML';\n  var childrenRect = getBoundingClientRect(children);\n  var parentRect = getBoundingClientRect(parent);\n  var scrollParent = getScrollParent(children);\n\n  var styles = getStyleComputedProperty(parent);\n  var borderTopWidth = parseFloat(styles.borderTopWidth);\n  var borderLeftWidth = parseFloat(styles.borderLeftWidth);\n\n  // In cases where the parent is fixed, we must ignore negative scroll in offset calc\n  if (fixedPosition && isHTML) {\n    parentRect.top = Math.max(parentRect.top, 0);\n    parentRect.left = Math.max(parentRect.left, 0);\n  }\n  var offsets = getClientRect({\n    top: childrenRect.top - parentRect.top - borderTopWidth,\n    left: childrenRect.left - parentRect.left - borderLeftWidth,\n    width: childrenRect.width,\n    height: childrenRect.height\n  });\n  offsets.marginTop = 0;\n  offsets.marginLeft = 0;\n\n  // Subtract margins of documentElement in case it's being used as parent\n  // we do this only on HTML because it's the only element that behaves\n  // differently when margins are applied to it. The margins are included in\n  // the box of the documentElement, in the other cases not.\n  if (!isIE10 && isHTML) {\n    var marginTop = parseFloat(styles.marginTop);\n    var marginLeft = parseFloat(styles.marginLeft);\n\n    offsets.top -= borderTopWidth - marginTop;\n    offsets.bottom -= borderTopWidth - marginTop;\n    offsets.left -= borderLeftWidth - marginLeft;\n    offsets.right -= borderLeftWidth - marginLeft;\n\n    // Attach marginTop and marginLeft because in some circumstances we may need them\n    offsets.marginTop = marginTop;\n    offsets.marginLeft = marginLeft;\n  }\n\n  if (isIE10 && !fixedPosition ? parent.contains(scrollParent) : parent === scrollParent && scrollParent.nodeName !== 'BODY') {\n    offsets = includeScroll(offsets, parent);\n  }\n\n  return offsets;\n}\n\nfunction getViewportOffsetRectRelativeToArtbitraryNode(element) {\n  var excludeScroll = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : false;\n\n  var html = element.ownerDocument.documentElement;\n  var relativeOffset = getOffsetRectRelativeToArbitraryNode(element, html);\n  var width = Math.max(html.clientWidth, window.innerWidth || 0);\n  var height = Math.max(html.clientHeight, window.innerHeight || 0);\n\n  var scrollTop = !excludeScroll ? getScroll(html) : 0;\n  var scrollLeft = !excludeScroll ? getScroll(html, 'left') : 0;\n\n  var offset = {\n    top: scrollTop - relativeOffset.top + relativeOffset.marginTop,\n    left: scrollLeft - relativeOffset.left + relativeOffset.marginLeft,\n    width: width,\n    height: height\n  };\n\n  return getClientRect(offset);\n}\n\n/**\n * Check if the given element is fixed or is inside a fixed parent\n * @method\n * @memberof Popper.Utils\n * @argument {Element} element\n * @argument {Element} customContainer\n * @returns {Boolean} answer to \"isFixed?\"\n */\nfunction isFixed(element) {\n  var nodeName = element.nodeName;\n  if (nodeName === 'BODY' || nodeName === 'HTML') {\n    return false;\n  }\n  if (getStyleComputedProperty(element, 'position') === 'fixed') {\n    return true;\n  }\n  var parentNode = getParentNode(element);\n  if (!parentNode) {\n    return false;\n  }\n  return isFixed(parentNode);\n}\n\n/**\n * Finds the first parent of an element that has a transformed property defined\n * @method\n * @memberof Popper.Utils\n * @argument {Element} element\n * @returns {Element} first transformed parent or documentElement\n */\n\nfunction getFixedPositionOffsetParent(element) {\n  // This check is needed to avoid errors in case one of the elements isn't defined for any reason\n  if (!element || !element.parentElement || isIE()) {\n    return document.documentElement;\n  }\n  var el = element.parentElement;\n  while (el && getStyleComputedProperty(el, 'transform') === 'none') {\n    el = el.parentElement;\n  }\n  return el || document.documentElement;\n}\n\n/**\n * Computed the boundaries limits and return them\n * @method\n * @memberof Popper.Utils\n * @param {HTMLElement} popper\n * @param {HTMLElement} reference\n * @param {number} padding\n * @param {HTMLElement} boundariesElement - Element used to define the boundaries\n * @param {Boolean} fixedPosition - Is in fixed position mode\n * @returns {Object} Coordinates of the boundaries\n */\nfunction getBoundaries(popper, reference, padding, boundariesElement) {\n  var fixedPosition = arguments.length > 4 && arguments[4] !== undefined ? arguments[4] : false;\n\n  // NOTE: 1 DOM access here\n\n  var boundaries = { top: 0, left: 0 };\n  var offsetParent = fixedPosition ? getFixedPositionOffsetParent(popper) : findCommonOffsetParent(popper, getReferenceNode(reference));\n\n  // Handle viewport case\n  if (boundariesElement === 'viewport') {\n    boundaries = getViewportOffsetRectRelativeToArtbitraryNode(offsetParent, fixedPosition);\n  } else {\n    // Handle other cases based on DOM element used as boundaries\n    var boundariesNode = void 0;\n    if (boundariesElement === 'scrollParent') {\n      boundariesNode = getScrollParent(getParentNode(reference));\n      if (boundariesNode.nodeName === 'BODY') {\n        boundariesNode = popper.ownerDocument.documentElement;\n      }\n    } else if (boundariesElement === 'window') {\n      boundariesNode = popper.ownerDocument.documentElement;\n    } else {\n      boundariesNode = boundariesElement;\n    }\n\n    var offsets = getOffsetRectRelativeToArbitraryNode(boundariesNode, offsetParent, fixedPosition);\n\n    // In case of HTML, we need a different computation\n    if (boundariesNode.nodeName === 'HTML' && !isFixed(offsetParent)) {\n      var _getWindowSizes = getWindowSizes(popper.ownerDocument),\n          height = _getWindowSizes.height,\n          width = _getWindowSizes.width;\n\n      boundaries.top += offsets.top - offsets.marginTop;\n      boundaries.bottom = height + offsets.top;\n      boundaries.left += offsets.left - offsets.marginLeft;\n      boundaries.right = width + offsets.left;\n    } else {\n      // for all the other DOM elements, this one is good\n      boundaries = offsets;\n    }\n  }\n\n  // Add paddings\n  padding = padding || 0;\n  var isPaddingNumber = typeof padding === 'number';\n  boundaries.left += isPaddingNumber ? padding : padding.left || 0;\n  boundaries.top += isPaddingNumber ? padding : padding.top || 0;\n  boundaries.right -= isPaddingNumber ? padding : padding.right || 0;\n  boundaries.bottom -= isPaddingNumber ? padding : padding.bottom || 0;\n\n  return boundaries;\n}\n\nfunction getArea(_ref) {\n  var width = _ref.width,\n      height = _ref.height;\n\n  return width * height;\n}\n\n/**\n * Utility used to transform the `auto` placement to the placement with more\n * available space.\n * @method\n * @memberof Popper.Utils\n * @argument {Object} data - The data object generated by update method\n * @argument {Object} options - Modifiers configuration and options\n * @returns {Object} The data object, properly modified\n */\nfunction computeAutoPlacement(placement, refRect, popper, reference, boundariesElement) {\n  var padding = arguments.length > 5 && arguments[5] !== undefined ? arguments[5] : 0;\n\n  if (placement.indexOf('auto') === -1) {\n    return placement;\n  }\n\n  var boundaries = getBoundaries(popper, reference, padding, boundariesElement);\n\n  var rects = {\n    top: {\n      width: boundaries.width,\n      height: refRect.top - boundaries.top\n    },\n    right: {\n      width: boundaries.right - refRect.right,\n      height: boundaries.height\n    },\n    bottom: {\n      width: boundaries.width,\n      height: boundaries.bottom - refRect.bottom\n    },\n    left: {\n      width: refRect.left - boundaries.left,\n      height: boundaries.height\n    }\n  };\n\n  var sortedAreas = Object.keys(rects).map(function (key) {\n    return _extends({\n      key: key\n    }, rects[key], {\n      area: getArea(rects[key])\n    });\n  }).sort(function (a, b) {\n    return b.area - a.area;\n  });\n\n  var filteredAreas = sortedAreas.filter(function (_ref2) {\n    var width = _ref2.width,\n        height = _ref2.height;\n    return width >= popper.clientWidth && height >= popper.clientHeight;\n  });\n\n  var computedPlacement = filteredAreas.length > 0 ? filteredAreas[0].key : sortedAreas[0].key;\n\n  var variation = placement.split('-')[1];\n\n  return computedPlacement + (variation ? '-' + variation : '');\n}\n\n/**\n * Get offsets to the reference element\n * @method\n * @memberof Popper.Utils\n * @param {Object} state\n * @param {Element} popper - the popper element\n * @param {Element} reference - the reference element (the popper will be relative to this)\n * @param {Element} fixedPosition - is in fixed position mode\n * @returns {Object} An object containing the offsets which will be applied to the popper\n */\nfunction getReferenceOffsets(state, popper, reference) {\n  var fixedPosition = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : null;\n\n  var commonOffsetParent = fixedPosition ? getFixedPositionOffsetParent(popper) : findCommonOffsetParent(popper, getReferenceNode(reference));\n  return getOffsetRectRelativeToArbitraryNode(reference, commonOffsetParent, fixedPosition);\n}\n\n/**\n * Get the outer sizes of the given element (offset size + margins)\n * @method\n * @memberof Popper.Utils\n * @argument {Element} element\n * @returns {Object} object containing width and height properties\n */\nfunction getOuterSizes(element) {\n  var window = element.ownerDocument.defaultView;\n  var styles = window.getComputedStyle(element);\n  var x = parseFloat(styles.marginTop || 0) + parseFloat(styles.marginBottom || 0);\n  var y = parseFloat(styles.marginLeft || 0) + parseFloat(styles.marginRight || 0);\n  var result = {\n    width: element.offsetWidth + y,\n    height: element.offsetHeight + x\n  };\n  return result;\n}\n\n/**\n * Get the opposite placement of the given one\n * @method\n * @memberof Popper.Utils\n * @argument {String} placement\n * @returns {String} flipped placement\n */\nfunction getOppositePlacement(placement) {\n  var hash = { left: 'right', right: 'left', bottom: 'top', top: 'bottom' };\n  return placement.replace(/left|right|bottom|top/g, function (matched) {\n    return hash[matched];\n  });\n}\n\n/**\n * Get offsets to the popper\n * @method\n * @memberof Popper.Utils\n * @param {Object} position - CSS position the Popper will get applied\n * @param {HTMLElement} popper - the popper element\n * @param {Object} referenceOffsets - the reference offsets (the popper will be relative to this)\n * @param {String} placement - one of the valid placement options\n * @returns {Object} popperOffsets - An object containing the offsets which will be applied to the popper\n */\nfunction getPopperOffsets(popper, referenceOffsets, placement) {\n  placement = placement.split('-')[0];\n\n  // Get popper node sizes\n  var popperRect = getOuterSizes(popper);\n\n  // Add position, width and height to our offsets object\n  var popperOffsets = {\n    width: popperRect.width,\n    height: popperRect.height\n  };\n\n  // depending by the popper placement we have to compute its offsets slightly differently\n  var isHoriz = ['right', 'left'].indexOf(placement) !== -1;\n  var mainSide = isHoriz ? 'top' : 'left';\n  var secondarySide = isHoriz ? 'left' : 'top';\n  var measurement = isHoriz ? 'height' : 'width';\n  var secondaryMeasurement = !isHoriz ? 'height' : 'width';\n\n  popperOffsets[mainSide] = referenceOffsets[mainSide] + referenceOffsets[measurement] / 2 - popperRect[measurement] / 2;\n  if (placement === secondarySide) {\n    popperOffsets[secondarySide] = referenceOffsets[secondarySide] - popperRect[secondaryMeasurement];\n  } else {\n    popperOffsets[secondarySide] = referenceOffsets[getOppositePlacement(secondarySide)];\n  }\n\n  return popperOffsets;\n}\n\n/**\n * Mimics the `find` method of Array\n * @method\n * @memberof Popper.Utils\n * @argument {Array} arr\n * @argument prop\n * @argument value\n * @returns index or -1\n */\nfunction find(arr, check) {\n  // use native find if supported\n  if (Array.prototype.find) {\n    return arr.find(check);\n  }\n\n  // use `filter` to obtain the same behavior of `find`\n  return arr.filter(check)[0];\n}\n\n/**\n * Return the index of the matching object\n * @method\n * @memberof Popper.Utils\n * @argument {Array} arr\n * @argument prop\n * @argument value\n * @returns index or -1\n */\nfunction findIndex(arr, prop, value) {\n  // use native findIndex if supported\n  if (Array.prototype.findIndex) {\n    return arr.findIndex(function (cur) {\n      return cur[prop] === value;\n    });\n  }\n\n  // use `find` + `indexOf` if `findIndex` isn't supported\n  var match = find(arr, function (obj) {\n    return obj[prop] === value;\n  });\n  return arr.indexOf(match);\n}\n\n/**\n * Loop trough the list of modifiers and run them in order,\n * each of them will then edit the data object.\n * @method\n * @memberof Popper.Utils\n * @param {dataObject} data\n * @param {Array} modifiers\n * @param {String} ends - Optional modifier name used as stopper\n * @returns {dataObject}\n */\nfunction runModifiers(modifiers, data, ends) {\n  var modifiersToRun = ends === undefined ? modifiers : modifiers.slice(0, findIndex(modifiers, 'name', ends));\n\n  modifiersToRun.forEach(function (modifier) {\n    if (modifier['function']) {\n      // eslint-disable-line dot-notation\n      console.warn('`modifier.function` is deprecated, use `modifier.fn`!');\n    }\n    var fn = modifier['function'] || modifier.fn; // eslint-disable-line dot-notation\n    if (modifier.enabled && isFunction(fn)) {\n      // Add properties to offsets to make them a complete clientRect object\n      // we do this before each modifier to make sure the previous one doesn't\n      // mess with these values\n      data.offsets.popper = getClientRect(data.offsets.popper);\n      data.offsets.reference = getClientRect(data.offsets.reference);\n\n      data = fn(data, modifier);\n    }\n  });\n\n  return data;\n}\n\n/**\n * Updates the position of the popper, computing the new offsets and applying\n * the new style.<br />\n * Prefer `scheduleUpdate` over `update` because of performance reasons.\n * @method\n * @memberof Popper\n */\nfunction update() {\n  // if popper is destroyed, don't perform any further update\n  if (this.state.isDestroyed) {\n    return;\n  }\n\n  var data = {\n    instance: this,\n    styles: {},\n    arrowStyles: {},\n    attributes: {},\n    flipped: false,\n    offsets: {}\n  };\n\n  // compute reference element offsets\n  data.offsets.reference = getReferenceOffsets(this.state, this.popper, this.reference, this.options.positionFixed);\n\n  // compute auto placement, store placement inside the data object,\n  // modifiers will be able to edit `placement` if needed\n  // and refer to originalPlacement to know the original value\n  data.placement = computeAutoPlacement(this.options.placement, data.offsets.reference, this.popper, this.reference, this.options.modifiers.flip.boundariesElement, this.options.modifiers.flip.padding);\n\n  // store the computed placement inside `originalPlacement`\n  data.originalPlacement = data.placement;\n\n  data.positionFixed = this.options.positionFixed;\n\n  // compute the popper offsets\n  data.offsets.popper = getPopperOffsets(this.popper, data.offsets.reference, data.placement);\n\n  data.offsets.popper.position = this.options.positionFixed ? 'fixed' : 'absolute';\n\n  // run the modifiers\n  data = runModifiers(this.modifiers, data);\n\n  // the first `update` will call `onCreate` callback\n  // the other ones will call `onUpdate` callback\n  if (!this.state.isCreated) {\n    this.state.isCreated = true;\n    this.options.onCreate(data);\n  } else {\n    this.options.onUpdate(data);\n  }\n}\n\n/**\n * Helper used to know if the given modifier is enabled.\n * @method\n * @memberof Popper.Utils\n * @returns {Boolean}\n */\nfunction isModifierEnabled(modifiers, modifierName) {\n  return modifiers.some(function (_ref) {\n    var name = _ref.name,\n        enabled = _ref.enabled;\n    return enabled && name === modifierName;\n  });\n}\n\n/**\n * Get the prefixed supported property name\n * @method\n * @memberof Popper.Utils\n * @argument {String} property (camelCase)\n * @returns {String} prefixed property (camelCase or PascalCase, depending on the vendor prefix)\n */\nfunction getSupportedPropertyName(property) {\n  var prefixes = [false, 'ms', 'Webkit', 'Moz', 'O'];\n  var upperProp = property.charAt(0).toUpperCase() + property.slice(1);\n\n  for (var i = 0; i < prefixes.length; i++) {\n    var prefix = prefixes[i];\n    var toCheck = prefix ? '' + prefix + upperProp : property;\n    if (typeof document.body.style[toCheck] !== 'undefined') {\n      return toCheck;\n    }\n  }\n  return null;\n}\n\n/**\n * Destroys the popper.\n * @method\n * @memberof Popper\n */\nfunction destroy() {\n  this.state.isDestroyed = true;\n\n  // touch DOM only if `applyStyle` modifier is enabled\n  if (isModifierEnabled(this.modifiers, 'applyStyle')) {\n    this.popper.removeAttribute('x-placement');\n    this.popper.style.position = '';\n    this.popper.style.top = '';\n    this.popper.style.left = '';\n    this.popper.style.right = '';\n    this.popper.style.bottom = '';\n    this.popper.style.willChange = '';\n    this.popper.style[getSupportedPropertyName('transform')] = '';\n  }\n\n  this.disableEventListeners();\n\n  // remove the popper if user explicitly asked for the deletion on destroy\n  // do not use `remove` because IE11 doesn't support it\n  if (this.options.removeOnDestroy) {\n    this.popper.parentNode.removeChild(this.popper);\n  }\n  return this;\n}\n\n/**\n * Get the window associated with the element\n * @argument {Element} element\n * @returns {Window}\n */\nfunction getWindow(element) {\n  var ownerDocument = element.ownerDocument;\n  return ownerDocument ? ownerDocument.defaultView : window;\n}\n\nfunction attachToScrollParents(scrollParent, event, callback, scrollParents) {\n  var isBody = scrollParent.nodeName === 'BODY';\n  var target = isBody ? scrollParent.ownerDocument.defaultView : scrollParent;\n  target.addEventListener(event, callback, { passive: true });\n\n  if (!isBody) {\n    attachToScrollParents(getScrollParent(target.parentNode), event, callback, scrollParents);\n  }\n  scrollParents.push(target);\n}\n\n/**\n * Setup needed event listeners used to update the popper position\n * @method\n * @memberof Popper.Utils\n * @private\n */\nfunction setupEventListeners(reference, options, state, updateBound) {\n  // Resize event listener on window\n  state.updateBound = updateBound;\n  getWindow(reference).addEventListener('resize', state.updateBound, { passive: true });\n\n  // Scroll event listener on scroll parents\n  var scrollElement = getScrollParent(reference);\n  attachToScrollParents(scrollElement, 'scroll', state.updateBound, state.scrollParents);\n  state.scrollElement = scrollElement;\n  state.eventsEnabled = true;\n\n  return state;\n}\n\n/**\n * It will add resize/scroll events and start recalculating\n * position of the popper element when they are triggered.\n * @method\n * @memberof Popper\n */\nfunction enableEventListeners() {\n  if (!this.state.eventsEnabled) {\n    this.state = setupEventListeners(this.reference, this.options, this.state, this.scheduleUpdate);\n  }\n}\n\n/**\n * Remove event listeners used to update the popper position\n * @method\n * @memberof Popper.Utils\n * @private\n */\nfunction removeEventListeners(reference, state) {\n  // Remove resize event listener on window\n  getWindow(reference).removeEventListener('resize', state.updateBound);\n\n  // Remove scroll event listener on scroll parents\n  state.scrollParents.forEach(function (target) {\n    target.removeEventListener('scroll', state.updateBound);\n  });\n\n  // Reset state\n  state.updateBound = null;\n  state.scrollParents = [];\n  state.scrollElement = null;\n  state.eventsEnabled = false;\n  return state;\n}\n\n/**\n * It will remove resize/scroll events and won't recalculate popper position\n * when they are triggered. It also won't trigger `onUpdate` callback anymore,\n * unless you call `update` method manually.\n * @method\n * @memberof Popper\n */\nfunction disableEventListeners() {\n  if (this.state.eventsEnabled) {\n    cancelAnimationFrame(this.scheduleUpdate);\n    this.state = removeEventListeners(this.reference, this.state);\n  }\n}\n\n/**\n * Tells if a given input is a number\n * @method\n * @memberof Popper.Utils\n * @param {*} input to check\n * @return {Boolean}\n */\nfunction isNumeric(n) {\n  return n !== '' && !isNaN(parseFloat(n)) && isFinite(n);\n}\n\n/**\n * Set the style to the given popper\n * @method\n * @memberof Popper.Utils\n * @argument {Element} element - Element to apply the style to\n * @argument {Object} styles\n * Object with a list of properties and values which will be applied to the element\n */\nfunction setStyles(element, styles) {\n  Object.keys(styles).forEach(function (prop) {\n    var unit = '';\n    // add unit if the value is numeric and is one of the following\n    if (['width', 'height', 'top', 'right', 'bottom', 'left'].indexOf(prop) !== -1 && isNumeric(styles[prop])) {\n      unit = 'px';\n    }\n    element.style[prop] = styles[prop] + unit;\n  });\n}\n\n/**\n * Set the attributes to the given popper\n * @method\n * @memberof Popper.Utils\n * @argument {Element} element - Element to apply the attributes to\n * @argument {Object} styles\n * Object with a list of properties and values which will be applied to the element\n */\nfunction setAttributes(element, attributes) {\n  Object.keys(attributes).forEach(function (prop) {\n    var value = attributes[prop];\n    if (value !== false) {\n      element.setAttribute(prop, attributes[prop]);\n    } else {\n      element.removeAttribute(prop);\n    }\n  });\n}\n\n/**\n * @function\n * @memberof Modifiers\n * @argument {Object} data - The data object generated by `update` method\n * @argument {Object} data.styles - List of style properties - values to apply to popper element\n * @argument {Object} data.attributes - List of attribute properties - values to apply to popper element\n * @argument {Object} options - Modifiers configuration and options\n * @returns {Object} The same data object\n */\nfunction applyStyle(data) {\n  // any property present in `data.styles` will be applied to the popper,\n  // in this way we can make the 3rd party modifiers add custom styles to it\n  // Be aware, modifiers could override the properties defined in the previous\n  // lines of this modifier!\n  setStyles(data.instance.popper, data.styles);\n\n  // any property present in `data.attributes` will be applied to the popper,\n  // they will be set as HTML attributes of the element\n  setAttributes(data.instance.popper, data.attributes);\n\n  // if arrowElement is defined and arrowStyles has some properties\n  if (data.arrowElement && Object.keys(data.arrowStyles).length) {\n    setStyles(data.arrowElement, data.arrowStyles);\n  }\n\n  return data;\n}\n\n/**\n * Set the x-placement attribute before everything else because it could be used\n * to add margins to the popper margins needs to be calculated to get the\n * correct popper offsets.\n * @method\n * @memberof Popper.modifiers\n * @param {HTMLElement} reference - The reference element used to position the popper\n * @param {HTMLElement} popper - The HTML element used as popper\n * @param {Object} options - Popper.js options\n */\nfunction applyStyleOnLoad(reference, popper, options, modifierOptions, state) {\n  // compute reference element offsets\n  var referenceOffsets = getReferenceOffsets(state, popper, reference, options.positionFixed);\n\n  // compute auto placement, store placement inside the data object,\n  // modifiers will be able to edit `placement` if needed\n  // and refer to originalPlacement to know the original value\n  var placement = computeAutoPlacement(options.placement, referenceOffsets, popper, reference, options.modifiers.flip.boundariesElement, options.modifiers.flip.padding);\n\n  popper.setAttribute('x-placement', placement);\n\n  // Apply `position` to popper before anything else because\n  // without the position applied we can't guarantee correct computations\n  setStyles(popper, { position: options.positionFixed ? 'fixed' : 'absolute' });\n\n  return options;\n}\n\n/**\n * @function\n * @memberof Popper.Utils\n * @argument {Object} data - The data object generated by `update` method\n * @argument {Boolean} shouldRound - If the offsets should be rounded at all\n * @returns {Object} The popper's position offsets rounded\n *\n * The tale of pixel-perfect positioning. It's still not 100% perfect, but as\n * good as it can be within reason.\n * Discussion here: https://github.com/FezVrasta/popper.js/pull/715\n *\n * Low DPI screens cause a popper to be blurry if not using full pixels (Safari\n * as well on High DPI screens).\n *\n * Firefox prefers no rounding for positioning and does not have blurriness on\n * high DPI screens.\n *\n * Only horizontal placement and left/right values need to be considered.\n */\nfunction getRoundedOffsets(data, shouldRound) {\n  var _data$offsets = data.offsets,\n      popper = _data$offsets.popper,\n      reference = _data$offsets.reference;\n  var round = Math.round,\n      floor = Math.floor;\n\n  var noRound = function noRound(v) {\n    return v;\n  };\n\n  var referenceWidth = round(reference.width);\n  var popperWidth = round(popper.width);\n\n  var isVertical = ['left', 'right'].indexOf(data.placement) !== -1;\n  var isVariation = data.placement.indexOf('-') !== -1;\n  var sameWidthParity = referenceWidth % 2 === popperWidth % 2;\n  var bothOddWidth = referenceWidth % 2 === 1 && popperWidth % 2 === 1;\n\n  var horizontalToInteger = !shouldRound ? noRound : isVertical || isVariation || sameWidthParity ? round : floor;\n  var verticalToInteger = !shouldRound ? noRound : round;\n\n  return {\n    left: horizontalToInteger(bothOddWidth && !isVariation && shouldRound ? popper.left - 1 : popper.left),\n    top: verticalToInteger(popper.top),\n    bottom: verticalToInteger(popper.bottom),\n    right: horizontalToInteger(popper.right)\n  };\n}\n\nvar isFirefox = isBrowser && /Firefox/i.test(navigator.userAgent);\n\n/**\n * @function\n * @memberof Modifiers\n * @argument {Object} data - The data object generated by `update` method\n * @argument {Object} options - Modifiers configuration and options\n * @returns {Object} The data object, properly modified\n */\nfunction computeStyle(data, options) {\n  var x = options.x,\n      y = options.y;\n  var popper = data.offsets.popper;\n\n  // Remove this legacy support in Popper.js v2\n\n  var legacyGpuAccelerationOption = find(data.instance.modifiers, function (modifier) {\n    return modifier.name === 'applyStyle';\n  }).gpuAcceleration;\n  if (legacyGpuAccelerationOption !== undefined) {\n    console.warn('WARNING: `gpuAcceleration` option moved to `computeStyle` modifier and will not be supported in future versions of Popper.js!');\n  }\n  var gpuAcceleration = legacyGpuAccelerationOption !== undefined ? legacyGpuAccelerationOption : options.gpuAcceleration;\n\n  var offsetParent = getOffsetParent(data.instance.popper);\n  var offsetParentRect = getBoundingClientRect(offsetParent);\n\n  // Styles\n  var styles = {\n    position: popper.position\n  };\n\n  var offsets = getRoundedOffsets(data, window.devicePixelRatio < 2 || !isFirefox);\n\n  var sideA = x === 'bottom' ? 'top' : 'bottom';\n  var sideB = y === 'right' ? 'left' : 'right';\n\n  // if gpuAcceleration is set to `true` and transform is supported,\n  //  we use `translate3d` to apply the position to the popper we\n  // automatically use the supported prefixed version if needed\n  var prefixedProperty = getSupportedPropertyName('transform');\n\n  // now, let's make a step back and look at this code closely (wtf?)\n  // If the content of the popper grows once it's been positioned, it\n  // may happen that the popper gets misplaced because of the new content\n  // overflowing its reference element\n  // To avoid this problem, we provide two options (x and y), which allow\n  // the consumer to define the offset origin.\n  // If we position a popper on top of a reference element, we can set\n  // `x` to `top` to make the popper grow towards its top instead of\n  // its bottom.\n  var left = void 0,\n      top = void 0;\n  if (sideA === 'bottom') {\n    // when offsetParent is <html> the positioning is relative to the bottom of the screen (excluding the scrollbar)\n    // and not the bottom of the html element\n    if (offsetParent.nodeName === 'HTML') {\n      top = -offsetParent.clientHeight + offsets.bottom;\n    } else {\n      top = -offsetParentRect.height + offsets.bottom;\n    }\n  } else {\n    top = offsets.top;\n  }\n  if (sideB === 'right') {\n    if (offsetParent.nodeName === 'HTML') {\n      left = -offsetParent.clientWidth + offsets.right;\n    } else {\n      left = -offsetParentRect.width + offsets.right;\n    }\n  } else {\n    left = offsets.left;\n  }\n  if (gpuAcceleration && prefixedProperty) {\n    styles[prefixedProperty] = 'translate3d(' + left + 'px, ' + top + 'px, 0)';\n    styles[sideA] = 0;\n    styles[sideB] = 0;\n    styles.willChange = 'transform';\n  } else {\n    // othwerise, we use the standard `top`, `left`, `bottom` and `right` properties\n    var invertTop = sideA === 'bottom' ? -1 : 1;\n    var invertLeft = sideB === 'right' ? -1 : 1;\n    styles[sideA] = top * invertTop;\n    styles[sideB] = left * invertLeft;\n    styles.willChange = sideA + ', ' + sideB;\n  }\n\n  // Attributes\n  var attributes = {\n    'x-placement': data.placement\n  };\n\n  // Update `data` attributes, styles and arrowStyles\n  data.attributes = _extends({}, attributes, data.attributes);\n  data.styles = _extends({}, styles, data.styles);\n  data.arrowStyles = _extends({}, data.offsets.arrow, data.arrowStyles);\n\n  return data;\n}\n\n/**\n * Helper used to know if the given modifier depends from another one.<br />\n * It checks if the needed modifier is listed and enabled.\n * @method\n * @memberof Popper.Utils\n * @param {Array} modifiers - list of modifiers\n * @param {String} requestingName - name of requesting modifier\n * @param {String} requestedName - name of requested modifier\n * @returns {Boolean}\n */\nfunction isModifierRequired(modifiers, requestingName, requestedName) {\n  var requesting = find(modifiers, function (_ref) {\n    var name = _ref.name;\n    return name === requestingName;\n  });\n\n  var isRequired = !!requesting && modifiers.some(function (modifier) {\n    return modifier.name === requestedName && modifier.enabled && modifier.order < requesting.order;\n  });\n\n  if (!isRequired) {\n    var _requesting = '`' + requestingName + '`';\n    var requested = '`' + requestedName + '`';\n    console.warn(requested + ' modifier is required by ' + _requesting + ' modifier in order to work, be sure to include it before ' + _requesting + '!');\n  }\n  return isRequired;\n}\n\n/**\n * @function\n * @memberof Modifiers\n * @argument {Object} data - The data object generated by update method\n * @argument {Object} options - Modifiers configuration and options\n * @returns {Object} The data object, properly modified\n */\nfunction arrow(data, options) {\n  var _data$offsets$arrow;\n\n  // arrow depends on keepTogether in order to work\n  if (!isModifierRequired(data.instance.modifiers, 'arrow', 'keepTogether')) {\n    return data;\n  }\n\n  var arrowElement = options.element;\n\n  // if arrowElement is a string, suppose it's a CSS selector\n  if (typeof arrowElement === 'string') {\n    arrowElement = data.instance.popper.querySelector(arrowElement);\n\n    // if arrowElement is not found, don't run the modifier\n    if (!arrowElement) {\n      return data;\n    }\n  } else {\n    // if the arrowElement isn't a query selector we must check that the\n    // provided DOM node is child of its popper node\n    if (!data.instance.popper.contains(arrowElement)) {\n      console.warn('WARNING: `arrow.element` must be child of its popper element!');\n      return data;\n    }\n  }\n\n  var placement = data.placement.split('-')[0];\n  var _data$offsets = data.offsets,\n      popper = _data$offsets.popper,\n      reference = _data$offsets.reference;\n\n  var isVertical = ['left', 'right'].indexOf(placement) !== -1;\n\n  var len = isVertical ? 'height' : 'width';\n  var sideCapitalized = isVertical ? 'Top' : 'Left';\n  var side = sideCapitalized.toLowerCase();\n  var altSide = isVertical ? 'left' : 'top';\n  var opSide = isVertical ? 'bottom' : 'right';\n  var arrowElementSize = getOuterSizes(arrowElement)[len];\n\n  //\n  // extends keepTogether behavior making sure the popper and its\n  // reference have enough pixels in conjunction\n  //\n\n  // top/left side\n  if (reference[opSide] - arrowElementSize < popper[side]) {\n    data.offsets.popper[side] -= popper[side] - (reference[opSide] - arrowElementSize);\n  }\n  // bottom/right side\n  if (reference[side] + arrowElementSize > popper[opSide]) {\n    data.offsets.popper[side] += reference[side] + arrowElementSize - popper[opSide];\n  }\n  data.offsets.popper = getClientRect(data.offsets.popper);\n\n  // compute center of the popper\n  var center = reference[side] + reference[len] / 2 - arrowElementSize / 2;\n\n  // Compute the sideValue using the updated popper offsets\n  // take popper margin in account because we don't have this info available\n  var css = getStyleComputedProperty(data.instance.popper);\n  var popperMarginSide = parseFloat(css['margin' + sideCapitalized]);\n  var popperBorderSide = parseFloat(css['border' + sideCapitalized + 'Width']);\n  var sideValue = center - data.offsets.popper[side] - popperMarginSide - popperBorderSide;\n\n  // prevent arrowElement from being placed not contiguously to its popper\n  sideValue = Math.max(Math.min(popper[len] - arrowElementSize, sideValue), 0);\n\n  data.arrowElement = arrowElement;\n  data.offsets.arrow = (_data$offsets$arrow = {}, defineProperty(_data$offsets$arrow, side, Math.round(sideValue)), defineProperty(_data$offsets$arrow, altSide, ''), _data$offsets$arrow);\n\n  return data;\n}\n\n/**\n * Get the opposite placement variation of the given one\n * @method\n * @memberof Popper.Utils\n * @argument {String} placement variation\n * @returns {String} flipped placement variation\n */\nfunction getOppositeVariation(variation) {\n  if (variation === 'end') {\n    return 'start';\n  } else if (variation === 'start') {\n    return 'end';\n  }\n  return variation;\n}\n\n/**\n * List of accepted placements to use as values of the `placement` option.<br />\n * Valid placements are:\n * - `auto`\n * - `top`\n * - `right`\n * - `bottom`\n * - `left`\n *\n * Each placement can have a variation from this list:\n * - `-start`\n * - `-end`\n *\n * Variations are interpreted easily if you think of them as the left to right\n * written languages. Horizontally (`top` and `bottom`), `start` is left and `end`\n * is right.<br />\n * Vertically (`left` and `right`), `start` is top and `end` is bottom.\n *\n * Some valid examples are:\n * - `top-end` (on top of reference, right aligned)\n * - `right-start` (on right of reference, top aligned)\n * - `bottom` (on bottom, centered)\n * - `auto-end` (on the side with more space available, alignment depends by placement)\n *\n * @static\n * @type {Array}\n * @enum {String}\n * @readonly\n * @method placements\n * @memberof Popper\n */\nvar placements = ['auto-start', 'auto', 'auto-end', 'top-start', 'top', 'top-end', 'right-start', 'right', 'right-end', 'bottom-end', 'bottom', 'bottom-start', 'left-end', 'left', 'left-start'];\n\n// Get rid of `auto` `auto-start` and `auto-end`\nvar validPlacements = placements.slice(3);\n\n/**\n * Given an initial placement, returns all the subsequent placements\n * clockwise (or counter-clockwise).\n *\n * @method\n * @memberof Popper.Utils\n * @argument {String} placement - A valid placement (it accepts variations)\n * @argument {Boolean} counter - Set to true to walk the placements counterclockwise\n * @returns {Array} placements including their variations\n */\nfunction clockwise(placement) {\n  var counter = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : false;\n\n  var index = validPlacements.indexOf(placement);\n  var arr = validPlacements.slice(index + 1).concat(validPlacements.slice(0, index));\n  return counter ? arr.reverse() : arr;\n}\n\nvar BEHAVIORS = {\n  FLIP: 'flip',\n  CLOCKWISE: 'clockwise',\n  COUNTERCLOCKWISE: 'counterclockwise'\n};\n\n/**\n * @function\n * @memberof Modifiers\n * @argument {Object} data - The data object generated by update method\n * @argument {Object} options - Modifiers configuration and options\n * @returns {Object} The data object, properly modified\n */\nfunction flip(data, options) {\n  // if `inner` modifier is enabled, we can't use the `flip` modifier\n  if (isModifierEnabled(data.instance.modifiers, 'inner')) {\n    return data;\n  }\n\n  if (data.flipped && data.placement === data.originalPlacement) {\n    // seems like flip is trying to loop, probably there's not enough space on any of the flippable sides\n    return data;\n  }\n\n  var boundaries = getBoundaries(data.instance.popper, data.instance.reference, options.padding, options.boundariesElement, data.positionFixed);\n\n  var placement = data.placement.split('-')[0];\n  var placementOpposite = getOppositePlacement(placement);\n  var variation = data.placement.split('-')[1] || '';\n\n  var flipOrder = [];\n\n  switch (options.behavior) {\n    case BEHAVIORS.FLIP:\n      flipOrder = [placement, placementOpposite];\n      break;\n    case BEHAVIORS.CLOCKWISE:\n      flipOrder = clockwise(placement);\n      break;\n    case BEHAVIORS.COUNTERCLOCKWISE:\n      flipOrder = clockwise(placement, true);\n      break;\n    default:\n      flipOrder = options.behavior;\n  }\n\n  flipOrder.forEach(function (step, index) {\n    if (placement !== step || flipOrder.length === index + 1) {\n      return data;\n    }\n\n    placement = data.placement.split('-')[0];\n    placementOpposite = getOppositePlacement(placement);\n\n    var popperOffsets = data.offsets.popper;\n    var refOffsets = data.offsets.reference;\n\n    // using floor because the reference offsets may contain decimals we are not going to consider here\n    var floor = Math.floor;\n    var overlapsRef = placement === 'left' && floor(popperOffsets.right) > floor(refOffsets.left) || placement === 'right' && floor(popperOffsets.left) < floor(refOffsets.right) || placement === 'top' && floor(popperOffsets.bottom) > floor(refOffsets.top) || placement === 'bottom' && floor(popperOffsets.top) < floor(refOffsets.bottom);\n\n    var overflowsLeft = floor(popperOffsets.left) < floor(boundaries.left);\n    var overflowsRight = floor(popperOffsets.right) > floor(boundaries.right);\n    var overflowsTop = floor(popperOffsets.top) < floor(boundaries.top);\n    var overflowsBottom = floor(popperOffsets.bottom) > floor(boundaries.bottom);\n\n    var overflowsBoundaries = placement === 'left' && overflowsLeft || placement === 'right' && overflowsRight || placement === 'top' && overflowsTop || placement === 'bottom' && overflowsBottom;\n\n    // flip the variation if required\n    var isVertical = ['top', 'bottom'].indexOf(placement) !== -1;\n\n    // flips variation if reference element overflows boundaries\n    var flippedVariationByRef = !!options.flipVariations && (isVertical && variation === 'start' && overflowsLeft || isVertical && variation === 'end' && overflowsRight || !isVertical && variation === 'start' && overflowsTop || !isVertical && variation === 'end' && overflowsBottom);\n\n    // flips variation if popper content overflows boundaries\n    var flippedVariationByContent = !!options.flipVariationsByContent && (isVertical && variation === 'start' && overflowsRight || isVertical && variation === 'end' && overflowsLeft || !isVertical && variation === 'start' && overflowsBottom || !isVertical && variation === 'end' && overflowsTop);\n\n    var flippedVariation = flippedVariationByRef || flippedVariationByContent;\n\n    if (overlapsRef || overflowsBoundaries || flippedVariation) {\n      // this boolean to detect any flip loop\n      data.flipped = true;\n\n      if (overlapsRef || overflowsBoundaries) {\n        placement = flipOrder[index + 1];\n      }\n\n      if (flippedVariation) {\n        variation = getOppositeVariation(variation);\n      }\n\n      data.placement = placement + (variation ? '-' + variation : '');\n\n      // this object contains `position`, we want to preserve it along with\n      // any additional property we may add in the future\n      data.offsets.popper = _extends({}, data.offsets.popper, getPopperOffsets(data.instance.popper, data.offsets.reference, data.placement));\n\n      data = runModifiers(data.instance.modifiers, data, 'flip');\n    }\n  });\n  return data;\n}\n\n/**\n * @function\n * @memberof Modifiers\n * @argument {Object} data - The data object generated by update method\n * @argument {Object} options - Modifiers configuration and options\n * @returns {Object} The data object, properly modified\n */\nfunction keepTogether(data) {\n  var _data$offsets = data.offsets,\n      popper = _data$offsets.popper,\n      reference = _data$offsets.reference;\n\n  var placement = data.placement.split('-')[0];\n  var floor = Math.floor;\n  var isVertical = ['top', 'bottom'].indexOf(placement) !== -1;\n  var side = isVertical ? 'right' : 'bottom';\n  var opSide = isVertical ? 'left' : 'top';\n  var measurement = isVertical ? 'width' : 'height';\n\n  if (popper[side] < floor(reference[opSide])) {\n    data.offsets.popper[opSide] = floor(reference[opSide]) - popper[measurement];\n  }\n  if (popper[opSide] > floor(reference[side])) {\n    data.offsets.popper[opSide] = floor(reference[side]);\n  }\n\n  return data;\n}\n\n/**\n * Converts a string containing value + unit into a px value number\n * @function\n * @memberof {modifiers~offset}\n * @private\n * @argument {String} str - Value + unit string\n * @argument {String} measurement - `height` or `width`\n * @argument {Object} popperOffsets\n * @argument {Object} referenceOffsets\n * @returns {Number|String}\n * Value in pixels, or original string if no values were extracted\n */\nfunction toValue(str, measurement, popperOffsets, referenceOffsets) {\n  // separate value from unit\n  var split = str.match(/((?:\\-|\\+)?\\d*\\.?\\d*)(.*)/);\n  var value = +split[1];\n  var unit = split[2];\n\n  // If it's not a number it's an operator, I guess\n  if (!value) {\n    return str;\n  }\n\n  if (unit.indexOf('%') === 0) {\n    var element = void 0;\n    switch (unit) {\n      case '%p':\n        element = popperOffsets;\n        break;\n      case '%':\n      case '%r':\n      default:\n        element = referenceOffsets;\n    }\n\n    var rect = getClientRect(element);\n    return rect[measurement] / 100 * value;\n  } else if (unit === 'vh' || unit === 'vw') {\n    // if is a vh or vw, we calculate the size based on the viewport\n    var size = void 0;\n    if (unit === 'vh') {\n      size = Math.max(document.documentElement.clientHeight, window.innerHeight || 0);\n    } else {\n      size = Math.max(document.documentElement.clientWidth, window.innerWidth || 0);\n    }\n    return size / 100 * value;\n  } else {\n    // if is an explicit pixel unit, we get rid of the unit and keep the value\n    // if is an implicit unit, it's px, and we return just the value\n    return value;\n  }\n}\n\n/**\n * Parse an `offset` string to extrapolate `x` and `y` numeric offsets.\n * @function\n * @memberof {modifiers~offset}\n * @private\n * @argument {String} offset\n * @argument {Object} popperOffsets\n * @argument {Object} referenceOffsets\n * @argument {String} basePlacement\n * @returns {Array} a two cells array with x and y offsets in numbers\n */\nfunction parseOffset(offset, popperOffsets, referenceOffsets, basePlacement) {\n  var offsets = [0, 0];\n\n  // Use height if placement is left or right and index is 0 otherwise use width\n  // in this way the first offset will use an axis and the second one\n  // will use the other one\n  var useHeight = ['right', 'left'].indexOf(basePlacement) !== -1;\n\n  // Split the offset string to obtain a list of values and operands\n  // The regex addresses values with the plus or minus sign in front (+10, -20, etc)\n  var fragments = offset.split(/(\\+|\\-)/).map(function (frag) {\n    return frag.trim();\n  });\n\n  // Detect if the offset string contains a pair of values or a single one\n  // they could be separated by comma or space\n  var divider = fragments.indexOf(find(fragments, function (frag) {\n    return frag.search(/,|\\s/) !== -1;\n  }));\n\n  if (fragments[divider] && fragments[divider].indexOf(',') === -1) {\n    console.warn('Offsets separated by white space(s) are deprecated, use a comma (,) instead.');\n  }\n\n  // If divider is found, we divide the list of values and operands to divide\n  // them by ofset X and Y.\n  var splitRegex = /\\s*,\\s*|\\s+/;\n  var ops = divider !== -1 ? [fragments.slice(0, divider).concat([fragments[divider].split(splitRegex)[0]]), [fragments[divider].split(splitRegex)[1]].concat(fragments.slice(divider + 1))] : [fragments];\n\n  // Convert the values with units to absolute pixels to allow our computations\n  ops = ops.map(function (op, index) {\n    // Most of the units rely on the orientation of the popper\n    var measurement = (index === 1 ? !useHeight : useHeight) ? 'height' : 'width';\n    var mergeWithPrevious = false;\n    return op\n    // This aggregates any `+` or `-` sign that aren't considered operators\n    // e.g.: 10 + +5 => [10, +, +5]\n    .reduce(function (a, b) {\n      if (a[a.length - 1] === '' && ['+', '-'].indexOf(b) !== -1) {\n        a[a.length - 1] = b;\n        mergeWithPrevious = true;\n        return a;\n      } else if (mergeWithPrevious) {\n        a[a.length - 1] += b;\n        mergeWithPrevious = false;\n        return a;\n      } else {\n        return a.concat(b);\n      }\n    }, [])\n    // Here we convert the string values into number values (in px)\n    .map(function (str) {\n      return toValue(str, measurement, popperOffsets, referenceOffsets);\n    });\n  });\n\n  // Loop trough the offsets arrays and execute the operations\n  ops.forEach(function (op, index) {\n    op.forEach(function (frag, index2) {\n      if (isNumeric(frag)) {\n        offsets[index] += frag * (op[index2 - 1] === '-' ? -1 : 1);\n      }\n    });\n  });\n  return offsets;\n}\n\n/**\n * @function\n * @memberof Modifiers\n * @argument {Object} data - The data object generated by update method\n * @argument {Object} options - Modifiers configuration and options\n * @argument {Number|String} options.offset=0\n * The offset value as described in the modifier description\n * @returns {Object} The data object, properly modified\n */\nfunction offset(data, _ref) {\n  var offset = _ref.offset;\n  var placement = data.placement,\n      _data$offsets = data.offsets,\n      popper = _data$offsets.popper,\n      reference = _data$offsets.reference;\n\n  var basePlacement = placement.split('-')[0];\n\n  var offsets = void 0;\n  if (isNumeric(+offset)) {\n    offsets = [+offset, 0];\n  } else {\n    offsets = parseOffset(offset, popper, reference, basePlacement);\n  }\n\n  if (basePlacement === 'left') {\n    popper.top += offsets[0];\n    popper.left -= offsets[1];\n  } else if (basePlacement === 'right') {\n    popper.top += offsets[0];\n    popper.left += offsets[1];\n  } else if (basePlacement === 'top') {\n    popper.left += offsets[0];\n    popper.top -= offsets[1];\n  } else if (basePlacement === 'bottom') {\n    popper.left += offsets[0];\n    popper.top += offsets[1];\n  }\n\n  data.popper = popper;\n  return data;\n}\n\n/**\n * @function\n * @memberof Modifiers\n * @argument {Object} data - The data object generated by `update` method\n * @argument {Object} options - Modifiers configuration and options\n * @returns {Object} The data object, properly modified\n */\nfunction preventOverflow(data, options) {\n  var boundariesElement = options.boundariesElement || getOffsetParent(data.instance.popper);\n\n  // If offsetParent is the reference element, we really want to\n  // go one step up and use the next offsetParent as reference to\n  // avoid to make this modifier completely useless and look like broken\n  if (data.instance.reference === boundariesElement) {\n    boundariesElement = getOffsetParent(boundariesElement);\n  }\n\n  // NOTE: DOM access here\n  // resets the popper's position so that the document size can be calculated excluding\n  // the size of the popper element itself\n  var transformProp = getSupportedPropertyName('transform');\n  var popperStyles = data.instance.popper.style; // assignment to help minification\n  var top = popperStyles.top,\n      left = popperStyles.left,\n      transform = popperStyles[transformProp];\n\n  popperStyles.top = '';\n  popperStyles.left = '';\n  popperStyles[transformProp] = '';\n\n  var boundaries = getBoundaries(data.instance.popper, data.instance.reference, options.padding, boundariesElement, data.positionFixed);\n\n  // NOTE: DOM access here\n  // restores the original style properties after the offsets have been computed\n  popperStyles.top = top;\n  popperStyles.left = left;\n  popperStyles[transformProp] = transform;\n\n  options.boundaries = boundaries;\n\n  var order = options.priority;\n  var popper = data.offsets.popper;\n\n  var check = {\n    primary: function primary(placement) {\n      var value = popper[placement];\n      if (popper[placement] < boundaries[placement] && !options.escapeWithReference) {\n        value = Math.max(popper[placement], boundaries[placement]);\n      }\n      return defineProperty({}, placement, value);\n    },\n    secondary: function secondary(placement) {\n      var mainSide = placement === 'right' ? 'left' : 'top';\n      var value = popper[mainSide];\n      if (popper[placement] > boundaries[placement] && !options.escapeWithReference) {\n        value = Math.min(popper[mainSide], boundaries[placement] - (placement === 'right' ? popper.width : popper.height));\n      }\n      return defineProperty({}, mainSide, value);\n    }\n  };\n\n  order.forEach(function (placement) {\n    var side = ['left', 'top'].indexOf(placement) !== -1 ? 'primary' : 'secondary';\n    popper = _extends({}, popper, check[side](placement));\n  });\n\n  data.offsets.popper = popper;\n\n  return data;\n}\n\n/**\n * @function\n * @memberof Modifiers\n * @argument {Object} data - The data object generated by `update` method\n * @argument {Object} options - Modifiers configuration and options\n * @returns {Object} The data object, properly modified\n */\nfunction shift(data) {\n  var placement = data.placement;\n  var basePlacement = placement.split('-')[0];\n  var shiftvariation = placement.split('-')[1];\n\n  // if shift shiftvariation is specified, run the modifier\n  if (shiftvariation) {\n    var _data$offsets = data.offsets,\n        reference = _data$offsets.reference,\n        popper = _data$offsets.popper;\n\n    var isVertical = ['bottom', 'top'].indexOf(basePlacement) !== -1;\n    var side = isVertical ? 'left' : 'top';\n    var measurement = isVertical ? 'width' : 'height';\n\n    var shiftOffsets = {\n      start: defineProperty({}, side, reference[side]),\n      end: defineProperty({}, side, reference[side] + reference[measurement] - popper[measurement])\n    };\n\n    data.offsets.popper = _extends({}, popper, shiftOffsets[shiftvariation]);\n  }\n\n  return data;\n}\n\n/**\n * @function\n * @memberof Modifiers\n * @argument {Object} data - The data object generated by update method\n * @argument {Object} options - Modifiers configuration and options\n * @returns {Object} The data object, properly modified\n */\nfunction hide(data) {\n  if (!isModifierRequired(data.instance.modifiers, 'hide', 'preventOverflow')) {\n    return data;\n  }\n\n  var refRect = data.offsets.reference;\n  var bound = find(data.instance.modifiers, function (modifier) {\n    return modifier.name === 'preventOverflow';\n  }).boundaries;\n\n  if (refRect.bottom < bound.top || refRect.left > bound.right || refRect.top > bound.bottom || refRect.right < bound.left) {\n    // Avoid unnecessary DOM access if visibility hasn't changed\n    if (data.hide === true) {\n      return data;\n    }\n\n    data.hide = true;\n    data.attributes['x-out-of-boundaries'] = '';\n  } else {\n    // Avoid unnecessary DOM access if visibility hasn't changed\n    if (data.hide === false) {\n      return data;\n    }\n\n    data.hide = false;\n    data.attributes['x-out-of-boundaries'] = false;\n  }\n\n  return data;\n}\n\n/**\n * @function\n * @memberof Modifiers\n * @argument {Object} data - The data object generated by `update` method\n * @argument {Object} options - Modifiers configuration and options\n * @returns {Object} The data object, properly modified\n */\nfunction inner(data) {\n  var placement = data.placement;\n  var basePlacement = placement.split('-')[0];\n  var _data$offsets = data.offsets,\n      popper = _data$offsets.popper,\n      reference = _data$offsets.reference;\n\n  var isHoriz = ['left', 'right'].indexOf(basePlacement) !== -1;\n\n  var subtractLength = ['top', 'left'].indexOf(basePlacement) === -1;\n\n  popper[isHoriz ? 'left' : 'top'] = reference[basePlacement] - (subtractLength ? popper[isHoriz ? 'width' : 'height'] : 0);\n\n  data.placement = getOppositePlacement(placement);\n  data.offsets.popper = getClientRect(popper);\n\n  return data;\n}\n\n/**\n * Modifier function, each modifier can have a function of this type assigned\n * to its `fn` property.<br />\n * These functions will be called on each update, this means that you must\n * make sure they are performant enough to avoid performance bottlenecks.\n *\n * @function ModifierFn\n * @argument {dataObject} data - The data object generated by `update` method\n * @argument {Object} options - Modifiers configuration and options\n * @returns {dataObject} The data object, properly modified\n */\n\n/**\n * Modifiers are plugins used to alter the behavior of your poppers.<br />\n * Popper.js uses a set of 9 modifiers to provide all the basic functionalities\n * needed by the library.\n *\n * Usually you don't want to override the `order`, `fn` and `onLoad` props.\n * All the other properties are configurations that could be tweaked.\n * @namespace modifiers\n */\nvar modifiers = {\n  /**\n   * Modifier used to shift the popper on the start or end of its reference\n   * element.<br />\n   * It will read the variation of the `placement` property.<br />\n   * It can be one either `-end` or `-start`.\n   * @memberof modifiers\n   * @inner\n   */\n  shift: {\n    /** @prop {number} order=100 - Index used to define the order of execution */\n    order: 100,\n    /** @prop {Boolean} enabled=true - Whether the modifier is enabled or not */\n    enabled: true,\n    /** @prop {ModifierFn} */\n    fn: shift\n  },\n\n  /**\n   * The `offset` modifier can shift your popper on both its axis.\n   *\n   * It accepts the following units:\n   * - `px` or unit-less, interpreted as pixels\n   * - `%` or `%r`, percentage relative to the length of the reference element\n   * - `%p`, percentage relative to the length of the popper element\n   * - `vw`, CSS viewport width unit\n   * - `vh`, CSS viewport height unit\n   *\n   * For length is intended the main axis relative to the placement of the popper.<br />\n   * This means that if the placement is `top` or `bottom`, the length will be the\n   * `width`. In case of `left` or `right`, it will be the `height`.\n   *\n   * You can provide a single value (as `Number` or `String`), or a pair of values\n   * as `String` divided by a comma or one (or more) white spaces.<br />\n   * The latter is a deprecated method because it leads to confusion and will be\n   * removed in v2.<br />\n   * Additionally, it accepts additions and subtractions between different units.\n   * Note that multiplications and divisions aren't supported.\n   *\n   * Valid examples are:\n   * ```\n   * 10\n   * '10%'\n   * '10, 10'\n   * '10%, 10'\n   * '10 + 10%'\n   * '10 - 5vh + 3%'\n   * '-10px + 5vh, 5px - 6%'\n   * ```\n   * > **NB**: If you desire to apply offsets to your poppers in a way that may make them overlap\n   * > with their reference element, unfortunately, you will have to disable the `flip` modifier.\n   * > You can read more on this at this [issue](https://github.com/FezVrasta/popper.js/issues/373).\n   *\n   * @memberof modifiers\n   * @inner\n   */\n  offset: {\n    /** @prop {number} order=200 - Index used to define the order of execution */\n    order: 200,\n    /** @prop {Boolean} enabled=true - Whether the modifier is enabled or not */\n    enabled: true,\n    /** @prop {ModifierFn} */\n    fn: offset,\n    /** @prop {Number|String} offset=0\n     * The offset value as described in the modifier description\n     */\n    offset: 0\n  },\n\n  /**\n   * Modifier used to prevent the popper from being positioned outside the boundary.\n   *\n   * A scenario exists where the reference itself is not within the boundaries.<br />\n   * We can say it has \"escaped the boundaries\"  or just \"escaped\".<br />\n   * In this case we need to decide whether the popper should either:\n   *\n   * - detach from the reference and remain \"trapped\" in the boundaries, or\n   * - if it should ignore the boundary and \"escape with its reference\"\n   *\n   * When `escapeWithReference` is set to`true` and reference is completely\n   * outside its boundaries, the popper will overflow (or completely leave)\n   * the boundaries in order to remain attached to the edge of the reference.\n   *\n   * @memberof modifiers\n   * @inner\n   */\n  preventOverflow: {\n    /** @prop {number} order=300 - Index used to define the order of execution */\n    order: 300,\n    /** @prop {Boolean} enabled=true - Whether the modifier is enabled or not */\n    enabled: true,\n    /** @prop {ModifierFn} */\n    fn: preventOverflow,\n    /**\n     * @prop {Array} [priority=['left','right','top','bottom']]\n     * Popper will try to prevent overflow following these priorities by default,\n     * then, it could overflow on the left and on top of the `boundariesElement`\n     */\n    priority: ['left', 'right', 'top', 'bottom'],\n    /**\n     * @prop {number} padding=5\n     * Amount of pixel used to define a minimum distance between the boundaries\n     * and the popper. This makes sure the popper always has a little padding\n     * between the edges of its container\n     */\n    padding: 5,\n    /**\n     * @prop {String|HTMLElement} boundariesElement='scrollParent'\n     * Boundaries used by the modifier. Can be `scrollParent`, `window`,\n     * `viewport` or any DOM element.\n     */\n    boundariesElement: 'scrollParent'\n  },\n\n  /**\n   * Modifier used to make sure the reference and its popper stay near each other\n   * without leaving any gap between the two. Especially useful when the arrow is\n   * enabled and you want to ensure that it points to its reference element.\n   * It cares only about the first axis. You can still have poppers with margin\n   * between the popper and its reference element.\n   * @memberof modifiers\n   * @inner\n   */\n  keepTogether: {\n    /** @prop {number} order=400 - Index used to define the order of execution */\n    order: 400,\n    /** @prop {Boolean} enabled=true - Whether the modifier is enabled or not */\n    enabled: true,\n    /** @prop {ModifierFn} */\n    fn: keepTogether\n  },\n\n  /**\n   * This modifier is used to move the `arrowElement` of the popper to make\n   * sure it is positioned between the reference element and its popper element.\n   * It will read the outer size of the `arrowElement` node to detect how many\n   * pixels of conjunction are needed.\n   *\n   * It has no effect if no `arrowElement` is provided.\n   * @memberof modifiers\n   * @inner\n   */\n  arrow: {\n    /** @prop {number} order=500 - Index used to define the order of execution */\n    order: 500,\n    /** @prop {Boolean} enabled=true - Whether the modifier is enabled or not */\n    enabled: true,\n    /** @prop {ModifierFn} */\n    fn: arrow,\n    /** @prop {String|HTMLElement} element='[x-arrow]' - Selector or node used as arrow */\n    element: '[x-arrow]'\n  },\n\n  /**\n   * Modifier used to flip the popper's placement when it starts to overlap its\n   * reference element.\n   *\n   * Requires the `preventOverflow` modifier before it in order to work.\n   *\n   * **NOTE:** this modifier will interrupt the current update cycle and will\n   * restart it if it detects the need to flip the placement.\n   * @memberof modifiers\n   * @inner\n   */\n  flip: {\n    /** @prop {number} order=600 - Index used to define the order of execution */\n    order: 600,\n    /** @prop {Boolean} enabled=true - Whether the modifier is enabled or not */\n    enabled: true,\n    /** @prop {ModifierFn} */\n    fn: flip,\n    /**\n     * @prop {String|Array} behavior='flip'\n     * The behavior used to change the popper's placement. It can be one of\n     * `flip`, `clockwise`, `counterclockwise` or an array with a list of valid\n     * placements (with optional variations)\n     */\n    behavior: 'flip',\n    /**\n     * @prop {number} padding=5\n     * The popper will flip if it hits the edges of the `boundariesElement`\n     */\n    padding: 5,\n    /**\n     * @prop {String|HTMLElement} boundariesElement='viewport'\n     * The element which will define the boundaries of the popper position.\n     * The popper will never be placed outside of the defined boundaries\n     * (except if `keepTogether` is enabled)\n     */\n    boundariesElement: 'viewport',\n    /**\n     * @prop {Boolean} flipVariations=false\n     * The popper will switch placement variation between `-start` and `-end` when\n     * the reference element overlaps its boundaries.\n     *\n     * The original placement should have a set variation.\n     */\n    flipVariations: false,\n    /**\n     * @prop {Boolean} flipVariationsByContent=false\n     * The popper will switch placement variation between `-start` and `-end` when\n     * the popper element overlaps its reference boundaries.\n     *\n     * The original placement should have a set variation.\n     */\n    flipVariationsByContent: false\n  },\n\n  /**\n   * Modifier used to make the popper flow toward the inner of the reference element.\n   * By default, when this modifier is disabled, the popper will be placed outside\n   * the reference element.\n   * @memberof modifiers\n   * @inner\n   */\n  inner: {\n    /** @prop {number} order=700 - Index used to define the order of execution */\n    order: 700,\n    /** @prop {Boolean} enabled=false - Whether the modifier is enabled or not */\n    enabled: false,\n    /** @prop {ModifierFn} */\n    fn: inner\n  },\n\n  /**\n   * Modifier used to hide the popper when its reference element is outside of the\n   * popper boundaries. It will set a `x-out-of-boundaries` attribute which can\n   * be used to hide with a CSS selector the popper when its reference is\n   * out of boundaries.\n   *\n   * Requires the `preventOverflow` modifier before it in order to work.\n   * @memberof modifiers\n   * @inner\n   */\n  hide: {\n    /** @prop {number} order=800 - Index used to define the order of execution */\n    order: 800,\n    /** @prop {Boolean} enabled=true - Whether the modifier is enabled or not */\n    enabled: true,\n    /** @prop {ModifierFn} */\n    fn: hide\n  },\n\n  /**\n   * Computes the style that will be applied to the popper element to gets\n   * properly positioned.\n   *\n   * Note that this modifier will not touch the DOM, it just prepares the styles\n   * so that `applyStyle` modifier can apply it. This separation is useful\n   * in case you need to replace `applyStyle` with a custom implementation.\n   *\n   * This modifier has `850` as `order` value to maintain backward compatibility\n   * with previous versions of Popper.js. Expect the modifiers ordering method\n   * to change in future major versions of the library.\n   *\n   * @memberof modifiers\n   * @inner\n   */\n  computeStyle: {\n    /** @prop {number} order=850 - Index used to define the order of execution */\n    order: 850,\n    /** @prop {Boolean} enabled=true - Whether the modifier is enabled or not */\n    enabled: true,\n    /** @prop {ModifierFn} */\n    fn: computeStyle,\n    /**\n     * @prop {Boolean} gpuAcceleration=true\n     * If true, it uses the CSS 3D transformation to position the popper.\n     * Otherwise, it will use the `top` and `left` properties\n     */\n    gpuAcceleration: true,\n    /**\n     * @prop {string} [x='bottom']\n     * Where to anchor the X axis (`bottom` or `top`). AKA X offset origin.\n     * Change this if your popper should grow in a direction different from `bottom`\n     */\n    x: 'bottom',\n    /**\n     * @prop {string} [x='left']\n     * Where to anchor the Y axis (`left` or `right`). AKA Y offset origin.\n     * Change this if your popper should grow in a direction different from `right`\n     */\n    y: 'right'\n  },\n\n  /**\n   * Applies the computed styles to the popper element.\n   *\n   * All the DOM manipulations are limited to this modifier. This is useful in case\n   * you want to integrate Popper.js inside a framework or view library and you\n   * want to delegate all the DOM manipulations to it.\n   *\n   * Note that if you disable this modifier, you must make sure the popper element\n   * has its position set to `absolute` before Popper.js can do its work!\n   *\n   * Just disable this modifier and define your own to achieve the desired effect.\n   *\n   * @memberof modifiers\n   * @inner\n   */\n  applyStyle: {\n    /** @prop {number} order=900 - Index used to define the order of execution */\n    order: 900,\n    /** @prop {Boolean} enabled=true - Whether the modifier is enabled or not */\n    enabled: true,\n    /** @prop {ModifierFn} */\n    fn: applyStyle,\n    /** @prop {Function} */\n    onLoad: applyStyleOnLoad,\n    /**\n     * @deprecated since version 1.10.0, the property moved to `computeStyle` modifier\n     * @prop {Boolean} gpuAcceleration=true\n     * If true, it uses the CSS 3D transformation to position the popper.\n     * Otherwise, it will use the `top` and `left` properties\n     */\n    gpuAcceleration: undefined\n  }\n};\n\n/**\n * The `dataObject` is an object containing all the information used by Popper.js.\n * This object is passed to modifiers and to the `onCreate` and `onUpdate` callbacks.\n * @name dataObject\n * @property {Object} data.instance The Popper.js instance\n * @property {String} data.placement Placement applied to popper\n * @property {String} data.originalPlacement Placement originally defined on init\n * @property {Boolean} data.flipped True if popper has been flipped by flip modifier\n * @property {Boolean} data.hide True if the reference element is out of boundaries, useful to know when to hide the popper\n * @property {HTMLElement} data.arrowElement Node used as arrow by arrow modifier\n * @property {Object} data.styles Any CSS property defined here will be applied to the popper. It expects the JavaScript nomenclature (eg. `marginBottom`)\n * @property {Object} data.arrowStyles Any CSS property defined here will be applied to the popper arrow. It expects the JavaScript nomenclature (eg. `marginBottom`)\n * @property {Object} data.boundaries Offsets of the popper boundaries\n * @property {Object} data.offsets The measurements of popper, reference and arrow elements\n * @property {Object} data.offsets.popper `top`, `left`, `width`, `height` values\n * @property {Object} data.offsets.reference `top`, `left`, `width`, `height` values\n * @property {Object} data.offsets.arrow] `top` and `left` offsets, only one of them will be different from 0\n */\n\n/**\n * Default options provided to Popper.js constructor.<br />\n * These can be overridden using the `options` argument of Popper.js.<br />\n * To override an option, simply pass an object with the same\n * structure of the `options` object, as the 3rd argument. For example:\n * ```\n * new Popper(ref, pop, {\n *   modifiers: {\n *     preventOverflow: { enabled: false }\n *   }\n * })\n * ```\n * @type {Object}\n * @static\n * @memberof Popper\n */\nvar Defaults = {\n  /**\n   * Popper's placement.\n   * @prop {Popper.placements} placement='bottom'\n   */\n  placement: 'bottom',\n\n  /**\n   * Set this to true if you want popper to position it self in 'fixed' mode\n   * @prop {Boolean} positionFixed=false\n   */\n  positionFixed: false,\n\n  /**\n   * Whether events (resize, scroll) are initially enabled.\n   * @prop {Boolean} eventsEnabled=true\n   */\n  eventsEnabled: true,\n\n  /**\n   * Set to true if you want to automatically remove the popper when\n   * you call the `destroy` method.\n   * @prop {Boolean} removeOnDestroy=false\n   */\n  removeOnDestroy: false,\n\n  /**\n   * Callback called when the popper is created.<br />\n   * By default, it is set to no-op.<br />\n   * Access Popper.js instance with `data.instance`.\n   * @prop {onCreate}\n   */\n  onCreate: function onCreate() {},\n\n  /**\n   * Callback called when the popper is updated. This callback is not called\n   * on the initialization/creation of the popper, but only on subsequent\n   * updates.<br />\n   * By default, it is set to no-op.<br />\n   * Access Popper.js instance with `data.instance`.\n   * @prop {onUpdate}\n   */\n  onUpdate: function onUpdate() {},\n\n  /**\n   * List of modifiers used to modify the offsets before they are applied to the popper.\n   * They provide most of the functionalities of Popper.js.\n   * @prop {modifiers}\n   */\n  modifiers: modifiers\n};\n\n/**\n * @callback onCreate\n * @param {dataObject} data\n */\n\n/**\n * @callback onUpdate\n * @param {dataObject} data\n */\n\n// Utils\n// Methods\nvar Popper = function () {\n  /**\n   * Creates a new Popper.js instance.\n   * @class Popper\n   * @param {Element|referenceObject} reference - The reference element used to position the popper\n   * @param {Element} popper - The HTML / XML element used as the popper\n   * @param {Object} options - Your custom options to override the ones defined in [Defaults](#defaults)\n   * @return {Object} instance - The generated Popper.js instance\n   */\n  function Popper(reference, popper) {\n    var _this = this;\n\n    var options = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};\n    classCallCheck(this, Popper);\n\n    this.scheduleUpdate = function () {\n      return requestAnimationFrame(_this.update);\n    };\n\n    // make update() debounced, so that it only runs at most once-per-tick\n    this.update = debounce(this.update.bind(this));\n\n    // with {} we create a new object with the options inside it\n    this.options = _extends({}, Popper.Defaults, options);\n\n    // init state\n    this.state = {\n      isDestroyed: false,\n      isCreated: false,\n      scrollParents: []\n    };\n\n    // get reference and popper elements (allow jQuery wrappers)\n    this.reference = reference && reference.jquery ? reference[0] : reference;\n    this.popper = popper && popper.jquery ? popper[0] : popper;\n\n    // Deep merge modifiers options\n    this.options.modifiers = {};\n    Object.keys(_extends({}, Popper.Defaults.modifiers, options.modifiers)).forEach(function (name) {\n      _this.options.modifiers[name] = _extends({}, Popper.Defaults.modifiers[name] || {}, options.modifiers ? options.modifiers[name] : {});\n    });\n\n    // Refactoring modifiers' list (Object => Array)\n    this.modifiers = Object.keys(this.options.modifiers).map(function (name) {\n      return _extends({\n        name: name\n      }, _this.options.modifiers[name]);\n    })\n    // sort the modifiers by order\n    .sort(function (a, b) {\n      return a.order - b.order;\n    });\n\n    // modifiers have the ability to execute arbitrary code when Popper.js get inited\n    // such code is executed in the same order of its modifier\n    // they could add new properties to their options configuration\n    // BE AWARE: don't add options to `options.modifiers.name` but to `modifierOptions`!\n    this.modifiers.forEach(function (modifierOptions) {\n      if (modifierOptions.enabled && isFunction(modifierOptions.onLoad)) {\n        modifierOptions.onLoad(_this.reference, _this.popper, _this.options, modifierOptions, _this.state);\n      }\n    });\n\n    // fire the first update to position the popper in the right place\n    this.update();\n\n    var eventsEnabled = this.options.eventsEnabled;\n    if (eventsEnabled) {\n      // setup event listeners, they will take care of update the position in specific situations\n      this.enableEventListeners();\n    }\n\n    this.state.eventsEnabled = eventsEnabled;\n  }\n\n  // We can't use class properties because they don't get listed in the\n  // class prototype and break stuff like Sinon stubs\n\n\n  createClass(Popper, [{\n    key: 'update',\n    value: function update$$1() {\n      return update.call(this);\n    }\n  }, {\n    key: 'destroy',\n    value: function destroy$$1() {\n      return destroy.call(this);\n    }\n  }, {\n    key: 'enableEventListeners',\n    value: function enableEventListeners$$1() {\n      return enableEventListeners.call(this);\n    }\n  }, {\n    key: 'disableEventListeners',\n    value: function disableEventListeners$$1() {\n      return disableEventListeners.call(this);\n    }\n\n    /**\n     * Schedules an update. It will run on the next UI update available.\n     * @method scheduleUpdate\n     * @memberof Popper\n     */\n\n\n    /**\n     * Collection of utilities useful when writing custom modifiers.\n     * Starting from version 1.7, this method is available only if you\n     * include `popper-utils.js` before `popper.js`.\n     *\n     * **DEPRECATION**: This way to access PopperUtils is deprecated\n     * and will be removed in v2! Use the PopperUtils module directly instead.\n     * Due to the high instability of the methods contained in Utils, we can't\n     * guarantee them to follow semver. Use them at your own risk!\n     * @static\n     * @private\n     * @type {Object}\n     * @deprecated since version 1.8\n     * @member Utils\n     * @memberof Popper\n     */\n\n  }]);\n  return Popper;\n}();\n\n/**\n * The `referenceObject` is an object that provides an interface compatible with Popper.js\n * and lets you use it as replacement of a real DOM node.<br />\n * You can use this method to position a popper relatively to a set of coordinates\n * in case you don't have a DOM node to use as reference.\n *\n * ```\n * new Popper(referenceObject, popperNode);\n * ```\n *\n * NB: This feature isn't supported in Internet Explorer 10.\n * @name referenceObject\n * @property {Function} data.getBoundingClientRect\n * A function that returns a set of coordinates compatible with the native `getBoundingClientRect` method.\n * @property {number} data.clientWidth\n * An ES6 getter that will return the width of the virtual reference element.\n * @property {number} data.clientHeight\n * An ES6 getter that will return the height of the virtual reference element.\n */\n\n\nPopper.Utils = (typeof window !== 'undefined' ? window : global).PopperUtils;\nPopper.placements = placements;\nPopper.Defaults = Defaults;\n\n/* harmony default export */ __webpack_exports__[\"default\"] = (Popper);\n//# sourceMappingURL=popper.js.map\n\n/* WEBPACK VAR INJECTION */}.call(this, __webpack_require__(/*! ./../../../webpack/buildin/global.js */ \"./node_modules/webpack/buildin/global.js\")))//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvcG9wcGVyLmpzL2Rpc3QvZXNtL3BvcHBlci5qcy5qcyIsInNvdXJjZXMiOlsid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9wb3BwZXIuanMvZGlzdC9lc20vcG9wcGVyLmpzP2YwYmQiXSwic291cmNlc0NvbnRlbnQiOlsiLyoqIVxuICogQGZpbGVPdmVydmlldyBLaWNrYXNzIGxpYnJhcnkgdG8gY3JlYXRlIGFuZCBwbGFjZSBwb3BwZXJzIG5lYXIgdGhlaXIgcmVmZXJlbmNlIGVsZW1lbnRzLlxuICogQHZlcnNpb24gMS4xNi4xXG4gKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IChjKSAyMDE2IEZlZGVyaWNvIFppdm9sbyBhbmQgY29udHJpYnV0b3JzXG4gKlxuICogUGVybWlzc2lvbiBpcyBoZXJlYnkgZ3JhbnRlZCwgZnJlZSBvZiBjaGFyZ2UsIHRvIGFueSBwZXJzb24gb2J0YWluaW5nIGEgY29weVxuICogb2YgdGhpcyBzb2Z0d2FyZSBhbmQgYXNzb2NpYXRlZCBkb2N1bWVudGF0aW9uIGZpbGVzICh0aGUgXCJTb2Z0d2FyZVwiKSwgdG8gZGVhbFxuICogaW4gdGhlIFNvZnR3YXJlIHdpdGhvdXQgcmVzdHJpY3Rpb24sIGluY2x1ZGluZyB3aXRob3V0IGxpbWl0YXRpb24gdGhlIHJpZ2h0c1xuICogdG8gdXNlLCBjb3B5LCBtb2RpZnksIG1lcmdlLCBwdWJsaXNoLCBkaXN0cmlidXRlLCBzdWJsaWNlbnNlLCBhbmQvb3Igc2VsbFxuICogY29waWVzIG9mIHRoZSBTb2Z0d2FyZSwgYW5kIHRvIHBlcm1pdCBwZXJzb25zIHRvIHdob20gdGhlIFNvZnR3YXJlIGlzXG4gKiBmdXJuaXNoZWQgdG8gZG8gc28sIHN1YmplY3QgdG8gdGhlIGZvbGxvd2luZyBjb25kaXRpb25zOlxuICpcbiAqIFRoZSBhYm92ZSBjb3B5cmlnaHQgbm90aWNlIGFuZCB0aGlzIHBlcm1pc3Npb24gbm90aWNlIHNoYWxsIGJlIGluY2x1ZGVkIGluIGFsbFxuICogY29waWVzIG9yIHN1YnN0YW50aWFsIHBvcnRpb25zIG9mIHRoZSBTb2Z0d2FyZS5cbiAqXG4gKiBUSEUgU09GVFdBUkUgSVMgUFJPVklERUQgXCJBUyBJU1wiLCBXSVRIT1VUIFdBUlJBTlRZIE9GIEFOWSBLSU5ELCBFWFBSRVNTIE9SXG4gKiBJTVBMSUVELCBJTkNMVURJTkcgQlVUIE5PVCBMSU1JVEVEIFRPIFRIRSBXQVJSQU5USUVTIE9GIE1FUkNIQU5UQUJJTElUWSxcbiAqIEZJVE5FU1MgRk9SIEEgUEFSVElDVUxBUiBQVVJQT1NFIEFORCBOT05JTkZSSU5HRU1FTlQuIElOIE5PIEVWRU5UIFNIQUxMIFRIRVxuICogQVVUSE9SUyBPUiBDT1BZUklHSFQgSE9MREVSUyBCRSBMSUFCTEUgRk9SIEFOWSBDTEFJTSwgREFNQUdFUyBPUiBPVEhFUlxuICogTElBQklMSVRZLCBXSEVUSEVSIElOIEFOIEFDVElPTiBPRiBDT05UUkFDVCwgVE9SVCBPUiBPVEhFUldJU0UsIEFSSVNJTkcgRlJPTSxcbiAqIE9VVCBPRiBPUiBJTiBDT05ORUNUSU9OIFdJVEggVEhFIFNPRlRXQVJFIE9SIFRIRSBVU0UgT1IgT1RIRVIgREVBTElOR1MgSU4gVEhFXG4gKiBTT0ZUV0FSRS5cbiAqL1xudmFyIGlzQnJvd3NlciA9IHR5cGVvZiB3aW5kb3cgIT09ICd1bmRlZmluZWQnICYmIHR5cGVvZiBkb2N1bWVudCAhPT0gJ3VuZGVmaW5lZCcgJiYgdHlwZW9mIG5hdmlnYXRvciAhPT0gJ3VuZGVmaW5lZCc7XG5cbnZhciB0aW1lb3V0RHVyYXRpb24gPSBmdW5jdGlvbiAoKSB7XG4gIHZhciBsb25nZXJUaW1lb3V0QnJvd3NlcnMgPSBbJ0VkZ2UnLCAnVHJpZGVudCcsICdGaXJlZm94J107XG4gIGZvciAodmFyIGkgPSAwOyBpIDwgbG9uZ2VyVGltZW91dEJyb3dzZXJzLmxlbmd0aDsgaSArPSAxKSB7XG4gICAgaWYgKGlzQnJvd3NlciAmJiBuYXZpZ2F0b3IudXNlckFnZW50LmluZGV4T2YobG9uZ2VyVGltZW91dEJyb3dzZXJzW2ldKSA+PSAwKSB7XG4gICAgICByZXR1cm4gMTtcbiAgICB9XG4gIH1cbiAgcmV0dXJuIDA7XG59KCk7XG5cbmZ1bmN0aW9uIG1pY3JvdGFza0RlYm91bmNlKGZuKSB7XG4gIHZhciBjYWxsZWQgPSBmYWxzZTtcbiAgcmV0dXJuIGZ1bmN0aW9uICgpIHtcbiAgICBpZiAoY2FsbGVkKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIGNhbGxlZCA9IHRydWU7XG4gICAgd2luZG93LlByb21pc2UucmVzb2x2ZSgpLnRoZW4oZnVuY3Rpb24gKCkge1xuICAgICAgY2FsbGVkID0gZmFsc2U7XG4gICAgICBmbigpO1xuICAgIH0pO1xuICB9O1xufVxuXG5mdW5jdGlvbiB0YXNrRGVib3VuY2UoZm4pIHtcbiAgdmFyIHNjaGVkdWxlZCA9IGZhbHNlO1xuICByZXR1cm4gZnVuY3Rpb24gKCkge1xuICAgIGlmICghc2NoZWR1bGVkKSB7XG4gICAgICBzY2hlZHVsZWQgPSB0cnVlO1xuICAgICAgc2V0VGltZW91dChmdW5jdGlvbiAoKSB7XG4gICAgICAgIHNjaGVkdWxlZCA9IGZhbHNlO1xuICAgICAgICBmbigpO1xuICAgICAgfSwgdGltZW91dER1cmF0aW9uKTtcbiAgICB9XG4gIH07XG59XG5cbnZhciBzdXBwb3J0c01pY3JvVGFza3MgPSBpc0Jyb3dzZXIgJiYgd2luZG93LlByb21pc2U7XG5cbi8qKlxuKiBDcmVhdGUgYSBkZWJvdW5jZWQgdmVyc2lvbiBvZiBhIG1ldGhvZCwgdGhhdCdzIGFzeW5jaHJvbm91c2x5IGRlZmVycmVkXG4qIGJ1dCBjYWxsZWQgaW4gdGhlIG1pbmltdW0gdGltZSBwb3NzaWJsZS5cbipcbiogQG1ldGhvZFxuKiBAbWVtYmVyb2YgUG9wcGVyLlV0aWxzXG4qIEBhcmd1bWVudCB7RnVuY3Rpb259IGZuXG4qIEByZXR1cm5zIHtGdW5jdGlvbn1cbiovXG52YXIgZGVib3VuY2UgPSBzdXBwb3J0c01pY3JvVGFza3MgPyBtaWNyb3Rhc2tEZWJvdW5jZSA6IHRhc2tEZWJvdW5jZTtcblxuLyoqXG4gKiBDaGVjayBpZiB0aGUgZ2l2ZW4gdmFyaWFibGUgaXMgYSBmdW5jdGlvblxuICogQG1ldGhvZFxuICogQG1lbWJlcm9mIFBvcHBlci5VdGlsc1xuICogQGFyZ3VtZW50IHtBbnl9IGZ1bmN0aW9uVG9DaGVjayAtIHZhcmlhYmxlIHRvIGNoZWNrXG4gKiBAcmV0dXJucyB7Qm9vbGVhbn0gYW5zd2VyIHRvOiBpcyBhIGZ1bmN0aW9uP1xuICovXG5mdW5jdGlvbiBpc0Z1bmN0aW9uKGZ1bmN0aW9uVG9DaGVjaykge1xuICB2YXIgZ2V0VHlwZSA9IHt9O1xuICByZXR1cm4gZnVuY3Rpb25Ub0NoZWNrICYmIGdldFR5cGUudG9TdHJpbmcuY2FsbChmdW5jdGlvblRvQ2hlY2spID09PSAnW29iamVjdCBGdW5jdGlvbl0nO1xufVxuXG4vKipcbiAqIEdldCBDU1MgY29tcHV0ZWQgcHJvcGVydHkgb2YgdGhlIGdpdmVuIGVsZW1lbnRcbiAqIEBtZXRob2RcbiAqIEBtZW1iZXJvZiBQb3BwZXIuVXRpbHNcbiAqIEBhcmd1bWVudCB7RWVtZW50fSBlbGVtZW50XG4gKiBAYXJndW1lbnQge1N0cmluZ30gcHJvcGVydHlcbiAqL1xuZnVuY3Rpb24gZ2V0U3R5bGVDb21wdXRlZFByb3BlcnR5KGVsZW1lbnQsIHByb3BlcnR5KSB7XG4gIGlmIChlbGVtZW50Lm5vZGVUeXBlICE9PSAxKSB7XG4gICAgcmV0dXJuIFtdO1xuICB9XG4gIC8vIE5PVEU6IDEgRE9NIGFjY2VzcyBoZXJlXG4gIHZhciB3aW5kb3cgPSBlbGVtZW50Lm93bmVyRG9jdW1lbnQuZGVmYXVsdFZpZXc7XG4gIHZhciBjc3MgPSB3aW5kb3cuZ2V0Q29tcHV0ZWRTdHlsZShlbGVtZW50LCBudWxsKTtcbiAgcmV0dXJuIHByb3BlcnR5ID8gY3NzW3Byb3BlcnR5XSA6IGNzcztcbn1cblxuLyoqXG4gKiBSZXR1cm5zIHRoZSBwYXJlbnROb2RlIG9yIHRoZSBob3N0IG9mIHRoZSBlbGVtZW50XG4gKiBAbWV0aG9kXG4gKiBAbWVtYmVyb2YgUG9wcGVyLlV0aWxzXG4gKiBAYXJndW1lbnQge0VsZW1lbnR9IGVsZW1lbnRcbiAqIEByZXR1cm5zIHtFbGVtZW50fSBwYXJlbnRcbiAqL1xuZnVuY3Rpb24gZ2V0UGFyZW50Tm9kZShlbGVtZW50KSB7XG4gIGlmIChlbGVtZW50Lm5vZGVOYW1lID09PSAnSFRNTCcpIHtcbiAgICByZXR1cm4gZWxlbWVudDtcbiAgfVxuICByZXR1cm4gZWxlbWVudC5wYXJlbnROb2RlIHx8IGVsZW1lbnQuaG9zdDtcbn1cblxuLyoqXG4gKiBSZXR1cm5zIHRoZSBzY3JvbGxpbmcgcGFyZW50IG9mIHRoZSBnaXZlbiBlbGVtZW50XG4gKiBAbWV0aG9kXG4gKiBAbWVtYmVyb2YgUG9wcGVyLlV0aWxzXG4gKiBAYXJndW1lbnQge0VsZW1lbnR9IGVsZW1lbnRcbiAqIEByZXR1cm5zIHtFbGVtZW50fSBzY3JvbGwgcGFyZW50XG4gKi9cbmZ1bmN0aW9uIGdldFNjcm9sbFBhcmVudChlbGVtZW50KSB7XG4gIC8vIFJldHVybiBib2R5LCBgZ2V0U2Nyb2xsYCB3aWxsIHRha2UgY2FyZSB0byBnZXQgdGhlIGNvcnJlY3QgYHNjcm9sbFRvcGAgZnJvbSBpdFxuICBpZiAoIWVsZW1lbnQpIHtcbiAgICByZXR1cm4gZG9jdW1lbnQuYm9keTtcbiAgfVxuXG4gIHN3aXRjaCAoZWxlbWVudC5ub2RlTmFtZSkge1xuICAgIGNhc2UgJ0hUTUwnOlxuICAgIGNhc2UgJ0JPRFknOlxuICAgICAgcmV0dXJuIGVsZW1lbnQub3duZXJEb2N1bWVudC5ib2R5O1xuICAgIGNhc2UgJyNkb2N1bWVudCc6XG4gICAgICByZXR1cm4gZWxlbWVudC5ib2R5O1xuICB9XG5cbiAgLy8gRmlyZWZveCB3YW50IHVzIHRvIGNoZWNrIGAteGAgYW5kIGAteWAgdmFyaWF0aW9ucyBhcyB3ZWxsXG5cbiAgdmFyIF9nZXRTdHlsZUNvbXB1dGVkUHJvcCA9IGdldFN0eWxlQ29tcHV0ZWRQcm9wZXJ0eShlbGVtZW50KSxcbiAgICAgIG92ZXJmbG93ID0gX2dldFN0eWxlQ29tcHV0ZWRQcm9wLm92ZXJmbG93LFxuICAgICAgb3ZlcmZsb3dYID0gX2dldFN0eWxlQ29tcHV0ZWRQcm9wLm92ZXJmbG93WCxcbiAgICAgIG92ZXJmbG93WSA9IF9nZXRTdHlsZUNvbXB1dGVkUHJvcC5vdmVyZmxvd1k7XG5cbiAgaWYgKC8oYXV0b3xzY3JvbGx8b3ZlcmxheSkvLnRlc3Qob3ZlcmZsb3cgKyBvdmVyZmxvd1kgKyBvdmVyZmxvd1gpKSB7XG4gICAgcmV0dXJuIGVsZW1lbnQ7XG4gIH1cblxuICByZXR1cm4gZ2V0U2Nyb2xsUGFyZW50KGdldFBhcmVudE5vZGUoZWxlbWVudCkpO1xufVxuXG4vKipcbiAqIFJldHVybnMgdGhlIHJlZmVyZW5jZSBub2RlIG9mIHRoZSByZWZlcmVuY2Ugb2JqZWN0LCBvciB0aGUgcmVmZXJlbmNlIG9iamVjdCBpdHNlbGYuXG4gKiBAbWV0aG9kXG4gKiBAbWVtYmVyb2YgUG9wcGVyLlV0aWxzXG4gKiBAcGFyYW0ge0VsZW1lbnR8T2JqZWN0fSByZWZlcmVuY2UgLSB0aGUgcmVmZXJlbmNlIGVsZW1lbnQgKHRoZSBwb3BwZXIgd2lsbCBiZSByZWxhdGl2ZSB0byB0aGlzKVxuICogQHJldHVybnMge0VsZW1lbnR9IHBhcmVudFxuICovXG5mdW5jdGlvbiBnZXRSZWZlcmVuY2VOb2RlKHJlZmVyZW5jZSkge1xuICByZXR1cm4gcmVmZXJlbmNlICYmIHJlZmVyZW5jZS5yZWZlcmVuY2VOb2RlID8gcmVmZXJlbmNlLnJlZmVyZW5jZU5vZGUgOiByZWZlcmVuY2U7XG59XG5cbnZhciBpc0lFMTEgPSBpc0Jyb3dzZXIgJiYgISEod2luZG93Lk1TSW5wdXRNZXRob2RDb250ZXh0ICYmIGRvY3VtZW50LmRvY3VtZW50TW9kZSk7XG52YXIgaXNJRTEwID0gaXNCcm93c2VyICYmIC9NU0lFIDEwLy50ZXN0KG5hdmlnYXRvci51c2VyQWdlbnQpO1xuXG4vKipcbiAqIERldGVybWluZXMgaWYgdGhlIGJyb3dzZXIgaXMgSW50ZXJuZXQgRXhwbG9yZXJcbiAqIEBtZXRob2RcbiAqIEBtZW1iZXJvZiBQb3BwZXIuVXRpbHNcbiAqIEBwYXJhbSB7TnVtYmVyfSB2ZXJzaW9uIHRvIGNoZWNrXG4gKiBAcmV0dXJucyB7Qm9vbGVhbn0gaXNJRVxuICovXG5mdW5jdGlvbiBpc0lFKHZlcnNpb24pIHtcbiAgaWYgKHZlcnNpb24gPT09IDExKSB7XG4gICAgcmV0dXJuIGlzSUUxMTtcbiAgfVxuICBpZiAodmVyc2lvbiA9PT0gMTApIHtcbiAgICByZXR1cm4gaXNJRTEwO1xuICB9XG4gIHJldHVybiBpc0lFMTEgfHwgaXNJRTEwO1xufVxuXG4vKipcbiAqIFJldHVybnMgdGhlIG9mZnNldCBwYXJlbnQgb2YgdGhlIGdpdmVuIGVsZW1lbnRcbiAqIEBtZXRob2RcbiAqIEBtZW1iZXJvZiBQb3BwZXIuVXRpbHNcbiAqIEBhcmd1bWVudCB7RWxlbWVudH0gZWxlbWVudFxuICogQHJldHVybnMge0VsZW1lbnR9IG9mZnNldCBwYXJlbnRcbiAqL1xuZnVuY3Rpb24gZ2V0T2Zmc2V0UGFyZW50KGVsZW1lbnQpIHtcbiAgaWYgKCFlbGVtZW50KSB7XG4gICAgcmV0dXJuIGRvY3VtZW50LmRvY3VtZW50RWxlbWVudDtcbiAgfVxuXG4gIHZhciBub09mZnNldFBhcmVudCA9IGlzSUUoMTApID8gZG9jdW1lbnQuYm9keSA6IG51bGw7XG5cbiAgLy8gTk9URTogMSBET00gYWNjZXNzIGhlcmVcbiAgdmFyIG9mZnNldFBhcmVudCA9IGVsZW1lbnQub2Zmc2V0UGFyZW50IHx8IG51bGw7XG4gIC8vIFNraXAgaGlkZGVuIGVsZW1lbnRzIHdoaWNoIGRvbid0IGhhdmUgYW4gb2Zmc2V0UGFyZW50XG4gIHdoaWxlIChvZmZzZXRQYXJlbnQgPT09IG5vT2Zmc2V0UGFyZW50ICYmIGVsZW1lbnQubmV4dEVsZW1lbnRTaWJsaW5nKSB7XG4gICAgb2Zmc2V0UGFyZW50ID0gKGVsZW1lbnQgPSBlbGVtZW50Lm5leHRFbGVtZW50U2libGluZykub2Zmc2V0UGFyZW50O1xuICB9XG5cbiAgdmFyIG5vZGVOYW1lID0gb2Zmc2V0UGFyZW50ICYmIG9mZnNldFBhcmVudC5ub2RlTmFtZTtcblxuICBpZiAoIW5vZGVOYW1lIHx8IG5vZGVOYW1lID09PSAnQk9EWScgfHwgbm9kZU5hbWUgPT09ICdIVE1MJykge1xuICAgIHJldHVybiBlbGVtZW50ID8gZWxlbWVudC5vd25lckRvY3VtZW50LmRvY3VtZW50RWxlbWVudCA6IGRvY3VtZW50LmRvY3VtZW50RWxlbWVudDtcbiAgfVxuXG4gIC8vIC5vZmZzZXRQYXJlbnQgd2lsbCByZXR1cm4gdGhlIGNsb3Nlc3QgVEgsIFREIG9yIFRBQkxFIGluIGNhc2VcbiAgLy8gbm8gb2Zmc2V0UGFyZW50IGlzIHByZXNlbnQsIEkgaGF0ZSB0aGlzIGpvYi4uLlxuICBpZiAoWydUSCcsICdURCcsICdUQUJMRSddLmluZGV4T2Yob2Zmc2V0UGFyZW50Lm5vZGVOYW1lKSAhPT0gLTEgJiYgZ2V0U3R5bGVDb21wdXRlZFByb3BlcnR5KG9mZnNldFBhcmVudCwgJ3Bvc2l0aW9uJykgPT09ICdzdGF0aWMnKSB7XG4gICAgcmV0dXJuIGdldE9mZnNldFBhcmVudChvZmZzZXRQYXJlbnQpO1xuICB9XG5cbiAgcmV0dXJuIG9mZnNldFBhcmVudDtcbn1cblxuZnVuY3Rpb24gaXNPZmZzZXRDb250YWluZXIoZWxlbWVudCkge1xuICB2YXIgbm9kZU5hbWUgPSBlbGVtZW50Lm5vZGVOYW1lO1xuXG4gIGlmIChub2RlTmFtZSA9PT0gJ0JPRFknKSB7XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG4gIHJldHVybiBub2RlTmFtZSA9PT0gJ0hUTUwnIHx8IGdldE9mZnNldFBhcmVudChlbGVtZW50LmZpcnN0RWxlbWVudENoaWxkKSA9PT0gZWxlbWVudDtcbn1cblxuLyoqXG4gKiBGaW5kcyB0aGUgcm9vdCBub2RlIChkb2N1bWVudCwgc2hhZG93RE9NIHJvb3QpIG9mIHRoZSBnaXZlbiBlbGVtZW50XG4gKiBAbWV0aG9kXG4gKiBAbWVtYmVyb2YgUG9wcGVyLlV0aWxzXG4gKiBAYXJndW1lbnQge0VsZW1lbnR9IG5vZGVcbiAqIEByZXR1cm5zIHtFbGVtZW50fSByb290IG5vZGVcbiAqL1xuZnVuY3Rpb24gZ2V0Um9vdChub2RlKSB7XG4gIGlmIChub2RlLnBhcmVudE5vZGUgIT09IG51bGwpIHtcbiAgICByZXR1cm4gZ2V0Um9vdChub2RlLnBhcmVudE5vZGUpO1xuICB9XG5cbiAgcmV0dXJuIG5vZGU7XG59XG5cbi8qKlxuICogRmluZHMgdGhlIG9mZnNldCBwYXJlbnQgY29tbW9uIHRvIHRoZSB0d28gcHJvdmlkZWQgbm9kZXNcbiAqIEBtZXRob2RcbiAqIEBtZW1iZXJvZiBQb3BwZXIuVXRpbHNcbiAqIEBhcmd1bWVudCB7RWxlbWVudH0gZWxlbWVudDFcbiAqIEBhcmd1bWVudCB7RWxlbWVudH0gZWxlbWVudDJcbiAqIEByZXR1cm5zIHtFbGVtZW50fSBjb21tb24gb2Zmc2V0IHBhcmVudFxuICovXG5mdW5jdGlvbiBmaW5kQ29tbW9uT2Zmc2V0UGFyZW50KGVsZW1lbnQxLCBlbGVtZW50Mikge1xuICAvLyBUaGlzIGNoZWNrIGlzIG5lZWRlZCB0byBhdm9pZCBlcnJvcnMgaW4gY2FzZSBvbmUgb2YgdGhlIGVsZW1lbnRzIGlzbid0IGRlZmluZWQgZm9yIGFueSByZWFzb25cbiAgaWYgKCFlbGVtZW50MSB8fCAhZWxlbWVudDEubm9kZVR5cGUgfHwgIWVsZW1lbnQyIHx8ICFlbGVtZW50Mi5ub2RlVHlwZSkge1xuICAgIHJldHVybiBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQ7XG4gIH1cblxuICAvLyBIZXJlIHdlIG1ha2Ugc3VyZSB0byBnaXZlIGFzIFwic3RhcnRcIiB0aGUgZWxlbWVudCB0aGF0IGNvbWVzIGZpcnN0IGluIHRoZSBET01cbiAgdmFyIG9yZGVyID0gZWxlbWVudDEuY29tcGFyZURvY3VtZW50UG9zaXRpb24oZWxlbWVudDIpICYgTm9kZS5ET0NVTUVOVF9QT1NJVElPTl9GT0xMT1dJTkc7XG4gIHZhciBzdGFydCA9IG9yZGVyID8gZWxlbWVudDEgOiBlbGVtZW50MjtcbiAgdmFyIGVuZCA9IG9yZGVyID8gZWxlbWVudDIgOiBlbGVtZW50MTtcblxuICAvLyBHZXQgY29tbW9uIGFuY2VzdG9yIGNvbnRhaW5lclxuICB2YXIgcmFuZ2UgPSBkb2N1bWVudC5jcmVhdGVSYW5nZSgpO1xuICByYW5nZS5zZXRTdGFydChzdGFydCwgMCk7XG4gIHJhbmdlLnNldEVuZChlbmQsIDApO1xuICB2YXIgY29tbW9uQW5jZXN0b3JDb250YWluZXIgPSByYW5nZS5jb21tb25BbmNlc3RvckNvbnRhaW5lcjtcblxuICAvLyBCb3RoIG5vZGVzIGFyZSBpbnNpZGUgI2RvY3VtZW50XG5cbiAgaWYgKGVsZW1lbnQxICE9PSBjb21tb25BbmNlc3RvckNvbnRhaW5lciAmJiBlbGVtZW50MiAhPT0gY29tbW9uQW5jZXN0b3JDb250YWluZXIgfHwgc3RhcnQuY29udGFpbnMoZW5kKSkge1xuICAgIGlmIChpc09mZnNldENvbnRhaW5lcihjb21tb25BbmNlc3RvckNvbnRhaW5lcikpIHtcbiAgICAgIHJldHVybiBjb21tb25BbmNlc3RvckNvbnRhaW5lcjtcbiAgICB9XG5cbiAgICByZXR1cm4gZ2V0T2Zmc2V0UGFyZW50KGNvbW1vbkFuY2VzdG9yQ29udGFpbmVyKTtcbiAgfVxuXG4gIC8vIG9uZSBvZiB0aGUgbm9kZXMgaXMgaW5zaWRlIHNoYWRvd0RPTSwgZmluZCB3aGljaCBvbmVcbiAgdmFyIGVsZW1lbnQxcm9vdCA9IGdldFJvb3QoZWxlbWVudDEpO1xuICBpZiAoZWxlbWVudDFyb290Lmhvc3QpIHtcbiAgICByZXR1cm4gZmluZENvbW1vbk9mZnNldFBhcmVudChlbGVtZW50MXJvb3QuaG9zdCwgZWxlbWVudDIpO1xuICB9IGVsc2Uge1xuICAgIHJldHVybiBmaW5kQ29tbW9uT2Zmc2V0UGFyZW50KGVsZW1lbnQxLCBnZXRSb290KGVsZW1lbnQyKS5ob3N0KTtcbiAgfVxufVxuXG4vKipcbiAqIEdldHMgdGhlIHNjcm9sbCB2YWx1ZSBvZiB0aGUgZ2l2ZW4gZWxlbWVudCBpbiB0aGUgZ2l2ZW4gc2lkZSAodG9wIGFuZCBsZWZ0KVxuICogQG1ldGhvZFxuICogQG1lbWJlcm9mIFBvcHBlci5VdGlsc1xuICogQGFyZ3VtZW50IHtFbGVtZW50fSBlbGVtZW50XG4gKiBAYXJndW1lbnQge1N0cmluZ30gc2lkZSBgdG9wYCBvciBgbGVmdGBcbiAqIEByZXR1cm5zIHtudW1iZXJ9IGFtb3VudCBvZiBzY3JvbGxlZCBwaXhlbHNcbiAqL1xuZnVuY3Rpb24gZ2V0U2Nyb2xsKGVsZW1lbnQpIHtcbiAgdmFyIHNpZGUgPSBhcmd1bWVudHMubGVuZ3RoID4gMSAmJiBhcmd1bWVudHNbMV0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1sxXSA6ICd0b3AnO1xuXG4gIHZhciB1cHBlclNpZGUgPSBzaWRlID09PSAndG9wJyA/ICdzY3JvbGxUb3AnIDogJ3Njcm9sbExlZnQnO1xuICB2YXIgbm9kZU5hbWUgPSBlbGVtZW50Lm5vZGVOYW1lO1xuXG4gIGlmIChub2RlTmFtZSA9PT0gJ0JPRFknIHx8IG5vZGVOYW1lID09PSAnSFRNTCcpIHtcbiAgICB2YXIgaHRtbCA9IGVsZW1lbnQub3duZXJEb2N1bWVudC5kb2N1bWVudEVsZW1lbnQ7XG4gICAgdmFyIHNjcm9sbGluZ0VsZW1lbnQgPSBlbGVtZW50Lm93bmVyRG9jdW1lbnQuc2Nyb2xsaW5nRWxlbWVudCB8fCBodG1sO1xuICAgIHJldHVybiBzY3JvbGxpbmdFbGVtZW50W3VwcGVyU2lkZV07XG4gIH1cblxuICByZXR1cm4gZWxlbWVudFt1cHBlclNpZGVdO1xufVxuXG4vKlxuICogU3VtIG9yIHN1YnRyYWN0IHRoZSBlbGVtZW50IHNjcm9sbCB2YWx1ZXMgKGxlZnQgYW5kIHRvcCkgZnJvbSBhIGdpdmVuIHJlY3Qgb2JqZWN0XG4gKiBAbWV0aG9kXG4gKiBAbWVtYmVyb2YgUG9wcGVyLlV0aWxzXG4gKiBAcGFyYW0ge09iamVjdH0gcmVjdCAtIFJlY3Qgb2JqZWN0IHlvdSB3YW50IHRvIGNoYW5nZVxuICogQHBhcmFtIHtIVE1MRWxlbWVudH0gZWxlbWVudCAtIFRoZSBlbGVtZW50IGZyb20gdGhlIGZ1bmN0aW9uIHJlYWRzIHRoZSBzY3JvbGwgdmFsdWVzXG4gKiBAcGFyYW0ge0Jvb2xlYW59IHN1YnRyYWN0IC0gc2V0IHRvIHRydWUgaWYgeW91IHdhbnQgdG8gc3VidHJhY3QgdGhlIHNjcm9sbCB2YWx1ZXNcbiAqIEByZXR1cm4ge09iamVjdH0gcmVjdCAtIFRoZSBtb2RpZmllciByZWN0IG9iamVjdFxuICovXG5mdW5jdGlvbiBpbmNsdWRlU2Nyb2xsKHJlY3QsIGVsZW1lbnQpIHtcbiAgdmFyIHN1YnRyYWN0ID0gYXJndW1lbnRzLmxlbmd0aCA+IDIgJiYgYXJndW1lbnRzWzJdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMl0gOiBmYWxzZTtcblxuICB2YXIgc2Nyb2xsVG9wID0gZ2V0U2Nyb2xsKGVsZW1lbnQsICd0b3AnKTtcbiAgdmFyIHNjcm9sbExlZnQgPSBnZXRTY3JvbGwoZWxlbWVudCwgJ2xlZnQnKTtcbiAgdmFyIG1vZGlmaWVyID0gc3VidHJhY3QgPyAtMSA6IDE7XG4gIHJlY3QudG9wICs9IHNjcm9sbFRvcCAqIG1vZGlmaWVyO1xuICByZWN0LmJvdHRvbSArPSBzY3JvbGxUb3AgKiBtb2RpZmllcjtcbiAgcmVjdC5sZWZ0ICs9IHNjcm9sbExlZnQgKiBtb2RpZmllcjtcbiAgcmVjdC5yaWdodCArPSBzY3JvbGxMZWZ0ICogbW9kaWZpZXI7XG4gIHJldHVybiByZWN0O1xufVxuXG4vKlxuICogSGVscGVyIHRvIGRldGVjdCBib3JkZXJzIG9mIGEgZ2l2ZW4gZWxlbWVudFxuICogQG1ldGhvZFxuICogQG1lbWJlcm9mIFBvcHBlci5VdGlsc1xuICogQHBhcmFtIHtDU1NTdHlsZURlY2xhcmF0aW9ufSBzdHlsZXNcbiAqIFJlc3VsdCBvZiBgZ2V0U3R5bGVDb21wdXRlZFByb3BlcnR5YCBvbiB0aGUgZ2l2ZW4gZWxlbWVudFxuICogQHBhcmFtIHtTdHJpbmd9IGF4aXMgLSBgeGAgb3IgYHlgXG4gKiBAcmV0dXJuIHtudW1iZXJ9IGJvcmRlcnMgLSBUaGUgYm9yZGVycyBzaXplIG9mIHRoZSBnaXZlbiBheGlzXG4gKi9cblxuZnVuY3Rpb24gZ2V0Qm9yZGVyc1NpemUoc3R5bGVzLCBheGlzKSB7XG4gIHZhciBzaWRlQSA9IGF4aXMgPT09ICd4JyA/ICdMZWZ0JyA6ICdUb3AnO1xuICB2YXIgc2lkZUIgPSBzaWRlQSA9PT0gJ0xlZnQnID8gJ1JpZ2h0JyA6ICdCb3R0b20nO1xuXG4gIHJldHVybiBwYXJzZUZsb2F0KHN0eWxlc1snYm9yZGVyJyArIHNpZGVBICsgJ1dpZHRoJ10pICsgcGFyc2VGbG9hdChzdHlsZXNbJ2JvcmRlcicgKyBzaWRlQiArICdXaWR0aCddKTtcbn1cblxuZnVuY3Rpb24gZ2V0U2l6ZShheGlzLCBib2R5LCBodG1sLCBjb21wdXRlZFN0eWxlKSB7XG4gIHJldHVybiBNYXRoLm1heChib2R5WydvZmZzZXQnICsgYXhpc10sIGJvZHlbJ3Njcm9sbCcgKyBheGlzXSwgaHRtbFsnY2xpZW50JyArIGF4aXNdLCBodG1sWydvZmZzZXQnICsgYXhpc10sIGh0bWxbJ3Njcm9sbCcgKyBheGlzXSwgaXNJRSgxMCkgPyBwYXJzZUludChodG1sWydvZmZzZXQnICsgYXhpc10pICsgcGFyc2VJbnQoY29tcHV0ZWRTdHlsZVsnbWFyZ2luJyArIChheGlzID09PSAnSGVpZ2h0JyA/ICdUb3AnIDogJ0xlZnQnKV0pICsgcGFyc2VJbnQoY29tcHV0ZWRTdHlsZVsnbWFyZ2luJyArIChheGlzID09PSAnSGVpZ2h0JyA/ICdCb3R0b20nIDogJ1JpZ2h0JyldKSA6IDApO1xufVxuXG5mdW5jdGlvbiBnZXRXaW5kb3dTaXplcyhkb2N1bWVudCkge1xuICB2YXIgYm9keSA9IGRvY3VtZW50LmJvZHk7XG4gIHZhciBodG1sID0gZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50O1xuICB2YXIgY29tcHV0ZWRTdHlsZSA9IGlzSUUoMTApICYmIGdldENvbXB1dGVkU3R5bGUoaHRtbCk7XG5cbiAgcmV0dXJuIHtcbiAgICBoZWlnaHQ6IGdldFNpemUoJ0hlaWdodCcsIGJvZHksIGh0bWwsIGNvbXB1dGVkU3R5bGUpLFxuICAgIHdpZHRoOiBnZXRTaXplKCdXaWR0aCcsIGJvZHksIGh0bWwsIGNvbXB1dGVkU3R5bGUpXG4gIH07XG59XG5cbnZhciBjbGFzc0NhbGxDaGVjayA9IGZ1bmN0aW9uIChpbnN0YW5jZSwgQ29uc3RydWN0b3IpIHtcbiAgaWYgKCEoaW5zdGFuY2UgaW5zdGFuY2VvZiBDb25zdHJ1Y3RvcikpIHtcbiAgICB0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXCIpO1xuICB9XG59O1xuXG52YXIgY3JlYXRlQ2xhc3MgPSBmdW5jdGlvbiAoKSB7XG4gIGZ1bmN0aW9uIGRlZmluZVByb3BlcnRpZXModGFyZ2V0LCBwcm9wcykge1xuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgcHJvcHMubGVuZ3RoOyBpKyspIHtcbiAgICAgIHZhciBkZXNjcmlwdG9yID0gcHJvcHNbaV07XG4gICAgICBkZXNjcmlwdG9yLmVudW1lcmFibGUgPSBkZXNjcmlwdG9yLmVudW1lcmFibGUgfHwgZmFsc2U7XG4gICAgICBkZXNjcmlwdG9yLmNvbmZpZ3VyYWJsZSA9IHRydWU7XG4gICAgICBpZiAoXCJ2YWx1ZVwiIGluIGRlc2NyaXB0b3IpIGRlc2NyaXB0b3Iud3JpdGFibGUgPSB0cnVlO1xuICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRhcmdldCwgZGVzY3JpcHRvci5rZXksIGRlc2NyaXB0b3IpO1xuICAgIH1cbiAgfVxuXG4gIHJldHVybiBmdW5jdGlvbiAoQ29uc3RydWN0b3IsIHByb3RvUHJvcHMsIHN0YXRpY1Byb3BzKSB7XG4gICAgaWYgKHByb3RvUHJvcHMpIGRlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IucHJvdG90eXBlLCBwcm90b1Byb3BzKTtcbiAgICBpZiAoc3RhdGljUHJvcHMpIGRlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IsIHN0YXRpY1Byb3BzKTtcbiAgICByZXR1cm4gQ29uc3RydWN0b3I7XG4gIH07XG59KCk7XG5cblxuXG5cblxudmFyIGRlZmluZVByb3BlcnR5ID0gZnVuY3Rpb24gKG9iaiwga2V5LCB2YWx1ZSkge1xuICBpZiAoa2V5IGluIG9iaikge1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShvYmosIGtleSwge1xuICAgICAgdmFsdWU6IHZhbHVlLFxuICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcbiAgICAgIHdyaXRhYmxlOiB0cnVlXG4gICAgfSk7XG4gIH0gZWxzZSB7XG4gICAgb2JqW2tleV0gPSB2YWx1ZTtcbiAgfVxuXG4gIHJldHVybiBvYmo7XG59O1xuXG52YXIgX2V4dGVuZHMgPSBPYmplY3QuYXNzaWduIHx8IGZ1bmN0aW9uICh0YXJnZXQpIHtcbiAgZm9yICh2YXIgaSA9IDE7IGkgPCBhcmd1bWVudHMubGVuZ3RoOyBpKyspIHtcbiAgICB2YXIgc291cmNlID0gYXJndW1lbnRzW2ldO1xuXG4gICAgZm9yICh2YXIga2V5IGluIHNvdXJjZSkge1xuICAgICAgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChzb3VyY2UsIGtleSkpIHtcbiAgICAgICAgdGFyZ2V0W2tleV0gPSBzb3VyY2Vba2V5XTtcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICByZXR1cm4gdGFyZ2V0O1xufTtcblxuLyoqXG4gKiBHaXZlbiBlbGVtZW50IG9mZnNldHMsIGdlbmVyYXRlIGFuIG91dHB1dCBzaW1pbGFyIHRvIGdldEJvdW5kaW5nQ2xpZW50UmVjdFxuICogQG1ldGhvZFxuICogQG1lbWJlcm9mIFBvcHBlci5VdGlsc1xuICogQGFyZ3VtZW50IHtPYmplY3R9IG9mZnNldHNcbiAqIEByZXR1cm5zIHtPYmplY3R9IENsaWVudFJlY3QgbGlrZSBvdXRwdXRcbiAqL1xuZnVuY3Rpb24gZ2V0Q2xpZW50UmVjdChvZmZzZXRzKSB7XG4gIHJldHVybiBfZXh0ZW5kcyh7fSwgb2Zmc2V0cywge1xuICAgIHJpZ2h0OiBvZmZzZXRzLmxlZnQgKyBvZmZzZXRzLndpZHRoLFxuICAgIGJvdHRvbTogb2Zmc2V0cy50b3AgKyBvZmZzZXRzLmhlaWdodFxuICB9KTtcbn1cblxuLyoqXG4gKiBHZXQgYm91bmRpbmcgY2xpZW50IHJlY3Qgb2YgZ2l2ZW4gZWxlbWVudFxuICogQG1ldGhvZFxuICogQG1lbWJlcm9mIFBvcHBlci5VdGlsc1xuICogQHBhcmFtIHtIVE1MRWxlbWVudH0gZWxlbWVudFxuICogQHJldHVybiB7T2JqZWN0fSBjbGllbnQgcmVjdFxuICovXG5mdW5jdGlvbiBnZXRCb3VuZGluZ0NsaWVudFJlY3QoZWxlbWVudCkge1xuICB2YXIgcmVjdCA9IHt9O1xuXG4gIC8vIElFMTAgMTAgRklYOiBQbGVhc2UsIGRvbid0IGFzaywgdGhlIGVsZW1lbnQgaXNuJ3RcbiAgLy8gY29uc2lkZXJlZCBpbiBET00gaW4gc29tZSBjaXJjdW1zdGFuY2VzLi4uXG4gIC8vIFRoaXMgaXNuJ3QgcmVwcm9kdWNpYmxlIGluIElFMTAgY29tcGF0aWJpbGl0eSBtb2RlIG9mIElFMTFcbiAgdHJ5IHtcbiAgICBpZiAoaXNJRSgxMCkpIHtcbiAgICAgIHJlY3QgPSBlbGVtZW50LmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO1xuICAgICAgdmFyIHNjcm9sbFRvcCA9IGdldFNjcm9sbChlbGVtZW50LCAndG9wJyk7XG4gICAgICB2YXIgc2Nyb2xsTGVmdCA9IGdldFNjcm9sbChlbGVtZW50LCAnbGVmdCcpO1xuICAgICAgcmVjdC50b3AgKz0gc2Nyb2xsVG9wO1xuICAgICAgcmVjdC5sZWZ0ICs9IHNjcm9sbExlZnQ7XG4gICAgICByZWN0LmJvdHRvbSArPSBzY3JvbGxUb3A7XG4gICAgICByZWN0LnJpZ2h0ICs9IHNjcm9sbExlZnQ7XG4gICAgfSBlbHNlIHtcbiAgICAgIHJlY3QgPSBlbGVtZW50LmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO1xuICAgIH1cbiAgfSBjYXRjaCAoZSkge31cblxuICB2YXIgcmVzdWx0ID0ge1xuICAgIGxlZnQ6IHJlY3QubGVmdCxcbiAgICB0b3A6IHJlY3QudG9wLFxuICAgIHdpZHRoOiByZWN0LnJpZ2h0IC0gcmVjdC5sZWZ0LFxuICAgIGhlaWdodDogcmVjdC5ib3R0b20gLSByZWN0LnRvcFxuICB9O1xuXG4gIC8vIHN1YnRyYWN0IHNjcm9sbGJhciBzaXplIGZyb20gc2l6ZXNcbiAgdmFyIHNpemVzID0gZWxlbWVudC5ub2RlTmFtZSA9PT0gJ0hUTUwnID8gZ2V0V2luZG93U2l6ZXMoZWxlbWVudC5vd25lckRvY3VtZW50KSA6IHt9O1xuICB2YXIgd2lkdGggPSBzaXplcy53aWR0aCB8fCBlbGVtZW50LmNsaWVudFdpZHRoIHx8IHJlc3VsdC53aWR0aDtcbiAgdmFyIGhlaWdodCA9IHNpemVzLmhlaWdodCB8fCBlbGVtZW50LmNsaWVudEhlaWdodCB8fCByZXN1bHQuaGVpZ2h0O1xuXG4gIHZhciBob3JpelNjcm9sbGJhciA9IGVsZW1lbnQub2Zmc2V0V2lkdGggLSB3aWR0aDtcbiAgdmFyIHZlcnRTY3JvbGxiYXIgPSBlbGVtZW50Lm9mZnNldEhlaWdodCAtIGhlaWdodDtcblxuICAvLyBpZiBhbiBoeXBvdGhldGljYWwgc2Nyb2xsYmFyIGlzIGRldGVjdGVkLCB3ZSBtdXN0IGJlIHN1cmUgaXQncyBub3QgYSBgYm9yZGVyYFxuICAvLyB3ZSBtYWtlIHRoaXMgY2hlY2sgY29uZGl0aW9uYWwgZm9yIHBlcmZvcm1hbmNlIHJlYXNvbnNcbiAgaWYgKGhvcml6U2Nyb2xsYmFyIHx8IHZlcnRTY3JvbGxiYXIpIHtcbiAgICB2YXIgc3R5bGVzID0gZ2V0U3R5bGVDb21wdXRlZFByb3BlcnR5KGVsZW1lbnQpO1xuICAgIGhvcml6U2Nyb2xsYmFyIC09IGdldEJvcmRlcnNTaXplKHN0eWxlcywgJ3gnKTtcbiAgICB2ZXJ0U2Nyb2xsYmFyIC09IGdldEJvcmRlcnNTaXplKHN0eWxlcywgJ3knKTtcblxuICAgIHJlc3VsdC53aWR0aCAtPSBob3JpelNjcm9sbGJhcjtcbiAgICByZXN1bHQuaGVpZ2h0IC09IHZlcnRTY3JvbGxiYXI7XG4gIH1cblxuICByZXR1cm4gZ2V0Q2xpZW50UmVjdChyZXN1bHQpO1xufVxuXG5mdW5jdGlvbiBnZXRPZmZzZXRSZWN0UmVsYXRpdmVUb0FyYml0cmFyeU5vZGUoY2hpbGRyZW4sIHBhcmVudCkge1xuICB2YXIgZml4ZWRQb3NpdGlvbiA9IGFyZ3VtZW50cy5sZW5ndGggPiAyICYmIGFyZ3VtZW50c1syXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzJdIDogZmFsc2U7XG5cbiAgdmFyIGlzSUUxMCA9IGlzSUUoMTApO1xuICB2YXIgaXNIVE1MID0gcGFyZW50Lm5vZGVOYW1lID09PSAnSFRNTCc7XG4gIHZhciBjaGlsZHJlblJlY3QgPSBnZXRCb3VuZGluZ0NsaWVudFJlY3QoY2hpbGRyZW4pO1xuICB2YXIgcGFyZW50UmVjdCA9IGdldEJvdW5kaW5nQ2xpZW50UmVjdChwYXJlbnQpO1xuICB2YXIgc2Nyb2xsUGFyZW50ID0gZ2V0U2Nyb2xsUGFyZW50KGNoaWxkcmVuKTtcblxuICB2YXIgc3R5bGVzID0gZ2V0U3R5bGVDb21wdXRlZFByb3BlcnR5KHBhcmVudCk7XG4gIHZhciBib3JkZXJUb3BXaWR0aCA9IHBhcnNlRmxvYXQoc3R5bGVzLmJvcmRlclRvcFdpZHRoKTtcbiAgdmFyIGJvcmRlckxlZnRXaWR0aCA9IHBhcnNlRmxvYXQoc3R5bGVzLmJvcmRlckxlZnRXaWR0aCk7XG5cbiAgLy8gSW4gY2FzZXMgd2hlcmUgdGhlIHBhcmVudCBpcyBmaXhlZCwgd2UgbXVzdCBpZ25vcmUgbmVnYXRpdmUgc2Nyb2xsIGluIG9mZnNldCBjYWxjXG4gIGlmIChmaXhlZFBvc2l0aW9uICYmIGlzSFRNTCkge1xuICAgIHBhcmVudFJlY3QudG9wID0gTWF0aC5tYXgocGFyZW50UmVjdC50b3AsIDApO1xuICAgIHBhcmVudFJlY3QubGVmdCA9IE1hdGgubWF4KHBhcmVudFJlY3QubGVmdCwgMCk7XG4gIH1cbiAgdmFyIG9mZnNldHMgPSBnZXRDbGllbnRSZWN0KHtcbiAgICB0b3A6IGNoaWxkcmVuUmVjdC50b3AgLSBwYXJlbnRSZWN0LnRvcCAtIGJvcmRlclRvcFdpZHRoLFxuICAgIGxlZnQ6IGNoaWxkcmVuUmVjdC5sZWZ0IC0gcGFyZW50UmVjdC5sZWZ0IC0gYm9yZGVyTGVmdFdpZHRoLFxuICAgIHdpZHRoOiBjaGlsZHJlblJlY3Qud2lkdGgsXG4gICAgaGVpZ2h0OiBjaGlsZHJlblJlY3QuaGVpZ2h0XG4gIH0pO1xuICBvZmZzZXRzLm1hcmdpblRvcCA9IDA7XG4gIG9mZnNldHMubWFyZ2luTGVmdCA9IDA7XG5cbiAgLy8gU3VidHJhY3QgbWFyZ2lucyBvZiBkb2N1bWVudEVsZW1lbnQgaW4gY2FzZSBpdCdzIGJlaW5nIHVzZWQgYXMgcGFyZW50XG4gIC8vIHdlIGRvIHRoaXMgb25seSBvbiBIVE1MIGJlY2F1c2UgaXQncyB0aGUgb25seSBlbGVtZW50IHRoYXQgYmVoYXZlc1xuICAvLyBkaWZmZXJlbnRseSB3aGVuIG1hcmdpbnMgYXJlIGFwcGxpZWQgdG8gaXQuIFRoZSBtYXJnaW5zIGFyZSBpbmNsdWRlZCBpblxuICAvLyB0aGUgYm94IG9mIHRoZSBkb2N1bWVudEVsZW1lbnQsIGluIHRoZSBvdGhlciBjYXNlcyBub3QuXG4gIGlmICghaXNJRTEwICYmIGlzSFRNTCkge1xuICAgIHZhciBtYXJnaW5Ub3AgPSBwYXJzZUZsb2F0KHN0eWxlcy5tYXJnaW5Ub3ApO1xuICAgIHZhciBtYXJnaW5MZWZ0ID0gcGFyc2VGbG9hdChzdHlsZXMubWFyZ2luTGVmdCk7XG5cbiAgICBvZmZzZXRzLnRvcCAtPSBib3JkZXJUb3BXaWR0aCAtIG1hcmdpblRvcDtcbiAgICBvZmZzZXRzLmJvdHRvbSAtPSBib3JkZXJUb3BXaWR0aCAtIG1hcmdpblRvcDtcbiAgICBvZmZzZXRzLmxlZnQgLT0gYm9yZGVyTGVmdFdpZHRoIC0gbWFyZ2luTGVmdDtcbiAgICBvZmZzZXRzLnJpZ2h0IC09IGJvcmRlckxlZnRXaWR0aCAtIG1hcmdpbkxlZnQ7XG5cbiAgICAvLyBBdHRhY2ggbWFyZ2luVG9wIGFuZCBtYXJnaW5MZWZ0IGJlY2F1c2UgaW4gc29tZSBjaXJjdW1zdGFuY2VzIHdlIG1heSBuZWVkIHRoZW1cbiAgICBvZmZzZXRzLm1hcmdpblRvcCA9IG1hcmdpblRvcDtcbiAgICBvZmZzZXRzLm1hcmdpbkxlZnQgPSBtYXJnaW5MZWZ0O1xuICB9XG5cbiAgaWYgKGlzSUUxMCAmJiAhZml4ZWRQb3NpdGlvbiA/IHBhcmVudC5jb250YWlucyhzY3JvbGxQYXJlbnQpIDogcGFyZW50ID09PSBzY3JvbGxQYXJlbnQgJiYgc2Nyb2xsUGFyZW50Lm5vZGVOYW1lICE9PSAnQk9EWScpIHtcbiAgICBvZmZzZXRzID0gaW5jbHVkZVNjcm9sbChvZmZzZXRzLCBwYXJlbnQpO1xuICB9XG5cbiAgcmV0dXJuIG9mZnNldHM7XG59XG5cbmZ1bmN0aW9uIGdldFZpZXdwb3J0T2Zmc2V0UmVjdFJlbGF0aXZlVG9BcnRiaXRyYXJ5Tm9kZShlbGVtZW50KSB7XG4gIHZhciBleGNsdWRlU2Nyb2xsID0gYXJndW1lbnRzLmxlbmd0aCA+IDEgJiYgYXJndW1lbnRzWzFdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMV0gOiBmYWxzZTtcblxuICB2YXIgaHRtbCA9IGVsZW1lbnQub3duZXJEb2N1bWVudC5kb2N1bWVudEVsZW1lbnQ7XG4gIHZhciByZWxhdGl2ZU9mZnNldCA9IGdldE9mZnNldFJlY3RSZWxhdGl2ZVRvQXJiaXRyYXJ5Tm9kZShlbGVtZW50LCBodG1sKTtcbiAgdmFyIHdpZHRoID0gTWF0aC5tYXgoaHRtbC5jbGllbnRXaWR0aCwgd2luZG93LmlubmVyV2lkdGggfHwgMCk7XG4gIHZhciBoZWlnaHQgPSBNYXRoLm1heChodG1sLmNsaWVudEhlaWdodCwgd2luZG93LmlubmVySGVpZ2h0IHx8IDApO1xuXG4gIHZhciBzY3JvbGxUb3AgPSAhZXhjbHVkZVNjcm9sbCA/IGdldFNjcm9sbChodG1sKSA6IDA7XG4gIHZhciBzY3JvbGxMZWZ0ID0gIWV4Y2x1ZGVTY3JvbGwgPyBnZXRTY3JvbGwoaHRtbCwgJ2xlZnQnKSA6IDA7XG5cbiAgdmFyIG9mZnNldCA9IHtcbiAgICB0b3A6IHNjcm9sbFRvcCAtIHJlbGF0aXZlT2Zmc2V0LnRvcCArIHJlbGF0aXZlT2Zmc2V0Lm1hcmdpblRvcCxcbiAgICBsZWZ0OiBzY3JvbGxMZWZ0IC0gcmVsYXRpdmVPZmZzZXQubGVmdCArIHJlbGF0aXZlT2Zmc2V0Lm1hcmdpbkxlZnQsXG4gICAgd2lkdGg6IHdpZHRoLFxuICAgIGhlaWdodDogaGVpZ2h0XG4gIH07XG5cbiAgcmV0dXJuIGdldENsaWVudFJlY3Qob2Zmc2V0KTtcbn1cblxuLyoqXG4gKiBDaGVjayBpZiB0aGUgZ2l2ZW4gZWxlbWVudCBpcyBmaXhlZCBvciBpcyBpbnNpZGUgYSBmaXhlZCBwYXJlbnRcbiAqIEBtZXRob2RcbiAqIEBtZW1iZXJvZiBQb3BwZXIuVXRpbHNcbiAqIEBhcmd1bWVudCB7RWxlbWVudH0gZWxlbWVudFxuICogQGFyZ3VtZW50IHtFbGVtZW50fSBjdXN0b21Db250YWluZXJcbiAqIEByZXR1cm5zIHtCb29sZWFufSBhbnN3ZXIgdG8gXCJpc0ZpeGVkP1wiXG4gKi9cbmZ1bmN0aW9uIGlzRml4ZWQoZWxlbWVudCkge1xuICB2YXIgbm9kZU5hbWUgPSBlbGVtZW50Lm5vZGVOYW1lO1xuICBpZiAobm9kZU5hbWUgPT09ICdCT0RZJyB8fCBub2RlTmFtZSA9PT0gJ0hUTUwnKSB7XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG4gIGlmIChnZXRTdHlsZUNvbXB1dGVkUHJvcGVydHkoZWxlbWVudCwgJ3Bvc2l0aW9uJykgPT09ICdmaXhlZCcpIHtcbiAgICByZXR1cm4gdHJ1ZTtcbiAgfVxuICB2YXIgcGFyZW50Tm9kZSA9IGdldFBhcmVudE5vZGUoZWxlbWVudCk7XG4gIGlmICghcGFyZW50Tm9kZSkge1xuICAgIHJldHVybiBmYWxzZTtcbiAgfVxuICByZXR1cm4gaXNGaXhlZChwYXJlbnROb2RlKTtcbn1cblxuLyoqXG4gKiBGaW5kcyB0aGUgZmlyc3QgcGFyZW50IG9mIGFuIGVsZW1lbnQgdGhhdCBoYXMgYSB0cmFuc2Zvcm1lZCBwcm9wZXJ0eSBkZWZpbmVkXG4gKiBAbWV0aG9kXG4gKiBAbWVtYmVyb2YgUG9wcGVyLlV0aWxzXG4gKiBAYXJndW1lbnQge0VsZW1lbnR9IGVsZW1lbnRcbiAqIEByZXR1cm5zIHtFbGVtZW50fSBmaXJzdCB0cmFuc2Zvcm1lZCBwYXJlbnQgb3IgZG9jdW1lbnRFbGVtZW50XG4gKi9cblxuZnVuY3Rpb24gZ2V0Rml4ZWRQb3NpdGlvbk9mZnNldFBhcmVudChlbGVtZW50KSB7XG4gIC8vIFRoaXMgY2hlY2sgaXMgbmVlZGVkIHRvIGF2b2lkIGVycm9ycyBpbiBjYXNlIG9uZSBvZiB0aGUgZWxlbWVudHMgaXNuJ3QgZGVmaW5lZCBmb3IgYW55IHJlYXNvblxuICBpZiAoIWVsZW1lbnQgfHwgIWVsZW1lbnQucGFyZW50RWxlbWVudCB8fCBpc0lFKCkpIHtcbiAgICByZXR1cm4gZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50O1xuICB9XG4gIHZhciBlbCA9IGVsZW1lbnQucGFyZW50RWxlbWVudDtcbiAgd2hpbGUgKGVsICYmIGdldFN0eWxlQ29tcHV0ZWRQcm9wZXJ0eShlbCwgJ3RyYW5zZm9ybScpID09PSAnbm9uZScpIHtcbiAgICBlbCA9IGVsLnBhcmVudEVsZW1lbnQ7XG4gIH1cbiAgcmV0dXJuIGVsIHx8IGRvY3VtZW50LmRvY3VtZW50RWxlbWVudDtcbn1cblxuLyoqXG4gKiBDb21wdXRlZCB0aGUgYm91bmRhcmllcyBsaW1pdHMgYW5kIHJldHVybiB0aGVtXG4gKiBAbWV0aG9kXG4gKiBAbWVtYmVyb2YgUG9wcGVyLlV0aWxzXG4gKiBAcGFyYW0ge0hUTUxFbGVtZW50fSBwb3BwZXJcbiAqIEBwYXJhbSB7SFRNTEVsZW1lbnR9IHJlZmVyZW5jZVxuICogQHBhcmFtIHtudW1iZXJ9IHBhZGRpbmdcbiAqIEBwYXJhbSB7SFRNTEVsZW1lbnR9IGJvdW5kYXJpZXNFbGVtZW50IC0gRWxlbWVudCB1c2VkIHRvIGRlZmluZSB0aGUgYm91bmRhcmllc1xuICogQHBhcmFtIHtCb29sZWFufSBmaXhlZFBvc2l0aW9uIC0gSXMgaW4gZml4ZWQgcG9zaXRpb24gbW9kZVxuICogQHJldHVybnMge09iamVjdH0gQ29vcmRpbmF0ZXMgb2YgdGhlIGJvdW5kYXJpZXNcbiAqL1xuZnVuY3Rpb24gZ2V0Qm91bmRhcmllcyhwb3BwZXIsIHJlZmVyZW5jZSwgcGFkZGluZywgYm91bmRhcmllc0VsZW1lbnQpIHtcbiAgdmFyIGZpeGVkUG9zaXRpb24gPSBhcmd1bWVudHMubGVuZ3RoID4gNCAmJiBhcmd1bWVudHNbNF0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1s0XSA6IGZhbHNlO1xuXG4gIC8vIE5PVEU6IDEgRE9NIGFjY2VzcyBoZXJlXG5cbiAgdmFyIGJvdW5kYXJpZXMgPSB7IHRvcDogMCwgbGVmdDogMCB9O1xuICB2YXIgb2Zmc2V0UGFyZW50ID0gZml4ZWRQb3NpdGlvbiA/IGdldEZpeGVkUG9zaXRpb25PZmZzZXRQYXJlbnQocG9wcGVyKSA6IGZpbmRDb21tb25PZmZzZXRQYXJlbnQocG9wcGVyLCBnZXRSZWZlcmVuY2VOb2RlKHJlZmVyZW5jZSkpO1xuXG4gIC8vIEhhbmRsZSB2aWV3cG9ydCBjYXNlXG4gIGlmIChib3VuZGFyaWVzRWxlbWVudCA9PT0gJ3ZpZXdwb3J0Jykge1xuICAgIGJvdW5kYXJpZXMgPSBnZXRWaWV3cG9ydE9mZnNldFJlY3RSZWxhdGl2ZVRvQXJ0Yml0cmFyeU5vZGUob2Zmc2V0UGFyZW50LCBmaXhlZFBvc2l0aW9uKTtcbiAgfSBlbHNlIHtcbiAgICAvLyBIYW5kbGUgb3RoZXIgY2FzZXMgYmFzZWQgb24gRE9NIGVsZW1lbnQgdXNlZCBhcyBib3VuZGFyaWVzXG4gICAgdmFyIGJvdW5kYXJpZXNOb2RlID0gdm9pZCAwO1xuICAgIGlmIChib3VuZGFyaWVzRWxlbWVudCA9PT0gJ3Njcm9sbFBhcmVudCcpIHtcbiAgICAgIGJvdW5kYXJpZXNOb2RlID0gZ2V0U2Nyb2xsUGFyZW50KGdldFBhcmVudE5vZGUocmVmZXJlbmNlKSk7XG4gICAgICBpZiAoYm91bmRhcmllc05vZGUubm9kZU5hbWUgPT09ICdCT0RZJykge1xuICAgICAgICBib3VuZGFyaWVzTm9kZSA9IHBvcHBlci5vd25lckRvY3VtZW50LmRvY3VtZW50RWxlbWVudDtcbiAgICAgIH1cbiAgICB9IGVsc2UgaWYgKGJvdW5kYXJpZXNFbGVtZW50ID09PSAnd2luZG93Jykge1xuICAgICAgYm91bmRhcmllc05vZGUgPSBwb3BwZXIub3duZXJEb2N1bWVudC5kb2N1bWVudEVsZW1lbnQ7XG4gICAgfSBlbHNlIHtcbiAgICAgIGJvdW5kYXJpZXNOb2RlID0gYm91bmRhcmllc0VsZW1lbnQ7XG4gICAgfVxuXG4gICAgdmFyIG9mZnNldHMgPSBnZXRPZmZzZXRSZWN0UmVsYXRpdmVUb0FyYml0cmFyeU5vZGUoYm91bmRhcmllc05vZGUsIG9mZnNldFBhcmVudCwgZml4ZWRQb3NpdGlvbik7XG5cbiAgICAvLyBJbiBjYXNlIG9mIEhUTUwsIHdlIG5lZWQgYSBkaWZmZXJlbnQgY29tcHV0YXRpb25cbiAgICBpZiAoYm91bmRhcmllc05vZGUubm9kZU5hbWUgPT09ICdIVE1MJyAmJiAhaXNGaXhlZChvZmZzZXRQYXJlbnQpKSB7XG4gICAgICB2YXIgX2dldFdpbmRvd1NpemVzID0gZ2V0V2luZG93U2l6ZXMocG9wcGVyLm93bmVyRG9jdW1lbnQpLFxuICAgICAgICAgIGhlaWdodCA9IF9nZXRXaW5kb3dTaXplcy5oZWlnaHQsXG4gICAgICAgICAgd2lkdGggPSBfZ2V0V2luZG93U2l6ZXMud2lkdGg7XG5cbiAgICAgIGJvdW5kYXJpZXMudG9wICs9IG9mZnNldHMudG9wIC0gb2Zmc2V0cy5tYXJnaW5Ub3A7XG4gICAgICBib3VuZGFyaWVzLmJvdHRvbSA9IGhlaWdodCArIG9mZnNldHMudG9wO1xuICAgICAgYm91bmRhcmllcy5sZWZ0ICs9IG9mZnNldHMubGVmdCAtIG9mZnNldHMubWFyZ2luTGVmdDtcbiAgICAgIGJvdW5kYXJpZXMucmlnaHQgPSB3aWR0aCArIG9mZnNldHMubGVmdDtcbiAgICB9IGVsc2Uge1xuICAgICAgLy8gZm9yIGFsbCB0aGUgb3RoZXIgRE9NIGVsZW1lbnRzLCB0aGlzIG9uZSBpcyBnb29kXG4gICAgICBib3VuZGFyaWVzID0gb2Zmc2V0cztcbiAgICB9XG4gIH1cblxuICAvLyBBZGQgcGFkZGluZ3NcbiAgcGFkZGluZyA9IHBhZGRpbmcgfHwgMDtcbiAgdmFyIGlzUGFkZGluZ051bWJlciA9IHR5cGVvZiBwYWRkaW5nID09PSAnbnVtYmVyJztcbiAgYm91bmRhcmllcy5sZWZ0ICs9IGlzUGFkZGluZ051bWJlciA/IHBhZGRpbmcgOiBwYWRkaW5nLmxlZnQgfHwgMDtcbiAgYm91bmRhcmllcy50b3AgKz0gaXNQYWRkaW5nTnVtYmVyID8gcGFkZGluZyA6IHBhZGRpbmcudG9wIHx8IDA7XG4gIGJvdW5kYXJpZXMucmlnaHQgLT0gaXNQYWRkaW5nTnVtYmVyID8gcGFkZGluZyA6IHBhZGRpbmcucmlnaHQgfHwgMDtcbiAgYm91bmRhcmllcy5ib3R0b20gLT0gaXNQYWRkaW5nTnVtYmVyID8gcGFkZGluZyA6IHBhZGRpbmcuYm90dG9tIHx8IDA7XG5cbiAgcmV0dXJuIGJvdW5kYXJpZXM7XG59XG5cbmZ1bmN0aW9uIGdldEFyZWEoX3JlZikge1xuICB2YXIgd2lkdGggPSBfcmVmLndpZHRoLFxuICAgICAgaGVpZ2h0ID0gX3JlZi5oZWlnaHQ7XG5cbiAgcmV0dXJuIHdpZHRoICogaGVpZ2h0O1xufVxuXG4vKipcbiAqIFV0aWxpdHkgdXNlZCB0byB0cmFuc2Zvcm0gdGhlIGBhdXRvYCBwbGFjZW1lbnQgdG8gdGhlIHBsYWNlbWVudCB3aXRoIG1vcmVcbiAqIGF2YWlsYWJsZSBzcGFjZS5cbiAqIEBtZXRob2RcbiAqIEBtZW1iZXJvZiBQb3BwZXIuVXRpbHNcbiAqIEBhcmd1bWVudCB7T2JqZWN0fSBkYXRhIC0gVGhlIGRhdGEgb2JqZWN0IGdlbmVyYXRlZCBieSB1cGRhdGUgbWV0aG9kXG4gKiBAYXJndW1lbnQge09iamVjdH0gb3B0aW9ucyAtIE1vZGlmaWVycyBjb25maWd1cmF0aW9uIGFuZCBvcHRpb25zXG4gKiBAcmV0dXJucyB7T2JqZWN0fSBUaGUgZGF0YSBvYmplY3QsIHByb3Blcmx5IG1vZGlmaWVkXG4gKi9cbmZ1bmN0aW9uIGNvbXB1dGVBdXRvUGxhY2VtZW50KHBsYWNlbWVudCwgcmVmUmVjdCwgcG9wcGVyLCByZWZlcmVuY2UsIGJvdW5kYXJpZXNFbGVtZW50KSB7XG4gIHZhciBwYWRkaW5nID0gYXJndW1lbnRzLmxlbmd0aCA+IDUgJiYgYXJndW1lbnRzWzVdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbNV0gOiAwO1xuXG4gIGlmIChwbGFjZW1lbnQuaW5kZXhPZignYXV0bycpID09PSAtMSkge1xuICAgIHJldHVybiBwbGFjZW1lbnQ7XG4gIH1cblxuICB2YXIgYm91bmRhcmllcyA9IGdldEJvdW5kYXJpZXMocG9wcGVyLCByZWZlcmVuY2UsIHBhZGRpbmcsIGJvdW5kYXJpZXNFbGVtZW50KTtcblxuICB2YXIgcmVjdHMgPSB7XG4gICAgdG9wOiB7XG4gICAgICB3aWR0aDogYm91bmRhcmllcy53aWR0aCxcbiAgICAgIGhlaWdodDogcmVmUmVjdC50b3AgLSBib3VuZGFyaWVzLnRvcFxuICAgIH0sXG4gICAgcmlnaHQ6IHtcbiAgICAgIHdpZHRoOiBib3VuZGFyaWVzLnJpZ2h0IC0gcmVmUmVjdC5yaWdodCxcbiAgICAgIGhlaWdodDogYm91bmRhcmllcy5oZWlnaHRcbiAgICB9LFxuICAgIGJvdHRvbToge1xuICAgICAgd2lkdGg6IGJvdW5kYXJpZXMud2lkdGgsXG4gICAgICBoZWlnaHQ6IGJvdW5kYXJpZXMuYm90dG9tIC0gcmVmUmVjdC5ib3R0b21cbiAgICB9LFxuICAgIGxlZnQ6IHtcbiAgICAgIHdpZHRoOiByZWZSZWN0LmxlZnQgLSBib3VuZGFyaWVzLmxlZnQsXG4gICAgICBoZWlnaHQ6IGJvdW5kYXJpZXMuaGVpZ2h0XG4gICAgfVxuICB9O1xuXG4gIHZhciBzb3J0ZWRBcmVhcyA9IE9iamVjdC5rZXlzKHJlY3RzKS5tYXAoZnVuY3Rpb24gKGtleSkge1xuICAgIHJldHVybiBfZXh0ZW5kcyh7XG4gICAgICBrZXk6IGtleVxuICAgIH0sIHJlY3RzW2tleV0sIHtcbiAgICAgIGFyZWE6IGdldEFyZWEocmVjdHNba2V5XSlcbiAgICB9KTtcbiAgfSkuc29ydChmdW5jdGlvbiAoYSwgYikge1xuICAgIHJldHVybiBiLmFyZWEgLSBhLmFyZWE7XG4gIH0pO1xuXG4gIHZhciBmaWx0ZXJlZEFyZWFzID0gc29ydGVkQXJlYXMuZmlsdGVyKGZ1bmN0aW9uIChfcmVmMikge1xuICAgIHZhciB3aWR0aCA9IF9yZWYyLndpZHRoLFxuICAgICAgICBoZWlnaHQgPSBfcmVmMi5oZWlnaHQ7XG4gICAgcmV0dXJuIHdpZHRoID49IHBvcHBlci5jbGllbnRXaWR0aCAmJiBoZWlnaHQgPj0gcG9wcGVyLmNsaWVudEhlaWdodDtcbiAgfSk7XG5cbiAgdmFyIGNvbXB1dGVkUGxhY2VtZW50ID0gZmlsdGVyZWRBcmVhcy5sZW5ndGggPiAwID8gZmlsdGVyZWRBcmVhc1swXS5rZXkgOiBzb3J0ZWRBcmVhc1swXS5rZXk7XG5cbiAgdmFyIHZhcmlhdGlvbiA9IHBsYWNlbWVudC5zcGxpdCgnLScpWzFdO1xuXG4gIHJldHVybiBjb21wdXRlZFBsYWNlbWVudCArICh2YXJpYXRpb24gPyAnLScgKyB2YXJpYXRpb24gOiAnJyk7XG59XG5cbi8qKlxuICogR2V0IG9mZnNldHMgdG8gdGhlIHJlZmVyZW5jZSBlbGVtZW50XG4gKiBAbWV0aG9kXG4gKiBAbWVtYmVyb2YgUG9wcGVyLlV0aWxzXG4gKiBAcGFyYW0ge09iamVjdH0gc3RhdGVcbiAqIEBwYXJhbSB7RWxlbWVudH0gcG9wcGVyIC0gdGhlIHBvcHBlciBlbGVtZW50XG4gKiBAcGFyYW0ge0VsZW1lbnR9IHJlZmVyZW5jZSAtIHRoZSByZWZlcmVuY2UgZWxlbWVudCAodGhlIHBvcHBlciB3aWxsIGJlIHJlbGF0aXZlIHRvIHRoaXMpXG4gKiBAcGFyYW0ge0VsZW1lbnR9IGZpeGVkUG9zaXRpb24gLSBpcyBpbiBmaXhlZCBwb3NpdGlvbiBtb2RlXG4gKiBAcmV0dXJucyB7T2JqZWN0fSBBbiBvYmplY3QgY29udGFpbmluZyB0aGUgb2Zmc2V0cyB3aGljaCB3aWxsIGJlIGFwcGxpZWQgdG8gdGhlIHBvcHBlclxuICovXG5mdW5jdGlvbiBnZXRSZWZlcmVuY2VPZmZzZXRzKHN0YXRlLCBwb3BwZXIsIHJlZmVyZW5jZSkge1xuICB2YXIgZml4ZWRQb3NpdGlvbiA9IGFyZ3VtZW50cy5sZW5ndGggPiAzICYmIGFyZ3VtZW50c1szXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzNdIDogbnVsbDtcblxuICB2YXIgY29tbW9uT2Zmc2V0UGFyZW50ID0gZml4ZWRQb3NpdGlvbiA/IGdldEZpeGVkUG9zaXRpb25PZmZzZXRQYXJlbnQocG9wcGVyKSA6IGZpbmRDb21tb25PZmZzZXRQYXJlbnQocG9wcGVyLCBnZXRSZWZlcmVuY2VOb2RlKHJlZmVyZW5jZSkpO1xuICByZXR1cm4gZ2V0T2Zmc2V0UmVjdFJlbGF0aXZlVG9BcmJpdHJhcnlOb2RlKHJlZmVyZW5jZSwgY29tbW9uT2Zmc2V0UGFyZW50LCBmaXhlZFBvc2l0aW9uKTtcbn1cblxuLyoqXG4gKiBHZXQgdGhlIG91dGVyIHNpemVzIG9mIHRoZSBnaXZlbiBlbGVtZW50IChvZmZzZXQgc2l6ZSArIG1hcmdpbnMpXG4gKiBAbWV0aG9kXG4gKiBAbWVtYmVyb2YgUG9wcGVyLlV0aWxzXG4gKiBAYXJndW1lbnQge0VsZW1lbnR9IGVsZW1lbnRcbiAqIEByZXR1cm5zIHtPYmplY3R9IG9iamVjdCBjb250YWluaW5nIHdpZHRoIGFuZCBoZWlnaHQgcHJvcGVydGllc1xuICovXG5mdW5jdGlvbiBnZXRPdXRlclNpemVzKGVsZW1lbnQpIHtcbiAgdmFyIHdpbmRvdyA9IGVsZW1lbnQub3duZXJEb2N1bWVudC5kZWZhdWx0VmlldztcbiAgdmFyIHN0eWxlcyA9IHdpbmRvdy5nZXRDb21wdXRlZFN0eWxlKGVsZW1lbnQpO1xuICB2YXIgeCA9IHBhcnNlRmxvYXQoc3R5bGVzLm1hcmdpblRvcCB8fCAwKSArIHBhcnNlRmxvYXQoc3R5bGVzLm1hcmdpbkJvdHRvbSB8fCAwKTtcbiAgdmFyIHkgPSBwYXJzZUZsb2F0KHN0eWxlcy5tYXJnaW5MZWZ0IHx8IDApICsgcGFyc2VGbG9hdChzdHlsZXMubWFyZ2luUmlnaHQgfHwgMCk7XG4gIHZhciByZXN1bHQgPSB7XG4gICAgd2lkdGg6IGVsZW1lbnQub2Zmc2V0V2lkdGggKyB5LFxuICAgIGhlaWdodDogZWxlbWVudC5vZmZzZXRIZWlnaHQgKyB4XG4gIH07XG4gIHJldHVybiByZXN1bHQ7XG59XG5cbi8qKlxuICogR2V0IHRoZSBvcHBvc2l0ZSBwbGFjZW1lbnQgb2YgdGhlIGdpdmVuIG9uZVxuICogQG1ldGhvZFxuICogQG1lbWJlcm9mIFBvcHBlci5VdGlsc1xuICogQGFyZ3VtZW50IHtTdHJpbmd9IHBsYWNlbWVudFxuICogQHJldHVybnMge1N0cmluZ30gZmxpcHBlZCBwbGFjZW1lbnRcbiAqL1xuZnVuY3Rpb24gZ2V0T3Bwb3NpdGVQbGFjZW1lbnQocGxhY2VtZW50KSB7XG4gIHZhciBoYXNoID0geyBsZWZ0OiAncmlnaHQnLCByaWdodDogJ2xlZnQnLCBib3R0b206ICd0b3AnLCB0b3A6ICdib3R0b20nIH07XG4gIHJldHVybiBwbGFjZW1lbnQucmVwbGFjZSgvbGVmdHxyaWdodHxib3R0b218dG9wL2csIGZ1bmN0aW9uIChtYXRjaGVkKSB7XG4gICAgcmV0dXJuIGhhc2hbbWF0Y2hlZF07XG4gIH0pO1xufVxuXG4vKipcbiAqIEdldCBvZmZzZXRzIHRvIHRoZSBwb3BwZXJcbiAqIEBtZXRob2RcbiAqIEBtZW1iZXJvZiBQb3BwZXIuVXRpbHNcbiAqIEBwYXJhbSB7T2JqZWN0fSBwb3NpdGlvbiAtIENTUyBwb3NpdGlvbiB0aGUgUG9wcGVyIHdpbGwgZ2V0IGFwcGxpZWRcbiAqIEBwYXJhbSB7SFRNTEVsZW1lbnR9IHBvcHBlciAtIHRoZSBwb3BwZXIgZWxlbWVudFxuICogQHBhcmFtIHtPYmplY3R9IHJlZmVyZW5jZU9mZnNldHMgLSB0aGUgcmVmZXJlbmNlIG9mZnNldHMgKHRoZSBwb3BwZXIgd2lsbCBiZSByZWxhdGl2ZSB0byB0aGlzKVxuICogQHBhcmFtIHtTdHJpbmd9IHBsYWNlbWVudCAtIG9uZSBvZiB0aGUgdmFsaWQgcGxhY2VtZW50IG9wdGlvbnNcbiAqIEByZXR1cm5zIHtPYmplY3R9IHBvcHBlck9mZnNldHMgLSBBbiBvYmplY3QgY29udGFpbmluZyB0aGUgb2Zmc2V0cyB3aGljaCB3aWxsIGJlIGFwcGxpZWQgdG8gdGhlIHBvcHBlclxuICovXG5mdW5jdGlvbiBnZXRQb3BwZXJPZmZzZXRzKHBvcHBlciwgcmVmZXJlbmNlT2Zmc2V0cywgcGxhY2VtZW50KSB7XG4gIHBsYWNlbWVudCA9IHBsYWNlbWVudC5zcGxpdCgnLScpWzBdO1xuXG4gIC8vIEdldCBwb3BwZXIgbm9kZSBzaXplc1xuICB2YXIgcG9wcGVyUmVjdCA9IGdldE91dGVyU2l6ZXMocG9wcGVyKTtcblxuICAvLyBBZGQgcG9zaXRpb24sIHdpZHRoIGFuZCBoZWlnaHQgdG8gb3VyIG9mZnNldHMgb2JqZWN0XG4gIHZhciBwb3BwZXJPZmZzZXRzID0ge1xuICAgIHdpZHRoOiBwb3BwZXJSZWN0LndpZHRoLFxuICAgIGhlaWdodDogcG9wcGVyUmVjdC5oZWlnaHRcbiAgfTtcblxuICAvLyBkZXBlbmRpbmcgYnkgdGhlIHBvcHBlciBwbGFjZW1lbnQgd2UgaGF2ZSB0byBjb21wdXRlIGl0cyBvZmZzZXRzIHNsaWdodGx5IGRpZmZlcmVudGx5XG4gIHZhciBpc0hvcml6ID0gWydyaWdodCcsICdsZWZ0J10uaW5kZXhPZihwbGFjZW1lbnQpICE9PSAtMTtcbiAgdmFyIG1haW5TaWRlID0gaXNIb3JpeiA/ICd0b3AnIDogJ2xlZnQnO1xuICB2YXIgc2Vjb25kYXJ5U2lkZSA9IGlzSG9yaXogPyAnbGVmdCcgOiAndG9wJztcbiAgdmFyIG1lYXN1cmVtZW50ID0gaXNIb3JpeiA/ICdoZWlnaHQnIDogJ3dpZHRoJztcbiAgdmFyIHNlY29uZGFyeU1lYXN1cmVtZW50ID0gIWlzSG9yaXogPyAnaGVpZ2h0JyA6ICd3aWR0aCc7XG5cbiAgcG9wcGVyT2Zmc2V0c1ttYWluU2lkZV0gPSByZWZlcmVuY2VPZmZzZXRzW21haW5TaWRlXSArIHJlZmVyZW5jZU9mZnNldHNbbWVhc3VyZW1lbnRdIC8gMiAtIHBvcHBlclJlY3RbbWVhc3VyZW1lbnRdIC8gMjtcbiAgaWYgKHBsYWNlbWVudCA9PT0gc2Vjb25kYXJ5U2lkZSkge1xuICAgIHBvcHBlck9mZnNldHNbc2Vjb25kYXJ5U2lkZV0gPSByZWZlcmVuY2VPZmZzZXRzW3NlY29uZGFyeVNpZGVdIC0gcG9wcGVyUmVjdFtzZWNvbmRhcnlNZWFzdXJlbWVudF07XG4gIH0gZWxzZSB7XG4gICAgcG9wcGVyT2Zmc2V0c1tzZWNvbmRhcnlTaWRlXSA9IHJlZmVyZW5jZU9mZnNldHNbZ2V0T3Bwb3NpdGVQbGFjZW1lbnQoc2Vjb25kYXJ5U2lkZSldO1xuICB9XG5cbiAgcmV0dXJuIHBvcHBlck9mZnNldHM7XG59XG5cbi8qKlxuICogTWltaWNzIHRoZSBgZmluZGAgbWV0aG9kIG9mIEFycmF5XG4gKiBAbWV0aG9kXG4gKiBAbWVtYmVyb2YgUG9wcGVyLlV0aWxzXG4gKiBAYXJndW1lbnQge0FycmF5fSBhcnJcbiAqIEBhcmd1bWVudCBwcm9wXG4gKiBAYXJndW1lbnQgdmFsdWVcbiAqIEByZXR1cm5zIGluZGV4IG9yIC0xXG4gKi9cbmZ1bmN0aW9uIGZpbmQoYXJyLCBjaGVjaykge1xuICAvLyB1c2UgbmF0aXZlIGZpbmQgaWYgc3VwcG9ydGVkXG4gIGlmIChBcnJheS5wcm90b3R5cGUuZmluZCkge1xuICAgIHJldHVybiBhcnIuZmluZChjaGVjayk7XG4gIH1cblxuICAvLyB1c2UgYGZpbHRlcmAgdG8gb2J0YWluIHRoZSBzYW1lIGJlaGF2aW9yIG9mIGBmaW5kYFxuICByZXR1cm4gYXJyLmZpbHRlcihjaGVjaylbMF07XG59XG5cbi8qKlxuICogUmV0dXJuIHRoZSBpbmRleCBvZiB0aGUgbWF0Y2hpbmcgb2JqZWN0XG4gKiBAbWV0aG9kXG4gKiBAbWVtYmVyb2YgUG9wcGVyLlV0aWxzXG4gKiBAYXJndW1lbnQge0FycmF5fSBhcnJcbiAqIEBhcmd1bWVudCBwcm9wXG4gKiBAYXJndW1lbnQgdmFsdWVcbiAqIEByZXR1cm5zIGluZGV4IG9yIC0xXG4gKi9cbmZ1bmN0aW9uIGZpbmRJbmRleChhcnIsIHByb3AsIHZhbHVlKSB7XG4gIC8vIHVzZSBuYXRpdmUgZmluZEluZGV4IGlmIHN1cHBvcnRlZFxuICBpZiAoQXJyYXkucHJvdG90eXBlLmZpbmRJbmRleCkge1xuICAgIHJldHVybiBhcnIuZmluZEluZGV4KGZ1bmN0aW9uIChjdXIpIHtcbiAgICAgIHJldHVybiBjdXJbcHJvcF0gPT09IHZhbHVlO1xuICAgIH0pO1xuICB9XG5cbiAgLy8gdXNlIGBmaW5kYCArIGBpbmRleE9mYCBpZiBgZmluZEluZGV4YCBpc24ndCBzdXBwb3J0ZWRcbiAgdmFyIG1hdGNoID0gZmluZChhcnIsIGZ1bmN0aW9uIChvYmopIHtcbiAgICByZXR1cm4gb2JqW3Byb3BdID09PSB2YWx1ZTtcbiAgfSk7XG4gIHJldHVybiBhcnIuaW5kZXhPZihtYXRjaCk7XG59XG5cbi8qKlxuICogTG9vcCB0cm91Z2ggdGhlIGxpc3Qgb2YgbW9kaWZpZXJzIGFuZCBydW4gdGhlbSBpbiBvcmRlcixcbiAqIGVhY2ggb2YgdGhlbSB3aWxsIHRoZW4gZWRpdCB0aGUgZGF0YSBvYmplY3QuXG4gKiBAbWV0aG9kXG4gKiBAbWVtYmVyb2YgUG9wcGVyLlV0aWxzXG4gKiBAcGFyYW0ge2RhdGFPYmplY3R9IGRhdGFcbiAqIEBwYXJhbSB7QXJyYXl9IG1vZGlmaWVyc1xuICogQHBhcmFtIHtTdHJpbmd9IGVuZHMgLSBPcHRpb25hbCBtb2RpZmllciBuYW1lIHVzZWQgYXMgc3RvcHBlclxuICogQHJldHVybnMge2RhdGFPYmplY3R9XG4gKi9cbmZ1bmN0aW9uIHJ1bk1vZGlmaWVycyhtb2RpZmllcnMsIGRhdGEsIGVuZHMpIHtcbiAgdmFyIG1vZGlmaWVyc1RvUnVuID0gZW5kcyA9PT0gdW5kZWZpbmVkID8gbW9kaWZpZXJzIDogbW9kaWZpZXJzLnNsaWNlKDAsIGZpbmRJbmRleChtb2RpZmllcnMsICduYW1lJywgZW5kcykpO1xuXG4gIG1vZGlmaWVyc1RvUnVuLmZvckVhY2goZnVuY3Rpb24gKG1vZGlmaWVyKSB7XG4gICAgaWYgKG1vZGlmaWVyWydmdW5jdGlvbiddKSB7XG4gICAgICAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIGRvdC1ub3RhdGlvblxuICAgICAgY29uc29sZS53YXJuKCdgbW9kaWZpZXIuZnVuY3Rpb25gIGlzIGRlcHJlY2F0ZWQsIHVzZSBgbW9kaWZpZXIuZm5gIScpO1xuICAgIH1cbiAgICB2YXIgZm4gPSBtb2RpZmllclsnZnVuY3Rpb24nXSB8fCBtb2RpZmllci5mbjsgLy8gZXNsaW50LWRpc2FibGUtbGluZSBkb3Qtbm90YXRpb25cbiAgICBpZiAobW9kaWZpZXIuZW5hYmxlZCAmJiBpc0Z1bmN0aW9uKGZuKSkge1xuICAgICAgLy8gQWRkIHByb3BlcnRpZXMgdG8gb2Zmc2V0cyB0byBtYWtlIHRoZW0gYSBjb21wbGV0ZSBjbGllbnRSZWN0IG9iamVjdFxuICAgICAgLy8gd2UgZG8gdGhpcyBiZWZvcmUgZWFjaCBtb2RpZmllciB0byBtYWtlIHN1cmUgdGhlIHByZXZpb3VzIG9uZSBkb2Vzbid0XG4gICAgICAvLyBtZXNzIHdpdGggdGhlc2UgdmFsdWVzXG4gICAgICBkYXRhLm9mZnNldHMucG9wcGVyID0gZ2V0Q2xpZW50UmVjdChkYXRhLm9mZnNldHMucG9wcGVyKTtcbiAgICAgIGRhdGEub2Zmc2V0cy5yZWZlcmVuY2UgPSBnZXRDbGllbnRSZWN0KGRhdGEub2Zmc2V0cy5yZWZlcmVuY2UpO1xuXG4gICAgICBkYXRhID0gZm4oZGF0YSwgbW9kaWZpZXIpO1xuICAgIH1cbiAgfSk7XG5cbiAgcmV0dXJuIGRhdGE7XG59XG5cbi8qKlxuICogVXBkYXRlcyB0aGUgcG9zaXRpb24gb2YgdGhlIHBvcHBlciwgY29tcHV0aW5nIHRoZSBuZXcgb2Zmc2V0cyBhbmQgYXBwbHlpbmdcbiAqIHRoZSBuZXcgc3R5bGUuPGJyIC8+XG4gKiBQcmVmZXIgYHNjaGVkdWxlVXBkYXRlYCBvdmVyIGB1cGRhdGVgIGJlY2F1c2Ugb2YgcGVyZm9ybWFuY2UgcmVhc29ucy5cbiAqIEBtZXRob2RcbiAqIEBtZW1iZXJvZiBQb3BwZXJcbiAqL1xuZnVuY3Rpb24gdXBkYXRlKCkge1xuICAvLyBpZiBwb3BwZXIgaXMgZGVzdHJveWVkLCBkb24ndCBwZXJmb3JtIGFueSBmdXJ0aGVyIHVwZGF0ZVxuICBpZiAodGhpcy5zdGF0ZS5pc0Rlc3Ryb3llZCkge1xuICAgIHJldHVybjtcbiAgfVxuXG4gIHZhciBkYXRhID0ge1xuICAgIGluc3RhbmNlOiB0aGlzLFxuICAgIHN0eWxlczoge30sXG4gICAgYXJyb3dTdHlsZXM6IHt9LFxuICAgIGF0dHJpYnV0ZXM6IHt9LFxuICAgIGZsaXBwZWQ6IGZhbHNlLFxuICAgIG9mZnNldHM6IHt9XG4gIH07XG5cbiAgLy8gY29tcHV0ZSByZWZlcmVuY2UgZWxlbWVudCBvZmZzZXRzXG4gIGRhdGEub2Zmc2V0cy5yZWZlcmVuY2UgPSBnZXRSZWZlcmVuY2VPZmZzZXRzKHRoaXMuc3RhdGUsIHRoaXMucG9wcGVyLCB0aGlzLnJlZmVyZW5jZSwgdGhpcy5vcHRpb25zLnBvc2l0aW9uRml4ZWQpO1xuXG4gIC8vIGNvbXB1dGUgYXV0byBwbGFjZW1lbnQsIHN0b3JlIHBsYWNlbWVudCBpbnNpZGUgdGhlIGRhdGEgb2JqZWN0LFxuICAvLyBtb2RpZmllcnMgd2lsbCBiZSBhYmxlIHRvIGVkaXQgYHBsYWNlbWVudGAgaWYgbmVlZGVkXG4gIC8vIGFuZCByZWZlciB0byBvcmlnaW5hbFBsYWNlbWVudCB0byBrbm93IHRoZSBvcmlnaW5hbCB2YWx1ZVxuICBkYXRhLnBsYWNlbWVudCA9IGNvbXB1dGVBdXRvUGxhY2VtZW50KHRoaXMub3B0aW9ucy5wbGFjZW1lbnQsIGRhdGEub2Zmc2V0cy5yZWZlcmVuY2UsIHRoaXMucG9wcGVyLCB0aGlzLnJlZmVyZW5jZSwgdGhpcy5vcHRpb25zLm1vZGlmaWVycy5mbGlwLmJvdW5kYXJpZXNFbGVtZW50LCB0aGlzLm9wdGlvbnMubW9kaWZpZXJzLmZsaXAucGFkZGluZyk7XG5cbiAgLy8gc3RvcmUgdGhlIGNvbXB1dGVkIHBsYWNlbWVudCBpbnNpZGUgYG9yaWdpbmFsUGxhY2VtZW50YFxuICBkYXRhLm9yaWdpbmFsUGxhY2VtZW50ID0gZGF0YS5wbGFjZW1lbnQ7XG5cbiAgZGF0YS5wb3NpdGlvbkZpeGVkID0gdGhpcy5vcHRpb25zLnBvc2l0aW9uRml4ZWQ7XG5cbiAgLy8gY29tcHV0ZSB0aGUgcG9wcGVyIG9mZnNldHNcbiAgZGF0YS5vZmZzZXRzLnBvcHBlciA9IGdldFBvcHBlck9mZnNldHModGhpcy5wb3BwZXIsIGRhdGEub2Zmc2V0cy5yZWZlcmVuY2UsIGRhdGEucGxhY2VtZW50KTtcblxuICBkYXRhLm9mZnNldHMucG9wcGVyLnBvc2l0aW9uID0gdGhpcy5vcHRpb25zLnBvc2l0aW9uRml4ZWQgPyAnZml4ZWQnIDogJ2Fic29sdXRlJztcblxuICAvLyBydW4gdGhlIG1vZGlmaWVyc1xuICBkYXRhID0gcnVuTW9kaWZpZXJzKHRoaXMubW9kaWZpZXJzLCBkYXRhKTtcblxuICAvLyB0aGUgZmlyc3QgYHVwZGF0ZWAgd2lsbCBjYWxsIGBvbkNyZWF0ZWAgY2FsbGJhY2tcbiAgLy8gdGhlIG90aGVyIG9uZXMgd2lsbCBjYWxsIGBvblVwZGF0ZWAgY2FsbGJhY2tcbiAgaWYgKCF0aGlzLnN0YXRlLmlzQ3JlYXRlZCkge1xuICAgIHRoaXMuc3RhdGUuaXNDcmVhdGVkID0gdHJ1ZTtcbiAgICB0aGlzLm9wdGlvbnMub25DcmVhdGUoZGF0YSk7XG4gIH0gZWxzZSB7XG4gICAgdGhpcy5vcHRpb25zLm9uVXBkYXRlKGRhdGEpO1xuICB9XG59XG5cbi8qKlxuICogSGVscGVyIHVzZWQgdG8ga25vdyBpZiB0aGUgZ2l2ZW4gbW9kaWZpZXIgaXMgZW5hYmxlZC5cbiAqIEBtZXRob2RcbiAqIEBtZW1iZXJvZiBQb3BwZXIuVXRpbHNcbiAqIEByZXR1cm5zIHtCb29sZWFufVxuICovXG5mdW5jdGlvbiBpc01vZGlmaWVyRW5hYmxlZChtb2RpZmllcnMsIG1vZGlmaWVyTmFtZSkge1xuICByZXR1cm4gbW9kaWZpZXJzLnNvbWUoZnVuY3Rpb24gKF9yZWYpIHtcbiAgICB2YXIgbmFtZSA9IF9yZWYubmFtZSxcbiAgICAgICAgZW5hYmxlZCA9IF9yZWYuZW5hYmxlZDtcbiAgICByZXR1cm4gZW5hYmxlZCAmJiBuYW1lID09PSBtb2RpZmllck5hbWU7XG4gIH0pO1xufVxuXG4vKipcbiAqIEdldCB0aGUgcHJlZml4ZWQgc3VwcG9ydGVkIHByb3BlcnR5IG5hbWVcbiAqIEBtZXRob2RcbiAqIEBtZW1iZXJvZiBQb3BwZXIuVXRpbHNcbiAqIEBhcmd1bWVudCB7U3RyaW5nfSBwcm9wZXJ0eSAoY2FtZWxDYXNlKVxuICogQHJldHVybnMge1N0cmluZ30gcHJlZml4ZWQgcHJvcGVydHkgKGNhbWVsQ2FzZSBvciBQYXNjYWxDYXNlLCBkZXBlbmRpbmcgb24gdGhlIHZlbmRvciBwcmVmaXgpXG4gKi9cbmZ1bmN0aW9uIGdldFN1cHBvcnRlZFByb3BlcnR5TmFtZShwcm9wZXJ0eSkge1xuICB2YXIgcHJlZml4ZXMgPSBbZmFsc2UsICdtcycsICdXZWJraXQnLCAnTW96JywgJ08nXTtcbiAgdmFyIHVwcGVyUHJvcCA9IHByb3BlcnR5LmNoYXJBdCgwKS50b1VwcGVyQ2FzZSgpICsgcHJvcGVydHkuc2xpY2UoMSk7XG5cbiAgZm9yICh2YXIgaSA9IDA7IGkgPCBwcmVmaXhlcy5sZW5ndGg7IGkrKykge1xuICAgIHZhciBwcmVmaXggPSBwcmVmaXhlc1tpXTtcbiAgICB2YXIgdG9DaGVjayA9IHByZWZpeCA/ICcnICsgcHJlZml4ICsgdXBwZXJQcm9wIDogcHJvcGVydHk7XG4gICAgaWYgKHR5cGVvZiBkb2N1bWVudC5ib2R5LnN0eWxlW3RvQ2hlY2tdICE9PSAndW5kZWZpbmVkJykge1xuICAgICAgcmV0dXJuIHRvQ2hlY2s7XG4gICAgfVxuICB9XG4gIHJldHVybiBudWxsO1xufVxuXG4vKipcbiAqIERlc3Ryb3lzIHRoZSBwb3BwZXIuXG4gKiBAbWV0aG9kXG4gKiBAbWVtYmVyb2YgUG9wcGVyXG4gKi9cbmZ1bmN0aW9uIGRlc3Ryb3koKSB7XG4gIHRoaXMuc3RhdGUuaXNEZXN0cm95ZWQgPSB0cnVlO1xuXG4gIC8vIHRvdWNoIERPTSBvbmx5IGlmIGBhcHBseVN0eWxlYCBtb2RpZmllciBpcyBlbmFibGVkXG4gIGlmIChpc01vZGlmaWVyRW5hYmxlZCh0aGlzLm1vZGlmaWVycywgJ2FwcGx5U3R5bGUnKSkge1xuICAgIHRoaXMucG9wcGVyLnJlbW92ZUF0dHJpYnV0ZSgneC1wbGFjZW1lbnQnKTtcbiAgICB0aGlzLnBvcHBlci5zdHlsZS5wb3NpdGlvbiA9ICcnO1xuICAgIHRoaXMucG9wcGVyLnN0eWxlLnRvcCA9ICcnO1xuICAgIHRoaXMucG9wcGVyLnN0eWxlLmxlZnQgPSAnJztcbiAgICB0aGlzLnBvcHBlci5zdHlsZS5yaWdodCA9ICcnO1xuICAgIHRoaXMucG9wcGVyLnN0eWxlLmJvdHRvbSA9ICcnO1xuICAgIHRoaXMucG9wcGVyLnN0eWxlLndpbGxDaGFuZ2UgPSAnJztcbiAgICB0aGlzLnBvcHBlci5zdHlsZVtnZXRTdXBwb3J0ZWRQcm9wZXJ0eU5hbWUoJ3RyYW5zZm9ybScpXSA9ICcnO1xuICB9XG5cbiAgdGhpcy5kaXNhYmxlRXZlbnRMaXN0ZW5lcnMoKTtcblxuICAvLyByZW1vdmUgdGhlIHBvcHBlciBpZiB1c2VyIGV4cGxpY2l0bHkgYXNrZWQgZm9yIHRoZSBkZWxldGlvbiBvbiBkZXN0cm95XG4gIC8vIGRvIG5vdCB1c2UgYHJlbW92ZWAgYmVjYXVzZSBJRTExIGRvZXNuJ3Qgc3VwcG9ydCBpdFxuICBpZiAodGhpcy5vcHRpb25zLnJlbW92ZU9uRGVzdHJveSkge1xuICAgIHRoaXMucG9wcGVyLnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQodGhpcy5wb3BwZXIpO1xuICB9XG4gIHJldHVybiB0aGlzO1xufVxuXG4vKipcbiAqIEdldCB0aGUgd2luZG93IGFzc29jaWF0ZWQgd2l0aCB0aGUgZWxlbWVudFxuICogQGFyZ3VtZW50IHtFbGVtZW50fSBlbGVtZW50XG4gKiBAcmV0dXJucyB7V2luZG93fVxuICovXG5mdW5jdGlvbiBnZXRXaW5kb3coZWxlbWVudCkge1xuICB2YXIgb3duZXJEb2N1bWVudCA9IGVsZW1lbnQub3duZXJEb2N1bWVudDtcbiAgcmV0dXJuIG93bmVyRG9jdW1lbnQgPyBvd25lckRvY3VtZW50LmRlZmF1bHRWaWV3IDogd2luZG93O1xufVxuXG5mdW5jdGlvbiBhdHRhY2hUb1Njcm9sbFBhcmVudHMoc2Nyb2xsUGFyZW50LCBldmVudCwgY2FsbGJhY2ssIHNjcm9sbFBhcmVudHMpIHtcbiAgdmFyIGlzQm9keSA9IHNjcm9sbFBhcmVudC5ub2RlTmFtZSA9PT0gJ0JPRFknO1xuICB2YXIgdGFyZ2V0ID0gaXNCb2R5ID8gc2Nyb2xsUGFyZW50Lm93bmVyRG9jdW1lbnQuZGVmYXVsdFZpZXcgOiBzY3JvbGxQYXJlbnQ7XG4gIHRhcmdldC5hZGRFdmVudExpc3RlbmVyKGV2ZW50LCBjYWxsYmFjaywgeyBwYXNzaXZlOiB0cnVlIH0pO1xuXG4gIGlmICghaXNCb2R5KSB7XG4gICAgYXR0YWNoVG9TY3JvbGxQYXJlbnRzKGdldFNjcm9sbFBhcmVudCh0YXJnZXQucGFyZW50Tm9kZSksIGV2ZW50LCBjYWxsYmFjaywgc2Nyb2xsUGFyZW50cyk7XG4gIH1cbiAgc2Nyb2xsUGFyZW50cy5wdXNoKHRhcmdldCk7XG59XG5cbi8qKlxuICogU2V0dXAgbmVlZGVkIGV2ZW50IGxpc3RlbmVycyB1c2VkIHRvIHVwZGF0ZSB0aGUgcG9wcGVyIHBvc2l0aW9uXG4gKiBAbWV0aG9kXG4gKiBAbWVtYmVyb2YgUG9wcGVyLlV0aWxzXG4gKiBAcHJpdmF0ZVxuICovXG5mdW5jdGlvbiBzZXR1cEV2ZW50TGlzdGVuZXJzKHJlZmVyZW5jZSwgb3B0aW9ucywgc3RhdGUsIHVwZGF0ZUJvdW5kKSB7XG4gIC8vIFJlc2l6ZSBldmVudCBsaXN0ZW5lciBvbiB3aW5kb3dcbiAgc3RhdGUudXBkYXRlQm91bmQgPSB1cGRhdGVCb3VuZDtcbiAgZ2V0V2luZG93KHJlZmVyZW5jZSkuYWRkRXZlbnRMaXN0ZW5lcigncmVzaXplJywgc3RhdGUudXBkYXRlQm91bmQsIHsgcGFzc2l2ZTogdHJ1ZSB9KTtcblxuICAvLyBTY3JvbGwgZXZlbnQgbGlzdGVuZXIgb24gc2Nyb2xsIHBhcmVudHNcbiAgdmFyIHNjcm9sbEVsZW1lbnQgPSBnZXRTY3JvbGxQYXJlbnQocmVmZXJlbmNlKTtcbiAgYXR0YWNoVG9TY3JvbGxQYXJlbnRzKHNjcm9sbEVsZW1lbnQsICdzY3JvbGwnLCBzdGF0ZS51cGRhdGVCb3VuZCwgc3RhdGUuc2Nyb2xsUGFyZW50cyk7XG4gIHN0YXRlLnNjcm9sbEVsZW1lbnQgPSBzY3JvbGxFbGVtZW50O1xuICBzdGF0ZS5ldmVudHNFbmFibGVkID0gdHJ1ZTtcblxuICByZXR1cm4gc3RhdGU7XG59XG5cbi8qKlxuICogSXQgd2lsbCBhZGQgcmVzaXplL3Njcm9sbCBldmVudHMgYW5kIHN0YXJ0IHJlY2FsY3VsYXRpbmdcbiAqIHBvc2l0aW9uIG9mIHRoZSBwb3BwZXIgZWxlbWVudCB3aGVuIHRoZXkgYXJlIHRyaWdnZXJlZC5cbiAqIEBtZXRob2RcbiAqIEBtZW1iZXJvZiBQb3BwZXJcbiAqL1xuZnVuY3Rpb24gZW5hYmxlRXZlbnRMaXN0ZW5lcnMoKSB7XG4gIGlmICghdGhpcy5zdGF0ZS5ldmVudHNFbmFibGVkKSB7XG4gICAgdGhpcy5zdGF0ZSA9IHNldHVwRXZlbnRMaXN0ZW5lcnModGhpcy5yZWZlcmVuY2UsIHRoaXMub3B0aW9ucywgdGhpcy5zdGF0ZSwgdGhpcy5zY2hlZHVsZVVwZGF0ZSk7XG4gIH1cbn1cblxuLyoqXG4gKiBSZW1vdmUgZXZlbnQgbGlzdGVuZXJzIHVzZWQgdG8gdXBkYXRlIHRoZSBwb3BwZXIgcG9zaXRpb25cbiAqIEBtZXRob2RcbiAqIEBtZW1iZXJvZiBQb3BwZXIuVXRpbHNcbiAqIEBwcml2YXRlXG4gKi9cbmZ1bmN0aW9uIHJlbW92ZUV2ZW50TGlzdGVuZXJzKHJlZmVyZW5jZSwgc3RhdGUpIHtcbiAgLy8gUmVtb3ZlIHJlc2l6ZSBldmVudCBsaXN0ZW5lciBvbiB3aW5kb3dcbiAgZ2V0V2luZG93KHJlZmVyZW5jZSkucmVtb3ZlRXZlbnRMaXN0ZW5lcigncmVzaXplJywgc3RhdGUudXBkYXRlQm91bmQpO1xuXG4gIC8vIFJlbW92ZSBzY3JvbGwgZXZlbnQgbGlzdGVuZXIgb24gc2Nyb2xsIHBhcmVudHNcbiAgc3RhdGUuc2Nyb2xsUGFyZW50cy5mb3JFYWNoKGZ1bmN0aW9uICh0YXJnZXQpIHtcbiAgICB0YXJnZXQucmVtb3ZlRXZlbnRMaXN0ZW5lcignc2Nyb2xsJywgc3RhdGUudXBkYXRlQm91bmQpO1xuICB9KTtcblxuICAvLyBSZXNldCBzdGF0ZVxuICBzdGF0ZS51cGRhdGVCb3VuZCA9IG51bGw7XG4gIHN0YXRlLnNjcm9sbFBhcmVudHMgPSBbXTtcbiAgc3RhdGUuc2Nyb2xsRWxlbWVudCA9IG51bGw7XG4gIHN0YXRlLmV2ZW50c0VuYWJsZWQgPSBmYWxzZTtcbiAgcmV0dXJuIHN0YXRlO1xufVxuXG4vKipcbiAqIEl0IHdpbGwgcmVtb3ZlIHJlc2l6ZS9zY3JvbGwgZXZlbnRzIGFuZCB3b24ndCByZWNhbGN1bGF0ZSBwb3BwZXIgcG9zaXRpb25cbiAqIHdoZW4gdGhleSBhcmUgdHJpZ2dlcmVkLiBJdCBhbHNvIHdvbid0IHRyaWdnZXIgYG9uVXBkYXRlYCBjYWxsYmFjayBhbnltb3JlLFxuICogdW5sZXNzIHlvdSBjYWxsIGB1cGRhdGVgIG1ldGhvZCBtYW51YWxseS5cbiAqIEBtZXRob2RcbiAqIEBtZW1iZXJvZiBQb3BwZXJcbiAqL1xuZnVuY3Rpb24gZGlzYWJsZUV2ZW50TGlzdGVuZXJzKCkge1xuICBpZiAodGhpcy5zdGF0ZS5ldmVudHNFbmFibGVkKSB7XG4gICAgY2FuY2VsQW5pbWF0aW9uRnJhbWUodGhpcy5zY2hlZHVsZVVwZGF0ZSk7XG4gICAgdGhpcy5zdGF0ZSA9IHJlbW92ZUV2ZW50TGlzdGVuZXJzKHRoaXMucmVmZXJlbmNlLCB0aGlzLnN0YXRlKTtcbiAgfVxufVxuXG4vKipcbiAqIFRlbGxzIGlmIGEgZ2l2ZW4gaW5wdXQgaXMgYSBudW1iZXJcbiAqIEBtZXRob2RcbiAqIEBtZW1iZXJvZiBQb3BwZXIuVXRpbHNcbiAqIEBwYXJhbSB7Kn0gaW5wdXQgdG8gY2hlY2tcbiAqIEByZXR1cm4ge0Jvb2xlYW59XG4gKi9cbmZ1bmN0aW9uIGlzTnVtZXJpYyhuKSB7XG4gIHJldHVybiBuICE9PSAnJyAmJiAhaXNOYU4ocGFyc2VGbG9hdChuKSkgJiYgaXNGaW5pdGUobik7XG59XG5cbi8qKlxuICogU2V0IHRoZSBzdHlsZSB0byB0aGUgZ2l2ZW4gcG9wcGVyXG4gKiBAbWV0aG9kXG4gKiBAbWVtYmVyb2YgUG9wcGVyLlV0aWxzXG4gKiBAYXJndW1lbnQge0VsZW1lbnR9IGVsZW1lbnQgLSBFbGVtZW50IHRvIGFwcGx5IHRoZSBzdHlsZSB0b1xuICogQGFyZ3VtZW50IHtPYmplY3R9IHN0eWxlc1xuICogT2JqZWN0IHdpdGggYSBsaXN0IG9mIHByb3BlcnRpZXMgYW5kIHZhbHVlcyB3aGljaCB3aWxsIGJlIGFwcGxpZWQgdG8gdGhlIGVsZW1lbnRcbiAqL1xuZnVuY3Rpb24gc2V0U3R5bGVzKGVsZW1lbnQsIHN0eWxlcykge1xuICBPYmplY3Qua2V5cyhzdHlsZXMpLmZvckVhY2goZnVuY3Rpb24gKHByb3ApIHtcbiAgICB2YXIgdW5pdCA9ICcnO1xuICAgIC8vIGFkZCB1bml0IGlmIHRoZSB2YWx1ZSBpcyBudW1lcmljIGFuZCBpcyBvbmUgb2YgdGhlIGZvbGxvd2luZ1xuICAgIGlmIChbJ3dpZHRoJywgJ2hlaWdodCcsICd0b3AnLCAncmlnaHQnLCAnYm90dG9tJywgJ2xlZnQnXS5pbmRleE9mKHByb3ApICE9PSAtMSAmJiBpc051bWVyaWMoc3R5bGVzW3Byb3BdKSkge1xuICAgICAgdW5pdCA9ICdweCc7XG4gICAgfVxuICAgIGVsZW1lbnQuc3R5bGVbcHJvcF0gPSBzdHlsZXNbcHJvcF0gKyB1bml0O1xuICB9KTtcbn1cblxuLyoqXG4gKiBTZXQgdGhlIGF0dHJpYnV0ZXMgdG8gdGhlIGdpdmVuIHBvcHBlclxuICogQG1ldGhvZFxuICogQG1lbWJlcm9mIFBvcHBlci5VdGlsc1xuICogQGFyZ3VtZW50IHtFbGVtZW50fSBlbGVtZW50IC0gRWxlbWVudCB0byBhcHBseSB0aGUgYXR0cmlidXRlcyB0b1xuICogQGFyZ3VtZW50IHtPYmplY3R9IHN0eWxlc1xuICogT2JqZWN0IHdpdGggYSBsaXN0IG9mIHByb3BlcnRpZXMgYW5kIHZhbHVlcyB3aGljaCB3aWxsIGJlIGFwcGxpZWQgdG8gdGhlIGVsZW1lbnRcbiAqL1xuZnVuY3Rpb24gc2V0QXR0cmlidXRlcyhlbGVtZW50LCBhdHRyaWJ1dGVzKSB7XG4gIE9iamVjdC5rZXlzKGF0dHJpYnV0ZXMpLmZvckVhY2goZnVuY3Rpb24gKHByb3ApIHtcbiAgICB2YXIgdmFsdWUgPSBhdHRyaWJ1dGVzW3Byb3BdO1xuICAgIGlmICh2YWx1ZSAhPT0gZmFsc2UpIHtcbiAgICAgIGVsZW1lbnQuc2V0QXR0cmlidXRlKHByb3AsIGF0dHJpYnV0ZXNbcHJvcF0pO1xuICAgIH0gZWxzZSB7XG4gICAgICBlbGVtZW50LnJlbW92ZUF0dHJpYnV0ZShwcm9wKTtcbiAgICB9XG4gIH0pO1xufVxuXG4vKipcbiAqIEBmdW5jdGlvblxuICogQG1lbWJlcm9mIE1vZGlmaWVyc1xuICogQGFyZ3VtZW50IHtPYmplY3R9IGRhdGEgLSBUaGUgZGF0YSBvYmplY3QgZ2VuZXJhdGVkIGJ5IGB1cGRhdGVgIG1ldGhvZFxuICogQGFyZ3VtZW50IHtPYmplY3R9IGRhdGEuc3R5bGVzIC0gTGlzdCBvZiBzdHlsZSBwcm9wZXJ0aWVzIC0gdmFsdWVzIHRvIGFwcGx5IHRvIHBvcHBlciBlbGVtZW50XG4gKiBAYXJndW1lbnQge09iamVjdH0gZGF0YS5hdHRyaWJ1dGVzIC0gTGlzdCBvZiBhdHRyaWJ1dGUgcHJvcGVydGllcyAtIHZhbHVlcyB0byBhcHBseSB0byBwb3BwZXIgZWxlbWVudFxuICogQGFyZ3VtZW50IHtPYmplY3R9IG9wdGlvbnMgLSBNb2RpZmllcnMgY29uZmlndXJhdGlvbiBhbmQgb3B0aW9uc1xuICogQHJldHVybnMge09iamVjdH0gVGhlIHNhbWUgZGF0YSBvYmplY3RcbiAqL1xuZnVuY3Rpb24gYXBwbHlTdHlsZShkYXRhKSB7XG4gIC8vIGFueSBwcm9wZXJ0eSBwcmVzZW50IGluIGBkYXRhLnN0eWxlc2Agd2lsbCBiZSBhcHBsaWVkIHRvIHRoZSBwb3BwZXIsXG4gIC8vIGluIHRoaXMgd2F5IHdlIGNhbiBtYWtlIHRoZSAzcmQgcGFydHkgbW9kaWZpZXJzIGFkZCBjdXN0b20gc3R5bGVzIHRvIGl0XG4gIC8vIEJlIGF3YXJlLCBtb2RpZmllcnMgY291bGQgb3ZlcnJpZGUgdGhlIHByb3BlcnRpZXMgZGVmaW5lZCBpbiB0aGUgcHJldmlvdXNcbiAgLy8gbGluZXMgb2YgdGhpcyBtb2RpZmllciFcbiAgc2V0U3R5bGVzKGRhdGEuaW5zdGFuY2UucG9wcGVyLCBkYXRhLnN0eWxlcyk7XG5cbiAgLy8gYW55IHByb3BlcnR5IHByZXNlbnQgaW4gYGRhdGEuYXR0cmlidXRlc2Agd2lsbCBiZSBhcHBsaWVkIHRvIHRoZSBwb3BwZXIsXG4gIC8vIHRoZXkgd2lsbCBiZSBzZXQgYXMgSFRNTCBhdHRyaWJ1dGVzIG9mIHRoZSBlbGVtZW50XG4gIHNldEF0dHJpYnV0ZXMoZGF0YS5pbnN0YW5jZS5wb3BwZXIsIGRhdGEuYXR0cmlidXRlcyk7XG5cbiAgLy8gaWYgYXJyb3dFbGVtZW50IGlzIGRlZmluZWQgYW5kIGFycm93U3R5bGVzIGhhcyBzb21lIHByb3BlcnRpZXNcbiAgaWYgKGRhdGEuYXJyb3dFbGVtZW50ICYmIE9iamVjdC5rZXlzKGRhdGEuYXJyb3dTdHlsZXMpLmxlbmd0aCkge1xuICAgIHNldFN0eWxlcyhkYXRhLmFycm93RWxlbWVudCwgZGF0YS5hcnJvd1N0eWxlcyk7XG4gIH1cblxuICByZXR1cm4gZGF0YTtcbn1cblxuLyoqXG4gKiBTZXQgdGhlIHgtcGxhY2VtZW50IGF0dHJpYnV0ZSBiZWZvcmUgZXZlcnl0aGluZyBlbHNlIGJlY2F1c2UgaXQgY291bGQgYmUgdXNlZFxuICogdG8gYWRkIG1hcmdpbnMgdG8gdGhlIHBvcHBlciBtYXJnaW5zIG5lZWRzIHRvIGJlIGNhbGN1bGF0ZWQgdG8gZ2V0IHRoZVxuICogY29ycmVjdCBwb3BwZXIgb2Zmc2V0cy5cbiAqIEBtZXRob2RcbiAqIEBtZW1iZXJvZiBQb3BwZXIubW9kaWZpZXJzXG4gKiBAcGFyYW0ge0hUTUxFbGVtZW50fSByZWZlcmVuY2UgLSBUaGUgcmVmZXJlbmNlIGVsZW1lbnQgdXNlZCB0byBwb3NpdGlvbiB0aGUgcG9wcGVyXG4gKiBAcGFyYW0ge0hUTUxFbGVtZW50fSBwb3BwZXIgLSBUaGUgSFRNTCBlbGVtZW50IHVzZWQgYXMgcG9wcGVyXG4gKiBAcGFyYW0ge09iamVjdH0gb3B0aW9ucyAtIFBvcHBlci5qcyBvcHRpb25zXG4gKi9cbmZ1bmN0aW9uIGFwcGx5U3R5bGVPbkxvYWQocmVmZXJlbmNlLCBwb3BwZXIsIG9wdGlvbnMsIG1vZGlmaWVyT3B0aW9ucywgc3RhdGUpIHtcbiAgLy8gY29tcHV0ZSByZWZlcmVuY2UgZWxlbWVudCBvZmZzZXRzXG4gIHZhciByZWZlcmVuY2VPZmZzZXRzID0gZ2V0UmVmZXJlbmNlT2Zmc2V0cyhzdGF0ZSwgcG9wcGVyLCByZWZlcmVuY2UsIG9wdGlvbnMucG9zaXRpb25GaXhlZCk7XG5cbiAgLy8gY29tcHV0ZSBhdXRvIHBsYWNlbWVudCwgc3RvcmUgcGxhY2VtZW50IGluc2lkZSB0aGUgZGF0YSBvYmplY3QsXG4gIC8vIG1vZGlmaWVycyB3aWxsIGJlIGFibGUgdG8gZWRpdCBgcGxhY2VtZW50YCBpZiBuZWVkZWRcbiAgLy8gYW5kIHJlZmVyIHRvIG9yaWdpbmFsUGxhY2VtZW50IHRvIGtub3cgdGhlIG9yaWdpbmFsIHZhbHVlXG4gIHZhciBwbGFjZW1lbnQgPSBjb21wdXRlQXV0b1BsYWNlbWVudChvcHRpb25zLnBsYWNlbWVudCwgcmVmZXJlbmNlT2Zmc2V0cywgcG9wcGVyLCByZWZlcmVuY2UsIG9wdGlvbnMubW9kaWZpZXJzLmZsaXAuYm91bmRhcmllc0VsZW1lbnQsIG9wdGlvbnMubW9kaWZpZXJzLmZsaXAucGFkZGluZyk7XG5cbiAgcG9wcGVyLnNldEF0dHJpYnV0ZSgneC1wbGFjZW1lbnQnLCBwbGFjZW1lbnQpO1xuXG4gIC8vIEFwcGx5IGBwb3NpdGlvbmAgdG8gcG9wcGVyIGJlZm9yZSBhbnl0aGluZyBlbHNlIGJlY2F1c2VcbiAgLy8gd2l0aG91dCB0aGUgcG9zaXRpb24gYXBwbGllZCB3ZSBjYW4ndCBndWFyYW50ZWUgY29ycmVjdCBjb21wdXRhdGlvbnNcbiAgc2V0U3R5bGVzKHBvcHBlciwgeyBwb3NpdGlvbjogb3B0aW9ucy5wb3NpdGlvbkZpeGVkID8gJ2ZpeGVkJyA6ICdhYnNvbHV0ZScgfSk7XG5cbiAgcmV0dXJuIG9wdGlvbnM7XG59XG5cbi8qKlxuICogQGZ1bmN0aW9uXG4gKiBAbWVtYmVyb2YgUG9wcGVyLlV0aWxzXG4gKiBAYXJndW1lbnQge09iamVjdH0gZGF0YSAtIFRoZSBkYXRhIG9iamVjdCBnZW5lcmF0ZWQgYnkgYHVwZGF0ZWAgbWV0aG9kXG4gKiBAYXJndW1lbnQge0Jvb2xlYW59IHNob3VsZFJvdW5kIC0gSWYgdGhlIG9mZnNldHMgc2hvdWxkIGJlIHJvdW5kZWQgYXQgYWxsXG4gKiBAcmV0dXJucyB7T2JqZWN0fSBUaGUgcG9wcGVyJ3MgcG9zaXRpb24gb2Zmc2V0cyByb3VuZGVkXG4gKlxuICogVGhlIHRhbGUgb2YgcGl4ZWwtcGVyZmVjdCBwb3NpdGlvbmluZy4gSXQncyBzdGlsbCBub3QgMTAwJSBwZXJmZWN0LCBidXQgYXNcbiAqIGdvb2QgYXMgaXQgY2FuIGJlIHdpdGhpbiByZWFzb24uXG4gKiBEaXNjdXNzaW9uIGhlcmU6IGh0dHBzOi8vZ2l0aHViLmNvbS9GZXpWcmFzdGEvcG9wcGVyLmpzL3B1bGwvNzE1XG4gKlxuICogTG93IERQSSBzY3JlZW5zIGNhdXNlIGEgcG9wcGVyIHRvIGJlIGJsdXJyeSBpZiBub3QgdXNpbmcgZnVsbCBwaXhlbHMgKFNhZmFyaVxuICogYXMgd2VsbCBvbiBIaWdoIERQSSBzY3JlZW5zKS5cbiAqXG4gKiBGaXJlZm94IHByZWZlcnMgbm8gcm91bmRpbmcgZm9yIHBvc2l0aW9uaW5nIGFuZCBkb2VzIG5vdCBoYXZlIGJsdXJyaW5lc3Mgb25cbiAqIGhpZ2ggRFBJIHNjcmVlbnMuXG4gKlxuICogT25seSBob3Jpem9udGFsIHBsYWNlbWVudCBhbmQgbGVmdC9yaWdodCB2YWx1ZXMgbmVlZCB0byBiZSBjb25zaWRlcmVkLlxuICovXG5mdW5jdGlvbiBnZXRSb3VuZGVkT2Zmc2V0cyhkYXRhLCBzaG91bGRSb3VuZCkge1xuICB2YXIgX2RhdGEkb2Zmc2V0cyA9IGRhdGEub2Zmc2V0cyxcbiAgICAgIHBvcHBlciA9IF9kYXRhJG9mZnNldHMucG9wcGVyLFxuICAgICAgcmVmZXJlbmNlID0gX2RhdGEkb2Zmc2V0cy5yZWZlcmVuY2U7XG4gIHZhciByb3VuZCA9IE1hdGgucm91bmQsXG4gICAgICBmbG9vciA9IE1hdGguZmxvb3I7XG5cbiAgdmFyIG5vUm91bmQgPSBmdW5jdGlvbiBub1JvdW5kKHYpIHtcbiAgICByZXR1cm4gdjtcbiAgfTtcblxuICB2YXIgcmVmZXJlbmNlV2lkdGggPSByb3VuZChyZWZlcmVuY2Uud2lkdGgpO1xuICB2YXIgcG9wcGVyV2lkdGggPSByb3VuZChwb3BwZXIud2lkdGgpO1xuXG4gIHZhciBpc1ZlcnRpY2FsID0gWydsZWZ0JywgJ3JpZ2h0J10uaW5kZXhPZihkYXRhLnBsYWNlbWVudCkgIT09IC0xO1xuICB2YXIgaXNWYXJpYXRpb24gPSBkYXRhLnBsYWNlbWVudC5pbmRleE9mKCctJykgIT09IC0xO1xuICB2YXIgc2FtZVdpZHRoUGFyaXR5ID0gcmVmZXJlbmNlV2lkdGggJSAyID09PSBwb3BwZXJXaWR0aCAlIDI7XG4gIHZhciBib3RoT2RkV2lkdGggPSByZWZlcmVuY2VXaWR0aCAlIDIgPT09IDEgJiYgcG9wcGVyV2lkdGggJSAyID09PSAxO1xuXG4gIHZhciBob3Jpem9udGFsVG9JbnRlZ2VyID0gIXNob3VsZFJvdW5kID8gbm9Sb3VuZCA6IGlzVmVydGljYWwgfHwgaXNWYXJpYXRpb24gfHwgc2FtZVdpZHRoUGFyaXR5ID8gcm91bmQgOiBmbG9vcjtcbiAgdmFyIHZlcnRpY2FsVG9JbnRlZ2VyID0gIXNob3VsZFJvdW5kID8gbm9Sb3VuZCA6IHJvdW5kO1xuXG4gIHJldHVybiB7XG4gICAgbGVmdDogaG9yaXpvbnRhbFRvSW50ZWdlcihib3RoT2RkV2lkdGggJiYgIWlzVmFyaWF0aW9uICYmIHNob3VsZFJvdW5kID8gcG9wcGVyLmxlZnQgLSAxIDogcG9wcGVyLmxlZnQpLFxuICAgIHRvcDogdmVydGljYWxUb0ludGVnZXIocG9wcGVyLnRvcCksXG4gICAgYm90dG9tOiB2ZXJ0aWNhbFRvSW50ZWdlcihwb3BwZXIuYm90dG9tKSxcbiAgICByaWdodDogaG9yaXpvbnRhbFRvSW50ZWdlcihwb3BwZXIucmlnaHQpXG4gIH07XG59XG5cbnZhciBpc0ZpcmVmb3ggPSBpc0Jyb3dzZXIgJiYgL0ZpcmVmb3gvaS50ZXN0KG5hdmlnYXRvci51c2VyQWdlbnQpO1xuXG4vKipcbiAqIEBmdW5jdGlvblxuICogQG1lbWJlcm9mIE1vZGlmaWVyc1xuICogQGFyZ3VtZW50IHtPYmplY3R9IGRhdGEgLSBUaGUgZGF0YSBvYmplY3QgZ2VuZXJhdGVkIGJ5IGB1cGRhdGVgIG1ldGhvZFxuICogQGFyZ3VtZW50IHtPYmplY3R9IG9wdGlvbnMgLSBNb2RpZmllcnMgY29uZmlndXJhdGlvbiBhbmQgb3B0aW9uc1xuICogQHJldHVybnMge09iamVjdH0gVGhlIGRhdGEgb2JqZWN0LCBwcm9wZXJseSBtb2RpZmllZFxuICovXG5mdW5jdGlvbiBjb21wdXRlU3R5bGUoZGF0YSwgb3B0aW9ucykge1xuICB2YXIgeCA9IG9wdGlvbnMueCxcbiAgICAgIHkgPSBvcHRpb25zLnk7XG4gIHZhciBwb3BwZXIgPSBkYXRhLm9mZnNldHMucG9wcGVyO1xuXG4gIC8vIFJlbW92ZSB0aGlzIGxlZ2FjeSBzdXBwb3J0IGluIFBvcHBlci5qcyB2MlxuXG4gIHZhciBsZWdhY3lHcHVBY2NlbGVyYXRpb25PcHRpb24gPSBmaW5kKGRhdGEuaW5zdGFuY2UubW9kaWZpZXJzLCBmdW5jdGlvbiAobW9kaWZpZXIpIHtcbiAgICByZXR1cm4gbW9kaWZpZXIubmFtZSA9PT0gJ2FwcGx5U3R5bGUnO1xuICB9KS5ncHVBY2NlbGVyYXRpb247XG4gIGlmIChsZWdhY3lHcHVBY2NlbGVyYXRpb25PcHRpb24gIT09IHVuZGVmaW5lZCkge1xuICAgIGNvbnNvbGUud2FybignV0FSTklORzogYGdwdUFjY2VsZXJhdGlvbmAgb3B0aW9uIG1vdmVkIHRvIGBjb21wdXRlU3R5bGVgIG1vZGlmaWVyIGFuZCB3aWxsIG5vdCBiZSBzdXBwb3J0ZWQgaW4gZnV0dXJlIHZlcnNpb25zIG9mIFBvcHBlci5qcyEnKTtcbiAgfVxuICB2YXIgZ3B1QWNjZWxlcmF0aW9uID0gbGVnYWN5R3B1QWNjZWxlcmF0aW9uT3B0aW9uICE9PSB1bmRlZmluZWQgPyBsZWdhY3lHcHVBY2NlbGVyYXRpb25PcHRpb24gOiBvcHRpb25zLmdwdUFjY2VsZXJhdGlvbjtcblxuICB2YXIgb2Zmc2V0UGFyZW50ID0gZ2V0T2Zmc2V0UGFyZW50KGRhdGEuaW5zdGFuY2UucG9wcGVyKTtcbiAgdmFyIG9mZnNldFBhcmVudFJlY3QgPSBnZXRCb3VuZGluZ0NsaWVudFJlY3Qob2Zmc2V0UGFyZW50KTtcblxuICAvLyBTdHlsZXNcbiAgdmFyIHN0eWxlcyA9IHtcbiAgICBwb3NpdGlvbjogcG9wcGVyLnBvc2l0aW9uXG4gIH07XG5cbiAgdmFyIG9mZnNldHMgPSBnZXRSb3VuZGVkT2Zmc2V0cyhkYXRhLCB3aW5kb3cuZGV2aWNlUGl4ZWxSYXRpbyA8IDIgfHwgIWlzRmlyZWZveCk7XG5cbiAgdmFyIHNpZGVBID0geCA9PT0gJ2JvdHRvbScgPyAndG9wJyA6ICdib3R0b20nO1xuICB2YXIgc2lkZUIgPSB5ID09PSAncmlnaHQnID8gJ2xlZnQnIDogJ3JpZ2h0JztcblxuICAvLyBpZiBncHVBY2NlbGVyYXRpb24gaXMgc2V0IHRvIGB0cnVlYCBhbmQgdHJhbnNmb3JtIGlzIHN1cHBvcnRlZCxcbiAgLy8gIHdlIHVzZSBgdHJhbnNsYXRlM2RgIHRvIGFwcGx5IHRoZSBwb3NpdGlvbiB0byB0aGUgcG9wcGVyIHdlXG4gIC8vIGF1dG9tYXRpY2FsbHkgdXNlIHRoZSBzdXBwb3J0ZWQgcHJlZml4ZWQgdmVyc2lvbiBpZiBuZWVkZWRcbiAgdmFyIHByZWZpeGVkUHJvcGVydHkgPSBnZXRTdXBwb3J0ZWRQcm9wZXJ0eU5hbWUoJ3RyYW5zZm9ybScpO1xuXG4gIC8vIG5vdywgbGV0J3MgbWFrZSBhIHN0ZXAgYmFjayBhbmQgbG9vayBhdCB0aGlzIGNvZGUgY2xvc2VseSAod3RmPylcbiAgLy8gSWYgdGhlIGNvbnRlbnQgb2YgdGhlIHBvcHBlciBncm93cyBvbmNlIGl0J3MgYmVlbiBwb3NpdGlvbmVkLCBpdFxuICAvLyBtYXkgaGFwcGVuIHRoYXQgdGhlIHBvcHBlciBnZXRzIG1pc3BsYWNlZCBiZWNhdXNlIG9mIHRoZSBuZXcgY29udGVudFxuICAvLyBvdmVyZmxvd2luZyBpdHMgcmVmZXJlbmNlIGVsZW1lbnRcbiAgLy8gVG8gYXZvaWQgdGhpcyBwcm9ibGVtLCB3ZSBwcm92aWRlIHR3byBvcHRpb25zICh4IGFuZCB5KSwgd2hpY2ggYWxsb3dcbiAgLy8gdGhlIGNvbnN1bWVyIHRvIGRlZmluZSB0aGUgb2Zmc2V0IG9yaWdpbi5cbiAgLy8gSWYgd2UgcG9zaXRpb24gYSBwb3BwZXIgb24gdG9wIG9mIGEgcmVmZXJlbmNlIGVsZW1lbnQsIHdlIGNhbiBzZXRcbiAgLy8gYHhgIHRvIGB0b3BgIHRvIG1ha2UgdGhlIHBvcHBlciBncm93IHRvd2FyZHMgaXRzIHRvcCBpbnN0ZWFkIG9mXG4gIC8vIGl0cyBib3R0b20uXG4gIHZhciBsZWZ0ID0gdm9pZCAwLFxuICAgICAgdG9wID0gdm9pZCAwO1xuICBpZiAoc2lkZUEgPT09ICdib3R0b20nKSB7XG4gICAgLy8gd2hlbiBvZmZzZXRQYXJlbnQgaXMgPGh0bWw+IHRoZSBwb3NpdGlvbmluZyBpcyByZWxhdGl2ZSB0byB0aGUgYm90dG9tIG9mIHRoZSBzY3JlZW4gKGV4Y2x1ZGluZyB0aGUgc2Nyb2xsYmFyKVxuICAgIC8vIGFuZCBub3QgdGhlIGJvdHRvbSBvZiB0aGUgaHRtbCBlbGVtZW50XG4gICAgaWYgKG9mZnNldFBhcmVudC5ub2RlTmFtZSA9PT0gJ0hUTUwnKSB7XG4gICAgICB0b3AgPSAtb2Zmc2V0UGFyZW50LmNsaWVudEhlaWdodCArIG9mZnNldHMuYm90dG9tO1xuICAgIH0gZWxzZSB7XG4gICAgICB0b3AgPSAtb2Zmc2V0UGFyZW50UmVjdC5oZWlnaHQgKyBvZmZzZXRzLmJvdHRvbTtcbiAgICB9XG4gIH0gZWxzZSB7XG4gICAgdG9wID0gb2Zmc2V0cy50b3A7XG4gIH1cbiAgaWYgKHNpZGVCID09PSAncmlnaHQnKSB7XG4gICAgaWYgKG9mZnNldFBhcmVudC5ub2RlTmFtZSA9PT0gJ0hUTUwnKSB7XG4gICAgICBsZWZ0ID0gLW9mZnNldFBhcmVudC5jbGllbnRXaWR0aCArIG9mZnNldHMucmlnaHQ7XG4gICAgfSBlbHNlIHtcbiAgICAgIGxlZnQgPSAtb2Zmc2V0UGFyZW50UmVjdC53aWR0aCArIG9mZnNldHMucmlnaHQ7XG4gICAgfVxuICB9IGVsc2Uge1xuICAgIGxlZnQgPSBvZmZzZXRzLmxlZnQ7XG4gIH1cbiAgaWYgKGdwdUFjY2VsZXJhdGlvbiAmJiBwcmVmaXhlZFByb3BlcnR5KSB7XG4gICAgc3R5bGVzW3ByZWZpeGVkUHJvcGVydHldID0gJ3RyYW5zbGF0ZTNkKCcgKyBsZWZ0ICsgJ3B4LCAnICsgdG9wICsgJ3B4LCAwKSc7XG4gICAgc3R5bGVzW3NpZGVBXSA9IDA7XG4gICAgc3R5bGVzW3NpZGVCXSA9IDA7XG4gICAgc3R5bGVzLndpbGxDaGFuZ2UgPSAndHJhbnNmb3JtJztcbiAgfSBlbHNlIHtcbiAgICAvLyBvdGh3ZXJpc2UsIHdlIHVzZSB0aGUgc3RhbmRhcmQgYHRvcGAsIGBsZWZ0YCwgYGJvdHRvbWAgYW5kIGByaWdodGAgcHJvcGVydGllc1xuICAgIHZhciBpbnZlcnRUb3AgPSBzaWRlQSA9PT0gJ2JvdHRvbScgPyAtMSA6IDE7XG4gICAgdmFyIGludmVydExlZnQgPSBzaWRlQiA9PT0gJ3JpZ2h0JyA/IC0xIDogMTtcbiAgICBzdHlsZXNbc2lkZUFdID0gdG9wICogaW52ZXJ0VG9wO1xuICAgIHN0eWxlc1tzaWRlQl0gPSBsZWZ0ICogaW52ZXJ0TGVmdDtcbiAgICBzdHlsZXMud2lsbENoYW5nZSA9IHNpZGVBICsgJywgJyArIHNpZGVCO1xuICB9XG5cbiAgLy8gQXR0cmlidXRlc1xuICB2YXIgYXR0cmlidXRlcyA9IHtcbiAgICAneC1wbGFjZW1lbnQnOiBkYXRhLnBsYWNlbWVudFxuICB9O1xuXG4gIC8vIFVwZGF0ZSBgZGF0YWAgYXR0cmlidXRlcywgc3R5bGVzIGFuZCBhcnJvd1N0eWxlc1xuICBkYXRhLmF0dHJpYnV0ZXMgPSBfZXh0ZW5kcyh7fSwgYXR0cmlidXRlcywgZGF0YS5hdHRyaWJ1dGVzKTtcbiAgZGF0YS5zdHlsZXMgPSBfZXh0ZW5kcyh7fSwgc3R5bGVzLCBkYXRhLnN0eWxlcyk7XG4gIGRhdGEuYXJyb3dTdHlsZXMgPSBfZXh0ZW5kcyh7fSwgZGF0YS5vZmZzZXRzLmFycm93LCBkYXRhLmFycm93U3R5bGVzKTtcblxuICByZXR1cm4gZGF0YTtcbn1cblxuLyoqXG4gKiBIZWxwZXIgdXNlZCB0byBrbm93IGlmIHRoZSBnaXZlbiBtb2RpZmllciBkZXBlbmRzIGZyb20gYW5vdGhlciBvbmUuPGJyIC8+XG4gKiBJdCBjaGVja3MgaWYgdGhlIG5lZWRlZCBtb2RpZmllciBpcyBsaXN0ZWQgYW5kIGVuYWJsZWQuXG4gKiBAbWV0aG9kXG4gKiBAbWVtYmVyb2YgUG9wcGVyLlV0aWxzXG4gKiBAcGFyYW0ge0FycmF5fSBtb2RpZmllcnMgLSBsaXN0IG9mIG1vZGlmaWVyc1xuICogQHBhcmFtIHtTdHJpbmd9IHJlcXVlc3RpbmdOYW1lIC0gbmFtZSBvZiByZXF1ZXN0aW5nIG1vZGlmaWVyXG4gKiBAcGFyYW0ge1N0cmluZ30gcmVxdWVzdGVkTmFtZSAtIG5hbWUgb2YgcmVxdWVzdGVkIG1vZGlmaWVyXG4gKiBAcmV0dXJucyB7Qm9vbGVhbn1cbiAqL1xuZnVuY3Rpb24gaXNNb2RpZmllclJlcXVpcmVkKG1vZGlmaWVycywgcmVxdWVzdGluZ05hbWUsIHJlcXVlc3RlZE5hbWUpIHtcbiAgdmFyIHJlcXVlc3RpbmcgPSBmaW5kKG1vZGlmaWVycywgZnVuY3Rpb24gKF9yZWYpIHtcbiAgICB2YXIgbmFtZSA9IF9yZWYubmFtZTtcbiAgICByZXR1cm4gbmFtZSA9PT0gcmVxdWVzdGluZ05hbWU7XG4gIH0pO1xuXG4gIHZhciBpc1JlcXVpcmVkID0gISFyZXF1ZXN0aW5nICYmIG1vZGlmaWVycy5zb21lKGZ1bmN0aW9uIChtb2RpZmllcikge1xuICAgIHJldHVybiBtb2RpZmllci5uYW1lID09PSByZXF1ZXN0ZWROYW1lICYmIG1vZGlmaWVyLmVuYWJsZWQgJiYgbW9kaWZpZXIub3JkZXIgPCByZXF1ZXN0aW5nLm9yZGVyO1xuICB9KTtcblxuICBpZiAoIWlzUmVxdWlyZWQpIHtcbiAgICB2YXIgX3JlcXVlc3RpbmcgPSAnYCcgKyByZXF1ZXN0aW5nTmFtZSArICdgJztcbiAgICB2YXIgcmVxdWVzdGVkID0gJ2AnICsgcmVxdWVzdGVkTmFtZSArICdgJztcbiAgICBjb25zb2xlLndhcm4ocmVxdWVzdGVkICsgJyBtb2RpZmllciBpcyByZXF1aXJlZCBieSAnICsgX3JlcXVlc3RpbmcgKyAnIG1vZGlmaWVyIGluIG9yZGVyIHRvIHdvcmssIGJlIHN1cmUgdG8gaW5jbHVkZSBpdCBiZWZvcmUgJyArIF9yZXF1ZXN0aW5nICsgJyEnKTtcbiAgfVxuICByZXR1cm4gaXNSZXF1aXJlZDtcbn1cblxuLyoqXG4gKiBAZnVuY3Rpb25cbiAqIEBtZW1iZXJvZiBNb2RpZmllcnNcbiAqIEBhcmd1bWVudCB7T2JqZWN0fSBkYXRhIC0gVGhlIGRhdGEgb2JqZWN0IGdlbmVyYXRlZCBieSB1cGRhdGUgbWV0aG9kXG4gKiBAYXJndW1lbnQge09iamVjdH0gb3B0aW9ucyAtIE1vZGlmaWVycyBjb25maWd1cmF0aW9uIGFuZCBvcHRpb25zXG4gKiBAcmV0dXJucyB7T2JqZWN0fSBUaGUgZGF0YSBvYmplY3QsIHByb3Blcmx5IG1vZGlmaWVkXG4gKi9cbmZ1bmN0aW9uIGFycm93KGRhdGEsIG9wdGlvbnMpIHtcbiAgdmFyIF9kYXRhJG9mZnNldHMkYXJyb3c7XG5cbiAgLy8gYXJyb3cgZGVwZW5kcyBvbiBrZWVwVG9nZXRoZXIgaW4gb3JkZXIgdG8gd29ya1xuICBpZiAoIWlzTW9kaWZpZXJSZXF1aXJlZChkYXRhLmluc3RhbmNlLm1vZGlmaWVycywgJ2Fycm93JywgJ2tlZXBUb2dldGhlcicpKSB7XG4gICAgcmV0dXJuIGRhdGE7XG4gIH1cblxuICB2YXIgYXJyb3dFbGVtZW50ID0gb3B0aW9ucy5lbGVtZW50O1xuXG4gIC8vIGlmIGFycm93RWxlbWVudCBpcyBhIHN0cmluZywgc3VwcG9zZSBpdCdzIGEgQ1NTIHNlbGVjdG9yXG4gIGlmICh0eXBlb2YgYXJyb3dFbGVtZW50ID09PSAnc3RyaW5nJykge1xuICAgIGFycm93RWxlbWVudCA9IGRhdGEuaW5zdGFuY2UucG9wcGVyLnF1ZXJ5U2VsZWN0b3IoYXJyb3dFbGVtZW50KTtcblxuICAgIC8vIGlmIGFycm93RWxlbWVudCBpcyBub3QgZm91bmQsIGRvbid0IHJ1biB0aGUgbW9kaWZpZXJcbiAgICBpZiAoIWFycm93RWxlbWVudCkge1xuICAgICAgcmV0dXJuIGRhdGE7XG4gICAgfVxuICB9IGVsc2Uge1xuICAgIC8vIGlmIHRoZSBhcnJvd0VsZW1lbnQgaXNuJ3QgYSBxdWVyeSBzZWxlY3RvciB3ZSBtdXN0IGNoZWNrIHRoYXQgdGhlXG4gICAgLy8gcHJvdmlkZWQgRE9NIG5vZGUgaXMgY2hpbGQgb2YgaXRzIHBvcHBlciBub2RlXG4gICAgaWYgKCFkYXRhLmluc3RhbmNlLnBvcHBlci5jb250YWlucyhhcnJvd0VsZW1lbnQpKSB7XG4gICAgICBjb25zb2xlLndhcm4oJ1dBUk5JTkc6IGBhcnJvdy5lbGVtZW50YCBtdXN0IGJlIGNoaWxkIG9mIGl0cyBwb3BwZXIgZWxlbWVudCEnKTtcbiAgICAgIHJldHVybiBkYXRhO1xuICAgIH1cbiAgfVxuXG4gIHZhciBwbGFjZW1lbnQgPSBkYXRhLnBsYWNlbWVudC5zcGxpdCgnLScpWzBdO1xuICB2YXIgX2RhdGEkb2Zmc2V0cyA9IGRhdGEub2Zmc2V0cyxcbiAgICAgIHBvcHBlciA9IF9kYXRhJG9mZnNldHMucG9wcGVyLFxuICAgICAgcmVmZXJlbmNlID0gX2RhdGEkb2Zmc2V0cy5yZWZlcmVuY2U7XG5cbiAgdmFyIGlzVmVydGljYWwgPSBbJ2xlZnQnLCAncmlnaHQnXS5pbmRleE9mKHBsYWNlbWVudCkgIT09IC0xO1xuXG4gIHZhciBsZW4gPSBpc1ZlcnRpY2FsID8gJ2hlaWdodCcgOiAnd2lkdGgnO1xuICB2YXIgc2lkZUNhcGl0YWxpemVkID0gaXNWZXJ0aWNhbCA/ICdUb3AnIDogJ0xlZnQnO1xuICB2YXIgc2lkZSA9IHNpZGVDYXBpdGFsaXplZC50b0xvd2VyQ2FzZSgpO1xuICB2YXIgYWx0U2lkZSA9IGlzVmVydGljYWwgPyAnbGVmdCcgOiAndG9wJztcbiAgdmFyIG9wU2lkZSA9IGlzVmVydGljYWwgPyAnYm90dG9tJyA6ICdyaWdodCc7XG4gIHZhciBhcnJvd0VsZW1lbnRTaXplID0gZ2V0T3V0ZXJTaXplcyhhcnJvd0VsZW1lbnQpW2xlbl07XG5cbiAgLy9cbiAgLy8gZXh0ZW5kcyBrZWVwVG9nZXRoZXIgYmVoYXZpb3IgbWFraW5nIHN1cmUgdGhlIHBvcHBlciBhbmQgaXRzXG4gIC8vIHJlZmVyZW5jZSBoYXZlIGVub3VnaCBwaXhlbHMgaW4gY29uanVuY3Rpb25cbiAgLy9cblxuICAvLyB0b3AvbGVmdCBzaWRlXG4gIGlmIChyZWZlcmVuY2Vbb3BTaWRlXSAtIGFycm93RWxlbWVudFNpemUgPCBwb3BwZXJbc2lkZV0pIHtcbiAgICBkYXRhLm9mZnNldHMucG9wcGVyW3NpZGVdIC09IHBvcHBlcltzaWRlXSAtIChyZWZlcmVuY2Vbb3BTaWRlXSAtIGFycm93RWxlbWVudFNpemUpO1xuICB9XG4gIC8vIGJvdHRvbS9yaWdodCBzaWRlXG4gIGlmIChyZWZlcmVuY2Vbc2lkZV0gKyBhcnJvd0VsZW1lbnRTaXplID4gcG9wcGVyW29wU2lkZV0pIHtcbiAgICBkYXRhLm9mZnNldHMucG9wcGVyW3NpZGVdICs9IHJlZmVyZW5jZVtzaWRlXSArIGFycm93RWxlbWVudFNpemUgLSBwb3BwZXJbb3BTaWRlXTtcbiAgfVxuICBkYXRhLm9mZnNldHMucG9wcGVyID0gZ2V0Q2xpZW50UmVjdChkYXRhLm9mZnNldHMucG9wcGVyKTtcblxuICAvLyBjb21wdXRlIGNlbnRlciBvZiB0aGUgcG9wcGVyXG4gIHZhciBjZW50ZXIgPSByZWZlcmVuY2Vbc2lkZV0gKyByZWZlcmVuY2VbbGVuXSAvIDIgLSBhcnJvd0VsZW1lbnRTaXplIC8gMjtcblxuICAvLyBDb21wdXRlIHRoZSBzaWRlVmFsdWUgdXNpbmcgdGhlIHVwZGF0ZWQgcG9wcGVyIG9mZnNldHNcbiAgLy8gdGFrZSBwb3BwZXIgbWFyZ2luIGluIGFjY291bnQgYmVjYXVzZSB3ZSBkb24ndCBoYXZlIHRoaXMgaW5mbyBhdmFpbGFibGVcbiAgdmFyIGNzcyA9IGdldFN0eWxlQ29tcHV0ZWRQcm9wZXJ0eShkYXRhLmluc3RhbmNlLnBvcHBlcik7XG4gIHZhciBwb3BwZXJNYXJnaW5TaWRlID0gcGFyc2VGbG9hdChjc3NbJ21hcmdpbicgKyBzaWRlQ2FwaXRhbGl6ZWRdKTtcbiAgdmFyIHBvcHBlckJvcmRlclNpZGUgPSBwYXJzZUZsb2F0KGNzc1snYm9yZGVyJyArIHNpZGVDYXBpdGFsaXplZCArICdXaWR0aCddKTtcbiAgdmFyIHNpZGVWYWx1ZSA9IGNlbnRlciAtIGRhdGEub2Zmc2V0cy5wb3BwZXJbc2lkZV0gLSBwb3BwZXJNYXJnaW5TaWRlIC0gcG9wcGVyQm9yZGVyU2lkZTtcblxuICAvLyBwcmV2ZW50IGFycm93RWxlbWVudCBmcm9tIGJlaW5nIHBsYWNlZCBub3QgY29udGlndW91c2x5IHRvIGl0cyBwb3BwZXJcbiAgc2lkZVZhbHVlID0gTWF0aC5tYXgoTWF0aC5taW4ocG9wcGVyW2xlbl0gLSBhcnJvd0VsZW1lbnRTaXplLCBzaWRlVmFsdWUpLCAwKTtcblxuICBkYXRhLmFycm93RWxlbWVudCA9IGFycm93RWxlbWVudDtcbiAgZGF0YS5vZmZzZXRzLmFycm93ID0gKF9kYXRhJG9mZnNldHMkYXJyb3cgPSB7fSwgZGVmaW5lUHJvcGVydHkoX2RhdGEkb2Zmc2V0cyRhcnJvdywgc2lkZSwgTWF0aC5yb3VuZChzaWRlVmFsdWUpKSwgZGVmaW5lUHJvcGVydHkoX2RhdGEkb2Zmc2V0cyRhcnJvdywgYWx0U2lkZSwgJycpLCBfZGF0YSRvZmZzZXRzJGFycm93KTtcblxuICByZXR1cm4gZGF0YTtcbn1cblxuLyoqXG4gKiBHZXQgdGhlIG9wcG9zaXRlIHBsYWNlbWVudCB2YXJpYXRpb24gb2YgdGhlIGdpdmVuIG9uZVxuICogQG1ldGhvZFxuICogQG1lbWJlcm9mIFBvcHBlci5VdGlsc1xuICogQGFyZ3VtZW50IHtTdHJpbmd9IHBsYWNlbWVudCB2YXJpYXRpb25cbiAqIEByZXR1cm5zIHtTdHJpbmd9IGZsaXBwZWQgcGxhY2VtZW50IHZhcmlhdGlvblxuICovXG5mdW5jdGlvbiBnZXRPcHBvc2l0ZVZhcmlhdGlvbih2YXJpYXRpb24pIHtcbiAgaWYgKHZhcmlhdGlvbiA9PT0gJ2VuZCcpIHtcbiAgICByZXR1cm4gJ3N0YXJ0JztcbiAgfSBlbHNlIGlmICh2YXJpYXRpb24gPT09ICdzdGFydCcpIHtcbiAgICByZXR1cm4gJ2VuZCc7XG4gIH1cbiAgcmV0dXJuIHZhcmlhdGlvbjtcbn1cblxuLyoqXG4gKiBMaXN0IG9mIGFjY2VwdGVkIHBsYWNlbWVudHMgdG8gdXNlIGFzIHZhbHVlcyBvZiB0aGUgYHBsYWNlbWVudGAgb3B0aW9uLjxiciAvPlxuICogVmFsaWQgcGxhY2VtZW50cyBhcmU6XG4gKiAtIGBhdXRvYFxuICogLSBgdG9wYFxuICogLSBgcmlnaHRgXG4gKiAtIGBib3R0b21gXG4gKiAtIGBsZWZ0YFxuICpcbiAqIEVhY2ggcGxhY2VtZW50IGNhbiBoYXZlIGEgdmFyaWF0aW9uIGZyb20gdGhpcyBsaXN0OlxuICogLSBgLXN0YXJ0YFxuICogLSBgLWVuZGBcbiAqXG4gKiBWYXJpYXRpb25zIGFyZSBpbnRlcnByZXRlZCBlYXNpbHkgaWYgeW91IHRoaW5rIG9mIHRoZW0gYXMgdGhlIGxlZnQgdG8gcmlnaHRcbiAqIHdyaXR0ZW4gbGFuZ3VhZ2VzLiBIb3Jpem9udGFsbHkgKGB0b3BgIGFuZCBgYm90dG9tYCksIGBzdGFydGAgaXMgbGVmdCBhbmQgYGVuZGBcbiAqIGlzIHJpZ2h0LjxiciAvPlxuICogVmVydGljYWxseSAoYGxlZnRgIGFuZCBgcmlnaHRgKSwgYHN0YXJ0YCBpcyB0b3AgYW5kIGBlbmRgIGlzIGJvdHRvbS5cbiAqXG4gKiBTb21lIHZhbGlkIGV4YW1wbGVzIGFyZTpcbiAqIC0gYHRvcC1lbmRgIChvbiB0b3Agb2YgcmVmZXJlbmNlLCByaWdodCBhbGlnbmVkKVxuICogLSBgcmlnaHQtc3RhcnRgIChvbiByaWdodCBvZiByZWZlcmVuY2UsIHRvcCBhbGlnbmVkKVxuICogLSBgYm90dG9tYCAob24gYm90dG9tLCBjZW50ZXJlZClcbiAqIC0gYGF1dG8tZW5kYCAob24gdGhlIHNpZGUgd2l0aCBtb3JlIHNwYWNlIGF2YWlsYWJsZSwgYWxpZ25tZW50IGRlcGVuZHMgYnkgcGxhY2VtZW50KVxuICpcbiAqIEBzdGF0aWNcbiAqIEB0eXBlIHtBcnJheX1cbiAqIEBlbnVtIHtTdHJpbmd9XG4gKiBAcmVhZG9ubHlcbiAqIEBtZXRob2QgcGxhY2VtZW50c1xuICogQG1lbWJlcm9mIFBvcHBlclxuICovXG52YXIgcGxhY2VtZW50cyA9IFsnYXV0by1zdGFydCcsICdhdXRvJywgJ2F1dG8tZW5kJywgJ3RvcC1zdGFydCcsICd0b3AnLCAndG9wLWVuZCcsICdyaWdodC1zdGFydCcsICdyaWdodCcsICdyaWdodC1lbmQnLCAnYm90dG9tLWVuZCcsICdib3R0b20nLCAnYm90dG9tLXN0YXJ0JywgJ2xlZnQtZW5kJywgJ2xlZnQnLCAnbGVmdC1zdGFydCddO1xuXG4vLyBHZXQgcmlkIG9mIGBhdXRvYCBgYXV0by1zdGFydGAgYW5kIGBhdXRvLWVuZGBcbnZhciB2YWxpZFBsYWNlbWVudHMgPSBwbGFjZW1lbnRzLnNsaWNlKDMpO1xuXG4vKipcbiAqIEdpdmVuIGFuIGluaXRpYWwgcGxhY2VtZW50LCByZXR1cm5zIGFsbCB0aGUgc3Vic2VxdWVudCBwbGFjZW1lbnRzXG4gKiBjbG9ja3dpc2UgKG9yIGNvdW50ZXItY2xvY2t3aXNlKS5cbiAqXG4gKiBAbWV0aG9kXG4gKiBAbWVtYmVyb2YgUG9wcGVyLlV0aWxzXG4gKiBAYXJndW1lbnQge1N0cmluZ30gcGxhY2VtZW50IC0gQSB2YWxpZCBwbGFjZW1lbnQgKGl0IGFjY2VwdHMgdmFyaWF0aW9ucylcbiAqIEBhcmd1bWVudCB7Qm9vbGVhbn0gY291bnRlciAtIFNldCB0byB0cnVlIHRvIHdhbGsgdGhlIHBsYWNlbWVudHMgY291bnRlcmNsb2Nrd2lzZVxuICogQHJldHVybnMge0FycmF5fSBwbGFjZW1lbnRzIGluY2x1ZGluZyB0aGVpciB2YXJpYXRpb25zXG4gKi9cbmZ1bmN0aW9uIGNsb2Nrd2lzZShwbGFjZW1lbnQpIHtcbiAgdmFyIGNvdW50ZXIgPSBhcmd1bWVudHMubGVuZ3RoID4gMSAmJiBhcmd1bWVudHNbMV0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1sxXSA6IGZhbHNlO1xuXG4gIHZhciBpbmRleCA9IHZhbGlkUGxhY2VtZW50cy5pbmRleE9mKHBsYWNlbWVudCk7XG4gIHZhciBhcnIgPSB2YWxpZFBsYWNlbWVudHMuc2xpY2UoaW5kZXggKyAxKS5jb25jYXQodmFsaWRQbGFjZW1lbnRzLnNsaWNlKDAsIGluZGV4KSk7XG4gIHJldHVybiBjb3VudGVyID8gYXJyLnJldmVyc2UoKSA6IGFycjtcbn1cblxudmFyIEJFSEFWSU9SUyA9IHtcbiAgRkxJUDogJ2ZsaXAnLFxuICBDTE9DS1dJU0U6ICdjbG9ja3dpc2UnLFxuICBDT1VOVEVSQ0xPQ0tXSVNFOiAnY291bnRlcmNsb2Nrd2lzZSdcbn07XG5cbi8qKlxuICogQGZ1bmN0aW9uXG4gKiBAbWVtYmVyb2YgTW9kaWZpZXJzXG4gKiBAYXJndW1lbnQge09iamVjdH0gZGF0YSAtIFRoZSBkYXRhIG9iamVjdCBnZW5lcmF0ZWQgYnkgdXBkYXRlIG1ldGhvZFxuICogQGFyZ3VtZW50IHtPYmplY3R9IG9wdGlvbnMgLSBNb2RpZmllcnMgY29uZmlndXJhdGlvbiBhbmQgb3B0aW9uc1xuICogQHJldHVybnMge09iamVjdH0gVGhlIGRhdGEgb2JqZWN0LCBwcm9wZXJseSBtb2RpZmllZFxuICovXG5mdW5jdGlvbiBmbGlwKGRhdGEsIG9wdGlvbnMpIHtcbiAgLy8gaWYgYGlubmVyYCBtb2RpZmllciBpcyBlbmFibGVkLCB3ZSBjYW4ndCB1c2UgdGhlIGBmbGlwYCBtb2RpZmllclxuICBpZiAoaXNNb2RpZmllckVuYWJsZWQoZGF0YS5pbnN0YW5jZS5tb2RpZmllcnMsICdpbm5lcicpKSB7XG4gICAgcmV0dXJuIGRhdGE7XG4gIH1cblxuICBpZiAoZGF0YS5mbGlwcGVkICYmIGRhdGEucGxhY2VtZW50ID09PSBkYXRhLm9yaWdpbmFsUGxhY2VtZW50KSB7XG4gICAgLy8gc2VlbXMgbGlrZSBmbGlwIGlzIHRyeWluZyB0byBsb29wLCBwcm9iYWJseSB0aGVyZSdzIG5vdCBlbm91Z2ggc3BhY2Ugb24gYW55IG9mIHRoZSBmbGlwcGFibGUgc2lkZXNcbiAgICByZXR1cm4gZGF0YTtcbiAgfVxuXG4gIHZhciBib3VuZGFyaWVzID0gZ2V0Qm91bmRhcmllcyhkYXRhLmluc3RhbmNlLnBvcHBlciwgZGF0YS5pbnN0YW5jZS5yZWZlcmVuY2UsIG9wdGlvbnMucGFkZGluZywgb3B0aW9ucy5ib3VuZGFyaWVzRWxlbWVudCwgZGF0YS5wb3NpdGlvbkZpeGVkKTtcblxuICB2YXIgcGxhY2VtZW50ID0gZGF0YS5wbGFjZW1lbnQuc3BsaXQoJy0nKVswXTtcbiAgdmFyIHBsYWNlbWVudE9wcG9zaXRlID0gZ2V0T3Bwb3NpdGVQbGFjZW1lbnQocGxhY2VtZW50KTtcbiAgdmFyIHZhcmlhdGlvbiA9IGRhdGEucGxhY2VtZW50LnNwbGl0KCctJylbMV0gfHwgJyc7XG5cbiAgdmFyIGZsaXBPcmRlciA9IFtdO1xuXG4gIHN3aXRjaCAob3B0aW9ucy5iZWhhdmlvcikge1xuICAgIGNhc2UgQkVIQVZJT1JTLkZMSVA6XG4gICAgICBmbGlwT3JkZXIgPSBbcGxhY2VtZW50LCBwbGFjZW1lbnRPcHBvc2l0ZV07XG4gICAgICBicmVhaztcbiAgICBjYXNlIEJFSEFWSU9SUy5DTE9DS1dJU0U6XG4gICAgICBmbGlwT3JkZXIgPSBjbG9ja3dpc2UocGxhY2VtZW50KTtcbiAgICAgIGJyZWFrO1xuICAgIGNhc2UgQkVIQVZJT1JTLkNPVU5URVJDTE9DS1dJU0U6XG4gICAgICBmbGlwT3JkZXIgPSBjbG9ja3dpc2UocGxhY2VtZW50LCB0cnVlKTtcbiAgICAgIGJyZWFrO1xuICAgIGRlZmF1bHQ6XG4gICAgICBmbGlwT3JkZXIgPSBvcHRpb25zLmJlaGF2aW9yO1xuICB9XG5cbiAgZmxpcE9yZGVyLmZvckVhY2goZnVuY3Rpb24gKHN0ZXAsIGluZGV4KSB7XG4gICAgaWYgKHBsYWNlbWVudCAhPT0gc3RlcCB8fCBmbGlwT3JkZXIubGVuZ3RoID09PSBpbmRleCArIDEpIHtcbiAgICAgIHJldHVybiBkYXRhO1xuICAgIH1cblxuICAgIHBsYWNlbWVudCA9IGRhdGEucGxhY2VtZW50LnNwbGl0KCctJylbMF07XG4gICAgcGxhY2VtZW50T3Bwb3NpdGUgPSBnZXRPcHBvc2l0ZVBsYWNlbWVudChwbGFjZW1lbnQpO1xuXG4gICAgdmFyIHBvcHBlck9mZnNldHMgPSBkYXRhLm9mZnNldHMucG9wcGVyO1xuICAgIHZhciByZWZPZmZzZXRzID0gZGF0YS5vZmZzZXRzLnJlZmVyZW5jZTtcblxuICAgIC8vIHVzaW5nIGZsb29yIGJlY2F1c2UgdGhlIHJlZmVyZW5jZSBvZmZzZXRzIG1heSBjb250YWluIGRlY2ltYWxzIHdlIGFyZSBub3QgZ29pbmcgdG8gY29uc2lkZXIgaGVyZVxuICAgIHZhciBmbG9vciA9IE1hdGguZmxvb3I7XG4gICAgdmFyIG92ZXJsYXBzUmVmID0gcGxhY2VtZW50ID09PSAnbGVmdCcgJiYgZmxvb3IocG9wcGVyT2Zmc2V0cy5yaWdodCkgPiBmbG9vcihyZWZPZmZzZXRzLmxlZnQpIHx8IHBsYWNlbWVudCA9PT0gJ3JpZ2h0JyAmJiBmbG9vcihwb3BwZXJPZmZzZXRzLmxlZnQpIDwgZmxvb3IocmVmT2Zmc2V0cy5yaWdodCkgfHwgcGxhY2VtZW50ID09PSAndG9wJyAmJiBmbG9vcihwb3BwZXJPZmZzZXRzLmJvdHRvbSkgPiBmbG9vcihyZWZPZmZzZXRzLnRvcCkgfHwgcGxhY2VtZW50ID09PSAnYm90dG9tJyAmJiBmbG9vcihwb3BwZXJPZmZzZXRzLnRvcCkgPCBmbG9vcihyZWZPZmZzZXRzLmJvdHRvbSk7XG5cbiAgICB2YXIgb3ZlcmZsb3dzTGVmdCA9IGZsb29yKHBvcHBlck9mZnNldHMubGVmdCkgPCBmbG9vcihib3VuZGFyaWVzLmxlZnQpO1xuICAgIHZhciBvdmVyZmxvd3NSaWdodCA9IGZsb29yKHBvcHBlck9mZnNldHMucmlnaHQpID4gZmxvb3IoYm91bmRhcmllcy5yaWdodCk7XG4gICAgdmFyIG92ZXJmbG93c1RvcCA9IGZsb29yKHBvcHBlck9mZnNldHMudG9wKSA8IGZsb29yKGJvdW5kYXJpZXMudG9wKTtcbiAgICB2YXIgb3ZlcmZsb3dzQm90dG9tID0gZmxvb3IocG9wcGVyT2Zmc2V0cy5ib3R0b20pID4gZmxvb3IoYm91bmRhcmllcy5ib3R0b20pO1xuXG4gICAgdmFyIG92ZXJmbG93c0JvdW5kYXJpZXMgPSBwbGFjZW1lbnQgPT09ICdsZWZ0JyAmJiBvdmVyZmxvd3NMZWZ0IHx8IHBsYWNlbWVudCA9PT0gJ3JpZ2h0JyAmJiBvdmVyZmxvd3NSaWdodCB8fCBwbGFjZW1lbnQgPT09ICd0b3AnICYmIG92ZXJmbG93c1RvcCB8fCBwbGFjZW1lbnQgPT09ICdib3R0b20nICYmIG92ZXJmbG93c0JvdHRvbTtcblxuICAgIC8vIGZsaXAgdGhlIHZhcmlhdGlvbiBpZiByZXF1aXJlZFxuICAgIHZhciBpc1ZlcnRpY2FsID0gWyd0b3AnLCAnYm90dG9tJ10uaW5kZXhPZihwbGFjZW1lbnQpICE9PSAtMTtcblxuICAgIC8vIGZsaXBzIHZhcmlhdGlvbiBpZiByZWZlcmVuY2UgZWxlbWVudCBvdmVyZmxvd3MgYm91bmRhcmllc1xuICAgIHZhciBmbGlwcGVkVmFyaWF0aW9uQnlSZWYgPSAhIW9wdGlvbnMuZmxpcFZhcmlhdGlvbnMgJiYgKGlzVmVydGljYWwgJiYgdmFyaWF0aW9uID09PSAnc3RhcnQnICYmIG92ZXJmbG93c0xlZnQgfHwgaXNWZXJ0aWNhbCAmJiB2YXJpYXRpb24gPT09ICdlbmQnICYmIG92ZXJmbG93c1JpZ2h0IHx8ICFpc1ZlcnRpY2FsICYmIHZhcmlhdGlvbiA9PT0gJ3N0YXJ0JyAmJiBvdmVyZmxvd3NUb3AgfHwgIWlzVmVydGljYWwgJiYgdmFyaWF0aW9uID09PSAnZW5kJyAmJiBvdmVyZmxvd3NCb3R0b20pO1xuXG4gICAgLy8gZmxpcHMgdmFyaWF0aW9uIGlmIHBvcHBlciBjb250ZW50IG92ZXJmbG93cyBib3VuZGFyaWVzXG4gICAgdmFyIGZsaXBwZWRWYXJpYXRpb25CeUNvbnRlbnQgPSAhIW9wdGlvbnMuZmxpcFZhcmlhdGlvbnNCeUNvbnRlbnQgJiYgKGlzVmVydGljYWwgJiYgdmFyaWF0aW9uID09PSAnc3RhcnQnICYmIG92ZXJmbG93c1JpZ2h0IHx8IGlzVmVydGljYWwgJiYgdmFyaWF0aW9uID09PSAnZW5kJyAmJiBvdmVyZmxvd3NMZWZ0IHx8ICFpc1ZlcnRpY2FsICYmIHZhcmlhdGlvbiA9PT0gJ3N0YXJ0JyAmJiBvdmVyZmxvd3NCb3R0b20gfHwgIWlzVmVydGljYWwgJiYgdmFyaWF0aW9uID09PSAnZW5kJyAmJiBvdmVyZmxvd3NUb3ApO1xuXG4gICAgdmFyIGZsaXBwZWRWYXJpYXRpb24gPSBmbGlwcGVkVmFyaWF0aW9uQnlSZWYgfHwgZmxpcHBlZFZhcmlhdGlvbkJ5Q29udGVudDtcblxuICAgIGlmIChvdmVybGFwc1JlZiB8fCBvdmVyZmxvd3NCb3VuZGFyaWVzIHx8IGZsaXBwZWRWYXJpYXRpb24pIHtcbiAgICAgIC8vIHRoaXMgYm9vbGVhbiB0byBkZXRlY3QgYW55IGZsaXAgbG9vcFxuICAgICAgZGF0YS5mbGlwcGVkID0gdHJ1ZTtcblxuICAgICAgaWYgKG92ZXJsYXBzUmVmIHx8IG92ZXJmbG93c0JvdW5kYXJpZXMpIHtcbiAgICAgICAgcGxhY2VtZW50ID0gZmxpcE9yZGVyW2luZGV4ICsgMV07XG4gICAgICB9XG5cbiAgICAgIGlmIChmbGlwcGVkVmFyaWF0aW9uKSB7XG4gICAgICAgIHZhcmlhdGlvbiA9IGdldE9wcG9zaXRlVmFyaWF0aW9uKHZhcmlhdGlvbik7XG4gICAgICB9XG5cbiAgICAgIGRhdGEucGxhY2VtZW50ID0gcGxhY2VtZW50ICsgKHZhcmlhdGlvbiA/ICctJyArIHZhcmlhdGlvbiA6ICcnKTtcblxuICAgICAgLy8gdGhpcyBvYmplY3QgY29udGFpbnMgYHBvc2l0aW9uYCwgd2Ugd2FudCB0byBwcmVzZXJ2ZSBpdCBhbG9uZyB3aXRoXG4gICAgICAvLyBhbnkgYWRkaXRpb25hbCBwcm9wZXJ0eSB3ZSBtYXkgYWRkIGluIHRoZSBmdXR1cmVcbiAgICAgIGRhdGEub2Zmc2V0cy5wb3BwZXIgPSBfZXh0ZW5kcyh7fSwgZGF0YS5vZmZzZXRzLnBvcHBlciwgZ2V0UG9wcGVyT2Zmc2V0cyhkYXRhLmluc3RhbmNlLnBvcHBlciwgZGF0YS5vZmZzZXRzLnJlZmVyZW5jZSwgZGF0YS5wbGFjZW1lbnQpKTtcblxuICAgICAgZGF0YSA9IHJ1bk1vZGlmaWVycyhkYXRhLmluc3RhbmNlLm1vZGlmaWVycywgZGF0YSwgJ2ZsaXAnKTtcbiAgICB9XG4gIH0pO1xuICByZXR1cm4gZGF0YTtcbn1cblxuLyoqXG4gKiBAZnVuY3Rpb25cbiAqIEBtZW1iZXJvZiBNb2RpZmllcnNcbiAqIEBhcmd1bWVudCB7T2JqZWN0fSBkYXRhIC0gVGhlIGRhdGEgb2JqZWN0IGdlbmVyYXRlZCBieSB1cGRhdGUgbWV0aG9kXG4gKiBAYXJndW1lbnQge09iamVjdH0gb3B0aW9ucyAtIE1vZGlmaWVycyBjb25maWd1cmF0aW9uIGFuZCBvcHRpb25zXG4gKiBAcmV0dXJucyB7T2JqZWN0fSBUaGUgZGF0YSBvYmplY3QsIHByb3Blcmx5IG1vZGlmaWVkXG4gKi9cbmZ1bmN0aW9uIGtlZXBUb2dldGhlcihkYXRhKSB7XG4gIHZhciBfZGF0YSRvZmZzZXRzID0gZGF0YS5vZmZzZXRzLFxuICAgICAgcG9wcGVyID0gX2RhdGEkb2Zmc2V0cy5wb3BwZXIsXG4gICAgICByZWZlcmVuY2UgPSBfZGF0YSRvZmZzZXRzLnJlZmVyZW5jZTtcblxuICB2YXIgcGxhY2VtZW50ID0gZGF0YS5wbGFjZW1lbnQuc3BsaXQoJy0nKVswXTtcbiAgdmFyIGZsb29yID0gTWF0aC5mbG9vcjtcbiAgdmFyIGlzVmVydGljYWwgPSBbJ3RvcCcsICdib3R0b20nXS5pbmRleE9mKHBsYWNlbWVudCkgIT09IC0xO1xuICB2YXIgc2lkZSA9IGlzVmVydGljYWwgPyAncmlnaHQnIDogJ2JvdHRvbSc7XG4gIHZhciBvcFNpZGUgPSBpc1ZlcnRpY2FsID8gJ2xlZnQnIDogJ3RvcCc7XG4gIHZhciBtZWFzdXJlbWVudCA9IGlzVmVydGljYWwgPyAnd2lkdGgnIDogJ2hlaWdodCc7XG5cbiAgaWYgKHBvcHBlcltzaWRlXSA8IGZsb29yKHJlZmVyZW5jZVtvcFNpZGVdKSkge1xuICAgIGRhdGEub2Zmc2V0cy5wb3BwZXJbb3BTaWRlXSA9IGZsb29yKHJlZmVyZW5jZVtvcFNpZGVdKSAtIHBvcHBlclttZWFzdXJlbWVudF07XG4gIH1cbiAgaWYgKHBvcHBlcltvcFNpZGVdID4gZmxvb3IocmVmZXJlbmNlW3NpZGVdKSkge1xuICAgIGRhdGEub2Zmc2V0cy5wb3BwZXJbb3BTaWRlXSA9IGZsb29yKHJlZmVyZW5jZVtzaWRlXSk7XG4gIH1cblxuICByZXR1cm4gZGF0YTtcbn1cblxuLyoqXG4gKiBDb252ZXJ0cyBhIHN0cmluZyBjb250YWluaW5nIHZhbHVlICsgdW5pdCBpbnRvIGEgcHggdmFsdWUgbnVtYmVyXG4gKiBAZnVuY3Rpb25cbiAqIEBtZW1iZXJvZiB7bW9kaWZpZXJzfm9mZnNldH1cbiAqIEBwcml2YXRlXG4gKiBAYXJndW1lbnQge1N0cmluZ30gc3RyIC0gVmFsdWUgKyB1bml0IHN0cmluZ1xuICogQGFyZ3VtZW50IHtTdHJpbmd9IG1lYXN1cmVtZW50IC0gYGhlaWdodGAgb3IgYHdpZHRoYFxuICogQGFyZ3VtZW50IHtPYmplY3R9IHBvcHBlck9mZnNldHNcbiAqIEBhcmd1bWVudCB7T2JqZWN0fSByZWZlcmVuY2VPZmZzZXRzXG4gKiBAcmV0dXJucyB7TnVtYmVyfFN0cmluZ31cbiAqIFZhbHVlIGluIHBpeGVscywgb3Igb3JpZ2luYWwgc3RyaW5nIGlmIG5vIHZhbHVlcyB3ZXJlIGV4dHJhY3RlZFxuICovXG5mdW5jdGlvbiB0b1ZhbHVlKHN0ciwgbWVhc3VyZW1lbnQsIHBvcHBlck9mZnNldHMsIHJlZmVyZW5jZU9mZnNldHMpIHtcbiAgLy8gc2VwYXJhdGUgdmFsdWUgZnJvbSB1bml0XG4gIHZhciBzcGxpdCA9IHN0ci5tYXRjaCgvKCg/OlxcLXxcXCspP1xcZCpcXC4/XFxkKikoLiopLyk7XG4gIHZhciB2YWx1ZSA9ICtzcGxpdFsxXTtcbiAgdmFyIHVuaXQgPSBzcGxpdFsyXTtcblxuICAvLyBJZiBpdCdzIG5vdCBhIG51bWJlciBpdCdzIGFuIG9wZXJhdG9yLCBJIGd1ZXNzXG4gIGlmICghdmFsdWUpIHtcbiAgICByZXR1cm4gc3RyO1xuICB9XG5cbiAgaWYgKHVuaXQuaW5kZXhPZignJScpID09PSAwKSB7XG4gICAgdmFyIGVsZW1lbnQgPSB2b2lkIDA7XG4gICAgc3dpdGNoICh1bml0KSB7XG4gICAgICBjYXNlICclcCc6XG4gICAgICAgIGVsZW1lbnQgPSBwb3BwZXJPZmZzZXRzO1xuICAgICAgICBicmVhaztcbiAgICAgIGNhc2UgJyUnOlxuICAgICAgY2FzZSAnJXInOlxuICAgICAgZGVmYXVsdDpcbiAgICAgICAgZWxlbWVudCA9IHJlZmVyZW5jZU9mZnNldHM7XG4gICAgfVxuXG4gICAgdmFyIHJlY3QgPSBnZXRDbGllbnRSZWN0KGVsZW1lbnQpO1xuICAgIHJldHVybiByZWN0W21lYXN1cmVtZW50XSAvIDEwMCAqIHZhbHVlO1xuICB9IGVsc2UgaWYgKHVuaXQgPT09ICd2aCcgfHwgdW5pdCA9PT0gJ3Z3Jykge1xuICAgIC8vIGlmIGlzIGEgdmggb3IgdncsIHdlIGNhbGN1bGF0ZSB0aGUgc2l6ZSBiYXNlZCBvbiB0aGUgdmlld3BvcnRcbiAgICB2YXIgc2l6ZSA9IHZvaWQgMDtcbiAgICBpZiAodW5pdCA9PT0gJ3ZoJykge1xuICAgICAgc2l6ZSA9IE1hdGgubWF4KGRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5jbGllbnRIZWlnaHQsIHdpbmRvdy5pbm5lckhlaWdodCB8fCAwKTtcbiAgICB9IGVsc2Uge1xuICAgICAgc2l6ZSA9IE1hdGgubWF4KGRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5jbGllbnRXaWR0aCwgd2luZG93LmlubmVyV2lkdGggfHwgMCk7XG4gICAgfVxuICAgIHJldHVybiBzaXplIC8gMTAwICogdmFsdWU7XG4gIH0gZWxzZSB7XG4gICAgLy8gaWYgaXMgYW4gZXhwbGljaXQgcGl4ZWwgdW5pdCwgd2UgZ2V0IHJpZCBvZiB0aGUgdW5pdCBhbmQga2VlcCB0aGUgdmFsdWVcbiAgICAvLyBpZiBpcyBhbiBpbXBsaWNpdCB1bml0LCBpdCdzIHB4LCBhbmQgd2UgcmV0dXJuIGp1c3QgdGhlIHZhbHVlXG4gICAgcmV0dXJuIHZhbHVlO1xuICB9XG59XG5cbi8qKlxuICogUGFyc2UgYW4gYG9mZnNldGAgc3RyaW5nIHRvIGV4dHJhcG9sYXRlIGB4YCBhbmQgYHlgIG51bWVyaWMgb2Zmc2V0cy5cbiAqIEBmdW5jdGlvblxuICogQG1lbWJlcm9mIHttb2RpZmllcnN+b2Zmc2V0fVxuICogQHByaXZhdGVcbiAqIEBhcmd1bWVudCB7U3RyaW5nfSBvZmZzZXRcbiAqIEBhcmd1bWVudCB7T2JqZWN0fSBwb3BwZXJPZmZzZXRzXG4gKiBAYXJndW1lbnQge09iamVjdH0gcmVmZXJlbmNlT2Zmc2V0c1xuICogQGFyZ3VtZW50IHtTdHJpbmd9IGJhc2VQbGFjZW1lbnRcbiAqIEByZXR1cm5zIHtBcnJheX0gYSB0d28gY2VsbHMgYXJyYXkgd2l0aCB4IGFuZCB5IG9mZnNldHMgaW4gbnVtYmVyc1xuICovXG5mdW5jdGlvbiBwYXJzZU9mZnNldChvZmZzZXQsIHBvcHBlck9mZnNldHMsIHJlZmVyZW5jZU9mZnNldHMsIGJhc2VQbGFjZW1lbnQpIHtcbiAgdmFyIG9mZnNldHMgPSBbMCwgMF07XG5cbiAgLy8gVXNlIGhlaWdodCBpZiBwbGFjZW1lbnQgaXMgbGVmdCBvciByaWdodCBhbmQgaW5kZXggaXMgMCBvdGhlcndpc2UgdXNlIHdpZHRoXG4gIC8vIGluIHRoaXMgd2F5IHRoZSBmaXJzdCBvZmZzZXQgd2lsbCB1c2UgYW4gYXhpcyBhbmQgdGhlIHNlY29uZCBvbmVcbiAgLy8gd2lsbCB1c2UgdGhlIG90aGVyIG9uZVxuICB2YXIgdXNlSGVpZ2h0ID0gWydyaWdodCcsICdsZWZ0J10uaW5kZXhPZihiYXNlUGxhY2VtZW50KSAhPT0gLTE7XG5cbiAgLy8gU3BsaXQgdGhlIG9mZnNldCBzdHJpbmcgdG8gb2J0YWluIGEgbGlzdCBvZiB2YWx1ZXMgYW5kIG9wZXJhbmRzXG4gIC8vIFRoZSByZWdleCBhZGRyZXNzZXMgdmFsdWVzIHdpdGggdGhlIHBsdXMgb3IgbWludXMgc2lnbiBpbiBmcm9udCAoKzEwLCAtMjAsIGV0YylcbiAgdmFyIGZyYWdtZW50cyA9IG9mZnNldC5zcGxpdCgvKFxcK3xcXC0pLykubWFwKGZ1bmN0aW9uIChmcmFnKSB7XG4gICAgcmV0dXJuIGZyYWcudHJpbSgpO1xuICB9KTtcblxuICAvLyBEZXRlY3QgaWYgdGhlIG9mZnNldCBzdHJpbmcgY29udGFpbnMgYSBwYWlyIG9mIHZhbHVlcyBvciBhIHNpbmdsZSBvbmVcbiAgLy8gdGhleSBjb3VsZCBiZSBzZXBhcmF0ZWQgYnkgY29tbWEgb3Igc3BhY2VcbiAgdmFyIGRpdmlkZXIgPSBmcmFnbWVudHMuaW5kZXhPZihmaW5kKGZyYWdtZW50cywgZnVuY3Rpb24gKGZyYWcpIHtcbiAgICByZXR1cm4gZnJhZy5zZWFyY2goLyx8XFxzLykgIT09IC0xO1xuICB9KSk7XG5cbiAgaWYgKGZyYWdtZW50c1tkaXZpZGVyXSAmJiBmcmFnbWVudHNbZGl2aWRlcl0uaW5kZXhPZignLCcpID09PSAtMSkge1xuICAgIGNvbnNvbGUud2FybignT2Zmc2V0cyBzZXBhcmF0ZWQgYnkgd2hpdGUgc3BhY2UocykgYXJlIGRlcHJlY2F0ZWQsIHVzZSBhIGNvbW1hICgsKSBpbnN0ZWFkLicpO1xuICB9XG5cbiAgLy8gSWYgZGl2aWRlciBpcyBmb3VuZCwgd2UgZGl2aWRlIHRoZSBsaXN0IG9mIHZhbHVlcyBhbmQgb3BlcmFuZHMgdG8gZGl2aWRlXG4gIC8vIHRoZW0gYnkgb2ZzZXQgWCBhbmQgWS5cbiAgdmFyIHNwbGl0UmVnZXggPSAvXFxzKixcXHMqfFxccysvO1xuICB2YXIgb3BzID0gZGl2aWRlciAhPT0gLTEgPyBbZnJhZ21lbnRzLnNsaWNlKDAsIGRpdmlkZXIpLmNvbmNhdChbZnJhZ21lbnRzW2RpdmlkZXJdLnNwbGl0KHNwbGl0UmVnZXgpWzBdXSksIFtmcmFnbWVudHNbZGl2aWRlcl0uc3BsaXQoc3BsaXRSZWdleClbMV1dLmNvbmNhdChmcmFnbWVudHMuc2xpY2UoZGl2aWRlciArIDEpKV0gOiBbZnJhZ21lbnRzXTtcblxuICAvLyBDb252ZXJ0IHRoZSB2YWx1ZXMgd2l0aCB1bml0cyB0byBhYnNvbHV0ZSBwaXhlbHMgdG8gYWxsb3cgb3VyIGNvbXB1dGF0aW9uc1xuICBvcHMgPSBvcHMubWFwKGZ1bmN0aW9uIChvcCwgaW5kZXgpIHtcbiAgICAvLyBNb3N0IG9mIHRoZSB1bml0cyByZWx5IG9uIHRoZSBvcmllbnRhdGlvbiBvZiB0aGUgcG9wcGVyXG4gICAgdmFyIG1lYXN1cmVtZW50ID0gKGluZGV4ID09PSAxID8gIXVzZUhlaWdodCA6IHVzZUhlaWdodCkgPyAnaGVpZ2h0JyA6ICd3aWR0aCc7XG4gICAgdmFyIG1lcmdlV2l0aFByZXZpb3VzID0gZmFsc2U7XG4gICAgcmV0dXJuIG9wXG4gICAgLy8gVGhpcyBhZ2dyZWdhdGVzIGFueSBgK2Agb3IgYC1gIHNpZ24gdGhhdCBhcmVuJ3QgY29uc2lkZXJlZCBvcGVyYXRvcnNcbiAgICAvLyBlLmcuOiAxMCArICs1ID0+IFsxMCwgKywgKzVdXG4gICAgLnJlZHVjZShmdW5jdGlvbiAoYSwgYikge1xuICAgICAgaWYgKGFbYS5sZW5ndGggLSAxXSA9PT0gJycgJiYgWycrJywgJy0nXS5pbmRleE9mKGIpICE9PSAtMSkge1xuICAgICAgICBhW2EubGVuZ3RoIC0gMV0gPSBiO1xuICAgICAgICBtZXJnZVdpdGhQcmV2aW91cyA9IHRydWU7XG4gICAgICAgIHJldHVybiBhO1xuICAgICAgfSBlbHNlIGlmIChtZXJnZVdpdGhQcmV2aW91cykge1xuICAgICAgICBhW2EubGVuZ3RoIC0gMV0gKz0gYjtcbiAgICAgICAgbWVyZ2VXaXRoUHJldmlvdXMgPSBmYWxzZTtcbiAgICAgICAgcmV0dXJuIGE7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICByZXR1cm4gYS5jb25jYXQoYik7XG4gICAgICB9XG4gICAgfSwgW10pXG4gICAgLy8gSGVyZSB3ZSBjb252ZXJ0IHRoZSBzdHJpbmcgdmFsdWVzIGludG8gbnVtYmVyIHZhbHVlcyAoaW4gcHgpXG4gICAgLm1hcChmdW5jdGlvbiAoc3RyKSB7XG4gICAgICByZXR1cm4gdG9WYWx1ZShzdHIsIG1lYXN1cmVtZW50LCBwb3BwZXJPZmZzZXRzLCByZWZlcmVuY2VPZmZzZXRzKTtcbiAgICB9KTtcbiAgfSk7XG5cbiAgLy8gTG9vcCB0cm91Z2ggdGhlIG9mZnNldHMgYXJyYXlzIGFuZCBleGVjdXRlIHRoZSBvcGVyYXRpb25zXG4gIG9wcy5mb3JFYWNoKGZ1bmN0aW9uIChvcCwgaW5kZXgpIHtcbiAgICBvcC5mb3JFYWNoKGZ1bmN0aW9uIChmcmFnLCBpbmRleDIpIHtcbiAgICAgIGlmIChpc051bWVyaWMoZnJhZykpIHtcbiAgICAgICAgb2Zmc2V0c1tpbmRleF0gKz0gZnJhZyAqIChvcFtpbmRleDIgLSAxXSA9PT0gJy0nID8gLTEgOiAxKTtcbiAgICAgIH1cbiAgICB9KTtcbiAgfSk7XG4gIHJldHVybiBvZmZzZXRzO1xufVxuXG4vKipcbiAqIEBmdW5jdGlvblxuICogQG1lbWJlcm9mIE1vZGlmaWVyc1xuICogQGFyZ3VtZW50IHtPYmplY3R9IGRhdGEgLSBUaGUgZGF0YSBvYmplY3QgZ2VuZXJhdGVkIGJ5IHVwZGF0ZSBtZXRob2RcbiAqIEBhcmd1bWVudCB7T2JqZWN0fSBvcHRpb25zIC0gTW9kaWZpZXJzIGNvbmZpZ3VyYXRpb24gYW5kIG9wdGlvbnNcbiAqIEBhcmd1bWVudCB7TnVtYmVyfFN0cmluZ30gb3B0aW9ucy5vZmZzZXQ9MFxuICogVGhlIG9mZnNldCB2YWx1ZSBhcyBkZXNjcmliZWQgaW4gdGhlIG1vZGlmaWVyIGRlc2NyaXB0aW9uXG4gKiBAcmV0dXJucyB7T2JqZWN0fSBUaGUgZGF0YSBvYmplY3QsIHByb3Blcmx5IG1vZGlmaWVkXG4gKi9cbmZ1bmN0aW9uIG9mZnNldChkYXRhLCBfcmVmKSB7XG4gIHZhciBvZmZzZXQgPSBfcmVmLm9mZnNldDtcbiAgdmFyIHBsYWNlbWVudCA9IGRhdGEucGxhY2VtZW50LFxuICAgICAgX2RhdGEkb2Zmc2V0cyA9IGRhdGEub2Zmc2V0cyxcbiAgICAgIHBvcHBlciA9IF9kYXRhJG9mZnNldHMucG9wcGVyLFxuICAgICAgcmVmZXJlbmNlID0gX2RhdGEkb2Zmc2V0cy5yZWZlcmVuY2U7XG5cbiAgdmFyIGJhc2VQbGFjZW1lbnQgPSBwbGFjZW1lbnQuc3BsaXQoJy0nKVswXTtcblxuICB2YXIgb2Zmc2V0cyA9IHZvaWQgMDtcbiAgaWYgKGlzTnVtZXJpYygrb2Zmc2V0KSkge1xuICAgIG9mZnNldHMgPSBbK29mZnNldCwgMF07XG4gIH0gZWxzZSB7XG4gICAgb2Zmc2V0cyA9IHBhcnNlT2Zmc2V0KG9mZnNldCwgcG9wcGVyLCByZWZlcmVuY2UsIGJhc2VQbGFjZW1lbnQpO1xuICB9XG5cbiAgaWYgKGJhc2VQbGFjZW1lbnQgPT09ICdsZWZ0Jykge1xuICAgIHBvcHBlci50b3AgKz0gb2Zmc2V0c1swXTtcbiAgICBwb3BwZXIubGVmdCAtPSBvZmZzZXRzWzFdO1xuICB9IGVsc2UgaWYgKGJhc2VQbGFjZW1lbnQgPT09ICdyaWdodCcpIHtcbiAgICBwb3BwZXIudG9wICs9IG9mZnNldHNbMF07XG4gICAgcG9wcGVyLmxlZnQgKz0gb2Zmc2V0c1sxXTtcbiAgfSBlbHNlIGlmIChiYXNlUGxhY2VtZW50ID09PSAndG9wJykge1xuICAgIHBvcHBlci5sZWZ0ICs9IG9mZnNldHNbMF07XG4gICAgcG9wcGVyLnRvcCAtPSBvZmZzZXRzWzFdO1xuICB9IGVsc2UgaWYgKGJhc2VQbGFjZW1lbnQgPT09ICdib3R0b20nKSB7XG4gICAgcG9wcGVyLmxlZnQgKz0gb2Zmc2V0c1swXTtcbiAgICBwb3BwZXIudG9wICs9IG9mZnNldHNbMV07XG4gIH1cblxuICBkYXRhLnBvcHBlciA9IHBvcHBlcjtcbiAgcmV0dXJuIGRhdGE7XG59XG5cbi8qKlxuICogQGZ1bmN0aW9uXG4gKiBAbWVtYmVyb2YgTW9kaWZpZXJzXG4gKiBAYXJndW1lbnQge09iamVjdH0gZGF0YSAtIFRoZSBkYXRhIG9iamVjdCBnZW5lcmF0ZWQgYnkgYHVwZGF0ZWAgbWV0aG9kXG4gKiBAYXJndW1lbnQge09iamVjdH0gb3B0aW9ucyAtIE1vZGlmaWVycyBjb25maWd1cmF0aW9uIGFuZCBvcHRpb25zXG4gKiBAcmV0dXJucyB7T2JqZWN0fSBUaGUgZGF0YSBvYmplY3QsIHByb3Blcmx5IG1vZGlmaWVkXG4gKi9cbmZ1bmN0aW9uIHByZXZlbnRPdmVyZmxvdyhkYXRhLCBvcHRpb25zKSB7XG4gIHZhciBib3VuZGFyaWVzRWxlbWVudCA9IG9wdGlvbnMuYm91bmRhcmllc0VsZW1lbnQgfHwgZ2V0T2Zmc2V0UGFyZW50KGRhdGEuaW5zdGFuY2UucG9wcGVyKTtcblxuICAvLyBJZiBvZmZzZXRQYXJlbnQgaXMgdGhlIHJlZmVyZW5jZSBlbGVtZW50LCB3ZSByZWFsbHkgd2FudCB0b1xuICAvLyBnbyBvbmUgc3RlcCB1cCBhbmQgdXNlIHRoZSBuZXh0IG9mZnNldFBhcmVudCBhcyByZWZlcmVuY2UgdG9cbiAgLy8gYXZvaWQgdG8gbWFrZSB0aGlzIG1vZGlmaWVyIGNvbXBsZXRlbHkgdXNlbGVzcyBhbmQgbG9vayBsaWtlIGJyb2tlblxuICBpZiAoZGF0YS5pbnN0YW5jZS5yZWZlcmVuY2UgPT09IGJvdW5kYXJpZXNFbGVtZW50KSB7XG4gICAgYm91bmRhcmllc0VsZW1lbnQgPSBnZXRPZmZzZXRQYXJlbnQoYm91bmRhcmllc0VsZW1lbnQpO1xuICB9XG5cbiAgLy8gTk9URTogRE9NIGFjY2VzcyBoZXJlXG4gIC8vIHJlc2V0cyB0aGUgcG9wcGVyJ3MgcG9zaXRpb24gc28gdGhhdCB0aGUgZG9jdW1lbnQgc2l6ZSBjYW4gYmUgY2FsY3VsYXRlZCBleGNsdWRpbmdcbiAgLy8gdGhlIHNpemUgb2YgdGhlIHBvcHBlciBlbGVtZW50IGl0c2VsZlxuICB2YXIgdHJhbnNmb3JtUHJvcCA9IGdldFN1cHBvcnRlZFByb3BlcnR5TmFtZSgndHJhbnNmb3JtJyk7XG4gIHZhciBwb3BwZXJTdHlsZXMgPSBkYXRhLmluc3RhbmNlLnBvcHBlci5zdHlsZTsgLy8gYXNzaWdubWVudCB0byBoZWxwIG1pbmlmaWNhdGlvblxuICB2YXIgdG9wID0gcG9wcGVyU3R5bGVzLnRvcCxcbiAgICAgIGxlZnQgPSBwb3BwZXJTdHlsZXMubGVmdCxcbiAgICAgIHRyYW5zZm9ybSA9IHBvcHBlclN0eWxlc1t0cmFuc2Zvcm1Qcm9wXTtcblxuICBwb3BwZXJTdHlsZXMudG9wID0gJyc7XG4gIHBvcHBlclN0eWxlcy5sZWZ0ID0gJyc7XG4gIHBvcHBlclN0eWxlc1t0cmFuc2Zvcm1Qcm9wXSA9ICcnO1xuXG4gIHZhciBib3VuZGFyaWVzID0gZ2V0Qm91bmRhcmllcyhkYXRhLmluc3RhbmNlLnBvcHBlciwgZGF0YS5pbnN0YW5jZS5yZWZlcmVuY2UsIG9wdGlvbnMucGFkZGluZywgYm91bmRhcmllc0VsZW1lbnQsIGRhdGEucG9zaXRpb25GaXhlZCk7XG5cbiAgLy8gTk9URTogRE9NIGFjY2VzcyBoZXJlXG4gIC8vIHJlc3RvcmVzIHRoZSBvcmlnaW5hbCBzdHlsZSBwcm9wZXJ0aWVzIGFmdGVyIHRoZSBvZmZzZXRzIGhhdmUgYmVlbiBjb21wdXRlZFxuICBwb3BwZXJTdHlsZXMudG9wID0gdG9wO1xuICBwb3BwZXJTdHlsZXMubGVmdCA9IGxlZnQ7XG4gIHBvcHBlclN0eWxlc1t0cmFuc2Zvcm1Qcm9wXSA9IHRyYW5zZm9ybTtcblxuICBvcHRpb25zLmJvdW5kYXJpZXMgPSBib3VuZGFyaWVzO1xuXG4gIHZhciBvcmRlciA9IG9wdGlvbnMucHJpb3JpdHk7XG4gIHZhciBwb3BwZXIgPSBkYXRhLm9mZnNldHMucG9wcGVyO1xuXG4gIHZhciBjaGVjayA9IHtcbiAgICBwcmltYXJ5OiBmdW5jdGlvbiBwcmltYXJ5KHBsYWNlbWVudCkge1xuICAgICAgdmFyIHZhbHVlID0gcG9wcGVyW3BsYWNlbWVudF07XG4gICAgICBpZiAocG9wcGVyW3BsYWNlbWVudF0gPCBib3VuZGFyaWVzW3BsYWNlbWVudF0gJiYgIW9wdGlvbnMuZXNjYXBlV2l0aFJlZmVyZW5jZSkge1xuICAgICAgICB2YWx1ZSA9IE1hdGgubWF4KHBvcHBlcltwbGFjZW1lbnRdLCBib3VuZGFyaWVzW3BsYWNlbWVudF0pO1xuICAgICAgfVxuICAgICAgcmV0dXJuIGRlZmluZVByb3BlcnR5KHt9LCBwbGFjZW1lbnQsIHZhbHVlKTtcbiAgICB9LFxuICAgIHNlY29uZGFyeTogZnVuY3Rpb24gc2Vjb25kYXJ5KHBsYWNlbWVudCkge1xuICAgICAgdmFyIG1haW5TaWRlID0gcGxhY2VtZW50ID09PSAncmlnaHQnID8gJ2xlZnQnIDogJ3RvcCc7XG4gICAgICB2YXIgdmFsdWUgPSBwb3BwZXJbbWFpblNpZGVdO1xuICAgICAgaWYgKHBvcHBlcltwbGFjZW1lbnRdID4gYm91bmRhcmllc1twbGFjZW1lbnRdICYmICFvcHRpb25zLmVzY2FwZVdpdGhSZWZlcmVuY2UpIHtcbiAgICAgICAgdmFsdWUgPSBNYXRoLm1pbihwb3BwZXJbbWFpblNpZGVdLCBib3VuZGFyaWVzW3BsYWNlbWVudF0gLSAocGxhY2VtZW50ID09PSAncmlnaHQnID8gcG9wcGVyLndpZHRoIDogcG9wcGVyLmhlaWdodCkpO1xuICAgICAgfVxuICAgICAgcmV0dXJuIGRlZmluZVByb3BlcnR5KHt9LCBtYWluU2lkZSwgdmFsdWUpO1xuICAgIH1cbiAgfTtcblxuICBvcmRlci5mb3JFYWNoKGZ1bmN0aW9uIChwbGFjZW1lbnQpIHtcbiAgICB2YXIgc2lkZSA9IFsnbGVmdCcsICd0b3AnXS5pbmRleE9mKHBsYWNlbWVudCkgIT09IC0xID8gJ3ByaW1hcnknIDogJ3NlY29uZGFyeSc7XG4gICAgcG9wcGVyID0gX2V4dGVuZHMoe30sIHBvcHBlciwgY2hlY2tbc2lkZV0ocGxhY2VtZW50KSk7XG4gIH0pO1xuXG4gIGRhdGEub2Zmc2V0cy5wb3BwZXIgPSBwb3BwZXI7XG5cbiAgcmV0dXJuIGRhdGE7XG59XG5cbi8qKlxuICogQGZ1bmN0aW9uXG4gKiBAbWVtYmVyb2YgTW9kaWZpZXJzXG4gKiBAYXJndW1lbnQge09iamVjdH0gZGF0YSAtIFRoZSBkYXRhIG9iamVjdCBnZW5lcmF0ZWQgYnkgYHVwZGF0ZWAgbWV0aG9kXG4gKiBAYXJndW1lbnQge09iamVjdH0gb3B0aW9ucyAtIE1vZGlmaWVycyBjb25maWd1cmF0aW9uIGFuZCBvcHRpb25zXG4gKiBAcmV0dXJucyB7T2JqZWN0fSBUaGUgZGF0YSBvYmplY3QsIHByb3Blcmx5IG1vZGlmaWVkXG4gKi9cbmZ1bmN0aW9uIHNoaWZ0KGRhdGEpIHtcbiAgdmFyIHBsYWNlbWVudCA9IGRhdGEucGxhY2VtZW50O1xuICB2YXIgYmFzZVBsYWNlbWVudCA9IHBsYWNlbWVudC5zcGxpdCgnLScpWzBdO1xuICB2YXIgc2hpZnR2YXJpYXRpb24gPSBwbGFjZW1lbnQuc3BsaXQoJy0nKVsxXTtcblxuICAvLyBpZiBzaGlmdCBzaGlmdHZhcmlhdGlvbiBpcyBzcGVjaWZpZWQsIHJ1biB0aGUgbW9kaWZpZXJcbiAgaWYgKHNoaWZ0dmFyaWF0aW9uKSB7XG4gICAgdmFyIF9kYXRhJG9mZnNldHMgPSBkYXRhLm9mZnNldHMsXG4gICAgICAgIHJlZmVyZW5jZSA9IF9kYXRhJG9mZnNldHMucmVmZXJlbmNlLFxuICAgICAgICBwb3BwZXIgPSBfZGF0YSRvZmZzZXRzLnBvcHBlcjtcblxuICAgIHZhciBpc1ZlcnRpY2FsID0gWydib3R0b20nLCAndG9wJ10uaW5kZXhPZihiYXNlUGxhY2VtZW50KSAhPT0gLTE7XG4gICAgdmFyIHNpZGUgPSBpc1ZlcnRpY2FsID8gJ2xlZnQnIDogJ3RvcCc7XG4gICAgdmFyIG1lYXN1cmVtZW50ID0gaXNWZXJ0aWNhbCA/ICd3aWR0aCcgOiAnaGVpZ2h0JztcblxuICAgIHZhciBzaGlmdE9mZnNldHMgPSB7XG4gICAgICBzdGFydDogZGVmaW5lUHJvcGVydHkoe30sIHNpZGUsIHJlZmVyZW5jZVtzaWRlXSksXG4gICAgICBlbmQ6IGRlZmluZVByb3BlcnR5KHt9LCBzaWRlLCByZWZlcmVuY2Vbc2lkZV0gKyByZWZlcmVuY2VbbWVhc3VyZW1lbnRdIC0gcG9wcGVyW21lYXN1cmVtZW50XSlcbiAgICB9O1xuXG4gICAgZGF0YS5vZmZzZXRzLnBvcHBlciA9IF9leHRlbmRzKHt9LCBwb3BwZXIsIHNoaWZ0T2Zmc2V0c1tzaGlmdHZhcmlhdGlvbl0pO1xuICB9XG5cbiAgcmV0dXJuIGRhdGE7XG59XG5cbi8qKlxuICogQGZ1bmN0aW9uXG4gKiBAbWVtYmVyb2YgTW9kaWZpZXJzXG4gKiBAYXJndW1lbnQge09iamVjdH0gZGF0YSAtIFRoZSBkYXRhIG9iamVjdCBnZW5lcmF0ZWQgYnkgdXBkYXRlIG1ldGhvZFxuICogQGFyZ3VtZW50IHtPYmplY3R9IG9wdGlvbnMgLSBNb2RpZmllcnMgY29uZmlndXJhdGlvbiBhbmQgb3B0aW9uc1xuICogQHJldHVybnMge09iamVjdH0gVGhlIGRhdGEgb2JqZWN0LCBwcm9wZXJseSBtb2RpZmllZFxuICovXG5mdW5jdGlvbiBoaWRlKGRhdGEpIHtcbiAgaWYgKCFpc01vZGlmaWVyUmVxdWlyZWQoZGF0YS5pbnN0YW5jZS5tb2RpZmllcnMsICdoaWRlJywgJ3ByZXZlbnRPdmVyZmxvdycpKSB7XG4gICAgcmV0dXJuIGRhdGE7XG4gIH1cblxuICB2YXIgcmVmUmVjdCA9IGRhdGEub2Zmc2V0cy5yZWZlcmVuY2U7XG4gIHZhciBib3VuZCA9IGZpbmQoZGF0YS5pbnN0YW5jZS5tb2RpZmllcnMsIGZ1bmN0aW9uIChtb2RpZmllcikge1xuICAgIHJldHVybiBtb2RpZmllci5uYW1lID09PSAncHJldmVudE92ZXJmbG93JztcbiAgfSkuYm91bmRhcmllcztcblxuICBpZiAocmVmUmVjdC5ib3R0b20gPCBib3VuZC50b3AgfHwgcmVmUmVjdC5sZWZ0ID4gYm91bmQucmlnaHQgfHwgcmVmUmVjdC50b3AgPiBib3VuZC5ib3R0b20gfHwgcmVmUmVjdC5yaWdodCA8IGJvdW5kLmxlZnQpIHtcbiAgICAvLyBBdm9pZCB1bm5lY2Vzc2FyeSBET00gYWNjZXNzIGlmIHZpc2liaWxpdHkgaGFzbid0IGNoYW5nZWRcbiAgICBpZiAoZGF0YS5oaWRlID09PSB0cnVlKSB7XG4gICAgICByZXR1cm4gZGF0YTtcbiAgICB9XG5cbiAgICBkYXRhLmhpZGUgPSB0cnVlO1xuICAgIGRhdGEuYXR0cmlidXRlc1sneC1vdXQtb2YtYm91bmRhcmllcyddID0gJyc7XG4gIH0gZWxzZSB7XG4gICAgLy8gQXZvaWQgdW5uZWNlc3NhcnkgRE9NIGFjY2VzcyBpZiB2aXNpYmlsaXR5IGhhc24ndCBjaGFuZ2VkXG4gICAgaWYgKGRhdGEuaGlkZSA9PT0gZmFsc2UpIHtcbiAgICAgIHJldHVybiBkYXRhO1xuICAgIH1cblxuICAgIGRhdGEuaGlkZSA9IGZhbHNlO1xuICAgIGRhdGEuYXR0cmlidXRlc1sneC1vdXQtb2YtYm91bmRhcmllcyddID0gZmFsc2U7XG4gIH1cblxuICByZXR1cm4gZGF0YTtcbn1cblxuLyoqXG4gKiBAZnVuY3Rpb25cbiAqIEBtZW1iZXJvZiBNb2RpZmllcnNcbiAqIEBhcmd1bWVudCB7T2JqZWN0fSBkYXRhIC0gVGhlIGRhdGEgb2JqZWN0IGdlbmVyYXRlZCBieSBgdXBkYXRlYCBtZXRob2RcbiAqIEBhcmd1bWVudCB7T2JqZWN0fSBvcHRpb25zIC0gTW9kaWZpZXJzIGNvbmZpZ3VyYXRpb24gYW5kIG9wdGlvbnNcbiAqIEByZXR1cm5zIHtPYmplY3R9IFRoZSBkYXRhIG9iamVjdCwgcHJvcGVybHkgbW9kaWZpZWRcbiAqL1xuZnVuY3Rpb24gaW5uZXIoZGF0YSkge1xuICB2YXIgcGxhY2VtZW50ID0gZGF0YS5wbGFjZW1lbnQ7XG4gIHZhciBiYXNlUGxhY2VtZW50ID0gcGxhY2VtZW50LnNwbGl0KCctJylbMF07XG4gIHZhciBfZGF0YSRvZmZzZXRzID0gZGF0YS5vZmZzZXRzLFxuICAgICAgcG9wcGVyID0gX2RhdGEkb2Zmc2V0cy5wb3BwZXIsXG4gICAgICByZWZlcmVuY2UgPSBfZGF0YSRvZmZzZXRzLnJlZmVyZW5jZTtcblxuICB2YXIgaXNIb3JpeiA9IFsnbGVmdCcsICdyaWdodCddLmluZGV4T2YoYmFzZVBsYWNlbWVudCkgIT09IC0xO1xuXG4gIHZhciBzdWJ0cmFjdExlbmd0aCA9IFsndG9wJywgJ2xlZnQnXS5pbmRleE9mKGJhc2VQbGFjZW1lbnQpID09PSAtMTtcblxuICBwb3BwZXJbaXNIb3JpeiA/ICdsZWZ0JyA6ICd0b3AnXSA9IHJlZmVyZW5jZVtiYXNlUGxhY2VtZW50XSAtIChzdWJ0cmFjdExlbmd0aCA/IHBvcHBlcltpc0hvcml6ID8gJ3dpZHRoJyA6ICdoZWlnaHQnXSA6IDApO1xuXG4gIGRhdGEucGxhY2VtZW50ID0gZ2V0T3Bwb3NpdGVQbGFjZW1lbnQocGxhY2VtZW50KTtcbiAgZGF0YS5vZmZzZXRzLnBvcHBlciA9IGdldENsaWVudFJlY3QocG9wcGVyKTtcblxuICByZXR1cm4gZGF0YTtcbn1cblxuLyoqXG4gKiBNb2RpZmllciBmdW5jdGlvbiwgZWFjaCBtb2RpZmllciBjYW4gaGF2ZSBhIGZ1bmN0aW9uIG9mIHRoaXMgdHlwZSBhc3NpZ25lZFxuICogdG8gaXRzIGBmbmAgcHJvcGVydHkuPGJyIC8+XG4gKiBUaGVzZSBmdW5jdGlvbnMgd2lsbCBiZSBjYWxsZWQgb24gZWFjaCB1cGRhdGUsIHRoaXMgbWVhbnMgdGhhdCB5b3UgbXVzdFxuICogbWFrZSBzdXJlIHRoZXkgYXJlIHBlcmZvcm1hbnQgZW5vdWdoIHRvIGF2b2lkIHBlcmZvcm1hbmNlIGJvdHRsZW5lY2tzLlxuICpcbiAqIEBmdW5jdGlvbiBNb2RpZmllckZuXG4gKiBAYXJndW1lbnQge2RhdGFPYmplY3R9IGRhdGEgLSBUaGUgZGF0YSBvYmplY3QgZ2VuZXJhdGVkIGJ5IGB1cGRhdGVgIG1ldGhvZFxuICogQGFyZ3VtZW50IHtPYmplY3R9IG9wdGlvbnMgLSBNb2RpZmllcnMgY29uZmlndXJhdGlvbiBhbmQgb3B0aW9uc1xuICogQHJldHVybnMge2RhdGFPYmplY3R9IFRoZSBkYXRhIG9iamVjdCwgcHJvcGVybHkgbW9kaWZpZWRcbiAqL1xuXG4vKipcbiAqIE1vZGlmaWVycyBhcmUgcGx1Z2lucyB1c2VkIHRvIGFsdGVyIHRoZSBiZWhhdmlvciBvZiB5b3VyIHBvcHBlcnMuPGJyIC8+XG4gKiBQb3BwZXIuanMgdXNlcyBhIHNldCBvZiA5IG1vZGlmaWVycyB0byBwcm92aWRlIGFsbCB0aGUgYmFzaWMgZnVuY3Rpb25hbGl0aWVzXG4gKiBuZWVkZWQgYnkgdGhlIGxpYnJhcnkuXG4gKlxuICogVXN1YWxseSB5b3UgZG9uJ3Qgd2FudCB0byBvdmVycmlkZSB0aGUgYG9yZGVyYCwgYGZuYCBhbmQgYG9uTG9hZGAgcHJvcHMuXG4gKiBBbGwgdGhlIG90aGVyIHByb3BlcnRpZXMgYXJlIGNvbmZpZ3VyYXRpb25zIHRoYXQgY291bGQgYmUgdHdlYWtlZC5cbiAqIEBuYW1lc3BhY2UgbW9kaWZpZXJzXG4gKi9cbnZhciBtb2RpZmllcnMgPSB7XG4gIC8qKlxuICAgKiBNb2RpZmllciB1c2VkIHRvIHNoaWZ0IHRoZSBwb3BwZXIgb24gdGhlIHN0YXJ0IG9yIGVuZCBvZiBpdHMgcmVmZXJlbmNlXG4gICAqIGVsZW1lbnQuPGJyIC8+XG4gICAqIEl0IHdpbGwgcmVhZCB0aGUgdmFyaWF0aW9uIG9mIHRoZSBgcGxhY2VtZW50YCBwcm9wZXJ0eS48YnIgLz5cbiAgICogSXQgY2FuIGJlIG9uZSBlaXRoZXIgYC1lbmRgIG9yIGAtc3RhcnRgLlxuICAgKiBAbWVtYmVyb2YgbW9kaWZpZXJzXG4gICAqIEBpbm5lclxuICAgKi9cbiAgc2hpZnQ6IHtcbiAgICAvKiogQHByb3Age251bWJlcn0gb3JkZXI9MTAwIC0gSW5kZXggdXNlZCB0byBkZWZpbmUgdGhlIG9yZGVyIG9mIGV4ZWN1dGlvbiAqL1xuICAgIG9yZGVyOiAxMDAsXG4gICAgLyoqIEBwcm9wIHtCb29sZWFufSBlbmFibGVkPXRydWUgLSBXaGV0aGVyIHRoZSBtb2RpZmllciBpcyBlbmFibGVkIG9yIG5vdCAqL1xuICAgIGVuYWJsZWQ6IHRydWUsXG4gICAgLyoqIEBwcm9wIHtNb2RpZmllckZufSAqL1xuICAgIGZuOiBzaGlmdFxuICB9LFxuXG4gIC8qKlxuICAgKiBUaGUgYG9mZnNldGAgbW9kaWZpZXIgY2FuIHNoaWZ0IHlvdXIgcG9wcGVyIG9uIGJvdGggaXRzIGF4aXMuXG4gICAqXG4gICAqIEl0IGFjY2VwdHMgdGhlIGZvbGxvd2luZyB1bml0czpcbiAgICogLSBgcHhgIG9yIHVuaXQtbGVzcywgaW50ZXJwcmV0ZWQgYXMgcGl4ZWxzXG4gICAqIC0gYCVgIG9yIGAlcmAsIHBlcmNlbnRhZ2UgcmVsYXRpdmUgdG8gdGhlIGxlbmd0aCBvZiB0aGUgcmVmZXJlbmNlIGVsZW1lbnRcbiAgICogLSBgJXBgLCBwZXJjZW50YWdlIHJlbGF0aXZlIHRvIHRoZSBsZW5ndGggb2YgdGhlIHBvcHBlciBlbGVtZW50XG4gICAqIC0gYHZ3YCwgQ1NTIHZpZXdwb3J0IHdpZHRoIHVuaXRcbiAgICogLSBgdmhgLCBDU1Mgdmlld3BvcnQgaGVpZ2h0IHVuaXRcbiAgICpcbiAgICogRm9yIGxlbmd0aCBpcyBpbnRlbmRlZCB0aGUgbWFpbiBheGlzIHJlbGF0aXZlIHRvIHRoZSBwbGFjZW1lbnQgb2YgdGhlIHBvcHBlci48YnIgLz5cbiAgICogVGhpcyBtZWFucyB0aGF0IGlmIHRoZSBwbGFjZW1lbnQgaXMgYHRvcGAgb3IgYGJvdHRvbWAsIHRoZSBsZW5ndGggd2lsbCBiZSB0aGVcbiAgICogYHdpZHRoYC4gSW4gY2FzZSBvZiBgbGVmdGAgb3IgYHJpZ2h0YCwgaXQgd2lsbCBiZSB0aGUgYGhlaWdodGAuXG4gICAqXG4gICAqIFlvdSBjYW4gcHJvdmlkZSBhIHNpbmdsZSB2YWx1ZSAoYXMgYE51bWJlcmAgb3IgYFN0cmluZ2ApLCBvciBhIHBhaXIgb2YgdmFsdWVzXG4gICAqIGFzIGBTdHJpbmdgIGRpdmlkZWQgYnkgYSBjb21tYSBvciBvbmUgKG9yIG1vcmUpIHdoaXRlIHNwYWNlcy48YnIgLz5cbiAgICogVGhlIGxhdHRlciBpcyBhIGRlcHJlY2F0ZWQgbWV0aG9kIGJlY2F1c2UgaXQgbGVhZHMgdG8gY29uZnVzaW9uIGFuZCB3aWxsIGJlXG4gICAqIHJlbW92ZWQgaW4gdjIuPGJyIC8+XG4gICAqIEFkZGl0aW9uYWxseSwgaXQgYWNjZXB0cyBhZGRpdGlvbnMgYW5kIHN1YnRyYWN0aW9ucyBiZXR3ZWVuIGRpZmZlcmVudCB1bml0cy5cbiAgICogTm90ZSB0aGF0IG11bHRpcGxpY2F0aW9ucyBhbmQgZGl2aXNpb25zIGFyZW4ndCBzdXBwb3J0ZWQuXG4gICAqXG4gICAqIFZhbGlkIGV4YW1wbGVzIGFyZTpcbiAgICogYGBgXG4gICAqIDEwXG4gICAqICcxMCUnXG4gICAqICcxMCwgMTAnXG4gICAqICcxMCUsIDEwJ1xuICAgKiAnMTAgKyAxMCUnXG4gICAqICcxMCAtIDV2aCArIDMlJ1xuICAgKiAnLTEwcHggKyA1dmgsIDVweCAtIDYlJ1xuICAgKiBgYGBcbiAgICogPiAqKk5CKio6IElmIHlvdSBkZXNpcmUgdG8gYXBwbHkgb2Zmc2V0cyB0byB5b3VyIHBvcHBlcnMgaW4gYSB3YXkgdGhhdCBtYXkgbWFrZSB0aGVtIG92ZXJsYXBcbiAgICogPiB3aXRoIHRoZWlyIHJlZmVyZW5jZSBlbGVtZW50LCB1bmZvcnR1bmF0ZWx5LCB5b3Ugd2lsbCBoYXZlIHRvIGRpc2FibGUgdGhlIGBmbGlwYCBtb2RpZmllci5cbiAgICogPiBZb3UgY2FuIHJlYWQgbW9yZSBvbiB0aGlzIGF0IHRoaXMgW2lzc3VlXShodHRwczovL2dpdGh1Yi5jb20vRmV6VnJhc3RhL3BvcHBlci5qcy9pc3N1ZXMvMzczKS5cbiAgICpcbiAgICogQG1lbWJlcm9mIG1vZGlmaWVyc1xuICAgKiBAaW5uZXJcbiAgICovXG4gIG9mZnNldDoge1xuICAgIC8qKiBAcHJvcCB7bnVtYmVyfSBvcmRlcj0yMDAgLSBJbmRleCB1c2VkIHRvIGRlZmluZSB0aGUgb3JkZXIgb2YgZXhlY3V0aW9uICovXG4gICAgb3JkZXI6IDIwMCxcbiAgICAvKiogQHByb3Age0Jvb2xlYW59IGVuYWJsZWQ9dHJ1ZSAtIFdoZXRoZXIgdGhlIG1vZGlmaWVyIGlzIGVuYWJsZWQgb3Igbm90ICovXG4gICAgZW5hYmxlZDogdHJ1ZSxcbiAgICAvKiogQHByb3Age01vZGlmaWVyRm59ICovXG4gICAgZm46IG9mZnNldCxcbiAgICAvKiogQHByb3Age051bWJlcnxTdHJpbmd9IG9mZnNldD0wXG4gICAgICogVGhlIG9mZnNldCB2YWx1ZSBhcyBkZXNjcmliZWQgaW4gdGhlIG1vZGlmaWVyIGRlc2NyaXB0aW9uXG4gICAgICovXG4gICAgb2Zmc2V0OiAwXG4gIH0sXG5cbiAgLyoqXG4gICAqIE1vZGlmaWVyIHVzZWQgdG8gcHJldmVudCB0aGUgcG9wcGVyIGZyb20gYmVpbmcgcG9zaXRpb25lZCBvdXRzaWRlIHRoZSBib3VuZGFyeS5cbiAgICpcbiAgICogQSBzY2VuYXJpbyBleGlzdHMgd2hlcmUgdGhlIHJlZmVyZW5jZSBpdHNlbGYgaXMgbm90IHdpdGhpbiB0aGUgYm91bmRhcmllcy48YnIgLz5cbiAgICogV2UgY2FuIHNheSBpdCBoYXMgXCJlc2NhcGVkIHRoZSBib3VuZGFyaWVzXCIg4oCUIG9yIGp1c3QgXCJlc2NhcGVkXCIuPGJyIC8+XG4gICAqIEluIHRoaXMgY2FzZSB3ZSBuZWVkIHRvIGRlY2lkZSB3aGV0aGVyIHRoZSBwb3BwZXIgc2hvdWxkIGVpdGhlcjpcbiAgICpcbiAgICogLSBkZXRhY2ggZnJvbSB0aGUgcmVmZXJlbmNlIGFuZCByZW1haW4gXCJ0cmFwcGVkXCIgaW4gdGhlIGJvdW5kYXJpZXMsIG9yXG4gICAqIC0gaWYgaXQgc2hvdWxkIGlnbm9yZSB0aGUgYm91bmRhcnkgYW5kIFwiZXNjYXBlIHdpdGggaXRzIHJlZmVyZW5jZVwiXG4gICAqXG4gICAqIFdoZW4gYGVzY2FwZVdpdGhSZWZlcmVuY2VgIGlzIHNldCB0b2B0cnVlYCBhbmQgcmVmZXJlbmNlIGlzIGNvbXBsZXRlbHlcbiAgICogb3V0c2lkZSBpdHMgYm91bmRhcmllcywgdGhlIHBvcHBlciB3aWxsIG92ZXJmbG93IChvciBjb21wbGV0ZWx5IGxlYXZlKVxuICAgKiB0aGUgYm91bmRhcmllcyBpbiBvcmRlciB0byByZW1haW4gYXR0YWNoZWQgdG8gdGhlIGVkZ2Ugb2YgdGhlIHJlZmVyZW5jZS5cbiAgICpcbiAgICogQG1lbWJlcm9mIG1vZGlmaWVyc1xuICAgKiBAaW5uZXJcbiAgICovXG4gIHByZXZlbnRPdmVyZmxvdzoge1xuICAgIC8qKiBAcHJvcCB7bnVtYmVyfSBvcmRlcj0zMDAgLSBJbmRleCB1c2VkIHRvIGRlZmluZSB0aGUgb3JkZXIgb2YgZXhlY3V0aW9uICovXG4gICAgb3JkZXI6IDMwMCxcbiAgICAvKiogQHByb3Age0Jvb2xlYW59IGVuYWJsZWQ9dHJ1ZSAtIFdoZXRoZXIgdGhlIG1vZGlmaWVyIGlzIGVuYWJsZWQgb3Igbm90ICovXG4gICAgZW5hYmxlZDogdHJ1ZSxcbiAgICAvKiogQHByb3Age01vZGlmaWVyRm59ICovXG4gICAgZm46IHByZXZlbnRPdmVyZmxvdyxcbiAgICAvKipcbiAgICAgKiBAcHJvcCB7QXJyYXl9IFtwcmlvcml0eT1bJ2xlZnQnLCdyaWdodCcsJ3RvcCcsJ2JvdHRvbSddXVxuICAgICAqIFBvcHBlciB3aWxsIHRyeSB0byBwcmV2ZW50IG92ZXJmbG93IGZvbGxvd2luZyB0aGVzZSBwcmlvcml0aWVzIGJ5IGRlZmF1bHQsXG4gICAgICogdGhlbiwgaXQgY291bGQgb3ZlcmZsb3cgb24gdGhlIGxlZnQgYW5kIG9uIHRvcCBvZiB0aGUgYGJvdW5kYXJpZXNFbGVtZW50YFxuICAgICAqL1xuICAgIHByaW9yaXR5OiBbJ2xlZnQnLCAncmlnaHQnLCAndG9wJywgJ2JvdHRvbSddLFxuICAgIC8qKlxuICAgICAqIEBwcm9wIHtudW1iZXJ9IHBhZGRpbmc9NVxuICAgICAqIEFtb3VudCBvZiBwaXhlbCB1c2VkIHRvIGRlZmluZSBhIG1pbmltdW0gZGlzdGFuY2UgYmV0d2VlbiB0aGUgYm91bmRhcmllc1xuICAgICAqIGFuZCB0aGUgcG9wcGVyLiBUaGlzIG1ha2VzIHN1cmUgdGhlIHBvcHBlciBhbHdheXMgaGFzIGEgbGl0dGxlIHBhZGRpbmdcbiAgICAgKiBiZXR3ZWVuIHRoZSBlZGdlcyBvZiBpdHMgY29udGFpbmVyXG4gICAgICovXG4gICAgcGFkZGluZzogNSxcbiAgICAvKipcbiAgICAgKiBAcHJvcCB7U3RyaW5nfEhUTUxFbGVtZW50fSBib3VuZGFyaWVzRWxlbWVudD0nc2Nyb2xsUGFyZW50J1xuICAgICAqIEJvdW5kYXJpZXMgdXNlZCBieSB0aGUgbW9kaWZpZXIuIENhbiBiZSBgc2Nyb2xsUGFyZW50YCwgYHdpbmRvd2AsXG4gICAgICogYHZpZXdwb3J0YCBvciBhbnkgRE9NIGVsZW1lbnQuXG4gICAgICovXG4gICAgYm91bmRhcmllc0VsZW1lbnQ6ICdzY3JvbGxQYXJlbnQnXG4gIH0sXG5cbiAgLyoqXG4gICAqIE1vZGlmaWVyIHVzZWQgdG8gbWFrZSBzdXJlIHRoZSByZWZlcmVuY2UgYW5kIGl0cyBwb3BwZXIgc3RheSBuZWFyIGVhY2ggb3RoZXJcbiAgICogd2l0aG91dCBsZWF2aW5nIGFueSBnYXAgYmV0d2VlbiB0aGUgdHdvLiBFc3BlY2lhbGx5IHVzZWZ1bCB3aGVuIHRoZSBhcnJvdyBpc1xuICAgKiBlbmFibGVkIGFuZCB5b3Ugd2FudCB0byBlbnN1cmUgdGhhdCBpdCBwb2ludHMgdG8gaXRzIHJlZmVyZW5jZSBlbGVtZW50LlxuICAgKiBJdCBjYXJlcyBvbmx5IGFib3V0IHRoZSBmaXJzdCBheGlzLiBZb3UgY2FuIHN0aWxsIGhhdmUgcG9wcGVycyB3aXRoIG1hcmdpblxuICAgKiBiZXR3ZWVuIHRoZSBwb3BwZXIgYW5kIGl0cyByZWZlcmVuY2UgZWxlbWVudC5cbiAgICogQG1lbWJlcm9mIG1vZGlmaWVyc1xuICAgKiBAaW5uZXJcbiAgICovXG4gIGtlZXBUb2dldGhlcjoge1xuICAgIC8qKiBAcHJvcCB7bnVtYmVyfSBvcmRlcj00MDAgLSBJbmRleCB1c2VkIHRvIGRlZmluZSB0aGUgb3JkZXIgb2YgZXhlY3V0aW9uICovXG4gICAgb3JkZXI6IDQwMCxcbiAgICAvKiogQHByb3Age0Jvb2xlYW59IGVuYWJsZWQ9dHJ1ZSAtIFdoZXRoZXIgdGhlIG1vZGlmaWVyIGlzIGVuYWJsZWQgb3Igbm90ICovXG4gICAgZW5hYmxlZDogdHJ1ZSxcbiAgICAvKiogQHByb3Age01vZGlmaWVyRm59ICovXG4gICAgZm46IGtlZXBUb2dldGhlclxuICB9LFxuXG4gIC8qKlxuICAgKiBUaGlzIG1vZGlmaWVyIGlzIHVzZWQgdG8gbW92ZSB0aGUgYGFycm93RWxlbWVudGAgb2YgdGhlIHBvcHBlciB0byBtYWtlXG4gICAqIHN1cmUgaXQgaXMgcG9zaXRpb25lZCBiZXR3ZWVuIHRoZSByZWZlcmVuY2UgZWxlbWVudCBhbmQgaXRzIHBvcHBlciBlbGVtZW50LlxuICAgKiBJdCB3aWxsIHJlYWQgdGhlIG91dGVyIHNpemUgb2YgdGhlIGBhcnJvd0VsZW1lbnRgIG5vZGUgdG8gZGV0ZWN0IGhvdyBtYW55XG4gICAqIHBpeGVscyBvZiBjb25qdW5jdGlvbiBhcmUgbmVlZGVkLlxuICAgKlxuICAgKiBJdCBoYXMgbm8gZWZmZWN0IGlmIG5vIGBhcnJvd0VsZW1lbnRgIGlzIHByb3ZpZGVkLlxuICAgKiBAbWVtYmVyb2YgbW9kaWZpZXJzXG4gICAqIEBpbm5lclxuICAgKi9cbiAgYXJyb3c6IHtcbiAgICAvKiogQHByb3Age251bWJlcn0gb3JkZXI9NTAwIC0gSW5kZXggdXNlZCB0byBkZWZpbmUgdGhlIG9yZGVyIG9mIGV4ZWN1dGlvbiAqL1xuICAgIG9yZGVyOiA1MDAsXG4gICAgLyoqIEBwcm9wIHtCb29sZWFufSBlbmFibGVkPXRydWUgLSBXaGV0aGVyIHRoZSBtb2RpZmllciBpcyBlbmFibGVkIG9yIG5vdCAqL1xuICAgIGVuYWJsZWQ6IHRydWUsXG4gICAgLyoqIEBwcm9wIHtNb2RpZmllckZufSAqL1xuICAgIGZuOiBhcnJvdyxcbiAgICAvKiogQHByb3Age1N0cmluZ3xIVE1MRWxlbWVudH0gZWxlbWVudD0nW3gtYXJyb3ddJyAtIFNlbGVjdG9yIG9yIG5vZGUgdXNlZCBhcyBhcnJvdyAqL1xuICAgIGVsZW1lbnQ6ICdbeC1hcnJvd10nXG4gIH0sXG5cbiAgLyoqXG4gICAqIE1vZGlmaWVyIHVzZWQgdG8gZmxpcCB0aGUgcG9wcGVyJ3MgcGxhY2VtZW50IHdoZW4gaXQgc3RhcnRzIHRvIG92ZXJsYXAgaXRzXG4gICAqIHJlZmVyZW5jZSBlbGVtZW50LlxuICAgKlxuICAgKiBSZXF1aXJlcyB0aGUgYHByZXZlbnRPdmVyZmxvd2AgbW9kaWZpZXIgYmVmb3JlIGl0IGluIG9yZGVyIHRvIHdvcmsuXG4gICAqXG4gICAqICoqTk9URToqKiB0aGlzIG1vZGlmaWVyIHdpbGwgaW50ZXJydXB0IHRoZSBjdXJyZW50IHVwZGF0ZSBjeWNsZSBhbmQgd2lsbFxuICAgKiByZXN0YXJ0IGl0IGlmIGl0IGRldGVjdHMgdGhlIG5lZWQgdG8gZmxpcCB0aGUgcGxhY2VtZW50LlxuICAgKiBAbWVtYmVyb2YgbW9kaWZpZXJzXG4gICAqIEBpbm5lclxuICAgKi9cbiAgZmxpcDoge1xuICAgIC8qKiBAcHJvcCB7bnVtYmVyfSBvcmRlcj02MDAgLSBJbmRleCB1c2VkIHRvIGRlZmluZSB0aGUgb3JkZXIgb2YgZXhlY3V0aW9uICovXG4gICAgb3JkZXI6IDYwMCxcbiAgICAvKiogQHByb3Age0Jvb2xlYW59IGVuYWJsZWQ9dHJ1ZSAtIFdoZXRoZXIgdGhlIG1vZGlmaWVyIGlzIGVuYWJsZWQgb3Igbm90ICovXG4gICAgZW5hYmxlZDogdHJ1ZSxcbiAgICAvKiogQHByb3Age01vZGlmaWVyRm59ICovXG4gICAgZm46IGZsaXAsXG4gICAgLyoqXG4gICAgICogQHByb3Age1N0cmluZ3xBcnJheX0gYmVoYXZpb3I9J2ZsaXAnXG4gICAgICogVGhlIGJlaGF2aW9yIHVzZWQgdG8gY2hhbmdlIHRoZSBwb3BwZXIncyBwbGFjZW1lbnQuIEl0IGNhbiBiZSBvbmUgb2ZcbiAgICAgKiBgZmxpcGAsIGBjbG9ja3dpc2VgLCBgY291bnRlcmNsb2Nrd2lzZWAgb3IgYW4gYXJyYXkgd2l0aCBhIGxpc3Qgb2YgdmFsaWRcbiAgICAgKiBwbGFjZW1lbnRzICh3aXRoIG9wdGlvbmFsIHZhcmlhdGlvbnMpXG4gICAgICovXG4gICAgYmVoYXZpb3I6ICdmbGlwJyxcbiAgICAvKipcbiAgICAgKiBAcHJvcCB7bnVtYmVyfSBwYWRkaW5nPTVcbiAgICAgKiBUaGUgcG9wcGVyIHdpbGwgZmxpcCBpZiBpdCBoaXRzIHRoZSBlZGdlcyBvZiB0aGUgYGJvdW5kYXJpZXNFbGVtZW50YFxuICAgICAqL1xuICAgIHBhZGRpbmc6IDUsXG4gICAgLyoqXG4gICAgICogQHByb3Age1N0cmluZ3xIVE1MRWxlbWVudH0gYm91bmRhcmllc0VsZW1lbnQ9J3ZpZXdwb3J0J1xuICAgICAqIFRoZSBlbGVtZW50IHdoaWNoIHdpbGwgZGVmaW5lIHRoZSBib3VuZGFyaWVzIG9mIHRoZSBwb3BwZXIgcG9zaXRpb24uXG4gICAgICogVGhlIHBvcHBlciB3aWxsIG5ldmVyIGJlIHBsYWNlZCBvdXRzaWRlIG9mIHRoZSBkZWZpbmVkIGJvdW5kYXJpZXNcbiAgICAgKiAoZXhjZXB0IGlmIGBrZWVwVG9nZXRoZXJgIGlzIGVuYWJsZWQpXG4gICAgICovXG4gICAgYm91bmRhcmllc0VsZW1lbnQ6ICd2aWV3cG9ydCcsXG4gICAgLyoqXG4gICAgICogQHByb3Age0Jvb2xlYW59IGZsaXBWYXJpYXRpb25zPWZhbHNlXG4gICAgICogVGhlIHBvcHBlciB3aWxsIHN3aXRjaCBwbGFjZW1lbnQgdmFyaWF0aW9uIGJldHdlZW4gYC1zdGFydGAgYW5kIGAtZW5kYCB3aGVuXG4gICAgICogdGhlIHJlZmVyZW5jZSBlbGVtZW50IG92ZXJsYXBzIGl0cyBib3VuZGFyaWVzLlxuICAgICAqXG4gICAgICogVGhlIG9yaWdpbmFsIHBsYWNlbWVudCBzaG91bGQgaGF2ZSBhIHNldCB2YXJpYXRpb24uXG4gICAgICovXG4gICAgZmxpcFZhcmlhdGlvbnM6IGZhbHNlLFxuICAgIC8qKlxuICAgICAqIEBwcm9wIHtCb29sZWFufSBmbGlwVmFyaWF0aW9uc0J5Q29udGVudD1mYWxzZVxuICAgICAqIFRoZSBwb3BwZXIgd2lsbCBzd2l0Y2ggcGxhY2VtZW50IHZhcmlhdGlvbiBiZXR3ZWVuIGAtc3RhcnRgIGFuZCBgLWVuZGAgd2hlblxuICAgICAqIHRoZSBwb3BwZXIgZWxlbWVudCBvdmVybGFwcyBpdHMgcmVmZXJlbmNlIGJvdW5kYXJpZXMuXG4gICAgICpcbiAgICAgKiBUaGUgb3JpZ2luYWwgcGxhY2VtZW50IHNob3VsZCBoYXZlIGEgc2V0IHZhcmlhdGlvbi5cbiAgICAgKi9cbiAgICBmbGlwVmFyaWF0aW9uc0J5Q29udGVudDogZmFsc2VcbiAgfSxcblxuICAvKipcbiAgICogTW9kaWZpZXIgdXNlZCB0byBtYWtlIHRoZSBwb3BwZXIgZmxvdyB0b3dhcmQgdGhlIGlubmVyIG9mIHRoZSByZWZlcmVuY2UgZWxlbWVudC5cbiAgICogQnkgZGVmYXVsdCwgd2hlbiB0aGlzIG1vZGlmaWVyIGlzIGRpc2FibGVkLCB0aGUgcG9wcGVyIHdpbGwgYmUgcGxhY2VkIG91dHNpZGVcbiAgICogdGhlIHJlZmVyZW5jZSBlbGVtZW50LlxuICAgKiBAbWVtYmVyb2YgbW9kaWZpZXJzXG4gICAqIEBpbm5lclxuICAgKi9cbiAgaW5uZXI6IHtcbiAgICAvKiogQHByb3Age251bWJlcn0gb3JkZXI9NzAwIC0gSW5kZXggdXNlZCB0byBkZWZpbmUgdGhlIG9yZGVyIG9mIGV4ZWN1dGlvbiAqL1xuICAgIG9yZGVyOiA3MDAsXG4gICAgLyoqIEBwcm9wIHtCb29sZWFufSBlbmFibGVkPWZhbHNlIC0gV2hldGhlciB0aGUgbW9kaWZpZXIgaXMgZW5hYmxlZCBvciBub3QgKi9cbiAgICBlbmFibGVkOiBmYWxzZSxcbiAgICAvKiogQHByb3Age01vZGlmaWVyRm59ICovXG4gICAgZm46IGlubmVyXG4gIH0sXG5cbiAgLyoqXG4gICAqIE1vZGlmaWVyIHVzZWQgdG8gaGlkZSB0aGUgcG9wcGVyIHdoZW4gaXRzIHJlZmVyZW5jZSBlbGVtZW50IGlzIG91dHNpZGUgb2YgdGhlXG4gICAqIHBvcHBlciBib3VuZGFyaWVzLiBJdCB3aWxsIHNldCBhIGB4LW91dC1vZi1ib3VuZGFyaWVzYCBhdHRyaWJ1dGUgd2hpY2ggY2FuXG4gICAqIGJlIHVzZWQgdG8gaGlkZSB3aXRoIGEgQ1NTIHNlbGVjdG9yIHRoZSBwb3BwZXIgd2hlbiBpdHMgcmVmZXJlbmNlIGlzXG4gICAqIG91dCBvZiBib3VuZGFyaWVzLlxuICAgKlxuICAgKiBSZXF1aXJlcyB0aGUgYHByZXZlbnRPdmVyZmxvd2AgbW9kaWZpZXIgYmVmb3JlIGl0IGluIG9yZGVyIHRvIHdvcmsuXG4gICAqIEBtZW1iZXJvZiBtb2RpZmllcnNcbiAgICogQGlubmVyXG4gICAqL1xuICBoaWRlOiB7XG4gICAgLyoqIEBwcm9wIHtudW1iZXJ9IG9yZGVyPTgwMCAtIEluZGV4IHVzZWQgdG8gZGVmaW5lIHRoZSBvcmRlciBvZiBleGVjdXRpb24gKi9cbiAgICBvcmRlcjogODAwLFxuICAgIC8qKiBAcHJvcCB7Qm9vbGVhbn0gZW5hYmxlZD10cnVlIC0gV2hldGhlciB0aGUgbW9kaWZpZXIgaXMgZW5hYmxlZCBvciBub3QgKi9cbiAgICBlbmFibGVkOiB0cnVlLFxuICAgIC8qKiBAcHJvcCB7TW9kaWZpZXJGbn0gKi9cbiAgICBmbjogaGlkZVxuICB9LFxuXG4gIC8qKlxuICAgKiBDb21wdXRlcyB0aGUgc3R5bGUgdGhhdCB3aWxsIGJlIGFwcGxpZWQgdG8gdGhlIHBvcHBlciBlbGVtZW50IHRvIGdldHNcbiAgICogcHJvcGVybHkgcG9zaXRpb25lZC5cbiAgICpcbiAgICogTm90ZSB0aGF0IHRoaXMgbW9kaWZpZXIgd2lsbCBub3QgdG91Y2ggdGhlIERPTSwgaXQganVzdCBwcmVwYXJlcyB0aGUgc3R5bGVzXG4gICAqIHNvIHRoYXQgYGFwcGx5U3R5bGVgIG1vZGlmaWVyIGNhbiBhcHBseSBpdC4gVGhpcyBzZXBhcmF0aW9uIGlzIHVzZWZ1bFxuICAgKiBpbiBjYXNlIHlvdSBuZWVkIHRvIHJlcGxhY2UgYGFwcGx5U3R5bGVgIHdpdGggYSBjdXN0b20gaW1wbGVtZW50YXRpb24uXG4gICAqXG4gICAqIFRoaXMgbW9kaWZpZXIgaGFzIGA4NTBgIGFzIGBvcmRlcmAgdmFsdWUgdG8gbWFpbnRhaW4gYmFja3dhcmQgY29tcGF0aWJpbGl0eVxuICAgKiB3aXRoIHByZXZpb3VzIHZlcnNpb25zIG9mIFBvcHBlci5qcy4gRXhwZWN0IHRoZSBtb2RpZmllcnMgb3JkZXJpbmcgbWV0aG9kXG4gICAqIHRvIGNoYW5nZSBpbiBmdXR1cmUgbWFqb3IgdmVyc2lvbnMgb2YgdGhlIGxpYnJhcnkuXG4gICAqXG4gICAqIEBtZW1iZXJvZiBtb2RpZmllcnNcbiAgICogQGlubmVyXG4gICAqL1xuICBjb21wdXRlU3R5bGU6IHtcbiAgICAvKiogQHByb3Age251bWJlcn0gb3JkZXI9ODUwIC0gSW5kZXggdXNlZCB0byBkZWZpbmUgdGhlIG9yZGVyIG9mIGV4ZWN1dGlvbiAqL1xuICAgIG9yZGVyOiA4NTAsXG4gICAgLyoqIEBwcm9wIHtCb29sZWFufSBlbmFibGVkPXRydWUgLSBXaGV0aGVyIHRoZSBtb2RpZmllciBpcyBlbmFibGVkIG9yIG5vdCAqL1xuICAgIGVuYWJsZWQ6IHRydWUsXG4gICAgLyoqIEBwcm9wIHtNb2RpZmllckZufSAqL1xuICAgIGZuOiBjb21wdXRlU3R5bGUsXG4gICAgLyoqXG4gICAgICogQHByb3Age0Jvb2xlYW59IGdwdUFjY2VsZXJhdGlvbj10cnVlXG4gICAgICogSWYgdHJ1ZSwgaXQgdXNlcyB0aGUgQ1NTIDNEIHRyYW5zZm9ybWF0aW9uIHRvIHBvc2l0aW9uIHRoZSBwb3BwZXIuXG4gICAgICogT3RoZXJ3aXNlLCBpdCB3aWxsIHVzZSB0aGUgYHRvcGAgYW5kIGBsZWZ0YCBwcm9wZXJ0aWVzXG4gICAgICovXG4gICAgZ3B1QWNjZWxlcmF0aW9uOiB0cnVlLFxuICAgIC8qKlxuICAgICAqIEBwcm9wIHtzdHJpbmd9IFt4PSdib3R0b20nXVxuICAgICAqIFdoZXJlIHRvIGFuY2hvciB0aGUgWCBheGlzIChgYm90dG9tYCBvciBgdG9wYCkuIEFLQSBYIG9mZnNldCBvcmlnaW4uXG4gICAgICogQ2hhbmdlIHRoaXMgaWYgeW91ciBwb3BwZXIgc2hvdWxkIGdyb3cgaW4gYSBkaXJlY3Rpb24gZGlmZmVyZW50IGZyb20gYGJvdHRvbWBcbiAgICAgKi9cbiAgICB4OiAnYm90dG9tJyxcbiAgICAvKipcbiAgICAgKiBAcHJvcCB7c3RyaW5nfSBbeD0nbGVmdCddXG4gICAgICogV2hlcmUgdG8gYW5jaG9yIHRoZSBZIGF4aXMgKGBsZWZ0YCBvciBgcmlnaHRgKS4gQUtBIFkgb2Zmc2V0IG9yaWdpbi5cbiAgICAgKiBDaGFuZ2UgdGhpcyBpZiB5b3VyIHBvcHBlciBzaG91bGQgZ3JvdyBpbiBhIGRpcmVjdGlvbiBkaWZmZXJlbnQgZnJvbSBgcmlnaHRgXG4gICAgICovXG4gICAgeTogJ3JpZ2h0J1xuICB9LFxuXG4gIC8qKlxuICAgKiBBcHBsaWVzIHRoZSBjb21wdXRlZCBzdHlsZXMgdG8gdGhlIHBvcHBlciBlbGVtZW50LlxuICAgKlxuICAgKiBBbGwgdGhlIERPTSBtYW5pcHVsYXRpb25zIGFyZSBsaW1pdGVkIHRvIHRoaXMgbW9kaWZpZXIuIFRoaXMgaXMgdXNlZnVsIGluIGNhc2VcbiAgICogeW91IHdhbnQgdG8gaW50ZWdyYXRlIFBvcHBlci5qcyBpbnNpZGUgYSBmcmFtZXdvcmsgb3IgdmlldyBsaWJyYXJ5IGFuZCB5b3VcbiAgICogd2FudCB0byBkZWxlZ2F0ZSBhbGwgdGhlIERPTSBtYW5pcHVsYXRpb25zIHRvIGl0LlxuICAgKlxuICAgKiBOb3RlIHRoYXQgaWYgeW91IGRpc2FibGUgdGhpcyBtb2RpZmllciwgeW91IG11c3QgbWFrZSBzdXJlIHRoZSBwb3BwZXIgZWxlbWVudFxuICAgKiBoYXMgaXRzIHBvc2l0aW9uIHNldCB0byBgYWJzb2x1dGVgIGJlZm9yZSBQb3BwZXIuanMgY2FuIGRvIGl0cyB3b3JrIVxuICAgKlxuICAgKiBKdXN0IGRpc2FibGUgdGhpcyBtb2RpZmllciBhbmQgZGVmaW5lIHlvdXIgb3duIHRvIGFjaGlldmUgdGhlIGRlc2lyZWQgZWZmZWN0LlxuICAgKlxuICAgKiBAbWVtYmVyb2YgbW9kaWZpZXJzXG4gICAqIEBpbm5lclxuICAgKi9cbiAgYXBwbHlTdHlsZToge1xuICAgIC8qKiBAcHJvcCB7bnVtYmVyfSBvcmRlcj05MDAgLSBJbmRleCB1c2VkIHRvIGRlZmluZSB0aGUgb3JkZXIgb2YgZXhlY3V0aW9uICovXG4gICAgb3JkZXI6IDkwMCxcbiAgICAvKiogQHByb3Age0Jvb2xlYW59IGVuYWJsZWQ9dHJ1ZSAtIFdoZXRoZXIgdGhlIG1vZGlmaWVyIGlzIGVuYWJsZWQgb3Igbm90ICovXG4gICAgZW5hYmxlZDogdHJ1ZSxcbiAgICAvKiogQHByb3Age01vZGlmaWVyRm59ICovXG4gICAgZm46IGFwcGx5U3R5bGUsXG4gICAgLyoqIEBwcm9wIHtGdW5jdGlvbn0gKi9cbiAgICBvbkxvYWQ6IGFwcGx5U3R5bGVPbkxvYWQsXG4gICAgLyoqXG4gICAgICogQGRlcHJlY2F0ZWQgc2luY2UgdmVyc2lvbiAxLjEwLjAsIHRoZSBwcm9wZXJ0eSBtb3ZlZCB0byBgY29tcHV0ZVN0eWxlYCBtb2RpZmllclxuICAgICAqIEBwcm9wIHtCb29sZWFufSBncHVBY2NlbGVyYXRpb249dHJ1ZVxuICAgICAqIElmIHRydWUsIGl0IHVzZXMgdGhlIENTUyAzRCB0cmFuc2Zvcm1hdGlvbiB0byBwb3NpdGlvbiB0aGUgcG9wcGVyLlxuICAgICAqIE90aGVyd2lzZSwgaXQgd2lsbCB1c2UgdGhlIGB0b3BgIGFuZCBgbGVmdGAgcHJvcGVydGllc1xuICAgICAqL1xuICAgIGdwdUFjY2VsZXJhdGlvbjogdW5kZWZpbmVkXG4gIH1cbn07XG5cbi8qKlxuICogVGhlIGBkYXRhT2JqZWN0YCBpcyBhbiBvYmplY3QgY29udGFpbmluZyBhbGwgdGhlIGluZm9ybWF0aW9uIHVzZWQgYnkgUG9wcGVyLmpzLlxuICogVGhpcyBvYmplY3QgaXMgcGFzc2VkIHRvIG1vZGlmaWVycyBhbmQgdG8gdGhlIGBvbkNyZWF0ZWAgYW5kIGBvblVwZGF0ZWAgY2FsbGJhY2tzLlxuICogQG5hbWUgZGF0YU9iamVjdFxuICogQHByb3BlcnR5IHtPYmplY3R9IGRhdGEuaW5zdGFuY2UgVGhlIFBvcHBlci5qcyBpbnN0YW5jZVxuICogQHByb3BlcnR5IHtTdHJpbmd9IGRhdGEucGxhY2VtZW50IFBsYWNlbWVudCBhcHBsaWVkIHRvIHBvcHBlclxuICogQHByb3BlcnR5IHtTdHJpbmd9IGRhdGEub3JpZ2luYWxQbGFjZW1lbnQgUGxhY2VtZW50IG9yaWdpbmFsbHkgZGVmaW5lZCBvbiBpbml0XG4gKiBAcHJvcGVydHkge0Jvb2xlYW59IGRhdGEuZmxpcHBlZCBUcnVlIGlmIHBvcHBlciBoYXMgYmVlbiBmbGlwcGVkIGJ5IGZsaXAgbW9kaWZpZXJcbiAqIEBwcm9wZXJ0eSB7Qm9vbGVhbn0gZGF0YS5oaWRlIFRydWUgaWYgdGhlIHJlZmVyZW5jZSBlbGVtZW50IGlzIG91dCBvZiBib3VuZGFyaWVzLCB1c2VmdWwgdG8ga25vdyB3aGVuIHRvIGhpZGUgdGhlIHBvcHBlclxuICogQHByb3BlcnR5IHtIVE1MRWxlbWVudH0gZGF0YS5hcnJvd0VsZW1lbnQgTm9kZSB1c2VkIGFzIGFycm93IGJ5IGFycm93IG1vZGlmaWVyXG4gKiBAcHJvcGVydHkge09iamVjdH0gZGF0YS5zdHlsZXMgQW55IENTUyBwcm9wZXJ0eSBkZWZpbmVkIGhlcmUgd2lsbCBiZSBhcHBsaWVkIHRvIHRoZSBwb3BwZXIuIEl0IGV4cGVjdHMgdGhlIEphdmFTY3JpcHQgbm9tZW5jbGF0dXJlIChlZy4gYG1hcmdpbkJvdHRvbWApXG4gKiBAcHJvcGVydHkge09iamVjdH0gZGF0YS5hcnJvd1N0eWxlcyBBbnkgQ1NTIHByb3BlcnR5IGRlZmluZWQgaGVyZSB3aWxsIGJlIGFwcGxpZWQgdG8gdGhlIHBvcHBlciBhcnJvdy4gSXQgZXhwZWN0cyB0aGUgSmF2YVNjcmlwdCBub21lbmNsYXR1cmUgKGVnLiBgbWFyZ2luQm90dG9tYClcbiAqIEBwcm9wZXJ0eSB7T2JqZWN0fSBkYXRhLmJvdW5kYXJpZXMgT2Zmc2V0cyBvZiB0aGUgcG9wcGVyIGJvdW5kYXJpZXNcbiAqIEBwcm9wZXJ0eSB7T2JqZWN0fSBkYXRhLm9mZnNldHMgVGhlIG1lYXN1cmVtZW50cyBvZiBwb3BwZXIsIHJlZmVyZW5jZSBhbmQgYXJyb3cgZWxlbWVudHNcbiAqIEBwcm9wZXJ0eSB7T2JqZWN0fSBkYXRhLm9mZnNldHMucG9wcGVyIGB0b3BgLCBgbGVmdGAsIGB3aWR0aGAsIGBoZWlnaHRgIHZhbHVlc1xuICogQHByb3BlcnR5IHtPYmplY3R9IGRhdGEub2Zmc2V0cy5yZWZlcmVuY2UgYHRvcGAsIGBsZWZ0YCwgYHdpZHRoYCwgYGhlaWdodGAgdmFsdWVzXG4gKiBAcHJvcGVydHkge09iamVjdH0gZGF0YS5vZmZzZXRzLmFycm93XSBgdG9wYCBhbmQgYGxlZnRgIG9mZnNldHMsIG9ubHkgb25lIG9mIHRoZW0gd2lsbCBiZSBkaWZmZXJlbnQgZnJvbSAwXG4gKi9cblxuLyoqXG4gKiBEZWZhdWx0IG9wdGlvbnMgcHJvdmlkZWQgdG8gUG9wcGVyLmpzIGNvbnN0cnVjdG9yLjxiciAvPlxuICogVGhlc2UgY2FuIGJlIG92ZXJyaWRkZW4gdXNpbmcgdGhlIGBvcHRpb25zYCBhcmd1bWVudCBvZiBQb3BwZXIuanMuPGJyIC8+XG4gKiBUbyBvdmVycmlkZSBhbiBvcHRpb24sIHNpbXBseSBwYXNzIGFuIG9iamVjdCB3aXRoIHRoZSBzYW1lXG4gKiBzdHJ1Y3R1cmUgb2YgdGhlIGBvcHRpb25zYCBvYmplY3QsIGFzIHRoZSAzcmQgYXJndW1lbnQuIEZvciBleGFtcGxlOlxuICogYGBgXG4gKiBuZXcgUG9wcGVyKHJlZiwgcG9wLCB7XG4gKiAgIG1vZGlmaWVyczoge1xuICogICAgIHByZXZlbnRPdmVyZmxvdzogeyBlbmFibGVkOiBmYWxzZSB9XG4gKiAgIH1cbiAqIH0pXG4gKiBgYGBcbiAqIEB0eXBlIHtPYmplY3R9XG4gKiBAc3RhdGljXG4gKiBAbWVtYmVyb2YgUG9wcGVyXG4gKi9cbnZhciBEZWZhdWx0cyA9IHtcbiAgLyoqXG4gICAqIFBvcHBlcidzIHBsYWNlbWVudC5cbiAgICogQHByb3Age1BvcHBlci5wbGFjZW1lbnRzfSBwbGFjZW1lbnQ9J2JvdHRvbSdcbiAgICovXG4gIHBsYWNlbWVudDogJ2JvdHRvbScsXG5cbiAgLyoqXG4gICAqIFNldCB0aGlzIHRvIHRydWUgaWYgeW91IHdhbnQgcG9wcGVyIHRvIHBvc2l0aW9uIGl0IHNlbGYgaW4gJ2ZpeGVkJyBtb2RlXG4gICAqIEBwcm9wIHtCb29sZWFufSBwb3NpdGlvbkZpeGVkPWZhbHNlXG4gICAqL1xuICBwb3NpdGlvbkZpeGVkOiBmYWxzZSxcblxuICAvKipcbiAgICogV2hldGhlciBldmVudHMgKHJlc2l6ZSwgc2Nyb2xsKSBhcmUgaW5pdGlhbGx5IGVuYWJsZWQuXG4gICAqIEBwcm9wIHtCb29sZWFufSBldmVudHNFbmFibGVkPXRydWVcbiAgICovXG4gIGV2ZW50c0VuYWJsZWQ6IHRydWUsXG5cbiAgLyoqXG4gICAqIFNldCB0byB0cnVlIGlmIHlvdSB3YW50IHRvIGF1dG9tYXRpY2FsbHkgcmVtb3ZlIHRoZSBwb3BwZXIgd2hlblxuICAgKiB5b3UgY2FsbCB0aGUgYGRlc3Ryb3lgIG1ldGhvZC5cbiAgICogQHByb3Age0Jvb2xlYW59IHJlbW92ZU9uRGVzdHJveT1mYWxzZVxuICAgKi9cbiAgcmVtb3ZlT25EZXN0cm95OiBmYWxzZSxcblxuICAvKipcbiAgICogQ2FsbGJhY2sgY2FsbGVkIHdoZW4gdGhlIHBvcHBlciBpcyBjcmVhdGVkLjxiciAvPlxuICAgKiBCeSBkZWZhdWx0LCBpdCBpcyBzZXQgdG8gbm8tb3AuPGJyIC8+XG4gICAqIEFjY2VzcyBQb3BwZXIuanMgaW5zdGFuY2Ugd2l0aCBgZGF0YS5pbnN0YW5jZWAuXG4gICAqIEBwcm9wIHtvbkNyZWF0ZX1cbiAgICovXG4gIG9uQ3JlYXRlOiBmdW5jdGlvbiBvbkNyZWF0ZSgpIHt9LFxuXG4gIC8qKlxuICAgKiBDYWxsYmFjayBjYWxsZWQgd2hlbiB0aGUgcG9wcGVyIGlzIHVwZGF0ZWQuIFRoaXMgY2FsbGJhY2sgaXMgbm90IGNhbGxlZFxuICAgKiBvbiB0aGUgaW5pdGlhbGl6YXRpb24vY3JlYXRpb24gb2YgdGhlIHBvcHBlciwgYnV0IG9ubHkgb24gc3Vic2VxdWVudFxuICAgKiB1cGRhdGVzLjxiciAvPlxuICAgKiBCeSBkZWZhdWx0LCBpdCBpcyBzZXQgdG8gbm8tb3AuPGJyIC8+XG4gICAqIEFjY2VzcyBQb3BwZXIuanMgaW5zdGFuY2Ugd2l0aCBgZGF0YS5pbnN0YW5jZWAuXG4gICAqIEBwcm9wIHtvblVwZGF0ZX1cbiAgICovXG4gIG9uVXBkYXRlOiBmdW5jdGlvbiBvblVwZGF0ZSgpIHt9LFxuXG4gIC8qKlxuICAgKiBMaXN0IG9mIG1vZGlmaWVycyB1c2VkIHRvIG1vZGlmeSB0aGUgb2Zmc2V0cyBiZWZvcmUgdGhleSBhcmUgYXBwbGllZCB0byB0aGUgcG9wcGVyLlxuICAgKiBUaGV5IHByb3ZpZGUgbW9zdCBvZiB0aGUgZnVuY3Rpb25hbGl0aWVzIG9mIFBvcHBlci5qcy5cbiAgICogQHByb3Age21vZGlmaWVyc31cbiAgICovXG4gIG1vZGlmaWVyczogbW9kaWZpZXJzXG59O1xuXG4vKipcbiAqIEBjYWxsYmFjayBvbkNyZWF0ZVxuICogQHBhcmFtIHtkYXRhT2JqZWN0fSBkYXRhXG4gKi9cblxuLyoqXG4gKiBAY2FsbGJhY2sgb25VcGRhdGVcbiAqIEBwYXJhbSB7ZGF0YU9iamVjdH0gZGF0YVxuICovXG5cbi8vIFV0aWxzXG4vLyBNZXRob2RzXG52YXIgUG9wcGVyID0gZnVuY3Rpb24gKCkge1xuICAvKipcbiAgICogQ3JlYXRlcyBhIG5ldyBQb3BwZXIuanMgaW5zdGFuY2UuXG4gICAqIEBjbGFzcyBQb3BwZXJcbiAgICogQHBhcmFtIHtFbGVtZW50fHJlZmVyZW5jZU9iamVjdH0gcmVmZXJlbmNlIC0gVGhlIHJlZmVyZW5jZSBlbGVtZW50IHVzZWQgdG8gcG9zaXRpb24gdGhlIHBvcHBlclxuICAgKiBAcGFyYW0ge0VsZW1lbnR9IHBvcHBlciAtIFRoZSBIVE1MIC8gWE1MIGVsZW1lbnQgdXNlZCBhcyB0aGUgcG9wcGVyXG4gICAqIEBwYXJhbSB7T2JqZWN0fSBvcHRpb25zIC0gWW91ciBjdXN0b20gb3B0aW9ucyB0byBvdmVycmlkZSB0aGUgb25lcyBkZWZpbmVkIGluIFtEZWZhdWx0c10oI2RlZmF1bHRzKVxuICAgKiBAcmV0dXJuIHtPYmplY3R9IGluc3RhbmNlIC0gVGhlIGdlbmVyYXRlZCBQb3BwZXIuanMgaW5zdGFuY2VcbiAgICovXG4gIGZ1bmN0aW9uIFBvcHBlcihyZWZlcmVuY2UsIHBvcHBlcikge1xuICAgIHZhciBfdGhpcyA9IHRoaXM7XG5cbiAgICB2YXIgb3B0aW9ucyA9IGFyZ3VtZW50cy5sZW5ndGggPiAyICYmIGFyZ3VtZW50c1syXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzJdIDoge307XG4gICAgY2xhc3NDYWxsQ2hlY2sodGhpcywgUG9wcGVyKTtcblxuICAgIHRoaXMuc2NoZWR1bGVVcGRhdGUgPSBmdW5jdGlvbiAoKSB7XG4gICAgICByZXR1cm4gcmVxdWVzdEFuaW1hdGlvbkZyYW1lKF90aGlzLnVwZGF0ZSk7XG4gICAgfTtcblxuICAgIC8vIG1ha2UgdXBkYXRlKCkgZGVib3VuY2VkLCBzbyB0aGF0IGl0IG9ubHkgcnVucyBhdCBtb3N0IG9uY2UtcGVyLXRpY2tcbiAgICB0aGlzLnVwZGF0ZSA9IGRlYm91bmNlKHRoaXMudXBkYXRlLmJpbmQodGhpcykpO1xuXG4gICAgLy8gd2l0aCB7fSB3ZSBjcmVhdGUgYSBuZXcgb2JqZWN0IHdpdGggdGhlIG9wdGlvbnMgaW5zaWRlIGl0XG4gICAgdGhpcy5vcHRpb25zID0gX2V4dGVuZHMoe30sIFBvcHBlci5EZWZhdWx0cywgb3B0aW9ucyk7XG5cbiAgICAvLyBpbml0IHN0YXRlXG4gICAgdGhpcy5zdGF0ZSA9IHtcbiAgICAgIGlzRGVzdHJveWVkOiBmYWxzZSxcbiAgICAgIGlzQ3JlYXRlZDogZmFsc2UsXG4gICAgICBzY3JvbGxQYXJlbnRzOiBbXVxuICAgIH07XG5cbiAgICAvLyBnZXQgcmVmZXJlbmNlIGFuZCBwb3BwZXIgZWxlbWVudHMgKGFsbG93IGpRdWVyeSB3cmFwcGVycylcbiAgICB0aGlzLnJlZmVyZW5jZSA9IHJlZmVyZW5jZSAmJiByZWZlcmVuY2UuanF1ZXJ5ID8gcmVmZXJlbmNlWzBdIDogcmVmZXJlbmNlO1xuICAgIHRoaXMucG9wcGVyID0gcG9wcGVyICYmIHBvcHBlci5qcXVlcnkgPyBwb3BwZXJbMF0gOiBwb3BwZXI7XG5cbiAgICAvLyBEZWVwIG1lcmdlIG1vZGlmaWVycyBvcHRpb25zXG4gICAgdGhpcy5vcHRpb25zLm1vZGlmaWVycyA9IHt9O1xuICAgIE9iamVjdC5rZXlzKF9leHRlbmRzKHt9LCBQb3BwZXIuRGVmYXVsdHMubW9kaWZpZXJzLCBvcHRpb25zLm1vZGlmaWVycykpLmZvckVhY2goZnVuY3Rpb24gKG5hbWUpIHtcbiAgICAgIF90aGlzLm9wdGlvbnMubW9kaWZpZXJzW25hbWVdID0gX2V4dGVuZHMoe30sIFBvcHBlci5EZWZhdWx0cy5tb2RpZmllcnNbbmFtZV0gfHwge30sIG9wdGlvbnMubW9kaWZpZXJzID8gb3B0aW9ucy5tb2RpZmllcnNbbmFtZV0gOiB7fSk7XG4gICAgfSk7XG5cbiAgICAvLyBSZWZhY3RvcmluZyBtb2RpZmllcnMnIGxpc3QgKE9iamVjdCA9PiBBcnJheSlcbiAgICB0aGlzLm1vZGlmaWVycyA9IE9iamVjdC5rZXlzKHRoaXMub3B0aW9ucy5tb2RpZmllcnMpLm1hcChmdW5jdGlvbiAobmFtZSkge1xuICAgICAgcmV0dXJuIF9leHRlbmRzKHtcbiAgICAgICAgbmFtZTogbmFtZVxuICAgICAgfSwgX3RoaXMub3B0aW9ucy5tb2RpZmllcnNbbmFtZV0pO1xuICAgIH0pXG4gICAgLy8gc29ydCB0aGUgbW9kaWZpZXJzIGJ5IG9yZGVyXG4gICAgLnNvcnQoZnVuY3Rpb24gKGEsIGIpIHtcbiAgICAgIHJldHVybiBhLm9yZGVyIC0gYi5vcmRlcjtcbiAgICB9KTtcblxuICAgIC8vIG1vZGlmaWVycyBoYXZlIHRoZSBhYmlsaXR5IHRvIGV4ZWN1dGUgYXJiaXRyYXJ5IGNvZGUgd2hlbiBQb3BwZXIuanMgZ2V0IGluaXRlZFxuICAgIC8vIHN1Y2ggY29kZSBpcyBleGVjdXRlZCBpbiB0aGUgc2FtZSBvcmRlciBvZiBpdHMgbW9kaWZpZXJcbiAgICAvLyB0aGV5IGNvdWxkIGFkZCBuZXcgcHJvcGVydGllcyB0byB0aGVpciBvcHRpb25zIGNvbmZpZ3VyYXRpb25cbiAgICAvLyBCRSBBV0FSRTogZG9uJ3QgYWRkIG9wdGlvbnMgdG8gYG9wdGlvbnMubW9kaWZpZXJzLm5hbWVgIGJ1dCB0byBgbW9kaWZpZXJPcHRpb25zYCFcbiAgICB0aGlzLm1vZGlmaWVycy5mb3JFYWNoKGZ1bmN0aW9uIChtb2RpZmllck9wdGlvbnMpIHtcbiAgICAgIGlmIChtb2RpZmllck9wdGlvbnMuZW5hYmxlZCAmJiBpc0Z1bmN0aW9uKG1vZGlmaWVyT3B0aW9ucy5vbkxvYWQpKSB7XG4gICAgICAgIG1vZGlmaWVyT3B0aW9ucy5vbkxvYWQoX3RoaXMucmVmZXJlbmNlLCBfdGhpcy5wb3BwZXIsIF90aGlzLm9wdGlvbnMsIG1vZGlmaWVyT3B0aW9ucywgX3RoaXMuc3RhdGUpO1xuICAgICAgfVxuICAgIH0pO1xuXG4gICAgLy8gZmlyZSB0aGUgZmlyc3QgdXBkYXRlIHRvIHBvc2l0aW9uIHRoZSBwb3BwZXIgaW4gdGhlIHJpZ2h0IHBsYWNlXG4gICAgdGhpcy51cGRhdGUoKTtcblxuICAgIHZhciBldmVudHNFbmFibGVkID0gdGhpcy5vcHRpb25zLmV2ZW50c0VuYWJsZWQ7XG4gICAgaWYgKGV2ZW50c0VuYWJsZWQpIHtcbiAgICAgIC8vIHNldHVwIGV2ZW50IGxpc3RlbmVycywgdGhleSB3aWxsIHRha2UgY2FyZSBvZiB1cGRhdGUgdGhlIHBvc2l0aW9uIGluIHNwZWNpZmljIHNpdHVhdGlvbnNcbiAgICAgIHRoaXMuZW5hYmxlRXZlbnRMaXN0ZW5lcnMoKTtcbiAgICB9XG5cbiAgICB0aGlzLnN0YXRlLmV2ZW50c0VuYWJsZWQgPSBldmVudHNFbmFibGVkO1xuICB9XG5cbiAgLy8gV2UgY2FuJ3QgdXNlIGNsYXNzIHByb3BlcnRpZXMgYmVjYXVzZSB0aGV5IGRvbid0IGdldCBsaXN0ZWQgaW4gdGhlXG4gIC8vIGNsYXNzIHByb3RvdHlwZSBhbmQgYnJlYWsgc3R1ZmYgbGlrZSBTaW5vbiBzdHVic1xuXG5cbiAgY3JlYXRlQ2xhc3MoUG9wcGVyLCBbe1xuICAgIGtleTogJ3VwZGF0ZScsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIHVwZGF0ZSQkMSgpIHtcbiAgICAgIHJldHVybiB1cGRhdGUuY2FsbCh0aGlzKTtcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6ICdkZXN0cm95JyxcbiAgICB2YWx1ZTogZnVuY3Rpb24gZGVzdHJveSQkMSgpIHtcbiAgICAgIHJldHVybiBkZXN0cm95LmNhbGwodGhpcyk7XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiAnZW5hYmxlRXZlbnRMaXN0ZW5lcnMnLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBlbmFibGVFdmVudExpc3RlbmVycyQkMSgpIHtcbiAgICAgIHJldHVybiBlbmFibGVFdmVudExpc3RlbmVycy5jYWxsKHRoaXMpO1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogJ2Rpc2FibGVFdmVudExpc3RlbmVycycsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIGRpc2FibGVFdmVudExpc3RlbmVycyQkMSgpIHtcbiAgICAgIHJldHVybiBkaXNhYmxlRXZlbnRMaXN0ZW5lcnMuY2FsbCh0aGlzKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBTY2hlZHVsZXMgYW4gdXBkYXRlLiBJdCB3aWxsIHJ1biBvbiB0aGUgbmV4dCBVSSB1cGRhdGUgYXZhaWxhYmxlLlxuICAgICAqIEBtZXRob2Qgc2NoZWR1bGVVcGRhdGVcbiAgICAgKiBAbWVtYmVyb2YgUG9wcGVyXG4gICAgICovXG5cblxuICAgIC8qKlxuICAgICAqIENvbGxlY3Rpb24gb2YgdXRpbGl0aWVzIHVzZWZ1bCB3aGVuIHdyaXRpbmcgY3VzdG9tIG1vZGlmaWVycy5cbiAgICAgKiBTdGFydGluZyBmcm9tIHZlcnNpb24gMS43LCB0aGlzIG1ldGhvZCBpcyBhdmFpbGFibGUgb25seSBpZiB5b3VcbiAgICAgKiBpbmNsdWRlIGBwb3BwZXItdXRpbHMuanNgIGJlZm9yZSBgcG9wcGVyLmpzYC5cbiAgICAgKlxuICAgICAqICoqREVQUkVDQVRJT04qKjogVGhpcyB3YXkgdG8gYWNjZXNzIFBvcHBlclV0aWxzIGlzIGRlcHJlY2F0ZWRcbiAgICAgKiBhbmQgd2lsbCBiZSByZW1vdmVkIGluIHYyISBVc2UgdGhlIFBvcHBlclV0aWxzIG1vZHVsZSBkaXJlY3RseSBpbnN0ZWFkLlxuICAgICAqIER1ZSB0byB0aGUgaGlnaCBpbnN0YWJpbGl0eSBvZiB0aGUgbWV0aG9kcyBjb250YWluZWQgaW4gVXRpbHMsIHdlIGNhbid0XG4gICAgICogZ3VhcmFudGVlIHRoZW0gdG8gZm9sbG93IHNlbXZlci4gVXNlIHRoZW0gYXQgeW91ciBvd24gcmlzayFcbiAgICAgKiBAc3RhdGljXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAdHlwZSB7T2JqZWN0fVxuICAgICAqIEBkZXByZWNhdGVkIHNpbmNlIHZlcnNpb24gMS44XG4gICAgICogQG1lbWJlciBVdGlsc1xuICAgICAqIEBtZW1iZXJvZiBQb3BwZXJcbiAgICAgKi9cblxuICB9XSk7XG4gIHJldHVybiBQb3BwZXI7XG59KCk7XG5cbi8qKlxuICogVGhlIGByZWZlcmVuY2VPYmplY3RgIGlzIGFuIG9iamVjdCB0aGF0IHByb3ZpZGVzIGFuIGludGVyZmFjZSBjb21wYXRpYmxlIHdpdGggUG9wcGVyLmpzXG4gKiBhbmQgbGV0cyB5b3UgdXNlIGl0IGFzIHJlcGxhY2VtZW50IG9mIGEgcmVhbCBET00gbm9kZS48YnIgLz5cbiAqIFlvdSBjYW4gdXNlIHRoaXMgbWV0aG9kIHRvIHBvc2l0aW9uIGEgcG9wcGVyIHJlbGF0aXZlbHkgdG8gYSBzZXQgb2YgY29vcmRpbmF0ZXNcbiAqIGluIGNhc2UgeW91IGRvbid0IGhhdmUgYSBET00gbm9kZSB0byB1c2UgYXMgcmVmZXJlbmNlLlxuICpcbiAqIGBgYFxuICogbmV3IFBvcHBlcihyZWZlcmVuY2VPYmplY3QsIHBvcHBlck5vZGUpO1xuICogYGBgXG4gKlxuICogTkI6IFRoaXMgZmVhdHVyZSBpc24ndCBzdXBwb3J0ZWQgaW4gSW50ZXJuZXQgRXhwbG9yZXIgMTAuXG4gKiBAbmFtZSByZWZlcmVuY2VPYmplY3RcbiAqIEBwcm9wZXJ0eSB7RnVuY3Rpb259IGRhdGEuZ2V0Qm91bmRpbmdDbGllbnRSZWN0XG4gKiBBIGZ1bmN0aW9uIHRoYXQgcmV0dXJucyBhIHNldCBvZiBjb29yZGluYXRlcyBjb21wYXRpYmxlIHdpdGggdGhlIG5hdGl2ZSBgZ2V0Qm91bmRpbmdDbGllbnRSZWN0YCBtZXRob2QuXG4gKiBAcHJvcGVydHkge251bWJlcn0gZGF0YS5jbGllbnRXaWR0aFxuICogQW4gRVM2IGdldHRlciB0aGF0IHdpbGwgcmV0dXJuIHRoZSB3aWR0aCBvZiB0aGUgdmlydHVhbCByZWZlcmVuY2UgZWxlbWVudC5cbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBkYXRhLmNsaWVudEhlaWdodFxuICogQW4gRVM2IGdldHRlciB0aGF0IHdpbGwgcmV0dXJuIHRoZSBoZWlnaHQgb2YgdGhlIHZpcnR1YWwgcmVmZXJlbmNlIGVsZW1lbnQuXG4gKi9cblxuXG5Qb3BwZXIuVXRpbHMgPSAodHlwZW9mIHdpbmRvdyAhPT0gJ3VuZGVmaW5lZCcgPyB3aW5kb3cgOiBnbG9iYWwpLlBvcHBlclV0aWxzO1xuUG9wcGVyLnBsYWNlbWVudHMgPSBwbGFjZW1lbnRzO1xuUG9wcGVyLkRlZmF1bHRzID0gRGVmYXVsdHM7XG5cbmV4cG9ydCBkZWZhdWx0IFBvcHBlcjtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXBvcHBlci5qcy5tYXBcbiJdLCJtYXBwaW5ncyI6IkFBQUE7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0EiLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./node_modules/popper.js/dist/esm/popper.js\n");

/***/ }),

/***/ "./node_modules/webpack/buildin/global.js":
/*!***********************************!*\
  !*** (webpack)/buildin/global.js ***!
  \***********************************/
/*! no static exports found */
/***/ (function(module, exports) {

eval("var g;\n\n// This works in non-strict mode\ng = (function() {\n\treturn this;\n})();\n\ntry {\n\t// This works if eval is allowed (see CSP)\n\tg = g || new Function(\"return this\")();\n} catch (e) {\n\t// This works if the window reference is available\n\tif (typeof window === \"object\") g = window;\n}\n\n// g can still be undefined, but nothing to do about it...\n// We return undefined, instead of nothing here, so it's\n// easier to handle this case. if(!global) { ...}\n\nmodule.exports = g;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvd2VicGFjay9idWlsZGluL2dsb2JhbC5qcy5qcyIsInNvdXJjZXMiOlsid2VicGFjazovLy8od2VicGFjaykvYnVpbGRpbi9nbG9iYWwuanM/Y2QwMCJdLCJzb3VyY2VzQ29udGVudCI6WyJ2YXIgZztcblxuLy8gVGhpcyB3b3JrcyBpbiBub24tc3RyaWN0IG1vZGVcbmcgPSAoZnVuY3Rpb24oKSB7XG5cdHJldHVybiB0aGlzO1xufSkoKTtcblxudHJ5IHtcblx0Ly8gVGhpcyB3b3JrcyBpZiBldmFsIGlzIGFsbG93ZWQgKHNlZSBDU1ApXG5cdGcgPSBnIHx8IG5ldyBGdW5jdGlvbihcInJldHVybiB0aGlzXCIpKCk7XG59IGNhdGNoIChlKSB7XG5cdC8vIFRoaXMgd29ya3MgaWYgdGhlIHdpbmRvdyByZWZlcmVuY2UgaXMgYXZhaWxhYmxlXG5cdGlmICh0eXBlb2Ygd2luZG93ID09PSBcIm9iamVjdFwiKSBnID0gd2luZG93O1xufVxuXG4vLyBnIGNhbiBzdGlsbCBiZSB1bmRlZmluZWQsIGJ1dCBub3RoaW5nIHRvIGRvIGFib3V0IGl0Li4uXG4vLyBXZSByZXR1cm4gdW5kZWZpbmVkLCBpbnN0ZWFkIG9mIG5vdGhpbmcgaGVyZSwgc28gaXQnc1xuLy8gZWFzaWVyIHRvIGhhbmRsZSB0aGlzIGNhc2UuIGlmKCFnbG9iYWwpIHsgLi4ufVxuXG5tb2R1bGUuZXhwb3J0cyA9IGc7XG4iXSwibWFwcGluZ3MiOiJBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7Iiwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./node_modules/webpack/buildin/global.js\n");

/***/ })

/******/ });